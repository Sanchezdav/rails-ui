"use strict";
(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __export = (target, all) => {
    for (var name in all)
      __defProp(target, name, { get: all[name], enumerable: true });
  };
  var __copyProps = (to, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to, key) && key !== except)
          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
    }
    return to;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    // If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));
  var __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);

  // node_modules/interactjs/dist/interact.min.js
  var require_interact_min = __commonJS({
    "node_modules/interactjs/dist/interact.min.js"(exports, module) {
      !function(t, e) {
        "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : false ? (void 0)(e) : (t = "undefined" != typeof globalThis ? globalThis : t || self).interact = e();
      }(exports, function() {
        "use strict";
        function t(t2, e2) {
          var n2 = Object.keys(t2);
          if (Object.getOwnPropertySymbols) {
            var r2 = Object.getOwnPropertySymbols(t2);
            e2 && (r2 = r2.filter(function(e3) {
              return Object.getOwnPropertyDescriptor(t2, e3).enumerable;
            })), n2.push.apply(n2, r2);
          }
          return n2;
        }
        function e(e2) {
          for (var n2 = 1; n2 < arguments.length; n2++) {
            var r2 = null != arguments[n2] ? arguments[n2] : {};
            n2 % 2 ? t(Object(r2), true).forEach(function(t2) {
              a(e2, t2, r2[t2]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e2, Object.getOwnPropertyDescriptors(r2)) : t(Object(r2)).forEach(function(t2) {
              Object.defineProperty(e2, t2, Object.getOwnPropertyDescriptor(r2, t2));
            });
          }
          return e2;
        }
        function n(t2) {
          return n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          }, n(t2);
        }
        function r(t2, e2) {
          if (!(t2 instanceof e2)) throw new TypeError("Cannot call a class as a function");
        }
        function i(t2, e2) {
          for (var n2 = 0; n2 < e2.length; n2++) {
            var r2 = e2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(t2, d(r2.key), r2);
          }
        }
        function o(t2, e2, n2) {
          return e2 && i(t2.prototype, e2), n2 && i(t2, n2), Object.defineProperty(t2, "prototype", { writable: false }), t2;
        }
        function a(t2, e2, n2) {
          return (e2 = d(e2)) in t2 ? Object.defineProperty(t2, e2, { value: n2, enumerable: true, configurable: true, writable: true }) : t2[e2] = n2, t2;
        }
        function s(t2, e2) {
          if ("function" != typeof e2 && null !== e2) throw new TypeError("Super expression must either be null or a function");
          t2.prototype = Object.create(e2 && e2.prototype, { constructor: { value: t2, writable: true, configurable: true } }), Object.defineProperty(t2, "prototype", { writable: false }), e2 && l(t2, e2);
        }
        function c(t2) {
          return c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          }, c(t2);
        }
        function l(t2, e2) {
          return l = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          }, l(t2, e2);
        }
        function u(t2) {
          if (void 0 === t2) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
          return t2;
        }
        function p(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = c(t2);
            if (e2) {
              var i2 = c(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return function(t3, e3) {
              if (e3 && ("object" == typeof e3 || "function" == typeof e3)) return e3;
              if (void 0 !== e3) throw new TypeError("Derived constructors may only return object or undefined");
              return u(t3);
            }(this, n2);
          };
        }
        function f() {
          return f = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function(t2, e2, n2) {
            var r2 = function(t3, e3) {
              for (; !Object.prototype.hasOwnProperty.call(t3, e3) && null !== (t3 = c(t3)); ) ;
              return t3;
            }(t2, e2);
            if (r2) {
              var i2 = Object.getOwnPropertyDescriptor(r2, e2);
              return i2.get ? i2.get.call(arguments.length < 3 ? t2 : n2) : i2.value;
            }
          }, f.apply(this, arguments);
        }
        function d(t2) {
          var e2 = function(t3, e3) {
            if ("object" != typeof t3 || null === t3) return t3;
            var n2 = t3[Symbol.toPrimitive];
            if (void 0 !== n2) {
              var r2 = n2.call(t3, e3 || "default");
              if ("object" != typeof r2) return r2;
              throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            return ("string" === e3 ? String : Number)(t3);
          }(t2, "string");
          return "symbol" == typeof e2 ? e2 : e2 + "";
        }
        var h = function(t2) {
          return !(!t2 || !t2.Window) && t2 instanceof t2.Window;
        }, v = void 0, g = void 0;
        function m(t2) {
          v = t2;
          var e2 = t2.document.createTextNode("");
          e2.ownerDocument !== t2.document && "function" == typeof t2.wrap && t2.wrap(e2) === e2 && (t2 = t2.wrap(t2)), g = t2;
        }
        function y(t2) {
          return h(t2) ? t2 : (t2.ownerDocument || t2).defaultView || g.window;
        }
        "undefined" != typeof window && window && m(window);
        var b = function(t2) {
          return !!t2 && "object" === n(t2);
        }, x = function(t2) {
          return "function" == typeof t2;
        }, w = { window: function(t2) {
          return t2 === g || h(t2);
        }, docFrag: function(t2) {
          return b(t2) && 11 === t2.nodeType;
        }, object: b, func: x, number: function(t2) {
          return "number" == typeof t2;
        }, bool: function(t2) {
          return "boolean" == typeof t2;
        }, string: function(t2) {
          return "string" == typeof t2;
        }, element: function(t2) {
          if (!t2 || "object" !== n(t2)) return false;
          var e2 = y(t2) || g;
          return /object|function/.test("undefined" == typeof Element ? "undefined" : n(Element)) ? t2 instanceof Element || t2 instanceof e2.Element : 1 === t2.nodeType && "string" == typeof t2.nodeName;
        }, plainObject: function(t2) {
          return b(t2) && !!t2.constructor && /function Object\b/.test(t2.constructor.toString());
        }, array: function(t2) {
          return b(t2) && void 0 !== t2.length && x(t2.splice);
        } };
        function E(t2) {
          var e2 = t2.interaction;
          if ("drag" === e2.prepared.name) {
            var n2 = e2.prepared.axis;
            "x" === n2 ? (e2.coords.cur.page.y = e2.coords.start.page.y, e2.coords.cur.client.y = e2.coords.start.client.y, e2.coords.velocity.client.y = 0, e2.coords.velocity.page.y = 0) : "y" === n2 && (e2.coords.cur.page.x = e2.coords.start.page.x, e2.coords.cur.client.x = e2.coords.start.client.x, e2.coords.velocity.client.x = 0, e2.coords.velocity.page.x = 0);
          }
        }
        function T(t2) {
          var e2 = t2.iEvent, n2 = t2.interaction;
          if ("drag" === n2.prepared.name) {
            var r2 = n2.prepared.axis;
            if ("x" === r2 || "y" === r2) {
              var i2 = "x" === r2 ? "y" : "x";
              e2.page[i2] = n2.coords.start.page[i2], e2.client[i2] = n2.coords.start.client[i2], e2.delta[i2] = 0;
            }
          }
        }
        var S = { id: "actions/drag", install: function(t2) {
          var e2 = t2.actions, n2 = t2.Interactable, r2 = t2.defaults;
          n2.prototype.draggable = S.draggable, e2.map.drag = S, e2.methodDict.drag = "draggable", r2.actions.drag = S.defaults;
        }, listeners: { "interactions:before-action-move": E, "interactions:action-resume": E, "interactions:action-move": T, "auto-start:check": function(t2) {
          var e2 = t2.interaction, n2 = t2.interactable, r2 = t2.buttons, i2 = n2.options.drag;
          if (i2 && i2.enabled && (!e2.pointerIsDown || !/mouse|pointer/.test(e2.pointerType) || 0 != (r2 & n2.options.drag.mouseButtons))) return t2.action = { name: "drag", axis: "start" === i2.lockAxis ? i2.startAxis : i2.lockAxis }, false;
        } }, draggable: function(t2) {
          return w.object(t2) ? (this.options.drag.enabled = false !== t2.enabled, this.setPerAction("drag", t2), this.setOnEvents("drag", t2), /^(xy|x|y|start)$/.test(t2.lockAxis) && (this.options.drag.lockAxis = t2.lockAxis), /^(xy|x|y)$/.test(t2.startAxis) && (this.options.drag.startAxis = t2.startAxis), this) : w.bool(t2) ? (this.options.drag.enabled = t2, this) : this.options.drag;
        }, beforeMove: E, move: T, defaults: { startAxis: "xy", lockAxis: "xy" }, getCursor: function() {
          return "move";
        }, filterEventType: function(t2) {
          return 0 === t2.search("drag");
        } }, _ = S, P = { init: function(t2) {
          var e2 = t2;
          P.document = e2.document, P.DocumentFragment = e2.DocumentFragment || O, P.SVGElement = e2.SVGElement || O, P.SVGSVGElement = e2.SVGSVGElement || O, P.SVGElementInstance = e2.SVGElementInstance || O, P.Element = e2.Element || O, P.HTMLElement = e2.HTMLElement || P.Element, P.Event = e2.Event, P.Touch = e2.Touch || O, P.PointerEvent = e2.PointerEvent || e2.MSPointerEvent;
        }, document: null, DocumentFragment: null, SVGElement: null, SVGSVGElement: null, SVGElementInstance: null, Element: null, HTMLElement: null, Event: null, Touch: null, PointerEvent: null };
        function O() {
        }
        var k = P;
        var D = { init: function(t2) {
          var e2 = k.Element, n2 = t2.navigator || {};
          D.supportsTouch = "ontouchstart" in t2 || w.func(t2.DocumentTouch) && k.document instanceof t2.DocumentTouch, D.supportsPointerEvent = false !== n2.pointerEnabled && !!k.PointerEvent, D.isIOS = /iP(hone|od|ad)/.test(n2.platform), D.isIOS7 = /iP(hone|od|ad)/.test(n2.platform) && /OS 7[^\d]/.test(n2.appVersion), D.isIe9 = /MSIE 9/.test(n2.userAgent), D.isOperaMobile = "Opera" === n2.appName && D.supportsTouch && /Presto/.test(n2.userAgent), D.prefixedMatchesSelector = "matches" in e2.prototype ? "matches" : "webkitMatchesSelector" in e2.prototype ? "webkitMatchesSelector" : "mozMatchesSelector" in e2.prototype ? "mozMatchesSelector" : "oMatchesSelector" in e2.prototype ? "oMatchesSelector" : "msMatchesSelector", D.pEventTypes = D.supportsPointerEvent ? k.PointerEvent === t2.MSPointerEvent ? { up: "MSPointerUp", down: "MSPointerDown", over: "mouseover", out: "mouseout", move: "MSPointerMove", cancel: "MSPointerCancel" } : { up: "pointerup", down: "pointerdown", over: "pointerover", out: "pointerout", move: "pointermove", cancel: "pointercancel" } : null, D.wheelEvent = k.document && "onmousewheel" in k.document ? "mousewheel" : "wheel";
        }, supportsTouch: null, supportsPointerEvent: null, isIOS7: null, isIOS: null, isIe9: null, isOperaMobile: null, prefixedMatchesSelector: null, pEventTypes: null, wheelEvent: null };
        var I = D;
        function M(t2, e2) {
          if (t2.contains) return t2.contains(e2);
          for (; e2; ) {
            if (e2 === t2) return true;
            e2 = e2.parentNode;
          }
          return false;
        }
        function z(t2, e2) {
          for (; w.element(t2); ) {
            if (R(t2, e2)) return t2;
            t2 = A(t2);
          }
          return null;
        }
        function A(t2) {
          var e2 = t2.parentNode;
          if (w.docFrag(e2)) {
            for (; (e2 = e2.host) && w.docFrag(e2); ) ;
            return e2;
          }
          return e2;
        }
        function R(t2, e2) {
          return g !== v && (e2 = e2.replace(/\/deep\//g, " ")), t2[I.prefixedMatchesSelector](e2);
        }
        var C = function(t2) {
          return t2.parentNode || t2.host;
        };
        function j(t2, e2) {
          for (var n2, r2 = [], i2 = t2; (n2 = C(i2)) && i2 !== e2 && n2 !== i2.ownerDocument; ) r2.unshift(i2), i2 = n2;
          return r2;
        }
        function F(t2, e2, n2) {
          for (; w.element(t2); ) {
            if (R(t2, e2)) return true;
            if ((t2 = A(t2)) === n2) return R(t2, e2);
          }
          return false;
        }
        function X(t2) {
          return t2.correspondingUseElement || t2;
        }
        function Y(t2) {
          var e2 = t2 instanceof k.SVGElement ? t2.getBoundingClientRect() : t2.getClientRects()[0];
          return e2 && { left: e2.left, right: e2.right, top: e2.top, bottom: e2.bottom, width: e2.width || e2.right - e2.left, height: e2.height || e2.bottom - e2.top };
        }
        function L(t2) {
          var e2, n2 = Y(t2);
          if (!I.isIOS7 && n2) {
            var r2 = { x: (e2 = (e2 = y(t2)) || g).scrollX || e2.document.documentElement.scrollLeft, y: e2.scrollY || e2.document.documentElement.scrollTop };
            n2.left += r2.x, n2.right += r2.x, n2.top += r2.y, n2.bottom += r2.y;
          }
          return n2;
        }
        function q(t2) {
          for (var e2 = []; t2; ) e2.push(t2), t2 = A(t2);
          return e2;
        }
        function B(t2) {
          return !!w.string(t2) && (k.document.querySelector(t2), true);
        }
        function V(t2, e2) {
          for (var n2 in e2) t2[n2] = e2[n2];
          return t2;
        }
        function W(t2, e2, n2) {
          return "parent" === t2 ? A(n2) : "self" === t2 ? e2.getRect(n2) : z(n2, t2);
        }
        function G(t2, e2, n2, r2) {
          var i2 = t2;
          return w.string(i2) ? i2 = W(i2, e2, n2) : w.func(i2) && (i2 = i2.apply(void 0, r2)), w.element(i2) && (i2 = L(i2)), i2;
        }
        function N(t2) {
          return t2 && { x: "x" in t2 ? t2.x : t2.left, y: "y" in t2 ? t2.y : t2.top };
        }
        function U(t2) {
          return !t2 || "x" in t2 && "y" in t2 || ((t2 = V({}, t2)).x = t2.left || 0, t2.y = t2.top || 0, t2.width = t2.width || (t2.right || 0) - t2.x, t2.height = t2.height || (t2.bottom || 0) - t2.y), t2;
        }
        function H(t2, e2, n2) {
          t2.left && (e2.left += n2.x), t2.right && (e2.right += n2.x), t2.top && (e2.top += n2.y), t2.bottom && (e2.bottom += n2.y), e2.width = e2.right - e2.left, e2.height = e2.bottom - e2.top;
        }
        function K(t2, e2, n2) {
          var r2 = n2 && t2.options[n2];
          return N(G(r2 && r2.origin || t2.options.origin, t2, e2, [t2 && e2])) || { x: 0, y: 0 };
        }
        function $(t2, e2) {
          var n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : function(t3) {
            return true;
          }, r2 = arguments.length > 3 ? arguments[3] : void 0;
          if (r2 = r2 || {}, w.string(t2) && -1 !== t2.search(" ") && (t2 = J(t2)), w.array(t2)) return t2.forEach(function(t3) {
            return $(t3, e2, n2, r2);
          }), r2;
          if (w.object(t2) && (e2 = t2, t2 = ""), w.func(e2) && n2(t2)) r2[t2] = r2[t2] || [], r2[t2].push(e2);
          else if (w.array(e2)) for (var i2 = 0, o2 = e2; i2 < o2.length; i2++) {
            var a2 = o2[i2];
            $(t2, a2, n2, r2);
          }
          else if (w.object(e2)) for (var s2 in e2) {
            $(J(s2).map(function(e3) {
              return "".concat(t2).concat(e3);
            }), e2[s2], n2, r2);
          }
          return r2;
        }
        function J(t2) {
          return t2.trim().split(/ +/);
        }
        var Q = function(t2, e2) {
          return Math.sqrt(t2 * t2 + e2 * e2);
        }, Z = ["webkit", "moz"];
        function tt(t2, e2) {
          t2.__set || (t2.__set = {});
          var n2 = function(n3) {
            if (Z.some(function(t3) {
              return 0 === n3.indexOf(t3);
            })) return 1;
            "function" != typeof t2[n3] && "__set" !== n3 && Object.defineProperty(t2, n3, { get: function() {
              return n3 in t2.__set ? t2.__set[n3] : t2.__set[n3] = e2[n3];
            }, set: function(e3) {
              t2.__set[n3] = e3;
            }, configurable: true });
          };
          for (var r2 in e2) n2(r2);
          return t2;
        }
        function et(t2, e2) {
          t2.page = t2.page || {}, t2.page.x = e2.page.x, t2.page.y = e2.page.y, t2.client = t2.client || {}, t2.client.x = e2.client.x, t2.client.y = e2.client.y, t2.timeStamp = e2.timeStamp;
        }
        function nt(t2) {
          t2.page.x = 0, t2.page.y = 0, t2.client.x = 0, t2.client.y = 0;
        }
        function rt(t2) {
          return t2 instanceof k.Event || t2 instanceof k.Touch;
        }
        function it(t2, e2, n2) {
          return t2 = t2 || "page", (n2 = n2 || {}).x = e2[t2 + "X"], n2.y = e2[t2 + "Y"], n2;
        }
        function ot(t2, e2) {
          return e2 = e2 || { x: 0, y: 0 }, I.isOperaMobile && rt(t2) ? (it("screen", t2, e2), e2.x += window.scrollX, e2.y += window.scrollY) : it("page", t2, e2), e2;
        }
        function at(t2) {
          return w.number(t2.pointerId) ? t2.pointerId : t2.identifier;
        }
        function st(t2, e2, n2) {
          var r2 = e2.length > 1 ? lt(e2) : e2[0];
          ot(r2, t2.page), function(t3, e3) {
            e3 = e3 || {}, I.isOperaMobile && rt(t3) ? it("screen", t3, e3) : it("client", t3, e3);
          }(r2, t2.client), t2.timeStamp = n2;
        }
        function ct(t2) {
          var e2 = [];
          return w.array(t2) ? (e2[0] = t2[0], e2[1] = t2[1]) : "touchend" === t2.type ? 1 === t2.touches.length ? (e2[0] = t2.touches[0], e2[1] = t2.changedTouches[0]) : 0 === t2.touches.length && (e2[0] = t2.changedTouches[0], e2[1] = t2.changedTouches[1]) : (e2[0] = t2.touches[0], e2[1] = t2.touches[1]), e2;
        }
        function lt(t2) {
          for (var e2 = { pageX: 0, pageY: 0, clientX: 0, clientY: 0, screenX: 0, screenY: 0 }, n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            for (var i2 in e2) e2[i2] += r2[i2];
          }
          for (var o2 in e2) e2[o2] /= t2.length;
          return e2;
        }
        function ut(t2) {
          if (!t2.length) return null;
          var e2 = ct(t2), n2 = Math.min(e2[0].pageX, e2[1].pageX), r2 = Math.min(e2[0].pageY, e2[1].pageY), i2 = Math.max(e2[0].pageX, e2[1].pageX), o2 = Math.max(e2[0].pageY, e2[1].pageY);
          return { x: n2, y: r2, left: n2, top: r2, right: i2, bottom: o2, width: i2 - n2, height: o2 - r2 };
        }
        function pt(t2, e2) {
          var n2 = e2 + "X", r2 = e2 + "Y", i2 = ct(t2), o2 = i2[0][n2] - i2[1][n2], a2 = i2[0][r2] - i2[1][r2];
          return Q(o2, a2);
        }
        function ft(t2, e2) {
          var n2 = e2 + "X", r2 = e2 + "Y", i2 = ct(t2), o2 = i2[1][n2] - i2[0][n2], a2 = i2[1][r2] - i2[0][r2];
          return 180 * Math.atan2(a2, o2) / Math.PI;
        }
        function dt(t2) {
          return w.string(t2.pointerType) ? t2.pointerType : w.number(t2.pointerType) ? [void 0, void 0, "touch", "pen", "mouse"][t2.pointerType] : /touch/.test(t2.type || "") || t2 instanceof k.Touch ? "touch" : "mouse";
        }
        function ht(t2) {
          var e2 = w.func(t2.composedPath) ? t2.composedPath() : t2.path;
          return [X(e2 ? e2[0] : t2.target), X(t2.currentTarget)];
        }
        var vt = function() {
          function t2(e2) {
            r(this, t2), this.immediatePropagationStopped = false, this.propagationStopped = false, this._interaction = e2;
          }
          return o(t2, [{ key: "preventDefault", value: function() {
          } }, { key: "stopPropagation", value: function() {
            this.propagationStopped = true;
          } }, { key: "stopImmediatePropagation", value: function() {
            this.immediatePropagationStopped = this.propagationStopped = true;
          } }]), t2;
        }();
        Object.defineProperty(vt.prototype, "interaction", { get: function() {
          return this._interaction._proxy;
        }, set: function() {
        } });
        var gt = function(t2, e2) {
          for (var n2 = 0; n2 < e2.length; n2++) {
            var r2 = e2[n2];
            t2.push(r2);
          }
          return t2;
        }, mt = function(t2) {
          return gt([], t2);
        }, yt = function(t2, e2) {
          for (var n2 = 0; n2 < t2.length; n2++) if (e2(t2[n2], n2, t2)) return n2;
          return -1;
        }, bt = function(t2, e2) {
          return t2[yt(t2, e2)];
        }, xt = function(t2) {
          s(n2, t2);
          var e2 = p(n2);
          function n2(t3, i2, o2) {
            var a2;
            r(this, n2), (a2 = e2.call(this, i2._interaction)).dropzone = void 0, a2.dragEvent = void 0, a2.relatedTarget = void 0, a2.draggable = void 0, a2.propagationStopped = false, a2.immediatePropagationStopped = false;
            var s2 = "dragleave" === o2 ? t3.prev : t3.cur, c2 = s2.element, l2 = s2.dropzone;
            return a2.type = o2, a2.target = c2, a2.currentTarget = c2, a2.dropzone = l2, a2.dragEvent = i2, a2.relatedTarget = i2.target, a2.draggable = i2.interactable, a2.timeStamp = i2.timeStamp, a2;
          }
          return o(n2, [{ key: "reject", value: function() {
            var t3 = this, e3 = this._interaction.dropState;
            if ("dropactivate" === this.type || this.dropzone && e3.cur.dropzone === this.dropzone && e3.cur.element === this.target) if (e3.prev.dropzone = this.dropzone, e3.prev.element = this.target, e3.rejected = true, e3.events.enter = null, this.stopImmediatePropagation(), "dropactivate" === this.type) {
              var r2 = e3.activeDrops, i2 = yt(r2, function(e4) {
                var n3 = e4.dropzone, r3 = e4.element;
                return n3 === t3.dropzone && r3 === t3.target;
              });
              e3.activeDrops.splice(i2, 1);
              var o2 = new n2(e3, this.dragEvent, "dropdeactivate");
              o2.dropzone = this.dropzone, o2.target = this.target, this.dropzone.fire(o2);
            } else this.dropzone.fire(new n2(e3, this.dragEvent, "dragleave"));
          } }, { key: "preventDefault", value: function() {
          } }, { key: "stopPropagation", value: function() {
            this.propagationStopped = true;
          } }, { key: "stopImmediatePropagation", value: function() {
            this.immediatePropagationStopped = this.propagationStopped = true;
          } }]), n2;
        }(vt);
        function wt(t2, e2) {
          for (var n2 = 0, r2 = t2.slice(); n2 < r2.length; n2++) {
            var i2 = r2[n2], o2 = i2.dropzone, a2 = i2.element;
            e2.dropzone = o2, e2.target = a2, o2.fire(e2), e2.propagationStopped = e2.immediatePropagationStopped = false;
          }
        }
        function Et(t2, e2) {
          for (var n2 = function(t3, e3) {
            for (var n3 = [], r3 = 0, i3 = t3.interactables.list; r3 < i3.length; r3++) {
              var o2 = i3[r3];
              if (o2.options.drop.enabled) {
                var a2 = o2.options.drop.accept;
                if (!(w.element(a2) && a2 !== e3 || w.string(a2) && !R(e3, a2) || w.func(a2) && !a2({ dropzone: o2, draggableElement: e3 }))) for (var s2 = 0, c2 = o2.getAllElements(); s2 < c2.length; s2++) {
                  var l2 = c2[s2];
                  l2 !== e3 && n3.push({ dropzone: o2, element: l2, rect: o2.getRect(l2) });
                }
              }
            }
            return n3;
          }(t2, e2), r2 = 0; r2 < n2.length; r2++) {
            var i2 = n2[r2];
            i2.rect = i2.dropzone.getRect(i2.element);
          }
          return n2;
        }
        function Tt(t2, e2, n2) {
          for (var r2 = t2.dropState, i2 = t2.interactable, o2 = t2.element, a2 = [], s2 = 0, c2 = r2.activeDrops; s2 < c2.length; s2++) {
            var l2 = c2[s2], u2 = l2.dropzone, p2 = l2.element, f2 = l2.rect, d2 = u2.dropCheck(e2, n2, i2, o2, p2, f2);
            a2.push(d2 ? p2 : null);
          }
          var h2 = function(t3) {
            for (var e3, n3, r3, i3 = [], o3 = 0; o3 < t3.length; o3++) {
              var a3 = t3[o3], s3 = t3[e3];
              if (a3 && o3 !== e3) if (s3) {
                var c3 = C(a3), l3 = C(s3);
                if (c3 !== a3.ownerDocument) if (l3 !== a3.ownerDocument) if (c3 !== l3) {
                  i3 = i3.length ? i3 : j(s3);
                  var u3 = void 0;
                  if (s3 instanceof k.HTMLElement && a3 instanceof k.SVGElement && !(a3 instanceof k.SVGSVGElement)) {
                    if (a3 === l3) continue;
                    u3 = a3.ownerSVGElement;
                  } else u3 = a3;
                  for (var p3 = j(u3, s3.ownerDocument), f3 = 0; p3[f3] && p3[f3] === i3[f3]; ) f3++;
                  var d3 = [p3[f3 - 1], p3[f3], i3[f3]];
                  if (d3[0]) for (var h3 = d3[0].lastChild; h3; ) {
                    if (h3 === d3[1]) {
                      e3 = o3, i3 = p3;
                      break;
                    }
                    if (h3 === d3[2]) break;
                    h3 = h3.previousSibling;
                  }
                } else r3 = s3, void 0, void 0, (parseInt(y(n3 = a3).getComputedStyle(n3).zIndex, 10) || 0) >= (parseInt(y(r3).getComputedStyle(r3).zIndex, 10) || 0) && (e3 = o3);
                else e3 = o3;
              } else e3 = o3;
            }
            return e3;
          }(a2);
          return r2.activeDrops[h2] || null;
        }
        function St(t2, e2, n2) {
          var r2 = t2.dropState, i2 = { enter: null, leave: null, activate: null, deactivate: null, move: null, drop: null };
          return "dragstart" === n2.type && (i2.activate = new xt(r2, n2, "dropactivate"), i2.activate.target = null, i2.activate.dropzone = null), "dragend" === n2.type && (i2.deactivate = new xt(r2, n2, "dropdeactivate"), i2.deactivate.target = null, i2.deactivate.dropzone = null), r2.rejected || (r2.cur.element !== r2.prev.element && (r2.prev.dropzone && (i2.leave = new xt(r2, n2, "dragleave"), n2.dragLeave = i2.leave.target = r2.prev.element, n2.prevDropzone = i2.leave.dropzone = r2.prev.dropzone), r2.cur.dropzone && (i2.enter = new xt(r2, n2, "dragenter"), n2.dragEnter = r2.cur.element, n2.dropzone = r2.cur.dropzone)), "dragend" === n2.type && r2.cur.dropzone && (i2.drop = new xt(r2, n2, "drop"), n2.dropzone = r2.cur.dropzone, n2.relatedTarget = r2.cur.element), "dragmove" === n2.type && r2.cur.dropzone && (i2.move = new xt(r2, n2, "dropmove"), n2.dropzone = r2.cur.dropzone)), i2;
        }
        function _t(t2, e2) {
          var n2 = t2.dropState, r2 = n2.activeDrops, i2 = n2.cur, o2 = n2.prev;
          e2.leave && o2.dropzone.fire(e2.leave), e2.enter && i2.dropzone.fire(e2.enter), e2.move && i2.dropzone.fire(e2.move), e2.drop && i2.dropzone.fire(e2.drop), e2.deactivate && wt(r2, e2.deactivate), n2.prev.dropzone = i2.dropzone, n2.prev.element = i2.element;
        }
        function Pt(t2, e2) {
          var n2 = t2.interaction, r2 = t2.iEvent, i2 = t2.event;
          if ("dragmove" === r2.type || "dragend" === r2.type) {
            var o2 = n2.dropState;
            e2.dynamicDrop && (o2.activeDrops = Et(e2, n2.element));
            var a2 = r2, s2 = Tt(n2, a2, i2);
            o2.rejected = o2.rejected && !!s2 && s2.dropzone === o2.cur.dropzone && s2.element === o2.cur.element, o2.cur.dropzone = s2 && s2.dropzone, o2.cur.element = s2 && s2.element, o2.events = St(n2, 0, a2);
          }
        }
        var Ot = { id: "actions/drop", install: function(t2) {
          var e2 = t2.actions, n2 = t2.interactStatic, r2 = t2.Interactable, i2 = t2.defaults;
          t2.usePlugin(_), r2.prototype.dropzone = function(t3) {
            return function(t4, e3) {
              if (w.object(e3)) {
                if (t4.options.drop.enabled = false !== e3.enabled, e3.listeners) {
                  var n3 = $(e3.listeners), r3 = Object.keys(n3).reduce(function(t5, e4) {
                    return t5[/^(enter|leave)/.test(e4) ? "drag".concat(e4) : /^(activate|deactivate|move)/.test(e4) ? "drop".concat(e4) : e4] = n3[e4], t5;
                  }, {}), i3 = t4.options.drop.listeners;
                  i3 && t4.off(i3), t4.on(r3), t4.options.drop.listeners = r3;
                }
                return w.func(e3.ondrop) && t4.on("drop", e3.ondrop), w.func(e3.ondropactivate) && t4.on("dropactivate", e3.ondropactivate), w.func(e3.ondropdeactivate) && t4.on("dropdeactivate", e3.ondropdeactivate), w.func(e3.ondragenter) && t4.on("dragenter", e3.ondragenter), w.func(e3.ondragleave) && t4.on("dragleave", e3.ondragleave), w.func(e3.ondropmove) && t4.on("dropmove", e3.ondropmove), /^(pointer|center)$/.test(e3.overlap) ? t4.options.drop.overlap = e3.overlap : w.number(e3.overlap) && (t4.options.drop.overlap = Math.max(Math.min(1, e3.overlap), 0)), "accept" in e3 && (t4.options.drop.accept = e3.accept), "checker" in e3 && (t4.options.drop.checker = e3.checker), t4;
              }
              if (w.bool(e3)) return t4.options.drop.enabled = e3, t4;
              return t4.options.drop;
            }(this, t3);
          }, r2.prototype.dropCheck = function(t3, e3, n3, r3, i3, o2) {
            return function(t4, e4, n4, r4, i4, o3, a2) {
              var s2 = false;
              if (!(a2 = a2 || t4.getRect(o3))) return !!t4.options.drop.checker && t4.options.drop.checker(e4, n4, s2, t4, o3, r4, i4);
              var c2 = t4.options.drop.overlap;
              if ("pointer" === c2) {
                var l2 = K(r4, i4, "drag"), u2 = ot(e4);
                u2.x += l2.x, u2.y += l2.y;
                var p2 = u2.x > a2.left && u2.x < a2.right, f2 = u2.y > a2.top && u2.y < a2.bottom;
                s2 = p2 && f2;
              }
              var d2 = r4.getRect(i4);
              if (d2 && "center" === c2) {
                var h2 = d2.left + d2.width / 2, v2 = d2.top + d2.height / 2;
                s2 = h2 >= a2.left && h2 <= a2.right && v2 >= a2.top && v2 <= a2.bottom;
              }
              if (d2 && w.number(c2)) {
                s2 = Math.max(0, Math.min(a2.right, d2.right) - Math.max(a2.left, d2.left)) * Math.max(0, Math.min(a2.bottom, d2.bottom) - Math.max(a2.top, d2.top)) / (d2.width * d2.height) >= c2;
              }
              t4.options.drop.checker && (s2 = t4.options.drop.checker(e4, n4, s2, t4, o3, r4, i4));
              return s2;
            }(this, t3, e3, n3, r3, i3, o2);
          }, n2.dynamicDrop = function(e3) {
            return w.bool(e3) ? (t2.dynamicDrop = e3, n2) : t2.dynamicDrop;
          }, V(e2.phaselessTypes, { dragenter: true, dragleave: true, dropactivate: true, dropdeactivate: true, dropmove: true, drop: true }), e2.methodDict.drop = "dropzone", t2.dynamicDrop = false, i2.actions.drop = Ot.defaults;
        }, listeners: { "interactions:before-action-start": function(t2) {
          var e2 = t2.interaction;
          "drag" === e2.prepared.name && (e2.dropState = { cur: { dropzone: null, element: null }, prev: { dropzone: null, element: null }, rejected: null, events: null, activeDrops: [] });
        }, "interactions:after-action-start": function(t2, e2) {
          var n2 = t2.interaction, r2 = (t2.event, t2.iEvent);
          if ("drag" === n2.prepared.name) {
            var i2 = n2.dropState;
            i2.activeDrops = [], i2.events = {}, i2.activeDrops = Et(e2, n2.element), i2.events = St(n2, 0, r2), i2.events.activate && (wt(i2.activeDrops, i2.events.activate), e2.fire("actions/drop:start", { interaction: n2, dragEvent: r2 }));
          }
        }, "interactions:action-move": Pt, "interactions:after-action-move": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.iEvent;
          if ("drag" === n2.prepared.name) {
            var i2 = n2.dropState;
            _t(n2, i2.events), e2.fire("actions/drop:move", { interaction: n2, dragEvent: r2 }), i2.events = {};
          }
        }, "interactions:action-end": function(t2, e2) {
          if ("drag" === t2.interaction.prepared.name) {
            var n2 = t2.interaction, r2 = t2.iEvent;
            Pt(t2, e2), _t(n2, n2.dropState.events), e2.fire("actions/drop:end", { interaction: n2, dragEvent: r2 });
          }
        }, "interactions:stop": function(t2) {
          var e2 = t2.interaction;
          if ("drag" === e2.prepared.name) {
            var n2 = e2.dropState;
            n2 && (n2.activeDrops = null, n2.events = null, n2.cur.dropzone = null, n2.cur.element = null, n2.prev.dropzone = null, n2.prev.element = null, n2.rejected = false);
          }
        } }, getActiveDrops: Et, getDrop: Tt, getDropEvents: St, fireDropEvents: _t, filterEventType: function(t2) {
          return 0 === t2.search("drag") || 0 === t2.search("drop");
        }, defaults: { enabled: false, accept: null, overlap: "pointer" } }, kt = Ot;
        function Dt(t2) {
          var e2 = t2.interaction, n2 = t2.iEvent, r2 = t2.phase;
          if ("gesture" === e2.prepared.name) {
            var i2 = e2.pointers.map(function(t3) {
              return t3.pointer;
            }), o2 = "start" === r2, a2 = "end" === r2, s2 = e2.interactable.options.deltaSource;
            if (n2.touches = [i2[0], i2[1]], o2) n2.distance = pt(i2, s2), n2.box = ut(i2), n2.scale = 1, n2.ds = 0, n2.angle = ft(i2, s2), n2.da = 0, e2.gesture.startDistance = n2.distance, e2.gesture.startAngle = n2.angle;
            else if (a2 || e2.pointers.length < 2) {
              var c2 = e2.prevEvent;
              n2.distance = c2.distance, n2.box = c2.box, n2.scale = c2.scale, n2.ds = 0, n2.angle = c2.angle, n2.da = 0;
            } else n2.distance = pt(i2, s2), n2.box = ut(i2), n2.scale = n2.distance / e2.gesture.startDistance, n2.angle = ft(i2, s2), n2.ds = n2.scale - e2.gesture.scale, n2.da = n2.angle - e2.gesture.angle;
            e2.gesture.distance = n2.distance, e2.gesture.angle = n2.angle, w.number(n2.scale) && n2.scale !== 1 / 0 && !isNaN(n2.scale) && (e2.gesture.scale = n2.scale);
          }
        }
        var It = { id: "actions/gesture", before: ["actions/drag", "actions/resize"], install: function(t2) {
          var e2 = t2.actions, n2 = t2.Interactable, r2 = t2.defaults;
          n2.prototype.gesturable = function(t3) {
            return w.object(t3) ? (this.options.gesture.enabled = false !== t3.enabled, this.setPerAction("gesture", t3), this.setOnEvents("gesture", t3), this) : w.bool(t3) ? (this.options.gesture.enabled = t3, this) : this.options.gesture;
          }, e2.map.gesture = It, e2.methodDict.gesture = "gesturable", r2.actions.gesture = It.defaults;
        }, listeners: { "interactions:action-start": Dt, "interactions:action-move": Dt, "interactions:action-end": Dt, "interactions:new": function(t2) {
          t2.interaction.gesture = { angle: 0, distance: 0, scale: 1, startAngle: 0, startDistance: 0 };
        }, "auto-start:check": function(t2) {
          if (!(t2.interaction.pointers.length < 2)) {
            var e2 = t2.interactable.options.gesture;
            if (e2 && e2.enabled) return t2.action = { name: "gesture" }, false;
          }
        } }, defaults: {}, getCursor: function() {
          return "";
        }, filterEventType: function(t2) {
          return 0 === t2.search("gesture");
        } }, Mt = It;
        function zt(t2, e2, n2, r2, i2, o2, a2) {
          if (!e2) return false;
          if (true === e2) {
            var s2 = w.number(o2.width) ? o2.width : o2.right - o2.left, c2 = w.number(o2.height) ? o2.height : o2.bottom - o2.top;
            if (a2 = Math.min(a2, Math.abs(("left" === t2 || "right" === t2 ? s2 : c2) / 2)), s2 < 0 && ("left" === t2 ? t2 = "right" : "right" === t2 && (t2 = "left")), c2 < 0 && ("top" === t2 ? t2 = "bottom" : "bottom" === t2 && (t2 = "top")), "left" === t2) {
              var l2 = s2 >= 0 ? o2.left : o2.right;
              return n2.x < l2 + a2;
            }
            if ("top" === t2) {
              var u2 = c2 >= 0 ? o2.top : o2.bottom;
              return n2.y < u2 + a2;
            }
            if ("right" === t2) return n2.x > (s2 >= 0 ? o2.right : o2.left) - a2;
            if ("bottom" === t2) return n2.y > (c2 >= 0 ? o2.bottom : o2.top) - a2;
          }
          return !!w.element(r2) && (w.element(e2) ? e2 === r2 : F(r2, e2, i2));
        }
        function At(t2) {
          var e2 = t2.iEvent, n2 = t2.interaction;
          if ("resize" === n2.prepared.name && n2.resizeAxes) {
            var r2 = e2;
            n2.interactable.options.resize.square ? ("y" === n2.resizeAxes ? r2.delta.x = r2.delta.y : r2.delta.y = r2.delta.x, r2.axes = "xy") : (r2.axes = n2.resizeAxes, "x" === n2.resizeAxes ? r2.delta.y = 0 : "y" === n2.resizeAxes && (r2.delta.x = 0));
          }
        }
        var Rt, Ct, jt = { id: "actions/resize", before: ["actions/drag"], install: function(t2) {
          var e2 = t2.actions, n2 = t2.browser, r2 = t2.Interactable, i2 = t2.defaults;
          jt.cursors = function(t3) {
            return t3.isIe9 ? { x: "e-resize", y: "s-resize", xy: "se-resize", top: "n-resize", left: "w-resize", bottom: "s-resize", right: "e-resize", topleft: "se-resize", bottomright: "se-resize", topright: "ne-resize", bottomleft: "ne-resize" } : { x: "ew-resize", y: "ns-resize", xy: "nwse-resize", top: "ns-resize", left: "ew-resize", bottom: "ns-resize", right: "ew-resize", topleft: "nwse-resize", bottomright: "nwse-resize", topright: "nesw-resize", bottomleft: "nesw-resize" };
          }(n2), jt.defaultMargin = n2.supportsTouch || n2.supportsPointerEvent ? 20 : 10, r2.prototype.resizable = function(e3) {
            return function(t3, e4, n3) {
              if (w.object(e4)) return t3.options.resize.enabled = false !== e4.enabled, t3.setPerAction("resize", e4), t3.setOnEvents("resize", e4), w.string(e4.axis) && /^x$|^y$|^xy$/.test(e4.axis) ? t3.options.resize.axis = e4.axis : null === e4.axis && (t3.options.resize.axis = n3.defaults.actions.resize.axis), w.bool(e4.preserveAspectRatio) ? t3.options.resize.preserveAspectRatio = e4.preserveAspectRatio : w.bool(e4.square) && (t3.options.resize.square = e4.square), t3;
              if (w.bool(e4)) return t3.options.resize.enabled = e4, t3;
              return t3.options.resize;
            }(this, e3, t2);
          }, e2.map.resize = jt, e2.methodDict.resize = "resizable", i2.actions.resize = jt.defaults;
        }, listeners: { "interactions:new": function(t2) {
          t2.interaction.resizeAxes = "xy";
        }, "interactions:action-start": function(t2) {
          !function(t3) {
            var e2 = t3.iEvent, n2 = t3.interaction;
            if ("resize" === n2.prepared.name && n2.prepared.edges) {
              var r2 = e2, i2 = n2.rect;
              n2._rects = { start: V({}, i2), corrected: V({}, i2), previous: V({}, i2), delta: { left: 0, right: 0, width: 0, top: 0, bottom: 0, height: 0 } }, r2.edges = n2.prepared.edges, r2.rect = n2._rects.corrected, r2.deltaRect = n2._rects.delta;
            }
          }(t2), At(t2);
        }, "interactions:action-move": function(t2) {
          !function(t3) {
            var e2 = t3.iEvent, n2 = t3.interaction;
            if ("resize" === n2.prepared.name && n2.prepared.edges) {
              var r2 = e2, i2 = n2.interactable.options.resize.invert, o2 = "reposition" === i2 || "negate" === i2, a2 = n2.rect, s2 = n2._rects, c2 = s2.start, l2 = s2.corrected, u2 = s2.delta, p2 = s2.previous;
              if (V(p2, l2), o2) {
                if (V(l2, a2), "reposition" === i2) {
                  if (l2.top > l2.bottom) {
                    var f2 = l2.top;
                    l2.top = l2.bottom, l2.bottom = f2;
                  }
                  if (l2.left > l2.right) {
                    var d2 = l2.left;
                    l2.left = l2.right, l2.right = d2;
                  }
                }
              } else l2.top = Math.min(a2.top, c2.bottom), l2.bottom = Math.max(a2.bottom, c2.top), l2.left = Math.min(a2.left, c2.right), l2.right = Math.max(a2.right, c2.left);
              for (var h2 in l2.width = l2.right - l2.left, l2.height = l2.bottom - l2.top, l2) u2[h2] = l2[h2] - p2[h2];
              r2.edges = n2.prepared.edges, r2.rect = l2, r2.deltaRect = u2;
            }
          }(t2), At(t2);
        }, "interactions:action-end": function(t2) {
          var e2 = t2.iEvent, n2 = t2.interaction;
          if ("resize" === n2.prepared.name && n2.prepared.edges) {
            var r2 = e2;
            r2.edges = n2.prepared.edges, r2.rect = n2._rects.corrected, r2.deltaRect = n2._rects.delta;
          }
        }, "auto-start:check": function(t2) {
          var e2 = t2.interaction, n2 = t2.interactable, r2 = t2.element, i2 = t2.rect, o2 = t2.buttons;
          if (i2) {
            var a2 = V({}, e2.coords.cur.page), s2 = n2.options.resize;
            if (s2 && s2.enabled && (!e2.pointerIsDown || !/mouse|pointer/.test(e2.pointerType) || 0 != (o2 & s2.mouseButtons))) {
              if (w.object(s2.edges)) {
                var c2 = { left: false, right: false, top: false, bottom: false };
                for (var l2 in c2) c2[l2] = zt(l2, s2.edges[l2], a2, e2._latestPointer.eventTarget, r2, i2, s2.margin || jt.defaultMargin);
                c2.left = c2.left && !c2.right, c2.top = c2.top && !c2.bottom, (c2.left || c2.right || c2.top || c2.bottom) && (t2.action = { name: "resize", edges: c2 });
              } else {
                var u2 = "y" !== s2.axis && a2.x > i2.right - jt.defaultMargin, p2 = "x" !== s2.axis && a2.y > i2.bottom - jt.defaultMargin;
                (u2 || p2) && (t2.action = { name: "resize", axes: (u2 ? "x" : "") + (p2 ? "y" : "") });
              }
              return !t2.action && void 0;
            }
          }
        } }, defaults: { square: false, preserveAspectRatio: false, axis: "xy", margin: NaN, edges: null, invert: "none" }, cursors: null, getCursor: function(t2) {
          var e2 = t2.edges, n2 = t2.axis, r2 = t2.name, i2 = jt.cursors, o2 = null;
          if (n2) o2 = i2[r2 + n2];
          else if (e2) {
            for (var a2 = "", s2 = 0, c2 = ["top", "bottom", "left", "right"]; s2 < c2.length; s2++) {
              var l2 = c2[s2];
              e2[l2] && (a2 += l2);
            }
            o2 = i2[a2];
          }
          return o2;
        }, filterEventType: function(t2) {
          return 0 === t2.search("resize");
        }, defaultMargin: null }, Ft = jt, Xt = { id: "actions", install: function(t2) {
          t2.usePlugin(Mt), t2.usePlugin(Ft), t2.usePlugin(_), t2.usePlugin(kt);
        } }, Yt = 0;
        var Lt = { request: function(t2) {
          return Rt(t2);
        }, cancel: function(t2) {
          return Ct(t2);
        }, init: function(t2) {
          if (Rt = t2.requestAnimationFrame, Ct = t2.cancelAnimationFrame, !Rt) for (var e2 = ["ms", "moz", "webkit", "o"], n2 = 0; n2 < e2.length; n2++) {
            var r2 = e2[n2];
            Rt = t2["".concat(r2, "RequestAnimationFrame")], Ct = t2["".concat(r2, "CancelAnimationFrame")] || t2["".concat(r2, "CancelRequestAnimationFrame")];
          }
          Rt = Rt && Rt.bind(t2), Ct = Ct && Ct.bind(t2), Rt || (Rt = function(e3) {
            var n3 = Date.now(), r3 = Math.max(0, 16 - (n3 - Yt)), i2 = t2.setTimeout(function() {
              e3(n3 + r3);
            }, r3);
            return Yt = n3 + r3, i2;
          }, Ct = function(t3) {
            return clearTimeout(t3);
          });
        } };
        var qt = { defaults: { enabled: false, margin: 60, container: null, speed: 300 }, now: Date.now, interaction: null, i: 0, x: 0, y: 0, isScrolling: false, prevTime: 0, margin: 0, speed: 0, start: function(t2) {
          qt.isScrolling = true, Lt.cancel(qt.i), t2.autoScroll = qt, qt.interaction = t2, qt.prevTime = qt.now(), qt.i = Lt.request(qt.scroll);
        }, stop: function() {
          qt.isScrolling = false, qt.interaction && (qt.interaction.autoScroll = null), Lt.cancel(qt.i);
        }, scroll: function() {
          var t2 = qt.interaction, e2 = t2.interactable, n2 = t2.element, r2 = t2.prepared.name, i2 = e2.options[r2].autoScroll, o2 = Bt(i2.container, e2, n2), a2 = qt.now(), s2 = (a2 - qt.prevTime) / 1e3, c2 = i2.speed * s2;
          if (c2 >= 1) {
            var l2 = { x: qt.x * c2, y: qt.y * c2 };
            if (l2.x || l2.y) {
              var u2 = Vt(o2);
              w.window(o2) ? o2.scrollBy(l2.x, l2.y) : o2 && (o2.scrollLeft += l2.x, o2.scrollTop += l2.y);
              var p2 = Vt(o2), f2 = { x: p2.x - u2.x, y: p2.y - u2.y };
              (f2.x || f2.y) && e2.fire({ type: "autoscroll", target: n2, interactable: e2, delta: f2, interaction: t2, container: o2 });
            }
            qt.prevTime = a2;
          }
          qt.isScrolling && (Lt.cancel(qt.i), qt.i = Lt.request(qt.scroll));
        }, check: function(t2, e2) {
          var n2;
          return null == (n2 = t2.options[e2].autoScroll) ? void 0 : n2.enabled;
        }, onInteractionMove: function(t2) {
          var e2 = t2.interaction, n2 = t2.pointer;
          if (e2.interacting() && qt.check(e2.interactable, e2.prepared.name)) if (e2.simulation) qt.x = qt.y = 0;
          else {
            var r2, i2, o2, a2, s2 = e2.interactable, c2 = e2.element, l2 = e2.prepared.name, u2 = s2.options[l2].autoScroll, p2 = Bt(u2.container, s2, c2);
            if (w.window(p2)) a2 = n2.clientX < qt.margin, r2 = n2.clientY < qt.margin, i2 = n2.clientX > p2.innerWidth - qt.margin, o2 = n2.clientY > p2.innerHeight - qt.margin;
            else {
              var f2 = Y(p2);
              a2 = n2.clientX < f2.left + qt.margin, r2 = n2.clientY < f2.top + qt.margin, i2 = n2.clientX > f2.right - qt.margin, o2 = n2.clientY > f2.bottom - qt.margin;
            }
            qt.x = i2 ? 1 : a2 ? -1 : 0, qt.y = o2 ? 1 : r2 ? -1 : 0, qt.isScrolling || (qt.margin = u2.margin, qt.speed = u2.speed, qt.start(e2));
          }
        } };
        function Bt(t2, e2, n2) {
          return (w.string(t2) ? W(t2, e2, n2) : t2) || y(n2);
        }
        function Vt(t2) {
          return w.window(t2) && (t2 = window.document.body), { x: t2.scrollLeft, y: t2.scrollTop };
        }
        var Wt = { id: "auto-scroll", install: function(t2) {
          var e2 = t2.defaults, n2 = t2.actions;
          t2.autoScroll = qt, qt.now = function() {
            return t2.now();
          }, n2.phaselessTypes.autoscroll = true, e2.perAction.autoScroll = qt.defaults;
        }, listeners: { "interactions:new": function(t2) {
          t2.interaction.autoScroll = null;
        }, "interactions:destroy": function(t2) {
          t2.interaction.autoScroll = null, qt.stop(), qt.interaction && (qt.interaction = null);
        }, "interactions:stop": qt.stop, "interactions:action-move": function(t2) {
          return qt.onInteractionMove(t2);
        } } }, Gt = Wt;
        function Nt(t2, e2) {
          var n2 = false;
          return function() {
            return n2 || (g.console.warn(e2), n2 = true), t2.apply(this, arguments);
          };
        }
        function Ut(t2, e2) {
          return t2.name = e2.name, t2.axis = e2.axis, t2.edges = e2.edges, t2;
        }
        function Ht(t2) {
          return w.bool(t2) ? (this.options.styleCursor = t2, this) : null === t2 ? (delete this.options.styleCursor, this) : this.options.styleCursor;
        }
        function Kt(t2) {
          return w.func(t2) ? (this.options.actionChecker = t2, this) : null === t2 ? (delete this.options.actionChecker, this) : this.options.actionChecker;
        }
        var $t = { id: "auto-start/interactableMethods", install: function(t2) {
          var e2 = t2.Interactable;
          e2.prototype.getAction = function(e3, n2, r2, i2) {
            var o2 = function(t3, e4, n3, r3, i3) {
              var o3 = t3.getRect(r3), a2 = e4.buttons || { 0: 1, 1: 4, 3: 8, 4: 16 }[e4.button], s2 = { action: null, interactable: t3, interaction: n3, element: r3, rect: o3, buttons: a2 };
              return i3.fire("auto-start:check", s2), s2.action;
            }(this, n2, r2, i2, t2);
            return this.options.actionChecker ? this.options.actionChecker(e3, n2, o2, this, i2, r2) : o2;
          }, e2.prototype.ignoreFrom = Nt(function(t3) {
            return this._backCompatOption("ignoreFrom", t3);
          }, "Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."), e2.prototype.allowFrom = Nt(function(t3) {
            return this._backCompatOption("allowFrom", t3);
          }, "Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."), e2.prototype.actionChecker = Kt, e2.prototype.styleCursor = Ht;
        } };
        function Jt(t2, e2, n2, r2, i2) {
          return e2.testIgnoreAllow(e2.options[t2.name], n2, r2) && e2.options[t2.name].enabled && ee(e2, n2, t2, i2) ? t2 : null;
        }
        function Qt(t2, e2, n2, r2, i2, o2, a2) {
          for (var s2 = 0, c2 = r2.length; s2 < c2; s2++) {
            var l2 = r2[s2], u2 = i2[s2], p2 = l2.getAction(e2, n2, t2, u2);
            if (p2) {
              var f2 = Jt(p2, l2, u2, o2, a2);
              if (f2) return { action: f2, interactable: l2, element: u2 };
            }
          }
          return { action: null, interactable: null, element: null };
        }
        function Zt(t2, e2, n2, r2, i2) {
          var o2 = [], a2 = [], s2 = r2;
          function c2(t3) {
            o2.push(t3), a2.push(s2);
          }
          for (; w.element(s2); ) {
            o2 = [], a2 = [], i2.interactables.forEachMatch(s2, c2);
            var l2 = Qt(t2, e2, n2, o2, a2, r2, i2);
            if (l2.action && !l2.interactable.options[l2.action.name].manualStart) return l2;
            s2 = A(s2);
          }
          return { action: null, interactable: null, element: null };
        }
        function te(t2, e2, n2) {
          var r2 = e2.action, i2 = e2.interactable, o2 = e2.element;
          r2 = r2 || { name: null }, t2.interactable = i2, t2.element = o2, Ut(t2.prepared, r2), t2.rect = i2 && r2.name ? i2.getRect(o2) : null, ie(t2, n2), n2.fire("autoStart:prepared", { interaction: t2 });
        }
        function ee(t2, e2, n2, r2) {
          var i2 = t2.options, o2 = i2[n2.name].max, a2 = i2[n2.name].maxPerElement, s2 = r2.autoStart.maxInteractions, c2 = 0, l2 = 0, u2 = 0;
          if (!(o2 && a2 && s2)) return false;
          for (var p2 = 0, f2 = r2.interactions.list; p2 < f2.length; p2++) {
            var d2 = f2[p2], h2 = d2.prepared.name;
            if (d2.interacting()) {
              if (++c2 >= s2) return false;
              if (d2.interactable === t2) {
                if ((l2 += h2 === n2.name ? 1 : 0) >= o2) return false;
                if (d2.element === e2 && (u2++, h2 === n2.name && u2 >= a2)) return false;
              }
            }
          }
          return s2 > 0;
        }
        function ne(t2, e2) {
          return w.number(t2) ? (e2.autoStart.maxInteractions = t2, this) : e2.autoStart.maxInteractions;
        }
        function re(t2, e2, n2) {
          var r2 = n2.autoStart.cursorElement;
          r2 && r2 !== t2 && (r2.style.cursor = ""), t2.ownerDocument.documentElement.style.cursor = e2, t2.style.cursor = e2, n2.autoStart.cursorElement = e2 ? t2 : null;
        }
        function ie(t2, e2) {
          var n2 = t2.interactable, r2 = t2.element, i2 = t2.prepared;
          if ("mouse" === t2.pointerType && n2 && n2.options.styleCursor) {
            var o2 = "";
            if (i2.name) {
              var a2 = n2.options[i2.name].cursorChecker;
              o2 = w.func(a2) ? a2(i2, n2, r2, t2._interacting) : e2.actions.map[i2.name].getCursor(i2);
            }
            re(t2.element, o2 || "", e2);
          } else e2.autoStart.cursorElement && re(e2.autoStart.cursorElement, "", e2);
        }
        var oe = { id: "auto-start/base", before: ["actions"], install: function(t2) {
          var e2 = t2.interactStatic, n2 = t2.defaults;
          t2.usePlugin($t), n2.base.actionChecker = null, n2.base.styleCursor = true, V(n2.perAction, { manualStart: false, max: 1 / 0, maxPerElement: 1, allowFrom: null, ignoreFrom: null, mouseButtons: 1 }), e2.maxInteractions = function(e3) {
            return ne(e3, t2);
          }, t2.autoStart = { maxInteractions: 1 / 0, withinInteractionLimit: ee, cursorElement: null };
        }, listeners: { "interactions:down": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointer, i2 = t2.event, o2 = t2.eventTarget;
          n2.interacting() || te(n2, Zt(n2, r2, i2, o2, e2), e2);
        }, "interactions:move": function(t2, e2) {
          !function(t3, e3) {
            var n2 = t3.interaction, r2 = t3.pointer, i2 = t3.event, o2 = t3.eventTarget;
            "mouse" !== n2.pointerType || n2.pointerIsDown || n2.interacting() || te(n2, Zt(n2, r2, i2, o2, e3), e3);
          }(t2, e2), function(t3, e3) {
            var n2 = t3.interaction;
            if (n2.pointerIsDown && !n2.interacting() && n2.pointerWasMoved && n2.prepared.name) {
              e3.fire("autoStart:before-start", t3);
              var r2 = n2.interactable, i2 = n2.prepared.name;
              i2 && r2 && (r2.options[i2].manualStart || !ee(r2, n2.element, n2.prepared, e3) ? n2.stop() : (n2.start(n2.prepared, r2, n2.element), ie(n2, e3)));
            }
          }(t2, e2);
        }, "interactions:stop": function(t2, e2) {
          var n2 = t2.interaction, r2 = n2.interactable;
          r2 && r2.options.styleCursor && re(n2.element, "", e2);
        } }, maxInteractions: ne, withinInteractionLimit: ee, validateAction: Jt }, ae = oe;
        var se = { id: "auto-start/dragAxis", listeners: { "autoStart:before-start": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.eventTarget, i2 = t2.dx, o2 = t2.dy;
          if ("drag" === n2.prepared.name) {
            var a2 = Math.abs(i2), s2 = Math.abs(o2), c2 = n2.interactable.options.drag, l2 = c2.startAxis, u2 = a2 > s2 ? "x" : a2 < s2 ? "y" : "xy";
            if (n2.prepared.axis = "start" === c2.lockAxis ? u2[0] : c2.lockAxis, "xy" !== u2 && "xy" !== l2 && l2 !== u2) {
              n2.prepared.name = null;
              for (var p2 = r2, f2 = function(t3) {
                if (t3 !== n2.interactable) {
                  var i3 = n2.interactable.options.drag;
                  if (!i3.manualStart && t3.testIgnoreAllow(i3, p2, r2)) {
                    var o3 = t3.getAction(n2.downPointer, n2.downEvent, n2, p2);
                    if (o3 && "drag" === o3.name && function(t4, e3) {
                      if (!e3) return false;
                      var n3 = e3.options.drag.startAxis;
                      return "xy" === t4 || "xy" === n3 || n3 === t4;
                    }(u2, t3) && ae.validateAction(o3, t3, p2, r2, e2)) return t3;
                  }
                }
              }; w.element(p2); ) {
                var d2 = e2.interactables.forEachMatch(p2, f2);
                if (d2) {
                  n2.prepared.name = "drag", n2.interactable = d2, n2.element = p2;
                  break;
                }
                p2 = A(p2);
              }
            }
          }
        } } };
        function ce(t2) {
          var e2 = t2.prepared && t2.prepared.name;
          if (!e2) return null;
          var n2 = t2.interactable.options;
          return n2[e2].hold || n2[e2].delay;
        }
        var le = { id: "auto-start/hold", install: function(t2) {
          var e2 = t2.defaults;
          t2.usePlugin(ae), e2.perAction.hold = 0, e2.perAction.delay = 0;
        }, listeners: { "interactions:new": function(t2) {
          t2.interaction.autoStartHoldTimer = null;
        }, "autoStart:prepared": function(t2) {
          var e2 = t2.interaction, n2 = ce(e2);
          n2 > 0 && (e2.autoStartHoldTimer = setTimeout(function() {
            e2.start(e2.prepared, e2.interactable, e2.element);
          }, n2));
        }, "interactions:move": function(t2) {
          var e2 = t2.interaction, n2 = t2.duplicate;
          e2.autoStartHoldTimer && e2.pointerWasMoved && !n2 && (clearTimeout(e2.autoStartHoldTimer), e2.autoStartHoldTimer = null);
        }, "autoStart:before-start": function(t2) {
          var e2 = t2.interaction;
          ce(e2) > 0 && (e2.prepared.name = null);
        } }, getHoldDuration: ce }, ue = le, pe = { id: "auto-start", install: function(t2) {
          t2.usePlugin(ae), t2.usePlugin(ue), t2.usePlugin(se);
        } }, fe = function(t2) {
          return /^(always|never|auto)$/.test(t2) ? (this.options.preventDefault = t2, this) : w.bool(t2) ? (this.options.preventDefault = t2 ? "always" : "never", this) : this.options.preventDefault;
        };
        function de(t2) {
          var e2 = t2.interaction, n2 = t2.event;
          e2.interactable && e2.interactable.checkAndPreventDefault(n2);
        }
        var he = { id: "core/interactablePreventDefault", install: function(t2) {
          var e2 = t2.Interactable;
          e2.prototype.preventDefault = fe, e2.prototype.checkAndPreventDefault = function(e3) {
            return function(t3, e4, n2) {
              var r2 = t3.options.preventDefault;
              if ("never" !== r2) if ("always" !== r2) {
                if (e4.events.supportsPassive && /^touch(start|move)$/.test(n2.type)) {
                  var i2 = y(n2.target).document, o2 = e4.getDocOptions(i2);
                  if (!o2 || !o2.events || false !== o2.events.passive) return;
                }
                /^(mouse|pointer|touch)*(down|start)/i.test(n2.type) || w.element(n2.target) && R(n2.target, "input,select,textarea,[contenteditable=true],[contenteditable=true] *") || n2.preventDefault();
              } else n2.preventDefault();
            }(this, t2, e3);
          }, t2.interactions.docEvents.push({ type: "dragstart", listener: function(e3) {
            for (var n2 = 0, r2 = t2.interactions.list; n2 < r2.length; n2++) {
              var i2 = r2[n2];
              if (i2.element && (i2.element === e3.target || M(i2.element, e3.target))) return void i2.interactable.checkAndPreventDefault(e3);
            }
          } });
        }, listeners: ["down", "move", "up", "cancel"].reduce(function(t2, e2) {
          return t2["interactions:".concat(e2)] = de, t2;
        }, {}) };
        function ve(t2, e2) {
          if (e2.phaselessTypes[t2]) return true;
          for (var n2 in e2.map) if (0 === t2.indexOf(n2) && t2.substr(n2.length) in e2.phases) return true;
          return false;
        }
        function ge(t2) {
          var e2 = {};
          for (var n2 in t2) {
            var r2 = t2[n2];
            w.plainObject(r2) ? e2[n2] = ge(r2) : w.array(r2) ? e2[n2] = mt(r2) : e2[n2] = r2;
          }
          return e2;
        }
        var me = function() {
          function t2(e2) {
            r(this, t2), this.states = [], this.startOffset = { left: 0, right: 0, top: 0, bottom: 0 }, this.startDelta = void 0, this.result = void 0, this.endResult = void 0, this.startEdges = void 0, this.edges = void 0, this.interaction = void 0, this.interaction = e2, this.result = ye(), this.edges = { left: false, right: false, top: false, bottom: false };
          }
          return o(t2, [{ key: "start", value: function(t3, e2) {
            var n2, r2, i2 = t3.phase, o2 = this.interaction, a2 = function(t4) {
              var e3 = t4.interactable.options[t4.prepared.name], n3 = e3.modifiers;
              if (n3 && n3.length) return n3;
              return ["snap", "snapSize", "snapEdges", "restrict", "restrictEdges", "restrictSize"].map(function(t5) {
                var n4 = e3[t5];
                return n4 && n4.enabled && { options: n4, methods: n4._methods };
              }).filter(function(t5) {
                return !!t5;
              });
            }(o2);
            this.prepareStates(a2), this.startEdges = V({}, o2.edges), this.edges = V({}, this.startEdges), this.startOffset = (n2 = o2.rect, r2 = e2, n2 ? { left: r2.x - n2.left, top: r2.y - n2.top, right: n2.right - r2.x, bottom: n2.bottom - r2.y } : { left: 0, top: 0, right: 0, bottom: 0 }), this.startDelta = { x: 0, y: 0 };
            var s2 = this.fillArg({ phase: i2, pageCoords: e2, preEnd: false });
            return this.result = ye(), this.startAll(s2), this.result = this.setAll(s2);
          } }, { key: "fillArg", value: function(t3) {
            var e2 = this.interaction;
            return t3.interaction = e2, t3.interactable = e2.interactable, t3.element = e2.element, t3.rect || (t3.rect = e2.rect), t3.edges || (t3.edges = this.startEdges), t3.startOffset = this.startOffset, t3;
          } }, { key: "startAll", value: function(t3) {
            for (var e2 = 0, n2 = this.states; e2 < n2.length; e2++) {
              var r2 = n2[e2];
              r2.methods.start && (t3.state = r2, r2.methods.start(t3));
            }
          } }, { key: "setAll", value: function(t3) {
            var e2 = t3.phase, n2 = t3.preEnd, r2 = t3.skipModifiers, i2 = t3.rect, o2 = t3.edges;
            t3.coords = V({}, t3.pageCoords), t3.rect = V({}, i2), t3.edges = V({}, o2);
            for (var a2 = r2 ? this.states.slice(r2) : this.states, s2 = ye(t3.coords, t3.rect), c2 = 0; c2 < a2.length; c2++) {
              var l2, u2 = a2[c2], p2 = u2.options, f2 = V({}, t3.coords), d2 = null;
              null != (l2 = u2.methods) && l2.set && this.shouldDo(p2, n2, e2) && (t3.state = u2, d2 = u2.methods.set(t3), H(t3.edges, t3.rect, { x: t3.coords.x - f2.x, y: t3.coords.y - f2.y })), s2.eventProps.push(d2);
            }
            V(this.edges, t3.edges), s2.delta.x = t3.coords.x - t3.pageCoords.x, s2.delta.y = t3.coords.y - t3.pageCoords.y, s2.rectDelta.left = t3.rect.left - i2.left, s2.rectDelta.right = t3.rect.right - i2.right, s2.rectDelta.top = t3.rect.top - i2.top, s2.rectDelta.bottom = t3.rect.bottom - i2.bottom;
            var h2 = this.result.coords, v2 = this.result.rect;
            if (h2 && v2) {
              var g2 = s2.rect.left !== v2.left || s2.rect.right !== v2.right || s2.rect.top !== v2.top || s2.rect.bottom !== v2.bottom;
              s2.changed = g2 || h2.x !== s2.coords.x || h2.y !== s2.coords.y;
            }
            return s2;
          } }, { key: "applyToInteraction", value: function(t3) {
            var e2 = this.interaction, n2 = t3.phase, r2 = e2.coords.cur, i2 = e2.coords.start, o2 = this.result, a2 = this.startDelta, s2 = o2.delta;
            "start" === n2 && V(this.startDelta, o2.delta);
            for (var c2 = 0, l2 = [[i2, a2], [r2, s2]]; c2 < l2.length; c2++) {
              var u2 = l2[c2], p2 = u2[0], f2 = u2[1];
              p2.page.x += f2.x, p2.page.y += f2.y, p2.client.x += f2.x, p2.client.y += f2.y;
            }
            var d2 = this.result.rectDelta, h2 = t3.rect || e2.rect;
            h2.left += d2.left, h2.right += d2.right, h2.top += d2.top, h2.bottom += d2.bottom, h2.width = h2.right - h2.left, h2.height = h2.bottom - h2.top;
          } }, { key: "setAndApply", value: function(t3) {
            var e2 = this.interaction, n2 = t3.phase, r2 = t3.preEnd, i2 = t3.skipModifiers, o2 = this.setAll(this.fillArg({ preEnd: r2, phase: n2, pageCoords: t3.modifiedCoords || e2.coords.cur.page }));
            if (this.result = o2, !o2.changed && (!i2 || i2 < this.states.length) && e2.interacting()) return false;
            if (t3.modifiedCoords) {
              var a2 = e2.coords.cur.page, s2 = { x: t3.modifiedCoords.x - a2.x, y: t3.modifiedCoords.y - a2.y };
              o2.coords.x += s2.x, o2.coords.y += s2.y, o2.delta.x += s2.x, o2.delta.y += s2.y;
            }
            this.applyToInteraction(t3);
          } }, { key: "beforeEnd", value: function(t3) {
            var e2 = t3.interaction, n2 = t3.event, r2 = this.states;
            if (r2 && r2.length) {
              for (var i2 = false, o2 = 0; o2 < r2.length; o2++) {
                var a2 = r2[o2];
                t3.state = a2;
                var s2 = a2.options, c2 = a2.methods, l2 = c2.beforeEnd && c2.beforeEnd(t3);
                if (l2) return this.endResult = l2, false;
                i2 = i2 || !i2 && this.shouldDo(s2, true, t3.phase, true);
              }
              i2 && e2.move({ event: n2, preEnd: true });
            }
          } }, { key: "stop", value: function(t3) {
            var e2 = t3.interaction;
            if (this.states && this.states.length) {
              var n2 = V({ states: this.states, interactable: e2.interactable, element: e2.element, rect: null }, t3);
              this.fillArg(n2);
              for (var r2 = 0, i2 = this.states; r2 < i2.length; r2++) {
                var o2 = i2[r2];
                n2.state = o2, o2.methods.stop && o2.methods.stop(n2);
              }
              this.states = null, this.endResult = null;
            }
          } }, { key: "prepareStates", value: function(t3) {
            this.states = [];
            for (var e2 = 0; e2 < t3.length; e2++) {
              var n2 = t3[e2], r2 = n2.options, i2 = n2.methods, o2 = n2.name;
              this.states.push({ options: r2, methods: i2, index: e2, name: o2 });
            }
            return this.states;
          } }, { key: "restoreInteractionCoords", value: function(t3) {
            var e2 = t3.interaction, n2 = e2.coords, r2 = e2.rect, i2 = e2.modification;
            if (i2.result) {
              for (var o2 = i2.startDelta, a2 = i2.result, s2 = a2.delta, c2 = a2.rectDelta, l2 = 0, u2 = [[n2.start, o2], [n2.cur, s2]]; l2 < u2.length; l2++) {
                var p2 = u2[l2], f2 = p2[0], d2 = p2[1];
                f2.page.x -= d2.x, f2.page.y -= d2.y, f2.client.x -= d2.x, f2.client.y -= d2.y;
              }
              r2.left -= c2.left, r2.right -= c2.right, r2.top -= c2.top, r2.bottom -= c2.bottom;
            }
          } }, { key: "shouldDo", value: function(t3, e2, n2, r2) {
            return !(!t3 || false === t3.enabled || r2 && !t3.endOnly || t3.endOnly && !e2 || "start" === n2 && !t3.setStart);
          } }, { key: "copyFrom", value: function(t3) {
            this.startOffset = t3.startOffset, this.startDelta = t3.startDelta, this.startEdges = t3.startEdges, this.edges = t3.edges, this.states = t3.states.map(function(t4) {
              return ge(t4);
            }), this.result = ye(V({}, t3.result.coords), V({}, t3.result.rect));
          } }, { key: "destroy", value: function() {
            for (var t3 in this) this[t3] = null;
          } }]), t2;
        }();
        function ye(t2, e2) {
          return { rect: e2, coords: t2, delta: { x: 0, y: 0 }, rectDelta: { left: 0, right: 0, top: 0, bottom: 0 }, eventProps: [], changed: true };
        }
        function be(t2, e2) {
          var n2 = t2.defaults, r2 = { start: t2.start, set: t2.set, beforeEnd: t2.beforeEnd, stop: t2.stop }, i2 = function(t3) {
            var i3 = t3 || {};
            for (var o2 in i3.enabled = false !== i3.enabled, n2) o2 in i3 || (i3[o2] = n2[o2]);
            var a2 = { options: i3, methods: r2, name: e2, enable: function() {
              return i3.enabled = true, a2;
            }, disable: function() {
              return i3.enabled = false, a2;
            } };
            return a2;
          };
          return e2 && "string" == typeof e2 && (i2._defaults = n2, i2._methods = r2), i2;
        }
        function xe(t2) {
          var e2 = t2.iEvent, n2 = t2.interaction.modification.result;
          n2 && (e2.modifiers = n2.eventProps);
        }
        var we = { id: "modifiers/base", before: ["actions"], install: function(t2) {
          t2.defaults.perAction.modifiers = [];
        }, listeners: { "interactions:new": function(t2) {
          var e2 = t2.interaction;
          e2.modification = new me(e2);
        }, "interactions:before-action-start": function(t2) {
          var e2 = t2.interaction, n2 = t2.interaction.modification;
          n2.start(t2, e2.coords.start.page), e2.edges = n2.edges, n2.applyToInteraction(t2);
        }, "interactions:before-action-move": function(t2) {
          var e2 = t2.interaction, n2 = e2.modification, r2 = n2.setAndApply(t2);
          return e2.edges = n2.edges, r2;
        }, "interactions:before-action-end": function(t2) {
          var e2 = t2.interaction, n2 = e2.modification, r2 = n2.beforeEnd(t2);
          return e2.edges = n2.startEdges, r2;
        }, "interactions:action-start": xe, "interactions:action-move": xe, "interactions:action-end": xe, "interactions:after-action-start": function(t2) {
          return t2.interaction.modification.restoreInteractionCoords(t2);
        }, "interactions:after-action-move": function(t2) {
          return t2.interaction.modification.restoreInteractionCoords(t2);
        }, "interactions:stop": function(t2) {
          return t2.interaction.modification.stop(t2);
        } } }, Ee = we, Te = { base: { preventDefault: "auto", deltaSource: "page" }, perAction: { enabled: false, origin: { x: 0, y: 0 } }, actions: {} }, Se = function(t2) {
          s(n2, t2);
          var e2 = p(n2);
          function n2(t3, i2, o2, a2, s2, c2, l2) {
            var p2;
            r(this, n2), (p2 = e2.call(this, t3)).relatedTarget = null, p2.screenX = void 0, p2.screenY = void 0, p2.button = void 0, p2.buttons = void 0, p2.ctrlKey = void 0, p2.shiftKey = void 0, p2.altKey = void 0, p2.metaKey = void 0, p2.page = void 0, p2.client = void 0, p2.delta = void 0, p2.rect = void 0, p2.x0 = void 0, p2.y0 = void 0, p2.t0 = void 0, p2.dt = void 0, p2.duration = void 0, p2.clientX0 = void 0, p2.clientY0 = void 0, p2.velocity = void 0, p2.speed = void 0, p2.swipe = void 0, p2.axes = void 0, p2.preEnd = void 0, s2 = s2 || t3.element;
            var f2 = t3.interactable, d2 = (f2 && f2.options || Te).deltaSource, h2 = K(f2, s2, o2), v2 = "start" === a2, g2 = "end" === a2, m2 = v2 ? u(p2) : t3.prevEvent, y2 = v2 ? t3.coords.start : g2 ? { page: m2.page, client: m2.client, timeStamp: t3.coords.cur.timeStamp } : t3.coords.cur;
            return p2.page = V({}, y2.page), p2.client = V({}, y2.client), p2.rect = V({}, t3.rect), p2.timeStamp = y2.timeStamp, g2 || (p2.page.x -= h2.x, p2.page.y -= h2.y, p2.client.x -= h2.x, p2.client.y -= h2.y), p2.ctrlKey = i2.ctrlKey, p2.altKey = i2.altKey, p2.shiftKey = i2.shiftKey, p2.metaKey = i2.metaKey, p2.button = i2.button, p2.buttons = i2.buttons, p2.target = s2, p2.currentTarget = s2, p2.preEnd = c2, p2.type = l2 || o2 + (a2 || ""), p2.interactable = f2, p2.t0 = v2 ? t3.pointers[t3.pointers.length - 1].downTime : m2.t0, p2.x0 = t3.coords.start.page.x - h2.x, p2.y0 = t3.coords.start.page.y - h2.y, p2.clientX0 = t3.coords.start.client.x - h2.x, p2.clientY0 = t3.coords.start.client.y - h2.y, p2.delta = v2 || g2 ? { x: 0, y: 0 } : { x: p2[d2].x - m2[d2].x, y: p2[d2].y - m2[d2].y }, p2.dt = t3.coords.delta.timeStamp, p2.duration = p2.timeStamp - p2.t0, p2.velocity = V({}, t3.coords.velocity[d2]), p2.speed = Q(p2.velocity.x, p2.velocity.y), p2.swipe = g2 || "inertiastart" === a2 ? p2.getSwipe() : null, p2;
          }
          return o(n2, [{ key: "getSwipe", value: function() {
            var t3 = this._interaction;
            if (t3.prevEvent.speed < 600 || this.timeStamp - t3.prevEvent.timeStamp > 150) return null;
            var e3 = 180 * Math.atan2(t3.prevEvent.velocityY, t3.prevEvent.velocityX) / Math.PI;
            e3 < 0 && (e3 += 360);
            var n3 = 112.5 <= e3 && e3 < 247.5, r2 = 202.5 <= e3 && e3 < 337.5;
            return { up: r2, down: !r2 && 22.5 <= e3 && e3 < 157.5, left: n3, right: !n3 && (292.5 <= e3 || e3 < 67.5), angle: e3, speed: t3.prevEvent.speed, velocity: { x: t3.prevEvent.velocityX, y: t3.prevEvent.velocityY } };
          } }, { key: "preventDefault", value: function() {
          } }, { key: "stopImmediatePropagation", value: function() {
            this.immediatePropagationStopped = this.propagationStopped = true;
          } }, { key: "stopPropagation", value: function() {
            this.propagationStopped = true;
          } }]), n2;
        }(vt);
        Object.defineProperties(Se.prototype, { pageX: { get: function() {
          return this.page.x;
        }, set: function(t2) {
          this.page.x = t2;
        } }, pageY: { get: function() {
          return this.page.y;
        }, set: function(t2) {
          this.page.y = t2;
        } }, clientX: { get: function() {
          return this.client.x;
        }, set: function(t2) {
          this.client.x = t2;
        } }, clientY: { get: function() {
          return this.client.y;
        }, set: function(t2) {
          this.client.y = t2;
        } }, dx: { get: function() {
          return this.delta.x;
        }, set: function(t2) {
          this.delta.x = t2;
        } }, dy: { get: function() {
          return this.delta.y;
        }, set: function(t2) {
          this.delta.y = t2;
        } }, velocityX: { get: function() {
          return this.velocity.x;
        }, set: function(t2) {
          this.velocity.x = t2;
        } }, velocityY: { get: function() {
          return this.velocity.y;
        }, set: function(t2) {
          this.velocity.y = t2;
        } } });
        var _e = o(function t2(e2, n2, i2, o2, a2) {
          r(this, t2), this.id = void 0, this.pointer = void 0, this.event = void 0, this.downTime = void 0, this.downTarget = void 0, this.id = e2, this.pointer = n2, this.event = i2, this.downTime = o2, this.downTarget = a2;
        }), Pe = function(t2) {
          return t2.interactable = "", t2.element = "", t2.prepared = "", t2.pointerIsDown = "", t2.pointerWasMoved = "", t2._proxy = "", t2;
        }({}), Oe = function(t2) {
          return t2.start = "", t2.move = "", t2.end = "", t2.stop = "", t2.interacting = "", t2;
        }({}), ke = 0, De = function() {
          function t2(e2) {
            var n2 = this, i2 = e2.pointerType, o2 = e2.scopeFire;
            r(this, t2), this.interactable = null, this.element = null, this.rect = null, this._rects = void 0, this.edges = null, this._scopeFire = void 0, this.prepared = { name: null, axis: null, edges: null }, this.pointerType = void 0, this.pointers = [], this.downEvent = null, this.downPointer = {}, this._latestPointer = { pointer: null, event: null, eventTarget: null }, this.prevEvent = null, this.pointerIsDown = false, this.pointerWasMoved = false, this._interacting = false, this._ending = false, this._stopped = true, this._proxy = void 0, this.simulation = null, this.doMove = Nt(function(t3) {
              this.move(t3);
            }, "The interaction.doMove() method has been renamed to interaction.move()"), this.coords = { start: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 }, prev: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 }, cur: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 }, delta: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 }, velocity: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 } }, this._id = ke++, this._scopeFire = o2, this.pointerType = i2;
            var a2 = this;
            this._proxy = {};
            var s2 = function(t3) {
              Object.defineProperty(n2._proxy, t3, { get: function() {
                return a2[t3];
              } });
            };
            for (var c2 in Pe) s2(c2);
            var l2 = function(t3) {
              Object.defineProperty(n2._proxy, t3, { value: function() {
                return a2[t3].apply(a2, arguments);
              } });
            };
            for (var u2 in Oe) l2(u2);
            this._scopeFire("interactions:new", { interaction: this });
          }
          return o(t2, [{ key: "pointerMoveTolerance", get: function() {
            return 1;
          } }, { key: "pointerDown", value: function(t3, e2, n2) {
            var r2 = this.updatePointer(t3, e2, n2, true), i2 = this.pointers[r2];
            this._scopeFire("interactions:down", { pointer: t3, event: e2, eventTarget: n2, pointerIndex: r2, pointerInfo: i2, type: "down", interaction: this });
          } }, { key: "start", value: function(t3, e2, n2) {
            return !(this.interacting() || !this.pointerIsDown || this.pointers.length < ("gesture" === t3.name ? 2 : 1) || !e2.options[t3.name].enabled) && (Ut(this.prepared, t3), this.interactable = e2, this.element = n2, this.rect = e2.getRect(n2), this.edges = this.prepared.edges ? V({}, this.prepared.edges) : { left: true, right: true, top: true, bottom: true }, this._stopped = false, this._interacting = this._doPhase({ interaction: this, event: this.downEvent, phase: "start" }) && !this._stopped, this._interacting);
          } }, { key: "pointerMove", value: function(t3, e2, n2) {
            this.simulation || this.modification && this.modification.endResult || this.updatePointer(t3, e2, n2, false);
            var r2, i2, o2 = this.coords.cur.page.x === this.coords.prev.page.x && this.coords.cur.page.y === this.coords.prev.page.y && this.coords.cur.client.x === this.coords.prev.client.x && this.coords.cur.client.y === this.coords.prev.client.y;
            this.pointerIsDown && !this.pointerWasMoved && (r2 = this.coords.cur.client.x - this.coords.start.client.x, i2 = this.coords.cur.client.y - this.coords.start.client.y, this.pointerWasMoved = Q(r2, i2) > this.pointerMoveTolerance);
            var a2, s2, c2, l2 = this.getPointerIndex(t3), u2 = { pointer: t3, pointerIndex: l2, pointerInfo: this.pointers[l2], event: e2, type: "move", eventTarget: n2, dx: r2, dy: i2, duplicate: o2, interaction: this };
            o2 || (a2 = this.coords.velocity, s2 = this.coords.delta, c2 = Math.max(s2.timeStamp / 1e3, 1e-3), a2.page.x = s2.page.x / c2, a2.page.y = s2.page.y / c2, a2.client.x = s2.client.x / c2, a2.client.y = s2.client.y / c2, a2.timeStamp = c2), this._scopeFire("interactions:move", u2), o2 || this.simulation || (this.interacting() && (u2.type = null, this.move(u2)), this.pointerWasMoved && et(this.coords.prev, this.coords.cur));
          } }, { key: "move", value: function(t3) {
            t3 && t3.event || nt(this.coords.delta), (t3 = V({ pointer: this._latestPointer.pointer, event: this._latestPointer.event, eventTarget: this._latestPointer.eventTarget, interaction: this }, t3 || {})).phase = "move", this._doPhase(t3);
          } }, { key: "pointerUp", value: function(t3, e2, n2, r2) {
            var i2 = this.getPointerIndex(t3);
            -1 === i2 && (i2 = this.updatePointer(t3, e2, n2, false));
            var o2 = /cancel$/i.test(e2.type) ? "cancel" : "up";
            this._scopeFire("interactions:".concat(o2), { pointer: t3, pointerIndex: i2, pointerInfo: this.pointers[i2], event: e2, eventTarget: n2, type: o2, curEventTarget: r2, interaction: this }), this.simulation || this.end(e2), this.removePointer(t3, e2);
          } }, { key: "documentBlur", value: function(t3) {
            this.end(t3), this._scopeFire("interactions:blur", { event: t3, type: "blur", interaction: this });
          } }, { key: "end", value: function(t3) {
            var e2;
            this._ending = true, t3 = t3 || this._latestPointer.event, this.interacting() && (e2 = this._doPhase({ event: t3, interaction: this, phase: "end" })), this._ending = false, true === e2 && this.stop();
          } }, { key: "currentAction", value: function() {
            return this._interacting ? this.prepared.name : null;
          } }, { key: "interacting", value: function() {
            return this._interacting;
          } }, { key: "stop", value: function() {
            this._scopeFire("interactions:stop", { interaction: this }), this.interactable = this.element = null, this._interacting = false, this._stopped = true, this.prepared.name = this.prevEvent = null;
          } }, { key: "getPointerIndex", value: function(t3) {
            var e2 = at(t3);
            return "mouse" === this.pointerType || "pen" === this.pointerType ? this.pointers.length - 1 : yt(this.pointers, function(t4) {
              return t4.id === e2;
            });
          } }, { key: "getPointerInfo", value: function(t3) {
            return this.pointers[this.getPointerIndex(t3)];
          } }, { key: "updatePointer", value: function(t3, e2, n2, r2) {
            var i2, o2, a2, s2 = at(t3), c2 = this.getPointerIndex(t3), l2 = this.pointers[c2];
            return r2 = false !== r2 && (r2 || /(down|start)$/i.test(e2.type)), l2 ? l2.pointer = t3 : (l2 = new _e(s2, t3, e2, null, null), c2 = this.pointers.length, this.pointers.push(l2)), st(this.coords.cur, this.pointers.map(function(t4) {
              return t4.pointer;
            }), this._now()), i2 = this.coords.delta, o2 = this.coords.prev, a2 = this.coords.cur, i2.page.x = a2.page.x - o2.page.x, i2.page.y = a2.page.y - o2.page.y, i2.client.x = a2.client.x - o2.client.x, i2.client.y = a2.client.y - o2.client.y, i2.timeStamp = a2.timeStamp - o2.timeStamp, r2 && (this.pointerIsDown = true, l2.downTime = this.coords.cur.timeStamp, l2.downTarget = n2, tt(this.downPointer, t3), this.interacting() || (et(this.coords.start, this.coords.cur), et(this.coords.prev, this.coords.cur), this.downEvent = e2, this.pointerWasMoved = false)), this._updateLatestPointer(t3, e2, n2), this._scopeFire("interactions:update-pointer", { pointer: t3, event: e2, eventTarget: n2, down: r2, pointerInfo: l2, pointerIndex: c2, interaction: this }), c2;
          } }, { key: "removePointer", value: function(t3, e2) {
            var n2 = this.getPointerIndex(t3);
            if (-1 !== n2) {
              var r2 = this.pointers[n2];
              this._scopeFire("interactions:remove-pointer", { pointer: t3, event: e2, eventTarget: null, pointerIndex: n2, pointerInfo: r2, interaction: this }), this.pointers.splice(n2, 1), this.pointerIsDown = false;
            }
          } }, { key: "_updateLatestPointer", value: function(t3, e2, n2) {
            this._latestPointer.pointer = t3, this._latestPointer.event = e2, this._latestPointer.eventTarget = n2;
          } }, { key: "destroy", value: function() {
            this._latestPointer.pointer = null, this._latestPointer.event = null, this._latestPointer.eventTarget = null;
          } }, { key: "_createPreparedEvent", value: function(t3, e2, n2, r2) {
            return new Se(this, t3, this.prepared.name, e2, this.element, n2, r2);
          } }, { key: "_fireEvent", value: function(t3) {
            var e2;
            null == (e2 = this.interactable) || e2.fire(t3), (!this.prevEvent || t3.timeStamp >= this.prevEvent.timeStamp) && (this.prevEvent = t3);
          } }, { key: "_doPhase", value: function(t3) {
            var e2 = t3.event, n2 = t3.phase, r2 = t3.preEnd, i2 = t3.type, o2 = this.rect;
            if (o2 && "move" === n2 && (H(this.edges, o2, this.coords.delta[this.interactable.options.deltaSource]), o2.width = o2.right - o2.left, o2.height = o2.bottom - o2.top), false === this._scopeFire("interactions:before-action-".concat(n2), t3)) return false;
            var a2 = t3.iEvent = this._createPreparedEvent(e2, n2, r2, i2);
            return this._scopeFire("interactions:action-".concat(n2), t3), "start" === n2 && (this.prevEvent = a2), this._fireEvent(a2), this._scopeFire("interactions:after-action-".concat(n2), t3), true;
          } }, { key: "_now", value: function() {
            return Date.now();
          } }]), t2;
        }();
        function Ie(t2) {
          Me(t2.interaction);
        }
        function Me(t2) {
          if (!function(t3) {
            return !(!t3.offset.pending.x && !t3.offset.pending.y);
          }(t2)) return false;
          var e2 = t2.offset.pending;
          return Ae(t2.coords.cur, e2), Ae(t2.coords.delta, e2), H(t2.edges, t2.rect, e2), e2.x = 0, e2.y = 0, true;
        }
        function ze(t2) {
          var e2 = t2.x, n2 = t2.y;
          this.offset.pending.x += e2, this.offset.pending.y += n2, this.offset.total.x += e2, this.offset.total.y += n2;
        }
        function Ae(t2, e2) {
          var n2 = t2.page, r2 = t2.client, i2 = e2.x, o2 = e2.y;
          n2.x += i2, n2.y += o2, r2.x += i2, r2.y += o2;
        }
        Oe.offsetBy = "";
        var Re = { id: "offset", before: ["modifiers", "pointer-events", "actions", "inertia"], install: function(t2) {
          t2.Interaction.prototype.offsetBy = ze;
        }, listeners: { "interactions:new": function(t2) {
          t2.interaction.offset = { total: { x: 0, y: 0 }, pending: { x: 0, y: 0 } };
        }, "interactions:update-pointer": function(t2) {
          return function(t3) {
            t3.pointerIsDown && (Ae(t3.coords.cur, t3.offset.total), t3.offset.pending.x = 0, t3.offset.pending.y = 0);
          }(t2.interaction);
        }, "interactions:before-action-start": Ie, "interactions:before-action-move": Ie, "interactions:before-action-end": function(t2) {
          var e2 = t2.interaction;
          if (Me(e2)) return e2.move({ offset: true }), e2.end(), false;
        }, "interactions:stop": function(t2) {
          var e2 = t2.interaction;
          e2.offset.total.x = 0, e2.offset.total.y = 0, e2.offset.pending.x = 0, e2.offset.pending.y = 0;
        } } }, Ce = Re;
        var je = function() {
          function t2(e2) {
            r(this, t2), this.active = false, this.isModified = false, this.smoothEnd = false, this.allowResume = false, this.modification = void 0, this.modifierCount = 0, this.modifierArg = void 0, this.startCoords = void 0, this.t0 = 0, this.v0 = 0, this.te = 0, this.targetOffset = void 0, this.modifiedOffset = void 0, this.currentOffset = void 0, this.lambda_v0 = 0, this.one_ve_v0 = 0, this.timeout = void 0, this.interaction = void 0, this.interaction = e2;
          }
          return o(t2, [{ key: "start", value: function(t3) {
            var e2 = this.interaction, n2 = Fe(e2);
            if (!n2 || !n2.enabled) return false;
            var r2 = e2.coords.velocity.client, i2 = Q(r2.x, r2.y), o2 = this.modification || (this.modification = new me(e2));
            if (o2.copyFrom(e2.modification), this.t0 = e2._now(), this.allowResume = n2.allowResume, this.v0 = i2, this.currentOffset = { x: 0, y: 0 }, this.startCoords = e2.coords.cur.page, this.modifierArg = o2.fillArg({ pageCoords: this.startCoords, preEnd: true, phase: "inertiastart" }), this.t0 - e2.coords.cur.timeStamp < 50 && i2 > n2.minSpeed && i2 > n2.endSpeed) this.startInertia();
            else {
              if (o2.result = o2.setAll(this.modifierArg), !o2.result.changed) return false;
              this.startSmoothEnd();
            }
            return e2.modification.result.rect = null, e2.offsetBy(this.targetOffset), e2._doPhase({ interaction: e2, event: t3, phase: "inertiastart" }), e2.offsetBy({ x: -this.targetOffset.x, y: -this.targetOffset.y }), e2.modification.result.rect = null, this.active = true, e2.simulation = this, true;
          } }, { key: "startInertia", value: function() {
            var t3 = this, e2 = this.interaction.coords.velocity.client, n2 = Fe(this.interaction), r2 = n2.resistance, i2 = -Math.log(n2.endSpeed / this.v0) / r2;
            this.targetOffset = { x: (e2.x - i2) / r2, y: (e2.y - i2) / r2 }, this.te = i2, this.lambda_v0 = r2 / this.v0, this.one_ve_v0 = 1 - n2.endSpeed / this.v0;
            var o2 = this.modification, a2 = this.modifierArg;
            a2.pageCoords = { x: this.startCoords.x + this.targetOffset.x, y: this.startCoords.y + this.targetOffset.y }, o2.result = o2.setAll(a2), o2.result.changed && (this.isModified = true, this.modifiedOffset = { x: this.targetOffset.x + o2.result.delta.x, y: this.targetOffset.y + o2.result.delta.y }), this.onNextFrame(function() {
              return t3.inertiaTick();
            });
          } }, { key: "startSmoothEnd", value: function() {
            var t3 = this;
            this.smoothEnd = true, this.isModified = true, this.targetOffset = { x: this.modification.result.delta.x, y: this.modification.result.delta.y }, this.onNextFrame(function() {
              return t3.smoothEndTick();
            });
          } }, { key: "onNextFrame", value: function(t3) {
            var e2 = this;
            this.timeout = Lt.request(function() {
              e2.active && t3();
            });
          } }, { key: "inertiaTick", value: function() {
            var t3, e2, n2, r2, i2, o2, a2, s2 = this, c2 = this.interaction, l2 = Fe(c2).resistance, u2 = (c2._now() - this.t0) / 1e3;
            if (u2 < this.te) {
              var p2, f2 = 1 - (Math.exp(-l2 * u2) - this.lambda_v0) / this.one_ve_v0;
              this.isModified ? (t3 = 0, e2 = 0, n2 = this.targetOffset.x, r2 = this.targetOffset.y, i2 = this.modifiedOffset.x, o2 = this.modifiedOffset.y, p2 = { x: Ye(a2 = f2, t3, n2, i2), y: Ye(a2, e2, r2, o2) }) : p2 = { x: this.targetOffset.x * f2, y: this.targetOffset.y * f2 };
              var d2 = { x: p2.x - this.currentOffset.x, y: p2.y - this.currentOffset.y };
              this.currentOffset.x += d2.x, this.currentOffset.y += d2.y, c2.offsetBy(d2), c2.move(), this.onNextFrame(function() {
                return s2.inertiaTick();
              });
            } else c2.offsetBy({ x: this.modifiedOffset.x - this.currentOffset.x, y: this.modifiedOffset.y - this.currentOffset.y }), this.end();
          } }, { key: "smoothEndTick", value: function() {
            var t3 = this, e2 = this.interaction, n2 = e2._now() - this.t0, r2 = Fe(e2).smoothEndDuration;
            if (n2 < r2) {
              var i2 = { x: Le(n2, 0, this.targetOffset.x, r2), y: Le(n2, 0, this.targetOffset.y, r2) }, o2 = { x: i2.x - this.currentOffset.x, y: i2.y - this.currentOffset.y };
              this.currentOffset.x += o2.x, this.currentOffset.y += o2.y, e2.offsetBy(o2), e2.move({ skipModifiers: this.modifierCount }), this.onNextFrame(function() {
                return t3.smoothEndTick();
              });
            } else e2.offsetBy({ x: this.targetOffset.x - this.currentOffset.x, y: this.targetOffset.y - this.currentOffset.y }), this.end();
          } }, { key: "resume", value: function(t3) {
            var e2 = t3.pointer, n2 = t3.event, r2 = t3.eventTarget, i2 = this.interaction;
            i2.offsetBy({ x: -this.currentOffset.x, y: -this.currentOffset.y }), i2.updatePointer(e2, n2, r2, true), i2._doPhase({ interaction: i2, event: n2, phase: "resume" }), et(i2.coords.prev, i2.coords.cur), this.stop();
          } }, { key: "end", value: function() {
            this.interaction.move(), this.interaction.end(), this.stop();
          } }, { key: "stop", value: function() {
            this.active = this.smoothEnd = false, this.interaction.simulation = null, Lt.cancel(this.timeout);
          } }]), t2;
        }();
        function Fe(t2) {
          var e2 = t2.interactable, n2 = t2.prepared;
          return e2 && e2.options && n2.name && e2.options[n2.name].inertia;
        }
        var Xe = { id: "inertia", before: ["modifiers", "actions"], install: function(t2) {
          var e2 = t2.defaults;
          t2.usePlugin(Ce), t2.usePlugin(Ee), t2.actions.phases.inertiastart = true, t2.actions.phases.resume = true, e2.perAction.inertia = { enabled: false, resistance: 10, minSpeed: 100, endSpeed: 10, allowResume: true, smoothEndDuration: 300 };
        }, listeners: { "interactions:new": function(t2) {
          var e2 = t2.interaction;
          e2.inertia = new je(e2);
        }, "interactions:before-action-end": function(t2) {
          var e2 = t2.interaction, n2 = t2.event;
          return (!e2._interacting || e2.simulation || !e2.inertia.start(n2)) && null;
        }, "interactions:down": function(t2) {
          var e2 = t2.interaction, n2 = t2.eventTarget, r2 = e2.inertia;
          if (r2.active) for (var i2 = n2; w.element(i2); ) {
            if (i2 === e2.element) {
              r2.resume(t2);
              break;
            }
            i2 = A(i2);
          }
        }, "interactions:stop": function(t2) {
          var e2 = t2.interaction.inertia;
          e2.active && e2.stop();
        }, "interactions:before-action-resume": function(t2) {
          var e2 = t2.interaction.modification;
          e2.stop(t2), e2.start(t2, t2.interaction.coords.cur.page), e2.applyToInteraction(t2);
        }, "interactions:before-action-inertiastart": function(t2) {
          return t2.interaction.modification.setAndApply(t2);
        }, "interactions:action-resume": xe, "interactions:action-inertiastart": xe, "interactions:after-action-inertiastart": function(t2) {
          return t2.interaction.modification.restoreInteractionCoords(t2);
        }, "interactions:after-action-resume": function(t2) {
          return t2.interaction.modification.restoreInteractionCoords(t2);
        } } };
        function Ye(t2, e2, n2, r2) {
          var i2 = 1 - t2;
          return i2 * i2 * e2 + 2 * i2 * t2 * n2 + t2 * t2 * r2;
        }
        function Le(t2, e2, n2, r2) {
          return -n2 * (t2 /= r2) * (t2 - 2) + e2;
        }
        var qe = Xe;
        function Be(t2, e2) {
          for (var n2 = 0; n2 < e2.length; n2++) {
            var r2 = e2[n2];
            if (t2.immediatePropagationStopped) break;
            r2(t2);
          }
        }
        var Ve = function() {
          function t2(e2) {
            r(this, t2), this.options = void 0, this.types = {}, this.propagationStopped = false, this.immediatePropagationStopped = false, this.global = void 0, this.options = V({}, e2 || {});
          }
          return o(t2, [{ key: "fire", value: function(t3) {
            var e2, n2 = this.global;
            (e2 = this.types[t3.type]) && Be(t3, e2), !t3.propagationStopped && n2 && (e2 = n2[t3.type]) && Be(t3, e2);
          } }, { key: "on", value: function(t3, e2) {
            var n2 = $(t3, e2);
            for (t3 in n2) this.types[t3] = gt(this.types[t3] || [], n2[t3]);
          } }, { key: "off", value: function(t3, e2) {
            var n2 = $(t3, e2);
            for (t3 in n2) {
              var r2 = this.types[t3];
              if (r2 && r2.length) for (var i2 = 0, o2 = n2[t3]; i2 < o2.length; i2++) {
                var a2 = o2[i2], s2 = r2.indexOf(a2);
                -1 !== s2 && r2.splice(s2, 1);
              }
            }
          } }, { key: "getRect", value: function(t3) {
            return null;
          } }]), t2;
        }();
        var We = function() {
          function t2(e2) {
            r(this, t2), this.currentTarget = void 0, this.originalEvent = void 0, this.type = void 0, this.originalEvent = e2, tt(this, e2);
          }
          return o(t2, [{ key: "preventOriginalDefault", value: function() {
            this.originalEvent.preventDefault();
          } }, { key: "stopPropagation", value: function() {
            this.originalEvent.stopPropagation();
          } }, { key: "stopImmediatePropagation", value: function() {
            this.originalEvent.stopImmediatePropagation();
          } }]), t2;
        }();
        function Ge(t2) {
          return w.object(t2) ? { capture: !!t2.capture, passive: !!t2.passive } : { capture: !!t2, passive: false };
        }
        function Ne(t2, e2) {
          return t2 === e2 || ("boolean" == typeof t2 ? !!e2.capture === t2 && false == !!e2.passive : !!t2.capture == !!e2.capture && !!t2.passive == !!e2.passive);
        }
        var Ue = { id: "events", install: function(t2) {
          var e2, n2 = [], r2 = {}, i2 = [], o2 = { add: a2, remove: s2, addDelegate: function(t3, e3, n3, o3, s3) {
            var u2 = Ge(s3);
            if (!r2[n3]) {
              r2[n3] = [];
              for (var p2 = 0; p2 < i2.length; p2++) {
                var f2 = i2[p2];
                a2(f2, n3, c2), a2(f2, n3, l2, true);
              }
            }
            var d2 = r2[n3], h2 = bt(d2, function(n4) {
              return n4.selector === t3 && n4.context === e3;
            });
            h2 || (h2 = { selector: t3, context: e3, listeners: [] }, d2.push(h2));
            h2.listeners.push({ func: o3, options: u2 });
          }, removeDelegate: function(t3, e3, n3, i3, o3) {
            var a3, u2 = Ge(o3), p2 = r2[n3], f2 = false;
            if (!p2) return;
            for (a3 = p2.length - 1; a3 >= 0; a3--) {
              var d2 = p2[a3];
              if (d2.selector === t3 && d2.context === e3) {
                for (var h2 = d2.listeners, v2 = h2.length - 1; v2 >= 0; v2--) {
                  var g2 = h2[v2];
                  if (g2.func === i3 && Ne(g2.options, u2)) {
                    h2.splice(v2, 1), h2.length || (p2.splice(a3, 1), s2(e3, n3, c2), s2(e3, n3, l2, true)), f2 = true;
                    break;
                  }
                }
                if (f2) break;
              }
            }
          }, delegateListener: c2, delegateUseCapture: l2, delegatedEvents: r2, documents: i2, targets: n2, supportsOptions: false, supportsPassive: false };
          function a2(t3, e3, r3, i3) {
            if (t3.addEventListener) {
              var a3 = Ge(i3), s3 = bt(n2, function(e4) {
                return e4.eventTarget === t3;
              });
              s3 || (s3 = { eventTarget: t3, events: {} }, n2.push(s3)), s3.events[e3] || (s3.events[e3] = []), bt(s3.events[e3], function(t4) {
                return t4.func === r3 && Ne(t4.options, a3);
              }) || (t3.addEventListener(e3, r3, o2.supportsOptions ? a3 : a3.capture), s3.events[e3].push({ func: r3, options: a3 }));
            }
          }
          function s2(t3, e3, r3, i3) {
            if (t3.addEventListener && t3.removeEventListener) {
              var a3 = yt(n2, function(e4) {
                return e4.eventTarget === t3;
              }), c3 = n2[a3];
              if (c3 && c3.events) if ("all" !== e3) {
                var l3 = false, u2 = c3.events[e3];
                if (u2) {
                  if ("all" === r3) {
                    for (var p2 = u2.length - 1; p2 >= 0; p2--) {
                      var f2 = u2[p2];
                      s2(t3, e3, f2.func, f2.options);
                    }
                    return;
                  }
                  for (var d2 = Ge(i3), h2 = 0; h2 < u2.length; h2++) {
                    var v2 = u2[h2];
                    if (v2.func === r3 && Ne(v2.options, d2)) {
                      t3.removeEventListener(e3, r3, o2.supportsOptions ? d2 : d2.capture), u2.splice(h2, 1), 0 === u2.length && (delete c3.events[e3], l3 = true);
                      break;
                    }
                  }
                }
                l3 && !Object.keys(c3.events).length && n2.splice(a3, 1);
              } else for (e3 in c3.events) c3.events.hasOwnProperty(e3) && s2(t3, e3, "all");
            }
          }
          function c2(t3, e3) {
            for (var n3 = Ge(e3), i3 = new We(t3), o3 = r2[t3.type], a3 = ht(t3)[0], s3 = a3; w.element(s3); ) {
              for (var c3 = 0; c3 < o3.length; c3++) {
                var l3 = o3[c3], u2 = l3.selector, p2 = l3.context;
                if (R(s3, u2) && M(p2, a3) && M(p2, s3)) {
                  var f2 = l3.listeners;
                  i3.currentTarget = s3;
                  for (var d2 = 0; d2 < f2.length; d2++) {
                    var h2 = f2[d2];
                    Ne(h2.options, n3) && h2.func(i3);
                  }
                }
              }
              s3 = A(s3);
            }
          }
          function l2(t3) {
            return c2(t3, true);
          }
          return null == (e2 = t2.document) || e2.createElement("div").addEventListener("test", null, { get capture() {
            return o2.supportsOptions = true;
          }, get passive() {
            return o2.supportsPassive = true;
          } }), t2.events = o2, o2;
        } }, He = { methodOrder: ["simulationResume", "mouseOrPen", "hasPointer", "idle"], search: function(t2) {
          for (var e2 = 0, n2 = He.methodOrder; e2 < n2.length; e2++) {
            var r2 = n2[e2], i2 = He[r2](t2);
            if (i2) return i2;
          }
          return null;
        }, simulationResume: function(t2) {
          var e2 = t2.pointerType, n2 = t2.eventType, r2 = t2.eventTarget, i2 = t2.scope;
          if (!/down|start/i.test(n2)) return null;
          for (var o2 = 0, a2 = i2.interactions.list; o2 < a2.length; o2++) {
            var s2 = a2[o2], c2 = r2;
            if (s2.simulation && s2.simulation.allowResume && s2.pointerType === e2) for (; c2; ) {
              if (c2 === s2.element) return s2;
              c2 = A(c2);
            }
          }
          return null;
        }, mouseOrPen: function(t2) {
          var e2, n2 = t2.pointerId, r2 = t2.pointerType, i2 = t2.eventType, o2 = t2.scope;
          if ("mouse" !== r2 && "pen" !== r2) return null;
          for (var a2 = 0, s2 = o2.interactions.list; a2 < s2.length; a2++) {
            var c2 = s2[a2];
            if (c2.pointerType === r2) {
              if (c2.simulation && !Ke(c2, n2)) continue;
              if (c2.interacting()) return c2;
              e2 || (e2 = c2);
            }
          }
          if (e2) return e2;
          for (var l2 = 0, u2 = o2.interactions.list; l2 < u2.length; l2++) {
            var p2 = u2[l2];
            if (!(p2.pointerType !== r2 || /down/i.test(i2) && p2.simulation)) return p2;
          }
          return null;
        }, hasPointer: function(t2) {
          for (var e2 = t2.pointerId, n2 = 0, r2 = t2.scope.interactions.list; n2 < r2.length; n2++) {
            var i2 = r2[n2];
            if (Ke(i2, e2)) return i2;
          }
          return null;
        }, idle: function(t2) {
          for (var e2 = t2.pointerType, n2 = 0, r2 = t2.scope.interactions.list; n2 < r2.length; n2++) {
            var i2 = r2[n2];
            if (1 === i2.pointers.length) {
              var o2 = i2.interactable;
              if (o2 && (!o2.options.gesture || !o2.options.gesture.enabled)) continue;
            } else if (i2.pointers.length >= 2) continue;
            if (!i2.interacting() && e2 === i2.pointerType) return i2;
          }
          return null;
        } };
        function Ke(t2, e2) {
          return t2.pointers.some(function(t3) {
            return t3.id === e2;
          });
        }
        var $e = He, Je = ["pointerDown", "pointerMove", "pointerUp", "updatePointer", "removePointer", "windowBlur"];
        function Qe(t2, e2) {
          return function(n2) {
            var r2 = e2.interactions.list, i2 = dt(n2), o2 = ht(n2), a2 = o2[0], s2 = o2[1], c2 = [];
            if (/^touch/.test(n2.type)) {
              e2.prevTouchTime = e2.now();
              for (var l2 = 0, u2 = n2.changedTouches; l2 < u2.length; l2++) {
                var p2 = u2[l2], f2 = { pointer: p2, pointerId: at(p2), pointerType: i2, eventType: n2.type, eventTarget: a2, curEventTarget: s2, scope: e2 }, d2 = Ze(f2);
                c2.push([f2.pointer, f2.eventTarget, f2.curEventTarget, d2]);
              }
            } else {
              var h2 = false;
              if (!I.supportsPointerEvent && /mouse/.test(n2.type)) {
                for (var v2 = 0; v2 < r2.length && !h2; v2++) h2 = "mouse" !== r2[v2].pointerType && r2[v2].pointerIsDown;
                h2 = h2 || e2.now() - e2.prevTouchTime < 500 || 0 === n2.timeStamp;
              }
              if (!h2) {
                var g2 = { pointer: n2, pointerId: at(n2), pointerType: i2, eventType: n2.type, curEventTarget: s2, eventTarget: a2, scope: e2 }, m2 = Ze(g2);
                c2.push([g2.pointer, g2.eventTarget, g2.curEventTarget, m2]);
              }
            }
            for (var y2 = 0; y2 < c2.length; y2++) {
              var b2 = c2[y2], x2 = b2[0], w2 = b2[1], E2 = b2[2];
              b2[3][t2](x2, n2, w2, E2);
            }
          };
        }
        function Ze(t2) {
          var e2 = t2.pointerType, n2 = t2.scope, r2 = { interaction: $e.search(t2), searchDetails: t2 };
          return n2.fire("interactions:find", r2), r2.interaction || n2.interactions.new({ pointerType: e2 });
        }
        function tn(t2, e2) {
          var n2 = t2.doc, r2 = t2.scope, i2 = t2.options, o2 = r2.interactions.docEvents, a2 = r2.events, s2 = a2[e2];
          for (var c2 in r2.browser.isIOS && !i2.events && (i2.events = { passive: false }), a2.delegatedEvents) s2(n2, c2, a2.delegateListener), s2(n2, c2, a2.delegateUseCapture, true);
          for (var l2 = i2 && i2.events, u2 = 0; u2 < o2.length; u2++) {
            var p2 = o2[u2];
            s2(n2, p2.type, p2.listener, l2);
          }
        }
        var en = { id: "core/interactions", install: function(t2) {
          for (var e2 = {}, n2 = 0; n2 < Je.length; n2++) {
            var i2 = Je[n2];
            e2[i2] = Qe(i2, t2);
          }
          var a2, c2 = I.pEventTypes;
          function l2() {
            for (var e3 = 0, n3 = t2.interactions.list; e3 < n3.length; e3++) {
              var r2 = n3[e3];
              if (r2.pointerIsDown && "touch" === r2.pointerType && !r2._interacting) for (var i3 = function() {
                var e4 = a3[o2];
                t2.documents.some(function(t3) {
                  return M(t3.doc, e4.downTarget);
                }) || r2.removePointer(e4.pointer, e4.event);
              }, o2 = 0, a3 = r2.pointers; o2 < a3.length; o2++) i3();
            }
          }
          (a2 = k.PointerEvent ? [{ type: c2.down, listener: l2 }, { type: c2.down, listener: e2.pointerDown }, { type: c2.move, listener: e2.pointerMove }, { type: c2.up, listener: e2.pointerUp }, { type: c2.cancel, listener: e2.pointerUp }] : [{ type: "mousedown", listener: e2.pointerDown }, { type: "mousemove", listener: e2.pointerMove }, { type: "mouseup", listener: e2.pointerUp }, { type: "touchstart", listener: l2 }, { type: "touchstart", listener: e2.pointerDown }, { type: "touchmove", listener: e2.pointerMove }, { type: "touchend", listener: e2.pointerUp }, { type: "touchcancel", listener: e2.pointerUp }]).push({ type: "blur", listener: function(e3) {
            for (var n3 = 0, r2 = t2.interactions.list; n3 < r2.length; n3++) {
              r2[n3].documentBlur(e3);
            }
          } }), t2.prevTouchTime = 0, t2.Interaction = function(e3) {
            s(i3, e3);
            var n3 = p(i3);
            function i3() {
              return r(this, i3), n3.apply(this, arguments);
            }
            return o(i3, [{ key: "pointerMoveTolerance", get: function() {
              return t2.interactions.pointerMoveTolerance;
            }, set: function(e4) {
              t2.interactions.pointerMoveTolerance = e4;
            } }, { key: "_now", value: function() {
              return t2.now();
            } }]), i3;
          }(De), t2.interactions = { list: [], new: function(e3) {
            e3.scopeFire = function(e4, n4) {
              return t2.fire(e4, n4);
            };
            var n3 = new t2.Interaction(e3);
            return t2.interactions.list.push(n3), n3;
          }, listeners: e2, docEvents: a2, pointerMoveTolerance: 1 }, t2.usePlugin(he);
        }, listeners: { "scope:add-document": function(t2) {
          return tn(t2, "add");
        }, "scope:remove-document": function(t2) {
          return tn(t2, "remove");
        }, "interactable:unset": function(t2, e2) {
          for (var n2 = t2.interactable, r2 = e2.interactions.list.length - 1; r2 >= 0; r2--) {
            var i2 = e2.interactions.list[r2];
            i2.interactable === n2 && (i2.stop(), e2.fire("interactions:destroy", { interaction: i2 }), i2.destroy(), e2.interactions.list.length > 2 && e2.interactions.list.splice(r2, 1));
          }
        } }, onDocSignal: tn, doOnInteractions: Qe, methodNames: Je }, nn = en, rn = function(t2) {
          return t2[t2.On = 0] = "On", t2[t2.Off = 1] = "Off", t2;
        }(rn || {}), on = function() {
          function t2(e2, n2, i2, o2) {
            r(this, t2), this.target = void 0, this.options = void 0, this._actions = void 0, this.events = new Ve(), this._context = void 0, this._win = void 0, this._doc = void 0, this._scopeEvents = void 0, this._actions = n2.actions, this.target = e2, this._context = n2.context || i2, this._win = y(B(e2) ? this._context : e2), this._doc = this._win.document, this._scopeEvents = o2, this.set(n2);
          }
          return o(t2, [{ key: "_defaults", get: function() {
            return { base: {}, perAction: {}, actions: {} };
          } }, { key: "setOnEvents", value: function(t3, e2) {
            return w.func(e2.onstart) && this.on("".concat(t3, "start"), e2.onstart), w.func(e2.onmove) && this.on("".concat(t3, "move"), e2.onmove), w.func(e2.onend) && this.on("".concat(t3, "end"), e2.onend), w.func(e2.oninertiastart) && this.on("".concat(t3, "inertiastart"), e2.oninertiastart), this;
          } }, { key: "updatePerActionListeners", value: function(t3, e2, n2) {
            var r2, i2 = this, o2 = null == (r2 = this._actions.map[t3]) ? void 0 : r2.filterEventType, a2 = function(t4) {
              return (null == o2 || o2(t4)) && ve(t4, i2._actions);
            };
            (w.array(e2) || w.object(e2)) && this._onOff(rn.Off, t3, e2, void 0, a2), (w.array(n2) || w.object(n2)) && this._onOff(rn.On, t3, n2, void 0, a2);
          } }, { key: "setPerAction", value: function(t3, e2) {
            var n2 = this._defaults;
            for (var r2 in e2) {
              var i2 = r2, o2 = this.options[t3], a2 = e2[i2];
              "listeners" === i2 && this.updatePerActionListeners(t3, o2.listeners, a2), w.array(a2) ? o2[i2] = mt(a2) : w.plainObject(a2) ? (o2[i2] = V(o2[i2] || {}, ge(a2)), w.object(n2.perAction[i2]) && "enabled" in n2.perAction[i2] && (o2[i2].enabled = false !== a2.enabled)) : w.bool(a2) && w.object(n2.perAction[i2]) ? o2[i2].enabled = a2 : o2[i2] = a2;
            }
          } }, { key: "getRect", value: function(t3) {
            return t3 = t3 || (w.element(this.target) ? this.target : null), w.string(this.target) && (t3 = t3 || this._context.querySelector(this.target)), L(t3);
          } }, { key: "rectChecker", value: function(t3) {
            var e2 = this;
            return w.func(t3) ? (this.getRect = function(n2) {
              var r2 = V({}, t3.apply(e2, n2));
              return "width" in r2 || (r2.width = r2.right - r2.left, r2.height = r2.bottom - r2.top), r2;
            }, this) : null === t3 ? (delete this.getRect, this) : this.getRect;
          } }, { key: "_backCompatOption", value: function(t3, e2) {
            if (B(e2) || w.object(e2)) {
              for (var n2 in this.options[t3] = e2, this._actions.map) this.options[n2][t3] = e2;
              return this;
            }
            return this.options[t3];
          } }, { key: "origin", value: function(t3) {
            return this._backCompatOption("origin", t3);
          } }, { key: "deltaSource", value: function(t3) {
            return "page" === t3 || "client" === t3 ? (this.options.deltaSource = t3, this) : this.options.deltaSource;
          } }, { key: "getAllElements", value: function() {
            var t3 = this.target;
            return w.string(t3) ? Array.from(this._context.querySelectorAll(t3)) : w.func(t3) && t3.getAllElements ? t3.getAllElements() : w.element(t3) ? [t3] : [];
          } }, { key: "context", value: function() {
            return this._context;
          } }, { key: "inContext", value: function(t3) {
            return this._context === t3.ownerDocument || M(this._context, t3);
          } }, { key: "testIgnoreAllow", value: function(t3, e2, n2) {
            return !this.testIgnore(t3.ignoreFrom, e2, n2) && this.testAllow(t3.allowFrom, e2, n2);
          } }, { key: "testAllow", value: function(t3, e2, n2) {
            return !t3 || !!w.element(n2) && (w.string(t3) ? F(n2, t3, e2) : !!w.element(t3) && M(t3, n2));
          } }, { key: "testIgnore", value: function(t3, e2, n2) {
            return !(!t3 || !w.element(n2)) && (w.string(t3) ? F(n2, t3, e2) : !!w.element(t3) && M(t3, n2));
          } }, { key: "fire", value: function(t3) {
            return this.events.fire(t3), this;
          } }, { key: "_onOff", value: function(t3, e2, n2, r2, i2) {
            w.object(e2) && !w.array(e2) && (r2 = n2, n2 = null);
            var o2 = $(e2, n2, i2);
            for (var a2 in o2) {
              "wheel" === a2 && (a2 = I.wheelEvent);
              for (var s2 = 0, c2 = o2[a2]; s2 < c2.length; s2++) {
                var l2 = c2[s2];
                ve(a2, this._actions) ? this.events[t3 === rn.On ? "on" : "off"](a2, l2) : w.string(this.target) ? this._scopeEvents[t3 === rn.On ? "addDelegate" : "removeDelegate"](this.target, this._context, a2, l2, r2) : this._scopeEvents[t3 === rn.On ? "add" : "remove"](this.target, a2, l2, r2);
              }
            }
            return this;
          } }, { key: "on", value: function(t3, e2, n2) {
            return this._onOff(rn.On, t3, e2, n2);
          } }, { key: "off", value: function(t3, e2, n2) {
            return this._onOff(rn.Off, t3, e2, n2);
          } }, { key: "set", value: function(t3) {
            var e2 = this._defaults;
            for (var n2 in w.object(t3) || (t3 = {}), this.options = ge(e2.base), this._actions.methodDict) {
              var r2 = n2, i2 = this._actions.methodDict[r2];
              this.options[r2] = {}, this.setPerAction(r2, V(V({}, e2.perAction), e2.actions[r2])), this[i2](t3[r2]);
            }
            for (var o2 in t3) "getRect" !== o2 ? w.func(this[o2]) && this[o2](t3[o2]) : this.rectChecker(t3.getRect);
            return this;
          } }, { key: "unset", value: function() {
            if (w.string(this.target)) for (var t3 in this._scopeEvents.delegatedEvents) for (var e2 = this._scopeEvents.delegatedEvents[t3], n2 = e2.length - 1; n2 >= 0; n2--) {
              var r2 = e2[n2], i2 = r2.selector, o2 = r2.context, a2 = r2.listeners;
              i2 === this.target && o2 === this._context && e2.splice(n2, 1);
              for (var s2 = a2.length - 1; s2 >= 0; s2--) this._scopeEvents.removeDelegate(this.target, this._context, t3, a2[s2][0], a2[s2][1]);
            }
            else this._scopeEvents.remove(this.target, "all");
          } }]), t2;
        }(), an = function() {
          function t2(e2) {
            var n2 = this;
            r(this, t2), this.list = [], this.selectorMap = {}, this.scope = void 0, this.scope = e2, e2.addListeners({ "interactable:unset": function(t3) {
              var e3 = t3.interactable, r2 = e3.target, i2 = w.string(r2) ? n2.selectorMap[r2] : r2[n2.scope.id], o2 = yt(i2, function(t4) {
                return t4 === e3;
              });
              i2.splice(o2, 1);
            } });
          }
          return o(t2, [{ key: "new", value: function(t3, e2) {
            e2 = V(e2 || {}, { actions: this.scope.actions });
            var n2 = new this.scope.Interactable(t3, e2, this.scope.document, this.scope.events);
            return this.scope.addDocument(n2._doc), this.list.push(n2), w.string(t3) ? (this.selectorMap[t3] || (this.selectorMap[t3] = []), this.selectorMap[t3].push(n2)) : (n2.target[this.scope.id] || Object.defineProperty(t3, this.scope.id, { value: [], configurable: true }), t3[this.scope.id].push(n2)), this.scope.fire("interactable:new", { target: t3, options: e2, interactable: n2, win: this.scope._win }), n2;
          } }, { key: "getExisting", value: function(t3, e2) {
            var n2 = e2 && e2.context || this.scope.document, r2 = w.string(t3), i2 = r2 ? this.selectorMap[t3] : t3[this.scope.id];
            if (i2) return bt(i2, function(e3) {
              return e3._context === n2 && (r2 || e3.inContext(t3));
            });
          } }, { key: "forEachMatch", value: function(t3, e2) {
            for (var n2 = 0, r2 = this.list; n2 < r2.length; n2++) {
              var i2 = r2[n2], o2 = void 0;
              if ((w.string(i2.target) ? w.element(t3) && R(t3, i2.target) : t3 === i2.target) && i2.inContext(t3) && (o2 = e2(i2)), void 0 !== o2) return o2;
            }
          } }]), t2;
        }();
        var sn = function() {
          function t2() {
            var e2 = this;
            r(this, t2), this.id = "__interact_scope_".concat(Math.floor(100 * Math.random())), this.isInitialized = false, this.listenerMaps = [], this.browser = I, this.defaults = ge(Te), this.Eventable = Ve, this.actions = { map: {}, phases: { start: true, move: true, end: true }, methodDict: {}, phaselessTypes: {} }, this.interactStatic = function(t3) {
              var e3 = function e4(n3, r2) {
                var i2 = t3.interactables.getExisting(n3, r2);
                return i2 || ((i2 = t3.interactables.new(n3, r2)).events.global = e4.globalEvents), i2;
              };
              return e3.getPointerAverage = lt, e3.getTouchBBox = ut, e3.getTouchDistance = pt, e3.getTouchAngle = ft, e3.getElementRect = L, e3.getElementClientRect = Y, e3.matchesSelector = R, e3.closest = z, e3.globalEvents = {}, e3.version = "1.10.27", e3.scope = t3, e3.use = function(t4, e4) {
                return this.scope.usePlugin(t4, e4), this;
              }, e3.isSet = function(t4, e4) {
                return !!this.scope.interactables.get(t4, e4 && e4.context);
              }, e3.on = Nt(function(t4, e4, n3) {
                if (w.string(t4) && -1 !== t4.search(" ") && (t4 = t4.trim().split(/ +/)), w.array(t4)) {
                  for (var r2 = 0, i2 = t4; r2 < i2.length; r2++) {
                    var o2 = i2[r2];
                    this.on(o2, e4, n3);
                  }
                  return this;
                }
                if (w.object(t4)) {
                  for (var a2 in t4) this.on(a2, t4[a2], e4);
                  return this;
                }
                return ve(t4, this.scope.actions) ? this.globalEvents[t4] ? this.globalEvents[t4].push(e4) : this.globalEvents[t4] = [e4] : this.scope.events.add(this.scope.document, t4, e4, { options: n3 }), this;
              }, "The interact.on() method is being deprecated"), e3.off = Nt(function(t4, e4, n3) {
                if (w.string(t4) && -1 !== t4.search(" ") && (t4 = t4.trim().split(/ +/)), w.array(t4)) {
                  for (var r2 = 0, i2 = t4; r2 < i2.length; r2++) {
                    var o2 = i2[r2];
                    this.off(o2, e4, n3);
                  }
                  return this;
                }
                if (w.object(t4)) {
                  for (var a2 in t4) this.off(a2, t4[a2], e4);
                  return this;
                }
                var s2;
                return ve(t4, this.scope.actions) ? t4 in this.globalEvents && -1 !== (s2 = this.globalEvents[t4].indexOf(e4)) && this.globalEvents[t4].splice(s2, 1) : this.scope.events.remove(this.scope.document, t4, e4, n3), this;
              }, "The interact.off() method is being deprecated"), e3.debug = function() {
                return this.scope;
              }, e3.supportsTouch = function() {
                return I.supportsTouch;
              }, e3.supportsPointerEvent = function() {
                return I.supportsPointerEvent;
              }, e3.stop = function() {
                for (var t4 = 0, e4 = this.scope.interactions.list; t4 < e4.length; t4++) e4[t4].stop();
                return this;
              }, e3.pointerMoveTolerance = function(t4) {
                return w.number(t4) ? (this.scope.interactions.pointerMoveTolerance = t4, this) : this.scope.interactions.pointerMoveTolerance;
              }, e3.addDocument = function(t4, e4) {
                this.scope.addDocument(t4, e4);
              }, e3.removeDocument = function(t4) {
                this.scope.removeDocument(t4);
              }, e3;
            }(this), this.InteractEvent = Se, this.Interactable = void 0, this.interactables = new an(this), this._win = void 0, this.document = void 0, this.window = void 0, this.documents = [], this._plugins = { list: [], map: {} }, this.onWindowUnload = function(t3) {
              return e2.removeDocument(t3.target);
            };
            var n2 = this;
            this.Interactable = function(t3) {
              s(i2, t3);
              var e3 = p(i2);
              function i2() {
                return r(this, i2), e3.apply(this, arguments);
              }
              return o(i2, [{ key: "_defaults", get: function() {
                return n2.defaults;
              } }, { key: "set", value: function(t4) {
                return f(c(i2.prototype), "set", this).call(this, t4), n2.fire("interactable:set", { options: t4, interactable: this }), this;
              } }, { key: "unset", value: function() {
                f(c(i2.prototype), "unset", this).call(this);
                var t4 = n2.interactables.list.indexOf(this);
                t4 < 0 || (n2.interactables.list.splice(t4, 1), n2.fire("interactable:unset", { interactable: this }));
              } }]), i2;
            }(on);
          }
          return o(t2, [{ key: "addListeners", value: function(t3, e2) {
            this.listenerMaps.push({ id: e2, map: t3 });
          } }, { key: "fire", value: function(t3, e2) {
            for (var n2 = 0, r2 = this.listenerMaps; n2 < r2.length; n2++) {
              var i2 = r2[n2].map[t3];
              if (i2 && false === i2(e2, this, t3)) return false;
            }
          } }, { key: "init", value: function(t3) {
            return this.isInitialized ? this : function(t4, e2) {
              t4.isInitialized = true, w.window(e2) && m(e2);
              return k.init(e2), I.init(e2), Lt.init(e2), t4.window = e2, t4.document = e2.document, t4.usePlugin(nn), t4.usePlugin(Ue), t4;
            }(this, t3);
          } }, { key: "pluginIsInstalled", value: function(t3) {
            var e2 = t3.id;
            return e2 ? !!this._plugins.map[e2] : -1 !== this._plugins.list.indexOf(t3);
          } }, { key: "usePlugin", value: function(t3, e2) {
            if (!this.isInitialized) return this;
            if (this.pluginIsInstalled(t3)) return this;
            if (t3.id && (this._plugins.map[t3.id] = t3), this._plugins.list.push(t3), t3.install && t3.install(this, e2), t3.listeners && t3.before) {
              for (var n2 = 0, r2 = this.listenerMaps.length, i2 = t3.before.reduce(function(t4, e3) {
                return t4[e3] = true, t4[cn(e3)] = true, t4;
              }, {}); n2 < r2; n2++) {
                var o2 = this.listenerMaps[n2].id;
                if (o2 && (i2[o2] || i2[cn(o2)])) break;
              }
              this.listenerMaps.splice(n2, 0, { id: t3.id, map: t3.listeners });
            } else t3.listeners && this.listenerMaps.push({ id: t3.id, map: t3.listeners });
            return this;
          } }, { key: "addDocument", value: function(t3, e2) {
            if (-1 !== this.getDocIndex(t3)) return false;
            var n2 = y(t3);
            e2 = e2 ? V({}, e2) : {}, this.documents.push({ doc: t3, options: e2 }), this.events.documents.push(t3), t3 !== this.document && this.events.add(n2, "unload", this.onWindowUnload), this.fire("scope:add-document", { doc: t3, window: n2, scope: this, options: e2 });
          } }, { key: "removeDocument", value: function(t3) {
            var e2 = this.getDocIndex(t3), n2 = y(t3), r2 = this.documents[e2].options;
            this.events.remove(n2, "unload", this.onWindowUnload), this.documents.splice(e2, 1), this.events.documents.splice(e2, 1), this.fire("scope:remove-document", { doc: t3, window: n2, scope: this, options: r2 });
          } }, { key: "getDocIndex", value: function(t3) {
            for (var e2 = 0; e2 < this.documents.length; e2++) if (this.documents[e2].doc === t3) return e2;
            return -1;
          } }, { key: "getDocOptions", value: function(t3) {
            var e2 = this.getDocIndex(t3);
            return -1 === e2 ? null : this.documents[e2].options;
          } }, { key: "now", value: function() {
            return (this.window.Date || Date).now();
          } }]), t2;
        }();
        function cn(t2) {
          return t2 && t2.replace(/\/.*$/, "");
        }
        var ln = new sn(), un = ln.interactStatic, pn = "undefined" != typeof globalThis ? globalThis : window;
        ln.init(pn);
        var fn = Object.freeze({ __proto__: null, edgeTarget: function() {
        }, elements: function() {
        }, grid: function(t2) {
          var e2 = [["x", "y"], ["left", "top"], ["right", "bottom"], ["width", "height"]].filter(function(e3) {
            var n3 = e3[0], r2 = e3[1];
            return n3 in t2 || r2 in t2;
          }), n2 = function(n3, r2) {
            for (var i2 = t2.range, o2 = t2.limits, a2 = void 0 === o2 ? { left: -1 / 0, right: 1 / 0, top: -1 / 0, bottom: 1 / 0 } : o2, s2 = t2.offset, c2 = void 0 === s2 ? { x: 0, y: 0 } : s2, l2 = { range: i2, grid: t2, x: null, y: null }, u2 = 0; u2 < e2.length; u2++) {
              var p2 = e2[u2], f2 = p2[0], d2 = p2[1], h2 = Math.round((n3 - c2.x) / t2[f2]), v2 = Math.round((r2 - c2.y) / t2[d2]);
              l2[f2] = Math.max(a2.left, Math.min(a2.right, h2 * t2[f2] + c2.x)), l2[d2] = Math.max(a2.top, Math.min(a2.bottom, v2 * t2[d2] + c2.y));
            }
            return l2;
          };
          return n2.grid = t2, n2.coordFields = e2, n2;
        } }), dn = { id: "snappers", install: function(t2) {
          var e2 = t2.interactStatic;
          e2.snappers = V(e2.snappers || {}, fn), e2.createSnapGrid = e2.snappers.grid;
        } }, hn = dn, vn = { start: function(t2) {
          var n2 = t2.state, r2 = t2.rect, i2 = t2.edges, o2 = t2.pageCoords, a2 = n2.options, s2 = a2.ratio, c2 = a2.enabled, l2 = n2.options, u2 = l2.equalDelta, p2 = l2.modifiers;
          "preserve" === s2 && (s2 = r2.width / r2.height), n2.startCoords = V({}, o2), n2.startRect = V({}, r2), n2.ratio = s2, n2.equalDelta = u2;
          var f2 = n2.linkedEdges = { top: i2.top || i2.left && !i2.bottom, left: i2.left || i2.top && !i2.right, bottom: i2.bottom || i2.right && !i2.top, right: i2.right || i2.bottom && !i2.left };
          if (n2.xIsPrimaryAxis = !(!i2.left && !i2.right), n2.equalDelta) {
            var d2 = (f2.left ? 1 : -1) * (f2.top ? 1 : -1);
            n2.edgeSign = { x: d2, y: d2 };
          } else n2.edgeSign = { x: f2.left ? -1 : 1, y: f2.top ? -1 : 1 };
          if (false !== c2 && V(i2, f2), null != p2 && p2.length) {
            var h2 = new me(t2.interaction);
            h2.copyFrom(t2.interaction.modification), h2.prepareStates(p2), n2.subModification = h2, h2.startAll(e({}, t2));
          }
        }, set: function(t2) {
          var n2 = t2.state, r2 = t2.rect, i2 = t2.coords, o2 = n2.linkedEdges, a2 = V({}, i2), s2 = n2.equalDelta ? gn : mn;
          if (V(t2.edges, o2), s2(n2, n2.xIsPrimaryAxis, i2, r2), !n2.subModification) return null;
          var c2 = V({}, r2);
          H(o2, c2, { x: i2.x - a2.x, y: i2.y - a2.y });
          var l2 = n2.subModification.setAll(e(e({}, t2), {}, { rect: c2, edges: o2, pageCoords: i2, prevCoords: i2, prevRect: c2 })), u2 = l2.delta;
          l2.changed && (s2(n2, Math.abs(u2.x) > Math.abs(u2.y), l2.coords, l2.rect), V(i2, l2.coords));
          return l2.eventProps;
        }, defaults: { ratio: "preserve", equalDelta: false, modifiers: [], enabled: false } };
        function gn(t2, e2, n2) {
          var r2 = t2.startCoords, i2 = t2.edgeSign;
          e2 ? n2.y = r2.y + (n2.x - r2.x) * i2.y : n2.x = r2.x + (n2.y - r2.y) * i2.x;
        }
        function mn(t2, e2, n2, r2) {
          var i2 = t2.startRect, o2 = t2.startCoords, a2 = t2.ratio, s2 = t2.edgeSign;
          if (e2) {
            var c2 = r2.width / a2;
            n2.y = o2.y + (c2 - i2.height) * s2.y;
          } else {
            var l2 = r2.height * a2;
            n2.x = o2.x + (l2 - i2.width) * s2.x;
          }
        }
        var yn = be(vn, "aspectRatio"), bn = function() {
        };
        bn._defaults = {};
        var xn = bn;
        function wn(t2, e2, n2) {
          return w.func(t2) ? G(t2, e2.interactable, e2.element, [n2.x, n2.y, e2]) : G(t2, e2.interactable, e2.element);
        }
        var En = { start: function(t2) {
          var e2 = t2.rect, n2 = t2.startOffset, r2 = t2.state, i2 = t2.interaction, o2 = t2.pageCoords, a2 = r2.options, s2 = a2.elementRect, c2 = V({ left: 0, top: 0, right: 0, bottom: 0 }, a2.offset || {});
          if (e2 && s2) {
            var l2 = wn(a2.restriction, i2, o2);
            if (l2) {
              var u2 = l2.right - l2.left - e2.width, p2 = l2.bottom - l2.top - e2.height;
              u2 < 0 && (c2.left += u2, c2.right += u2), p2 < 0 && (c2.top += p2, c2.bottom += p2);
            }
            c2.left += n2.left - e2.width * s2.left, c2.top += n2.top - e2.height * s2.top, c2.right += n2.right - e2.width * (1 - s2.right), c2.bottom += n2.bottom - e2.height * (1 - s2.bottom);
          }
          r2.offset = c2;
        }, set: function(t2) {
          var e2 = t2.coords, n2 = t2.interaction, r2 = t2.state, i2 = r2.options, o2 = r2.offset, a2 = wn(i2.restriction, n2, e2);
          if (a2) {
            var s2 = function(t3) {
              return !t3 || "left" in t3 && "top" in t3 || ((t3 = V({}, t3)).left = t3.x || 0, t3.top = t3.y || 0, t3.right = t3.right || t3.left + t3.width, t3.bottom = t3.bottom || t3.top + t3.height), t3;
            }(a2);
            e2.x = Math.max(Math.min(s2.right - o2.right, e2.x), s2.left + o2.left), e2.y = Math.max(Math.min(s2.bottom - o2.bottom, e2.y), s2.top + o2.top);
          }
        }, defaults: { restriction: null, elementRect: null, offset: null, endOnly: false, enabled: false } }, Tn = be(En, "restrict"), Sn = { top: 1 / 0, left: 1 / 0, bottom: -1 / 0, right: -1 / 0 }, _n = { top: -1 / 0, left: -1 / 0, bottom: 1 / 0, right: 1 / 0 };
        function Pn(t2, e2) {
          for (var n2 = 0, r2 = ["top", "left", "bottom", "right"]; n2 < r2.length; n2++) {
            var i2 = r2[n2];
            i2 in t2 || (t2[i2] = e2[i2]);
          }
          return t2;
        }
        var On = { noInner: Sn, noOuter: _n, start: function(t2) {
          var e2, n2 = t2.interaction, r2 = t2.startOffset, i2 = t2.state, o2 = i2.options;
          o2 && (e2 = N(wn(o2.offset, n2, n2.coords.start.page))), e2 = e2 || { x: 0, y: 0 }, i2.offset = { top: e2.y + r2.top, left: e2.x + r2.left, bottom: e2.y - r2.bottom, right: e2.x - r2.right };
        }, set: function(t2) {
          var e2 = t2.coords, n2 = t2.edges, r2 = t2.interaction, i2 = t2.state, o2 = i2.offset, a2 = i2.options;
          if (n2) {
            var s2 = V({}, e2), c2 = wn(a2.inner, r2, s2) || {}, l2 = wn(a2.outer, r2, s2) || {};
            Pn(c2, Sn), Pn(l2, _n), n2.top ? e2.y = Math.min(Math.max(l2.top + o2.top, s2.y), c2.top + o2.top) : n2.bottom && (e2.y = Math.max(Math.min(l2.bottom + o2.bottom, s2.y), c2.bottom + o2.bottom)), n2.left ? e2.x = Math.min(Math.max(l2.left + o2.left, s2.x), c2.left + o2.left) : n2.right && (e2.x = Math.max(Math.min(l2.right + o2.right, s2.x), c2.right + o2.right));
          }
        }, defaults: { inner: null, outer: null, offset: null, endOnly: false, enabled: false } }, kn = be(On, "restrictEdges"), Dn = V({ get elementRect() {
          return { top: 0, left: 0, bottom: 1, right: 1 };
        }, set elementRect(t2) {
        } }, En.defaults), In = be({ start: En.start, set: En.set, defaults: Dn }, "restrictRect"), Mn = { width: -1 / 0, height: -1 / 0 }, zn = { width: 1 / 0, height: 1 / 0 };
        var An = be({ start: function(t2) {
          return On.start(t2);
        }, set: function(t2) {
          var e2 = t2.interaction, n2 = t2.state, r2 = t2.rect, i2 = t2.edges, o2 = n2.options;
          if (i2) {
            var a2 = U(wn(o2.min, e2, t2.coords)) || Mn, s2 = U(wn(o2.max, e2, t2.coords)) || zn;
            n2.options = { endOnly: o2.endOnly, inner: V({}, On.noInner), outer: V({}, On.noOuter) }, i2.top ? (n2.options.inner.top = r2.bottom - a2.height, n2.options.outer.top = r2.bottom - s2.height) : i2.bottom && (n2.options.inner.bottom = r2.top + a2.height, n2.options.outer.bottom = r2.top + s2.height), i2.left ? (n2.options.inner.left = r2.right - a2.width, n2.options.outer.left = r2.right - s2.width) : i2.right && (n2.options.inner.right = r2.left + a2.width, n2.options.outer.right = r2.left + s2.width), On.set(t2), n2.options = o2;
          }
        }, defaults: { min: null, max: null, endOnly: false, enabled: false } }, "restrictSize");
        var Rn = { start: function(t2) {
          var e2, n2 = t2.interaction, r2 = t2.interactable, i2 = t2.element, o2 = t2.rect, a2 = t2.state, s2 = t2.startOffset, c2 = a2.options, l2 = c2.offsetWithOrigin ? function(t3) {
            var e3 = t3.interaction.element, n3 = N(G(t3.state.options.origin, null, null, [e3])), r3 = n3 || K(t3.interactable, e3, t3.interaction.prepared.name);
            return r3;
          }(t2) : { x: 0, y: 0 };
          if ("startCoords" === c2.offset) e2 = { x: n2.coords.start.page.x, y: n2.coords.start.page.y };
          else {
            var u2 = G(c2.offset, r2, i2, [n2]);
            (e2 = N(u2) || { x: 0, y: 0 }).x += l2.x, e2.y += l2.y;
          }
          var p2 = c2.relativePoints;
          a2.offsets = o2 && p2 && p2.length ? p2.map(function(t3, n3) {
            return { index: n3, relativePoint: t3, x: s2.left - o2.width * t3.x + e2.x, y: s2.top - o2.height * t3.y + e2.y };
          }) : [{ index: 0, relativePoint: null, x: e2.x, y: e2.y }];
        }, set: function(t2) {
          var e2 = t2.interaction, n2 = t2.coords, r2 = t2.state, i2 = r2.options, o2 = r2.offsets, a2 = K(e2.interactable, e2.element, e2.prepared.name), s2 = V({}, n2), c2 = [];
          i2.offsetWithOrigin || (s2.x -= a2.x, s2.y -= a2.y);
          for (var l2 = 0, u2 = o2; l2 < u2.length; l2++) for (var p2 = u2[l2], f2 = s2.x - p2.x, d2 = s2.y - p2.y, h2 = 0, v2 = i2.targets.length; h2 < v2; h2++) {
            var g2 = i2.targets[h2], m2 = void 0;
            (m2 = w.func(g2) ? g2(f2, d2, e2._proxy, p2, h2) : g2) && c2.push({ x: (w.number(m2.x) ? m2.x : f2) + p2.x, y: (w.number(m2.y) ? m2.y : d2) + p2.y, range: w.number(m2.range) ? m2.range : i2.range, source: g2, index: h2, offset: p2 });
          }
          for (var y2 = { target: null, inRange: false, distance: 0, range: 0, delta: { x: 0, y: 0 } }, b2 = 0; b2 < c2.length; b2++) {
            var x2 = c2[b2], E2 = x2.range, T2 = x2.x - s2.x, S2 = x2.y - s2.y, _2 = Q(T2, S2), P2 = _2 <= E2;
            E2 === 1 / 0 && y2.inRange && y2.range !== 1 / 0 && (P2 = false), y2.target && !(P2 ? y2.inRange && E2 !== 1 / 0 ? _2 / E2 < y2.distance / y2.range : E2 === 1 / 0 && y2.range !== 1 / 0 || _2 < y2.distance : !y2.inRange && _2 < y2.distance) || (y2.target = x2, y2.distance = _2, y2.range = E2, y2.inRange = P2, y2.delta.x = T2, y2.delta.y = S2);
          }
          return y2.inRange && (n2.x = y2.target.x, n2.y = y2.target.y), r2.closest = y2, y2;
        }, defaults: { range: 1 / 0, targets: null, offset: null, offsetWithOrigin: true, origin: null, relativePoints: null, endOnly: false, enabled: false } }, Cn = be(Rn, "snap");
        var jn = { start: function(t2) {
          var e2 = t2.state, n2 = t2.edges, r2 = e2.options;
          if (!n2) return null;
          t2.state = { options: { targets: null, relativePoints: [{ x: n2.left ? 0 : 1, y: n2.top ? 0 : 1 }], offset: r2.offset || "self", origin: { x: 0, y: 0 }, range: r2.range } }, e2.targetFields = e2.targetFields || [["width", "height"], ["x", "y"]], Rn.start(t2), e2.offsets = t2.state.offsets, t2.state = e2;
        }, set: function(t2) {
          var e2 = t2.interaction, n2 = t2.state, r2 = t2.coords, i2 = n2.options, o2 = n2.offsets, a2 = { x: r2.x - o2[0].x, y: r2.y - o2[0].y };
          n2.options = V({}, i2), n2.options.targets = [];
          for (var s2 = 0, c2 = i2.targets || []; s2 < c2.length; s2++) {
            var l2 = c2[s2], u2 = void 0;
            if (u2 = w.func(l2) ? l2(a2.x, a2.y, e2) : l2) {
              for (var p2 = 0, f2 = n2.targetFields; p2 < f2.length; p2++) {
                var d2 = f2[p2], h2 = d2[0], v2 = d2[1];
                if (h2 in u2 || v2 in u2) {
                  u2.x = u2[h2], u2.y = u2[v2];
                  break;
                }
              }
              n2.options.targets.push(u2);
            }
          }
          var g2 = Rn.set(t2);
          return n2.options = i2, g2;
        }, defaults: { range: 1 / 0, targets: null, offset: null, endOnly: false, enabled: false } }, Fn = be(jn, "snapSize");
        var Xn = { aspectRatio: yn, restrictEdges: kn, restrict: Tn, restrictRect: In, restrictSize: An, snapEdges: be({ start: function(t2) {
          var e2 = t2.edges;
          return e2 ? (t2.state.targetFields = t2.state.targetFields || [[e2.left ? "left" : "right", e2.top ? "top" : "bottom"]], jn.start(t2)) : null;
        }, set: jn.set, defaults: V(ge(jn.defaults), { targets: void 0, range: void 0, offset: { x: 0, y: 0 } }) }, "snapEdges"), snap: Cn, snapSize: Fn, spring: xn, avoid: xn, transform: xn, rubberband: xn }, Yn = { id: "modifiers", install: function(t2) {
          var e2 = t2.interactStatic;
          for (var n2 in t2.usePlugin(Ee), t2.usePlugin(hn), e2.modifiers = Xn, Xn) {
            var r2 = Xn[n2], i2 = r2._defaults, o2 = r2._methods;
            i2._methods = o2, t2.defaults.perAction[n2] = i2;
          }
        } }, Ln = Yn, qn = function(t2) {
          s(n2, t2);
          var e2 = p(n2);
          function n2(t3, i2, o2, a2, s2, c2) {
            var l2;
            if (r(this, n2), tt(u(l2 = e2.call(this, s2)), o2), o2 !== i2 && tt(u(l2), i2), l2.timeStamp = c2, l2.originalEvent = o2, l2.type = t3, l2.pointerId = at(i2), l2.pointerType = dt(i2), l2.target = a2, l2.currentTarget = null, "tap" === t3) {
              var p2 = s2.getPointerIndex(i2);
              l2.dt = l2.timeStamp - s2.pointers[p2].downTime;
              var f2 = l2.timeStamp - s2.tapTime;
              l2.double = !!s2.prevTap && "doubletap" !== s2.prevTap.type && s2.prevTap.target === l2.target && f2 < 500;
            } else "doubletap" === t3 && (l2.dt = i2.timeStamp - s2.tapTime, l2.double = true);
            return l2;
          }
          return o(n2, [{ key: "_subtractOrigin", value: function(t3) {
            var e3 = t3.x, n3 = t3.y;
            return this.pageX -= e3, this.pageY -= n3, this.clientX -= e3, this.clientY -= n3, this;
          } }, { key: "_addOrigin", value: function(t3) {
            var e3 = t3.x, n3 = t3.y;
            return this.pageX += e3, this.pageY += n3, this.clientX += e3, this.clientY += n3, this;
          } }, { key: "preventDefault", value: function() {
            this.originalEvent.preventDefault();
          } }]), n2;
        }(vt), Bn = { id: "pointer-events/base", before: ["inertia", "modifiers", "auto-start", "actions"], install: function(t2) {
          t2.pointerEvents = Bn, t2.defaults.actions.pointerEvents = Bn.defaults, V(t2.actions.phaselessTypes, Bn.types);
        }, listeners: { "interactions:new": function(t2) {
          var e2 = t2.interaction;
          e2.prevTap = null, e2.tapTime = 0;
        }, "interactions:update-pointer": function(t2) {
          var e2 = t2.down, n2 = t2.pointerInfo;
          if (!e2 && n2.hold) return;
          n2.hold = { duration: 1 / 0, timeout: null };
        }, "interactions:move": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointer, i2 = t2.event, o2 = t2.eventTarget;
          t2.duplicate || n2.pointerIsDown && !n2.pointerWasMoved || (n2.pointerIsDown && Gn(t2), Vn({ interaction: n2, pointer: r2, event: i2, eventTarget: o2, type: "move" }, e2));
        }, "interactions:down": function(t2, e2) {
          !function(t3, e3) {
            for (var n2 = t3.interaction, r2 = t3.pointer, i2 = t3.event, o2 = t3.eventTarget, a2 = t3.pointerIndex, s2 = n2.pointers[a2].hold, c2 = q(o2), l2 = { interaction: n2, pointer: r2, event: i2, eventTarget: o2, type: "hold", targets: [], path: c2, node: null }, u2 = 0; u2 < c2.length; u2++) {
              var p2 = c2[u2];
              l2.node = p2, e3.fire("pointerEvents:collect-targets", l2);
            }
            if (!l2.targets.length) return;
            for (var f2 = 1 / 0, d2 = 0, h2 = l2.targets; d2 < h2.length; d2++) {
              var v2 = h2[d2].eventable.options.holdDuration;
              v2 < f2 && (f2 = v2);
            }
            s2.duration = f2, s2.timeout = setTimeout(function() {
              Vn({ interaction: n2, eventTarget: o2, pointer: r2, event: i2, type: "hold" }, e3);
            }, f2);
          }(t2, e2), Vn(t2, e2);
        }, "interactions:up": function(t2, e2) {
          Gn(t2), Vn(t2, e2), function(t3, e3) {
            var n2 = t3.interaction, r2 = t3.pointer, i2 = t3.event, o2 = t3.eventTarget;
            n2.pointerWasMoved || Vn({ interaction: n2, eventTarget: o2, pointer: r2, event: i2, type: "tap" }, e3);
          }(t2, e2);
        }, "interactions:cancel": function(t2, e2) {
          Gn(t2), Vn(t2, e2);
        } }, PointerEvent: qn, fire: Vn, collectEventTargets: Wn, defaults: { holdDuration: 600, ignoreFrom: null, allowFrom: null, origin: { x: 0, y: 0 } }, types: { down: true, move: true, up: true, cancel: true, tap: true, doubletap: true, hold: true } };
        function Vn(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointer, i2 = t2.event, o2 = t2.eventTarget, a2 = t2.type, s2 = t2.targets, c2 = void 0 === s2 ? Wn(t2, e2) : s2, l2 = new qn(a2, r2, i2, o2, n2, e2.now());
          e2.fire("pointerEvents:new", { pointerEvent: l2 });
          for (var u2 = { interaction: n2, pointer: r2, event: i2, eventTarget: o2, targets: c2, type: a2, pointerEvent: l2 }, p2 = 0; p2 < c2.length; p2++) {
            var f2 = c2[p2];
            for (var d2 in f2.props || {}) l2[d2] = f2.props[d2];
            var h2 = K(f2.eventable, f2.node);
            if (l2._subtractOrigin(h2), l2.eventable = f2.eventable, l2.currentTarget = f2.node, f2.eventable.fire(l2), l2._addOrigin(h2), l2.immediatePropagationStopped || l2.propagationStopped && p2 + 1 < c2.length && c2[p2 + 1].node !== l2.currentTarget) break;
          }
          if (e2.fire("pointerEvents:fired", u2), "tap" === a2) {
            var v2 = l2.double ? Vn({ interaction: n2, pointer: r2, event: i2, eventTarget: o2, type: "doubletap" }, e2) : l2;
            n2.prevTap = v2, n2.tapTime = v2.timeStamp;
          }
          return l2;
        }
        function Wn(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointer, i2 = t2.event, o2 = t2.eventTarget, a2 = t2.type, s2 = n2.getPointerIndex(r2), c2 = n2.pointers[s2];
          if ("tap" === a2 && (n2.pointerWasMoved || !c2 || c2.downTarget !== o2)) return [];
          for (var l2 = q(o2), u2 = { interaction: n2, pointer: r2, event: i2, eventTarget: o2, type: a2, path: l2, targets: [], node: null }, p2 = 0; p2 < l2.length; p2++) {
            var f2 = l2[p2];
            u2.node = f2, e2.fire("pointerEvents:collect-targets", u2);
          }
          return "hold" === a2 && (u2.targets = u2.targets.filter(function(t3) {
            var e3, r3;
            return t3.eventable.options.holdDuration === (null == (e3 = n2.pointers[s2]) || null == (r3 = e3.hold) ? void 0 : r3.duration);
          })), u2.targets;
        }
        function Gn(t2) {
          var e2 = t2.interaction, n2 = t2.pointerIndex, r2 = e2.pointers[n2].hold;
          r2 && r2.timeout && (clearTimeout(r2.timeout), r2.timeout = null);
        }
        var Nn = Object.freeze({ __proto__: null, default: Bn });
        function Un(t2) {
          var e2 = t2.interaction;
          e2.holdIntervalHandle && (clearInterval(e2.holdIntervalHandle), e2.holdIntervalHandle = null);
        }
        var Hn = { id: "pointer-events/holdRepeat", install: function(t2) {
          t2.usePlugin(Bn);
          var e2 = t2.pointerEvents;
          e2.defaults.holdRepeatInterval = 0, e2.types.holdrepeat = t2.actions.phaselessTypes.holdrepeat = true;
        }, listeners: ["move", "up", "cancel", "endall"].reduce(function(t2, e2) {
          return t2["pointerEvents:".concat(e2)] = Un, t2;
        }, { "pointerEvents:new": function(t2) {
          var e2 = t2.pointerEvent;
          "hold" === e2.type && (e2.count = (e2.count || 0) + 1);
        }, "pointerEvents:fired": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointerEvent, i2 = t2.eventTarget, o2 = t2.targets;
          if ("hold" === r2.type && o2.length) {
            var a2 = o2[0].eventable.options.holdRepeatInterval;
            a2 <= 0 || (n2.holdIntervalHandle = setTimeout(function() {
              e2.pointerEvents.fire({ interaction: n2, eventTarget: i2, type: "hold", pointer: r2, event: r2 }, e2);
            }, a2));
          }
        } }) }, Kn = Hn;
        var $n = { id: "pointer-events/interactableTargets", install: function(t2) {
          var e2 = t2.Interactable;
          e2.prototype.pointerEvents = function(t3) {
            return V(this.events.options, t3), this;
          };
          var n2 = e2.prototype._backCompatOption;
          e2.prototype._backCompatOption = function(t3, e3) {
            var r2 = n2.call(this, t3, e3);
            return r2 === this && (this.events.options[t3] = e3), r2;
          };
        }, listeners: { "pointerEvents:collect-targets": function(t2, e2) {
          var n2 = t2.targets, r2 = t2.node, i2 = t2.type, o2 = t2.eventTarget;
          e2.interactables.forEachMatch(r2, function(t3) {
            var e3 = t3.events, a2 = e3.options;
            e3.types[i2] && e3.types[i2].length && t3.testIgnoreAllow(a2, r2, o2) && n2.push({ node: r2, eventable: e3, props: { interactable: t3 } });
          });
        }, "interactable:new": function(t2) {
          var e2 = t2.interactable;
          e2.events.getRect = function(t3) {
            return e2.getRect(t3);
          };
        }, "interactable:set": function(t2, e2) {
          var n2 = t2.interactable, r2 = t2.options;
          V(n2.events.options, e2.pointerEvents.defaults), V(n2.events.options, r2.pointerEvents || {});
        } } }, Jn = $n, Qn = { id: "pointer-events", install: function(t2) {
          t2.usePlugin(Nn), t2.usePlugin(Kn), t2.usePlugin(Jn);
        } }, Zn = Qn;
        var tr = { id: "reflow", install: function(t2) {
          var e2 = t2.Interactable;
          t2.actions.phases.reflow = true, e2.prototype.reflow = function(e3) {
            return function(t3, e4, n2) {
              for (var r2 = t3.getAllElements(), i2 = n2.window.Promise, o2 = i2 ? [] : null, a2 = function() {
                var a3 = r2[s2], c2 = t3.getRect(a3);
                if (!c2) return 1;
                var l2, u2 = bt(n2.interactions.list, function(n3) {
                  return n3.interacting() && n3.interactable === t3 && n3.element === a3 && n3.prepared.name === e4.name;
                });
                if (u2) u2.move(), o2 && (l2 = u2._reflowPromise || new i2(function(t4) {
                  u2._reflowResolve = t4;
                }));
                else {
                  var p2 = U(c2), f2 = /* @__PURE__ */ function(t4) {
                    return { coords: t4, get page() {
                      return this.coords.page;
                    }, get client() {
                      return this.coords.client;
                    }, get timeStamp() {
                      return this.coords.timeStamp;
                    }, get pageX() {
                      return this.coords.page.x;
                    }, get pageY() {
                      return this.coords.page.y;
                    }, get clientX() {
                      return this.coords.client.x;
                    }, get clientY() {
                      return this.coords.client.y;
                    }, get pointerId() {
                      return this.coords.pointerId;
                    }, get target() {
                      return this.coords.target;
                    }, get type() {
                      return this.coords.type;
                    }, get pointerType() {
                      return this.coords.pointerType;
                    }, get buttons() {
                      return this.coords.buttons;
                    }, preventDefault: function() {
                    } };
                  }({ page: { x: p2.x, y: p2.y }, client: { x: p2.x, y: p2.y }, timeStamp: n2.now() });
                  l2 = function(t4, e5, n3, r3, i3) {
                    var o3 = t4.interactions.new({ pointerType: "reflow" }), a4 = { interaction: o3, event: i3, pointer: i3, eventTarget: n3, phase: "reflow" };
                    o3.interactable = e5, o3.element = n3, o3.prevEvent = i3, o3.updatePointer(i3, i3, n3, true), nt(o3.coords.delta), Ut(o3.prepared, r3), o3._doPhase(a4);
                    var s3 = t4.window, c3 = s3.Promise, l3 = c3 ? new c3(function(t5) {
                      o3._reflowResolve = t5;
                    }) : void 0;
                    o3._reflowPromise = l3, o3.start(r3, e5, n3), o3._interacting ? (o3.move(a4), o3.end(i3)) : (o3.stop(), o3._reflowResolve());
                    return o3.removePointer(i3, i3), l3;
                  }(n2, t3, a3, e4, f2);
                }
                o2 && o2.push(l2);
              }, s2 = 0; s2 < r2.length && !a2(); s2++) ;
              return o2 && i2.all(o2).then(function() {
                return t3;
              });
            }(this, e3, t2);
          };
        }, listeners: { "interactions:stop": function(t2, e2) {
          var n2 = t2.interaction;
          "reflow" === n2.pointerType && (n2._reflowResolve && n2._reflowResolve(), function(t3, e3) {
            t3.splice(t3.indexOf(e3), 1);
          }(e2.interactions.list, n2));
        } } }, er = tr;
        if (un.use(he), un.use(Ce), un.use(Zn), un.use(qe), un.use(Ln), un.use(pe), un.use(Xt), un.use(Gt), un.use(er), un.default = un, "object" === ("undefined" == typeof module ? "undefined" : n(module)) && module) try {
          module.exports = un;
        } catch (t2) {
        }
        return un.default = un, un;
      });
    }
  });

  // node_modules/@hotwired/stimulus/dist/stimulus.js
  var EventListener = class {
    constructor(eventTarget, eventName, eventOptions) {
      this.eventTarget = eventTarget;
      this.eventName = eventName;
      this.eventOptions = eventOptions;
      this.unorderedBindings = /* @__PURE__ */ new Set();
    }
    connect() {
      this.eventTarget.addEventListener(this.eventName, this, this.eventOptions);
    }
    disconnect() {
      this.eventTarget.removeEventListener(this.eventName, this, this.eventOptions);
    }
    bindingConnected(binding) {
      this.unorderedBindings.add(binding);
    }
    bindingDisconnected(binding) {
      this.unorderedBindings.delete(binding);
    }
    handleEvent(event) {
      const extendedEvent2 = extendEvent(event);
      for (const binding of this.bindings) {
        if (extendedEvent2.immediatePropagationStopped) {
          break;
        } else {
          binding.handleEvent(extendedEvent2);
        }
      }
    }
    hasBindings() {
      return this.unorderedBindings.size > 0;
    }
    get bindings() {
      return Array.from(this.unorderedBindings).sort((left, right) => {
        const leftIndex = left.index, rightIndex = right.index;
        return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;
      });
    }
  };
  function extendEvent(event) {
    if ("immediatePropagationStopped" in event) {
      return event;
    } else {
      const { stopImmediatePropagation } = event;
      return Object.assign(event, {
        immediatePropagationStopped: false,
        stopImmediatePropagation() {
          this.immediatePropagationStopped = true;
          stopImmediatePropagation.call(this);
        }
      });
    }
  }
  var Dispatcher = class {
    constructor(application2) {
      this.application = application2;
      this.eventListenerMaps = /* @__PURE__ */ new Map();
      this.started = false;
    }
    start() {
      if (!this.started) {
        this.started = true;
        this.eventListeners.forEach((eventListener) => eventListener.connect());
      }
    }
    stop() {
      if (this.started) {
        this.started = false;
        this.eventListeners.forEach((eventListener) => eventListener.disconnect());
      }
    }
    get eventListeners() {
      return Array.from(this.eventListenerMaps.values()).reduce((listeners, map) => listeners.concat(Array.from(map.values())), []);
    }
    bindingConnected(binding) {
      this.fetchEventListenerForBinding(binding).bindingConnected(binding);
    }
    bindingDisconnected(binding, clearEventListeners = false) {
      this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);
      if (clearEventListeners)
        this.clearEventListenersForBinding(binding);
    }
    handleError(error2, message2, detail = {}) {
      this.application.handleError(error2, `Error ${message2}`, detail);
    }
    clearEventListenersForBinding(binding) {
      const eventListener = this.fetchEventListenerForBinding(binding);
      if (!eventListener.hasBindings()) {
        eventListener.disconnect();
        this.removeMappedEventListenerFor(binding);
      }
    }
    removeMappedEventListenerFor(binding) {
      const { eventTarget, eventName, eventOptions } = binding;
      const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);
      const cacheKey = this.cacheKey(eventName, eventOptions);
      eventListenerMap.delete(cacheKey);
      if (eventListenerMap.size == 0)
        this.eventListenerMaps.delete(eventTarget);
    }
    fetchEventListenerForBinding(binding) {
      const { eventTarget, eventName, eventOptions } = binding;
      return this.fetchEventListener(eventTarget, eventName, eventOptions);
    }
    fetchEventListener(eventTarget, eventName, eventOptions) {
      const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);
      const cacheKey = this.cacheKey(eventName, eventOptions);
      let eventListener = eventListenerMap.get(cacheKey);
      if (!eventListener) {
        eventListener = this.createEventListener(eventTarget, eventName, eventOptions);
        eventListenerMap.set(cacheKey, eventListener);
      }
      return eventListener;
    }
    createEventListener(eventTarget, eventName, eventOptions) {
      const eventListener = new EventListener(eventTarget, eventName, eventOptions);
      if (this.started) {
        eventListener.connect();
      }
      return eventListener;
    }
    fetchEventListenerMapForEventTarget(eventTarget) {
      let eventListenerMap = this.eventListenerMaps.get(eventTarget);
      if (!eventListenerMap) {
        eventListenerMap = /* @__PURE__ */ new Map();
        this.eventListenerMaps.set(eventTarget, eventListenerMap);
      }
      return eventListenerMap;
    }
    cacheKey(eventName, eventOptions) {
      const parts = [eventName];
      Object.keys(eventOptions).sort().forEach((key) => {
        parts.push(`${eventOptions[key] ? "" : "!"}${key}`);
      });
      return parts.join(":");
    }
  };
  var defaultActionDescriptorFilters = {
    stop({ event, value }) {
      if (value)
        event.stopPropagation();
      return true;
    },
    prevent({ event, value }) {
      if (value)
        event.preventDefault();
      return true;
    },
    self({ event, value, element }) {
      if (value) {
        return element === event.target;
      } else {
        return true;
      }
    }
  };
  var descriptorPattern = /^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;
  function parseActionDescriptorString(descriptorString) {
    const source = descriptorString.trim();
    const matches = source.match(descriptorPattern) || [];
    let eventName = matches[2];
    let keyFilter = matches[3];
    if (keyFilter && !["keydown", "keyup", "keypress"].includes(eventName)) {
      eventName += `.${keyFilter}`;
      keyFilter = "";
    }
    return {
      eventTarget: parseEventTarget(matches[4]),
      eventName,
      eventOptions: matches[7] ? parseEventOptions(matches[7]) : {},
      identifier: matches[5],
      methodName: matches[6],
      keyFilter: matches[1] || keyFilter
    };
  }
  function parseEventTarget(eventTargetName) {
    if (eventTargetName == "window") {
      return window;
    } else if (eventTargetName == "document") {
      return document;
    }
  }
  function parseEventOptions(eventOptions) {
    return eventOptions.split(":").reduce((options, token) => Object.assign(options, { [token.replace(/^!/, "")]: !/^!/.test(token) }), {});
  }
  function stringifyEventTarget(eventTarget) {
    if (eventTarget == window) {
      return "window";
    } else if (eventTarget == document) {
      return "document";
    }
  }
  function camelize(value) {
    return value.replace(/(?:[_-])([a-z0-9])/g, (_, char) => char.toUpperCase());
  }
  function namespaceCamelize(value) {
    return camelize(value.replace(/--/g, "-").replace(/__/g, "_"));
  }
  function capitalize(value) {
    return value.charAt(0).toUpperCase() + value.slice(1);
  }
  function dasherize(value) {
    return value.replace(/([A-Z])/g, (_, char) => `-${char.toLowerCase()}`);
  }
  function tokenize(value) {
    return value.match(/[^\s]+/g) || [];
  }
  function isSomething(object) {
    return object !== null && object !== void 0;
  }
  function hasProperty(object, property) {
    return Object.prototype.hasOwnProperty.call(object, property);
  }
  var allModifiers = ["meta", "ctrl", "alt", "shift"];
  var Action = class {
    constructor(element, index, descriptor, schema) {
      this.element = element;
      this.index = index;
      this.eventTarget = descriptor.eventTarget || element;
      this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error("missing event name");
      this.eventOptions = descriptor.eventOptions || {};
      this.identifier = descriptor.identifier || error("missing identifier");
      this.methodName = descriptor.methodName || error("missing method name");
      this.keyFilter = descriptor.keyFilter || "";
      this.schema = schema;
    }
    static forToken(token, schema) {
      return new this(token.element, token.index, parseActionDescriptorString(token.content), schema);
    }
    toString() {
      const eventFilter = this.keyFilter ? `.${this.keyFilter}` : "";
      const eventTarget = this.eventTargetName ? `@${this.eventTargetName}` : "";
      return `${this.eventName}${eventFilter}${eventTarget}->${this.identifier}#${this.methodName}`;
    }
    shouldIgnoreKeyboardEvent(event) {
      if (!this.keyFilter) {
        return false;
      }
      const filters = this.keyFilter.split("+");
      if (this.keyFilterDissatisfied(event, filters)) {
        return true;
      }
      const standardFilter = filters.filter((key) => !allModifiers.includes(key))[0];
      if (!standardFilter) {
        return false;
      }
      if (!hasProperty(this.keyMappings, standardFilter)) {
        error(`contains unknown key filter: ${this.keyFilter}`);
      }
      return this.keyMappings[standardFilter].toLowerCase() !== event.key.toLowerCase();
    }
    shouldIgnoreMouseEvent(event) {
      if (!this.keyFilter) {
        return false;
      }
      const filters = [this.keyFilter];
      if (this.keyFilterDissatisfied(event, filters)) {
        return true;
      }
      return false;
    }
    get params() {
      const params = {};
      const pattern = new RegExp(`^data-${this.identifier}-(.+)-param$`, "i");
      for (const { name, value } of Array.from(this.element.attributes)) {
        const match2 = name.match(pattern);
        const key = match2 && match2[1];
        if (key) {
          params[camelize(key)] = typecast(value);
        }
      }
      return params;
    }
    get eventTargetName() {
      return stringifyEventTarget(this.eventTarget);
    }
    get keyMappings() {
      return this.schema.keyMappings;
    }
    keyFilterDissatisfied(event, filters) {
      const [meta, ctrl, alt, shift3] = allModifiers.map((modifier) => filters.includes(modifier));
      return event.metaKey !== meta || event.ctrlKey !== ctrl || event.altKey !== alt || event.shiftKey !== shift3;
    }
  };
  var defaultEventNames = {
    a: () => "click",
    button: () => "click",
    form: () => "submit",
    details: () => "toggle",
    input: (e) => e.getAttribute("type") == "submit" ? "click" : "input",
    select: () => "change",
    textarea: () => "input"
  };
  function getDefaultEventNameForElement(element) {
    const tagName = element.tagName.toLowerCase();
    if (tagName in defaultEventNames) {
      return defaultEventNames[tagName](element);
    }
  }
  function error(message2) {
    throw new Error(message2);
  }
  function typecast(value) {
    try {
      return JSON.parse(value);
    } catch (o_O) {
      return value;
    }
  }
  var Binding = class {
    constructor(context, action) {
      this.context = context;
      this.action = action;
    }
    get index() {
      return this.action.index;
    }
    get eventTarget() {
      return this.action.eventTarget;
    }
    get eventOptions() {
      return this.action.eventOptions;
    }
    get identifier() {
      return this.context.identifier;
    }
    handleEvent(event) {
      const actionEvent = this.prepareActionEvent(event);
      if (this.willBeInvokedByEvent(event) && this.applyEventModifiers(actionEvent)) {
        this.invokeWithEvent(actionEvent);
      }
    }
    get eventName() {
      return this.action.eventName;
    }
    get method() {
      const method = this.controller[this.methodName];
      if (typeof method == "function") {
        return method;
      }
      throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`);
    }
    applyEventModifiers(event) {
      const { element } = this.action;
      const { actionDescriptorFilters } = this.context.application;
      const { controller } = this.context;
      let passes = true;
      for (const [name, value] of Object.entries(this.eventOptions)) {
        if (name in actionDescriptorFilters) {
          const filter2 = actionDescriptorFilters[name];
          passes = passes && filter2({ name, value, event, element, controller });
        } else {
          continue;
        }
      }
      return passes;
    }
    prepareActionEvent(event) {
      return Object.assign(event, { params: this.action.params });
    }
    invokeWithEvent(event) {
      const { target, currentTarget } = event;
      try {
        this.method.call(this.controller, event);
        this.context.logDebugActivity(this.methodName, { event, target, currentTarget, action: this.methodName });
      } catch (error2) {
        const { identifier, controller, element, index } = this;
        const detail = { identifier, controller, element, index, event };
        this.context.handleError(error2, `invoking action "${this.action}"`, detail);
      }
    }
    willBeInvokedByEvent(event) {
      const eventTarget = event.target;
      if (event instanceof KeyboardEvent && this.action.shouldIgnoreKeyboardEvent(event)) {
        return false;
      }
      if (event instanceof MouseEvent && this.action.shouldIgnoreMouseEvent(event)) {
        return false;
      }
      if (this.element === eventTarget) {
        return true;
      } else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {
        return this.scope.containsElement(eventTarget);
      } else {
        return this.scope.containsElement(this.action.element);
      }
    }
    get controller() {
      return this.context.controller;
    }
    get methodName() {
      return this.action.methodName;
    }
    get element() {
      return this.scope.element;
    }
    get scope() {
      return this.context.scope;
    }
  };
  var ElementObserver = class {
    constructor(element, delegate) {
      this.mutationObserverInit = { attributes: true, childList: true, subtree: true };
      this.element = element;
      this.started = false;
      this.delegate = delegate;
      this.elements = /* @__PURE__ */ new Set();
      this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));
    }
    start() {
      if (!this.started) {
        this.started = true;
        this.mutationObserver.observe(this.element, this.mutationObserverInit);
        this.refresh();
      }
    }
    pause(callback) {
      if (this.started) {
        this.mutationObserver.disconnect();
        this.started = false;
      }
      callback();
      if (!this.started) {
        this.mutationObserver.observe(this.element, this.mutationObserverInit);
        this.started = true;
      }
    }
    stop() {
      if (this.started) {
        this.mutationObserver.takeRecords();
        this.mutationObserver.disconnect();
        this.started = false;
      }
    }
    refresh() {
      if (this.started) {
        const matches = new Set(this.matchElementsInTree());
        for (const element of Array.from(this.elements)) {
          if (!matches.has(element)) {
            this.removeElement(element);
          }
        }
        for (const element of Array.from(matches)) {
          this.addElement(element);
        }
      }
    }
    processMutations(mutations) {
      if (this.started) {
        for (const mutation of mutations) {
          this.processMutation(mutation);
        }
      }
    }
    processMutation(mutation) {
      if (mutation.type == "attributes") {
        this.processAttributeChange(mutation.target, mutation.attributeName);
      } else if (mutation.type == "childList") {
        this.processRemovedNodes(mutation.removedNodes);
        this.processAddedNodes(mutation.addedNodes);
      }
    }
    processAttributeChange(element, attributeName) {
      if (this.elements.has(element)) {
        if (this.delegate.elementAttributeChanged && this.matchElement(element)) {
          this.delegate.elementAttributeChanged(element, attributeName);
        } else {
          this.removeElement(element);
        }
      } else if (this.matchElement(element)) {
        this.addElement(element);
      }
    }
    processRemovedNodes(nodes) {
      for (const node of Array.from(nodes)) {
        const element = this.elementFromNode(node);
        if (element) {
          this.processTree(element, this.removeElement);
        }
      }
    }
    processAddedNodes(nodes) {
      for (const node of Array.from(nodes)) {
        const element = this.elementFromNode(node);
        if (element && this.elementIsActive(element)) {
          this.processTree(element, this.addElement);
        }
      }
    }
    matchElement(element) {
      return this.delegate.matchElement(element);
    }
    matchElementsInTree(tree = this.element) {
      return this.delegate.matchElementsInTree(tree);
    }
    processTree(tree, processor) {
      for (const element of this.matchElementsInTree(tree)) {
        processor.call(this, element);
      }
    }
    elementFromNode(node) {
      if (node.nodeType == Node.ELEMENT_NODE) {
        return node;
      }
    }
    elementIsActive(element) {
      if (element.isConnected != this.element.isConnected) {
        return false;
      } else {
        return this.element.contains(element);
      }
    }
    addElement(element) {
      if (!this.elements.has(element)) {
        if (this.elementIsActive(element)) {
          this.elements.add(element);
          if (this.delegate.elementMatched) {
            this.delegate.elementMatched(element);
          }
        }
      }
    }
    removeElement(element) {
      if (this.elements.has(element)) {
        this.elements.delete(element);
        if (this.delegate.elementUnmatched) {
          this.delegate.elementUnmatched(element);
        }
      }
    }
  };
  var AttributeObserver = class {
    constructor(element, attributeName, delegate) {
      this.attributeName = attributeName;
      this.delegate = delegate;
      this.elementObserver = new ElementObserver(element, this);
    }
    get element() {
      return this.elementObserver.element;
    }
    get selector() {
      return `[${this.attributeName}]`;
    }
    start() {
      this.elementObserver.start();
    }
    pause(callback) {
      this.elementObserver.pause(callback);
    }
    stop() {
      this.elementObserver.stop();
    }
    refresh() {
      this.elementObserver.refresh();
    }
    get started() {
      return this.elementObserver.started;
    }
    matchElement(element) {
      return element.hasAttribute(this.attributeName);
    }
    matchElementsInTree(tree) {
      const match2 = this.matchElement(tree) ? [tree] : [];
      const matches = Array.from(tree.querySelectorAll(this.selector));
      return match2.concat(matches);
    }
    elementMatched(element) {
      if (this.delegate.elementMatchedAttribute) {
        this.delegate.elementMatchedAttribute(element, this.attributeName);
      }
    }
    elementUnmatched(element) {
      if (this.delegate.elementUnmatchedAttribute) {
        this.delegate.elementUnmatchedAttribute(element, this.attributeName);
      }
    }
    elementAttributeChanged(element, attributeName) {
      if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {
        this.delegate.elementAttributeValueChanged(element, attributeName);
      }
    }
  };
  function add(map, key, value) {
    fetch(map, key).add(value);
  }
  function del(map, key, value) {
    fetch(map, key).delete(value);
    prune(map, key);
  }
  function fetch(map, key) {
    let values = map.get(key);
    if (!values) {
      values = /* @__PURE__ */ new Set();
      map.set(key, values);
    }
    return values;
  }
  function prune(map, key) {
    const values = map.get(key);
    if (values != null && values.size == 0) {
      map.delete(key);
    }
  }
  var Multimap = class {
    constructor() {
      this.valuesByKey = /* @__PURE__ */ new Map();
    }
    get keys() {
      return Array.from(this.valuesByKey.keys());
    }
    get values() {
      const sets = Array.from(this.valuesByKey.values());
      return sets.reduce((values, set) => values.concat(Array.from(set)), []);
    }
    get size() {
      const sets = Array.from(this.valuesByKey.values());
      return sets.reduce((size2, set) => size2 + set.size, 0);
    }
    add(key, value) {
      add(this.valuesByKey, key, value);
    }
    delete(key, value) {
      del(this.valuesByKey, key, value);
    }
    has(key, value) {
      const values = this.valuesByKey.get(key);
      return values != null && values.has(value);
    }
    hasKey(key) {
      return this.valuesByKey.has(key);
    }
    hasValue(value) {
      const sets = Array.from(this.valuesByKey.values());
      return sets.some((set) => set.has(value));
    }
    getValuesForKey(key) {
      const values = this.valuesByKey.get(key);
      return values ? Array.from(values) : [];
    }
    getKeysForValue(value) {
      return Array.from(this.valuesByKey).filter(([_key, values]) => values.has(value)).map(([key, _values]) => key);
    }
  };
  var SelectorObserver = class {
    constructor(element, selector, delegate, details) {
      this._selector = selector;
      this.details = details;
      this.elementObserver = new ElementObserver(element, this);
      this.delegate = delegate;
      this.matchesByElement = new Multimap();
    }
    get started() {
      return this.elementObserver.started;
    }
    get selector() {
      return this._selector;
    }
    set selector(selector) {
      this._selector = selector;
      this.refresh();
    }
    start() {
      this.elementObserver.start();
    }
    pause(callback) {
      this.elementObserver.pause(callback);
    }
    stop() {
      this.elementObserver.stop();
    }
    refresh() {
      this.elementObserver.refresh();
    }
    get element() {
      return this.elementObserver.element;
    }
    matchElement(element) {
      const { selector } = this;
      if (selector) {
        const matches = element.matches(selector);
        if (this.delegate.selectorMatchElement) {
          return matches && this.delegate.selectorMatchElement(element, this.details);
        }
        return matches;
      } else {
        return false;
      }
    }
    matchElementsInTree(tree) {
      const { selector } = this;
      if (selector) {
        const match2 = this.matchElement(tree) ? [tree] : [];
        const matches = Array.from(tree.querySelectorAll(selector)).filter((match3) => this.matchElement(match3));
        return match2.concat(matches);
      } else {
        return [];
      }
    }
    elementMatched(element) {
      const { selector } = this;
      if (selector) {
        this.selectorMatched(element, selector);
      }
    }
    elementUnmatched(element) {
      const selectors = this.matchesByElement.getKeysForValue(element);
      for (const selector of selectors) {
        this.selectorUnmatched(element, selector);
      }
    }
    elementAttributeChanged(element, _attributeName) {
      const { selector } = this;
      if (selector) {
        const matches = this.matchElement(element);
        const matchedBefore = this.matchesByElement.has(selector, element);
        if (matches && !matchedBefore) {
          this.selectorMatched(element, selector);
        } else if (!matches && matchedBefore) {
          this.selectorUnmatched(element, selector);
        }
      }
    }
    selectorMatched(element, selector) {
      this.delegate.selectorMatched(element, selector, this.details);
      this.matchesByElement.add(selector, element);
    }
    selectorUnmatched(element, selector) {
      this.delegate.selectorUnmatched(element, selector, this.details);
      this.matchesByElement.delete(selector, element);
    }
  };
  var StringMapObserver = class {
    constructor(element, delegate) {
      this.element = element;
      this.delegate = delegate;
      this.started = false;
      this.stringMap = /* @__PURE__ */ new Map();
      this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));
    }
    start() {
      if (!this.started) {
        this.started = true;
        this.mutationObserver.observe(this.element, { attributes: true, attributeOldValue: true });
        this.refresh();
      }
    }
    stop() {
      if (this.started) {
        this.mutationObserver.takeRecords();
        this.mutationObserver.disconnect();
        this.started = false;
      }
    }
    refresh() {
      if (this.started) {
        for (const attributeName of this.knownAttributeNames) {
          this.refreshAttribute(attributeName, null);
        }
      }
    }
    processMutations(mutations) {
      if (this.started) {
        for (const mutation of mutations) {
          this.processMutation(mutation);
        }
      }
    }
    processMutation(mutation) {
      const attributeName = mutation.attributeName;
      if (attributeName) {
        this.refreshAttribute(attributeName, mutation.oldValue);
      }
    }
    refreshAttribute(attributeName, oldValue) {
      const key = this.delegate.getStringMapKeyForAttribute(attributeName);
      if (key != null) {
        if (!this.stringMap.has(attributeName)) {
          this.stringMapKeyAdded(key, attributeName);
        }
        const value = this.element.getAttribute(attributeName);
        if (this.stringMap.get(attributeName) != value) {
          this.stringMapValueChanged(value, key, oldValue);
        }
        if (value == null) {
          const oldValue2 = this.stringMap.get(attributeName);
          this.stringMap.delete(attributeName);
          if (oldValue2)
            this.stringMapKeyRemoved(key, attributeName, oldValue2);
        } else {
          this.stringMap.set(attributeName, value);
        }
      }
    }
    stringMapKeyAdded(key, attributeName) {
      if (this.delegate.stringMapKeyAdded) {
        this.delegate.stringMapKeyAdded(key, attributeName);
      }
    }
    stringMapValueChanged(value, key, oldValue) {
      if (this.delegate.stringMapValueChanged) {
        this.delegate.stringMapValueChanged(value, key, oldValue);
      }
    }
    stringMapKeyRemoved(key, attributeName, oldValue) {
      if (this.delegate.stringMapKeyRemoved) {
        this.delegate.stringMapKeyRemoved(key, attributeName, oldValue);
      }
    }
    get knownAttributeNames() {
      return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)));
    }
    get currentAttributeNames() {
      return Array.from(this.element.attributes).map((attribute) => attribute.name);
    }
    get recordedAttributeNames() {
      return Array.from(this.stringMap.keys());
    }
  };
  var TokenListObserver = class {
    constructor(element, attributeName, delegate) {
      this.attributeObserver = new AttributeObserver(element, attributeName, this);
      this.delegate = delegate;
      this.tokensByElement = new Multimap();
    }
    get started() {
      return this.attributeObserver.started;
    }
    start() {
      this.attributeObserver.start();
    }
    pause(callback) {
      this.attributeObserver.pause(callback);
    }
    stop() {
      this.attributeObserver.stop();
    }
    refresh() {
      this.attributeObserver.refresh();
    }
    get element() {
      return this.attributeObserver.element;
    }
    get attributeName() {
      return this.attributeObserver.attributeName;
    }
    elementMatchedAttribute(element) {
      this.tokensMatched(this.readTokensForElement(element));
    }
    elementAttributeValueChanged(element) {
      const [unmatchedTokens, matchedTokens] = this.refreshTokensForElement(element);
      this.tokensUnmatched(unmatchedTokens);
      this.tokensMatched(matchedTokens);
    }
    elementUnmatchedAttribute(element) {
      this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));
    }
    tokensMatched(tokens) {
      tokens.forEach((token) => this.tokenMatched(token));
    }
    tokensUnmatched(tokens) {
      tokens.forEach((token) => this.tokenUnmatched(token));
    }
    tokenMatched(token) {
      this.delegate.tokenMatched(token);
      this.tokensByElement.add(token.element, token);
    }
    tokenUnmatched(token) {
      this.delegate.tokenUnmatched(token);
      this.tokensByElement.delete(token.element, token);
    }
    refreshTokensForElement(element) {
      const previousTokens = this.tokensByElement.getValuesForKey(element);
      const currentTokens = this.readTokensForElement(element);
      const firstDifferingIndex = zip(previousTokens, currentTokens).findIndex(([previousToken, currentToken]) => !tokensAreEqual(previousToken, currentToken));
      if (firstDifferingIndex == -1) {
        return [[], []];
      } else {
        return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];
      }
    }
    readTokensForElement(element) {
      const attributeName = this.attributeName;
      const tokenString = element.getAttribute(attributeName) || "";
      return parseTokenString(tokenString, element, attributeName);
    }
  };
  function parseTokenString(tokenString, element, attributeName) {
    return tokenString.trim().split(/\s+/).filter((content) => content.length).map((content, index) => ({ element, attributeName, content, index }));
  }
  function zip(left, right) {
    const length = Math.max(left.length, right.length);
    return Array.from({ length }, (_, index) => [left[index], right[index]]);
  }
  function tokensAreEqual(left, right) {
    return left && right && left.index == right.index && left.content == right.content;
  }
  var ValueListObserver = class {
    constructor(element, attributeName, delegate) {
      this.tokenListObserver = new TokenListObserver(element, attributeName, this);
      this.delegate = delegate;
      this.parseResultsByToken = /* @__PURE__ */ new WeakMap();
      this.valuesByTokenByElement = /* @__PURE__ */ new WeakMap();
    }
    get started() {
      return this.tokenListObserver.started;
    }
    start() {
      this.tokenListObserver.start();
    }
    stop() {
      this.tokenListObserver.stop();
    }
    refresh() {
      this.tokenListObserver.refresh();
    }
    get element() {
      return this.tokenListObserver.element;
    }
    get attributeName() {
      return this.tokenListObserver.attributeName;
    }
    tokenMatched(token) {
      const { element } = token;
      const { value } = this.fetchParseResultForToken(token);
      if (value) {
        this.fetchValuesByTokenForElement(element).set(token, value);
        this.delegate.elementMatchedValue(element, value);
      }
    }
    tokenUnmatched(token) {
      const { element } = token;
      const { value } = this.fetchParseResultForToken(token);
      if (value) {
        this.fetchValuesByTokenForElement(element).delete(token);
        this.delegate.elementUnmatchedValue(element, value);
      }
    }
    fetchParseResultForToken(token) {
      let parseResult = this.parseResultsByToken.get(token);
      if (!parseResult) {
        parseResult = this.parseToken(token);
        this.parseResultsByToken.set(token, parseResult);
      }
      return parseResult;
    }
    fetchValuesByTokenForElement(element) {
      let valuesByToken = this.valuesByTokenByElement.get(element);
      if (!valuesByToken) {
        valuesByToken = /* @__PURE__ */ new Map();
        this.valuesByTokenByElement.set(element, valuesByToken);
      }
      return valuesByToken;
    }
    parseToken(token) {
      try {
        const value = this.delegate.parseValueForToken(token);
        return { value };
      } catch (error2) {
        return { error: error2 };
      }
    }
  };
  var BindingObserver = class {
    constructor(context, delegate) {
      this.context = context;
      this.delegate = delegate;
      this.bindingsByAction = /* @__PURE__ */ new Map();
    }
    start() {
      if (!this.valueListObserver) {
        this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);
        this.valueListObserver.start();
      }
    }
    stop() {
      if (this.valueListObserver) {
        this.valueListObserver.stop();
        delete this.valueListObserver;
        this.disconnectAllActions();
      }
    }
    get element() {
      return this.context.element;
    }
    get identifier() {
      return this.context.identifier;
    }
    get actionAttribute() {
      return this.schema.actionAttribute;
    }
    get schema() {
      return this.context.schema;
    }
    get bindings() {
      return Array.from(this.bindingsByAction.values());
    }
    connectAction(action) {
      const binding = new Binding(this.context, action);
      this.bindingsByAction.set(action, binding);
      this.delegate.bindingConnected(binding);
    }
    disconnectAction(action) {
      const binding = this.bindingsByAction.get(action);
      if (binding) {
        this.bindingsByAction.delete(action);
        this.delegate.bindingDisconnected(binding);
      }
    }
    disconnectAllActions() {
      this.bindings.forEach((binding) => this.delegate.bindingDisconnected(binding, true));
      this.bindingsByAction.clear();
    }
    parseValueForToken(token) {
      const action = Action.forToken(token, this.schema);
      if (action.identifier == this.identifier) {
        return action;
      }
    }
    elementMatchedValue(element, action) {
      this.connectAction(action);
    }
    elementUnmatchedValue(element, action) {
      this.disconnectAction(action);
    }
  };
  var ValueObserver = class {
    constructor(context, receiver) {
      this.context = context;
      this.receiver = receiver;
      this.stringMapObserver = new StringMapObserver(this.element, this);
      this.valueDescriptorMap = this.controller.valueDescriptorMap;
    }
    start() {
      this.stringMapObserver.start();
      this.invokeChangedCallbacksForDefaultValues();
    }
    stop() {
      this.stringMapObserver.stop();
    }
    get element() {
      return this.context.element;
    }
    get controller() {
      return this.context.controller;
    }
    getStringMapKeyForAttribute(attributeName) {
      if (attributeName in this.valueDescriptorMap) {
        return this.valueDescriptorMap[attributeName].name;
      }
    }
    stringMapKeyAdded(key, attributeName) {
      const descriptor = this.valueDescriptorMap[attributeName];
      if (!this.hasValue(key)) {
        this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), descriptor.writer(descriptor.defaultValue));
      }
    }
    stringMapValueChanged(value, name, oldValue) {
      const descriptor = this.valueDescriptorNameMap[name];
      if (value === null)
        return;
      if (oldValue === null) {
        oldValue = descriptor.writer(descriptor.defaultValue);
      }
      this.invokeChangedCallback(name, value, oldValue);
    }
    stringMapKeyRemoved(key, attributeName, oldValue) {
      const descriptor = this.valueDescriptorNameMap[key];
      if (this.hasValue(key)) {
        this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), oldValue);
      } else {
        this.invokeChangedCallback(key, descriptor.writer(descriptor.defaultValue), oldValue);
      }
    }
    invokeChangedCallbacksForDefaultValues() {
      for (const { key, name, defaultValue, writer } of this.valueDescriptors) {
        if (defaultValue != void 0 && !this.controller.data.has(key)) {
          this.invokeChangedCallback(name, writer(defaultValue), void 0);
        }
      }
    }
    invokeChangedCallback(name, rawValue, rawOldValue) {
      const changedMethodName = `${name}Changed`;
      const changedMethod = this.receiver[changedMethodName];
      if (typeof changedMethod == "function") {
        const descriptor = this.valueDescriptorNameMap[name];
        try {
          const value = descriptor.reader(rawValue);
          let oldValue = rawOldValue;
          if (rawOldValue) {
            oldValue = descriptor.reader(rawOldValue);
          }
          changedMethod.call(this.receiver, value, oldValue);
        } catch (error2) {
          if (error2 instanceof TypeError) {
            error2.message = `Stimulus Value "${this.context.identifier}.${descriptor.name}" - ${error2.message}`;
          }
          throw error2;
        }
      }
    }
    get valueDescriptors() {
      const { valueDescriptorMap } = this;
      return Object.keys(valueDescriptorMap).map((key) => valueDescriptorMap[key]);
    }
    get valueDescriptorNameMap() {
      const descriptors = {};
      Object.keys(this.valueDescriptorMap).forEach((key) => {
        const descriptor = this.valueDescriptorMap[key];
        descriptors[descriptor.name] = descriptor;
      });
      return descriptors;
    }
    hasValue(attributeName) {
      const descriptor = this.valueDescriptorNameMap[attributeName];
      const hasMethodName = `has${capitalize(descriptor.name)}`;
      return this.receiver[hasMethodName];
    }
  };
  var TargetObserver = class {
    constructor(context, delegate) {
      this.context = context;
      this.delegate = delegate;
      this.targetsByName = new Multimap();
    }
    start() {
      if (!this.tokenListObserver) {
        this.tokenListObserver = new TokenListObserver(this.element, this.attributeName, this);
        this.tokenListObserver.start();
      }
    }
    stop() {
      if (this.tokenListObserver) {
        this.disconnectAllTargets();
        this.tokenListObserver.stop();
        delete this.tokenListObserver;
      }
    }
    tokenMatched({ element, content: name }) {
      if (this.scope.containsElement(element)) {
        this.connectTarget(element, name);
      }
    }
    tokenUnmatched({ element, content: name }) {
      this.disconnectTarget(element, name);
    }
    connectTarget(element, name) {
      var _a;
      if (!this.targetsByName.has(name, element)) {
        this.targetsByName.add(name, element);
        (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetConnected(element, name));
      }
    }
    disconnectTarget(element, name) {
      var _a;
      if (this.targetsByName.has(name, element)) {
        this.targetsByName.delete(name, element);
        (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetDisconnected(element, name));
      }
    }
    disconnectAllTargets() {
      for (const name of this.targetsByName.keys) {
        for (const element of this.targetsByName.getValuesForKey(name)) {
          this.disconnectTarget(element, name);
        }
      }
    }
    get attributeName() {
      return `data-${this.context.identifier}-target`;
    }
    get element() {
      return this.context.element;
    }
    get scope() {
      return this.context.scope;
    }
  };
  function readInheritableStaticArrayValues(constructor, propertyName) {
    const ancestors = getAncestorsForConstructor(constructor);
    return Array.from(ancestors.reduce((values, constructor2) => {
      getOwnStaticArrayValues(constructor2, propertyName).forEach((name) => values.add(name));
      return values;
    }, /* @__PURE__ */ new Set()));
  }
  function readInheritableStaticObjectPairs(constructor, propertyName) {
    const ancestors = getAncestorsForConstructor(constructor);
    return ancestors.reduce((pairs, constructor2) => {
      pairs.push(...getOwnStaticObjectPairs(constructor2, propertyName));
      return pairs;
    }, []);
  }
  function getAncestorsForConstructor(constructor) {
    const ancestors = [];
    while (constructor) {
      ancestors.push(constructor);
      constructor = Object.getPrototypeOf(constructor);
    }
    return ancestors.reverse();
  }
  function getOwnStaticArrayValues(constructor, propertyName) {
    const definition = constructor[propertyName];
    return Array.isArray(definition) ? definition : [];
  }
  function getOwnStaticObjectPairs(constructor, propertyName) {
    const definition = constructor[propertyName];
    return definition ? Object.keys(definition).map((key) => [key, definition[key]]) : [];
  }
  var OutletObserver = class {
    constructor(context, delegate) {
      this.started = false;
      this.context = context;
      this.delegate = delegate;
      this.outletsByName = new Multimap();
      this.outletElementsByName = new Multimap();
      this.selectorObserverMap = /* @__PURE__ */ new Map();
      this.attributeObserverMap = /* @__PURE__ */ new Map();
    }
    start() {
      if (!this.started) {
        this.outletDefinitions.forEach((outletName) => {
          this.setupSelectorObserverForOutlet(outletName);
          this.setupAttributeObserverForOutlet(outletName);
        });
        this.started = true;
        this.dependentContexts.forEach((context) => context.refresh());
      }
    }
    refresh() {
      this.selectorObserverMap.forEach((observer) => observer.refresh());
      this.attributeObserverMap.forEach((observer) => observer.refresh());
    }
    stop() {
      if (this.started) {
        this.started = false;
        this.disconnectAllOutlets();
        this.stopSelectorObservers();
        this.stopAttributeObservers();
      }
    }
    stopSelectorObservers() {
      if (this.selectorObserverMap.size > 0) {
        this.selectorObserverMap.forEach((observer) => observer.stop());
        this.selectorObserverMap.clear();
      }
    }
    stopAttributeObservers() {
      if (this.attributeObserverMap.size > 0) {
        this.attributeObserverMap.forEach((observer) => observer.stop());
        this.attributeObserverMap.clear();
      }
    }
    selectorMatched(element, _selector, { outletName }) {
      const outlet = this.getOutlet(element, outletName);
      if (outlet) {
        this.connectOutlet(outlet, element, outletName);
      }
    }
    selectorUnmatched(element, _selector, { outletName }) {
      const outlet = this.getOutletFromMap(element, outletName);
      if (outlet) {
        this.disconnectOutlet(outlet, element, outletName);
      }
    }
    selectorMatchElement(element, { outletName }) {
      const selector = this.selector(outletName);
      const hasOutlet = this.hasOutlet(element, outletName);
      const hasOutletController = element.matches(`[${this.schema.controllerAttribute}~=${outletName}]`);
      if (selector) {
        return hasOutlet && hasOutletController && element.matches(selector);
      } else {
        return false;
      }
    }
    elementMatchedAttribute(_element, attributeName) {
      const outletName = this.getOutletNameFromOutletAttributeName(attributeName);
      if (outletName) {
        this.updateSelectorObserverForOutlet(outletName);
      }
    }
    elementAttributeValueChanged(_element, attributeName) {
      const outletName = this.getOutletNameFromOutletAttributeName(attributeName);
      if (outletName) {
        this.updateSelectorObserverForOutlet(outletName);
      }
    }
    elementUnmatchedAttribute(_element, attributeName) {
      const outletName = this.getOutletNameFromOutletAttributeName(attributeName);
      if (outletName) {
        this.updateSelectorObserverForOutlet(outletName);
      }
    }
    connectOutlet(outlet, element, outletName) {
      var _a;
      if (!this.outletElementsByName.has(outletName, element)) {
        this.outletsByName.add(outletName, outlet);
        this.outletElementsByName.add(outletName, element);
        (_a = this.selectorObserverMap.get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletConnected(outlet, element, outletName));
      }
    }
    disconnectOutlet(outlet, element, outletName) {
      var _a;
      if (this.outletElementsByName.has(outletName, element)) {
        this.outletsByName.delete(outletName, outlet);
        this.outletElementsByName.delete(outletName, element);
        (_a = this.selectorObserverMap.get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletDisconnected(outlet, element, outletName));
      }
    }
    disconnectAllOutlets() {
      for (const outletName of this.outletElementsByName.keys) {
        for (const element of this.outletElementsByName.getValuesForKey(outletName)) {
          for (const outlet of this.outletsByName.getValuesForKey(outletName)) {
            this.disconnectOutlet(outlet, element, outletName);
          }
        }
      }
    }
    updateSelectorObserverForOutlet(outletName) {
      const observer = this.selectorObserverMap.get(outletName);
      if (observer) {
        observer.selector = this.selector(outletName);
      }
    }
    setupSelectorObserverForOutlet(outletName) {
      const selector = this.selector(outletName);
      const selectorObserver = new SelectorObserver(document.body, selector, this, { outletName });
      this.selectorObserverMap.set(outletName, selectorObserver);
      selectorObserver.start();
    }
    setupAttributeObserverForOutlet(outletName) {
      const attributeName = this.attributeNameForOutletName(outletName);
      const attributeObserver = new AttributeObserver(this.scope.element, attributeName, this);
      this.attributeObserverMap.set(outletName, attributeObserver);
      attributeObserver.start();
    }
    selector(outletName) {
      return this.scope.outlets.getSelectorForOutletName(outletName);
    }
    attributeNameForOutletName(outletName) {
      return this.scope.schema.outletAttributeForScope(this.identifier, outletName);
    }
    getOutletNameFromOutletAttributeName(attributeName) {
      return this.outletDefinitions.find((outletName) => this.attributeNameForOutletName(outletName) === attributeName);
    }
    get outletDependencies() {
      const dependencies = new Multimap();
      this.router.modules.forEach((module) => {
        const constructor = module.definition.controllerConstructor;
        const outlets = readInheritableStaticArrayValues(constructor, "outlets");
        outlets.forEach((outlet) => dependencies.add(outlet, module.identifier));
      });
      return dependencies;
    }
    get outletDefinitions() {
      return this.outletDependencies.getKeysForValue(this.identifier);
    }
    get dependentControllerIdentifiers() {
      return this.outletDependencies.getValuesForKey(this.identifier);
    }
    get dependentContexts() {
      const identifiers = this.dependentControllerIdentifiers;
      return this.router.contexts.filter((context) => identifiers.includes(context.identifier));
    }
    hasOutlet(element, outletName) {
      return !!this.getOutlet(element, outletName) || !!this.getOutletFromMap(element, outletName);
    }
    getOutlet(element, outletName) {
      return this.application.getControllerForElementAndIdentifier(element, outletName);
    }
    getOutletFromMap(element, outletName) {
      return this.outletsByName.getValuesForKey(outletName).find((outlet) => outlet.element === element);
    }
    get scope() {
      return this.context.scope;
    }
    get schema() {
      return this.context.schema;
    }
    get identifier() {
      return this.context.identifier;
    }
    get application() {
      return this.context.application;
    }
    get router() {
      return this.application.router;
    }
  };
  var Context = class {
    constructor(module, scope) {
      this.logDebugActivity = (functionName, detail = {}) => {
        const { identifier, controller, element } = this;
        detail = Object.assign({ identifier, controller, element }, detail);
        this.application.logDebugActivity(this.identifier, functionName, detail);
      };
      this.module = module;
      this.scope = scope;
      this.controller = new module.controllerConstructor(this);
      this.bindingObserver = new BindingObserver(this, this.dispatcher);
      this.valueObserver = new ValueObserver(this, this.controller);
      this.targetObserver = new TargetObserver(this, this);
      this.outletObserver = new OutletObserver(this, this);
      try {
        this.controller.initialize();
        this.logDebugActivity("initialize");
      } catch (error2) {
        this.handleError(error2, "initializing controller");
      }
    }
    connect() {
      this.bindingObserver.start();
      this.valueObserver.start();
      this.targetObserver.start();
      this.outletObserver.start();
      try {
        this.controller.connect();
        this.logDebugActivity("connect");
      } catch (error2) {
        this.handleError(error2, "connecting controller");
      }
    }
    refresh() {
      this.outletObserver.refresh();
    }
    disconnect() {
      try {
        this.controller.disconnect();
        this.logDebugActivity("disconnect");
      } catch (error2) {
        this.handleError(error2, "disconnecting controller");
      }
      this.outletObserver.stop();
      this.targetObserver.stop();
      this.valueObserver.stop();
      this.bindingObserver.stop();
    }
    get application() {
      return this.module.application;
    }
    get identifier() {
      return this.module.identifier;
    }
    get schema() {
      return this.application.schema;
    }
    get dispatcher() {
      return this.application.dispatcher;
    }
    get element() {
      return this.scope.element;
    }
    get parentElement() {
      return this.element.parentElement;
    }
    handleError(error2, message2, detail = {}) {
      const { identifier, controller, element } = this;
      detail = Object.assign({ identifier, controller, element }, detail);
      this.application.handleError(error2, `Error ${message2}`, detail);
    }
    targetConnected(element, name) {
      this.invokeControllerMethod(`${name}TargetConnected`, element);
    }
    targetDisconnected(element, name) {
      this.invokeControllerMethod(`${name}TargetDisconnected`, element);
    }
    outletConnected(outlet, element, name) {
      this.invokeControllerMethod(`${namespaceCamelize(name)}OutletConnected`, outlet, element);
    }
    outletDisconnected(outlet, element, name) {
      this.invokeControllerMethod(`${namespaceCamelize(name)}OutletDisconnected`, outlet, element);
    }
    invokeControllerMethod(methodName, ...args) {
      const controller = this.controller;
      if (typeof controller[methodName] == "function") {
        controller[methodName](...args);
      }
    }
  };
  function bless(constructor) {
    return shadow(constructor, getBlessedProperties(constructor));
  }
  function shadow(constructor, properties) {
    const shadowConstructor = extend(constructor);
    const shadowProperties = getShadowProperties(constructor.prototype, properties);
    Object.defineProperties(shadowConstructor.prototype, shadowProperties);
    return shadowConstructor;
  }
  function getBlessedProperties(constructor) {
    const blessings = readInheritableStaticArrayValues(constructor, "blessings");
    return blessings.reduce((blessedProperties, blessing) => {
      const properties = blessing(constructor);
      for (const key in properties) {
        const descriptor = blessedProperties[key] || {};
        blessedProperties[key] = Object.assign(descriptor, properties[key]);
      }
      return blessedProperties;
    }, {});
  }
  function getShadowProperties(prototype, properties) {
    return getOwnKeys(properties).reduce((shadowProperties, key) => {
      const descriptor = getShadowedDescriptor(prototype, properties, key);
      if (descriptor) {
        Object.assign(shadowProperties, { [key]: descriptor });
      }
      return shadowProperties;
    }, {});
  }
  function getShadowedDescriptor(prototype, properties, key) {
    const shadowingDescriptor = Object.getOwnPropertyDescriptor(prototype, key);
    const shadowedByValue = shadowingDescriptor && "value" in shadowingDescriptor;
    if (!shadowedByValue) {
      const descriptor = Object.getOwnPropertyDescriptor(properties, key).value;
      if (shadowingDescriptor) {
        descriptor.get = shadowingDescriptor.get || descriptor.get;
        descriptor.set = shadowingDescriptor.set || descriptor.set;
      }
      return descriptor;
    }
  }
  var getOwnKeys = (() => {
    if (typeof Object.getOwnPropertySymbols == "function") {
      return (object) => [...Object.getOwnPropertyNames(object), ...Object.getOwnPropertySymbols(object)];
    } else {
      return Object.getOwnPropertyNames;
    }
  })();
  var extend = (() => {
    function extendWithReflect(constructor) {
      function extended() {
        return Reflect.construct(constructor, arguments, new.target);
      }
      extended.prototype = Object.create(constructor.prototype, {
        constructor: { value: extended }
      });
      Reflect.setPrototypeOf(extended, constructor);
      return extended;
    }
    function testReflectExtension() {
      const a = function() {
        this.a.call(this);
      };
      const b = extendWithReflect(a);
      b.prototype.a = function() {
      };
      return new b();
    }
    try {
      testReflectExtension();
      return extendWithReflect;
    } catch (error2) {
      return (constructor) => class extended extends constructor {
      };
    }
  })();
  function blessDefinition(definition) {
    return {
      identifier: definition.identifier,
      controllerConstructor: bless(definition.controllerConstructor)
    };
  }
  var Module = class {
    constructor(application2, definition) {
      this.application = application2;
      this.definition = blessDefinition(definition);
      this.contextsByScope = /* @__PURE__ */ new WeakMap();
      this.connectedContexts = /* @__PURE__ */ new Set();
    }
    get identifier() {
      return this.definition.identifier;
    }
    get controllerConstructor() {
      return this.definition.controllerConstructor;
    }
    get contexts() {
      return Array.from(this.connectedContexts);
    }
    connectContextForScope(scope) {
      const context = this.fetchContextForScope(scope);
      this.connectedContexts.add(context);
      context.connect();
    }
    disconnectContextForScope(scope) {
      const context = this.contextsByScope.get(scope);
      if (context) {
        this.connectedContexts.delete(context);
        context.disconnect();
      }
    }
    fetchContextForScope(scope) {
      let context = this.contextsByScope.get(scope);
      if (!context) {
        context = new Context(this, scope);
        this.contextsByScope.set(scope, context);
      }
      return context;
    }
  };
  var ClassMap = class {
    constructor(scope) {
      this.scope = scope;
    }
    has(name) {
      return this.data.has(this.getDataKey(name));
    }
    get(name) {
      return this.getAll(name)[0];
    }
    getAll(name) {
      const tokenString = this.data.get(this.getDataKey(name)) || "";
      return tokenize(tokenString);
    }
    getAttributeName(name) {
      return this.data.getAttributeNameForKey(this.getDataKey(name));
    }
    getDataKey(name) {
      return `${name}-class`;
    }
    get data() {
      return this.scope.data;
    }
  };
  var DataMap = class {
    constructor(scope) {
      this.scope = scope;
    }
    get element() {
      return this.scope.element;
    }
    get identifier() {
      return this.scope.identifier;
    }
    get(key) {
      const name = this.getAttributeNameForKey(key);
      return this.element.getAttribute(name);
    }
    set(key, value) {
      const name = this.getAttributeNameForKey(key);
      this.element.setAttribute(name, value);
      return this.get(key);
    }
    has(key) {
      const name = this.getAttributeNameForKey(key);
      return this.element.hasAttribute(name);
    }
    delete(key) {
      if (this.has(key)) {
        const name = this.getAttributeNameForKey(key);
        this.element.removeAttribute(name);
        return true;
      } else {
        return false;
      }
    }
    getAttributeNameForKey(key) {
      return `data-${this.identifier}-${dasherize(key)}`;
    }
  };
  var Guide = class {
    constructor(logger) {
      this.warnedKeysByObject = /* @__PURE__ */ new WeakMap();
      this.logger = logger;
    }
    warn(object, key, message2) {
      let warnedKeys = this.warnedKeysByObject.get(object);
      if (!warnedKeys) {
        warnedKeys = /* @__PURE__ */ new Set();
        this.warnedKeysByObject.set(object, warnedKeys);
      }
      if (!warnedKeys.has(key)) {
        warnedKeys.add(key);
        this.logger.warn(message2, object);
      }
    }
  };
  function attributeValueContainsToken(attributeName, token) {
    return `[${attributeName}~="${token}"]`;
  }
  var TargetSet = class {
    constructor(scope) {
      this.scope = scope;
    }
    get element() {
      return this.scope.element;
    }
    get identifier() {
      return this.scope.identifier;
    }
    get schema() {
      return this.scope.schema;
    }
    has(targetName) {
      return this.find(targetName) != null;
    }
    find(...targetNames) {
      return targetNames.reduce((target, targetName) => target || this.findTarget(targetName) || this.findLegacyTarget(targetName), void 0);
    }
    findAll(...targetNames) {
      return targetNames.reduce((targets, targetName) => [
        ...targets,
        ...this.findAllTargets(targetName),
        ...this.findAllLegacyTargets(targetName)
      ], []);
    }
    findTarget(targetName) {
      const selector = this.getSelectorForTargetName(targetName);
      return this.scope.findElement(selector);
    }
    findAllTargets(targetName) {
      const selector = this.getSelectorForTargetName(targetName);
      return this.scope.findAllElements(selector);
    }
    getSelectorForTargetName(targetName) {
      const attributeName = this.schema.targetAttributeForScope(this.identifier);
      return attributeValueContainsToken(attributeName, targetName);
    }
    findLegacyTarget(targetName) {
      const selector = this.getLegacySelectorForTargetName(targetName);
      return this.deprecate(this.scope.findElement(selector), targetName);
    }
    findAllLegacyTargets(targetName) {
      const selector = this.getLegacySelectorForTargetName(targetName);
      return this.scope.findAllElements(selector).map((element) => this.deprecate(element, targetName));
    }
    getLegacySelectorForTargetName(targetName) {
      const targetDescriptor = `${this.identifier}.${targetName}`;
      return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);
    }
    deprecate(element, targetName) {
      if (element) {
        const { identifier } = this;
        const attributeName = this.schema.targetAttribute;
        const revisedAttributeName = this.schema.targetAttributeForScope(identifier);
        this.guide.warn(element, `target:${targetName}`, `Please replace ${attributeName}="${identifier}.${targetName}" with ${revisedAttributeName}="${targetName}". The ${attributeName} attribute is deprecated and will be removed in a future version of Stimulus.`);
      }
      return element;
    }
    get guide() {
      return this.scope.guide;
    }
  };
  var OutletSet = class {
    constructor(scope, controllerElement) {
      this.scope = scope;
      this.controllerElement = controllerElement;
    }
    get element() {
      return this.scope.element;
    }
    get identifier() {
      return this.scope.identifier;
    }
    get schema() {
      return this.scope.schema;
    }
    has(outletName) {
      return this.find(outletName) != null;
    }
    find(...outletNames) {
      return outletNames.reduce((outlet, outletName) => outlet || this.findOutlet(outletName), void 0);
    }
    findAll(...outletNames) {
      return outletNames.reduce((outlets, outletName) => [...outlets, ...this.findAllOutlets(outletName)], []);
    }
    getSelectorForOutletName(outletName) {
      const attributeName = this.schema.outletAttributeForScope(this.identifier, outletName);
      return this.controllerElement.getAttribute(attributeName);
    }
    findOutlet(outletName) {
      const selector = this.getSelectorForOutletName(outletName);
      if (selector)
        return this.findElement(selector, outletName);
    }
    findAllOutlets(outletName) {
      const selector = this.getSelectorForOutletName(outletName);
      return selector ? this.findAllElements(selector, outletName) : [];
    }
    findElement(selector, outletName) {
      const elements = this.scope.queryElements(selector);
      return elements.filter((element) => this.matchesElement(element, selector, outletName))[0];
    }
    findAllElements(selector, outletName) {
      const elements = this.scope.queryElements(selector);
      return elements.filter((element) => this.matchesElement(element, selector, outletName));
    }
    matchesElement(element, selector, outletName) {
      const controllerAttribute = element.getAttribute(this.scope.schema.controllerAttribute) || "";
      return element.matches(selector) && controllerAttribute.split(" ").includes(outletName);
    }
  };
  var Scope = class _Scope {
    constructor(schema, element, identifier, logger) {
      this.targets = new TargetSet(this);
      this.classes = new ClassMap(this);
      this.data = new DataMap(this);
      this.containsElement = (element2) => {
        return element2.closest(this.controllerSelector) === this.element;
      };
      this.schema = schema;
      this.element = element;
      this.identifier = identifier;
      this.guide = new Guide(logger);
      this.outlets = new OutletSet(this.documentScope, element);
    }
    findElement(selector) {
      return this.element.matches(selector) ? this.element : this.queryElements(selector).find(this.containsElement);
    }
    findAllElements(selector) {
      return [
        ...this.element.matches(selector) ? [this.element] : [],
        ...this.queryElements(selector).filter(this.containsElement)
      ];
    }
    queryElements(selector) {
      return Array.from(this.element.querySelectorAll(selector));
    }
    get controllerSelector() {
      return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);
    }
    get isDocumentScope() {
      return this.element === document.documentElement;
    }
    get documentScope() {
      return this.isDocumentScope ? this : new _Scope(this.schema, document.documentElement, this.identifier, this.guide.logger);
    }
  };
  var ScopeObserver = class {
    constructor(element, schema, delegate) {
      this.element = element;
      this.schema = schema;
      this.delegate = delegate;
      this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);
      this.scopesByIdentifierByElement = /* @__PURE__ */ new WeakMap();
      this.scopeReferenceCounts = /* @__PURE__ */ new WeakMap();
    }
    start() {
      this.valueListObserver.start();
    }
    stop() {
      this.valueListObserver.stop();
    }
    get controllerAttribute() {
      return this.schema.controllerAttribute;
    }
    parseValueForToken(token) {
      const { element, content: identifier } = token;
      return this.parseValueForElementAndIdentifier(element, identifier);
    }
    parseValueForElementAndIdentifier(element, identifier) {
      const scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);
      let scope = scopesByIdentifier.get(identifier);
      if (!scope) {
        scope = this.delegate.createScopeForElementAndIdentifier(element, identifier);
        scopesByIdentifier.set(identifier, scope);
      }
      return scope;
    }
    elementMatchedValue(element, value) {
      const referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;
      this.scopeReferenceCounts.set(value, referenceCount);
      if (referenceCount == 1) {
        this.delegate.scopeConnected(value);
      }
    }
    elementUnmatchedValue(element, value) {
      const referenceCount = this.scopeReferenceCounts.get(value);
      if (referenceCount) {
        this.scopeReferenceCounts.set(value, referenceCount - 1);
        if (referenceCount == 1) {
          this.delegate.scopeDisconnected(value);
        }
      }
    }
    fetchScopesByIdentifierForElement(element) {
      let scopesByIdentifier = this.scopesByIdentifierByElement.get(element);
      if (!scopesByIdentifier) {
        scopesByIdentifier = /* @__PURE__ */ new Map();
        this.scopesByIdentifierByElement.set(element, scopesByIdentifier);
      }
      return scopesByIdentifier;
    }
  };
  var Router = class {
    constructor(application2) {
      this.application = application2;
      this.scopeObserver = new ScopeObserver(this.element, this.schema, this);
      this.scopesByIdentifier = new Multimap();
      this.modulesByIdentifier = /* @__PURE__ */ new Map();
    }
    get element() {
      return this.application.element;
    }
    get schema() {
      return this.application.schema;
    }
    get logger() {
      return this.application.logger;
    }
    get controllerAttribute() {
      return this.schema.controllerAttribute;
    }
    get modules() {
      return Array.from(this.modulesByIdentifier.values());
    }
    get contexts() {
      return this.modules.reduce((contexts, module) => contexts.concat(module.contexts), []);
    }
    start() {
      this.scopeObserver.start();
    }
    stop() {
      this.scopeObserver.stop();
    }
    loadDefinition(definition) {
      this.unloadIdentifier(definition.identifier);
      const module = new Module(this.application, definition);
      this.connectModule(module);
      const afterLoad = definition.controllerConstructor.afterLoad;
      if (afterLoad) {
        afterLoad.call(definition.controllerConstructor, definition.identifier, this.application);
      }
    }
    unloadIdentifier(identifier) {
      const module = this.modulesByIdentifier.get(identifier);
      if (module) {
        this.disconnectModule(module);
      }
    }
    getContextForElementAndIdentifier(element, identifier) {
      const module = this.modulesByIdentifier.get(identifier);
      if (module) {
        return module.contexts.find((context) => context.element == element);
      }
    }
    proposeToConnectScopeForElementAndIdentifier(element, identifier) {
      const scope = this.scopeObserver.parseValueForElementAndIdentifier(element, identifier);
      if (scope) {
        this.scopeObserver.elementMatchedValue(scope.element, scope);
      } else {
        console.error(`Couldn't find or create scope for identifier: "${identifier}" and element:`, element);
      }
    }
    handleError(error2, message2, detail) {
      this.application.handleError(error2, message2, detail);
    }
    createScopeForElementAndIdentifier(element, identifier) {
      return new Scope(this.schema, element, identifier, this.logger);
    }
    scopeConnected(scope) {
      this.scopesByIdentifier.add(scope.identifier, scope);
      const module = this.modulesByIdentifier.get(scope.identifier);
      if (module) {
        module.connectContextForScope(scope);
      }
    }
    scopeDisconnected(scope) {
      this.scopesByIdentifier.delete(scope.identifier, scope);
      const module = this.modulesByIdentifier.get(scope.identifier);
      if (module) {
        module.disconnectContextForScope(scope);
      }
    }
    connectModule(module) {
      this.modulesByIdentifier.set(module.identifier, module);
      const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);
      scopes.forEach((scope) => module.connectContextForScope(scope));
    }
    disconnectModule(module) {
      this.modulesByIdentifier.delete(module.identifier);
      const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);
      scopes.forEach((scope) => module.disconnectContextForScope(scope));
    }
  };
  var defaultSchema = {
    controllerAttribute: "data-controller",
    actionAttribute: "data-action",
    targetAttribute: "data-target",
    targetAttributeForScope: (identifier) => `data-${identifier}-target`,
    outletAttributeForScope: (identifier, outlet) => `data-${identifier}-${outlet}-outlet`,
    keyMappings: Object.assign(Object.assign({ enter: "Enter", tab: "Tab", esc: "Escape", space: " ", up: "ArrowUp", down: "ArrowDown", left: "ArrowLeft", right: "ArrowRight", home: "Home", end: "End", page_up: "PageUp", page_down: "PageDown" }, objectFromEntries("abcdefghijklmnopqrstuvwxyz".split("").map((c) => [c, c]))), objectFromEntries("0123456789".split("").map((n) => [n, n])))
  };
  function objectFromEntries(array) {
    return array.reduce((memo, [k, v]) => Object.assign(Object.assign({}, memo), { [k]: v }), {});
  }
  var Application = class {
    constructor(element = document.documentElement, schema = defaultSchema) {
      this.logger = console;
      this.debug = false;
      this.logDebugActivity = (identifier, functionName, detail = {}) => {
        if (this.debug) {
          this.logFormattedMessage(identifier, functionName, detail);
        }
      };
      this.element = element;
      this.schema = schema;
      this.dispatcher = new Dispatcher(this);
      this.router = new Router(this);
      this.actionDescriptorFilters = Object.assign({}, defaultActionDescriptorFilters);
    }
    static start(element, schema) {
      const application2 = new this(element, schema);
      application2.start();
      return application2;
    }
    async start() {
      await domReady();
      this.logDebugActivity("application", "starting");
      this.dispatcher.start();
      this.router.start();
      this.logDebugActivity("application", "start");
    }
    stop() {
      this.logDebugActivity("application", "stopping");
      this.dispatcher.stop();
      this.router.stop();
      this.logDebugActivity("application", "stop");
    }
    register(identifier, controllerConstructor) {
      this.load({ identifier, controllerConstructor });
    }
    registerActionOption(name, filter2) {
      this.actionDescriptorFilters[name] = filter2;
    }
    load(head, ...rest) {
      const definitions = Array.isArray(head) ? head : [head, ...rest];
      definitions.forEach((definition) => {
        if (definition.controllerConstructor.shouldLoad) {
          this.router.loadDefinition(definition);
        }
      });
    }
    unload(head, ...rest) {
      const identifiers = Array.isArray(head) ? head : [head, ...rest];
      identifiers.forEach((identifier) => this.router.unloadIdentifier(identifier));
    }
    get controllers() {
      return this.router.contexts.map((context) => context.controller);
    }
    getControllerForElementAndIdentifier(element, identifier) {
      const context = this.router.getContextForElementAndIdentifier(element, identifier);
      return context ? context.controller : null;
    }
    handleError(error2, message2, detail) {
      var _a;
      this.logger.error(`%s

%o

%o`, message2, error2, detail);
      (_a = window.onerror) === null || _a === void 0 ? void 0 : _a.call(window, message2, "", 0, 0, error2);
    }
    logFormattedMessage(identifier, functionName, detail = {}) {
      detail = Object.assign({ application: this }, detail);
      this.logger.groupCollapsed(`${identifier} #${functionName}`);
      this.logger.log("details:", Object.assign({}, detail));
      this.logger.groupEnd();
    }
  };
  function domReady() {
    return new Promise((resolve) => {
      if (document.readyState == "loading") {
        document.addEventListener("DOMContentLoaded", () => resolve());
      } else {
        resolve();
      }
    });
  }
  function ClassPropertiesBlessing(constructor) {
    const classes = readInheritableStaticArrayValues(constructor, "classes");
    return classes.reduce((properties, classDefinition) => {
      return Object.assign(properties, propertiesForClassDefinition(classDefinition));
    }, {});
  }
  function propertiesForClassDefinition(key) {
    return {
      [`${key}Class`]: {
        get() {
          const { classes } = this;
          if (classes.has(key)) {
            return classes.get(key);
          } else {
            const attribute = classes.getAttributeName(key);
            throw new Error(`Missing attribute "${attribute}"`);
          }
        }
      },
      [`${key}Classes`]: {
        get() {
          return this.classes.getAll(key);
        }
      },
      [`has${capitalize(key)}Class`]: {
        get() {
          return this.classes.has(key);
        }
      }
    };
  }
  function OutletPropertiesBlessing(constructor) {
    const outlets = readInheritableStaticArrayValues(constructor, "outlets");
    return outlets.reduce((properties, outletDefinition) => {
      return Object.assign(properties, propertiesForOutletDefinition(outletDefinition));
    }, {});
  }
  function getOutletController(controller, element, identifier) {
    return controller.application.getControllerForElementAndIdentifier(element, identifier);
  }
  function getControllerAndEnsureConnectedScope(controller, element, outletName) {
    let outletController = getOutletController(controller, element, outletName);
    if (outletController)
      return outletController;
    controller.application.router.proposeToConnectScopeForElementAndIdentifier(element, outletName);
    outletController = getOutletController(controller, element, outletName);
    if (outletController)
      return outletController;
  }
  function propertiesForOutletDefinition(name) {
    const camelizedName = namespaceCamelize(name);
    return {
      [`${camelizedName}Outlet`]: {
        get() {
          const outletElement = this.outlets.find(name);
          const selector = this.outlets.getSelectorForOutletName(name);
          if (outletElement) {
            const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);
            if (outletController)
              return outletController;
            throw new Error(`The provided outlet element is missing an outlet controller "${name}" instance for host controller "${this.identifier}"`);
          }
          throw new Error(`Missing outlet element "${name}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${selector}".`);
        }
      },
      [`${camelizedName}Outlets`]: {
        get() {
          const outlets = this.outlets.findAll(name);
          if (outlets.length > 0) {
            return outlets.map((outletElement) => {
              const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);
              if (outletController)
                return outletController;
              console.warn(`The provided outlet element is missing an outlet controller "${name}" instance for host controller "${this.identifier}"`, outletElement);
            }).filter((controller) => controller);
          }
          return [];
        }
      },
      [`${camelizedName}OutletElement`]: {
        get() {
          const outletElement = this.outlets.find(name);
          const selector = this.outlets.getSelectorForOutletName(name);
          if (outletElement) {
            return outletElement;
          } else {
            throw new Error(`Missing outlet element "${name}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${selector}".`);
          }
        }
      },
      [`${camelizedName}OutletElements`]: {
        get() {
          return this.outlets.findAll(name);
        }
      },
      [`has${capitalize(camelizedName)}Outlet`]: {
        get() {
          return this.outlets.has(name);
        }
      }
    };
  }
  function TargetPropertiesBlessing(constructor) {
    const targets = readInheritableStaticArrayValues(constructor, "targets");
    return targets.reduce((properties, targetDefinition) => {
      return Object.assign(properties, propertiesForTargetDefinition(targetDefinition));
    }, {});
  }
  function propertiesForTargetDefinition(name) {
    return {
      [`${name}Target`]: {
        get() {
          const target = this.targets.find(name);
          if (target) {
            return target;
          } else {
            throw new Error(`Missing target element "${name}" for "${this.identifier}" controller`);
          }
        }
      },
      [`${name}Targets`]: {
        get() {
          return this.targets.findAll(name);
        }
      },
      [`has${capitalize(name)}Target`]: {
        get() {
          return this.targets.has(name);
        }
      }
    };
  }
  function ValuePropertiesBlessing(constructor) {
    const valueDefinitionPairs = readInheritableStaticObjectPairs(constructor, "values");
    const propertyDescriptorMap = {
      valueDescriptorMap: {
        get() {
          return valueDefinitionPairs.reduce((result, valueDefinitionPair) => {
            const valueDescriptor = parseValueDefinitionPair(valueDefinitionPair, this.identifier);
            const attributeName = this.data.getAttributeNameForKey(valueDescriptor.key);
            return Object.assign(result, { [attributeName]: valueDescriptor });
          }, {});
        }
      }
    };
    return valueDefinitionPairs.reduce((properties, valueDefinitionPair) => {
      return Object.assign(properties, propertiesForValueDefinitionPair(valueDefinitionPair));
    }, propertyDescriptorMap);
  }
  function propertiesForValueDefinitionPair(valueDefinitionPair, controller) {
    const definition = parseValueDefinitionPair(valueDefinitionPair, controller);
    const { key, name, reader: read, writer: write } = definition;
    return {
      [name]: {
        get() {
          const value = this.data.get(key);
          if (value !== null) {
            return read(value);
          } else {
            return definition.defaultValue;
          }
        },
        set(value) {
          if (value === void 0) {
            this.data.delete(key);
          } else {
            this.data.set(key, write(value));
          }
        }
      },
      [`has${capitalize(name)}`]: {
        get() {
          return this.data.has(key) || definition.hasCustomDefaultValue;
        }
      }
    };
  }
  function parseValueDefinitionPair([token, typeDefinition], controller) {
    return valueDescriptorForTokenAndTypeDefinition({
      controller,
      token,
      typeDefinition
    });
  }
  function parseValueTypeConstant(constant) {
    switch (constant) {
      case Array:
        return "array";
      case Boolean:
        return "boolean";
      case Number:
        return "number";
      case Object:
        return "object";
      case String:
        return "string";
    }
  }
  function parseValueTypeDefault(defaultValue) {
    switch (typeof defaultValue) {
      case "boolean":
        return "boolean";
      case "number":
        return "number";
      case "string":
        return "string";
    }
    if (Array.isArray(defaultValue))
      return "array";
    if (Object.prototype.toString.call(defaultValue) === "[object Object]")
      return "object";
  }
  function parseValueTypeObject(payload) {
    const { controller, token, typeObject } = payload;
    const hasType = isSomething(typeObject.type);
    const hasDefault = isSomething(typeObject.default);
    const fullObject = hasType && hasDefault;
    const onlyType = hasType && !hasDefault;
    const onlyDefault = !hasType && hasDefault;
    const typeFromObject = parseValueTypeConstant(typeObject.type);
    const typeFromDefaultValue = parseValueTypeDefault(payload.typeObject.default);
    if (onlyType)
      return typeFromObject;
    if (onlyDefault)
      return typeFromDefaultValue;
    if (typeFromObject !== typeFromDefaultValue) {
      const propertyPath = controller ? `${controller}.${token}` : token;
      throw new Error(`The specified default value for the Stimulus Value "${propertyPath}" must match the defined type "${typeFromObject}". The provided default value of "${typeObject.default}" is of type "${typeFromDefaultValue}".`);
    }
    if (fullObject)
      return typeFromObject;
  }
  function parseValueTypeDefinition(payload) {
    const { controller, token, typeDefinition } = payload;
    const typeObject = { controller, token, typeObject: typeDefinition };
    const typeFromObject = parseValueTypeObject(typeObject);
    const typeFromDefaultValue = parseValueTypeDefault(typeDefinition);
    const typeFromConstant = parseValueTypeConstant(typeDefinition);
    const type = typeFromObject || typeFromDefaultValue || typeFromConstant;
    if (type)
      return type;
    const propertyPath = controller ? `${controller}.${typeDefinition}` : token;
    throw new Error(`Unknown value type "${propertyPath}" for "${token}" value`);
  }
  function defaultValueForDefinition(typeDefinition) {
    const constant = parseValueTypeConstant(typeDefinition);
    if (constant)
      return defaultValuesByType[constant];
    const hasDefault = hasProperty(typeDefinition, "default");
    const hasType = hasProperty(typeDefinition, "type");
    const typeObject = typeDefinition;
    if (hasDefault)
      return typeObject.default;
    if (hasType) {
      const { type } = typeObject;
      const constantFromType = parseValueTypeConstant(type);
      if (constantFromType)
        return defaultValuesByType[constantFromType];
    }
    return typeDefinition;
  }
  function valueDescriptorForTokenAndTypeDefinition(payload) {
    const { token, typeDefinition } = payload;
    const key = `${dasherize(token)}-value`;
    const type = parseValueTypeDefinition(payload);
    return {
      type,
      key,
      name: camelize(key),
      get defaultValue() {
        return defaultValueForDefinition(typeDefinition);
      },
      get hasCustomDefaultValue() {
        return parseValueTypeDefault(typeDefinition) !== void 0;
      },
      reader: readers[type],
      writer: writers[type] || writers.default
    };
  }
  var defaultValuesByType = {
    get array() {
      return [];
    },
    boolean: false,
    number: 0,
    get object() {
      return {};
    },
    string: ""
  };
  var readers = {
    array(value) {
      const array = JSON.parse(value);
      if (!Array.isArray(array)) {
        throw new TypeError(`expected value of type "array" but instead got value "${value}" of type "${parseValueTypeDefault(array)}"`);
      }
      return array;
    },
    boolean(value) {
      return !(value == "0" || String(value).toLowerCase() == "false");
    },
    number(value) {
      return Number(value.replace(/_/g, ""));
    },
    object(value) {
      const object = JSON.parse(value);
      if (object === null || typeof object != "object" || Array.isArray(object)) {
        throw new TypeError(`expected value of type "object" but instead got value "${value}" of type "${parseValueTypeDefault(object)}"`);
      }
      return object;
    },
    string(value) {
      return value;
    }
  };
  var writers = {
    default: writeString,
    array: writeJSON,
    object: writeJSON
  };
  function writeJSON(value) {
    return JSON.stringify(value);
  }
  function writeString(value) {
    return `${value}`;
  }
  var Controller = class {
    constructor(context) {
      this.context = context;
    }
    static get shouldLoad() {
      return true;
    }
    static afterLoad(_identifier, _application) {
      return;
    }
    get application() {
      return this.context.application;
    }
    get scope() {
      return this.context.scope;
    }
    get element() {
      return this.scope.element;
    }
    get identifier() {
      return this.scope.identifier;
    }
    get targets() {
      return this.scope.targets;
    }
    get outlets() {
      return this.scope.outlets;
    }
    get classes() {
      return this.scope.classes;
    }
    get data() {
      return this.scope.data;
    }
    initialize() {
    }
    connect() {
    }
    disconnect() {
    }
    dispatch(eventName, { target = this.element, detail = {}, prefix = this.identifier, bubbles = true, cancelable = true } = {}) {
      const type = prefix ? `${prefix}:${eventName}` : eventName;
      const event = new CustomEvent(type, { detail, bubbles, cancelable });
      target.dispatchEvent(event);
      return event;
    }
  };
  Controller.blessings = [
    ClassPropertiesBlessing,
    TargetPropertiesBlessing,
    ValuePropertiesBlessing,
    OutletPropertiesBlessing
  ];
  Controller.targets = [];
  Controller.outlets = [];
  Controller.values = {};

  // app/javascript/controllers/application.js
  var application = Application.start();
  application.debug = false;
  window.Stimulus = application;

  // app/javascript/controllers/hello_controller.js
  var hello_controller_exports = {};
  __export(hello_controller_exports, {
    default: () => hello_controller_default
  });
  var hello_controller_default = class extends Controller {
    connect() {
      this.element.textContent = "Hello World!";
    }
  };

  // rails:/Users/michelson/Documents/cience/rails_ui/test/dummy/app/javascript/controllers/**/*_controller.js
  var modules = [{ name: "hello", module: hello_controller_exports, filename: "hello_controller.js" }];
  var controller_default = modules;

  // ../../app/ui/components/rails_ui/accordion/index.js
  var accordion_exports = {};
  __export(accordion_exports, {
    default: () => accordion_default
  });
  var accordion_default = class extends Controller {
    toggle(event) {
      const clickedItem = event.currentTarget.closest('[data-ui-accordion-target="item"]');
      const clickedIndex = this.itemTargets.indexOf(clickedItem);
      this.itemTargets.forEach((item, index) => {
        if (index === clickedIndex) {
          this.toggleItem(item);
        } else {
          this.closeItem(item);
        }
      });
    }
    toggleItem(item) {
      const isOpen = item.dataset.uiAccordionOpenValue === "true";
      if (isOpen) {
        this.closeItem(item);
      } else {
        this.openItem(item);
      }
    }
    openItem(item) {
      const content = item.querySelector('[data-ui-accordion-target="content"]');
      const button = item.querySelector("button");
      item.dataset.uiAccordionOpenValue = "true";
      content.dataset.uiAccordionOpenValue = "true";
      content.removeAttribute("hidden");
      button.setAttribute("aria-expanded", "true");
    }
    closeItem(item) {
      const content = item.querySelector('[data-ui-accordion-target="content"]');
      const button = item.querySelector("button");
      item.dataset.uiAccordionOpenValue = "false";
      content.dataset.uiAccordionOpenValue = "false";
      content.setAttribute("hidden", "");
      button.setAttribute("aria-expanded", "false");
    }
  };
  __publicField(accordion_default, "targets", ["item", "content"]);

  // ../../app/ui/components/rails_ui/accordion_item/index.js
  var accordion_item_exports = {};

  // ../../app/ui/components/rails_ui/alert/index.js
  var alert_exports = {};

  // ../../app/ui/components/rails_ui/alert_dialog/index.js
  var alert_dialog_exports = {};
  __export(alert_dialog_exports, {
    default: () => alert_dialog_default
  });

  // node_modules/stimulus-use/dist/index.js
  var composeEventName = (name, controller, eventPrefix) => {
    let composedName = name;
    if (eventPrefix === true) {
      composedName = `${controller.identifier}:${name}`;
    } else if (typeof eventPrefix === "string") {
      composedName = `${eventPrefix}:${name}`;
    }
    return composedName;
  };
  var extendedEvent = (type, event, detail) => {
    const { bubbles, cancelable, composed } = event || {
      bubbles: true,
      cancelable: true,
      composed: true
    };
    if (event) {
      Object.assign(detail, {
        originalEvent: event
      });
    }
    const customEvent = new CustomEvent(type, {
      bubbles,
      cancelable,
      composed,
      detail
    });
    return customEvent;
  };
  function isElementInViewport(el) {
    const rect = el.getBoundingClientRect();
    const windowHeight = window.innerHeight || document.documentElement.clientHeight;
    const windowWidth = window.innerWidth || document.documentElement.clientWidth;
    const vertInView = rect.top <= windowHeight && rect.top + rect.height > 0;
    const horInView = rect.left <= windowWidth && rect.left + rect.width > 0;
    return vertInView && horInView;
  }
  var defaultOptions$5 = {
    events: ["click", "touchend"],
    onlyVisible: true,
    dispatchEvent: true,
    eventPrefix: true
  };
  var useClickOutside = (composableController, options = {}) => {
    const controller = composableController;
    const { onlyVisible, dispatchEvent, events, eventPrefix } = Object.assign({}, defaultOptions$5, options);
    const onEvent = (event) => {
      const targetElement = (options === null || options === void 0 ? void 0 : options.element) || controller.element;
      if (targetElement.contains(event.target) || !isElementInViewport(targetElement) && onlyVisible) {
        return;
      }
      if (controller.clickOutside) {
        controller.clickOutside(event);
      }
      if (dispatchEvent) {
        const eventName = composeEventName("click:outside", controller, eventPrefix);
        const clickOutsideEvent = extendedEvent(eventName, event, {
          controller
        });
        targetElement.dispatchEvent(clickOutsideEvent);
      }
    };
    const observe = () => {
      events === null || events === void 0 ? void 0 : events.forEach((event) => {
        window.addEventListener(event, onEvent, true);
      });
    };
    const unobserve = () => {
      events === null || events === void 0 ? void 0 : events.forEach((event) => {
        window.removeEventListener(event, onEvent, true);
      });
    };
    const controllerDisconnect = controller.disconnect.bind(controller);
    Object.assign(controller, {
      disconnect() {
        unobserve();
        controllerDisconnect();
      }
    });
    observe();
    return [observe, unobserve];
  };
  var DebounceController = class extends Controller {
  };
  DebounceController.debounces = [];
  var ThrottleController = class extends Controller {
  };
  ThrottleController.throttles = [];
  var alpineNames = {
    enterFromClass: "enter",
    enterActiveClass: "enterStart",
    enterToClass: "enterEnd",
    leaveFromClass: "leave",
    leaveActiveClass: "leaveStart",
    leaveToClass: "leaveEnd"
  };
  var defaultOptions = {
    transitioned: false,
    hiddenClass: "hidden",
    preserveOriginalClass: true,
    removeToClasses: true
  };
  var useTransition = (composableController, options = {}) => {
    var _a, _b, _c;
    const controller = composableController;
    const targetName = controller.element.dataset.transitionTarget;
    let targetFromAttribute;
    if (targetName) {
      targetFromAttribute = controller[`${targetName}Target`];
    }
    const targetElement = (options === null || options === void 0 ? void 0 : options.element) || targetFromAttribute || controller.element;
    if (!(targetElement instanceof HTMLElement || targetElement instanceof SVGElement)) return;
    const dataset = targetElement.dataset;
    const leaveAfter = parseInt(dataset.leaveAfter || "") || options.leaveAfter || 0;
    const { transitioned, hiddenClass, preserveOriginalClass, removeToClasses } = Object.assign({}, defaultOptions, options);
    const controllerEnter = (_a = controller.enter) === null || _a === void 0 ? void 0 : _a.bind(controller);
    const controllerLeave = (_b = controller.leave) === null || _b === void 0 ? void 0 : _b.bind(controller);
    const controllerToggleTransition = (_c = controller.toggleTransition) === null || _c === void 0 ? void 0 : _c.bind(controller);
    async function enter(event) {
      if (controller.transitioned) return;
      controller.transitioned = true;
      controllerEnter && controllerEnter(event);
      const enterFromClasses = getAttribute("enterFrom", options, dataset);
      const enterActiveClasses = getAttribute("enterActive", options, dataset);
      const enterToClasses = getAttribute("enterTo", options, dataset);
      const leaveToClasses = getAttribute("leaveTo", options, dataset);
      if (!!hiddenClass) {
        targetElement.classList.remove(hiddenClass);
      }
      if (!removeToClasses) {
        removeClasses(targetElement, leaveToClasses);
      }
      await transition(targetElement, enterFromClasses, enterActiveClasses, enterToClasses, hiddenClass, preserveOriginalClass, removeToClasses);
      if (leaveAfter > 0) {
        setTimeout(() => {
          leave(event);
        }, leaveAfter);
      }
    }
    async function leave(event) {
      if (!controller.transitioned) return;
      controller.transitioned = false;
      controllerLeave && controllerLeave(event);
      const leaveFromClasses = getAttribute("leaveFrom", options, dataset);
      const leaveActiveClasses = getAttribute("leaveActive", options, dataset);
      const leaveToClasses = getAttribute("leaveTo", options, dataset);
      const enterToClasses = getAttribute("enterTo", options, dataset);
      if (!removeToClasses) {
        removeClasses(targetElement, enterToClasses);
      }
      await transition(targetElement, leaveFromClasses, leaveActiveClasses, leaveToClasses, hiddenClass, preserveOriginalClass, removeToClasses);
      if (!!hiddenClass) {
        targetElement.classList.add(hiddenClass);
      }
    }
    function toggleTransition(event) {
      controllerToggleTransition && controllerToggleTransition(event);
      if (controller.transitioned) {
        leave();
      } else {
        enter();
      }
    }
    async function transition(element, initialClasses, activeClasses, endClasses, hiddenClass2, preserveOriginalClass2, removeEndClasses) {
      const stashedClasses = [];
      if (preserveOriginalClass2) {
        initialClasses.forEach((cls) => element.classList.contains(cls) && cls !== hiddenClass2 && stashedClasses.push(cls));
        activeClasses.forEach((cls) => element.classList.contains(cls) && cls !== hiddenClass2 && stashedClasses.push(cls));
        endClasses.forEach((cls) => element.classList.contains(cls) && cls !== hiddenClass2 && stashedClasses.push(cls));
      }
      addClasses(element, initialClasses);
      removeClasses(element, stashedClasses);
      addClasses(element, activeClasses);
      await nextAnimationFrame();
      removeClasses(element, initialClasses);
      addClasses(element, endClasses);
      await afterTransition(element);
      removeClasses(element, activeClasses);
      if (removeEndClasses) {
        removeClasses(element, endClasses);
      }
      addClasses(element, stashedClasses);
    }
    function initialState() {
      controller.transitioned = transitioned;
      if (transitioned) {
        if (!!hiddenClass) {
          targetElement.classList.remove(hiddenClass);
        }
        enter();
      } else {
        if (!!hiddenClass) {
          targetElement.classList.add(hiddenClass);
        }
        leave();
      }
    }
    function addClasses(element, classes) {
      if (classes.length > 0) {
        element.classList.add(...classes);
      }
    }
    function removeClasses(element, classes) {
      if (classes.length > 0) {
        element.classList.remove(...classes);
      }
    }
    initialState();
    Object.assign(controller, {
      enter,
      leave,
      toggleTransition
    });
    return [enter, leave, toggleTransition];
  };
  function getAttribute(name, options, dataset) {
    const datasetName = `transition${name[0].toUpperCase()}${name.substr(1)}`;
    const datasetAlpineName = alpineNames[name];
    const classes = options[name] || dataset[datasetName] || dataset[datasetAlpineName] || " ";
    return isEmpty(classes) ? [] : classes.split(" ");
  }
  async function afterTransition(element) {
    return new Promise((resolve) => {
      const duration = Number(getComputedStyle(element).transitionDuration.split(",")[0].replace("s", "")) * 1e3;
      setTimeout(() => {
        resolve(duration);
      }, duration);
    });
  }
  async function nextAnimationFrame() {
    return new Promise((resolve) => {
      requestAnimationFrame(() => {
        requestAnimationFrame(resolve);
      });
    });
  }
  function isEmpty(str) {
    return str.length === 0 || !str.trim();
  }

  // ../../app/ui/components/rails_ui/alert_dialog/index.js
  var alert_dialog_default = class extends Controller {
    connect() {
      if (this.closeOnClickOutsideValue) {
        useClickOutside(this, { element: this.contentTarget });
      }
    }
    open() {
      this.overlayTarget.style.display = "block";
      this.contentTarget.style.display = "block";
      setTimeout(() => {
        this.overlayTarget.dataset.uiAlertDialogState = "open";
        this.contentTarget.dataset.uiAlertDialogState = "open";
      }, 10);
    }
    close() {
      this.overlayTarget.dataset.uiAlertDialogState = "closed";
      this.contentTarget.dataset.uiAlertDialogState = "closed";
      setTimeout(() => {
        this.overlayTarget.style.display = "none";
        this.contentTarget.style.display = "none";
      }, 30);
    }
    cancel(event) {
      event.preventDefault();
      this.close();
    }
    clickOutside(event) {
      if (this.closeOnClickOutsideValue) {
        this.close();
      }
    }
  };
  __publicField(alert_dialog_default, "targets", ["overlay", "content"]);
  __publicField(alert_dialog_default, "values", {
    closeOnClickOutside: Boolean
  });

  // ../../app/ui/components/rails_ui/avatar/index.js
  var avatar_exports = {};

  // ../../app/ui/components/rails_ui/badge/index.js
  var badge_exports = {};

  // ../../app/ui/components/rails_ui/breadcrumb/index.js
  var breadcrumb_exports = {};

  // ../../app/ui/components/rails_ui/breadcrumb_item/index.js
  var breadcrumb_item_exports = {};

  // ../../app/ui/components/rails_ui/button/index.js
  var button_exports = {};

  // ../../app/ui/components/rails_ui/calendar/index.js
  var calendar_exports = {};
  __export(calendar_exports, {
    default: () => calendar_default
  });

  // node_modules/date-fns/toDate.mjs
  function toDate(argument) {
    const argStr = Object.prototype.toString.call(argument);
    if (argument instanceof Date || typeof argument === "object" && argStr === "[object Date]") {
      return new argument.constructor(+argument);
    } else if (typeof argument === "number" || argStr === "[object Number]" || typeof argument === "string" || argStr === "[object String]") {
      return new Date(argument);
    } else {
      return /* @__PURE__ */ new Date(NaN);
    }
  }

  // node_modules/date-fns/constructFrom.mjs
  function constructFrom(date, value) {
    if (date instanceof Date) {
      return new date.constructor(value);
    } else {
      return new Date(value);
    }
  }

  // node_modules/date-fns/addMonths.mjs
  function addMonths(date, amount) {
    const _date = toDate(date);
    if (isNaN(amount)) return constructFrom(date, NaN);
    if (!amount) {
      return _date;
    }
    const dayOfMonth = _date.getDate();
    const endOfDesiredMonth = constructFrom(date, _date.getTime());
    endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);
    const daysInMonth = endOfDesiredMonth.getDate();
    if (dayOfMonth >= daysInMonth) {
      return endOfDesiredMonth;
    } else {
      _date.setFullYear(
        endOfDesiredMonth.getFullYear(),
        endOfDesiredMonth.getMonth(),
        dayOfMonth
      );
      return _date;
    }
  }

  // node_modules/date-fns/constants.mjs
  var daysInYear = 365.2425;
  var maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1e3;
  var minTime = -maxTime;
  var millisecondsInWeek = 6048e5;
  var millisecondsInDay = 864e5;
  var secondsInHour = 3600;
  var secondsInDay = secondsInHour * 24;
  var secondsInWeek = secondsInDay * 7;
  var secondsInYear = secondsInDay * daysInYear;
  var secondsInMonth = secondsInYear / 12;
  var secondsInQuarter = secondsInMonth * 3;

  // node_modules/date-fns/_lib/defaultOptions.mjs
  var defaultOptions2 = {};
  function getDefaultOptions() {
    return defaultOptions2;
  }

  // node_modules/date-fns/startOfWeek.mjs
  function startOfWeek(date, options) {
    const defaultOptions4 = getDefaultOptions();
    const weekStartsOn = options?.weekStartsOn ?? options?.locale?.options?.weekStartsOn ?? defaultOptions4.weekStartsOn ?? defaultOptions4.locale?.options?.weekStartsOn ?? 0;
    const _date = toDate(date);
    const day = _date.getDay();
    const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;
    _date.setDate(_date.getDate() - diff);
    _date.setHours(0, 0, 0, 0);
    return _date;
  }

  // node_modules/date-fns/startOfISOWeek.mjs
  function startOfISOWeek(date) {
    return startOfWeek(date, { weekStartsOn: 1 });
  }

  // node_modules/date-fns/getISOWeekYear.mjs
  function getISOWeekYear(date) {
    const _date = toDate(date);
    const year = _date.getFullYear();
    const fourthOfJanuaryOfNextYear = constructFrom(date, 0);
    fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);
    fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);
    const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);
    const fourthOfJanuaryOfThisYear = constructFrom(date, 0);
    fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);
    fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);
    const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);
    if (_date.getTime() >= startOfNextYear.getTime()) {
      return year + 1;
    } else if (_date.getTime() >= startOfThisYear.getTime()) {
      return year;
    } else {
      return year - 1;
    }
  }

  // node_modules/date-fns/startOfDay.mjs
  function startOfDay(date) {
    const _date = toDate(date);
    _date.setHours(0, 0, 0, 0);
    return _date;
  }

  // node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.mjs
  function getTimezoneOffsetInMilliseconds(date) {
    const _date = toDate(date);
    const utcDate = new Date(
      Date.UTC(
        _date.getFullYear(),
        _date.getMonth(),
        _date.getDate(),
        _date.getHours(),
        _date.getMinutes(),
        _date.getSeconds(),
        _date.getMilliseconds()
      )
    );
    utcDate.setUTCFullYear(_date.getFullYear());
    return +date - +utcDate;
  }

  // node_modules/date-fns/differenceInCalendarDays.mjs
  function differenceInCalendarDays(dateLeft, dateRight) {
    const startOfDayLeft = startOfDay(dateLeft);
    const startOfDayRight = startOfDay(dateRight);
    const timestampLeft = +startOfDayLeft - getTimezoneOffsetInMilliseconds(startOfDayLeft);
    const timestampRight = +startOfDayRight - getTimezoneOffsetInMilliseconds(startOfDayRight);
    return Math.round((timestampLeft - timestampRight) / millisecondsInDay);
  }

  // node_modules/date-fns/startOfISOWeekYear.mjs
  function startOfISOWeekYear(date) {
    const year = getISOWeekYear(date);
    const fourthOfJanuary = constructFrom(date, 0);
    fourthOfJanuary.setFullYear(year, 0, 4);
    fourthOfJanuary.setHours(0, 0, 0, 0);
    return startOfISOWeek(fourthOfJanuary);
  }

  // node_modules/date-fns/constructNow.mjs
  function constructNow(date) {
    return constructFrom(date, Date.now());
  }

  // node_modules/date-fns/isSameDay.mjs
  function isSameDay(dateLeft, dateRight) {
    const dateLeftStartOfDay = startOfDay(dateLeft);
    const dateRightStartOfDay = startOfDay(dateRight);
    return +dateLeftStartOfDay === +dateRightStartOfDay;
  }

  // node_modules/date-fns/isDate.mjs
  function isDate(value) {
    return value instanceof Date || typeof value === "object" && Object.prototype.toString.call(value) === "[object Date]";
  }

  // node_modules/date-fns/isValid.mjs
  function isValid(date) {
    if (!isDate(date) && typeof date !== "number") {
      return false;
    }
    const _date = toDate(date);
    return !isNaN(Number(_date));
  }

  // node_modules/date-fns/endOfMonth.mjs
  function endOfMonth(date) {
    const _date = toDate(date);
    const month = _date.getMonth();
    _date.setFullYear(_date.getFullYear(), month + 1, 0);
    _date.setHours(23, 59, 59, 999);
    return _date;
  }

  // node_modules/date-fns/eachDayOfInterval.mjs
  function eachDayOfInterval(interval, options) {
    const startDate = toDate(interval.start);
    const endDate = toDate(interval.end);
    let reversed = +startDate > +endDate;
    const endTime = reversed ? +startDate : +endDate;
    const currentDate = reversed ? endDate : startDate;
    currentDate.setHours(0, 0, 0, 0);
    let step = options?.step ?? 1;
    if (!step) return [];
    if (step < 0) {
      step = -step;
      reversed = !reversed;
    }
    const dates = [];
    while (+currentDate <= endTime) {
      dates.push(toDate(currentDate));
      currentDate.setDate(currentDate.getDate() + step);
      currentDate.setHours(0, 0, 0, 0);
    }
    return reversed ? dates.reverse() : dates;
  }

  // node_modules/date-fns/startOfMonth.mjs
  function startOfMonth(date) {
    const _date = toDate(date);
    _date.setDate(1);
    _date.setHours(0, 0, 0, 0);
    return _date;
  }

  // node_modules/date-fns/startOfYear.mjs
  function startOfYear(date) {
    const cleanDate = toDate(date);
    const _date = constructFrom(date, 0);
    _date.setFullYear(cleanDate.getFullYear(), 0, 1);
    _date.setHours(0, 0, 0, 0);
    return _date;
  }

  // node_modules/date-fns/endOfWeek.mjs
  function endOfWeek(date, options) {
    const defaultOptions4 = getDefaultOptions();
    const weekStartsOn = options?.weekStartsOn ?? options?.locale?.options?.weekStartsOn ?? defaultOptions4.weekStartsOn ?? defaultOptions4.locale?.options?.weekStartsOn ?? 0;
    const _date = toDate(date);
    const day = _date.getDay();
    const diff = (day < weekStartsOn ? -7 : 0) + 6 - (day - weekStartsOn);
    _date.setDate(_date.getDate() + diff);
    _date.setHours(23, 59, 59, 999);
    return _date;
  }

  // node_modules/date-fns/locale/en-US/_lib/formatDistance.mjs
  var formatDistanceLocale = {
    lessThanXSeconds: {
      one: "less than a second",
      other: "less than {{count}} seconds"
    },
    xSeconds: {
      one: "1 second",
      other: "{{count}} seconds"
    },
    halfAMinute: "half a minute",
    lessThanXMinutes: {
      one: "less than a minute",
      other: "less than {{count}} minutes"
    },
    xMinutes: {
      one: "1 minute",
      other: "{{count}} minutes"
    },
    aboutXHours: {
      one: "about 1 hour",
      other: "about {{count}} hours"
    },
    xHours: {
      one: "1 hour",
      other: "{{count}} hours"
    },
    xDays: {
      one: "1 day",
      other: "{{count}} days"
    },
    aboutXWeeks: {
      one: "about 1 week",
      other: "about {{count}} weeks"
    },
    xWeeks: {
      one: "1 week",
      other: "{{count}} weeks"
    },
    aboutXMonths: {
      one: "about 1 month",
      other: "about {{count}} months"
    },
    xMonths: {
      one: "1 month",
      other: "{{count}} months"
    },
    aboutXYears: {
      one: "about 1 year",
      other: "about {{count}} years"
    },
    xYears: {
      one: "1 year",
      other: "{{count}} years"
    },
    overXYears: {
      one: "over 1 year",
      other: "over {{count}} years"
    },
    almostXYears: {
      one: "almost 1 year",
      other: "almost {{count}} years"
    }
  };
  var formatDistance = (token, count, options) => {
    let result;
    const tokenValue = formatDistanceLocale[token];
    if (typeof tokenValue === "string") {
      result = tokenValue;
    } else if (count === 1) {
      result = tokenValue.one;
    } else {
      result = tokenValue.other.replace("{{count}}", count.toString());
    }
    if (options?.addSuffix) {
      if (options.comparison && options.comparison > 0) {
        return "in " + result;
      } else {
        return result + " ago";
      }
    }
    return result;
  };

  // node_modules/date-fns/locale/_lib/buildFormatLongFn.mjs
  function buildFormatLongFn(args) {
    return (options = {}) => {
      const width = options.width ? String(options.width) : args.defaultWidth;
      const format2 = args.formats[width] || args.formats[args.defaultWidth];
      return format2;
    };
  }

  // node_modules/date-fns/locale/en-US/_lib/formatLong.mjs
  var dateFormats = {
    full: "EEEE, MMMM do, y",
    long: "MMMM do, y",
    medium: "MMM d, y",
    short: "MM/dd/yyyy"
  };
  var timeFormats = {
    full: "h:mm:ss a zzzz",
    long: "h:mm:ss a z",
    medium: "h:mm:ss a",
    short: "h:mm a"
  };
  var dateTimeFormats = {
    full: "{{date}} 'at' {{time}}",
    long: "{{date}} 'at' {{time}}",
    medium: "{{date}}, {{time}}",
    short: "{{date}}, {{time}}"
  };
  var formatLong = {
    date: buildFormatLongFn({
      formats: dateFormats,
      defaultWidth: "full"
    }),
    time: buildFormatLongFn({
      formats: timeFormats,
      defaultWidth: "full"
    }),
    dateTime: buildFormatLongFn({
      formats: dateTimeFormats,
      defaultWidth: "full"
    })
  };

  // node_modules/date-fns/locale/en-US/_lib/formatRelative.mjs
  var formatRelativeLocale = {
    lastWeek: "'last' eeee 'at' p",
    yesterday: "'yesterday at' p",
    today: "'today at' p",
    tomorrow: "'tomorrow at' p",
    nextWeek: "eeee 'at' p",
    other: "P"
  };
  var formatRelative = (token, _date, _baseDate, _options) => formatRelativeLocale[token];

  // node_modules/date-fns/locale/_lib/buildLocalizeFn.mjs
  function buildLocalizeFn(args) {
    return (value, options) => {
      const context = options?.context ? String(options.context) : "standalone";
      let valuesArray;
      if (context === "formatting" && args.formattingValues) {
        const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;
        const width = options?.width ? String(options.width) : defaultWidth;
        valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];
      } else {
        const defaultWidth = args.defaultWidth;
        const width = options?.width ? String(options.width) : args.defaultWidth;
        valuesArray = args.values[width] || args.values[defaultWidth];
      }
      const index = args.argumentCallback ? args.argumentCallback(value) : value;
      return valuesArray[index];
    };
  }

  // node_modules/date-fns/locale/en-US/_lib/localize.mjs
  var eraValues = {
    narrow: ["B", "A"],
    abbreviated: ["BC", "AD"],
    wide: ["Before Christ", "Anno Domini"]
  };
  var quarterValues = {
    narrow: ["1", "2", "3", "4"],
    abbreviated: ["Q1", "Q2", "Q3", "Q4"],
    wide: ["1st quarter", "2nd quarter", "3rd quarter", "4th quarter"]
  };
  var monthValues = {
    narrow: ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"],
    abbreviated: [
      "Jan",
      "Feb",
      "Mar",
      "Apr",
      "May",
      "Jun",
      "Jul",
      "Aug",
      "Sep",
      "Oct",
      "Nov",
      "Dec"
    ],
    wide: [
      "January",
      "February",
      "March",
      "April",
      "May",
      "June",
      "July",
      "August",
      "September",
      "October",
      "November",
      "December"
    ]
  };
  var dayValues = {
    narrow: ["S", "M", "T", "W", "T", "F", "S"],
    short: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
    abbreviated: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
    wide: [
      "Sunday",
      "Monday",
      "Tuesday",
      "Wednesday",
      "Thursday",
      "Friday",
      "Saturday"
    ]
  };
  var dayPeriodValues = {
    narrow: {
      am: "a",
      pm: "p",
      midnight: "mi",
      noon: "n",
      morning: "morning",
      afternoon: "afternoon",
      evening: "evening",
      night: "night"
    },
    abbreviated: {
      am: "AM",
      pm: "PM",
      midnight: "midnight",
      noon: "noon",
      morning: "morning",
      afternoon: "afternoon",
      evening: "evening",
      night: "night"
    },
    wide: {
      am: "a.m.",
      pm: "p.m.",
      midnight: "midnight",
      noon: "noon",
      morning: "morning",
      afternoon: "afternoon",
      evening: "evening",
      night: "night"
    }
  };
  var formattingDayPeriodValues = {
    narrow: {
      am: "a",
      pm: "p",
      midnight: "mi",
      noon: "n",
      morning: "in the morning",
      afternoon: "in the afternoon",
      evening: "in the evening",
      night: "at night"
    },
    abbreviated: {
      am: "AM",
      pm: "PM",
      midnight: "midnight",
      noon: "noon",
      morning: "in the morning",
      afternoon: "in the afternoon",
      evening: "in the evening",
      night: "at night"
    },
    wide: {
      am: "a.m.",
      pm: "p.m.",
      midnight: "midnight",
      noon: "noon",
      morning: "in the morning",
      afternoon: "in the afternoon",
      evening: "in the evening",
      night: "at night"
    }
  };
  var ordinalNumber = (dirtyNumber, _options) => {
    const number = Number(dirtyNumber);
    const rem100 = number % 100;
    if (rem100 > 20 || rem100 < 10) {
      switch (rem100 % 10) {
        case 1:
          return number + "st";
        case 2:
          return number + "nd";
        case 3:
          return number + "rd";
      }
    }
    return number + "th";
  };
  var localize = {
    ordinalNumber,
    era: buildLocalizeFn({
      values: eraValues,
      defaultWidth: "wide"
    }),
    quarter: buildLocalizeFn({
      values: quarterValues,
      defaultWidth: "wide",
      argumentCallback: (quarter) => quarter - 1
    }),
    month: buildLocalizeFn({
      values: monthValues,
      defaultWidth: "wide"
    }),
    day: buildLocalizeFn({
      values: dayValues,
      defaultWidth: "wide"
    }),
    dayPeriod: buildLocalizeFn({
      values: dayPeriodValues,
      defaultWidth: "wide",
      formattingValues: formattingDayPeriodValues,
      defaultFormattingWidth: "wide"
    })
  };

  // node_modules/date-fns/locale/_lib/buildMatchFn.mjs
  function buildMatchFn(args) {
    return (string, options = {}) => {
      const width = options.width;
      const matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];
      const matchResult = string.match(matchPattern);
      if (!matchResult) {
        return null;
      }
      const matchedString = matchResult[0];
      const parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];
      const key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString)) : (
        // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type
        findKey(parsePatterns, (pattern) => pattern.test(matchedString))
      );
      let value;
      value = args.valueCallback ? args.valueCallback(key) : key;
      value = options.valueCallback ? (
        // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type
        options.valueCallback(value)
      ) : value;
      const rest = string.slice(matchedString.length);
      return { value, rest };
    };
  }
  function findKey(object, predicate) {
    for (const key in object) {
      if (Object.prototype.hasOwnProperty.call(object, key) && predicate(object[key])) {
        return key;
      }
    }
    return void 0;
  }
  function findIndex(array, predicate) {
    for (let key = 0; key < array.length; key++) {
      if (predicate(array[key])) {
        return key;
      }
    }
    return void 0;
  }

  // node_modules/date-fns/locale/_lib/buildMatchPatternFn.mjs
  function buildMatchPatternFn(args) {
    return (string, options = {}) => {
      const matchResult = string.match(args.matchPattern);
      if (!matchResult) return null;
      const matchedString = matchResult[0];
      const parseResult = string.match(args.parsePattern);
      if (!parseResult) return null;
      let value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];
      value = options.valueCallback ? options.valueCallback(value) : value;
      const rest = string.slice(matchedString.length);
      return { value, rest };
    };
  }

  // node_modules/date-fns/locale/en-US/_lib/match.mjs
  var matchOrdinalNumberPattern = /^(\d+)(th|st|nd|rd)?/i;
  var parseOrdinalNumberPattern = /\d+/i;
  var matchEraPatterns = {
    narrow: /^(b|a)/i,
    abbreviated: /^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,
    wide: /^(before christ|before common era|anno domini|common era)/i
  };
  var parseEraPatterns = {
    any: [/^b/i, /^(a|c)/i]
  };
  var matchQuarterPatterns = {
    narrow: /^[1234]/i,
    abbreviated: /^q[1234]/i,
    wide: /^[1234](th|st|nd|rd)? quarter/i
  };
  var parseQuarterPatterns = {
    any: [/1/i, /2/i, /3/i, /4/i]
  };
  var matchMonthPatterns = {
    narrow: /^[jfmasond]/i,
    abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,
    wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i
  };
  var parseMonthPatterns = {
    narrow: [
      /^j/i,
      /^f/i,
      /^m/i,
      /^a/i,
      /^m/i,
      /^j/i,
      /^j/i,
      /^a/i,
      /^s/i,
      /^o/i,
      /^n/i,
      /^d/i
    ],
    any: [
      /^ja/i,
      /^f/i,
      /^mar/i,
      /^ap/i,
      /^may/i,
      /^jun/i,
      /^jul/i,
      /^au/i,
      /^s/i,
      /^o/i,
      /^n/i,
      /^d/i
    ]
  };
  var matchDayPatterns = {
    narrow: /^[smtwf]/i,
    short: /^(su|mo|tu|we|th|fr|sa)/i,
    abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,
    wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i
  };
  var parseDayPatterns = {
    narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],
    any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]
  };
  var matchDayPeriodPatterns = {
    narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,
    any: /^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i
  };
  var parseDayPeriodPatterns = {
    any: {
      am: /^a/i,
      pm: /^p/i,
      midnight: /^mi/i,
      noon: /^no/i,
      morning: /morning/i,
      afternoon: /afternoon/i,
      evening: /evening/i,
      night: /night/i
    }
  };
  var match = {
    ordinalNumber: buildMatchPatternFn({
      matchPattern: matchOrdinalNumberPattern,
      parsePattern: parseOrdinalNumberPattern,
      valueCallback: (value) => parseInt(value, 10)
    }),
    era: buildMatchFn({
      matchPatterns: matchEraPatterns,
      defaultMatchWidth: "wide",
      parsePatterns: parseEraPatterns,
      defaultParseWidth: "any"
    }),
    quarter: buildMatchFn({
      matchPatterns: matchQuarterPatterns,
      defaultMatchWidth: "wide",
      parsePatterns: parseQuarterPatterns,
      defaultParseWidth: "any",
      valueCallback: (index) => index + 1
    }),
    month: buildMatchFn({
      matchPatterns: matchMonthPatterns,
      defaultMatchWidth: "wide",
      parsePatterns: parseMonthPatterns,
      defaultParseWidth: "any"
    }),
    day: buildMatchFn({
      matchPatterns: matchDayPatterns,
      defaultMatchWidth: "wide",
      parsePatterns: parseDayPatterns,
      defaultParseWidth: "any"
    }),
    dayPeriod: buildMatchFn({
      matchPatterns: matchDayPeriodPatterns,
      defaultMatchWidth: "any",
      parsePatterns: parseDayPeriodPatterns,
      defaultParseWidth: "any"
    })
  };

  // node_modules/date-fns/locale/en-US.mjs
  var enUS = {
    code: "en-US",
    formatDistance,
    formatLong,
    formatRelative,
    localize,
    match,
    options: {
      weekStartsOn: 0,
      firstWeekContainsDate: 1
    }
  };

  // node_modules/date-fns/getDayOfYear.mjs
  function getDayOfYear(date) {
    const _date = toDate(date);
    const diff = differenceInCalendarDays(_date, startOfYear(_date));
    const dayOfYear = diff + 1;
    return dayOfYear;
  }

  // node_modules/date-fns/getISOWeek.mjs
  function getISOWeek(date) {
    const _date = toDate(date);
    const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);
    return Math.round(diff / millisecondsInWeek) + 1;
  }

  // node_modules/date-fns/getWeekYear.mjs
  function getWeekYear(date, options) {
    const _date = toDate(date);
    const year = _date.getFullYear();
    const defaultOptions4 = getDefaultOptions();
    const firstWeekContainsDate = options?.firstWeekContainsDate ?? options?.locale?.options?.firstWeekContainsDate ?? defaultOptions4.firstWeekContainsDate ?? defaultOptions4.locale?.options?.firstWeekContainsDate ?? 1;
    const firstWeekOfNextYear = constructFrom(date, 0);
    firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);
    firstWeekOfNextYear.setHours(0, 0, 0, 0);
    const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);
    const firstWeekOfThisYear = constructFrom(date, 0);
    firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);
    firstWeekOfThisYear.setHours(0, 0, 0, 0);
    const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);
    if (_date.getTime() >= startOfNextYear.getTime()) {
      return year + 1;
    } else if (_date.getTime() >= startOfThisYear.getTime()) {
      return year;
    } else {
      return year - 1;
    }
  }

  // node_modules/date-fns/startOfWeekYear.mjs
  function startOfWeekYear(date, options) {
    const defaultOptions4 = getDefaultOptions();
    const firstWeekContainsDate = options?.firstWeekContainsDate ?? options?.locale?.options?.firstWeekContainsDate ?? defaultOptions4.firstWeekContainsDate ?? defaultOptions4.locale?.options?.firstWeekContainsDate ?? 1;
    const year = getWeekYear(date, options);
    const firstWeek = constructFrom(date, 0);
    firstWeek.setFullYear(year, 0, firstWeekContainsDate);
    firstWeek.setHours(0, 0, 0, 0);
    const _date = startOfWeek(firstWeek, options);
    return _date;
  }

  // node_modules/date-fns/getWeek.mjs
  function getWeek(date, options) {
    const _date = toDate(date);
    const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);
    return Math.round(diff / millisecondsInWeek) + 1;
  }

  // node_modules/date-fns/_lib/addLeadingZeros.mjs
  function addLeadingZeros(number, targetLength) {
    const sign = number < 0 ? "-" : "";
    const output = Math.abs(number).toString().padStart(targetLength, "0");
    return sign + output;
  }

  // node_modules/date-fns/_lib/format/lightFormatters.mjs
  var lightFormatters = {
    // Year
    y(date, token) {
      const signedYear = date.getFullYear();
      const year = signedYear > 0 ? signedYear : 1 - signedYear;
      return addLeadingZeros(token === "yy" ? year % 100 : year, token.length);
    },
    // Month
    M(date, token) {
      const month = date.getMonth();
      return token === "M" ? String(month + 1) : addLeadingZeros(month + 1, 2);
    },
    // Day of the month
    d(date, token) {
      return addLeadingZeros(date.getDate(), token.length);
    },
    // AM or PM
    a(date, token) {
      const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? "pm" : "am";
      switch (token) {
        case "a":
        case "aa":
          return dayPeriodEnumValue.toUpperCase();
        case "aaa":
          return dayPeriodEnumValue;
        case "aaaaa":
          return dayPeriodEnumValue[0];
        case "aaaa":
        default:
          return dayPeriodEnumValue === "am" ? "a.m." : "p.m.";
      }
    },
    // Hour [1-12]
    h(date, token) {
      return addLeadingZeros(date.getHours() % 12 || 12, token.length);
    },
    // Hour [0-23]
    H(date, token) {
      return addLeadingZeros(date.getHours(), token.length);
    },
    // Minute
    m(date, token) {
      return addLeadingZeros(date.getMinutes(), token.length);
    },
    // Second
    s(date, token) {
      return addLeadingZeros(date.getSeconds(), token.length);
    },
    // Fraction of second
    S(date, token) {
      const numberOfDigits = token.length;
      const milliseconds = date.getMilliseconds();
      const fractionalSeconds = Math.trunc(
        milliseconds * Math.pow(10, numberOfDigits - 3)
      );
      return addLeadingZeros(fractionalSeconds, token.length);
    }
  };

  // node_modules/date-fns/_lib/format/formatters.mjs
  var dayPeriodEnum = {
    am: "am",
    pm: "pm",
    midnight: "midnight",
    noon: "noon",
    morning: "morning",
    afternoon: "afternoon",
    evening: "evening",
    night: "night"
  };
  var formatters = {
    // Era
    G: function(date, token, localize2) {
      const era = date.getFullYear() > 0 ? 1 : 0;
      switch (token) {
        case "G":
        case "GG":
        case "GGG":
          return localize2.era(era, { width: "abbreviated" });
        case "GGGGG":
          return localize2.era(era, { width: "narrow" });
        case "GGGG":
        default:
          return localize2.era(era, { width: "wide" });
      }
    },
    // Year
    y: function(date, token, localize2) {
      if (token === "yo") {
        const signedYear = date.getFullYear();
        const year = signedYear > 0 ? signedYear : 1 - signedYear;
        return localize2.ordinalNumber(year, { unit: "year" });
      }
      return lightFormatters.y(date, token);
    },
    // Local week-numbering year
    Y: function(date, token, localize2, options) {
      const signedWeekYear = getWeekYear(date, options);
      const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;
      if (token === "YY") {
        const twoDigitYear = weekYear % 100;
        return addLeadingZeros(twoDigitYear, 2);
      }
      if (token === "Yo") {
        return localize2.ordinalNumber(weekYear, { unit: "year" });
      }
      return addLeadingZeros(weekYear, token.length);
    },
    // ISO week-numbering year
    R: function(date, token) {
      const isoWeekYear = getISOWeekYear(date);
      return addLeadingZeros(isoWeekYear, token.length);
    },
    // Extended year. This is a single number designating the year of this calendar system.
    // The main difference between `y` and `u` localizers are B.C. years:
    // | Year | `y` | `u` |
    // |------|-----|-----|
    // | AC 1 |   1 |   1 |
    // | BC 1 |   1 |   0 |
    // | BC 2 |   2 |  -1 |
    // Also `yy` always returns the last two digits of a year,
    // while `uu` pads single digit years to 2 characters and returns other years unchanged.
    u: function(date, token) {
      const year = date.getFullYear();
      return addLeadingZeros(year, token.length);
    },
    // Quarter
    Q: function(date, token, localize2) {
      const quarter = Math.ceil((date.getMonth() + 1) / 3);
      switch (token) {
        case "Q":
          return String(quarter);
        case "QQ":
          return addLeadingZeros(quarter, 2);
        case "Qo":
          return localize2.ordinalNumber(quarter, { unit: "quarter" });
        case "QQQ":
          return localize2.quarter(quarter, {
            width: "abbreviated",
            context: "formatting"
          });
        case "QQQQQ":
          return localize2.quarter(quarter, {
            width: "narrow",
            context: "formatting"
          });
        case "QQQQ":
        default:
          return localize2.quarter(quarter, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // Stand-alone quarter
    q: function(date, token, localize2) {
      const quarter = Math.ceil((date.getMonth() + 1) / 3);
      switch (token) {
        case "q":
          return String(quarter);
        case "qq":
          return addLeadingZeros(quarter, 2);
        case "qo":
          return localize2.ordinalNumber(quarter, { unit: "quarter" });
        case "qqq":
          return localize2.quarter(quarter, {
            width: "abbreviated",
            context: "standalone"
          });
        case "qqqqq":
          return localize2.quarter(quarter, {
            width: "narrow",
            context: "standalone"
          });
        case "qqqq":
        default:
          return localize2.quarter(quarter, {
            width: "wide",
            context: "standalone"
          });
      }
    },
    // Month
    M: function(date, token, localize2) {
      const month = date.getMonth();
      switch (token) {
        case "M":
        case "MM":
          return lightFormatters.M(date, token);
        case "Mo":
          return localize2.ordinalNumber(month + 1, { unit: "month" });
        case "MMM":
          return localize2.month(month, {
            width: "abbreviated",
            context: "formatting"
          });
        case "MMMMM":
          return localize2.month(month, {
            width: "narrow",
            context: "formatting"
          });
        case "MMMM":
        default:
          return localize2.month(month, { width: "wide", context: "formatting" });
      }
    },
    // Stand-alone month
    L: function(date, token, localize2) {
      const month = date.getMonth();
      switch (token) {
        case "L":
          return String(month + 1);
        case "LL":
          return addLeadingZeros(month + 1, 2);
        case "Lo":
          return localize2.ordinalNumber(month + 1, { unit: "month" });
        case "LLL":
          return localize2.month(month, {
            width: "abbreviated",
            context: "standalone"
          });
        case "LLLLL":
          return localize2.month(month, {
            width: "narrow",
            context: "standalone"
          });
        case "LLLL":
        default:
          return localize2.month(month, { width: "wide", context: "standalone" });
      }
    },
    // Local week of year
    w: function(date, token, localize2, options) {
      const week = getWeek(date, options);
      if (token === "wo") {
        return localize2.ordinalNumber(week, { unit: "week" });
      }
      return addLeadingZeros(week, token.length);
    },
    // ISO week of year
    I: function(date, token, localize2) {
      const isoWeek = getISOWeek(date);
      if (token === "Io") {
        return localize2.ordinalNumber(isoWeek, { unit: "week" });
      }
      return addLeadingZeros(isoWeek, token.length);
    },
    // Day of the month
    d: function(date, token, localize2) {
      if (token === "do") {
        return localize2.ordinalNumber(date.getDate(), { unit: "date" });
      }
      return lightFormatters.d(date, token);
    },
    // Day of year
    D: function(date, token, localize2) {
      const dayOfYear = getDayOfYear(date);
      if (token === "Do") {
        return localize2.ordinalNumber(dayOfYear, { unit: "dayOfYear" });
      }
      return addLeadingZeros(dayOfYear, token.length);
    },
    // Day of week
    E: function(date, token, localize2) {
      const dayOfWeek = date.getDay();
      switch (token) {
        case "E":
        case "EE":
        case "EEE":
          return localize2.day(dayOfWeek, {
            width: "abbreviated",
            context: "formatting"
          });
        case "EEEEE":
          return localize2.day(dayOfWeek, {
            width: "narrow",
            context: "formatting"
          });
        case "EEEEEE":
          return localize2.day(dayOfWeek, {
            width: "short",
            context: "formatting"
          });
        case "EEEE":
        default:
          return localize2.day(dayOfWeek, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // Local day of week
    e: function(date, token, localize2, options) {
      const dayOfWeek = date.getDay();
      const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;
      switch (token) {
        case "e":
          return String(localDayOfWeek);
        case "ee":
          return addLeadingZeros(localDayOfWeek, 2);
        case "eo":
          return localize2.ordinalNumber(localDayOfWeek, { unit: "day" });
        case "eee":
          return localize2.day(dayOfWeek, {
            width: "abbreviated",
            context: "formatting"
          });
        case "eeeee":
          return localize2.day(dayOfWeek, {
            width: "narrow",
            context: "formatting"
          });
        case "eeeeee":
          return localize2.day(dayOfWeek, {
            width: "short",
            context: "formatting"
          });
        case "eeee":
        default:
          return localize2.day(dayOfWeek, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // Stand-alone local day of week
    c: function(date, token, localize2, options) {
      const dayOfWeek = date.getDay();
      const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;
      switch (token) {
        case "c":
          return String(localDayOfWeek);
        case "cc":
          return addLeadingZeros(localDayOfWeek, token.length);
        case "co":
          return localize2.ordinalNumber(localDayOfWeek, { unit: "day" });
        case "ccc":
          return localize2.day(dayOfWeek, {
            width: "abbreviated",
            context: "standalone"
          });
        case "ccccc":
          return localize2.day(dayOfWeek, {
            width: "narrow",
            context: "standalone"
          });
        case "cccccc":
          return localize2.day(dayOfWeek, {
            width: "short",
            context: "standalone"
          });
        case "cccc":
        default:
          return localize2.day(dayOfWeek, {
            width: "wide",
            context: "standalone"
          });
      }
    },
    // ISO day of week
    i: function(date, token, localize2) {
      const dayOfWeek = date.getDay();
      const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;
      switch (token) {
        case "i":
          return String(isoDayOfWeek);
        case "ii":
          return addLeadingZeros(isoDayOfWeek, token.length);
        case "io":
          return localize2.ordinalNumber(isoDayOfWeek, { unit: "day" });
        case "iii":
          return localize2.day(dayOfWeek, {
            width: "abbreviated",
            context: "formatting"
          });
        case "iiiii":
          return localize2.day(dayOfWeek, {
            width: "narrow",
            context: "formatting"
          });
        case "iiiiii":
          return localize2.day(dayOfWeek, {
            width: "short",
            context: "formatting"
          });
        case "iiii":
        default:
          return localize2.day(dayOfWeek, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // AM or PM
    a: function(date, token, localize2) {
      const hours = date.getHours();
      const dayPeriodEnumValue = hours / 12 >= 1 ? "pm" : "am";
      switch (token) {
        case "a":
        case "aa":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          });
        case "aaa":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          }).toLowerCase();
        case "aaaaa":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "narrow",
            context: "formatting"
          });
        case "aaaa":
        default:
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // AM, PM, midnight, noon
    b: function(date, token, localize2) {
      const hours = date.getHours();
      let dayPeriodEnumValue;
      if (hours === 12) {
        dayPeriodEnumValue = dayPeriodEnum.noon;
      } else if (hours === 0) {
        dayPeriodEnumValue = dayPeriodEnum.midnight;
      } else {
        dayPeriodEnumValue = hours / 12 >= 1 ? "pm" : "am";
      }
      switch (token) {
        case "b":
        case "bb":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          });
        case "bbb":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          }).toLowerCase();
        case "bbbbb":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "narrow",
            context: "formatting"
          });
        case "bbbb":
        default:
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // in the morning, in the afternoon, in the evening, at night
    B: function(date, token, localize2) {
      const hours = date.getHours();
      let dayPeriodEnumValue;
      if (hours >= 17) {
        dayPeriodEnumValue = dayPeriodEnum.evening;
      } else if (hours >= 12) {
        dayPeriodEnumValue = dayPeriodEnum.afternoon;
      } else if (hours >= 4) {
        dayPeriodEnumValue = dayPeriodEnum.morning;
      } else {
        dayPeriodEnumValue = dayPeriodEnum.night;
      }
      switch (token) {
        case "B":
        case "BB":
        case "BBB":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          });
        case "BBBBB":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "narrow",
            context: "formatting"
          });
        case "BBBB":
        default:
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // Hour [1-12]
    h: function(date, token, localize2) {
      if (token === "ho") {
        let hours = date.getHours() % 12;
        if (hours === 0) hours = 12;
        return localize2.ordinalNumber(hours, { unit: "hour" });
      }
      return lightFormatters.h(date, token);
    },
    // Hour [0-23]
    H: function(date, token, localize2) {
      if (token === "Ho") {
        return localize2.ordinalNumber(date.getHours(), { unit: "hour" });
      }
      return lightFormatters.H(date, token);
    },
    // Hour [0-11]
    K: function(date, token, localize2) {
      const hours = date.getHours() % 12;
      if (token === "Ko") {
        return localize2.ordinalNumber(hours, { unit: "hour" });
      }
      return addLeadingZeros(hours, token.length);
    },
    // Hour [1-24]
    k: function(date, token, localize2) {
      let hours = date.getHours();
      if (hours === 0) hours = 24;
      if (token === "ko") {
        return localize2.ordinalNumber(hours, { unit: "hour" });
      }
      return addLeadingZeros(hours, token.length);
    },
    // Minute
    m: function(date, token, localize2) {
      if (token === "mo") {
        return localize2.ordinalNumber(date.getMinutes(), { unit: "minute" });
      }
      return lightFormatters.m(date, token);
    },
    // Second
    s: function(date, token, localize2) {
      if (token === "so") {
        return localize2.ordinalNumber(date.getSeconds(), { unit: "second" });
      }
      return lightFormatters.s(date, token);
    },
    // Fraction of second
    S: function(date, token) {
      return lightFormatters.S(date, token);
    },
    // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)
    X: function(date, token, _localize) {
      const timezoneOffset = date.getTimezoneOffset();
      if (timezoneOffset === 0) {
        return "Z";
      }
      switch (token) {
        case "X":
          return formatTimezoneWithOptionalMinutes(timezoneOffset);
        case "XXXX":
        case "XX":
          return formatTimezone(timezoneOffset);
        case "XXXXX":
        case "XXX":
        default:
          return formatTimezone(timezoneOffset, ":");
      }
    },
    // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)
    x: function(date, token, _localize) {
      const timezoneOffset = date.getTimezoneOffset();
      switch (token) {
        case "x":
          return formatTimezoneWithOptionalMinutes(timezoneOffset);
        case "xxxx":
        case "xx":
          return formatTimezone(timezoneOffset);
        case "xxxxx":
        case "xxx":
        default:
          return formatTimezone(timezoneOffset, ":");
      }
    },
    // Timezone (GMT)
    O: function(date, token, _localize) {
      const timezoneOffset = date.getTimezoneOffset();
      switch (token) {
        case "O":
        case "OO":
        case "OOO":
          return "GMT" + formatTimezoneShort(timezoneOffset, ":");
        case "OOOO":
        default:
          return "GMT" + formatTimezone(timezoneOffset, ":");
      }
    },
    // Timezone (specific non-location)
    z: function(date, token, _localize) {
      const timezoneOffset = date.getTimezoneOffset();
      switch (token) {
        case "z":
        case "zz":
        case "zzz":
          return "GMT" + formatTimezoneShort(timezoneOffset, ":");
        case "zzzz":
        default:
          return "GMT" + formatTimezone(timezoneOffset, ":");
      }
    },
    // Seconds timestamp
    t: function(date, token, _localize) {
      const timestamp = Math.trunc(date.getTime() / 1e3);
      return addLeadingZeros(timestamp, token.length);
    },
    // Milliseconds timestamp
    T: function(date, token, _localize) {
      const timestamp = date.getTime();
      return addLeadingZeros(timestamp, token.length);
    }
  };
  function formatTimezoneShort(offset3, delimiter = "") {
    const sign = offset3 > 0 ? "-" : "+";
    const absOffset = Math.abs(offset3);
    const hours = Math.trunc(absOffset / 60);
    const minutes = absOffset % 60;
    if (minutes === 0) {
      return sign + String(hours);
    }
    return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);
  }
  function formatTimezoneWithOptionalMinutes(offset3, delimiter) {
    if (offset3 % 60 === 0) {
      const sign = offset3 > 0 ? "-" : "+";
      return sign + addLeadingZeros(Math.abs(offset3) / 60, 2);
    }
    return formatTimezone(offset3, delimiter);
  }
  function formatTimezone(offset3, delimiter = "") {
    const sign = offset3 > 0 ? "-" : "+";
    const absOffset = Math.abs(offset3);
    const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);
    const minutes = addLeadingZeros(absOffset % 60, 2);
    return sign + hours + delimiter + minutes;
  }

  // node_modules/date-fns/_lib/format/longFormatters.mjs
  var dateLongFormatter = (pattern, formatLong2) => {
    switch (pattern) {
      case "P":
        return formatLong2.date({ width: "short" });
      case "PP":
        return formatLong2.date({ width: "medium" });
      case "PPP":
        return formatLong2.date({ width: "long" });
      case "PPPP":
      default:
        return formatLong2.date({ width: "full" });
    }
  };
  var timeLongFormatter = (pattern, formatLong2) => {
    switch (pattern) {
      case "p":
        return formatLong2.time({ width: "short" });
      case "pp":
        return formatLong2.time({ width: "medium" });
      case "ppp":
        return formatLong2.time({ width: "long" });
      case "pppp":
      default:
        return formatLong2.time({ width: "full" });
    }
  };
  var dateTimeLongFormatter = (pattern, formatLong2) => {
    const matchResult = pattern.match(/(P+)(p+)?/) || [];
    const datePattern = matchResult[1];
    const timePattern = matchResult[2];
    if (!timePattern) {
      return dateLongFormatter(pattern, formatLong2);
    }
    let dateTimeFormat;
    switch (datePattern) {
      case "P":
        dateTimeFormat = formatLong2.dateTime({ width: "short" });
        break;
      case "PP":
        dateTimeFormat = formatLong2.dateTime({ width: "medium" });
        break;
      case "PPP":
        dateTimeFormat = formatLong2.dateTime({ width: "long" });
        break;
      case "PPPP":
      default:
        dateTimeFormat = formatLong2.dateTime({ width: "full" });
        break;
    }
    return dateTimeFormat.replace("{{date}}", dateLongFormatter(datePattern, formatLong2)).replace("{{time}}", timeLongFormatter(timePattern, formatLong2));
  };
  var longFormatters = {
    p: timeLongFormatter,
    P: dateTimeLongFormatter
  };

  // node_modules/date-fns/_lib/protectedTokens.mjs
  var dayOfYearTokenRE = /^D+$/;
  var weekYearTokenRE = /^Y+$/;
  var throwTokens = ["D", "DD", "YY", "YYYY"];
  function isProtectedDayOfYearToken(token) {
    return dayOfYearTokenRE.test(token);
  }
  function isProtectedWeekYearToken(token) {
    return weekYearTokenRE.test(token);
  }
  function warnOrThrowProtectedError(token, format2, input) {
    const _message = message(token, format2, input);
    console.warn(_message);
    if (throwTokens.includes(token)) throw new RangeError(_message);
  }
  function message(token, format2, input) {
    const subject = token[0] === "Y" ? "years" : "days of the month";
    return `Use \`${token.toLowerCase()}\` instead of \`${token}\` (in \`${format2}\`) for formatting ${subject} to the input \`${input}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;
  }

  // node_modules/date-fns/format.mjs
  var formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g;
  var longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;
  var escapedStringRegExp = /^'([^]*?)'?$/;
  var doubleQuoteRegExp = /''/g;
  var unescapedLatinCharacterRegExp = /[a-zA-Z]/;
  function format(date, formatStr, options) {
    const defaultOptions4 = getDefaultOptions();
    const locale = options?.locale ?? defaultOptions4.locale ?? enUS;
    const firstWeekContainsDate = options?.firstWeekContainsDate ?? options?.locale?.options?.firstWeekContainsDate ?? defaultOptions4.firstWeekContainsDate ?? defaultOptions4.locale?.options?.firstWeekContainsDate ?? 1;
    const weekStartsOn = options?.weekStartsOn ?? options?.locale?.options?.weekStartsOn ?? defaultOptions4.weekStartsOn ?? defaultOptions4.locale?.options?.weekStartsOn ?? 0;
    const originalDate = toDate(date);
    if (!isValid(originalDate)) {
      throw new RangeError("Invalid time value");
    }
    let parts = formatStr.match(longFormattingTokensRegExp).map((substring) => {
      const firstCharacter = substring[0];
      if (firstCharacter === "p" || firstCharacter === "P") {
        const longFormatter = longFormatters[firstCharacter];
        return longFormatter(substring, locale.formatLong);
      }
      return substring;
    }).join("").match(formattingTokensRegExp).map((substring) => {
      if (substring === "''") {
        return { isToken: false, value: "'" };
      }
      const firstCharacter = substring[0];
      if (firstCharacter === "'") {
        return { isToken: false, value: cleanEscapedString(substring) };
      }
      if (formatters[firstCharacter]) {
        return { isToken: true, value: substring };
      }
      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {
        throw new RangeError(
          "Format string contains an unescaped latin alphabet character `" + firstCharacter + "`"
        );
      }
      return { isToken: false, value: substring };
    });
    if (locale.localize.preprocessor) {
      parts = locale.localize.preprocessor(originalDate, parts);
    }
    const formatterOptions = {
      firstWeekContainsDate,
      weekStartsOn,
      locale
    };
    return parts.map((part) => {
      if (!part.isToken) return part.value;
      const token = part.value;
      if (!options?.useAdditionalWeekYearTokens && isProtectedWeekYearToken(token) || !options?.useAdditionalDayOfYearTokens && isProtectedDayOfYearToken(token)) {
        warnOrThrowProtectedError(token, formatStr, String(date));
      }
      const formatter = formatters[token[0]];
      return formatter(originalDate, token, locale.localize, formatterOptions);
    }).join("");
  }
  function cleanEscapedString(input) {
    const matched = input.match(escapedStringRegExp);
    if (!matched) {
      return input;
    }
    return matched[1].replace(doubleQuoteRegExp, "'");
  }

  // node_modules/date-fns/isSameMonth.mjs
  function isSameMonth(dateLeft, dateRight) {
    const _dateLeft = toDate(dateLeft);
    const _dateRight = toDate(dateRight);
    return _dateLeft.getFullYear() === _dateRight.getFullYear() && _dateLeft.getMonth() === _dateRight.getMonth();
  }

  // node_modules/date-fns/isToday.mjs
  function isToday(date) {
    return isSameDay(date, constructNow(date));
  }

  // ../../app/ui/components/rails_ui/calendar/index.js
  var calendar_default = class extends Controller {
    connect() {
      this.viewDate = new Date(this.viewDateValue);
      this.selectedDate = this.selectedDateValue ? new Date(this.selectedDateValue) : null;
      this.renderCalendar();
    }
    renderCalendar() {
      this.titleTarget.textContent = format(this.viewDate, "MMMM yyyy");
      const start = startOfWeek(startOfMonth(this.viewDate));
      const end = endOfWeek(endOfMonth(this.viewDate));
      const days = eachDayOfInterval({ start, end });
      const calendarContainer = this.calendarTarget;
      const weekdayHeaders = calendarContainer.querySelectorAll("div:nth-child(-n+7)");
      calendarContainer.innerHTML = "";
      weekdayHeaders.forEach((header) => calendarContainer.appendChild(header));
      days.forEach((day) => {
        const dayElement = this.createDayElement(day);
        calendarContainer.appendChild(dayElement);
      });
      this.updateInput();
    }
    createDayElement(day) {
      const template = this.dayTemplateTarget.content.cloneNode(true);
      const button = template.querySelector("button");
      button.textContent = format(day, "d");
      button.dataset.day = day.toISOString();
      let buttonClass = "hover:bg-accent hover:text-accent-foreground";
      if (!isSameMonth(day, this.viewDate)) {
        buttonClass += " text-muted-foreground";
      } else if (isToday(day)) {
        buttonClass += " bg-accent text-accent-foreground";
      }
      if (this.selectedDate && isSameDay(day, this.selectedDate)) {
        buttonClass += " bg-primary text-primary-foreground";
      }
      button.className = button.className.replace("{{buttonClass}}", buttonClass);
      return template;
    }
    prevMonth() {
      this.viewDate = addMonths(this.viewDate, -1);
      this.renderCalendar();
    }
    nextMonth() {
      this.viewDate = addMonths(this.viewDate, 1);
      this.renderCalendar();
    }
    selectDay(event) {
      const selectedDay = new Date(event.currentTarget.dataset.day);
      this.selectedDate = selectedDay;
      this.selectedDateValue = selectedDay.toISOString();
      this.renderCalendar();
    }
    updateInput() {
      const inputElement = document.getElementById(this.inputIdValue);
      if (inputElement && this.selectedDate) {
        inputElement.value = format(this.selectedDate, this.formatValue);
      }
    }
  };
  __publicField(calendar_default, "targets", ["title", "calendar", "dayTemplate", "input"]);
  __publicField(calendar_default, "values", {
    format: String,
    viewDate: String,
    selectedDate: { type: String, default: null },
    inputId: String
  });

  // ../../app/ui/components/rails_ui/card/index.js
  var card_exports = {};

  // ../../app/ui/components/rails_ui/carousel/index.js
  var carousel_exports = {};
  __export(carousel_exports, {
    default: () => carousel_default
  });
  var carousel_default = class extends Controller {
    connect() {
      useTransition(this, {
        element: () => this.slideTargets[this.currentIndexValue],
        enterActive: "transition ease-out duration-300",
        enterFrom: "opacity-0",
        enterTo: "opacity-100",
        leaveActive: "transition ease-in duration-300",
        leaveFrom: "opacity-100",
        leaveTo: "opacity-0"
      });
      this.updateSlidePosition();
      this.updateButtonStates();
      if (this.autoPlayValue) {
        this.startAutoPlay();
      }
    }
    disconnect() {
      this.stopAutoPlay();
    }
    next() {
      this.currentIndexValue = (this.currentIndexValue + 1) % this.slideTargets.length;
      this.updateSlidePosition();
      this.updateButtonStates();
    }
    previous() {
      this.currentIndexValue = (this.currentIndexValue - 1 + this.slideTargets.length) % this.slideTargets.length;
      this.updateSlidePosition();
      this.updateButtonStates();
    }
    updateSlidePosition() {
      const offset3 = this.currentIndexValue * -100;
      this.element.querySelector(".flex").style.transform = `translate3d(${offset3}%, 0px, 0px)`;
    }
    updateButtonStates() {
      if (this.hasPreviousButtonTarget && this.hasNextButtonTarget) {
        this.previousButtonTarget.disabled = this.currentIndexValue === 0;
        this.nextButtonTarget.disabled = this.currentIndexValue === this.slideTargets.length - 1;
      }
    }
    startAutoPlay() {
      this.autoPlayInterval = setInterval(() => {
        this.next();
      }, this.intervalValue);
    }
    stopAutoPlay() {
      if (this.autoPlayInterval) {
        clearInterval(this.autoPlayInterval);
      }
    }
  };
  __publicField(carousel_default, "targets", ["slide", "previousButton", "nextButton"]);
  __publicField(carousel_default, "values", {
    currentIndex: { type: Number, default: 0 },
    autoPlay: { type: Boolean, default: false },
    interval: { type: Number, default: 5e3 }
    // 5 seconds
  });

  // ../../app/ui/components/rails_ui/command/index.js
  var command_exports = {};
  __export(command_exports, {
    default: () => command_default
  });

  // node_modules/hotkeys-js/dist/hotkeys.esm.js
  var isff = typeof navigator !== "undefined" ? navigator.userAgent.toLowerCase().indexOf("firefox") > 0 : false;
  function addEvent(object, event, method, useCapture) {
    if (object.addEventListener) {
      object.addEventListener(event, method, useCapture);
    } else if (object.attachEvent) {
      object.attachEvent("on".concat(event), method);
    }
  }
  function removeEvent(object, event, method, useCapture) {
    if (object.removeEventListener) {
      object.removeEventListener(event, method, useCapture);
    } else if (object.detachEvent) {
      object.detachEvent("on".concat(event), method);
    }
  }
  function getMods(modifier, key) {
    const mods = key.slice(0, key.length - 1);
    for (let i = 0; i < mods.length; i++) mods[i] = modifier[mods[i].toLowerCase()];
    return mods;
  }
  function getKeys(key) {
    if (typeof key !== "string") key = "";
    key = key.replace(/\s/g, "");
    const keys = key.split(",");
    let index = keys.lastIndexOf("");
    for (; index >= 0; ) {
      keys[index - 1] += ",";
      keys.splice(index, 1);
      index = keys.lastIndexOf("");
    }
    return keys;
  }
  function compareArray(a1, a2) {
    const arr1 = a1.length >= a2.length ? a1 : a2;
    const arr2 = a1.length >= a2.length ? a2 : a1;
    let isIndex = true;
    for (let i = 0; i < arr1.length; i++) {
      if (arr2.indexOf(arr1[i]) === -1) isIndex = false;
    }
    return isIndex;
  }
  var _keyMap = {
    backspace: 8,
    "\u232B": 8,
    tab: 9,
    clear: 12,
    enter: 13,
    "\u21A9": 13,
    return: 13,
    esc: 27,
    escape: 27,
    space: 32,
    left: 37,
    up: 38,
    right: 39,
    down: 40,
    del: 46,
    delete: 46,
    ins: 45,
    insert: 45,
    home: 36,
    end: 35,
    pageup: 33,
    pagedown: 34,
    capslock: 20,
    num_0: 96,
    num_1: 97,
    num_2: 98,
    num_3: 99,
    num_4: 100,
    num_5: 101,
    num_6: 102,
    num_7: 103,
    num_8: 104,
    num_9: 105,
    num_multiply: 106,
    num_add: 107,
    num_enter: 108,
    num_subtract: 109,
    num_decimal: 110,
    num_divide: 111,
    "\u21EA": 20,
    ",": 188,
    ".": 190,
    "/": 191,
    "`": 192,
    "-": isff ? 173 : 189,
    "=": isff ? 61 : 187,
    ";": isff ? 59 : 186,
    "'": 222,
    "[": 219,
    "]": 221,
    "\\": 220
  };
  var _modifier = {
    // shiftKey
    "\u21E7": 16,
    shift: 16,
    // altKey
    "\u2325": 18,
    alt: 18,
    option: 18,
    // ctrlKey
    "\u2303": 17,
    ctrl: 17,
    control: 17,
    // metaKey
    "\u2318": 91,
    cmd: 91,
    command: 91
  };
  var modifierMap = {
    16: "shiftKey",
    18: "altKey",
    17: "ctrlKey",
    91: "metaKey",
    shiftKey: 16,
    ctrlKey: 17,
    altKey: 18,
    metaKey: 91
  };
  var _mods = {
    16: false,
    18: false,
    17: false,
    91: false
  };
  var _handlers = {};
  for (let k = 1; k < 20; k++) {
    _keyMap["f".concat(k)] = 111 + k;
  }
  var _downKeys = [];
  var winListendFocus = null;
  var _scope = "all";
  var elementEventMap = /* @__PURE__ */ new Map();
  var code = (x) => _keyMap[x.toLowerCase()] || _modifier[x.toLowerCase()] || x.toUpperCase().charCodeAt(0);
  var getKey = (x) => Object.keys(_keyMap).find((k) => _keyMap[k] === x);
  var getModifier = (x) => Object.keys(_modifier).find((k) => _modifier[k] === x);
  function setScope(scope) {
    _scope = scope || "all";
  }
  function getScope() {
    return _scope || "all";
  }
  function getPressedKeyCodes() {
    return _downKeys.slice(0);
  }
  function getPressedKeyString() {
    return _downKeys.map((c) => getKey(c) || getModifier(c) || String.fromCharCode(c));
  }
  function getAllKeyCodes() {
    const result = [];
    Object.keys(_handlers).forEach((k) => {
      _handlers[k].forEach((_ref) => {
        let {
          key,
          scope,
          mods,
          shortcut
        } = _ref;
        result.push({
          scope,
          shortcut,
          mods,
          keys: key.split("+").map((v) => code(v))
        });
      });
    });
    return result;
  }
  function filter(event) {
    const target = event.target || event.srcElement;
    const {
      tagName
    } = target;
    let flag = true;
    const isInput = tagName === "INPUT" && !["checkbox", "radio", "range", "button", "file", "reset", "submit", "color"].includes(target.type);
    if (target.isContentEditable || (isInput || tagName === "TEXTAREA" || tagName === "SELECT") && !target.readOnly) {
      flag = false;
    }
    return flag;
  }
  function isPressed(keyCode) {
    if (typeof keyCode === "string") {
      keyCode = code(keyCode);
    }
    return _downKeys.indexOf(keyCode) !== -1;
  }
  function deleteScope(scope, newScope) {
    let handlers;
    let i;
    if (!scope) scope = getScope();
    for (const key in _handlers) {
      if (Object.prototype.hasOwnProperty.call(_handlers, key)) {
        handlers = _handlers[key];
        for (i = 0; i < handlers.length; ) {
          if (handlers[i].scope === scope) {
            const deleteItems = handlers.splice(i, 1);
            deleteItems.forEach((_ref2) => {
              let {
                element
              } = _ref2;
              return removeKeyEvent(element);
            });
          } else {
            i++;
          }
        }
      }
    }
    if (getScope() === scope) setScope(newScope || "all");
  }
  function clearModifier(event) {
    let key = event.keyCode || event.which || event.charCode;
    const i = _downKeys.indexOf(key);
    if (i >= 0) {
      _downKeys.splice(i, 1);
    }
    if (event.key && event.key.toLowerCase() === "meta") {
      _downKeys.splice(0, _downKeys.length);
    }
    if (key === 93 || key === 224) key = 91;
    if (key in _mods) {
      _mods[key] = false;
      for (const k in _modifier) if (_modifier[k] === key) hotkeys[k] = false;
    }
  }
  function unbind(keysInfo) {
    if (typeof keysInfo === "undefined") {
      Object.keys(_handlers).forEach((key) => {
        Array.isArray(_handlers[key]) && _handlers[key].forEach((info) => eachUnbind(info));
        delete _handlers[key];
      });
      removeKeyEvent(null);
    } else if (Array.isArray(keysInfo)) {
      keysInfo.forEach((info) => {
        if (info.key) eachUnbind(info);
      });
    } else if (typeof keysInfo === "object") {
      if (keysInfo.key) eachUnbind(keysInfo);
    } else if (typeof keysInfo === "string") {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }
      let [scope, method] = args;
      if (typeof scope === "function") {
        method = scope;
        scope = "";
      }
      eachUnbind({
        key: keysInfo,
        scope,
        method,
        splitKey: "+"
      });
    }
  }
  var eachUnbind = (_ref3) => {
    let {
      key,
      scope,
      method,
      splitKey = "+"
    } = _ref3;
    const multipleKeys = getKeys(key);
    multipleKeys.forEach((originKey) => {
      const unbindKeys = originKey.split(splitKey);
      const len = unbindKeys.length;
      const lastKey = unbindKeys[len - 1];
      const keyCode = lastKey === "*" ? "*" : code(lastKey);
      if (!_handlers[keyCode]) return;
      if (!scope) scope = getScope();
      const mods = len > 1 ? getMods(_modifier, unbindKeys) : [];
      const unbindElements = [];
      _handlers[keyCode] = _handlers[keyCode].filter((record) => {
        const isMatchingMethod = method ? record.method === method : true;
        const isUnbind = isMatchingMethod && record.scope === scope && compareArray(record.mods, mods);
        if (isUnbind) unbindElements.push(record.element);
        return !isUnbind;
      });
      unbindElements.forEach((element) => removeKeyEvent(element));
    });
  };
  function eventHandler(event, handler, scope, element) {
    if (handler.element !== element) {
      return;
    }
    let modifiersMatch;
    if (handler.scope === scope || handler.scope === "all") {
      modifiersMatch = handler.mods.length > 0;
      for (const y in _mods) {
        if (Object.prototype.hasOwnProperty.call(_mods, y)) {
          if (!_mods[y] && handler.mods.indexOf(+y) > -1 || _mods[y] && handler.mods.indexOf(+y) === -1) {
            modifiersMatch = false;
          }
        }
      }
      if (handler.mods.length === 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91] || modifiersMatch || handler.shortcut === "*") {
        handler.keys = [];
        handler.keys = handler.keys.concat(_downKeys);
        if (handler.method(event, handler) === false) {
          if (event.preventDefault) event.preventDefault();
          else event.returnValue = false;
          if (event.stopPropagation) event.stopPropagation();
          if (event.cancelBubble) event.cancelBubble = true;
        }
      }
    }
  }
  function dispatch(event, element) {
    const asterisk = _handlers["*"];
    let key = event.keyCode || event.which || event.charCode;
    if (!hotkeys.filter.call(this, event)) return;
    if (key === 93 || key === 224) key = 91;
    if (_downKeys.indexOf(key) === -1 && key !== 229) _downKeys.push(key);
    ["ctrlKey", "altKey", "shiftKey", "metaKey"].forEach((keyName) => {
      const keyNum = modifierMap[keyName];
      if (event[keyName] && _downKeys.indexOf(keyNum) === -1) {
        _downKeys.push(keyNum);
      } else if (!event[keyName] && _downKeys.indexOf(keyNum) > -1) {
        _downKeys.splice(_downKeys.indexOf(keyNum), 1);
      } else if (keyName === "metaKey" && event[keyName] && _downKeys.length === 3) {
        if (!(event.ctrlKey || event.shiftKey || event.altKey)) {
          _downKeys = _downKeys.slice(_downKeys.indexOf(keyNum));
        }
      }
    });
    if (key in _mods) {
      _mods[key] = true;
      for (const k in _modifier) {
        if (_modifier[k] === key) hotkeys[k] = true;
      }
      if (!asterisk) return;
    }
    for (const e in _mods) {
      if (Object.prototype.hasOwnProperty.call(_mods, e)) {
        _mods[e] = event[modifierMap[e]];
      }
    }
    if (event.getModifierState && !(event.altKey && !event.ctrlKey) && event.getModifierState("AltGraph")) {
      if (_downKeys.indexOf(17) === -1) {
        _downKeys.push(17);
      }
      if (_downKeys.indexOf(18) === -1) {
        _downKeys.push(18);
      }
      _mods[17] = true;
      _mods[18] = true;
    }
    const scope = getScope();
    if (asterisk) {
      for (let i = 0; i < asterisk.length; i++) {
        if (asterisk[i].scope === scope && (event.type === "keydown" && asterisk[i].keydown || event.type === "keyup" && asterisk[i].keyup)) {
          eventHandler(event, asterisk[i], scope, element);
        }
      }
    }
    if (!(key in _handlers)) return;
    const handlerKey = _handlers[key];
    const keyLen = handlerKey.length;
    for (let i = 0; i < keyLen; i++) {
      if (event.type === "keydown" && handlerKey[i].keydown || event.type === "keyup" && handlerKey[i].keyup) {
        if (handlerKey[i].key) {
          const record = handlerKey[i];
          const {
            splitKey
          } = record;
          const keyShortcut = record.key.split(splitKey);
          const _downKeysCurrent = [];
          for (let a = 0; a < keyShortcut.length; a++) {
            _downKeysCurrent.push(code(keyShortcut[a]));
          }
          if (_downKeysCurrent.sort().join("") === _downKeys.sort().join("")) {
            eventHandler(event, record, scope, element);
          }
        }
      }
    }
  }
  function hotkeys(key, option, method) {
    _downKeys = [];
    const keys = getKeys(key);
    let mods = [];
    let scope = "all";
    let element = document;
    let i = 0;
    let keyup = false;
    let keydown = true;
    let splitKey = "+";
    let capture = false;
    let single = false;
    if (method === void 0 && typeof option === "function") {
      method = option;
    }
    if (Object.prototype.toString.call(option) === "[object Object]") {
      if (option.scope) scope = option.scope;
      if (option.element) element = option.element;
      if (option.keyup) keyup = option.keyup;
      if (option.keydown !== void 0) keydown = option.keydown;
      if (option.capture !== void 0) capture = option.capture;
      if (typeof option.splitKey === "string") splitKey = option.splitKey;
      if (option.single === true) single = true;
    }
    if (typeof option === "string") scope = option;
    if (single) unbind(key, scope);
    for (; i < keys.length; i++) {
      key = keys[i].split(splitKey);
      mods = [];
      if (key.length > 1) mods = getMods(_modifier, key);
      key = key[key.length - 1];
      key = key === "*" ? "*" : code(key);
      if (!(key in _handlers)) _handlers[key] = [];
      _handlers[key].push({
        keyup,
        keydown,
        scope,
        mods,
        shortcut: keys[i],
        method,
        key: keys[i],
        splitKey,
        element
      });
    }
    if (typeof element !== "undefined" && window) {
      if (!elementEventMap.has(element)) {
        const keydownListener = function() {
          let event = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : window.event;
          return dispatch(event, element);
        };
        const keyupListenr = function() {
          let event = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : window.event;
          dispatch(event, element);
          clearModifier(event);
        };
        elementEventMap.set(element, {
          keydownListener,
          keyupListenr,
          capture
        });
        addEvent(element, "keydown", keydownListener, capture);
        addEvent(element, "keyup", keyupListenr, capture);
      }
      if (!winListendFocus) {
        const listener = () => {
          _downKeys = [];
        };
        winListendFocus = {
          listener,
          capture
        };
        addEvent(window, "focus", listener, capture);
      }
    }
  }
  function trigger(shortcut) {
    let scope = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "all";
    Object.keys(_handlers).forEach((key) => {
      const dataList = _handlers[key].filter((item) => item.scope === scope && item.shortcut === shortcut);
      dataList.forEach((data) => {
        if (data && data.method) {
          data.method();
        }
      });
    });
  }
  function removeKeyEvent(element) {
    const values = Object.values(_handlers).flat();
    const findindex = values.findIndex((_ref4) => {
      let {
        element: el
      } = _ref4;
      return el === element;
    });
    if (findindex < 0) {
      const {
        keydownListener,
        keyupListenr,
        capture
      } = elementEventMap.get(element) || {};
      if (keydownListener && keyupListenr) {
        removeEvent(element, "keyup", keyupListenr, capture);
        removeEvent(element, "keydown", keydownListener, capture);
        elementEventMap.delete(element);
      }
    }
    if (values.length <= 0 || elementEventMap.size <= 0) {
      const eventKeys = Object.keys(elementEventMap);
      eventKeys.forEach((el) => {
        const {
          keydownListener,
          keyupListenr,
          capture
        } = elementEventMap.get(el) || {};
        if (keydownListener && keyupListenr) {
          removeEvent(el, "keyup", keyupListenr, capture);
          removeEvent(el, "keydown", keydownListener, capture);
          elementEventMap.delete(el);
        }
      });
      elementEventMap.clear();
      Object.keys(_handlers).forEach((key) => delete _handlers[key]);
      if (winListendFocus) {
        const {
          listener,
          capture
        } = winListendFocus;
        removeEvent(window, "focus", listener, capture);
        winListendFocus = null;
      }
    }
  }
  var _api = {
    getPressedKeyString,
    setScope,
    getScope,
    deleteScope,
    getPressedKeyCodes,
    getAllKeyCodes,
    isPressed,
    filter,
    trigger,
    unbind,
    keyMap: _keyMap,
    modifier: _modifier,
    modifierMap
  };
  for (const a in _api) {
    if (Object.prototype.hasOwnProperty.call(_api, a)) {
      hotkeys[a] = _api[a];
    }
  }
  if (typeof window !== "undefined") {
    const _hotkeys = window.hotkeys;
    hotkeys.noConflict = (deep) => {
      if (deep && window.hotkeys === hotkeys) {
        window.hotkeys = _hotkeys;
      }
      return hotkeys;
    };
    window.hotkeys = hotkeys;
  }

  // node_modules/stimulus-use/dist/hotkeys.js
  function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
    }
    return t;
  }
  var defaultOptions3 = {
    debug: false,
    logger: console,
    dispatchEvent: true,
    eventPrefix: true
  };
  var StimulusUse = class {
    constructor(controller, options = {}) {
      var _a, _b, _c;
      this.log = (functionName, args) => {
        if (!this.debug) return;
        this.logger.groupCollapsed(`%c${this.controller.identifier} %c#${functionName}`, "color: #3B82F6", "color: unset");
        this.logger.log(Object.assign({
          controllerId: this.controllerId
        }, args));
        this.logger.groupEnd();
      };
      this.warn = (message2) => {
        this.logger.warn(`%c${this.controller.identifier} %c${message2}`, "color: #3B82F6; font-weight: bold", "color: unset");
      };
      this.dispatch = (eventName, details = {}) => {
        if (this.dispatchEvent) {
          const { event } = details, eventDetails = __rest(details, ["event"]);
          const customEvent = this.extendedEvent(eventName, event || null, eventDetails);
          this.targetElement.dispatchEvent(customEvent);
          this.log("dispatchEvent", Object.assign({
            eventName: customEvent.type
          }, eventDetails));
        }
      };
      this.call = (methodName, args = {}) => {
        const method = this.controller[methodName];
        if (typeof method == "function") {
          return method.call(this.controller, args);
        }
      };
      this.extendedEvent = (name, event, detail) => {
        const { bubbles, cancelable, composed } = event || {
          bubbles: true,
          cancelable: true,
          composed: true
        };
        if (event) {
          Object.assign(detail, {
            originalEvent: event
          });
        }
        const customEvent = new CustomEvent(this.composeEventName(name), {
          bubbles,
          cancelable,
          composed,
          detail
        });
        return customEvent;
      };
      this.composeEventName = (name) => {
        let composedName = name;
        if (this.eventPrefix === true) {
          composedName = `${this.controller.identifier}:${name}`;
        } else if (typeof this.eventPrefix === "string") {
          composedName = `${this.eventPrefix}:${name}`;
        }
        return composedName;
      };
      this.debug = (_b = (_a = options === null || options === void 0 ? void 0 : options.debug) !== null && _a !== void 0 ? _a : controller.application.stimulusUseDebug) !== null && _b !== void 0 ? _b : defaultOptions3.debug;
      this.logger = (_c = options === null || options === void 0 ? void 0 : options.logger) !== null && _c !== void 0 ? _c : defaultOptions3.logger;
      this.controller = controller;
      this.controllerId = controller.element.id || controller.element.dataset.id;
      this.targetElement = (options === null || options === void 0 ? void 0 : options.element) || controller.element;
      const { dispatchEvent, eventPrefix } = Object.assign({}, defaultOptions3, options);
      Object.assign(this, {
        dispatchEvent,
        eventPrefix
      });
      this.controllerInitialize = controller.initialize.bind(controller);
      this.controllerConnect = controller.connect.bind(controller);
      this.controllerDisconnect = controller.disconnect.bind(controller);
    }
  };
  var UseHotkeys = class extends StimulusUse {
    constructor(controller, hotkeysOptions) {
      super(controller, hotkeysOptions);
      this.bind = () => {
        for (const [hotkey, definition] of Object.entries(this.hotkeysOptions.hotkeys)) {
          const handler = definition.handler.bind(this.controller);
          hotkeys(hotkey, definition.options, (e) => handler(e, e));
        }
      };
      this.unbind = () => {
        for (const hotkey in this.hotkeysOptions.hotkeys) {
          hotkeys.unbind(hotkey);
        }
      };
      this.controller = controller;
      this.hotkeysOptions = hotkeysOptions;
      this.enhanceController();
      this.bind();
    }
    enhanceController() {
      if (this.hotkeysOptions.filter) {
        hotkeys.filter = this.hotkeysOptions.filter;
      }
      const controllerDisconnect = this.controller.disconnect.bind(this.controller);
      const disconnect = () => {
        this.unbind();
        controllerDisconnect();
      };
      Object.assign(this.controller, {
        disconnect
      });
    }
  };
  var convertSimpleHotkeyDefinition = (definition) => ({
    handler: definition[0],
    options: {
      element: definition[1]
    }
  });
  var coerceOptions = (options) => {
    if (!options.hotkeys) {
      const hotkeys2 = {};
      Object.entries(options).forEach(([hotkey, definition]) => {
        Object.defineProperty(hotkeys2, hotkey, {
          value: convertSimpleHotkeyDefinition(definition),
          writable: false,
          enumerable: true
        });
      });
      options = {
        hotkeys: hotkeys2
      };
    }
    return options;
  };
  var useHotkeys = (controller, options) => new UseHotkeys(controller, coerceOptions(options));

  // ../../app/ui/components/rails_ui/command/index.js
  var command_default = class extends Controller {
    connect() {
      useHotkeys(this, {
        ...this.hotkeysValue,
        "ArrowUp": (event) => this.navigateItems(event, -1),
        "ArrowDown": (event) => this.navigateItems(event, 1),
        "Enter": (event) => this.selectItem(event)
      });
      this.currentIndex = -1;
    }
    navigateItems(event, direction) {
      event.preventDefault();
      this.currentIndex += direction;
      if (this.currentIndex < 0) this.currentIndex = this.itemTargets.length - 1;
      if (this.currentIndex >= this.itemTargets.length) this.currentIndex = 0;
      this.highlightItem();
    }
    highlightItem() {
      this.itemTargets.forEach((item, index) => {
        if (index === this.currentIndex) {
          item.setAttribute("aria-selected", "true");
          item.scrollIntoView({ block: "nearest" });
        } else {
          item.setAttribute("aria-selected", "false");
        }
      });
    }
    selectItem(event) {
      event.preventDefault();
      const selectedItem = this.itemTargets[this.currentIndex];
      if (selectedItem) {
        console.log("Selected:", selectedItem.dataset.value);
      }
    }
    search() {
      const query = this.inputTarget.value.toLowerCase();
      this.itemTargets.forEach((item) => {
        const matches = item.textContent.toLowerCase().includes(query);
        item.style.display = matches ? "" : "none";
      });
    }
  };
  __publicField(command_default, "targets", ["input", "list", "item"]);
  __publicField(command_default, "values", {
    hotkeys: Object
  });

  // ../../app/ui/components/rails_ui/dialog/index.js
  var dialog_exports = {};
  __export(dialog_exports, {
    default: () => dialog_default
  });
  var dialog_default = class extends Controller {
    connect() {
      if (this.closeOnClickOutsideValue) {
        useClickOutside(this, { element: this.contentTarget });
      }
    }
    open() {
      this.overlayTarget.style.display = "block";
      this.contentTarget.style.display = "block";
      setTimeout(() => {
        this.overlayTarget.dataset.uiDialogState = "open";
        this.contentTarget.dataset.uiDialogState = "open";
      }, 10);
    }
    close() {
      this.overlayTarget.dataset.uiDialogState = "closed";
      this.contentTarget.dataset.uiDialogState = "closed";
      setTimeout(() => {
        this.overlayTarget.style.display = "none";
        this.contentTarget.style.display = "none";
      }, 30);
    }
    cancel(event) {
      event.preventDefault();
      this.close();
    }
    clickOutside(event) {
      if (this.closeOnClickOutsideValue) {
        this.close();
      }
    }
  };
  __publicField(dialog_default, "targets", ["overlay", "content"]);
  __publicField(dialog_default, "values", {
    closeOnClickOutside: Boolean
  });

  // ../../app/ui/components/rails_ui/dropdown_menu/index.js
  var dropdown_menu_exports = {};
  __export(dropdown_menu_exports, {
    default: () => dropdown_menu_default
  });

  // node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs
  var min = Math.min;
  var max = Math.max;
  var round = Math.round;
  var floor = Math.floor;
  var createCoords = (v) => ({
    x: v,
    y: v
  });
  var oppositeSideMap = {
    left: "right",
    right: "left",
    bottom: "top",
    top: "bottom"
  };
  var oppositeAlignmentMap = {
    start: "end",
    end: "start"
  };
  function clamp(start, value, end) {
    return max(start, min(value, end));
  }
  function evaluate(value, param) {
    return typeof value === "function" ? value(param) : value;
  }
  function getSide(placement) {
    return placement.split("-")[0];
  }
  function getAlignment(placement) {
    return placement.split("-")[1];
  }
  function getOppositeAxis(axis) {
    return axis === "x" ? "y" : "x";
  }
  function getAxisLength(axis) {
    return axis === "y" ? "height" : "width";
  }
  function getSideAxis(placement) {
    return ["top", "bottom"].includes(getSide(placement)) ? "y" : "x";
  }
  function getAlignmentAxis(placement) {
    return getOppositeAxis(getSideAxis(placement));
  }
  function getAlignmentSides(placement, rects, rtl) {
    if (rtl === void 0) {
      rtl = false;
    }
    const alignment = getAlignment(placement);
    const alignmentAxis = getAlignmentAxis(placement);
    const length = getAxisLength(alignmentAxis);
    let mainAlignmentSide = alignmentAxis === "x" ? alignment === (rtl ? "end" : "start") ? "right" : "left" : alignment === "start" ? "bottom" : "top";
    if (rects.reference[length] > rects.floating[length]) {
      mainAlignmentSide = getOppositePlacement(mainAlignmentSide);
    }
    return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];
  }
  function getExpandedPlacements(placement) {
    const oppositePlacement = getOppositePlacement(placement);
    return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];
  }
  function getOppositeAlignmentPlacement(placement) {
    return placement.replace(/start|end/g, (alignment) => oppositeAlignmentMap[alignment]);
  }
  function getSideList(side, isStart, rtl) {
    const lr = ["left", "right"];
    const rl = ["right", "left"];
    const tb = ["top", "bottom"];
    const bt = ["bottom", "top"];
    switch (side) {
      case "top":
      case "bottom":
        if (rtl) return isStart ? rl : lr;
        return isStart ? lr : rl;
      case "left":
      case "right":
        return isStart ? tb : bt;
      default:
        return [];
    }
  }
  function getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {
    const alignment = getAlignment(placement);
    let list = getSideList(getSide(placement), direction === "start", rtl);
    if (alignment) {
      list = list.map((side) => side + "-" + alignment);
      if (flipAlignment) {
        list = list.concat(list.map(getOppositeAlignmentPlacement));
      }
    }
    return list;
  }
  function getOppositePlacement(placement) {
    return placement.replace(/left|right|bottom|top/g, (side) => oppositeSideMap[side]);
  }
  function expandPaddingObject(padding) {
    return {
      top: 0,
      right: 0,
      bottom: 0,
      left: 0,
      ...padding
    };
  }
  function getPaddingObject(padding) {
    return typeof padding !== "number" ? expandPaddingObject(padding) : {
      top: padding,
      right: padding,
      bottom: padding,
      left: padding
    };
  }
  function rectToClientRect(rect) {
    const {
      x,
      y,
      width,
      height
    } = rect;
    return {
      width,
      height,
      top: y,
      left: x,
      right: x + width,
      bottom: y + height,
      x,
      y
    };
  }

  // node_modules/@floating-ui/core/dist/floating-ui.core.mjs
  function computeCoordsFromPlacement(_ref, placement, rtl) {
    let {
      reference,
      floating
    } = _ref;
    const sideAxis = getSideAxis(placement);
    const alignmentAxis = getAlignmentAxis(placement);
    const alignLength = getAxisLength(alignmentAxis);
    const side = getSide(placement);
    const isVertical = sideAxis === "y";
    const commonX = reference.x + reference.width / 2 - floating.width / 2;
    const commonY = reference.y + reference.height / 2 - floating.height / 2;
    const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;
    let coords;
    switch (side) {
      case "top":
        coords = {
          x: commonX,
          y: reference.y - floating.height
        };
        break;
      case "bottom":
        coords = {
          x: commonX,
          y: reference.y + reference.height
        };
        break;
      case "right":
        coords = {
          x: reference.x + reference.width,
          y: commonY
        };
        break;
      case "left":
        coords = {
          x: reference.x - floating.width,
          y: commonY
        };
        break;
      default:
        coords = {
          x: reference.x,
          y: reference.y
        };
    }
    switch (getAlignment(placement)) {
      case "start":
        coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);
        break;
      case "end":
        coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);
        break;
    }
    return coords;
  }
  var computePosition = async (reference, floating, config) => {
    const {
      placement = "bottom",
      strategy = "absolute",
      middleware = [],
      platform: platform2
    } = config;
    const validMiddleware = middleware.filter(Boolean);
    const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(floating));
    let rects = await platform2.getElementRects({
      reference,
      floating,
      strategy
    });
    let {
      x,
      y
    } = computeCoordsFromPlacement(rects, placement, rtl);
    let statefulPlacement = placement;
    let middlewareData = {};
    let resetCount = 0;
    for (let i = 0; i < validMiddleware.length; i++) {
      const {
        name,
        fn
      } = validMiddleware[i];
      const {
        x: nextX,
        y: nextY,
        data,
        reset
      } = await fn({
        x,
        y,
        initialPlacement: placement,
        placement: statefulPlacement,
        strategy,
        middlewareData,
        rects,
        platform: platform2,
        elements: {
          reference,
          floating
        }
      });
      x = nextX != null ? nextX : x;
      y = nextY != null ? nextY : y;
      middlewareData = {
        ...middlewareData,
        [name]: {
          ...middlewareData[name],
          ...data
        }
      };
      if (reset && resetCount <= 50) {
        resetCount++;
        if (typeof reset === "object") {
          if (reset.placement) {
            statefulPlacement = reset.placement;
          }
          if (reset.rects) {
            rects = reset.rects === true ? await platform2.getElementRects({
              reference,
              floating,
              strategy
            }) : reset.rects;
          }
          ({
            x,
            y
          } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));
        }
        i = -1;
      }
    }
    return {
      x,
      y,
      placement: statefulPlacement,
      strategy,
      middlewareData
    };
  };
  async function detectOverflow(state, options) {
    var _await$platform$isEle;
    if (options === void 0) {
      options = {};
    }
    const {
      x,
      y,
      platform: platform2,
      rects,
      elements,
      strategy
    } = state;
    const {
      boundary = "clippingAncestors",
      rootBoundary = "viewport",
      elementContext = "floating",
      altBoundary = false,
      padding = 0
    } = evaluate(options, state);
    const paddingObject = getPaddingObject(padding);
    const altContext = elementContext === "floating" ? "reference" : "floating";
    const element = elements[altBoundary ? altContext : elementContext];
    const clippingClientRect = rectToClientRect(await platform2.getClippingRect({
      element: ((_await$platform$isEle = await (platform2.isElement == null ? void 0 : platform2.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || await (platform2.getDocumentElement == null ? void 0 : platform2.getDocumentElement(elements.floating)),
      boundary,
      rootBoundary,
      strategy
    }));
    const rect = elementContext === "floating" ? {
      x,
      y,
      width: rects.floating.width,
      height: rects.floating.height
    } : rects.reference;
    const offsetParent = await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(elements.floating));
    const offsetScale = await (platform2.isElement == null ? void 0 : platform2.isElement(offsetParent)) ? await (platform2.getScale == null ? void 0 : platform2.getScale(offsetParent)) || {
      x: 1,
      y: 1
    } : {
      x: 1,
      y: 1
    };
    const elementClientRect = rectToClientRect(platform2.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform2.convertOffsetParentRelativeRectToViewportRelativeRect({
      elements,
      rect,
      offsetParent,
      strategy
    }) : rect);
    return {
      top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,
      bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,
      left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,
      right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x
    };
  }
  var arrow = (options) => ({
    name: "arrow",
    options,
    async fn(state) {
      const {
        x,
        y,
        placement,
        rects,
        platform: platform2,
        elements,
        middlewareData
      } = state;
      const {
        element,
        padding = 0
      } = evaluate(options, state) || {};
      if (element == null) {
        return {};
      }
      const paddingObject = getPaddingObject(padding);
      const coords = {
        x,
        y
      };
      const axis = getAlignmentAxis(placement);
      const length = getAxisLength(axis);
      const arrowDimensions = await platform2.getDimensions(element);
      const isYAxis = axis === "y";
      const minProp = isYAxis ? "top" : "left";
      const maxProp = isYAxis ? "bottom" : "right";
      const clientProp = isYAxis ? "clientHeight" : "clientWidth";
      const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];
      const startDiff = coords[axis] - rects.reference[axis];
      const arrowOffsetParent = await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(element));
      let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;
      if (!clientSize || !await (platform2.isElement == null ? void 0 : platform2.isElement(arrowOffsetParent))) {
        clientSize = elements.floating[clientProp] || rects.floating[length];
      }
      const centerToReference = endDiff / 2 - startDiff / 2;
      const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;
      const minPadding = min(paddingObject[minProp], largestPossiblePadding);
      const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);
      const min$1 = minPadding;
      const max2 = clientSize - arrowDimensions[length] - maxPadding;
      const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;
      const offset3 = clamp(min$1, center, max2);
      const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset3 && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;
      const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max2 : 0;
      return {
        [axis]: coords[axis] + alignmentOffset,
        data: {
          [axis]: offset3,
          centerOffset: center - offset3 - alignmentOffset,
          ...shouldAddOffset && {
            alignmentOffset
          }
        },
        reset: shouldAddOffset
      };
    }
  });
  var flip = function(options) {
    if (options === void 0) {
      options = {};
    }
    return {
      name: "flip",
      options,
      async fn(state) {
        var _middlewareData$arrow, _middlewareData$flip;
        const {
          placement,
          middlewareData,
          rects,
          initialPlacement,
          platform: platform2,
          elements
        } = state;
        const {
          mainAxis: checkMainAxis = true,
          crossAxis: checkCrossAxis = true,
          fallbackPlacements: specifiedFallbackPlacements,
          fallbackStrategy = "bestFit",
          fallbackAxisSideDirection = "none",
          flipAlignment = true,
          ...detectOverflowOptions
        } = evaluate(options, state);
        if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {
          return {};
        }
        const side = getSide(placement);
        const initialSideAxis = getSideAxis(initialPlacement);
        const isBasePlacement = getSide(initialPlacement) === initialPlacement;
        const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));
        const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));
        const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== "none";
        if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {
          fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));
        }
        const placements2 = [initialPlacement, ...fallbackPlacements];
        const overflow = await detectOverflow(state, detectOverflowOptions);
        const overflows = [];
        let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];
        if (checkMainAxis) {
          overflows.push(overflow[side]);
        }
        if (checkCrossAxis) {
          const sides2 = getAlignmentSides(placement, rects, rtl);
          overflows.push(overflow[sides2[0]], overflow[sides2[1]]);
        }
        overflowsData = [...overflowsData, {
          placement,
          overflows
        }];
        if (!overflows.every((side2) => side2 <= 0)) {
          var _middlewareData$flip2, _overflowsData$filter;
          const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;
          const nextPlacement = placements2[nextIndex];
          if (nextPlacement) {
            return {
              data: {
                index: nextIndex,
                overflows: overflowsData
              },
              reset: {
                placement: nextPlacement
              }
            };
          }
          let resetPlacement = (_overflowsData$filter = overflowsData.filter((d) => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;
          if (!resetPlacement) {
            switch (fallbackStrategy) {
              case "bestFit": {
                var _overflowsData$filter2;
                const placement2 = (_overflowsData$filter2 = overflowsData.filter((d) => {
                  if (hasFallbackAxisSideDirection) {
                    const currentSideAxis = getSideAxis(d.placement);
                    return currentSideAxis === initialSideAxis || // Create a bias to the `y` side axis due to horizontal
                    // reading directions favoring greater width.
                    currentSideAxis === "y";
                  }
                  return true;
                }).map((d) => [d.placement, d.overflows.filter((overflow2) => overflow2 > 0).reduce((acc, overflow2) => acc + overflow2, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];
                if (placement2) {
                  resetPlacement = placement2;
                }
                break;
              }
              case "initialPlacement":
                resetPlacement = initialPlacement;
                break;
            }
          }
          if (placement !== resetPlacement) {
            return {
              reset: {
                placement: resetPlacement
              }
            };
          }
        }
        return {};
      }
    };
  };
  async function convertValueToCoords(state, options) {
    const {
      placement,
      platform: platform2,
      elements
    } = state;
    const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));
    const side = getSide(placement);
    const alignment = getAlignment(placement);
    const isVertical = getSideAxis(placement) === "y";
    const mainAxisMulti = ["left", "top"].includes(side) ? -1 : 1;
    const crossAxisMulti = rtl && isVertical ? -1 : 1;
    const rawValue = evaluate(options, state);
    let {
      mainAxis,
      crossAxis,
      alignmentAxis
    } = typeof rawValue === "number" ? {
      mainAxis: rawValue,
      crossAxis: 0,
      alignmentAxis: null
    } : {
      mainAxis: 0,
      crossAxis: 0,
      alignmentAxis: null,
      ...rawValue
    };
    if (alignment && typeof alignmentAxis === "number") {
      crossAxis = alignment === "end" ? alignmentAxis * -1 : alignmentAxis;
    }
    return isVertical ? {
      x: crossAxis * crossAxisMulti,
      y: mainAxis * mainAxisMulti
    } : {
      x: mainAxis * mainAxisMulti,
      y: crossAxis * crossAxisMulti
    };
  }
  var offset = function(options) {
    if (options === void 0) {
      options = 0;
    }
    return {
      name: "offset",
      options,
      async fn(state) {
        var _middlewareData$offse, _middlewareData$arrow;
        const {
          x,
          y,
          placement,
          middlewareData
        } = state;
        const diffCoords = await convertValueToCoords(state, options);
        if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {
          return {};
        }
        return {
          x: x + diffCoords.x,
          y: y + diffCoords.y,
          data: {
            ...diffCoords,
            placement
          }
        };
      }
    };
  };
  var shift = function(options) {
    if (options === void 0) {
      options = {};
    }
    return {
      name: "shift",
      options,
      async fn(state) {
        const {
          x,
          y,
          placement
        } = state;
        const {
          mainAxis: checkMainAxis = true,
          crossAxis: checkCrossAxis = false,
          limiter = {
            fn: (_ref) => {
              let {
                x: x2,
                y: y2
              } = _ref;
              return {
                x: x2,
                y: y2
              };
            }
          },
          ...detectOverflowOptions
        } = evaluate(options, state);
        const coords = {
          x,
          y
        };
        const overflow = await detectOverflow(state, detectOverflowOptions);
        const crossAxis = getSideAxis(getSide(placement));
        const mainAxis = getOppositeAxis(crossAxis);
        let mainAxisCoord = coords[mainAxis];
        let crossAxisCoord = coords[crossAxis];
        if (checkMainAxis) {
          const minSide = mainAxis === "y" ? "top" : "left";
          const maxSide = mainAxis === "y" ? "bottom" : "right";
          const min2 = mainAxisCoord + overflow[minSide];
          const max2 = mainAxisCoord - overflow[maxSide];
          mainAxisCoord = clamp(min2, mainAxisCoord, max2);
        }
        if (checkCrossAxis) {
          const minSide = crossAxis === "y" ? "top" : "left";
          const maxSide = crossAxis === "y" ? "bottom" : "right";
          const min2 = crossAxisCoord + overflow[minSide];
          const max2 = crossAxisCoord - overflow[maxSide];
          crossAxisCoord = clamp(min2, crossAxisCoord, max2);
        }
        const limitedCoords = limiter.fn({
          ...state,
          [mainAxis]: mainAxisCoord,
          [crossAxis]: crossAxisCoord
        });
        return {
          ...limitedCoords,
          data: {
            x: limitedCoords.x - x,
            y: limitedCoords.y - y
          }
        };
      }
    };
  };

  // node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs
  function getNodeName(node) {
    if (isNode(node)) {
      return (node.nodeName || "").toLowerCase();
    }
    return "#document";
  }
  function getWindow(node) {
    var _node$ownerDocument;
    return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;
  }
  function getDocumentElement(node) {
    var _ref;
    return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;
  }
  function isNode(value) {
    return value instanceof Node || value instanceof getWindow(value).Node;
  }
  function isElement(value) {
    return value instanceof Element || value instanceof getWindow(value).Element;
  }
  function isHTMLElement(value) {
    return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;
  }
  function isShadowRoot(value) {
    if (typeof ShadowRoot === "undefined") {
      return false;
    }
    return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;
  }
  function isOverflowElement(element) {
    const {
      overflow,
      overflowX,
      overflowY,
      display
    } = getComputedStyle2(element);
    return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !["inline", "contents"].includes(display);
  }
  function isTableElement(element) {
    return ["table", "td", "th"].includes(getNodeName(element));
  }
  function isTopLayer(element) {
    return [":popover-open", ":modal"].some((selector) => {
      try {
        return element.matches(selector);
      } catch (e) {
        return false;
      }
    });
  }
  function isContainingBlock(element) {
    const webkit = isWebKit();
    const css = getComputedStyle2(element);
    return css.transform !== "none" || css.perspective !== "none" || (css.containerType ? css.containerType !== "normal" : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== "none" : false) || !webkit && (css.filter ? css.filter !== "none" : false) || ["transform", "perspective", "filter"].some((value) => (css.willChange || "").includes(value)) || ["paint", "layout", "strict", "content"].some((value) => (css.contain || "").includes(value));
  }
  function getContainingBlock(element) {
    let currentNode = getParentNode(element);
    while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {
      if (isTopLayer(currentNode)) {
        return null;
      }
      if (isContainingBlock(currentNode)) {
        return currentNode;
      }
      currentNode = getParentNode(currentNode);
    }
    return null;
  }
  function isWebKit() {
    if (typeof CSS === "undefined" || !CSS.supports) return false;
    return CSS.supports("-webkit-backdrop-filter", "none");
  }
  function isLastTraversableNode(node) {
    return ["html", "body", "#document"].includes(getNodeName(node));
  }
  function getComputedStyle2(element) {
    return getWindow(element).getComputedStyle(element);
  }
  function getNodeScroll(element) {
    if (isElement(element)) {
      return {
        scrollLeft: element.scrollLeft,
        scrollTop: element.scrollTop
      };
    }
    return {
      scrollLeft: element.scrollX,
      scrollTop: element.scrollY
    };
  }
  function getParentNode(node) {
    if (getNodeName(node) === "html") {
      return node;
    }
    const result = (
      // Step into the shadow DOM of the parent of a slotted node.
      node.assignedSlot || // DOM Element detected.
      node.parentNode || // ShadowRoot detected.
      isShadowRoot(node) && node.host || // Fallback.
      getDocumentElement(node)
    );
    return isShadowRoot(result) ? result.host : result;
  }
  function getNearestOverflowAncestor(node) {
    const parentNode = getParentNode(node);
    if (isLastTraversableNode(parentNode)) {
      return node.ownerDocument ? node.ownerDocument.body : node.body;
    }
    if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {
      return parentNode;
    }
    return getNearestOverflowAncestor(parentNode);
  }
  function getOverflowAncestors(node, list, traverseIframes) {
    var _node$ownerDocument2;
    if (list === void 0) {
      list = [];
    }
    if (traverseIframes === void 0) {
      traverseIframes = true;
    }
    const scrollableAncestor = getNearestOverflowAncestor(node);
    const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);
    const win = getWindow(scrollableAncestor);
    if (isBody) {
      return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);
    }
    return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));
  }

  // node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs
  function getCssDimensions(element) {
    const css = getComputedStyle2(element);
    let width = parseFloat(css.width) || 0;
    let height = parseFloat(css.height) || 0;
    const hasOffset = isHTMLElement(element);
    const offsetWidth = hasOffset ? element.offsetWidth : width;
    const offsetHeight = hasOffset ? element.offsetHeight : height;
    const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;
    if (shouldFallback) {
      width = offsetWidth;
      height = offsetHeight;
    }
    return {
      width,
      height,
      $: shouldFallback
    };
  }
  function unwrapElement(element) {
    return !isElement(element) ? element.contextElement : element;
  }
  function getScale(element) {
    const domElement = unwrapElement(element);
    if (!isHTMLElement(domElement)) {
      return createCoords(1);
    }
    const rect = domElement.getBoundingClientRect();
    const {
      width,
      height,
      $
    } = getCssDimensions(domElement);
    let x = ($ ? round(rect.width) : rect.width) / width;
    let y = ($ ? round(rect.height) : rect.height) / height;
    if (!x || !Number.isFinite(x)) {
      x = 1;
    }
    if (!y || !Number.isFinite(y)) {
      y = 1;
    }
    return {
      x,
      y
    };
  }
  var noOffsets = /* @__PURE__ */ createCoords(0);
  function getVisualOffsets(element) {
    const win = getWindow(element);
    if (!isWebKit() || !win.visualViewport) {
      return noOffsets;
    }
    return {
      x: win.visualViewport.offsetLeft,
      y: win.visualViewport.offsetTop
    };
  }
  function shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {
    if (isFixed === void 0) {
      isFixed = false;
    }
    if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {
      return false;
    }
    return isFixed;
  }
  function getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {
    if (includeScale === void 0) {
      includeScale = false;
    }
    if (isFixedStrategy === void 0) {
      isFixedStrategy = false;
    }
    const clientRect = element.getBoundingClientRect();
    const domElement = unwrapElement(element);
    let scale = createCoords(1);
    if (includeScale) {
      if (offsetParent) {
        if (isElement(offsetParent)) {
          scale = getScale(offsetParent);
        }
      } else {
        scale = getScale(element);
      }
    }
    const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);
    let x = (clientRect.left + visualOffsets.x) / scale.x;
    let y = (clientRect.top + visualOffsets.y) / scale.y;
    let width = clientRect.width / scale.x;
    let height = clientRect.height / scale.y;
    if (domElement) {
      const win = getWindow(domElement);
      const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;
      let currentWin = win;
      let currentIFrame = currentWin.frameElement;
      while (currentIFrame && offsetParent && offsetWin !== currentWin) {
        const iframeScale = getScale(currentIFrame);
        const iframeRect = currentIFrame.getBoundingClientRect();
        const css = getComputedStyle2(currentIFrame);
        const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;
        const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;
        x *= iframeScale.x;
        y *= iframeScale.y;
        width *= iframeScale.x;
        height *= iframeScale.y;
        x += left;
        y += top;
        currentWin = getWindow(currentIFrame);
        currentIFrame = currentWin.frameElement;
      }
    }
    return rectToClientRect({
      width,
      height,
      x,
      y
    });
  }
  function convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {
    let {
      elements,
      rect,
      offsetParent,
      strategy
    } = _ref;
    const isFixed = strategy === "fixed";
    const documentElement = getDocumentElement(offsetParent);
    const topLayer = elements ? isTopLayer(elements.floating) : false;
    if (offsetParent === documentElement || topLayer && isFixed) {
      return rect;
    }
    let scroll = {
      scrollLeft: 0,
      scrollTop: 0
    };
    let scale = createCoords(1);
    const offsets = createCoords(0);
    const isOffsetParentAnElement = isHTMLElement(offsetParent);
    if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {
      if (getNodeName(offsetParent) !== "body" || isOverflowElement(documentElement)) {
        scroll = getNodeScroll(offsetParent);
      }
      if (isHTMLElement(offsetParent)) {
        const offsetRect = getBoundingClientRect(offsetParent);
        scale = getScale(offsetParent);
        offsets.x = offsetRect.x + offsetParent.clientLeft;
        offsets.y = offsetRect.y + offsetParent.clientTop;
      }
    }
    return {
      width: rect.width * scale.x,
      height: rect.height * scale.y,
      x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,
      y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y
    };
  }
  function getClientRects(element) {
    return Array.from(element.getClientRects());
  }
  function getWindowScrollBarX(element) {
    return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;
  }
  function getDocumentRect(element) {
    const html = getDocumentElement(element);
    const scroll = getNodeScroll(element);
    const body = element.ownerDocument.body;
    const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);
    const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);
    let x = -scroll.scrollLeft + getWindowScrollBarX(element);
    const y = -scroll.scrollTop;
    if (getComputedStyle2(body).direction === "rtl") {
      x += max(html.clientWidth, body.clientWidth) - width;
    }
    return {
      width,
      height,
      x,
      y
    };
  }
  function getViewportRect(element, strategy) {
    const win = getWindow(element);
    const html = getDocumentElement(element);
    const visualViewport = win.visualViewport;
    let width = html.clientWidth;
    let height = html.clientHeight;
    let x = 0;
    let y = 0;
    if (visualViewport) {
      width = visualViewport.width;
      height = visualViewport.height;
      const visualViewportBased = isWebKit();
      if (!visualViewportBased || visualViewportBased && strategy === "fixed") {
        x = visualViewport.offsetLeft;
        y = visualViewport.offsetTop;
      }
    }
    return {
      width,
      height,
      x,
      y
    };
  }
  function getInnerBoundingClientRect(element, strategy) {
    const clientRect = getBoundingClientRect(element, true, strategy === "fixed");
    const top = clientRect.top + element.clientTop;
    const left = clientRect.left + element.clientLeft;
    const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);
    const width = element.clientWidth * scale.x;
    const height = element.clientHeight * scale.y;
    const x = left * scale.x;
    const y = top * scale.y;
    return {
      width,
      height,
      x,
      y
    };
  }
  function getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {
    let rect;
    if (clippingAncestor === "viewport") {
      rect = getViewportRect(element, strategy);
    } else if (clippingAncestor === "document") {
      rect = getDocumentRect(getDocumentElement(element));
    } else if (isElement(clippingAncestor)) {
      rect = getInnerBoundingClientRect(clippingAncestor, strategy);
    } else {
      const visualOffsets = getVisualOffsets(element);
      rect = {
        ...clippingAncestor,
        x: clippingAncestor.x - visualOffsets.x,
        y: clippingAncestor.y - visualOffsets.y
      };
    }
    return rectToClientRect(rect);
  }
  function hasFixedPositionAncestor(element, stopNode) {
    const parentNode = getParentNode(element);
    if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {
      return false;
    }
    return getComputedStyle2(parentNode).position === "fixed" || hasFixedPositionAncestor(parentNode, stopNode);
  }
  function getClippingElementAncestors(element, cache) {
    const cachedResult = cache.get(element);
    if (cachedResult) {
      return cachedResult;
    }
    let result = getOverflowAncestors(element, [], false).filter((el) => isElement(el) && getNodeName(el) !== "body");
    let currentContainingBlockComputedStyle = null;
    const elementIsFixed = getComputedStyle2(element).position === "fixed";
    let currentNode = elementIsFixed ? getParentNode(element) : element;
    while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {
      const computedStyle = getComputedStyle2(currentNode);
      const currentNodeIsContaining = isContainingBlock(currentNode);
      if (!currentNodeIsContaining && computedStyle.position === "fixed") {
        currentContainingBlockComputedStyle = null;
      }
      const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === "static" && !!currentContainingBlockComputedStyle && ["absolute", "fixed"].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);
      if (shouldDropCurrentNode) {
        result = result.filter((ancestor) => ancestor !== currentNode);
      } else {
        currentContainingBlockComputedStyle = computedStyle;
      }
      currentNode = getParentNode(currentNode);
    }
    cache.set(element, result);
    return result;
  }
  function getClippingRect(_ref) {
    let {
      element,
      boundary,
      rootBoundary,
      strategy
    } = _ref;
    const elementClippingAncestors = boundary === "clippingAncestors" ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);
    const clippingAncestors = [...elementClippingAncestors, rootBoundary];
    const firstClippingAncestor = clippingAncestors[0];
    const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {
      const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);
      accRect.top = max(rect.top, accRect.top);
      accRect.right = min(rect.right, accRect.right);
      accRect.bottom = min(rect.bottom, accRect.bottom);
      accRect.left = max(rect.left, accRect.left);
      return accRect;
    }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));
    return {
      width: clippingRect.right - clippingRect.left,
      height: clippingRect.bottom - clippingRect.top,
      x: clippingRect.left,
      y: clippingRect.top
    };
  }
  function getDimensions(element) {
    const {
      width,
      height
    } = getCssDimensions(element);
    return {
      width,
      height
    };
  }
  function getRectRelativeToOffsetParent(element, offsetParent, strategy) {
    const isOffsetParentAnElement = isHTMLElement(offsetParent);
    const documentElement = getDocumentElement(offsetParent);
    const isFixed = strategy === "fixed";
    const rect = getBoundingClientRect(element, true, isFixed, offsetParent);
    let scroll = {
      scrollLeft: 0,
      scrollTop: 0
    };
    const offsets = createCoords(0);
    if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {
      if (getNodeName(offsetParent) !== "body" || isOverflowElement(documentElement)) {
        scroll = getNodeScroll(offsetParent);
      }
      if (isOffsetParentAnElement) {
        const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);
        offsets.x = offsetRect.x + offsetParent.clientLeft;
        offsets.y = offsetRect.y + offsetParent.clientTop;
      } else if (documentElement) {
        offsets.x = getWindowScrollBarX(documentElement);
      }
    }
    const x = rect.left + scroll.scrollLeft - offsets.x;
    const y = rect.top + scroll.scrollTop - offsets.y;
    return {
      x,
      y,
      width: rect.width,
      height: rect.height
    };
  }
  function isStaticPositioned(element) {
    return getComputedStyle2(element).position === "static";
  }
  function getTrueOffsetParent(element, polyfill) {
    if (!isHTMLElement(element) || getComputedStyle2(element).position === "fixed") {
      return null;
    }
    if (polyfill) {
      return polyfill(element);
    }
    return element.offsetParent;
  }
  function getOffsetParent(element, polyfill) {
    const win = getWindow(element);
    if (isTopLayer(element)) {
      return win;
    }
    if (!isHTMLElement(element)) {
      let svgOffsetParent = getParentNode(element);
      while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {
        if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {
          return svgOffsetParent;
        }
        svgOffsetParent = getParentNode(svgOffsetParent);
      }
      return win;
    }
    let offsetParent = getTrueOffsetParent(element, polyfill);
    while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {
      offsetParent = getTrueOffsetParent(offsetParent, polyfill);
    }
    if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {
      return win;
    }
    return offsetParent || getContainingBlock(element) || win;
  }
  var getElementRects = async function(data) {
    const getOffsetParentFn = this.getOffsetParent || getOffsetParent;
    const getDimensionsFn = this.getDimensions;
    const floatingDimensions = await getDimensionsFn(data.floating);
    return {
      reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),
      floating: {
        x: 0,
        y: 0,
        width: floatingDimensions.width,
        height: floatingDimensions.height
      }
    };
  };
  function isRTL(element) {
    return getComputedStyle2(element).direction === "rtl";
  }
  var platform = {
    convertOffsetParentRelativeRectToViewportRelativeRect,
    getDocumentElement,
    getClippingRect,
    getOffsetParent,
    getElementRects,
    getClientRects,
    getDimensions,
    getScale,
    isElement,
    isRTL
  };
  function observeMove(element, onMove) {
    let io = null;
    let timeoutId;
    const root = getDocumentElement(element);
    function cleanup() {
      var _io;
      clearTimeout(timeoutId);
      (_io = io) == null || _io.disconnect();
      io = null;
    }
    function refresh(skip, threshold) {
      if (skip === void 0) {
        skip = false;
      }
      if (threshold === void 0) {
        threshold = 1;
      }
      cleanup();
      const {
        left,
        top,
        width,
        height
      } = element.getBoundingClientRect();
      if (!skip) {
        onMove();
      }
      if (!width || !height) {
        return;
      }
      const insetTop = floor(top);
      const insetRight = floor(root.clientWidth - (left + width));
      const insetBottom = floor(root.clientHeight - (top + height));
      const insetLeft = floor(left);
      const rootMargin = -insetTop + "px " + -insetRight + "px " + -insetBottom + "px " + -insetLeft + "px";
      const options = {
        rootMargin,
        threshold: max(0, min(1, threshold)) || 1
      };
      let isFirstUpdate = true;
      function handleObserve(entries) {
        const ratio = entries[0].intersectionRatio;
        if (ratio !== threshold) {
          if (!isFirstUpdate) {
            return refresh();
          }
          if (!ratio) {
            timeoutId = setTimeout(() => {
              refresh(false, 1e-7);
            }, 1e3);
          } else {
            refresh(false, ratio);
          }
        }
        isFirstUpdate = false;
      }
      try {
        io = new IntersectionObserver(handleObserve, {
          ...options,
          // Handle <iframe>s
          root: root.ownerDocument
        });
      } catch (e) {
        io = new IntersectionObserver(handleObserve, options);
      }
      io.observe(element);
    }
    refresh(true);
    return cleanup;
  }
  function autoUpdate(reference, floating, update, options) {
    if (options === void 0) {
      options = {};
    }
    const {
      ancestorScroll = true,
      ancestorResize = true,
      elementResize = typeof ResizeObserver === "function",
      layoutShift = typeof IntersectionObserver === "function",
      animationFrame = false
    } = options;
    const referenceEl = unwrapElement(reference);
    const ancestors = ancestorScroll || ancestorResize ? [...referenceEl ? getOverflowAncestors(referenceEl) : [], ...getOverflowAncestors(floating)] : [];
    ancestors.forEach((ancestor) => {
      ancestorScroll && ancestor.addEventListener("scroll", update, {
        passive: true
      });
      ancestorResize && ancestor.addEventListener("resize", update);
    });
    const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;
    let reobserveFrame = -1;
    let resizeObserver = null;
    if (elementResize) {
      resizeObserver = new ResizeObserver((_ref) => {
        let [firstEntry] = _ref;
        if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {
          resizeObserver.unobserve(floating);
          cancelAnimationFrame(reobserveFrame);
          reobserveFrame = requestAnimationFrame(() => {
            var _resizeObserver;
            (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);
          });
        }
        update();
      });
      if (referenceEl && !animationFrame) {
        resizeObserver.observe(referenceEl);
      }
      resizeObserver.observe(floating);
    }
    let frameId;
    let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;
    if (animationFrame) {
      frameLoop();
    }
    function frameLoop() {
      const nextRefRect = getBoundingClientRect(reference);
      if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {
        update();
      }
      prevRefRect = nextRefRect;
      frameId = requestAnimationFrame(frameLoop);
    }
    update();
    return () => {
      var _resizeObserver2;
      ancestors.forEach((ancestor) => {
        ancestorScroll && ancestor.removeEventListener("scroll", update);
        ancestorResize && ancestor.removeEventListener("resize", update);
      });
      cleanupIo == null || cleanupIo();
      (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();
      resizeObserver = null;
      if (animationFrame) {
        cancelAnimationFrame(frameId);
      }
    };
  }
  var offset2 = offset;
  var shift2 = shift;
  var flip2 = flip;
  var arrow2 = arrow;
  var computePosition2 = (reference, floating, options) => {
    const cache = /* @__PURE__ */ new Map();
    const mergedOptions = {
      platform,
      ...options
    };
    const platformWithCache = {
      ...mergedOptions.platform,
      _c: cache
    };
    return computePosition(reference, floating, {
      ...mergedOptions,
      platform: platformWithCache
    });
  };

  // ../../app/ui/components/rails_ui/dropdown_menu/index.js
  var dropdown_menu_default = class extends Controller {
    connect() {
      this.closeMenu = this.closeMenu.bind(this);
    }
    toggle() {
      if (this.menuTarget.classList.contains(this.activeClass)) {
        this.closeMenu();
      } else {
        this.openMenu();
      }
    }
    openMenu() {
      this.menuTarget.classList.add(this.activeClass);
      this.menuTarget.removeAttribute("hidden");
      document.addEventListener("click", this.closeMenu);
      this.updatePosition();
    }
    closeMenu(event) {
      if (!event || !this.element.contains(event.target)) {
        this.menuTarget.classList.remove(this.activeClass);
        this.menuTarget.setAttribute("hidden", "");
        document.removeEventListener("click", this.closeMenu);
      }
    }
    updatePosition() {
      computePosition2(this.triggerTarget, this.menuTarget, {
        placement: "bottom-start",
        middleware: [
          offset2(6),
          flip2(),
          shift2({ padding: 5 })
        ]
      }).then(({ x, y }) => {
        Object.assign(this.menuTarget.style, {
          left: `${x}px`,
          top: `${y}px`
        });
      });
    }
  };
  __publicField(dropdown_menu_default, "targets", ["trigger", "menu"]);
  __publicField(dropdown_menu_default, "classes", ["active"]);

  // ../../app/ui/components/rails_ui/dropdown_menu_item/index.js
  var dropdown_menu_item_exports = {};

  // ../../app/ui/components/rails_ui/input_otp/index.js
  var input_otp_exports = {};
  __export(input_otp_exports, {
    default: () => input_otp_default
  });
  var input_otp_default = class extends Controller {
    connect() {
      this.inputTarget.addEventListener("input", this.handleInput.bind(this));
      this.inputTarget.addEventListener("keydown", this.handleKeydown.bind(this));
      this.inputTarget.addEventListener("focus", this.handleFocus.bind(this));
      this.inputTarget.addEventListener("blur", this.handleBlur.bind(this));
    }
    handleInput(event) {
      const input = event.target;
      const value = input.value.replace(/\D/g, "").slice(0, this.totalDigits);
      input.value = value;
      this.updateDigits(value);
      this.focusDigit(value.length);
    }
    handleKeydown(event) {
      if (event.key === "Backspace" && event.target.value === "") {
        this.focusPreviousInput();
      }
    }
    handleFocus() {
      this.element.classList.add("focused");
      this.focusDigit(this.inputTarget.value.length);
    }
    handleBlur() {
      this.element.classList.remove("focused");
      this.digitTargets.forEach((digit) => {
        digit.classList.remove("ring-2", "ring-ring", "ring-offset-background");
      });
    }
    updateDigits(value) {
      this.digitTargets.forEach((digit, index) => {
        digit.textContent = value[index] || "";
        digit.classList.toggle("filled", !!value[index]);
      });
    }
    focusDigit(index) {
      this.digitTargets.forEach((digit, i) => {
        if (i === index) {
          digit.classList.add("ring-2", "ring-ring", "ring-offset-background");
        } else {
          digit.classList.remove("ring-2", "ring-ring", "ring-offset-background");
        }
      });
    }
    focusPreviousInput() {
      const currentValue = this.inputTarget.value;
      if (currentValue.length > 0) {
        this.inputTarget.value = currentValue.slice(0, -1);
        this.updateDigits(this.inputTarget.value);
        this.focusDigit(this.inputTarget.value.length);
      }
    }
    get totalDigits() {
      return this.groupsValue.reduce((sum, group) => sum + group, 0);
    }
  };
  __publicField(input_otp_default, "targets", ["input", "digit"]);
  __publicField(input_otp_default, "values", {
    groups: Array
  });

  // ../../app/ui/components/rails_ui/menubar/index.js
  var menubar_exports = {};
  __export(menubar_exports, {
    default: () => menubar_default
  });
  var menubar_default = class extends Controller {
    connect() {
      this.activeSubmenus = /* @__PURE__ */ new Set();
      this.cleanup = null;
      this.submenus = /* @__PURE__ */ new Map();
      this.hideTimeout = null;
      document.addEventListener("click", this.handleClick.bind(this));
      document.addEventListener("mouseover", this.handleMouseOver.bind(this));
      document.addEventListener("mouseout", this.handleMouseOut.bind(this));
    }
    disconnect() {
      this.cleanupAllSubmenus();
      document.removeEventListener("click", this.handleClick.bind(this));
      document.removeEventListener("mouseover", this.handleMouseOver.bind(this));
      document.removeEventListener("mouseout", this.handleMouseOut.bind(this));
    }
    handleClick(event) {
      const menuItem = event.target.closest("[data-ui-menubar-item], [data-ui-menubar-submenu-item]");
      if (menuItem) {
        event.stopPropagation();
        if (menuItem.closest("[data-ui-menubar-top-level]") || menuItem.closest("[data-ui-menubar-submenu]")) {
          this.toggleMenu(menuItem);
        }
      } else if (!event.target.closest("[data-ui-menubar-submenu]")) {
        this.closeAllSubmenus();
      }
    }
    handleMouseOver(event) {
      const submenuItem = event.target.closest("[data-ui-menubar-submenu-item]");
      if (submenuItem && submenuItem.closest("[data-ui-menubar-top-level]")) {
        clearTimeout(this.hideTimeout);
        this.showSubmenu(submenuItem);
      }
    }
    handleMouseOut(event) {
      const submenuItem = event.target.closest("[data-ui-menubar-submenu-item]");
      if (submenuItem && submenuItem.closest("[data-ui-menubar-top-level]")) {
        this.hideSubmenuWithDelay(submenuItem);
      }
    }
    toggleMenu(menuItem) {
      const index = menuItem.dataset.uiMenubarItem || menuItem.dataset.uiMenubarSubmenuItem;
      const hasSubmenu = menuItem.dataset.hasSubmenu === "true";
      if (hasSubmenu) {
        if (this.activeSubmenus.has(index)) {
          this.closeSubmenu(this.submenus.get(index));
        } else {
          this.showSubmenu(menuItem);
        }
      } else {
        console.log(`Clicked menu item: ${menuItem.textContent.trim()}`);
        this.closeAllSubmenus();
      }
    }
    showSubmenu(menuItem) {
      const index = menuItem.dataset.uiMenubarItem || menuItem.dataset.uiMenubarSubmenuItem;
      const hasSubmenu = menuItem.dataset.hasSubmenu === "true";
      if (hasSubmenu) {
        this.closeSiblingSubmenus(menuItem);
        if (!this.submenus.has(index)) {
          this.createSubmenu(menuItem, index);
        } else {
          this.openSubmenu(menuItem, this.submenus.get(index));
        }
      }
    }
    hideSubmenuWithDelay(menuItem) {
      this.hideTimeout = setTimeout(() => {
        const submenuIndex = menuItem.dataset.uiMenubarItem || menuItem.dataset.uiMenubarSubmenuItem;
        if (submenuIndex && this.submenus.has(submenuIndex)) {
          const submenu = this.submenus.get(submenuIndex);
          if (!submenu.contains(document.activeElement)) {
            this.closeSubmenu(submenu);
          }
        }
      }, 300);
    }
    createSubmenu(menuItem, index) {
      const template = this.submenuTemplateTarget;
      const submenuContent = template.content.querySelector(`[data-submenu-for="${index}"]`);
      if (submenuContent) {
        const submenu = submenuContent.cloneNode(true);
        document.body.appendChild(submenu);
        this.submenus.set(index, submenu);
        this.openSubmenu(menuItem, submenu);
      }
    }
    openSubmenu(menuItem, submenu) {
      menuItem.setAttribute("aria-expanded", "true");
      menuItem.dataset.state = "open";
      submenu.dataset.state = "open";
      submenu.style.display = "block";
      const index = menuItem.dataset.uiMenubarItem || menuItem.dataset.uiMenubarSubmenuItem;
      this.activeSubmenus.add(index);
      this.cleanup = autoUpdate(menuItem, submenu, () => {
        this.positionSubmenu(menuItem, submenu);
      });
    }
    closeSubmenu(submenu) {
      const index = submenu.dataset.submenuFor;
      const menuItem = document.querySelector(`[data-ui-menubar-item="${index}"], [data-ui-menubar-submenu-item="${index}"]`);
      if (menuItem) {
        menuItem.setAttribute("aria-expanded", "false");
        menuItem.dataset.state = "closed";
      }
      submenu.dataset.state = "closed";
      submenu.style.display = "none";
      this.activeSubmenus.delete(index);
      if (this.cleanup) {
        this.cleanup();
        this.cleanup = null;
      }
      submenu.querySelectorAll("[data-ui-menubar-submenu-item]").forEach((childItem) => {
        const childIndex = childItem.dataset.uiMenubarSubmenuItem;
        if (this.submenus.has(childIndex)) {
          this.closeSubmenu(this.submenus.get(childIndex));
        }
      });
    }
    closeSiblingSubmenus(menuItem) {
      const parentSubmenu = menuItem.closest("[data-ui-menubar-submenu]");
      const siblingItems = parentSubmenu ? parentSubmenu.querySelectorAll(":scope > [data-ui-menubar-submenu-item]") : this.menuItemTargets;
      siblingItems.forEach((sibling) => {
        if (sibling !== menuItem) {
          const siblingIndex = sibling.dataset.uiMenubarItem || sibling.dataset.uiMenubarSubmenuItem;
          if (this.activeSubmenus.has(siblingIndex)) {
            this.closeSubmenu(this.submenus.get(siblingIndex));
          }
        }
      });
    }
    closeAllSubmenus() {
      this.activeSubmenus.forEach((index) => {
        if (this.submenus.has(index)) {
          this.closeSubmenu(this.submenus.get(index));
        }
      });
    }
    cleanupAllSubmenus() {
      this.submenus.forEach((submenu) => {
        if (submenu.parentNode) {
          submenu.parentNode.removeChild(submenu);
        }
      });
      this.submenus.clear();
      this.activeSubmenus.clear();
      if (this.cleanup) {
        this.cleanup();
        this.cleanup = null;
      }
    }
    positionSubmenu(menuItem, submenu) {
      const parentSubmenu = menuItem.closest("[data-ui-menubar-submenu]");
      const placement = parentSubmenu ? "right-start" : "bottom-start";
      computePosition2(menuItem, submenu, {
        placement,
        middleware: [
          offset2(4),
          flip2(),
          shift2({ padding: 5 })
        ]
      }).then(({ x, y }) => {
        Object.assign(submenu.style, {
          position: "absolute",
          left: `${x}px`,
          top: `${y}px`
        });
      });
    }
  };
  __publicField(menubar_default, "targets", ["menuItem", "submenuTemplate"]);

  // ../../app/ui/components/rails_ui/popover/index.js
  var popover_exports = {};
  __export(popover_exports, {
    default: () => popover_default
  });
  var popover_default = class extends Controller {
    connect() {
      this.visible = false;
      this.clickOutsideHandler = this.clickOutside.bind(this);
      if (this.triggerTypeValue === "hover") {
        this.triggerTarget.addEventListener("mouseenter", this.show.bind(this));
        this.triggerTarget.addEventListener("mouseleave", this.hide.bind(this));
      }
    }
    disconnect() {
      document.removeEventListener("click", this.clickOutsideHandler);
      if (this.triggerTypeValue === "hover") {
        this.triggerTarget.removeEventListener("mouseenter", this.show.bind(this));
        this.triggerTarget.removeEventListener("mouseleave", this.hide.bind(this));
      }
      if (this.popoverContent) {
        document.body.removeChild(this.popoverContent);
      }
    }
    toggle(event) {
      event.stopPropagation();
      this.visible ? this.hide() : this.show();
    }
    show() {
      if (!this.popoverContent) {
        this.popoverContent = this.contentTemplateTarget.content.firstElementChild.cloneNode(true);
        document.body.appendChild(this.popoverContent);
      }
      this.popoverContent.style.display = "block";
      this.popoverContent.style.visibility = "hidden";
      setTimeout(() => {
        this.positionPopover();
        this.popoverContent.style.visibility = "visible";
      }, 0);
      this.visible = true;
      if (this.triggerTypeValue === "click") {
        document.addEventListener("click", this.clickOutsideHandler);
      }
    }
    hide() {
      if (this.popoverContent) {
        this.popoverContent.style.display = "none";
      }
      this.visible = false;
      if (this.triggerTypeValue === "click") {
        document.removeEventListener("click", this.clickOutsideHandler);
      }
    }
    clickOutside(event) {
      if (!this.element.contains(event.target) && !this.popoverContent.contains(event.target)) {
        this.hide();
      }
    }
    positionPopover() {
      const middleware = [
        offset2(this.offsetValue),
        flip2(),
        shift2({ padding: 5 })
      ];
      if (this.arrowValue) {
        const arrowElement = this.popoverContent.querySelector('[data-ui-popover-target="arrow"]');
        if (arrowElement) {
          middleware.push(arrow2({ element: arrowElement }));
        }
      }
      computePosition2(this.triggerTarget, this.popoverContent, {
        placement: this.placementValue,
        middleware
      }).then(({ x, y, placement, middlewareData }) => {
        Object.assign(this.popoverContent.style, {
          position: "absolute",
          left: `${x}px`,
          top: `${y}px`,
          zIndex: 1e3
        });
        if (this.arrowValue) {
          const arrowElement = this.popoverContent.querySelector('[data-ui-popover-target="arrow"]');
          if (arrowElement) {
            const { x: arrowX, y: arrowY } = middlewareData.arrow;
            const staticSide = {
              top: "bottom",
              right: "left",
              bottom: "top",
              left: "right"
            }[placement.split("-")[0]];
            Object.assign(arrowElement.style, {
              left: arrowX != null ? `${arrowX}px` : "",
              top: arrowY != null ? `${arrowY}px` : "",
              right: "",
              bottom: "",
              [staticSide]: "-4px"
            });
          }
        }
      });
    }
  };
  __publicField(popover_default, "targets", ["trigger", "contentTemplate", "arrow"]);
  __publicField(popover_default, "values", {
    placement: String,
    offset: Number,
    arrow: Boolean,
    triggerType: String
  });

  // ../../app/ui/components/rails_ui/progress/index.js
  var progress_exports = {};

  // ../../app/ui/components/rails_ui/resizable/index.js
  var resizable_exports = {};
  __export(resizable_exports, {
    default: () => resizable_default
  });
  var import_interactjs = __toESM(require_interact_min());
  var resizable_default = class extends Controller {
    connect() {
      this.initializeResizable();
    }
    initializeResizable() {
      const isHorizontal = this.directionValue === "horizontal";
      const handles = this.element.querySelectorAll('[data-panel-resize-handle-enabled="true"]');
      handles.forEach((handle, index) => {
        (0, import_interactjs.default)(handle).draggable({
          axis: isHorizontal ? "x" : "y",
          listeners: {
            move: (event) => {
              const prevPanel = this.element.querySelector(`[data-panel-id="${this.element.id}-panel-${index}"]`);
              const nextPanel = this.element.querySelector(`[data-panel-id="${this.element.id}-panel-${index + 1}"]`);
              const prevSize = parseFloat(prevPanel.dataset.panelSize);
              const nextSize = parseFloat(nextPanel.dataset.panelSize);
              const totalSize = prevSize + nextSize;
              const delta = isHorizontal ? event.dx / this.element.offsetWidth * totalSize : event.dy / this.element.offsetHeight * totalSize;
              const newPrevSize = Math.max(10, Math.min(90, prevSize + delta));
              const newNextSize = totalSize - newPrevSize;
              prevPanel.style.flex = `${newPrevSize} 1 0%`;
              nextPanel.style.flex = `${newNextSize} 1 0%`;
              prevPanel.dataset.panelSize = newPrevSize.toString();
              nextPanel.dataset.panelSize = newNextSize.toString();
              handle.setAttribute("aria-valuenow", newPrevSize.toFixed(0));
              handle.setAttribute("aria-valuemax", "90");
              handle.setAttribute("aria-valuemin", "10");
            }
          }
        });
      });
    }
  };
  __publicField(resizable_default, "values", {
    direction: String,
    panels: Array
  });

  // ../../app/ui/components/rails_ui/skeleton/index.js
  var skeleton_exports = {};
  __export(skeleton_exports, {
    default: () => Controller2
  });
  var Controller2 = class extends Controller {
    connect() {
    }
    disconnect() {
    }
  };

  // ../../app/ui/components/rails_ui/table/index.js
  var table_exports = {};

  // ../../app/ui/components/rails_ui/tabs/index.js
  var tabs_exports = {};

  // rails:/Users/michelson/Documents/cience/rails_ui/app/ui/components/rails_ui/**/*index.js
  var modules2 = [{ name: "..--..--..--..--..--app--ui--components--rails-ui--accordion--index.js", module: accordion_exports, filename: "../../../../../app/ui/components/rails_ui/accordion/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--accordion-item--index.js", module: accordion_item_exports, filename: "../../../../../app/ui/components/rails_ui/accordion_item/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--alert--index.js", module: alert_exports, filename: "../../../../../app/ui/components/rails_ui/alert/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--alert-dialog--index.js", module: alert_dialog_exports, filename: "../../../../../app/ui/components/rails_ui/alert_dialog/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--avatar--index.js", module: avatar_exports, filename: "../../../../../app/ui/components/rails_ui/avatar/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--badge--index.js", module: badge_exports, filename: "../../../../../app/ui/components/rails_ui/badge/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--breadcrumb--index.js", module: breadcrumb_exports, filename: "../../../../../app/ui/components/rails_ui/breadcrumb/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--breadcrumb-item--index.js", module: breadcrumb_item_exports, filename: "../../../../../app/ui/components/rails_ui/breadcrumb_item/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--button--index.js", module: button_exports, filename: "../../../../../app/ui/components/rails_ui/button/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--calendar--index.js", module: calendar_exports, filename: "../../../../../app/ui/components/rails_ui/calendar/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--card--index.js", module: card_exports, filename: "../../../../../app/ui/components/rails_ui/card/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--carousel--index.js", module: carousel_exports, filename: "../../../../../app/ui/components/rails_ui/carousel/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--command--index.js", module: command_exports, filename: "../../../../../app/ui/components/rails_ui/command/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--dialog--index.js", module: dialog_exports, filename: "../../../../../app/ui/components/rails_ui/dialog/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--dropdown-menu--index.js", module: dropdown_menu_exports, filename: "../../../../../app/ui/components/rails_ui/dropdown_menu/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--dropdown-menu-item--index.js", module: dropdown_menu_item_exports, filename: "../../../../../app/ui/components/rails_ui/dropdown_menu_item/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--input-otp--index.js", module: input_otp_exports, filename: "../../../../../app/ui/components/rails_ui/input_otp/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--menubar--index.js", module: menubar_exports, filename: "../../../../../app/ui/components/rails_ui/menubar/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--popover--index.js", module: popover_exports, filename: "../../../../../app/ui/components/rails_ui/popover/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--progress--index.js", module: progress_exports, filename: "../../../../../app/ui/components/rails_ui/progress/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--resizable--index.js", module: resizable_exports, filename: "../../../../../app/ui/components/rails_ui/resizable/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--skeleton--index.js", module: skeleton_exports, filename: "../../../../../app/ui/components/rails_ui/skeleton/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--table--index.js", module: table_exports, filename: "../../../../../app/ui/components/rails_ui/table/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--tabs--index.js", module: tabs_exports, filename: "../../../../../app/ui/components/rails_ui/tabs/index.js" }];
  var index_default = modules2;

  // app/javascript/controllers/index.js
  controller_default.forEach((controller) => {
    application.register(controller.name, controller.module.default);
  });
  console.log(index_default);
  index_default.forEach((controller) => {
    if (controller.module.default) {
      let name = controller.name.replace("--index.js", "");
      name = name.replace("..--..--..--..--..--app--ui--components--rails-ui--", "");
      name = `ui-${name}`;
      console.log("ADDINDG CONTROLLER", name);
      application.register(name, controller.module.default);
    }
  });
  console.log(application);
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL2lzV2luZG93LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy93aW5kb3cudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL2lzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL2RyYWcvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9kb21PYmplY3RzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9icm93c2VyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9yZWN0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9nZXRPcmlnaW5YWS50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvbm9ybWFsaXplTGlzdGVuZXJzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9oeXBvdC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvcG9pbnRlckV4dGVuZC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvcG9pbnRlclV0aWxzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9jb3JlL0Jhc2VFdmVudC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvYXJyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL2Ryb3AvRHJvcEV2ZW50LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL2Ryb3AvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL2dlc3R1cmUvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL3Jlc2l6ZS9wbHVnaW4udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL3JhZi50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvYWN0aW9ucy9wbHVnaW4udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2F1dG8tc2Nyb2xsL3BsdWdpbi50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvbWlzYy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvYXV0by1zdGFydC9JbnRlcmFjdGFibGVNZXRob2RzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hdXRvLXN0YXJ0L2Jhc2UudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2F1dG8tc3RhcnQvZHJhZ0F4aXMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2F1dG8tc3RhcnQvaG9sZC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvYXV0by1zdGFydC9wbHVnaW4udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvaW50ZXJhY3RhYmxlUHJldmVudERlZmF1bHQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL2lzTm9uTmF0aXZlRXZlbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL2Nsb25lLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvTW9kaWZpY2F0aW9uLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvYmFzZS50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvY29yZS9vcHRpb25zLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0RXZlbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvUG9pbnRlckluZm8udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL29mZnNldC9wbHVnaW4udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2luZXJ0aWEvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9jb3JlL0V2ZW50YWJsZS50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvY29yZS9ldmVudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvaW50ZXJhY3Rpb25GaW5kZXIudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvaW50ZXJhY3Rpb25zLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZS50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGVTZXQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RTdGF0aWMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2ludGVyYWN0L2luZGV4LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9zbmFwcGVycy9lZGdlVGFyZ2V0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9zbmFwcGVycy9lbGVtZW50cy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvc25hcHBlcnMvZ3JpZC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvc25hcHBlcnMvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvYXNwZWN0UmF0aW8udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL21vZGlmaWVycy9ub29wLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvcmVzdHJpY3QvcG9pbnRlci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvbW9kaWZpZXJzL3Jlc3RyaWN0L2VkZ2VzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvcmVzdHJpY3QvcmVjdC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvbW9kaWZpZXJzL3Jlc3RyaWN0L3NpemUudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL21vZGlmaWVycy9zbmFwL3BvaW50ZXIudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL21vZGlmaWVycy9zbmFwL3NpemUudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL21vZGlmaWVycy9zbmFwL2VkZ2VzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvYWxsLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9wb2ludGVyLWV2ZW50cy9Qb2ludGVyRXZlbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL2Jhc2UudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL2hvbGRSZXBlYXQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL2ludGVyYWN0YWJsZVRhcmdldHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL3BsdWdpbi50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvcmVmbG93L3BsdWdpbi50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvaW50ZXJhY3Rqcy9pbmRleC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvaW50ZXJhY3Rqcy9pbmRleC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGhvdHdpcmVkL3N0aW11bHVzL2Rpc3Qvc3RpbXVsdXMuanMiLCAiLi4vLi4vamF2YXNjcmlwdC9jb250cm9sbGVycy9hcHBsaWNhdGlvbi5qcyIsICIuLi8uLi9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL2hlbGxvX2NvbnRyb2xsZXIuanMiLCAicmFpbHM6L1VzZXJzL21pY2hlbHNvbi9Eb2N1bWVudHMvY2llbmNlL3JhaWxzX3VpL3Rlc3QvZHVtbXkvYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvKiovKl9jb250cm9sbGVyLmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2FjY29yZGlvbi9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hY2NvcmRpb25faXRlbS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hbGVydC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hbGVydF9kaWFsb2cvaW5kZXguanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0aW11bHVzLXVzZS9kaXN0L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2F2YXRhci9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9iYWRnZS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9icmVhZGNydW1iL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2JyZWFkY3J1bWJfaXRlbS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9idXR0b24vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY2FsZW5kYXIvaW5kZXguanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3RvRGF0ZS5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2NvbnN0cnVjdEZyb20ubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9hZGRNb250aHMubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9jb25zdGFudHMubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2RlZmF1bHRPcHRpb25zLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZldlZWsubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdGFydE9mSVNPV2Vlay5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2dldElTT1dlZWtZZWFyLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZkRheS5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcy5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2RpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cy5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3N0YXJ0T2ZJU09XZWVrWWVhci5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2NvbnN0cnVjdE5vdy5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2lzU2FtZURheS5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2lzRGF0ZS5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2lzVmFsaWQubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lbmRPZk1vbnRoLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZWFjaERheU9mSW50ZXJ2YWwubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdGFydE9mTW9udGgubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdGFydE9mWWVhci5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VuZE9mV2Vlay5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy9fbGliL2Zvcm1hdERpc3RhbmNlLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL19saWIvYnVpbGRGb3JtYXRMb25nRm4ubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvX2xpYi9mb3JtYXRMb25nLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTL19saWIvZm9ybWF0UmVsYXRpdmUubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvX2xpYi9idWlsZExvY2FsaXplRm4ubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvX2xpYi9sb2NhbGl6ZS5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9fbGliL2J1aWxkTWF0Y2hGbi5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9fbGliL2J1aWxkTWF0Y2hQYXR0ZXJuRm4ubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvX2xpYi9tYXRjaC5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2dldERheU9mWWVhci5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2dldElTT1dlZWsubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9nZXRXZWVrWWVhci5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3N0YXJ0T2ZXZWVrWWVhci5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2dldFdlZWsubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2FkZExlYWRpbmdaZXJvcy5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZm9ybWF0L2xpZ2h0Rm9ybWF0dGVycy5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZm9ybWF0L2Zvcm1hdHRlcnMubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2Zvcm1hdC9sb25nRm9ybWF0dGVycy5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvcHJvdGVjdGVkVG9rZW5zLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZm9ybWF0Lm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvaXNTYW1lTW9udGgubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9pc1RvZGF5Lm1qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jYXJkL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2Nhcm91c2VsL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2NvbW1hbmQvaW5kZXguanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2hvdGtleXMtanMvZGlzdC9ob3RrZXlzLmVzbS5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3RpbXVsdXMtdXNlL2Rpc3QvaG90a2V5cy5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9kaWFsb2cvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvZHJvcGRvd25fbWVudS9pbmRleC5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGZsb2F0aW5nLXVpL3V0aWxzL2Rpc3QvZmxvYXRpbmctdWkudXRpbHMubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZmxvYXRpbmctdWkvY29yZS9kaXN0L2Zsb2F0aW5nLXVpLmNvcmUubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZmxvYXRpbmctdWkvdXRpbHMvZGlzdC9mbG9hdGluZy11aS51dGlscy5kb20ubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZmxvYXRpbmctdWkvZG9tL2Rpc3QvZmxvYXRpbmctdWkuZG9tLm1qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9kcm9wZG93bl9tZW51X2l0ZW0vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvaW5wdXRfb3RwL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL21lbnViYXIvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvcG9wb3Zlci9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9wcm9ncmVzcy9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9yZXNpemFibGUvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvc2tlbGV0b24vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvdGFibGUvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvdGFicy9pbmRleC5qcyIsICJyYWlsczovVXNlcnMvbWljaGVsc29uL0RvY3VtZW50cy9jaWVuY2UvcmFpbHNfdWkvYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvKiovKmluZGV4LmpzIiwgIi4uLy4uL2phdmFzY3JpcHQvY29udHJvbGxlcnMvaW5kZXguanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImV4cG9ydCBkZWZhdWx0ICh0aGluZzogYW55KSA9PiAhISh0aGluZyAmJiB0aGluZy5XaW5kb3cpICYmIHRoaW5nIGluc3RhbmNlb2YgdGhpbmcuV2luZG93XG4iLCAiaW1wb3J0IGlzV2luZG93IGZyb20gJy4vaXNXaW5kb3cnXG5cbmV4cG9ydCBsZXQgcmVhbFdpbmRvdyA9IHVuZGVmaW5lZCBhcyBXaW5kb3dcblxubGV0IHdpbiA9IHVuZGVmaW5lZCBhcyBXaW5kb3dcbmV4cG9ydCB7IHdpbiBhcyB3aW5kb3cgfVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdCh3aW5kb3c6IFdpbmRvdyAmIHsgd3JhcD86ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55IH0pIHtcbiAgLy8gZ2V0IHdyYXBwZWQgd2luZG93IGlmIHVzaW5nIFNoYWRvdyBET00gcG9seWZpbGxcblxuICByZWFsV2luZG93ID0gd2luZG93XG5cbiAgLy8gY3JlYXRlIGEgVGV4dE5vZGVcbiAgY29uc3QgZWwgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpXG5cbiAgLy8gY2hlY2sgaWYgaXQncyB3cmFwcGVkIGJ5IGEgcG9seWZpbGxcbiAgaWYgKGVsLm93bmVyRG9jdW1lbnQgIT09IHdpbmRvdy5kb2N1bWVudCAmJiB0eXBlb2Ygd2luZG93LndyYXAgPT09ICdmdW5jdGlvbicgJiYgd2luZG93LndyYXAoZWwpID09PSBlbCkge1xuICAgIC8vIHVzZSB3cmFwcGVkIHdpbmRvd1xuICAgIHdpbmRvdyA9IHdpbmRvdy53cmFwKHdpbmRvdylcbiAgfVxuXG4gIHdpbiA9IHdpbmRvd1xufVxuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgISF3aW5kb3cpIHtcbiAgaW5pdCh3aW5kb3cpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRXaW5kb3cobm9kZTogYW55KSB7XG4gIGlmIChpc1dpbmRvdyhub2RlKSkge1xuICAgIHJldHVybiBub2RlXG4gIH1cblxuICBjb25zdCByb290Tm9kZSA9IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlXG5cbiAgcmV0dXJuIHJvb3ROb2RlLmRlZmF1bHRWaWV3IHx8IHdpbi53aW5kb3dcbn1cbiIsICJpbXBvcnQgaXNXaW5kb3cgZnJvbSAnLi9pc1dpbmRvdydcbmltcG9ydCAqIGFzIHdpbiBmcm9tICcuL3dpbmRvdydcblxuY29uc3Qgd2luZG93ID0gKHRoaW5nOiBhbnkpOiB0aGluZyBpcyBXaW5kb3cgPT4gdGhpbmcgPT09IHdpbi53aW5kb3cgfHwgaXNXaW5kb3codGhpbmcpXG5cbmNvbnN0IGRvY0ZyYWcgPSAodGhpbmc6IGFueSk6IHRoaW5nIGlzIERvY3VtZW50RnJhZ21lbnQgPT4gb2JqZWN0KHRoaW5nKSAmJiB0aGluZy5ub2RlVHlwZSA9PT0gMTFcblxuY29uc3Qgb2JqZWN0ID0gKHRoaW5nOiBhbnkpOiB0aGluZyBpcyB7IFtpbmRleDogc3RyaW5nXTogYW55IH0gPT4gISF0aGluZyAmJiB0eXBlb2YgdGhpbmcgPT09ICdvYmplY3QnXG5cbmNvbnN0IGZ1bmMgPSAodGhpbmc6IGFueSk6IHRoaW5nIGlzICguLi5hcmdzOiBhbnlbXSkgPT4gYW55ID0+IHR5cGVvZiB0aGluZyA9PT0gJ2Z1bmN0aW9uJ1xuXG5jb25zdCBudW1iZXIgPSAodGhpbmc6IGFueSk6IHRoaW5nIGlzIG51bWJlciA9PiB0eXBlb2YgdGhpbmcgPT09ICdudW1iZXInXG5cbmNvbnN0IGJvb2wgPSAodGhpbmc6IGFueSk6IHRoaW5nIGlzIGJvb2xlYW4gPT4gdHlwZW9mIHRoaW5nID09PSAnYm9vbGVhbidcblxuY29uc3Qgc3RyaW5nID0gKHRoaW5nOiBhbnkpOiB0aGluZyBpcyBzdHJpbmcgPT4gdHlwZW9mIHRoaW5nID09PSAnc3RyaW5nJ1xuXG5jb25zdCBlbGVtZW50ID0gKHRoaW5nOiBhbnkpOiB0aGluZyBpcyBIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnQgPT4ge1xuICBpZiAoIXRoaW5nIHx8IHR5cGVvZiB0aGluZyAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGNvbnN0IF93aW5kb3cgPSB3aW4uZ2V0V2luZG93KHRoaW5nKSB8fCB3aW4ud2luZG93XG5cbiAgcmV0dXJuIC9vYmplY3R8ZnVuY3Rpb24vLnRlc3QodHlwZW9mIEVsZW1lbnQpXG4gICAgPyB0aGluZyBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgdGhpbmcgaW5zdGFuY2VvZiBfd2luZG93LkVsZW1lbnRcbiAgICA6IHRoaW5nLm5vZGVUeXBlID09PSAxICYmIHR5cGVvZiB0aGluZy5ub2RlTmFtZSA9PT0gJ3N0cmluZydcbn1cblxuY29uc3QgcGxhaW5PYmplY3Q6IHR5cGVvZiBvYmplY3QgPSAodGhpbmc6IGFueSk6IHRoaW5nIGlzIHsgW2luZGV4OiBzdHJpbmddOiBhbnkgfSA9PlxuICBvYmplY3QodGhpbmcpICYmICEhdGhpbmcuY29uc3RydWN0b3IgJiYgL2Z1bmN0aW9uIE9iamVjdFxcYi8udGVzdCh0aGluZy5jb25zdHJ1Y3Rvci50b1N0cmluZygpKVxuXG5jb25zdCBhcnJheSA9IDxUIGV4dGVuZHMgdW5rbm93bj4odGhpbmc6IGFueSk6IHRoaW5nIGlzIFRbXSA9PlxuICBvYmplY3QodGhpbmcpICYmIHR5cGVvZiB0aGluZy5sZW5ndGggIT09ICd1bmRlZmluZWQnICYmIGZ1bmModGhpbmcuc3BsaWNlKVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHdpbmRvdyxcbiAgZG9jRnJhZyxcbiAgb2JqZWN0LFxuICBmdW5jLFxuICBudW1iZXIsXG4gIGJvb2wsXG4gIHN0cmluZyxcbiAgZWxlbWVudCxcbiAgcGxhaW5PYmplY3QsXG4gIGFycmF5LFxufVxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0RXZlbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0RXZlbnQnXG5pbXBvcnQgdHlwZSB7IFBlckFjdGlvbkRlZmF1bHRzIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSwgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgTGlzdGVuZXJzQXJnLCBPckJvb2xlYW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0YWJsZSB7XG4gICAgZHJhZ2dhYmxlKG9wdGlvbnM6IFBhcnRpYWw8T3JCb29sZWFuPERyYWdnYWJsZU9wdGlvbnM+PiB8IGJvb2xlYW4pOiB0aGlzXG4gICAgZHJhZ2dhYmxlKCk6IERyYWdnYWJsZU9wdGlvbnNcbiAgICAvKipcbiAgICAgKiBgYGBqc1xuICAgICAqIGludGVyYWN0KGVsZW1lbnQpLmRyYWdnYWJsZSh7XG4gICAgICogICAgIG9uc3RhcnQ6IGZ1bmN0aW9uIChldmVudCkge30sXG4gICAgICogICAgIG9ubW92ZSA6IGZ1bmN0aW9uIChldmVudCkge30sXG4gICAgICogICAgIG9uZW5kICA6IGZ1bmN0aW9uIChldmVudCkge30sXG4gICAgICpcbiAgICAgKiAgICAgLy8gdGhlIGF4aXMgaW4gd2hpY2ggdGhlIGZpcnN0IG1vdmVtZW50IG11c3QgYmVcbiAgICAgKiAgICAgLy8gZm9yIHRoZSBkcmFnIHNlcXVlbmNlIHRvIHN0YXJ0XG4gICAgICogICAgIC8vICd4eScgYnkgZGVmYXVsdCAtIGFueSBkaXJlY3Rpb25cbiAgICAgKiAgICAgc3RhcnRBeGlzOiAneCcgfHwgJ3knIHx8ICd4eScsXG4gICAgICpcbiAgICAgKiAgICAgLy8gJ3h5JyBieSBkZWZhdWx0IC0gZG9uJ3QgcmVzdHJpY3QgdG8gb25lIGF4aXMgKG1vdmUgaW4gYW55IGRpcmVjdGlvbilcbiAgICAgKiAgICAgLy8gJ3gnIG9yICd5JyB0byByZXN0cmljdCBtb3ZlbWVudCB0byBlaXRoZXIgYXhpc1xuICAgICAqICAgICAvLyAnc3RhcnQnIHRvIHJlc3RyaWN0IG1vdmVtZW50IHRvIHRoZSBheGlzIHRoZSBkcmFnIHN0YXJ0ZWQgaW5cbiAgICAgKiAgICAgbG9ja0F4aXM6ICd4JyB8fCAneScgfHwgJ3h5JyB8fCAnc3RhcnQnLFxuICAgICAqXG4gICAgICogICAgIC8vIG1heCBudW1iZXIgb2YgZHJhZ3MgdGhhdCBjYW4gaGFwcGVuIGNvbmN1cnJlbnRseVxuICAgICAqICAgICAvLyB3aXRoIGVsZW1lbnRzIG9mIHRoaXMgSW50ZXJhY3RhYmxlLiBJbmZpbml0eSBieSBkZWZhdWx0XG4gICAgICogICAgIG1heDogSW5maW5pdHksXG4gICAgICpcbiAgICAgKiAgICAgLy8gbWF4IG51bWJlciBvZiBkcmFncyB0aGF0IGNhbiB0YXJnZXQgdGhlIHNhbWUgZWxlbWVudCtJbnRlcmFjdGFibGVcbiAgICAgKiAgICAgLy8gMSBieSBkZWZhdWx0XG4gICAgICogICAgIG1heFBlckVsZW1lbnQ6IDJcbiAgICAgKiB9KVxuICAgICAqXG4gICAgICogdmFyIGlzRHJhZ2dhYmxlID0gaW50ZXJhY3QoJ2VsZW1lbnQnKS5kcmFnZ2FibGUoKTsgLy8gdHJ1ZVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogR2V0IG9yIHNldCB3aGV0aGVyIGRyYWcgYWN0aW9ucyBjYW4gYmUgcGVyZm9ybWVkIG9uIHRoZSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gdHJ1ZS9mYWxzZSBvciBBbiBvYmplY3Qgd2l0aCBldmVudFxuICAgICAqIGxpc3RlbmVycyB0byBiZSBmaXJlZCBvbiBkcmFnIGV2ZW50cyAob2JqZWN0IG1ha2VzIHRoZSBJbnRlcmFjdGFibGVcbiAgICAgKiBkcmFnZ2FibGUpXG4gICAgICovXG4gICAgZHJhZ2dhYmxlKG9wdGlvbnM/OiBQYXJ0aWFsPE9yQm9vbGVhbjxEcmFnZ2FibGVPcHRpb25zPj4gfCBib29sZWFuKTogdGhpcyB8IERyYWdnYWJsZU9wdGlvbnNcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJyB7XG4gIGludGVyZmFjZSBBY3Rpb25EZWZhdWx0cyB7XG4gICAgZHJhZzogRHJhZ2dhYmxlT3B0aW9uc1xuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJyB7XG4gIGludGVyZmFjZSBBY3Rpb25NYXAge1xuICAgIGRyYWc/OiB0eXBlb2YgZHJhZ1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIERyYWdFdmVudCA9IEludGVyYWN0RXZlbnQ8J2RyYWcnPlxuXG5leHBvcnQgaW50ZXJmYWNlIERyYWdnYWJsZU9wdGlvbnMgZXh0ZW5kcyBQZXJBY3Rpb25EZWZhdWx0cyB7XG4gIHN0YXJ0QXhpcz86ICd4JyB8ICd5JyB8ICd4eSdcbiAgbG9ja0F4aXM/OiAneCcgfCAneScgfCAneHknIHwgJ3N0YXJ0J1xuICBvbmluZXJ0aWFzdGFydD86IExpc3RlbmVyc0FyZ1xuICBvbnN0YXJ0PzogTGlzdGVuZXJzQXJnXG4gIG9ubW92ZT86IExpc3RlbmVyc0FyZ1xuICBvbmVuZD86IExpc3RlbmVyc0FyZ1xufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IGFjdGlvbnMsIEludGVyYWN0YWJsZSwgZGVmYXVsdHMgfSA9IHNjb3BlXG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5kcmFnZ2FibGUgPSBkcmFnLmRyYWdnYWJsZVxuXG4gIGFjdGlvbnMubWFwLmRyYWcgPSBkcmFnXG4gIGFjdGlvbnMubWV0aG9kRGljdC5kcmFnID0gJ2RyYWdnYWJsZSdcblxuICBkZWZhdWx0cy5hY3Rpb25zLmRyYWcgPSBkcmFnLmRlZmF1bHRzXG59XG5cbmZ1bmN0aW9uIGJlZm9yZU1vdmUoeyBpbnRlcmFjdGlvbiB9KSB7XG4gIGlmIChpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lICE9PSAnZHJhZycpIHJldHVyblxuXG4gIGNvbnN0IGF4aXMgPSBpbnRlcmFjdGlvbi5wcmVwYXJlZC5heGlzXG5cbiAgaWYgKGF4aXMgPT09ICd4Jykge1xuICAgIGludGVyYWN0aW9uLmNvb3Jkcy5jdXIucGFnZS55ID0gaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LnBhZ2UueVxuICAgIGludGVyYWN0aW9uLmNvb3Jkcy5jdXIuY2xpZW50LnkgPSBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQuY2xpZW50LnlcblxuICAgIGludGVyYWN0aW9uLmNvb3Jkcy52ZWxvY2l0eS5jbGllbnQueSA9IDBcbiAgICBpbnRlcmFjdGlvbi5jb29yZHMudmVsb2NpdHkucGFnZS55ID0gMFxuICB9IGVsc2UgaWYgKGF4aXMgPT09ICd5Jykge1xuICAgIGludGVyYWN0aW9uLmNvb3Jkcy5jdXIucGFnZS54ID0gaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LnBhZ2UueFxuICAgIGludGVyYWN0aW9uLmNvb3Jkcy5jdXIuY2xpZW50LnggPSBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQuY2xpZW50LnhcblxuICAgIGludGVyYWN0aW9uLmNvb3Jkcy52ZWxvY2l0eS5jbGllbnQueCA9IDBcbiAgICBpbnRlcmFjdGlvbi5jb29yZHMudmVsb2NpdHkucGFnZS54ID0gMFxuICB9XG59XG5cbmZ1bmN0aW9uIG1vdmUoeyBpRXZlbnQsIGludGVyYWN0aW9uIH0pIHtcbiAgaWYgKGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgIT09ICdkcmFnJykgcmV0dXJuXG5cbiAgY29uc3QgYXhpcyA9IGludGVyYWN0aW9uLnByZXBhcmVkLmF4aXNcblxuICBpZiAoYXhpcyA9PT0gJ3gnIHx8IGF4aXMgPT09ICd5Jykge1xuICAgIGNvbnN0IG9wcG9zaXRlID0gYXhpcyA9PT0gJ3gnID8gJ3knIDogJ3gnXG5cbiAgICBpRXZlbnQucGFnZVtvcHBvc2l0ZV0gPSBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQucGFnZVtvcHBvc2l0ZV1cbiAgICBpRXZlbnQuY2xpZW50W29wcG9zaXRlXSA9IGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydC5jbGllbnRbb3Bwb3NpdGVdXG4gICAgaUV2ZW50LmRlbHRhW29wcG9zaXRlXSA9IDBcbiAgfVxufVxuXG5jb25zdCBkcmFnZ2FibGU6IEludGVyYWN0YWJsZVsnZHJhZ2dhYmxlJ10gPSBmdW5jdGlvbiBkcmFnZ2FibGUoXG4gIHRoaXM6IEludGVyYWN0YWJsZSxcbiAgb3B0aW9ucz86IERyYWdnYWJsZU9wdGlvbnMgfCBib29sZWFuLFxuKTogYW55IHtcbiAgaWYgKGlzLm9iamVjdChvcHRpb25zKSkge1xuICAgIHRoaXMub3B0aW9ucy5kcmFnLmVuYWJsZWQgPSBvcHRpb25zLmVuYWJsZWQgIT09IGZhbHNlXG4gICAgdGhpcy5zZXRQZXJBY3Rpb24oJ2RyYWcnLCBvcHRpb25zKVxuICAgIHRoaXMuc2V0T25FdmVudHMoJ2RyYWcnLCBvcHRpb25zKVxuXG4gICAgaWYgKC9eKHh5fHh8eXxzdGFydCkkLy50ZXN0KG9wdGlvbnMubG9ja0F4aXMpKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuZHJhZy5sb2NrQXhpcyA9IG9wdGlvbnMubG9ja0F4aXNcbiAgICB9XG4gICAgaWYgKC9eKHh5fHh8eSkkLy50ZXN0KG9wdGlvbnMuc3RhcnRBeGlzKSkge1xuICAgICAgdGhpcy5vcHRpb25zLmRyYWcuc3RhcnRBeGlzID0gb3B0aW9ucy5zdGFydEF4aXNcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgaWYgKGlzLmJvb2wob3B0aW9ucykpIHtcbiAgICB0aGlzLm9wdGlvbnMuZHJhZy5lbmFibGVkID0gb3B0aW9uc1xuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHJldHVybiB0aGlzLm9wdGlvbnMuZHJhZyBhcyBEcmFnZ2FibGVPcHRpb25zXG59XG5cbmNvbnN0IGRyYWc6IFBsdWdpbiA9IHtcbiAgaWQ6ICdhY3Rpb25zL2RyYWcnLFxuICBpbnN0YWxsLFxuICBsaXN0ZW5lcnM6IHtcbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tbW92ZSc6IGJlZm9yZU1vdmUsXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tcmVzdW1lJzogYmVmb3JlTW92ZSxcblxuICAgIC8vIGRyYWdtb3ZlXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tbW92ZSc6IG1vdmUsXG4gICAgJ2F1dG8tc3RhcnQ6Y2hlY2snOiAoYXJnKSA9PiB7XG4gICAgICBjb25zdCB7IGludGVyYWN0aW9uLCBpbnRlcmFjdGFibGUsIGJ1dHRvbnMgfSA9IGFyZ1xuICAgICAgY29uc3QgZHJhZ09wdGlvbnMgPSBpbnRlcmFjdGFibGUub3B0aW9ucy5kcmFnXG5cbiAgICAgIGlmIChcbiAgICAgICAgIShkcmFnT3B0aW9ucyAmJiBkcmFnT3B0aW9ucy5lbmFibGVkKSB8fFxuICAgICAgICAvLyBjaGVjayBtb3VzZUJ1dHRvbiBzZXR0aW5nIGlmIHRoZSBwb2ludGVyIGlzIGRvd25cbiAgICAgICAgKGludGVyYWN0aW9uLnBvaW50ZXJJc0Rvd24gJiZcbiAgICAgICAgICAvbW91c2V8cG9pbnRlci8udGVzdChpbnRlcmFjdGlvbi5wb2ludGVyVHlwZSkgJiZcbiAgICAgICAgICAoYnV0dG9ucyAmIGludGVyYWN0YWJsZS5vcHRpb25zLmRyYWcubW91c2VCdXR0b25zKSA9PT0gMClcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICB9XG5cbiAgICAgIGFyZy5hY3Rpb24gPSB7XG4gICAgICAgIG5hbWU6ICdkcmFnJyxcbiAgICAgICAgYXhpczogZHJhZ09wdGlvbnMubG9ja0F4aXMgPT09ICdzdGFydCcgPyBkcmFnT3B0aW9ucy5zdGFydEF4aXMgOiBkcmFnT3B0aW9ucy5sb2NrQXhpcyxcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSxcbiAgfSxcbiAgZHJhZ2dhYmxlLFxuICBiZWZvcmVNb3ZlLFxuICBtb3ZlLFxuICBkZWZhdWx0czoge1xuICAgIHN0YXJ0QXhpczogJ3h5JyxcbiAgICBsb2NrQXhpczogJ3h5JyxcbiAgfSBhcyBEcmFnZ2FibGVPcHRpb25zLFxuXG4gIGdldEN1cnNvcigpIHtcbiAgICByZXR1cm4gJ21vdmUnXG4gIH0sXG5cbiAgZmlsdGVyRXZlbnRUeXBlOiAodHlwZTogc3RyaW5nKSA9PiB0eXBlLnNlYXJjaCgnZHJhZycpID09PSAwLFxufVxuXG5leHBvcnQgZGVmYXVsdCBkcmFnXG4iLCAiY29uc3QgZG9tT2JqZWN0czoge1xuICBpbml0OiBhbnlcbiAgZG9jdW1lbnQ6IERvY3VtZW50XG4gIERvY3VtZW50RnJhZ21lbnQ6IHR5cGVvZiBEb2N1bWVudEZyYWdtZW50XG4gIFNWR0VsZW1lbnQ6IHR5cGVvZiBTVkdFbGVtZW50XG4gIFNWR1NWR0VsZW1lbnQ6IHR5cGVvZiBTVkdTVkdFbGVtZW50XG4gIFNWR0VsZW1lbnRJbnN0YW5jZTogYW55XG4gIEVsZW1lbnQ6IHR5cGVvZiBFbGVtZW50XG4gIEhUTUxFbGVtZW50OiB0eXBlb2YgSFRNTEVsZW1lbnRcbiAgRXZlbnQ6IHR5cGVvZiBFdmVudFxuICBUb3VjaDogdHlwZW9mIFRvdWNoXG4gIFBvaW50ZXJFdmVudDogdHlwZW9mIFBvaW50ZXJFdmVudFxufSA9IHtcbiAgaW5pdCxcbiAgZG9jdW1lbnQ6IG51bGwsXG4gIERvY3VtZW50RnJhZ21lbnQ6IG51bGwsXG4gIFNWR0VsZW1lbnQ6IG51bGwsXG4gIFNWR1NWR0VsZW1lbnQ6IG51bGwsXG4gIFNWR0VsZW1lbnRJbnN0YW5jZTogbnVsbCxcbiAgRWxlbWVudDogbnVsbCxcbiAgSFRNTEVsZW1lbnQ6IG51bGwsXG4gIEV2ZW50OiBudWxsLFxuICBUb3VjaDogbnVsbCxcbiAgUG9pbnRlckV2ZW50OiBudWxsLFxufVxuXG5mdW5jdGlvbiBibGFuaygpIHt9XG5cbmV4cG9ydCBkZWZhdWx0IGRvbU9iamVjdHNcblxuZnVuY3Rpb24gaW5pdCh3aW5kb3c6IFdpbmRvdykge1xuICBjb25zdCB3aW4gPSB3aW5kb3cgYXMgYW55XG5cbiAgZG9tT2JqZWN0cy5kb2N1bWVudCA9IHdpbi5kb2N1bWVudFxuICBkb21PYmplY3RzLkRvY3VtZW50RnJhZ21lbnQgPSB3aW4uRG9jdW1lbnRGcmFnbWVudCB8fCBibGFua1xuICBkb21PYmplY3RzLlNWR0VsZW1lbnQgPSB3aW4uU1ZHRWxlbWVudCB8fCBibGFua1xuICBkb21PYmplY3RzLlNWR1NWR0VsZW1lbnQgPSB3aW4uU1ZHU1ZHRWxlbWVudCB8fCBibGFua1xuICBkb21PYmplY3RzLlNWR0VsZW1lbnRJbnN0YW5jZSA9IHdpbi5TVkdFbGVtZW50SW5zdGFuY2UgfHwgYmxhbmtcbiAgZG9tT2JqZWN0cy5FbGVtZW50ID0gd2luLkVsZW1lbnQgfHwgYmxhbmtcbiAgZG9tT2JqZWN0cy5IVE1MRWxlbWVudCA9IHdpbi5IVE1MRWxlbWVudCB8fCBkb21PYmplY3RzLkVsZW1lbnRcblxuICBkb21PYmplY3RzLkV2ZW50ID0gd2luLkV2ZW50XG4gIGRvbU9iamVjdHMuVG91Y2ggPSB3aW4uVG91Y2ggfHwgYmxhbmtcbiAgZG9tT2JqZWN0cy5Qb2ludGVyRXZlbnQgPSB3aW4uUG9pbnRlckV2ZW50IHx8IHdpbi5NU1BvaW50ZXJFdmVudFxufVxuIiwgImltcG9ydCBkb21PYmplY3RzIGZyb20gJy4vZG9tT2JqZWN0cydcbmltcG9ydCBpcyBmcm9tICcuL2lzJ1xuXG5jb25zdCBicm93c2VyID0ge1xuICBpbml0LFxuICBzdXBwb3J0c1RvdWNoOiBudWxsIGFzIGJvb2xlYW4sXG4gIHN1cHBvcnRzUG9pbnRlckV2ZW50OiBudWxsIGFzIGJvb2xlYW4sXG4gIGlzSU9TNzogbnVsbCBhcyBib29sZWFuLFxuICBpc0lPUzogbnVsbCBhcyBib29sZWFuLFxuICBpc0llOTogbnVsbCBhcyBib29sZWFuLFxuICBpc09wZXJhTW9iaWxlOiBudWxsIGFzIGJvb2xlYW4sXG4gIHByZWZpeGVkTWF0Y2hlc1NlbGVjdG9yOiBudWxsIGFzICdtYXRjaGVzJyxcbiAgcEV2ZW50VHlwZXM6IG51bGwgYXMge1xuICAgIHVwOiBzdHJpbmdcbiAgICBkb3duOiBzdHJpbmdcbiAgICBvdmVyOiBzdHJpbmdcbiAgICBvdXQ6IHN0cmluZ1xuICAgIG1vdmU6IHN0cmluZ1xuICAgIGNhbmNlbDogc3RyaW5nXG4gIH0sXG4gIHdoZWVsRXZlbnQ6IG51bGwgYXMgc3RyaW5nLFxufVxuXG5mdW5jdGlvbiBpbml0KHdpbmRvdzogYW55KSB7XG4gIGNvbnN0IEVsZW1lbnQgPSBkb21PYmplY3RzLkVsZW1lbnRcbiAgY29uc3QgbmF2aWdhdG9yOiBQYXJ0aWFsPE5hdmlnYXRvcj4gPSB3aW5kb3cubmF2aWdhdG9yIHx8IHt9XG5cbiAgLy8gRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IHRvdWNoIGlucHV0P1xuICBicm93c2VyLnN1cHBvcnRzVG91Y2ggPVxuICAgICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fFxuICAgIChpcy5mdW5jKHdpbmRvdy5Eb2N1bWVudFRvdWNoKSAmJiBkb21PYmplY3RzLmRvY3VtZW50IGluc3RhbmNlb2Ygd2luZG93LkRvY3VtZW50VG91Y2gpXG5cbiAgLy8gRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IFBvaW50ZXJFdmVudHNcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RheWUvaW50ZXJhY3QuanMvaXNzdWVzLzcwMyNpc3N1ZWNvbW1lbnQtNDcxNTcwNDkyXG4gIGJyb3dzZXIuc3VwcG9ydHNQb2ludGVyRXZlbnQgPSAobmF2aWdhdG9yIGFzIGFueSkucG9pbnRlckVuYWJsZWQgIT09IGZhbHNlICYmICEhZG9tT2JqZWN0cy5Qb2ludGVyRXZlbnRcblxuICBicm93c2VyLmlzSU9TID0gL2lQKGhvbmV8b2R8YWQpLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSlcblxuICAvLyBzY3JvbGxpbmcgZG9lc24ndCBjaGFuZ2UgdGhlIHJlc3VsdCBvZiBnZXRDbGllbnRSZWN0cyBvbiBpT1MgN1xuICBicm93c2VyLmlzSU9TNyA9IC9pUChob25lfG9kfGFkKS8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pICYmIC9PUyA3W15cXGRdLy50ZXN0KG5hdmlnYXRvci5hcHBWZXJzaW9uKVxuXG4gIGJyb3dzZXIuaXNJZTkgPSAvTVNJRSA5Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG5cbiAgLy8gT3BlcmEgTW9iaWxlIG11c3QgYmUgaGFuZGxlZCBkaWZmZXJlbnRseVxuICBicm93c2VyLmlzT3BlcmFNb2JpbGUgPVxuICAgIG5hdmlnYXRvci5hcHBOYW1lID09PSAnT3BlcmEnICYmIGJyb3dzZXIuc3VwcG9ydHNUb3VjaCAmJiAvUHJlc3RvLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG5cbiAgLy8gcHJlZml4IG1hdGNoZXNTZWxlY3RvclxuICBicm93c2VyLnByZWZpeGVkTWF0Y2hlc1NlbGVjdG9yID0gKFxuICAgICdtYXRjaGVzJyBpbiBFbGVtZW50LnByb3RvdHlwZVxuICAgICAgPyAnbWF0Y2hlcydcbiAgICAgIDogJ3dlYmtpdE1hdGNoZXNTZWxlY3RvcicgaW4gRWxlbWVudC5wcm90b3R5cGVcbiAgICAgICAgPyAnd2Via2l0TWF0Y2hlc1NlbGVjdG9yJ1xuICAgICAgICA6ICdtb3pNYXRjaGVzU2VsZWN0b3InIGluIEVsZW1lbnQucHJvdG90eXBlXG4gICAgICAgICAgPyAnbW96TWF0Y2hlc1NlbGVjdG9yJ1xuICAgICAgICAgIDogJ29NYXRjaGVzU2VsZWN0b3InIGluIEVsZW1lbnQucHJvdG90eXBlXG4gICAgICAgICAgICA/ICdvTWF0Y2hlc1NlbGVjdG9yJ1xuICAgICAgICAgICAgOiAnbXNNYXRjaGVzU2VsZWN0b3InXG4gICkgYXMgJ21hdGNoZXMnXG5cbiAgYnJvd3Nlci5wRXZlbnRUeXBlcyA9IGJyb3dzZXIuc3VwcG9ydHNQb2ludGVyRXZlbnRcbiAgICA/IGRvbU9iamVjdHMuUG9pbnRlckV2ZW50ID09PSB3aW5kb3cuTVNQb2ludGVyRXZlbnRcbiAgICAgID8ge1xuICAgICAgICAgIHVwOiAnTVNQb2ludGVyVXAnLFxuICAgICAgICAgIGRvd246ICdNU1BvaW50ZXJEb3duJyxcbiAgICAgICAgICBvdmVyOiAnbW91c2VvdmVyJyxcbiAgICAgICAgICBvdXQ6ICdtb3VzZW91dCcsXG4gICAgICAgICAgbW92ZTogJ01TUG9pbnRlck1vdmUnLFxuICAgICAgICAgIGNhbmNlbDogJ01TUG9pbnRlckNhbmNlbCcsXG4gICAgICAgIH1cbiAgICAgIDoge1xuICAgICAgICAgIHVwOiAncG9pbnRlcnVwJyxcbiAgICAgICAgICBkb3duOiAncG9pbnRlcmRvd24nLFxuICAgICAgICAgIG92ZXI6ICdwb2ludGVyb3ZlcicsXG4gICAgICAgICAgb3V0OiAncG9pbnRlcm91dCcsXG4gICAgICAgICAgbW92ZTogJ3BvaW50ZXJtb3ZlJyxcbiAgICAgICAgICBjYW5jZWw6ICdwb2ludGVyY2FuY2VsJyxcbiAgICAgICAgfVxuICAgIDogbnVsbFxuXG4gIC8vIGJlY2F1c2UgV2Via2l0IGFuZCBPcGVyYSBzdGlsbCB1c2UgJ21vdXNld2hlZWwnIGV2ZW50IHR5cGVcbiAgYnJvd3Nlci53aGVlbEV2ZW50ID0gZG9tT2JqZWN0cy5kb2N1bWVudCAmJiAnb25tb3VzZXdoZWVsJyBpbiBkb21PYmplY3RzLmRvY3VtZW50ID8gJ21vdXNld2hlZWwnIDogJ3doZWVsJ1xufVxuXG5leHBvcnQgZGVmYXVsdCBicm93c2VyXG4iLCAiaW1wb3J0IHR5cGUgeyBSZWN0LCBUYXJnZXQsIEVsZW1lbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tICcuL2Jyb3dzZXInXG5pbXBvcnQgZG9tT2JqZWN0cyBmcm9tICcuL2RvbU9iamVjdHMnXG5pbXBvcnQgaXMgZnJvbSAnLi9pcydcbmltcG9ydCAqIGFzIHdpbiBmcm9tICcuL3dpbmRvdydcblxuZXhwb3J0IGZ1bmN0aW9uIG5vZGVDb250YWlucyhwYXJlbnQ6IE5vZGUsIGNoaWxkOiBOb2RlKSB7XG4gIGlmIChwYXJlbnQuY29udGFpbnMpIHtcbiAgICByZXR1cm4gcGFyZW50LmNvbnRhaW5zKGNoaWxkIGFzIE5vZGUpXG4gIH1cblxuICB3aGlsZSAoY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQgPT09IHBhcmVudCkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBjaGlsZCA9IChjaGlsZCBhcyBOb2RlKS5wYXJlbnROb2RlXG4gIH1cblxuICByZXR1cm4gZmFsc2Vcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb3Nlc3QoZWxlbWVudDogTm9kZSwgc2VsZWN0b3I6IHN0cmluZykge1xuICB3aGlsZSAoaXMuZWxlbWVudChlbGVtZW50KSkge1xuICAgIGlmIChtYXRjaGVzU2VsZWN0b3IoZWxlbWVudCwgc2VsZWN0b3IpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudFxuICAgIH1cblxuICAgIGVsZW1lbnQgPSBwYXJlbnROb2RlKGVsZW1lbnQpXG4gIH1cblxuICByZXR1cm4gbnVsbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyZW50Tm9kZShub2RlOiBOb2RlIHwgRG9jdW1lbnQpIHtcbiAgbGV0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZVxuXG4gIGlmIChpcy5kb2NGcmFnKHBhcmVudCkpIHtcbiAgICAvLyBza2lwIHBhc3QgI3NoYWRvLXJvb3QgZnJhZ21lbnRzXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lXG4gICAgd2hpbGUgKChwYXJlbnQgPSAocGFyZW50IGFzIGFueSkuaG9zdCkgJiYgaXMuZG9jRnJhZyhwYXJlbnQpKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIHJldHVybiBwYXJlbnRcbiAgfVxuXG4gIHJldHVybiBwYXJlbnRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoZXNTZWxlY3RvcihlbGVtZW50OiBFbGVtZW50LCBzZWxlY3Rvcjogc3RyaW5nKSB7XG4gIC8vIHJlbW92ZSAvZGVlcC8gZnJvbSBzZWxlY3RvcnMgaWYgc2hhZG93RE9NIHBvbHlmaWxsIGlzIHVzZWRcbiAgaWYgKHdpbi53aW5kb3cgIT09IHdpbi5yZWFsV2luZG93KSB7XG4gICAgc2VsZWN0b3IgPSBzZWxlY3Rvci5yZXBsYWNlKC9cXC9kZWVwXFwvL2csICcgJylcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50W2Jyb3dzZXIucHJlZml4ZWRNYXRjaGVzU2VsZWN0b3JdKHNlbGVjdG9yKVxufVxuXG5jb25zdCBnZXRQYXJlbnQgPSAoZWw6IE5vZGUgfCBEb2N1bWVudCB8IFNoYWRvd1Jvb3QpID0+IGVsLnBhcmVudE5vZGUgfHwgKGVsIGFzIFNoYWRvd1Jvb3QpLmhvc3RcblxuLy8gVGVzdCBmb3IgdGhlIGVsZW1lbnQgdGhhdCdzIFwiYWJvdmVcIiBhbGwgb3RoZXIgcXVhbGlmaWVyc1xuZXhwb3J0IGZ1bmN0aW9uIGluZGV4T2ZEZWVwZXN0RWxlbWVudChlbGVtZW50czogRWxlbWVudFtdIHwgTm9kZUxpc3RPZjxnbG9iYWxUaGlzLkVsZW1lbnQ+KSB7XG4gIGxldCBkZWVwZXN0Tm9kZVBhcmVudHM6IE5vZGVbXSA9IFtdXG4gIGxldCBkZWVwZXN0Tm9kZUluZGV4OiBudW1iZXJcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY3VycmVudE5vZGUgPSBlbGVtZW50c1tpXVxuICAgIGNvbnN0IGRlZXBlc3ROb2RlOiBOb2RlID0gZWxlbWVudHNbZGVlcGVzdE5vZGVJbmRleF1cblxuICAgIC8vIG5vZGUgbWF5IGFwcGVhciBpbiBlbGVtZW50cyBhcnJheSBtdWx0aXBsZSB0aW1lc1xuICAgIGlmICghY3VycmVudE5vZGUgfHwgaSA9PT0gZGVlcGVzdE5vZGVJbmRleCkge1xuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBpZiAoIWRlZXBlc3ROb2RlKSB7XG4gICAgICBkZWVwZXN0Tm9kZUluZGV4ID0gaVxuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50Tm9kZVBhcmVudCA9IGdldFBhcmVudChjdXJyZW50Tm9kZSlcbiAgICBjb25zdCBkZWVwZXN0Tm9kZVBhcmVudCA9IGdldFBhcmVudChkZWVwZXN0Tm9kZSlcblxuICAgIC8vIGNoZWNrIGlmIHRoZSBkZWVwZXN0IG9yIGN1cnJlbnQgYXJlIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC9yb290RWxlbWVudFxuICAgIC8vIC0gaWYgdGhlIGN1cnJlbnQgbm9kZSBpcywgZG8gbm90aGluZyBhbmQgY29udGludWVcbiAgICBpZiAoY3VycmVudE5vZGVQYXJlbnQgPT09IGN1cnJlbnROb2RlLm93bmVyRG9jdW1lbnQpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIC8vIC0gaWYgZGVlcGVzdCBpcywgdXBkYXRlIHdpdGggdGhlIGN1cnJlbnQgbm9kZSBhbmQgY29udGludWUgdG8gbmV4dFxuICAgIGVsc2UgaWYgKGRlZXBlc3ROb2RlUGFyZW50ID09PSBjdXJyZW50Tm9kZS5vd25lckRvY3VtZW50KSB7XG4gICAgICBkZWVwZXN0Tm9kZUluZGV4ID0gaVxuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICAvLyBjb21wYXJlIHpJbmRleCBvZiBzaWJsaW5nc1xuICAgIGlmIChjdXJyZW50Tm9kZVBhcmVudCA9PT0gZGVlcGVzdE5vZGVQYXJlbnQpIHtcbiAgICAgIGlmICh6SW5kZXhJc0hpZ2hlclRoYW4oY3VycmVudE5vZGUsIGRlZXBlc3ROb2RlKSkge1xuICAgICAgICBkZWVwZXN0Tm9kZUluZGV4ID0gaVxuICAgICAgfVxuXG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIC8vIHBvcHVsYXRlIHRoZSBhbmNlc3RyeSBhcnJheSBmb3IgdGhlIGxhdGVzdCBkZWVwZXN0IG5vZGVcbiAgICBkZWVwZXN0Tm9kZVBhcmVudHMgPSBkZWVwZXN0Tm9kZVBhcmVudHMubGVuZ3RoID8gZGVlcGVzdE5vZGVQYXJlbnRzIDogZ2V0Tm9kZVBhcmVudHMoZGVlcGVzdE5vZGUpXG5cbiAgICBsZXQgYW5jZXN0cnlTdGFydDogTm9kZVxuXG4gICAgLy8gaWYgdGhlIGRlZXBlc3Qgbm9kZSBpcyBhbiBIVE1MRWxlbWVudCBhbmQgdGhlIGN1cnJlbnQgbm9kZSBpcyBhIG5vbiByb290IHN2ZyBlbGVtZW50XG4gICAgaWYgKFxuICAgICAgZGVlcGVzdE5vZGUgaW5zdGFuY2VvZiBkb21PYmplY3RzLkhUTUxFbGVtZW50ICYmXG4gICAgICBjdXJyZW50Tm9kZSBpbnN0YW5jZW9mIGRvbU9iamVjdHMuU1ZHRWxlbWVudCAmJlxuICAgICAgIShjdXJyZW50Tm9kZSBpbnN0YW5jZW9mIGRvbU9iamVjdHMuU1ZHU1ZHRWxlbWVudClcbiAgICApIHtcbiAgICAgIC8vIFRPRE86IGlzIHRoaXMgY2hlY2sgbmVjZXNzYXJ5PyBXYXMgdGhpcyBmb3IgSFRNTCBlbGVtZW50cyBlbWJlZGRlZCBpbiBTVkc/XG4gICAgICBpZiAoY3VycmVudE5vZGUgPT09IGRlZXBlc3ROb2RlUGFyZW50KSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGFuY2VzdHJ5U3RhcnQgPSBjdXJyZW50Tm9kZS5vd25lclNWR0VsZW1lbnRcbiAgICB9IGVsc2Uge1xuICAgICAgYW5jZXN0cnlTdGFydCA9IGN1cnJlbnROb2RlXG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudE5vZGVQYXJlbnRzID0gZ2V0Tm9kZVBhcmVudHMoYW5jZXN0cnlTdGFydCwgZGVlcGVzdE5vZGUub3duZXJEb2N1bWVudClcbiAgICBsZXQgY29tbW9uSW5kZXggPSAwXG5cbiAgICAvLyBnZXQgKHBvc2l0aW9uIG9mIGNsb3Nlc3QgY29tbW9uIGFuY2VzdG9yKSArIDFcbiAgICB3aGlsZSAoXG4gICAgICBjdXJyZW50Tm9kZVBhcmVudHNbY29tbW9uSW5kZXhdICYmXG4gICAgICBjdXJyZW50Tm9kZVBhcmVudHNbY29tbW9uSW5kZXhdID09PSBkZWVwZXN0Tm9kZVBhcmVudHNbY29tbW9uSW5kZXhdXG4gICAgKSB7XG4gICAgICBjb21tb25JbmRleCsrXG4gICAgfVxuXG4gICAgY29uc3QgcGFyZW50cyA9IFtcbiAgICAgIGN1cnJlbnROb2RlUGFyZW50c1tjb21tb25JbmRleCAtIDFdLFxuICAgICAgY3VycmVudE5vZGVQYXJlbnRzW2NvbW1vbkluZGV4XSxcbiAgICAgIGRlZXBlc3ROb2RlUGFyZW50c1tjb21tb25JbmRleF0sXG4gICAgXVxuXG4gICAgaWYgKHBhcmVudHNbMF0pIHtcbiAgICAgIGxldCBjaGlsZCA9IHBhcmVudHNbMF0ubGFzdENoaWxkXG5cbiAgICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgICBpZiAoY2hpbGQgPT09IHBhcmVudHNbMV0pIHtcbiAgICAgICAgICBkZWVwZXN0Tm9kZUluZGV4ID0gaVxuICAgICAgICAgIGRlZXBlc3ROb2RlUGFyZW50cyA9IGN1cnJlbnROb2RlUGFyZW50c1xuXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfSBlbHNlIGlmIChjaGlsZCA9PT0gcGFyZW50c1syXSkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZCA9IGNoaWxkLnByZXZpb3VzU2libGluZ1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkZWVwZXN0Tm9kZUluZGV4XG59XG5cbmZ1bmN0aW9uIGdldE5vZGVQYXJlbnRzKG5vZGU6IE5vZGUsIGxpbWl0PzogTm9kZSkge1xuICBjb25zdCBwYXJlbnRzOiBOb2RlW10gPSBbXVxuICBsZXQgcGFyZW50OiBOb2RlID0gbm9kZVxuICBsZXQgcGFyZW50UGFyZW50OiBOb2RlXG5cbiAgd2hpbGUgKChwYXJlbnRQYXJlbnQgPSBnZXRQYXJlbnQocGFyZW50KSkgJiYgcGFyZW50ICE9PSBsaW1pdCAmJiBwYXJlbnRQYXJlbnQgIT09IHBhcmVudC5vd25lckRvY3VtZW50KSB7XG4gICAgcGFyZW50cy51bnNoaWZ0KHBhcmVudClcbiAgICBwYXJlbnQgPSBwYXJlbnRQYXJlbnRcbiAgfVxuXG4gIHJldHVybiBwYXJlbnRzXG59XG5cbmZ1bmN0aW9uIHpJbmRleElzSGlnaGVyVGhhbihoaWdoZXJOb2RlOiBOb2RlLCBsb3dlck5vZGU6IE5vZGUpIHtcbiAgY29uc3QgaGlnaGVySW5kZXggPSBwYXJzZUludCh3aW4uZ2V0V2luZG93KGhpZ2hlck5vZGUpLmdldENvbXB1dGVkU3R5bGUoaGlnaGVyTm9kZSkuekluZGV4LCAxMCkgfHwgMFxuICBjb25zdCBsb3dlckluZGV4ID0gcGFyc2VJbnQod2luLmdldFdpbmRvdyhsb3dlck5vZGUpLmdldENvbXB1dGVkU3R5bGUobG93ZXJOb2RlKS56SW5kZXgsIDEwKSB8fCAwXG5cbiAgcmV0dXJuIGhpZ2hlckluZGV4ID49IGxvd2VySW5kZXhcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoZXNVcFRvKGVsZW1lbnQ6IEVsZW1lbnQsIHNlbGVjdG9yOiBzdHJpbmcsIGxpbWl0OiBOb2RlKSB7XG4gIHdoaWxlIChpcy5lbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgaWYgKG1hdGNoZXNTZWxlY3RvcihlbGVtZW50LCBzZWxlY3RvcikpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgZWxlbWVudCA9IHBhcmVudE5vZGUoZWxlbWVudCkgYXMgRWxlbWVudFxuXG4gICAgaWYgKGVsZW1lbnQgPT09IGxpbWl0KSB7XG4gICAgICByZXR1cm4gbWF0Y2hlc1NlbGVjdG9yKGVsZW1lbnQsIHNlbGVjdG9yKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWN0dWFsRWxlbWVudChlbGVtZW50OiBFbGVtZW50KSB7XG4gIHJldHVybiAoZWxlbWVudCBhcyBhbnkpLmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50IHx8IGVsZW1lbnRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbFhZKHJlbGV2YW50V2luZG93PzogV2luZG93KSB7XG4gIHJlbGV2YW50V2luZG93ID0gcmVsZXZhbnRXaW5kb3cgfHwgd2luLndpbmRvd1xuICByZXR1cm4ge1xuICAgIHg6IHJlbGV2YW50V2luZG93LnNjcm9sbFggfHwgcmVsZXZhbnRXaW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQsXG4gICAgeTogcmVsZXZhbnRXaW5kb3cuc2Nyb2xsWSB8fCByZWxldmFudFdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50Q2xpZW50UmVjdChlbGVtZW50OiBFbGVtZW50KTogUmVxdWlyZWQ8UmVjdD4ge1xuICBjb25zdCBjbGllbnRSZWN0ID1cbiAgICBlbGVtZW50IGluc3RhbmNlb2YgZG9tT2JqZWN0cy5TVkdFbGVtZW50ID8gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGVsZW1lbnQuZ2V0Q2xpZW50UmVjdHMoKVswXVxuXG4gIHJldHVybiAoXG4gICAgY2xpZW50UmVjdCAmJiB7XG4gICAgICBsZWZ0OiBjbGllbnRSZWN0LmxlZnQsXG4gICAgICByaWdodDogY2xpZW50UmVjdC5yaWdodCxcbiAgICAgIHRvcDogY2xpZW50UmVjdC50b3AsXG4gICAgICBib3R0b206IGNsaWVudFJlY3QuYm90dG9tLFxuICAgICAgd2lkdGg6IGNsaWVudFJlY3Qud2lkdGggfHwgY2xpZW50UmVjdC5yaWdodCAtIGNsaWVudFJlY3QubGVmdCxcbiAgICAgIGhlaWdodDogY2xpZW50UmVjdC5oZWlnaHQgfHwgY2xpZW50UmVjdC5ib3R0b20gLSBjbGllbnRSZWN0LnRvcCxcbiAgICB9XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRSZWN0KGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgY29uc3QgY2xpZW50UmVjdCA9IGdldEVsZW1lbnRDbGllbnRSZWN0KGVsZW1lbnQpXG5cbiAgaWYgKCFicm93c2VyLmlzSU9TNyAmJiBjbGllbnRSZWN0KSB7XG4gICAgY29uc3Qgc2Nyb2xsID0gZ2V0U2Nyb2xsWFkod2luLmdldFdpbmRvdyhlbGVtZW50KSlcblxuICAgIGNsaWVudFJlY3QubGVmdCArPSBzY3JvbGwueFxuICAgIGNsaWVudFJlY3QucmlnaHQgKz0gc2Nyb2xsLnhcbiAgICBjbGllbnRSZWN0LnRvcCArPSBzY3JvbGwueVxuICAgIGNsaWVudFJlY3QuYm90dG9tICs9IHNjcm9sbC55XG4gIH1cblxuICByZXR1cm4gY2xpZW50UmVjdFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGF0aChub2RlOiBOb2RlIHwgRG9jdW1lbnQpIHtcbiAgY29uc3QgcGF0aCA9IFtdXG5cbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBwYXRoLnB1c2gobm9kZSlcbiAgICBub2RlID0gcGFyZW50Tm9kZShub2RlKVxuICB9XG5cbiAgcmV0dXJuIHBhdGhcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyeVNlbGVjdG9yKHZhbHVlOiBUYXJnZXQpIHtcbiAgaWYgKCFpcy5zdHJpbmcodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvLyBhbiBleGNlcHRpb24gd2lsbCBiZSByYWlzZWQgaWYgaXQgaXMgaW52YWxpZFxuICBkb21PYmplY3RzLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodmFsdWUpXG4gIHJldHVybiB0cnVlXG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXh0ZW5kPFQsIFUgZXh0ZW5kcyBvYmplY3Q+KGRlc3Q6IFUgJiBQYXJ0aWFsPFQ+LCBzb3VyY2U6IFQpOiBUICYgVSB7XG4gIGZvciAoY29uc3QgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICA7KGRlc3QgYXMgdW5rbm93biBhcyBUKVtwcm9wXSA9IHNvdXJjZVtwcm9wXVxuICB9XG5cbiAgY29uc3QgcmV0ID0gZGVzdCBhcyBUICYgVVxuXG4gIHJldHVybiByZXRcbn1cbiIsICJpbXBvcnQgdHlwZSB7XG4gIEhhc0dldFJlY3QsXG4gIFJlY3RSZXNvbHZhYmxlLFxuICBSZWN0LFxuICBFbGVtZW50LFxuICBQb2ludCxcbiAgRnVsbFJlY3QsXG4gIEVkZ2VPcHRpb25zLFxufSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5pbXBvcnQgeyBjbG9zZXN0LCBnZXRFbGVtZW50UmVjdCwgcGFyZW50Tm9kZSB9IGZyb20gJy4vZG9tVXRpbHMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJy4vZXh0ZW5kJ1xuaW1wb3J0IGlzIGZyb20gJy4vaXMnXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHJpbmdPcHRpb25SZXN1bHQodmFsdWU6IGFueSwgdGFyZ2V0OiBIYXNHZXRSZWN0LCBlbGVtZW50OiBOb2RlKSB7XG4gIGlmICh2YWx1ZSA9PT0gJ3BhcmVudCcpIHtcbiAgICByZXR1cm4gcGFyZW50Tm9kZShlbGVtZW50KVxuICB9XG5cbiAgaWYgKHZhbHVlID09PSAnc2VsZicpIHtcbiAgICByZXR1cm4gdGFyZ2V0LmdldFJlY3QoZWxlbWVudCBhcyBFbGVtZW50KVxuICB9XG5cbiAgcmV0dXJuIGNsb3Nlc3QoZWxlbWVudCwgdmFsdWUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlUmVjdExpa2U8VCBleHRlbmRzIGFueVtdPihcbiAgdmFsdWU6IFJlY3RSZXNvbHZhYmxlPFQ+LFxuICB0YXJnZXQ/OiBIYXNHZXRSZWN0LFxuICBlbGVtZW50PzogTm9kZSxcbiAgZnVuY3Rpb25BcmdzPzogVCxcbikge1xuICBsZXQgcmV0dXJuVmFsdWU6IGFueSA9IHZhbHVlXG4gIGlmIChpcy5zdHJpbmcocmV0dXJuVmFsdWUpKSB7XG4gICAgcmV0dXJuVmFsdWUgPSBnZXRTdHJpbmdPcHRpb25SZXN1bHQocmV0dXJuVmFsdWUsIHRhcmdldCwgZWxlbWVudClcbiAgfSBlbHNlIGlmIChpcy5mdW5jKHJldHVyblZhbHVlKSkge1xuICAgIHJldHVyblZhbHVlID0gcmV0dXJuVmFsdWUoLi4uZnVuY3Rpb25BcmdzKVxuICB9XG5cbiAgaWYgKGlzLmVsZW1lbnQocmV0dXJuVmFsdWUpKSB7XG4gICAgcmV0dXJuVmFsdWUgPSBnZXRFbGVtZW50UmVjdChyZXR1cm5WYWx1ZSlcbiAgfVxuXG4gIHJldHVybiByZXR1cm5WYWx1ZSBhcyBSZWN0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0Z1bGxSZWN0KHJlY3Q6IFJlY3QpOiBGdWxsUmVjdCB7XG4gIGNvbnN0IHsgdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0IH0gPSByZWN0XG4gIGNvbnN0IHdpZHRoID0gcmVjdC53aWR0aCA/PyByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0XG4gIGNvbnN0IGhlaWdodCA9IHJlY3QuaGVpZ2h0ID8/IHJlY3QuYm90dG9tIC0gcmVjdC50b3BcblxuICByZXR1cm4geyB0b3AsIGxlZnQsIGJvdHRvbSwgcmlnaHQsIHdpZHRoLCBoZWlnaHQgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVjdFRvWFkocmVjdDogUmVjdCB8IFBvaW50KSB7XG4gIHJldHVybiAoXG4gICAgcmVjdCAmJiB7XG4gICAgICB4OiAneCcgaW4gcmVjdCA/IHJlY3QueCA6IHJlY3QubGVmdCxcbiAgICAgIHk6ICd5JyBpbiByZWN0ID8gcmVjdC55IDogcmVjdC50b3AsXG4gICAgfVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB4eXdoVG9UbGJyPFQgZXh0ZW5kcyBQYXJ0aWFsPFJlY3QgJiBQb2ludD4+KHJlY3Q6IFQpIHtcbiAgaWYgKHJlY3QgJiYgISgnbGVmdCcgaW4gcmVjdCAmJiAndG9wJyBpbiByZWN0KSkge1xuICAgIHJlY3QgPSBleHRlbmQoe30sIHJlY3QpXG5cbiAgICByZWN0LmxlZnQgPSByZWN0LnggfHwgMFxuICAgIHJlY3QudG9wID0gcmVjdC55IHx8IDBcbiAgICByZWN0LnJpZ2h0ID0gcmVjdC5yaWdodCB8fCByZWN0LmxlZnQgKyByZWN0LndpZHRoXG4gICAgcmVjdC5ib3R0b20gPSByZWN0LmJvdHRvbSB8fCByZWN0LnRvcCArIHJlY3QuaGVpZ2h0XG4gIH1cblxuICByZXR1cm4gcmVjdCBhcyBSZWN0ICYgVFxufVxuXG5leHBvcnQgZnVuY3Rpb24gdGxiclRvWHl3aChyZWN0OiBSZWN0ICYgUGFydGlhbDxQb2ludD4pIHtcbiAgaWYgKHJlY3QgJiYgISgneCcgaW4gcmVjdCAmJiAneScgaW4gcmVjdCkpIHtcbiAgICByZWN0ID0gZXh0ZW5kKHt9LCByZWN0KVxuXG4gICAgcmVjdC54ID0gcmVjdC5sZWZ0IHx8IDBcbiAgICByZWN0LnkgPSByZWN0LnRvcCB8fCAwXG4gICAgcmVjdC53aWR0aCA9IHJlY3Qud2lkdGggfHwgKHJlY3QucmlnaHQgfHwgMCkgLSByZWN0LnhcbiAgICByZWN0LmhlaWdodCA9IHJlY3QuaGVpZ2h0IHx8IChyZWN0LmJvdHRvbSB8fCAwKSAtIHJlY3QueVxuICB9XG5cbiAgcmV0dXJuIHJlY3QgYXMgRnVsbFJlY3QgJiBQb2ludFxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkRWRnZXMoZWRnZXM6IEVkZ2VPcHRpb25zLCByZWN0OiBSZWN0LCBkZWx0YTogUG9pbnQpIHtcbiAgaWYgKGVkZ2VzLmxlZnQpIHtcbiAgICByZWN0LmxlZnQgKz0gZGVsdGEueFxuICB9XG4gIGlmIChlZGdlcy5yaWdodCkge1xuICAgIHJlY3QucmlnaHQgKz0gZGVsdGEueFxuICB9XG4gIGlmIChlZGdlcy50b3ApIHtcbiAgICByZWN0LnRvcCArPSBkZWx0YS55XG4gIH1cbiAgaWYgKGVkZ2VzLmJvdHRvbSkge1xuICAgIHJlY3QuYm90dG9tICs9IGRlbHRhLnlcbiAgfVxuXG4gIHJlY3Qud2lkdGggPSByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0XG4gIHJlY3QuaGVpZ2h0ID0gcmVjdC5ib3R0b20gLSByZWN0LnRvcFxufVxuIiwgImltcG9ydCB0eXBlIHsgUGVyQWN0aW9uRGVmYXVsdHMgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnXG5pbXBvcnQgdHlwZSB7IEFjdGlvbk5hbWUsIEhhc0dldFJlY3QgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5pbXBvcnQgeyByZWN0VG9YWSwgcmVzb2x2ZVJlY3RMaWtlIH0gZnJvbSAnLi9yZWN0J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRPcmlnaW5YWShcbiAgdGFyZ2V0OiBIYXNHZXRSZWN0ICYgeyBvcHRpb25zOiBQZXJBY3Rpb25EZWZhdWx0cyB9LFxuICBlbGVtZW50OiBOb2RlLFxuICBhY3Rpb25OYW1lPzogQWN0aW9uTmFtZSxcbikge1xuICBjb25zdCBhY3Rpb25PcHRpb25zID0gYWN0aW9uTmFtZSAmJiAodGFyZ2V0Lm9wdGlvbnMgYXMgYW55KVthY3Rpb25OYW1lXVxuICBjb25zdCBhY3Rpb25PcmlnaW4gPSBhY3Rpb25PcHRpb25zICYmIGFjdGlvbk9wdGlvbnMub3JpZ2luXG4gIGNvbnN0IG9yaWdpbiA9IGFjdGlvbk9yaWdpbiB8fCB0YXJnZXQub3B0aW9ucy5vcmlnaW5cblxuICBjb25zdCBvcmlnaW5SZWN0ID0gcmVzb2x2ZVJlY3RMaWtlKG9yaWdpbiwgdGFyZ2V0LCBlbGVtZW50LCBbdGFyZ2V0ICYmIGVsZW1lbnRdKVxuXG4gIHJldHVybiByZWN0VG9YWShvcmlnaW5SZWN0KSB8fCB7IHg6IDAsIHk6IDAgfVxufVxuIiwgImltcG9ydCB0eXBlIHsgRXZlbnRUeXBlcywgTGlzdGVuZXIsIExpc3RlbmVyc0FyZyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmltcG9ydCBpcyBmcm9tICcuL2lzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIE5vcm1hbGl6ZWRMaXN0ZW5lcnMge1xuICBbdHlwZTogc3RyaW5nXTogTGlzdGVuZXJbXVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBub3JtYWxpemUoXG4gIHR5cGU6IEV2ZW50VHlwZXMsXG4gIGxpc3RlbmVycz86IExpc3RlbmVyc0FyZyB8IExpc3RlbmVyc0FyZ1tdIHwgbnVsbCxcbiAgZmlsdGVyID0gKF90eXBlT3JQcmVmaXg6IHN0cmluZykgPT4gdHJ1ZSxcbiAgcmVzdWx0PzogTm9ybWFsaXplZExpc3RlbmVycyxcbik6IE5vcm1hbGl6ZWRMaXN0ZW5lcnMge1xuICByZXN1bHQgPSByZXN1bHQgfHwge31cblxuICBpZiAoaXMuc3RyaW5nKHR5cGUpICYmIHR5cGUuc2VhcmNoKCcgJykgIT09IC0xKSB7XG4gICAgdHlwZSA9IHNwbGl0KHR5cGUpXG4gIH1cblxuICBpZiAoaXMuYXJyYXkodHlwZSkpIHtcbiAgICB0eXBlLmZvckVhY2goKHQpID0+IG5vcm1hbGl6ZSh0LCBsaXN0ZW5lcnMsIGZpbHRlciwgcmVzdWx0KSlcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvLyBiZWZvcmU6ICB0eXBlID0gW3sgZHJhZzogKCkgPT4ge30gfV0sIGxpc3RlbmVycyA9IHVuZGVmaW5lZFxuICAvLyBhZnRlcjogICB0eXBlID0gJycgICAgICAgICAgICAgICAgICAsIGxpc3RlbmVycyA9IFt7IGRyYWc6ICgpID0+IHt9IH1dXG4gIGlmIChpcy5vYmplY3QodHlwZSkpIHtcbiAgICBsaXN0ZW5lcnMgPSB0eXBlXG4gICAgdHlwZSA9ICcnXG4gIH1cblxuICBpZiAoaXMuZnVuYyhsaXN0ZW5lcnMpICYmIGZpbHRlcih0eXBlKSkge1xuICAgIHJlc3VsdFt0eXBlXSA9IHJlc3VsdFt0eXBlXSB8fCBbXVxuICAgIHJlc3VsdFt0eXBlXS5wdXNoKGxpc3RlbmVycylcbiAgfSBlbHNlIGlmIChpcy5hcnJheShsaXN0ZW5lcnMpKSB7XG4gICAgZm9yIChjb25zdCBsIG9mIGxpc3RlbmVycykge1xuICAgICAgbm9ybWFsaXplKHR5cGUsIGwsIGZpbHRlciwgcmVzdWx0KVxuICAgIH1cbiAgfSBlbHNlIGlmIChpcy5vYmplY3QobGlzdGVuZXJzKSkge1xuICAgIGZvciAoY29uc3QgcHJlZml4IGluIGxpc3RlbmVycykge1xuICAgICAgY29uc3QgY29tYmluZWRUeXBlcyA9IHNwbGl0KHByZWZpeCkubWFwKChwKSA9PiBgJHt0eXBlfSR7cH1gKVxuXG4gICAgICBub3JtYWxpemUoY29tYmluZWRUeXBlcywgbGlzdGVuZXJzW3ByZWZpeF0sIGZpbHRlciwgcmVzdWx0KVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQgYXMgTm9ybWFsaXplZExpc3RlbmVyc1xufVxuXG5mdW5jdGlvbiBzcGxpdCh0eXBlOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHR5cGUudHJpbSgpLnNwbGl0KC8gKy8pXG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSlcbiIsICJjb25zdCBWRU5ET1JfUFJFRklYRVMgPSBbJ3dlYmtpdCcsICdtb3onXVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwb2ludGVyRXh0ZW5kPFQ+KGRlc3Q6IFBhcnRpYWw8VCAmIHsgX19zZXQ/OiBQYXJ0aWFsPFQ+IH0+LCBzb3VyY2U6IFQpIHtcbiAgZGVzdC5fX3NldCB8fD0ge30gYXMgYW55XG5cbiAgZm9yIChjb25zdCBwcm9wIGluIHNvdXJjZSkge1xuICAgIC8vIHNraXAgZGVwcmVjYXRlZCBwcmVmaXhlZCBwcm9wZXJ0aWVzXG4gICAgaWYgKFZFTkRPUl9QUkVGSVhFUy5zb21lKChwcmVmaXgpID0+IHByb3AuaW5kZXhPZihwcmVmaXgpID09PSAwKSkgY29udGludWVcblxuICAgIGlmICh0eXBlb2YgZGVzdFtwcm9wXSAhPT0gJ2Z1bmN0aW9uJyAmJiBwcm9wICE9PSAnX19zZXQnKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZGVzdCwgcHJvcCwge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgaWYgKHByb3AgaW4gZGVzdC5fX3NldCkgcmV0dXJuIGRlc3QuX19zZXRbcHJvcF1cblxuICAgICAgICAgIHJldHVybiAoZGVzdC5fX3NldFtwcm9wXSA9IHNvdXJjZVtwcm9wXSBhcyBhbnkpXG4gICAgICAgIH0sXG4gICAgICAgIHNldCh2YWx1ZTogYW55KSB7XG4gICAgICAgICAgZGVzdC5fX3NldFtwcm9wXSA9IHZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIH0pXG4gICAgfVxuICB9XG4gIHJldHVybiBkZXN0XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdEV2ZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdEV2ZW50J1xuaW1wb3J0IHR5cGUgeyBDb29yZHNTZXRNZW1iZXIsIFBvaW50ZXJUeXBlLCBQb2ludCwgUG9pbnRlckV2ZW50VHlwZSwgRWxlbWVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmltcG9ydCBicm93c2VyIGZyb20gJy4vYnJvd3NlcidcbmltcG9ydCBkb20gZnJvbSAnLi9kb21PYmplY3RzJ1xuaW1wb3J0ICogYXMgZG9tVXRpbHMgZnJvbSAnLi9kb21VdGlscydcbmltcG9ydCBoeXBvdCBmcm9tICcuL2h5cG90J1xuaW1wb3J0IGlzIGZyb20gJy4vaXMnXG5pbXBvcnQgcG9pbnRlckV4dGVuZCBmcm9tICcuL3BvaW50ZXJFeHRlbmQnXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5Q29vcmRzKGRlc3Q6IENvb3Jkc1NldE1lbWJlciwgc3JjOiBDb29yZHNTZXRNZW1iZXIpIHtcbiAgZGVzdC5wYWdlID0gZGVzdC5wYWdlIHx8ICh7fSBhcyBhbnkpXG4gIGRlc3QucGFnZS54ID0gc3JjLnBhZ2UueFxuICBkZXN0LnBhZ2UueSA9IHNyYy5wYWdlLnlcblxuICBkZXN0LmNsaWVudCA9IGRlc3QuY2xpZW50IHx8ICh7fSBhcyBhbnkpXG4gIGRlc3QuY2xpZW50LnggPSBzcmMuY2xpZW50LnhcbiAgZGVzdC5jbGllbnQueSA9IHNyYy5jbGllbnQueVxuXG4gIGRlc3QudGltZVN0YW1wID0gc3JjLnRpbWVTdGFtcFxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29vcmREZWx0YXModGFyZ2V0T2JqOiBDb29yZHNTZXRNZW1iZXIsIHByZXY6IENvb3Jkc1NldE1lbWJlciwgY3VyOiBDb29yZHNTZXRNZW1iZXIpIHtcbiAgdGFyZ2V0T2JqLnBhZ2UueCA9IGN1ci5wYWdlLnggLSBwcmV2LnBhZ2UueFxuICB0YXJnZXRPYmoucGFnZS55ID0gY3VyLnBhZ2UueSAtIHByZXYucGFnZS55XG4gIHRhcmdldE9iai5jbGllbnQueCA9IGN1ci5jbGllbnQueCAtIHByZXYuY2xpZW50LnhcbiAgdGFyZ2V0T2JqLmNsaWVudC55ID0gY3VyLmNsaWVudC55IC0gcHJldi5jbGllbnQueVxuICB0YXJnZXRPYmoudGltZVN0YW1wID0gY3VyLnRpbWVTdGFtcCAtIHByZXYudGltZVN0YW1wXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb29yZFZlbG9jaXR5KHRhcmdldE9iajogQ29vcmRzU2V0TWVtYmVyLCBkZWx0YTogQ29vcmRzU2V0TWVtYmVyKSB7XG4gIGNvbnN0IGR0ID0gTWF0aC5tYXgoZGVsdGEudGltZVN0YW1wIC8gMTAwMCwgMC4wMDEpXG5cbiAgdGFyZ2V0T2JqLnBhZ2UueCA9IGRlbHRhLnBhZ2UueCAvIGR0XG4gIHRhcmdldE9iai5wYWdlLnkgPSBkZWx0YS5wYWdlLnkgLyBkdFxuICB0YXJnZXRPYmouY2xpZW50LnggPSBkZWx0YS5jbGllbnQueCAvIGR0XG4gIHRhcmdldE9iai5jbGllbnQueSA9IGRlbHRhLmNsaWVudC55IC8gZHRcbiAgdGFyZ2V0T2JqLnRpbWVTdGFtcCA9IGR0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRaZXJvQ29vcmRzKHRhcmdldE9iajogQ29vcmRzU2V0TWVtYmVyKSB7XG4gIHRhcmdldE9iai5wYWdlLnggPSAwXG4gIHRhcmdldE9iai5wYWdlLnkgPSAwXG4gIHRhcmdldE9iai5jbGllbnQueCA9IDBcbiAgdGFyZ2V0T2JqLmNsaWVudC55ID0gMFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNOYXRpdmVQb2ludGVyKHBvaW50ZXI6IGFueSkge1xuICByZXR1cm4gcG9pbnRlciBpbnN0YW5jZW9mIGRvbS5FdmVudCB8fCBwb2ludGVyIGluc3RhbmNlb2YgZG9tLlRvdWNoXG59XG5cbi8vIEdldCBzcGVjaWZpZWQgWC9ZIGNvb3JkcyBmb3IgbW91c2Ugb3IgZXZlbnQudG91Y2hlc1swXVxuZXhwb3J0IGZ1bmN0aW9uIGdldFhZKHR5cGU6IHN0cmluZywgcG9pbnRlcjogUG9pbnRlclR5cGUgfCBJbnRlcmFjdEV2ZW50LCB4eTogUG9pbnQpIHtcbiAgeHkgPSB4eSB8fCAoe30gYXMgUG9pbnQpXG4gIHR5cGUgPSB0eXBlIHx8ICdwYWdlJ1xuXG4gIHh5LnggPSBwb2ludGVyWyh0eXBlICsgJ1gnKSBhcyAncGFnZVgnXVxuICB4eS55ID0gcG9pbnRlclsodHlwZSArICdZJykgYXMgJ3BhZ2VZJ11cblxuICByZXR1cm4geHlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhZ2VYWShwb2ludGVyOiBQb2ludGVyVHlwZSB8IEludGVyYWN0RXZlbnQsIHBhZ2U/OiBQb2ludCkge1xuICBwYWdlID0gcGFnZSB8fCB7IHg6IDAsIHk6IDAgfVxuXG4gIC8vIE9wZXJhIE1vYmlsZSBoYW5kbGVzIHRoZSB2aWV3cG9ydCBhbmQgc2Nyb2xsaW5nIG9kZGx5XG4gIGlmIChicm93c2VyLmlzT3BlcmFNb2JpbGUgJiYgaXNOYXRpdmVQb2ludGVyKHBvaW50ZXIpKSB7XG4gICAgZ2V0WFkoJ3NjcmVlbicsIHBvaW50ZXIsIHBhZ2UpXG5cbiAgICBwYWdlLnggKz0gd2luZG93LnNjcm9sbFhcbiAgICBwYWdlLnkgKz0gd2luZG93LnNjcm9sbFlcbiAgfSBlbHNlIHtcbiAgICBnZXRYWSgncGFnZScsIHBvaW50ZXIsIHBhZ2UpXG4gIH1cblxuICByZXR1cm4gcGFnZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xpZW50WFkocG9pbnRlcjogUG9pbnRlclR5cGUsIGNsaWVudDogUG9pbnQpIHtcbiAgY2xpZW50ID0gY2xpZW50IHx8ICh7fSBhcyBhbnkpXG5cbiAgaWYgKGJyb3dzZXIuaXNPcGVyYU1vYmlsZSAmJiBpc05hdGl2ZVBvaW50ZXIocG9pbnRlcikpIHtcbiAgICAvLyBPcGVyYSBNb2JpbGUgaGFuZGxlcyB0aGUgdmlld3BvcnQgYW5kIHNjcm9sbGluZyBvZGRseVxuICAgIGdldFhZKCdzY3JlZW4nLCBwb2ludGVyLCBjbGllbnQpXG4gIH0gZWxzZSB7XG4gICAgZ2V0WFkoJ2NsaWVudCcsIHBvaW50ZXIsIGNsaWVudClcbiAgfVxuXG4gIHJldHVybiBjbGllbnRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvaW50ZXJJZChwb2ludGVyOiB7IHBvaW50ZXJJZD86IG51bWJlcjsgaWRlbnRpZmllcj86IG51bWJlcjsgdHlwZT86IHN0cmluZyB9KSB7XG4gIHJldHVybiBpcy5udW1iZXIocG9pbnRlci5wb2ludGVySWQpID8gcG9pbnRlci5wb2ludGVySWQhIDogcG9pbnRlci5pZGVudGlmaWVyIVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29vcmRzKGRlc3Q6IENvb3Jkc1NldE1lbWJlciwgcG9pbnRlcnM6IGFueVtdLCB0aW1lU3RhbXA6IG51bWJlcikge1xuICBjb25zdCBwb2ludGVyID0gcG9pbnRlcnMubGVuZ3RoID4gMSA/IHBvaW50ZXJBdmVyYWdlKHBvaW50ZXJzKSA6IHBvaW50ZXJzWzBdXG5cbiAgZ2V0UGFnZVhZKHBvaW50ZXIsIGRlc3QucGFnZSlcbiAgZ2V0Q2xpZW50WFkocG9pbnRlciwgZGVzdC5jbGllbnQpXG5cbiAgZGVzdC50aW1lU3RhbXAgPSB0aW1lU3RhbXBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRvdWNoUGFpcihldmVudDogVG91Y2hFdmVudCB8IFBvaW50ZXJUeXBlW10pIHtcbiAgY29uc3QgdG91Y2hlczogUG9pbnRlclR5cGVbXSA9IFtdXG5cbiAgLy8gYXJyYXkgb2YgdG91Y2hlcyBpcyBzdXBwbGllZFxuICBpZiAoaXMuYXJyYXkoZXZlbnQpKSB7XG4gICAgdG91Y2hlc1swXSA9IGV2ZW50WzBdXG4gICAgdG91Y2hlc1sxXSA9IGV2ZW50WzFdXG4gIH1cbiAgLy8gYW4gZXZlbnRcbiAgZWxzZSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICd0b3VjaGVuZCcpIHtcbiAgICAgIGlmIChldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0b3VjaGVzWzBdID0gZXZlbnQudG91Y2hlc1swXVxuICAgICAgICB0b3VjaGVzWzFdID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF1cbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdG91Y2hlc1swXSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdXG4gICAgICAgIHRvdWNoZXNbMV0gPSBldmVudC5jaGFuZ2VkVG91Y2hlc1sxXVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0b3VjaGVzWzBdID0gZXZlbnQudG91Y2hlc1swXVxuICAgICAgdG91Y2hlc1sxXSA9IGV2ZW50LnRvdWNoZXNbMV1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdG91Y2hlc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRlckF2ZXJhZ2UocG9pbnRlcnM6IFBvaW50ZXJUeXBlW10pIHtcbiAgY29uc3QgYXZlcmFnZSA9IHtcbiAgICBwYWdlWDogMCxcbiAgICBwYWdlWTogMCxcbiAgICBjbGllbnRYOiAwLFxuICAgIGNsaWVudFk6IDAsXG4gICAgc2NyZWVuWDogMCxcbiAgICBzY3JlZW5ZOiAwLFxuICB9XG5cbiAgdHlwZSBDb29yZEtleXMgPSBrZXlvZiB0eXBlb2YgYXZlcmFnZVxuXG4gIGZvciAoY29uc3QgcG9pbnRlciBvZiBwb2ludGVycykge1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiBhdmVyYWdlKSB7XG4gICAgICBhdmVyYWdlW3Byb3AgYXMgQ29vcmRLZXlzXSArPSBwb2ludGVyW3Byb3AgYXMgQ29vcmRLZXlzXVxuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IHByb3AgaW4gYXZlcmFnZSkge1xuICAgIGF2ZXJhZ2VbcHJvcCBhcyBDb29yZEtleXNdIC89IHBvaW50ZXJzLmxlbmd0aFxuICB9XG5cbiAgcmV0dXJuIGF2ZXJhZ2Vcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvdWNoQkJveChldmVudDogUG9pbnRlclR5cGVbXSkge1xuICBpZiAoIWV2ZW50Lmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBjb25zdCB0b3VjaGVzID0gZ2V0VG91Y2hQYWlyKGV2ZW50KVxuICBjb25zdCBtaW5YID0gTWF0aC5taW4odG91Y2hlc1swXS5wYWdlWCwgdG91Y2hlc1sxXS5wYWdlWClcbiAgY29uc3QgbWluWSA9IE1hdGgubWluKHRvdWNoZXNbMF0ucGFnZVksIHRvdWNoZXNbMV0ucGFnZVkpXG4gIGNvbnN0IG1heFggPSBNYXRoLm1heCh0b3VjaGVzWzBdLnBhZ2VYLCB0b3VjaGVzWzFdLnBhZ2VYKVxuICBjb25zdCBtYXhZID0gTWF0aC5tYXgodG91Y2hlc1swXS5wYWdlWSwgdG91Y2hlc1sxXS5wYWdlWSlcblxuICByZXR1cm4ge1xuICAgIHg6IG1pblgsXG4gICAgeTogbWluWSxcbiAgICBsZWZ0OiBtaW5YLFxuICAgIHRvcDogbWluWSxcbiAgICByaWdodDogbWF4WCxcbiAgICBib3R0b206IG1heFksXG4gICAgd2lkdGg6IG1heFggLSBtaW5YLFxuICAgIGhlaWdodDogbWF4WSAtIG1pblksXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvdWNoRGlzdGFuY2UoZXZlbnQ6IFBvaW50ZXJUeXBlW10gfCBUb3VjaEV2ZW50LCBkZWx0YVNvdXJjZTogc3RyaW5nKSB7XG4gIGNvbnN0IHNvdXJjZVggPSAoZGVsdGFTb3VyY2UgKyAnWCcpIGFzICdwYWdlWCdcbiAgY29uc3Qgc291cmNlWSA9IChkZWx0YVNvdXJjZSArICdZJykgYXMgJ3BhZ2VZJ1xuICBjb25zdCB0b3VjaGVzID0gZ2V0VG91Y2hQYWlyKGV2ZW50KVxuXG4gIGNvbnN0IGR4ID0gdG91Y2hlc1swXVtzb3VyY2VYXSAtIHRvdWNoZXNbMV1bc291cmNlWF1cbiAgY29uc3QgZHkgPSB0b3VjaGVzWzBdW3NvdXJjZVldIC0gdG91Y2hlc1sxXVtzb3VyY2VZXVxuXG4gIHJldHVybiBoeXBvdChkeCwgZHkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b3VjaEFuZ2xlKGV2ZW50OiBQb2ludGVyVHlwZVtdIHwgVG91Y2hFdmVudCwgZGVsdGFTb3VyY2U6IHN0cmluZykge1xuICBjb25zdCBzb3VyY2VYID0gKGRlbHRhU291cmNlICsgJ1gnKSBhcyAncGFnZVgnXG4gIGNvbnN0IHNvdXJjZVkgPSAoZGVsdGFTb3VyY2UgKyAnWScpIGFzICdwYWdlWSdcbiAgY29uc3QgdG91Y2hlcyA9IGdldFRvdWNoUGFpcihldmVudClcbiAgY29uc3QgZHggPSB0b3VjaGVzWzFdW3NvdXJjZVhdIC0gdG91Y2hlc1swXVtzb3VyY2VYXVxuICBjb25zdCBkeSA9IHRvdWNoZXNbMV1bc291cmNlWV0gLSB0b3VjaGVzWzBdW3NvdXJjZVldXG4gIGNvbnN0IGFuZ2xlID0gKDE4MCAqIE1hdGguYXRhbjIoZHksIGR4KSkgLyBNYXRoLlBJXG5cbiAgcmV0dXJuIGFuZ2xlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb2ludGVyVHlwZShwb2ludGVyOiB7IHBvaW50ZXJUeXBlPzogc3RyaW5nOyBpZGVudGlmaWVyPzogbnVtYmVyOyB0eXBlPzogc3RyaW5nIH0pIHtcbiAgcmV0dXJuIGlzLnN0cmluZyhwb2ludGVyLnBvaW50ZXJUeXBlKVxuICAgID8gcG9pbnRlci5wb2ludGVyVHlwZVxuICAgIDogaXMubnVtYmVyKHBvaW50ZXIucG9pbnRlclR5cGUpXG4gICAgICA/IFt1bmRlZmluZWQsIHVuZGVmaW5lZCwgJ3RvdWNoJywgJ3BlbicsICdtb3VzZSddW3BvaW50ZXIucG9pbnRlclR5cGVdIVxuICAgICAgOiAvLyBpZiB0aGUgUG9pbnRlckV2ZW50IEFQSSBpc24ndCBhdmFpbGFibGUsIHRoZW4gdGhlIFwicG9pbnRlclwiIG11c3RcbiAgICAgICAgLy8gYmUgZWl0aGVyIGEgTW91c2VFdmVudCwgVG91Y2hFdmVudCwgb3IgVG91Y2ggb2JqZWN0XG4gICAgICAgIC90b3VjaC8udGVzdChwb2ludGVyLnR5cGUgfHwgJycpIHx8IHBvaW50ZXIgaW5zdGFuY2VvZiBkb20uVG91Y2hcbiAgICAgICAgPyAndG91Y2gnXG4gICAgICAgIDogJ21vdXNlJ1xufVxuXG4vLyBbIGV2ZW50LnRhcmdldCwgZXZlbnQuY3VycmVudFRhcmdldCBdXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXZlbnRUYXJnZXRzKGV2ZW50OiBFdmVudCkge1xuICBjb25zdCBwYXRoID0gaXMuZnVuYyhldmVudC5jb21wb3NlZFBhdGgpXG4gICAgPyAoZXZlbnQuY29tcG9zZWRQYXRoKCkgYXMgRWxlbWVudFtdKVxuICAgIDogKGV2ZW50IGFzIHVua25vd24gYXMgeyBwYXRoOiBFbGVtZW50W10gfSkucGF0aFxuXG4gIHJldHVybiBbXG4gICAgZG9tVXRpbHMuZ2V0QWN0dWFsRWxlbWVudChwYXRoID8gcGF0aFswXSA6IChldmVudC50YXJnZXQgYXMgRWxlbWVudCkpLFxuICAgIGRvbVV0aWxzLmdldEFjdHVhbEVsZW1lbnQoZXZlbnQuY3VycmVudFRhcmdldCBhcyBFbGVtZW50KSxcbiAgXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3Q29vcmRzKCk6IENvb3Jkc1NldE1lbWJlciB7XG4gIHJldHVybiB7XG4gICAgcGFnZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgY2xpZW50OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB0aW1lU3RhbXA6IDAsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvb3Jkc1RvRXZlbnQoY29vcmRzOiBNb2NrQ29vcmRzKSB7XG4gIGNvbnN0IGV2ZW50ID0ge1xuICAgIGNvb3JkcyxcbiAgICBnZXQgcGFnZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy5wYWdlXG4gICAgfSxcbiAgICBnZXQgY2xpZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29vcmRzLmNsaWVudFxuICAgIH0sXG4gICAgZ2V0IHRpbWVTdGFtcCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy50aW1lU3RhbXBcbiAgICB9LFxuICAgIGdldCBwYWdlWCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy5wYWdlLnhcbiAgICB9LFxuICAgIGdldCBwYWdlWSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy5wYWdlLnlcbiAgICB9LFxuICAgIGdldCBjbGllbnRYKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29vcmRzLmNsaWVudC54XG4gICAgfSxcbiAgICBnZXQgY2xpZW50WSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy5jbGllbnQueVxuICAgIH0sXG4gICAgZ2V0IHBvaW50ZXJJZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy5wb2ludGVySWRcbiAgICB9LFxuICAgIGdldCB0YXJnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb29yZHMudGFyZ2V0XG4gICAgfSxcbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy50eXBlXG4gICAgfSxcbiAgICBnZXQgcG9pbnRlclR5cGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb29yZHMucG9pbnRlclR5cGVcbiAgICB9LFxuICAgIGdldCBidXR0b25zKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29vcmRzLmJ1dHRvbnNcbiAgICB9LFxuICAgIHByZXZlbnREZWZhdWx0KCkge30sXG4gIH1cblxuICByZXR1cm4gZXZlbnQgYXMgdHlwZW9mIGV2ZW50ICYgUG9pbnRlclR5cGUgJiBQb2ludGVyRXZlbnRUeXBlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9ja0Nvb3JkcyB7XG4gIHBhZ2U6IFBvaW50XG4gIGNsaWVudDogUG9pbnRcbiAgdGltZVN0YW1wPzogbnVtYmVyXG4gIHBvaW50ZXJJZD86IGFueVxuICB0YXJnZXQ/OiBhbnlcbiAgdHlwZT86IHN0cmluZ1xuICBwb2ludGVyVHlwZT86IHN0cmluZ1xuICBidXR0b25zPzogbnVtYmVyXG59XG5cbmV4cG9ydCB7IHBvaW50ZXJFeHRlbmQgfVxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0aW9uLCBJbnRlcmFjdGlvblByb3h5IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgQWN0aW9uTmFtZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmV4cG9ydCBjbGFzcyBCYXNlRXZlbnQ8VCBleHRlbmRzIEFjdGlvbk5hbWUgfCBudWxsID0gbmV2ZXI+IHtcbiAgZGVjbGFyZSB0eXBlOiBzdHJpbmdcbiAgZGVjbGFyZSB0YXJnZXQ6IEV2ZW50VGFyZ2V0XG4gIGRlY2xhcmUgY3VycmVudFRhcmdldDogTm9kZVxuICBkZWNsYXJlIGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZGVjbGFyZSBfaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPFQ+XG4gIGRlY2xhcmUgdGltZVN0YW1wOiBudW1iZXJcbiAgaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gZmFsc2VcbiAgcHJvcGFnYXRpb25TdG9wcGVkID0gZmFsc2VcblxuICBjb25zdHJ1Y3RvcihpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248VD4pIHtcbiAgICB0aGlzLl9pbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uXG4gIH1cblxuICBwcmV2ZW50RGVmYXVsdCgpIHt9XG5cbiAgLyoqXG4gICAqIERvbid0IGNhbGwgYW55IG90aGVyIGxpc3RlbmVycyAoZXZlbiBvbiB0aGUgY3VycmVudCB0YXJnZXQpXG4gICAqL1xuICBzdG9wUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlXG4gIH1cblxuICAvKipcbiAgICogRG9uJ3QgY2FsbCBsaXN0ZW5lcnMgb24gdGhlIHJlbWFpbmluZyB0YXJnZXRzXG4gICAqL1xuICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWVcbiAgfVxufVxuXG4vLyBkZWZpbmVkIG91dHNpZGUgb2YgY2xhc3MgZGVmaW5pdGlvbiB0byBhdm9pZCBhc3NpZ25tZW50IG9mIHVuZGVmaW5lZCBkdXJpbmdcbi8vIGNvbnN0cnVjdGlvblxuZXhwb3J0IGludGVyZmFjZSBCYXNlRXZlbnQ8VCBleHRlbmRzIEFjdGlvbk5hbWUgfCBudWxsID0gbmV2ZXI+IHtcbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uUHJveHk8VD5cbn1cblxuLy8gZ2V0dGVycyBhbmQgc2V0dGVycyBkZWZpbmVkIGhlcmUgdG8gc3VwcG9ydCB0eXBlc2NyaXB0IDMuNiBhbmQgYmVsb3cgd2hpY2hcbi8vIGRvbid0IHN1cHBvcnQgZ2V0dGVyIGFuZCBzZXR0ZXJzIGluIC5kLnRzIGZpbGVzXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZUV2ZW50LnByb3RvdHlwZSwgJ2ludGVyYWN0aW9uJywge1xuICBnZXQodGhpczogQmFzZUV2ZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludGVyYWN0aW9uLl9wcm94eVxuICB9LFxuICBzZXQodGhpczogQmFzZUV2ZW50KSB7fSxcbn0pXG4iLCAidHlwZSBGaWx0ZXI8VD4gPSAoZWxlbWVudDogVCwgaW5kZXg6IG51bWJlciwgYXJyYXk6IFRbXSkgPT4gYm9vbGVhblxuXG5leHBvcnQgY29uc3QgY29udGFpbnMgPSA8VD4oYXJyYXk6IFRbXSwgdGFyZ2V0OiBUKSA9PiBhcnJheS5pbmRleE9mKHRhcmdldCkgIT09IC0xXG5cbmV4cG9ydCBjb25zdCByZW1vdmUgPSA8VD4oYXJyYXk6IFRbXSwgdGFyZ2V0OiBUKSA9PiBhcnJheS5zcGxpY2UoYXJyYXkuaW5kZXhPZih0YXJnZXQpLCAxKVxuXG5leHBvcnQgY29uc3QgbWVyZ2UgPSA8VCwgVT4odGFyZ2V0OiBBcnJheTxUIHwgVT4sIHNvdXJjZTogVVtdKSA9PiB7XG4gIGZvciAoY29uc3QgaXRlbSBvZiBzb3VyY2UpIHtcbiAgICB0YXJnZXQucHVzaChpdGVtKVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldFxufVxuXG5leHBvcnQgY29uc3QgZnJvbSA9IDxUID0gYW55Pihzb3VyY2U6IEFycmF5TGlrZTxUPikgPT4gbWVyZ2UoW10gYXMgVFtdLCBzb3VyY2UgYXMgVFtdKVxuXG5leHBvcnQgY29uc3QgZmluZEluZGV4ID0gPFQ+KGFycmF5OiBUW10sIGZ1bmM6IEZpbHRlcjxUPikgPT4ge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGZ1bmMoYXJyYXlbaV0sIGksIGFycmF5KSkge1xuICAgICAgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuZXhwb3J0IGNvbnN0IGZpbmQgPSA8VCA9IGFueT4oYXJyYXk6IFRbXSwgZnVuYzogRmlsdGVyPFQ+KTogVCB8IHVuZGVmaW5lZCA9PiBhcnJheVtmaW5kSW5kZXgoYXJyYXksIGZ1bmMpXVxuIiwgImltcG9ydCB7IEJhc2VFdmVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvQmFzZUV2ZW50J1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIHsgSW50ZXJhY3RFdmVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RFdmVudCdcbmltcG9ydCB0eXBlIHsgRWxlbWVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgKiBhcyBhcnIgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvYXJyJ1xuXG5pbXBvcnQgdHlwZSB7IERyb3BTdGF0ZSB9IGZyb20gJy4vcGx1Z2luJ1xuXG5leHBvcnQgY2xhc3MgRHJvcEV2ZW50IGV4dGVuZHMgQmFzZUV2ZW50PCdkcmFnJz4ge1xuICBkZWNsYXJlIHRhcmdldDogRWxlbWVudFxuICBkcm9wem9uZTogSW50ZXJhY3RhYmxlXG4gIGRyYWdFdmVudDogSW50ZXJhY3RFdmVudDwnZHJhZyc+XG4gIHJlbGF0ZWRUYXJnZXQ6IEVsZW1lbnRcbiAgZHJhZ2dhYmxlOiBJbnRlcmFjdGFibGVcbiAgcHJvcGFnYXRpb25TdG9wcGVkID0gZmFsc2VcbiAgaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gZmFsc2VcblxuICAvKipcbiAgICogQ2xhc3Mgb2YgZXZlbnRzIGZpcmVkIG9uIGRyb3B6b25lcyBkdXJpbmcgZHJhZ3Mgd2l0aCBhY2NlcHRhYmxlIHRhcmdldHMuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihkcm9wU3RhdGU6IERyb3BTdGF0ZSwgZHJhZ0V2ZW50OiBJbnRlcmFjdEV2ZW50PCdkcmFnJz4sIHR5cGU6IHN0cmluZykge1xuICAgIHN1cGVyKGRyYWdFdmVudC5faW50ZXJhY3Rpb24pXG5cbiAgICBjb25zdCB7IGVsZW1lbnQsIGRyb3B6b25lIH0gPSB0eXBlID09PSAnZHJhZ2xlYXZlJyA/IGRyb3BTdGF0ZS5wcmV2IDogZHJvcFN0YXRlLmN1clxuXG4gICAgdGhpcy50eXBlID0gdHlwZVxuICAgIHRoaXMudGFyZ2V0ID0gZWxlbWVudFxuICAgIHRoaXMuY3VycmVudFRhcmdldCA9IGVsZW1lbnRcbiAgICB0aGlzLmRyb3B6b25lID0gZHJvcHpvbmVcbiAgICB0aGlzLmRyYWdFdmVudCA9IGRyYWdFdmVudFxuICAgIHRoaXMucmVsYXRlZFRhcmdldCA9IGRyYWdFdmVudC50YXJnZXRcbiAgICB0aGlzLmRyYWdnYWJsZSA9IGRyYWdFdmVudC5pbnRlcmFjdGFibGVcbiAgICB0aGlzLnRpbWVTdGFtcCA9IGRyYWdFdmVudC50aW1lU3RhbXBcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB0aGlzIGlzIGEgYGRyb3BhY3RpdmF0ZWAgZXZlbnQsIHRoZSBkcm9wem9uZSBlbGVtZW50IHdpbGwgYmVcbiAgICogZGVhY3RpdmF0ZWQuXG4gICAqXG4gICAqIElmIHRoaXMgaXMgYSBgZHJhZ21vdmVgIG9yIGBkcmFnZW50ZXJgLCBhIGBkcmFnbGVhdmVgIHdpbGwgYmUgZmlyZWQgb24gdGhlXG4gICAqIGRyb3B6b25lIGVsZW1lbnQgYW5kIG1vcmUuXG4gICAqL1xuICByZWplY3QoKSB7XG4gICAgY29uc3QgeyBkcm9wU3RhdGUgfSA9IHRoaXMuX2ludGVyYWN0aW9uXG5cbiAgICBpZiAoXG4gICAgICB0aGlzLnR5cGUgIT09ICdkcm9wYWN0aXZhdGUnICYmXG4gICAgICAoIXRoaXMuZHJvcHpvbmUgfHwgZHJvcFN0YXRlLmN1ci5kcm9wem9uZSAhPT0gdGhpcy5kcm9wem9uZSB8fCBkcm9wU3RhdGUuY3VyLmVsZW1lbnQgIT09IHRoaXMudGFyZ2V0KVxuICAgICkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgZHJvcFN0YXRlLnByZXYuZHJvcHpvbmUgPSB0aGlzLmRyb3B6b25lXG4gICAgZHJvcFN0YXRlLnByZXYuZWxlbWVudCA9IHRoaXMudGFyZ2V0XG5cbiAgICBkcm9wU3RhdGUucmVqZWN0ZWQgPSB0cnVlXG4gICAgZHJvcFN0YXRlLmV2ZW50cy5lbnRlciA9IG51bGxcblxuICAgIHRoaXMuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcblxuICAgIGlmICh0aGlzLnR5cGUgPT09ICdkcm9wYWN0aXZhdGUnKSB7XG4gICAgICBjb25zdCBhY3RpdmVEcm9wcyA9IGRyb3BTdGF0ZS5hY3RpdmVEcm9wc1xuICAgICAgY29uc3QgaW5kZXggPSBhcnIuZmluZEluZGV4KFxuICAgICAgICBhY3RpdmVEcm9wcyxcbiAgICAgICAgKHsgZHJvcHpvbmUsIGVsZW1lbnQgfSkgPT4gZHJvcHpvbmUgPT09IHRoaXMuZHJvcHpvbmUgJiYgZWxlbWVudCA9PT0gdGhpcy50YXJnZXQsXG4gICAgICApXG5cbiAgICAgIGRyb3BTdGF0ZS5hY3RpdmVEcm9wcy5zcGxpY2UoaW5kZXgsIDEpXG5cbiAgICAgIGNvbnN0IGRlYWN0aXZhdGVFdmVudCA9IG5ldyBEcm9wRXZlbnQoZHJvcFN0YXRlLCB0aGlzLmRyYWdFdmVudCwgJ2Ryb3BkZWFjdGl2YXRlJylcblxuICAgICAgZGVhY3RpdmF0ZUV2ZW50LmRyb3B6b25lID0gdGhpcy5kcm9wem9uZVxuICAgICAgZGVhY3RpdmF0ZUV2ZW50LnRhcmdldCA9IHRoaXMudGFyZ2V0XG5cbiAgICAgIHRoaXMuZHJvcHpvbmUuZmlyZShkZWFjdGl2YXRlRXZlbnQpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZHJvcHpvbmUuZmlyZShuZXcgRHJvcEV2ZW50KGRyb3BTdGF0ZSwgdGhpcy5kcmFnRXZlbnQsICdkcmFnbGVhdmUnKSlcbiAgICB9XG4gIH1cblxuICBwcmV2ZW50RGVmYXVsdCgpIHt9XG5cbiAgc3RvcFByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZVxuICB9XG5cbiAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlXG4gIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgeyBFdmVudFBoYXNlLCBJbnRlcmFjdEV2ZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdEV2ZW50J1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGlvbiwgRG9QaGFzZUFyZyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFBlckFjdGlvbkRlZmF1bHRzIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSwgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgRWxlbWVudCwgUG9pbnRlckV2ZW50VHlwZSwgUmVjdCwgTGlzdGVuZXJzQXJnIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCAqIGFzIGRvbVV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgZ2V0T3JpZ2luWFkgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZ2V0T3JpZ2luWFknXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5pbXBvcnQgbm9ybWFsaXplTGlzdGVuZXJzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL25vcm1hbGl6ZUxpc3RlbmVycydcbmltcG9ydCAqIGFzIHBvaW50ZXJVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9wb2ludGVyVXRpbHMnXG5cbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzIC0tIGZvciB0eXBlc2NyaXB0IG1vZHVsZSBhdWdtZW50YXRpb25zICovXG5pbXBvcnQgJy4uL2RyYWcvcGx1Z2luJ1xuXG5pbXBvcnQgdHlwZSB7IERyYWdFdmVudCB9IGZyb20gJy4uL2RyYWcvcGx1Z2luJ1xuaW1wb3J0IGRyYWcgZnJvbSAnLi4vZHJhZy9wbHVnaW4nXG4vKiBlc2xpbnQtZW5hYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzICovXG5cbmltcG9ydCB7IERyb3BFdmVudCB9IGZyb20gJy4vRHJvcEV2ZW50J1xuXG5leHBvcnQgdHlwZSBEcm9wRnVuY3Rpb25DaGVja2VyID0gKFxuICBkcmFnRXZlbnQ6IGFueSwgLy8gcmVsYXRlZCBkcmFnIG9wZXJhdGlvblxuICBldmVudDogYW55LCAvLyB0b3VjaCBvciBtb3VzZSBFdmVudEVtaXR0ZXJcbiAgZHJvcHBlZDogYm9vbGVhbiwgLy8gZGVmYXVsdCBjaGVja2VyIHJlc3VsdFxuICBkcm9wem9uZTogSW50ZXJhY3RhYmxlLCAvLyBkcm9wem9uZSBpbnRlcmFjdGFibGVcbiAgZHJvcEVsZW1lbnQ6IEVsZW1lbnQsIC8vIGRyb3Agem9uZSBlbGVtZW50XG4gIGRyYWdnYWJsZTogSW50ZXJhY3RhYmxlLCAvLyBkcmFnZ2FibGUncyBJbnRlcmFjdGFibGVcbiAgZHJhZ2dhYmxlRWxlbWVudDogRWxlbWVudCwgLy8gZHJhZ2dlZCBlbGVtZW50XG4pID0+IGJvb2xlYW5cblxuZXhwb3J0IGludGVyZmFjZSBEcm9wem9uZU9wdGlvbnMgZXh0ZW5kcyBQZXJBY3Rpb25EZWZhdWx0cyB7XG4gIGFjY2VwdD86XG4gICAgfCBzdHJpbmdcbiAgICB8IEVsZW1lbnRcbiAgICB8ICgoeyBkcm9wem9uZSwgZHJhZ2dhYmxlRWxlbWVudCB9OiB7IGRyb3B6b25lOiBJbnRlcmFjdGFibGU7IGRyYWdnYWJsZUVsZW1lbnQ6IEVsZW1lbnQgfSkgPT4gYm9vbGVhbilcbiAgLy8gSG93IHRoZSBvdmVybGFwIGlzIGNoZWNrZWQgb24gdGhlIGRyb3Agem9uZVxuICBvdmVybGFwPzogJ3BvaW50ZXInIHwgJ2NlbnRlcicgfCBudW1iZXJcbiAgY2hlY2tlcj86IERyb3BGdW5jdGlvbkNoZWNrZXJcblxuICBvbmRyb3BhY3RpdmF0ZT86IExpc3RlbmVyc0FyZ1xuICBvbmRyb3BkZWFjdGl2YXRlPzogTGlzdGVuZXJzQXJnXG4gIG9uZHJhZ2VudGVyPzogTGlzdGVuZXJzQXJnXG4gIG9uZHJhZ2xlYXZlPzogTGlzdGVuZXJzQXJnXG4gIG9uZHJvcG1vdmU/OiBMaXN0ZW5lcnNBcmdcbiAgb25kcm9wPzogTGlzdGVuZXJzQXJnXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJvcHpvbmVNZXRob2Qge1xuICAodGhpczogSW50ZXJhY3RhYmxlLCBvcHRpb25zOiBEcm9wem9uZU9wdGlvbnMgfCBib29sZWFuKTogSW50ZXJhY3RhYmxlXG4gICgpOiBEcm9wem9uZU9wdGlvbnNcbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGFibGUge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBpbnRlcmFjdCgnLmRyb3AnKS5kcm9wem9uZSh7XG4gICAgICogICBhY2NlcHQ6ICcuY2FuLWRyb3AnIHx8IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaW5nbGUtZHJvcCcpLFxuICAgICAqICAgb3ZlcmxhcDogJ3BvaW50ZXInIHx8ICdjZW50ZXInIHx8IHplcm9Ub09uZVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFJldHVybnMgb3Igc2V0cyB3aGV0aGVyIGRyYWdnYWJsZXMgY2FuIGJlIGRyb3BwZWQgb250byB0aGlzIHRhcmdldCB0b1xuICAgICAqIHRyaWdnZXIgZHJvcCBldmVudHNcbiAgICAgKlxuICAgICAqIERyb3B6b25lcyBjYW4gcmVjZWl2ZSB0aGUgZm9sbG93aW5nIGV2ZW50czpcbiAgICAgKiAgLSBgZHJvcGFjdGl2YXRlYCBhbmQgYGRyb3BkZWFjdGl2YXRlYCB3aGVuIGFuIGFjY2VwdGFibGUgZHJhZyBzdGFydHMgYW5kIGVuZHNcbiAgICAgKiAgLSBgZHJhZ2VudGVyYCBhbmQgYGRyYWdsZWF2ZWAgd2hlbiBhIGRyYWdnYWJsZSBlbnRlcnMgYW5kIGxlYXZlcyB0aGUgZHJvcHpvbmVcbiAgICAgKiAgLSBgZHJhZ21vdmVgIHdoZW4gYSBkcmFnZ2FibGUgdGhhdCBoYXMgZW50ZXJlZCB0aGUgZHJvcHpvbmUgaXMgbW92ZWRcbiAgICAgKiAgLSBgZHJvcGAgd2hlbiBhIGRyYWdnYWJsZSBpcyBkcm9wcGVkIGludG8gdGhpcyBkcm9wem9uZVxuICAgICAqXG4gICAgICogVXNlIHRoZSBgYWNjZXB0YCBvcHRpb24gdG8gYWxsb3cgb25seSBlbGVtZW50cyB0aGF0IG1hdGNoIHRoZSBnaXZlbiBDU1NcbiAgICAgKiBzZWxlY3RvciBvciBlbGVtZW50LiBUaGUgdmFsdWUgY2FuIGJlOlxuICAgICAqXG4gICAgICogIC0gKiphbiBFbGVtZW50KiogLSBvbmx5IHRoYXQgZWxlbWVudCBjYW4gYmUgZHJvcHBlZCBpbnRvIHRoaXMgZHJvcHpvbmUuXG4gICAgICogIC0gKiphIHN0cmluZyoqLCAtIHRoZSBlbGVtZW50IGJlaW5nIGRyYWdnZWQgbXVzdCBtYXRjaCBpdCBhcyBhIENTUyBzZWxlY3Rvci5cbiAgICAgKiAgLSAqKmBudWxsYCoqIC0gYWNjZXB0IG9wdGlvbnMgaXMgY2xlYXJlZCAtIGl0IGFjY2VwdHMgYW55IGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBVc2UgdGhlIGBvdmVybGFwYCBvcHRpb24gdG8gc2V0IGhvdyBkcm9wcyBhcmUgY2hlY2tlZCBmb3IuIFRoZSBhbGxvd2VkXG4gICAgICogdmFsdWVzIGFyZTpcbiAgICAgKlxuICAgICAqICAgLSBgJ3BvaW50ZXInYCwgdGhlIHBvaW50ZXIgbXVzdCBiZSBvdmVyIHRoZSBkcm9wem9uZSAoZGVmYXVsdClcbiAgICAgKiAgIC0gYCdjZW50ZXInYCwgdGhlIGRyYWdnYWJsZSBlbGVtZW50J3MgY2VudGVyIG11c3QgYmUgb3ZlciB0aGUgZHJvcHpvbmVcbiAgICAgKiAgIC0gYSBudW1iZXIgZnJvbSAwLTEgd2hpY2ggaXMgdGhlIGAoaW50ZXJzZWN0aW9uIGFyZWEpIC8gKGRyYWdnYWJsZSBhcmVhKWAuXG4gICAgICogICBlLmcuIGAwLjVgIGZvciBkcm9wIHRvIGhhcHBlbiB3aGVuIGhhbGYgb2YgdGhlIGFyZWEgb2YgdGhlIGRyYWdnYWJsZSBpc1xuICAgICAqICAgb3ZlciB0aGUgZHJvcHpvbmVcbiAgICAgKlxuICAgICAqIFVzZSB0aGUgYGNoZWNrZXJgIG9wdGlvbiB0byBzcGVjaWZ5IGEgZnVuY3Rpb24gdG8gY2hlY2sgaWYgYSBkcmFnZ2VkIGVsZW1lbnRcbiAgICAgKiBpcyBvdmVyIHRoaXMgSW50ZXJhY3RhYmxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgbmV3IG9wdGlvbnMgdG8gYmUgc2V0XG4gICAgICovXG4gICAgZHJvcHpvbmUob3B0aW9uczogRHJvcHpvbmVPcHRpb25zIHwgYm9vbGVhbik6IEludGVyYWN0YWJsZVxuICAgIC8qKiBAcmV0dXJucyBUaGUgY3VycmVudCBzZXR0aW5nICovXG4gICAgZHJvcHpvbmUoKTogRHJvcHpvbmVPcHRpb25zXG5cbiAgICAvKipcbiAgICAgKiBgYGBqc1xuICAgICAqIGludGVyYWN0KHRhcmdldClcbiAgICAgKiAuZHJvcENoZWNrZXIoZnVuY3Rpb24oZHJhZ0V2ZW50LCAgICAgICAgIC8vIHJlbGF0ZWQgZHJhZ21vdmUgb3IgZHJhZ2VuZCBldmVudFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICBldmVudCwgICAgICAgICAgICAgLy8gVG91Y2hFdmVudC9Qb2ludGVyRXZlbnQvTW91c2VFdmVudFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICBkcm9wcGVkLCAgICAgICAgICAgLy8gYm9vbCByZXN1bHQgb2YgdGhlIGRlZmF1bHQgY2hlY2tlclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICBkcm9wem9uZSwgICAgICAgICAgLy8gZHJvcHpvbmUgSW50ZXJhY3RhYmxlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgIGRyb3BFbGVtZW50LCAgICAgICAvLyBkcm9wem9uZSBlbGVtbnRcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlLCAgICAgICAgIC8vIGRyYWdnYWJsZSBJbnRlcmFjdGFibGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlRWxlbWVudCkgey8vIGRyYWdnYWJsZSBlbGVtZW50XG4gICAgICpcbiAgICAgKiAgIHJldHVybiBkcm9wcGVkICYmIGV2ZW50LnRhcmdldC5oYXNBdHRyaWJ1dGUoJ2FsbG93LWRyb3AnKVxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBkcm9wQ2hlY2soXG4gICAgICBkcmFnRXZlbnQ6IEludGVyYWN0RXZlbnQsXG4gICAgICBldmVudDogUG9pbnRlckV2ZW50VHlwZSxcbiAgICAgIGRyYWdnYWJsZTogSW50ZXJhY3RhYmxlLFxuICAgICAgZHJhZ2dhYmxlRWxlbWVudDogRWxlbWVudCxcbiAgICAgIGRyb3BFbGVtZW46IEVsZW1lbnQsXG4gICAgICByZWN0OiBhbnksXG4gICAgKTogYm9vbGVhblxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGlvbiB7XG4gICAgZHJvcFN0YXRlPzogRHJvcFN0YXRlXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RFdmVudCcge1xuICBpbnRlcmZhY2UgSW50ZXJhY3RFdmVudCB7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHByZXZEcm9wem9uZT86IEludGVyYWN0YWJsZVxuICAgIGRyb3B6b25lPzogSW50ZXJhY3RhYmxlXG4gICAgZHJhZ0VudGVyPzogRWxlbWVudFxuICAgIGRyYWdMZWF2ZT86IEVsZW1lbnRcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJyB7XG4gIGludGVyZmFjZSBBY3Rpb25EZWZhdWx0cyB7XG4gICAgZHJvcDogRHJvcHpvbmVPcHRpb25zXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnIHtcbiAgaW50ZXJmYWNlIFNjb3BlIHtcbiAgICBkeW5hbWljRHJvcD86IGJvb2xlYW5cbiAgfVxuXG4gIGludGVyZmFjZSBTaWduYWxBcmdzIHtcbiAgICAnYWN0aW9ucy9kcm9wOnN0YXJ0JzogRHJvcFNpZ25hbEFyZ1xuICAgICdhY3Rpb25zL2Ryb3A6bW92ZSc6IERyb3BTaWduYWxBcmdcbiAgICAnYWN0aW9ucy9kcm9wOmVuZCc6IERyb3BTaWduYWxBcmdcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS90eXBlcycge1xuICBpbnRlcmZhY2UgQWN0aW9uTWFwIHtcbiAgICBkcm9wPzogdHlwZW9mIGRyb3BcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdFN0YXRpYycge1xuICBpbnRlcmZhY2UgSW50ZXJhY3RTdGF0aWMge1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgb3Igc2V0cyB3aGV0aGVyIHRoZSBkaW1lbnNpb25zIG9mIGRyb3B6b25lIGVsZW1lbnRzIGFyZSBjYWxjdWxhdGVkXG4gICAgICogb24gZXZlcnkgZHJhZ21vdmUgb3Igb25seSBvbiBkcmFnc3RhcnQgZm9yIHRoZSBkZWZhdWx0IGRyb3BDaGVja2VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtuZXdWYWx1ZV0gVHJ1ZSB0byBjaGVjayBvbiBlYWNoIG1vdmUuIEZhbHNlIHRvIGNoZWNrIG9ubHlcbiAgICAgKiBiZWZvcmUgc3RhcnRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFuIHwgaW50ZXJhY3R9IFRoZSBjdXJyZW50IHNldHRpbmcgb3IgaW50ZXJhY3RcbiAgICAgKi9cbiAgICBkeW5hbWljRHJvcDogKG5ld1ZhbHVlPzogYm9vbGVhbikgPT4gYm9vbGVhbiB8IHRoaXNcbiAgfVxufVxuXG5pbnRlcmZhY2UgRHJvcFNpZ25hbEFyZyB7XG4gIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjwnZHJhZyc+XG4gIGRyYWdFdmVudDogRHJhZ0V2ZW50XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWN0aXZlRHJvcCB7XG4gIGRyb3B6b25lOiBJbnRlcmFjdGFibGVcbiAgZWxlbWVudDogRWxlbWVudFxuICByZWN0OiBSZWN0XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJvcFN0YXRlIHtcbiAgY3VyOiB7XG4gICAgLy8gdGhlIGRyb3B6b25lIGEgZHJhZyB0YXJnZXQgbWlnaHQgYmUgZHJvcHBlZCBpbnRvXG4gICAgZHJvcHpvbmU6IEludGVyYWN0YWJsZVxuICAgIC8vIHRoZSBlbGVtZW50IGF0IHRoZSB0aW1lIG9mIGNoZWNraW5nXG4gICAgZWxlbWVudDogRWxlbWVudFxuICB9XG4gIHByZXY6IHtcbiAgICAvLyB0aGUgZHJvcHpvbmUgdGhhdCB3YXMgcmVjZW50bHkgZHJhZ2dlZCBhd2F5IGZyb21cbiAgICBkcm9wem9uZTogSW50ZXJhY3RhYmxlXG4gICAgLy8gdGhlIGVsZW1lbnQgYXQgdGhlIHRpbWUgb2YgY2hlY2tpbmdcbiAgICBlbGVtZW50OiBFbGVtZW50XG4gIH1cbiAgLy8gd2hlYXRoZXIgdGhlIHBvdGVudGlhbCBkcm9wIHdhcyByZWplY3RlZCBmcm9tIGEgbGlzdGVuZXJcbiAgcmVqZWN0ZWQ6IGJvb2xlYW5cbiAgLy8gdGhlIGRyb3AgZXZlbnRzIHJlbGF0ZWQgdG8gdGhlIGN1cnJlbnQgZHJhZyBldmVudFxuICBldmVudHM6IEZpcmVkRHJvcEV2ZW50c1xuICBhY3RpdmVEcm9wczogQWN0aXZlRHJvcFtdXG59XG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgYWN0aW9ucywgaW50ZXJhY3RTdGF0aWM6IGludGVyYWN0LCBJbnRlcmFjdGFibGUsIGRlZmF1bHRzIH0gPSBzY29wZVxuXG4gIHNjb3BlLnVzZVBsdWdpbihkcmFnKVxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUuZHJvcHpvbmUgPSBmdW5jdGlvbiAodGhpczogSW50ZXJhY3RhYmxlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGRyb3B6b25lTWV0aG9kKHRoaXMsIG9wdGlvbnMpXG4gIH0gYXMgSW50ZXJhY3RhYmxlWydkcm9wem9uZSddXG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5kcm9wQ2hlY2sgPSBmdW5jdGlvbiAoXG4gICAgdGhpczogSW50ZXJhY3RhYmxlLFxuICAgIGRyYWdFdmVudCxcbiAgICBldmVudCxcbiAgICBkcmFnZ2FibGUsXG4gICAgZHJhZ2dhYmxlRWxlbWVudCxcbiAgICBkcm9wRWxlbWVudCxcbiAgICByZWN0LFxuICApIHtcbiAgICByZXR1cm4gZHJvcENoZWNrTWV0aG9kKHRoaXMsIGRyYWdFdmVudCwgZXZlbnQsIGRyYWdnYWJsZSwgZHJhZ2dhYmxlRWxlbWVudCwgZHJvcEVsZW1lbnQsIHJlY3QpXG4gIH1cblxuICBpbnRlcmFjdC5keW5hbWljRHJvcCA9IGZ1bmN0aW9uIChuZXdWYWx1ZT86IGJvb2xlYW4pIHtcbiAgICBpZiAoaXMuYm9vbChuZXdWYWx1ZSkpIHtcbiAgICAgIC8vIGlmIChkcmFnZ2luZyAmJiBzY29wZS5keW5hbWljRHJvcCAhPT0gbmV3VmFsdWUgJiYgIW5ld1ZhbHVlKSB7XG4gICAgICAvLyAgY2FsY1JlY3RzKGRyb3B6b25lcylcbiAgICAgIC8vIH1cblxuICAgICAgc2NvcGUuZHluYW1pY0Ryb3AgPSBuZXdWYWx1ZVxuXG4gICAgICByZXR1cm4gaW50ZXJhY3RcbiAgICB9XG4gICAgcmV0dXJuIHNjb3BlLmR5bmFtaWNEcm9wIVxuICB9XG5cbiAgZXh0ZW5kKGFjdGlvbnMucGhhc2VsZXNzVHlwZXMsIHtcbiAgICBkcmFnZW50ZXI6IHRydWUsXG4gICAgZHJhZ2xlYXZlOiB0cnVlLFxuICAgIGRyb3BhY3RpdmF0ZTogdHJ1ZSxcbiAgICBkcm9wZGVhY3RpdmF0ZTogdHJ1ZSxcbiAgICBkcm9wbW92ZTogdHJ1ZSxcbiAgICBkcm9wOiB0cnVlLFxuICB9KVxuICBhY3Rpb25zLm1ldGhvZERpY3QuZHJvcCA9ICdkcm9wem9uZSdcblxuICBzY29wZS5keW5hbWljRHJvcCA9IGZhbHNlXG5cbiAgZGVmYXVsdHMuYWN0aW9ucy5kcm9wID0gZHJvcC5kZWZhdWx0c1xufVxuXG5mdW5jdGlvbiBjb2xsZWN0RHJvcHpvbmVzKHsgaW50ZXJhY3RhYmxlcyB9OiBTY29wZSwgZHJhZ2dhYmxlRWxlbWVudDogRWxlbWVudCkge1xuICBjb25zdCBkcm9wczogQWN0aXZlRHJvcFtdID0gW11cblxuICAvLyBjb2xsZWN0IGFsbCBkcm9wem9uZXMgYW5kIHRoZWlyIGVsZW1lbnRzIHdoaWNoIHF1YWxpZnkgZm9yIGEgZHJvcFxuICBmb3IgKGNvbnN0IGRyb3B6b25lIG9mIGludGVyYWN0YWJsZXMubGlzdCkge1xuICAgIGlmICghZHJvcHpvbmUub3B0aW9ucy5kcm9wLmVuYWJsZWQpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgY29uc3QgYWNjZXB0ID0gZHJvcHpvbmUub3B0aW9ucy5kcm9wLmFjY2VwdFxuXG4gICAgLy8gdGVzdCB0aGUgZHJhZ2dhYmxlIGRyYWdnYWJsZUVsZW1lbnQgYWdhaW5zdCB0aGUgZHJvcHpvbmUncyBhY2NlcHQgc2V0dGluZ1xuICAgIGlmIChcbiAgICAgIChpcy5lbGVtZW50KGFjY2VwdCkgJiYgYWNjZXB0ICE9PSBkcmFnZ2FibGVFbGVtZW50KSB8fFxuICAgICAgKGlzLnN0cmluZyhhY2NlcHQpICYmICFkb21VdGlscy5tYXRjaGVzU2VsZWN0b3IoZHJhZ2dhYmxlRWxlbWVudCwgYWNjZXB0KSkgfHxcbiAgICAgIChpcy5mdW5jKGFjY2VwdCkgJiYgIWFjY2VwdCh7IGRyb3B6b25lLCBkcmFnZ2FibGVFbGVtZW50IH0pKVxuICAgICkge1xuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGRyb3B6b25lRWxlbWVudCBvZiBkcm9wem9uZS5nZXRBbGxFbGVtZW50cygpKSB7XG4gICAgICBpZiAoZHJvcHpvbmVFbGVtZW50ICE9PSBkcmFnZ2FibGVFbGVtZW50KSB7XG4gICAgICAgIGRyb3BzLnB1c2goe1xuICAgICAgICAgIGRyb3B6b25lLFxuICAgICAgICAgIGVsZW1lbnQ6IGRyb3B6b25lRWxlbWVudCxcbiAgICAgICAgICByZWN0OiBkcm9wem9uZS5nZXRSZWN0KGRyb3B6b25lRWxlbWVudCksXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRyb3BzXG59XG5cbmZ1bmN0aW9uIGZpcmVBY3RpdmF0aW9uRXZlbnRzKGFjdGl2ZURyb3BzOiBBY3RpdmVEcm9wW10sIGV2ZW50OiBEcm9wRXZlbnQpIHtcbiAgLy8gbG9vcCB0aHJvdWdoIGFsbCBhY3RpdmUgZHJvcHpvbmVzIGFuZCB0cmlnZ2VyIGV2ZW50XG4gIGZvciAoY29uc3QgeyBkcm9wem9uZSwgZWxlbWVudCB9IG9mIGFjdGl2ZURyb3BzLnNsaWNlKCkpIHtcbiAgICBldmVudC5kcm9wem9uZSA9IGRyb3B6b25lXG5cbiAgICAvLyBzZXQgY3VycmVudCBlbGVtZW50IGFzIGV2ZW50IHRhcmdldFxuICAgIGV2ZW50LnRhcmdldCA9IGVsZW1lbnRcbiAgICBkcm9wem9uZS5maXJlKGV2ZW50KVxuICAgIGV2ZW50LnByb3BhZ2F0aW9uU3RvcHBlZCA9IGV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IGZhbHNlXG4gIH1cbn1cblxuLy8gcmV0dXJuIGEgbmV3IGFycmF5IG9mIHBvc3NpYmxlIGRyb3BzLiBnZXRBY3RpdmVEcm9wcyBzaG91bGQgYWx3YXlzIGJlXG4vLyBjYWxsZWQgd2hlbiBhIGRyYWcgaGFzIGp1c3Qgc3RhcnRlZCBvciBhIGRyYWcgZXZlbnQgaGFwcGVucyB3aGlsZVxuLy8gZHluYW1pY0Ryb3AgaXMgdHJ1ZVxuZnVuY3Rpb24gZ2V0QWN0aXZlRHJvcHMoc2NvcGU6IFNjb3BlLCBkcmFnRWxlbWVudDogRWxlbWVudCkge1xuICAvLyBnZXQgZHJvcHpvbmVzIGFuZCB0aGVpciBlbGVtZW50cyB0aGF0IGNvdWxkIHJlY2VpdmUgdGhlIGRyYWdnYWJsZVxuICBjb25zdCBhY3RpdmVEcm9wcyA9IGNvbGxlY3REcm9wem9uZXMoc2NvcGUsIGRyYWdFbGVtZW50KVxuXG4gIGZvciAoY29uc3QgYWN0aXZlRHJvcCBvZiBhY3RpdmVEcm9wcykge1xuICAgIGFjdGl2ZURyb3AucmVjdCA9IGFjdGl2ZURyb3AuZHJvcHpvbmUuZ2V0UmVjdChhY3RpdmVEcm9wLmVsZW1lbnQpXG4gIH1cblxuICByZXR1cm4gYWN0aXZlRHJvcHNcbn1cblxuZnVuY3Rpb24gZ2V0RHJvcChcbiAgeyBkcm9wU3RhdGUsIGludGVyYWN0YWJsZTogZHJhZ2dhYmxlLCBlbGVtZW50OiBkcmFnRWxlbWVudCB9OiBJbnRlcmFjdGlvbixcbiAgZHJhZ0V2ZW50LFxuICBwb2ludGVyRXZlbnQsXG4pIHtcbiAgY29uc3QgdmFsaWREcm9wczogRWxlbWVudFtdID0gW11cblxuICAvLyBjb2xsZWN0IGFsbCBkcm9wem9uZXMgYW5kIHRoZWlyIGVsZW1lbnRzIHdoaWNoIHF1YWxpZnkgZm9yIGEgZHJvcFxuICBmb3IgKGNvbnN0IHsgZHJvcHpvbmUsIGVsZW1lbnQ6IGRyb3B6b25lRWxlbWVudCwgcmVjdCB9IG9mIGRyb3BTdGF0ZS5hY3RpdmVEcm9wcykge1xuICAgIGNvbnN0IGlzVmFsaWQgPSBkcm9wem9uZS5kcm9wQ2hlY2soXG4gICAgICBkcmFnRXZlbnQsXG4gICAgICBwb2ludGVyRXZlbnQsXG4gICAgICBkcmFnZ2FibGUhLFxuICAgICAgZHJhZ0VsZW1lbnQhLFxuICAgICAgZHJvcHpvbmVFbGVtZW50LFxuICAgICAgcmVjdCxcbiAgICApXG4gICAgdmFsaWREcm9wcy5wdXNoKGlzVmFsaWQgPyBkcm9wem9uZUVsZW1lbnQgOiBudWxsKVxuICB9XG5cbiAgLy8gZ2V0IHRoZSBtb3N0IGFwcHJvcHJpYXRlIGRyb3B6b25lIGJhc2VkIG9uIERPTSBkZXB0aCBhbmQgb3JkZXJcbiAgY29uc3QgZHJvcEluZGV4ID0gZG9tVXRpbHMuaW5kZXhPZkRlZXBlc3RFbGVtZW50KHZhbGlkRHJvcHMpXG5cbiAgcmV0dXJuIGRyb3BTdGF0ZSEuYWN0aXZlRHJvcHNbZHJvcEluZGV4XSB8fCBudWxsXG59XG5cbmZ1bmN0aW9uIGdldERyb3BFdmVudHMoaW50ZXJhY3Rpb246IEludGVyYWN0aW9uLCBfcG9pbnRlckV2ZW50LCBkcmFnRXZlbnQ6IERyYWdFdmVudCkge1xuICBjb25zdCBkcm9wU3RhdGUgPSBpbnRlcmFjdGlvbi5kcm9wU3RhdGUhXG4gIGNvbnN0IGRyb3BFdmVudHM6IFJlY29yZDxzdHJpbmcsIERyb3BFdmVudCB8IG51bGw+ID0ge1xuICAgIGVudGVyOiBudWxsLFxuICAgIGxlYXZlOiBudWxsLFxuICAgIGFjdGl2YXRlOiBudWxsLFxuICAgIGRlYWN0aXZhdGU6IG51bGwsXG4gICAgbW92ZTogbnVsbCxcbiAgICBkcm9wOiBudWxsLFxuICB9XG5cbiAgaWYgKGRyYWdFdmVudC50eXBlID09PSAnZHJhZ3N0YXJ0Jykge1xuICAgIGRyb3BFdmVudHMuYWN0aXZhdGUgPSBuZXcgRHJvcEV2ZW50KGRyb3BTdGF0ZSwgZHJhZ0V2ZW50LCAnZHJvcGFjdGl2YXRlJylcblxuICAgIGRyb3BFdmVudHMuYWN0aXZhdGUudGFyZ2V0ID0gbnVsbCBhcyBuZXZlclxuICAgIGRyb3BFdmVudHMuYWN0aXZhdGUuZHJvcHpvbmUgPSBudWxsIGFzIG5ldmVyXG4gIH1cbiAgaWYgKGRyYWdFdmVudC50eXBlID09PSAnZHJhZ2VuZCcpIHtcbiAgICBkcm9wRXZlbnRzLmRlYWN0aXZhdGUgPSBuZXcgRHJvcEV2ZW50KGRyb3BTdGF0ZSwgZHJhZ0V2ZW50LCAnZHJvcGRlYWN0aXZhdGUnKVxuXG4gICAgZHJvcEV2ZW50cy5kZWFjdGl2YXRlLnRhcmdldCA9IG51bGwgYXMgbmV2ZXJcbiAgICBkcm9wRXZlbnRzLmRlYWN0aXZhdGUuZHJvcHpvbmUgPSBudWxsIGFzIG5ldmVyXG4gIH1cblxuICBpZiAoZHJvcFN0YXRlLnJlamVjdGVkKSB7XG4gICAgcmV0dXJuIGRyb3BFdmVudHNcbiAgfVxuXG4gIGlmIChkcm9wU3RhdGUuY3VyLmVsZW1lbnQgIT09IGRyb3BTdGF0ZS5wcmV2LmVsZW1lbnQpIHtcbiAgICAvLyBpZiB0aGVyZSB3YXMgYSBwcmV2aW91cyBkcm9wem9uZSwgY3JlYXRlIGEgZHJhZ2xlYXZlIGV2ZW50XG4gICAgaWYgKGRyb3BTdGF0ZS5wcmV2LmRyb3B6b25lKSB7XG4gICAgICBkcm9wRXZlbnRzLmxlYXZlID0gbmV3IERyb3BFdmVudChkcm9wU3RhdGUsIGRyYWdFdmVudCwgJ2RyYWdsZWF2ZScpXG5cbiAgICAgIGRyYWdFdmVudC5kcmFnTGVhdmUgPSBkcm9wRXZlbnRzLmxlYXZlLnRhcmdldCA9IGRyb3BTdGF0ZS5wcmV2LmVsZW1lbnRcbiAgICAgIGRyYWdFdmVudC5wcmV2RHJvcHpvbmUgPSBkcm9wRXZlbnRzLmxlYXZlLmRyb3B6b25lID0gZHJvcFN0YXRlLnByZXYuZHJvcHpvbmVcbiAgICB9XG4gICAgLy8gaWYgZHJvcHpvbmUgaXMgbm90IG51bGwsIGNyZWF0ZSBhIGRyYWdlbnRlciBldmVudFxuICAgIGlmIChkcm9wU3RhdGUuY3VyLmRyb3B6b25lKSB7XG4gICAgICBkcm9wRXZlbnRzLmVudGVyID0gbmV3IERyb3BFdmVudChkcm9wU3RhdGUsIGRyYWdFdmVudCwgJ2RyYWdlbnRlcicpXG5cbiAgICAgIGRyYWdFdmVudC5kcmFnRW50ZXIgPSBkcm9wU3RhdGUuY3VyLmVsZW1lbnRcbiAgICAgIGRyYWdFdmVudC5kcm9wem9uZSA9IGRyb3BTdGF0ZS5jdXIuZHJvcHpvbmVcbiAgICB9XG4gIH1cblxuICBpZiAoZHJhZ0V2ZW50LnR5cGUgPT09ICdkcmFnZW5kJyAmJiBkcm9wU3RhdGUuY3VyLmRyb3B6b25lKSB7XG4gICAgZHJvcEV2ZW50cy5kcm9wID0gbmV3IERyb3BFdmVudChkcm9wU3RhdGUsIGRyYWdFdmVudCwgJ2Ryb3AnKVxuXG4gICAgZHJhZ0V2ZW50LmRyb3B6b25lID0gZHJvcFN0YXRlLmN1ci5kcm9wem9uZVxuICAgIGRyYWdFdmVudC5yZWxhdGVkVGFyZ2V0ID0gZHJvcFN0YXRlLmN1ci5lbGVtZW50XG4gIH1cbiAgaWYgKGRyYWdFdmVudC50eXBlID09PSAnZHJhZ21vdmUnICYmIGRyb3BTdGF0ZS5jdXIuZHJvcHpvbmUpIHtcbiAgICBkcm9wRXZlbnRzLm1vdmUgPSBuZXcgRHJvcEV2ZW50KGRyb3BTdGF0ZSwgZHJhZ0V2ZW50LCAnZHJvcG1vdmUnKVxuXG4gICAgZHJhZ0V2ZW50LmRyb3B6b25lID0gZHJvcFN0YXRlLmN1ci5kcm9wem9uZVxuICB9XG5cbiAgcmV0dXJuIGRyb3BFdmVudHNcbn1cblxudHlwZSBGaXJlZERyb3BFdmVudHMgPSBQYXJ0aWFsPFxuICBSZWNvcmQ8J2xlYXZlJyB8ICdlbnRlcicgfCAnbW92ZScgfCAnZHJvcCcgfCAnYWN0aXZhdGUnIHwgJ2RlYWN0aXZhdGUnLCBEcm9wRXZlbnQ+XG4+XG5cbmZ1bmN0aW9uIGZpcmVEcm9wRXZlbnRzKGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiwgZXZlbnRzOiBGaXJlZERyb3BFdmVudHMpIHtcbiAgY29uc3QgZHJvcFN0YXRlID0gaW50ZXJhY3Rpb24uZHJvcFN0YXRlIVxuICBjb25zdCB7IGFjdGl2ZURyb3BzLCBjdXIsIHByZXYgfSA9IGRyb3BTdGF0ZVxuXG4gIGlmIChldmVudHMubGVhdmUpIHtcbiAgICBwcmV2LmRyb3B6b25lLmZpcmUoZXZlbnRzLmxlYXZlKVxuICB9XG4gIGlmIChldmVudHMuZW50ZXIpIHtcbiAgICBjdXIuZHJvcHpvbmUuZmlyZShldmVudHMuZW50ZXIpXG4gIH1cbiAgaWYgKGV2ZW50cy5tb3ZlKSB7XG4gICAgY3VyLmRyb3B6b25lLmZpcmUoZXZlbnRzLm1vdmUpXG4gIH1cbiAgaWYgKGV2ZW50cy5kcm9wKSB7XG4gICAgY3VyLmRyb3B6b25lLmZpcmUoZXZlbnRzLmRyb3ApXG4gIH1cblxuICBpZiAoZXZlbnRzLmRlYWN0aXZhdGUpIHtcbiAgICBmaXJlQWN0aXZhdGlvbkV2ZW50cyhhY3RpdmVEcm9wcywgZXZlbnRzLmRlYWN0aXZhdGUpXG4gIH1cblxuICBkcm9wU3RhdGUucHJldi5kcm9wem9uZSA9IGN1ci5kcm9wem9uZVxuICBkcm9wU3RhdGUucHJldi5lbGVtZW50ID0gY3VyLmVsZW1lbnRcbn1cblxuZnVuY3Rpb24gb25FdmVudENyZWF0ZWQoeyBpbnRlcmFjdGlvbiwgaUV2ZW50LCBldmVudCB9OiBEb1BoYXNlQXJnPCdkcmFnJywgRXZlbnRQaGFzZT4sIHNjb3BlOiBTY29wZSkge1xuICBpZiAoaUV2ZW50LnR5cGUgIT09ICdkcmFnbW92ZScgJiYgaUV2ZW50LnR5cGUgIT09ICdkcmFnZW5kJykge1xuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgZHJvcFN0YXRlID0gaW50ZXJhY3Rpb24uZHJvcFN0YXRlIVxuXG4gIGlmIChzY29wZS5keW5hbWljRHJvcCkge1xuICAgIGRyb3BTdGF0ZS5hY3RpdmVEcm9wcyA9IGdldEFjdGl2ZURyb3BzKHNjb3BlLCBpbnRlcmFjdGlvbi5lbGVtZW50ISlcbiAgfVxuXG4gIGNvbnN0IGRyYWdFdmVudCA9IGlFdmVudFxuICBjb25zdCBkcm9wUmVzdWx0ID0gZ2V0RHJvcChpbnRlcmFjdGlvbiwgZHJhZ0V2ZW50LCBldmVudClcblxuICAvLyB1cGRhdGUgcmVqZWN0ZWQgc3RhdHVzXG4gIGRyb3BTdGF0ZS5yZWplY3RlZCA9XG4gICAgZHJvcFN0YXRlLnJlamVjdGVkICYmXG4gICAgISFkcm9wUmVzdWx0ICYmXG4gICAgZHJvcFJlc3VsdC5kcm9wem9uZSA9PT0gZHJvcFN0YXRlLmN1ci5kcm9wem9uZSAmJlxuICAgIGRyb3BSZXN1bHQuZWxlbWVudCA9PT0gZHJvcFN0YXRlLmN1ci5lbGVtZW50XG5cbiAgZHJvcFN0YXRlLmN1ci5kcm9wem9uZSA9IGRyb3BSZXN1bHQgJiYgZHJvcFJlc3VsdC5kcm9wem9uZVxuICBkcm9wU3RhdGUuY3VyLmVsZW1lbnQgPSBkcm9wUmVzdWx0ICYmIGRyb3BSZXN1bHQuZWxlbWVudFxuXG4gIGRyb3BTdGF0ZS5ldmVudHMgPSBnZXREcm9wRXZlbnRzKGludGVyYWN0aW9uLCBldmVudCwgZHJhZ0V2ZW50KVxufVxuXG5mdW5jdGlvbiBkcm9wem9uZU1ldGhvZChpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSk6IERyb3B6b25lT3B0aW9uc1xuZnVuY3Rpb24gZHJvcHpvbmVNZXRob2QoaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUsIG9wdGlvbnM6IERyb3B6b25lT3B0aW9ucyB8IGJvb2xlYW4pOiBJbnRlcmFjdGFibGVcbmZ1bmN0aW9uIGRyb3B6b25lTWV0aG9kKGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlLCBvcHRpb25zPzogRHJvcHpvbmVPcHRpb25zIHwgYm9vbGVhbikge1xuICBpZiAoaXMub2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJvcC5lbmFibGVkID0gb3B0aW9ucy5lbmFibGVkICE9PSBmYWxzZVxuXG4gICAgaWYgKG9wdGlvbnMubGlzdGVuZXJzKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplTGlzdGVuZXJzKG9wdGlvbnMubGlzdGVuZXJzKVxuICAgICAgLy8gcmVuYW1lICdkcm9wJyB0byAnJyBhcyBpdCB3aWxsIGJlIHByZWZpeGVkIHdpdGggJ2Ryb3AnXG4gICAgICBjb25zdCBjb3JyZWN0ZWQgPSBPYmplY3Qua2V5cyhub3JtYWxpemVkKS5yZWR1Y2UoKGFjYywgdHlwZSkgPT4ge1xuICAgICAgICBjb25zdCBjb3JyZWN0ZWRUeXBlID0gL14oZW50ZXJ8bGVhdmUpLy50ZXN0KHR5cGUpXG4gICAgICAgICAgPyBgZHJhZyR7dHlwZX1gXG4gICAgICAgICAgOiAvXihhY3RpdmF0ZXxkZWFjdGl2YXRlfG1vdmUpLy50ZXN0KHR5cGUpXG4gICAgICAgICAgICA/IGBkcm9wJHt0eXBlfWBcbiAgICAgICAgICAgIDogdHlwZVxuXG4gICAgICAgIGFjY1tjb3JyZWN0ZWRUeXBlXSA9IG5vcm1hbGl6ZWRbdHlwZV1cblxuICAgICAgICByZXR1cm4gYWNjXG4gICAgICB9LCB7fSlcblxuICAgICAgY29uc3QgcHJldkxpc3RlbmVycyA9IGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3AubGlzdGVuZXJzXG4gICAgICBwcmV2TGlzdGVuZXJzICYmIGludGVyYWN0YWJsZS5vZmYocHJldkxpc3RlbmVycylcblxuICAgICAgaW50ZXJhY3RhYmxlLm9uKGNvcnJlY3RlZClcbiAgICAgIGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3AubGlzdGVuZXJzID0gY29ycmVjdGVkXG4gICAgfVxuXG4gICAgaWYgKGlzLmZ1bmMob3B0aW9ucy5vbmRyb3ApKSB7XG4gICAgICBpbnRlcmFjdGFibGUub24oJ2Ryb3AnLCBvcHRpb25zLm9uZHJvcClcbiAgICB9XG4gICAgaWYgKGlzLmZ1bmMob3B0aW9ucy5vbmRyb3BhY3RpdmF0ZSkpIHtcbiAgICAgIGludGVyYWN0YWJsZS5vbignZHJvcGFjdGl2YXRlJywgb3B0aW9ucy5vbmRyb3BhY3RpdmF0ZSlcbiAgICB9XG4gICAgaWYgKGlzLmZ1bmMob3B0aW9ucy5vbmRyb3BkZWFjdGl2YXRlKSkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9uKCdkcm9wZGVhY3RpdmF0ZScsIG9wdGlvbnMub25kcm9wZGVhY3RpdmF0ZSlcbiAgICB9XG4gICAgaWYgKGlzLmZ1bmMob3B0aW9ucy5vbmRyYWdlbnRlcikpIHtcbiAgICAgIGludGVyYWN0YWJsZS5vbignZHJhZ2VudGVyJywgb3B0aW9ucy5vbmRyYWdlbnRlcilcbiAgICB9XG4gICAgaWYgKGlzLmZ1bmMob3B0aW9ucy5vbmRyYWdsZWF2ZSkpIHtcbiAgICAgIGludGVyYWN0YWJsZS5vbignZHJhZ2xlYXZlJywgb3B0aW9ucy5vbmRyYWdsZWF2ZSlcbiAgICB9XG4gICAgaWYgKGlzLmZ1bmMob3B0aW9ucy5vbmRyb3Btb3ZlKSkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9uKCdkcm9wbW92ZScsIG9wdGlvbnMub25kcm9wbW92ZSlcbiAgICB9XG5cbiAgICBpZiAoL14ocG9pbnRlcnxjZW50ZXIpJC8udGVzdChvcHRpb25zLm92ZXJsYXAgYXMgc3RyaW5nKSkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJvcC5vdmVybGFwID0gb3B0aW9ucy5vdmVybGFwXG4gICAgfSBlbHNlIGlmIChpcy5udW1iZXIob3B0aW9ucy5vdmVybGFwKSkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJvcC5vdmVybGFwID0gTWF0aC5tYXgoTWF0aC5taW4oMSwgb3B0aW9ucy5vdmVybGFwKSwgMClcbiAgICB9XG4gICAgaWYgKCdhY2NlcHQnIGluIG9wdGlvbnMpIHtcbiAgICAgIGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3AuYWNjZXB0ID0gb3B0aW9ucy5hY2NlcHRcbiAgICB9XG4gICAgaWYgKCdjaGVja2VyJyBpbiBvcHRpb25zKSB7XG4gICAgICBpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wLmNoZWNrZXIgPSBvcHRpb25zLmNoZWNrZXJcbiAgICB9XG5cbiAgICByZXR1cm4gaW50ZXJhY3RhYmxlXG4gIH1cblxuICBpZiAoaXMuYm9vbChvcHRpb25zKSkge1xuICAgIGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3AuZW5hYmxlZCA9IG9wdGlvbnNcblxuICAgIHJldHVybiBpbnRlcmFjdGFibGVcbiAgfVxuXG4gIHJldHVybiBpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wXG59XG5cbmZ1bmN0aW9uIGRyb3BDaGVja01ldGhvZChcbiAgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUsXG4gIGRyYWdFdmVudDogSW50ZXJhY3RFdmVudCxcbiAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsXG4gIGRyYWdnYWJsZTogSW50ZXJhY3RhYmxlLFxuICBkcmFnZ2FibGVFbGVtZW50OiBFbGVtZW50LFxuICBkcm9wRWxlbWVudDogRWxlbWVudCxcbiAgcmVjdDogYW55LFxuKSB7XG4gIGxldCBkcm9wcGVkID0gZmFsc2VcblxuICAvLyBpZiB0aGUgZHJvcHpvbmUgaGFzIG5vIHJlY3QgKGVnLiBkaXNwbGF5OiBub25lKVxuICAvLyBjYWxsIHRoZSBjdXN0b20gZHJvcENoZWNrZXIgb3IganVzdCByZXR1cm4gZmFsc2VcbiAgaWYgKCEocmVjdCA9IHJlY3QgfHwgaW50ZXJhY3RhYmxlLmdldFJlY3QoZHJvcEVsZW1lbnQpKSkge1xuICAgIHJldHVybiBpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wLmNoZWNrZXJcbiAgICAgID8gaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJvcC5jaGVja2VyKFxuICAgICAgICAgIGRyYWdFdmVudCxcbiAgICAgICAgICBldmVudCxcbiAgICAgICAgICBkcm9wcGVkLFxuICAgICAgICAgIGludGVyYWN0YWJsZSxcbiAgICAgICAgICBkcm9wRWxlbWVudCxcbiAgICAgICAgICBkcmFnZ2FibGUsXG4gICAgICAgICAgZHJhZ2dhYmxlRWxlbWVudCxcbiAgICAgICAgKVxuICAgICAgOiBmYWxzZVxuICB9XG5cbiAgY29uc3QgZHJvcE92ZXJsYXAgPSBpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wLm92ZXJsYXBcblxuICBpZiAoZHJvcE92ZXJsYXAgPT09ICdwb2ludGVyJykge1xuICAgIGNvbnN0IG9yaWdpbiA9IGdldE9yaWdpblhZKGRyYWdnYWJsZSwgZHJhZ2dhYmxlRWxlbWVudCwgJ2RyYWcnKVxuICAgIGNvbnN0IHBhZ2UgPSBwb2ludGVyVXRpbHMuZ2V0UGFnZVhZKGRyYWdFdmVudClcblxuICAgIHBhZ2UueCArPSBvcmlnaW4ueFxuICAgIHBhZ2UueSArPSBvcmlnaW4ueVxuXG4gICAgY29uc3QgaG9yaXpvbnRhbCA9IHBhZ2UueCA+IHJlY3QubGVmdCAmJiBwYWdlLnggPCByZWN0LnJpZ2h0XG4gICAgY29uc3QgdmVydGljYWwgPSBwYWdlLnkgPiByZWN0LnRvcCAmJiBwYWdlLnkgPCByZWN0LmJvdHRvbVxuXG4gICAgZHJvcHBlZCA9IGhvcml6b250YWwgJiYgdmVydGljYWxcbiAgfVxuXG4gIGNvbnN0IGRyYWdSZWN0ID0gZHJhZ2dhYmxlLmdldFJlY3QoZHJhZ2dhYmxlRWxlbWVudClcblxuICBpZiAoZHJhZ1JlY3QgJiYgZHJvcE92ZXJsYXAgPT09ICdjZW50ZXInKSB7XG4gICAgY29uc3QgY3ggPSBkcmFnUmVjdC5sZWZ0ICsgZHJhZ1JlY3Qud2lkdGggLyAyXG4gICAgY29uc3QgY3kgPSBkcmFnUmVjdC50b3AgKyBkcmFnUmVjdC5oZWlnaHQgLyAyXG5cbiAgICBkcm9wcGVkID0gY3ggPj0gcmVjdC5sZWZ0ICYmIGN4IDw9IHJlY3QucmlnaHQgJiYgY3kgPj0gcmVjdC50b3AgJiYgY3kgPD0gcmVjdC5ib3R0b21cbiAgfVxuXG4gIGlmIChkcmFnUmVjdCAmJiBpcy5udW1iZXIoZHJvcE92ZXJsYXApKSB7XG4gICAgY29uc3Qgb3ZlcmxhcEFyZWEgPVxuICAgICAgTWF0aC5tYXgoMCwgTWF0aC5taW4ocmVjdC5yaWdodCwgZHJhZ1JlY3QucmlnaHQpIC0gTWF0aC5tYXgocmVjdC5sZWZ0LCBkcmFnUmVjdC5sZWZ0KSkgKlxuICAgICAgTWF0aC5tYXgoMCwgTWF0aC5taW4ocmVjdC5ib3R0b20sIGRyYWdSZWN0LmJvdHRvbSkgLSBNYXRoLm1heChyZWN0LnRvcCwgZHJhZ1JlY3QudG9wKSlcblxuICAgIGNvbnN0IG92ZXJsYXBSYXRpbyA9IG92ZXJsYXBBcmVhIC8gKGRyYWdSZWN0LndpZHRoICogZHJhZ1JlY3QuaGVpZ2h0KVxuXG4gICAgZHJvcHBlZCA9IG92ZXJsYXBSYXRpbyA+PSBkcm9wT3ZlcmxhcFxuICB9XG5cbiAgaWYgKGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3AuY2hlY2tlcikge1xuICAgIGRyb3BwZWQgPSBpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wLmNoZWNrZXIoXG4gICAgICBkcmFnRXZlbnQsXG4gICAgICBldmVudCxcbiAgICAgIGRyb3BwZWQsXG4gICAgICBpbnRlcmFjdGFibGUsXG4gICAgICBkcm9wRWxlbWVudCxcbiAgICAgIGRyYWdnYWJsZSxcbiAgICAgIGRyYWdnYWJsZUVsZW1lbnQsXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIGRyb3BwZWRcbn1cblxuY29uc3QgZHJvcDogUGx1Z2luID0ge1xuICBpZDogJ2FjdGlvbnMvZHJvcCcsXG4gIGluc3RhbGwsXG4gIGxpc3RlbmVyczoge1xuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1zdGFydCc6ICh7IGludGVyYWN0aW9uIH0pID0+IHtcbiAgICAgIGlmIChpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lICE9PSAnZHJhZycpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGludGVyYWN0aW9uLmRyb3BTdGF0ZSA9IHtcbiAgICAgICAgY3VyOiB7XG4gICAgICAgICAgZHJvcHpvbmU6IG51bGwsXG4gICAgICAgICAgZWxlbWVudDogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgICAgcHJldjoge1xuICAgICAgICAgIGRyb3B6b25lOiBudWxsLFxuICAgICAgICAgIGVsZW1lbnQ6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICAgIHJlamVjdGVkOiBudWxsLFxuICAgICAgICBldmVudHM6IG51bGwsXG4gICAgICAgIGFjdGl2ZURyb3BzOiBbXSxcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczphZnRlci1hY3Rpb24tc3RhcnQnOiAoXG4gICAgICB7IGludGVyYWN0aW9uLCBldmVudCwgaUV2ZW50OiBkcmFnRXZlbnQgfTogRG9QaGFzZUFyZzwnZHJhZycsIEV2ZW50UGhhc2U+LFxuICAgICAgc2NvcGUsXG4gICAgKSA9PiB7XG4gICAgICBpZiAoaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSAhPT0gJ2RyYWcnKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCBkcm9wU3RhdGUgPSBpbnRlcmFjdGlvbi5kcm9wU3RhdGUhXG5cbiAgICAgIC8vIHJlc2V0IGFjdGl2ZSBkcm9wem9uZXNcbiAgICAgIGRyb3BTdGF0ZS5hY3RpdmVEcm9wcyA9IFtdXG4gICAgICBkcm9wU3RhdGUuZXZlbnRzID0ge31cbiAgICAgIGRyb3BTdGF0ZS5hY3RpdmVEcm9wcyA9IGdldEFjdGl2ZURyb3BzKHNjb3BlLCBpbnRlcmFjdGlvbi5lbGVtZW50ISlcbiAgICAgIGRyb3BTdGF0ZS5ldmVudHMgPSBnZXREcm9wRXZlbnRzKGludGVyYWN0aW9uLCBldmVudCwgZHJhZ0V2ZW50KVxuXG4gICAgICBpZiAoZHJvcFN0YXRlLmV2ZW50cy5hY3RpdmF0ZSkge1xuICAgICAgICBmaXJlQWN0aXZhdGlvbkV2ZW50cyhkcm9wU3RhdGUuYWN0aXZlRHJvcHMsIGRyb3BTdGF0ZS5ldmVudHMuYWN0aXZhdGUpXG4gICAgICAgIHNjb3BlLmZpcmUoJ2FjdGlvbnMvZHJvcDpzdGFydCcsIHsgaW50ZXJhY3Rpb24sIGRyYWdFdmVudCB9KVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1tb3ZlJzogb25FdmVudENyZWF0ZWQsXG5cbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1tb3ZlJzogKFxuICAgICAgeyBpbnRlcmFjdGlvbiwgaUV2ZW50OiBkcmFnRXZlbnQgfTogRG9QaGFzZUFyZzwnZHJhZycsIEV2ZW50UGhhc2U+LFxuICAgICAgc2NvcGUsXG4gICAgKSA9PiB7XG4gICAgICBpZiAoaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSAhPT0gJ2RyYWcnKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCBkcm9wU3RhdGUgPSBpbnRlcmFjdGlvbi5kcm9wU3RhdGUhXG4gICAgICBmaXJlRHJvcEV2ZW50cyhpbnRlcmFjdGlvbiwgZHJvcFN0YXRlLmV2ZW50cylcblxuICAgICAgc2NvcGUuZmlyZSgnYWN0aW9ucy9kcm9wOm1vdmUnLCB7IGludGVyYWN0aW9uLCBkcmFnRXZlbnQgfSlcbiAgICAgIGRyb3BTdGF0ZS5ldmVudHMgPSB7fVxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1lbmQnOiAoYXJnOiBEb1BoYXNlQXJnPCdkcmFnJywgRXZlbnRQaGFzZT4sIHNjb3BlKSA9PiB7XG4gICAgICBpZiAoYXJnLmludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgIT09ICdkcmFnJykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBpbnRlcmFjdGlvbiwgaUV2ZW50OiBkcmFnRXZlbnQgfSA9IGFyZ1xuXG4gICAgICBvbkV2ZW50Q3JlYXRlZChhcmcsIHNjb3BlKVxuICAgICAgZmlyZURyb3BFdmVudHMoaW50ZXJhY3Rpb24sIGludGVyYWN0aW9uLmRyb3BTdGF0ZSEuZXZlbnRzKVxuICAgICAgc2NvcGUuZmlyZSgnYWN0aW9ucy9kcm9wOmVuZCcsIHsgaW50ZXJhY3Rpb24sIGRyYWdFdmVudCB9KVxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOnN0b3AnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBpZiAoaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSAhPT0gJ2RyYWcnKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCB7IGRyb3BTdGF0ZSB9ID0gaW50ZXJhY3Rpb25cblxuICAgICAgaWYgKGRyb3BTdGF0ZSkge1xuICAgICAgICBkcm9wU3RhdGUuYWN0aXZlRHJvcHMgPSBudWxsIGFzIG5ldmVyXG4gICAgICAgIGRyb3BTdGF0ZS5ldmVudHMgPSBudWxsIGFzIG5ldmVyXG4gICAgICAgIGRyb3BTdGF0ZS5jdXIuZHJvcHpvbmUgPSBudWxsIGFzIG5ldmVyXG4gICAgICAgIGRyb3BTdGF0ZS5jdXIuZWxlbWVudCA9IG51bGwgYXMgbmV2ZXJcbiAgICAgICAgZHJvcFN0YXRlLnByZXYuZHJvcHpvbmUgPSBudWxsIGFzIG5ldmVyXG4gICAgICAgIGRyb3BTdGF0ZS5wcmV2LmVsZW1lbnQgPSBudWxsIGFzIG5ldmVyXG4gICAgICAgIGRyb3BTdGF0ZS5yZWplY3RlZCA9IGZhbHNlXG4gICAgICB9XG4gICAgfSxcbiAgfSxcbiAgZ2V0QWN0aXZlRHJvcHMsXG4gIGdldERyb3AsXG4gIGdldERyb3BFdmVudHMsXG4gIGZpcmVEcm9wRXZlbnRzLFxuXG4gIGZpbHRlckV2ZW50VHlwZTogKHR5cGU6IHN0cmluZykgPT4gdHlwZS5zZWFyY2goJ2RyYWcnKSA9PT0gMCB8fCB0eXBlLnNlYXJjaCgnZHJvcCcpID09PSAwLFxuXG4gIGRlZmF1bHRzOiB7XG4gICAgZW5hYmxlZDogZmFsc2UsXG4gICAgYWNjZXB0OiBudWxsIGFzIG5ldmVyLFxuICAgIG92ZXJsYXA6ICdwb2ludGVyJyxcbiAgfSBhcyBEcm9wem9uZU9wdGlvbnMsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGRyb3BcbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdEV2ZW50LCBFdmVudFBoYXNlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdEV2ZW50J1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGlvbiwgRG9QaGFzZUFyZyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFBlckFjdGlvbkRlZmF1bHRzIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSwgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgUmVjdCwgUG9pbnRlclR5cGUsIExpc3RlbmVyc0FyZywgT3JCb29sZWFuIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcbmltcG9ydCAqIGFzIHBvaW50ZXJVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9wb2ludGVyVXRpbHMnXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGlvbiB7XG4gICAgZ2VzdHVyZT86IHtcbiAgICAgIGFuZ2xlOiBudW1iZXIgLy8gYW5nbGUgZnJvbSBmaXJzdCB0byBzZWNvbmQgdG91Y2hcbiAgICAgIGRpc3RhbmNlOiBudW1iZXJcbiAgICAgIHNjYWxlOiBudW1iZXIgLy8gZ2VzdHVyZS5kaXN0YW5jZSAvIGdlc3R1cmUuc3RhcnREaXN0YW5jZVxuICAgICAgc3RhcnRBbmdsZTogbnVtYmVyIC8vIGFuZ2xlIG9mIGxpbmUgam9pbmluZyB0d28gdG91Y2hlc1xuICAgICAgc3RhcnREaXN0YW5jZTogbnVtYmVyIC8vIGRpc3RhbmNlIGJldHdlZW4gdHdvIHRvdWNoZXMgb2YgdG91Y2hTdGFydFxuICAgIH1cbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0YWJsZSB7XG4gICAgZ2VzdHVyYWJsZShvcHRpb25zOiBQYXJ0aWFsPE9yQm9vbGVhbjxHZXN0dXJhYmxlT3B0aW9ucz4+IHwgYm9vbGVhbik6IHRoaXNcbiAgICBnZXN0dXJhYmxlKCk6IEdlc3R1cmFibGVPcHRpb25zXG4gICAgLyoqXG4gICAgICogYGBganNcbiAgICAgKiBpbnRlcmFjdChlbGVtZW50KS5nZXN0dXJhYmxlKHtcbiAgICAgKiAgICAgb25zdGFydDogZnVuY3Rpb24gKGV2ZW50KSB7fSxcbiAgICAgKiAgICAgb25tb3ZlIDogZnVuY3Rpb24gKGV2ZW50KSB7fSxcbiAgICAgKiAgICAgb25lbmQgIDogZnVuY3Rpb24gKGV2ZW50KSB7fSxcbiAgICAgKlxuICAgICAqICAgICAvLyBsaW1pdCBtdWx0aXBsZSBnZXN0dXJlcy5cbiAgICAgKiAgICAgLy8gU2VlIHRoZSBleHBsYW5hdGlvbiBpbiB7QGxpbmsgSW50ZXJhY3RhYmxlLmRyYWdnYWJsZX0gZXhhbXBsZVxuICAgICAqICAgICBtYXg6IEluZmluaXR5LFxuICAgICAqICAgICBtYXhQZXJFbGVtZW50OiAxLFxuICAgICAqIH0pXG4gICAgICpcbiAgICAgKiB2YXIgaXNHZXN0dXJlYWJsZSA9IGludGVyYWN0KGVsZW1lbnQpLmdlc3R1cmFibGUoKVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogR2V0cyBvciBzZXRzIHdoZXRoZXIgbXVsdGl0b3VjaCBnZXN0dXJlcyBjYW4gYmUgcGVyZm9ybWVkIG9uIHRoZSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gdHJ1ZS9mYWxzZSBvciBBbiBvYmplY3Qgd2l0aCBldmVudCBsaXN0ZW5lcnMgdG8gYmUgZmlyZWQgb24gZ2VzdHVyZSBldmVudHMgKG1ha2VzIHRoZSBJbnRlcmFjdGFibGUgZ2VzdHVyYWJsZSlcbiAgICAgKiBAcmV0dXJucyBBIGJvb2xlYW4gaW5kaWNhdGluZyBpZiB0aGlzIGNhbiBiZSB0aGUgdGFyZ2V0IG9mIGdlc3R1cmUgZXZlbnRzLCBvciB0aGlzIEludGVyYWN0YWJsZVxuICAgICAqL1xuICAgIGdlc3R1cmFibGUob3B0aW9ucz86IFBhcnRpYWw8T3JCb29sZWFuPEdlc3R1cmFibGVPcHRpb25zPj4gfCBib29sZWFuKTogdGhpcyB8IEdlc3R1cmFibGVPcHRpb25zXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucycge1xuICBpbnRlcmZhY2UgQWN0aW9uRGVmYXVsdHMge1xuICAgIGdlc3R1cmU6IEdlc3R1cmFibGVPcHRpb25zXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnIHtcbiAgaW50ZXJmYWNlIEFjdGlvbk1hcCB7XG4gICAgZ2VzdHVyZT86IHR5cGVvZiBnZXN0dXJlXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXN0dXJhYmxlT3B0aW9ucyBleHRlbmRzIFBlckFjdGlvbkRlZmF1bHRzIHtcbiAgb25zdGFydD86IExpc3RlbmVyc0FyZ1xuICBvbm1vdmU/OiBMaXN0ZW5lcnNBcmdcbiAgb25lbmQ/OiBMaXN0ZW5lcnNBcmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXN0dXJlRXZlbnQgZXh0ZW5kcyBJbnRlcmFjdEV2ZW50PCdnZXN0dXJlJz4ge1xuICBkaXN0YW5jZTogbnVtYmVyXG4gIGFuZ2xlOiBudW1iZXJcbiAgZGE6IG51bWJlciAvLyBhbmdsZSBjaGFuZ2VcbiAgc2NhbGU6IG51bWJlciAvLyByYXRpbyBvZiBkaXN0YW5jZSBzdGFydCB0byBjdXJyZW50IGV2ZW50XG4gIGRzOiBudW1iZXIgLy8gc2NhbGUgY2hhbmdlXG4gIGJveDogUmVjdCAvLyBlbmNsb3NpbmcgYm94IG9mIGFsbCBwb2ludHNcbiAgdG91Y2hlczogUG9pbnRlclR5cGVbXVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdlc3R1cmVTaWduYWxBcmcgZXh0ZW5kcyBEb1BoYXNlQXJnPCdnZXN0dXJlJywgRXZlbnRQaGFzZT4ge1xuICBpRXZlbnQ6IEdlc3R1cmVFdmVudFxuICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248J2dlc3R1cmUnPlxufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IGFjdGlvbnMsIEludGVyYWN0YWJsZSwgZGVmYXVsdHMgfSA9IHNjb3BlXG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5nZXN0dXJhYmxlID0gZnVuY3Rpb24gKFxuICAgIHRoaXM6IEluc3RhbmNlVHlwZTx0eXBlb2YgSW50ZXJhY3RhYmxlPixcbiAgICBvcHRpb25zOiBHZXN0dXJhYmxlT3B0aW9ucyB8IGJvb2xlYW4sXG4gICkge1xuICAgIGlmIChpcy5vYmplY3Qob3B0aW9ucykpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5nZXN0dXJlLmVuYWJsZWQgPSBvcHRpb25zLmVuYWJsZWQgIT09IGZhbHNlXG4gICAgICB0aGlzLnNldFBlckFjdGlvbignZ2VzdHVyZScsIG9wdGlvbnMpXG4gICAgICB0aGlzLnNldE9uRXZlbnRzKCdnZXN0dXJlJywgb3B0aW9ucylcblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBpZiAoaXMuYm9vbChvcHRpb25zKSkge1xuICAgICAgdGhpcy5vcHRpb25zLmdlc3R1cmUuZW5hYmxlZCA9IG9wdGlvbnNcblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmdlc3R1cmUgYXMgR2VzdHVyYWJsZU9wdGlvbnNcbiAgfSBhcyBJbnRlcmFjdGFibGVbJ2dlc3R1cmFibGUnXVxuXG4gIGFjdGlvbnMubWFwLmdlc3R1cmUgPSBnZXN0dXJlXG4gIGFjdGlvbnMubWV0aG9kRGljdC5nZXN0dXJlID0gJ2dlc3R1cmFibGUnXG5cbiAgZGVmYXVsdHMuYWN0aW9ucy5nZXN0dXJlID0gZ2VzdHVyZS5kZWZhdWx0c1xufVxuXG5mdW5jdGlvbiB1cGRhdGVHZXN0dXJlUHJvcHMoeyBpbnRlcmFjdGlvbiwgaUV2ZW50LCBwaGFzZSB9OiBHZXN0dXJlU2lnbmFsQXJnKSB7XG4gIGlmIChpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lICE9PSAnZ2VzdHVyZScpIHJldHVyblxuXG4gIGNvbnN0IHBvaW50ZXJzID0gaW50ZXJhY3Rpb24ucG9pbnRlcnMubWFwKChwKSA9PiBwLnBvaW50ZXIpXG4gIGNvbnN0IHN0YXJ0aW5nID0gcGhhc2UgPT09ICdzdGFydCdcbiAgY29uc3QgZW5kaW5nID0gcGhhc2UgPT09ICdlbmQnXG4gIGNvbnN0IGRlbHRhU291cmNlID0gaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLm9wdGlvbnMuZGVsdGFTb3VyY2VcblxuICBpRXZlbnQudG91Y2hlcyA9IFtwb2ludGVyc1swXSwgcG9pbnRlcnNbMV1dXG5cbiAgaWYgKHN0YXJ0aW5nKSB7XG4gICAgaUV2ZW50LmRpc3RhbmNlID0gcG9pbnRlclV0aWxzLnRvdWNoRGlzdGFuY2UocG9pbnRlcnMsIGRlbHRhU291cmNlKVxuICAgIGlFdmVudC5ib3ggPSBwb2ludGVyVXRpbHMudG91Y2hCQm94KHBvaW50ZXJzKVxuICAgIGlFdmVudC5zY2FsZSA9IDFcbiAgICBpRXZlbnQuZHMgPSAwXG4gICAgaUV2ZW50LmFuZ2xlID0gcG9pbnRlclV0aWxzLnRvdWNoQW5nbGUocG9pbnRlcnMsIGRlbHRhU291cmNlKVxuICAgIGlFdmVudC5kYSA9IDBcblxuICAgIGludGVyYWN0aW9uLmdlc3R1cmUuc3RhcnREaXN0YW5jZSA9IGlFdmVudC5kaXN0YW5jZVxuICAgIGludGVyYWN0aW9uLmdlc3R1cmUuc3RhcnRBbmdsZSA9IGlFdmVudC5hbmdsZVxuICB9IGVsc2UgaWYgKGVuZGluZyB8fCBpbnRlcmFjdGlvbi5wb2ludGVycy5sZW5ndGggPCAyKSB7XG4gICAgY29uc3QgcHJldkV2ZW50ID0gaW50ZXJhY3Rpb24ucHJldkV2ZW50IGFzIEdlc3R1cmVFdmVudFxuXG4gICAgaUV2ZW50LmRpc3RhbmNlID0gcHJldkV2ZW50LmRpc3RhbmNlXG4gICAgaUV2ZW50LmJveCA9IHByZXZFdmVudC5ib3hcbiAgICBpRXZlbnQuc2NhbGUgPSBwcmV2RXZlbnQuc2NhbGVcbiAgICBpRXZlbnQuZHMgPSAwXG4gICAgaUV2ZW50LmFuZ2xlID0gcHJldkV2ZW50LmFuZ2xlXG4gICAgaUV2ZW50LmRhID0gMFxuICB9IGVsc2Uge1xuICAgIGlFdmVudC5kaXN0YW5jZSA9IHBvaW50ZXJVdGlscy50b3VjaERpc3RhbmNlKHBvaW50ZXJzLCBkZWx0YVNvdXJjZSlcbiAgICBpRXZlbnQuYm94ID0gcG9pbnRlclV0aWxzLnRvdWNoQkJveChwb2ludGVycylcbiAgICBpRXZlbnQuc2NhbGUgPSBpRXZlbnQuZGlzdGFuY2UgLyBpbnRlcmFjdGlvbi5nZXN0dXJlLnN0YXJ0RGlzdGFuY2VcbiAgICBpRXZlbnQuYW5nbGUgPSBwb2ludGVyVXRpbHMudG91Y2hBbmdsZShwb2ludGVycywgZGVsdGFTb3VyY2UpXG5cbiAgICBpRXZlbnQuZHMgPSBpRXZlbnQuc2NhbGUgLSBpbnRlcmFjdGlvbi5nZXN0dXJlLnNjYWxlXG4gICAgaUV2ZW50LmRhID0gaUV2ZW50LmFuZ2xlIC0gaW50ZXJhY3Rpb24uZ2VzdHVyZS5hbmdsZVxuICB9XG5cbiAgaW50ZXJhY3Rpb24uZ2VzdHVyZS5kaXN0YW5jZSA9IGlFdmVudC5kaXN0YW5jZVxuICBpbnRlcmFjdGlvbi5nZXN0dXJlLmFuZ2xlID0gaUV2ZW50LmFuZ2xlXG5cbiAgaWYgKGlzLm51bWJlcihpRXZlbnQuc2NhbGUpICYmIGlFdmVudC5zY2FsZSAhPT0gSW5maW5pdHkgJiYgIWlzTmFOKGlFdmVudC5zY2FsZSkpIHtcbiAgICBpbnRlcmFjdGlvbi5nZXN0dXJlLnNjYWxlID0gaUV2ZW50LnNjYWxlXG4gIH1cbn1cblxuY29uc3QgZ2VzdHVyZTogUGx1Z2luID0ge1xuICBpZDogJ2FjdGlvbnMvZ2VzdHVyZScsXG4gIGJlZm9yZTogWydhY3Rpb25zL2RyYWcnLCAnYWN0aW9ucy9yZXNpemUnXSxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tc3RhcnQnOiB1cGRhdGVHZXN0dXJlUHJvcHMsXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tbW92ZSc6IHVwZGF0ZUdlc3R1cmVQcm9wcyxcbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1lbmQnOiB1cGRhdGVHZXN0dXJlUHJvcHMsXG5cbiAgICAnaW50ZXJhY3Rpb25zOm5ldyc6ICh7IGludGVyYWN0aW9uIH0pID0+IHtcbiAgICAgIGludGVyYWN0aW9uLmdlc3R1cmUgPSB7XG4gICAgICAgIGFuZ2xlOiAwLFxuICAgICAgICBkaXN0YW5jZTogMCxcbiAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgIHN0YXJ0QW5nbGU6IDAsXG4gICAgICAgIHN0YXJ0RGlzdGFuY2U6IDAsXG4gICAgICB9XG4gICAgfSxcblxuICAgICdhdXRvLXN0YXJ0OmNoZWNrJzogKGFyZykgPT4ge1xuICAgICAgaWYgKGFyZy5pbnRlcmFjdGlvbi5wb2ludGVycy5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgIH1cblxuICAgICAgY29uc3QgZ2VzdHVyZU9wdGlvbnMgPSBhcmcuaW50ZXJhY3RhYmxlLm9wdGlvbnMuZ2VzdHVyZVxuXG4gICAgICBpZiAoIShnZXN0dXJlT3B0aW9ucyAmJiBnZXN0dXJlT3B0aW9ucy5lbmFibGVkKSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICB9XG5cbiAgICAgIGFyZy5hY3Rpb24gPSB7IG5hbWU6ICdnZXN0dXJlJyB9XG5cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0sXG4gIH0sXG5cbiAgZGVmYXVsdHM6IHt9LFxuXG4gIGdldEN1cnNvcigpIHtcbiAgICByZXR1cm4gJydcbiAgfSxcblxuICBmaWx0ZXJFdmVudFR5cGU6ICh0eXBlOiBzdHJpbmcpID0+IHR5cGUuc2VhcmNoKCdnZXN0dXJlJykgPT09IDAsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGdlc3R1cmVcbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgeyBFdmVudFBoYXNlLCBJbnRlcmFjdEV2ZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdEV2ZW50J1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGlvbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFBlckFjdGlvbkRlZmF1bHRzIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSwgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHtcbiAgQWN0aW9uTmFtZSxcbiAgQWN0aW9uUHJvcHMsXG4gIEVkZ2VPcHRpb25zLFxuICBGdWxsUmVjdCxcbiAgTGlzdGVuZXJzQXJnLFxuICBPckJvb2xlYW4sXG4gIFBvaW50LFxuICBSZWN0LFxufSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0ICogYXMgZG9tIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5cbmV4cG9ydCB0eXBlIEVkZ2VOYW1lID0gJ3RvcCcgfCAnbGVmdCcgfCAnYm90dG9tJyB8ICdyaWdodCdcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGFibGUge1xuICAgIHJlc2l6YWJsZSgpOiBSZXNpemFibGVPcHRpb25zXG4gICAgcmVzaXphYmxlKG9wdGlvbnM6IFBhcnRpYWw8T3JCb29sZWFuPFJlc2l6YWJsZU9wdGlvbnM+PiB8IGJvb2xlYW4pOiB0aGlzXG4gICAgLyoqXG4gICAgICogYGBganNcbiAgICAgKiBpbnRlcmFjdChlbGVtZW50KS5yZXNpemFibGUoe1xuICAgICAqICAgb25zdGFydDogZnVuY3Rpb24gKGV2ZW50KSB7fSxcbiAgICAgKiAgIG9ubW92ZSA6IGZ1bmN0aW9uIChldmVudCkge30sXG4gICAgICogICBvbmVuZCAgOiBmdW5jdGlvbiAoZXZlbnQpIHt9LFxuICAgICAqXG4gICAgICogICBlZGdlczoge1xuICAgICAqICAgICB0b3AgICA6IHRydWUsICAgICAgIC8vIFVzZSBwb2ludGVyIGNvb3JkcyB0byBjaGVjayBmb3IgcmVzaXplLlxuICAgICAqICAgICBsZWZ0ICA6IGZhbHNlLCAgICAgIC8vIERpc2FibGUgcmVzaXppbmcgZnJvbSBsZWZ0IGVkZ2UuXG4gICAgICogICAgIGJvdHRvbTogJy5yZXNpemUtcycsLy8gUmVzaXplIGlmIHBvaW50ZXIgdGFyZ2V0IG1hdGNoZXMgc2VsZWN0b3JcbiAgICAgKiAgICAgcmlnaHQgOiBoYW5kbGVFbCAgICAvLyBSZXNpemUgaWYgcG9pbnRlciB0YXJnZXQgaXMgdGhlIGdpdmVuIEVsZW1lbnRcbiAgICAgKiAgIH0sXG4gICAgICpcbiAgICAgKiAgIC8vIFdpZHRoIGFuZCBoZWlnaHQgY2FuIGJlIGFkanVzdGVkIGluZGVwZW5kZW50bHkuIFdoZW4gYHRydWVgLCB3aWR0aCBhbmRcbiAgICAgKiAgIC8vIGhlaWdodCBhcmUgYWRqdXN0ZWQgYXQgYSAxOjEgcmF0aW8uXG4gICAgICogICBzcXVhcmU6IGZhbHNlLFxuICAgICAqXG4gICAgICogICAvLyBXaWR0aCBhbmQgaGVpZ2h0IGNhbiBiZSBhZGp1c3RlZCBpbmRlcGVuZGVudGx5LiBXaGVuIGB0cnVlYCwgd2lkdGggYW5kXG4gICAgICogICAvLyBoZWlnaHQgbWFpbnRhaW4gdGhlIGFzcGVjdCByYXRpbyB0aGV5IGhhZCB3aGVuIHJlc2l6aW5nIHN0YXJ0ZWQuXG4gICAgICogICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBmYWxzZSxcbiAgICAgKlxuICAgICAqICAgLy8gYSB2YWx1ZSBvZiAnbm9uZScgd2lsbCBsaW1pdCB0aGUgcmVzaXplIHJlY3QgdG8gYSBtaW5pbXVtIG9mIDB4MFxuICAgICAqICAgLy8gJ25lZ2F0ZScgd2lsbCBhbGxvdyB0aGUgcmVjdCB0byBoYXZlIG5lZ2F0aXZlIHdpZHRoL2hlaWdodFxuICAgICAqICAgLy8gJ3JlcG9zaXRpb24nIHdpbGwga2VlcCB0aGUgd2lkdGgvaGVpZ2h0IHBvc2l0aXZlIGJ5IHN3YXBwaW5nXG4gICAgICogICAvLyB0aGUgdG9wIGFuZCBib3R0b20gZWRnZXMgYW5kL29yIHN3YXBwaW5nIHRoZSBsZWZ0IGFuZCByaWdodCBlZGdlc1xuICAgICAqICAgaW52ZXJ0OiAnbm9uZScgfHwgJ25lZ2F0ZScgfHwgJ3JlcG9zaXRpb24nXG4gICAgICpcbiAgICAgKiAgIC8vIGxpbWl0IG11bHRpcGxlIHJlc2l6ZXMuXG4gICAgICogICAvLyBTZWUgdGhlIGV4cGxhbmF0aW9uIGluIHRoZSB7QGxpbmsgSW50ZXJhY3RhYmxlLmRyYWdnYWJsZX0gZXhhbXBsZVxuICAgICAqICAgbWF4OiBJbmZpbml0eSxcbiAgICAgKiAgIG1heFBlckVsZW1lbnQ6IDEsXG4gICAgICogfSlcbiAgICAgKlxuICAgICAqIHZhciBpc1Jlc2l6ZWFibGUgPSBpbnRlcmFjdChlbGVtZW50KS5yZXNpemFibGUoKVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogR2V0cyBvciBzZXRzIHdoZXRoZXIgcmVzaXplIGFjdGlvbnMgY2FuIGJlIHBlcmZvcm1lZCBvbiB0aGUgdGFyZ2V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIHRydWUvZmFsc2Ugb3IgQW4gb2JqZWN0IHdpdGggZXZlbnRcbiAgICAgKiBsaXN0ZW5lcnMgdG8gYmUgZmlyZWQgb24gcmVzaXplIGV2ZW50cyAob2JqZWN0IG1ha2VzIHRoZSBJbnRlcmFjdGFibGVcbiAgICAgKiByZXNpemFibGUpXG4gICAgICogQHJldHVybnMgQSBib29sZWFuIGluZGljYXRpbmcgaWYgdGhpcyBjYW4gYmUgdGhlXG4gICAgICogdGFyZ2V0IG9mIHJlc2l6ZSBlbGVtZW50cywgb3IgdGhpcyBJbnRlcmFjdGFibGVcbiAgICAgKi9cbiAgICByZXNpemFibGUob3B0aW9ucz86IFBhcnRpYWw8T3JCb29sZWFuPFJlc2l6YWJsZU9wdGlvbnM+PiB8IGJvb2xlYW4pOiB0aGlzIHwgUmVzaXphYmxlT3B0aW9uc1xuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGlvbjxUIGV4dGVuZHMgQWN0aW9uTmFtZSB8IG51bGwgPSBBY3Rpb25OYW1lPiB7XG4gICAgcmVzaXplQXhlczogJ3gnIHwgJ3knIHwgJ3h5J1xuICAgIHN0eWxlQ3Vyc29yKG5ld1ZhbHVlOiBib29sZWFuKTogdGhpc1xuICAgIHN0eWxlQ3Vyc29yKCk6IGJvb2xlYW5cbiAgICByZXNpemVTdGFydEFzcGVjdFJhdGlvOiBudW1iZXJcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJyB7XG4gIGludGVyZmFjZSBBY3Rpb25EZWZhdWx0cyB7XG4gICAgcmVzaXplOiBSZXNpemFibGVPcHRpb25zXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnIHtcbiAgaW50ZXJmYWNlIEFjdGlvbk1hcCB7XG4gICAgcmVzaXplPzogdHlwZW9mIHJlc2l6ZVxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzaXphYmxlT3B0aW9ucyBleHRlbmRzIFBlckFjdGlvbkRlZmF1bHRzIHtcbiAgc3F1YXJlPzogYm9vbGVhblxuICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPzogYm9vbGVhblxuICBlZGdlcz86IEVkZ2VPcHRpb25zIHwgbnVsbFxuICBheGlzPzogJ3gnIHwgJ3knIHwgJ3h5JyAvLyBkZXByZWNhdGVkXG4gIGludmVydD86ICdub25lJyB8ICduZWdhdGUnIHwgJ3JlcG9zaXRpb24nXG4gIG1hcmdpbj86IG51bWJlclxuICBzcXVhcmVSZXNpemU/OiBib29sZWFuXG4gIG9uaW5lcnRpYXN0YXJ0PzogTGlzdGVuZXJzQXJnXG4gIG9uc3RhcnQ/OiBMaXN0ZW5lcnNBcmdcbiAgb25tb3ZlPzogTGlzdGVuZXJzQXJnXG4gIG9uZW5kPzogTGlzdGVuZXJzQXJnXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzaXplRXZlbnQ8UCBleHRlbmRzIEV2ZW50UGhhc2UgPSBFdmVudFBoYXNlPiBleHRlbmRzIEludGVyYWN0RXZlbnQ8J3Jlc2l6ZScsIFA+IHtcbiAgZGVsdGFSZWN0PzogRnVsbFJlY3RcbiAgZWRnZXM/OiBBY3Rpb25Qcm9wc1snZWRnZXMnXVxufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7XG4gICAgYWN0aW9ucyxcbiAgICBicm93c2VyLFxuICAgIEludGVyYWN0YWJsZSwgLy8gdHNsaW50OmRpc2FibGUtbGluZSBuby1zaGFkb3dlZC12YXJpYWJsZVxuICAgIGRlZmF1bHRzLFxuICB9ID0gc2NvcGVcblxuICAvLyBMZXNzIFByZWNpc2lvbiB3aXRoIHRvdWNoIGlucHV0XG5cbiAgcmVzaXplLmN1cnNvcnMgPSBpbml0Q3Vyc29ycyhicm93c2VyKVxuICByZXNpemUuZGVmYXVsdE1hcmdpbiA9IGJyb3dzZXIuc3VwcG9ydHNUb3VjaCB8fCBicm93c2VyLnN1cHBvcnRzUG9pbnRlckV2ZW50ID8gMjAgOiAxMFxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUucmVzaXphYmxlID0gZnVuY3Rpb24gKHRoaXM6IEludGVyYWN0YWJsZSwgb3B0aW9uczogUmVzaXphYmxlT3B0aW9ucyB8IGJvb2xlYW4pIHtcbiAgICByZXR1cm4gcmVzaXphYmxlKHRoaXMsIG9wdGlvbnMsIHNjb3BlKVxuICB9IGFzIEludGVyYWN0YWJsZVsncmVzaXphYmxlJ11cblxuICBhY3Rpb25zLm1hcC5yZXNpemUgPSByZXNpemVcbiAgYWN0aW9ucy5tZXRob2REaWN0LnJlc2l6ZSA9ICdyZXNpemFibGUnXG5cbiAgZGVmYXVsdHMuYWN0aW9ucy5yZXNpemUgPSByZXNpemUuZGVmYXVsdHNcbn1cblxuZnVuY3Rpb24gcmVzaXplQ2hlY2tlcihhcmcpIHtcbiAgY29uc3QgeyBpbnRlcmFjdGlvbiwgaW50ZXJhY3RhYmxlLCBlbGVtZW50LCByZWN0LCBidXR0b25zIH0gPSBhcmdcblxuICBpZiAoIXJlY3QpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBjb25zdCBwYWdlID0gZXh0ZW5kKHt9LCBpbnRlcmFjdGlvbi5jb29yZHMuY3VyLnBhZ2UpXG4gIGNvbnN0IHJlc2l6ZU9wdGlvbnMgPSBpbnRlcmFjdGFibGUub3B0aW9ucy5yZXNpemVcblxuICBpZiAoXG4gICAgIShyZXNpemVPcHRpb25zICYmIHJlc2l6ZU9wdGlvbnMuZW5hYmxlZCkgfHxcbiAgICAvLyBjaGVjayBtb3VzZUJ1dHRvbiBzZXR0aW5nIGlmIHRoZSBwb2ludGVyIGlzIGRvd25cbiAgICAoaW50ZXJhY3Rpb24ucG9pbnRlcklzRG93biAmJlxuICAgICAgL21vdXNlfHBvaW50ZXIvLnRlc3QoaW50ZXJhY3Rpb24ucG9pbnRlclR5cGUpICYmXG4gICAgICAoYnV0dG9ucyAmIHJlc2l6ZU9wdGlvbnMubW91c2VCdXR0b25zKSA9PT0gMClcbiAgKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgLy8gaWYgdXNpbmcgcmVzaXplLmVkZ2VzXG4gIGlmIChpcy5vYmplY3QocmVzaXplT3B0aW9ucy5lZGdlcykpIHtcbiAgICBjb25zdCByZXNpemVFZGdlcyA9IHtcbiAgICAgIGxlZnQ6IGZhbHNlLFxuICAgICAgcmlnaHQ6IGZhbHNlLFxuICAgICAgdG9wOiBmYWxzZSxcbiAgICAgIGJvdHRvbTogZmFsc2UsXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBlZGdlIGluIHJlc2l6ZUVkZ2VzKSB7XG4gICAgICByZXNpemVFZGdlc1tlZGdlXSA9IGNoZWNrUmVzaXplRWRnZShcbiAgICAgICAgZWRnZSxcbiAgICAgICAgcmVzaXplT3B0aW9ucy5lZGdlc1tlZGdlXSxcbiAgICAgICAgcGFnZSxcbiAgICAgICAgaW50ZXJhY3Rpb24uX2xhdGVzdFBvaW50ZXIuZXZlbnRUYXJnZXQsXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIHJlY3QsXG4gICAgICAgIHJlc2l6ZU9wdGlvbnMubWFyZ2luIHx8IHJlc2l6ZS5kZWZhdWx0TWFyZ2luLFxuICAgICAgKVxuICAgIH1cblxuICAgIHJlc2l6ZUVkZ2VzLmxlZnQgPSByZXNpemVFZGdlcy5sZWZ0ICYmICFyZXNpemVFZGdlcy5yaWdodFxuICAgIHJlc2l6ZUVkZ2VzLnRvcCA9IHJlc2l6ZUVkZ2VzLnRvcCAmJiAhcmVzaXplRWRnZXMuYm90dG9tXG5cbiAgICBpZiAocmVzaXplRWRnZXMubGVmdCB8fCByZXNpemVFZGdlcy5yaWdodCB8fCByZXNpemVFZGdlcy50b3AgfHwgcmVzaXplRWRnZXMuYm90dG9tKSB7XG4gICAgICBhcmcuYWN0aW9uID0ge1xuICAgICAgICBuYW1lOiAncmVzaXplJyxcbiAgICAgICAgZWRnZXM6IHJlc2l6ZUVkZ2VzLFxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCByaWdodCA9IHJlc2l6ZU9wdGlvbnMuYXhpcyAhPT0gJ3knICYmIHBhZ2UueCA+IHJlY3QucmlnaHQgLSByZXNpemUuZGVmYXVsdE1hcmdpblxuICAgIGNvbnN0IGJvdHRvbSA9IHJlc2l6ZU9wdGlvbnMuYXhpcyAhPT0gJ3gnICYmIHBhZ2UueSA+IHJlY3QuYm90dG9tIC0gcmVzaXplLmRlZmF1bHRNYXJnaW5cblxuICAgIGlmIChyaWdodCB8fCBib3R0b20pIHtcbiAgICAgIGFyZy5hY3Rpb24gPSB7XG4gICAgICAgIG5hbWU6ICdyZXNpemUnLFxuICAgICAgICBheGVzOiAocmlnaHQgPyAneCcgOiAnJykgKyAoYm90dG9tID8gJ3knIDogJycpLFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcmcuYWN0aW9uID8gZmFsc2UgOiB1bmRlZmluZWRcbn1cblxuZnVuY3Rpb24gcmVzaXphYmxlKGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlLCBvcHRpb25zOiBPckJvb2xlYW48UmVzaXphYmxlT3B0aW9ucz4gfCBib29sZWFuLCBzY29wZTogU2NvcGUpIHtcbiAgaWYgKGlzLm9iamVjdChvcHRpb25zKSkge1xuICAgIGludGVyYWN0YWJsZS5vcHRpb25zLnJlc2l6ZS5lbmFibGVkID0gb3B0aW9ucy5lbmFibGVkICE9PSBmYWxzZVxuICAgIGludGVyYWN0YWJsZS5zZXRQZXJBY3Rpb24oJ3Jlc2l6ZScsIG9wdGlvbnMpXG4gICAgaW50ZXJhY3RhYmxlLnNldE9uRXZlbnRzKCdyZXNpemUnLCBvcHRpb25zKVxuXG4gICAgaWYgKGlzLnN0cmluZyhvcHRpb25zLmF4aXMpICYmIC9eeCR8XnkkfF54eSQvLnRlc3Qob3B0aW9ucy5heGlzKSkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMucmVzaXplLmF4aXMgPSBvcHRpb25zLmF4aXNcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuYXhpcyA9PT0gbnVsbCkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMucmVzaXplLmF4aXMgPSBzY29wZS5kZWZhdWx0cy5hY3Rpb25zLnJlc2l6ZS5heGlzXG4gICAgfVxuXG4gICAgaWYgKGlzLmJvb2wob3B0aW9ucy5wcmVzZXJ2ZUFzcGVjdFJhdGlvKSkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMucmVzaXplLnByZXNlcnZlQXNwZWN0UmF0aW8gPSBvcHRpb25zLnByZXNlcnZlQXNwZWN0UmF0aW9cbiAgICB9IGVsc2UgaWYgKGlzLmJvb2wob3B0aW9ucy5zcXVhcmUpKSB7XG4gICAgICBpbnRlcmFjdGFibGUub3B0aW9ucy5yZXNpemUuc3F1YXJlID0gb3B0aW9ucy5zcXVhcmVcbiAgICB9XG5cbiAgICByZXR1cm4gaW50ZXJhY3RhYmxlXG4gIH1cbiAgaWYgKGlzLmJvb2wob3B0aW9ucykpIHtcbiAgICBpbnRlcmFjdGFibGUub3B0aW9ucy5yZXNpemUuZW5hYmxlZCA9IG9wdGlvbnNcblxuICAgIHJldHVybiBpbnRlcmFjdGFibGVcbiAgfVxuICByZXR1cm4gaW50ZXJhY3RhYmxlLm9wdGlvbnMucmVzaXplXG59XG5cbmZ1bmN0aW9uIGNoZWNrUmVzaXplRWRnZShcbiAgbmFtZTogc3RyaW5nLFxuICB2YWx1ZTogYW55LFxuICBwYWdlOiBQb2ludCxcbiAgZWxlbWVudDogTm9kZSxcbiAgaW50ZXJhY3RhYmxlRWxlbWVudDogRWxlbWVudCxcbiAgcmVjdDogUmVjdCxcbiAgbWFyZ2luOiBudW1iZXIsXG4pIHtcbiAgLy8gZmFsc2UsICcnLCB1bmRlZmluZWQsIG51bGxcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gdHJ1ZSB2YWx1ZSwgdXNlIHBvaW50ZXIgY29vcmRzIGFuZCBlbGVtZW50IHJlY3RcbiAgaWYgKHZhbHVlID09PSB0cnVlKSB7XG4gICAgLy8gaWYgZGltZW5zaW9ucyBhcmUgbmVnYXRpdmUsIFwic3dpdGNoXCIgZWRnZXNcbiAgICBjb25zdCB3aWR0aCA9IGlzLm51bWJlcihyZWN0LndpZHRoKSA/IHJlY3Qud2lkdGggOiByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0XG4gICAgY29uc3QgaGVpZ2h0ID0gaXMubnVtYmVyKHJlY3QuaGVpZ2h0KSA/IHJlY3QuaGVpZ2h0IDogcmVjdC5ib3R0b20gLSByZWN0LnRvcFxuXG4gICAgLy8gZG9uJ3QgdXNlIG1hcmdpbiBncmVhdGVyIHRoYW4gaGFsZiB0aGUgcmVsZXZlbnQgZGltZW5zaW9uXG4gICAgbWFyZ2luID0gTWF0aC5taW4obWFyZ2luLCBNYXRoLmFicygobmFtZSA9PT0gJ2xlZnQnIHx8IG5hbWUgPT09ICdyaWdodCcgPyB3aWR0aCA6IGhlaWdodCkgLyAyKSlcblxuICAgIGlmICh3aWR0aCA8IDApIHtcbiAgICAgIGlmIChuYW1lID09PSAnbGVmdCcpIHtcbiAgICAgICAgbmFtZSA9ICdyaWdodCdcbiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICBuYW1lID0gJ2xlZnQnXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChoZWlnaHQgPCAwKSB7XG4gICAgICBpZiAobmFtZSA9PT0gJ3RvcCcpIHtcbiAgICAgICAgbmFtZSA9ICdib3R0b20nXG4gICAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICdib3R0b20nKSB7XG4gICAgICAgIG5hbWUgPSAndG9wJ1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChuYW1lID09PSAnbGVmdCcpIHtcbiAgICAgIGNvbnN0IGVkZ2UgPSB3aWR0aCA+PSAwID8gcmVjdC5sZWZ0IDogcmVjdC5yaWdodFxuICAgICAgcmV0dXJuIHBhZ2UueCA8IGVkZ2UgKyBtYXJnaW5cbiAgICB9XG4gICAgaWYgKG5hbWUgPT09ICd0b3AnKSB7XG4gICAgICBjb25zdCBlZGdlID0gaGVpZ2h0ID49IDAgPyByZWN0LnRvcCA6IHJlY3QuYm90dG9tXG4gICAgICByZXR1cm4gcGFnZS55IDwgZWRnZSArIG1hcmdpblxuICAgIH1cblxuICAgIGlmIChuYW1lID09PSAncmlnaHQnKSB7XG4gICAgICByZXR1cm4gcGFnZS54ID4gKHdpZHRoID49IDAgPyByZWN0LnJpZ2h0IDogcmVjdC5sZWZ0KSAtIG1hcmdpblxuICAgIH1cbiAgICBpZiAobmFtZSA9PT0gJ2JvdHRvbScpIHtcbiAgICAgIHJldHVybiBwYWdlLnkgPiAoaGVpZ2h0ID49IDAgPyByZWN0LmJvdHRvbSA6IHJlY3QudG9wKSAtIG1hcmdpblxuICAgIH1cbiAgfVxuXG4gIC8vIHRoZSByZW1haW5pbmcgY2hlY2tzIHJlcXVpcmUgYW4gZWxlbWVudFxuICBpZiAoIWlzLmVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJldHVybiBpcy5lbGVtZW50KHZhbHVlKVxuICAgID8gLy8gdGhlIHZhbHVlIGlzIGFuIGVsZW1lbnQgdG8gdXNlIGFzIGEgcmVzaXplIGhhbmRsZVxuICAgICAgdmFsdWUgPT09IGVsZW1lbnRcbiAgICA6IC8vIG90aGVyd2lzZSBjaGVjayBpZiBlbGVtZW50IG1hdGNoZXMgdmFsdWUgYXMgc2VsZWN0b3JcbiAgICAgIGRvbS5tYXRjaGVzVXBUbyhlbGVtZW50LCB2YWx1ZSwgaW50ZXJhY3RhYmxlRWxlbWVudClcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbXVsdGlsaW5lLXRlcm5hcnkgKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvY29uc2lzdGVudC10eXBlLWltcG9ydHNcbmZ1bmN0aW9uIGluaXRDdXJzb3JzKGJyb3dzZXI6IHR5cGVvZiBpbXBvcnQoJ0BpbnRlcmFjdGpzL3V0aWxzL2Jyb3dzZXInKS5kZWZhdWx0KSB7XG4gIHJldHVybiBicm93c2VyLmlzSWU5XG4gICAgPyB7XG4gICAgICAgIHg6ICdlLXJlc2l6ZScsXG4gICAgICAgIHk6ICdzLXJlc2l6ZScsXG4gICAgICAgIHh5OiAnc2UtcmVzaXplJyxcblxuICAgICAgICB0b3A6ICduLXJlc2l6ZScsXG4gICAgICAgIGxlZnQ6ICd3LXJlc2l6ZScsXG4gICAgICAgIGJvdHRvbTogJ3MtcmVzaXplJyxcbiAgICAgICAgcmlnaHQ6ICdlLXJlc2l6ZScsXG4gICAgICAgIHRvcGxlZnQ6ICdzZS1yZXNpemUnLFxuICAgICAgICBib3R0b21yaWdodDogJ3NlLXJlc2l6ZScsXG4gICAgICAgIHRvcHJpZ2h0OiAnbmUtcmVzaXplJyxcbiAgICAgICAgYm90dG9tbGVmdDogJ25lLXJlc2l6ZScsXG4gICAgICB9XG4gICAgOiB7XG4gICAgICAgIHg6ICdldy1yZXNpemUnLFxuICAgICAgICB5OiAnbnMtcmVzaXplJyxcbiAgICAgICAgeHk6ICdud3NlLXJlc2l6ZScsXG5cbiAgICAgICAgdG9wOiAnbnMtcmVzaXplJyxcbiAgICAgICAgbGVmdDogJ2V3LXJlc2l6ZScsXG4gICAgICAgIGJvdHRvbTogJ25zLXJlc2l6ZScsXG4gICAgICAgIHJpZ2h0OiAnZXctcmVzaXplJyxcbiAgICAgICAgdG9wbGVmdDogJ253c2UtcmVzaXplJyxcbiAgICAgICAgYm90dG9tcmlnaHQ6ICdud3NlLXJlc2l6ZScsXG4gICAgICAgIHRvcHJpZ2h0OiAnbmVzdy1yZXNpemUnLFxuICAgICAgICBib3R0b21sZWZ0OiAnbmVzdy1yZXNpemUnLFxuICAgICAgfVxufVxuLyogZXNsaW50LWVuYWJsZSBtdWx0aWxpbmUtdGVybmFyeSAqL1xuXG5mdW5jdGlvbiBzdGFydCh7IGlFdmVudCwgaW50ZXJhY3Rpb24gfTogeyBpRXZlbnQ6IEludGVyYWN0RXZlbnQ8YW55LCBhbnk+OyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfSkge1xuICBpZiAoaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSAhPT0gJ3Jlc2l6ZScgfHwgIWludGVyYWN0aW9uLnByZXBhcmVkLmVkZ2VzKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCByZXNpemVFdmVudCA9IGlFdmVudCBhcyBSZXNpemVFdmVudFxuICBjb25zdCByZWN0ID0gaW50ZXJhY3Rpb24ucmVjdFxuXG4gIGludGVyYWN0aW9uLl9yZWN0cyA9IHtcbiAgICBzdGFydDogZXh0ZW5kKHt9LCByZWN0KSxcbiAgICBjb3JyZWN0ZWQ6IGV4dGVuZCh7fSwgcmVjdCksXG4gICAgcHJldmlvdXM6IGV4dGVuZCh7fSwgcmVjdCksXG4gICAgZGVsdGE6IHtcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIHdpZHRoOiAwLFxuICAgICAgdG9wOiAwLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgaGVpZ2h0OiAwLFxuICAgIH0sXG4gIH1cblxuICByZXNpemVFdmVudC5lZGdlcyA9IGludGVyYWN0aW9uLnByZXBhcmVkLmVkZ2VzXG4gIHJlc2l6ZUV2ZW50LnJlY3QgPSBpbnRlcmFjdGlvbi5fcmVjdHMuY29ycmVjdGVkXG4gIHJlc2l6ZUV2ZW50LmRlbHRhUmVjdCA9IGludGVyYWN0aW9uLl9yZWN0cy5kZWx0YVxufVxuXG5mdW5jdGlvbiBtb3ZlKHsgaUV2ZW50LCBpbnRlcmFjdGlvbiB9OiB7IGlFdmVudDogSW50ZXJhY3RFdmVudDxhbnksIGFueT47IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiB9KSB7XG4gIGlmIChpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lICE9PSAncmVzaXplJyB8fCAhaW50ZXJhY3Rpb24ucHJlcGFyZWQuZWRnZXMpIHJldHVyblxuXG4gIGNvbnN0IHJlc2l6ZUV2ZW50ID0gaUV2ZW50IGFzIFJlc2l6ZUV2ZW50XG4gIGNvbnN0IHJlc2l6ZU9wdGlvbnMgPSBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUub3B0aW9ucy5yZXNpemVcbiAgY29uc3QgaW52ZXJ0ID0gcmVzaXplT3B0aW9ucy5pbnZlcnRcbiAgY29uc3QgaW52ZXJ0aWJsZSA9IGludmVydCA9PT0gJ3JlcG9zaXRpb24nIHx8IGludmVydCA9PT0gJ25lZ2F0ZSdcblxuICBjb25zdCBjdXJyZW50ID0gaW50ZXJhY3Rpb24ucmVjdFxuICBjb25zdCB7IHN0YXJ0OiBzdGFydFJlY3QsIGNvcnJlY3RlZCwgZGVsdGE6IGRlbHRhUmVjdCwgcHJldmlvdXMgfSA9IGludGVyYWN0aW9uLl9yZWN0c1xuXG4gIGV4dGVuZChwcmV2aW91cywgY29ycmVjdGVkKVxuXG4gIGlmIChpbnZlcnRpYmxlKSB7XG4gICAgLy8gaWYgaW52ZXJ0aWJsZSwgY29weSB0aGUgY3VycmVudCByZWN0XG4gICAgZXh0ZW5kKGNvcnJlY3RlZCwgY3VycmVudClcblxuICAgIGlmIChpbnZlcnQgPT09ICdyZXBvc2l0aW9uJykge1xuICAgICAgLy8gc3dhcCBlZGdlIHZhbHVlcyBpZiBuZWNlc3NhcnkgdG8ga2VlcCB3aWR0aC9oZWlnaHQgcG9zaXRpdmVcbiAgICAgIGlmIChjb3JyZWN0ZWQudG9wID4gY29ycmVjdGVkLmJvdHRvbSkge1xuICAgICAgICBjb25zdCBzd2FwID0gY29ycmVjdGVkLnRvcFxuXG4gICAgICAgIGNvcnJlY3RlZC50b3AgPSBjb3JyZWN0ZWQuYm90dG9tXG4gICAgICAgIGNvcnJlY3RlZC5ib3R0b20gPSBzd2FwXG4gICAgICB9XG4gICAgICBpZiAoY29ycmVjdGVkLmxlZnQgPiBjb3JyZWN0ZWQucmlnaHQpIHtcbiAgICAgICAgY29uc3Qgc3dhcCA9IGNvcnJlY3RlZC5sZWZ0XG5cbiAgICAgICAgY29ycmVjdGVkLmxlZnQgPSBjb3JyZWN0ZWQucmlnaHRcbiAgICAgICAgY29ycmVjdGVkLnJpZ2h0ID0gc3dhcFxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBpZiBub3QgaW52ZXJ0aWJsZSwgcmVzdHJpY3QgdG8gbWluaW11bSBvZiAweDAgcmVjdFxuICAgIGNvcnJlY3RlZC50b3AgPSBNYXRoLm1pbihjdXJyZW50LnRvcCwgc3RhcnRSZWN0LmJvdHRvbSlcbiAgICBjb3JyZWN0ZWQuYm90dG9tID0gTWF0aC5tYXgoY3VycmVudC5ib3R0b20sIHN0YXJ0UmVjdC50b3ApXG4gICAgY29ycmVjdGVkLmxlZnQgPSBNYXRoLm1pbihjdXJyZW50LmxlZnQsIHN0YXJ0UmVjdC5yaWdodClcbiAgICBjb3JyZWN0ZWQucmlnaHQgPSBNYXRoLm1heChjdXJyZW50LnJpZ2h0LCBzdGFydFJlY3QubGVmdClcbiAgfVxuXG4gIGNvcnJlY3RlZC53aWR0aCA9IGNvcnJlY3RlZC5yaWdodCAtIGNvcnJlY3RlZC5sZWZ0XG4gIGNvcnJlY3RlZC5oZWlnaHQgPSBjb3JyZWN0ZWQuYm90dG9tIC0gY29ycmVjdGVkLnRvcFxuXG4gIGZvciAoY29uc3QgZWRnZSBpbiBjb3JyZWN0ZWQpIHtcbiAgICBkZWx0YVJlY3RbZWRnZV0gPSBjb3JyZWN0ZWRbZWRnZV0gLSBwcmV2aW91c1tlZGdlXVxuICB9XG5cbiAgcmVzaXplRXZlbnQuZWRnZXMgPSBpbnRlcmFjdGlvbi5wcmVwYXJlZC5lZGdlc1xuICByZXNpemVFdmVudC5yZWN0ID0gY29ycmVjdGVkXG4gIHJlc2l6ZUV2ZW50LmRlbHRhUmVjdCA9IGRlbHRhUmVjdFxufVxuXG5mdW5jdGlvbiBlbmQoeyBpRXZlbnQsIGludGVyYWN0aW9uIH06IHsgaUV2ZW50OiBJbnRlcmFjdEV2ZW50PGFueSwgYW55PjsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uIH0pIHtcbiAgaWYgKGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgIT09ICdyZXNpemUnIHx8ICFpbnRlcmFjdGlvbi5wcmVwYXJlZC5lZGdlcykgcmV0dXJuXG5cbiAgY29uc3QgcmVzaXplRXZlbnQgPSBpRXZlbnQgYXMgUmVzaXplRXZlbnRcblxuICByZXNpemVFdmVudC5lZGdlcyA9IGludGVyYWN0aW9uLnByZXBhcmVkLmVkZ2VzXG4gIHJlc2l6ZUV2ZW50LnJlY3QgPSBpbnRlcmFjdGlvbi5fcmVjdHMuY29ycmVjdGVkXG4gIHJlc2l6ZUV2ZW50LmRlbHRhUmVjdCA9IGludGVyYWN0aW9uLl9yZWN0cy5kZWx0YVxufVxuXG5mdW5jdGlvbiB1cGRhdGVFdmVudEF4ZXMoe1xuICBpRXZlbnQsXG4gIGludGVyYWN0aW9uLFxufToge1xuICBpRXZlbnQ6IEludGVyYWN0RXZlbnQ8YW55LCBhbnk+XG4gIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvblxufSkge1xuICBpZiAoaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSAhPT0gJ3Jlc2l6ZScgfHwgIWludGVyYWN0aW9uLnJlc2l6ZUF4ZXMpIHJldHVyblxuXG4gIGNvbnN0IG9wdGlvbnMgPSBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUub3B0aW9uc1xuICBjb25zdCByZXNpemVFdmVudCA9IGlFdmVudCBhcyBSZXNpemVFdmVudFxuXG4gIGlmIChvcHRpb25zLnJlc2l6ZS5zcXVhcmUpIHtcbiAgICBpZiAoaW50ZXJhY3Rpb24ucmVzaXplQXhlcyA9PT0gJ3knKSB7XG4gICAgICByZXNpemVFdmVudC5kZWx0YS54ID0gcmVzaXplRXZlbnQuZGVsdGEueVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNpemVFdmVudC5kZWx0YS55ID0gcmVzaXplRXZlbnQuZGVsdGEueFxuICAgIH1cbiAgICByZXNpemVFdmVudC5heGVzID0gJ3h5J1xuICB9IGVsc2Uge1xuICAgIHJlc2l6ZUV2ZW50LmF4ZXMgPSBpbnRlcmFjdGlvbi5yZXNpemVBeGVzXG5cbiAgICBpZiAoaW50ZXJhY3Rpb24ucmVzaXplQXhlcyA9PT0gJ3gnKSB7XG4gICAgICByZXNpemVFdmVudC5kZWx0YS55ID0gMFxuICAgIH0gZWxzZSBpZiAoaW50ZXJhY3Rpb24ucmVzaXplQXhlcyA9PT0gJ3knKSB7XG4gICAgICByZXNpemVFdmVudC5kZWx0YS54ID0gMFxuICAgIH1cbiAgfVxufVxuXG5jb25zdCByZXNpemU6IFBsdWdpbiA9IHtcbiAgaWQ6ICdhY3Rpb25zL3Jlc2l6ZScsXG4gIGJlZm9yZTogWydhY3Rpb25zL2RyYWcnXSxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2ludGVyYWN0aW9uczpuZXcnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBpbnRlcmFjdGlvbi5yZXNpemVBeGVzID0gJ3h5J1xuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1zdGFydCc6IChhcmcpID0+IHtcbiAgICAgIHN0YXJ0KGFyZylcbiAgICAgIHVwZGF0ZUV2ZW50QXhlcyhhcmcpXG4gICAgfSxcbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1tb3ZlJzogKGFyZykgPT4ge1xuICAgICAgbW92ZShhcmcpXG4gICAgICB1cGRhdGVFdmVudEF4ZXMoYXJnKVxuICAgIH0sXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tZW5kJzogZW5kLFxuICAgICdhdXRvLXN0YXJ0OmNoZWNrJzogcmVzaXplQ2hlY2tlcixcbiAgfSxcblxuICBkZWZhdWx0czoge1xuICAgIHNxdWFyZTogZmFsc2UsXG4gICAgcHJlc2VydmVBc3BlY3RSYXRpbzogZmFsc2UsXG4gICAgYXhpczogJ3h5JyxcblxuICAgIC8vIHVzZSBkZWZhdWx0IG1hcmdpblxuICAgIG1hcmdpbjogTmFOLFxuXG4gICAgLy8gb2JqZWN0IHdpdGggcHJvcHMgbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tIHdoaWNoIGFyZVxuICAgIC8vIHRydWUvZmFsc2UgdmFsdWVzIHRvIHJlc2l6ZSB3aGVuIHRoZSBwb2ludGVyIGlzIG92ZXIgdGhhdCBlZGdlLFxuICAgIC8vIENTUyBzZWxlY3RvcnMgdG8gbWF0Y2ggdGhlIGhhbmRsZXMgZm9yIGVhY2ggZGlyZWN0aW9uXG4gICAgLy8gb3IgdGhlIEVsZW1lbnRzIGZvciBlYWNoIGhhbmRsZVxuICAgIGVkZ2VzOiBudWxsLFxuXG4gICAgLy8gYSB2YWx1ZSBvZiAnbm9uZScgd2lsbCBsaW1pdCB0aGUgcmVzaXplIHJlY3QgdG8gYSBtaW5pbXVtIG9mIDB4MFxuICAgIC8vICduZWdhdGUnIHdpbGwgYWxvdyB0aGUgcmVjdCB0byBoYXZlIG5lZ2F0aXZlIHdpZHRoL2hlaWdodFxuICAgIC8vICdyZXBvc2l0aW9uJyB3aWxsIGtlZXAgdGhlIHdpZHRoL2hlaWdodCBwb3NpdGl2ZSBieSBzd2FwcGluZ1xuICAgIC8vIHRoZSB0b3AgYW5kIGJvdHRvbSBlZGdlcyBhbmQvb3Igc3dhcHBpbmcgdGhlIGxlZnQgYW5kIHJpZ2h0IGVkZ2VzXG4gICAgaW52ZXJ0OiAnbm9uZScsXG4gIH0gYXMgUmVzaXphYmxlT3B0aW9ucyxcblxuICBjdXJzb3JzOiBudWxsIGFzIFJldHVyblR5cGU8dHlwZW9mIGluaXRDdXJzb3JzPixcblxuICBnZXRDdXJzb3IoeyBlZGdlcywgYXhpcywgbmFtZSB9OiBBY3Rpb25Qcm9wcykge1xuICAgIGNvbnN0IGN1cnNvcnMgPSByZXNpemUuY3Vyc29yc1xuICAgIGxldCByZXN1bHQ6IHN0cmluZyA9IG51bGxcblxuICAgIGlmIChheGlzKSB7XG4gICAgICByZXN1bHQgPSBjdXJzb3JzW25hbWUgKyBheGlzXVxuICAgIH0gZWxzZSBpZiAoZWRnZXMpIHtcbiAgICAgIGxldCBjdXJzb3JLZXkgPSAnJ1xuXG4gICAgICBmb3IgKGNvbnN0IGVkZ2Ugb2YgWyd0b3AnLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnXSkge1xuICAgICAgICBpZiAoZWRnZXNbZWRnZV0pIHtcbiAgICAgICAgICBjdXJzb3JLZXkgKz0gZWRnZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdCA9IGN1cnNvcnNbY3Vyc29yS2V5XVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRcbiAgfSxcblxuICBmaWx0ZXJFdmVudFR5cGU6ICh0eXBlOiBzdHJpbmcpID0+IHR5cGUuc2VhcmNoKCdyZXNpemUnKSA9PT0gMCxcblxuICBkZWZhdWx0TWFyZ2luOiBudWxsIGFzIG51bWJlcixcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVzaXplXG4iLCAibGV0IGxhc3RUaW1lID0gMFxubGV0IHJlcXVlc3Q6IHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbmxldCBjYW5jZWw6IHR5cGVvZiBjYW5jZWxBbmltYXRpb25GcmFtZVxuXG5mdW5jdGlvbiBpbml0KGdsb2JhbDogV2luZG93IHwgdHlwZW9mIGdsb2JhbFRoaXMpIHtcbiAgcmVxdWVzdCA9IGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgY2FuY2VsID0gZ2xvYmFsLmNhbmNlbEFuaW1hdGlvbkZyYW1lXG5cbiAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgY29uc3QgdmVuZG9ycyA9IFsnbXMnLCAnbW96JywgJ3dlYmtpdCcsICdvJ11cblxuICAgIGZvciAoY29uc3QgdmVuZG9yIG9mIHZlbmRvcnMpIHtcbiAgICAgIHJlcXVlc3QgPSBnbG9iYWxbYCR7dmVuZG9yfVJlcXVlc3RBbmltYXRpb25GcmFtZWAgYXMgJ3JlcXVlc3RBbmltYXRpb25GcmFtZSddXG4gICAgICBjYW5jZWwgPVxuICAgICAgICBnbG9iYWxbYCR7dmVuZG9yfUNhbmNlbEFuaW1hdGlvbkZyYW1lYCBhcyAnY2FuY2VsQW5pbWF0aW9uRnJhbWUnXSB8fFxuICAgICAgICBnbG9iYWxbYCR7dmVuZG9yfUNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZWAgYXMgJ2NhbmNlbEFuaW1hdGlvbkZyYW1lJ11cbiAgICB9XG4gIH1cblxuICByZXF1ZXN0ID0gcmVxdWVzdCAmJiByZXF1ZXN0LmJpbmQoZ2xvYmFsKVxuICBjYW5jZWwgPSBjYW5jZWwgJiYgY2FuY2VsLmJpbmQoZ2xvYmFsKVxuXG4gIGlmICghcmVxdWVzdCkge1xuICAgIHJlcXVlc3QgPSAoY2FsbGJhY2spID0+IHtcbiAgICAgIGNvbnN0IGN1cnJUaW1lID0gRGF0ZS5ub3coKVxuICAgICAgY29uc3QgdGltZVRvQ2FsbCA9IE1hdGgubWF4KDAsIDE2IC0gKGN1cnJUaW1lIC0gbGFzdFRpbWUpKVxuICAgICAgY29uc3QgdG9rZW4gPSBnbG9iYWwuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuL25vLWNhbGxiYWNrLWxpdGVyYWxcbiAgICAgICAgY2FsbGJhY2soY3VyclRpbWUgKyB0aW1lVG9DYWxsKVxuICAgICAgfSwgdGltZVRvQ2FsbClcblxuICAgICAgbGFzdFRpbWUgPSBjdXJyVGltZSArIHRpbWVUb0NhbGxcbiAgICAgIHJldHVybiB0b2tlbiBhcyBhbnlcbiAgICB9XG5cbiAgICBjYW5jZWwgPSAodG9rZW4pID0+IGNsZWFyVGltZW91dCh0b2tlbilcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHJlcXVlc3Q6IChjYWxsYmFjazogRnJhbWVSZXF1ZXN0Q2FsbGJhY2spID0+IHJlcXVlc3QoY2FsbGJhY2spLFxuICBjYW5jZWw6ICh0b2tlbjogbnVtYmVyKSA9PiBjYW5jZWwodG9rZW4pLFxuICBpbml0LFxufVxuIiwgImltcG9ydCB0eXBlIHsgU2NvcGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICcuL2RyYWcvcGx1Z2luJ1xuaW1wb3J0ICcuL2Ryb3AvcGx1Z2luJ1xuaW1wb3J0ICcuL2dlc3R1cmUvcGx1Z2luJ1xuaW1wb3J0ICcuL3Jlc2l6ZS9wbHVnaW4nXG5cbmltcG9ydCBkcmFnIGZyb20gJy4vZHJhZy9wbHVnaW4nXG5pbXBvcnQgZHJvcCBmcm9tICcuL2Ryb3AvcGx1Z2luJ1xuaW1wb3J0IGdlc3R1cmUgZnJvbSAnLi9nZXN0dXJlL3BsdWdpbidcbmltcG9ydCByZXNpemUgZnJvbSAnLi9yZXNpemUvcGx1Z2luJ1xuLyogZXNsaW50LWVuYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAqL1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlkOiAnYWN0aW9ucycsXG4gIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gICAgc2NvcGUudXNlUGx1Z2luKGdlc3R1cmUpXG4gICAgc2NvcGUudXNlUGx1Z2luKHJlc2l6ZSlcbiAgICBzY29wZS51c2VQbHVnaW4oZHJhZylcbiAgICBzY29wZS51c2VQbHVnaW4oZHJvcClcbiAgfSxcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgSW50ZXJhY3Rpb24gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgU2NvcGUsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IEFjdGlvbk5hbWUsIFBvaW50ZXJUeXBlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCAqIGFzIGRvbVV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuaW1wb3J0IHJhZiBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yYWYnXG5pbXBvcnQgeyBnZXRTdHJpbmdPcHRpb25SZXN1bHQgfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yZWN0J1xuaW1wb3J0IHsgZ2V0V2luZG93IH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvd2luZG93J1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9zY29wZScge1xuICBpbnRlcmZhY2UgU2NvcGUge1xuICAgIGF1dG9TY3JvbGw6IHR5cGVvZiBhdXRvU2Nyb2xsXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0aW9uIHtcbiAgICBhdXRvU2Nyb2xsPzogdHlwZW9mIGF1dG9TY3JvbGxcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJyB7XG4gIGludGVyZmFjZSBQZXJBY3Rpb25EZWZhdWx0cyB7XG4gICAgYXV0b1Njcm9sbD86IEF1dG9TY3JvbGxPcHRpb25zXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdXRvU2Nyb2xsT3B0aW9ucyB7XG4gIGNvbnRhaW5lcj86IFdpbmRvdyB8IEhUTUxFbGVtZW50IHwgc3RyaW5nXG4gIG1hcmdpbj86IG51bWJlclxuICBkaXN0YW5jZT86IG51bWJlclxuICBpbnRlcnZhbD86IG51bWJlclxuICBzcGVlZD86IG51bWJlclxuICBlbmFibGVkPzogYm9vbGVhblxufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IGRlZmF1bHRzLCBhY3Rpb25zIH0gPSBzY29wZVxuXG4gIHNjb3BlLmF1dG9TY3JvbGwgPSBhdXRvU2Nyb2xsXG4gIGF1dG9TY3JvbGwubm93ID0gKCkgPT4gc2NvcGUubm93KClcblxuICBhY3Rpb25zLnBoYXNlbGVzc1R5cGVzLmF1dG9zY3JvbGwgPSB0cnVlXG4gIGRlZmF1bHRzLnBlckFjdGlvbi5hdXRvU2Nyb2xsID0gYXV0b1Njcm9sbC5kZWZhdWx0c1xufVxuXG5jb25zdCBhdXRvU2Nyb2xsID0ge1xuICBkZWZhdWx0czoge1xuICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgIG1hcmdpbjogNjAsXG5cbiAgICAvLyB0aGUgaXRlbSB0aGF0IGlzIHNjcm9sbGVkIChXaW5kb3cgb3IgSFRNTEVsZW1lbnQpXG4gICAgY29udGFpbmVyOiBudWxsIGFzIEF1dG9TY3JvbGxPcHRpb25zWydjb250YWluZXInXSxcblxuICAgIC8vIHRoZSBzY3JvbGwgc3BlZWQgaW4gcGl4ZWxzIHBlciBzZWNvbmRcbiAgICBzcGVlZDogMzAwLFxuICB9IGFzIEF1dG9TY3JvbGxPcHRpb25zLFxuXG4gIG5vdzogRGF0ZS5ub3csXG5cbiAgaW50ZXJhY3Rpb246IG51bGwgYXMgSW50ZXJhY3Rpb248QWN0aW9uTmFtZT4gfCBudWxsLFxuICBpOiAwLCAvLyB0aGUgaGFuZGxlIHJldHVybmVkIGJ5IHdpbmRvdy5zZXRJbnRlcnZhbFxuXG4gIC8vIERpcmVjdGlvbiBlYWNoIHB1bHNlIGlzIHRvIHNjcm9sbCBpblxuICB4OiAwLFxuICB5OiAwLFxuXG4gIGlzU2Nyb2xsaW5nOiBmYWxzZSxcbiAgcHJldlRpbWU6IDAsXG4gIG1hcmdpbjogMCxcbiAgc3BlZWQ6IDAsXG5cbiAgc3RhcnQoaW50ZXJhY3Rpb246IEludGVyYWN0aW9uKSB7XG4gICAgYXV0b1Njcm9sbC5pc1Njcm9sbGluZyA9IHRydWVcbiAgICByYWYuY2FuY2VsKGF1dG9TY3JvbGwuaSlcblxuICAgIGludGVyYWN0aW9uLmF1dG9TY3JvbGwgPSBhdXRvU2Nyb2xsXG4gICAgYXV0b1Njcm9sbC5pbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uXG4gICAgYXV0b1Njcm9sbC5wcmV2VGltZSA9IGF1dG9TY3JvbGwubm93KClcbiAgICBhdXRvU2Nyb2xsLmkgPSByYWYucmVxdWVzdChhdXRvU2Nyb2xsLnNjcm9sbClcbiAgfSxcblxuICBzdG9wKCkge1xuICAgIGF1dG9TY3JvbGwuaXNTY3JvbGxpbmcgPSBmYWxzZVxuICAgIGlmIChhdXRvU2Nyb2xsLmludGVyYWN0aW9uKSB7XG4gICAgICBhdXRvU2Nyb2xsLmludGVyYWN0aW9uLmF1dG9TY3JvbGwgPSBudWxsXG4gICAgfVxuICAgIHJhZi5jYW5jZWwoYXV0b1Njcm9sbC5pKVxuICB9LFxuXG4gIC8vIHNjcm9sbCB0aGUgd2luZG93IGJ5IHRoZSB2YWx1ZXMgaW4gc2Nyb2xsLngveVxuICBzY3JvbGwoKSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gYXV0b1Njcm9sbFxuICAgIGNvbnN0IHsgaW50ZXJhY3RhYmxlLCBlbGVtZW50IH0gPSBpbnRlcmFjdGlvblxuICAgIGNvbnN0IGFjdGlvbk5hbWUgPSBpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lXG4gICAgY29uc3Qgb3B0aW9ucyA9IGludGVyYWN0YWJsZS5vcHRpb25zW2FjdGlvbk5hbWVdLmF1dG9TY3JvbGxcbiAgICBjb25zdCBjb250YWluZXIgPSBnZXRDb250YWluZXIob3B0aW9ucy5jb250YWluZXIsIGludGVyYWN0YWJsZSwgZWxlbWVudClcbiAgICBjb25zdCBub3cgPSBhdXRvU2Nyb2xsLm5vdygpXG4gICAgLy8gY2hhbmdlIGluIHRpbWUgaW4gc2Vjb25kc1xuICAgIGNvbnN0IGR0ID0gKG5vdyAtIGF1dG9TY3JvbGwucHJldlRpbWUpIC8gMTAwMFxuICAgIC8vIGRpc3BsYWNlbWVudFxuICAgIGNvbnN0IHMgPSBvcHRpb25zLnNwZWVkICogZHRcblxuICAgIGlmIChzID49IDEpIHtcbiAgICAgIGNvbnN0IHNjcm9sbEJ5ID0ge1xuICAgICAgICB4OiBhdXRvU2Nyb2xsLnggKiBzLFxuICAgICAgICB5OiBhdXRvU2Nyb2xsLnkgKiBzLFxuICAgICAgfVxuXG4gICAgICBpZiAoc2Nyb2xsQnkueCB8fCBzY3JvbGxCeS55KSB7XG4gICAgICAgIGNvbnN0IHByZXZTY3JvbGwgPSBnZXRTY3JvbGwoY29udGFpbmVyKVxuXG4gICAgICAgIGlmIChpcy53aW5kb3coY29udGFpbmVyKSkge1xuICAgICAgICAgIGNvbnRhaW5lci5zY3JvbGxCeShzY3JvbGxCeS54LCBzY3JvbGxCeS55KVxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgIGNvbnRhaW5lci5zY3JvbGxMZWZ0ICs9IHNjcm9sbEJ5LnhcbiAgICAgICAgICBjb250YWluZXIuc2Nyb2xsVG9wICs9IHNjcm9sbEJ5LnlcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGN1clNjcm9sbCA9IGdldFNjcm9sbChjb250YWluZXIpXG4gICAgICAgIGNvbnN0IGRlbHRhID0ge1xuICAgICAgICAgIHg6IGN1clNjcm9sbC54IC0gcHJldlNjcm9sbC54LFxuICAgICAgICAgIHk6IGN1clNjcm9sbC55IC0gcHJldlNjcm9sbC55LFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlbHRhLnggfHwgZGVsdGEueSkge1xuICAgICAgICAgIGludGVyYWN0YWJsZS5maXJlKHtcbiAgICAgICAgICAgIHR5cGU6ICdhdXRvc2Nyb2xsJyxcbiAgICAgICAgICAgIHRhcmdldDogZWxlbWVudCxcbiAgICAgICAgICAgIGludGVyYWN0YWJsZSxcbiAgICAgICAgICAgIGRlbHRhLFxuICAgICAgICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBhdXRvU2Nyb2xsLnByZXZUaW1lID0gbm93XG4gICAgfVxuXG4gICAgaWYgKGF1dG9TY3JvbGwuaXNTY3JvbGxpbmcpIHtcbiAgICAgIHJhZi5jYW5jZWwoYXV0b1Njcm9sbC5pKVxuICAgICAgYXV0b1Njcm9sbC5pID0gcmFmLnJlcXVlc3QoYXV0b1Njcm9sbC5zY3JvbGwpXG4gICAgfVxuICB9LFxuICBjaGVjayhpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSwgYWN0aW9uTmFtZTogQWN0aW9uTmFtZSkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBpbnRlcmFjdGFibGUub3B0aW9uc1xuXG4gICAgcmV0dXJuIG9wdGlvbnNbYWN0aW9uTmFtZV0uYXV0b1Njcm9sbD8uZW5hYmxlZFxuICB9LFxuICBvbkludGVyYWN0aW9uTW92ZTxUIGV4dGVuZHMgQWN0aW9uTmFtZT4oe1xuICAgIGludGVyYWN0aW9uLFxuICAgIHBvaW50ZXIsXG4gIH06IHtcbiAgICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248VD5cbiAgICBwb2ludGVyOiBQb2ludGVyVHlwZVxuICB9KSB7XG4gICAgaWYgKFxuICAgICAgIShpbnRlcmFjdGlvbi5pbnRlcmFjdGluZygpICYmIGF1dG9TY3JvbGwuY2hlY2soaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLCBpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lKSlcbiAgICApIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChpbnRlcmFjdGlvbi5zaW11bGF0aW9uKSB7XG4gICAgICBhdXRvU2Nyb2xsLnggPSBhdXRvU2Nyb2xsLnkgPSAwXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgdG9wOiBib29sZWFuXG4gICAgbGV0IHJpZ2h0OiBib29sZWFuXG4gICAgbGV0IGJvdHRvbTogYm9vbGVhblxuICAgIGxldCBsZWZ0OiBib29sZWFuXG5cbiAgICBjb25zdCB7IGludGVyYWN0YWJsZSwgZWxlbWVudCB9ID0gaW50ZXJhY3Rpb25cbiAgICBjb25zdCBhY3Rpb25OYW1lID0gaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZVxuICAgIGNvbnN0IG9wdGlvbnMgPSBpbnRlcmFjdGFibGUub3B0aW9uc1thY3Rpb25OYW1lXS5hdXRvU2Nyb2xsXG4gICAgY29uc3QgY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKG9wdGlvbnMuY29udGFpbmVyLCBpbnRlcmFjdGFibGUsIGVsZW1lbnQpXG5cbiAgICBpZiAoaXMud2luZG93KGNvbnRhaW5lcikpIHtcbiAgICAgIGxlZnQgPSBwb2ludGVyLmNsaWVudFggPCBhdXRvU2Nyb2xsLm1hcmdpblxuICAgICAgdG9wID0gcG9pbnRlci5jbGllbnRZIDwgYXV0b1Njcm9sbC5tYXJnaW5cbiAgICAgIHJpZ2h0ID0gcG9pbnRlci5jbGllbnRYID4gY29udGFpbmVyLmlubmVyV2lkdGggLSBhdXRvU2Nyb2xsLm1hcmdpblxuICAgICAgYm90dG9tID0gcG9pbnRlci5jbGllbnRZID4gY29udGFpbmVyLmlubmVySGVpZ2h0IC0gYXV0b1Njcm9sbC5tYXJnaW5cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVjdCA9IGRvbVV0aWxzLmdldEVsZW1lbnRDbGllbnRSZWN0KGNvbnRhaW5lcilcblxuICAgICAgbGVmdCA9IHBvaW50ZXIuY2xpZW50WCA8IHJlY3QubGVmdCArIGF1dG9TY3JvbGwubWFyZ2luXG4gICAgICB0b3AgPSBwb2ludGVyLmNsaWVudFkgPCByZWN0LnRvcCArIGF1dG9TY3JvbGwubWFyZ2luXG4gICAgICByaWdodCA9IHBvaW50ZXIuY2xpZW50WCA+IHJlY3QucmlnaHQgLSBhdXRvU2Nyb2xsLm1hcmdpblxuICAgICAgYm90dG9tID0gcG9pbnRlci5jbGllbnRZID4gcmVjdC5ib3R0b20gLSBhdXRvU2Nyb2xsLm1hcmdpblxuICAgIH1cblxuICAgIGF1dG9TY3JvbGwueCA9IHJpZ2h0ID8gMSA6IGxlZnQgPyAtMSA6IDBcbiAgICBhdXRvU2Nyb2xsLnkgPSBib3R0b20gPyAxIDogdG9wID8gLTEgOiAwXG5cbiAgICBpZiAoIWF1dG9TY3JvbGwuaXNTY3JvbGxpbmcpIHtcbiAgICAgIC8vIHNldCB0aGUgYXV0b1Njcm9sbCBwcm9wZXJ0aWVzIHRvIHRob3NlIG9mIHRoZSB0YXJnZXRcbiAgICAgIGF1dG9TY3JvbGwubWFyZ2luID0gb3B0aW9ucy5tYXJnaW5cbiAgICAgIGF1dG9TY3JvbGwuc3BlZWQgPSBvcHRpb25zLnNwZWVkXG5cbiAgICAgIGF1dG9TY3JvbGwuc3RhcnQoaW50ZXJhY3Rpb24pXG4gICAgfVxuICB9LFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGFpbmVyKHZhbHVlOiBhbnksIGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlLCBlbGVtZW50OiBFbGVtZW50KSB7XG4gIHJldHVybiAoXG4gICAgKGlzLnN0cmluZyh2YWx1ZSkgPyBnZXRTdHJpbmdPcHRpb25SZXN1bHQodmFsdWUsIGludGVyYWN0YWJsZSwgZWxlbWVudCkgOiB2YWx1ZSkgfHwgZ2V0V2luZG93KGVsZW1lbnQpXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbChjb250YWluZXI6IGFueSkge1xuICBpZiAoaXMud2luZG93KGNvbnRhaW5lcikpIHtcbiAgICBjb250YWluZXIgPSB3aW5kb3cuZG9jdW1lbnQuYm9keVxuICB9XG5cbiAgcmV0dXJuIHsgeDogY29udGFpbmVyLnNjcm9sbExlZnQsIHk6IGNvbnRhaW5lci5zY3JvbGxUb3AgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2Nyb2xsU2l6ZShjb250YWluZXI6IGFueSkge1xuICBpZiAoaXMud2luZG93KGNvbnRhaW5lcikpIHtcbiAgICBjb250YWluZXIgPSB3aW5kb3cuZG9jdW1lbnQuYm9keVxuICB9XG5cbiAgcmV0dXJuIHsgeDogY29udGFpbmVyLnNjcm9sbFdpZHRoLCB5OiBjb250YWluZXIuc2Nyb2xsSGVpZ2h0IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbFNpemVEZWx0YTxUIGV4dGVuZHMgQWN0aW9uTmFtZT4oXG4gIHtcbiAgICBpbnRlcmFjdGlvbixcbiAgICBlbGVtZW50LFxuICB9OiB7XG4gICAgaW50ZXJhY3Rpb246IFBhcnRpYWw8SW50ZXJhY3Rpb248VD4+XG4gICAgZWxlbWVudDogRWxlbWVudFxuICB9LFxuICBmdW5jOiBhbnksXG4pIHtcbiAgY29uc3Qgc2Nyb2xsT3B0aW9ucyA9IGludGVyYWN0aW9uICYmIGludGVyYWN0aW9uLmludGVyYWN0YWJsZS5vcHRpb25zW2ludGVyYWN0aW9uLnByZXBhcmVkLm5hbWVdLmF1dG9TY3JvbGxcblxuICBpZiAoIXNjcm9sbE9wdGlvbnMgfHwgIXNjcm9sbE9wdGlvbnMuZW5hYmxlZCkge1xuICAgIGZ1bmMoKVxuICAgIHJldHVybiB7IHg6IDAsIHk6IDAgfVxuICB9XG5cbiAgY29uc3Qgc2Nyb2xsQ29udGFpbmVyID0gZ2V0Q29udGFpbmVyKHNjcm9sbE9wdGlvbnMuY29udGFpbmVyLCBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUsIGVsZW1lbnQpXG5cbiAgY29uc3QgcHJldlNpemUgPSBnZXRTY3JvbGwoc2Nyb2xsQ29udGFpbmVyKVxuICBmdW5jKClcbiAgY29uc3QgY3VyU2l6ZSA9IGdldFNjcm9sbChzY3JvbGxDb250YWluZXIpXG5cbiAgcmV0dXJuIHtcbiAgICB4OiBjdXJTaXplLnggLSBwcmV2U2l6ZS54LFxuICAgIHk6IGN1clNpemUueSAtIHByZXZTaXplLnksXG4gIH1cbn1cblxuY29uc3QgYXV0b1Njcm9sbFBsdWdpbjogUGx1Z2luID0ge1xuICBpZDogJ2F1dG8tc2Nyb2xsJyxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2ludGVyYWN0aW9uczpuZXcnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBpbnRlcmFjdGlvbi5hdXRvU2Nyb2xsID0gbnVsbFxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOmRlc3Ryb3knOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBpbnRlcmFjdGlvbi5hdXRvU2Nyb2xsID0gbnVsbFxuICAgICAgYXV0b1Njcm9sbC5zdG9wKClcbiAgICAgIGlmIChhdXRvU2Nyb2xsLmludGVyYWN0aW9uKSB7XG4gICAgICAgIGF1dG9TY3JvbGwuaW50ZXJhY3Rpb24gPSBudWxsXG4gICAgICB9XG4gICAgfSxcblxuICAgICdpbnRlcmFjdGlvbnM6c3RvcCc6IGF1dG9TY3JvbGwuc3RvcCxcblxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLW1vdmUnOiAoYXJnOiBhbnkpID0+IGF1dG9TY3JvbGwub25JbnRlcmFjdGlvbk1vdmUoYXJnKSxcbiAgfSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXV0b1Njcm9sbFBsdWdpblxuIiwgImltcG9ydCB0eXBlIHsgQWN0aW9uTmFtZSwgQWN0aW9uUHJvcHMgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5pbXBvcnQgeyB3aW5kb3cgfSBmcm9tICcuL3dpbmRvdydcblxuZXhwb3J0IGZ1bmN0aW9uIHdhcm5PbmNlPFQ+KHRoaXM6IFQsIG1ldGhvZDogKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnksIG1lc3NhZ2U6IHN0cmluZykge1xuICBsZXQgd2FybmVkID0gZmFsc2VcblxuICByZXR1cm4gZnVuY3Rpb24gKHRoaXM6IFQpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgOyh3aW5kb3cgYXMgYW55KS5jb25zb2xlLndhcm4obWVzc2FnZSlcbiAgICAgIHdhcm5lZCA9IHRydWVcbiAgICB9XG5cbiAgICByZXR1cm4gbWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29weUFjdGlvbjxUIGV4dGVuZHMgQWN0aW9uTmFtZT4oZGVzdDogQWN0aW9uUHJvcHM8YW55Piwgc3JjOiBBY3Rpb25Qcm9wczxUPikge1xuICBkZXN0Lm5hbWUgPSBzcmMubmFtZVxuICBkZXN0LmF4aXMgPSBzcmMuYXhpc1xuICBkZXN0LmVkZ2VzID0gc3JjLmVkZ2VzXG5cbiAgcmV0dXJuIGRlc3Rcbn1cblxuZXhwb3J0IGNvbnN0IHNpZ24gPSAobjogbnVtYmVyKSA9PiAobiA+PSAwID8gMSA6IC0xKVxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0aW9uIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgU2NvcGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25Qcm9wcywgUG9pbnRlclR5cGUsIFBvaW50ZXJFdmVudFR5cGUsIEVsZW1lbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuaW1wb3J0IHsgd2Fybk9uY2UgfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9taXNjJ1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0YWJsZSB7XG4gICAgZ2V0QWN0aW9uOiAoXG4gICAgICB0aGlzOiBJbnRlcmFjdGFibGUsXG4gICAgICBwb2ludGVyOiBQb2ludGVyVHlwZSxcbiAgICAgIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLFxuICAgICAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uLFxuICAgICAgZWxlbWVudDogRWxlbWVudCxcbiAgICApID0+IEFjdGlvblByb3BzIHwgbnVsbFxuICAgIHN0eWxlQ3Vyc29yKG5ld1ZhbHVlOiBib29sZWFuKTogdGhpc1xuICAgIHN0eWxlQ3Vyc29yKCk6IGJvb2xlYW5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9yIHNldHMgd2hldGhlciB0aGUgdGhlIGN1cnNvciBzaG91bGQgYmUgY2hhbmdlZCBkZXBlbmRpbmcgb24gdGhlXG4gICAgICogYWN0aW9uIHRoYXQgd291bGQgYmUgcGVyZm9ybWVkIGlmIHRoZSBtb3VzZSB3ZXJlIHByZXNzZWQgYW5kIGRyYWdnZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtuZXdWYWx1ZV1cbiAgICAgKiBAcmV0dXJuIHtib29sZWFuIHwgSW50ZXJhY3RhYmxlfSBUaGUgY3VycmVudCBzZXR0aW5nIG9yIHRoaXMgSW50ZXJhY3RhYmxlXG4gICAgICovXG4gICAgc3R5bGVDdXJzb3IobmV3VmFsdWU/OiBib29sZWFuKTogYm9vbGVhbiB8IHRoaXNcbiAgICBhY3Rpb25DaGVja2VyKGNoZWNrZXI6IEZ1bmN0aW9uKTogSW50ZXJhY3RhYmxlXG4gICAgYWN0aW9uQ2hlY2tlcigpOiBGdW5jdGlvblxuICAgIC8qKlxuICAgICAqIGBgYGpzXG4gICAgICogaW50ZXJhY3QoJy5yZXNpemUtZHJhZycpXG4gICAgICogICAucmVzaXphYmxlKHRydWUpXG4gICAgICogICAuZHJhZ2dhYmxlKHRydWUpXG4gICAgICogICAuYWN0aW9uQ2hlY2tlcihmdW5jdGlvbiAocG9pbnRlciwgZXZlbnQsIGFjdGlvbiwgaW50ZXJhY3RhYmxlLCBlbGVtZW50LCBpbnRlcmFjdGlvbikge1xuICAgICAqXG4gICAgICogICAgIGlmIChpbnRlcmFjdC5tYXRjaGVzU2VsZWN0b3IoZXZlbnQudGFyZ2V0LCAnLmRyYWctaGFuZGxlJykpIHtcbiAgICAgKiAgICAgICAvLyBmb3JjZSBkcmFnIHdpdGggaGFuZGxlIHRhcmdldFxuICAgICAqICAgICAgIGFjdGlvbi5uYW1lID0gZHJhZ1xuICAgICAqICAgICB9XG4gICAgICogICAgIGVsc2Uge1xuICAgICAqICAgICAgIC8vIHJlc2l6ZSBmcm9tIHRoZSB0b3AgYW5kIHJpZ2h0IGVkZ2VzXG4gICAgICogICAgICAgYWN0aW9uLm5hbWUgID0gJ3Jlc2l6ZSdcbiAgICAgKiAgICAgICBhY3Rpb24uZWRnZXMgPSB7IHRvcDogdHJ1ZSwgcmlnaHQ6IHRydWUgfVxuICAgICAqICAgICB9XG4gICAgICpcbiAgICAgKiAgICAgcmV0dXJuIGFjdGlvblxuICAgICAqIH0pXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIG9yIHNldHMgdGhlIGZ1bmN0aW9uIHVzZWQgdG8gY2hlY2sgYWN0aW9uIHRvIGJlIHBlcmZvcm1lZCBvblxuICAgICAqIHBvaW50ZXJEb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2hlY2tlciAtIEEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgYSBwb2ludGVyIGV2ZW50LFxuICAgICAqIGRlZmF1bHRBY3Rpb24gc3RyaW5nLCBpbnRlcmFjdGFibGUsIGVsZW1lbnQgYW5kIGludGVyYWN0aW9uIGFzIHBhcmFtZXRlcnNcbiAgICAgKiBhbmQgcmV0dXJucyBhbiBvYmplY3Qgd2l0aCBuYW1lIHByb3BlcnR5ICdkcmFnJyAncmVzaXplJyBvciAnZ2VzdHVyZScgYW5kXG4gICAgICogb3B0aW9uYWxseSBhbiBgZWRnZXNgIG9iamVjdCB3aXRoIGJvb2xlYW4gJ3RvcCcsICdsZWZ0JywgJ2JvdHRvbScgYW5kIHJpZ2h0XG4gICAgICogcHJvcHMuXG4gICAgICogQHJldHVybnMgVGhlIGNoZWNrZXIgZnVuY3Rpb24gb3IgdGhpcyBJbnRlcmFjdGFibGVcbiAgICAgKi9cbiAgICBhY3Rpb25DaGVja2VyKGNoZWNrZXI/OiBGdW5jdGlvbik6IEludGVyYWN0YWJsZSB8IEZ1bmN0aW9uXG4gICAgLyoqIEByZXR1cm5zIFRoaXMgaW50ZXJhY3RhYmxlICovXG4gICAgaWdub3JlRnJvbShuZXdWYWx1ZTogc3RyaW5nIHwgRWxlbWVudCB8IG51bGwpOiBJbnRlcmFjdGFibGVcbiAgICAvKiogQHJldHVybnMgVGhlIGN1cnJlbnQgaWdub3JlRnJvbSB2YWx1ZSAqL1xuICAgIGlnbm9yZUZyb20oKTogc3RyaW5nIHwgRWxlbWVudCB8IG51bGxcbiAgICAvKipcbiAgICAgKiBJZiB0aGUgdGFyZ2V0IG9mIHRoZSBgbW91c2Vkb3duYCwgYHBvaW50ZXJkb3duYCBvciBgdG91Y2hzdGFydGAgZXZlbnQgb3IgYW55XG4gICAgICogb2YgaXQncyBwYXJlbnRzIG1hdGNoIHRoZSBnaXZlbiBDU1Mgc2VsZWN0b3Igb3IgRWxlbWVudCwgbm9cbiAgICAgKiBkcmFnL3Jlc2l6ZS9nZXN0dXJlIGlzIHN0YXJ0ZWQuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIERvbid0IHVzZSB0aGlzIG1ldGhvZC4gSW5zdGVhZCBzZXQgdGhlIGBpZ25vcmVGcm9tYCBvcHRpb24gZm9yIGVhY2ggYWN0aW9uXG4gICAgICogb3IgZm9yIGBwb2ludGVyRXZlbnRzYFxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBpbnRlcmFjdCh0YXJnZXR0KVxuICAgICAqICAgLmRyYWdnYWJsZSh7XG4gICAgICogICAgIGlnbm9yZUZyb206ICdpbnB1dCwgdGV4dGFyZWEsIGFbaHJlZl0nJyxcbiAgICAgKiAgIH0pXG4gICAgICogICAucG9pbnRlckV2ZW50cyh7XG4gICAgICogICAgIGlnbm9yZUZyb206ICdbbm8tcG9pbnRlcl0nLFxuICAgICAqICAgfSlcbiAgICAgKiBgYGBcbiAgICAgKiBJbnRlcmFjdGFibGVcbiAgICAgKi9cbiAgICBpZ25vcmVGcm9tKFxuICAgICAgLyoqIGEgQ1NTIHNlbGVjdG9yIHN0cmluZywgYW4gRWxlbWVudCBvciBgbnVsbGAgdG8gbm90IGlnbm9yZSBhbnkgZWxlbWVudHMgKi9cbiAgICAgIG5ld1ZhbHVlPzogc3RyaW5nIHwgRWxlbWVudCB8IG51bGwsXG4gICAgKTogSW50ZXJhY3RhYmxlIHwgc3RyaW5nIHwgRWxlbWVudCB8IG51bGxcbiAgICBhbGxvd0Zyb20oKTogYm9vbGVhblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQSBkcmFnL3Jlc2l6ZS9nZXN0dXJlIGlzIHN0YXJ0ZWQgb25seSBJZiB0aGUgdGFyZ2V0IG9mIHRoZSBgbW91c2Vkb3duYCxcbiAgICAgKiBgcG9pbnRlcmRvd25gIG9yIGB0b3VjaHN0YXJ0YCBldmVudCBvciBhbnkgb2YgaXQncyBwYXJlbnRzIG1hdGNoIHRoZSBnaXZlblxuICAgICAqIENTUyBzZWxlY3RvciBvciBFbGVtZW50LlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBEb24ndCB1c2UgdGhpcyBtZXRob2QuIEluc3RlYWQgc2V0IHRoZSBgYWxsb3dGcm9tYCBvcHRpb24gZm9yIGVhY2ggYWN0aW9uXG4gICAgICogb3IgZm9yIGBwb2ludGVyRXZlbnRzYFxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBpbnRlcmFjdCh0YXJnZXR0KVxuICAgICAqICAgLnJlc2l6YWJsZSh7XG4gICAgICogICAgIGFsbG93RnJvbTogJy5yZXNpemUtaGFuZGxlJyxcbiAgICAgKiAgIC5wb2ludGVyRXZlbnRzKHtcbiAgICAgKiAgICAgYWxsb3dGcm9tOiAnLmhhbmRsZScsLFxuICAgICAqICAgfSlcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgRWxlbWVudCB8IG51bGx9IFtuZXdWYWx1ZV1cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmcgfCBFbGVtZW50IHwgb2JqZWN0fSBUaGUgY3VycmVudCBhbGxvd0Zyb20gdmFsdWUgb3IgdGhpc1xuICAgICAqIEludGVyYWN0YWJsZVxuICAgICAqL1xuICAgIGFsbG93RnJvbShcbiAgICAgIC8qKiBBIENTUyBzZWxlY3RvciBzdHJpbmcsIGFuIEVsZW1lbnQgb3IgYG51bGxgIHRvIGFsbG93IGZyb20gYW55IGVsZW1lbnQgKi9cbiAgICAgIG5ld1ZhbHVlOiBzdHJpbmcgfCBFbGVtZW50IHwgbnVsbCxcbiAgICApOiBJbnRlcmFjdGFibGVcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7XG4gICAgSW50ZXJhY3RhYmxlLCAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lIG5vLXNoYWRvd2VkLXZhcmlhYmxlXG4gIH0gPSBzY29wZVxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUuZ2V0QWN0aW9uID0gZnVuY3Rpb24gZ2V0QWN0aW9uKFxuICAgIHRoaXM6IEludGVyYWN0YWJsZSxcbiAgICBwb2ludGVyOiBQb2ludGVyVHlwZSxcbiAgICBldmVudDogUG9pbnRlckV2ZW50VHlwZSxcbiAgICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24sXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgKTogQWN0aW9uUHJvcHMge1xuICAgIGNvbnN0IGFjdGlvbiA9IGRlZmF1bHRBY3Rpb25DaGVja2VyKHRoaXMsIGV2ZW50LCBpbnRlcmFjdGlvbiwgZWxlbWVudCwgc2NvcGUpXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmFjdGlvbkNoZWNrZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYWN0aW9uQ2hlY2tlcihwb2ludGVyLCBldmVudCwgYWN0aW9uLCB0aGlzLCBlbGVtZW50LCBpbnRlcmFjdGlvbilcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0aW9uXG4gIH1cblxuICBJbnRlcmFjdGFibGUucHJvdG90eXBlLmlnbm9yZUZyb20gPSB3YXJuT25jZShmdW5jdGlvbiAodGhpczogSW50ZXJhY3RhYmxlLCBuZXdWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9iYWNrQ29tcGF0T3B0aW9uKCdpZ25vcmVGcm9tJywgbmV3VmFsdWUpXG4gIH0sICdJbnRlcmFjdGFibGUuaWdub3JlRnJvbSgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBJbnRlcmFjdGJsZS5kcmFnZ2FibGUoe2lnbm9yZUZyb206IG5ld1ZhbHVlfSkuJylcblxuICBJbnRlcmFjdGFibGUucHJvdG90eXBlLmFsbG93RnJvbSA9IHdhcm5PbmNlKGZ1bmN0aW9uICh0aGlzOiBJbnRlcmFjdGFibGUsIG5ld1ZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JhY2tDb21wYXRPcHRpb24oJ2FsbG93RnJvbScsIG5ld1ZhbHVlKVxuICB9LCAnSW50ZXJhY3RhYmxlLmFsbG93RnJvbSgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBJbnRlcmFjdGJsZS5kcmFnZ2FibGUoe2FsbG93RnJvbTogbmV3VmFsdWV9KS4nKVxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUuYWN0aW9uQ2hlY2tlciA9IGFjdGlvbkNoZWNrZXJcblxuICBJbnRlcmFjdGFibGUucHJvdG90eXBlLnN0eWxlQ3Vyc29yID0gc3R5bGVDdXJzb3Jcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEFjdGlvbkNoZWNrZXIoXG4gIGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlLFxuICBldmVudDogUG9pbnRlckV2ZW50VHlwZSxcbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uLFxuICBlbGVtZW50OiBFbGVtZW50LFxuICBzY29wZTogU2NvcGUsXG4pIHtcbiAgY29uc3QgcmVjdCA9IGludGVyYWN0YWJsZS5nZXRSZWN0KGVsZW1lbnQpXG4gIGNvbnN0IGJ1dHRvbnMgPVxuICAgIChldmVudCBhcyBNb3VzZUV2ZW50KS5idXR0b25zIHx8XG4gICAge1xuICAgICAgMDogMSxcbiAgICAgIDE6IDQsXG4gICAgICAzOiA4LFxuICAgICAgNDogMTYsXG4gICAgfVsoZXZlbnQgYXMgTW91c2VFdmVudCkuYnV0dG9uIGFzIDAgfCAxIHwgMyB8IDRdXG4gIGNvbnN0IGFyZyA9IHtcbiAgICBhY3Rpb246IG51bGwsXG4gICAgaW50ZXJhY3RhYmxlLFxuICAgIGludGVyYWN0aW9uLFxuICAgIGVsZW1lbnQsXG4gICAgcmVjdCxcbiAgICBidXR0b25zLFxuICB9XG5cbiAgc2NvcGUuZmlyZSgnYXV0by1zdGFydDpjaGVjaycsIGFyZylcblxuICByZXR1cm4gYXJnLmFjdGlvblxufVxuXG5mdW5jdGlvbiBzdHlsZUN1cnNvcih0aGlzOiBJbnRlcmFjdGFibGUsIG5ld1ZhbHVlPzogYm9vbGVhbikge1xuICBpZiAoaXMuYm9vbChuZXdWYWx1ZSkpIHtcbiAgICB0aGlzLm9wdGlvbnMuc3R5bGVDdXJzb3IgPSBuZXdWYWx1ZVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGlmIChuZXdWYWx1ZSA9PT0gbnVsbCkge1xuICAgIGRlbGV0ZSB0aGlzLm9wdGlvbnMuc3R5bGVDdXJzb3JcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICByZXR1cm4gdGhpcy5vcHRpb25zLnN0eWxlQ3Vyc29yXG59XG5cbmZ1bmN0aW9uIGFjdGlvbkNoZWNrZXIodGhpczogSW50ZXJhY3RhYmxlLCBjaGVja2VyPzogYW55KSB7XG4gIGlmIChpcy5mdW5jKGNoZWNrZXIpKSB7XG4gICAgdGhpcy5vcHRpb25zLmFjdGlvbkNoZWNrZXIgPSBjaGVja2VyXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgaWYgKGNoZWNrZXIgPT09IG51bGwpIHtcbiAgICBkZWxldGUgdGhpcy5vcHRpb25zLmFjdGlvbkNoZWNrZXJcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICByZXR1cm4gdGhpcy5vcHRpb25zLmFjdGlvbkNoZWNrZXJcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpZDogJ2F1dG8tc3RhcnQvaW50ZXJhY3RhYmxlTWV0aG9kcycsXG4gIGluc3RhbGwsXG59XG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIHsgSW50ZXJhY3Rpb24gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSwgU2lnbmFsQXJncywgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHtcbiAgQ3Vyc29yQ2hlY2tlcixcbiAgUG9pbnRlclR5cGUsXG4gIFBvaW50ZXJFdmVudFR5cGUsXG4gIEVsZW1lbnQsXG4gIEFjdGlvbk5hbWUsXG4gIEFjdGlvblByb3BzLFxufSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0ICogYXMgZG9tVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcbmltcG9ydCB7IGNvcHlBY3Rpb24gfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9taXNjJ1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICcuL0ludGVyYWN0YWJsZU1ldGhvZHMnXG5pbXBvcnQgSW50ZXJhY3RhYmxlTWV0aG9kcyBmcm9tICcuL0ludGVyYWN0YWJsZU1ldGhvZHMnXG4vKiBlc2xpbnQtZW5hYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzICovXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0U3RhdGljJyB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgSW50ZXJhY3RTdGF0aWMge1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgb3Igc2V0cyB0aGUgbWF4aW11bSBudW1iZXIgb2YgY29uY3VycmVudCBpbnRlcmFjdGlvbnMgYWxsb3dlZC4gIEJ5XG4gICAgICogZGVmYXVsdCBvbmx5IDEgaW50ZXJhY3Rpb24gaXMgYWxsb3dlZCBhdCBhIHRpbWUgKGZvciBiYWNrd2FyZHNcbiAgICAgKiBjb21wYXRpYmlsaXR5KS4gVG8gYWxsb3cgbXVsdGlwbGUgaW50ZXJhY3Rpb25zIG9uIHRoZSBzYW1lIEludGVyYWN0YWJsZXMgYW5kXG4gICAgICogZWxlbWVudHMsIHlvdSBuZWVkIHRvIGVuYWJsZSBpdCBpbiB0aGUgZHJhZ2dhYmxlLCByZXNpemFibGUgYW5kIGdlc3R1cmFibGVcbiAgICAgKiBgJ21heCdgIGFuZCBgJ21heFBlckVsZW1lbnQnYCBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuZXdWYWx1ZV0gQW55IG51bWJlci4gbmV3VmFsdWUgPD0gMCBtZWFucyBubyBpbnRlcmFjdGlvbnMuXG4gICAgICovXG4gICAgbWF4SW50ZXJhY3Rpb25zOiAobmV3VmFsdWU6IGFueSkgPT4gYW55XG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnIHtcbiAgaW50ZXJmYWNlIFNjb3BlIHtcbiAgICBhdXRvU3RhcnQ6IEF1dG9TdGFydFxuICB9XG5cbiAgaW50ZXJmYWNlIFNpZ25hbEFyZ3Mge1xuICAgICdhdXRvU3RhcnQ6YmVmb3JlLXN0YXJ0JzogT21pdDxTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6bW92ZSddLCAnaW50ZXJhY3Rpb24nPiAmIHtcbiAgICAgIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxBY3Rpb25OYW1lPlxuICAgIH1cbiAgICAnYXV0b1N0YXJ0OnByZXBhcmVkJzogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfVxuICAgICdhdXRvLXN0YXJ0OmNoZWNrJzogQ2hlY2tTaWduYWxBcmdcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJyB7XG4gIGludGVyZmFjZSBCYXNlRGVmYXVsdHMge1xuICAgIGFjdGlvbkNoZWNrZXI/OiBhbnlcbiAgICBjdXJzb3JDaGVja2VyPzogYW55XG4gICAgc3R5bGVDdXJzb3I/OiBhbnlcbiAgfVxuXG4gIGludGVyZmFjZSBQZXJBY3Rpb25EZWZhdWx0cyB7XG4gICAgbWFudWFsU3RhcnQ/OiBib29sZWFuXG4gICAgbWF4PzogbnVtYmVyXG4gICAgbWF4UGVyRWxlbWVudD86IG51bWJlclxuICAgIGFsbG93RnJvbT86IHN0cmluZyB8IEVsZW1lbnRcbiAgICBpZ25vcmVGcm9tPzogc3RyaW5nIHwgRWxlbWVudFxuICAgIGN1cnNvckNoZWNrZXI/OiBDdXJzb3JDaGVja2VyXG5cbiAgICAvLyBvbmx5IGFsbG93IGxlZnQgYnV0dG9uIGJ5IGRlZmF1bHRcbiAgICAvLyBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnQvYnV0dG9ucyNSZXR1cm5fdmFsdWVcbiAgICAvLyBUT0RPOiBkb2NzdFxuICAgIG1vdXNlQnV0dG9ucz86IDAgfCAxIHwgMiB8IDQgfCA4IHwgMTZcbiAgfVxufVxuXG5pbnRlcmZhY2UgQ2hlY2tTaWduYWxBcmcge1xuICBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZVxuICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb25cbiAgZWxlbWVudDogRWxlbWVudFxuICBhY3Rpb246IEFjdGlvblByb3BzPEFjdGlvbk5hbWU+XG4gIGJ1dHRvbnM6IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF1dG9TdGFydCB7XG4gIC8vIEFsbG93IHRoaXMgbWFueSBpbnRlcmFjdGlvbnMgdG8gaGFwcGVuIHNpbXVsdGFuZW91c2x5XG4gIG1heEludGVyYWN0aW9uczogbnVtYmVyXG4gIHdpdGhpbkludGVyYWN0aW9uTGltaXQ6IHR5cGVvZiB3aXRoaW5JbnRlcmFjdGlvbkxpbWl0XG4gIGN1cnNvckVsZW1lbnQ6IEVsZW1lbnRcbn1cblxuZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBpbnRlcmFjdFN0YXRpYzogaW50ZXJhY3QsIGRlZmF1bHRzIH0gPSBzY29wZVxuXG4gIHNjb3BlLnVzZVBsdWdpbihJbnRlcmFjdGFibGVNZXRob2RzKVxuXG4gIGRlZmF1bHRzLmJhc2UuYWN0aW9uQ2hlY2tlciA9IG51bGxcbiAgZGVmYXVsdHMuYmFzZS5zdHlsZUN1cnNvciA9IHRydWVcblxuICBleHRlbmQoZGVmYXVsdHMucGVyQWN0aW9uLCB7XG4gICAgbWFudWFsU3RhcnQ6IGZhbHNlLFxuICAgIG1heDogSW5maW5pdHksXG4gICAgbWF4UGVyRWxlbWVudDogMSxcbiAgICBhbGxvd0Zyb206IG51bGwsXG4gICAgaWdub3JlRnJvbTogbnVsbCxcblxuICAgIC8vIG9ubHkgYWxsb3cgbGVmdCBidXR0b24gYnkgZGVmYXVsdFxuICAgIC8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25zI1JldHVybl92YWx1ZVxuICAgIG1vdXNlQnV0dG9uczogMSxcbiAgfSlcblxuICBpbnRlcmFjdC5tYXhJbnRlcmFjdGlvbnMgPSAobmV3VmFsdWU6IG51bWJlcikgPT4gbWF4SW50ZXJhY3Rpb25zKG5ld1ZhbHVlLCBzY29wZSlcblxuICBzY29wZS5hdXRvU3RhcnQgPSB7XG4gICAgLy8gQWxsb3cgdGhpcyBtYW55IGludGVyYWN0aW9ucyB0byBoYXBwZW4gc2ltdWx0YW5lb3VzbHlcbiAgICBtYXhJbnRlcmFjdGlvbnM6IEluZmluaXR5LFxuICAgIHdpdGhpbkludGVyYWN0aW9uTGltaXQsXG4gICAgY3Vyc29yRWxlbWVudDogbnVsbCxcbiAgfVxufVxuXG5mdW5jdGlvbiBwcmVwYXJlT25Eb3duKFxuICB7IGludGVyYWN0aW9uLCBwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQgfTogU2lnbmFsQXJnc1snaW50ZXJhY3Rpb25zOmRvd24nXSxcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGlmIChpbnRlcmFjdGlvbi5pbnRlcmFjdGluZygpKSByZXR1cm5cblxuICBjb25zdCBhY3Rpb25JbmZvID0gZ2V0QWN0aW9uSW5mbyhpbnRlcmFjdGlvbiwgcG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0LCBzY29wZSlcbiAgcHJlcGFyZShpbnRlcmFjdGlvbiwgYWN0aW9uSW5mbywgc2NvcGUpXG59XG5cbmZ1bmN0aW9uIHByZXBhcmVPbk1vdmUoXG4gIHsgaW50ZXJhY3Rpb24sIHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCB9OiBTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6bW92ZSddLFxuICBzY29wZTogU2NvcGUsXG4pIHtcbiAgaWYgKGludGVyYWN0aW9uLnBvaW50ZXJUeXBlICE9PSAnbW91c2UnIHx8IGludGVyYWN0aW9uLnBvaW50ZXJJc0Rvd24gfHwgaW50ZXJhY3Rpb24uaW50ZXJhY3RpbmcoKSkgcmV0dXJuXG5cbiAgY29uc3QgYWN0aW9uSW5mbyA9IGdldEFjdGlvbkluZm8oaW50ZXJhY3Rpb24sIHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCBhcyBFbGVtZW50LCBzY29wZSlcbiAgcHJlcGFyZShpbnRlcmFjdGlvbiwgYWN0aW9uSW5mbywgc2NvcGUpXG59XG5cbmZ1bmN0aW9uIHN0YXJ0T25Nb3ZlKGFyZzogU2lnbmFsQXJnc1snaW50ZXJhY3Rpb25zOm1vdmUnXSwgc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IGFyZ1xuXG4gIGlmIChcbiAgICAhaW50ZXJhY3Rpb24ucG9pbnRlcklzRG93biB8fFxuICAgIGludGVyYWN0aW9uLmludGVyYWN0aW5nKCkgfHxcbiAgICAhaW50ZXJhY3Rpb24ucG9pbnRlcldhc01vdmVkIHx8XG4gICAgIWludGVyYWN0aW9uLnByZXBhcmVkLm5hbWVcbiAgKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBzY29wZS5maXJlKCdhdXRvU3RhcnQ6YmVmb3JlLXN0YXJ0JywgYXJnKVxuXG4gIGNvbnN0IHsgaW50ZXJhY3RhYmxlIH0gPSBpbnRlcmFjdGlvblxuICBjb25zdCBhY3Rpb25OYW1lID0gKGludGVyYWN0aW9uIGFzIEludGVyYWN0aW9uPEFjdGlvbk5hbWU+KS5wcmVwYXJlZC5uYW1lXG5cbiAgaWYgKGFjdGlvbk5hbWUgJiYgaW50ZXJhY3RhYmxlKSB7XG4gICAgLy8gY2hlY2sgbWFudWFsU3RhcnQgYW5kIGludGVyYWN0aW9uIGxpbWl0XG4gICAgaWYgKFxuICAgICAgaW50ZXJhY3RhYmxlLm9wdGlvbnNbYWN0aW9uTmFtZV0ubWFudWFsU3RhcnQgfHxcbiAgICAgICF3aXRoaW5JbnRlcmFjdGlvbkxpbWl0KGludGVyYWN0YWJsZSwgaW50ZXJhY3Rpb24uZWxlbWVudCwgaW50ZXJhY3Rpb24ucHJlcGFyZWQsIHNjb3BlKVxuICAgICkge1xuICAgICAgaW50ZXJhY3Rpb24uc3RvcCgpXG4gICAgfSBlbHNlIHtcbiAgICAgIGludGVyYWN0aW9uLnN0YXJ0KGludGVyYWN0aW9uLnByZXBhcmVkLCBpbnRlcmFjdGFibGUsIGludGVyYWN0aW9uLmVsZW1lbnQpXG4gICAgICBzZXRJbnRlcmFjdGlvbkN1cnNvcihpbnRlcmFjdGlvbiwgc2NvcGUpXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNsZWFyQ3Vyc29yT25TdG9wKHsgaW50ZXJhY3Rpb24gfTogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfSwgc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgaW50ZXJhY3RhYmxlIH0gPSBpbnRlcmFjdGlvblxuXG4gIGlmIChpbnRlcmFjdGFibGUgJiYgaW50ZXJhY3RhYmxlLm9wdGlvbnMuc3R5bGVDdXJzb3IpIHtcbiAgICBzZXRDdXJzb3IoaW50ZXJhY3Rpb24uZWxlbWVudCwgJycsIHNjb3BlKVxuICB9XG59XG5cbi8vIENoZWNrIGlmIHRoZSBjdXJyZW50IGludGVyYWN0YWJsZSBzdXBwb3J0cyB0aGUgYWN0aW9uLlxuLy8gSWYgc28sIHJldHVybiB0aGUgdmFsaWRhdGVkIGFjdGlvbi4gT3RoZXJ3aXNlLCByZXR1cm4gbnVsbFxuZnVuY3Rpb24gdmFsaWRhdGVBY3Rpb248VCBleHRlbmRzIEFjdGlvbk5hbWU+KFxuICBhY3Rpb246IEFjdGlvblByb3BzPFQ+LFxuICBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSxcbiAgZWxlbWVudDogRWxlbWVudCxcbiAgZXZlbnRUYXJnZXQ6IE5vZGUsXG4gIHNjb3BlOiBTY29wZSxcbikge1xuICBpZiAoXG4gICAgaW50ZXJhY3RhYmxlLnRlc3RJZ25vcmVBbGxvdyhpbnRlcmFjdGFibGUub3B0aW9uc1thY3Rpb24ubmFtZV0sIGVsZW1lbnQsIGV2ZW50VGFyZ2V0KSAmJlxuICAgIGludGVyYWN0YWJsZS5vcHRpb25zW2FjdGlvbi5uYW1lXS5lbmFibGVkICYmXG4gICAgd2l0aGluSW50ZXJhY3Rpb25MaW1pdChpbnRlcmFjdGFibGUsIGVsZW1lbnQsIGFjdGlvbiwgc2NvcGUpXG4gICkge1xuICAgIHJldHVybiBhY3Rpb25cbiAgfVxuXG4gIHJldHVybiBudWxsXG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlTWF0Y2hlcyhcbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uLFxuICBwb2ludGVyOiBQb2ludGVyVHlwZSxcbiAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsXG4gIG1hdGNoZXM6IEludGVyYWN0YWJsZVtdLFxuICBtYXRjaEVsZW1lbnRzOiBFbGVtZW50W10sXG4gIGV2ZW50VGFyZ2V0OiBOb2RlLFxuICBzY29wZTogU2NvcGUsXG4pIHtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG1hdGNoZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBtYXRjaCA9IG1hdGNoZXNbaV1cbiAgICBjb25zdCBtYXRjaEVsZW1lbnQgPSBtYXRjaEVsZW1lbnRzW2ldXG4gICAgY29uc3QgbWF0Y2hBY3Rpb24gPSBtYXRjaC5nZXRBY3Rpb24ocG9pbnRlciwgZXZlbnQsIGludGVyYWN0aW9uLCBtYXRjaEVsZW1lbnQpXG5cbiAgICBpZiAoIW1hdGNoQWN0aW9uKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGNvbnN0IGFjdGlvbiA9IHZhbGlkYXRlQWN0aW9uPEFjdGlvbk5hbWU+KG1hdGNoQWN0aW9uLCBtYXRjaCwgbWF0Y2hFbGVtZW50LCBldmVudFRhcmdldCwgc2NvcGUpXG5cbiAgICBpZiAoYWN0aW9uKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhY3Rpb24sXG4gICAgICAgIGludGVyYWN0YWJsZTogbWF0Y2gsXG4gICAgICAgIGVsZW1lbnQ6IG1hdGNoRWxlbWVudCxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4geyBhY3Rpb246IG51bGwsIGludGVyYWN0YWJsZTogbnVsbCwgZWxlbWVudDogbnVsbCB9XG59XG5cbmZ1bmN0aW9uIGdldEFjdGlvbkluZm8oXG4gIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbixcbiAgcG9pbnRlcjogUG9pbnRlclR5cGUsXG4gIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLFxuICBldmVudFRhcmdldDogTm9kZSxcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGxldCBtYXRjaGVzOiBJbnRlcmFjdGFibGVbXSA9IFtdXG4gIGxldCBtYXRjaEVsZW1lbnRzOiBFbGVtZW50W10gPSBbXVxuXG4gIGxldCBlbGVtZW50ID0gZXZlbnRUYXJnZXQgYXMgRWxlbWVudFxuXG4gIGZ1bmN0aW9uIHB1c2hNYXRjaGVzKGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlKSB7XG4gICAgbWF0Y2hlcy5wdXNoKGludGVyYWN0YWJsZSlcbiAgICBtYXRjaEVsZW1lbnRzLnB1c2goZWxlbWVudClcbiAgfVxuXG4gIHdoaWxlIChpcy5lbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgbWF0Y2hlcyA9IFtdXG4gICAgbWF0Y2hFbGVtZW50cyA9IFtdXG5cbiAgICBzY29wZS5pbnRlcmFjdGFibGVzLmZvckVhY2hNYXRjaChlbGVtZW50LCBwdXNoTWF0Y2hlcylcblxuICAgIGNvbnN0IGFjdGlvbkluZm8gPSB2YWxpZGF0ZU1hdGNoZXMoXG4gICAgICBpbnRlcmFjdGlvbixcbiAgICAgIHBvaW50ZXIsXG4gICAgICBldmVudCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBtYXRjaEVsZW1lbnRzLFxuICAgICAgZXZlbnRUYXJnZXQsXG4gICAgICBzY29wZSxcbiAgICApXG5cbiAgICBpZiAoYWN0aW9uSW5mby5hY3Rpb24gJiYgIWFjdGlvbkluZm8uaW50ZXJhY3RhYmxlLm9wdGlvbnNbYWN0aW9uSW5mby5hY3Rpb24ubmFtZV0ubWFudWFsU3RhcnQpIHtcbiAgICAgIHJldHVybiBhY3Rpb25JbmZvXG4gICAgfVxuXG4gICAgZWxlbWVudCA9IGRvbVV0aWxzLnBhcmVudE5vZGUoZWxlbWVudCkgYXMgRWxlbWVudFxuICB9XG5cbiAgcmV0dXJuIHsgYWN0aW9uOiBudWxsLCBpbnRlcmFjdGFibGU6IG51bGwsIGVsZW1lbnQ6IG51bGwgfVxufVxuXG5mdW5jdGlvbiBwcmVwYXJlKFxuICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24sXG4gIHtcbiAgICBhY3Rpb24sXG4gICAgaW50ZXJhY3RhYmxlLFxuICAgIGVsZW1lbnQsXG4gIH06IHtcbiAgICBhY3Rpb246IEFjdGlvblByb3BzPGFueT5cbiAgICBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZVxuICAgIGVsZW1lbnQ6IEVsZW1lbnRcbiAgfSxcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGFjdGlvbiA9IGFjdGlvbiB8fCB7IG5hbWU6IG51bGwgfVxuXG4gIGludGVyYWN0aW9uLmludGVyYWN0YWJsZSA9IGludGVyYWN0YWJsZVxuICBpbnRlcmFjdGlvbi5lbGVtZW50ID0gZWxlbWVudFxuICBjb3B5QWN0aW9uKGludGVyYWN0aW9uLnByZXBhcmVkLCBhY3Rpb24pXG5cbiAgaW50ZXJhY3Rpb24ucmVjdCA9IGludGVyYWN0YWJsZSAmJiBhY3Rpb24ubmFtZSA/IGludGVyYWN0YWJsZS5nZXRSZWN0KGVsZW1lbnQpIDogbnVsbFxuXG4gIHNldEludGVyYWN0aW9uQ3Vyc29yKGludGVyYWN0aW9uLCBzY29wZSlcblxuICBzY29wZS5maXJlKCdhdXRvU3RhcnQ6cHJlcGFyZWQnLCB7IGludGVyYWN0aW9uIH0pXG59XG5cbmZ1bmN0aW9uIHdpdGhpbkludGVyYWN0aW9uTGltaXQ8VCBleHRlbmRzIEFjdGlvbk5hbWU+KFxuICBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSxcbiAgZWxlbWVudDogRWxlbWVudCxcbiAgYWN0aW9uOiBBY3Rpb25Qcm9wczxUPixcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGNvbnN0IG9wdGlvbnMgPSBpbnRlcmFjdGFibGUub3B0aW9uc1xuICBjb25zdCBtYXhBY3Rpb25zID0gb3B0aW9uc1thY3Rpb24ubmFtZV0ubWF4XG4gIGNvbnN0IG1heFBlckVsZW1lbnQgPSBvcHRpb25zW2FjdGlvbi5uYW1lXS5tYXhQZXJFbGVtZW50XG4gIGNvbnN0IGF1dG9TdGFydE1heCA9IHNjb3BlLmF1dG9TdGFydC5tYXhJbnRlcmFjdGlvbnNcbiAgbGV0IGFjdGl2ZUludGVyYWN0aW9ucyA9IDBcbiAgbGV0IGludGVyYWN0YWJsZUNvdW50ID0gMFxuICBsZXQgZWxlbWVudENvdW50ID0gMFxuXG4gIC8vIG5vIGFjdGlvbnMgaWYgYW55IG9mIHRoZXNlIHZhbHVlcyA9PSAwXG4gIGlmICghKG1heEFjdGlvbnMgJiYgbWF4UGVyRWxlbWVudCAmJiBhdXRvU3RhcnRNYXgpKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBmb3IgKGNvbnN0IGludGVyYWN0aW9uIG9mIHNjb3BlLmludGVyYWN0aW9ucy5saXN0KSB7XG4gICAgY29uc3Qgb3RoZXJBY3Rpb24gPSBpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lXG5cbiAgICBpZiAoIWludGVyYWN0aW9uLmludGVyYWN0aW5nKCkpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgYWN0aXZlSW50ZXJhY3Rpb25zKytcblxuICAgIGlmIChhY3RpdmVJbnRlcmFjdGlvbnMgPj0gYXV0b1N0YXJ0TWF4KSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlICE9PSBpbnRlcmFjdGFibGUpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgaW50ZXJhY3RhYmxlQ291bnQgKz0gb3RoZXJBY3Rpb24gPT09IGFjdGlvbi5uYW1lID8gMSA6IDBcblxuICAgIGlmIChpbnRlcmFjdGFibGVDb3VudCA+PSBtYXhBY3Rpb25zKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoaW50ZXJhY3Rpb24uZWxlbWVudCA9PT0gZWxlbWVudCkge1xuICAgICAgZWxlbWVudENvdW50KytcblxuICAgICAgaWYgKG90aGVyQWN0aW9uID09PSBhY3Rpb24ubmFtZSAmJiBlbGVtZW50Q291bnQgPj0gbWF4UGVyRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXV0b1N0YXJ0TWF4ID4gMFxufVxuXG5mdW5jdGlvbiBtYXhJbnRlcmFjdGlvbnMobmV3VmFsdWU6IGFueSwgc2NvcGU6IFNjb3BlKSB7XG4gIGlmIChpcy5udW1iZXIobmV3VmFsdWUpKSB7XG4gICAgc2NvcGUuYXV0b1N0YXJ0Lm1heEludGVyYWN0aW9ucyA9IG5ld1ZhbHVlXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcmV0dXJuIHNjb3BlLmF1dG9TdGFydC5tYXhJbnRlcmFjdGlvbnNcbn1cblxuZnVuY3Rpb24gc2V0Q3Vyc29yKGVsZW1lbnQ6IEVsZW1lbnQsIGN1cnNvcjogc3RyaW5nLCBzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBjdXJzb3JFbGVtZW50OiBwcmV2Q3Vyc29yRWxlbWVudCB9ID0gc2NvcGUuYXV0b1N0YXJ0XG5cbiAgaWYgKHByZXZDdXJzb3JFbGVtZW50ICYmIHByZXZDdXJzb3JFbGVtZW50ICE9PSBlbGVtZW50KSB7XG4gICAgcHJldkN1cnNvckVsZW1lbnQuc3R5bGUuY3Vyc29yID0gJydcbiAgfVxuXG4gIGVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuY3Vyc29yID0gY3Vyc29yXG4gIGVsZW1lbnQuc3R5bGUuY3Vyc29yID0gY3Vyc29yXG4gIHNjb3BlLmF1dG9TdGFydC5jdXJzb3JFbGVtZW50ID0gY3Vyc29yID8gZWxlbWVudCA6IG51bGxcbn1cblxuZnVuY3Rpb24gc2V0SW50ZXJhY3Rpb25DdXJzb3I8VCBleHRlbmRzIEFjdGlvbk5hbWU+KGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxUPiwgc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgaW50ZXJhY3RhYmxlLCBlbGVtZW50LCBwcmVwYXJlZCB9ID0gaW50ZXJhY3Rpb25cblxuICBpZiAoIShpbnRlcmFjdGlvbi5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyAmJiBpbnRlcmFjdGFibGUgJiYgaW50ZXJhY3RhYmxlLm9wdGlvbnMuc3R5bGVDdXJzb3IpKSB7XG4gICAgLy8gY2xlYXIgcHJldmlvdXMgdGFyZ2V0IGVsZW1lbnQgY3Vyc29yXG4gICAgaWYgKHNjb3BlLmF1dG9TdGFydC5jdXJzb3JFbGVtZW50KSB7XG4gICAgICBzZXRDdXJzb3Ioc2NvcGUuYXV0b1N0YXJ0LmN1cnNvckVsZW1lbnQsICcnLCBzY29wZSlcbiAgICB9XG5cbiAgICByZXR1cm5cbiAgfVxuXG4gIGxldCBjdXJzb3IgPSAnJ1xuXG4gIGlmIChwcmVwYXJlZC5uYW1lKSB7XG4gICAgY29uc3QgY3Vyc29yQ2hlY2tlciA9IGludGVyYWN0YWJsZS5vcHRpb25zW3ByZXBhcmVkLm5hbWVdLmN1cnNvckNoZWNrZXJcblxuICAgIGlmIChpcy5mdW5jKGN1cnNvckNoZWNrZXIpKSB7XG4gICAgICBjdXJzb3IgPSBjdXJzb3JDaGVja2VyKHByZXBhcmVkLCBpbnRlcmFjdGFibGUsIGVsZW1lbnQsIGludGVyYWN0aW9uLl9pbnRlcmFjdGluZylcbiAgICB9IGVsc2Uge1xuICAgICAgY3Vyc29yID0gc2NvcGUuYWN0aW9ucy5tYXBbcHJlcGFyZWQubmFtZV0uZ2V0Q3Vyc29yKHByZXBhcmVkKVxuICAgIH1cbiAgfVxuXG4gIHNldEN1cnNvcihpbnRlcmFjdGlvbi5lbGVtZW50LCBjdXJzb3IgfHwgJycsIHNjb3BlKVxufVxuXG5jb25zdCBhdXRvU3RhcnQ6IFBsdWdpbiA9IHtcbiAgaWQ6ICdhdXRvLXN0YXJ0L2Jhc2UnLFxuICBiZWZvcmU6IFsnYWN0aW9ucyddLFxuICBpbnN0YWxsLFxuICBsaXN0ZW5lcnM6IHtcbiAgICAnaW50ZXJhY3Rpb25zOmRvd24nOiBwcmVwYXJlT25Eb3duLFxuICAgICdpbnRlcmFjdGlvbnM6bW92ZSc6IChhcmcsIHNjb3BlKSA9PiB7XG4gICAgICBwcmVwYXJlT25Nb3ZlKGFyZywgc2NvcGUpXG4gICAgICBzdGFydE9uTW92ZShhcmcsIHNjb3BlKVxuICAgIH0sXG4gICAgJ2ludGVyYWN0aW9uczpzdG9wJzogY2xlYXJDdXJzb3JPblN0b3AsXG4gIH0sXG4gIG1heEludGVyYWN0aW9ucyxcbiAgd2l0aGluSW50ZXJhY3Rpb25MaW1pdCxcbiAgdmFsaWRhdGVBY3Rpb24sXG59XG5cbmV4cG9ydCBkZWZhdWx0IGF1dG9TdGFydFxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSBJbnRlcmFjdGlvbiBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBTaWduYWxBcmdzLCBTY29wZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IEFjdGlvbk5hbWUsIEVsZW1lbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0IHsgcGFyZW50Tm9kZSB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuXG5pbXBvcnQgYXV0b1N0YXJ0IGZyb20gJy4vYmFzZSdcblxuZnVuY3Rpb24gYmVmb3JlU3RhcnQoeyBpbnRlcmFjdGlvbiwgZXZlbnRUYXJnZXQsIGR4LCBkeSB9OiBTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6bW92ZSddLCBzY29wZTogU2NvcGUpIHtcbiAgaWYgKGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgIT09ICdkcmFnJykgcmV0dXJuXG5cbiAgLy8gY2hlY2sgaWYgYSBkcmFnIGlzIGluIHRoZSBjb3JyZWN0IGF4aXNcbiAgY29uc3QgYWJzWCA9IE1hdGguYWJzKGR4KVxuICBjb25zdCBhYnNZID0gTWF0aC5hYnMoZHkpXG4gIGNvbnN0IHRhcmdldE9wdGlvbnMgPSBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUub3B0aW9ucy5kcmFnXG4gIGNvbnN0IHN0YXJ0QXhpcyA9IHRhcmdldE9wdGlvbnMuc3RhcnRBeGlzXG4gIGNvbnN0IGN1cnJlbnRBeGlzID0gYWJzWCA+IGFic1kgPyAneCcgOiBhYnNYIDwgYWJzWSA/ICd5JyA6ICd4eSdcblxuICBpbnRlcmFjdGlvbi5wcmVwYXJlZC5heGlzID1cbiAgICB0YXJnZXRPcHRpb25zLmxvY2tBeGlzID09PSAnc3RhcnQnXG4gICAgICA/IChjdXJyZW50QXhpc1swXSBhcyAneCcgfCAneScpIC8vIGFsd2F5cyBsb2NrIHRvIG9uZSBheGlzIGV2ZW4gaWYgY3VycmVudEF4aXMgPT09ICd4eSdcbiAgICAgIDogdGFyZ2V0T3B0aW9ucy5sb2NrQXhpc1xuXG4gIC8vIGlmIHRoZSBtb3ZlbWVudCBpc24ndCBpbiB0aGUgc3RhcnRBeGlzIG9mIHRoZSBpbnRlcmFjdGFibGVcbiAgaWYgKGN1cnJlbnRBeGlzICE9PSAneHknICYmIHN0YXJ0QXhpcyAhPT0gJ3h5JyAmJiBzdGFydEF4aXMgIT09IGN1cnJlbnRBeGlzKSB7XG4gICAgLy8gY2FuY2VsIHRoZSBwcmVwYXJlZCBhY3Rpb25cbiAgICA7KGludGVyYWN0aW9uIGFzIEludGVyYWN0aW9uPEFjdGlvbk5hbWU+KS5wcmVwYXJlZC5uYW1lID0gbnVsbFxuXG4gICAgLy8gdGhlbiB0cnkgdG8gZ2V0IGEgZHJhZyBmcm9tIGFub3RoZXIgaW5lcmFjdGFibGVcbiAgICBsZXQgZWxlbWVudCA9IGV2ZW50VGFyZ2V0IGFzIEVsZW1lbnRcblxuICAgIGNvbnN0IGdldERyYWdnYWJsZSA9IGZ1bmN0aW9uIChpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSk6IEludGVyYWN0YWJsZSB8IHZvaWQge1xuICAgICAgaWYgKGludGVyYWN0YWJsZSA9PT0gaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlKSByZXR1cm5cblxuICAgICAgY29uc3Qgb3B0aW9ucyA9IGludGVyYWN0aW9uLmludGVyYWN0YWJsZS5vcHRpb25zLmRyYWdcblxuICAgICAgaWYgKCFvcHRpb25zLm1hbnVhbFN0YXJ0ICYmIGludGVyYWN0YWJsZS50ZXN0SWdub3JlQWxsb3cob3B0aW9ucywgZWxlbWVudCwgZXZlbnRUYXJnZXQpKSB7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IGludGVyYWN0YWJsZS5nZXRBY3Rpb24oXG4gICAgICAgICAgaW50ZXJhY3Rpb24uZG93blBvaW50ZXIsXG4gICAgICAgICAgaW50ZXJhY3Rpb24uZG93bkV2ZW50LFxuICAgICAgICAgIGludGVyYWN0aW9uLFxuICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgIClcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgYWN0aW9uICYmXG4gICAgICAgICAgYWN0aW9uLm5hbWUgPT09ICdkcmFnJyAmJlxuICAgICAgICAgIGNoZWNrU3RhcnRBeGlzKGN1cnJlbnRBeGlzLCBpbnRlcmFjdGFibGUpICYmXG4gICAgICAgICAgYXV0b1N0YXJ0LnZhbGlkYXRlQWN0aW9uKGFjdGlvbiwgaW50ZXJhY3RhYmxlLCBlbGVtZW50LCBldmVudFRhcmdldCwgc2NvcGUpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBpbnRlcmFjdGFibGVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNoZWNrIGFsbCBpbnRlcmFjdGFibGVzXG4gICAgd2hpbGUgKGlzLmVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgIGNvbnN0IGludGVyYWN0YWJsZSA9IHNjb3BlLmludGVyYWN0YWJsZXMuZm9yRWFjaE1hdGNoKGVsZW1lbnQsIGdldERyYWdnYWJsZSlcblxuICAgICAgaWYgKGludGVyYWN0YWJsZSkge1xuICAgICAgICA7KGludGVyYWN0aW9uIGFzIEludGVyYWN0aW9uPEFjdGlvbk5hbWU+KS5wcmVwYXJlZC5uYW1lID0gJ2RyYWcnXG4gICAgICAgIGludGVyYWN0aW9uLmludGVyYWN0YWJsZSA9IGludGVyYWN0YWJsZVxuICAgICAgICBpbnRlcmFjdGlvbi5lbGVtZW50ID0gZWxlbWVudFxuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBlbGVtZW50ID0gcGFyZW50Tm9kZShlbGVtZW50KSBhcyBFbGVtZW50XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrU3RhcnRBeGlzKHN0YXJ0QXhpczogc3RyaW5nLCBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSkge1xuICBpZiAoIWludGVyYWN0YWJsZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgY29uc3QgdGhpc0F4aXMgPSBpbnRlcmFjdGFibGUub3B0aW9ucy5kcmFnLnN0YXJ0QXhpc1xuXG4gIHJldHVybiBzdGFydEF4aXMgPT09ICd4eScgfHwgdGhpc0F4aXMgPT09ICd4eScgfHwgdGhpc0F4aXMgPT09IHN0YXJ0QXhpc1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlkOiAnYXV0by1zdGFydC9kcmFnQXhpcycsXG4gIGxpc3RlbmVyczogeyAnYXV0b1N0YXJ0OmJlZm9yZS1zdGFydCc6IGJlZm9yZVN0YXJ0IH0sXG59XG4iLCAiaW1wb3J0IHR5cGUgSW50ZXJhY3Rpb24gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgU2NvcGUsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5cbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzIC0tIGZvciB0eXBlc2NyaXB0IG1vZHVsZSBhdWdtZW50YXRpb25zICovXG5pbXBvcnQgJy4vYmFzZSdcbmltcG9ydCBiYXNlUGx1Z2luIGZyb20gJy4vYmFzZSdcbi8qIGVzbGludC1lbmFibGUgKi9cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucycge1xuICBpbnRlcmZhY2UgUGVyQWN0aW9uRGVmYXVsdHMge1xuICAgIGhvbGQ/OiBudW1iZXJcbiAgICBkZWxheT86IG51bWJlclxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGlvbiB7XG4gICAgYXV0b1N0YXJ0SG9sZFRpbWVyPzogYW55XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBkZWZhdWx0cyB9ID0gc2NvcGVcblxuICBzY29wZS51c2VQbHVnaW4oYmFzZVBsdWdpbilcblxuICBkZWZhdWx0cy5wZXJBY3Rpb24uaG9sZCA9IDBcbiAgZGVmYXVsdHMucGVyQWN0aW9uLmRlbGF5ID0gMFxufVxuXG5mdW5jdGlvbiBnZXRIb2xkRHVyYXRpb24oaW50ZXJhY3Rpb246IEludGVyYWN0aW9uKSB7XG4gIGNvbnN0IGFjdGlvbk5hbWUgPSBpbnRlcmFjdGlvbi5wcmVwYXJlZCAmJiBpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lXG5cbiAgaWYgKCFhY3Rpb25OYW1lKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGNvbnN0IG9wdGlvbnMgPSBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUub3B0aW9uc1xuXG4gIHJldHVybiBvcHRpb25zW2FjdGlvbk5hbWVdLmhvbGQgfHwgb3B0aW9uc1thY3Rpb25OYW1lXS5kZWxheVxufVxuXG5jb25zdCBob2xkOiBQbHVnaW4gPSB7XG4gIGlkOiAnYXV0by1zdGFydC9ob2xkJyxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2ludGVyYWN0aW9uczpuZXcnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBpbnRlcmFjdGlvbi5hdXRvU3RhcnRIb2xkVGltZXIgPSBudWxsXG4gICAgfSxcblxuICAgICdhdXRvU3RhcnQ6cHJlcGFyZWQnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBjb25zdCBob2xkID0gZ2V0SG9sZER1cmF0aW9uKGludGVyYWN0aW9uKVxuXG4gICAgICBpZiAoaG9sZCA+IDApIHtcbiAgICAgICAgaW50ZXJhY3Rpb24uYXV0b1N0YXJ0SG9sZFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaW50ZXJhY3Rpb24uc3RhcnQoaW50ZXJhY3Rpb24ucHJlcGFyZWQsIGludGVyYWN0aW9uLmludGVyYWN0YWJsZSwgaW50ZXJhY3Rpb24uZWxlbWVudClcbiAgICAgICAgfSwgaG9sZClcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczptb3ZlJzogKHsgaW50ZXJhY3Rpb24sIGR1cGxpY2F0ZSB9KSA9PiB7XG4gICAgICBpZiAoaW50ZXJhY3Rpb24uYXV0b1N0YXJ0SG9sZFRpbWVyICYmIGludGVyYWN0aW9uLnBvaW50ZXJXYXNNb3ZlZCAmJiAhZHVwbGljYXRlKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChpbnRlcmFjdGlvbi5hdXRvU3RhcnRIb2xkVGltZXIpXG4gICAgICAgIGludGVyYWN0aW9uLmF1dG9TdGFydEhvbGRUaW1lciA9IG51bGxcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gcHJldmVudCByZWd1bGFyIGRvd24tPm1vdmUgYXV0b1N0YXJ0XG4gICAgJ2F1dG9TdGFydDpiZWZvcmUtc3RhcnQnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBjb25zdCBob2xkRHVyYXRpb24gPSBnZXRIb2xkRHVyYXRpb24oaW50ZXJhY3Rpb24pXG5cbiAgICAgIGlmIChob2xkRHVyYXRpb24gPiAwKSB7XG4gICAgICAgIGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgPSBudWxsXG4gICAgICB9XG4gICAgfSxcbiAgfSxcbiAgZ2V0SG9sZER1cmF0aW9uLFxufVxuZXhwb3J0IGRlZmF1bHQgaG9sZFxuIiwgImltcG9ydCB0eXBlIHsgU2NvcGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICcuL2Jhc2UnXG5pbXBvcnQgJy4vZHJhZ0F4aXMnXG5pbXBvcnQgJy4vaG9sZCdcblxuaW1wb3J0IGF1dG9TdGFydCBmcm9tICcuL2Jhc2UnXG5pbXBvcnQgZHJhZ0F4aXMgZnJvbSAnLi9kcmFnQXhpcydcbmltcG9ydCBob2xkIGZyb20gJy4vaG9sZCdcbi8qIGVzbGludC1lbmFibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgKi9cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpZDogJ2F1dG8tc3RhcnQnLFxuICBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICAgIHNjb3BlLnVzZVBsdWdpbihhdXRvU3RhcnQpXG4gICAgc2NvcGUudXNlUGx1Z2luKGhvbGQpXG4gICAgc2NvcGUudXNlUGx1Z2luKGRyYWdBeGlzKVxuICB9LFxufVxuIiwgImltcG9ydCB7IG1hdGNoZXNTZWxlY3Rvciwgbm9kZUNvbnRhaW5zIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5pbXBvcnQgeyBnZXRXaW5kb3cgfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy93aW5kb3cnXG5cbmltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSBJbnRlcmFjdGlvbiBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IFBvaW50ZXJFdmVudFR5cGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG50eXBlIFByZXZlbnREZWZhdWx0VmFsdWUgPSAnYWx3YXlzJyB8ICduZXZlcicgfCAnYXV0bydcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGFibGUge1xuICAgIHByZXZlbnREZWZhdWx0KG5ld1ZhbHVlOiBQcmV2ZW50RGVmYXVsdFZhbHVlKTogdGhpc1xuICAgIHByZXZlbnREZWZhdWx0KCk6IFByZXZlbnREZWZhdWx0VmFsdWVcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9yIHNldHMgd2hldGhlciB0byBwcmV2ZW50IHRoZSBicm93c2VyJ3MgZGVmYXVsdCBiZWhhdmlvdXIgaW5cbiAgICAgKiByZXNwb25zZSB0byBwb2ludGVyIGV2ZW50cy4gQ2FuIGJlIHNldCB0bzpcbiAgICAgKiAgLSBgJ2Fsd2F5cydgIHRvIGFsd2F5cyBwcmV2ZW50XG4gICAgICogIC0gYCduZXZlcidgIHRvIG5ldmVyIHByZXZlbnRcbiAgICAgKiAgLSBgJ2F1dG8nYCB0byBsZXQgaW50ZXJhY3QuanMgdHJ5IHRvIGRldGVybWluZSB3aGF0IHdvdWxkIGJlIGJlc3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSBuZXdWYWx1ZSAtIGAnYWx3YXlzJ2AsIGAnbmV2ZXInYCBvciBgJ2F1dG8nYFxuICAgICAqIEByZXR1cm5zIFRoZSBjdXJyZW50IHNldHRpbmcgb3IgdGhpcyBJbnRlcmFjdGFibGVcbiAgICAgKi9cbiAgICBwcmV2ZW50RGVmYXVsdChuZXdWYWx1ZT86IFByZXZlbnREZWZhdWx0VmFsdWUpOiBQcmV2ZW50RGVmYXVsdFZhbHVlIHwgdGhpc1xuICAgIGNoZWNrQW5kUHJldmVudERlZmF1bHQoZXZlbnQ6IEV2ZW50KTogdm9pZFxuICB9XG59XG5cbmNvbnN0IHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gcHJldmVudERlZmF1bHQodGhpczogSW50ZXJhY3RhYmxlLCBuZXdWYWx1ZT86IFByZXZlbnREZWZhdWx0VmFsdWUpIHtcbiAgaWYgKC9eKGFsd2F5c3xuZXZlcnxhdXRvKSQvLnRlc3QobmV3VmFsdWUpKSB7XG4gICAgdGhpcy5vcHRpb25zLnByZXZlbnREZWZhdWx0ID0gbmV3VmFsdWVcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgaWYgKGlzLmJvb2wobmV3VmFsdWUpKSB7XG4gICAgdGhpcy5vcHRpb25zLnByZXZlbnREZWZhdWx0ID0gbmV3VmFsdWUgPyAnYWx3YXlzJyA6ICduZXZlcidcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcmV0dXJuIHRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdFxufSBhcyBJbnRlcmFjdGFibGVbJ3ByZXZlbnREZWZhdWx0J11cblxuZnVuY3Rpb24gY2hlY2tBbmRQcmV2ZW50RGVmYXVsdChpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSwgc2NvcGU6IFNjb3BlLCBldmVudDogRXZlbnQpIHtcbiAgY29uc3Qgc2V0dGluZyA9IGludGVyYWN0YWJsZS5vcHRpb25zLnByZXZlbnREZWZhdWx0XG5cbiAgaWYgKHNldHRpbmcgPT09ICduZXZlcicpIHJldHVyblxuXG4gIGlmIChzZXR0aW5nID09PSAnYWx3YXlzJykge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIHNldHRpbmcgPT09ICdhdXRvJ1xuXG4gIC8vIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIHBhc3NpdmUgZXZlbnQgbGlzdGVuZXJzIGFuZCBpc24ndCBydW5uaW5nIG9uIGlPUyxcbiAgLy8gZG9uJ3QgcHJldmVudERlZmF1bHQgb2YgdG91Y2h7c3RhcnQsbW92ZX0gZXZlbnRzLiBDU1MgdG91Y2gtYWN0aW9uIGFuZFxuICAvLyB1c2VyLXNlbGVjdCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIGNhbGxpbmcgZXZlbnQucHJldmVudERlZmF1bHQoKS5cbiAgaWYgKHNjb3BlLmV2ZW50cy5zdXBwb3J0c1Bhc3NpdmUgJiYgL150b3VjaChzdGFydHxtb3ZlKSQvLnRlc3QoZXZlbnQudHlwZSkpIHtcbiAgICBjb25zdCBkb2MgPSBnZXRXaW5kb3coZXZlbnQudGFyZ2V0KS5kb2N1bWVudFxuICAgIGNvbnN0IGRvY09wdGlvbnMgPSBzY29wZS5nZXREb2NPcHRpb25zKGRvYylcblxuICAgIGlmICghKGRvY09wdGlvbnMgJiYgZG9jT3B0aW9ucy5ldmVudHMpIHx8IGRvY09wdGlvbnMuZXZlbnRzLnBhc3NpdmUgIT09IGZhbHNlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gIH1cblxuICAvLyBkb24ndCBwcmV2ZW50RGVmYXVsdCBvZiBwb2ludGVyZG93biBldmVudHNcbiAgaWYgKC9eKG1vdXNlfHBvaW50ZXJ8dG91Y2gpKihkb3dufHN0YXJ0KS9pLnRlc3QoZXZlbnQudHlwZSkpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIGRvbid0IHByZXZlbnREZWZhdWx0IG9uIGVkaXRhYmxlIGVsZW1lbnRzXG4gIGlmIChcbiAgICBpcy5lbGVtZW50KGV2ZW50LnRhcmdldCkgJiZcbiAgICBtYXRjaGVzU2VsZWN0b3IoZXZlbnQudGFyZ2V0LCAnaW5wdXQsc2VsZWN0LHRleHRhcmVhLFtjb250ZW50ZWRpdGFibGU9dHJ1ZV0sW2NvbnRlbnRlZGl0YWJsZT10cnVlXSAqJylcbiAgKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG59XG5cbmZ1bmN0aW9uIG9uSW50ZXJhY3Rpb25FdmVudCh7IGludGVyYWN0aW9uLCBldmVudCB9OiB7IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjsgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUgfSkge1xuICBpZiAoaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlKSB7XG4gICAgaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLmNoZWNrQW5kUHJldmVudERlZmF1bHQoZXZlbnQgYXMgRXZlbnQpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgSW50ZXJhY3RhYmxlIH0gPSBzY29wZVxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdFxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUuY2hlY2tBbmRQcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiBjaGVja0FuZFByZXZlbnREZWZhdWx0KHRoaXMsIHNjb3BlLCBldmVudClcbiAgfVxuXG4gIC8vIHByZXZlbnQgbmF0aXZlIEhUTUw1IGRyYWcgb24gaW50ZXJhY3QuanMgdGFyZ2V0IGVsZW1lbnRzXG4gIHNjb3BlLmludGVyYWN0aW9ucy5kb2NFdmVudHMucHVzaCh7XG4gICAgdHlwZTogJ2RyYWdzdGFydCcsXG4gICAgbGlzdGVuZXIoZXZlbnQpIHtcbiAgICAgIGZvciAoY29uc3QgaW50ZXJhY3Rpb24gb2Ygc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGludGVyYWN0aW9uLmVsZW1lbnQgJiZcbiAgICAgICAgICAoaW50ZXJhY3Rpb24uZWxlbWVudCA9PT0gZXZlbnQudGFyZ2V0IHx8IG5vZGVDb250YWlucyhpbnRlcmFjdGlvbi5lbGVtZW50LCBldmVudC50YXJnZXQpKVxuICAgICAgICApIHtcbiAgICAgICAgICBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUuY2hlY2tBbmRQcmV2ZW50RGVmYXVsdChldmVudClcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gIH0pXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaWQ6ICdjb3JlL2ludGVyYWN0YWJsZVByZXZlbnREZWZhdWx0JyxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiBbJ2Rvd24nLCAnbW92ZScsICd1cCcsICdjYW5jZWwnXS5yZWR1Y2UoKGFjYywgZXZlbnRUeXBlKSA9PiB7XG4gICAgYWNjW2BpbnRlcmFjdGlvbnM6JHtldmVudFR5cGV9YF0gPSBvbkludGVyYWN0aW9uRXZlbnRcbiAgICByZXR1cm4gYWNjXG4gIH0sIHt9IGFzIGFueSksXG59XG4iLCAiaW1wb3J0IHR5cGUgeyBBY3Rpb25zIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNOb25OYXRpdmVFdmVudCh0eXBlOiBzdHJpbmcsIGFjdGlvbnM6IEFjdGlvbnMpIHtcbiAgaWYgKGFjdGlvbnMucGhhc2VsZXNzVHlwZXNbdHlwZV0pIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgZm9yIChjb25zdCBuYW1lIGluIGFjdGlvbnMubWFwKSB7XG4gICAgaWYgKHR5cGUuaW5kZXhPZihuYW1lKSA9PT0gMCAmJiB0eXBlLnN1YnN0cihuYW1lLmxlbmd0aCkgaW4gYWN0aW9ucy5waGFzZXMpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG4iLCAiaW1wb3J0ICogYXMgYXJyIGZyb20gJy4vYXJyJ1xuaW1wb3J0IGlzIGZyb20gJy4vaXMnXG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZSBiYW4tdHlwZXNcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsb25lPFQgZXh0ZW5kcyBPYmplY3Q+KHNvdXJjZTogVCk6IFBhcnRpYWw8VD4ge1xuICBjb25zdCBkZXN0ID0ge30gYXMgUGFydGlhbDxUPlxuXG4gIGZvciAoY29uc3QgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHNvdXJjZVtwcm9wXVxuXG4gICAgaWYgKGlzLnBsYWluT2JqZWN0KHZhbHVlKSkge1xuICAgICAgZGVzdFtwcm9wXSA9IGNsb25lKHZhbHVlKSBhcyBhbnlcbiAgICB9IGVsc2UgaWYgKGlzLmFycmF5KHZhbHVlKSkge1xuICAgICAgZGVzdFtwcm9wXSA9IGFyci5mcm9tKHZhbHVlKSBhcyB0eXBlb2YgdmFsdWVcbiAgICB9IGVsc2Uge1xuICAgICAgZGVzdFtwcm9wXSA9IHZhbHVlXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRlc3Rcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50UGhhc2UgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0RXZlbnQnXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0aW9uLCBEb0FueVBoYXNlQXJnIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgRWRnZU9wdGlvbnMsIEZ1bGxSZWN0LCBQb2ludCwgUmVjdCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgY2xvbmUgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvY2xvbmUnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCAqIGFzIHJlY3RVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yZWN0J1xuXG5pbXBvcnQgdHlwZSB7IE1vZGlmaWVyLCBNb2RpZmllckFyZywgTW9kaWZpZXJTdGF0ZSB9IGZyb20gJy4vdHlwZXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9kaWZpY2F0aW9uUmVzdWx0IHtcbiAgZGVsdGE6IFBvaW50XG4gIHJlY3REZWx0YTogUmVjdFxuICBjb29yZHM6IFBvaW50XG4gIHJlY3Q6IEZ1bGxSZWN0XG4gIGV2ZW50UHJvcHM6IGFueVtdXG4gIGNoYW5nZWQ6IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIE1ldGhvZEFyZyB7XG4gIHBoYXNlOiBFdmVudFBoYXNlXG4gIHBhZ2VDb29yZHM6IFBvaW50XG4gIHJlY3Q6IEZ1bGxSZWN0XG4gIGNvb3JkczogUG9pbnRcbiAgcHJlRW5kPzogYm9vbGVhblxuICBza2lwTW9kaWZpZXJzPzogbnVtYmVyXG59XG5cbmV4cG9ydCBjbGFzcyBNb2RpZmljYXRpb24ge1xuICBzdGF0ZXM6IE1vZGlmaWVyU3RhdGVbXSA9IFtdXG4gIHN0YXJ0T2Zmc2V0OiBSZWN0ID0geyBsZWZ0OiAwLCByaWdodDogMCwgdG9wOiAwLCBib3R0b206IDAgfVxuICBzdGFydERlbHRhITogUG9pbnRcbiAgcmVzdWx0ITogTW9kaWZpY2F0aW9uUmVzdWx0XG4gIGVuZFJlc3VsdCE6IFBvaW50XG4gIHN0YXJ0RWRnZXMhOiBFZGdlT3B0aW9uc1xuICBlZGdlczogRWRnZU9wdGlvbnNcbiAgcmVhZG9ubHkgaW50ZXJhY3Rpb246IFJlYWRvbmx5PEludGVyYWN0aW9uPlxuXG4gIGNvbnN0cnVjdG9yKGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbikge1xuICAgIHRoaXMuaW50ZXJhY3Rpb24gPSBpbnRlcmFjdGlvblxuICAgIHRoaXMucmVzdWx0ID0gY3JlYXRlUmVzdWx0KClcbiAgICB0aGlzLmVkZ2VzID0ge1xuICAgICAgbGVmdDogZmFsc2UsXG4gICAgICByaWdodDogZmFsc2UsXG4gICAgICB0b3A6IGZhbHNlLFxuICAgICAgYm90dG9tOiBmYWxzZSxcbiAgICB9XG4gIH1cblxuICBzdGFydCh7IHBoYXNlIH06IHsgcGhhc2U6IEV2ZW50UGhhc2UgfSwgcGFnZUNvb3JkczogUG9pbnQpIHtcbiAgICBjb25zdCB7IGludGVyYWN0aW9uIH0gPSB0aGlzXG4gICAgY29uc3QgbW9kaWZpZXJMaXN0ID0gZ2V0TW9kaWZpZXJMaXN0KGludGVyYWN0aW9uKVxuICAgIHRoaXMucHJlcGFyZVN0YXRlcyhtb2RpZmllckxpc3QpXG5cbiAgICB0aGlzLnN0YXJ0RWRnZXMgPSBleHRlbmQoe30sIGludGVyYWN0aW9uLmVkZ2VzKVxuICAgIHRoaXMuZWRnZXMgPSBleHRlbmQoe30sIHRoaXMuc3RhcnRFZGdlcylcbiAgICB0aGlzLnN0YXJ0T2Zmc2V0ID0gZ2V0UmVjdE9mZnNldChpbnRlcmFjdGlvbi5yZWN0LCBwYWdlQ29vcmRzKVxuICAgIHRoaXMuc3RhcnREZWx0YSA9IHsgeDogMCwgeTogMCB9XG5cbiAgICBjb25zdCBhcmcgPSB0aGlzLmZpbGxBcmcoe1xuICAgICAgcGhhc2UsXG4gICAgICBwYWdlQ29vcmRzLFxuICAgICAgcHJlRW5kOiBmYWxzZSxcbiAgICB9KVxuXG4gICAgdGhpcy5yZXN1bHQgPSBjcmVhdGVSZXN1bHQoKVxuICAgIHRoaXMuc3RhcnRBbGwoYXJnKVxuXG4gICAgY29uc3QgcmVzdWx0ID0gKHRoaXMucmVzdWx0ID0gdGhpcy5zZXRBbGwoYXJnKSlcblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIGZpbGxBcmcoYXJnOiBQYXJ0aWFsPE1vZGlmaWVyQXJnPikge1xuICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IHRoaXNcblxuICAgIGFyZy5pbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uXG4gICAgYXJnLmludGVyYWN0YWJsZSA9IGludGVyYWN0aW9uLmludGVyYWN0YWJsZVxuICAgIGFyZy5lbGVtZW50ID0gaW50ZXJhY3Rpb24uZWxlbWVudFxuICAgIGFyZy5yZWN0IHx8PSBpbnRlcmFjdGlvbi5yZWN0XG4gICAgYXJnLmVkZ2VzIHx8PSB0aGlzLnN0YXJ0RWRnZXNcbiAgICBhcmcuc3RhcnRPZmZzZXQgPSB0aGlzLnN0YXJ0T2Zmc2V0XG5cbiAgICByZXR1cm4gYXJnIGFzIE1vZGlmaWVyQXJnXG4gIH1cblxuICBzdGFydEFsbChhcmc6IE1ldGhvZEFyZyAmIFBhcnRpYWw8TW9kaWZpZXJBcmc+KSB7XG4gICAgZm9yIChjb25zdCBzdGF0ZSBvZiB0aGlzLnN0YXRlcykge1xuICAgICAgaWYgKHN0YXRlLm1ldGhvZHMuc3RhcnQpIHtcbiAgICAgICAgYXJnLnN0YXRlID0gc3RhdGVcbiAgICAgICAgc3RhdGUubWV0aG9kcy5zdGFydChhcmcgYXMgTW9kaWZpZXJBcmcpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0QWxsKGFyZzogTWV0aG9kQXJnICYgUGFydGlhbDxNb2RpZmllckFyZz4pOiBNb2RpZmljYXRpb25SZXN1bHQge1xuICAgIGNvbnN0IHsgcGhhc2UsIHByZUVuZCwgc2tpcE1vZGlmaWVycywgcmVjdDogdW5tb2RpZmllZFJlY3QsIGVkZ2VzOiB1bm1vZGlmaWVkRWRnZXMgfSA9IGFyZ1xuXG4gICAgYXJnLmNvb3JkcyA9IGV4dGVuZCh7fSwgYXJnLnBhZ2VDb29yZHMpXG4gICAgYXJnLnJlY3QgPSBleHRlbmQoe30sIHVubW9kaWZpZWRSZWN0KVxuICAgIGFyZy5lZGdlcyA9IGV4dGVuZCh7fSwgdW5tb2RpZmllZEVkZ2VzKVxuXG4gICAgY29uc3Qgc3RhdGVzID0gc2tpcE1vZGlmaWVycyA/IHRoaXMuc3RhdGVzLnNsaWNlKHNraXBNb2RpZmllcnMpIDogdGhpcy5zdGF0ZXNcblxuICAgIGNvbnN0IG5ld1Jlc3VsdCA9IGNyZWF0ZVJlc3VsdChhcmcuY29vcmRzLCBhcmcucmVjdClcblxuICAgIGZvciAoY29uc3Qgc3RhdGUgb2Ygc3RhdGVzKSB7XG4gICAgICBjb25zdCB7IG9wdGlvbnMgfSA9IHN0YXRlXG4gICAgICBjb25zdCBsYXN0TW9kaWZpZXJDb29yZHMgPSBleHRlbmQoe30sIGFyZy5jb29yZHMpXG4gICAgICBsZXQgcmV0dXJuVmFsdWUgPSBudWxsXG5cbiAgICAgIGlmIChzdGF0ZS5tZXRob2RzPy5zZXQgJiYgdGhpcy5zaG91bGREbyhvcHRpb25zLCBwcmVFbmQsIHBoYXNlKSkge1xuICAgICAgICBhcmcuc3RhdGUgPSBzdGF0ZVxuICAgICAgICByZXR1cm5WYWx1ZSA9IHN0YXRlLm1ldGhvZHMuc2V0KGFyZyBhcyBNb2RpZmllckFyZzxuZXZlcj4pXG5cbiAgICAgICAgcmVjdFV0aWxzLmFkZEVkZ2VzKGFyZy5lZGdlcywgYXJnLnJlY3QsIHtcbiAgICAgICAgICB4OiBhcmcuY29vcmRzLnggLSBsYXN0TW9kaWZpZXJDb29yZHMueCxcbiAgICAgICAgICB5OiBhcmcuY29vcmRzLnkgLSBsYXN0TW9kaWZpZXJDb29yZHMueSxcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgbmV3UmVzdWx0LmV2ZW50UHJvcHMucHVzaChyZXR1cm5WYWx1ZSlcbiAgICB9XG5cbiAgICBleHRlbmQodGhpcy5lZGdlcywgYXJnLmVkZ2VzKVxuXG4gICAgbmV3UmVzdWx0LmRlbHRhLnggPSBhcmcuY29vcmRzLnggLSBhcmcucGFnZUNvb3Jkcy54XG4gICAgbmV3UmVzdWx0LmRlbHRhLnkgPSBhcmcuY29vcmRzLnkgLSBhcmcucGFnZUNvb3Jkcy55XG5cbiAgICBuZXdSZXN1bHQucmVjdERlbHRhLmxlZnQgPSBhcmcucmVjdC5sZWZ0IC0gdW5tb2RpZmllZFJlY3QubGVmdFxuICAgIG5ld1Jlc3VsdC5yZWN0RGVsdGEucmlnaHQgPSBhcmcucmVjdC5yaWdodCAtIHVubW9kaWZpZWRSZWN0LnJpZ2h0XG4gICAgbmV3UmVzdWx0LnJlY3REZWx0YS50b3AgPSBhcmcucmVjdC50b3AgLSB1bm1vZGlmaWVkUmVjdC50b3BcbiAgICBuZXdSZXN1bHQucmVjdERlbHRhLmJvdHRvbSA9IGFyZy5yZWN0LmJvdHRvbSAtIHVubW9kaWZpZWRSZWN0LmJvdHRvbVxuXG4gICAgY29uc3QgcHJldkNvb3JkcyA9IHRoaXMucmVzdWx0LmNvb3Jkc1xuICAgIGNvbnN0IHByZXZSZWN0ID0gdGhpcy5yZXN1bHQucmVjdFxuXG4gICAgaWYgKHByZXZDb29yZHMgJiYgcHJldlJlY3QpIHtcbiAgICAgIGNvbnN0IHJlY3RDaGFuZ2VkID1cbiAgICAgICAgbmV3UmVzdWx0LnJlY3QubGVmdCAhPT0gcHJldlJlY3QubGVmdCB8fFxuICAgICAgICBuZXdSZXN1bHQucmVjdC5yaWdodCAhPT0gcHJldlJlY3QucmlnaHQgfHxcbiAgICAgICAgbmV3UmVzdWx0LnJlY3QudG9wICE9PSBwcmV2UmVjdC50b3AgfHxcbiAgICAgICAgbmV3UmVzdWx0LnJlY3QuYm90dG9tICE9PSBwcmV2UmVjdC5ib3R0b21cblxuICAgICAgbmV3UmVzdWx0LmNoYW5nZWQgPVxuICAgICAgICByZWN0Q2hhbmdlZCB8fCBwcmV2Q29vcmRzLnggIT09IG5ld1Jlc3VsdC5jb29yZHMueCB8fCBwcmV2Q29vcmRzLnkgIT09IG5ld1Jlc3VsdC5jb29yZHMueVxuICAgIH1cblxuICAgIHJldHVybiBuZXdSZXN1bHRcbiAgfVxuXG4gIGFwcGx5VG9JbnRlcmFjdGlvbihhcmc6IHsgcGhhc2U6IEV2ZW50UGhhc2U7IHJlY3Q/OiBSZWN0IH0pIHtcbiAgICBjb25zdCB7IGludGVyYWN0aW9uIH0gPSB0aGlzXG4gICAgY29uc3QgeyBwaGFzZSB9ID0gYXJnXG4gICAgY29uc3QgY3VyQ29vcmRzID0gaW50ZXJhY3Rpb24uY29vcmRzLmN1clxuICAgIGNvbnN0IHN0YXJ0Q29vcmRzID0gaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0XG4gICAgY29uc3QgeyByZXN1bHQsIHN0YXJ0RGVsdGEgfSA9IHRoaXNcbiAgICBjb25zdCBjdXJEZWx0YSA9IHJlc3VsdC5kZWx0YVxuXG4gICAgaWYgKHBoYXNlID09PSAnc3RhcnQnKSB7XG4gICAgICBleHRlbmQodGhpcy5zdGFydERlbHRhLCByZXN1bHQuZGVsdGEpXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBbY29vcmRzU2V0LCBkZWx0YV0gb2YgW1xuICAgICAgW3N0YXJ0Q29vcmRzLCBzdGFydERlbHRhXSxcbiAgICAgIFtjdXJDb29yZHMsIGN1ckRlbHRhXSxcbiAgICBdIGFzIGNvbnN0KSB7XG4gICAgICBjb29yZHNTZXQucGFnZS54ICs9IGRlbHRhLnhcbiAgICAgIGNvb3Jkc1NldC5wYWdlLnkgKz0gZGVsdGEueVxuICAgICAgY29vcmRzU2V0LmNsaWVudC54ICs9IGRlbHRhLnhcbiAgICAgIGNvb3Jkc1NldC5jbGllbnQueSArPSBkZWx0YS55XG4gICAgfVxuXG4gICAgY29uc3QgeyByZWN0RGVsdGEgfSA9IHRoaXMucmVzdWx0XG4gICAgY29uc3QgcmVjdCA9IGFyZy5yZWN0IHx8IGludGVyYWN0aW9uLnJlY3RcblxuICAgIHJlY3QubGVmdCArPSByZWN0RGVsdGEubGVmdFxuICAgIHJlY3QucmlnaHQgKz0gcmVjdERlbHRhLnJpZ2h0XG4gICAgcmVjdC50b3AgKz0gcmVjdERlbHRhLnRvcFxuICAgIHJlY3QuYm90dG9tICs9IHJlY3REZWx0YS5ib3R0b21cblxuICAgIHJlY3Qud2lkdGggPSByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0XG4gICAgcmVjdC5oZWlnaHQgPSByZWN0LmJvdHRvbSAtIHJlY3QudG9wXG4gIH1cblxuICBzZXRBbmRBcHBseShcbiAgICBhcmc6IFBhcnRpYWw8RG9BbnlQaGFzZUFyZz4gJiB7XG4gICAgICBwaGFzZTogRXZlbnRQaGFzZVxuICAgICAgcHJlRW5kPzogYm9vbGVhblxuICAgICAgc2tpcE1vZGlmaWVycz86IG51bWJlclxuICAgICAgbW9kaWZpZWRDb29yZHM/OiBQb2ludFxuICAgIH0sXG4gICk6IHZvaWQgfCBmYWxzZSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gdGhpc1xuICAgIGNvbnN0IHsgcGhhc2UsIHByZUVuZCwgc2tpcE1vZGlmaWVycyB9ID0gYXJnXG5cbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnNldEFsbChcbiAgICAgIHRoaXMuZmlsbEFyZyh7XG4gICAgICAgIHByZUVuZCxcbiAgICAgICAgcGhhc2UsXG4gICAgICAgIHBhZ2VDb29yZHM6IGFyZy5tb2RpZmllZENvb3JkcyB8fCBpbnRlcmFjdGlvbi5jb29yZHMuY3VyLnBhZ2UsXG4gICAgICB9KSxcbiAgICApXG5cbiAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdFxuXG4gICAgLy8gZG9uJ3QgZmlyZSBhbiBhY3Rpb24gbW92ZSBpZiBhIG1vZGlmaWVyIHdvdWxkIGtlZXAgdGhlIGV2ZW50IGluIHRoZSBzYW1lXG4gICAgLy8gY29yZGluYXRlcyBhcyBiZWZvcmVcbiAgICBpZiAoXG4gICAgICAhcmVzdWx0LmNoYW5nZWQgJiZcbiAgICAgICghc2tpcE1vZGlmaWVycyB8fCBza2lwTW9kaWZpZXJzIDwgdGhpcy5zdGF0ZXMubGVuZ3RoKSAmJlxuICAgICAgaW50ZXJhY3Rpb24uaW50ZXJhY3RpbmcoKVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKGFyZy5tb2RpZmllZENvb3Jkcykge1xuICAgICAgY29uc3QgeyBwYWdlIH0gPSBpbnRlcmFjdGlvbi5jb29yZHMuY3VyXG4gICAgICBjb25zdCBhZGp1c3RtZW50ID0ge1xuICAgICAgICB4OiBhcmcubW9kaWZpZWRDb29yZHMueCAtIHBhZ2UueCxcbiAgICAgICAgeTogYXJnLm1vZGlmaWVkQ29vcmRzLnkgLSBwYWdlLnksXG4gICAgICB9XG5cbiAgICAgIHJlc3VsdC5jb29yZHMueCArPSBhZGp1c3RtZW50LnhcbiAgICAgIHJlc3VsdC5jb29yZHMueSArPSBhZGp1c3RtZW50LnlcbiAgICAgIHJlc3VsdC5kZWx0YS54ICs9IGFkanVzdG1lbnQueFxuICAgICAgcmVzdWx0LmRlbHRhLnkgKz0gYWRqdXN0bWVudC55XG4gICAgfVxuXG4gICAgdGhpcy5hcHBseVRvSW50ZXJhY3Rpb24oYXJnKVxuICB9XG5cbiAgYmVmb3JlRW5kKGFyZzogT21pdDxEb0FueVBoYXNlQXJnLCAnaUV2ZW50Jz4gJiB7IHN0YXRlPzogTW9kaWZpZXJTdGF0ZSB9KTogdm9pZCB8IGZhbHNlIHtcbiAgICBjb25zdCB7IGludGVyYWN0aW9uLCBldmVudCB9ID0gYXJnXG4gICAgY29uc3Qgc3RhdGVzID0gdGhpcy5zdGF0ZXNcblxuICAgIGlmICghc3RhdGVzIHx8ICFzdGF0ZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgZG9QcmVlbmQgPSBmYWxzZVxuXG4gICAgZm9yIChjb25zdCBzdGF0ZSBvZiBzdGF0ZXMpIHtcbiAgICAgIGFyZy5zdGF0ZSA9IHN0YXRlXG4gICAgICBjb25zdCB7IG9wdGlvbnMsIG1ldGhvZHMgfSA9IHN0YXRlXG5cbiAgICAgIGNvbnN0IGVuZFBvc2l0aW9uID0gbWV0aG9kcy5iZWZvcmVFbmQgJiYgbWV0aG9kcy5iZWZvcmVFbmQoYXJnIGFzIHVua25vd24gYXMgTW9kaWZpZXJBcmcpXG5cbiAgICAgIGlmIChlbmRQb3NpdGlvbikge1xuICAgICAgICB0aGlzLmVuZFJlc3VsdCA9IGVuZFBvc2l0aW9uXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICBkb1ByZWVuZCA9IGRvUHJlZW5kIHx8ICghZG9QcmVlbmQgJiYgdGhpcy5zaG91bGREbyhvcHRpb25zLCB0cnVlLCBhcmcucGhhc2UsIHRydWUpKVxuICAgIH1cblxuICAgIGlmIChkb1ByZWVuZCkge1xuICAgICAgLy8gdHJpZ2dlciBhIGZpbmFsIG1vZGlmaWVkIG1vdmUgYmVmb3JlIGVuZGluZ1xuICAgICAgaW50ZXJhY3Rpb24ubW92ZSh7IGV2ZW50LCBwcmVFbmQ6IHRydWUgfSlcbiAgICB9XG4gIH1cblxuICBzdG9wKGFyZzogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfSkge1xuICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IGFyZ1xuXG4gICAgaWYgKCF0aGlzLnN0YXRlcyB8fCAhdGhpcy5zdGF0ZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBtb2RpZmllckFyZzogUGFydGlhbDxNb2RpZmllckFyZz4gPSBleHRlbmQoXG4gICAgICB7XG4gICAgICAgIHN0YXRlczogdGhpcy5zdGF0ZXMsXG4gICAgICAgIGludGVyYWN0YWJsZTogaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLFxuICAgICAgICBlbGVtZW50OiBpbnRlcmFjdGlvbi5lbGVtZW50LFxuICAgICAgICByZWN0OiBudWxsLFxuICAgICAgfSxcbiAgICAgIGFyZyxcbiAgICApXG5cbiAgICB0aGlzLmZpbGxBcmcobW9kaWZpZXJBcmcpXG5cbiAgICBmb3IgKGNvbnN0IHN0YXRlIG9mIHRoaXMuc3RhdGVzKSB7XG4gICAgICBtb2RpZmllckFyZy5zdGF0ZSA9IHN0YXRlXG5cbiAgICAgIGlmIChzdGF0ZS5tZXRob2RzLnN0b3ApIHtcbiAgICAgICAgc3RhdGUubWV0aG9kcy5zdG9wKG1vZGlmaWVyQXJnIGFzIE1vZGlmaWVyQXJnKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc3RhdGVzID0gbnVsbFxuICAgIHRoaXMuZW5kUmVzdWx0ID0gbnVsbFxuICB9XG5cbiAgcHJlcGFyZVN0YXRlcyhtb2RpZmllckxpc3Q6IE1vZGlmaWVyW10pIHtcbiAgICB0aGlzLnN0YXRlcyA9IFtdXG5cbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbW9kaWZpZXJMaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgY29uc3QgeyBvcHRpb25zLCBtZXRob2RzLCBuYW1lIH0gPSBtb2RpZmllckxpc3RbaW5kZXhdXG5cbiAgICAgIHRoaXMuc3RhdGVzLnB1c2goe1xuICAgICAgICBvcHRpb25zLFxuICAgICAgICBtZXRob2RzLFxuICAgICAgICBpbmRleCxcbiAgICAgICAgbmFtZSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RhdGVzXG4gIH1cblxuICByZXN0b3JlSW50ZXJhY3Rpb25Db29yZHMoeyBpbnRlcmFjdGlvbjogeyBjb29yZHMsIHJlY3QsIG1vZGlmaWNhdGlvbiB9IH06IHsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uIH0pIHtcbiAgICBpZiAoIW1vZGlmaWNhdGlvbi5yZXN1bHQpIHJldHVyblxuXG4gICAgY29uc3QgeyBzdGFydERlbHRhIH0gPSBtb2RpZmljYXRpb25cbiAgICBjb25zdCB7IGRlbHRhOiBjdXJEZWx0YSwgcmVjdERlbHRhIH0gPSBtb2RpZmljYXRpb24ucmVzdWx0XG5cbiAgICBjb25zdCBjb29yZHNBbmREZWx0YXMgPSBbXG4gICAgICBbY29vcmRzLnN0YXJ0LCBzdGFydERlbHRhXSxcbiAgICAgIFtjb29yZHMuY3VyLCBjdXJEZWx0YV0sXG4gICAgXVxuXG4gICAgZm9yIChjb25zdCBbY29vcmRzU2V0LCBkZWx0YV0gb2YgY29vcmRzQW5kRGVsdGFzIGFzIGFueSkge1xuICAgICAgY29vcmRzU2V0LnBhZ2UueCAtPSBkZWx0YS54XG4gICAgICBjb29yZHNTZXQucGFnZS55IC09IGRlbHRhLnlcbiAgICAgIGNvb3Jkc1NldC5jbGllbnQueCAtPSBkZWx0YS54XG4gICAgICBjb29yZHNTZXQuY2xpZW50LnkgLT0gZGVsdGEueVxuICAgIH1cblxuICAgIHJlY3QubGVmdCAtPSByZWN0RGVsdGEubGVmdFxuICAgIHJlY3QucmlnaHQgLT0gcmVjdERlbHRhLnJpZ2h0XG4gICAgcmVjdC50b3AgLT0gcmVjdERlbHRhLnRvcFxuICAgIHJlY3QuYm90dG9tIC09IHJlY3REZWx0YS5ib3R0b21cbiAgfVxuXG4gIHNob3VsZERvKG9wdGlvbnMsIHByZUVuZD86IGJvb2xlYW4sIHBoYXNlPzogc3RyaW5nLCByZXF1aXJlRW5kT25seT86IGJvb2xlYW4pIHtcbiAgICBpZiAoXG4gICAgICAvLyBpZ25vcmUgZGlzYWJsZWQgbW9kaWZpZXJzXG4gICAgICAhb3B0aW9ucyB8fFxuICAgICAgb3B0aW9ucy5lbmFibGVkID09PSBmYWxzZSB8fFxuICAgICAgLy8gY2hlY2sgaWYgd2UgcmVxdWlyZSBlbmRPbmx5IG9wdGlvbiB0byBmaXJlIG1vdmUgYmVmb3JlIGVuZFxuICAgICAgKHJlcXVpcmVFbmRPbmx5ICYmICFvcHRpb25zLmVuZE9ubHkpIHx8XG4gICAgICAvLyBkb24ndCBhcHBseSBlbmRPbmx5IG1vZGlmaWVycyB3aGVuIG5vdCBlbmRpbmdcbiAgICAgIChvcHRpb25zLmVuZE9ubHkgJiYgIXByZUVuZCkgfHxcbiAgICAgIC8vIGNoZWNrIGlmIG1vZGlmaWVyIHNob3VsZCBydW4gYmUgYXBwbGllZCBvbiBzdGFydFxuICAgICAgKHBoYXNlID09PSAnc3RhcnQnICYmICFvcHRpb25zLnNldFN0YXJ0KVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGNvcHlGcm9tKG90aGVyOiBNb2RpZmljYXRpb24pIHtcbiAgICB0aGlzLnN0YXJ0T2Zmc2V0ID0gb3RoZXIuc3RhcnRPZmZzZXRcbiAgICB0aGlzLnN0YXJ0RGVsdGEgPSBvdGhlci5zdGFydERlbHRhXG4gICAgdGhpcy5zdGFydEVkZ2VzID0gb3RoZXIuc3RhcnRFZGdlc1xuICAgIHRoaXMuZWRnZXMgPSBvdGhlci5lZGdlc1xuICAgIHRoaXMuc3RhdGVzID0gb3RoZXIuc3RhdGVzLm1hcCgocykgPT4gY2xvbmUocykgYXMgTW9kaWZpZXJTdGF0ZSlcbiAgICB0aGlzLnJlc3VsdCA9IGNyZWF0ZVJlc3VsdChleHRlbmQoe30sIG90aGVyLnJlc3VsdC5jb29yZHMpLCBleHRlbmQoe30sIG90aGVyLnJlc3VsdC5yZWN0KSlcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChjb25zdCBwcm9wIGluIHRoaXMpIHtcbiAgICAgIHRoaXNbcHJvcF0gPSBudWxsXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVJlc3VsdChjb29yZHM/OiBQb2ludCwgcmVjdD86IEZ1bGxSZWN0KTogTW9kaWZpY2F0aW9uUmVzdWx0IHtcbiAgcmV0dXJuIHtcbiAgICByZWN0LFxuICAgIGNvb3JkcyxcbiAgICBkZWx0YTogeyB4OiAwLCB5OiAwIH0sXG4gICAgcmVjdERlbHRhOiB7XG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICB0b3A6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgfSxcbiAgICBldmVudFByb3BzOiBbXSxcbiAgICBjaGFuZ2VkOiB0cnVlLFxuICB9XG59XG5cbmZ1bmN0aW9uIGdldE1vZGlmaWVyTGlzdChpbnRlcmFjdGlvbikge1xuICBjb25zdCBhY3Rpb25PcHRpb25zID0gaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLm9wdGlvbnNbaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZV1cbiAgY29uc3QgYWN0aW9uTW9kaWZpZXJzID0gYWN0aW9uT3B0aW9ucy5tb2RpZmllcnNcblxuICBpZiAoYWN0aW9uTW9kaWZpZXJzICYmIGFjdGlvbk1vZGlmaWVycy5sZW5ndGgpIHtcbiAgICByZXR1cm4gYWN0aW9uTW9kaWZpZXJzXG4gIH1cblxuICByZXR1cm4gWydzbmFwJywgJ3NuYXBTaXplJywgJ3NuYXBFZGdlcycsICdyZXN0cmljdCcsICdyZXN0cmljdEVkZ2VzJywgJ3Jlc3RyaWN0U2l6ZSddXG4gICAgLm1hcCgodHlwZSkgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IGFjdGlvbk9wdGlvbnNbdHlwZV1cblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgb3B0aW9ucyAmJlxuICAgICAgICBvcHRpb25zLmVuYWJsZWQgJiYge1xuICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgbWV0aG9kczogb3B0aW9ucy5fbWV0aG9kcyxcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH0pXG4gICAgLmZpbHRlcigobSkgPT4gISFtKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVjdE9mZnNldChyZWN0LCBjb29yZHMpIHtcbiAgcmV0dXJuIHJlY3RcbiAgICA/IHtcbiAgICAgICAgbGVmdDogY29vcmRzLnggLSByZWN0LmxlZnQsXG4gICAgICAgIHRvcDogY29vcmRzLnkgLSByZWN0LnRvcCxcbiAgICAgICAgcmlnaHQ6IHJlY3QucmlnaHQgLSBjb29yZHMueCxcbiAgICAgICAgYm90dG9tOiByZWN0LmJvdHRvbSAtIGNvb3Jkcy55LFxuICAgICAgfVxuICAgIDoge1xuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICBib3R0b206IDAsXG4gICAgICB9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdEV2ZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdEV2ZW50J1xuaW1wb3J0IHR5cGUgSW50ZXJhY3Rpb24gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcblxuaW1wb3J0IHsgTW9kaWZpY2F0aW9uIH0gZnJvbSAnLi9Nb2RpZmljYXRpb24nXG5pbXBvcnQgdHlwZSB7IE1vZGlmaWVyLCBNb2RpZmllck1vZHVsZSwgTW9kaWZpZXJTdGF0ZSB9IGZyb20gJy4vdHlwZXMnXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGlvbiB7XG4gICAgbW9kaWZpY2F0aW9uPzogTW9kaWZpY2F0aW9uXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RFdmVudCcge1xuICBpbnRlcmZhY2UgSW50ZXJhY3RFdmVudCB7XG4gICAgbW9kaWZpZXJzPzogQXJyYXk8e1xuICAgICAgbmFtZTogc3RyaW5nXG4gICAgICBba2V5OiBzdHJpbmddOiBhbnlcbiAgICB9PlxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnIHtcbiAgaW50ZXJmYWNlIFBlckFjdGlvbkRlZmF1bHRzIHtcbiAgICBtb2RpZmllcnM/OiBNb2RpZmllcltdXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VNb2RpZmllcjxcbiAgRGVmYXVsdHMgZXh0ZW5kcyB7IGVuYWJsZWQ/OiBib29sZWFuIH0sXG4gIFN0YXRlIGV4dGVuZHMgTW9kaWZpZXJTdGF0ZSxcbiAgTmFtZSBleHRlbmRzIHN0cmluZyxcbiAgUmVzdWx0LFxuPihtb2R1bGU6IE1vZGlmaWVyTW9kdWxlPERlZmF1bHRzLCBTdGF0ZSwgUmVzdWx0PiwgbmFtZT86IE5hbWUpIHtcbiAgY29uc3QgeyBkZWZhdWx0cyB9ID0gbW9kdWxlXG4gIGNvbnN0IG1ldGhvZHMgPSB7XG4gICAgc3RhcnQ6IG1vZHVsZS5zdGFydCxcbiAgICBzZXQ6IG1vZHVsZS5zZXQsXG4gICAgYmVmb3JlRW5kOiBtb2R1bGUuYmVmb3JlRW5kLFxuICAgIHN0b3A6IG1vZHVsZS5zdG9wLFxuICB9XG5cbiAgY29uc3QgbW9kaWZpZXIgPSAoX29wdGlvbnM/OiBQYXJ0aWFsPERlZmF1bHRzPikgPT4ge1xuICAgIGNvbnN0IG9wdGlvbnMgPSAoX29wdGlvbnMgfHwge30pIGFzIERlZmF1bHRzXG5cbiAgICBvcHRpb25zLmVuYWJsZWQgPSBvcHRpb25zLmVuYWJsZWQgIT09IGZhbHNlXG5cbiAgICAvLyBhZGQgbWlzc2luZyBkZWZhdWx0cyB0byBvcHRpb25zXG4gICAgZm9yIChjb25zdCBwcm9wIGluIGRlZmF1bHRzKSB7XG4gICAgICBpZiAoIShwcm9wIGluIG9wdGlvbnMpKSB7XG4gICAgICAgIDsob3B0aW9ucyBhcyBhbnkpW3Byb3BdID0gZGVmYXVsdHNbcHJvcF1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBtOiBNb2RpZmllcjxEZWZhdWx0cywgU3RhdGUsIE5hbWUsIFJlc3VsdD4gPSB7XG4gICAgICBvcHRpb25zLFxuICAgICAgbWV0aG9kcyxcbiAgICAgIG5hbWUsXG4gICAgICBlbmFibGU6ICgpID0+IHtcbiAgICAgICAgb3B0aW9ucy5lbmFibGVkID0gdHJ1ZVxuICAgICAgICByZXR1cm4gbVxuICAgICAgfSxcbiAgICAgIGRpc2FibGU6ICgpID0+IHtcbiAgICAgICAgb3B0aW9ucy5lbmFibGVkID0gZmFsc2VcbiAgICAgICAgcmV0dXJuIG1cbiAgICAgIH0sXG4gICAgfVxuXG4gICAgcmV0dXJuIG1cbiAgfVxuXG4gIGlmIChuYW1lICYmIHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykge1xuICAgIC8vIGZvciBiYWNrd3JhZHMgY29tcGF0aWJpbGl0eVxuICAgIG1vZGlmaWVyLl9kZWZhdWx0cyA9IGRlZmF1bHRzXG4gICAgbW9kaWZpZXIuX21ldGhvZHMgPSBtZXRob2RzXG4gIH1cblxuICByZXR1cm4gbW9kaWZpZXJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEV2ZW50TW9kaWZpZXJzKHtcbiAgaUV2ZW50LFxuICBpbnRlcmFjdGlvbixcbn06IHtcbiAgaUV2ZW50OiBJbnRlcmFjdEV2ZW50PGFueT5cbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPGFueT5cbn0pIHtcbiAgY29uc3QgcmVzdWx0ID0gaW50ZXJhY3Rpb24ubW9kaWZpY2F0aW9uIS5yZXN1bHRcblxuICBpZiAocmVzdWx0KSB7XG4gICAgaUV2ZW50Lm1vZGlmaWVycyA9IHJlc3VsdC5ldmVudFByb3BzXG4gIH1cbn1cblxuY29uc3QgbW9kaWZpZXJzQmFzZTogUGx1Z2luID0ge1xuICBpZDogJ21vZGlmaWVycy9iYXNlJyxcbiAgYmVmb3JlOiBbJ2FjdGlvbnMnXSxcbiAgaW5zdGFsbDogKHNjb3BlKSA9PiB7XG4gICAgc2NvcGUuZGVmYXVsdHMucGVyQWN0aW9uLm1vZGlmaWVycyA9IFtdXG4gIH0sXG4gIGxpc3RlbmVyczoge1xuICAgICdpbnRlcmFjdGlvbnM6bmV3JzogKHsgaW50ZXJhY3Rpb24gfSkgPT4ge1xuICAgICAgaW50ZXJhY3Rpb24ubW9kaWZpY2F0aW9uID0gbmV3IE1vZGlmaWNhdGlvbihpbnRlcmFjdGlvbilcbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLXN0YXJ0JzogKGFyZykgPT4ge1xuICAgICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gYXJnXG4gICAgICBjb25zdCBtb2RpZmljYXRpb24gPSBhcmcuaW50ZXJhY3Rpb24ubW9kaWZpY2F0aW9uIVxuXG4gICAgICBtb2RpZmljYXRpb24uc3RhcnQoYXJnLCBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQucGFnZSlcbiAgICAgIGludGVyYWN0aW9uLmVkZ2VzID0gbW9kaWZpY2F0aW9uLmVkZ2VzXG4gICAgICBtb2RpZmljYXRpb24uYXBwbHlUb0ludGVyYWN0aW9uKGFyZylcbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLW1vdmUnOiAoYXJnKSA9PiB7XG4gICAgICBjb25zdCB7IGludGVyYWN0aW9uIH0gPSBhcmdcbiAgICAgIGNvbnN0IHsgbW9kaWZpY2F0aW9uIH0gPSBpbnRlcmFjdGlvblxuICAgICAgY29uc3QgcmV0ID0gbW9kaWZpY2F0aW9uLnNldEFuZEFwcGx5KGFyZylcbiAgICAgIGludGVyYWN0aW9uLmVkZ2VzID0gbW9kaWZpY2F0aW9uLmVkZ2VzXG5cbiAgICAgIHJldHVybiByZXRcbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLWVuZCc6IChhcmcpID0+IHtcbiAgICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IGFyZ1xuICAgICAgY29uc3QgeyBtb2RpZmljYXRpb24gfSA9IGludGVyYWN0aW9uXG4gICAgICBjb25zdCByZXQgPSBtb2RpZmljYXRpb24uYmVmb3JlRW5kKGFyZylcbiAgICAgIGludGVyYWN0aW9uLmVkZ2VzID0gbW9kaWZpY2F0aW9uLnN0YXJ0RWRnZXNcblxuICAgICAgcmV0dXJuIHJldFxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1zdGFydCc6IGFkZEV2ZW50TW9kaWZpZXJzLFxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLW1vdmUnOiBhZGRFdmVudE1vZGlmaWVycyxcbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1lbmQnOiBhZGRFdmVudE1vZGlmaWVycyxcblxuICAgICdpbnRlcmFjdGlvbnM6YWZ0ZXItYWN0aW9uLXN0YXJ0JzogKGFyZykgPT4gYXJnLmludGVyYWN0aW9uLm1vZGlmaWNhdGlvbi5yZXN0b3JlSW50ZXJhY3Rpb25Db29yZHMoYXJnKSxcbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1tb3ZlJzogKGFyZykgPT4gYXJnLmludGVyYWN0aW9uLm1vZGlmaWNhdGlvbi5yZXN0b3JlSW50ZXJhY3Rpb25Db29yZHMoYXJnKSxcblxuICAgICdpbnRlcmFjdGlvbnM6c3RvcCc6IChhcmcpID0+IGFyZy5pbnRlcmFjdGlvbi5tb2RpZmljYXRpb24uc3RvcChhcmcpLFxuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBtb2RpZmllcnNCYXNlXG4iLCAiaW1wb3J0IHR5cGUgeyBQb2ludCwgTGlzdGVuZXJzLCBPckJvb2xlYW4sIEVsZW1lbnQsIFJlY3QgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIERlZmF1bHRzIHtcbiAgYmFzZTogQmFzZURlZmF1bHRzXG4gIHBlckFjdGlvbjogUGVyQWN0aW9uRGVmYXVsdHNcbiAgYWN0aW9uczogQWN0aW9uRGVmYXVsdHNcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1pbnRlcmZhY2VcbmV4cG9ydCBpbnRlcmZhY2UgQWN0aW9uRGVmYXVsdHMge31cblxuZXhwb3J0IGludGVyZmFjZSBCYXNlRGVmYXVsdHMge1xuICBwcmV2ZW50RGVmYXVsdD86ICdhbHdheXMnIHwgJ25ldmVyJyB8ICdhdXRvJ1xuICBkZWx0YVNvdXJjZT86ICdwYWdlJyB8ICdjbGllbnQnXG4gIGNvbnRleHQ/OiBOb2RlXG4gIGdldFJlY3Q/OiAoZWxlbWVudDogRWxlbWVudCkgPT4gUmVjdFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBlckFjdGlvbkRlZmF1bHRzIHtcbiAgZW5hYmxlZD86IGJvb2xlYW5cbiAgb3JpZ2luPzogUG9pbnQgfCBzdHJpbmcgfCBFbGVtZW50XG4gIGxpc3RlbmVycz86IExpc3RlbmVyc1xuICBhbGxvd0Zyb20/OiBzdHJpbmcgfCBFbGVtZW50XG4gIGlnbm9yZUZyb20/OiBzdHJpbmcgfCBFbGVtZW50XG59XG5cbmV4cG9ydCB0eXBlIE9wdGlvbnMgPSBQYXJ0aWFsPEJhc2VEZWZhdWx0cz4gJlxuICBQYXJ0aWFsPFBlckFjdGlvbkRlZmF1bHRzPiAmIHtcbiAgICBbUCBpbiBrZXlvZiBBY3Rpb25EZWZhdWx0c10/OiBQYXJ0aWFsPEFjdGlvbkRlZmF1bHRzW1BdPlxuICB9XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3B0aW9uc0FyZyBleHRlbmRzIEJhc2VEZWZhdWx0cywgT3JCb29sZWFuPFBhcnRpYWw8QWN0aW9uRGVmYXVsdHM+PiB7fVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdHM6IERlZmF1bHRzID0ge1xuICBiYXNlOiB7XG4gICAgcHJldmVudERlZmF1bHQ6ICdhdXRvJyxcbiAgICBkZWx0YVNvdXJjZTogJ3BhZ2UnLFxuICB9LFxuXG4gIHBlckFjdGlvbjoge1xuICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgIG9yaWdpbjogeyB4OiAwLCB5OiAwIH0sXG4gIH0sXG5cbiAgYWN0aW9uczoge30gYXMgQWN0aW9uRGVmYXVsdHMsXG59XG4iLCAiaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgZ2V0T3JpZ2luWFkgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZ2V0T3JpZ2luWFknXG5pbXBvcnQgaHlwb3QgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaHlwb3QnXG5cbmltcG9ydCB0eXBlIHsgUG9pbnQsIEZ1bGxSZWN0LCBQb2ludGVyRXZlbnRUeXBlLCBFbGVtZW50LCBBY3Rpb25OYW1lIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuaW1wb3J0IHsgQmFzZUV2ZW50IH0gZnJvbSAnLi9CYXNlRXZlbnQnXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0aW9uIH0gZnJvbSAnLi9JbnRlcmFjdGlvbidcbmltcG9ydCB7IGRlZmF1bHRzIH0gZnJvbSAnLi9vcHRpb25zJ1xuXG5leHBvcnQgdHlwZSBFdmVudFBoYXNlID0ga2V5b2YgUGhhc2VNYXBcblxuZXhwb3J0IGludGVyZmFjZSBQaGFzZU1hcCB7XG4gIHN0YXJ0OiB0cnVlXG4gIG1vdmU6IHRydWVcbiAgZW5kOiB0cnVlXG59XG5cbi8vIGRlZmluZWQgb3V0c2lkZSBvZiBjbGFzcyBkZWZpbml0aW9uIHRvIGF2b2lkIGFzc2lnbm1lbnQgb2YgdW5kZWZpbmVkIGR1cmluZ1xuLy8gY29uc3RydWN0aW9uXG5leHBvcnQgaW50ZXJmYWNlIEludGVyYWN0RXZlbnQge1xuICBwYWdlWDogbnVtYmVyXG4gIHBhZ2VZOiBudW1iZXJcblxuICBjbGllbnRYOiBudW1iZXJcbiAgY2xpZW50WTogbnVtYmVyXG5cbiAgZHg6IG51bWJlclxuICBkeTogbnVtYmVyXG5cbiAgdmVsb2NpdHlYOiBudW1iZXJcbiAgdmVsb2NpdHlZOiBudW1iZXJcbn1cblxuZXhwb3J0IGNsYXNzIEludGVyYWN0RXZlbnQ8XG4gIFQgZXh0ZW5kcyBBY3Rpb25OYW1lID0gbmV2ZXIsXG4gIFAgZXh0ZW5kcyBFdmVudFBoYXNlID0gRXZlbnRQaGFzZSxcbj4gZXh0ZW5kcyBCYXNlRXZlbnQ8VD4ge1xuICBkZWNsYXJlIHRhcmdldDogRWxlbWVudFxuICBkZWNsYXJlIGN1cnJlbnRUYXJnZXQ6IEVsZW1lbnRcbiAgcmVsYXRlZFRhcmdldDogRWxlbWVudCB8IG51bGwgPSBudWxsXG4gIHNjcmVlblg/OiBudW1iZXJcbiAgc2NyZWVuWT86IG51bWJlclxuICBidXR0b246IG51bWJlclxuICBidXR0b25zOiBudW1iZXJcbiAgY3RybEtleTogYm9vbGVhblxuICBzaGlmdEtleTogYm9vbGVhblxuICBhbHRLZXk6IGJvb2xlYW5cbiAgbWV0YUtleTogYm9vbGVhblxuICBwYWdlOiBQb2ludFxuICBjbGllbnQ6IFBvaW50XG4gIGRlbHRhOiBQb2ludFxuICByZWN0OiBGdWxsUmVjdFxuICB4MDogbnVtYmVyXG4gIHkwOiBudW1iZXJcbiAgdDA6IG51bWJlclxuICBkdDogbnVtYmVyXG4gIGR1cmF0aW9uOiBudW1iZXJcbiAgY2xpZW50WDA6IG51bWJlclxuICBjbGllbnRZMDogbnVtYmVyXG4gIHZlbG9jaXR5OiBQb2ludFxuICBzcGVlZDogbnVtYmVyXG4gIHN3aXBlOiBSZXR1cm5UeXBlPEludGVyYWN0RXZlbnQ8VD5bJ2dldFN3aXBlJ10+XG4gIC8vIHJlc2l6ZVxuICBheGVzPzogJ3gnIHwgJ3knIHwgJ3h5J1xuICAvKiogQGludGVybmFsICovXG4gIHByZUVuZD86IGJvb2xlYW5cblxuICBjb25zdHJ1Y3RvcihcbiAgICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248VD4sXG4gICAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsXG4gICAgYWN0aW9uTmFtZTogVCxcbiAgICBwaGFzZTogUCxcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIHByZUVuZD86IGJvb2xlYW4sXG4gICAgdHlwZT86IHN0cmluZyxcbiAgKSB7XG4gICAgc3VwZXIoaW50ZXJhY3Rpb24pXG5cbiAgICBlbGVtZW50ID0gZWxlbWVudCB8fCBpbnRlcmFjdGlvbi5lbGVtZW50XG5cbiAgICBjb25zdCB0YXJnZXQgPSBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGVcbiAgICBjb25zdCBkZWx0YVNvdXJjZSA9ICgoKHRhcmdldCAmJiB0YXJnZXQub3B0aW9ucykgfHwgZGVmYXVsdHMpIGFzIGFueSkuZGVsdGFTb3VyY2UgYXMgJ3BhZ2UnIHwgJ2NsaWVudCdcbiAgICBjb25zdCBvcmlnaW4gPSBnZXRPcmlnaW5YWSh0YXJnZXQsIGVsZW1lbnQsIGFjdGlvbk5hbWUpXG4gICAgY29uc3Qgc3RhcnRpbmcgPSBwaGFzZSA9PT0gJ3N0YXJ0J1xuICAgIGNvbnN0IGVuZGluZyA9IHBoYXNlID09PSAnZW5kJ1xuICAgIGNvbnN0IHByZXZFdmVudCA9IHN0YXJ0aW5nID8gdGhpcyA6IGludGVyYWN0aW9uLnByZXZFdmVudFxuICAgIGNvbnN0IGNvb3JkcyA9IHN0YXJ0aW5nXG4gICAgICA/IGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydFxuICAgICAgOiBlbmRpbmdcbiAgICAgICAgPyB7IHBhZ2U6IHByZXZFdmVudC5wYWdlLCBjbGllbnQ6IHByZXZFdmVudC5jbGllbnQsIHRpbWVTdGFtcDogaW50ZXJhY3Rpb24uY29vcmRzLmN1ci50aW1lU3RhbXAgfVxuICAgICAgICA6IGludGVyYWN0aW9uLmNvb3Jkcy5jdXJcblxuICAgIHRoaXMucGFnZSA9IGV4dGVuZCh7fSwgY29vcmRzLnBhZ2UpXG4gICAgdGhpcy5jbGllbnQgPSBleHRlbmQoe30sIGNvb3Jkcy5jbGllbnQpXG4gICAgdGhpcy5yZWN0ID0gZXh0ZW5kKHt9LCBpbnRlcmFjdGlvbi5yZWN0KVxuICAgIHRoaXMudGltZVN0YW1wID0gY29vcmRzLnRpbWVTdGFtcFxuXG4gICAgaWYgKCFlbmRpbmcpIHtcbiAgICAgIHRoaXMucGFnZS54IC09IG9yaWdpbi54XG4gICAgICB0aGlzLnBhZ2UueSAtPSBvcmlnaW4ueVxuXG4gICAgICB0aGlzLmNsaWVudC54IC09IG9yaWdpbi54XG4gICAgICB0aGlzLmNsaWVudC55IC09IG9yaWdpbi55XG4gICAgfVxuXG4gICAgdGhpcy5jdHJsS2V5ID0gZXZlbnQuY3RybEtleVxuICAgIHRoaXMuYWx0S2V5ID0gZXZlbnQuYWx0S2V5XG4gICAgdGhpcy5zaGlmdEtleSA9IGV2ZW50LnNoaWZ0S2V5XG4gICAgdGhpcy5tZXRhS2V5ID0gZXZlbnQubWV0YUtleVxuICAgIHRoaXMuYnV0dG9uID0gKGV2ZW50IGFzIE1vdXNlRXZlbnQpLmJ1dHRvblxuICAgIHRoaXMuYnV0dG9ucyA9IChldmVudCBhcyBNb3VzZUV2ZW50KS5idXR0b25zXG4gICAgdGhpcy50YXJnZXQgPSBlbGVtZW50XG4gICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gZWxlbWVudFxuICAgIHRoaXMucHJlRW5kID0gcHJlRW5kXG4gICAgdGhpcy50eXBlID0gdHlwZSB8fCBhY3Rpb25OYW1lICsgKHBoYXNlIHx8ICcnKVxuICAgIHRoaXMuaW50ZXJhY3RhYmxlID0gdGFyZ2V0XG5cbiAgICB0aGlzLnQwID0gc3RhcnRpbmcgPyBpbnRlcmFjdGlvbi5wb2ludGVyc1tpbnRlcmFjdGlvbi5wb2ludGVycy5sZW5ndGggLSAxXS5kb3duVGltZSA6IHByZXZFdmVudC50MFxuXG4gICAgdGhpcy54MCA9IGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydC5wYWdlLnggLSBvcmlnaW4ueFxuICAgIHRoaXMueTAgPSBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQucGFnZS55IC0gb3JpZ2luLnlcbiAgICB0aGlzLmNsaWVudFgwID0gaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LmNsaWVudC54IC0gb3JpZ2luLnhcbiAgICB0aGlzLmNsaWVudFkwID0gaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LmNsaWVudC55IC0gb3JpZ2luLnlcblxuICAgIGlmIChzdGFydGluZyB8fCBlbmRpbmcpIHtcbiAgICAgIHRoaXMuZGVsdGEgPSB7IHg6IDAsIHk6IDAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlbHRhID0ge1xuICAgICAgICB4OiB0aGlzW2RlbHRhU291cmNlXS54IC0gcHJldkV2ZW50W2RlbHRhU291cmNlXS54LFxuICAgICAgICB5OiB0aGlzW2RlbHRhU291cmNlXS55IC0gcHJldkV2ZW50W2RlbHRhU291cmNlXS55LFxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZHQgPSBpbnRlcmFjdGlvbi5jb29yZHMuZGVsdGEudGltZVN0YW1wXG4gICAgdGhpcy5kdXJhdGlvbiA9IHRoaXMudGltZVN0YW1wIC0gdGhpcy50MFxuXG4gICAgLy8gdmVsb2NpdHkgYW5kIHNwZWVkIGluIHBpeGVscyBwZXIgc2Vjb25kXG4gICAgdGhpcy52ZWxvY2l0eSA9IGV4dGVuZCh7fSwgaW50ZXJhY3Rpb24uY29vcmRzLnZlbG9jaXR5W2RlbHRhU291cmNlXSlcbiAgICB0aGlzLnNwZWVkID0gaHlwb3QodGhpcy52ZWxvY2l0eS54LCB0aGlzLnZlbG9jaXR5LnkpXG5cbiAgICB0aGlzLnN3aXBlID0gZW5kaW5nIHx8IHBoYXNlID09PSAnaW5lcnRpYXN0YXJ0JyA/IHRoaXMuZ2V0U3dpcGUoKSA6IG51bGxcbiAgfVxuXG4gIGdldFN3aXBlKCkge1xuICAgIGNvbnN0IGludGVyYWN0aW9uID0gdGhpcy5faW50ZXJhY3Rpb25cblxuICAgIGlmIChpbnRlcmFjdGlvbi5wcmV2RXZlbnQuc3BlZWQgPCA2MDAgfHwgdGhpcy50aW1lU3RhbXAgLSBpbnRlcmFjdGlvbi5wcmV2RXZlbnQudGltZVN0YW1wID4gMTUwKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGxldCBhbmdsZSA9ICgxODAgKiBNYXRoLmF0YW4yKGludGVyYWN0aW9uLnByZXZFdmVudC52ZWxvY2l0eVksIGludGVyYWN0aW9uLnByZXZFdmVudC52ZWxvY2l0eVgpKSAvIE1hdGguUElcbiAgICBjb25zdCBvdmVybGFwID0gMjIuNVxuXG4gICAgaWYgKGFuZ2xlIDwgMCkge1xuICAgICAgYW5nbGUgKz0gMzYwXG4gICAgfVxuXG4gICAgY29uc3QgbGVmdCA9IDEzNSAtIG92ZXJsYXAgPD0gYW5nbGUgJiYgYW5nbGUgPCAyMjUgKyBvdmVybGFwXG4gICAgY29uc3QgdXAgPSAyMjUgLSBvdmVybGFwIDw9IGFuZ2xlICYmIGFuZ2xlIDwgMzE1ICsgb3ZlcmxhcFxuXG4gICAgY29uc3QgcmlnaHQgPSAhbGVmdCAmJiAoMzE1IC0gb3ZlcmxhcCA8PSBhbmdsZSB8fCBhbmdsZSA8IDQ1ICsgb3ZlcmxhcClcbiAgICBjb25zdCBkb3duID0gIXVwICYmIDQ1IC0gb3ZlcmxhcCA8PSBhbmdsZSAmJiBhbmdsZSA8IDEzNSArIG92ZXJsYXBcblxuICAgIHJldHVybiB7XG4gICAgICB1cCxcbiAgICAgIGRvd24sXG4gICAgICBsZWZ0LFxuICAgICAgcmlnaHQsXG4gICAgICBhbmdsZSxcbiAgICAgIHNwZWVkOiBpbnRlcmFjdGlvbi5wcmV2RXZlbnQuc3BlZWQsXG4gICAgICB2ZWxvY2l0eToge1xuICAgICAgICB4OiBpbnRlcmFjdGlvbi5wcmV2RXZlbnQudmVsb2NpdHlYLFxuICAgICAgICB5OiBpbnRlcmFjdGlvbi5wcmV2RXZlbnQudmVsb2NpdHlZLFxuICAgICAgfSxcbiAgICB9XG4gIH1cblxuICBwcmV2ZW50RGVmYXVsdCgpIHt9XG5cbiAgLyoqXG4gICAqIERvbid0IGNhbGwgbGlzdGVuZXJzIG9uIHRoZSByZW1haW5pbmcgdGFyZ2V0c1xuICAgKi9cbiAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlXG4gIH1cblxuICAvKipcbiAgICogRG9uJ3QgY2FsbCBhbnkgb3RoZXIgbGlzdGVuZXJzIChldmVuIG9uIHRoZSBjdXJyZW50IHRhcmdldClcbiAgICovXG4gIHN0b3BQcm9wYWdhdGlvbigpIHtcbiAgICB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWVcbiAgfVxufVxuXG4vLyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIGRlZmluZWQgaGVyZSB0byBzdXBwb3J0IHR5cGVzY3JpcHQgMy42IGFuZCBiZWxvdyB3aGljaFxuLy8gZG9uJ3Qgc3VwcG9ydCBnZXR0ZXIgYW5kIHNldHRlcnMgaW4gLmQudHMgZmlsZXNcbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEludGVyYWN0RXZlbnQucHJvdG90eXBlLCB7XG4gIHBhZ2VYOiB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFnZS54XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMucGFnZS54ID0gdmFsdWVcbiAgICB9LFxuICB9LFxuICBwYWdlWToge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhZ2UueVxuICAgIH0sXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICB0aGlzLnBhZ2UueSA9IHZhbHVlXG4gICAgfSxcbiAgfSxcblxuICBjbGllbnRYOiB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xpZW50LnhcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgdGhpcy5jbGllbnQueCA9IHZhbHVlXG4gICAgfSxcbiAgfSxcbiAgY2xpZW50WToge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsaWVudC55XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMuY2xpZW50LnkgPSB2YWx1ZVxuICAgIH0sXG4gIH0sXG5cbiAgZHg6IHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWx0YS54XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMuZGVsdGEueCA9IHZhbHVlXG4gICAgfSxcbiAgfSxcbiAgZHk6IHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWx0YS55XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMuZGVsdGEueSA9IHZhbHVlXG4gICAgfSxcbiAgfSxcblxuICB2ZWxvY2l0eVg6IHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy52ZWxvY2l0eS54XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMudmVsb2NpdHkueCA9IHZhbHVlXG4gICAgfSxcbiAgfSxcbiAgdmVsb2NpdHlZOiB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMudmVsb2NpdHkueVxuICAgIH0sXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICB0aGlzLnZlbG9jaXR5LnkgPSB2YWx1ZVxuICAgIH0sXG4gIH0sXG59KVxuIiwgImltcG9ydCB0eXBlIHsgUG9pbnRlckV2ZW50VHlwZSwgUG9pbnRlclR5cGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5leHBvcnQgY2xhc3MgUG9pbnRlckluZm8ge1xuICBpZDogbnVtYmVyXG4gIHBvaW50ZXI6IFBvaW50ZXJUeXBlXG4gIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlXG4gIGRvd25UaW1lOiBudW1iZXJcbiAgZG93blRhcmdldDogTm9kZVxuXG4gIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsIHBvaW50ZXI6IFBvaW50ZXJUeXBlLCBldmVudDogUG9pbnRlckV2ZW50VHlwZSwgZG93blRpbWU6IG51bWJlciwgZG93blRhcmdldDogTm9kZSkge1xuICAgIHRoaXMuaWQgPSBpZFxuICAgIHRoaXMucG9pbnRlciA9IHBvaW50ZXJcbiAgICB0aGlzLmV2ZW50ID0gZXZlbnRcbiAgICB0aGlzLmRvd25UaW1lID0gZG93blRpbWVcbiAgICB0aGlzLmRvd25UYXJnZXQgPSBkb3duVGFyZ2V0XG4gIH1cbn1cbiIsICJpbXBvcnQgKiBhcyBhcnIgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvYXJyJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgaHlwb3QgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaHlwb3QnXG5pbXBvcnQgeyB3YXJuT25jZSwgY29weUFjdGlvbiB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL21pc2MnXG5pbXBvcnQgKiBhcyBwb2ludGVyVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcG9pbnRlclV0aWxzJ1xuaW1wb3J0ICogYXMgcmVjdFV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3JlY3QnXG5cbmltcG9ydCB0eXBlIHtcbiAgRWxlbWVudCxcbiAgRWRnZU9wdGlvbnMsXG4gIFBvaW50ZXJFdmVudFR5cGUsXG4gIFBvaW50ZXJUeXBlLFxuICBGdWxsUmVjdCxcbiAgQ29vcmRzU2V0LFxuICBBY3Rpb25OYW1lLFxuICBBY3Rpb25Qcm9wcyxcbn0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICcuL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIHsgRXZlbnRQaGFzZSB9IGZyb20gJy4vSW50ZXJhY3RFdmVudCdcbmltcG9ydCB7IEludGVyYWN0RXZlbnQgfSBmcm9tICcuL0ludGVyYWN0RXZlbnQnXG5pbXBvcnQgdHlwZSB7IEFjdGlvbkRlZmF1bHRzIH0gZnJvbSAnLi9vcHRpb25zJ1xuaW1wb3J0IHsgUG9pbnRlckluZm8gfSBmcm9tICcuL1BvaW50ZXJJbmZvJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSB9IGZyb20gJy4vc2NvcGUnXG5cbmV4cG9ydCBlbnVtIF9Qcm94eVZhbHVlcyB7XG4gIGludGVyYWN0YWJsZSA9ICcnLFxuICBlbGVtZW50ID0gJycsXG4gIHByZXBhcmVkID0gJycsXG4gIHBvaW50ZXJJc0Rvd24gPSAnJyxcbiAgcG9pbnRlcldhc01vdmVkID0gJycsXG4gIF9wcm94eSA9ICcnLFxufVxuXG5leHBvcnQgZW51bSBfUHJveHlNZXRob2RzIHtcbiAgc3RhcnQgPSAnJyxcbiAgbW92ZSA9ICcnLFxuICBlbmQgPSAnJyxcbiAgc3RvcCA9ICcnLFxuICBpbnRlcmFjdGluZyA9ICcnLFxufVxuXG5leHBvcnQgdHlwZSBQb2ludGVyQXJnUHJvcHM8VCBleHRlbmRzIHt9ID0ge30+ID0ge1xuICBwb2ludGVyOiBQb2ludGVyVHlwZVxuICBldmVudDogUG9pbnRlckV2ZW50VHlwZVxuICBldmVudFRhcmdldDogTm9kZVxuICBwb2ludGVySW5kZXg6IG51bWJlclxuICBwb2ludGVySW5mbzogUG9pbnRlckluZm9cbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPG5ldmVyPlxufSAmIFRcblxuZXhwb3J0IGludGVyZmFjZSBEb1BoYXNlQXJnPFQgZXh0ZW5kcyBBY3Rpb25OYW1lLCBQIGV4dGVuZHMgRXZlbnRQaGFzZT4ge1xuICBldmVudDogUG9pbnRlckV2ZW50VHlwZVxuICBwaGFzZTogRXZlbnRQaGFzZVxuICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248VD5cbiAgaUV2ZW50OiBJbnRlcmFjdEV2ZW50PFQsIFA+XG4gIHByZUVuZD86IGJvb2xlYW5cbiAgdHlwZT86IHN0cmluZ1xufVxuXG5leHBvcnQgdHlwZSBEb0FueVBoYXNlQXJnID0gRG9QaGFzZUFyZzxBY3Rpb25OYW1lLCBFdmVudFBoYXNlPlxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9zY29wZScge1xuICBpbnRlcmZhY2UgU2lnbmFsQXJncyB7XG4gICAgJ2ludGVyYWN0aW9uczpuZXcnOiB7IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxBY3Rpb25OYW1lPiB9XG4gICAgJ2ludGVyYWN0aW9uczpkb3duJzogUG9pbnRlckFyZ1Byb3BzPHtcbiAgICAgIHR5cGU6ICdkb3duJ1xuICAgIH0+XG4gICAgJ2ludGVyYWN0aW9uczptb3ZlJzogUG9pbnRlckFyZ1Byb3BzPHtcbiAgICAgIHR5cGU6ICdtb3ZlJ1xuICAgICAgZHg6IG51bWJlclxuICAgICAgZHk6IG51bWJlclxuICAgICAgZHVwbGljYXRlOiBib29sZWFuXG4gICAgfT5cbiAgICAnaW50ZXJhY3Rpb25zOnVwJzogUG9pbnRlckFyZ1Byb3BzPHtcbiAgICAgIHR5cGU6ICd1cCdcbiAgICAgIGN1ckV2ZW50VGFyZ2V0OiBFdmVudFRhcmdldFxuICAgIH0+XG4gICAgJ2ludGVyYWN0aW9uczpjYW5jZWwnOiBTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6dXAnXSAmIHtcbiAgICAgIHR5cGU6ICdjYW5jZWwnXG4gICAgICBjdXJFdmVudFRhcmdldDogRXZlbnRUYXJnZXRcbiAgICB9XG4gICAgJ2ludGVyYWN0aW9uczp1cGRhdGUtcG9pbnRlcic6IFBvaW50ZXJBcmdQcm9wczx7XG4gICAgICBkb3duOiBib29sZWFuXG4gICAgfT5cbiAgICAnaW50ZXJhY3Rpb25zOnJlbW92ZS1wb2ludGVyJzogUG9pbnRlckFyZ1Byb3BzXG4gICAgJ2ludGVyYWN0aW9uczpibHVyJzogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248bmV2ZXI+OyBldmVudDogRXZlbnQ7IHR5cGU6ICdibHVyJyB9XG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLXN0YXJ0JzogT21pdDxEb0FueVBoYXNlQXJnLCAnaUV2ZW50Jz5cbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1zdGFydCc6IERvQW55UGhhc2VBcmdcbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1zdGFydCc6IERvQW55UGhhc2VBcmdcbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tbW92ZSc6IE9taXQ8RG9BbnlQaGFzZUFyZywgJ2lFdmVudCc+XG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tbW92ZSc6IERvQW55UGhhc2VBcmdcbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1tb3ZlJzogRG9BbnlQaGFzZUFyZ1xuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1lbmQnOiBPbWl0PERvQW55UGhhc2VBcmcsICdpRXZlbnQnPlxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLWVuZCc6IERvQW55UGhhc2VBcmdcbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1lbmQnOiBEb0FueVBoYXNlQXJnXG4gICAgJ2ludGVyYWN0aW9uczpzdG9wJzogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfVxuICB9XG59XG5cbmV4cG9ydCB0eXBlIEludGVyYWN0aW9uUHJveHk8VCBleHRlbmRzIEFjdGlvbk5hbWUgfCBudWxsID0gbmV2ZXI+ID0gUGljazxcbiAgSW50ZXJhY3Rpb248VD4sXG4gIEV4Y2x1ZGU8a2V5b2YgdHlwZW9mIF9Qcm94eVZhbHVlcyB8IGtleW9mIHR5cGVvZiBfUHJveHlNZXRob2RzLCAnX3Byb3h5Jz5cbj5cblxubGV0IGlkQ291bnRlciA9IDBcblxuZXhwb3J0IGNsYXNzIEludGVyYWN0aW9uPFQgZXh0ZW5kcyBBY3Rpb25OYW1lIHwgbnVsbCA9IEFjdGlvbk5hbWU+IHtcbiAgLyoqIGN1cnJlbnQgaW50ZXJhY3RhYmxlIGJlaW5nIGludGVyYWN0ZWQgd2l0aCAqL1xuICBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSB8IG51bGwgPSBudWxsXG5cbiAgLyoqIHRoZSB0YXJnZXQgZWxlbWVudCBvZiB0aGUgaW50ZXJhY3RhYmxlICovXG4gIGVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsID0gbnVsbFxuICByZWN0OiBGdWxsUmVjdCB8IG51bGwgPSBudWxsXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3JlY3RzPzoge1xuICAgIHN0YXJ0OiBGdWxsUmVjdFxuICAgIGNvcnJlY3RlZDogRnVsbFJlY3RcbiAgICBwcmV2aW91czogRnVsbFJlY3RcbiAgICBkZWx0YTogRnVsbFJlY3RcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGVkZ2VzOiBFZGdlT3B0aW9ucyB8IG51bGwgPSBudWxsXG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfc2NvcGVGaXJlOiBTY29wZVsnZmlyZSddXG5cbiAgLy8gYWN0aW9uIHRoYXQncyByZWFkeSB0byBiZSBmaXJlZCBvbiBuZXh0IG1vdmUgZXZlbnRcbiAgcHJlcGFyZWQ6IEFjdGlvblByb3BzPFQ+ID0ge1xuICAgIG5hbWU6IG51bGwsXG4gICAgYXhpczogbnVsbCxcbiAgICBlZGdlczogbnVsbCxcbiAgfVxuXG4gIHBvaW50ZXJUeXBlOiBzdHJpbmdcblxuICAvKiogQGludGVybmFsIGtlZXAgdHJhY2sgb2YgYWRkZWQgcG9pbnRlcnMgKi9cbiAgcG9pbnRlcnM6IFBvaW50ZXJJbmZvW10gPSBbXVxuXG4gIC8qKiBAaW50ZXJuYWwgcG9pbnRlcmRvd24vbW91c2Vkb3duL3RvdWNoc3RhcnQgZXZlbnQgKi9cbiAgZG93bkV2ZW50OiBQb2ludGVyRXZlbnRUeXBlIHwgbnVsbCA9IG51bGxcblxuICAvKiogQGludGVybmFsICovIGRvd25Qb2ludGVyOiBQb2ludGVyVHlwZSA9IHt9IGFzIFBvaW50ZXJUeXBlXG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfbGF0ZXN0UG9pbnRlcjoge1xuICAgIHBvaW50ZXI6IFBvaW50ZXJUeXBlXG4gICAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGVcbiAgICBldmVudFRhcmdldDogTm9kZVxuICB9ID0ge1xuICAgIHBvaW50ZXI6IG51bGwsXG4gICAgZXZlbnQ6IG51bGwsXG4gICAgZXZlbnRUYXJnZXQ6IG51bGwsXG4gIH1cblxuICAvKiogQGludGVybmFsICovIHByZXZFdmVudDogSW50ZXJhY3RFdmVudDxULCBFdmVudFBoYXNlPiA9IG51bGxcblxuICBwb2ludGVySXNEb3duID0gZmFsc2VcbiAgcG9pbnRlcldhc01vdmVkID0gZmFsc2VcbiAgLyoqIEBpbnRlcm5hbCAqLyBfaW50ZXJhY3RpbmcgPSBmYWxzZVxuICAvKiogQGludGVybmFsICovIF9lbmRpbmcgPSBmYWxzZVxuICAvKiogQGludGVybmFsICovIF9zdG9wcGVkID0gdHJ1ZVxuICAvKiogQGludGVybmFsICovIF9wcm94eTogSW50ZXJhY3Rpb25Qcm94eTxUPlxuXG4gIC8qKiBAaW50ZXJuYWwgKi8gc2ltdWxhdGlvbiA9IG51bGxcblxuICAvKiogQGludGVybmFsICovIGdldCBwb2ludGVyTW92ZVRvbGVyYW5jZSgpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgZG9Nb3ZlID0gd2Fybk9uY2UoZnVuY3Rpb24gKHRoaXM6IEludGVyYWN0aW9uLCBzaWduYWxBcmc6IGFueSkge1xuICAgIHRoaXMubW92ZShzaWduYWxBcmcpXG4gIH0sICdUaGUgaW50ZXJhY3Rpb24uZG9Nb3ZlKCkgbWV0aG9kIGhhcyBiZWVuIHJlbmFtZWQgdG8gaW50ZXJhY3Rpb24ubW92ZSgpJylcblxuICBjb29yZHM6IENvb3Jkc1NldCA9IHtcbiAgICAvLyBTdGFydGluZyBJbnRlcmFjdEV2ZW50IHBvaW50ZXIgY29vcmRpbmF0ZXNcbiAgICBzdGFydDogcG9pbnRlclV0aWxzLm5ld0Nvb3JkcygpLFxuICAgIC8vIFByZXZpb3VzIG5hdGl2ZSBwb2ludGVyIG1vdmUgZXZlbnQgY29vcmRpbmF0ZXNcbiAgICBwcmV2OiBwb2ludGVyVXRpbHMubmV3Q29vcmRzKCksXG4gICAgLy8gY3VycmVudCBuYXRpdmUgcG9pbnRlciBtb3ZlIGV2ZW50IGNvb3JkaW5hdGVzXG4gICAgY3VyOiBwb2ludGVyVXRpbHMubmV3Q29vcmRzKCksXG4gICAgLy8gQ2hhbmdlIGluIGNvb3JkaW5hdGVzIGFuZCB0aW1lIG9mIHRoZSBwb2ludGVyXG4gICAgZGVsdGE6IHBvaW50ZXJVdGlscy5uZXdDb29yZHMoKSxcbiAgICAvLyBwb2ludGVyIHZlbG9jaXR5XG4gICAgdmVsb2NpdHk6IHBvaW50ZXJVdGlscy5uZXdDb29yZHMoKSxcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi8gcmVhZG9ubHkgX2lkOiBudW1iZXIgPSBpZENvdW50ZXIrK1xuXG4gIGNvbnN0cnVjdG9yKHsgcG9pbnRlclR5cGUsIHNjb3BlRmlyZSB9OiB7IHBvaW50ZXJUeXBlPzogc3RyaW5nOyBzY29wZUZpcmU6IFNjb3BlWydmaXJlJ10gfSkge1xuICAgIHRoaXMuX3Njb3BlRmlyZSA9IHNjb3BlRmlyZVxuICAgIHRoaXMucG9pbnRlclR5cGUgPSBwb2ludGVyVHlwZVxuXG4gICAgY29uc3QgdGhhdCA9IHRoaXNcblxuICAgIHRoaXMuX3Byb3h5ID0ge30gYXMgSW50ZXJhY3Rpb25Qcm94eTxUPlxuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gX1Byb3h5VmFsdWVzKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5fcHJveHksIGtleSwge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoYXRba2V5XVxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBfUHJveHlNZXRob2RzKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5fcHJveHksIGtleSwge1xuICAgICAgICB2YWx1ZTogKC4uLmFyZ3M6IGFueVtdKSA9PiB0aGF0W2tleV0oLi4uYXJncyksXG4gICAgICB9KVxuICAgIH1cblxuICAgIHRoaXMuX3Njb3BlRmlyZSgnaW50ZXJhY3Rpb25zOm5ldycsIHsgaW50ZXJhY3Rpb246IHRoaXMgfSlcbiAgfVxuXG4gIHBvaW50ZXJEb3duKHBvaW50ZXI6IFBvaW50ZXJUeXBlLCBldmVudDogUG9pbnRlckV2ZW50VHlwZSwgZXZlbnRUYXJnZXQ6IE5vZGUpIHtcbiAgICBjb25zdCBwb2ludGVySW5kZXggPSB0aGlzLnVwZGF0ZVBvaW50ZXIocG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0LCB0cnVlKVxuICAgIGNvbnN0IHBvaW50ZXJJbmZvID0gdGhpcy5wb2ludGVyc1twb2ludGVySW5kZXhdXG5cbiAgICB0aGlzLl9zY29wZUZpcmUoJ2ludGVyYWN0aW9uczpkb3duJywge1xuICAgICAgcG9pbnRlcixcbiAgICAgIGV2ZW50LFxuICAgICAgZXZlbnRUYXJnZXQsXG4gICAgICBwb2ludGVySW5kZXgsXG4gICAgICBwb2ludGVySW5mbyxcbiAgICAgIHR5cGU6ICdkb3duJyxcbiAgICAgIGludGVyYWN0aW9uOiB0aGlzIGFzIHVua25vd24gYXMgSW50ZXJhY3Rpb248bmV2ZXI+LFxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogYGBganNcbiAgICogaW50ZXJhY3QodGFyZ2V0KVxuICAgKiAgIC5kcmFnZ2FibGUoe1xuICAgKiAgICAgLy8gZGlzYWJsZSB0aGUgZGVmYXVsdCBkcmFnIHN0YXJ0IGJ5IGRvd24tPm1vdmVcbiAgICogICAgIG1hbnVhbFN0YXJ0OiB0cnVlXG4gICAqICAgfSlcbiAgICogICAvLyBzdGFydCBkcmFnZ2luZyBhZnRlciB0aGUgdXNlciBob2xkcyB0aGUgcG9pbnRlciBkb3duXG4gICAqICAgLm9uKCdob2xkJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAqICAgICB2YXIgaW50ZXJhY3Rpb24gPSBldmVudC5pbnRlcmFjdGlvblxuICAgKlxuICAgKiAgICAgaWYgKCFpbnRlcmFjdGlvbi5pbnRlcmFjdGluZygpKSB7XG4gICAqICAgICAgIGludGVyYWN0aW9uLnN0YXJ0KHsgbmFtZTogJ2RyYWcnIH0sXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmludGVyYWN0YWJsZSxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldClcbiAgICogICAgIH1cbiAgICogfSlcbiAgICogYGBgXG4gICAqXG4gICAqIFN0YXJ0IGFuIGFjdGlvbiB3aXRoIHRoZSBnaXZlbiBJbnRlcmFjdGFibGUgYW5kIEVsZW1lbnQgYXMgdGFydGdldHMuIFRoZVxuICAgKiBhY3Rpb24gbXVzdCBiZSBlbmFibGVkIGZvciB0aGUgdGFyZ2V0IEludGVyYWN0YWJsZSBhbmQgYW4gYXBwcm9wcmlhdGVcbiAgICogbnVtYmVyIG9mIHBvaW50ZXJzIG11c3QgYmUgaGVsZCBkb3duIC0gMSBmb3IgZHJhZy9yZXNpemUsIDIgZm9yIGdlc3R1cmUuXG4gICAqXG4gICAqIFVzZSBpdCB3aXRoIGBpbnRlcmFjdGFibGUuPGFjdGlvbj5hYmxlKHsgbWFudWFsU3RhcnQ6IGZhbHNlIH0pYCB0byBhbHdheXNcbiAgICogW3N0YXJ0IGFjdGlvbnMgbWFudWFsbHldKGh0dHBzOi8vZ2l0aHViLmNvbS90YXllL2ludGVyYWN0LmpzL2lzc3Vlcy8xMTQpXG4gICAqXG4gICAqIEBwYXJhbSBhY3Rpb24gLSBUaGUgYWN0aW9uIHRvIGJlIHBlcmZvcm1lZCAtIGRyYWcsIHJlc2l6ZSwgZXRjLlxuICAgKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIEludGVyYWN0YWJsZSB0byB0YXJnZXRcbiAgICogQHBhcmFtIGVsZW1lbnQgLSBUaGUgRE9NIEVsZW1lbnQgdG8gdGFyZ2V0XG4gICAqIEByZXR1cm5zIFdoZXRoZXIgdGhlIGludGVyYWN0aW9uIHdhcyBzdWNjZXNzZnVsbHkgc3RhcnRlZFxuICAgKi9cbiAgc3RhcnQ8QSBleHRlbmRzIEFjdGlvbk5hbWU+KGFjdGlvbjogQWN0aW9uUHJvcHM8QT4sIGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlLCBlbGVtZW50OiBFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5pbnRlcmFjdGluZygpIHx8XG4gICAgICAhdGhpcy5wb2ludGVySXNEb3duIHx8XG4gICAgICB0aGlzLnBvaW50ZXJzLmxlbmd0aCA8IChhY3Rpb24ubmFtZSA9PT0gJ2dlc3R1cmUnID8gMiA6IDEpIHx8XG4gICAgICAhaW50ZXJhY3RhYmxlLm9wdGlvbnNbYWN0aW9uLm5hbWUgYXMga2V5b2YgQWN0aW9uRGVmYXVsdHNdLmVuYWJsZWRcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvcHlBY3Rpb24odGhpcy5wcmVwYXJlZCwgYWN0aW9uKVxuXG4gICAgdGhpcy5pbnRlcmFjdGFibGUgPSBpbnRlcmFjdGFibGVcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50XG4gICAgdGhpcy5yZWN0ID0gaW50ZXJhY3RhYmxlLmdldFJlY3QoZWxlbWVudClcbiAgICB0aGlzLmVkZ2VzID0gdGhpcy5wcmVwYXJlZC5lZGdlc1xuICAgICAgPyBleHRlbmQoe30sIHRoaXMucHJlcGFyZWQuZWRnZXMpXG4gICAgICA6IHsgbGVmdDogdHJ1ZSwgcmlnaHQ6IHRydWUsIHRvcDogdHJ1ZSwgYm90dG9tOiB0cnVlIH1cbiAgICB0aGlzLl9zdG9wcGVkID0gZmFsc2VcbiAgICB0aGlzLl9pbnRlcmFjdGluZyA9XG4gICAgICB0aGlzLl9kb1BoYXNlKHtcbiAgICAgICAgaW50ZXJhY3Rpb246IHRoaXMsXG4gICAgICAgIGV2ZW50OiB0aGlzLmRvd25FdmVudCxcbiAgICAgICAgcGhhc2U6ICdzdGFydCcsXG4gICAgICB9KSAmJiAhdGhpcy5fc3RvcHBlZFxuXG4gICAgcmV0dXJuIHRoaXMuX2ludGVyYWN0aW5nXG4gIH1cblxuICBwb2ludGVyTW92ZShwb2ludGVyOiBQb2ludGVyVHlwZSwgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsIGV2ZW50VGFyZ2V0OiBOb2RlKSB7XG4gICAgaWYgKCF0aGlzLnNpbXVsYXRpb24gJiYgISh0aGlzLm1vZGlmaWNhdGlvbiAmJiB0aGlzLm1vZGlmaWNhdGlvbi5lbmRSZXN1bHQpKSB7XG4gICAgICB0aGlzLnVwZGF0ZVBvaW50ZXIocG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0LCBmYWxzZSlcbiAgICB9XG5cbiAgICBjb25zdCBkdXBsaWNhdGVNb3ZlID1cbiAgICAgIHRoaXMuY29vcmRzLmN1ci5wYWdlLnggPT09IHRoaXMuY29vcmRzLnByZXYucGFnZS54ICYmXG4gICAgICB0aGlzLmNvb3Jkcy5jdXIucGFnZS55ID09PSB0aGlzLmNvb3Jkcy5wcmV2LnBhZ2UueSAmJlxuICAgICAgdGhpcy5jb29yZHMuY3VyLmNsaWVudC54ID09PSB0aGlzLmNvb3Jkcy5wcmV2LmNsaWVudC54ICYmXG4gICAgICB0aGlzLmNvb3Jkcy5jdXIuY2xpZW50LnkgPT09IHRoaXMuY29vcmRzLnByZXYuY2xpZW50LnlcblxuICAgIGxldCBkeDogbnVtYmVyXG4gICAgbGV0IGR5OiBudW1iZXJcblxuICAgIC8vIHJlZ2lzdGVyIG1vdmVtZW50IGdyZWF0ZXIgdGhhbiBwb2ludGVyTW92ZVRvbGVyYW5jZVxuICAgIGlmICh0aGlzLnBvaW50ZXJJc0Rvd24gJiYgIXRoaXMucG9pbnRlcldhc01vdmVkKSB7XG4gICAgICBkeCA9IHRoaXMuY29vcmRzLmN1ci5jbGllbnQueCAtIHRoaXMuY29vcmRzLnN0YXJ0LmNsaWVudC54XG4gICAgICBkeSA9IHRoaXMuY29vcmRzLmN1ci5jbGllbnQueSAtIHRoaXMuY29vcmRzLnN0YXJ0LmNsaWVudC55XG5cbiAgICAgIHRoaXMucG9pbnRlcldhc01vdmVkID0gaHlwb3QoZHgsIGR5KSA+IHRoaXMucG9pbnRlck1vdmVUb2xlcmFuY2VcbiAgICB9XG5cbiAgICBjb25zdCBwb2ludGVySW5kZXggPSB0aGlzLmdldFBvaW50ZXJJbmRleChwb2ludGVyKVxuICAgIGNvbnN0IHNpZ25hbEFyZyA9IHtcbiAgICAgIHBvaW50ZXIsXG4gICAgICBwb2ludGVySW5kZXgsXG4gICAgICBwb2ludGVySW5mbzogdGhpcy5wb2ludGVyc1twb2ludGVySW5kZXhdLFxuICAgICAgZXZlbnQsXG4gICAgICB0eXBlOiAnbW92ZScgYXMgY29uc3QsXG4gICAgICBldmVudFRhcmdldCxcbiAgICAgIGR4LFxuICAgICAgZHksXG4gICAgICBkdXBsaWNhdGU6IGR1cGxpY2F0ZU1vdmUsXG4gICAgICBpbnRlcmFjdGlvbjogdGhpcyBhcyB1bmtub3duIGFzIEludGVyYWN0aW9uPG5ldmVyPixcbiAgICB9XG5cbiAgICBpZiAoIWR1cGxpY2F0ZU1vdmUpIHtcbiAgICAgIC8vIHNldCBwb2ludGVyIGNvb3JkaW5hdGUsIHRpbWUgY2hhbmdlcyBhbmQgdmVsb2NpdHlcbiAgICAgIHBvaW50ZXJVdGlscy5zZXRDb29yZFZlbG9jaXR5KHRoaXMuY29vcmRzLnZlbG9jaXR5LCB0aGlzLmNvb3Jkcy5kZWx0YSlcbiAgICB9XG5cbiAgICB0aGlzLl9zY29wZUZpcmUoJ2ludGVyYWN0aW9uczptb3ZlJywgc2lnbmFsQXJnKVxuXG4gICAgaWYgKCFkdXBsaWNhdGVNb3ZlICYmICF0aGlzLnNpbXVsYXRpb24pIHtcbiAgICAgIC8vIGlmIGludGVyYWN0aW5nLCBmaXJlIGFuICdhY3Rpb24tbW92ZScgc2lnbmFsIGV0Y1xuICAgICAgaWYgKHRoaXMuaW50ZXJhY3RpbmcoKSkge1xuICAgICAgICBzaWduYWxBcmcudHlwZSA9IG51bGxcbiAgICAgICAgdGhpcy5tb3ZlKHNpZ25hbEFyZylcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucG9pbnRlcldhc01vdmVkKSB7XG4gICAgICAgIHBvaW50ZXJVdGlscy5jb3B5Q29vcmRzKHRoaXMuY29vcmRzLnByZXYsIHRoaXMuY29vcmRzLmN1cilcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogYGBganNcbiAgICogaW50ZXJhY3QodGFyZ2V0KVxuICAgKiAgIC5kcmFnZ2FibGUodHJ1ZSlcbiAgICogICAub24oJ2RyYWdtb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAqICAgICBpZiAoc29tZUNvbmRpdGlvbikge1xuICAgKiAgICAgICAvLyBjaGFuZ2UgdGhlIHNuYXAgc2V0dGluZ3NcbiAgICogICAgICAgZXZlbnQuaW50ZXJhY3RhYmxlLmRyYWdnYWJsZSh7IHNuYXA6IHsgdGFyZ2V0czogW10gfX0pXG4gICAqICAgICAgIC8vIGZpcmUgYW5vdGhlciBtb3ZlIGV2ZW50IHdpdGggcmUtY2FsY3VsYXRlZCBzbmFwXG4gICAqICAgICAgIGV2ZW50LmludGVyYWN0aW9uLm1vdmUoKVxuICAgKiAgICAgfVxuICAgKiAgIH0pXG4gICAqIGBgYFxuICAgKlxuICAgKiBGb3JjZSBhIG1vdmUgb2YgdGhlIGN1cnJlbnQgYWN0aW9uIGF0IHRoZSBzYW1lIGNvb3JkaW5hdGVzLiBVc2VmdWwgaWZcbiAgICogc25hcC9yZXN0cmljdCBoYXMgYmVlbiBjaGFuZ2VkIGFuZCB5b3Ugd2FudCBhIG1vdmVtZW50IHdpdGggdGhlIG5ld1xuICAgKiBzZXR0aW5ncy5cbiAgICovXG4gIG1vdmUoc2lnbmFsQXJnPzogYW55KSB7XG4gICAgaWYgKCFzaWduYWxBcmcgfHwgIXNpZ25hbEFyZy5ldmVudCkge1xuICAgICAgcG9pbnRlclV0aWxzLnNldFplcm9Db29yZHModGhpcy5jb29yZHMuZGVsdGEpXG4gICAgfVxuXG4gICAgc2lnbmFsQXJnID0gZXh0ZW5kKFxuICAgICAge1xuICAgICAgICBwb2ludGVyOiB0aGlzLl9sYXRlc3RQb2ludGVyLnBvaW50ZXIsXG4gICAgICAgIGV2ZW50OiB0aGlzLl9sYXRlc3RQb2ludGVyLmV2ZW50LFxuICAgICAgICBldmVudFRhcmdldDogdGhpcy5fbGF0ZXN0UG9pbnRlci5ldmVudFRhcmdldCxcbiAgICAgICAgaW50ZXJhY3Rpb246IHRoaXMsXG4gICAgICB9LFxuICAgICAgc2lnbmFsQXJnIHx8IHt9LFxuICAgIClcblxuICAgIHNpZ25hbEFyZy5waGFzZSA9ICdtb3ZlJ1xuXG4gICAgdGhpcy5fZG9QaGFzZShzaWduYWxBcmcpXG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEVuZCBpbnRlcmFjdCBtb3ZlIGV2ZW50cyBhbmQgc3RvcCBhdXRvLXNjcm9sbCB1bmxlc3Mgc2ltdWxhdGlvbiBpcyBydW5uaW5nXG4gICAqL1xuICBwb2ludGVyVXAocG9pbnRlcjogUG9pbnRlclR5cGUsIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLCBldmVudFRhcmdldDogTm9kZSwgY3VyRXZlbnRUYXJnZXQ6IEV2ZW50VGFyZ2V0KSB7XG4gICAgbGV0IHBvaW50ZXJJbmRleCA9IHRoaXMuZ2V0UG9pbnRlckluZGV4KHBvaW50ZXIpXG5cbiAgICBpZiAocG9pbnRlckluZGV4ID09PSAtMSkge1xuICAgICAgcG9pbnRlckluZGV4ID0gdGhpcy51cGRhdGVQb2ludGVyKHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCwgZmFsc2UpXG4gICAgfVxuXG4gICAgY29uc3QgdHlwZSA9IC9jYW5jZWwkL2kudGVzdChldmVudC50eXBlKSA/ICdjYW5jZWwnIDogJ3VwJ1xuXG4gICAgdGhpcy5fc2NvcGVGaXJlKGBpbnRlcmFjdGlvbnM6JHt0eXBlfWAgYXMgJ2ludGVyYWN0aW9uczp1cCcgfCAnaW50ZXJhY3Rpb25zOmNhbmNlbCcsIHtcbiAgICAgIHBvaW50ZXIsXG4gICAgICBwb2ludGVySW5kZXgsXG4gICAgICBwb2ludGVySW5mbzogdGhpcy5wb2ludGVyc1twb2ludGVySW5kZXhdLFxuICAgICAgZXZlbnQsXG4gICAgICBldmVudFRhcmdldCxcbiAgICAgIHR5cGU6IHR5cGUgYXMgYW55LFxuICAgICAgY3VyRXZlbnRUYXJnZXQsXG4gICAgICBpbnRlcmFjdGlvbjogdGhpcyBhcyB1bmtub3duIGFzIEludGVyYWN0aW9uPG5ldmVyPixcbiAgICB9KVxuXG4gICAgaWYgKCF0aGlzLnNpbXVsYXRpb24pIHtcbiAgICAgIHRoaXMuZW5kKGV2ZW50KVxuICAgIH1cblxuICAgIHRoaXMucmVtb3ZlUG9pbnRlcihwb2ludGVyLCBldmVudClcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZG9jdW1lbnRCbHVyKGV2ZW50OiBFdmVudCkge1xuICAgIHRoaXMuZW5kKGV2ZW50IGFzIGFueSlcbiAgICB0aGlzLl9zY29wZUZpcmUoJ2ludGVyYWN0aW9uczpibHVyJywge1xuICAgICAgZXZlbnQsXG4gICAgICB0eXBlOiAnYmx1cicsXG4gICAgICBpbnRlcmFjdGlvbjogdGhpcyBhcyB1bmtub3duIGFzIEludGVyYWN0aW9uPG5ldmVyPixcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIGBgYGpzXG4gICAqIGludGVyYWN0KHRhcmdldClcbiAgICogICAuZHJhZ2dhYmxlKHRydWUpXG4gICAqICAgLm9uKCdtb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAqICAgICBpZiAoZXZlbnQucGFnZVggPiAxMDAwKSB7XG4gICAqICAgICAgIC8vIGVuZCB0aGUgY3VycmVudCBhY3Rpb25cbiAgICogICAgICAgZXZlbnQuaW50ZXJhY3Rpb24uZW5kKClcbiAgICogICAgICAgLy8gc3RvcCBhbGwgZnVydGhlciBsaXN0ZW5lcnMgZnJvbSBiZWluZyBjYWxsZWRcbiAgICogICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcbiAgICogICAgIH1cbiAgICogICB9KVxuICAgKiBgYGBcbiAgICovXG4gIGVuZChldmVudD86IFBvaW50ZXJFdmVudFR5cGUpIHtcbiAgICB0aGlzLl9lbmRpbmcgPSB0cnVlXG4gICAgZXZlbnQgPSBldmVudCB8fCB0aGlzLl9sYXRlc3RQb2ludGVyLmV2ZW50XG4gICAgbGV0IGVuZFBoYXNlUmVzdWx0OiBib29sZWFuXG5cbiAgICBpZiAodGhpcy5pbnRlcmFjdGluZygpKSB7XG4gICAgICBlbmRQaGFzZVJlc3VsdCA9IHRoaXMuX2RvUGhhc2Uoe1xuICAgICAgICBldmVudCxcbiAgICAgICAgaW50ZXJhY3Rpb246IHRoaXMsXG4gICAgICAgIHBoYXNlOiAnZW5kJyxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgdGhpcy5fZW5kaW5nID0gZmFsc2VcblxuICAgIGlmIChlbmRQaGFzZVJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5zdG9wKClcbiAgICB9XG4gIH1cblxuICBjdXJyZW50QWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9pbnRlcmFjdGluZyA/IHRoaXMucHJlcGFyZWQubmFtZSA6IG51bGxcbiAgfVxuXG4gIGludGVyYWN0aW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9pbnRlcmFjdGluZ1xuICB9XG5cbiAgc3RvcCgpIHtcbiAgICB0aGlzLl9zY29wZUZpcmUoJ2ludGVyYWN0aW9uczpzdG9wJywgeyBpbnRlcmFjdGlvbjogdGhpcyB9KVxuXG4gICAgdGhpcy5pbnRlcmFjdGFibGUgPSB0aGlzLmVsZW1lbnQgPSBudWxsXG5cbiAgICB0aGlzLl9pbnRlcmFjdGluZyA9IGZhbHNlXG4gICAgdGhpcy5fc3RvcHBlZCA9IHRydWVcbiAgICB0aGlzLnByZXBhcmVkLm5hbWUgPSB0aGlzLnByZXZFdmVudCA9IG51bGxcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0UG9pbnRlckluZGV4KHBvaW50ZXI6IGFueSkge1xuICAgIGNvbnN0IHBvaW50ZXJJZCA9IHBvaW50ZXJVdGlscy5nZXRQb2ludGVySWQocG9pbnRlcilcblxuICAgIC8vIG1vdXNlIGFuZCBwZW4gaW50ZXJhY3Rpb25zIG1heSBoYXZlIG9ubHkgb25lIHBvaW50ZXJcbiAgICByZXR1cm4gdGhpcy5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCB0aGlzLnBvaW50ZXJUeXBlID09PSAncGVuJ1xuICAgICAgPyB0aGlzLnBvaW50ZXJzLmxlbmd0aCAtIDFcbiAgICAgIDogYXJyLmZpbmRJbmRleCh0aGlzLnBvaW50ZXJzLCAoY3VyUG9pbnRlcikgPT4gY3VyUG9pbnRlci5pZCA9PT0gcG9pbnRlcklkKVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXRQb2ludGVySW5mbyhwb2ludGVyOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5wb2ludGVyc1t0aGlzLmdldFBvaW50ZXJJbmRleChwb2ludGVyKV1cbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgdXBkYXRlUG9pbnRlcihwb2ludGVyOiBQb2ludGVyVHlwZSwgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsIGV2ZW50VGFyZ2V0OiBOb2RlLCBkb3duPzogYm9vbGVhbikge1xuICAgIGNvbnN0IGlkID0gcG9pbnRlclV0aWxzLmdldFBvaW50ZXJJZChwb2ludGVyKVxuICAgIGxldCBwb2ludGVySW5kZXggPSB0aGlzLmdldFBvaW50ZXJJbmRleChwb2ludGVyKVxuICAgIGxldCBwb2ludGVySW5mbyA9IHRoaXMucG9pbnRlcnNbcG9pbnRlckluZGV4XVxuXG4gICAgZG93biA9IGRvd24gPT09IGZhbHNlID8gZmFsc2UgOiBkb3duIHx8IC8oZG93bnxzdGFydCkkL2kudGVzdChldmVudC50eXBlKVxuXG4gICAgaWYgKCFwb2ludGVySW5mbykge1xuICAgICAgcG9pbnRlckluZm8gPSBuZXcgUG9pbnRlckluZm8oaWQsIHBvaW50ZXIsIGV2ZW50LCBudWxsLCBudWxsKVxuXG4gICAgICBwb2ludGVySW5kZXggPSB0aGlzLnBvaW50ZXJzLmxlbmd0aFxuICAgICAgdGhpcy5wb2ludGVycy5wdXNoKHBvaW50ZXJJbmZvKVxuICAgIH0gZWxzZSB7XG4gICAgICBwb2ludGVySW5mby5wb2ludGVyID0gcG9pbnRlclxuICAgIH1cblxuICAgIHBvaW50ZXJVdGlscy5zZXRDb29yZHMoXG4gICAgICB0aGlzLmNvb3Jkcy5jdXIsXG4gICAgICB0aGlzLnBvaW50ZXJzLm1hcCgocCkgPT4gcC5wb2ludGVyKSxcbiAgICAgIHRoaXMuX25vdygpLFxuICAgIClcbiAgICBwb2ludGVyVXRpbHMuc2V0Q29vcmREZWx0YXModGhpcy5jb29yZHMuZGVsdGEsIHRoaXMuY29vcmRzLnByZXYsIHRoaXMuY29vcmRzLmN1cilcblxuICAgIGlmIChkb3duKSB7XG4gICAgICB0aGlzLnBvaW50ZXJJc0Rvd24gPSB0cnVlXG5cbiAgICAgIHBvaW50ZXJJbmZvLmRvd25UaW1lID0gdGhpcy5jb29yZHMuY3VyLnRpbWVTdGFtcFxuICAgICAgcG9pbnRlckluZm8uZG93blRhcmdldCA9IGV2ZW50VGFyZ2V0XG4gICAgICBwb2ludGVyVXRpbHMucG9pbnRlckV4dGVuZCh0aGlzLmRvd25Qb2ludGVyLCBwb2ludGVyKVxuXG4gICAgICBpZiAoIXRoaXMuaW50ZXJhY3RpbmcoKSkge1xuICAgICAgICBwb2ludGVyVXRpbHMuY29weUNvb3Jkcyh0aGlzLmNvb3Jkcy5zdGFydCwgdGhpcy5jb29yZHMuY3VyKVxuICAgICAgICBwb2ludGVyVXRpbHMuY29weUNvb3Jkcyh0aGlzLmNvb3Jkcy5wcmV2LCB0aGlzLmNvb3Jkcy5jdXIpXG5cbiAgICAgICAgdGhpcy5kb3duRXZlbnQgPSBldmVudFxuICAgICAgICB0aGlzLnBvaW50ZXJXYXNNb3ZlZCA9IGZhbHNlXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlTGF0ZXN0UG9pbnRlcihwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQpXG5cbiAgICB0aGlzLl9zY29wZUZpcmUoJ2ludGVyYWN0aW9uczp1cGRhdGUtcG9pbnRlcicsIHtcbiAgICAgIHBvaW50ZXIsXG4gICAgICBldmVudCxcbiAgICAgIGV2ZW50VGFyZ2V0LFxuICAgICAgZG93bixcbiAgICAgIHBvaW50ZXJJbmZvLFxuICAgICAgcG9pbnRlckluZGV4LFxuICAgICAgaW50ZXJhY3Rpb246IHRoaXMgYXMgdW5rbm93biBhcyBJbnRlcmFjdGlvbjxuZXZlcj4sXG4gICAgfSlcblxuICAgIHJldHVybiBwb2ludGVySW5kZXhcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcmVtb3ZlUG9pbnRlcihwb2ludGVyOiBQb2ludGVyVHlwZSwgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUpIHtcbiAgICBjb25zdCBwb2ludGVySW5kZXggPSB0aGlzLmdldFBvaW50ZXJJbmRleChwb2ludGVyKVxuXG4gICAgaWYgKHBvaW50ZXJJbmRleCA9PT0gLTEpIHJldHVyblxuXG4gICAgY29uc3QgcG9pbnRlckluZm8gPSB0aGlzLnBvaW50ZXJzW3BvaW50ZXJJbmRleF1cblxuICAgIHRoaXMuX3Njb3BlRmlyZSgnaW50ZXJhY3Rpb25zOnJlbW92ZS1wb2ludGVyJywge1xuICAgICAgcG9pbnRlcixcbiAgICAgIGV2ZW50LFxuICAgICAgZXZlbnRUYXJnZXQ6IG51bGwsXG4gICAgICBwb2ludGVySW5kZXgsXG4gICAgICBwb2ludGVySW5mbyxcbiAgICAgIGludGVyYWN0aW9uOiB0aGlzIGFzIHVua25vd24gYXMgSW50ZXJhY3Rpb248bmV2ZXI+LFxuICAgIH0pXG5cbiAgICB0aGlzLnBvaW50ZXJzLnNwbGljZShwb2ludGVySW5kZXgsIDEpXG4gICAgdGhpcy5wb2ludGVySXNEb3duID0gZmFsc2VcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3VwZGF0ZUxhdGVzdFBvaW50ZXIocG9pbnRlcjogUG9pbnRlclR5cGUsIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLCBldmVudFRhcmdldDogTm9kZSkge1xuICAgIHRoaXMuX2xhdGVzdFBvaW50ZXIucG9pbnRlciA9IHBvaW50ZXJcbiAgICB0aGlzLl9sYXRlc3RQb2ludGVyLmV2ZW50ID0gZXZlbnRcbiAgICB0aGlzLl9sYXRlc3RQb2ludGVyLmV2ZW50VGFyZ2V0ID0gZXZlbnRUYXJnZXRcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fbGF0ZXN0UG9pbnRlci5wb2ludGVyID0gbnVsbFxuICAgIHRoaXMuX2xhdGVzdFBvaW50ZXIuZXZlbnQgPSBudWxsXG4gICAgdGhpcy5fbGF0ZXN0UG9pbnRlci5ldmVudFRhcmdldCA9IG51bGxcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2NyZWF0ZVByZXBhcmVkRXZlbnQ8UCBleHRlbmRzIEV2ZW50UGhhc2U+KFxuICAgIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLFxuICAgIHBoYXNlOiBQLFxuICAgIHByZUVuZD86IGJvb2xlYW4sXG4gICAgdHlwZT86IHN0cmluZyxcbiAgKSB7XG4gICAgcmV0dXJuIG5ldyBJbnRlcmFjdEV2ZW50PFQsIFA+KHRoaXMsIGV2ZW50LCB0aGlzLnByZXBhcmVkLm5hbWUsIHBoYXNlLCB0aGlzLmVsZW1lbnQsIHByZUVuZCwgdHlwZSlcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2ZpcmVFdmVudDxQIGV4dGVuZHMgRXZlbnRQaGFzZT4oaUV2ZW50OiBJbnRlcmFjdEV2ZW50PFQsIFA+KSB7XG4gICAgdGhpcy5pbnRlcmFjdGFibGU/LmZpcmUoaUV2ZW50KVxuXG4gICAgaWYgKCF0aGlzLnByZXZFdmVudCB8fCBpRXZlbnQudGltZVN0YW1wID49IHRoaXMucHJldkV2ZW50LnRpbWVTdGFtcCkge1xuICAgICAgdGhpcy5wcmV2RXZlbnQgPSBpRXZlbnRcbiAgICB9XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9kb1BoYXNlPFAgZXh0ZW5kcyBFdmVudFBoYXNlPihcbiAgICBzaWduYWxBcmc6IE9taXQ8RG9QaGFzZUFyZzxULCBQPiwgJ2lFdmVudCc+ICYgeyBpRXZlbnQ/OiBJbnRlcmFjdEV2ZW50PFQsIFA+IH0sXG4gICkge1xuICAgIGNvbnN0IHsgZXZlbnQsIHBoYXNlLCBwcmVFbmQsIHR5cGUgfSA9IHNpZ25hbEFyZ1xuICAgIGNvbnN0IHsgcmVjdCB9ID0gdGhpc1xuXG4gICAgaWYgKHJlY3QgJiYgcGhhc2UgPT09ICdtb3ZlJykge1xuICAgICAgLy8gdXBkYXRlIHRoZSByZWN0IGNoYW5nZXMgZHVlIHRvIHBvaW50ZXIgbW92ZVxuICAgICAgcmVjdFV0aWxzLmFkZEVkZ2VzKHRoaXMuZWRnZXMsIHJlY3QsIHRoaXMuY29vcmRzLmRlbHRhW3RoaXMuaW50ZXJhY3RhYmxlLm9wdGlvbnMuZGVsdGFTb3VyY2VdKVxuXG4gICAgICByZWN0LndpZHRoID0gcmVjdC5yaWdodCAtIHJlY3QubGVmdFxuICAgICAgcmVjdC5oZWlnaHQgPSByZWN0LmJvdHRvbSAtIHJlY3QudG9wXG4gICAgfVxuXG4gICAgY29uc3QgYmVmb3JlUmVzdWx0ID0gdGhpcy5fc2NvcGVGaXJlKGBpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi0ke3BoYXNlfWAgYXMgYW55LCBzaWduYWxBcmcpXG5cbiAgICBpZiAoYmVmb3JlUmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgaUV2ZW50ID0gKHNpZ25hbEFyZy5pRXZlbnQgPSB0aGlzLl9jcmVhdGVQcmVwYXJlZEV2ZW50KGV2ZW50LCBwaGFzZSwgcHJlRW5kLCB0eXBlKSlcblxuICAgIHRoaXMuX3Njb3BlRmlyZShgaW50ZXJhY3Rpb25zOmFjdGlvbi0ke3BoYXNlfWAgYXMgYW55LCBzaWduYWxBcmcpXG5cbiAgICBpZiAocGhhc2UgPT09ICdzdGFydCcpIHtcbiAgICAgIHRoaXMucHJldkV2ZW50ID0gaUV2ZW50XG4gICAgfVxuXG4gICAgdGhpcy5fZmlyZUV2ZW50KGlFdmVudClcblxuICAgIHRoaXMuX3Njb3BlRmlyZShgaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi0ke3BoYXNlfWAgYXMgYW55LCBzaWduYWxBcmcpXG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfbm93KCkge1xuICAgIHJldHVybiBEYXRlLm5vdygpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW50ZXJhY3Rpb25cbmV4cG9ydCB7IFBvaW50ZXJJbmZvIH1cbiIsICJpbXBvcnQgdHlwZSBJbnRlcmFjdGlvbiBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHsgX1Byb3h5TWV0aG9kcyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IFBvaW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCAqIGFzIHJlY3RVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yZWN0J1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbicge1xuICBpbnRlcmZhY2UgSW50ZXJhY3Rpb24ge1xuICAgIG9mZnNldEJ5PzogdHlwZW9mIG9mZnNldEJ5XG4gICAgb2Zmc2V0OiB7XG4gICAgICB0b3RhbDogUG9pbnRcbiAgICAgIHBlbmRpbmc6IFBvaW50XG4gICAgfVxuICB9XG5cbiAgZW51bSBfUHJveHlNZXRob2RzIHtcbiAgICBvZmZzZXRCeSA9ICcnLFxuICB9XG59XG5cbjsoX1Byb3h5TWV0aG9kcyBhcyBhbnkpLm9mZnNldEJ5ID0gJydcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFRvdGFsKGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbikge1xuICBpZiAoIWludGVyYWN0aW9uLnBvaW50ZXJJc0Rvd24pIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGFkZFRvQ29vcmRzKGludGVyYWN0aW9uLmNvb3Jkcy5jdXIsIGludGVyYWN0aW9uLm9mZnNldC50b3RhbClcblxuICBpbnRlcmFjdGlvbi5vZmZzZXQucGVuZGluZy54ID0gMFxuICBpbnRlcmFjdGlvbi5vZmZzZXQucGVuZGluZy55ID0gMFxufVxuXG5mdW5jdGlvbiBiZWZvcmVBY3Rpb24oeyBpbnRlcmFjdGlvbiB9OiB7IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiB9KSB7XG4gIGFwcGx5UGVuZGluZyhpbnRlcmFjdGlvbilcbn1cblxuZnVuY3Rpb24gYmVmb3JlRW5kKHsgaW50ZXJhY3Rpb24gfTogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfSk6IGJvb2xlYW4gfCB2b2lkIHtcbiAgY29uc3QgaGFkUGVuZGluZyA9IGFwcGx5UGVuZGluZyhpbnRlcmFjdGlvbilcblxuICBpZiAoIWhhZFBlbmRpbmcpIHJldHVyblxuXG4gIGludGVyYWN0aW9uLm1vdmUoeyBvZmZzZXQ6IHRydWUgfSlcbiAgaW50ZXJhY3Rpb24uZW5kKClcblxuICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gZW5kKHsgaW50ZXJhY3Rpb24gfTogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfSkge1xuICBpbnRlcmFjdGlvbi5vZmZzZXQudG90YWwueCA9IDBcbiAgaW50ZXJhY3Rpb24ub2Zmc2V0LnRvdGFsLnkgPSAwXG4gIGludGVyYWN0aW9uLm9mZnNldC5wZW5kaW5nLnggPSAwXG4gIGludGVyYWN0aW9uLm9mZnNldC5wZW5kaW5nLnkgPSAwXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVBlbmRpbmcoaW50ZXJhY3Rpb246IEludGVyYWN0aW9uKSB7XG4gIGlmICghaGFzUGVuZGluZyhpbnRlcmFjdGlvbikpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGNvbnN0IHsgcGVuZGluZyB9ID0gaW50ZXJhY3Rpb24ub2Zmc2V0XG5cbiAgYWRkVG9Db29yZHMoaW50ZXJhY3Rpb24uY29vcmRzLmN1ciwgcGVuZGluZylcbiAgYWRkVG9Db29yZHMoaW50ZXJhY3Rpb24uY29vcmRzLmRlbHRhLCBwZW5kaW5nKVxuICByZWN0VXRpbHMuYWRkRWRnZXMoaW50ZXJhY3Rpb24uZWRnZXMsIGludGVyYWN0aW9uLnJlY3QsIHBlbmRpbmcpXG5cbiAgcGVuZGluZy54ID0gMFxuICBwZW5kaW5nLnkgPSAwXG5cbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gb2Zmc2V0QnkodGhpczogSW50ZXJhY3Rpb24sIHsgeCwgeSB9OiBQb2ludCkge1xuICB0aGlzLm9mZnNldC5wZW5kaW5nLnggKz0geFxuICB0aGlzLm9mZnNldC5wZW5kaW5nLnkgKz0geVxuXG4gIHRoaXMub2Zmc2V0LnRvdGFsLnggKz0geFxuICB0aGlzLm9mZnNldC50b3RhbC55ICs9IHlcbn1cblxuZnVuY3Rpb24gYWRkVG9Db29yZHMoeyBwYWdlLCBjbGllbnQgfSwgeyB4LCB5IH06IFBvaW50KSB7XG4gIHBhZ2UueCArPSB4XG4gIHBhZ2UueSArPSB5XG4gIGNsaWVudC54ICs9IHhcbiAgY2xpZW50LnkgKz0geVxufVxuXG5mdW5jdGlvbiBoYXNQZW5kaW5nKGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbikge1xuICByZXR1cm4gISEoaW50ZXJhY3Rpb24ub2Zmc2V0LnBlbmRpbmcueCB8fCBpbnRlcmFjdGlvbi5vZmZzZXQucGVuZGluZy55KVxufVxuXG5jb25zdCBvZmZzZXQ6IFBsdWdpbiA9IHtcbiAgaWQ6ICdvZmZzZXQnLFxuICBiZWZvcmU6IFsnbW9kaWZpZXJzJywgJ3BvaW50ZXItZXZlbnRzJywgJ2FjdGlvbnMnLCAnaW5lcnRpYSddLFxuICBpbnN0YWxsKHNjb3BlKSB7XG4gICAgc2NvcGUuSW50ZXJhY3Rpb24ucHJvdG90eXBlLm9mZnNldEJ5ID0gb2Zmc2V0QnlcbiAgfSxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2ludGVyYWN0aW9uczpuZXcnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBpbnRlcmFjdGlvbi5vZmZzZXQgPSB7XG4gICAgICAgIHRvdGFsOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgcGVuZGluZzogeyB4OiAwLCB5OiAwIH0sXG4gICAgICB9XG4gICAgfSxcbiAgICAnaW50ZXJhY3Rpb25zOnVwZGF0ZS1wb2ludGVyJzogKHsgaW50ZXJhY3Rpb24gfSkgPT4gYWRkVG90YWwoaW50ZXJhY3Rpb24pLFxuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1zdGFydCc6IGJlZm9yZUFjdGlvbixcbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tbW92ZSc6IGJlZm9yZUFjdGlvbixcbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tZW5kJzogYmVmb3JlRW5kLFxuICAgICdpbnRlcmFjdGlvbnM6c3RvcCc6IGVuZCxcbiAgfSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgb2Zmc2V0XG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGlvbiwgRG9QaGFzZUFyZyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFNjb3BlLCBTaWduYWxBcmdzLCBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25OYW1lLCBQb2ludCwgUG9pbnRlckV2ZW50VHlwZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9tb2RpZmllcnMvYmFzZSdcbmltcG9ydCAnQGludGVyYWN0anMvb2Zmc2V0L3BsdWdpbidcbmltcG9ydCAqIGFzIG1vZGlmaWVycyBmcm9tICdAaW50ZXJhY3Rqcy9tb2RpZmllcnMvYmFzZSdcbmltcG9ydCB7IE1vZGlmaWNhdGlvbiB9IGZyb20gJ0BpbnRlcmFjdGpzL21vZGlmaWVycy9Nb2RpZmljYXRpb24nXG5pbXBvcnQgdHlwZSB7IE1vZGlmaWVyQXJnIH0gZnJvbSAnQGludGVyYWN0anMvbW9kaWZpZXJzL3R5cGVzJ1xuaW1wb3J0IG9mZnNldCBmcm9tICdAaW50ZXJhY3Rqcy9vZmZzZXQvcGx1Z2luJ1xuLyogZXNsaW50LWVuYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAqL1xuaW1wb3J0ICogYXMgZG9tIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGh5cG90IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2h5cG90J1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuaW1wb3J0IHsgY29weUNvb3JkcyB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3BvaW50ZXJVdGlscydcbmltcG9ydCByYWYgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcmFmJ1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdEV2ZW50JyB7XG4gIGludGVyZmFjZSBQaGFzZU1hcCB7XG4gICAgcmVzdW1lPzogdHJ1ZVxuICAgIGluZXJ0aWFzdGFydD86IHRydWVcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbicge1xuICBpbnRlcmZhY2UgSW50ZXJhY3Rpb24ge1xuICAgIGluZXJ0aWE/OiBJbmVydGlhU3RhdGVcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJyB7XG4gIGludGVyZmFjZSBQZXJBY3Rpb25EZWZhdWx0cyB7XG4gICAgaW5lcnRpYT86IHtcbiAgICAgIGVuYWJsZWQ/OiBib29sZWFuXG4gICAgICByZXNpc3RhbmNlPzogbnVtYmVyIC8vIHRoZSBsYW1iZGEgaW4gZXhwb25lbnRpYWwgZGVjYXlcbiAgICAgIG1pblNwZWVkPzogbnVtYmVyIC8vIHRhcmdldCBzcGVlZCBtdXN0IGJlIGFib3ZlIHRoaXMgZm9yIGluZXJ0aWEgdG8gc3RhcnRcbiAgICAgIGVuZFNwZWVkPzogbnVtYmVyIC8vIHRoZSBzcGVlZCBhdCB3aGljaCBpbmVydGlhIGlzIHNsb3cgZW5vdWdoIHRvIHN0b3BcbiAgICAgIGFsbG93UmVzdW1lPzogdHJ1ZSAvLyBhbGxvdyByZXN1bWluZyBhbiBhY3Rpb24gaW4gaW5lcnRpYSBwaGFzZVxuICAgICAgc21vb3RoRW5kRHVyYXRpb24/OiBudW1iZXIgLy8gYW5pbWF0ZSB0byBzbmFwL3Jlc3RyaWN0IGVuZE9ubHkgaWYgdGhlcmUncyBubyBpbmVydGlhXG4gICAgfVxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJyB7XG4gIGludGVyZmFjZSBTaWduYWxBcmdzIHtcbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24taW5lcnRpYXN0YXJ0JzogT21pdDxEb1BoYXNlQXJnPEFjdGlvbk5hbWUsICdpbmVydGlhc3RhcnQnPiwgJ2lFdmVudCc+XG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24taW5lcnRpYXN0YXJ0JzogRG9QaGFzZUFyZzxBY3Rpb25OYW1lLCAnaW5lcnRpYXN0YXJ0Jz5cbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1pbmVydGlhc3RhcnQnOiBEb1BoYXNlQXJnPEFjdGlvbk5hbWUsICdpbmVydGlhc3RhcnQnPlxuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1yZXN1bWUnOiBPbWl0PERvUGhhc2VBcmc8QWN0aW9uTmFtZSwgJ3Jlc3VtZSc+LCAnaUV2ZW50Jz5cbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1yZXN1bWUnOiBEb1BoYXNlQXJnPEFjdGlvbk5hbWUsICdyZXN1bWUnPlxuICAgICdpbnRlcmFjdGlvbnM6YWZ0ZXItYWN0aW9uLXJlc3VtZSc6IERvUGhhc2VBcmc8QWN0aW9uTmFtZSwgJ3Jlc3VtZSc+XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBkZWZhdWx0cyB9ID0gc2NvcGVcblxuICBzY29wZS51c2VQbHVnaW4ob2Zmc2V0KVxuICBzY29wZS51c2VQbHVnaW4obW9kaWZpZXJzLmRlZmF1bHQpXG4gIHNjb3BlLmFjdGlvbnMucGhhc2VzLmluZXJ0aWFzdGFydCA9IHRydWVcbiAgc2NvcGUuYWN0aW9ucy5waGFzZXMucmVzdW1lID0gdHJ1ZVxuXG4gIGRlZmF1bHRzLnBlckFjdGlvbi5pbmVydGlhID0ge1xuICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgIHJlc2lzdGFuY2U6IDEwLCAvLyB0aGUgbGFtYmRhIGluIGV4cG9uZW50aWFsIGRlY2F5XG4gICAgbWluU3BlZWQ6IDEwMCwgLy8gdGFyZ2V0IHNwZWVkIG11c3QgYmUgYWJvdmUgdGhpcyBmb3IgaW5lcnRpYSB0byBzdGFydFxuICAgIGVuZFNwZWVkOiAxMCwgLy8gdGhlIHNwZWVkIGF0IHdoaWNoIGluZXJ0aWEgaXMgc2xvdyBlbm91Z2ggdG8gc3RvcFxuICAgIGFsbG93UmVzdW1lOiB0cnVlLCAvLyBhbGxvdyByZXN1bWluZyBhbiBhY3Rpb24gaW4gaW5lcnRpYSBwaGFzZVxuICAgIHNtb290aEVuZER1cmF0aW9uOiAzMDAsIC8vIGFuaW1hdGUgdG8gc25hcC9yZXN0cmljdCBlbmRPbmx5IGlmIHRoZXJlJ3Mgbm8gaW5lcnRpYVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbmVydGlhU3RhdGUge1xuICBhY3RpdmUgPSBmYWxzZVxuICBpc01vZGlmaWVkID0gZmFsc2VcbiAgc21vb3RoRW5kID0gZmFsc2VcbiAgYWxsb3dSZXN1bWUgPSBmYWxzZVxuXG4gIG1vZGlmaWNhdGlvbiE6IE1vZGlmaWNhdGlvblxuICBtb2RpZmllckNvdW50ID0gMFxuICBtb2RpZmllckFyZyE6IE1vZGlmaWVyQXJnXG5cbiAgc3RhcnRDb29yZHMhOiBQb2ludFxuICB0MCA9IDBcbiAgdjAgPSAwXG5cbiAgdGUgPSAwXG4gIHRhcmdldE9mZnNldCE6IFBvaW50XG4gIG1vZGlmaWVkT2Zmc2V0ITogUG9pbnRcbiAgY3VycmVudE9mZnNldCE6IFBvaW50XG5cbiAgbGFtYmRhX3YwPyA9IDAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjYW1lbGNhc2VcbiAgb25lX3ZlX3YwPyA9IDAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjYW1lbGNhc2VcbiAgdGltZW91dCE6IG51bWJlclxuICByZWFkb25seSBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb25cblxuICBjb25zdHJ1Y3RvcihpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24pIHtcbiAgICB0aGlzLmludGVyYWN0aW9uID0gaW50ZXJhY3Rpb25cbiAgfVxuXG4gIHN0YXJ0KGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlKSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gdGhpc1xuICAgIGNvbnN0IG9wdGlvbnMgPSBnZXRPcHRpb25zKGludGVyYWN0aW9uKVxuXG4gICAgaWYgKCFvcHRpb25zIHx8ICFvcHRpb25zLmVuYWJsZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IHsgY2xpZW50OiB2ZWxvY2l0eUNsaWVudCB9ID0gaW50ZXJhY3Rpb24uY29vcmRzLnZlbG9jaXR5XG4gICAgY29uc3QgcG9pbnRlclNwZWVkID0gaHlwb3QodmVsb2NpdHlDbGllbnQueCwgdmVsb2NpdHlDbGllbnQueSlcbiAgICBjb25zdCBtb2RpZmljYXRpb24gPSB0aGlzLm1vZGlmaWNhdGlvbiB8fCAodGhpcy5tb2RpZmljYXRpb24gPSBuZXcgTW9kaWZpY2F0aW9uKGludGVyYWN0aW9uKSlcblxuICAgIG1vZGlmaWNhdGlvbi5jb3B5RnJvbShpbnRlcmFjdGlvbi5tb2RpZmljYXRpb24pXG5cbiAgICB0aGlzLnQwID0gaW50ZXJhY3Rpb24uX25vdygpXG4gICAgdGhpcy5hbGxvd1Jlc3VtZSA9IG9wdGlvbnMuYWxsb3dSZXN1bWVcbiAgICB0aGlzLnYwID0gcG9pbnRlclNwZWVkXG4gICAgdGhpcy5jdXJyZW50T2Zmc2V0ID0geyB4OiAwLCB5OiAwIH1cbiAgICB0aGlzLnN0YXJ0Q29vcmRzID0gaW50ZXJhY3Rpb24uY29vcmRzLmN1ci5wYWdlXG5cbiAgICB0aGlzLm1vZGlmaWVyQXJnID0gbW9kaWZpY2F0aW9uLmZpbGxBcmcoe1xuICAgICAgcGFnZUNvb3JkczogdGhpcy5zdGFydENvb3JkcyxcbiAgICAgIHByZUVuZDogdHJ1ZSxcbiAgICAgIHBoYXNlOiAnaW5lcnRpYXN0YXJ0JyxcbiAgICB9KVxuXG4gICAgY29uc3QgdGhyb3duID1cbiAgICAgIHRoaXMudDAgLSBpbnRlcmFjdGlvbi5jb29yZHMuY3VyLnRpbWVTdGFtcCA8IDUwICYmXG4gICAgICBwb2ludGVyU3BlZWQgPiBvcHRpb25zLm1pblNwZWVkICYmXG4gICAgICBwb2ludGVyU3BlZWQgPiBvcHRpb25zLmVuZFNwZWVkXG5cbiAgICBpZiAodGhyb3duKSB7XG4gICAgICB0aGlzLnN0YXJ0SW5lcnRpYSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZGlmaWNhdGlvbi5yZXN1bHQgPSBtb2RpZmljYXRpb24uc2V0QWxsKHRoaXMubW9kaWZpZXJBcmcpXG5cbiAgICAgIGlmICghbW9kaWZpY2F0aW9uLnJlc3VsdC5jaGFuZ2VkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YXJ0U21vb3RoRW5kKClcbiAgICB9XG5cbiAgICAvLyBmb3JjZSBtb2RpZmljYXRpb24gY2hhbmdlXG4gICAgaW50ZXJhY3Rpb24ubW9kaWZpY2F0aW9uLnJlc3VsdC5yZWN0ID0gbnVsbFxuXG4gICAgLy8gYnJpbmcgaW5lcnRpYXN0YXJ0IGV2ZW50IHRvIHRoZSB0YXJnZXQgY29vcmRzXG4gICAgaW50ZXJhY3Rpb24ub2Zmc2V0QnkodGhpcy50YXJnZXRPZmZzZXQpXG4gICAgaW50ZXJhY3Rpb24uX2RvUGhhc2Uoe1xuICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICBldmVudCxcbiAgICAgIHBoYXNlOiAnaW5lcnRpYXN0YXJ0JyxcbiAgICB9KVxuICAgIGludGVyYWN0aW9uLm9mZnNldEJ5KHsgeDogLXRoaXMudGFyZ2V0T2Zmc2V0LngsIHk6IC10aGlzLnRhcmdldE9mZnNldC55IH0pXG4gICAgLy8gZm9yY2UgbW9kaWZpY2F0aW9uIGNoYW5nZVxuICAgIGludGVyYWN0aW9uLm1vZGlmaWNhdGlvbi5yZXN1bHQucmVjdCA9IG51bGxcblxuICAgIHRoaXMuYWN0aXZlID0gdHJ1ZVxuICAgIGludGVyYWN0aW9uLnNpbXVsYXRpb24gPSB0aGlzXG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgc3RhcnRJbmVydGlhKCkge1xuICAgIGNvbnN0IHN0YXJ0VmVsb2NpdHkgPSB0aGlzLmludGVyYWN0aW9uLmNvb3Jkcy52ZWxvY2l0eS5jbGllbnRcbiAgICBjb25zdCBvcHRpb25zID0gZ2V0T3B0aW9ucyh0aGlzLmludGVyYWN0aW9uKVxuICAgIGNvbnN0IGxhbWJkYSA9IG9wdGlvbnMucmVzaXN0YW5jZVxuICAgIGNvbnN0IGluZXJ0aWFEdXIgPSAtTWF0aC5sb2cob3B0aW9ucy5lbmRTcGVlZCAvIHRoaXMudjApIC8gbGFtYmRhXG5cbiAgICB0aGlzLnRhcmdldE9mZnNldCA9IHtcbiAgICAgIHg6IChzdGFydFZlbG9jaXR5LnggLSBpbmVydGlhRHVyKSAvIGxhbWJkYSxcbiAgICAgIHk6IChzdGFydFZlbG9jaXR5LnkgLSBpbmVydGlhRHVyKSAvIGxhbWJkYSxcbiAgICB9XG5cbiAgICB0aGlzLnRlID0gaW5lcnRpYUR1clxuICAgIHRoaXMubGFtYmRhX3YwID0gbGFtYmRhIC8gdGhpcy52MFxuICAgIHRoaXMub25lX3ZlX3YwID0gMSAtIG9wdGlvbnMuZW5kU3BlZWQgLyB0aGlzLnYwXG5cbiAgICBjb25zdCB7IG1vZGlmaWNhdGlvbiwgbW9kaWZpZXJBcmcgfSA9IHRoaXNcblxuICAgIG1vZGlmaWVyQXJnLnBhZ2VDb29yZHMgPSB7XG4gICAgICB4OiB0aGlzLnN0YXJ0Q29vcmRzLnggKyB0aGlzLnRhcmdldE9mZnNldC54LFxuICAgICAgeTogdGhpcy5zdGFydENvb3Jkcy55ICsgdGhpcy50YXJnZXRPZmZzZXQueSxcbiAgICB9XG5cbiAgICBtb2RpZmljYXRpb24ucmVzdWx0ID0gbW9kaWZpY2F0aW9uLnNldEFsbChtb2RpZmllckFyZylcblxuICAgIGlmIChtb2RpZmljYXRpb24ucmVzdWx0LmNoYW5nZWQpIHtcbiAgICAgIHRoaXMuaXNNb2RpZmllZCA9IHRydWVcbiAgICAgIHRoaXMubW9kaWZpZWRPZmZzZXQgPSB7XG4gICAgICAgIHg6IHRoaXMudGFyZ2V0T2Zmc2V0LnggKyBtb2RpZmljYXRpb24ucmVzdWx0LmRlbHRhLngsXG4gICAgICAgIHk6IHRoaXMudGFyZ2V0T2Zmc2V0LnkgKyBtb2RpZmljYXRpb24ucmVzdWx0LmRlbHRhLnksXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5vbk5leHRGcmFtZSgoKSA9PiB0aGlzLmluZXJ0aWFUaWNrKCkpXG4gIH1cblxuICBzdGFydFNtb290aEVuZCgpIHtcbiAgICB0aGlzLnNtb290aEVuZCA9IHRydWVcbiAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlXG4gICAgdGhpcy50YXJnZXRPZmZzZXQgPSB7XG4gICAgICB4OiB0aGlzLm1vZGlmaWNhdGlvbi5yZXN1bHQuZGVsdGEueCxcbiAgICAgIHk6IHRoaXMubW9kaWZpY2F0aW9uLnJlc3VsdC5kZWx0YS55LFxuICAgIH1cblxuICAgIHRoaXMub25OZXh0RnJhbWUoKCkgPT4gdGhpcy5zbW9vdGhFbmRUaWNrKCkpXG4gIH1cblxuICBvbk5leHRGcmFtZSh0aWNrRm46ICgpID0+IHZvaWQpIHtcbiAgICB0aGlzLnRpbWVvdXQgPSByYWYucmVxdWVzdCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICAgICAgdGlja0ZuKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgaW5lcnRpYVRpY2soKSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gdGhpc1xuICAgIGNvbnN0IG9wdGlvbnMgPSBnZXRPcHRpb25zKGludGVyYWN0aW9uKVxuICAgIGNvbnN0IGxhbWJkYSA9IG9wdGlvbnMucmVzaXN0YW5jZVxuICAgIGNvbnN0IHQgPSAoaW50ZXJhY3Rpb24uX25vdygpIC0gdGhpcy50MCkgLyAxMDAwXG5cbiAgICBpZiAodCA8IHRoaXMudGUpIHtcbiAgICAgIGNvbnN0IHByb2dyZXNzID0gMSAtIChNYXRoLmV4cCgtbGFtYmRhICogdCkgLSB0aGlzLmxhbWJkYV92MCkgLyB0aGlzLm9uZV92ZV92MFxuICAgICAgbGV0IG5ld09mZnNldDogUG9pbnRcblxuICAgICAgaWYgKHRoaXMuaXNNb2RpZmllZCkge1xuICAgICAgICBuZXdPZmZzZXQgPSBnZXRRdWFkcmF0aWNDdXJ2ZVBvaW50KFxuICAgICAgICAgIDAsXG4gICAgICAgICAgMCxcbiAgICAgICAgICB0aGlzLnRhcmdldE9mZnNldC54LFxuICAgICAgICAgIHRoaXMudGFyZ2V0T2Zmc2V0LnksXG4gICAgICAgICAgdGhpcy5tb2RpZmllZE9mZnNldC54LFxuICAgICAgICAgIHRoaXMubW9kaWZpZWRPZmZzZXQueSxcbiAgICAgICAgICBwcm9ncmVzcyxcbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3T2Zmc2V0ID0ge1xuICAgICAgICAgIHg6IHRoaXMudGFyZ2V0T2Zmc2V0LnggKiBwcm9ncmVzcyxcbiAgICAgICAgICB5OiB0aGlzLnRhcmdldE9mZnNldC55ICogcHJvZ3Jlc3MsXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgZGVsdGEgPSB7IHg6IG5ld09mZnNldC54IC0gdGhpcy5jdXJyZW50T2Zmc2V0LngsIHk6IG5ld09mZnNldC55IC0gdGhpcy5jdXJyZW50T2Zmc2V0LnkgfVxuXG4gICAgICB0aGlzLmN1cnJlbnRPZmZzZXQueCArPSBkZWx0YS54XG4gICAgICB0aGlzLmN1cnJlbnRPZmZzZXQueSArPSBkZWx0YS55XG5cbiAgICAgIGludGVyYWN0aW9uLm9mZnNldEJ5KGRlbHRhKVxuICAgICAgaW50ZXJhY3Rpb24ubW92ZSgpXG5cbiAgICAgIHRoaXMub25OZXh0RnJhbWUoKCkgPT4gdGhpcy5pbmVydGlhVGljaygpKVxuICAgIH0gZWxzZSB7XG4gICAgICBpbnRlcmFjdGlvbi5vZmZzZXRCeSh7XG4gICAgICAgIHg6IHRoaXMubW9kaWZpZWRPZmZzZXQueCAtIHRoaXMuY3VycmVudE9mZnNldC54LFxuICAgICAgICB5OiB0aGlzLm1vZGlmaWVkT2Zmc2V0LnkgLSB0aGlzLmN1cnJlbnRPZmZzZXQueSxcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMuZW5kKClcbiAgICB9XG4gIH1cblxuICBzbW9vdGhFbmRUaWNrKCkge1xuICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IHRoaXNcbiAgICBjb25zdCB0ID0gaW50ZXJhY3Rpb24uX25vdygpIC0gdGhpcy50MFxuICAgIGNvbnN0IHsgc21vb3RoRW5kRHVyYXRpb246IGR1cmF0aW9uIH0gPSBnZXRPcHRpb25zKGludGVyYWN0aW9uKVxuXG4gICAgaWYgKHQgPCBkdXJhdGlvbikge1xuICAgICAgY29uc3QgbmV3T2Zmc2V0ID0ge1xuICAgICAgICB4OiBlYXNlT3V0UXVhZCh0LCAwLCB0aGlzLnRhcmdldE9mZnNldC54LCBkdXJhdGlvbiksXG4gICAgICAgIHk6IGVhc2VPdXRRdWFkKHQsIDAsIHRoaXMudGFyZ2V0T2Zmc2V0LnksIGR1cmF0aW9uKSxcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRlbHRhID0ge1xuICAgICAgICB4OiBuZXdPZmZzZXQueCAtIHRoaXMuY3VycmVudE9mZnNldC54LFxuICAgICAgICB5OiBuZXdPZmZzZXQueSAtIHRoaXMuY3VycmVudE9mZnNldC55LFxuICAgICAgfVxuXG4gICAgICB0aGlzLmN1cnJlbnRPZmZzZXQueCArPSBkZWx0YS54XG4gICAgICB0aGlzLmN1cnJlbnRPZmZzZXQueSArPSBkZWx0YS55XG5cbiAgICAgIGludGVyYWN0aW9uLm9mZnNldEJ5KGRlbHRhKVxuICAgICAgaW50ZXJhY3Rpb24ubW92ZSh7IHNraXBNb2RpZmllcnM6IHRoaXMubW9kaWZpZXJDb3VudCB9KVxuXG4gICAgICB0aGlzLm9uTmV4dEZyYW1lKCgpID0+IHRoaXMuc21vb3RoRW5kVGljaygpKVxuICAgIH0gZWxzZSB7XG4gICAgICBpbnRlcmFjdGlvbi5vZmZzZXRCeSh7XG4gICAgICAgIHg6IHRoaXMudGFyZ2V0T2Zmc2V0LnggLSB0aGlzLmN1cnJlbnRPZmZzZXQueCxcbiAgICAgICAgeTogdGhpcy50YXJnZXRPZmZzZXQueSAtIHRoaXMuY3VycmVudE9mZnNldC55LFxuICAgICAgfSlcblxuICAgICAgdGhpcy5lbmQoKVxuICAgIH1cbiAgfVxuXG4gIHJlc3VtZSh7IHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCB9OiBTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6ZG93biddKSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gdGhpc1xuXG4gICAgLy8gdW5kbyBpbmVydGlhIGNoYW5nZXMgdG8gaW50ZXJhY3Rpb24gY29vcmRzXG4gICAgaW50ZXJhY3Rpb24ub2Zmc2V0Qnkoe1xuICAgICAgeDogLXRoaXMuY3VycmVudE9mZnNldC54LFxuICAgICAgeTogLXRoaXMuY3VycmVudE9mZnNldC55LFxuICAgIH0pXG5cbiAgICAvLyB1cGRhdGUgcG9pbnRlciBhdCBwb2ludGVyIGRvd24gcG9zaXRpb25cbiAgICBpbnRlcmFjdGlvbi51cGRhdGVQb2ludGVyKHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCwgdHJ1ZSlcblxuICAgIC8vIGZpcmUgcmVzdW1lIHNpZ25hbHMgYW5kIGV2ZW50XG4gICAgaW50ZXJhY3Rpb24uX2RvUGhhc2Uoe1xuICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICBldmVudCxcbiAgICAgIHBoYXNlOiAncmVzdW1lJyxcbiAgICB9KVxuICAgIGNvcHlDb29yZHMoaW50ZXJhY3Rpb24uY29vcmRzLnByZXYsIGludGVyYWN0aW9uLmNvb3Jkcy5jdXIpXG5cbiAgICB0aGlzLnN0b3AoKVxuICB9XG5cbiAgZW5kKCkge1xuICAgIHRoaXMuaW50ZXJhY3Rpb24ubW92ZSgpXG4gICAgdGhpcy5pbnRlcmFjdGlvbi5lbmQoKVxuICAgIHRoaXMuc3RvcCgpXG4gIH1cblxuICBzdG9wKCkge1xuICAgIHRoaXMuYWN0aXZlID0gdGhpcy5zbW9vdGhFbmQgPSBmYWxzZVxuICAgIHRoaXMuaW50ZXJhY3Rpb24uc2ltdWxhdGlvbiA9IG51bGxcbiAgICByYWYuY2FuY2VsKHRoaXMudGltZW91dClcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydCh7IGludGVyYWN0aW9uLCBldmVudCB9OiBEb1BoYXNlQXJnPEFjdGlvbk5hbWUsICdlbmQnPikge1xuICBpZiAoIWludGVyYWN0aW9uLl9pbnRlcmFjdGluZyB8fCBpbnRlcmFjdGlvbi5zaW11bGF0aW9uKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGNvbnN0IHN0YXJ0ZWQgPSBpbnRlcmFjdGlvbi5pbmVydGlhLnN0YXJ0KGV2ZW50KVxuXG4gIC8vIHByZXZlbnQgYWN0aW9uIGVuZCBpZiBpbmVydGlhIG9yIHNtb290aEVuZFxuICByZXR1cm4gc3RhcnRlZCA/IGZhbHNlIDogbnVsbFxufVxuXG4vLyBDaGVjayBpZiB0aGUgZG93biBldmVudCBoaXRzIHRoZSBjdXJyZW50IGluZXJ0aWEgdGFyZ2V0XG4vLyBjb250cm9sIHNob3VsZCBiZSByZXR1cm4gdG8gdGhlIHVzZXJcbmZ1bmN0aW9uIHJlc3VtZShhcmc6IFNpZ25hbEFyZ3NbJ2ludGVyYWN0aW9uczpkb3duJ10pIHtcbiAgY29uc3QgeyBpbnRlcmFjdGlvbiwgZXZlbnRUYXJnZXQgfSA9IGFyZ1xuICBjb25zdCBzdGF0ZSA9IGludGVyYWN0aW9uLmluZXJ0aWFcblxuICBpZiAoIXN0YXRlLmFjdGl2ZSkgcmV0dXJuXG5cbiAgbGV0IGVsZW1lbnQgPSBldmVudFRhcmdldCBhcyBOb2RlXG5cbiAgLy8gY2xpbWIgdXAgdGhlIERPTSB0cmVlIGZyb20gdGhlIGV2ZW50IHRhcmdldFxuICB3aGlsZSAoaXMuZWxlbWVudChlbGVtZW50KSkge1xuICAgIC8vIGlmIGludGVyYWN0aW9uIGVsZW1lbnQgaXMgdGhlIGN1cnJlbnQgaW5lcnRpYSB0YXJnZXQgZWxlbWVudFxuICAgIGlmIChlbGVtZW50ID09PSBpbnRlcmFjdGlvbi5lbGVtZW50KSB7XG4gICAgICBzdGF0ZS5yZXN1bWUoYXJnKVxuICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBlbGVtZW50ID0gZG9tLnBhcmVudE5vZGUoZWxlbWVudClcbiAgfVxufVxuXG5mdW5jdGlvbiBzdG9wKHsgaW50ZXJhY3Rpb24gfTogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfSkge1xuICBjb25zdCBzdGF0ZSA9IGludGVyYWN0aW9uLmluZXJ0aWFcblxuICBpZiAoc3RhdGUuYWN0aXZlKSB7XG4gICAgc3RhdGUuc3RvcCgpXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0T3B0aW9ucyh7IGludGVyYWN0YWJsZSwgcHJlcGFyZWQgfTogSW50ZXJhY3Rpb24pIHtcbiAgcmV0dXJuIGludGVyYWN0YWJsZSAmJiBpbnRlcmFjdGFibGUub3B0aW9ucyAmJiBwcmVwYXJlZC5uYW1lICYmIGludGVyYWN0YWJsZS5vcHRpb25zW3ByZXBhcmVkLm5hbWVdLmluZXJ0aWFcbn1cblxuY29uc3QgaW5lcnRpYTogUGx1Z2luID0ge1xuICBpZDogJ2luZXJ0aWEnLFxuICBiZWZvcmU6IFsnbW9kaWZpZXJzJywgJ2FjdGlvbnMnXSxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2ludGVyYWN0aW9uczpuZXcnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBpbnRlcmFjdGlvbi5pbmVydGlhID0gbmV3IEluZXJ0aWFTdGF0ZShpbnRlcmFjdGlvbilcbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLWVuZCc6IHN0YXJ0LFxuICAgICdpbnRlcmFjdGlvbnM6ZG93bic6IHJlc3VtZSxcbiAgICAnaW50ZXJhY3Rpb25zOnN0b3AnOiBzdG9wLFxuXG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLXJlc3VtZSc6IChhcmcpID0+IHtcbiAgICAgIGNvbnN0IHsgbW9kaWZpY2F0aW9uIH0gPSBhcmcuaW50ZXJhY3Rpb25cblxuICAgICAgbW9kaWZpY2F0aW9uLnN0b3AoYXJnKVxuICAgICAgbW9kaWZpY2F0aW9uLnN0YXJ0KGFyZywgYXJnLmludGVyYWN0aW9uLmNvb3Jkcy5jdXIucGFnZSlcbiAgICAgIG1vZGlmaWNhdGlvbi5hcHBseVRvSW50ZXJhY3Rpb24oYXJnKVxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24taW5lcnRpYXN0YXJ0JzogKGFyZykgPT4gYXJnLmludGVyYWN0aW9uLm1vZGlmaWNhdGlvbi5zZXRBbmRBcHBseShhcmcpLFxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLXJlc3VtZSc6IG1vZGlmaWVycy5hZGRFdmVudE1vZGlmaWVycyxcbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1pbmVydGlhc3RhcnQnOiBtb2RpZmllcnMuYWRkRXZlbnRNb2RpZmllcnMsXG4gICAgJ2ludGVyYWN0aW9uczphZnRlci1hY3Rpb24taW5lcnRpYXN0YXJ0JzogKGFyZykgPT5cbiAgICAgIGFyZy5pbnRlcmFjdGlvbi5tb2RpZmljYXRpb24ucmVzdG9yZUludGVyYWN0aW9uQ29vcmRzKGFyZyksXG4gICAgJ2ludGVyYWN0aW9uczphZnRlci1hY3Rpb24tcmVzdW1lJzogKGFyZykgPT4gYXJnLmludGVyYWN0aW9uLm1vZGlmaWNhdGlvbi5yZXN0b3JlSW50ZXJhY3Rpb25Db29yZHMoYXJnKSxcbiAgfSxcbn1cblxuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTYzNDUyOC8yMjgwODg4XG5mdW5jdGlvbiBfZ2V0UUJlemllclZhbHVlKHQ6IG51bWJlciwgcDE6IG51bWJlciwgcDI6IG51bWJlciwgcDM6IG51bWJlcikge1xuICBjb25zdCBpVCA9IDEgLSB0XG4gIHJldHVybiBpVCAqIGlUICogcDEgKyAyICogaVQgKiB0ICogcDIgKyB0ICogdCAqIHAzXG59XG5cbmZ1bmN0aW9uIGdldFF1YWRyYXRpY0N1cnZlUG9pbnQoXG4gIHN0YXJ0WDogbnVtYmVyLFxuICBzdGFydFk6IG51bWJlcixcbiAgY3BYOiBudW1iZXIsXG4gIGNwWTogbnVtYmVyLFxuICBlbmRYOiBudW1iZXIsXG4gIGVuZFk6IG51bWJlcixcbiAgcG9zaXRpb246IG51bWJlcixcbikge1xuICByZXR1cm4ge1xuICAgIHg6IF9nZXRRQmV6aWVyVmFsdWUocG9zaXRpb24sIHN0YXJ0WCwgY3BYLCBlbmRYKSxcbiAgICB5OiBfZ2V0UUJlemllclZhbHVlKHBvc2l0aW9uLCBzdGFydFksIGNwWSwgZW5kWSksXG4gIH1cbn1cblxuLy8gaHR0cDovL2dpem1hLmNvbS9lYXNpbmcvXG5mdW5jdGlvbiBlYXNlT3V0UXVhZCh0OiBudW1iZXIsIGI6IG51bWJlciwgYzogbnVtYmVyLCBkOiBudW1iZXIpIHtcbiAgdCAvPSBkXG4gIHJldHVybiAtYyAqIHQgKiAodCAtIDIpICsgYlxufVxuXG5leHBvcnQgZGVmYXVsdCBpbmVydGlhXG4iLCAiaW1wb3J0ICogYXMgYXJyIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2FycidcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0IHR5cGUgeyBOb3JtYWxpemVkTGlzdGVuZXJzIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvbm9ybWFsaXplTGlzdGVuZXJzJ1xuaW1wb3J0IG5vcm1hbGl6ZSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9ub3JtYWxpemVMaXN0ZW5lcnMnXG5cbmltcG9ydCB0eXBlIHsgTGlzdGVuZXIsIExpc3RlbmVyc0FyZywgUmVjdCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmZ1bmN0aW9uIGZpcmVVbnRpbEltbWVkaWF0ZVN0b3BwZWQoZXZlbnQ6IGFueSwgbGlzdGVuZXJzOiBMaXN0ZW5lcltdKSB7XG4gIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgbGlzdGVuZXJzKSB7XG4gICAgaWYgKGV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCkge1xuICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcihldmVudClcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRXZlbnRhYmxlIHtcbiAgb3B0aW9uczogYW55XG4gIHR5cGVzOiBOb3JtYWxpemVkTGlzdGVuZXJzID0ge31cbiAgcHJvcGFnYXRpb25TdG9wcGVkID0gZmFsc2VcbiAgaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gZmFsc2VcbiAgZ2xvYmFsOiBhbnlcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zPzogeyBbaW5kZXg6IHN0cmluZ106IGFueSB9KSB7XG4gICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKHt9LCBvcHRpb25zIHx8IHt9KVxuICB9XG5cbiAgZmlyZTxUIGV4dGVuZHMgeyB0eXBlOiBzdHJpbmc7IHByb3BhZ2F0aW9uU3RvcHBlZD86IGJvb2xlYW4gfT4oZXZlbnQ6IFQpIHtcbiAgICBsZXQgbGlzdGVuZXJzOiBMaXN0ZW5lcltdXG4gICAgY29uc3QgZ2xvYmFsID0gdGhpcy5nbG9iYWxcblxuICAgIC8vIEludGVyYWN0YWJsZSNvbigpIGxpc3RlbmVyc1xuICAgIC8vIHRzbGludDpkaXNhYmxlIG5vLWNvbmRpdGlvbmFsLWFzc2lnbm1lbnRcbiAgICBpZiAoKGxpc3RlbmVycyA9IHRoaXMudHlwZXNbZXZlbnQudHlwZV0pKSB7XG4gICAgICBmaXJlVW50aWxJbW1lZGlhdGVTdG9wcGVkKGV2ZW50LCBsaXN0ZW5lcnMpXG4gICAgfVxuXG4gICAgLy8gaW50ZXJhY3Qub24oKSBsaXN0ZW5lcnNcbiAgICBpZiAoIWV2ZW50LnByb3BhZ2F0aW9uU3RvcHBlZCAmJiBnbG9iYWwgJiYgKGxpc3RlbmVycyA9IGdsb2JhbFtldmVudC50eXBlXSkpIHtcbiAgICAgIGZpcmVVbnRpbEltbWVkaWF0ZVN0b3BwZWQoZXZlbnQsIGxpc3RlbmVycylcbiAgICB9XG4gIH1cblxuICBvbih0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiBMaXN0ZW5lcnNBcmcpIHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSBub3JtYWxpemUodHlwZSwgbGlzdGVuZXIpXG5cbiAgICBmb3IgKHR5cGUgaW4gbGlzdGVuZXJzKSB7XG4gICAgICB0aGlzLnR5cGVzW3R5cGVdID0gYXJyLm1lcmdlKHRoaXMudHlwZXNbdHlwZV0gfHwgW10sIGxpc3RlbmVyc1t0eXBlXSlcbiAgICB9XG4gIH1cblxuICBvZmYodHlwZTogc3RyaW5nLCBsaXN0ZW5lcjogTGlzdGVuZXJzQXJnKSB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gbm9ybWFsaXplKHR5cGUsIGxpc3RlbmVyKVxuXG4gICAgZm9yICh0eXBlIGluIGxpc3RlbmVycykge1xuICAgICAgY29uc3QgZXZlbnRMaXN0ID0gdGhpcy50eXBlc1t0eXBlXVxuXG4gICAgICBpZiAoIWV2ZW50TGlzdCB8fCAhZXZlbnRMaXN0Lmxlbmd0aCkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IHN1Ykxpc3RlbmVyIG9mIGxpc3RlbmVyc1t0eXBlXSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IGV2ZW50TGlzdC5pbmRleE9mKHN1Ykxpc3RlbmVyKVxuXG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICBldmVudExpc3Quc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0UmVjdChfZWxlbWVudDogRWxlbWVudCk6IFJlY3Qge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cbiIsICJpbXBvcnQgKiBhcyBhcnIgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvYXJyJ1xuaW1wb3J0ICogYXMgZG9tVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5pbXBvcnQgcEV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9wb2ludGVyRXh0ZW5kJ1xuaW1wb3J0ICogYXMgcG9pbnRlclV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3BvaW50ZXJVdGlscydcblxuaW1wb3J0IHR5cGUgeyBTY29wZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IEVsZW1lbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5pbXBvcnQgdHlwZSB7IE5hdGl2ZUV2ZW50VGFyZ2V0IH0gZnJvbSAnLi9OYXRpdmVUeXBlcydcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnIHtcbiAgaW50ZXJmYWNlIFNjb3BlIHtcbiAgICBldmVudHM6IFJldHVyblR5cGU8dHlwZW9mIGluc3RhbGw+XG4gIH1cbn1cblxuaW50ZXJmYWNlIEV2ZW50T3B0aW9ucyB7XG4gIGNhcHR1cmU6IGJvb2xlYW5cbiAgcGFzc2l2ZTogYm9vbGVhblxufVxuXG50eXBlIFBhcnRpYWxFdmVudFRhcmdldCA9IFBhcnRpYWw8TmF0aXZlRXZlbnRUYXJnZXQ+XG5cbnR5cGUgTGlzdGVuZXJFbnRyeSA9IHsgZnVuYzogKGV2ZW50OiBFdmVudCB8IEZha2VFdmVudCkgPT4gYW55OyBvcHRpb25zOiBFdmVudE9wdGlvbnMgfVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB0YXJnZXRzOiBBcnJheTx7XG4gICAgZXZlbnRUYXJnZXQ6IFBhcnRpYWxFdmVudFRhcmdldFxuICAgIGV2ZW50czogeyBbdHlwZTogc3RyaW5nXTogTGlzdGVuZXJFbnRyeVtdIH1cbiAgfT4gPSBbXVxuXG4gIGNvbnN0IGRlbGVnYXRlZEV2ZW50czoge1xuICAgIFt0eXBlOiBzdHJpbmddOiBBcnJheTx7XG4gICAgICBzZWxlY3Rvcjogc3RyaW5nXG4gICAgICBjb250ZXh0OiBOb2RlXG4gICAgICBsaXN0ZW5lcnM6IExpc3RlbmVyRW50cnlbXVxuICAgIH0+XG4gIH0gPSB7fVxuICBjb25zdCBkb2N1bWVudHM6IERvY3VtZW50W10gPSBbXVxuXG4gIGNvbnN0IGV2ZW50c01ldGhvZHMgPSB7XG4gICAgYWRkLFxuICAgIHJlbW92ZSxcblxuICAgIGFkZERlbGVnYXRlLFxuICAgIHJlbW92ZURlbGVnYXRlLFxuXG4gICAgZGVsZWdhdGVMaXN0ZW5lcixcbiAgICBkZWxlZ2F0ZVVzZUNhcHR1cmUsXG4gICAgZGVsZWdhdGVkRXZlbnRzLFxuICAgIGRvY3VtZW50cyxcblxuICAgIHRhcmdldHMsXG5cbiAgICBzdXBwb3J0c09wdGlvbnM6IGZhbHNlLFxuICAgIHN1cHBvcnRzUGFzc2l2ZTogZmFsc2UsXG4gIH1cblxuICAvLyBjaGVjayBpZiBicm93c2VyIHN1cHBvcnRzIHBhc3NpdmUgZXZlbnRzIGFuZCBvcHRpb25zIGFyZ1xuICBzY29wZS5kb2N1bWVudD8uY3JlYXRlRWxlbWVudCgnZGl2JykuYWRkRXZlbnRMaXN0ZW5lcigndGVzdCcsIG51bGwsIHtcbiAgICBnZXQgY2FwdHVyZSgpIHtcbiAgICAgIHJldHVybiAoZXZlbnRzTWV0aG9kcy5zdXBwb3J0c09wdGlvbnMgPSB0cnVlKVxuICAgIH0sXG4gICAgZ2V0IHBhc3NpdmUoKSB7XG4gICAgICByZXR1cm4gKGV2ZW50c01ldGhvZHMuc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZSlcbiAgICB9LFxuICB9KVxuXG4gIHNjb3BlLmV2ZW50cyA9IGV2ZW50c01ldGhvZHNcblxuICBmdW5jdGlvbiBhZGQoXG4gICAgZXZlbnRUYXJnZXQ6IFBhcnRpYWxFdmVudFRhcmdldCxcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgbGlzdGVuZXI6IExpc3RlbmVyRW50cnlbJ2Z1bmMnXSxcbiAgICBvcHRpb25hbEFyZz86IGJvb2xlYW4gfCBFdmVudE9wdGlvbnMsXG4gICkge1xuICAgIGlmICghZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcikgcmV0dXJuXG5cbiAgICBjb25zdCBvcHRpb25zID0gZ2V0T3B0aW9ucyhvcHRpb25hbEFyZylcbiAgICBsZXQgdGFyZ2V0ID0gYXJyLmZpbmQodGFyZ2V0cywgKHQpID0+IHQuZXZlbnRUYXJnZXQgPT09IGV2ZW50VGFyZ2V0KVxuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRhcmdldCA9IHtcbiAgICAgICAgZXZlbnRUYXJnZXQsXG4gICAgICAgIGV2ZW50czoge30sXG4gICAgICB9XG5cbiAgICAgIHRhcmdldHMucHVzaCh0YXJnZXQpXG4gICAgfVxuXG4gICAgaWYgKCF0YXJnZXQuZXZlbnRzW3R5cGVdKSB7XG4gICAgICB0YXJnZXQuZXZlbnRzW3R5cGVdID0gW11cbiAgICB9XG5cbiAgICBpZiAoIWFyci5maW5kKHRhcmdldC5ldmVudHNbdHlwZV0sIChsKSA9PiBsLmZ1bmMgPT09IGxpc3RlbmVyICYmIG9wdGlvbnNNYXRjaChsLm9wdGlvbnMsIG9wdGlvbnMpKSkge1xuICAgICAgZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgdHlwZSxcbiAgICAgICAgbGlzdGVuZXIgYXMgYW55LFxuICAgICAgICBldmVudHNNZXRob2RzLnN1cHBvcnRzT3B0aW9ucyA/IG9wdGlvbnMgOiBvcHRpb25zLmNhcHR1cmUsXG4gICAgICApXG4gICAgICB0YXJnZXQuZXZlbnRzW3R5cGVdLnB1c2goeyBmdW5jOiBsaXN0ZW5lciwgb3B0aW9ucyB9KVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZShcbiAgICBldmVudFRhcmdldDogUGFydGlhbEV2ZW50VGFyZ2V0LFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBsaXN0ZW5lcj86ICdhbGwnIHwgTGlzdGVuZXJFbnRyeVsnZnVuYyddLFxuICAgIG9wdGlvbmFsQXJnPzogYm9vbGVhbiB8IEV2ZW50T3B0aW9ucyxcbiAgKSB7XG4gICAgaWYgKCFldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyIHx8ICFldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKSByZXR1cm5cblxuICAgIGNvbnN0IHRhcmdldEluZGV4ID0gYXJyLmZpbmRJbmRleCh0YXJnZXRzLCAodCkgPT4gdC5ldmVudFRhcmdldCA9PT0gZXZlbnRUYXJnZXQpXG4gICAgY29uc3QgdGFyZ2V0ID0gdGFyZ2V0c1t0YXJnZXRJbmRleF1cblxuICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQuZXZlbnRzKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ2FsbCcpIHtcbiAgICAgIGZvciAodHlwZSBpbiB0YXJnZXQuZXZlbnRzKSB7XG4gICAgICAgIGlmICh0YXJnZXQuZXZlbnRzLmhhc093blByb3BlcnR5KHR5cGUpKSB7XG4gICAgICAgICAgcmVtb3ZlKGV2ZW50VGFyZ2V0LCB0eXBlLCAnYWxsJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbGV0IHR5cGVJc0VtcHR5ID0gZmFsc2VcbiAgICBjb25zdCB0eXBlTGlzdGVuZXJzID0gdGFyZ2V0LmV2ZW50c1t0eXBlXVxuXG4gICAgaWYgKHR5cGVMaXN0ZW5lcnMpIHtcbiAgICAgIGlmIChsaXN0ZW5lciA9PT0gJ2FsbCcpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHR5cGVMaXN0ZW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBjb25zdCBlbnRyeSA9IHR5cGVMaXN0ZW5lcnNbaV1cbiAgICAgICAgICByZW1vdmUoZXZlbnRUYXJnZXQsIHR5cGUsIGVudHJ5LmZ1bmMsIGVudHJ5Lm9wdGlvbnMpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gZ2V0T3B0aW9ucyhvcHRpb25hbEFyZylcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVMaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBlbnRyeSA9IHR5cGVMaXN0ZW5lcnNbaV1cbiAgICAgICAgICBpZiAoZW50cnkuZnVuYyA9PT0gbGlzdGVuZXIgJiYgb3B0aW9uc01hdGNoKGVudHJ5Lm9wdGlvbnMsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICBsaXN0ZW5lciBhcyBhbnksXG4gICAgICAgICAgICAgIGV2ZW50c01ldGhvZHMuc3VwcG9ydHNPcHRpb25zID8gb3B0aW9ucyA6IG9wdGlvbnMuY2FwdHVyZSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHR5cGVMaXN0ZW5lcnMuc3BsaWNlKGksIDEpXG5cbiAgICAgICAgICAgIGlmICh0eXBlTGlzdGVuZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICBkZWxldGUgdGFyZ2V0LmV2ZW50c1t0eXBlXVxuICAgICAgICAgICAgICB0eXBlSXNFbXB0eSA9IHRydWVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZUlzRW1wdHkgJiYgIU9iamVjdC5rZXlzKHRhcmdldC5ldmVudHMpLmxlbmd0aCkge1xuICAgICAgdGFyZ2V0cy5zcGxpY2UodGFyZ2V0SW5kZXgsIDEpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWRkRGVsZWdhdGUoXG4gICAgc2VsZWN0b3I6IHN0cmluZyxcbiAgICBjb250ZXh0OiBOb2RlLFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBsaXN0ZW5lcjogTGlzdGVuZXJFbnRyeVsnZnVuYyddLFxuICAgIG9wdGlvbmFsQXJnPzogYW55LFxuICApIHtcbiAgICBjb25zdCBvcHRpb25zID0gZ2V0T3B0aW9ucyhvcHRpb25hbEFyZylcbiAgICBpZiAoIWRlbGVnYXRlZEV2ZW50c1t0eXBlXSkge1xuICAgICAgZGVsZWdhdGVkRXZlbnRzW3R5cGVdID0gW11cblxuICAgICAgLy8gYWRkIGRlbGVnYXRlIGxpc3RlbmVyIGZ1bmN0aW9uc1xuICAgICAgZm9yIChjb25zdCBkb2Mgb2YgZG9jdW1lbnRzKSB7XG4gICAgICAgIGFkZChkb2MsIHR5cGUsIGRlbGVnYXRlTGlzdGVuZXIpXG4gICAgICAgIGFkZChkb2MsIHR5cGUsIGRlbGVnYXRlVXNlQ2FwdHVyZSwgdHJ1ZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBkZWxlZ2F0ZXMgPSBkZWxlZ2F0ZWRFdmVudHNbdHlwZV1cbiAgICBsZXQgZGVsZWdhdGUgPSBhcnIuZmluZChkZWxlZ2F0ZXMsIChkKSA9PiBkLnNlbGVjdG9yID09PSBzZWxlY3RvciAmJiBkLmNvbnRleHQgPT09IGNvbnRleHQpXG5cbiAgICBpZiAoIWRlbGVnYXRlKSB7XG4gICAgICBkZWxlZ2F0ZSA9IHsgc2VsZWN0b3IsIGNvbnRleHQsIGxpc3RlbmVyczogW10gfVxuICAgICAgZGVsZWdhdGVzLnB1c2goZGVsZWdhdGUpXG4gICAgfVxuXG4gICAgZGVsZWdhdGUubGlzdGVuZXJzLnB1c2goeyBmdW5jOiBsaXN0ZW5lciwgb3B0aW9ucyB9KVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlRGVsZWdhdGUoXG4gICAgc2VsZWN0b3I6IHN0cmluZyxcbiAgICBjb250ZXh0OiBEb2N1bWVudCB8IEVsZW1lbnQsXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGxpc3RlbmVyPzogTGlzdGVuZXJFbnRyeVsnZnVuYyddLFxuICAgIG9wdGlvbmFsQXJnPzogYW55LFxuICApIHtcbiAgICBjb25zdCBvcHRpb25zID0gZ2V0T3B0aW9ucyhvcHRpb25hbEFyZylcbiAgICBjb25zdCBkZWxlZ2F0ZXMgPSBkZWxlZ2F0ZWRFdmVudHNbdHlwZV1cbiAgICBsZXQgbWF0Y2hGb3VuZCA9IGZhbHNlXG4gICAgbGV0IGluZGV4OiBudW1iZXJcblxuICAgIGlmICghZGVsZWdhdGVzKSByZXR1cm5cblxuICAgIC8vIGNvdW50IGZyb20gbGFzdCBpbmRleCBvZiBkZWxlZ2F0ZWQgdG8gMFxuICAgIGZvciAoaW5kZXggPSBkZWxlZ2F0ZXMubGVuZ3RoIC0gMTsgaW5kZXggPj0gMDsgaW5kZXgtLSkge1xuICAgICAgY29uc3QgY3VyID0gZGVsZWdhdGVzW2luZGV4XVxuICAgICAgLy8gbG9vayBmb3IgbWF0Y2hpbmcgc2VsZWN0b3IgYW5kIGNvbnRleHQgTm9kZVxuICAgICAgaWYgKGN1ci5zZWxlY3RvciA9PT0gc2VsZWN0b3IgJiYgY3VyLmNvbnRleHQgPT09IGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgeyBsaXN0ZW5lcnMgfSA9IGN1clxuXG4gICAgICAgIC8vIGVhY2ggaXRlbSBvZiB0aGUgbGlzdGVuZXJzIGFycmF5IGlzIGFuIGFycmF5OiBbZnVuY3Rpb24sIGNhcHR1cmUsIHBhc3NpdmVdXG4gICAgICAgIGZvciAobGV0IGkgPSBsaXN0ZW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBjb25zdCBlbnRyeSA9IGxpc3RlbmVyc1tpXVxuXG4gICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGxpc3RlbmVyIGZ1bmN0aW9ucyBhbmQgY2FwdHVyZSBhbmQgcGFzc2l2ZSBmbGFncyBtYXRjaFxuICAgICAgICAgIGlmIChlbnRyeS5mdW5jID09PSBsaXN0ZW5lciAmJiBvcHRpb25zTWF0Y2goZW50cnkub3B0aW9ucywgb3B0aW9ucykpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgbGlzdGVuZXIgZnJvbSB0aGUgYXJyYXkgb2YgbGlzdGVuZXJzXG4gICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpXG5cbiAgICAgICAgICAgIC8vIGlmIGFsbCBsaXN0ZW5lcnMgZm9yIHRoaXMgdGFyZ2V0IGhhdmUgYmVlbiByZW1vdmVkXG4gICAgICAgICAgICAvLyByZW1vdmUgdGhlIHRhcmdldCBmcm9tIHRoZSBkZWxlZ2F0ZXMgYXJyYXlcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBkZWxlZ2F0ZXMuc3BsaWNlKGluZGV4LCAxKVxuXG4gICAgICAgICAgICAgIC8vIHJlbW92ZSBkZWxlZ2F0ZSBmdW5jdGlvbiBmcm9tIGNvbnRleHRcbiAgICAgICAgICAgICAgcmVtb3ZlKGNvbnRleHQsIHR5cGUsIGRlbGVnYXRlTGlzdGVuZXIpXG4gICAgICAgICAgICAgIHJlbW92ZShjb250ZXh0LCB0eXBlLCBkZWxlZ2F0ZVVzZUNhcHR1cmUsIHRydWUpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9ubHkgcmVtb3ZlIG9uZSBsaXN0ZW5lclxuICAgICAgICAgICAgbWF0Y2hGb3VuZCA9IHRydWVcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hdGNoRm91bmQpIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gYm91bmQgdG8gdGhlIGludGVyYWN0YWJsZSBjb250ZXh0IHdoZW4gYSBET00gZXZlbnRcbiAgLy8gbGlzdGVuZXIgaXMgYWRkZWQgdG8gYSBzZWxlY3RvciBpbnRlcmFjdGFibGVcbiAgZnVuY3Rpb24gZGVsZWdhdGVMaXN0ZW5lcihldmVudDogRXZlbnQgfCBGYWtlRXZlbnQsIG9wdGlvbmFsQXJnPzogYW55KSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGdldE9wdGlvbnMob3B0aW9uYWxBcmcpXG4gICAgY29uc3QgZmFrZUV2ZW50ID0gbmV3IEZha2VFdmVudChldmVudCBhcyBFdmVudClcbiAgICBjb25zdCBkZWxlZ2F0ZXMgPSBkZWxlZ2F0ZWRFdmVudHNbZXZlbnQudHlwZV1cbiAgICBjb25zdCBbZXZlbnRUYXJnZXRdID0gcG9pbnRlclV0aWxzLmdldEV2ZW50VGFyZ2V0cyhldmVudCBhcyBFdmVudClcbiAgICBsZXQgZWxlbWVudDogTm9kZSA9IGV2ZW50VGFyZ2V0XG5cbiAgICAvLyBjbGltYiB1cCBkb2N1bWVudCB0cmVlIGxvb2tpbmcgZm9yIHNlbGVjdG9yIG1hdGNoZXNcbiAgICB3aGlsZSAoaXMuZWxlbWVudChlbGVtZW50KSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWxlZ2F0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY3VyID0gZGVsZWdhdGVzW2ldXG4gICAgICAgIGNvbnN0IHsgc2VsZWN0b3IsIGNvbnRleHQgfSA9IGN1clxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBkb21VdGlscy5tYXRjaGVzU2VsZWN0b3IoZWxlbWVudCwgc2VsZWN0b3IpICYmXG4gICAgICAgICAgZG9tVXRpbHMubm9kZUNvbnRhaW5zKGNvbnRleHQsIGV2ZW50VGFyZ2V0KSAmJlxuICAgICAgICAgIGRvbVV0aWxzLm5vZGVDb250YWlucyhjb250ZXh0LCBlbGVtZW50KVxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCB7IGxpc3RlbmVycyB9ID0gY3VyXG5cbiAgICAgICAgICBmYWtlRXZlbnQuY3VycmVudFRhcmdldCA9IGVsZW1lbnRcblxuICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9uc01hdGNoKGVudHJ5Lm9wdGlvbnMsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICAgIGVudHJ5LmZ1bmMoZmFrZUV2ZW50KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBlbGVtZW50ID0gZG9tVXRpbHMucGFyZW50Tm9kZShlbGVtZW50KVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGVnYXRlVXNlQ2FwdHVyZSh0aGlzOiBFbGVtZW50LCBldmVudDogRXZlbnQgfCBGYWtlRXZlbnQpIHtcbiAgICByZXR1cm4gZGVsZWdhdGVMaXN0ZW5lci5jYWxsKHRoaXMsIGV2ZW50LCB0cnVlKVxuICB9XG5cbiAgLy8gZm9yIHR5cGUgaW5mZXJyZW5jZVxuICByZXR1cm4gZXZlbnRzTWV0aG9kc1xufVxuXG5jbGFzcyBGYWtlRXZlbnQgaW1wbGVtZW50cyBQYXJ0aWFsPEV2ZW50PiB7XG4gIGN1cnJlbnRUYXJnZXQ6IE5vZGVcbiAgb3JpZ2luYWxFdmVudDogRXZlbnRcbiAgdHlwZTogc3RyaW5nXG5cbiAgY29uc3RydWN0b3Iob3JpZ2luYWxFdmVudDogRXZlbnQpIHtcbiAgICB0aGlzLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50XG4gICAgLy8gZHVwbGljYXRlIHRoZSBldmVudCBzbyB0aGF0IGN1cnJlbnRUYXJnZXQgY2FuIGJlIGNoYW5nZWRcbiAgICBwRXh0ZW5kKHRoaXMsIG9yaWdpbmFsRXZlbnQpXG4gIH1cblxuICBwcmV2ZW50T3JpZ2luYWxEZWZhdWx0KCkge1xuICAgIHRoaXMub3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gIH1cblxuICBzdG9wUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gIH1cblxuICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0T3B0aW9ucyhwYXJhbTogeyBbaW5kZXg6IHN0cmluZ106IGFueSB9IHwgYm9vbGVhbik6IHsgY2FwdHVyZTogYm9vbGVhbjsgcGFzc2l2ZTogYm9vbGVhbiB9IHtcbiAgaWYgKCFpcy5vYmplY3QocGFyYW0pKSB7XG4gICAgcmV0dXJuIHsgY2FwdHVyZTogISFwYXJhbSwgcGFzc2l2ZTogZmFsc2UgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBjYXB0dXJlOiAhIXBhcmFtLmNhcHR1cmUsXG4gICAgcGFzc2l2ZTogISFwYXJhbS5wYXNzaXZlLFxuICB9XG59XG5cbmZ1bmN0aW9uIG9wdGlvbnNNYXRjaChhOiBQYXJ0aWFsPEV2ZW50T3B0aW9ucz4gfCBib29sZWFuLCBiOiBQYXJ0aWFsPEV2ZW50T3B0aW9ucz4pIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlXG5cbiAgaWYgKHR5cGVvZiBhID09PSAnYm9vbGVhbicpIHJldHVybiAhIWIuY2FwdHVyZSA9PT0gYSAmJiAhIWIucGFzc2l2ZSA9PT0gZmFsc2VcblxuICByZXR1cm4gISFhLmNhcHR1cmUgPT09ICEhYi5jYXB0dXJlICYmICEhYS5wYXNzaXZlID09PSAhIWIucGFzc2l2ZVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlkOiAnZXZlbnRzJyxcbiAgaW5zdGFsbCxcbn1cbiIsICJpbXBvcnQgKiBhcyBkb20gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5cbmltcG9ydCB0eXBlIEludGVyYWN0aW9uIGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFNjb3BlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgUG9pbnRlclR5cGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlYXJjaERldGFpbHMge1xuICBwb2ludGVyOiBQb2ludGVyVHlwZVxuICBwb2ludGVySWQ6IG51bWJlclxuICBwb2ludGVyVHlwZTogc3RyaW5nXG4gIGV2ZW50VHlwZTogc3RyaW5nXG4gIGV2ZW50VGFyZ2V0OiBFdmVudFRhcmdldFxuICBjdXJFdmVudFRhcmdldDogRXZlbnRUYXJnZXRcbiAgc2NvcGU6IFNjb3BlXG59XG5cbmNvbnN0IGZpbmRlciA9IHtcbiAgbWV0aG9kT3JkZXI6IFsnc2ltdWxhdGlvblJlc3VtZScsICdtb3VzZU9yUGVuJywgJ2hhc1BvaW50ZXInLCAnaWRsZSddIGFzIGNvbnN0LFxuXG4gIHNlYXJjaChkZXRhaWxzOiBTZWFyY2hEZXRhaWxzKSB7XG4gICAgZm9yIChjb25zdCBtZXRob2Qgb2YgZmluZGVyLm1ldGhvZE9yZGVyKSB7XG4gICAgICBjb25zdCBpbnRlcmFjdGlvbiA9IGZpbmRlclttZXRob2RdKGRldGFpbHMpXG5cbiAgICAgIGlmIChpbnRlcmFjdGlvbikge1xuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbFxuICB9LFxuXG4gIC8vIHRyeSB0byByZXN1bWUgc2ltdWxhdGlvbiB3aXRoIGEgbmV3IHBvaW50ZXJcbiAgc2ltdWxhdGlvblJlc3VtZSh7IHBvaW50ZXJUeXBlLCBldmVudFR5cGUsIGV2ZW50VGFyZ2V0LCBzY29wZSB9OiBTZWFyY2hEZXRhaWxzKSB7XG4gICAgaWYgKCEvZG93bnxzdGFydC9pLnRlc3QoZXZlbnRUeXBlKSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGludGVyYWN0aW9uIG9mIHNjb3BlLmludGVyYWN0aW9ucy5saXN0KSB7XG4gICAgICBsZXQgZWxlbWVudCA9IGV2ZW50VGFyZ2V0IGFzIE5vZGVcblxuICAgICAgaWYgKFxuICAgICAgICBpbnRlcmFjdGlvbi5zaW11bGF0aW9uICYmXG4gICAgICAgIGludGVyYWN0aW9uLnNpbXVsYXRpb24uYWxsb3dSZXN1bWUgJiZcbiAgICAgICAgaW50ZXJhY3Rpb24ucG9pbnRlclR5cGUgPT09IHBvaW50ZXJUeXBlXG4gICAgICApIHtcbiAgICAgICAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICAgICAgICAvLyBpZiB0aGUgZWxlbWVudCBpcyB0aGUgaW50ZXJhY3Rpb24gZWxlbWVudFxuICAgICAgICAgIGlmIChlbGVtZW50ID09PSBpbnRlcmFjdGlvbi5lbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxlbWVudCA9IGRvbS5wYXJlbnROb2RlKGVsZW1lbnQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbFxuICB9LFxuXG4gIC8vIGlmIGl0J3MgYSBtb3VzZSBvciBwZW4gaW50ZXJhY3Rpb25cbiAgbW91c2VPclBlbih7IHBvaW50ZXJJZCwgcG9pbnRlclR5cGUsIGV2ZW50VHlwZSwgc2NvcGUgfTogU2VhcmNoRGV0YWlscykge1xuICAgIGlmIChwb2ludGVyVHlwZSAhPT0gJ21vdXNlJyAmJiBwb2ludGVyVHlwZSAhPT0gJ3BlbicpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgbGV0IGZpcnN0Tm9uQWN0aXZlXG5cbiAgICBmb3IgKGNvbnN0IGludGVyYWN0aW9uIG9mIHNjb3BlLmludGVyYWN0aW9ucy5saXN0KSB7XG4gICAgICBpZiAoaW50ZXJhY3Rpb24ucG9pbnRlclR5cGUgPT09IHBvaW50ZXJUeXBlKSB7XG4gICAgICAgIC8vIGlmIGl0J3MgYSBkb3duIGV2ZW50LCBza2lwIGludGVyYWN0aW9ucyB3aXRoIHJ1bm5pbmcgc2ltdWxhdGlvbnNcbiAgICAgICAgaWYgKGludGVyYWN0aW9uLnNpbXVsYXRpb24gJiYgIWhhc1BvaW50ZXJJZChpbnRlcmFjdGlvbiwgcG9pbnRlcklkKSkge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGUgaW50ZXJhY3Rpb24gaXMgYWN0aXZlLCByZXR1cm4gaXQgaW1tZWRpYXRlbHlcbiAgICAgICAgaWYgKGludGVyYWN0aW9uLmludGVyYWN0aW5nKCkpIHtcbiAgICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25cbiAgICAgICAgfVxuICAgICAgICAvLyBvdGhlcndpc2Ugc2F2ZSBpdCBhbmQgbG9vayBmb3IgYW5vdGhlciBhY3RpdmUgaW50ZXJhY3Rpb25cbiAgICAgICAgZWxzZSBpZiAoIWZpcnN0Tm9uQWN0aXZlKSB7XG4gICAgICAgICAgZmlyc3ROb25BY3RpdmUgPSBpbnRlcmFjdGlvblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaWYgbm8gYWN0aXZlIG1vdXNlIGludGVyYWN0aW9uIHdhcyBmb3VuZCB1c2UgdGhlIGZpcnN0IGluYWN0aXZlIG1vdXNlXG4gICAgLy8gaW50ZXJhY3Rpb25cbiAgICBpZiAoZmlyc3ROb25BY3RpdmUpIHtcbiAgICAgIHJldHVybiBmaXJzdE5vbkFjdGl2ZVxuICAgIH1cblxuICAgIC8vIGZpbmQgYW55IG1vdXNlIG9yIHBlbiBpbnRlcmFjdGlvbi5cbiAgICAvLyBpZ25vcmUgdGhlIGludGVyYWN0aW9uIGlmIHRoZSBldmVudFR5cGUgaXMgYSAqZG93biwgYW5kIGEgc2ltdWxhdGlvblxuICAgIC8vIGlzIGFjdGl2ZVxuICAgIGZvciAoY29uc3QgaW50ZXJhY3Rpb24gb2Ygc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QpIHtcbiAgICAgIGlmIChpbnRlcmFjdGlvbi5wb2ludGVyVHlwZSA9PT0gcG9pbnRlclR5cGUgJiYgISgvZG93bi9pLnRlc3QoZXZlbnRUeXBlKSAmJiBpbnRlcmFjdGlvbi5zaW11bGF0aW9uKSkge1xuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbFxuICB9LFxuXG4gIC8vIGdldCBpbnRlcmFjdGlvbiB0aGF0IGhhcyB0aGlzIHBvaW50ZXJcbiAgaGFzUG9pbnRlcih7IHBvaW50ZXJJZCwgc2NvcGUgfTogU2VhcmNoRGV0YWlscykge1xuICAgIGZvciAoY29uc3QgaW50ZXJhY3Rpb24gb2Ygc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QpIHtcbiAgICAgIGlmIChoYXNQb2ludGVySWQoaW50ZXJhY3Rpb24sIHBvaW50ZXJJZCkpIHtcbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGxcbiAgfSxcblxuICAvLyBnZXQgZmlyc3QgaWRsZSBpbnRlcmFjdGlvbiB3aXRoIGEgbWF0Y2hpbmcgcG9pbnRlclR5cGVcbiAgaWRsZSh7IHBvaW50ZXJUeXBlLCBzY29wZSB9OiBTZWFyY2hEZXRhaWxzKSB7XG4gICAgZm9yIChjb25zdCBpbnRlcmFjdGlvbiBvZiBzY29wZS5pbnRlcmFjdGlvbnMubGlzdCkge1xuICAgICAgLy8gaWYgdGhlcmUncyBhbHJlYWR5IGEgcG9pbnRlciBoZWxkIGRvd25cbiAgICAgIGlmIChpbnRlcmFjdGlvbi5wb2ludGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlXG4gICAgICAgIC8vIGRvbid0IGFkZCB0aGlzIHBvaW50ZXIgaWYgdGhlcmUgaXMgYSB0YXJnZXQgaW50ZXJhY3RhYmxlIGFuZCBpdFxuICAgICAgICAvLyBpc24ndCBnZXN0dXJhYmxlXG4gICAgICAgIGlmICh0YXJnZXQgJiYgISh0YXJnZXQub3B0aW9ucy5nZXN0dXJlICYmIHRhcmdldC5vcHRpb25zLmdlc3R1cmUuZW5hYmxlZCkpIHtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBtYXhpbXVtIG9mIDIgcG9pbnRlcnMgcGVyIGludGVyYWN0aW9uXG4gICAgICBlbHNlIGlmIChpbnRlcmFjdGlvbi5wb2ludGVycy5sZW5ndGggPj0gMikge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBpZiAoIWludGVyYWN0aW9uLmludGVyYWN0aW5nKCkgJiYgcG9pbnRlclR5cGUgPT09IGludGVyYWN0aW9uLnBvaW50ZXJUeXBlKSB7XG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvblxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsXG4gIH0sXG59XG5cbmZ1bmN0aW9uIGhhc1BvaW50ZXJJZChpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24sIHBvaW50ZXJJZDogbnVtYmVyKSB7XG4gIHJldHVybiBpbnRlcmFjdGlvbi5wb2ludGVycy5zb21lKCh7IGlkIH0pID0+IGlkID09PSBwb2ludGVySWQpXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZpbmRlclxuIiwgImltcG9ydCBicm93c2VyIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2Jyb3dzZXInXG5pbXBvcnQgZG9tT2JqZWN0cyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9kb21PYmplY3RzJ1xuaW1wb3J0IHsgbm9kZUNvbnRhaW5zIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5pbXBvcnQgKiBhcyBwb2ludGVyVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcG9pbnRlclV0aWxzJ1xuXG5pbXBvcnQgdHlwZSB7IFNjb3BlLCBTaWduYWxBcmdzLCBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25OYW1lLCBMaXN0ZW5lciB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzIC0tIGZvciB0eXBlc2NyaXB0IG1vZHVsZSBhdWdtZW50YXRpb25zICovXG5pbXBvcnQgJy4vaW50ZXJhY3RhYmxlUHJldmVudERlZmF1bHQnXG5pbXBvcnQgaW50ZXJhY3RhYmxlUHJldmVudERlZmF1bHQgZnJvbSAnLi9pbnRlcmFjdGFibGVQcmV2ZW50RGVmYXVsdCdcbmltcG9ydCBJbnRlcmFjdGlvbkJhc2UgZnJvbSAnLi9JbnRlcmFjdGlvbidcbi8qIGVzbGludC1lbmFibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgKi9cbmltcG9ydCB0eXBlIHsgU2VhcmNoRGV0YWlscyB9IGZyb20gJy4vaW50ZXJhY3Rpb25GaW5kZXInXG5pbXBvcnQgZmluZGVyIGZyb20gJy4vaW50ZXJhY3Rpb25GaW5kZXInXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJyB7XG4gIGludGVyZmFjZSBTY29wZSB7XG4gICAgSW50ZXJhY3Rpb246IHR5cGVvZiBJbnRlcmFjdGlvbkJhc2VcbiAgICBpbnRlcmFjdGlvbnM6IHtcbiAgICAgIG5ldzogPFQgZXh0ZW5kcyBBY3Rpb25OYW1lPihvcHRpb25zOiBhbnkpID0+IEludGVyYWN0aW9uQmFzZTxUPlxuICAgICAgbGlzdDogQXJyYXk8SW50ZXJhY3Rpb25CYXNlPEFjdGlvbk5hbWU+PlxuICAgICAgbGlzdGVuZXJzOiB7IFt0eXBlOiBzdHJpbmddOiBMaXN0ZW5lciB9XG4gICAgICBkb2NFdmVudHM6IEFycmF5PHsgdHlwZTogc3RyaW5nOyBsaXN0ZW5lcjogTGlzdGVuZXIgfT5cbiAgICAgIHBvaW50ZXJNb3ZlVG9sZXJhbmNlOiBudW1iZXJcbiAgICB9XG4gICAgcHJldlRvdWNoVGltZTogbnVtYmVyXG4gIH1cblxuICBpbnRlcmZhY2UgU2lnbmFsQXJncyB7XG4gICAgJ2ludGVyYWN0aW9uczpmaW5kJzoge1xuICAgICAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uQmFzZVxuICAgICAgc2VhcmNoRGV0YWlsczogU2VhcmNoRGV0YWlsc1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBtZXRob2ROYW1lcyA9IFtcbiAgJ3BvaW50ZXJEb3duJyxcbiAgJ3BvaW50ZXJNb3ZlJyxcbiAgJ3BvaW50ZXJVcCcsXG4gICd1cGRhdGVQb2ludGVyJyxcbiAgJ3JlbW92ZVBvaW50ZXInLFxuICAnd2luZG93Qmx1cicsXG5dXG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IGxpc3RlbmVycyA9IHt9IGFzIGFueVxuXG4gIGZvciAoY29uc3QgbWV0aG9kIG9mIG1ldGhvZE5hbWVzKSB7XG4gICAgbGlzdGVuZXJzW21ldGhvZF0gPSBkb09uSW50ZXJhY3Rpb25zKG1ldGhvZCwgc2NvcGUpXG4gIH1cblxuICBjb25zdCBwRXZlbnRUeXBlcyA9IGJyb3dzZXIucEV2ZW50VHlwZXNcbiAgbGV0IGRvY0V2ZW50czogdHlwZW9mIHNjb3BlLmludGVyYWN0aW9ucy5kb2NFdmVudHNcblxuICBpZiAoZG9tT2JqZWN0cy5Qb2ludGVyRXZlbnQpIHtcbiAgICBkb2NFdmVudHMgPSBbXG4gICAgICB7IHR5cGU6IHBFdmVudFR5cGVzLmRvd24sIGxpc3RlbmVyOiByZWxlYXNlUG9pbnRlcnNPblJlbW92ZWRFbHMgfSxcbiAgICAgIHsgdHlwZTogcEV2ZW50VHlwZXMuZG93biwgbGlzdGVuZXI6IGxpc3RlbmVycy5wb2ludGVyRG93biB9LFxuICAgICAgeyB0eXBlOiBwRXZlbnRUeXBlcy5tb3ZlLCBsaXN0ZW5lcjogbGlzdGVuZXJzLnBvaW50ZXJNb3ZlIH0sXG4gICAgICB7IHR5cGU6IHBFdmVudFR5cGVzLnVwLCBsaXN0ZW5lcjogbGlzdGVuZXJzLnBvaW50ZXJVcCB9LFxuICAgICAgeyB0eXBlOiBwRXZlbnRUeXBlcy5jYW5jZWwsIGxpc3RlbmVyOiBsaXN0ZW5lcnMucG9pbnRlclVwIH0sXG4gICAgXVxuICB9IGVsc2Uge1xuICAgIGRvY0V2ZW50cyA9IFtcbiAgICAgIHsgdHlwZTogJ21vdXNlZG93bicsIGxpc3RlbmVyOiBsaXN0ZW5lcnMucG9pbnRlckRvd24gfSxcbiAgICAgIHsgdHlwZTogJ21vdXNlbW92ZScsIGxpc3RlbmVyOiBsaXN0ZW5lcnMucG9pbnRlck1vdmUgfSxcbiAgICAgIHsgdHlwZTogJ21vdXNldXAnLCBsaXN0ZW5lcjogbGlzdGVuZXJzLnBvaW50ZXJVcCB9LFxuXG4gICAgICB7IHR5cGU6ICd0b3VjaHN0YXJ0JywgbGlzdGVuZXI6IHJlbGVhc2VQb2ludGVyc09uUmVtb3ZlZEVscyB9LFxuICAgICAgeyB0eXBlOiAndG91Y2hzdGFydCcsIGxpc3RlbmVyOiBsaXN0ZW5lcnMucG9pbnRlckRvd24gfSxcbiAgICAgIHsgdHlwZTogJ3RvdWNobW92ZScsIGxpc3RlbmVyOiBsaXN0ZW5lcnMucG9pbnRlck1vdmUgfSxcbiAgICAgIHsgdHlwZTogJ3RvdWNoZW5kJywgbGlzdGVuZXI6IGxpc3RlbmVycy5wb2ludGVyVXAgfSxcbiAgICAgIHsgdHlwZTogJ3RvdWNoY2FuY2VsJywgbGlzdGVuZXI6IGxpc3RlbmVycy5wb2ludGVyVXAgfSxcbiAgICBdXG4gIH1cblxuICBkb2NFdmVudHMucHVzaCh7XG4gICAgdHlwZTogJ2JsdXInLFxuICAgIGxpc3RlbmVyKGV2ZW50KSB7XG4gICAgICBmb3IgKGNvbnN0IGludGVyYWN0aW9uIG9mIHNjb3BlLmludGVyYWN0aW9ucy5saXN0KSB7XG4gICAgICAgIGludGVyYWN0aW9uLmRvY3VtZW50Qmx1cihldmVudClcbiAgICAgIH1cbiAgICB9LFxuICB9KVxuXG4gIC8vIGZvciBpZ25vcmluZyBicm93c2VyJ3Mgc2ltdWxhdGVkIG1vdXNlIGV2ZW50c1xuICBzY29wZS5wcmV2VG91Y2hUaW1lID0gMFxuXG4gIHNjb3BlLkludGVyYWN0aW9uID0gY2xhc3M8VCBleHRlbmRzIEFjdGlvbk5hbWU+IGV4dGVuZHMgSW50ZXJhY3Rpb25CYXNlPFQ+IHtcbiAgICBnZXQgcG9pbnRlck1vdmVUb2xlcmFuY2UoKSB7XG4gICAgICByZXR1cm4gc2NvcGUuaW50ZXJhY3Rpb25zLnBvaW50ZXJNb3ZlVG9sZXJhbmNlXG4gICAgfVxuXG4gICAgc2V0IHBvaW50ZXJNb3ZlVG9sZXJhbmNlKHZhbHVlKSB7XG4gICAgICBzY29wZS5pbnRlcmFjdGlvbnMucG9pbnRlck1vdmVUb2xlcmFuY2UgPSB2YWx1ZVxuICAgIH1cblxuICAgIF9ub3coKSB7XG4gICAgICByZXR1cm4gc2NvcGUubm93KClcbiAgICB9XG4gIH1cblxuICBzY29wZS5pbnRlcmFjdGlvbnMgPSB7XG4gICAgLy8gYWxsIGFjdGl2ZSBhbmQgaWRsZSBpbnRlcmFjdGlvbnNcbiAgICBsaXN0OiBbXSxcbiAgICBuZXc8VCBleHRlbmRzIEFjdGlvbk5hbWU+KG9wdGlvbnM6IHsgcG9pbnRlclR5cGU/OiBzdHJpbmc7IHNjb3BlRmlyZT86IFNjb3BlWydmaXJlJ10gfSkge1xuICAgICAgb3B0aW9ucy5zY29wZUZpcmUgPSAobmFtZSwgYXJnKSA9PiBzY29wZS5maXJlKG5hbWUsIGFyZylcblxuICAgICAgY29uc3QgaW50ZXJhY3Rpb24gPSBuZXcgc2NvcGUuSW50ZXJhY3Rpb248VD4ob3B0aW9ucyBhcyBSZXF1aXJlZDx0eXBlb2Ygb3B0aW9ucz4pXG5cbiAgICAgIHNjb3BlLmludGVyYWN0aW9ucy5saXN0LnB1c2goaW50ZXJhY3Rpb24pXG4gICAgICByZXR1cm4gaW50ZXJhY3Rpb25cbiAgICB9LFxuICAgIGxpc3RlbmVycyxcbiAgICBkb2NFdmVudHMsXG4gICAgcG9pbnRlck1vdmVUb2xlcmFuY2U6IDEsXG4gIH1cblxuICBmdW5jdGlvbiByZWxlYXNlUG9pbnRlcnNPblJlbW92ZWRFbHMoKSB7XG4gICAgLy8gZm9yIGFsbCBpbmFjdGl2ZSB0b3VjaCBpbnRlcmFjdGlvbnMgd2l0aCBwb2ludGVycyBkb3duXG4gICAgZm9yIChjb25zdCBpbnRlcmFjdGlvbiBvZiBzY29wZS5pbnRlcmFjdGlvbnMubGlzdCkge1xuICAgICAgaWYgKCFpbnRlcmFjdGlvbi5wb2ludGVySXNEb3duIHx8IGludGVyYWN0aW9uLnBvaW50ZXJUeXBlICE9PSAndG91Y2gnIHx8IGludGVyYWN0aW9uLl9pbnRlcmFjdGluZykge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyBpZiBhIHBvaW50ZXIgaXMgZG93biBvbiBhbiBlbGVtZW50IHRoYXQgaXMgbm8gbG9uZ2VyIGluIHRoZSBET00gdHJlZVxuICAgICAgZm9yIChjb25zdCBwb2ludGVyIG9mIGludGVyYWN0aW9uLnBvaW50ZXJzKSB7XG4gICAgICAgIGlmICghc2NvcGUuZG9jdW1lbnRzLnNvbWUoKHsgZG9jIH0pID0+IG5vZGVDb250YWlucyhkb2MsIHBvaW50ZXIuZG93blRhcmdldCkpKSB7XG4gICAgICAgICAgLy8gcmVtb3ZlIHRoZSBwb2ludGVyIGZyb20gdGhlIGludGVyYWN0aW9uXG4gICAgICAgICAgaW50ZXJhY3Rpb24ucmVtb3ZlUG9pbnRlcihwb2ludGVyLnBvaW50ZXIsIHBvaW50ZXIuZXZlbnQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzY29wZS51c2VQbHVnaW4oaW50ZXJhY3RhYmxlUHJldmVudERlZmF1bHQpXG59XG5cbmZ1bmN0aW9uIGRvT25JbnRlcmFjdGlvbnMobWV0aG9kOiBzdHJpbmcsIHNjb3BlOiBTY29wZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50OiBFdmVudCkge1xuICAgIGNvbnN0IGludGVyYWN0aW9ucyA9IHNjb3BlLmludGVyYWN0aW9ucy5saXN0XG5cbiAgICBjb25zdCBwb2ludGVyVHlwZSA9IHBvaW50ZXJVdGlscy5nZXRQb2ludGVyVHlwZShldmVudClcbiAgICBjb25zdCBbZXZlbnRUYXJnZXQsIGN1ckV2ZW50VGFyZ2V0XSA9IHBvaW50ZXJVdGlscy5nZXRFdmVudFRhcmdldHMoZXZlbnQpXG4gICAgY29uc3QgbWF0Y2hlczogYW55W10gPSBbXSAvLyBbIFtwb2ludGVyLCBpbnRlcmFjdGlvbl0sIC4uLl1cblxuICAgIGlmICgvXnRvdWNoLy50ZXN0KGV2ZW50LnR5cGUpKSB7XG4gICAgICBzY29wZS5wcmV2VG91Y2hUaW1lID0gc2NvcGUubm93KClcblxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgZm9yIChjb25zdCBjaGFuZ2VkVG91Y2ggb2YgZXZlbnQuY2hhbmdlZFRvdWNoZXMpIHtcbiAgICAgICAgY29uc3QgcG9pbnRlciA9IGNoYW5nZWRUb3VjaFxuICAgICAgICBjb25zdCBwb2ludGVySWQgPSBwb2ludGVyVXRpbHMuZ2V0UG9pbnRlcklkKHBvaW50ZXIpXG4gICAgICAgIGNvbnN0IHNlYXJjaERldGFpbHM6IFNlYXJjaERldGFpbHMgPSB7XG4gICAgICAgICAgcG9pbnRlcixcbiAgICAgICAgICBwb2ludGVySWQsXG4gICAgICAgICAgcG9pbnRlclR5cGUsXG4gICAgICAgICAgZXZlbnRUeXBlOiBldmVudC50eXBlLFxuICAgICAgICAgIGV2ZW50VGFyZ2V0LFxuICAgICAgICAgIGN1ckV2ZW50VGFyZ2V0LFxuICAgICAgICAgIHNjb3BlLFxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGludGVyYWN0aW9uID0gZ2V0SW50ZXJhY3Rpb24oc2VhcmNoRGV0YWlscylcblxuICAgICAgICBtYXRjaGVzLnB1c2goW1xuICAgICAgICAgIHNlYXJjaERldGFpbHMucG9pbnRlcixcbiAgICAgICAgICBzZWFyY2hEZXRhaWxzLmV2ZW50VGFyZ2V0LFxuICAgICAgICAgIHNlYXJjaERldGFpbHMuY3VyRXZlbnRUYXJnZXQsXG4gICAgICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICAgIF0pXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBpbnZhbGlkUG9pbnRlciA9IGZhbHNlXG5cbiAgICAgIGlmICghYnJvd3Nlci5zdXBwb3J0c1BvaW50ZXJFdmVudCAmJiAvbW91c2UvLnRlc3QoZXZlbnQudHlwZSkpIHtcbiAgICAgICAgLy8gaWdub3JlIG1vdXNlIGV2ZW50cyB3aGlsZSB0b3VjaCBpbnRlcmFjdGlvbnMgYXJlIGFjdGl2ZVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGludGVyYWN0aW9ucy5sZW5ndGggJiYgIWludmFsaWRQb2ludGVyOyBpKyspIHtcbiAgICAgICAgICBpbnZhbGlkUG9pbnRlciA9IGludGVyYWN0aW9uc1tpXS5wb2ludGVyVHlwZSAhPT0gJ21vdXNlJyAmJiBpbnRlcmFjdGlvbnNbaV0ucG9pbnRlcklzRG93blxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHJ5IHRvIGlnbm9yZSBtb3VzZSBldmVudHMgdGhhdCBhcmUgc2ltdWxhdGVkIGJ5IHRoZSBicm93c2VyXG4gICAgICAgIC8vIGFmdGVyIGEgdG91Y2ggZXZlbnRcbiAgICAgICAgaW52YWxpZFBvaW50ZXIgPVxuICAgICAgICAgIGludmFsaWRQb2ludGVyIHx8XG4gICAgICAgICAgc2NvcGUubm93KCkgLSBzY29wZS5wcmV2VG91Y2hUaW1lIDwgNTAwIHx8XG4gICAgICAgICAgLy8gb24gaU9TIGFuZCBGaXJlZm94IE1vYmlsZSwgTW91c2VFdmVudC50aW1lU3RhbXAgaXMgemVybyBpZiBzaW11bGF0ZWRcbiAgICAgICAgICBldmVudC50aW1lU3RhbXAgPT09IDBcbiAgICAgIH1cblxuICAgICAgaWYgKCFpbnZhbGlkUG9pbnRlcikge1xuICAgICAgICBjb25zdCBzZWFyY2hEZXRhaWxzID0ge1xuICAgICAgICAgIHBvaW50ZXI6IGV2ZW50IGFzIFBvaW50ZXJFdmVudCxcbiAgICAgICAgICBwb2ludGVySWQ6IHBvaW50ZXJVdGlscy5nZXRQb2ludGVySWQoZXZlbnQgYXMgUG9pbnRlckV2ZW50KSxcbiAgICAgICAgICBwb2ludGVyVHlwZSxcbiAgICAgICAgICBldmVudFR5cGU6IGV2ZW50LnR5cGUsXG4gICAgICAgICAgY3VyRXZlbnRUYXJnZXQsXG4gICAgICAgICAgZXZlbnRUYXJnZXQsXG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbiA9IGdldEludGVyYWN0aW9uKHNlYXJjaERldGFpbHMpXG5cbiAgICAgICAgbWF0Y2hlcy5wdXNoKFtcbiAgICAgICAgICBzZWFyY2hEZXRhaWxzLnBvaW50ZXIsXG4gICAgICAgICAgc2VhcmNoRGV0YWlscy5ldmVudFRhcmdldCxcbiAgICAgICAgICBzZWFyY2hEZXRhaWxzLmN1ckV2ZW50VGFyZ2V0LFxuICAgICAgICAgIGludGVyYWN0aW9uLFxuICAgICAgICBdKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3dcbiAgICBmb3IgKGNvbnN0IFtwb2ludGVyLCBldmVudFRhcmdldCwgY3VyRXZlbnRUYXJnZXQsIGludGVyYWN0aW9uXSBvZiBtYXRjaGVzKSB7XG4gICAgICBpbnRlcmFjdGlvblttZXRob2RdKHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCwgY3VyRXZlbnRUYXJnZXQpXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldEludGVyYWN0aW9uKHNlYXJjaERldGFpbHM6IFNlYXJjaERldGFpbHMpIHtcbiAgY29uc3QgeyBwb2ludGVyVHlwZSwgc2NvcGUgfSA9IHNlYXJjaERldGFpbHNcblxuICBjb25zdCBmb3VuZEludGVyYWN0aW9uID0gZmluZGVyLnNlYXJjaChzZWFyY2hEZXRhaWxzKVxuICBjb25zdCBzaWduYWxBcmcgPSB7IGludGVyYWN0aW9uOiBmb3VuZEludGVyYWN0aW9uLCBzZWFyY2hEZXRhaWxzIH1cblxuICBzY29wZS5maXJlKCdpbnRlcmFjdGlvbnM6ZmluZCcsIHNpZ25hbEFyZylcblxuICByZXR1cm4gc2lnbmFsQXJnLmludGVyYWN0aW9uIHx8IHNjb3BlLmludGVyYWN0aW9ucy5uZXcoeyBwb2ludGVyVHlwZSB9KVxufVxuXG5mdW5jdGlvbiBvbkRvY1NpZ25hbDxUIGV4dGVuZHMgJ3Njb3BlOmFkZC1kb2N1bWVudCcgfCAnc2NvcGU6cmVtb3ZlLWRvY3VtZW50Jz4oXG4gIHsgZG9jLCBzY29wZSwgb3B0aW9ucyB9OiBTaWduYWxBcmdzW1RdLFxuICBldmVudE1ldGhvZE5hbWU6ICdhZGQnIHwgJ3JlbW92ZScsXG4pIHtcbiAgY29uc3Qge1xuICAgIGludGVyYWN0aW9uczogeyBkb2NFdmVudHMgfSxcbiAgICBldmVudHMsXG4gIH0gPSBzY29wZVxuICBjb25zdCBldmVudE1ldGhvZCA9IGV2ZW50c1tldmVudE1ldGhvZE5hbWVdXG5cbiAgaWYgKHNjb3BlLmJyb3dzZXIuaXNJT1MgJiYgIW9wdGlvbnMuZXZlbnRzKSB7XG4gICAgb3B0aW9ucy5ldmVudHMgPSB7IHBhc3NpdmU6IGZhbHNlIH1cbiAgfVxuXG4gIC8vIGRlbGVnYXRlIGV2ZW50IGxpc3RlbmVyXG4gIGZvciAoY29uc3QgZXZlbnRUeXBlIGluIGV2ZW50cy5kZWxlZ2F0ZWRFdmVudHMpIHtcbiAgICBldmVudE1ldGhvZChkb2MsIGV2ZW50VHlwZSwgZXZlbnRzLmRlbGVnYXRlTGlzdGVuZXIpXG4gICAgZXZlbnRNZXRob2QoZG9jLCBldmVudFR5cGUsIGV2ZW50cy5kZWxlZ2F0ZVVzZUNhcHR1cmUsIHRydWUpXG4gIH1cblxuICBjb25zdCBldmVudE9wdGlvbnMgPSBvcHRpb25zICYmIG9wdGlvbnMuZXZlbnRzXG5cbiAgZm9yIChjb25zdCB7IHR5cGUsIGxpc3RlbmVyIH0gb2YgZG9jRXZlbnRzKSB7XG4gICAgZXZlbnRNZXRob2QoZG9jLCB0eXBlLCBsaXN0ZW5lciwgZXZlbnRPcHRpb25zKVxuICB9XG59XG5cbmNvbnN0IGludGVyYWN0aW9uczogUGx1Z2luID0ge1xuICBpZDogJ2NvcmUvaW50ZXJhY3Rpb25zJyxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ3Njb3BlOmFkZC1kb2N1bWVudCc6IChhcmcpID0+IG9uRG9jU2lnbmFsKGFyZywgJ2FkZCcpLFxuICAgICdzY29wZTpyZW1vdmUtZG9jdW1lbnQnOiAoYXJnKSA9PiBvbkRvY1NpZ25hbChhcmcsICdyZW1vdmUnKSxcbiAgICAnaW50ZXJhY3RhYmxlOnVuc2V0JzogKHsgaW50ZXJhY3RhYmxlIH0sIHNjb3BlKSA9PiB7XG4gICAgICAvLyBTdG9wIGFuZCBkZXN0cm95IHJlbGF0ZWQgaW50ZXJhY3Rpb25zIHdoZW4gYW4gSW50ZXJhY3RhYmxlIGlzIHVuc2V0XG4gICAgICBmb3IgKGxldCBpID0gc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb24gPSBzY29wZS5pbnRlcmFjdGlvbnMubGlzdFtpXVxuXG4gICAgICAgIGlmIChpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUgIT09IGludGVyYWN0YWJsZSkge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBpbnRlcmFjdGlvbi5zdG9wKClcbiAgICAgICAgc2NvcGUuZmlyZSgnaW50ZXJhY3Rpb25zOmRlc3Ryb3knLCB7IGludGVyYWN0aW9uIH0pXG4gICAgICAgIGludGVyYWN0aW9uLmRlc3Ryb3koKVxuXG4gICAgICAgIGlmIChzY29wZS5pbnRlcmFjdGlvbnMubGlzdC5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3Quc3BsaWNlKGksIDEpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICB9LFxuICBvbkRvY1NpZ25hbCxcbiAgZG9PbkludGVyYWN0aW9ucyxcbiAgbWV0aG9kTmFtZXMsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGludGVyYWN0aW9uc1xuIiwgIi8qIGVzbGludC1kaXNhYmxlIG5vLWR1cGUtY2xhc3MtbWVtYmVycyAqL1xuaW1wb3J0ICogYXMgYXJyIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2FycidcbmltcG9ydCBicm93c2VyIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2Jyb3dzZXInXG5pbXBvcnQgY2xvbmUgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvY2xvbmUnXG5pbXBvcnQgeyBnZXRFbGVtZW50UmVjdCwgbWF0Y2hlc1VwVG8sIG5vZGVDb250YWlucywgdHJ5U2VsZWN0b3IgfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscydcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuaW1wb3J0IGlzTm9uTmF0aXZlRXZlbnQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXNOb25OYXRpdmVFdmVudCdcbmltcG9ydCBub3JtYWxpemVMaXN0ZW5lcnMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvbm9ybWFsaXplTGlzdGVuZXJzJ1xuaW1wb3J0IHsgZ2V0V2luZG93IH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvd2luZG93J1xuXG5pbXBvcnQgdHlwZSB7IFNjb3BlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHtcbiAgQWN0aW9uTWFwLFxuICBBY3Rpb25NZXRob2QsXG4gIEFjdGlvbk5hbWUsXG4gIEFjdGlvbnMsXG4gIENvbnRleHQsXG4gIEVsZW1lbnQsXG4gIEV2ZW50VHlwZXMsXG4gIExpc3RlbmVycyxcbiAgTGlzdGVuZXJzQXJnLFxuICBPckJvb2xlYW4sXG4gIFRhcmdldCxcbn0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuaW1wb3J0IHsgRXZlbnRhYmxlIH0gZnJvbSAnLi9FdmVudGFibGUnXG5pbXBvcnQgdHlwZSB7IEFjdGlvbkRlZmF1bHRzLCBEZWZhdWx0cywgT3B0aW9uc0FyZywgUGVyQWN0aW9uRGVmYXVsdHMsIE9wdGlvbnMgfSBmcm9tICcuL29wdGlvbnMnXG5cbnR5cGUgSWdub3JlVmFsdWUgPSBzdHJpbmcgfCBFbGVtZW50IHwgYm9vbGVhblxudHlwZSBEZWx0YVNvdXJjZSA9ICdwYWdlJyB8ICdjbGllbnQnXG5cbmNvbnN0IGVudW0gT25PZmZNZXRob2Qge1xuICBPbixcbiAgT2ZmLFxufVxuXG4vKipcbiAqIGBgYHRzXG4gKiBjb25zdCBpbnRlcmFjdGFibGUgPSBpbnRlcmFjdCgnLmNhcmRzJylcbiAqICAgLmRyYWdnYWJsZSh7XG4gKiAgICAgbGlzdGVuZXJzOiB7IG1vdmU6IGV2ZW50ID0+IGNvbnNvbGUubG9nKGV2ZW50LnR5cGUsIGV2ZW50LnBhZ2VYLCBldmVudC5wYWdlWSkgfVxuICogICB9KVxuICogICAucmVzaXphYmxlKHtcbiAqICAgICBsaXN0ZW5lcnM6IHsgbW92ZTogZXZlbnQgPT4gY29uc29sZS5sb2coZXZlbnQucmVjdCkgfSxcbiAqICAgICBtb2RpZmllcnM6IFtpbnRlcmFjdC5tb2RpZmllcnMucmVzdHJpY3RFZGdlcyh7IG91dGVyOiAncGFyZW50JyB9KV1cbiAqICAgfSlcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgSW50ZXJhY3RhYmxlIGltcGxlbWVudHMgUGFydGlhbDxFdmVudGFibGU+IHtcbiAgLyoqIEBpbnRlcm5hbCAqLyBnZXQgX2RlZmF1bHRzKCk6IERlZmF1bHRzIHtcbiAgICByZXR1cm4ge1xuICAgICAgYmFzZToge30sXG4gICAgICBwZXJBY3Rpb246IHt9LFxuICAgICAgYWN0aW9uczoge30gYXMgQWN0aW9uRGVmYXVsdHMsXG4gICAgfVxuICB9XG5cbiAgcmVhZG9ubHkgdGFyZ2V0OiBUYXJnZXRcbiAgLyoqIEBpbnRlcm5hbCAqLyByZWFkb25seSBvcHRpb25zITogUmVxdWlyZWQ8T3B0aW9ucz5cbiAgLyoqIEBpbnRlcm5hbCAqLyByZWFkb25seSBfYWN0aW9uczogQWN0aW9uc1xuICAvKiogQGludGVybmFsICovIHJlYWRvbmx5IGV2ZW50cyA9IG5ldyBFdmVudGFibGUoKVxuICAvKiogQGludGVybmFsICovIHJlYWRvbmx5IF9jb250ZXh0OiBDb250ZXh0XG4gIC8qKiBAaW50ZXJuYWwgKi8gcmVhZG9ubHkgX3dpbjogV2luZG93XG4gIC8qKiBAaW50ZXJuYWwgKi8gcmVhZG9ubHkgX2RvYzogRG9jdW1lbnRcbiAgLyoqIEBpbnRlcm5hbCAqLyByZWFkb25seSBfc2NvcGVFdmVudHM6IFNjb3BlWydldmVudHMnXVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHRhcmdldDogVGFyZ2V0LFxuICAgIG9wdGlvbnM6IGFueSxcbiAgICBkZWZhdWx0Q29udGV4dDogRG9jdW1lbnQgfCBFbGVtZW50LFxuICAgIHNjb3BlRXZlbnRzOiBTY29wZVsnZXZlbnRzJ10sXG4gICkge1xuICAgIHRoaXMuX2FjdGlvbnMgPSBvcHRpb25zLmFjdGlvbnNcbiAgICB0aGlzLnRhcmdldCA9IHRhcmdldFxuICAgIHRoaXMuX2NvbnRleHQgPSBvcHRpb25zLmNvbnRleHQgfHwgZGVmYXVsdENvbnRleHRcbiAgICB0aGlzLl93aW4gPSBnZXRXaW5kb3codHJ5U2VsZWN0b3IodGFyZ2V0KSA/IHRoaXMuX2NvbnRleHQgOiB0YXJnZXQpXG4gICAgdGhpcy5fZG9jID0gdGhpcy5fd2luLmRvY3VtZW50XG4gICAgdGhpcy5fc2NvcGVFdmVudHMgPSBzY29wZUV2ZW50c1xuXG4gICAgdGhpcy5zZXQob3B0aW9ucylcbiAgfVxuXG4gIHNldE9uRXZlbnRzKGFjdGlvbk5hbWU6IEFjdGlvbk5hbWUsIHBoYXNlczogTm9uTnVsbGFibGU8YW55Pikge1xuICAgIGlmIChpcy5mdW5jKHBoYXNlcy5vbnN0YXJ0KSkge1xuICAgICAgdGhpcy5vbihgJHthY3Rpb25OYW1lfXN0YXJ0YCwgcGhhc2VzLm9uc3RhcnQpXG4gICAgfVxuICAgIGlmIChpcy5mdW5jKHBoYXNlcy5vbm1vdmUpKSB7XG4gICAgICB0aGlzLm9uKGAke2FjdGlvbk5hbWV9bW92ZWAsIHBoYXNlcy5vbm1vdmUpXG4gICAgfVxuICAgIGlmIChpcy5mdW5jKHBoYXNlcy5vbmVuZCkpIHtcbiAgICAgIHRoaXMub24oYCR7YWN0aW9uTmFtZX1lbmRgLCBwaGFzZXMub25lbmQpXG4gICAgfVxuICAgIGlmIChpcy5mdW5jKHBoYXNlcy5vbmluZXJ0aWFzdGFydCkpIHtcbiAgICAgIHRoaXMub24oYCR7YWN0aW9uTmFtZX1pbmVydGlhc3RhcnRgLCBwaGFzZXMub25pbmVydGlhc3RhcnQpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHVwZGF0ZVBlckFjdGlvbkxpc3RlbmVycyhhY3Rpb25OYW1lOiBBY3Rpb25OYW1lLCBwcmV2OiBMaXN0ZW5lcnMgfCB1bmRlZmluZWQsIGN1cjogTGlzdGVuZXJzIHwgdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgYWN0aW9uRmlsdGVyID0gKHRoaXMuX2FjdGlvbnMubWFwW2FjdGlvbk5hbWVdIGFzIHsgZmlsdGVyRXZlbnRUeXBlPzogKHR5cGU6IHN0cmluZykgPT4gYm9vbGVhbiB9KVxuICAgICAgPy5maWx0ZXJFdmVudFR5cGVcbiAgICBjb25zdCBmaWx0ZXIgPSAodHlwZTogc3RyaW5nKSA9PlxuICAgICAgKGFjdGlvbkZpbHRlciA9PSBudWxsIHx8IGFjdGlvbkZpbHRlcih0eXBlKSkgJiYgaXNOb25OYXRpdmVFdmVudCh0eXBlLCB0aGlzLl9hY3Rpb25zKVxuXG4gICAgaWYgKGlzLmFycmF5KHByZXYpIHx8IGlzLm9iamVjdChwcmV2KSkge1xuICAgICAgdGhpcy5fb25PZmYoT25PZmZNZXRob2QuT2ZmLCBhY3Rpb25OYW1lLCBwcmV2LCB1bmRlZmluZWQsIGZpbHRlcilcbiAgICB9XG5cbiAgICBpZiAoaXMuYXJyYXkoY3VyKSB8fCBpcy5vYmplY3QoY3VyKSkge1xuICAgICAgdGhpcy5fb25PZmYoT25PZmZNZXRob2QuT24sIGFjdGlvbk5hbWUsIGN1ciwgdW5kZWZpbmVkLCBmaWx0ZXIpXG4gICAgfVxuICB9XG5cbiAgc2V0UGVyQWN0aW9uKGFjdGlvbk5hbWU6IEFjdGlvbk5hbWUsIG9wdGlvbnM6IE9yQm9vbGVhbjxPcHRpb25zPikge1xuICAgIGNvbnN0IGRlZmF1bHRzID0gdGhpcy5fZGVmYXVsdHNcblxuICAgIC8vIGZvciBhbGwgdGhlIGRlZmF1bHQgcGVyLWFjdGlvbiBvcHRpb25zXG4gICAgZm9yIChjb25zdCBvcHRpb25OYW1lXyBpbiBvcHRpb25zKSB7XG4gICAgICBjb25zdCBvcHRpb25OYW1lID0gb3B0aW9uTmFtZV8gYXMga2V5b2YgUGVyQWN0aW9uRGVmYXVsdHNcbiAgICAgIGNvbnN0IGFjdGlvbk9wdGlvbnMgPSB0aGlzLm9wdGlvbnNbYWN0aW9uTmFtZV1cbiAgICAgIGNvbnN0IG9wdGlvblZhbHVlOiBhbnkgPSBvcHRpb25zW29wdGlvbk5hbWVdXG5cbiAgICAgIC8vIHJlbW92ZSBvbGQgZXZlbnQgbGlzdGVuZXJzIGFuZCBhZGQgbmV3IG9uZXNcbiAgICAgIGlmIChvcHRpb25OYW1lID09PSAnbGlzdGVuZXJzJykge1xuICAgICAgICB0aGlzLnVwZGF0ZVBlckFjdGlvbkxpc3RlbmVycyhhY3Rpb25OYW1lLCBhY3Rpb25PcHRpb25zLmxpc3RlbmVycywgb3B0aW9uVmFsdWUgYXMgTGlzdGVuZXJzKVxuICAgICAgfVxuXG4gICAgICAvLyBpZiB0aGUgb3B0aW9uIHZhbHVlIGlzIGFuIGFycmF5XG4gICAgICBpZiAoaXMuYXJyYXkob3B0aW9uVmFsdWUpKSB7XG4gICAgICAgIDsoYWN0aW9uT3B0aW9uc1tvcHRpb25OYW1lXSBhcyBhbnkpID0gYXJyLmZyb20ob3B0aW9uVmFsdWUpXG4gICAgICB9XG4gICAgICAvLyBpZiB0aGUgb3B0aW9uIHZhbHVlIGlzIGFuIG9iamVjdFxuICAgICAgZWxzZSBpZiAoaXMucGxhaW5PYmplY3Qob3B0aW9uVmFsdWUpKSB7XG4gICAgICAgIC8vIGNvcHkgdGhlIG9iamVjdFxuICAgICAgICA7KGFjdGlvbk9wdGlvbnNbb3B0aW9uTmFtZV0gYXMgYW55KSA9IGV4dGVuZChcbiAgICAgICAgICBhY3Rpb25PcHRpb25zW29wdGlvbk5hbWVdIHx8ICh7fSBhcyBhbnkpLFxuICAgICAgICAgIGNsb25lKG9wdGlvblZhbHVlKSxcbiAgICAgICAgKVxuXG4gICAgICAgIC8vIHNldCBhbmFibGVkIGZpZWxkIHRvIHRydWUgaWYgaXQgZXhpc3RzIGluIHRoZSBkZWZhdWx0c1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaXMub2JqZWN0KGRlZmF1bHRzLnBlckFjdGlvbltvcHRpb25OYW1lXSkgJiZcbiAgICAgICAgICAnZW5hYmxlZCcgaW4gKGRlZmF1bHRzLnBlckFjdGlvbltvcHRpb25OYW1lXSBhcyBhbnkpXG4gICAgICAgICkge1xuICAgICAgICAgIDsoYWN0aW9uT3B0aW9uc1tvcHRpb25OYW1lXSBhcyBhbnkpLmVuYWJsZWQgPSBvcHRpb25WYWx1ZS5lbmFibGVkICE9PSBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBpZiB0aGUgb3B0aW9uIHZhbHVlIGlzIGEgYm9vbGVhbiBhbmQgdGhlIGRlZmF1bHQgaXMgYW4gb2JqZWN0XG4gICAgICBlbHNlIGlmIChpcy5ib29sKG9wdGlvblZhbHVlKSAmJiBpcy5vYmplY3QoZGVmYXVsdHMucGVyQWN0aW9uW29wdGlvbk5hbWVdKSkge1xuICAgICAgICA7KGFjdGlvbk9wdGlvbnNbb3B0aW9uTmFtZV0gYXMgYW55KS5lbmFibGVkID0gb3B0aW9uVmFsdWVcbiAgICAgIH1cbiAgICAgIC8vIGlmIGl0J3MgYW55dGhpbmcgZWxzZSwgZG8gYSBwbGFpbiBhc3NpZ25tZW50XG4gICAgICBlbHNlIHtcbiAgICAgICAgOyhhY3Rpb25PcHRpb25zW29wdGlvbk5hbWVdIGFzIGFueSkgPSBvcHRpb25WYWx1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBmdW5jdGlvbiB0byBnZXQgYW4gSW50ZXJhY3RhYmxlcyBib3VuZGluZyByZWN0LiBDYW4gYmVcbiAgICogb3ZlcnJpZGRlbiB1c2luZyB7QGxpbmsgSW50ZXJhY3RhYmxlLnJlY3RDaGVja2VyfS5cbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBbZWxlbWVudF0gVGhlIGVsZW1lbnQgdG8gbWVhc3VyZS5cbiAgICogQHJldHVybiB7UmVjdH0gVGhlIG9iamVjdCdzIGJvdW5kaW5nIHJlY3RhbmdsZS5cbiAgICovXG4gIGdldFJlY3QoZWxlbWVudDogRWxlbWVudCkge1xuICAgIGVsZW1lbnQgPSBlbGVtZW50IHx8IChpcy5lbGVtZW50KHRoaXMudGFyZ2V0KSA/IHRoaXMudGFyZ2V0IDogbnVsbClcblxuICAgIGlmIChpcy5zdHJpbmcodGhpcy50YXJnZXQpKSB7XG4gICAgICBlbGVtZW50ID0gZWxlbWVudCB8fCB0aGlzLl9jb250ZXh0LnF1ZXJ5U2VsZWN0b3IodGhpcy50YXJnZXQpXG4gICAgfVxuXG4gICAgcmV0dXJuIGdldEVsZW1lbnRSZWN0KGVsZW1lbnQpXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBvciBzZXRzIHRoZSBmdW5jdGlvbiB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgaW50ZXJhY3RhYmxlJ3NcbiAgICogZWxlbWVudCdzIHJlY3RhbmdsZVxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2hlY2tlcl0gQSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIHRoaXMgSW50ZXJhY3RhYmxlJ3NcbiAgICogYm91bmRpbmcgcmVjdGFuZ2xlLiBTZWUge0BsaW5rIEludGVyYWN0YWJsZS5nZXRSZWN0fVxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbiB8IG9iamVjdH0gVGhlIGNoZWNrZXIgZnVuY3Rpb24gb3IgdGhpcyBJbnRlcmFjdGFibGVcbiAgICovXG4gIHJlY3RDaGVja2VyKCk6IChlbGVtZW50OiBFbGVtZW50KSA9PiBhbnkgfCBudWxsXG4gIHJlY3RDaGVja2VyKGNoZWNrZXI6IChlbGVtZW50OiBFbGVtZW50KSA9PiBhbnkpOiB0aGlzXG4gIHJlY3RDaGVja2VyKGNoZWNrZXI/OiAoZWxlbWVudDogRWxlbWVudCkgPT4gYW55KSB7XG4gICAgaWYgKGlzLmZ1bmMoY2hlY2tlcikpIHtcbiAgICAgIHRoaXMuZ2V0UmVjdCA9IChlbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBleHRlbmQoe30sIGNoZWNrZXIuYXBwbHkodGhpcywgZWxlbWVudCkpXG5cbiAgICAgICAgaWYgKCEoKCd3aWR0aCcgaW4gcmVjdCkgYXMgdW5rbm93bikpIHtcbiAgICAgICAgICByZWN0LndpZHRoID0gcmVjdC5yaWdodCAtIHJlY3QubGVmdFxuICAgICAgICAgIHJlY3QuaGVpZ2h0ID0gcmVjdC5ib3R0b20gLSByZWN0LnRvcFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlY3RcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBpZiAoY2hlY2tlciA9PT0gbnVsbCkge1xuICAgICAgZGVsZXRlICh0aGlzIGFzIFBhcnRpYWw8dHlwZW9mIHRoaXM+KS5nZXRSZWN0XG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVjdFxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfYmFja0NvbXBhdE9wdGlvbihvcHRpb25OYW1lOiBrZXlvZiBPcHRpb25zLCBuZXdWYWx1ZTogYW55KSB7XG4gICAgaWYgKHRyeVNlbGVjdG9yKG5ld1ZhbHVlKSB8fCBpcy5vYmplY3QobmV3VmFsdWUpKSB7XG4gICAgICA7KHRoaXMub3B0aW9uc1tvcHRpb25OYW1lXSBhcyBhbnkpID0gbmV3VmFsdWVcblxuICAgICAgZm9yIChjb25zdCBhY3Rpb24gaW4gdGhpcy5fYWN0aW9ucy5tYXApIHtcbiAgICAgICAgOyh0aGlzLm9wdGlvbnNbYWN0aW9uIGFzIGtleW9mIEFjdGlvbk1hcF0gYXMgYW55KVtvcHRpb25OYW1lXSA9IG5ld1ZhbHVlXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMub3B0aW9uc1tvcHRpb25OYW1lXVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyB0aGUgb3JpZ2luIG9mIHRoZSBJbnRlcmFjdGFibGUncyBlbGVtZW50LiAgVGhlIHggYW5kIHlcbiAgICogb2YgdGhlIG9yaWdpbiB3aWxsIGJlIHN1YnRyYWN0ZWQgZnJvbSBhY3Rpb24gZXZlbnQgY29vcmRpbmF0ZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudCB8IG9iamVjdCB8IHN0cmluZ30gW29yaWdpbl0gQW4gSFRNTCBvciBTVkcgRWxlbWVudCB3aG9zZVxuICAgKiByZWN0IHdpbGwgYmUgdXNlZCwgYW4gb2JqZWN0IGVnLiB7IHg6IDAsIHk6IDAgfSBvciBzdHJpbmcgJ3BhcmVudCcsICdzZWxmJ1xuICAgKiBvciBhbnkgQ1NTIHNlbGVjdG9yXG4gICAqXG4gICAqIEByZXR1cm4ge29iamVjdH0gVGhlIGN1cnJlbnQgb3JpZ2luIG9yIHRoaXMgSW50ZXJhY3RhYmxlXG4gICAqL1xuICBvcmlnaW4obmV3VmFsdWU6IGFueSkge1xuICAgIHJldHVybiB0aGlzLl9iYWNrQ29tcGF0T3B0aW9uKCdvcmlnaW4nLCBuZXdWYWx1ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG9yIHNldHMgdGhlIG1vdXNlIGNvb3JkaW5hdGUgdHlwZXMgdXNlZCB0byBjYWxjdWxhdGUgdGhlXG4gICAqIG1vdmVtZW50IG9mIHRoZSBwb2ludGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW25ld1ZhbHVlXSBVc2UgJ2NsaWVudCcgaWYgeW91IHdpbGwgYmUgc2Nyb2xsaW5nIHdoaWxlXG4gICAqIGludGVyYWN0aW5nOyBVc2UgJ3BhZ2UnIGlmIHlvdSB3YW50IGF1dG9TY3JvbGwgdG8gd29ya1xuICAgKiBAcmV0dXJuIHtzdHJpbmcgfCBvYmplY3R9IFRoZSBjdXJyZW50IGRlbHRhU291cmNlIG9yIHRoaXMgSW50ZXJhY3RhYmxlXG4gICAqL1xuICBkZWx0YVNvdXJjZSgpOiBEZWx0YVNvdXJjZVxuICBkZWx0YVNvdXJjZShuZXdWYWx1ZTogRGVsdGFTb3VyY2UpOiB0aGlzXG4gIGRlbHRhU291cmNlKG5ld1ZhbHVlPzogRGVsdGFTb3VyY2UpIHtcbiAgICBpZiAobmV3VmFsdWUgPT09ICdwYWdlJyB8fCBuZXdWYWx1ZSA9PT0gJ2NsaWVudCcpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5kZWx0YVNvdXJjZSA9IG5ld1ZhbHVlXG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5kZWx0YVNvdXJjZVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXRBbGxFbGVtZW50cygpOiBFbGVtZW50W10ge1xuICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSB0aGlzXG5cbiAgICBpZiAoaXMuc3RyaW5nKHRhcmdldCkpIHtcbiAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2NvbnRleHQucXVlcnlTZWxlY3RvckFsbCh0YXJnZXQpKVxuICAgIH1cblxuICAgIGlmIChpcy5mdW5jKHRhcmdldCkgJiYgKHRhcmdldCBhcyBhbnkpLmdldEFsbEVsZW1lbnRzKSB7XG4gICAgICByZXR1cm4gKHRhcmdldCBhcyBhbnkpLmdldEFsbEVsZW1lbnRzKClcbiAgICB9XG5cbiAgICByZXR1cm4gaXMuZWxlbWVudCh0YXJnZXQpID8gW3RhcmdldF0gOiBbXVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNlbGVjdG9yIGNvbnRleHQgTm9kZSBvZiB0aGUgSW50ZXJhY3RhYmxlLiBUaGUgZGVmYXVsdCBpc1xuICAgKiBgd2luZG93LmRvY3VtZW50YC5cbiAgICpcbiAgICogQHJldHVybiB7Tm9kZX0gVGhlIGNvbnRleHQgTm9kZSBvZiB0aGlzIEludGVyYWN0YWJsZVxuICAgKi9cbiAgY29udGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY29udGV4dFxuICB9XG5cbiAgaW5Db250ZXh0KGVsZW1lbnQ6IERvY3VtZW50IHwgTm9kZSkge1xuICAgIHJldHVybiB0aGlzLl9jb250ZXh0ID09PSBlbGVtZW50Lm93bmVyRG9jdW1lbnQgfHwgbm9kZUNvbnRhaW5zKHRoaXMuX2NvbnRleHQsIGVsZW1lbnQpXG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHRlc3RJZ25vcmVBbGxvdyhcbiAgICB0aGlzOiBJbnRlcmFjdGFibGUsXG4gICAgb3B0aW9uczogeyBpZ25vcmVGcm9tPzogSWdub3JlVmFsdWU7IGFsbG93RnJvbT86IElnbm9yZVZhbHVlIH0sXG4gICAgdGFyZ2V0Tm9kZTogTm9kZSxcbiAgICBldmVudFRhcmdldDogTm9kZSxcbiAgKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICF0aGlzLnRlc3RJZ25vcmUob3B0aW9ucy5pZ25vcmVGcm9tLCB0YXJnZXROb2RlLCBldmVudFRhcmdldCkgJiZcbiAgICAgIHRoaXMudGVzdEFsbG93KG9wdGlvbnMuYWxsb3dGcm9tLCB0YXJnZXROb2RlLCBldmVudFRhcmdldClcbiAgICApXG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHRlc3RBbGxvdyh0aGlzOiBJbnRlcmFjdGFibGUsIGFsbG93RnJvbTogSWdub3JlVmFsdWUgfCB1bmRlZmluZWQsIHRhcmdldE5vZGU6IE5vZGUsIGVsZW1lbnQ6IE5vZGUpIHtcbiAgICBpZiAoIWFsbG93RnJvbSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBpZiAoIWlzLmVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmIChpcy5zdHJpbmcoYWxsb3dGcm9tKSkge1xuICAgICAgcmV0dXJuIG1hdGNoZXNVcFRvKGVsZW1lbnQsIGFsbG93RnJvbSwgdGFyZ2V0Tm9kZSlcbiAgICB9IGVsc2UgaWYgKGlzLmVsZW1lbnQoYWxsb3dGcm9tKSkge1xuICAgICAgcmV0dXJuIG5vZGVDb250YWlucyhhbGxvd0Zyb20sIGVsZW1lbnQpXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHRlc3RJZ25vcmUodGhpczogSW50ZXJhY3RhYmxlLCBpZ25vcmVGcm9tOiBJZ25vcmVWYWx1ZSB8IHVuZGVmaW5lZCwgdGFyZ2V0Tm9kZTogTm9kZSwgZWxlbWVudDogTm9kZSkge1xuICAgIGlmICghaWdub3JlRnJvbSB8fCAhaXMuZWxlbWVudChlbGVtZW50KSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKGlzLnN0cmluZyhpZ25vcmVGcm9tKSkge1xuICAgICAgcmV0dXJuIG1hdGNoZXNVcFRvKGVsZW1lbnQsIGlnbm9yZUZyb20sIHRhcmdldE5vZGUpXG4gICAgfSBlbHNlIGlmIChpcy5lbGVtZW50KGlnbm9yZUZyb20pKSB7XG4gICAgICByZXR1cm4gbm9kZUNvbnRhaW5zKGlnbm9yZUZyb20sIGVsZW1lbnQpXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgbGlzdGVuZXJzIGZvciB0aGUgZ2l2ZW4gSW50ZXJhY3RFdmVudCB0eXBlIGJvdW5kIGdsb2JhbGx5XG4gICAqIGFuZCBkaXJlY3RseSB0byB0aGlzIEludGVyYWN0YWJsZVxuICAgKlxuICAgKiBAcGFyYW0ge0ludGVyYWN0RXZlbnR9IGlFdmVudCBUaGUgSW50ZXJhY3RFdmVudCBvYmplY3QgdG8gYmUgZmlyZWQgb24gdGhpc1xuICAgKiBJbnRlcmFjdGFibGVcbiAgICogQHJldHVybiB7SW50ZXJhY3RhYmxlfSB0aGlzIEludGVyYWN0YWJsZVxuICAgKi9cbiAgZmlyZTxFIGV4dGVuZHMgeyB0eXBlOiBzdHJpbmcgfT4oaUV2ZW50OiBFKSB7XG4gICAgdGhpcy5ldmVudHMuZmlyZShpRXZlbnQpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfb25PZmYoXG4gICAgbWV0aG9kOiBPbk9mZk1ldGhvZCxcbiAgICB0eXBlQXJnOiBFdmVudFR5cGVzLFxuICAgIGxpc3RlbmVyQXJnPzogTGlzdGVuZXJzQXJnIHwgbnVsbCxcbiAgICBvcHRpb25zPzogYW55LFxuICAgIGZpbHRlcj86ICh0eXBlOiBzdHJpbmcpID0+IGJvb2xlYW4sXG4gICkge1xuICAgIGlmIChpcy5vYmplY3QodHlwZUFyZykgJiYgIWlzLmFycmF5KHR5cGVBcmcpKSB7XG4gICAgICBvcHRpb25zID0gbGlzdGVuZXJBcmdcbiAgICAgIGxpc3RlbmVyQXJnID0gbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IGxpc3RlbmVycyA9IG5vcm1hbGl6ZUxpc3RlbmVycyh0eXBlQXJnLCBsaXN0ZW5lckFyZywgZmlsdGVyKVxuXG4gICAgZm9yIChsZXQgdHlwZSBpbiBsaXN0ZW5lcnMpIHtcbiAgICAgIGlmICh0eXBlID09PSAnd2hlZWwnKSB7XG4gICAgICAgIHR5cGUgPSBicm93c2VyLndoZWVsRXZlbnRcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnNbdHlwZV0pIHtcbiAgICAgICAgLy8gaWYgaXQgaXMgYW4gYWN0aW9uIGV2ZW50IHR5cGVcbiAgICAgICAgaWYgKGlzTm9uTmF0aXZlRXZlbnQodHlwZSwgdGhpcy5fYWN0aW9ucykpIHtcbiAgICAgICAgICB0aGlzLmV2ZW50c1ttZXRob2QgPT09IE9uT2ZmTWV0aG9kLk9uID8gJ29uJyA6ICdvZmYnXSh0eXBlLCBsaXN0ZW5lcilcbiAgICAgICAgfVxuICAgICAgICAvLyBkZWxlZ2F0ZWQgZXZlbnRcbiAgICAgICAgZWxzZSBpZiAoaXMuc3RyaW5nKHRoaXMudGFyZ2V0KSkge1xuICAgICAgICAgIHRoaXMuX3Njb3BlRXZlbnRzW21ldGhvZCA9PT0gT25PZmZNZXRob2QuT24gPyAnYWRkRGVsZWdhdGUnIDogJ3JlbW92ZURlbGVnYXRlJ10oXG4gICAgICAgICAgICB0aGlzLnRhcmdldCxcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgbGlzdGVuZXIsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICAvLyByZW1vdmUgbGlzdGVuZXIgZnJvbSB0aGlzIEludGVyYWN0YWJsZSdzIGVsZW1lbnRcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdGhpcy5fc2NvcGVFdmVudHNbbWV0aG9kID09PSBPbk9mZk1ldGhvZC5PbiA/ICdhZGQnIDogJ3JlbW92ZSddKFxuICAgICAgICAgICAgdGhpcy50YXJnZXQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgbGlzdGVuZXIsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQmluZHMgYSBsaXN0ZW5lciBmb3IgYW4gSW50ZXJhY3RFdmVudCwgcG9pbnRlckV2ZW50IG9yIERPTSBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBhcnJheSB8IG9iamVjdH0gdHlwZXMgVGhlIHR5cGVzIG9mIGV2ZW50cyB0byBsaXN0ZW5cbiAgICogZm9yXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24gfCBhcnJheSB8IG9iamVjdH0gW2xpc3RlbmVyXSBUaGUgZXZlbnQgbGlzdGVuZXIgZnVuY3Rpb24ocylcbiAgICogQHBhcmFtIHtvYmplY3QgfCBib29sZWFufSBbb3B0aW9uc10gb3B0aW9ucyBvYmplY3Qgb3IgdXNlQ2FwdHVyZSBmbGFnIGZvclxuICAgKiBhZGRFdmVudExpc3RlbmVyXG4gICAqIEByZXR1cm4ge0ludGVyYWN0YWJsZX0gVGhpcyBJbnRlcmFjdGFibGVcbiAgICovXG4gIG9uKHR5cGVzOiBFdmVudFR5cGVzLCBsaXN0ZW5lcj86IExpc3RlbmVyc0FyZywgb3B0aW9ucz86IGFueSkge1xuICAgIHJldHVybiB0aGlzLl9vbk9mZihPbk9mZk1ldGhvZC5PbiwgdHlwZXMsIGxpc3RlbmVyLCBvcHRpb25zKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYW4gSW50ZXJhY3RFdmVudCwgcG9pbnRlckV2ZW50IG9yIERPTSBldmVudCBsaXN0ZW5lci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBhcnJheSB8IG9iamVjdH0gdHlwZXMgVGhlIHR5cGVzIG9mIGV2ZW50cyB0aGF0IHdlcmVcbiAgICogbGlzdGVuZWQgZm9yXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24gfCBhcnJheSB8IG9iamVjdH0gW2xpc3RlbmVyXSBUaGUgZXZlbnQgbGlzdGVuZXIgZnVuY3Rpb24ocylcbiAgICogQHBhcmFtIHtvYmplY3QgfCBib29sZWFufSBbb3B0aW9uc10gb3B0aW9ucyBvYmplY3Qgb3IgdXNlQ2FwdHVyZSBmbGFnIGZvclxuICAgKiByZW1vdmVFdmVudExpc3RlbmVyXG4gICAqIEByZXR1cm4ge0ludGVyYWN0YWJsZX0gVGhpcyBJbnRlcmFjdGFibGVcbiAgICovXG4gIG9mZih0eXBlczogc3RyaW5nIHwgc3RyaW5nW10gfCBFdmVudFR5cGVzLCBsaXN0ZW5lcj86IExpc3RlbmVyc0FyZywgb3B0aW9ucz86IGFueSkge1xuICAgIHJldHVybiB0aGlzLl9vbk9mZihPbk9mZk1ldGhvZC5PZmYsIHR5cGVzLCBsaXN0ZW5lciwgb3B0aW9ucylcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCB0aGUgb3B0aW9ucyBvZiB0aGlzIEludGVyYWN0YWJsZVxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBUaGUgbmV3IHNldHRpbmdzIHRvIGFwcGx5XG4gICAqIEByZXR1cm4ge29iamVjdH0gVGhpcyBJbnRlcmFjdGFibGVcbiAgICovXG4gIHNldChvcHRpb25zOiBPcHRpb25zQXJnKSB7XG4gICAgY29uc3QgZGVmYXVsdHMgPSB0aGlzLl9kZWZhdWx0c1xuXG4gICAgaWYgKCFpcy5vYmplY3Qob3B0aW9ucykpIHtcbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgIH1cblxuICAgIDsodGhpcy5vcHRpb25zIGFzIFJlcXVpcmVkPE9wdGlvbnM+KSA9IGNsb25lKGRlZmF1bHRzLmJhc2UpIGFzIFJlcXVpcmVkPE9wdGlvbnM+XG5cbiAgICBmb3IgKGNvbnN0IGFjdGlvbk5hbWVfIGluIHRoaXMuX2FjdGlvbnMubWV0aG9kRGljdCkge1xuICAgICAgY29uc3QgYWN0aW9uTmFtZSA9IGFjdGlvbk5hbWVfIGFzIEFjdGlvbk5hbWVcbiAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSB0aGlzLl9hY3Rpb25zLm1ldGhvZERpY3RbYWN0aW9uTmFtZV1cblxuICAgICAgdGhpcy5vcHRpb25zW2FjdGlvbk5hbWVdID0ge31cbiAgICAgIHRoaXMuc2V0UGVyQWN0aW9uKGFjdGlvbk5hbWUsIGV4dGVuZChleHRlbmQoe30sIGRlZmF1bHRzLnBlckFjdGlvbiksIGRlZmF1bHRzLmFjdGlvbnNbYWN0aW9uTmFtZV0pKVxuICAgICAgOyh0aGlzW21ldGhvZE5hbWVdIGFzIEFjdGlvbk1ldGhvZDx1bmtub3duPikob3B0aW9uc1thY3Rpb25OYW1lXSlcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHNldHRpbmcgaW4gb3B0aW9ucykge1xuICAgICAgaWYgKHNldHRpbmcgPT09ICdnZXRSZWN0Jykge1xuICAgICAgICB0aGlzLnJlY3RDaGVja2VyKG9wdGlvbnMuZ2V0UmVjdClcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgaWYgKGlzLmZ1bmMoKHRoaXMgYXMgYW55KVtzZXR0aW5nXSkpIHtcbiAgICAgICAgOyh0aGlzIGFzIGFueSlbc2V0dGluZ10ob3B0aW9uc1tzZXR0aW5nIGFzIGtleW9mIHR5cGVvZiBvcHRpb25zXSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGlzIGludGVyYWN0YWJsZSBmcm9tIHRoZSBsaXN0IG9mIGludGVyYWN0YWJsZXMgYW5kIHJlbW92ZSBpdCdzXG4gICAqIGFjdGlvbiBjYXBhYmlsaXRpZXMgYW5kIGV2ZW50IGxpc3RlbmVyc1xuICAgKi9cbiAgdW5zZXQoKSB7XG4gICAgaWYgKGlzLnN0cmluZyh0aGlzLnRhcmdldCkpIHtcbiAgICAgIC8vIHJlbW92ZSBkZWxlZ2F0ZWQgZXZlbnRzXG4gICAgICBmb3IgKGNvbnN0IHR5cGUgaW4gdGhpcy5fc2NvcGVFdmVudHMuZGVsZWdhdGVkRXZlbnRzKSB7XG4gICAgICAgIGNvbnN0IGRlbGVnYXRlZCA9IHRoaXMuX3Njb3BlRXZlbnRzLmRlbGVnYXRlZEV2ZW50c1t0eXBlXVxuXG4gICAgICAgIGZvciAobGV0IGkgPSBkZWxlZ2F0ZWQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBjb25zdCB7IHNlbGVjdG9yLCBjb250ZXh0LCBsaXN0ZW5lcnMgfSA9IGRlbGVnYXRlZFtpXVxuXG4gICAgICAgICAgaWYgKHNlbGVjdG9yID09PSB0aGlzLnRhcmdldCAmJiBjb250ZXh0ID09PSB0aGlzLl9jb250ZXh0KSB7XG4gICAgICAgICAgICBkZWxlZ2F0ZWQuc3BsaWNlKGksIDEpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yIChsZXQgbCA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBsID49IDA7IGwtLSkge1xuICAgICAgICAgICAgdGhpcy5fc2NvcGVFdmVudHMucmVtb3ZlRGVsZWdhdGUoXG4gICAgICAgICAgICAgIHRoaXMudGFyZ2V0LFxuICAgICAgICAgICAgICB0aGlzLl9jb250ZXh0LFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICBsaXN0ZW5lcnNbbF1bMF0sXG4gICAgICAgICAgICAgIGxpc3RlbmVyc1tsXVsxXSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2NvcGVFdmVudHMucmVtb3ZlKHRoaXMudGFyZ2V0LCAnYWxsJylcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgKiBhcyBhcnIgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvYXJyJ1xuaW1wb3J0ICogYXMgZG9tVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcblxuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIHsgT3B0aW9uc0FyZywgT3B0aW9ucyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucydcbmltcG9ydCB0eXBlIHsgU2NvcGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBUYXJnZXQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9zY29wZScge1xuICBpbnRlcmZhY2UgU2lnbmFsQXJncyB7XG4gICAgJ2ludGVyYWN0YWJsZTpuZXcnOiB7XG4gICAgICBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZVxuICAgICAgdGFyZ2V0OiBUYXJnZXRcbiAgICAgIG9wdGlvbnM6IE9wdGlvbnNBcmdcbiAgICAgIHdpbjogV2luZG93XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbnRlcmFjdGFibGVTZXQge1xuICAvLyBhbGwgc2V0IGludGVyYWN0YWJsZXNcbiAgbGlzdDogSW50ZXJhY3RhYmxlW10gPSBbXVxuXG4gIHNlbGVjdG9yTWFwOiB7XG4gICAgW3NlbGVjdG9yOiBzdHJpbmddOiBJbnRlcmFjdGFibGVbXVxuICB9ID0ge31cblxuICBzY29wZTogU2NvcGVcblxuICBjb25zdHJ1Y3RvcihzY29wZTogU2NvcGUpIHtcbiAgICB0aGlzLnNjb3BlID0gc2NvcGVcbiAgICBzY29wZS5hZGRMaXN0ZW5lcnMoe1xuICAgICAgJ2ludGVyYWN0YWJsZTp1bnNldCc6ICh7IGludGVyYWN0YWJsZSB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSBpbnRlcmFjdGFibGVcbiAgICAgICAgY29uc3QgaW50ZXJhY3RhYmxlc09uVGFyZ2V0OiBJbnRlcmFjdGFibGVbXSA9IGlzLnN0cmluZyh0YXJnZXQpXG4gICAgICAgICAgPyB0aGlzLnNlbGVjdG9yTWFwW3RhcmdldF1cbiAgICAgICAgICA6ICh0YXJnZXQgYXMgYW55KVt0aGlzLnNjb3BlLmlkXVxuXG4gICAgICAgIGNvbnN0IHRhcmdldEluZGV4ID0gYXJyLmZpbmRJbmRleChpbnRlcmFjdGFibGVzT25UYXJnZXQsIChpKSA9PiBpID09PSBpbnRlcmFjdGFibGUpXG4gICAgICAgIGludGVyYWN0YWJsZXNPblRhcmdldC5zcGxpY2UodGFyZ2V0SW5kZXgsIDEpXG4gICAgICB9LFxuICAgIH0pXG4gIH1cblxuICBuZXcodGFyZ2V0OiBUYXJnZXQsIG9wdGlvbnM/OiBhbnkpOiBJbnRlcmFjdGFibGUge1xuICAgIG9wdGlvbnMgPSBleHRlbmQob3B0aW9ucyB8fCB7fSwge1xuICAgICAgYWN0aW9uczogdGhpcy5zY29wZS5hY3Rpb25zLFxuICAgIH0pXG4gICAgY29uc3QgaW50ZXJhY3RhYmxlID0gbmV3IHRoaXMuc2NvcGUuSW50ZXJhY3RhYmxlKHRhcmdldCwgb3B0aW9ucywgdGhpcy5zY29wZS5kb2N1bWVudCwgdGhpcy5zY29wZS5ldmVudHMpXG5cbiAgICB0aGlzLnNjb3BlLmFkZERvY3VtZW50KGludGVyYWN0YWJsZS5fZG9jKVxuICAgIHRoaXMubGlzdC5wdXNoKGludGVyYWN0YWJsZSlcblxuICAgIGlmIChpcy5zdHJpbmcodGFyZ2V0KSkge1xuICAgICAgaWYgKCF0aGlzLnNlbGVjdG9yTWFwW3RhcmdldF0pIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rvck1hcFt0YXJnZXRdID0gW11cbiAgICAgIH1cbiAgICAgIHRoaXMuc2VsZWN0b3JNYXBbdGFyZ2V0XS5wdXNoKGludGVyYWN0YWJsZSlcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCEoaW50ZXJhY3RhYmxlLnRhcmdldCBhcyBhbnkpW3RoaXMuc2NvcGUuaWRdKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHRoaXMuc2NvcGUuaWQsIHtcbiAgICAgICAgICB2YWx1ZTogW10sXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICA7KHRhcmdldCBhcyBhbnkpW3RoaXMuc2NvcGUuaWRdLnB1c2goaW50ZXJhY3RhYmxlKVxuICAgIH1cblxuICAgIHRoaXMuc2NvcGUuZmlyZSgnaW50ZXJhY3RhYmxlOm5ldycsIHtcbiAgICAgIHRhcmdldCxcbiAgICAgIG9wdGlvbnMsXG4gICAgICBpbnRlcmFjdGFibGUsXG4gICAgICB3aW46IHRoaXMuc2NvcGUuX3dpbixcbiAgICB9KVxuXG4gICAgcmV0dXJuIGludGVyYWN0YWJsZVxuICB9XG5cbiAgZ2V0RXhpc3RpbmcodGFyZ2V0OiBUYXJnZXQsIG9wdGlvbnM/OiBPcHRpb25zKSB7XG4gICAgY29uc3QgY29udGV4dCA9IChvcHRpb25zICYmIG9wdGlvbnMuY29udGV4dCkgfHwgdGhpcy5zY29wZS5kb2N1bWVudFxuICAgIGNvbnN0IGlzU2VsZWN0b3IgPSBpcy5zdHJpbmcodGFyZ2V0KVxuICAgIGNvbnN0IGludGVyYWN0YWJsZXNPblRhcmdldDogSW50ZXJhY3RhYmxlW10gPSBpc1NlbGVjdG9yXG4gICAgICA/IHRoaXMuc2VsZWN0b3JNYXBbdGFyZ2V0IGFzIHN0cmluZ11cbiAgICAgIDogKHRhcmdldCBhcyBhbnkpW3RoaXMuc2NvcGUuaWRdXG5cbiAgICBpZiAoIWludGVyYWN0YWJsZXNPblRhcmdldCkgcmV0dXJuIHVuZGVmaW5lZFxuXG4gICAgcmV0dXJuIGFyci5maW5kKFxuICAgICAgaW50ZXJhY3RhYmxlc09uVGFyZ2V0LFxuICAgICAgKGludGVyYWN0YWJsZSkgPT5cbiAgICAgICAgaW50ZXJhY3RhYmxlLl9jb250ZXh0ID09PSBjb250ZXh0ICYmIChpc1NlbGVjdG9yIHx8IGludGVyYWN0YWJsZS5pbkNvbnRleHQodGFyZ2V0IGFzIGFueSkpLFxuICAgIClcbiAgfVxuXG4gIGZvckVhY2hNYXRjaDxUPihub2RlOiBOb2RlLCBjYWxsYmFjazogKGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlKSA9PiBUKTogVCB8IHZvaWQge1xuICAgIGZvciAoY29uc3QgaW50ZXJhY3RhYmxlIG9mIHRoaXMubGlzdCkge1xuICAgICAgbGV0IHJldDogVFxuXG4gICAgICBpZiAoXG4gICAgICAgIChpcy5zdHJpbmcoaW50ZXJhY3RhYmxlLnRhcmdldClcbiAgICAgICAgICA/IC8vIHRhcmdldCBpcyBhIHNlbGVjdG9yIGFuZCB0aGUgZWxlbWVudCBtYXRjaGVzXG4gICAgICAgICAgICBpcy5lbGVtZW50KG5vZGUpICYmIGRvbVV0aWxzLm1hdGNoZXNTZWxlY3Rvcihub2RlLCBpbnRlcmFjdGFibGUudGFyZ2V0KVxuICAgICAgICAgIDogLy8gdGFyZ2V0IGlzIHRoZSBlbGVtZW50XG4gICAgICAgICAgICBub2RlID09PSBpbnRlcmFjdGFibGUudGFyZ2V0KSAmJlxuICAgICAgICAvLyB0aGUgZWxlbWVudCBpcyBpbiBjb250ZXh0XG4gICAgICAgIGludGVyYWN0YWJsZS5pbkNvbnRleHQobm9kZSlcbiAgICAgICkge1xuICAgICAgICByZXQgPSBjYWxsYmFjayhpbnRlcmFjdGFibGUpXG4gICAgICB9XG5cbiAgICAgIGlmIChyZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmV0XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IGJyb3dzZXIgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvYnJvd3NlcidcbmltcG9ydCBjbG9uZSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9jbG9uZSdcbmltcG9ydCBkb21PYmplY3RzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbU9iamVjdHMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcbmltcG9ydCByYWYgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcmFmJ1xuaW1wb3J0ICogYXMgd2luIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3dpbmRvdydcblxuaW1wb3J0IHR5cGUgSW50ZXJhY3Rpb24gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcblxuaW1wb3J0IHsgRXZlbnRhYmxlIH0gZnJvbSAnLi9FdmVudGFibGUnXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICcuL2V2ZW50cydcbmltcG9ydCAnLi9pbnRlcmFjdGlvbnMnXG5pbXBvcnQgZXZlbnRzIGZyb20gJy4vZXZlbnRzJ1xuaW1wb3J0IHsgSW50ZXJhY3RhYmxlIGFzIEludGVyYWN0YWJsZUJhc2UgfSBmcm9tICcuL0ludGVyYWN0YWJsZSdcbmltcG9ydCB7IEludGVyYWN0YWJsZVNldCB9IGZyb20gJy4vSW50ZXJhY3RhYmxlU2V0J1xuaW1wb3J0IHsgSW50ZXJhY3RFdmVudCB9IGZyb20gJy4vSW50ZXJhY3RFdmVudCdcbmltcG9ydCBpbnRlcmFjdGlvbnMgZnJvbSAnLi9pbnRlcmFjdGlvbnMnXG4vKiBlc2xpbnQtZW5hYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzICovXG5pbXBvcnQgeyBjcmVhdGVJbnRlcmFjdFN0YXRpYyB9IGZyb20gJy4vSW50ZXJhY3RTdGF0aWMnXG5pbXBvcnQgdHlwZSB7IE9wdGlvbnNBcmcgfSBmcm9tICcuL29wdGlvbnMnXG5pbXBvcnQgeyBkZWZhdWx0cyB9IGZyb20gJy4vb3B0aW9ucydcbmltcG9ydCB0eXBlIHsgQWN0aW9ucyB9IGZyb20gJy4vdHlwZXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbmFsQXJncyB7XG4gICdzY29wZTphZGQtZG9jdW1lbnQnOiBEb2NTaWduYWxBcmdcbiAgJ3Njb3BlOnJlbW92ZS1kb2N1bWVudCc6IERvY1NpZ25hbEFyZ1xuICAnaW50ZXJhY3RhYmxlOnVuc2V0JzogeyBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZUJhc2UgfVxuICAnaW50ZXJhY3RhYmxlOnNldCc6IHsgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGVCYXNlOyBvcHRpb25zOiBPcHRpb25zQXJnIH1cbiAgJ2ludGVyYWN0aW9uczpkZXN0cm95JzogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfVxufVxuXG5leHBvcnQgdHlwZSBMaXN0ZW5lck5hbWUgPSBrZXlvZiBTaWduYWxBcmdzXG5cbmV4cG9ydCB0eXBlIExpc3RlbmVyTWFwID0ge1xuICBbUCBpbiBMaXN0ZW5lck5hbWVdPzogKGFyZzogU2lnbmFsQXJnc1tQXSwgc2NvcGU6IFNjb3BlLCBzaWduYWxOYW1lOiBQKSA9PiB2b2lkIHwgYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgRG9jU2lnbmFsQXJnIHtcbiAgZG9jOiBEb2N1bWVudFxuICB3aW5kb3c6IFdpbmRvd1xuICBzY29wZTogU2NvcGVcbiAgb3B0aW9uczogUmVjb3JkPHN0cmluZywgYW55PlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBsdWdpbiB7XG4gIFtrZXk6IHN0cmluZ106IGFueVxuICBpZD86IHN0cmluZ1xuICBsaXN0ZW5lcnM/OiBMaXN0ZW5lck1hcFxuICBiZWZvcmU/OiBzdHJpbmdbXVxuICBpbnN0YWxsPyhzY29wZTogU2NvcGUsIG9wdGlvbnM/OiBhbnkpOiB2b2lkXG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBTY29wZSB7XG4gIGlkID0gYF9faW50ZXJhY3Rfc2NvcGVfJHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApfWBcbiAgaXNJbml0aWFsaXplZCA9IGZhbHNlXG4gIGxpc3RlbmVyTWFwczogQXJyYXk8e1xuICAgIG1hcDogTGlzdGVuZXJNYXBcbiAgICBpZD86IHN0cmluZ1xuICB9PiA9IFtdXG5cbiAgYnJvd3NlciA9IGJyb3dzZXJcbiAgZGVmYXVsdHMgPSBjbG9uZShkZWZhdWx0cykgYXMgdHlwZW9mIGRlZmF1bHRzXG4gIEV2ZW50YWJsZSA9IEV2ZW50YWJsZVxuICBhY3Rpb25zOiBBY3Rpb25zID0ge1xuICAgIG1hcDoge30sXG4gICAgcGhhc2VzOiB7XG4gICAgICBzdGFydDogdHJ1ZSxcbiAgICAgIG1vdmU6IHRydWUsXG4gICAgICBlbmQ6IHRydWUsXG4gICAgfSxcbiAgICBtZXRob2REaWN0OiB7fSBhcyBhbnksXG4gICAgcGhhc2VsZXNzVHlwZXM6IHt9LFxuICB9XG5cbiAgaW50ZXJhY3RTdGF0aWMgPSBjcmVhdGVJbnRlcmFjdFN0YXRpYyh0aGlzKVxuICBJbnRlcmFjdEV2ZW50ID0gSW50ZXJhY3RFdmVudFxuICBJbnRlcmFjdGFibGU6IHR5cGVvZiBJbnRlcmFjdGFibGVCYXNlXG4gIGludGVyYWN0YWJsZXMgPSBuZXcgSW50ZXJhY3RhYmxlU2V0KHRoaXMpXG5cbiAgLy8gbWFpbiB3aW5kb3dcbiAgX3dpbiE6IFdpbmRvd1xuXG4gIC8vIG1haW4gZG9jdW1lbnRcbiAgZG9jdW1lbnQhOiBEb2N1bWVudFxuXG4gIC8vIG1haW4gd2luZG93XG4gIHdpbmRvdyE6IFdpbmRvd1xuXG4gIC8vIGFsbCBkb2N1bWVudHMgYmVpbmcgbGlzdGVuZWQgdG9cbiAgZG9jdW1lbnRzOiBBcnJheTx7IGRvYzogRG9jdW1lbnQ7IG9wdGlvbnM6IGFueSB9PiA9IFtdXG5cbiAgX3BsdWdpbnM6IHtcbiAgICBsaXN0OiBQbHVnaW5bXVxuICAgIG1hcDogeyBbaWQ6IHN0cmluZ106IFBsdWdpbiB9XG4gIH0gPSB7XG4gICAgbGlzdDogW10sXG4gICAgbWFwOiB7fSxcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnN0IHNjb3BlID0gdGhpc1xuXG4gICAgdGhpcy5JbnRlcmFjdGFibGUgPSBjbGFzcyBleHRlbmRzIEludGVyYWN0YWJsZUJhc2Uge1xuICAgICAgZ2V0IF9kZWZhdWx0cygpIHtcbiAgICAgICAgcmV0dXJuIHNjb3BlLmRlZmF1bHRzXG4gICAgICB9XG5cbiAgICAgIHNldDxUIGV4dGVuZHMgSW50ZXJhY3RhYmxlQmFzZT4odGhpczogVCwgb3B0aW9uczogT3B0aW9uc0FyZykge1xuICAgICAgICBzdXBlci5zZXQob3B0aW9ucylcblxuICAgICAgICBzY29wZS5maXJlKCdpbnRlcmFjdGFibGU6c2V0Jywge1xuICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgaW50ZXJhY3RhYmxlOiB0aGlzLFxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgICB9XG5cbiAgICAgIHVuc2V0KHRoaXM6IEludGVyYWN0YWJsZUJhc2UpIHtcbiAgICAgICAgc3VwZXIudW5zZXQoKVxuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gc2NvcGUuaW50ZXJhY3RhYmxlcy5saXN0LmluZGV4T2YodGhpcylcbiAgICAgICAgaWYgKGluZGV4IDwgMCkgcmV0dXJuXG5cbiAgICAgICAgc2NvcGUuaW50ZXJhY3RhYmxlcy5saXN0LnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgc2NvcGUuZmlyZSgnaW50ZXJhY3RhYmxlOnVuc2V0JywgeyBpbnRlcmFjdGFibGU6IHRoaXMgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhZGRMaXN0ZW5lcnMobWFwOiBMaXN0ZW5lck1hcCwgaWQ/OiBzdHJpbmcpIHtcbiAgICB0aGlzLmxpc3RlbmVyTWFwcy5wdXNoKHsgaWQsIG1hcCB9KVxuICB9XG5cbiAgZmlyZTxUIGV4dGVuZHMgTGlzdGVuZXJOYW1lPihuYW1lOiBULCBhcmc6IFNpZ25hbEFyZ3NbVF0pOiB2b2lkIHwgZmFsc2Uge1xuICAgIGZvciAoY29uc3Qge1xuICAgICAgbWFwOiB7IFtuYW1lXTogbGlzdGVuZXIgfSxcbiAgICB9IG9mIHRoaXMubGlzdGVuZXJNYXBzKSB7XG4gICAgICBpZiAoISFsaXN0ZW5lciAmJiBsaXN0ZW5lcihhcmcgYXMgYW55LCB0aGlzLCBuYW1lIGFzIG5ldmVyKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25XaW5kb3dVbmxvYWQgPSAoZXZlbnQ6IEJlZm9yZVVubG9hZEV2ZW50KSA9PiB0aGlzLnJlbW92ZURvY3VtZW50KGV2ZW50LnRhcmdldCBhcyBEb2N1bWVudClcblxuICBpbml0KHdpbmRvdzogV2luZG93IHwgdHlwZW9mIGdsb2JhbFRoaXMpIHtcbiAgICByZXR1cm4gdGhpcy5pc0luaXRpYWxpemVkID8gdGhpcyA6IGluaXRTY29wZSh0aGlzLCB3aW5kb3cpXG4gIH1cblxuICBwbHVnaW5Jc0luc3RhbGxlZChwbHVnaW46IFBsdWdpbikge1xuICAgIGNvbnN0IHsgaWQgfSA9IHBsdWdpblxuICAgIHJldHVybiBpZCA/ICEhdGhpcy5fcGx1Z2lucy5tYXBbaWRdIDogdGhpcy5fcGx1Z2lucy5saXN0LmluZGV4T2YocGx1Z2luKSAhPT0gLTFcbiAgfVxuXG4gIHVzZVBsdWdpbihwbHVnaW46IFBsdWdpbiwgb3B0aW9ucz86IHsgW2tleTogc3RyaW5nXTogYW55IH0pIHtcbiAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkge1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wbHVnaW5Jc0luc3RhbGxlZChwbHVnaW4pKSB7XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGlmIChwbHVnaW4uaWQpIHtcbiAgICAgIHRoaXMuX3BsdWdpbnMubWFwW3BsdWdpbi5pZF0gPSBwbHVnaW5cbiAgICB9XG4gICAgdGhpcy5fcGx1Z2lucy5saXN0LnB1c2gocGx1Z2luKVxuXG4gICAgaWYgKHBsdWdpbi5pbnN0YWxsKSB7XG4gICAgICBwbHVnaW4uaW5zdGFsbCh0aGlzLCBvcHRpb25zKVxuICAgIH1cblxuICAgIGlmIChwbHVnaW4ubGlzdGVuZXJzICYmIHBsdWdpbi5iZWZvcmUpIHtcbiAgICAgIGxldCBpbmRleCA9IDBcbiAgICAgIGNvbnN0IGxlbiA9IHRoaXMubGlzdGVuZXJNYXBzLmxlbmd0aFxuICAgICAgY29uc3QgYmVmb3JlID0gcGx1Z2luLmJlZm9yZS5yZWR1Y2UoKGFjYywgaWQpID0+IHtcbiAgICAgICAgYWNjW2lkXSA9IHRydWVcbiAgICAgICAgYWNjW3BsdWdpbklkUm9vdChpZCldID0gdHJ1ZVxuICAgICAgICByZXR1cm4gYWNjXG4gICAgICB9LCB7fSlcblxuICAgICAgZm9yICg7IGluZGV4IDwgbGVuOyBpbmRleCsrKSB7XG4gICAgICAgIGNvbnN0IG90aGVySWQgPSB0aGlzLmxpc3RlbmVyTWFwc1tpbmRleF0uaWRcblxuICAgICAgICBpZiAob3RoZXJJZCAmJiAoYmVmb3JlW290aGVySWRdIHx8IGJlZm9yZVtwbHVnaW5JZFJvb3Qob3RoZXJJZCldKSkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5saXN0ZW5lck1hcHMuc3BsaWNlKGluZGV4LCAwLCB7IGlkOiBwbHVnaW4uaWQsIG1hcDogcGx1Z2luLmxpc3RlbmVycyB9KVxuICAgIH0gZWxzZSBpZiAocGx1Z2luLmxpc3RlbmVycykge1xuICAgICAgdGhpcy5saXN0ZW5lck1hcHMucHVzaCh7IGlkOiBwbHVnaW4uaWQsIG1hcDogcGx1Z2luLmxpc3RlbmVycyB9KVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBhZGREb2N1bWVudChkb2M6IERvY3VtZW50LCBvcHRpb25zPzogYW55KTogdm9pZCB8IGZhbHNlIHtcbiAgICAvLyBkbyBub3RoaW5nIGlmIGRvY3VtZW50IGlzIGFscmVhZHkga25vd25cbiAgICBpZiAodGhpcy5nZXREb2NJbmRleChkb2MpICE9PSAtMSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3Qgd2luZG93ID0gd2luLmdldFdpbmRvdyhkb2MpXG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IGV4dGVuZCh7fSwgb3B0aW9ucykgOiB7fVxuXG4gICAgdGhpcy5kb2N1bWVudHMucHVzaCh7IGRvYywgb3B0aW9ucyB9KVxuICAgIHRoaXMuZXZlbnRzLmRvY3VtZW50cy5wdXNoKGRvYylcblxuICAgIC8vIGRvbid0IGFkZCBhbiB1bmxvYWQgZXZlbnQgZm9yIHRoZSBtYWluIGRvY3VtZW50XG4gICAgLy8gc28gdGhhdCB0aGUgcGFnZSBtYXkgYmUgY2FjaGVkIGluIGJyb3dzZXIgaGlzdG9yeVxuICAgIGlmIChkb2MgIT09IHRoaXMuZG9jdW1lbnQpIHtcbiAgICAgIHRoaXMuZXZlbnRzLmFkZCh3aW5kb3csICd1bmxvYWQnLCB0aGlzLm9uV2luZG93VW5sb2FkKVxuICAgIH1cblxuICAgIHRoaXMuZmlyZSgnc2NvcGU6YWRkLWRvY3VtZW50JywgeyBkb2MsIHdpbmRvdywgc2NvcGU6IHRoaXMsIG9wdGlvbnMgfSlcbiAgfVxuXG4gIHJlbW92ZURvY3VtZW50KGRvYzogRG9jdW1lbnQpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZ2V0RG9jSW5kZXgoZG9jKVxuXG4gICAgY29uc3Qgd2luZG93ID0gd2luLmdldFdpbmRvdyhkb2MpXG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuZG9jdW1lbnRzW2luZGV4XS5vcHRpb25zXG5cbiAgICB0aGlzLmV2ZW50cy5yZW1vdmUod2luZG93LCAndW5sb2FkJywgdGhpcy5vbldpbmRvd1VubG9hZClcblxuICAgIHRoaXMuZG9jdW1lbnRzLnNwbGljZShpbmRleCwgMSlcbiAgICB0aGlzLmV2ZW50cy5kb2N1bWVudHMuc3BsaWNlKGluZGV4LCAxKVxuXG4gICAgdGhpcy5maXJlKCdzY29wZTpyZW1vdmUtZG9jdW1lbnQnLCB7IGRvYywgd2luZG93LCBzY29wZTogdGhpcywgb3B0aW9ucyB9KVxuICB9XG5cbiAgZ2V0RG9jSW5kZXgoZG9jOiBEb2N1bWVudCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kb2N1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmRvY3VtZW50c1tpXS5kb2MgPT09IGRvYykge1xuICAgICAgICByZXR1cm4gaVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAtMVxuICB9XG5cbiAgZ2V0RG9jT3B0aW9ucyhkb2M6IERvY3VtZW50KSB7XG4gICAgY29uc3QgZG9jSW5kZXggPSB0aGlzLmdldERvY0luZGV4KGRvYylcblxuICAgIHJldHVybiBkb2NJbmRleCA9PT0gLTEgPyBudWxsIDogdGhpcy5kb2N1bWVudHNbZG9jSW5kZXhdLm9wdGlvbnNcbiAgfVxuXG4gIG5vdygpIHtcbiAgICByZXR1cm4gKCgodGhpcy53aW5kb3cgYXMgYW55KS5EYXRlIGFzIHR5cGVvZiBEYXRlKSB8fCBEYXRlKS5ub3coKVxuICB9XG59XG5cbi8vIEtlZXAgU2NvcGUgY2xhc3MgaW50ZXJuYWwsIGJ1dCBleHBvc2UgbWluaW1hbCBpbnRlcmZhY2UgdG8gYXZvaWQgYnJva2VuIHR5cGVzIHdoZW4gU2NvcGUgaXMgc3RyaXBwZWQgb3V0XG5leHBvcnQgaW50ZXJmYWNlIFNjb3BlIHtcbiAgZmlyZTxUIGV4dGVuZHMgTGlzdGVuZXJOYW1lPihuYW1lOiBULCBhcmc6IFNpZ25hbEFyZ3NbVF0pOiB2b2lkIHwgZmFsc2Vcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRTY29wZShzY29wZTogU2NvcGUsIHdpbmRvdzogV2luZG93IHwgdHlwZW9mIGdsb2JhbFRoaXMpIHtcbiAgc2NvcGUuaXNJbml0aWFsaXplZCA9IHRydWVcblxuICBpZiAoaXMud2luZG93KHdpbmRvdykpIHtcbiAgICB3aW4uaW5pdCh3aW5kb3cpXG4gIH1cblxuICBkb21PYmplY3RzLmluaXQod2luZG93KVxuICBicm93c2VyLmluaXQod2luZG93KVxuICByYWYuaW5pdCh3aW5kb3cpXG5cbiAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICBzY29wZS53aW5kb3cgPSB3aW5kb3dcbiAgc2NvcGUuZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnRcblxuICBzY29wZS51c2VQbHVnaW4oaW50ZXJhY3Rpb25zKVxuICBzY29wZS51c2VQbHVnaW4oZXZlbnRzKVxuXG4gIHJldHVybiBzY29wZVxufVxuXG5mdW5jdGlvbiBwbHVnaW5JZFJvb3QoaWQ6IHN0cmluZykge1xuICByZXR1cm4gaWQgJiYgaWQucmVwbGFjZSgvXFwvLiokLywgJycpXG59XG4iLCAiaW1wb3J0IGJyb3dzZXIgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvYnJvd3NlcidcbmltcG9ydCAqIGFzIGRvbVV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuaW1wb3J0IGlzTm9uTmF0aXZlRXZlbnQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXNOb25OYXRpdmVFdmVudCdcbmltcG9ydCB7IHdhcm5PbmNlIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvbWlzYydcbmltcG9ydCAqIGFzIHBvaW50ZXJVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9wb2ludGVyVXRpbHMnXG5cbmltcG9ydCB0eXBlIHsgU2NvcGUsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IENvbnRleHQsIEV2ZW50VHlwZXMsIExpc3RlbmVyLCBMaXN0ZW5lcnNBcmcsIFRhcmdldCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnLi9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IE9wdGlvbnMgfSBmcm9tICcuL29wdGlvbnMnXG5cbi8qKlxuICogYGBganNcbiAqIGludGVyYWN0KCcjZHJhZ2dhYmxlJykuZHJhZ2dhYmxlKHRydWUpXG4gKlxuICogdmFyIHJlY3RhYmxlcyA9IGludGVyYWN0KCdyZWN0JylcbiAqIHJlY3RhYmxlc1xuICogICAuZ2VzdHVyYWJsZSh0cnVlKVxuICogICAub24oJ2dlc3R1cmVtb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gKiAgICAgICAvLyAuLi5cbiAqICAgfSlcbiAqIGBgYFxuICpcbiAqIFRoZSBtZXRob2RzIG9mIHRoaXMgdmFyaWFibGUgY2FuIGJlIHVzZWQgdG8gc2V0IGVsZW1lbnRzIGFzIGludGVyYWN0YWJsZXNcbiAqIGFuZCBhbHNvIHRvIGNoYW5nZSB2YXJpb3VzIGRlZmF1bHQgc2V0dGluZ3MuXG4gKlxuICogQ2FsbGluZyBpdCBhcyBhIGZ1bmN0aW9uIGFuZCBwYXNzaW5nIGFuIGVsZW1lbnQgb3IgYSB2YWxpZCBDU1Mgc2VsZWN0b3JcbiAqIHN0cmluZyByZXR1cm5zIGFuIEludGVyYWN0YWJsZSBvYmplY3Qgd2hpY2ggaGFzIHZhcmlvdXMgbWV0aG9kcyB0byBjb25maWd1cmVcbiAqIGl0LlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudCB8IHN0cmluZ30gdGFyZ2V0IFRoZSBIVE1MIG9yIFNWRyBFbGVtZW50IHRvIGludGVyYWN0IHdpdGhcbiAqIG9yIENTUyBzZWxlY3RvclxuICogQHJldHVybiB7SW50ZXJhY3RhYmxlfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEludGVyYWN0U3RhdGljIHtcbiAgKHRhcmdldDogVGFyZ2V0LCBvcHRpb25zPzogT3B0aW9ucyk6IEludGVyYWN0YWJsZVxuICBnZXRQb2ludGVyQXZlcmFnZTogdHlwZW9mIHBvaW50ZXJVdGlscy5wb2ludGVyQXZlcmFnZVxuICBnZXRUb3VjaEJCb3g6IHR5cGVvZiBwb2ludGVyVXRpbHMudG91Y2hCQm94XG4gIGdldFRvdWNoRGlzdGFuY2U6IHR5cGVvZiBwb2ludGVyVXRpbHMudG91Y2hEaXN0YW5jZVxuICBnZXRUb3VjaEFuZ2xlOiB0eXBlb2YgcG9pbnRlclV0aWxzLnRvdWNoQW5nbGVcbiAgZ2V0RWxlbWVudFJlY3Q6IHR5cGVvZiBkb21VdGlscy5nZXRFbGVtZW50UmVjdFxuICBnZXRFbGVtZW50Q2xpZW50UmVjdDogdHlwZW9mIGRvbVV0aWxzLmdldEVsZW1lbnRDbGllbnRSZWN0XG4gIG1hdGNoZXNTZWxlY3RvcjogdHlwZW9mIGRvbVV0aWxzLm1hdGNoZXNTZWxlY3RvclxuICBjbG9zZXN0OiB0eXBlb2YgZG9tVXRpbHMuY2xvc2VzdFxuICAvKiogQGludGVybmFsICovIGdsb2JhbEV2ZW50czogYW55XG4gIHZlcnNpb246IHN0cmluZ1xuICAvKiogQGludGVybmFsICovIHNjb3BlOiBTY29wZVxuICAvKipcbiAgICogVXNlIGEgcGx1Z2luXG4gICAqL1xuICB1c2UoXG4gICAgcGx1Z2luOiBQbHVnaW4sXG4gICAgb3B0aW9ucz86IHtcbiAgICAgIFtrZXk6IHN0cmluZ106IGFueVxuICAgIH0sXG4gICk6IGFueVxuICAvKipcbiAgICogQ2hlY2sgaWYgYW4gZWxlbWVudCBvciBzZWxlY3RvciBoYXMgYmVlbiBzZXQgd2l0aCB0aGUgYGludGVyYWN0KHRhcmdldClgXG4gICAqIGZ1bmN0aW9uXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IEluZGljYXRlcyBpZiB0aGUgZWxlbWVudCBvciBDU1Mgc2VsZWN0b3Igd2FzIHByZXZpb3VzbHlcbiAgICogcGFzc2VkIHRvIGludGVyYWN0XG4gICAqL1xuICBpc1NldChcbiAgICAvKiBUaGUgRWxlbWVudCBvciBzdHJpbmcgYmVpbmcgc2VhcmNoZWQgZm9yICovXG4gICAgdGFyZ2V0OiBUYXJnZXQsXG4gICAgb3B0aW9ucz86IGFueSxcbiAgKTogYm9vbGVhblxuICBvbih0eXBlOiBzdHJpbmcgfCBFdmVudFR5cGVzLCBsaXN0ZW5lcjogTGlzdGVuZXJzQXJnLCBvcHRpb25zPzogb2JqZWN0KTogYW55XG4gIG9mZih0eXBlOiBFdmVudFR5cGVzLCBsaXN0ZW5lcjogYW55LCBvcHRpb25zPzogb2JqZWN0KTogYW55XG4gIGRlYnVnKCk6IGFueVxuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdG91Y2ggaW5wdXRcbiAgICovXG4gIHN1cHBvcnRzVG91Y2goKTogYm9vbGVhblxuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdGhlIGJyb3dzZXIgc3VwcG9ydHMgUG9pbnRlckV2ZW50c1xuICAgKi9cbiAgc3VwcG9ydHNQb2ludGVyRXZlbnQoKTogYm9vbGVhblxuICAvKipcbiAgICogQ2FuY2VscyBhbGwgaW50ZXJhY3Rpb25zIChlbmQgZXZlbnRzIGFyZSBub3QgZmlyZWQpXG4gICAqL1xuICBzdG9wKCk6IEludGVyYWN0U3RhdGljXG4gIC8qKlxuICAgKiBSZXR1cm5zIG9yIHNldHMgdGhlIGRpc3RhbmNlIHRoZSBwb2ludGVyIG11c3QgYmUgbW92ZWQgYmVmb3JlIGFuIGFjdGlvblxuICAgKiBzZXF1ZW5jZSBvY2N1cnMuIFRoaXMgYWxzbyBhZmZlY3RzIHRvbGVyYW5jZSBmb3IgdGFwIGV2ZW50cy5cbiAgICovXG4gIHBvaW50ZXJNb3ZlVG9sZXJhbmNlKFxuICAgIC8qKiBUaGUgbW92ZW1lbnQgZnJvbSB0aGUgc3RhcnQgcG9zaXRpb24gbXVzdCBiZSBncmVhdGVyIHRoYW4gdGhpcyB2YWx1ZSAqL1xuICAgIG5ld1ZhbHVlPzogbnVtYmVyLFxuICApOiBJbnRlcmFjdFN0YXRpYyB8IG51bWJlclxuICBhZGREb2N1bWVudChkb2M6IERvY3VtZW50LCBvcHRpb25zPzogb2JqZWN0KTogdm9pZFxuICByZW1vdmVEb2N1bWVudChkb2M6IERvY3VtZW50KTogdm9pZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW50ZXJhY3RTdGF0aWMoc2NvcGU6IFNjb3BlKTogSW50ZXJhY3RTdGF0aWMge1xuICBjb25zdCBpbnRlcmFjdCA9ICgodGFyZ2V0OiBUYXJnZXQsIG9wdGlvbnM6IE9wdGlvbnMpID0+IHtcbiAgICBsZXQgaW50ZXJhY3RhYmxlID0gc2NvcGUuaW50ZXJhY3RhYmxlcy5nZXRFeGlzdGluZyh0YXJnZXQsIG9wdGlvbnMpXG5cbiAgICBpZiAoIWludGVyYWN0YWJsZSkge1xuICAgICAgaW50ZXJhY3RhYmxlID0gc2NvcGUuaW50ZXJhY3RhYmxlcy5uZXcodGFyZ2V0LCBvcHRpb25zKVxuICAgICAgaW50ZXJhY3RhYmxlLmV2ZW50cy5nbG9iYWwgPSBpbnRlcmFjdC5nbG9iYWxFdmVudHNcbiAgICB9XG5cbiAgICByZXR1cm4gaW50ZXJhY3RhYmxlXG4gIH0pIGFzIEludGVyYWN0U3RhdGljXG5cbiAgLy8gZXhwb3NlIHRoZSBmdW5jdGlvbnMgdXNlZCB0byBjYWxjdWxhdGUgbXVsdGktdG91Y2ggcHJvcGVydGllc1xuICBpbnRlcmFjdC5nZXRQb2ludGVyQXZlcmFnZSA9IHBvaW50ZXJVdGlscy5wb2ludGVyQXZlcmFnZVxuICBpbnRlcmFjdC5nZXRUb3VjaEJCb3ggPSBwb2ludGVyVXRpbHMudG91Y2hCQm94XG4gIGludGVyYWN0LmdldFRvdWNoRGlzdGFuY2UgPSBwb2ludGVyVXRpbHMudG91Y2hEaXN0YW5jZVxuICBpbnRlcmFjdC5nZXRUb3VjaEFuZ2xlID0gcG9pbnRlclV0aWxzLnRvdWNoQW5nbGVcblxuICBpbnRlcmFjdC5nZXRFbGVtZW50UmVjdCA9IGRvbVV0aWxzLmdldEVsZW1lbnRSZWN0XG4gIGludGVyYWN0LmdldEVsZW1lbnRDbGllbnRSZWN0ID0gZG9tVXRpbHMuZ2V0RWxlbWVudENsaWVudFJlY3RcbiAgaW50ZXJhY3QubWF0Y2hlc1NlbGVjdG9yID0gZG9tVXRpbHMubWF0Y2hlc1NlbGVjdG9yXG4gIGludGVyYWN0LmNsb3Nlc3QgPSBkb21VdGlscy5jbG9zZXN0XG5cbiAgaW50ZXJhY3QuZ2xvYmFsRXZlbnRzID0ge30gYXMgYW55XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIGludGVyYWN0LnZlcnNpb24gPSBwcm9jZXNzLmVudi5ucG1fcGFja2FnZV92ZXJzaW9uXG4gIGludGVyYWN0LnNjb3BlID0gc2NvcGVcbiAgaW50ZXJhY3QudXNlID0gZnVuY3Rpb24gKHBsdWdpbiwgb3B0aW9ucykge1xuICAgIHRoaXMuc2NvcGUudXNlUGx1Z2luKHBsdWdpbiwgb3B0aW9ucylcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBpbnRlcmFjdC5pc1NldCA9IGZ1bmN0aW9uICh0YXJnZXQ6IFRhcmdldCwgb3B0aW9ucz86IHsgY29udGV4dD86IENvbnRleHQgfSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMuc2NvcGUuaW50ZXJhY3RhYmxlcy5nZXQodGFyZ2V0LCBvcHRpb25zICYmIG9wdGlvbnMuY29udGV4dClcbiAgfVxuXG4gIGludGVyYWN0Lm9uID0gd2Fybk9uY2UoZnVuY3Rpb24gb24odHlwZTogc3RyaW5nIHwgRXZlbnRUeXBlcywgbGlzdGVuZXI6IExpc3RlbmVyc0FyZywgb3B0aW9ucz86IG9iamVjdCkge1xuICAgIGlmIChpcy5zdHJpbmcodHlwZSkgJiYgdHlwZS5zZWFyY2goJyAnKSAhPT0gLTEpIHtcbiAgICAgIHR5cGUgPSB0eXBlLnRyaW0oKS5zcGxpdCgvICsvKVxuICAgIH1cblxuICAgIGlmIChpcy5hcnJheSh0eXBlKSkge1xuICAgICAgZm9yIChjb25zdCBldmVudFR5cGUgb2YgdHlwZSBhcyBhbnlbXSkge1xuICAgICAgICB0aGlzLm9uKGV2ZW50VHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgaWYgKGlzLm9iamVjdCh0eXBlKSkge1xuICAgICAgZm9yIChjb25zdCBwcm9wIGluIHR5cGUpIHtcbiAgICAgICAgdGhpcy5vbihwcm9wLCAodHlwZSBhcyBhbnkpW3Byb3BdLCBsaXN0ZW5lcilcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvLyBpZiBpdCBpcyBhbiBJbnRlcmFjdEV2ZW50IHR5cGUsIGFkZCBsaXN0ZW5lciB0byBnbG9iYWxFdmVudHNcbiAgICBpZiAoaXNOb25OYXRpdmVFdmVudCh0eXBlLCB0aGlzLnNjb3BlLmFjdGlvbnMpKSB7XG4gICAgICAvLyBpZiB0aGlzIHR5cGUgb2YgZXZlbnQgd2FzIG5ldmVyIGJvdW5kXG4gICAgICBpZiAoIXRoaXMuZ2xvYmFsRXZlbnRzW3R5cGVdKSB7XG4gICAgICAgIHRoaXMuZ2xvYmFsRXZlbnRzW3R5cGVdID0gW2xpc3RlbmVyXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5nbG9iYWxFdmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcilcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gSWYgbm9uIEludGVyYWN0RXZlbnQgdHlwZSwgYWRkRXZlbnRMaXN0ZW5lciB0byBkb2N1bWVudFxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zY29wZS5ldmVudHMuYWRkKHRoaXMuc2NvcGUuZG9jdW1lbnQsIHR5cGUsIGxpc3RlbmVyIGFzIExpc3RlbmVyLCB7IG9wdGlvbnMgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9LCAnVGhlIGludGVyYWN0Lm9uKCkgbWV0aG9kIGlzIGJlaW5nIGRlcHJlY2F0ZWQnKVxuXG4gIGludGVyYWN0Lm9mZiA9IHdhcm5PbmNlKGZ1bmN0aW9uIG9mZih0eXBlOiBFdmVudFR5cGVzLCBsaXN0ZW5lcjogYW55LCBvcHRpb25zPzogb2JqZWN0KSB7XG4gICAgaWYgKGlzLnN0cmluZyh0eXBlKSAmJiB0eXBlLnNlYXJjaCgnICcpICE9PSAtMSkge1xuICAgICAgdHlwZSA9IHR5cGUudHJpbSgpLnNwbGl0KC8gKy8pXG4gICAgfVxuXG4gICAgaWYgKGlzLmFycmF5KHR5cGUpKSB7XG4gICAgICBmb3IgKGNvbnN0IGV2ZW50VHlwZSBvZiB0eXBlKSB7XG4gICAgICAgIHRoaXMub2ZmKGV2ZW50VHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgaWYgKGlzLm9iamVjdCh0eXBlKSkge1xuICAgICAgZm9yIChjb25zdCBwcm9wIGluIHR5cGUpIHtcbiAgICAgICAgdGhpcy5vZmYocHJvcCwgdHlwZVtwcm9wXSwgbGlzdGVuZXIpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgaWYgKGlzTm9uTmF0aXZlRXZlbnQodHlwZSwgdGhpcy5zY29wZS5hY3Rpb25zKSkge1xuICAgICAgbGV0IGluZGV4OiBudW1iZXJcblxuICAgICAgaWYgKHR5cGUgaW4gdGhpcy5nbG9iYWxFdmVudHMgJiYgKGluZGV4ID0gdGhpcy5nbG9iYWxFdmVudHNbdHlwZV0uaW5kZXhPZihsaXN0ZW5lcikpICE9PSAtMSkge1xuICAgICAgICB0aGlzLmdsb2JhbEV2ZW50c1t0eXBlXS5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2NvcGUuZXZlbnRzLnJlbW92ZSh0aGlzLnNjb3BlLmRvY3VtZW50LCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucylcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9LCAnVGhlIGludGVyYWN0Lm9mZigpIG1ldGhvZCBpcyBiZWluZyBkZXByZWNhdGVkJylcblxuICBpbnRlcmFjdC5kZWJ1ZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5zY29wZVxuICB9XG5cbiAgaW50ZXJhY3Quc3VwcG9ydHNUb3VjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYnJvd3Nlci5zdXBwb3J0c1RvdWNoXG4gIH1cblxuICBpbnRlcmFjdC5zdXBwb3J0c1BvaW50ZXJFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYnJvd3Nlci5zdXBwb3J0c1BvaW50ZXJFdmVudFxuICB9XG5cbiAgaW50ZXJhY3Quc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKGNvbnN0IGludGVyYWN0aW9uIG9mIHRoaXMuc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QpIHtcbiAgICAgIGludGVyYWN0aW9uLnN0b3AoKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBpbnRlcmFjdC5wb2ludGVyTW92ZVRvbGVyYW5jZSA9IGZ1bmN0aW9uIChuZXdWYWx1ZT86IG51bWJlcikge1xuICAgIGlmIChpcy5udW1iZXIobmV3VmFsdWUpKSB7XG4gICAgICB0aGlzLnNjb3BlLmludGVyYWN0aW9ucy5wb2ludGVyTW92ZVRvbGVyYW5jZSA9IG5ld1ZhbHVlXG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc2NvcGUuaW50ZXJhY3Rpb25zLnBvaW50ZXJNb3ZlVG9sZXJhbmNlXG4gIH1cblxuICBpbnRlcmFjdC5hZGREb2N1bWVudCA9IGZ1bmN0aW9uIChkb2M6IERvY3VtZW50LCBvcHRpb25zPzogb2JqZWN0KSB7XG4gICAgdGhpcy5zY29wZS5hZGREb2N1bWVudChkb2MsIG9wdGlvbnMpXG4gIH1cblxuICBpbnRlcmFjdC5yZW1vdmVEb2N1bWVudCA9IGZ1bmN0aW9uIChkb2M6IERvY3VtZW50KSB7XG4gICAgdGhpcy5zY29wZS5yZW1vdmVEb2N1bWVudChkb2MpXG4gIH1cblxuICByZXR1cm4gaW50ZXJhY3Rcbn1cbiIsICJpbXBvcnQgeyBTY29wZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5cbmNvbnN0IHNjb3BlID0gbmV3IFNjb3BlKClcblxuY29uc3QgaW50ZXJhY3QgPSBzY29wZS5pbnRlcmFjdFN0YXRpY1xuXG5leHBvcnQgZGVmYXVsdCBpbnRlcmFjdFxuXG5jb25zdCBfZ2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpc1xuc2NvcGUuaW5pdChfZ2xvYmFsKVxuIiwgImV4cG9ydCBkZWZhdWx0ICgpID0+IHt9XG4iLCAiZXhwb3J0IGRlZmF1bHQgKCkgPT4ge31cbiIsICJpbXBvcnQgdHlwZSB7IFJlY3QsIFBvaW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCB0eXBlIHsgU25hcEZ1bmN0aW9uLCBTbmFwVGFyZ2V0IH0gZnJvbSAnQGludGVyYWN0anMvbW9kaWZpZXJzL3NuYXAvcG9pbnRlcidcblxuZXhwb3J0IGludGVyZmFjZSBHcmlkT3B0aW9uc0Jhc2Uge1xuICByYW5nZT86IG51bWJlclxuICBsaW1pdHM/OiBSZWN0XG4gIG9mZnNldD86IFBvaW50XG59XG5leHBvcnQgaW50ZXJmYWNlIEdyaWRPcHRpb25zWFkgZXh0ZW5kcyBHcmlkT3B0aW9uc0Jhc2Uge1xuICB4OiBudW1iZXJcbiAgeTogbnVtYmVyXG59XG5leHBvcnQgaW50ZXJmYWNlIEdyaWRPcHRpb25zVG9wTGVmdCBleHRlbmRzIEdyaWRPcHRpb25zQmFzZSB7XG4gIHRvcD86IG51bWJlclxuICBsZWZ0PzogbnVtYmVyXG59XG5leHBvcnQgaW50ZXJmYWNlIEdyaWRPcHRpb25zQm90dG9tUmlnaHQgZXh0ZW5kcyBHcmlkT3B0aW9uc0Jhc2Uge1xuICBib3R0b20/OiBudW1iZXJcbiAgcmlnaHQ/OiBudW1iZXJcbn1cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZE9wdGlvbnNXaWR0aEhlaWdodCBleHRlbmRzIEdyaWRPcHRpb25zQmFzZSB7XG4gIHdpZHRoPzogbnVtYmVyXG4gIGhlaWdodD86IG51bWJlclxufVxuXG5leHBvcnQgdHlwZSBHcmlkT3B0aW9ucyA9IEdyaWRPcHRpb25zWFkgfCBHcmlkT3B0aW9uc1RvcExlZnQgfCBHcmlkT3B0aW9uc0JvdHRvbVJpZ2h0IHwgR3JpZE9wdGlvbnNXaWR0aEhlaWdodFxuXG5leHBvcnQgZGVmYXVsdCAoZ3JpZDogR3JpZE9wdGlvbnMpID0+IHtcbiAgY29uc3QgY29vcmRGaWVsZHMgPSAoXG4gICAgW1xuICAgICAgWyd4JywgJ3knXSxcbiAgICAgIFsnbGVmdCcsICd0b3AnXSxcbiAgICAgIFsncmlnaHQnLCAnYm90dG9tJ10sXG4gICAgICBbJ3dpZHRoJywgJ2hlaWdodCddLFxuICAgIF0gYXMgY29uc3RcbiAgKS5maWx0ZXIoKFt4RmllbGQsIHlGaWVsZF0pID0+IHhGaWVsZCBpbiBncmlkIHx8IHlGaWVsZCBpbiBncmlkKVxuXG4gIGNvbnN0IGdyaWRGdW5jOiBTbmFwRnVuY3Rpb24gJiB7XG4gICAgZ3JpZDogdHlwZW9mIGdyaWRcbiAgICBjb29yZEZpZWxkczogdHlwZW9mIGNvb3JkRmllbGRzXG4gIH0gPSAoeCwgeSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHJhbmdlLFxuICAgICAgbGltaXRzID0ge1xuICAgICAgICBsZWZ0OiAtSW5maW5pdHksXG4gICAgICAgIHJpZ2h0OiBJbmZpbml0eSxcbiAgICAgICAgdG9wOiAtSW5maW5pdHksXG4gICAgICAgIGJvdHRvbTogSW5maW5pdHksXG4gICAgICB9LFxuICAgICAgb2Zmc2V0ID0geyB4OiAwLCB5OiAwIH0sXG4gICAgfSA9IGdyaWRcblxuICAgIGNvbnN0IHJlc3VsdDogU25hcFRhcmdldCAmIHtcbiAgICAgIGdyaWQ6IHR5cGVvZiBncmlkXG4gICAgfSA9IHsgcmFuZ2UsIGdyaWQsIHg6IG51bGwgYXMgbnVtYmVyLCB5OiBudWxsIGFzIG51bWJlciB9XG5cbiAgICBmb3IgKGNvbnN0IFt4RmllbGQsIHlGaWVsZF0gb2YgY29vcmRGaWVsZHMpIHtcbiAgICAgIGNvbnN0IGdyaWR4ID0gTWF0aC5yb3VuZCgoeCAtIG9mZnNldC54KSAvIChncmlkIGFzIGFueSlbeEZpZWxkXSlcbiAgICAgIGNvbnN0IGdyaWR5ID0gTWF0aC5yb3VuZCgoeSAtIG9mZnNldC55KSAvIChncmlkIGFzIGFueSlbeUZpZWxkXSlcblxuICAgICAgcmVzdWx0W3hGaWVsZF0gPSBNYXRoLm1heChsaW1pdHMubGVmdCwgTWF0aC5taW4obGltaXRzLnJpZ2h0LCBncmlkeCAqIChncmlkIGFzIGFueSlbeEZpZWxkXSArIG9mZnNldC54KSlcbiAgICAgIHJlc3VsdFt5RmllbGRdID0gTWF0aC5tYXgobGltaXRzLnRvcCwgTWF0aC5taW4obGltaXRzLmJvdHRvbSwgZ3JpZHkgKiAoZ3JpZCBhcyBhbnkpW3lGaWVsZF0gKyBvZmZzZXQueSkpXG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgZ3JpZEZ1bmMuZ3JpZCA9IGdyaWRcbiAgZ3JpZEZ1bmMuY29vcmRGaWVsZHMgPSBjb29yZEZpZWxkc1xuXG4gIHJldHVybiBncmlkRnVuY1xufVxuIiwgImltcG9ydCB0eXBlIHsgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuXG5pbXBvcnQgKiBhcyBhbGxTbmFwcGVycyBmcm9tICcuL2FsbCdcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RTdGF0aWMnIHtcbiAgZXhwb3J0IGludGVyZmFjZSBJbnRlcmFjdFN0YXRpYyB7XG4gICAgc25hcHBlcnM6IHR5cGVvZiBhbGxTbmFwcGVyc1xuICAgIGNyZWF0ZVNuYXBHcmlkOiB0eXBlb2YgYWxsU25hcHBlcnMuZ3JpZFxuICB9XG59XG5cbmNvbnN0IHNuYXBwZXJzUGx1Z2luOiBQbHVnaW4gPSB7XG4gIGlkOiAnc25hcHBlcnMnLFxuICBpbnN0YWxsKHNjb3BlKSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdFN0YXRpYzogaW50ZXJhY3QgfSA9IHNjb3BlXG5cbiAgICBpbnRlcmFjdC5zbmFwcGVycyA9IGV4dGVuZChpbnRlcmFjdC5zbmFwcGVycyB8fCB7fSwgYWxsU25hcHBlcnMpXG4gICAgaW50ZXJhY3QuY3JlYXRlU25hcEdyaWQgPSBpbnRlcmFjdC5zbmFwcGVycy5ncmlkXG4gIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IHNuYXBwZXJzUGx1Z2luXG4iLCAiLyoqXG4gKiBAbW9kdWxlIG1vZGlmaWVycy9hc3BlY3RSYXRpb1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBtb2RpZmllciBmb3JjZXMgZWxlbWVudHMgdG8gYmUgcmVzaXplZCB3aXRoIGEgc3BlY2lmaWVkIGR4L2R5IHJhdGlvLlxuICpcbiAqIGBgYGpzXG4gKiBpbnRlcmFjdCh0YXJnZXQpLnJlc2l6YWJsZSh7XG4gKiAgIG1vZGlmaWVyczogW1xuICogICAgIGludGVyYWN0Lm1vZGlmaWVycy5zbmFwU2l6ZSh7XG4gKiAgICAgICB0YXJnZXRzOiBbIGludGVyYWN0LnNuYXBwZXJzLmdyaWQoeyB4OiAyMCwgeTogMjAgfSkgXSxcbiAqICAgICB9KSxcbiAqICAgICBpbnRlcmFjdC5hc3BlY3RSYXRpbyh7IHJhdGlvOiAncHJlc2VydmUnIH0pLFxuICogICBdLFxuICogfSk7XG4gKiBgYGBcbiAqL1xuXG5pbXBvcnQgdHlwZSB7IFBvaW50LCBSZWN0LCBFZGdlT3B0aW9ucyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCB7IGFkZEVkZ2VzIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcmVjdCdcblxuaW1wb3J0IHsgbWFrZU1vZGlmaWVyIH0gZnJvbSAnLi9iYXNlJ1xuaW1wb3J0IHsgTW9kaWZpY2F0aW9uIH0gZnJvbSAnLi9Nb2RpZmljYXRpb24nXG5pbXBvcnQgdHlwZSB7IE1vZGlmaWVyLCBNb2RpZmllck1vZHVsZSwgTW9kaWZpZXJTdGF0ZSB9IGZyb20gJy4vdHlwZXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgQXNwZWN0UmF0aW9PcHRpb25zIHtcbiAgcmF0aW8/OiBudW1iZXIgfCAncHJlc2VydmUnXG4gIGVxdWFsRGVsdGE/OiBib29sZWFuXG4gIG1vZGlmaWVycz86IE1vZGlmaWVyW11cbiAgZW5hYmxlZD86IGJvb2xlYW5cbn1cblxuZXhwb3J0IHR5cGUgQXNwZWN0UmF0aW9TdGF0ZSA9IE1vZGlmaWVyU3RhdGU8XG4gIEFzcGVjdFJhdGlvT3B0aW9ucyxcbiAge1xuICAgIHN0YXJ0Q29vcmRzOiBQb2ludFxuICAgIHN0YXJ0UmVjdDogUmVjdFxuICAgIGxpbmtlZEVkZ2VzOiBFZGdlT3B0aW9uc1xuICAgIHJhdGlvOiBudW1iZXJcbiAgICBlcXVhbERlbHRhOiBib29sZWFuXG4gICAgeElzUHJpbWFyeUF4aXM6IGJvb2xlYW5cbiAgICBlZGdlU2lnbjoge1xuICAgICAgeDogbnVtYmVyXG4gICAgICB5OiBudW1iZXJcbiAgICB9XG4gICAgc3ViTW9kaWZpY2F0aW9uOiBNb2RpZmljYXRpb25cbiAgfVxuPlxuXG5jb25zdCBhc3BlY3RSYXRpbzogTW9kaWZpZXJNb2R1bGU8QXNwZWN0UmF0aW9PcHRpb25zLCBBc3BlY3RSYXRpb1N0YXRlPiA9IHtcbiAgc3RhcnQoYXJnKSB7XG4gICAgY29uc3QgeyBzdGF0ZSwgcmVjdCwgZWRnZXMsIHBhZ2VDb29yZHM6IGNvb3JkcyB9ID0gYXJnXG4gICAgbGV0IHsgcmF0aW8sIGVuYWJsZWQgfSA9IHN0YXRlLm9wdGlvbnNcbiAgICBjb25zdCB7IGVxdWFsRGVsdGEsIG1vZGlmaWVycyB9ID0gc3RhdGUub3B0aW9uc1xuXG4gICAgaWYgKHJhdGlvID09PSAncHJlc2VydmUnKSB7XG4gICAgICByYXRpbyA9IHJlY3Qud2lkdGggLyByZWN0LmhlaWdodFxuICAgIH1cblxuICAgIHN0YXRlLnN0YXJ0Q29vcmRzID0gZXh0ZW5kKHt9LCBjb29yZHMpXG4gICAgc3RhdGUuc3RhcnRSZWN0ID0gZXh0ZW5kKHt9LCByZWN0KVxuICAgIHN0YXRlLnJhdGlvID0gcmF0aW9cbiAgICBzdGF0ZS5lcXVhbERlbHRhID0gZXF1YWxEZWx0YVxuXG4gICAgY29uc3QgbGlua2VkRWRnZXMgPSAoc3RhdGUubGlua2VkRWRnZXMgPSB7XG4gICAgICB0b3A6IGVkZ2VzLnRvcCB8fCAoZWRnZXMubGVmdCAmJiAhZWRnZXMuYm90dG9tKSxcbiAgICAgIGxlZnQ6IGVkZ2VzLmxlZnQgfHwgKGVkZ2VzLnRvcCAmJiAhZWRnZXMucmlnaHQpLFxuICAgICAgYm90dG9tOiBlZGdlcy5ib3R0b20gfHwgKGVkZ2VzLnJpZ2h0ICYmICFlZGdlcy50b3ApLFxuICAgICAgcmlnaHQ6IGVkZ2VzLnJpZ2h0IHx8IChlZGdlcy5ib3R0b20gJiYgIWVkZ2VzLmxlZnQpLFxuICAgIH0pXG5cbiAgICBzdGF0ZS54SXNQcmltYXJ5QXhpcyA9ICEhKGVkZ2VzLmxlZnQgfHwgZWRnZXMucmlnaHQpXG5cbiAgICBpZiAoc3RhdGUuZXF1YWxEZWx0YSkge1xuICAgICAgY29uc3Qgc2lnbiA9IChsaW5rZWRFZGdlcy5sZWZ0ID8gMSA6IC0xKSAqIChsaW5rZWRFZGdlcy50b3AgPyAxIDogLTEpXG4gICAgICBzdGF0ZS5lZGdlU2lnbiA9IHtcbiAgICAgICAgeDogc2lnbixcbiAgICAgICAgeTogc2lnbixcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuZWRnZVNpZ24gPSB7XG4gICAgICAgIHg6IGxpbmtlZEVkZ2VzLmxlZnQgPyAtMSA6IDEsXG4gICAgICAgIHk6IGxpbmtlZEVkZ2VzLnRvcCA/IC0xIDogMSxcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZW5hYmxlZCAhPT0gZmFsc2UpIHtcbiAgICAgIGV4dGVuZChlZGdlcywgbGlua2VkRWRnZXMpXG4gICAgfVxuXG4gICAgaWYgKCFtb2RpZmllcnM/Lmxlbmd0aCkgcmV0dXJuXG5cbiAgICBjb25zdCBzdWJNb2RpZmljYXRpb24gPSBuZXcgTW9kaWZpY2F0aW9uKGFyZy5pbnRlcmFjdGlvbilcblxuICAgIHN1Yk1vZGlmaWNhdGlvbi5jb3B5RnJvbShhcmcuaW50ZXJhY3Rpb24ubW9kaWZpY2F0aW9uKVxuICAgIHN1Yk1vZGlmaWNhdGlvbi5wcmVwYXJlU3RhdGVzKG1vZGlmaWVycylcblxuICAgIHN0YXRlLnN1Yk1vZGlmaWNhdGlvbiA9IHN1Yk1vZGlmaWNhdGlvblxuICAgIHN1Yk1vZGlmaWNhdGlvbi5zdGFydEFsbCh7IC4uLmFyZyB9KVxuICB9LFxuXG4gIHNldChhcmcpIHtcbiAgICBjb25zdCB7IHN0YXRlLCByZWN0LCBjb29yZHMgfSA9IGFyZ1xuICAgIGNvbnN0IHsgbGlua2VkRWRnZXMgfSA9IHN0YXRlXG4gICAgY29uc3QgaW5pdGlhbENvb3JkcyA9IGV4dGVuZCh7fSwgY29vcmRzKVxuICAgIGNvbnN0IGFzcGVjdE1ldGhvZCA9IHN0YXRlLmVxdWFsRGVsdGEgPyBzZXRFcXVhbERlbHRhIDogc2V0UmF0aW9cblxuICAgIGV4dGVuZChhcmcuZWRnZXMsIGxpbmtlZEVkZ2VzKVxuICAgIGFzcGVjdE1ldGhvZChzdGF0ZSwgc3RhdGUueElzUHJpbWFyeUF4aXMsIGNvb3JkcywgcmVjdClcblxuICAgIGlmICghc3RhdGUuc3ViTW9kaWZpY2F0aW9uKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IGNvcnJlY3RlZFJlY3QgPSBleHRlbmQoe30sIHJlY3QpXG5cbiAgICBhZGRFZGdlcyhsaW5rZWRFZGdlcywgY29ycmVjdGVkUmVjdCwge1xuICAgICAgeDogY29vcmRzLnggLSBpbml0aWFsQ29vcmRzLngsXG4gICAgICB5OiBjb29yZHMueSAtIGluaXRpYWxDb29yZHMueSxcbiAgICB9KVxuXG4gICAgY29uc3QgcmVzdWx0ID0gc3RhdGUuc3ViTW9kaWZpY2F0aW9uLnNldEFsbCh7XG4gICAgICAuLi5hcmcsXG4gICAgICByZWN0OiBjb3JyZWN0ZWRSZWN0LFxuICAgICAgZWRnZXM6IGxpbmtlZEVkZ2VzLFxuICAgICAgcGFnZUNvb3JkczogY29vcmRzLFxuICAgICAgcHJldkNvb3JkczogY29vcmRzLFxuICAgICAgcHJldlJlY3Q6IGNvcnJlY3RlZFJlY3QsXG4gICAgfSlcblxuICAgIGNvbnN0IHsgZGVsdGEgfSA9IHJlc3VsdFxuXG4gICAgaWYgKHJlc3VsdC5jaGFuZ2VkKSB7XG4gICAgICBjb25zdCB4SXNDcml0aWNhbEF4aXMgPSBNYXRoLmFicyhkZWx0YS54KSA+IE1hdGguYWJzKGRlbHRhLnkpXG5cbiAgICAgIC8vIGRvIGFzcGVjdCBtb2RpZmljYXRpb24gYWdhaW4gd2l0aCBjcml0aWNhbCBlZGdlIGF4aXMgYXMgcHJpbWFyeVxuICAgICAgYXNwZWN0TWV0aG9kKHN0YXRlLCB4SXNDcml0aWNhbEF4aXMsIHJlc3VsdC5jb29yZHMsIHJlc3VsdC5yZWN0KVxuICAgICAgZXh0ZW5kKGNvb3JkcywgcmVzdWx0LmNvb3JkcylcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0LmV2ZW50UHJvcHNcbiAgfSxcblxuICBkZWZhdWx0czoge1xuICAgIHJhdGlvOiAncHJlc2VydmUnLFxuICAgIGVxdWFsRGVsdGE6IGZhbHNlLFxuICAgIG1vZGlmaWVyczogW10sXG4gICAgZW5hYmxlZDogZmFsc2UsXG4gIH0sXG59XG5cbmZ1bmN0aW9uIHNldEVxdWFsRGVsdGEoeyBzdGFydENvb3JkcywgZWRnZVNpZ24gfTogQXNwZWN0UmF0aW9TdGF0ZSwgeElzUHJpbWFyeUF4aXM6IGJvb2xlYW4sIGNvb3JkczogUG9pbnQpIHtcbiAgaWYgKHhJc1ByaW1hcnlBeGlzKSB7XG4gICAgY29vcmRzLnkgPSBzdGFydENvb3Jkcy55ICsgKGNvb3Jkcy54IC0gc3RhcnRDb29yZHMueCkgKiBlZGdlU2lnbi55XG4gIH0gZWxzZSB7XG4gICAgY29vcmRzLnggPSBzdGFydENvb3Jkcy54ICsgKGNvb3Jkcy55IC0gc3RhcnRDb29yZHMueSkgKiBlZGdlU2lnbi54XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0UmF0aW8oXG4gIHsgc3RhcnRSZWN0LCBzdGFydENvb3JkcywgcmF0aW8sIGVkZ2VTaWduIH06IEFzcGVjdFJhdGlvU3RhdGUsXG4gIHhJc1ByaW1hcnlBeGlzOiBib29sZWFuLFxuICBjb29yZHM6IFBvaW50LFxuICByZWN0OiBSZWN0LFxuKSB7XG4gIGlmICh4SXNQcmltYXJ5QXhpcykge1xuICAgIGNvbnN0IG5ld0hlaWdodCA9IHJlY3Qud2lkdGggLyByYXRpb1xuXG4gICAgY29vcmRzLnkgPSBzdGFydENvb3Jkcy55ICsgKG5ld0hlaWdodCAtIHN0YXJ0UmVjdC5oZWlnaHQpICogZWRnZVNpZ24ueVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IG5ld1dpZHRoID0gcmVjdC5oZWlnaHQgKiByYXRpb1xuXG4gICAgY29vcmRzLnggPSBzdGFydENvb3Jkcy54ICsgKG5ld1dpZHRoIC0gc3RhcnRSZWN0LndpZHRoKSAqIGVkZ2VTaWduLnhcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBtYWtlTW9kaWZpZXIoYXNwZWN0UmF0aW8sICdhc3BlY3RSYXRpbycpXG5leHBvcnQgeyBhc3BlY3RSYXRpbyB9XG4iLCAiaW1wb3J0IHR5cGUgeyBNb2RpZmllckZ1bmN0aW9uIH0gZnJvbSAnLi90eXBlcydcblxuY29uc3Qgbm9vcCA9ICgoKSA9PiB7fSkgYXMgdW5rbm93biBhcyBNb2RpZmllckZ1bmN0aW9uPGFueSwgYW55LCAnbm9vcCc+XG5cbm5vb3AuX2RlZmF1bHRzID0ge31cblxuZXhwb3J0IGRlZmF1bHQgbm9vcFxuIiwgImltcG9ydCB0eXBlIEludGVyYWN0aW9uIGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFJlY3RSZXNvbHZhYmxlLCBSZWN0LCBQb2ludCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcbmltcG9ydCAqIGFzIHJlY3RVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yZWN0J1xuXG5pbXBvcnQgeyBtYWtlTW9kaWZpZXIgfSBmcm9tICcuLi9iYXNlJ1xuaW1wb3J0IHR5cGUgeyBNb2RpZmllckFyZywgTW9kaWZpZXJNb2R1bGUsIE1vZGlmaWVyU3RhdGUgfSBmcm9tICcuLi90eXBlcydcblxuZXhwb3J0IGludGVyZmFjZSBSZXN0cmljdE9wdGlvbnMge1xuICAvLyB3aGVyZSB0byBkcmFnIG92ZXJcbiAgcmVzdHJpY3Rpb246IFJlY3RSZXNvbHZhYmxlPFtudW1iZXIsIG51bWJlciwgSW50ZXJhY3Rpb25dPlxuICAvLyB3aGF0IHBhcnQgb2Ygc2VsZiBpcyBhbGxvd2VkIHRvIGRyYWcgb3ZlclxuICBlbGVtZW50UmVjdDogUmVjdFxuICBvZmZzZXQ6IFJlY3RcbiAgLy8gcmVzdHJpY3QganVzdCBiZWZvcmUgdGhlIGVuZCBkcmFnXG4gIGVuZE9ubHk6IGJvb2xlYW5cbiAgZW5hYmxlZD86IGJvb2xlYW5cbn1cblxuZXhwb3J0IHR5cGUgUmVzdHJpY3RTdGF0ZSA9IE1vZGlmaWVyU3RhdGU8XG4gIFJlc3RyaWN0T3B0aW9ucyxcbiAge1xuICAgIG9mZnNldDogUmVjdFxuICB9XG4+XG5cbmZ1bmN0aW9uIHN0YXJ0KHsgcmVjdCwgc3RhcnRPZmZzZXQsIHN0YXRlLCBpbnRlcmFjdGlvbiwgcGFnZUNvb3JkcyB9OiBNb2RpZmllckFyZzxSZXN0cmljdFN0YXRlPikge1xuICBjb25zdCB7IG9wdGlvbnMgfSA9IHN0YXRlXG4gIGNvbnN0IHsgZWxlbWVudFJlY3QgfSA9IG9wdGlvbnNcbiAgY29uc3Qgb2Zmc2V0OiBSZWN0ID0gZXh0ZW5kKFxuICAgIHtcbiAgICAgIGxlZnQ6IDAsXG4gICAgICB0b3A6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIGJvdHRvbTogMCxcbiAgICB9LFxuICAgIG9wdGlvbnMub2Zmc2V0IHx8IHt9LFxuICApXG5cbiAgaWYgKHJlY3QgJiYgZWxlbWVudFJlY3QpIHtcbiAgICBjb25zdCByZXN0cmljdGlvbiA9IGdldFJlc3RyaWN0aW9uUmVjdChvcHRpb25zLnJlc3RyaWN0aW9uLCBpbnRlcmFjdGlvbiwgcGFnZUNvb3JkcylcblxuICAgIGlmIChyZXN0cmljdGlvbikge1xuICAgICAgY29uc3Qgd2lkdGhEaWZmID0gcmVzdHJpY3Rpb24ucmlnaHQgLSByZXN0cmljdGlvbi5sZWZ0IC0gcmVjdC53aWR0aFxuICAgICAgY29uc3QgaGVpZ2h0RGlmZiA9IHJlc3RyaWN0aW9uLmJvdHRvbSAtIHJlc3RyaWN0aW9uLnRvcCAtIHJlY3QuaGVpZ2h0XG5cbiAgICAgIGlmICh3aWR0aERpZmYgPCAwKSB7XG4gICAgICAgIG9mZnNldC5sZWZ0ICs9IHdpZHRoRGlmZlxuICAgICAgICBvZmZzZXQucmlnaHQgKz0gd2lkdGhEaWZmXG4gICAgICB9XG4gICAgICBpZiAoaGVpZ2h0RGlmZiA8IDApIHtcbiAgICAgICAgb2Zmc2V0LnRvcCArPSBoZWlnaHREaWZmXG4gICAgICAgIG9mZnNldC5ib3R0b20gKz0gaGVpZ2h0RGlmZlxuICAgICAgfVxuICAgIH1cblxuICAgIG9mZnNldC5sZWZ0ICs9IHN0YXJ0T2Zmc2V0LmxlZnQgLSByZWN0LndpZHRoICogZWxlbWVudFJlY3QubGVmdFxuICAgIG9mZnNldC50b3AgKz0gc3RhcnRPZmZzZXQudG9wIC0gcmVjdC5oZWlnaHQgKiBlbGVtZW50UmVjdC50b3BcblxuICAgIG9mZnNldC5yaWdodCArPSBzdGFydE9mZnNldC5yaWdodCAtIHJlY3Qud2lkdGggKiAoMSAtIGVsZW1lbnRSZWN0LnJpZ2h0KVxuICAgIG9mZnNldC5ib3R0b20gKz0gc3RhcnRPZmZzZXQuYm90dG9tIC0gcmVjdC5oZWlnaHQgKiAoMSAtIGVsZW1lbnRSZWN0LmJvdHRvbSlcbiAgfVxuXG4gIHN0YXRlLm9mZnNldCA9IG9mZnNldFxufVxuXG5mdW5jdGlvbiBzZXQoeyBjb29yZHMsIGludGVyYWN0aW9uLCBzdGF0ZSB9OiBNb2RpZmllckFyZzxSZXN0cmljdFN0YXRlPikge1xuICBjb25zdCB7IG9wdGlvbnMsIG9mZnNldCB9ID0gc3RhdGVcblxuICBjb25zdCByZXN0cmljdGlvbiA9IGdldFJlc3RyaWN0aW9uUmVjdChvcHRpb25zLnJlc3RyaWN0aW9uLCBpbnRlcmFjdGlvbiwgY29vcmRzKVxuXG4gIGlmICghcmVzdHJpY3Rpb24pIHJldHVyblxuXG4gIGNvbnN0IHJlY3QgPSByZWN0VXRpbHMueHl3aFRvVGxicihyZXN0cmljdGlvbilcblxuICBjb29yZHMueCA9IE1hdGgubWF4KE1hdGgubWluKHJlY3QucmlnaHQgLSBvZmZzZXQucmlnaHQsIGNvb3Jkcy54KSwgcmVjdC5sZWZ0ICsgb2Zmc2V0LmxlZnQpXG4gIGNvb3Jkcy55ID0gTWF0aC5tYXgoTWF0aC5taW4ocmVjdC5ib3R0b20gLSBvZmZzZXQuYm90dG9tLCBjb29yZHMueSksIHJlY3QudG9wICsgb2Zmc2V0LnRvcClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlc3RyaWN0aW9uUmVjdChcbiAgdmFsdWU6IFJlY3RSZXNvbHZhYmxlPFtudW1iZXIsIG51bWJlciwgSW50ZXJhY3Rpb25dPixcbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uLFxuICBjb29yZHM/OiBQb2ludCxcbikge1xuICBpZiAoaXMuZnVuYyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gcmVjdFV0aWxzLnJlc29sdmVSZWN0TGlrZSh2YWx1ZSwgaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLCBpbnRlcmFjdGlvbi5lbGVtZW50LCBbXG4gICAgICBjb29yZHMueCxcbiAgICAgIGNvb3Jkcy55LFxuICAgICAgaW50ZXJhY3Rpb24sXG4gICAgXSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVjdFV0aWxzLnJlc29sdmVSZWN0TGlrZSh2YWx1ZSwgaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLCBpbnRlcmFjdGlvbi5lbGVtZW50KVxuICB9XG59XG5cbmNvbnN0IGRlZmF1bHRzOiBSZXN0cmljdE9wdGlvbnMgPSB7XG4gIHJlc3RyaWN0aW9uOiBudWxsLFxuICBlbGVtZW50UmVjdDogbnVsbCxcbiAgb2Zmc2V0OiBudWxsLFxuICBlbmRPbmx5OiBmYWxzZSxcbiAgZW5hYmxlZDogZmFsc2UsXG59XG5cbmNvbnN0IHJlc3RyaWN0OiBNb2RpZmllck1vZHVsZTxSZXN0cmljdE9wdGlvbnMsIFJlc3RyaWN0U3RhdGU+ID0ge1xuICBzdGFydCxcbiAgc2V0LFxuICBkZWZhdWx0cyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFrZU1vZGlmaWVyKHJlc3RyaWN0LCAncmVzdHJpY3QnKVxuZXhwb3J0IHsgcmVzdHJpY3QgfVxuIiwgIi8vIFRoaXMgbW9kaWZpZXIgYWRkcyB0aGUgb3B0aW9ucy5yZXNpemUucmVzdHJpY3RFZGdlcyBzZXR0aW5nIHdoaWNoIHNldHMgbWluIGFuZFxuLy8gbWF4IGZvciB0aGUgdG9wLCBsZWZ0LCBib3R0b20gYW5kIHJpZ2h0IGVkZ2VzIG9mIHRoZSB0YXJnZXQgYmVpbmcgcmVzaXplZC5cbi8vXG4vLyBpbnRlcmFjdCh0YXJnZXQpLnJlc2l6ZSh7XG4vLyAgIGVkZ2VzOiB7IHRvcDogdHJ1ZSwgbGVmdDogdHJ1ZSB9LFxuLy8gICByZXN0cmljdEVkZ2VzOiB7XG4vLyAgICAgaW5uZXI6IHsgdG9wOiAyMDAsIGxlZnQ6IDIwMCwgcmlnaHQ6IDQwMCwgYm90dG9tOiA0MDAgfSxcbi8vICAgICBvdXRlcjogeyB0b3A6ICAgMCwgbGVmdDogICAwLCByaWdodDogNjAwLCBib3R0b206IDYwMCB9LFxuLy8gICB9LFxuLy8gfSlcblxuaW1wb3J0IHR5cGUgeyBQb2ludCwgUmVjdCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCAqIGFzIHJlY3RVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yZWN0J1xuXG5pbXBvcnQgeyBtYWtlTW9kaWZpZXIgfSBmcm9tICcuLi9iYXNlJ1xuaW1wb3J0IHR5cGUgeyBNb2RpZmllckFyZywgTW9kaWZpZXJTdGF0ZSB9IGZyb20gJy4uL3R5cGVzJ1xuXG5pbXBvcnQgdHlwZSB7IFJlc3RyaWN0T3B0aW9ucyB9IGZyb20gJy4vcG9pbnRlcidcbmltcG9ydCB7IGdldFJlc3RyaWN0aW9uUmVjdCB9IGZyb20gJy4vcG9pbnRlcidcblxuZXhwb3J0IGludGVyZmFjZSBSZXN0cmljdEVkZ2VzT3B0aW9ucyB7XG4gIGlubmVyOiBSZXN0cmljdE9wdGlvbnNbJ3Jlc3RyaWN0aW9uJ11cbiAgb3V0ZXI6IFJlc3RyaWN0T3B0aW9uc1sncmVzdHJpY3Rpb24nXVxuICBvZmZzZXQ/OiBSZXN0cmljdE9wdGlvbnNbJ29mZnNldCddXG4gIGVuZE9ubHk6IGJvb2xlYW5cbiAgZW5hYmxlZD86IGJvb2xlYW5cbn1cblxuZXhwb3J0IHR5cGUgUmVzdHJpY3RFZGdlc1N0YXRlID0gTW9kaWZpZXJTdGF0ZTxcbiAgUmVzdHJpY3RFZGdlc09wdGlvbnMsXG4gIHtcbiAgICBpbm5lcjogUmVjdFxuICAgIG91dGVyOiBSZWN0XG4gICAgb2Zmc2V0OiBSZXN0cmljdEVkZ2VzT3B0aW9uc1snb2Zmc2V0J11cbiAgfVxuPlxuXG5jb25zdCBub0lubmVyID0geyB0b3A6ICtJbmZpbml0eSwgbGVmdDogK0luZmluaXR5LCBib3R0b206IC1JbmZpbml0eSwgcmlnaHQ6IC1JbmZpbml0eSB9XG5jb25zdCBub091dGVyID0geyB0b3A6IC1JbmZpbml0eSwgbGVmdDogLUluZmluaXR5LCBib3R0b206ICtJbmZpbml0eSwgcmlnaHQ6ICtJbmZpbml0eSB9XG5cbmZ1bmN0aW9uIHN0YXJ0KHsgaW50ZXJhY3Rpb24sIHN0YXJ0T2Zmc2V0LCBzdGF0ZSB9OiBNb2RpZmllckFyZzxSZXN0cmljdEVkZ2VzU3RhdGU+KSB7XG4gIGNvbnN0IHsgb3B0aW9ucyB9ID0gc3RhdGVcbiAgbGV0IG9mZnNldDogUG9pbnRcblxuICBpZiAob3B0aW9ucykge1xuICAgIGNvbnN0IG9mZnNldFJlY3QgPSBnZXRSZXN0cmljdGlvblJlY3Qob3B0aW9ucy5vZmZzZXQsIGludGVyYWN0aW9uLCBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQucGFnZSlcblxuICAgIG9mZnNldCA9IHJlY3RVdGlscy5yZWN0VG9YWShvZmZzZXRSZWN0KVxuICB9XG5cbiAgb2Zmc2V0ID0gb2Zmc2V0IHx8IHsgeDogMCwgeTogMCB9XG5cbiAgc3RhdGUub2Zmc2V0ID0ge1xuICAgIHRvcDogb2Zmc2V0LnkgKyBzdGFydE9mZnNldC50b3AsXG4gICAgbGVmdDogb2Zmc2V0LnggKyBzdGFydE9mZnNldC5sZWZ0LFxuICAgIGJvdHRvbTogb2Zmc2V0LnkgLSBzdGFydE9mZnNldC5ib3R0b20sXG4gICAgcmlnaHQ6IG9mZnNldC54IC0gc3RhcnRPZmZzZXQucmlnaHQsXG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0KHsgY29vcmRzLCBlZGdlcywgaW50ZXJhY3Rpb24sIHN0YXRlIH06IE1vZGlmaWVyQXJnPFJlc3RyaWN0RWRnZXNTdGF0ZT4pIHtcbiAgY29uc3QgeyBvZmZzZXQsIG9wdGlvbnMgfSA9IHN0YXRlXG5cbiAgaWYgKCFlZGdlcykge1xuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgcGFnZSA9IGV4dGVuZCh7fSwgY29vcmRzKVxuICBjb25zdCBpbm5lciA9IGdldFJlc3RyaWN0aW9uUmVjdChvcHRpb25zLmlubmVyLCBpbnRlcmFjdGlvbiwgcGFnZSkgfHwgKHt9IGFzIFJlY3QpXG4gIGNvbnN0IG91dGVyID0gZ2V0UmVzdHJpY3Rpb25SZWN0KG9wdGlvbnMub3V0ZXIsIGludGVyYWN0aW9uLCBwYWdlKSB8fCAoe30gYXMgUmVjdClcblxuICBmaXhSZWN0KGlubmVyLCBub0lubmVyKVxuICBmaXhSZWN0KG91dGVyLCBub091dGVyKVxuXG4gIGlmIChlZGdlcy50b3ApIHtcbiAgICBjb29yZHMueSA9IE1hdGgubWluKE1hdGgubWF4KG91dGVyLnRvcCArIG9mZnNldC50b3AsIHBhZ2UueSksIGlubmVyLnRvcCArIG9mZnNldC50b3ApXG4gIH0gZWxzZSBpZiAoZWRnZXMuYm90dG9tKSB7XG4gICAgY29vcmRzLnkgPSBNYXRoLm1heChNYXRoLm1pbihvdXRlci5ib3R0b20gKyBvZmZzZXQuYm90dG9tLCBwYWdlLnkpLCBpbm5lci5ib3R0b20gKyBvZmZzZXQuYm90dG9tKVxuICB9XG4gIGlmIChlZGdlcy5sZWZ0KSB7XG4gICAgY29vcmRzLnggPSBNYXRoLm1pbihNYXRoLm1heChvdXRlci5sZWZ0ICsgb2Zmc2V0LmxlZnQsIHBhZ2UueCksIGlubmVyLmxlZnQgKyBvZmZzZXQubGVmdClcbiAgfSBlbHNlIGlmIChlZGdlcy5yaWdodCkge1xuICAgIGNvb3Jkcy54ID0gTWF0aC5tYXgoTWF0aC5taW4ob3V0ZXIucmlnaHQgKyBvZmZzZXQucmlnaHQsIHBhZ2UueCksIGlubmVyLnJpZ2h0ICsgb2Zmc2V0LnJpZ2h0KVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpeFJlY3QocmVjdDogUmVjdCwgZGVmYXVsdHM6IFJlY3QpIHtcbiAgZm9yIChjb25zdCBlZGdlIG9mIFsndG9wJywgJ2xlZnQnLCAnYm90dG9tJywgJ3JpZ2h0J10pIHtcbiAgICBpZiAoIShlZGdlIGluIHJlY3QpKSB7XG4gICAgICByZWN0W2VkZ2VdID0gZGVmYXVsdHNbZWRnZV1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVjdFxufVxuXG5jb25zdCBkZWZhdWx0czogUmVzdHJpY3RFZGdlc09wdGlvbnMgPSB7XG4gIGlubmVyOiBudWxsLFxuICBvdXRlcjogbnVsbCxcbiAgb2Zmc2V0OiBudWxsLFxuICBlbmRPbmx5OiBmYWxzZSxcbiAgZW5hYmxlZDogZmFsc2UsXG59XG5cbmNvbnN0IHJlc3RyaWN0RWRnZXMgPSB7XG4gIG5vSW5uZXIsXG4gIG5vT3V0ZXIsXG4gIHN0YXJ0LFxuICBzZXQsXG4gIGRlZmF1bHRzLFxufVxuXG5leHBvcnQgZGVmYXVsdCBtYWtlTW9kaWZpZXIocmVzdHJpY3RFZGdlcywgJ3Jlc3RyaWN0RWRnZXMnKVxuZXhwb3J0IHsgcmVzdHJpY3RFZGdlcyB9XG4iLCAiaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5cbmltcG9ydCB7IG1ha2VNb2RpZmllciB9IGZyb20gJy4uL2Jhc2UnXG5cbmltcG9ydCB7IHJlc3RyaWN0IH0gZnJvbSAnLi9wb2ludGVyJ1xuXG5jb25zdCBkZWZhdWx0cyA9IGV4dGVuZChcbiAge1xuICAgIGdldCBlbGVtZW50UmVjdCgpIHtcbiAgICAgIHJldHVybiB7IHRvcDogMCwgbGVmdDogMCwgYm90dG9tOiAxLCByaWdodDogMSB9XG4gICAgfSxcbiAgICBzZXQgZWxlbWVudFJlY3QoXykge30sXG4gIH0sXG4gIHJlc3RyaWN0LmRlZmF1bHRzLFxuKVxuXG5jb25zdCByZXN0cmljdFJlY3QgPSB7XG4gIHN0YXJ0OiByZXN0cmljdC5zdGFydCxcbiAgc2V0OiByZXN0cmljdC5zZXQsXG4gIGRlZmF1bHRzLFxufVxuXG5leHBvcnQgZGVmYXVsdCBtYWtlTW9kaWZpZXIocmVzdHJpY3RSZWN0LCAncmVzdHJpY3RSZWN0JylcbmV4cG9ydCB7IHJlc3RyaWN0UmVjdCB9XG4iLCAiaW1wb3J0IHR5cGUgeyBQb2ludCwgUmVjdCwgU2l6ZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCAqIGFzIHJlY3RVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yZWN0J1xuXG5pbXBvcnQgeyBtYWtlTW9kaWZpZXIgfSBmcm9tICcuLi9iYXNlJ1xuaW1wb3J0IHR5cGUgeyBNb2RpZmllckFyZywgTW9kaWZpZXJTdGF0ZSB9IGZyb20gJy4uL3R5cGVzJ1xuXG5pbXBvcnQgdHlwZSB7IFJlc3RyaWN0RWRnZXNTdGF0ZSB9IGZyb20gJy4vZWRnZXMnXG5pbXBvcnQgeyByZXN0cmljdEVkZ2VzIH0gZnJvbSAnLi9lZGdlcydcbmltcG9ydCB0eXBlIHsgUmVzdHJpY3RPcHRpb25zIH0gZnJvbSAnLi9wb2ludGVyJ1xuaW1wb3J0IHsgZ2V0UmVzdHJpY3Rpb25SZWN0IH0gZnJvbSAnLi9wb2ludGVyJ1xuXG5jb25zdCBub01pbiA9IHsgd2lkdGg6IC1JbmZpbml0eSwgaGVpZ2h0OiAtSW5maW5pdHkgfVxuY29uc3Qgbm9NYXggPSB7IHdpZHRoOiArSW5maW5pdHksIGhlaWdodDogK0luZmluaXR5IH1cblxuZXhwb3J0IGludGVyZmFjZSBSZXN0cmljdFNpemVPcHRpb25zIHtcbiAgbWluPzogU2l6ZSB8IFBvaW50IHwgUmVzdHJpY3RPcHRpb25zWydyZXN0cmljdGlvbiddXG4gIG1heD86IFNpemUgfCBQb2ludCB8IFJlc3RyaWN0T3B0aW9uc1sncmVzdHJpY3Rpb24nXVxuICBlbmRPbmx5OiBib29sZWFuXG4gIGVuYWJsZWQ/OiBib29sZWFuXG59XG5cbmZ1bmN0aW9uIHN0YXJ0KGFyZzogTW9kaWZpZXJBcmc8UmVzdHJpY3RFZGdlc1N0YXRlPikge1xuICByZXR1cm4gcmVzdHJpY3RFZGdlcy5zdGFydChhcmcpXG59XG5cbmV4cG9ydCB0eXBlIFJlc3RyaWN0U2l6ZVN0YXRlID0gUmVzdHJpY3RFZGdlc1N0YXRlICZcbiAgTW9kaWZpZXJTdGF0ZTxcbiAgICBSZXN0cmljdFNpemVPcHRpb25zICYgeyBpbm5lcjogUmVjdDsgb3V0ZXI6IFJlY3QgfSxcbiAgICB7XG4gICAgICBtaW46IFJlY3RcbiAgICAgIG1heDogUmVjdFxuICAgIH1cbiAgPlxuXG5mdW5jdGlvbiBzZXQoYXJnOiBNb2RpZmllckFyZzxSZXN0cmljdFNpemVTdGF0ZT4pIHtcbiAgY29uc3QgeyBpbnRlcmFjdGlvbiwgc3RhdGUsIHJlY3QsIGVkZ2VzIH0gPSBhcmdcbiAgY29uc3QgeyBvcHRpb25zIH0gPSBzdGF0ZVxuXG4gIGlmICghZWRnZXMpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IG1pblNpemUgPVxuICAgIHJlY3RVdGlscy50bGJyVG9YeXdoKGdldFJlc3RyaWN0aW9uUmVjdChvcHRpb25zLm1pbiBhcyBhbnksIGludGVyYWN0aW9uLCBhcmcuY29vcmRzKSkgfHwgbm9NaW5cbiAgY29uc3QgbWF4U2l6ZSA9XG4gICAgcmVjdFV0aWxzLnRsYnJUb1h5d2goZ2V0UmVzdHJpY3Rpb25SZWN0KG9wdGlvbnMubWF4IGFzIGFueSwgaW50ZXJhY3Rpb24sIGFyZy5jb29yZHMpKSB8fCBub01heFxuXG4gIHN0YXRlLm9wdGlvbnMgPSB7XG4gICAgZW5kT25seTogb3B0aW9ucy5lbmRPbmx5LFxuICAgIGlubmVyOiBleHRlbmQoe30sIHJlc3RyaWN0RWRnZXMubm9Jbm5lciksXG4gICAgb3V0ZXI6IGV4dGVuZCh7fSwgcmVzdHJpY3RFZGdlcy5ub091dGVyKSxcbiAgfVxuXG4gIGlmIChlZGdlcy50b3ApIHtcbiAgICBzdGF0ZS5vcHRpb25zLmlubmVyLnRvcCA9IHJlY3QuYm90dG9tIC0gbWluU2l6ZS5oZWlnaHRcbiAgICBzdGF0ZS5vcHRpb25zLm91dGVyLnRvcCA9IHJlY3QuYm90dG9tIC0gbWF4U2l6ZS5oZWlnaHRcbiAgfSBlbHNlIGlmIChlZGdlcy5ib3R0b20pIHtcbiAgICBzdGF0ZS5vcHRpb25zLmlubmVyLmJvdHRvbSA9IHJlY3QudG9wICsgbWluU2l6ZS5oZWlnaHRcbiAgICBzdGF0ZS5vcHRpb25zLm91dGVyLmJvdHRvbSA9IHJlY3QudG9wICsgbWF4U2l6ZS5oZWlnaHRcbiAgfVxuICBpZiAoZWRnZXMubGVmdCkge1xuICAgIHN0YXRlLm9wdGlvbnMuaW5uZXIubGVmdCA9IHJlY3QucmlnaHQgLSBtaW5TaXplLndpZHRoXG4gICAgc3RhdGUub3B0aW9ucy5vdXRlci5sZWZ0ID0gcmVjdC5yaWdodCAtIG1heFNpemUud2lkdGhcbiAgfSBlbHNlIGlmIChlZGdlcy5yaWdodCkge1xuICAgIHN0YXRlLm9wdGlvbnMuaW5uZXIucmlnaHQgPSByZWN0LmxlZnQgKyBtaW5TaXplLndpZHRoXG4gICAgc3RhdGUub3B0aW9ucy5vdXRlci5yaWdodCA9IHJlY3QubGVmdCArIG1heFNpemUud2lkdGhcbiAgfVxuXG4gIHJlc3RyaWN0RWRnZXMuc2V0KGFyZylcblxuICBzdGF0ZS5vcHRpb25zID0gb3B0aW9uc1xufVxuXG5jb25zdCBkZWZhdWx0czogUmVzdHJpY3RTaXplT3B0aW9ucyA9IHtcbiAgbWluOiBudWxsLFxuICBtYXg6IG51bGwsXG4gIGVuZE9ubHk6IGZhbHNlLFxuICBlbmFibGVkOiBmYWxzZSxcbn1cblxuY29uc3QgcmVzdHJpY3RTaXplID0ge1xuICBzdGFydCxcbiAgc2V0LFxuICBkZWZhdWx0cyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFrZU1vZGlmaWVyKHJlc3RyaWN0U2l6ZSwgJ3Jlc3RyaWN0U2l6ZScpXG5leHBvcnQgeyByZXN0cmljdFNpemUgfVxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3Rpb24sIEludGVyYWN0aW9uUHJveHkgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25OYW1lLCBQb2ludCwgUmVjdFJlc29sdmFibGUsIEVsZW1lbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgZ2V0T3JpZ2luWFkgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZ2V0T3JpZ2luWFknXG5pbXBvcnQgaHlwb3QgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaHlwb3QnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5pbXBvcnQgeyByZXNvbHZlUmVjdExpa2UsIHJlY3RUb1hZIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcmVjdCdcblxuaW1wb3J0IHsgbWFrZU1vZGlmaWVyIH0gZnJvbSAnLi4vYmFzZSdcbmltcG9ydCB0eXBlIHsgTW9kaWZpZXJBcmcsIE1vZGlmaWVyU3RhdGUgfSBmcm9tICcuLi90eXBlcydcblxuZXhwb3J0IGludGVyZmFjZSBPZmZzZXQge1xuICB4OiBudW1iZXJcbiAgeTogbnVtYmVyXG4gIGluZGV4OiBudW1iZXJcbiAgcmVsYXRpdmVQb2ludD86IFBvaW50IHwgbnVsbFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNuYXBQb3NpdGlvbiB7XG4gIHg/OiBudW1iZXJcbiAgeT86IG51bWJlclxuICByYW5nZT86IG51bWJlclxuICBvZmZzZXQ/OiBPZmZzZXRcbiAgW2luZGV4OiBzdHJpbmddOiBhbnlcbn1cblxuZXhwb3J0IHR5cGUgU25hcEZ1bmN0aW9uID0gKFxuICB4OiBudW1iZXIsXG4gIHk6IG51bWJlcixcbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uUHJveHk8QWN0aW9uTmFtZT4sXG4gIG9mZnNldDogT2Zmc2V0LFxuICBpbmRleDogbnVtYmVyLFxuKSA9PiBTbmFwUG9zaXRpb25cbmV4cG9ydCB0eXBlIFNuYXBUYXJnZXQgPSBTbmFwUG9zaXRpb24gfCBTbmFwRnVuY3Rpb25cbmV4cG9ydCBpbnRlcmZhY2UgU25hcE9wdGlvbnMge1xuICB0YXJnZXRzPzogU25hcFRhcmdldFtdXG4gIC8vIHRhcmdldCByYW5nZVxuICByYW5nZT86IG51bWJlclxuICAvLyBzZWxmIHBvaW50cyBmb3Igc25hcHBpbmcuIFswLDBdID0gdG9wIGxlZnQsIFsxLDFdID0gYm90dG9tIHJpZ2h0XG4gIHJlbGF0aXZlUG9pbnRzPzogUG9pbnRbXVxuICAvLyBzdGFydENvb3JkcyA9IG9mZnNldCBzbmFwcGluZyBmcm9tIGRyYWcgc3RhcnQgcGFnZSBwb3NpdGlvblxuICBvZmZzZXQ/OiBQb2ludCB8IFJlY3RSZXNvbHZhYmxlPFtJbnRlcmFjdGlvbl0+IHwgJ3N0YXJ0Q29vcmRzJ1xuICBvZmZzZXRXaXRoT3JpZ2luPzogYm9vbGVhblxuICBvcmlnaW4/OiBSZWN0UmVzb2x2YWJsZTxbRWxlbWVudF0+IHwgUG9pbnRcbiAgZW5kT25seT86IGJvb2xlYW5cbiAgZW5hYmxlZD86IGJvb2xlYW5cbn1cblxuZXhwb3J0IHR5cGUgU25hcFN0YXRlID0gTW9kaWZpZXJTdGF0ZTxcbiAgU25hcE9wdGlvbnMsXG4gIHtcbiAgICBvZmZzZXRzPzogT2Zmc2V0W11cbiAgICBjbG9zZXN0PzogYW55XG4gICAgdGFyZ2V0RmllbGRzPzogc3RyaW5nW11bXVxuICB9XG4+XG5cbmZ1bmN0aW9uIHN0YXJ0KGFyZzogTW9kaWZpZXJBcmc8U25hcFN0YXRlPikge1xuICBjb25zdCB7IGludGVyYWN0aW9uLCBpbnRlcmFjdGFibGUsIGVsZW1lbnQsIHJlY3QsIHN0YXRlLCBzdGFydE9mZnNldCB9ID0gYXJnXG4gIGNvbnN0IHsgb3B0aW9ucyB9ID0gc3RhdGVcbiAgY29uc3Qgb3JpZ2luID0gb3B0aW9ucy5vZmZzZXRXaXRoT3JpZ2luID8gZ2V0T3JpZ2luKGFyZykgOiB7IHg6IDAsIHk6IDAgfVxuXG4gIGxldCBzbmFwT2Zmc2V0OiBQb2ludFxuXG4gIGlmIChvcHRpb25zLm9mZnNldCA9PT0gJ3N0YXJ0Q29vcmRzJykge1xuICAgIHNuYXBPZmZzZXQgPSB7XG4gICAgICB4OiBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQucGFnZS54LFxuICAgICAgeTogaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LnBhZ2UueSxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgb2Zmc2V0UmVjdCA9IHJlc29sdmVSZWN0TGlrZShvcHRpb25zLm9mZnNldCBhcyBhbnksIGludGVyYWN0YWJsZSwgZWxlbWVudCwgW2ludGVyYWN0aW9uXSlcblxuICAgIHNuYXBPZmZzZXQgPSByZWN0VG9YWShvZmZzZXRSZWN0KSB8fCB7IHg6IDAsIHk6IDAgfVxuICAgIHNuYXBPZmZzZXQueCArPSBvcmlnaW4ueFxuICAgIHNuYXBPZmZzZXQueSArPSBvcmlnaW4ueVxuICB9XG5cbiAgY29uc3QgeyByZWxhdGl2ZVBvaW50cyB9ID0gb3B0aW9uc1xuXG4gIHN0YXRlLm9mZnNldHMgPVxuICAgIHJlY3QgJiYgcmVsYXRpdmVQb2ludHMgJiYgcmVsYXRpdmVQb2ludHMubGVuZ3RoXG4gICAgICA/IHJlbGF0aXZlUG9pbnRzLm1hcCgocmVsYXRpdmVQb2ludCwgaW5kZXgpID0+ICh7XG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgcmVsYXRpdmVQb2ludCxcbiAgICAgICAgICB4OiBzdGFydE9mZnNldC5sZWZ0IC0gcmVjdC53aWR0aCAqIHJlbGF0aXZlUG9pbnQueCArIHNuYXBPZmZzZXQueCxcbiAgICAgICAgICB5OiBzdGFydE9mZnNldC50b3AgLSByZWN0LmhlaWdodCAqIHJlbGF0aXZlUG9pbnQueSArIHNuYXBPZmZzZXQueSxcbiAgICAgICAgfSkpXG4gICAgICA6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbmRleDogMCxcbiAgICAgICAgICAgIHJlbGF0aXZlUG9pbnQ6IG51bGwsXG4gICAgICAgICAgICB4OiBzbmFwT2Zmc2V0LngsXG4gICAgICAgICAgICB5OiBzbmFwT2Zmc2V0LnksXG4gICAgICAgICAgfSxcbiAgICAgICAgXVxufVxuXG5mdW5jdGlvbiBzZXQoYXJnOiBNb2RpZmllckFyZzxTbmFwU3RhdGU+KSB7XG4gIGNvbnN0IHsgaW50ZXJhY3Rpb24sIGNvb3Jkcywgc3RhdGUgfSA9IGFyZ1xuICBjb25zdCB7IG9wdGlvbnMsIG9mZnNldHMgfSA9IHN0YXRlXG5cbiAgY29uc3Qgb3JpZ2luID0gZ2V0T3JpZ2luWFkoaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlISwgaW50ZXJhY3Rpb24uZWxlbWVudCEsIGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUpXG4gIGNvbnN0IHBhZ2UgPSBleHRlbmQoe30sIGNvb3JkcylcbiAgY29uc3QgdGFyZ2V0czogU25hcFBvc2l0aW9uW10gPSBbXVxuXG4gIGlmICghb3B0aW9ucy5vZmZzZXRXaXRoT3JpZ2luKSB7XG4gICAgcGFnZS54IC09IG9yaWdpbi54XG4gICAgcGFnZS55IC09IG9yaWdpbi55XG4gIH1cblxuICBmb3IgKGNvbnN0IG9mZnNldCBvZiBvZmZzZXRzISkge1xuICAgIGNvbnN0IHJlbGF0aXZlWCA9IHBhZ2UueCAtIG9mZnNldC54XG4gICAgY29uc3QgcmVsYXRpdmVZID0gcGFnZS55IC0gb2Zmc2V0LnlcblxuICAgIGZvciAobGV0IGluZGV4ID0gMCwgbGVuID0gb3B0aW9ucy50YXJnZXRzIS5sZW5ndGg7IGluZGV4IDwgbGVuOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBzbmFwVGFyZ2V0ID0gb3B0aW9ucy50YXJnZXRzIVtpbmRleF1cbiAgICAgIGxldCB0YXJnZXQ6IFNuYXBQb3NpdGlvblxuXG4gICAgICBpZiAoaXMuZnVuYyhzbmFwVGFyZ2V0KSkge1xuICAgICAgICB0YXJnZXQgPSBzbmFwVGFyZ2V0KHJlbGF0aXZlWCwgcmVsYXRpdmVZLCBpbnRlcmFjdGlvbi5fcHJveHksIG9mZnNldCwgaW5kZXgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXQgPSBzbmFwVGFyZ2V0XG4gICAgICB9XG5cbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIHRhcmdldHMucHVzaCh7XG4gICAgICAgIHg6IChpcy5udW1iZXIodGFyZ2V0LngpID8gdGFyZ2V0LnggOiByZWxhdGl2ZVgpICsgb2Zmc2V0LngsXG4gICAgICAgIHk6IChpcy5udW1iZXIodGFyZ2V0LnkpID8gdGFyZ2V0LnkgOiByZWxhdGl2ZVkpICsgb2Zmc2V0LnksXG5cbiAgICAgICAgcmFuZ2U6IGlzLm51bWJlcih0YXJnZXQucmFuZ2UpID8gdGFyZ2V0LnJhbmdlIDogb3B0aW9ucy5yYW5nZSxcbiAgICAgICAgc291cmNlOiBzbmFwVGFyZ2V0LFxuICAgICAgICBpbmRleCxcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBjbG9zZXN0ID0ge1xuICAgIHRhcmdldDogbnVsbCxcbiAgICBpblJhbmdlOiBmYWxzZSxcbiAgICBkaXN0YW5jZTogMCxcbiAgICByYW5nZTogMCxcbiAgICBkZWx0YTogeyB4OiAwLCB5OiAwIH0sXG4gIH1cblxuICBmb3IgKGNvbnN0IHRhcmdldCBvZiB0YXJnZXRzKSB7XG4gICAgY29uc3QgcmFuZ2UgPSB0YXJnZXQucmFuZ2VcbiAgICBjb25zdCBkeCA9IHRhcmdldC54IC0gcGFnZS54XG4gICAgY29uc3QgZHkgPSB0YXJnZXQueSAtIHBhZ2UueVxuICAgIGNvbnN0IGRpc3RhbmNlID0gaHlwb3QoZHgsIGR5KVxuICAgIGxldCBpblJhbmdlID0gZGlzdGFuY2UgPD0gcmFuZ2VcblxuICAgIC8vIEluZmluaXRlIHRhcmdldHMgY291bnQgYXMgYmVpbmcgb3V0IG9mIHJhbmdlXG4gICAgLy8gY29tcGFyZWQgdG8gbm9uIGluZmluaXRlIG9uZXMgdGhhdCBhcmUgaW4gcmFuZ2VcbiAgICBpZiAocmFuZ2UgPT09IEluZmluaXR5ICYmIGNsb3Nlc3QuaW5SYW5nZSAmJiBjbG9zZXN0LnJhbmdlICE9PSBJbmZpbml0eSkge1xuICAgICAgaW5SYW5nZSA9IGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgIWNsb3Nlc3QudGFyZ2V0IHx8XG4gICAgICAoaW5SYW5nZVxuICAgICAgICA/IC8vIGlzIHRoZSBjbG9zZXN0IHRhcmdldCBpbiByYW5nZT9cbiAgICAgICAgICBjbG9zZXN0LmluUmFuZ2UgJiYgcmFuZ2UgIT09IEluZmluaXR5XG4gICAgICAgICAgPyAvLyB0aGUgcG9pbnRlciBpcyByZWxhdGl2ZWx5IGRlZXBlciBpbiB0aGlzIHRhcmdldFxuICAgICAgICAgICAgZGlzdGFuY2UgLyByYW5nZSA8IGNsb3Nlc3QuZGlzdGFuY2UgLyBjbG9zZXN0LnJhbmdlXG4gICAgICAgICAgOiAvLyB0aGlzIHRhcmdldCBoYXMgSW5maW5pdGUgcmFuZ2UgYW5kIHRoZSBjbG9zZXN0IGRvZXNuJ3RcbiAgICAgICAgICAgIChyYW5nZSA9PT0gSW5maW5pdHkgJiYgY2xvc2VzdC5yYW5nZSAhPT0gSW5maW5pdHkpIHx8XG4gICAgICAgICAgICAvLyBPUiB0aGlzIHRhcmdldCBpcyBjbG9zZXIgdGhhdCB0aGUgcHJldmlvdXMgY2xvc2VzdFxuICAgICAgICAgICAgZGlzdGFuY2UgPCBjbG9zZXN0LmRpc3RhbmNlXG4gICAgICAgIDogLy8gVGhlIG90aGVyIGlzIG5vdCBpbiByYW5nZSBhbmQgdGhlIHBvaW50ZXIgaXMgY2xvc2VyIHRvIHRoaXMgdGFyZ2V0XG4gICAgICAgICAgIWNsb3Nlc3QuaW5SYW5nZSAmJiBkaXN0YW5jZSA8IGNsb3Nlc3QuZGlzdGFuY2UpXG4gICAgKSB7XG4gICAgICBjbG9zZXN0LnRhcmdldCA9IHRhcmdldFxuICAgICAgY2xvc2VzdC5kaXN0YW5jZSA9IGRpc3RhbmNlXG4gICAgICBjbG9zZXN0LnJhbmdlID0gcmFuZ2VcbiAgICAgIGNsb3Nlc3QuaW5SYW5nZSA9IGluUmFuZ2VcbiAgICAgIGNsb3Nlc3QuZGVsdGEueCA9IGR4XG4gICAgICBjbG9zZXN0LmRlbHRhLnkgPSBkeVxuICAgIH1cbiAgfVxuXG4gIGlmIChjbG9zZXN0LmluUmFuZ2UpIHtcbiAgICBjb29yZHMueCA9IGNsb3Nlc3QudGFyZ2V0LnhcbiAgICBjb29yZHMueSA9IGNsb3Nlc3QudGFyZ2V0LnlcbiAgfVxuXG4gIHN0YXRlLmNsb3Nlc3QgPSBjbG9zZXN0XG4gIHJldHVybiBjbG9zZXN0XG59XG5cbmZ1bmN0aW9uIGdldE9yaWdpbihhcmc6IFBhcnRpYWw8TW9kaWZpZXJBcmc8U25hcFN0YXRlPj4pIHtcbiAgY29uc3QgeyBlbGVtZW50IH0gPSBhcmcuaW50ZXJhY3Rpb25cbiAgY29uc3Qgb3B0aW9uc09yaWdpbiA9IHJlY3RUb1hZKHJlc29sdmVSZWN0TGlrZShhcmcuc3RhdGUub3B0aW9ucy5vcmlnaW4gYXMgYW55LCBudWxsLCBudWxsLCBbZWxlbWVudF0pKVxuICBjb25zdCBvcmlnaW4gPSBvcHRpb25zT3JpZ2luIHx8IGdldE9yaWdpblhZKGFyZy5pbnRlcmFjdGFibGUsIGVsZW1lbnQsIGFyZy5pbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lKVxuXG4gIHJldHVybiBvcmlnaW5cbn1cblxuY29uc3QgZGVmYXVsdHM6IFNuYXBPcHRpb25zID0ge1xuICByYW5nZTogSW5maW5pdHksXG4gIHRhcmdldHM6IG51bGwsXG4gIG9mZnNldDogbnVsbCxcbiAgb2Zmc2V0V2l0aE9yaWdpbjogdHJ1ZSxcbiAgb3JpZ2luOiBudWxsLFxuICByZWxhdGl2ZVBvaW50czogbnVsbCxcbiAgZW5kT25seTogZmFsc2UsXG4gIGVuYWJsZWQ6IGZhbHNlLFxufVxuY29uc3Qgc25hcCA9IHtcbiAgc3RhcnQsXG4gIHNldCxcbiAgZGVmYXVsdHMsXG59XG5cbmV4cG9ydCBkZWZhdWx0IG1ha2VNb2RpZmllcihzbmFwLCAnc25hcCcpXG5leHBvcnQgeyBzbmFwIH1cbiIsICIvLyBUaGlzIG1vZGlmaWVyIGFsbG93cyBzbmFwcGluZyBvZiB0aGUgc2l6ZSBvZiB0YXJnZXRzIGR1cmluZyByZXNpemVcbi8vIGludGVyYWN0aW9ucy5cblxuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5cbmltcG9ydCB7IG1ha2VNb2RpZmllciB9IGZyb20gJy4uL2Jhc2UnXG5pbXBvcnQgdHlwZSB7IE1vZGlmaWVyQXJnIH0gZnJvbSAnLi4vdHlwZXMnXG5cbmltcG9ydCB0eXBlIHsgU25hcE9wdGlvbnMsIFNuYXBTdGF0ZSB9IGZyb20gJy4vcG9pbnRlcidcbmltcG9ydCB7IHNuYXAgfSBmcm9tICcuL3BvaW50ZXInXG5cbmV4cG9ydCB0eXBlIFNuYXBTaXplT3B0aW9ucyA9IFBpY2s8U25hcE9wdGlvbnMsICd0YXJnZXRzJyB8ICdvZmZzZXQnIHwgJ2VuZE9ubHknIHwgJ3JhbmdlJyB8ICdlbmFibGVkJz5cblxuZnVuY3Rpb24gc3RhcnQoYXJnOiBNb2RpZmllckFyZzxTbmFwU3RhdGU+KSB7XG4gIGNvbnN0IHsgc3RhdGUsIGVkZ2VzIH0gPSBhcmdcbiAgY29uc3QgeyBvcHRpb25zIH0gPSBzdGF0ZVxuXG4gIGlmICghZWRnZXMpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgYXJnLnN0YXRlID0ge1xuICAgIG9wdGlvbnM6IHtcbiAgICAgIHRhcmdldHM6IG51bGwsXG4gICAgICByZWxhdGl2ZVBvaW50czogW1xuICAgICAgICB7XG4gICAgICAgICAgeDogZWRnZXMubGVmdCA/IDAgOiAxLFxuICAgICAgICAgIHk6IGVkZ2VzLnRvcCA/IDAgOiAxLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIG9mZnNldDogb3B0aW9ucy5vZmZzZXQgfHwgJ3NlbGYnLFxuICAgICAgb3JpZ2luOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgIHJhbmdlOiBvcHRpb25zLnJhbmdlLFxuICAgIH0sXG4gIH1cblxuICBzdGF0ZS50YXJnZXRGaWVsZHMgPSBzdGF0ZS50YXJnZXRGaWVsZHMgfHwgW1xuICAgIFsnd2lkdGgnLCAnaGVpZ2h0J10sXG4gICAgWyd4JywgJ3knXSxcbiAgXVxuXG4gIHNuYXAuc3RhcnQoYXJnKVxuICBzdGF0ZS5vZmZzZXRzID0gYXJnLnN0YXRlLm9mZnNldHNcblxuICBhcmcuc3RhdGUgPSBzdGF0ZVxufVxuXG5mdW5jdGlvbiBzZXQoYXJnKSB7XG4gIGNvbnN0IHsgaW50ZXJhY3Rpb24sIHN0YXRlLCBjb29yZHMgfSA9IGFyZ1xuICBjb25zdCB7IG9wdGlvbnMsIG9mZnNldHMgfSA9IHN0YXRlXG4gIGNvbnN0IHJlbGF0aXZlID0ge1xuICAgIHg6IGNvb3Jkcy54IC0gb2Zmc2V0c1swXS54LFxuICAgIHk6IGNvb3Jkcy55IC0gb2Zmc2V0c1swXS55LFxuICB9XG5cbiAgc3RhdGUub3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucylcbiAgc3RhdGUub3B0aW9ucy50YXJnZXRzID0gW11cblxuICBmb3IgKGNvbnN0IHNuYXBUYXJnZXQgb2Ygb3B0aW9ucy50YXJnZXRzIHx8IFtdKSB7XG4gICAgbGV0IHRhcmdldFxuXG4gICAgaWYgKGlzLmZ1bmMoc25hcFRhcmdldCkpIHtcbiAgICAgIHRhcmdldCA9IHNuYXBUYXJnZXQocmVsYXRpdmUueCwgcmVsYXRpdmUueSwgaW50ZXJhY3Rpb24pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldCA9IHNuYXBUYXJnZXRcbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IFt4RmllbGQsIHlGaWVsZF0gb2Ygc3RhdGUudGFyZ2V0RmllbGRzKSB7XG4gICAgICBpZiAoeEZpZWxkIGluIHRhcmdldCB8fCB5RmllbGQgaW4gdGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldC54ID0gdGFyZ2V0W3hGaWVsZF1cbiAgICAgICAgdGFyZ2V0LnkgPSB0YXJnZXRbeUZpZWxkXVxuXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGUub3B0aW9ucy50YXJnZXRzLnB1c2godGFyZ2V0KVxuICB9XG5cbiAgY29uc3QgcmV0dXJuVmFsdWUgPSBzbmFwLnNldChhcmcpXG5cbiAgc3RhdGUub3B0aW9ucyA9IG9wdGlvbnNcblxuICByZXR1cm4gcmV0dXJuVmFsdWVcbn1cblxuY29uc3QgZGVmYXVsdHM6IFNuYXBTaXplT3B0aW9ucyA9IHtcbiAgcmFuZ2U6IEluZmluaXR5LFxuICB0YXJnZXRzOiBudWxsLFxuICBvZmZzZXQ6IG51bGwsXG4gIGVuZE9ubHk6IGZhbHNlLFxuICBlbmFibGVkOiBmYWxzZSxcbn1cblxuY29uc3Qgc25hcFNpemUgPSB7XG4gIHN0YXJ0LFxuICBzZXQsXG4gIGRlZmF1bHRzLFxufVxuXG5leHBvcnQgZGVmYXVsdCBtYWtlTW9kaWZpZXIoc25hcFNpemUsICdzbmFwU2l6ZScpXG5leHBvcnQgeyBzbmFwU2l6ZSB9XG4iLCAiLyoqXG4gKiBAbW9kdWxlIG1vZGlmaWVycy9zbmFwRWRnZXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoaXMgbW9kaWZpZXIgYWxsb3dzIHNuYXBwaW5nIG9mIHRoZSBlZGdlcyBvZiB0YXJnZXRzIGR1cmluZyByZXNpemVcbiAqIGludGVyYWN0aW9ucy5cbiAqXG4gKiBgYGBqc1xuICogaW50ZXJhY3QodGFyZ2V0KS5yZXNpemFibGUoe1xuICogICBzbmFwRWRnZXM6IHtcbiAqICAgICB0YXJnZXRzOiBbaW50ZXJhY3Quc25hcHBlcnMuZ3JpZCh7IHg6IDEwMCwgeTogNTAgfSldLFxuICogICB9LFxuICogfSlcbiAqXG4gKiBpbnRlcmFjdCh0YXJnZXQpLnJlc2l6YWJsZSh7XG4gKiAgIHNuYXBFZGdlczoge1xuICogICAgIHRhcmdldHM6IFtcbiAqICAgICAgIGludGVyYWN0LnNuYXBwZXJzLmdyaWQoe1xuICogICAgICAgIHRvcDogNTAsXG4gKiAgICAgICAgbGVmdDogNTAsXG4gKiAgICAgICAgYm90dG9tOiAxMDAsXG4gKiAgICAgICAgcmlnaHQ6IDEwMCxcbiAqICAgICAgIH0pLFxuICogICAgIF0sXG4gKiAgIH0sXG4gKiB9KVxuICogYGBgXG4gKi9cblxuaW1wb3J0IGNsb25lIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2Nsb25lJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5cbmltcG9ydCB7IG1ha2VNb2RpZmllciB9IGZyb20gJy4uL2Jhc2UnXG5pbXBvcnQgdHlwZSB7IE1vZGlmaWVyQXJnLCBNb2RpZmllck1vZHVsZSB9IGZyb20gJy4uL3R5cGVzJ1xuXG5pbXBvcnQgdHlwZSB7IFNuYXBPcHRpb25zLCBTbmFwU3RhdGUgfSBmcm9tICcuL3BvaW50ZXInXG5pbXBvcnQgeyBzbmFwU2l6ZSB9IGZyb20gJy4vc2l6ZSdcblxuZXhwb3J0IHR5cGUgU25hcEVkZ2VzT3B0aW9ucyA9IFBpY2s8U25hcE9wdGlvbnMsICd0YXJnZXRzJyB8ICdyYW5nZScgfCAnb2Zmc2V0JyB8ICdlbmRPbmx5JyB8ICdlbmFibGVkJz5cblxuZnVuY3Rpb24gc3RhcnQoYXJnOiBNb2RpZmllckFyZzxTbmFwU3RhdGU+KSB7XG4gIGNvbnN0IHsgZWRnZXMgfSA9IGFyZ1xuXG4gIGlmICghZWRnZXMpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgYXJnLnN0YXRlLnRhcmdldEZpZWxkcyA9IGFyZy5zdGF0ZS50YXJnZXRGaWVsZHMgfHwgW1xuICAgIFtlZGdlcy5sZWZ0ID8gJ2xlZnQnIDogJ3JpZ2h0JywgZWRnZXMudG9wID8gJ3RvcCcgOiAnYm90dG9tJ10sXG4gIF1cblxuICByZXR1cm4gc25hcFNpemUuc3RhcnQoYXJnKVxufVxuXG5jb25zdCBzbmFwRWRnZXM6IE1vZGlmaWVyTW9kdWxlPFNuYXBFZGdlc09wdGlvbnMsIFNuYXBTdGF0ZSwgUmV0dXJuVHlwZTx0eXBlb2Ygc25hcFNpemUuc2V0Pj4gPSB7XG4gIHN0YXJ0LFxuICBzZXQ6IHNuYXBTaXplLnNldCxcbiAgZGVmYXVsdHM6IGV4dGVuZChjbG9uZShzbmFwU2l6ZS5kZWZhdWx0cyksIHtcbiAgICB0YXJnZXRzOiB1bmRlZmluZWQsXG4gICAgcmFuZ2U6IHVuZGVmaW5lZCxcbiAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICB9IGFzIGNvbnN0KSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFrZU1vZGlmaWVyKHNuYXBFZGdlcywgJ3NuYXBFZGdlcycpXG5leHBvcnQgeyBzbmFwRWRnZXMgfVxuIiwgIi8qIGVzbGludC1kaXNhYmxlIG4vbm8tZXh0cmFuZW91cy1pbXBvcnQsIGltcG9ydC9uby11bnJlc29sdmVkICovXG5pbXBvcnQgYXNwZWN0UmF0aW8gZnJvbSAnLi9hc3BlY3RSYXRpbydcbmltcG9ydCBhdm9pZCBmcm9tICcuL2F2b2lkL2F2b2lkJ1xuaW1wb3J0IHJlc3RyaWN0RWRnZXMgZnJvbSAnLi9yZXN0cmljdC9lZGdlcydcbmltcG9ydCByZXN0cmljdCBmcm9tICcuL3Jlc3RyaWN0L3BvaW50ZXInXG5pbXBvcnQgcmVzdHJpY3RSZWN0IGZyb20gJy4vcmVzdHJpY3QvcmVjdCdcbmltcG9ydCByZXN0cmljdFNpemUgZnJvbSAnLi9yZXN0cmljdC9zaXplJ1xuaW1wb3J0IHJ1YmJlcmJhbmQgZnJvbSAnLi9ydWJiZXJiYW5kL3J1YmJlcmJhbmQnXG5pbXBvcnQgc25hcEVkZ2VzIGZyb20gJy4vc25hcC9lZGdlcydcbmltcG9ydCBzbmFwIGZyb20gJy4vc25hcC9wb2ludGVyJ1xuaW1wb3J0IHNuYXBTaXplIGZyb20gJy4vc25hcC9zaXplJ1xuaW1wb3J0IHNwcmluZyBmcm9tICcuL3NwcmluZy9zcHJpbmcnXG5pbXBvcnQgdHJhbnNmb3JtIGZyb20gJy4vdHJhbnNmb3JtL3RyYW5zZm9ybSdcblxuZXhwb3J0IGRlZmF1bHQge1xuICBhc3BlY3RSYXRpbyxcbiAgcmVzdHJpY3RFZGdlcyxcbiAgcmVzdHJpY3QsXG4gIHJlc3RyaWN0UmVjdCxcbiAgcmVzdHJpY3RTaXplLFxuICBzbmFwRWRnZXMsXG4gIHNuYXAsXG4gIHNuYXBTaXplLFxuXG4gIHNwcmluZyxcbiAgYXZvaWQsXG4gIHRyYW5zZm9ybSxcbiAgcnViYmVyYmFuZCxcbn1cbiIsICJpbXBvcnQgdHlwZSB7IFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgc25hcHBlcnMgZnJvbSAnQGludGVyYWN0anMvc25hcHBlcnMvcGx1Z2luJ1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICcuL2FsbCdcbmltcG9ydCAnLi9iYXNlJ1xuXG5pbXBvcnQgYWxsIGZyb20gJy4vYWxsJ1xuaW1wb3J0IGJhc2UgZnJvbSAnLi9iYXNlJ1xuLyogZXNsaW50LWVuYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAqL1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdFN0YXRpYycge1xuICBleHBvcnQgaW50ZXJmYWNlIEludGVyYWN0U3RhdGljIHtcbiAgICBtb2RpZmllcnM6IHR5cGVvZiBhbGxcbiAgfVxufVxuXG5jb25zdCBtb2RpZmllcnM6IFBsdWdpbiA9IHtcbiAgaWQ6ICdtb2RpZmllcnMnLFxuICBpbnN0YWxsKHNjb3BlKSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdFN0YXRpYzogaW50ZXJhY3QgfSA9IHNjb3BlXG5cbiAgICBzY29wZS51c2VQbHVnaW4oYmFzZSlcbiAgICBzY29wZS51c2VQbHVnaW4oc25hcHBlcnMpXG5cbiAgICBpbnRlcmFjdC5tb2RpZmllcnMgPSBhbGxcblxuICAgIC8vIGZvciBiYWNrd3JhZHMgY29tcGF0aWJpbGl0eVxuICAgIGZvciAoY29uc3QgdHlwZSBpbiBhbGwpIHtcbiAgICAgIGNvbnN0IHsgX2RlZmF1bHRzLCBfbWV0aG9kcyB9ID0gYWxsW3R5cGUgYXMga2V5b2YgdHlwZW9mIGFsbF1cblxuICAgICAgOyhfZGVmYXVsdHMgYXMgYW55KS5fbWV0aG9kcyA9IF9tZXRob2RzXG4gICAgICA7KHNjb3BlLmRlZmF1bHRzLnBlckFjdGlvbiBhcyBhbnkpW3R5cGVdID0gX2RlZmF1bHRzXG4gICAgfVxuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBtb2RpZmllcnNcbiIsICJpbXBvcnQgeyBCYXNlRXZlbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0Jhc2VFdmVudCdcbmltcG9ydCB0eXBlIEludGVyYWN0aW9uIGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFBvaW50ZXJFdmVudFR5cGUsIFBvaW50ZXJUeXBlLCBQb2ludCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgKiBhcyBwb2ludGVyVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcG9pbnRlclV0aWxzJ1xuXG5leHBvcnQgY2xhc3MgUG9pbnRlckV2ZW50PFQgZXh0ZW5kcyBzdHJpbmcgPSBhbnk+IGV4dGVuZHMgQmFzZUV2ZW50PG5ldmVyPiB7XG4gIGRlY2xhcmUgdHlwZTogVFxuICBkZWNsYXJlIG9yaWdpbmFsRXZlbnQ6IFBvaW50ZXJFdmVudFR5cGVcbiAgZGVjbGFyZSBwb2ludGVySWQ6IG51bWJlclxuICBkZWNsYXJlIHBvaW50ZXJUeXBlOiBzdHJpbmdcbiAgZGVjbGFyZSBkb3VibGU6IGJvb2xlYW5cbiAgZGVjbGFyZSBwYWdlWDogbnVtYmVyXG4gIGRlY2xhcmUgcGFnZVk6IG51bWJlclxuICBkZWNsYXJlIGNsaWVudFg6IG51bWJlclxuICBkZWNsYXJlIGNsaWVudFk6IG51bWJlclxuICBkZWNsYXJlIGR0OiBudW1iZXJcbiAgZGVjbGFyZSBldmVudGFibGU6IGFueTtcbiAgW2tleTogc3RyaW5nXTogYW55XG5cbiAgY29uc3RydWN0b3IoXG4gICAgdHlwZTogVCxcbiAgICBwb2ludGVyOiBQb2ludGVyVHlwZSB8IFBvaW50ZXJFdmVudDxhbnk+LFxuICAgIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLFxuICAgIGV2ZW50VGFyZ2V0OiBOb2RlLFxuICAgIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxuZXZlcj4sXG4gICAgdGltZVN0YW1wOiBudW1iZXIsXG4gICkge1xuICAgIHN1cGVyKGludGVyYWN0aW9uKVxuICAgIHBvaW50ZXJVdGlscy5wb2ludGVyRXh0ZW5kKHRoaXMsIGV2ZW50KVxuXG4gICAgaWYgKGV2ZW50ICE9PSBwb2ludGVyKSB7XG4gICAgICBwb2ludGVyVXRpbHMucG9pbnRlckV4dGVuZCh0aGlzLCBwb2ludGVyKVxuICAgIH1cblxuICAgIHRoaXMudGltZVN0YW1wID0gdGltZVN0YW1wXG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gZXZlbnRcbiAgICB0aGlzLnR5cGUgPSB0eXBlXG4gICAgdGhpcy5wb2ludGVySWQgPSBwb2ludGVyVXRpbHMuZ2V0UG9pbnRlcklkKHBvaW50ZXIpXG4gICAgdGhpcy5wb2ludGVyVHlwZSA9IHBvaW50ZXJVdGlscy5nZXRQb2ludGVyVHlwZShwb2ludGVyKVxuICAgIHRoaXMudGFyZ2V0ID0gZXZlbnRUYXJnZXRcbiAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsXG5cbiAgICBpZiAodHlwZSA9PT0gJ3RhcCcpIHtcbiAgICAgIGNvbnN0IHBvaW50ZXJJbmRleCA9IGludGVyYWN0aW9uLmdldFBvaW50ZXJJbmRleChwb2ludGVyKVxuICAgICAgdGhpcy5kdCA9IHRoaXMudGltZVN0YW1wIC0gaW50ZXJhY3Rpb24ucG9pbnRlcnNbcG9pbnRlckluZGV4XS5kb3duVGltZVxuXG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHRoaXMudGltZVN0YW1wIC0gaW50ZXJhY3Rpb24udGFwVGltZVxuXG4gICAgICB0aGlzLmRvdWJsZSA9XG4gICAgICAgICEhaW50ZXJhY3Rpb24ucHJldlRhcCAmJlxuICAgICAgICBpbnRlcmFjdGlvbi5wcmV2VGFwLnR5cGUgIT09ICdkb3VibGV0YXAnICYmXG4gICAgICAgIGludGVyYWN0aW9uLnByZXZUYXAudGFyZ2V0ID09PSB0aGlzLnRhcmdldCAmJlxuICAgICAgICBpbnRlcnZhbCA8IDUwMFxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2RvdWJsZXRhcCcpIHtcbiAgICAgIHRoaXMuZHQgPSAocG9pbnRlciBhcyBQb2ludGVyRXZlbnQ8J3RhcCc+KS50aW1lU3RhbXAgLSBpbnRlcmFjdGlvbi50YXBUaW1lXG4gICAgICB0aGlzLmRvdWJsZSA9IHRydWVcbiAgICB9XG4gIH1cblxuICBfc3VidHJhY3RPcmlnaW4oeyB4OiBvcmlnaW5YLCB5OiBvcmlnaW5ZIH06IFBvaW50KSB7XG4gICAgdGhpcy5wYWdlWCAtPSBvcmlnaW5YXG4gICAgdGhpcy5wYWdlWSAtPSBvcmlnaW5ZXG4gICAgdGhpcy5jbGllbnRYIC09IG9yaWdpblhcbiAgICB0aGlzLmNsaWVudFkgLT0gb3JpZ2luWVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIF9hZGRPcmlnaW4oeyB4OiBvcmlnaW5YLCB5OiBvcmlnaW5ZIH06IFBvaW50KSB7XG4gICAgdGhpcy5wYWdlWCArPSBvcmlnaW5YXG4gICAgdGhpcy5wYWdlWSArPSBvcmlnaW5ZXG4gICAgdGhpcy5jbGllbnRYICs9IG9yaWdpblhcbiAgICB0aGlzLmNsaWVudFkgKz0gb3JpZ2luWVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBQcmV2ZW50IHRoZSBkZWZhdWx0IGJlaGF2aW91ciBvZiB0aGUgb3JpZ2luYWwgRXZlbnRcbiAgICovXG4gIHByZXZlbnREZWZhdWx0KCkge1xuICAgIHRoaXMub3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvRXZlbnRhYmxlJ1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGlvbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFBlckFjdGlvbkRlZmF1bHRzIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSwgU2lnbmFsQXJncywgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgUG9pbnQsIFBvaW50ZXJUeXBlLCBQb2ludGVyRXZlbnRUeXBlLCBFbGVtZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCAqIGFzIGRvbVV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgZ2V0T3JpZ2luWFkgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZ2V0T3JpZ2luWFknXG5cbmltcG9ydCB7IFBvaW50ZXJFdmVudCB9IGZyb20gJy4vUG9pbnRlckV2ZW50J1xuXG5leHBvcnQgdHlwZSBFdmVudFRhcmdldExpc3QgPSBBcnJheTx7XG4gIG5vZGU6IE5vZGVcbiAgZXZlbnRhYmxlOiBFdmVudGFibGVcbiAgcHJvcHM6IHsgW2tleTogc3RyaW5nXTogYW55IH1cbn0+XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9pbnRlckV2ZW50T3B0aW9ucyBleHRlbmRzIFBlckFjdGlvbkRlZmF1bHRzIHtcbiAgZW5hYmxlZD86IHVuZGVmaW5lZCAvLyBub3QgdXNlZFxuICBob2xkRHVyYXRpb24/OiBudW1iZXJcbiAgaWdub3JlRnJvbT86IGFueVxuICBhbGxvd0Zyb20/OiBhbnlcbiAgb3JpZ2luPzogUG9pbnQgfCBzdHJpbmcgfCBFbGVtZW50XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJyB7XG4gIGludGVyZmFjZSBTY29wZSB7XG4gICAgcG9pbnRlckV2ZW50czogdHlwZW9mIHBvaW50ZXJFdmVudHNcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbicge1xuICBpbnRlcmZhY2UgSW50ZXJhY3Rpb24ge1xuICAgIHByZXZUYXA/OiBQb2ludGVyRXZlbnQ8c3RyaW5nPlxuICAgIHRhcFRpbWU/OiBudW1iZXJcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9Qb2ludGVySW5mbycge1xuICBpbnRlcmZhY2UgUG9pbnRlckluZm8ge1xuICAgIGhvbGQ/OiB7XG4gICAgICBkdXJhdGlvbjogbnVtYmVyXG4gICAgICB0aW1lb3V0OiBhbnlcbiAgICB9XG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucycge1xuICBpbnRlcmZhY2UgQWN0aW9uRGVmYXVsdHMge1xuICAgIHBvaW50ZXJFdmVudHM6IE9wdGlvbnNcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9zY29wZScge1xuICBpbnRlcmZhY2UgU2lnbmFsQXJncyB7XG4gICAgJ3BvaW50ZXJFdmVudHM6bmV3JzogeyBwb2ludGVyRXZlbnQ6IFBvaW50ZXJFdmVudDxhbnk+IH1cbiAgICAncG9pbnRlckV2ZW50czpmaXJlZCc6IHtcbiAgICAgIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxudWxsPlxuICAgICAgcG9pbnRlcjogUG9pbnRlclR5cGUgfCBQb2ludGVyRXZlbnQ8YW55PlxuICAgICAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUgfCBQb2ludGVyRXZlbnQ8YW55PlxuICAgICAgZXZlbnRUYXJnZXQ6IE5vZGVcbiAgICAgIHBvaW50ZXJFdmVudDogUG9pbnRlckV2ZW50PGFueT5cbiAgICAgIHRhcmdldHM/OiBFdmVudFRhcmdldExpc3RcbiAgICAgIHR5cGU6IHN0cmluZ1xuICAgIH1cbiAgICAncG9pbnRlckV2ZW50czpjb2xsZWN0LXRhcmdldHMnOiB7XG4gICAgICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248YW55PlxuICAgICAgcG9pbnRlcjogUG9pbnRlclR5cGUgfCBQb2ludGVyRXZlbnQ8YW55PlxuICAgICAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUgfCBQb2ludGVyRXZlbnQ8YW55PlxuICAgICAgZXZlbnRUYXJnZXQ6IE5vZGVcbiAgICAgIHRhcmdldHM/OiBFdmVudFRhcmdldExpc3RcbiAgICAgIHR5cGU6IHN0cmluZ1xuICAgICAgcGF0aDogTm9kZVtdXG4gICAgICBub2RlOiBudWxsXG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGRlZmF1bHRzOiBQb2ludGVyRXZlbnRPcHRpb25zID0ge1xuICBob2xkRHVyYXRpb246IDYwMCxcbiAgaWdub3JlRnJvbTogbnVsbCxcbiAgYWxsb3dGcm9tOiBudWxsLFxuICBvcmlnaW46IHsgeDogMCwgeTogMCB9LFxufVxuXG5jb25zdCBwb2ludGVyRXZlbnRzOiBQbHVnaW4gPSB7XG4gIGlkOiAncG9pbnRlci1ldmVudHMvYmFzZScsXG4gIGJlZm9yZTogWydpbmVydGlhJywgJ21vZGlmaWVycycsICdhdXRvLXN0YXJ0JywgJ2FjdGlvbnMnXSxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2ludGVyYWN0aW9uczpuZXcnOiBhZGRJbnRlcmFjdGlvblByb3BzLFxuICAgICdpbnRlcmFjdGlvbnM6dXBkYXRlLXBvaW50ZXInOiBhZGRIb2xkSW5mbyxcbiAgICAnaW50ZXJhY3Rpb25zOm1vdmUnOiBtb3ZlQW5kQ2xlYXJIb2xkLFxuICAgICdpbnRlcmFjdGlvbnM6ZG93bic6IChhcmcsIHNjb3BlKSA9PiB7XG4gICAgICBkb3duQW5kU3RhcnRIb2xkKGFyZywgc2NvcGUpXG4gICAgICBmaXJlKGFyZywgc2NvcGUpXG4gICAgfSxcbiAgICAnaW50ZXJhY3Rpb25zOnVwJzogKGFyZywgc2NvcGUpID0+IHtcbiAgICAgIGNsZWFySG9sZChhcmcpXG4gICAgICBmaXJlKGFyZywgc2NvcGUpXG4gICAgICB0YXBBZnRlclVwKGFyZywgc2NvcGUpXG4gICAgfSxcbiAgICAnaW50ZXJhY3Rpb25zOmNhbmNlbCc6IChhcmcsIHNjb3BlKSA9PiB7XG4gICAgICBjbGVhckhvbGQoYXJnKVxuICAgICAgZmlyZShhcmcsIHNjb3BlKVxuICAgIH0sXG4gIH0sXG4gIFBvaW50ZXJFdmVudCxcbiAgZmlyZSxcbiAgY29sbGVjdEV2ZW50VGFyZ2V0cyxcbiAgZGVmYXVsdHMsXG4gIHR5cGVzOiB7XG4gICAgZG93bjogdHJ1ZSxcbiAgICBtb3ZlOiB0cnVlLFxuICAgIHVwOiB0cnVlLFxuICAgIGNhbmNlbDogdHJ1ZSxcbiAgICB0YXA6IHRydWUsXG4gICAgZG91YmxldGFwOiB0cnVlLFxuICAgIGhvbGQ6IHRydWUsXG4gIH0gYXMgeyBbdHlwZTogc3RyaW5nXTogdHJ1ZSB9LFxufVxuXG5mdW5jdGlvbiBmaXJlPFQgZXh0ZW5kcyBzdHJpbmc+KFxuICBhcmc6IHtcbiAgICBwb2ludGVyOiBQb2ludGVyVHlwZSB8IFBvaW50ZXJFdmVudDxhbnk+XG4gICAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUgfCBQb2ludGVyRXZlbnQ8YW55PlxuICAgIGV2ZW50VGFyZ2V0OiBOb2RlXG4gICAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPG5ldmVyPlxuICAgIHR5cGU6IFRcbiAgICB0YXJnZXRzPzogRXZlbnRUYXJnZXRMaXN0XG4gIH0sXG4gIHNjb3BlOiBTY29wZSxcbikge1xuICBjb25zdCB7IGludGVyYWN0aW9uLCBwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQsIHR5cGUsIHRhcmdldHMgPSBjb2xsZWN0RXZlbnRUYXJnZXRzKGFyZywgc2NvcGUpIH0gPSBhcmdcblxuICBjb25zdCBwb2ludGVyRXZlbnQgPSBuZXcgUG9pbnRlckV2ZW50KHR5cGUsIHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCwgaW50ZXJhY3Rpb24sIHNjb3BlLm5vdygpKVxuXG4gIHNjb3BlLmZpcmUoJ3BvaW50ZXJFdmVudHM6bmV3JywgeyBwb2ludGVyRXZlbnQgfSlcblxuICBjb25zdCBzaWduYWxBcmcgPSB7XG4gICAgaW50ZXJhY3Rpb24sXG4gICAgcG9pbnRlcixcbiAgICBldmVudCxcbiAgICBldmVudFRhcmdldCxcbiAgICB0YXJnZXRzLFxuICAgIHR5cGUsXG4gICAgcG9pbnRlckV2ZW50LFxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YXJnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gdGFyZ2V0c1tpXVxuXG4gICAgZm9yIChjb25zdCBwcm9wIGluIHRhcmdldC5wcm9wcyB8fCB7fSkge1xuICAgICAgOyhwb2ludGVyRXZlbnQgYXMgYW55KVtwcm9wXSA9IHRhcmdldC5wcm9wc1twcm9wXVxuICAgIH1cblxuICAgIGNvbnN0IG9yaWdpbiA9IGdldE9yaWdpblhZKHRhcmdldC5ldmVudGFibGUsIHRhcmdldC5ub2RlKVxuXG4gICAgcG9pbnRlckV2ZW50Ll9zdWJ0cmFjdE9yaWdpbihvcmlnaW4pXG4gICAgcG9pbnRlckV2ZW50LmV2ZW50YWJsZSA9IHRhcmdldC5ldmVudGFibGVcbiAgICBwb2ludGVyRXZlbnQuY3VycmVudFRhcmdldCA9IHRhcmdldC5ub2RlXG5cbiAgICB0YXJnZXQuZXZlbnRhYmxlLmZpcmUocG9pbnRlckV2ZW50KVxuXG4gICAgcG9pbnRlckV2ZW50Ll9hZGRPcmlnaW4ob3JpZ2luKVxuXG4gICAgaWYgKFxuICAgICAgcG9pbnRlckV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCB8fFxuICAgICAgKHBvaW50ZXJFdmVudC5wcm9wYWdhdGlvblN0b3BwZWQgJiZcbiAgICAgICAgaSArIDEgPCB0YXJnZXRzLmxlbmd0aCAmJlxuICAgICAgICB0YXJnZXRzW2kgKyAxXS5ub2RlICE9PSBwb2ludGVyRXZlbnQuY3VycmVudFRhcmdldClcbiAgICApIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgc2NvcGUuZmlyZSgncG9pbnRlckV2ZW50czpmaXJlZCcsIHNpZ25hbEFyZylcblxuICBpZiAodHlwZSA9PT0gJ3RhcCcpIHtcbiAgICAvLyBpZiBwb2ludGVyRXZlbnQgc2hvdWxkIG1ha2UgYSBkb3VibGUgdGFwLCBjcmVhdGUgYW5kIGZpcmUgYSBkb3VibGV0YXBcbiAgICAvLyBQb2ludGVyRXZlbnQgYW5kIHVzZSB0aGF0IGFzIHRoZSBwcmV2VGFwXG4gICAgY29uc3QgcHJldlRhcCA9IHBvaW50ZXJFdmVudC5kb3VibGVcbiAgICAgID8gZmlyZShcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbixcbiAgICAgICAgICAgIHBvaW50ZXIsXG4gICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgIGV2ZW50VGFyZ2V0LFxuICAgICAgICAgICAgdHlwZTogJ2RvdWJsZXRhcCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgKVxuICAgICAgOiBwb2ludGVyRXZlbnRcblxuICAgIGludGVyYWN0aW9uLnByZXZUYXAgPSBwcmV2VGFwXG4gICAgaW50ZXJhY3Rpb24udGFwVGltZSA9IHByZXZUYXAudGltZVN0YW1wXG4gIH1cblxuICByZXR1cm4gcG9pbnRlckV2ZW50XG59XG5cbmZ1bmN0aW9uIGNvbGxlY3RFdmVudFRhcmdldHM8VCBleHRlbmRzIHN0cmluZz4oXG4gIHtcbiAgICBpbnRlcmFjdGlvbixcbiAgICBwb2ludGVyLFxuICAgIGV2ZW50LFxuICAgIGV2ZW50VGFyZ2V0LFxuICAgIHR5cGUsXG4gIH06IHtcbiAgICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248YW55PlxuICAgIHBvaW50ZXI6IFBvaW50ZXJUeXBlIHwgUG9pbnRlckV2ZW50PGFueT5cbiAgICBldmVudDogUG9pbnRlckV2ZW50VHlwZSB8IFBvaW50ZXJFdmVudDxhbnk+XG4gICAgZXZlbnRUYXJnZXQ6IE5vZGVcbiAgICB0eXBlOiBUXG4gIH0sXG4gIHNjb3BlOiBTY29wZSxcbikge1xuICBjb25zdCBwb2ludGVySW5kZXggPSBpbnRlcmFjdGlvbi5nZXRQb2ludGVySW5kZXgocG9pbnRlcilcbiAgY29uc3QgcG9pbnRlckluZm8gPSBpbnRlcmFjdGlvbi5wb2ludGVyc1twb2ludGVySW5kZXhdXG5cbiAgLy8gZG8gbm90IGZpcmUgYSB0YXAgZXZlbnQgaWYgdGhlIHBvaW50ZXIgd2FzIG1vdmVkIGJlZm9yZSBiZWluZyBsaWZ0ZWRcbiAgaWYgKFxuICAgIHR5cGUgPT09ICd0YXAnICYmXG4gICAgKGludGVyYWN0aW9uLnBvaW50ZXJXYXNNb3ZlZCB8fFxuICAgICAgLy8gb3IgaWYgdGhlIHBvaW50ZXJ1cCB0YXJnZXQgaXMgZGlmZmVyZW50IHRvIHRoZSBwb2ludGVyZG93biB0YXJnZXRcbiAgICAgICEocG9pbnRlckluZm8gJiYgcG9pbnRlckluZm8uZG93blRhcmdldCA9PT0gZXZlbnRUYXJnZXQpKVxuICApIHtcbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIGNvbnN0IHBhdGggPSBkb21VdGlscy5nZXRQYXRoKGV2ZW50VGFyZ2V0IGFzIEVsZW1lbnQgfCBEb2N1bWVudClcbiAgY29uc3Qgc2lnbmFsQXJnID0ge1xuICAgIGludGVyYWN0aW9uLFxuICAgIHBvaW50ZXIsXG4gICAgZXZlbnQsXG4gICAgZXZlbnRUYXJnZXQsXG4gICAgdHlwZSxcbiAgICBwYXRoLFxuICAgIHRhcmdldHM6IFtdIGFzIEV2ZW50VGFyZ2V0TGlzdCxcbiAgICBub2RlOiBudWxsLFxuICB9XG5cbiAgZm9yIChjb25zdCBub2RlIG9mIHBhdGgpIHtcbiAgICBzaWduYWxBcmcubm9kZSA9IG5vZGVcblxuICAgIHNjb3BlLmZpcmUoJ3BvaW50ZXJFdmVudHM6Y29sbGVjdC10YXJnZXRzJywgc2lnbmFsQXJnKVxuICB9XG5cbiAgaWYgKHR5cGUgPT09ICdob2xkJykge1xuICAgIHNpZ25hbEFyZy50YXJnZXRzID0gc2lnbmFsQXJnLnRhcmdldHMuZmlsdGVyKFxuICAgICAgKHRhcmdldCkgPT5cbiAgICAgICAgdGFyZ2V0LmV2ZW50YWJsZS5vcHRpb25zLmhvbGREdXJhdGlvbiA9PT0gaW50ZXJhY3Rpb24ucG9pbnRlcnNbcG9pbnRlckluZGV4XT8uaG9sZD8uZHVyYXRpb24sXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHNpZ25hbEFyZy50YXJnZXRzXG59XG5cbmZ1bmN0aW9uIGFkZEludGVyYWN0aW9uUHJvcHMoeyBpbnRlcmFjdGlvbiB9KSB7XG4gIGludGVyYWN0aW9uLnByZXZUYXAgPSBudWxsIC8vIHRoZSBtb3N0IHJlY2VudCB0YXAgZXZlbnQgb24gdGhpcyBpbnRlcmFjdGlvblxuICBpbnRlcmFjdGlvbi50YXBUaW1lID0gMCAvLyB0aW1lIG9mIHRoZSBtb3N0IHJlY2VudCB0YXAgZXZlbnRcbn1cblxuZnVuY3Rpb24gYWRkSG9sZEluZm8oeyBkb3duLCBwb2ludGVySW5mbyB9OiBTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6dXBkYXRlLXBvaW50ZXInXSkge1xuICBpZiAoIWRvd24gJiYgcG9pbnRlckluZm8uaG9sZCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgcG9pbnRlckluZm8uaG9sZCA9IHsgZHVyYXRpb246IEluZmluaXR5LCB0aW1lb3V0OiBudWxsIH1cbn1cblxuZnVuY3Rpb24gY2xlYXJIb2xkKHsgaW50ZXJhY3Rpb24sIHBvaW50ZXJJbmRleCB9KSB7XG4gIGNvbnN0IGhvbGQgPSBpbnRlcmFjdGlvbi5wb2ludGVyc1twb2ludGVySW5kZXhdLmhvbGRcblxuICBpZiAoaG9sZCAmJiBob2xkLnRpbWVvdXQpIHtcbiAgICBjbGVhclRpbWVvdXQoaG9sZC50aW1lb3V0KVxuICAgIGhvbGQudGltZW91dCA9IG51bGxcbiAgfVxufVxuXG5mdW5jdGlvbiBtb3ZlQW5kQ2xlYXJIb2xkKGFyZzogU2lnbmFsQXJnc1snaW50ZXJhY3Rpb25zOm1vdmUnXSwgc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgaW50ZXJhY3Rpb24sIHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCwgZHVwbGljYXRlIH0gPSBhcmdcblxuICBpZiAoIWR1cGxpY2F0ZSAmJiAoIWludGVyYWN0aW9uLnBvaW50ZXJJc0Rvd24gfHwgaW50ZXJhY3Rpb24ucG9pbnRlcldhc01vdmVkKSkge1xuICAgIGlmIChpbnRlcmFjdGlvbi5wb2ludGVySXNEb3duKSB7XG4gICAgICBjbGVhckhvbGQoYXJnKVxuICAgIH1cblxuICAgIGZpcmUoXG4gICAgICB7XG4gICAgICAgIGludGVyYWN0aW9uLFxuICAgICAgICBwb2ludGVyLFxuICAgICAgICBldmVudCxcbiAgICAgICAgZXZlbnRUYXJnZXQ6IGV2ZW50VGFyZ2V0IGFzIEVsZW1lbnQsXG4gICAgICAgIHR5cGU6ICdtb3ZlJyxcbiAgICAgIH0sXG4gICAgICBzY29wZSxcbiAgICApXG4gIH1cbn1cblxuZnVuY3Rpb24gZG93bkFuZFN0YXJ0SG9sZChcbiAgeyBpbnRlcmFjdGlvbiwgcG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0LCBwb2ludGVySW5kZXggfTogU2lnbmFsQXJnc1snaW50ZXJhY3Rpb25zOmRvd24nXSxcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGNvbnN0IHRpbWVyID0gaW50ZXJhY3Rpb24ucG9pbnRlcnNbcG9pbnRlckluZGV4XS5ob2xkIVxuICBjb25zdCBwYXRoID0gZG9tVXRpbHMuZ2V0UGF0aChldmVudFRhcmdldCBhcyBFbGVtZW50IHwgRG9jdW1lbnQpXG4gIGNvbnN0IHNpZ25hbEFyZyA9IHtcbiAgICBpbnRlcmFjdGlvbixcbiAgICBwb2ludGVyLFxuICAgIGV2ZW50LFxuICAgIGV2ZW50VGFyZ2V0LFxuICAgIHR5cGU6ICdob2xkJyxcbiAgICB0YXJnZXRzOiBbXSBhcyBFdmVudFRhcmdldExpc3QsXG4gICAgcGF0aCxcbiAgICBub2RlOiBudWxsLFxuICB9XG5cbiAgZm9yIChjb25zdCBub2RlIG9mIHBhdGgpIHtcbiAgICBzaWduYWxBcmcubm9kZSA9IG5vZGVcblxuICAgIHNjb3BlLmZpcmUoJ3BvaW50ZXJFdmVudHM6Y29sbGVjdC10YXJnZXRzJywgc2lnbmFsQXJnKVxuICB9XG5cbiAgaWYgKCFzaWduYWxBcmcudGFyZ2V0cy5sZW5ndGgpIHJldHVyblxuXG4gIGxldCBtaW5EdXJhdGlvbiA9IEluZmluaXR5XG5cbiAgZm9yIChjb25zdCB0YXJnZXQgb2Ygc2lnbmFsQXJnLnRhcmdldHMpIHtcbiAgICBjb25zdCBob2xkRHVyYXRpb24gPSB0YXJnZXQuZXZlbnRhYmxlLm9wdGlvbnMuaG9sZER1cmF0aW9uXG5cbiAgICBpZiAoaG9sZER1cmF0aW9uIDwgbWluRHVyYXRpb24pIHtcbiAgICAgIG1pbkR1cmF0aW9uID0gaG9sZER1cmF0aW9uXG4gICAgfVxuICB9XG5cbiAgdGltZXIuZHVyYXRpb24gPSBtaW5EdXJhdGlvblxuICB0aW1lci50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgZmlyZShcbiAgICAgIHtcbiAgICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICAgIGV2ZW50VGFyZ2V0LFxuICAgICAgICBwb2ludGVyLFxuICAgICAgICBldmVudCxcbiAgICAgICAgdHlwZTogJ2hvbGQnLFxuICAgICAgfSxcbiAgICAgIHNjb3BlLFxuICAgIClcbiAgfSwgbWluRHVyYXRpb24pXG59XG5cbmZ1bmN0aW9uIHRhcEFmdGVyVXAoXG4gIHsgaW50ZXJhY3Rpb24sIHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCB9OiBTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6dXAnXSxcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGlmICghaW50ZXJhY3Rpb24ucG9pbnRlcldhc01vdmVkKSB7XG4gICAgZmlyZSh7IGludGVyYWN0aW9uLCBldmVudFRhcmdldCwgcG9pbnRlciwgZXZlbnQsIHR5cGU6ICd0YXAnIH0sIHNjb3BlKVxuICB9XG59XG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIHNjb3BlLnBvaW50ZXJFdmVudHMgPSBwb2ludGVyRXZlbnRzXG4gIHNjb3BlLmRlZmF1bHRzLmFjdGlvbnMucG9pbnRlckV2ZW50cyA9IHBvaW50ZXJFdmVudHMuZGVmYXVsdHNcbiAgZXh0ZW5kKHNjb3BlLmFjdGlvbnMucGhhc2VsZXNzVHlwZXMsIHBvaW50ZXJFdmVudHMudHlwZXMpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHBvaW50ZXJFdmVudHNcbiIsICJpbXBvcnQgdHlwZSBJbnRlcmFjdGlvbiBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBMaXN0ZW5lck1hcCwgU2NvcGUsIFNpZ25hbEFyZ3MsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5cbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzIC0tIGZvciB0eXBlc2NyaXB0IG1vZHVsZSBhdWdtZW50YXRpb25zICovXG5pbXBvcnQgJy4vYmFzZSdcbmltcG9ydCBiYXNlUGx1Z2luIGZyb20gJy4vYmFzZSdcbi8qIGVzbGludC1lbmFibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgKi9cbmltcG9ydCB7IHR5cGUgUG9pbnRlckV2ZW50IH0gZnJvbSAnLi9Qb2ludGVyRXZlbnQnXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGlvbiB7XG4gICAgaG9sZEludGVydmFsSGFuZGxlPzogYW55XG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL1BvaW50ZXJFdmVudCcge1xuICBpbnRlcmZhY2UgUG9pbnRlckV2ZW50PFQgZXh0ZW5kcyBzdHJpbmcgPSBhbnk+IHtcbiAgICBjb3VudD86IG51bWJlclxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9wb2ludGVyLWV2ZW50cy9iYXNlJyB7XG4gIGludGVyZmFjZSBQb2ludGVyRXZlbnRPcHRpb25zIHtcbiAgICBob2xkUmVwZWF0SW50ZXJ2YWw/OiBudW1iZXJcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBzY29wZS51c2VQbHVnaW4oYmFzZVBsdWdpbilcblxuICBjb25zdCB7IHBvaW50ZXJFdmVudHMgfSA9IHNjb3BlXG5cbiAgLy8gZG9uJ3QgcmVwZWF0IGJ5IGRlZmF1bHRcbiAgcG9pbnRlckV2ZW50cy5kZWZhdWx0cy5ob2xkUmVwZWF0SW50ZXJ2YWwgPSAwXG4gIHBvaW50ZXJFdmVudHMudHlwZXMuaG9sZHJlcGVhdCA9IHNjb3BlLmFjdGlvbnMucGhhc2VsZXNzVHlwZXMuaG9sZHJlcGVhdCA9IHRydWVcbn1cblxuZnVuY3Rpb24gb25OZXcoeyBwb2ludGVyRXZlbnQgfTogeyBwb2ludGVyRXZlbnQ6IFBvaW50ZXJFdmVudDxhbnk+IH0pIHtcbiAgaWYgKHBvaW50ZXJFdmVudC50eXBlICE9PSAnaG9sZCcpIHJldHVyblxuXG4gIHBvaW50ZXJFdmVudC5jb3VudCA9IChwb2ludGVyRXZlbnQuY291bnQgfHwgMCkgKyAxXG59XG5cbmZ1bmN0aW9uIG9uRmlyZWQoXG4gIHsgaW50ZXJhY3Rpb24sIHBvaW50ZXJFdmVudCwgZXZlbnRUYXJnZXQsIHRhcmdldHMgfTogU2lnbmFsQXJnc1sncG9pbnRlckV2ZW50czpmaXJlZCddLFxuICBzY29wZTogU2NvcGUsXG4pIHtcbiAgaWYgKHBvaW50ZXJFdmVudC50eXBlICE9PSAnaG9sZCcgfHwgIXRhcmdldHMubGVuZ3RoKSByZXR1cm5cblxuICAvLyBnZXQgdGhlIHJlcGVhdCBpbnRlcnZhbCBmcm9tIHRoZSBmaXJzdCBldmVudGFibGVcbiAgY29uc3QgaW50ZXJ2YWwgPSB0YXJnZXRzWzBdLmV2ZW50YWJsZS5vcHRpb25zLmhvbGRSZXBlYXRJbnRlcnZhbFxuXG4gIC8vIGRvbid0IHJlcGVhdCBpZiB0aGUgaW50ZXJ2YWwgaXMgMCBvciBsZXNzXG4gIGlmIChpbnRlcnZhbCA8PSAwKSByZXR1cm5cblxuICAvLyBzZXQgYSB0aW1lb3V0IHRvIGZpcmUgdGhlIGhvbGRyZXBlYXQgZXZlbnRcbiAgaW50ZXJhY3Rpb24uaG9sZEludGVydmFsSGFuZGxlID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgc2NvcGUucG9pbnRlckV2ZW50cy5maXJlKFxuICAgICAge1xuICAgICAgICBpbnRlcmFjdGlvbixcbiAgICAgICAgZXZlbnRUYXJnZXQsXG4gICAgICAgIHR5cGU6ICdob2xkJyxcbiAgICAgICAgcG9pbnRlcjogcG9pbnRlckV2ZW50LFxuICAgICAgICBldmVudDogcG9pbnRlckV2ZW50LFxuICAgICAgfSxcbiAgICAgIHNjb3BlLFxuICAgIClcbiAgfSwgaW50ZXJ2YWwpXG59XG5cbmZ1bmN0aW9uIGVuZEhvbGRSZXBlYXQoeyBpbnRlcmFjdGlvbiB9OiB7IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiB9KSB7XG4gIC8vIHNldCB0aGUgaW50ZXJhY3Rpb24ncyBob2xkU3RvcFRpbWUgcHJvcGVydHlcbiAgLy8gdG8gc3RvcCBmdXJ0aGVyIGhvbGRSZXBlYXQgZXZlbnRzXG4gIGlmIChpbnRlcmFjdGlvbi5ob2xkSW50ZXJ2YWxIYW5kbGUpIHtcbiAgICBjbGVhckludGVydmFsKGludGVyYWN0aW9uLmhvbGRJbnRlcnZhbEhhbmRsZSlcbiAgICBpbnRlcmFjdGlvbi5ob2xkSW50ZXJ2YWxIYW5kbGUgPSBudWxsXG4gIH1cbn1cblxuY29uc3QgaG9sZFJlcGVhdDogUGx1Z2luID0ge1xuICBpZDogJ3BvaW50ZXItZXZlbnRzL2hvbGRSZXBlYXQnLFxuICBpbnN0YWxsLFxuICBsaXN0ZW5lcnM6IFsnbW92ZScsICd1cCcsICdjYW5jZWwnLCAnZW5kYWxsJ10ucmVkdWNlKFxuICAgIChhY2MsIGVuZGVyVHlwZXMpID0+IHtcbiAgICAgIDsoYWNjIGFzIGFueSlbYHBvaW50ZXJFdmVudHM6JHtlbmRlclR5cGVzfWBdID0gZW5kSG9sZFJlcGVhdFxuICAgICAgcmV0dXJuIGFjY1xuICAgIH0sXG4gICAge1xuICAgICAgJ3BvaW50ZXJFdmVudHM6bmV3Jzogb25OZXcsXG4gICAgICAncG9pbnRlckV2ZW50czpmaXJlZCc6IG9uRmlyZWQsXG4gICAgfSBhcyBMaXN0ZW5lck1hcCxcbiAgKSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgaG9sZFJlcGVhdFxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IFNjb3BlLCBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBFbGVtZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuXG5pbXBvcnQgdHlwZSB7IFBvaW50ZXJFdmVudE9wdGlvbnMgfSBmcm9tICdAaW50ZXJhY3Rqcy9wb2ludGVyLWV2ZW50cy9iYXNlJ1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0YWJsZSB7XG4gICAgcG9pbnRlckV2ZW50cyhvcHRpb25zOiBQYXJ0aWFsPFBvaW50ZXJFdmVudE9wdGlvbnM+KTogdGhpc1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfX2JhY2tDb21wYXRPcHRpb246IChvcHRpb25OYW1lOiBzdHJpbmcsIG5ld1ZhbHVlOiBhbnkpID0+IGFueVxuICB9XG59XG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgSW50ZXJhY3RhYmxlIH0gPSBzY29wZVxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUucG9pbnRlckV2ZW50cyA9IGZ1bmN0aW9uIChcbiAgICB0aGlzOiBJbnRlcmFjdGFibGUsXG4gICAgb3B0aW9uczogUGFydGlhbDxQb2ludGVyRXZlbnRPcHRpb25zPixcbiAgKSB7XG4gICAgZXh0ZW5kKHRoaXMuZXZlbnRzLm9wdGlvbnMsIG9wdGlvbnMpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgY29uc3QgX19iYWNrQ29tcGF0T3B0aW9uID0gSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5fYmFja0NvbXBhdE9wdGlvblxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUuX2JhY2tDb21wYXRPcHRpb24gPSBmdW5jdGlvbiAob3B0aW9uTmFtZSwgbmV3VmFsdWUpIHtcbiAgICBjb25zdCByZXQgPSBfX2JhY2tDb21wYXRPcHRpb24uY2FsbCh0aGlzLCBvcHRpb25OYW1lLCBuZXdWYWx1ZSlcblxuICAgIGlmIChyZXQgPT09IHRoaXMpIHtcbiAgICAgIHRoaXMuZXZlbnRzLm9wdGlvbnNbb3B0aW9uTmFtZV0gPSBuZXdWYWx1ZVxuICAgIH1cblxuICAgIHJldHVybiByZXRcbiAgfVxufVxuXG5jb25zdCBwbHVnaW46IFBsdWdpbiA9IHtcbiAgaWQ6ICdwb2ludGVyLWV2ZW50cy9pbnRlcmFjdGFibGVUYXJnZXRzJyxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ3BvaW50ZXJFdmVudHM6Y29sbGVjdC10YXJnZXRzJzogKHsgdGFyZ2V0cywgbm9kZSwgdHlwZSwgZXZlbnRUYXJnZXQgfSwgc2NvcGUpID0+IHtcbiAgICAgIHNjb3BlLmludGVyYWN0YWJsZXMuZm9yRWFjaE1hdGNoKG5vZGUsIChpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSkgPT4ge1xuICAgICAgICBjb25zdCBldmVudGFibGUgPSBpbnRlcmFjdGFibGUuZXZlbnRzXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBldmVudGFibGUub3B0aW9uc1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBldmVudGFibGUudHlwZXNbdHlwZV0gJiZcbiAgICAgICAgICBldmVudGFibGUudHlwZXNbdHlwZV0ubGVuZ3RoICYmXG4gICAgICAgICAgaW50ZXJhY3RhYmxlLnRlc3RJZ25vcmVBbGxvdyhvcHRpb25zLCBub2RlLCBldmVudFRhcmdldClcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGFyZ2V0cy5wdXNoKHtcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICBldmVudGFibGUsXG4gICAgICAgICAgICBwcm9wczogeyBpbnRlcmFjdGFibGUgfSxcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3RhYmxlOm5ldyc6ICh7IGludGVyYWN0YWJsZSB9KSA9PiB7XG4gICAgICBpbnRlcmFjdGFibGUuZXZlbnRzLmdldFJlY3QgPSBmdW5jdGlvbiAoZWxlbWVudDogRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gaW50ZXJhY3RhYmxlLmdldFJlY3QoZWxlbWVudClcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0YWJsZTpzZXQnOiAoeyBpbnRlcmFjdGFibGUsIG9wdGlvbnMgfSwgc2NvcGUpID0+IHtcbiAgICAgIGV4dGVuZChpbnRlcmFjdGFibGUuZXZlbnRzLm9wdGlvbnMsIHNjb3BlLnBvaW50ZXJFdmVudHMuZGVmYXVsdHMpXG4gICAgICBleHRlbmQoaW50ZXJhY3RhYmxlLmV2ZW50cy5vcHRpb25zLCBvcHRpb25zLnBvaW50ZXJFdmVudHMgfHwge30pXG4gICAgfSxcbiAgfSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgcGx1Z2luXG4iLCAiaW1wb3J0IHR5cGUgeyBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICcuL2Jhc2UnXG5pbXBvcnQgJy4vaG9sZFJlcGVhdCdcbmltcG9ydCAnLi9pbnRlcmFjdGFibGVUYXJnZXRzJ1xuXG5pbXBvcnQgKiBhcyBwb2ludGVyRXZlbnRzIGZyb20gJy4vYmFzZSdcbmltcG9ydCBob2xkUmVwZWF0IGZyb20gJy4vaG9sZFJlcGVhdCdcbmltcG9ydCBpbnRlcmFjdGFibGVUYXJnZXRzIGZyb20gJy4vaW50ZXJhY3RhYmxlVGFyZ2V0cydcbi8qIGVzbGludC1lbmFibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgKi9cblxuY29uc3QgcGx1Z2luOiBQbHVnaW4gPSB7XG4gIGlkOiAncG9pbnRlci1ldmVudHMnLFxuICBpbnN0YWxsKHNjb3BlKSB7XG4gICAgc2NvcGUudXNlUGx1Z2luKHBvaW50ZXJFdmVudHMpXG4gICAgc2NvcGUudXNlUGx1Z2luKGhvbGRSZXBlYXQpXG4gICAgc2NvcGUudXNlUGx1Z2luKGludGVyYWN0YWJsZVRhcmdldHMpXG4gIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IHBsdWdpblxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IERvQW55UGhhc2VBcmcsIEludGVyYWN0aW9uIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgU2NvcGUsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IEFjdGlvbk5hbWUsIEFjdGlvblByb3BzLCBFbGVtZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCAqIGFzIGFyciBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9hcnInXG5pbXBvcnQgeyBjb3B5QWN0aW9uIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvbWlzYydcbmltcG9ydCAqIGFzIHBvaW50ZXJVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9wb2ludGVyVXRpbHMnXG5pbXBvcnQgeyB0bGJyVG9YeXdoIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcmVjdCdcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnIHtcbiAgaW50ZXJmYWNlIFNpZ25hbEFyZ3Mge1xuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1yZWZsb3cnOiBPbWl0PERvQW55UGhhc2VBcmcsICdpRXZlbnQnPlxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLXJlZmxvdyc6IERvQW55UGhhc2VBcmdcbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1yZWZsb3cnOiBEb0FueVBoYXNlQXJnXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGFibGUge1xuICAgIC8qKlxuICAgICAqIGBgYGpzXG4gICAgICogY29uc3QgaW50ZXJhY3RhYmxlID0gaW50ZXJhY3QodGFyZ2V0KVxuICAgICAqIGNvbnN0IGRyYWcgPSB7IG5hbWU6IGRyYWcsIGF4aXM6ICd4JyB9XG4gICAgICogY29uc3QgcmVzaXplID0geyBuYW1lOiByZXNpemUsIGVkZ2VzOiB7IGxlZnQ6IHRydWUsIGJvdHRvbTogdHJ1ZSB9XG4gICAgICpcbiAgICAgKiBpbnRlcmFjdGFibGUucmVmbG93KGRyYWcpXG4gICAgICogaW50ZXJhY3RhYmxlLnJlZmxvdyhyZXNpemUpXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBTdGFydCBhbiBhY3Rpb24gc2VxdWVuY2UgdG8gcmUtYXBwbHkgbW9kaWZpZXJzLCBjaGVjayBkcm9wcywgZXRjLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsgT2JqZWN0IH0gYWN0aW9uIFRoZSBhY3Rpb24gdG8gYmVnaW5cbiAgICAgKiBAcGFyYW0geyBzdHJpbmcgfSBhY3Rpb24ubmFtZSBUaGUgbmFtZSBvZiB0aGUgYWN0aW9uXG4gICAgICogQHJldHVybnMgeyBQcm9taXNlIH0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGBJbnRlcmFjdGFibGVgIHdoZW4gYWN0aW9ucyBvbiBhbGwgdGFyZ2V0cyBoYXZlIGVuZGVkXG4gICAgICovXG4gICAgcmVmbG93PFQgZXh0ZW5kcyBBY3Rpb25OYW1lPihhY3Rpb246IEFjdGlvblByb3BzPFQ+KTogUmV0dXJuVHlwZTx0eXBlb2YgZG9SZWZsb3c+XG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0aW9uIHtcbiAgICBfcmVmbG93UHJvbWlzZTogUHJvbWlzZTx2b2lkPlxuICAgIF9yZWZsb3dSZXNvbHZlOiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB2b2lkXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RFdmVudCcge1xuICBpbnRlcmZhY2UgUGhhc2VNYXAge1xuICAgIHJlZmxvdz86IHRydWVcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IEludGVyYWN0YWJsZSB9ID0gc2NvcGVcblxuICBzY29wZS5hY3Rpb25zLnBoYXNlcy5yZWZsb3cgPSB0cnVlXG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5yZWZsb3cgPSBmdW5jdGlvbiAoYWN0aW9uOiBBY3Rpb25Qcm9wcykge1xuICAgIHJldHVybiBkb1JlZmxvdyh0aGlzLCBhY3Rpb24sIHNjb3BlKVxuICB9XG59XG5cbmZ1bmN0aW9uIGRvUmVmbG93PFQgZXh0ZW5kcyBBY3Rpb25OYW1lPihcbiAgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUsXG4gIGFjdGlvbjogQWN0aW9uUHJvcHM8VD4sXG4gIHNjb3BlOiBTY29wZSxcbik6IFByb21pc2U8SW50ZXJhY3RhYmxlPiB7XG4gIGNvbnN0IGVsZW1lbnRzID0gaW50ZXJhY3RhYmxlLmdldEFsbEVsZW1lbnRzKClcblxuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmUgdmFyaWFibGUtbmFtZVxuICBjb25zdCBQcm9taXNlID0gKHNjb3BlLndpbmRvdyBhcyBhbnkpLlByb21pc2VcbiAgY29uc3QgcHJvbWlzZXM6IEFycmF5PFByb21pc2U8bnVsbD4+IHwgbnVsbCA9IFByb21pc2UgPyBbXSA6IG51bGxcblxuICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICBjb25zdCByZWN0ID0gaW50ZXJhY3RhYmxlLmdldFJlY3QoZWxlbWVudCBhcyBIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnQpXG5cbiAgICBpZiAoIXJlY3QpIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgY29uc3QgcnVubmluZ0ludGVyYWN0aW9uID0gYXJyLmZpbmQoc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QsIChpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24pID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGludGVyYWN0aW9uLmludGVyYWN0aW5nKCkgJiZcbiAgICAgICAgaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlID09PSBpbnRlcmFjdGFibGUgJiZcbiAgICAgICAgaW50ZXJhY3Rpb24uZWxlbWVudCA9PT0gZWxlbWVudCAmJlxuICAgICAgICBpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lID09PSBhY3Rpb24ubmFtZVxuICAgICAgKVxuICAgIH0pXG4gICAgbGV0IHJlZmxvd1Byb21pc2U6IFByb21pc2U8bnVsbD5cblxuICAgIGlmIChydW5uaW5nSW50ZXJhY3Rpb24pIHtcbiAgICAgIHJ1bm5pbmdJbnRlcmFjdGlvbi5tb3ZlKClcblxuICAgICAgaWYgKHByb21pc2VzKSB7XG4gICAgICAgIHJlZmxvd1Byb21pc2UgPVxuICAgICAgICAgIHJ1bm5pbmdJbnRlcmFjdGlvbi5fcmVmbG93UHJvbWlzZSB8fFxuICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHJ1bm5pbmdJbnRlcmFjdGlvbi5fcmVmbG93UmVzb2x2ZSA9IHJlc29sdmVcbiAgICAgICAgICB9KVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB4eXdoID0gdGxiclRvWHl3aChyZWN0KVxuICAgICAgY29uc3QgY29vcmRzID0ge1xuICAgICAgICBwYWdlOiB7IHg6IHh5d2gueCwgeTogeHl3aC55IH0sXG4gICAgICAgIGNsaWVudDogeyB4OiB4eXdoLngsIHk6IHh5d2gueSB9LFxuICAgICAgICB0aW1lU3RhbXA6IHNjb3BlLm5vdygpLFxuICAgICAgfVxuXG4gICAgICBjb25zdCBldmVudCA9IHBvaW50ZXJVdGlscy5jb29yZHNUb0V2ZW50KGNvb3JkcylcbiAgICAgIHJlZmxvd1Byb21pc2UgPSBzdGFydFJlZmxvdzxUPihzY29wZSwgaW50ZXJhY3RhYmxlLCBlbGVtZW50LCBhY3Rpb24sIGV2ZW50KVxuICAgIH1cblxuICAgIGlmIChwcm9taXNlcykge1xuICAgICAgcHJvbWlzZXMucHVzaChyZWZsb3dQcm9taXNlKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwcm9taXNlcyAmJiBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigoKSA9PiBpbnRlcmFjdGFibGUpXG59XG5cbmZ1bmN0aW9uIHN0YXJ0UmVmbG93PFQgZXh0ZW5kcyBBY3Rpb25OYW1lPihcbiAgc2NvcGU6IFNjb3BlLFxuICBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSxcbiAgZWxlbWVudDogRWxlbWVudCxcbiAgYWN0aW9uOiBBY3Rpb25Qcm9wczxUPixcbiAgZXZlbnQ6IGFueSxcbikge1xuICBjb25zdCBpbnRlcmFjdGlvbiA9IHNjb3BlLmludGVyYWN0aW9ucy5uZXcoeyBwb2ludGVyVHlwZTogJ3JlZmxvdycgfSlcbiAgY29uc3Qgc2lnbmFsQXJnID0ge1xuICAgIGludGVyYWN0aW9uLFxuICAgIGV2ZW50LFxuICAgIHBvaW50ZXI6IGV2ZW50LFxuICAgIGV2ZW50VGFyZ2V0OiBlbGVtZW50LFxuICAgIHBoYXNlOiAncmVmbG93JyxcbiAgfSBhcyBjb25zdFxuXG4gIGludGVyYWN0aW9uLmludGVyYWN0YWJsZSA9IGludGVyYWN0YWJsZVxuICBpbnRlcmFjdGlvbi5lbGVtZW50ID0gZWxlbWVudFxuICBpbnRlcmFjdGlvbi5wcmV2RXZlbnQgPSBldmVudFxuICBpbnRlcmFjdGlvbi51cGRhdGVQb2ludGVyKGV2ZW50LCBldmVudCwgZWxlbWVudCwgdHJ1ZSlcbiAgcG9pbnRlclV0aWxzLnNldFplcm9Db29yZHMoaW50ZXJhY3Rpb24uY29vcmRzLmRlbHRhKVxuXG4gIGNvcHlBY3Rpb24oaW50ZXJhY3Rpb24ucHJlcGFyZWQsIGFjdGlvbilcbiAgaW50ZXJhY3Rpb24uX2RvUGhhc2Uoc2lnbmFsQXJnKVxuXG4gIGNvbnN0IHsgUHJvbWlzZSB9ID0gc2NvcGUud2luZG93IGFzIHVua25vd24gYXMgeyBQcm9taXNlOiBQcm9taXNlQ29uc3RydWN0b3IgfVxuICBjb25zdCByZWZsb3dQcm9taXNlID0gUHJvbWlzZVxuICAgID8gbmV3IFByb21pc2U8dW5kZWZpbmVkPigocmVzb2x2ZSkgPT4ge1xuICAgICAgICBpbnRlcmFjdGlvbi5fcmVmbG93UmVzb2x2ZSA9IHJlc29sdmVcbiAgICAgIH0pXG4gICAgOiB1bmRlZmluZWRcblxuICBpbnRlcmFjdGlvbi5fcmVmbG93UHJvbWlzZSA9IHJlZmxvd1Byb21pc2VcbiAgaW50ZXJhY3Rpb24uc3RhcnQoYWN0aW9uLCBpbnRlcmFjdGFibGUsIGVsZW1lbnQpXG5cbiAgaWYgKGludGVyYWN0aW9uLl9pbnRlcmFjdGluZykge1xuICAgIGludGVyYWN0aW9uLm1vdmUoc2lnbmFsQXJnKVxuICAgIGludGVyYWN0aW9uLmVuZChldmVudClcbiAgfSBlbHNlIHtcbiAgICBpbnRlcmFjdGlvbi5zdG9wKClcbiAgICBpbnRlcmFjdGlvbi5fcmVmbG93UmVzb2x2ZSgpXG4gIH1cblxuICBpbnRlcmFjdGlvbi5yZW1vdmVQb2ludGVyKGV2ZW50LCBldmVudClcblxuICByZXR1cm4gcmVmbG93UHJvbWlzZVxufVxuXG5jb25zdCByZWZsb3c6IFBsdWdpbiA9IHtcbiAgaWQ6ICdyZWZsb3cnLFxuICBpbnN0YWxsLFxuICBsaXN0ZW5lcnM6IHtcbiAgICAvLyByZW1vdmUgY29tcGxldGVkIHJlZmxvdyBpbnRlcmFjdGlvbnNcbiAgICAnaW50ZXJhY3Rpb25zOnN0b3AnOiAoeyBpbnRlcmFjdGlvbiB9LCBzY29wZSkgPT4ge1xuICAgICAgaWYgKGludGVyYWN0aW9uLnBvaW50ZXJUeXBlID09PSAncmVmbG93Jykge1xuICAgICAgICBpZiAoaW50ZXJhY3Rpb24uX3JlZmxvd1Jlc29sdmUpIHtcbiAgICAgICAgICBpbnRlcmFjdGlvbi5fcmVmbG93UmVzb2x2ZSgpXG4gICAgICAgIH1cblxuICAgICAgICBhcnIucmVtb3ZlKHNjb3BlLmludGVyYWN0aW9ucy5saXN0LCBpbnRlcmFjdGlvbilcbiAgICAgIH1cbiAgICB9LFxuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCByZWZsb3dcbiIsICIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLWV4dHJhbmVvdXMtZGVwZW5kZW5jaWVzXG5pbXBvcnQgaW50ZXJhY3QgZnJvbSAnQGludGVyYWN0anMvaW50ZXJhY3RqcydcblxuZXhwb3J0IGRlZmF1bHQgaW50ZXJhY3RcblxuaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmICEhbW9kdWxlKSB7XG4gIHRyeSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBpbnRlcmFjdFxuICB9IGNhdGNoIHt9XG59XG5cbjsoaW50ZXJhY3QgYXMgYW55KS5kZWZhdWx0ID0gaW50ZXJhY3RcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9hY3Rpb25zL3BsdWdpbidcbmltcG9ydCAnQGludGVyYWN0anMvYXV0by1zY3JvbGwvcGx1Z2luJ1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9hdXRvLXN0YXJ0L3BsdWdpbidcbmltcG9ydCAnQGludGVyYWN0anMvY29yZS9pbnRlcmFjdGFibGVQcmV2ZW50RGVmYXVsdCdcbmltcG9ydCAnQGludGVyYWN0anMvZGV2LXRvb2xzL3BsdWdpbidcbmltcG9ydCAnQGludGVyYWN0anMvaW5lcnRpYS9wbHVnaW4nXG5pbXBvcnQgJ0BpbnRlcmFjdGpzL2ludGVyYWN0J1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9tb2RpZmllcnMvcGx1Z2luJ1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9vZmZzZXQvcGx1Z2luJ1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9wb2ludGVyLWV2ZW50cy9wbHVnaW4nXG5pbXBvcnQgJ0BpbnRlcmFjdGpzL3JlZmxvdy9wbHVnaW4nXG5cbmltcG9ydCBhY3Rpb25zIGZyb20gJ0BpbnRlcmFjdGpzL2FjdGlvbnMvcGx1Z2luJ1xuaW1wb3J0IGF1dG9TY3JvbGwgZnJvbSAnQGludGVyYWN0anMvYXV0by1zY3JvbGwvcGx1Z2luJ1xuaW1wb3J0IGF1dG9TdGFydCBmcm9tICdAaW50ZXJhY3Rqcy9hdXRvLXN0YXJ0L3BsdWdpbidcbmltcG9ydCBpbnRlcmFjdGFibGVQcmV2ZW50RGVmYXVsdCBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL2ludGVyYWN0YWJsZVByZXZlbnREZWZhdWx0J1xuaW1wb3J0IGRldlRvb2xzIGZyb20gJ0BpbnRlcmFjdGpzL2Rldi10b29scy9wbHVnaW4nXG5pbXBvcnQgaW5lcnRpYSBmcm9tICdAaW50ZXJhY3Rqcy9pbmVydGlhL3BsdWdpbidcbmltcG9ydCBpbnRlcmFjdCBmcm9tICdAaW50ZXJhY3Rqcy9pbnRlcmFjdCdcbmltcG9ydCBtb2RpZmllcnMgZnJvbSAnQGludGVyYWN0anMvbW9kaWZpZXJzL3BsdWdpbidcbmltcG9ydCBvZmZzZXQgZnJvbSAnQGludGVyYWN0anMvb2Zmc2V0L3BsdWdpbidcbmltcG9ydCBwb2ludGVyRXZlbnRzIGZyb20gJ0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL3BsdWdpbidcbmltcG9ydCByZWZsb3cgZnJvbSAnQGludGVyYWN0anMvcmVmbG93L3BsdWdpbidcbi8qIGVzbGludC1lbmFibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgKi9cblxuaW50ZXJhY3QudXNlKGludGVyYWN0YWJsZVByZXZlbnREZWZhdWx0KVxuXG5pbnRlcmFjdC51c2Uob2Zmc2V0KVxuXG4vLyBwb2ludGVyRXZlbnRzXG5pbnRlcmFjdC51c2UocG9pbnRlckV2ZW50cylcblxuLy8gaW5lcnRpYVxuaW50ZXJhY3QudXNlKGluZXJ0aWEpXG5cbi8vIHNuYXAsIHJlc2l6ZSwgZXRjLlxuaW50ZXJhY3QudXNlKG1vZGlmaWVycylcblxuLy8gYXV0b1N0YXJ0LCBob2xkXG5pbnRlcmFjdC51c2UoYXV0b1N0YXJ0KVxuXG4vLyBkcmFnIGFuZCBkcm9wLCByZXNpemUsIGdlc3R1cmVcbmludGVyYWN0LnVzZShhY3Rpb25zKVxuXG4vLyBhdXRvU2Nyb2xsXG5pbnRlcmFjdC51c2UoYXV0b1Njcm9sbClcblxuLy8gcmVmbG93XG5pbnRlcmFjdC51c2UocmVmbG93KVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGludGVyYWN0LnVzZShkZXZUb29scylcbn1cblxuZXhwb3J0IGRlZmF1bHQgaW50ZXJhY3RcbjsoaW50ZXJhY3QgYXMgYW55KS5kZWZhdWx0ID0gaW50ZXJhY3RcbiIsICIvKlxuU3RpbXVsdXMgMy4yLjFcbkNvcHlyaWdodCBcdTAwQTkgMjAyMyBCYXNlY2FtcCwgTExDXG4gKi9cbmNsYXNzIEV2ZW50TGlzdGVuZXIge1xuICAgIGNvbnN0cnVjdG9yKGV2ZW50VGFyZ2V0LCBldmVudE5hbWUsIGV2ZW50T3B0aW9ucykge1xuICAgICAgICB0aGlzLmV2ZW50VGFyZ2V0ID0gZXZlbnRUYXJnZXQ7XG4gICAgICAgIHRoaXMuZXZlbnROYW1lID0gZXZlbnROYW1lO1xuICAgICAgICB0aGlzLmV2ZW50T3B0aW9ucyA9IGV2ZW50T3B0aW9ucztcbiAgICAgICAgdGhpcy51bm9yZGVyZWRCaW5kaW5ncyA9IG5ldyBTZXQoKTtcbiAgICB9XG4gICAgY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5ldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKHRoaXMuZXZlbnROYW1lLCB0aGlzLCB0aGlzLmV2ZW50T3B0aW9ucyk7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50TmFtZSwgdGhpcywgdGhpcy5ldmVudE9wdGlvbnMpO1xuICAgIH1cbiAgICBiaW5kaW5nQ29ubmVjdGVkKGJpbmRpbmcpIHtcbiAgICAgICAgdGhpcy51bm9yZGVyZWRCaW5kaW5ncy5hZGQoYmluZGluZyk7XG4gICAgfVxuICAgIGJpbmRpbmdEaXNjb25uZWN0ZWQoYmluZGluZykge1xuICAgICAgICB0aGlzLnVub3JkZXJlZEJpbmRpbmdzLmRlbGV0ZShiaW5kaW5nKTtcbiAgICB9XG4gICAgaGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5kZWRFdmVudCA9IGV4dGVuZEV2ZW50KGV2ZW50KTtcbiAgICAgICAgZm9yIChjb25zdCBiaW5kaW5nIG9mIHRoaXMuYmluZGluZ3MpIHtcbiAgICAgICAgICAgIGlmIChleHRlbmRlZEV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYmluZGluZy5oYW5kbGVFdmVudChleHRlbmRlZEV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBoYXNCaW5kaW5ncygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5vcmRlcmVkQmluZGluZ3Muc2l6ZSA+IDA7XG4gICAgfVxuICAgIGdldCBiaW5kaW5ncygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy51bm9yZGVyZWRCaW5kaW5ncykuc29ydCgobGVmdCwgcmlnaHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxlZnRJbmRleCA9IGxlZnQuaW5kZXgsIHJpZ2h0SW5kZXggPSByaWdodC5pbmRleDtcbiAgICAgICAgICAgIHJldHVybiBsZWZ0SW5kZXggPCByaWdodEluZGV4ID8gLTEgOiBsZWZ0SW5kZXggPiByaWdodEluZGV4ID8gMSA6IDA7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGV4dGVuZEV2ZW50KGV2ZW50KSB7XG4gICAgaWYgKFwiaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkXCIgaW4gZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgeyBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gfSA9IGV2ZW50O1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihldmVudCwge1xuICAgICAgICAgICAgaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiBmYWxzZSxcbiAgICAgICAgICAgIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmNsYXNzIERpc3BhdGNoZXIge1xuICAgIGNvbnN0cnVjdG9yKGFwcGxpY2F0aW9uKSB7XG4gICAgICAgIHRoaXMuYXBwbGljYXRpb24gPSBhcHBsaWNhdGlvbjtcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyTWFwcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuZm9yRWFjaCgoZXZlbnRMaXN0ZW5lcikgPT4gZXZlbnRMaXN0ZW5lci5jb25uZWN0KCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5mb3JFYWNoKChldmVudExpc3RlbmVyKSA9PiBldmVudExpc3RlbmVyLmRpc2Nvbm5lY3QoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmV2ZW50TGlzdGVuZXJNYXBzLnZhbHVlcygpKS5yZWR1Y2UoKGxpc3RlbmVycywgbWFwKSA9PiBsaXN0ZW5lcnMuY29uY2F0KEFycmF5LmZyb20obWFwLnZhbHVlcygpKSksIFtdKTtcbiAgICB9XG4gICAgYmluZGluZ0Nvbm5lY3RlZChiaW5kaW5nKSB7XG4gICAgICAgIHRoaXMuZmV0Y2hFdmVudExpc3RlbmVyRm9yQmluZGluZyhiaW5kaW5nKS5iaW5kaW5nQ29ubmVjdGVkKGJpbmRpbmcpO1xuICAgIH1cbiAgICBiaW5kaW5nRGlzY29ubmVjdGVkKGJpbmRpbmcsIGNsZWFyRXZlbnRMaXN0ZW5lcnMgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLmZldGNoRXZlbnRMaXN0ZW5lckZvckJpbmRpbmcoYmluZGluZykuYmluZGluZ0Rpc2Nvbm5lY3RlZChiaW5kaW5nKTtcbiAgICAgICAgaWYgKGNsZWFyRXZlbnRMaXN0ZW5lcnMpXG4gICAgICAgICAgICB0aGlzLmNsZWFyRXZlbnRMaXN0ZW5lcnNGb3JCaW5kaW5nKGJpbmRpbmcpO1xuICAgIH1cbiAgICBoYW5kbGVFcnJvcihlcnJvciwgbWVzc2FnZSwgZGV0YWlsID0ge30pIHtcbiAgICAgICAgdGhpcy5hcHBsaWNhdGlvbi5oYW5kbGVFcnJvcihlcnJvciwgYEVycm9yICR7bWVzc2FnZX1gLCBkZXRhaWwpO1xuICAgIH1cbiAgICBjbGVhckV2ZW50TGlzdGVuZXJzRm9yQmluZGluZyhiaW5kaW5nKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50TGlzdGVuZXIgPSB0aGlzLmZldGNoRXZlbnRMaXN0ZW5lckZvckJpbmRpbmcoYmluZGluZyk7XG4gICAgICAgIGlmICghZXZlbnRMaXN0ZW5lci5oYXNCaW5kaW5ncygpKSB7XG4gICAgICAgICAgICBldmVudExpc3RlbmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTWFwcGVkRXZlbnRMaXN0ZW5lckZvcihiaW5kaW5nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVNYXBwZWRFdmVudExpc3RlbmVyRm9yKGJpbmRpbmcpIHtcbiAgICAgICAgY29uc3QgeyBldmVudFRhcmdldCwgZXZlbnROYW1lLCBldmVudE9wdGlvbnMgfSA9IGJpbmRpbmc7XG4gICAgICAgIGNvbnN0IGV2ZW50TGlzdGVuZXJNYXAgPSB0aGlzLmZldGNoRXZlbnRMaXN0ZW5lck1hcEZvckV2ZW50VGFyZ2V0KGV2ZW50VGFyZ2V0KTtcbiAgICAgICAgY29uc3QgY2FjaGVLZXkgPSB0aGlzLmNhY2hlS2V5KGV2ZW50TmFtZSwgZXZlbnRPcHRpb25zKTtcbiAgICAgICAgZXZlbnRMaXN0ZW5lck1hcC5kZWxldGUoY2FjaGVLZXkpO1xuICAgICAgICBpZiAoZXZlbnRMaXN0ZW5lck1hcC5zaXplID09IDApXG4gICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJNYXBzLmRlbGV0ZShldmVudFRhcmdldCk7XG4gICAgfVxuICAgIGZldGNoRXZlbnRMaXN0ZW5lckZvckJpbmRpbmcoYmluZGluZykge1xuICAgICAgICBjb25zdCB7IGV2ZW50VGFyZ2V0LCBldmVudE5hbWUsIGV2ZW50T3B0aW9ucyB9ID0gYmluZGluZztcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2hFdmVudExpc3RlbmVyKGV2ZW50VGFyZ2V0LCBldmVudE5hbWUsIGV2ZW50T3B0aW9ucyk7XG4gICAgfVxuICAgIGZldGNoRXZlbnRMaXN0ZW5lcihldmVudFRhcmdldCwgZXZlbnROYW1lLCBldmVudE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZXZlbnRMaXN0ZW5lck1hcCA9IHRoaXMuZmV0Y2hFdmVudExpc3RlbmVyTWFwRm9yRXZlbnRUYXJnZXQoZXZlbnRUYXJnZXQpO1xuICAgICAgICBjb25zdCBjYWNoZUtleSA9IHRoaXMuY2FjaGVLZXkoZXZlbnROYW1lLCBldmVudE9wdGlvbnMpO1xuICAgICAgICBsZXQgZXZlbnRMaXN0ZW5lciA9IGV2ZW50TGlzdGVuZXJNYXAuZ2V0KGNhY2hlS2V5KTtcbiAgICAgICAgaWYgKCFldmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBldmVudExpc3RlbmVyID0gdGhpcy5jcmVhdGVFdmVudExpc3RlbmVyKGV2ZW50VGFyZ2V0LCBldmVudE5hbWUsIGV2ZW50T3B0aW9ucyk7XG4gICAgICAgICAgICBldmVudExpc3RlbmVyTWFwLnNldChjYWNoZUtleSwgZXZlbnRMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV2ZW50TGlzdGVuZXI7XG4gICAgfVxuICAgIGNyZWF0ZUV2ZW50TGlzdGVuZXIoZXZlbnRUYXJnZXQsIGV2ZW50TmFtZSwgZXZlbnRPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50TGlzdGVuZXIgPSBuZXcgRXZlbnRMaXN0ZW5lcihldmVudFRhcmdldCwgZXZlbnROYW1lLCBldmVudE9wdGlvbnMpO1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICBldmVudExpc3RlbmVyLmNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXZlbnRMaXN0ZW5lcjtcbiAgICB9XG4gICAgZmV0Y2hFdmVudExpc3RlbmVyTWFwRm9yRXZlbnRUYXJnZXQoZXZlbnRUYXJnZXQpIHtcbiAgICAgICAgbGV0IGV2ZW50TGlzdGVuZXJNYXAgPSB0aGlzLmV2ZW50TGlzdGVuZXJNYXBzLmdldChldmVudFRhcmdldCk7XG4gICAgICAgIGlmICghZXZlbnRMaXN0ZW5lck1hcCkge1xuICAgICAgICAgICAgZXZlbnRMaXN0ZW5lck1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lck1hcHMuc2V0KGV2ZW50VGFyZ2V0LCBldmVudExpc3RlbmVyTWFwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXZlbnRMaXN0ZW5lck1hcDtcbiAgICB9XG4gICAgY2FjaGVLZXkoZXZlbnROYW1lLCBldmVudE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBbZXZlbnROYW1lXTtcbiAgICAgICAgT2JqZWN0LmtleXMoZXZlbnRPcHRpb25zKVxuICAgICAgICAgICAgLnNvcnQoKVxuICAgICAgICAgICAgLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgcGFydHMucHVzaChgJHtldmVudE9wdGlvbnNba2V5XSA/IFwiXCIgOiBcIiFcIn0ke2tleX1gKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXJ0cy5qb2luKFwiOlwiKTtcbiAgICB9XG59XG5cbmNvbnN0IGRlZmF1bHRBY3Rpb25EZXNjcmlwdG9yRmlsdGVycyA9IHtcbiAgICBzdG9wKHsgZXZlbnQsIHZhbHVlIH0pIHtcbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgcHJldmVudCh7IGV2ZW50LCB2YWx1ZSB9KSB7XG4gICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgc2VsZih7IGV2ZW50LCB2YWx1ZSwgZWxlbWVudCB9KSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQgPT09IGV2ZW50LnRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5jb25zdCBkZXNjcmlwdG9yUGF0dGVybiA9IC9eKD86KD86KFteLl0rPylcXCspPyguKz8pKD86XFwuKC4rPykpPyg/OkAod2luZG93fGRvY3VtZW50KSk/LT4pPyguKz8pKD86IyhbXjpdKz8pKSg/OjooLispKT8kLztcbmZ1bmN0aW9uIHBhcnNlQWN0aW9uRGVzY3JpcHRvclN0cmluZyhkZXNjcmlwdG9yU3RyaW5nKSB7XG4gICAgY29uc3Qgc291cmNlID0gZGVzY3JpcHRvclN0cmluZy50cmltKCk7XG4gICAgY29uc3QgbWF0Y2hlcyA9IHNvdXJjZS5tYXRjaChkZXNjcmlwdG9yUGF0dGVybikgfHwgW107XG4gICAgbGV0IGV2ZW50TmFtZSA9IG1hdGNoZXNbMl07XG4gICAgbGV0IGtleUZpbHRlciA9IG1hdGNoZXNbM107XG4gICAgaWYgKGtleUZpbHRlciAmJiAhW1wia2V5ZG93blwiLCBcImtleXVwXCIsIFwia2V5cHJlc3NcIl0uaW5jbHVkZXMoZXZlbnROYW1lKSkge1xuICAgICAgICBldmVudE5hbWUgKz0gYC4ke2tleUZpbHRlcn1gO1xuICAgICAgICBrZXlGaWx0ZXIgPSBcIlwiO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBldmVudFRhcmdldDogcGFyc2VFdmVudFRhcmdldChtYXRjaGVzWzRdKSxcbiAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICBldmVudE9wdGlvbnM6IG1hdGNoZXNbN10gPyBwYXJzZUV2ZW50T3B0aW9ucyhtYXRjaGVzWzddKSA6IHt9LFxuICAgICAgICBpZGVudGlmaWVyOiBtYXRjaGVzWzVdLFxuICAgICAgICBtZXRob2ROYW1lOiBtYXRjaGVzWzZdLFxuICAgICAgICBrZXlGaWx0ZXI6IG1hdGNoZXNbMV0gfHwga2V5RmlsdGVyLFxuICAgIH07XG59XG5mdW5jdGlvbiBwYXJzZUV2ZW50VGFyZ2V0KGV2ZW50VGFyZ2V0TmFtZSkge1xuICAgIGlmIChldmVudFRhcmdldE5hbWUgPT0gXCJ3aW5kb3dcIikge1xuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cbiAgICBlbHNlIGlmIChldmVudFRhcmdldE5hbWUgPT0gXCJkb2N1bWVudFwiKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudDtcbiAgICB9XG59XG5mdW5jdGlvbiBwYXJzZUV2ZW50T3B0aW9ucyhldmVudE9wdGlvbnMpIHtcbiAgICByZXR1cm4gZXZlbnRPcHRpb25zXG4gICAgICAgIC5zcGxpdChcIjpcIilcbiAgICAgICAgLnJlZHVjZSgob3B0aW9ucywgdG9rZW4pID0+IE9iamVjdC5hc3NpZ24ob3B0aW9ucywgeyBbdG9rZW4ucmVwbGFjZSgvXiEvLCBcIlwiKV06ICEvXiEvLnRlc3QodG9rZW4pIH0pLCB7fSk7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlFdmVudFRhcmdldChldmVudFRhcmdldCkge1xuICAgIGlmIChldmVudFRhcmdldCA9PSB3aW5kb3cpIHtcbiAgICAgICAgcmV0dXJuIFwid2luZG93XCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGV2ZW50VGFyZ2V0ID09IGRvY3VtZW50KSB7XG4gICAgICAgIHJldHVybiBcImRvY3VtZW50XCI7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjYW1lbGl6ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC8oPzpbXy1dKShbYS16MC05XSkvZywgKF8sIGNoYXIpID0+IGNoYXIudG9VcHBlckNhc2UoKSk7XG59XG5mdW5jdGlvbiBuYW1lc3BhY2VDYW1lbGl6ZSh2YWx1ZSkge1xuICAgIHJldHVybiBjYW1lbGl6ZSh2YWx1ZS5yZXBsYWNlKC8tLS9nLCBcIi1cIikucmVwbGFjZSgvX18vZywgXCJfXCIpKTtcbn1cbmZ1bmN0aW9uIGNhcGl0YWxpemUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB2YWx1ZS5zbGljZSgxKTtcbn1cbmZ1bmN0aW9uIGRhc2hlcml6ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC8oW0EtWl0pL2csIChfLCBjaGFyKSA9PiBgLSR7Y2hhci50b0xvd2VyQ2FzZSgpfWApO1xufVxuZnVuY3Rpb24gdG9rZW5pemUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUubWF0Y2goL1teXFxzXSsvZykgfHwgW107XG59XG5cbmZ1bmN0aW9uIGlzU29tZXRoaW5nKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgIT09IG51bGwgJiYgb2JqZWN0ICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBoYXNQcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTtcbn1cblxuY29uc3QgYWxsTW9kaWZpZXJzID0gW1wibWV0YVwiLCBcImN0cmxcIiwgXCJhbHRcIiwgXCJzaGlmdFwiXTtcbmNsYXNzIEFjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgaW5kZXgsIGRlc2NyaXB0b3IsIHNjaGVtYSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuZXZlbnRUYXJnZXQgPSBkZXNjcmlwdG9yLmV2ZW50VGFyZ2V0IHx8IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZXZlbnROYW1lID0gZGVzY3JpcHRvci5ldmVudE5hbWUgfHwgZ2V0RGVmYXVsdEV2ZW50TmFtZUZvckVsZW1lbnQoZWxlbWVudCkgfHwgZXJyb3IoXCJtaXNzaW5nIGV2ZW50IG5hbWVcIik7XG4gICAgICAgIHRoaXMuZXZlbnRPcHRpb25zID0gZGVzY3JpcHRvci5ldmVudE9wdGlvbnMgfHwge307XG4gICAgICAgIHRoaXMuaWRlbnRpZmllciA9IGRlc2NyaXB0b3IuaWRlbnRpZmllciB8fCBlcnJvcihcIm1pc3NpbmcgaWRlbnRpZmllclwiKTtcbiAgICAgICAgdGhpcy5tZXRob2ROYW1lID0gZGVzY3JpcHRvci5tZXRob2ROYW1lIHx8IGVycm9yKFwibWlzc2luZyBtZXRob2QgbmFtZVwiKTtcbiAgICAgICAgdGhpcy5rZXlGaWx0ZXIgPSBkZXNjcmlwdG9yLmtleUZpbHRlciB8fCBcIlwiO1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICB9XG4gICAgc3RhdGljIGZvclRva2VuKHRva2VuLCBzY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKHRva2VuLmVsZW1lbnQsIHRva2VuLmluZGV4LCBwYXJzZUFjdGlvbkRlc2NyaXB0b3JTdHJpbmcodG9rZW4uY29udGVudCksIHNjaGVtYSk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBjb25zdCBldmVudEZpbHRlciA9IHRoaXMua2V5RmlsdGVyID8gYC4ke3RoaXMua2V5RmlsdGVyfWAgOiBcIlwiO1xuICAgICAgICBjb25zdCBldmVudFRhcmdldCA9IHRoaXMuZXZlbnRUYXJnZXROYW1lID8gYEAke3RoaXMuZXZlbnRUYXJnZXROYW1lfWAgOiBcIlwiO1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5ldmVudE5hbWV9JHtldmVudEZpbHRlcn0ke2V2ZW50VGFyZ2V0fS0+JHt0aGlzLmlkZW50aWZpZXJ9IyR7dGhpcy5tZXRob2ROYW1lfWA7XG4gICAgfVxuICAgIHNob3VsZElnbm9yZUtleWJvYXJkRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmtleUZpbHRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpbHRlcnMgPSB0aGlzLmtleUZpbHRlci5zcGxpdChcIitcIik7XG4gICAgICAgIGlmICh0aGlzLmtleUZpbHRlckRpc3NhdGlzZmllZChldmVudCwgZmlsdGVycykpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YW5kYXJkRmlsdGVyID0gZmlsdGVycy5maWx0ZXIoKGtleSkgPT4gIWFsbE1vZGlmaWVycy5pbmNsdWRlcyhrZXkpKVswXTtcbiAgICAgICAgaWYgKCFzdGFuZGFyZEZpbHRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaGFzUHJvcGVydHkodGhpcy5rZXlNYXBwaW5ncywgc3RhbmRhcmRGaWx0ZXIpKSB7XG4gICAgICAgICAgICBlcnJvcihgY29udGFpbnMgdW5rbm93biBrZXkgZmlsdGVyOiAke3RoaXMua2V5RmlsdGVyfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmtleU1hcHBpbmdzW3N0YW5kYXJkRmlsdGVyXS50b0xvd2VyQ2FzZSgpICE9PSBldmVudC5rZXkudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgc2hvdWxkSWdub3JlTW91c2VFdmVudChldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMua2V5RmlsdGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmlsdGVycyA9IFt0aGlzLmtleUZpbHRlcl07XG4gICAgICAgIGlmICh0aGlzLmtleUZpbHRlckRpc3NhdGlzZmllZChldmVudCwgZmlsdGVycykpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZ2V0IHBhcmFtcygpIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge307XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSBuZXcgUmVnRXhwKGBeZGF0YS0ke3RoaXMuaWRlbnRpZmllcn0tKC4rKS1wYXJhbSRgLCBcImlcIik7XG4gICAgICAgIGZvciAoY29uc3QgeyBuYW1lLCB2YWx1ZSB9IG9mIEFycmF5LmZyb20odGhpcy5lbGVtZW50LmF0dHJpYnV0ZXMpKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IG5hbWUubWF0Y2gocGF0dGVybik7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBtYXRjaCAmJiBtYXRjaFsxXTtcbiAgICAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXNbY2FtZWxpemUoa2V5KV0gPSB0eXBlY2FzdCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICB9XG4gICAgZ2V0IGV2ZW50VGFyZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmeUV2ZW50VGFyZ2V0KHRoaXMuZXZlbnRUYXJnZXQpO1xuICAgIH1cbiAgICBnZXQga2V5TWFwcGluZ3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjaGVtYS5rZXlNYXBwaW5ncztcbiAgICB9XG4gICAga2V5RmlsdGVyRGlzc2F0aXNmaWVkKGV2ZW50LCBmaWx0ZXJzKSB7XG4gICAgICAgIGNvbnN0IFttZXRhLCBjdHJsLCBhbHQsIHNoaWZ0XSA9IGFsbE1vZGlmaWVycy5tYXAoKG1vZGlmaWVyKSA9PiBmaWx0ZXJzLmluY2x1ZGVzKG1vZGlmaWVyKSk7XG4gICAgICAgIHJldHVybiBldmVudC5tZXRhS2V5ICE9PSBtZXRhIHx8IGV2ZW50LmN0cmxLZXkgIT09IGN0cmwgfHwgZXZlbnQuYWx0S2V5ICE9PSBhbHQgfHwgZXZlbnQuc2hpZnRLZXkgIT09IHNoaWZ0O1xuICAgIH1cbn1cbmNvbnN0IGRlZmF1bHRFdmVudE5hbWVzID0ge1xuICAgIGE6ICgpID0+IFwiY2xpY2tcIixcbiAgICBidXR0b246ICgpID0+IFwiY2xpY2tcIixcbiAgICBmb3JtOiAoKSA9PiBcInN1Ym1pdFwiLFxuICAgIGRldGFpbHM6ICgpID0+IFwidG9nZ2xlXCIsXG4gICAgaW5wdXQ6IChlKSA9PiAoZS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpID09IFwic3VibWl0XCIgPyBcImNsaWNrXCIgOiBcImlucHV0XCIpLFxuICAgIHNlbGVjdDogKCkgPT4gXCJjaGFuZ2VcIixcbiAgICB0ZXh0YXJlYTogKCkgPT4gXCJpbnB1dFwiLFxufTtcbmZ1bmN0aW9uIGdldERlZmF1bHRFdmVudE5hbWVGb3JFbGVtZW50KGVsZW1lbnQpIHtcbiAgICBjb25zdCB0YWdOYW1lID0gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHRhZ05hbWUgaW4gZGVmYXVsdEV2ZW50TmFtZXMpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRFdmVudE5hbWVzW3RhZ05hbWVdKGVsZW1lbnQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVycm9yKG1lc3NhZ2UpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG59XG5mdW5jdGlvbiB0eXBlY2FzdCh2YWx1ZSkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKG9fTykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuXG5jbGFzcyBCaW5kaW5nIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBhY3Rpb24pIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5hY3Rpb24gPSBhY3Rpb247XG4gICAgfVxuICAgIGdldCBpbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uLmluZGV4O1xuICAgIH1cbiAgICBnZXQgZXZlbnRUYXJnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbi5ldmVudFRhcmdldDtcbiAgICB9XG4gICAgZ2V0IGV2ZW50T3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uLmV2ZW50T3B0aW9ucztcbiAgICB9XG4gICAgZ2V0IGlkZW50aWZpZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuaWRlbnRpZmllcjtcbiAgICB9XG4gICAgaGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgYWN0aW9uRXZlbnQgPSB0aGlzLnByZXBhcmVBY3Rpb25FdmVudChldmVudCk7XG4gICAgICAgIGlmICh0aGlzLndpbGxCZUludm9rZWRCeUV2ZW50KGV2ZW50KSAmJiB0aGlzLmFwcGx5RXZlbnRNb2RpZmllcnMoYWN0aW9uRXZlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmludm9rZVdpdGhFdmVudChhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGV2ZW50TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uLmV2ZW50TmFtZTtcbiAgICB9XG4gICAgZ2V0IG1ldGhvZCgpIHtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gdGhpcy5jb250cm9sbGVyW3RoaXMubWV0aG9kTmFtZV07XG4gICAgICAgIGlmICh0eXBlb2YgbWV0aG9kID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcmV0dXJuIG1ldGhvZDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFjdGlvbiBcIiR7dGhpcy5hY3Rpb259XCIgcmVmZXJlbmNlcyB1bmRlZmluZWQgbWV0aG9kIFwiJHt0aGlzLm1ldGhvZE5hbWV9XCJgKTtcbiAgICB9XG4gICAgYXBwbHlFdmVudE1vZGlmaWVycyhldmVudCkge1xuICAgICAgICBjb25zdCB7IGVsZW1lbnQgfSA9IHRoaXMuYWN0aW9uO1xuICAgICAgICBjb25zdCB7IGFjdGlvbkRlc2NyaXB0b3JGaWx0ZXJzIH0gPSB0aGlzLmNvbnRleHQuYXBwbGljYXRpb247XG4gICAgICAgIGNvbnN0IHsgY29udHJvbGxlciB9ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBsZXQgcGFzc2VzID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuZXZlbnRPcHRpb25zKSkge1xuICAgICAgICAgICAgaWYgKG5hbWUgaW4gYWN0aW9uRGVzY3JpcHRvckZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXIgPSBhY3Rpb25EZXNjcmlwdG9yRmlsdGVyc1tuYW1lXTtcbiAgICAgICAgICAgICAgICBwYXNzZXMgPSBwYXNzZXMgJiYgZmlsdGVyKHsgbmFtZSwgdmFsdWUsIGV2ZW50LCBlbGVtZW50LCBjb250cm9sbGVyIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhc3NlcztcbiAgICB9XG4gICAgcHJlcGFyZUFjdGlvbkV2ZW50KGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGV2ZW50LCB7IHBhcmFtczogdGhpcy5hY3Rpb24ucGFyYW1zIH0pO1xuICAgIH1cbiAgICBpbnZva2VXaXRoRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgeyB0YXJnZXQsIGN1cnJlbnRUYXJnZXQgfSA9IGV2ZW50O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5tZXRob2QuY2FsbCh0aGlzLmNvbnRyb2xsZXIsIGV2ZW50KTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5sb2dEZWJ1Z0FjdGl2aXR5KHRoaXMubWV0aG9kTmFtZSwgeyBldmVudCwgdGFyZ2V0LCBjdXJyZW50VGFyZ2V0LCBhY3Rpb246IHRoaXMubWV0aG9kTmFtZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgaWRlbnRpZmllciwgY29udHJvbGxlciwgZWxlbWVudCwgaW5kZXggfSA9IHRoaXM7XG4gICAgICAgICAgICBjb25zdCBkZXRhaWwgPSB7IGlkZW50aWZpZXIsIGNvbnRyb2xsZXIsIGVsZW1lbnQsIGluZGV4LCBldmVudCB9O1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmhhbmRsZUVycm9yKGVycm9yLCBgaW52b2tpbmcgYWN0aW9uIFwiJHt0aGlzLmFjdGlvbn1cImAsIGRldGFpbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2lsbEJlSW52b2tlZEJ5RXZlbnQoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgZXZlbnRUYXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIEtleWJvYXJkRXZlbnQgJiYgdGhpcy5hY3Rpb24uc2hvdWxkSWdub3JlS2V5Ym9hcmRFdmVudChldmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50ICYmIHRoaXMuYWN0aW9uLnNob3VsZElnbm9yZU1vdXNlRXZlbnQoZXZlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCA9PT0gZXZlbnRUYXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50VGFyZ2V0IGluc3RhbmNlb2YgRWxlbWVudCAmJiB0aGlzLmVsZW1lbnQuY29udGFpbnMoZXZlbnRUYXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5jb250YWluc0VsZW1lbnQoZXZlbnRUYXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuY29udGFpbnNFbGVtZW50KHRoaXMuYWN0aW9uLmVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBjb250cm9sbGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmNvbnRyb2xsZXI7XG4gICAgfVxuICAgIGdldCBtZXRob2ROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3Rpb24ubWV0aG9kTmFtZTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBzY29wZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5zY29wZTtcbiAgICB9XG59XG5cbmNsYXNzIEVsZW1lbnRPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgZGVsZWdhdGUpIHtcbiAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVySW5pdCA9IHsgYXR0cmlidXRlczogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH07XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHRoaXMucHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnMpKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50LCB0aGlzLm11dGF0aW9uT2JzZXJ2ZXJJbml0KTtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBhdXNlKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50LCB0aGlzLm11dGF0aW9uT2JzZXJ2ZXJJbml0KTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLnRha2VSZWNvcmRzKCk7XG4gICAgICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVmcmVzaCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlcyA9IG5ldyBTZXQodGhpcy5tYXRjaEVsZW1lbnRzSW5UcmVlKCkpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIEFycmF5LmZyb20odGhpcy5lbGVtZW50cykpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZXMuaGFzKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgQXJyYXkuZnJvbShtYXRjaGVzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzTXV0YXRpb25zKG11dGF0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9ucykge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc011dGF0aW9uKG11dGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzTXV0YXRpb24obXV0YXRpb24pIHtcbiAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT0gXCJhdHRyaWJ1dGVzXCIpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0F0dHJpYnV0ZUNoYW5nZShtdXRhdGlvbi50YXJnZXQsIG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG11dGF0aW9uLnR5cGUgPT0gXCJjaGlsZExpc3RcIikge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUmVtb3ZlZE5vZGVzKG11dGF0aW9uLnJlbW92ZWROb2Rlcyk7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NBZGRlZE5vZGVzKG11dGF0aW9uLmFkZGVkTm9kZXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByb2Nlc3NBdHRyaWJ1dGVDaGFuZ2UoZWxlbWVudCwgYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50cy5oYXMoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlLmVsZW1lbnRBdHRyaWJ1dGVDaGFuZ2VkICYmIHRoaXMubWF0Y2hFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5lbGVtZW50QXR0cmlidXRlQ2hhbmdlZChlbGVtZW50LCBhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLm1hdGNoRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgICAgICAgdGhpcy5hZGRFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByb2Nlc3NSZW1vdmVkTm9kZXMobm9kZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIEFycmF5LmZyb20obm9kZXMpKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50RnJvbU5vZGUobm9kZSk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc1RyZWUoZWxlbWVudCwgdGhpcy5yZW1vdmVFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzQWRkZWROb2Rlcyhub2Rlcykge1xuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgQXJyYXkuZnJvbShub2RlcykpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRGcm9tTm9kZShub2RlKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50ICYmIHRoaXMuZWxlbWVudElzQWN0aXZlKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzVHJlZShlbGVtZW50LCB0aGlzLmFkZEVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG1hdGNoRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLm1hdGNoRWxlbWVudChlbGVtZW50KTtcbiAgICB9XG4gICAgbWF0Y2hFbGVtZW50c0luVHJlZSh0cmVlID0gdGhpcy5lbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLm1hdGNoRWxlbWVudHNJblRyZWUodHJlZSk7XG4gICAgfVxuICAgIHByb2Nlc3NUcmVlKHRyZWUsIHByb2Nlc3Nvcikge1xuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcy5tYXRjaEVsZW1lbnRzSW5UcmVlKHRyZWUpKSB7XG4gICAgICAgICAgICBwcm9jZXNzb3IuY2FsbCh0aGlzLCBlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50RnJvbU5vZGUobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudElzQWN0aXZlKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuaXNDb25uZWN0ZWQgIT0gdGhpcy5lbGVtZW50LmlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmNvbnRhaW5zKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudHMuaGFzKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50SXNBY3RpdmUoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzLmFkZChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5lbGVtZW50TWF0Y2hlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLmVsZW1lbnRNYXRjaGVkKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMuaGFzKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzLmRlbGV0ZShlbGVtZW50KTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlbGVnYXRlLmVsZW1lbnRVbm1hdGNoZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLmVsZW1lbnRVbm1hdGNoZWQoZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIEF0dHJpYnV0ZU9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCBkZWxlZ2F0ZSkge1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZU5hbWUgPSBhdHRyaWJ1dGVOYW1lO1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgICAgIHRoaXMuZWxlbWVudE9ic2VydmVyID0gbmV3IEVsZW1lbnRPYnNlcnZlcihlbGVtZW50LCB0aGlzKTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRPYnNlcnZlci5lbGVtZW50O1xuICAgIH1cbiAgICBnZXQgc2VsZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiBgWyR7dGhpcy5hdHRyaWJ1dGVOYW1lfV1gO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50T2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICB9XG4gICAgcGF1c2UoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5lbGVtZW50T2JzZXJ2ZXIucGF1c2UoY2FsbGJhY2spO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnRPYnNlcnZlci5zdG9wKCk7XG4gICAgfVxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudE9ic2VydmVyLnJlZnJlc2goKTtcbiAgICB9XG4gICAgZ2V0IHN0YXJ0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRPYnNlcnZlci5zdGFydGVkO1xuICAgIH1cbiAgICBtYXRjaEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudC5oYXNBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVOYW1lKTtcbiAgICB9XG4gICAgbWF0Y2hFbGVtZW50c0luVHJlZSh0cmVlKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gdGhpcy5tYXRjaEVsZW1lbnQodHJlZSkgPyBbdHJlZV0gOiBbXTtcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IEFycmF5LmZyb20odHJlZS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuc2VsZWN0b3IpKTtcbiAgICAgICAgcmV0dXJuIG1hdGNoLmNvbmNhdChtYXRjaGVzKTtcbiAgICB9XG4gICAgZWxlbWVudE1hdGNoZWQoZWxlbWVudCkge1xuICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5lbGVtZW50TWF0Y2hlZEF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5lbGVtZW50TWF0Y2hlZEF0dHJpYnV0ZShlbGVtZW50LCB0aGlzLmF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRVbm1hdGNoZWQoZWxlbWVudCkge1xuICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5lbGVtZW50VW5tYXRjaGVkQXR0cmlidXRlKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLmVsZW1lbnRVbm1hdGNoZWRBdHRyaWJ1dGUoZWxlbWVudCwgdGhpcy5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50QXR0cmlidXRlQ2hhbmdlZChlbGVtZW50LCBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlLmVsZW1lbnRBdHRyaWJ1dGVWYWx1ZUNoYW5nZWQgJiYgdGhpcy5hdHRyaWJ1dGVOYW1lID09IGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZWxlbWVudEF0dHJpYnV0ZVZhbHVlQ2hhbmdlZChlbGVtZW50LCBhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gYWRkKG1hcCwga2V5LCB2YWx1ZSkge1xuICAgIGZldGNoKG1hcCwga2V5KS5hZGQodmFsdWUpO1xufVxuZnVuY3Rpb24gZGVsKG1hcCwga2V5LCB2YWx1ZSkge1xuICAgIGZldGNoKG1hcCwga2V5KS5kZWxldGUodmFsdWUpO1xuICAgIHBydW5lKG1hcCwga2V5KTtcbn1cbmZ1bmN0aW9uIGZldGNoKG1hcCwga2V5KSB7XG4gICAgbGV0IHZhbHVlcyA9IG1hcC5nZXQoa2V5KTtcbiAgICBpZiAoIXZhbHVlcykge1xuICAgICAgICB2YWx1ZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIG1hcC5zZXQoa2V5LCB2YWx1ZXMpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xufVxuZnVuY3Rpb24gcHJ1bmUobWFwLCBrZXkpIHtcbiAgICBjb25zdCB2YWx1ZXMgPSBtYXAuZ2V0KGtleSk7XG4gICAgaWYgKHZhbHVlcyAhPSBudWxsICYmIHZhbHVlcy5zaXplID09IDApIHtcbiAgICAgICAgbWFwLmRlbGV0ZShrZXkpO1xuICAgIH1cbn1cblxuY2xhc3MgTXVsdGltYXAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnZhbHVlc0J5S2V5ID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBnZXQga2V5cygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy52YWx1ZXNCeUtleS5rZXlzKCkpO1xuICAgIH1cbiAgICBnZXQgdmFsdWVzKCkge1xuICAgICAgICBjb25zdCBzZXRzID0gQXJyYXkuZnJvbSh0aGlzLnZhbHVlc0J5S2V5LnZhbHVlcygpKTtcbiAgICAgICAgcmV0dXJuIHNldHMucmVkdWNlKCh2YWx1ZXMsIHNldCkgPT4gdmFsdWVzLmNvbmNhdChBcnJheS5mcm9tKHNldCkpLCBbXSk7XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgICBjb25zdCBzZXRzID0gQXJyYXkuZnJvbSh0aGlzLnZhbHVlc0J5S2V5LnZhbHVlcygpKTtcbiAgICAgICAgcmV0dXJuIHNldHMucmVkdWNlKChzaXplLCBzZXQpID0+IHNpemUgKyBzZXQuc2l6ZSwgMCk7XG4gICAgfVxuICAgIGFkZChrZXksIHZhbHVlKSB7XG4gICAgICAgIGFkZCh0aGlzLnZhbHVlc0J5S2V5LCBrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgZGVsZXRlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgZGVsKHRoaXMudmFsdWVzQnlLZXksIGtleSwgdmFsdWUpO1xuICAgIH1cbiAgICBoYXMoa2V5LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLnZhbHVlc0J5S2V5LmdldChrZXkpO1xuICAgICAgICByZXR1cm4gdmFsdWVzICE9IG51bGwgJiYgdmFsdWVzLmhhcyh2YWx1ZSk7XG4gICAgfVxuICAgIGhhc0tleShrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzQnlLZXkuaGFzKGtleSk7XG4gICAgfVxuICAgIGhhc1ZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHNldHMgPSBBcnJheS5mcm9tKHRoaXMudmFsdWVzQnlLZXkudmFsdWVzKCkpO1xuICAgICAgICByZXR1cm4gc2V0cy5zb21lKChzZXQpID0+IHNldC5oYXModmFsdWUpKTtcbiAgICB9XG4gICAgZ2V0VmFsdWVzRm9yS2V5KGtleSkge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLnZhbHVlc0J5S2V5LmdldChrZXkpO1xuICAgICAgICByZXR1cm4gdmFsdWVzID8gQXJyYXkuZnJvbSh2YWx1ZXMpIDogW107XG4gICAgfVxuICAgIGdldEtleXNGb3JWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnZhbHVlc0J5S2V5KVxuICAgICAgICAgICAgLmZpbHRlcigoW19rZXksIHZhbHVlc10pID0+IHZhbHVlcy5oYXModmFsdWUpKVxuICAgICAgICAgICAgLm1hcCgoW2tleSwgX3ZhbHVlc10pID0+IGtleSk7XG4gICAgfVxufVxuXG5jbGFzcyBJbmRleGVkTXVsdGltYXAgZXh0ZW5kcyBNdWx0aW1hcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMua2V5c0J5VmFsdWUgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGdldCB2YWx1ZXMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMua2V5c0J5VmFsdWUua2V5cygpKTtcbiAgICB9XG4gICAgYWRkKGtleSwgdmFsdWUpIHtcbiAgICAgICAgc3VwZXIuYWRkKGtleSwgdmFsdWUpO1xuICAgICAgICBhZGQodGhpcy5rZXlzQnlWYWx1ZSwgdmFsdWUsIGtleSk7XG4gICAgfVxuICAgIGRlbGV0ZShrZXksIHZhbHVlKSB7XG4gICAgICAgIHN1cGVyLmRlbGV0ZShrZXksIHZhbHVlKTtcbiAgICAgICAgZGVsKHRoaXMua2V5c0J5VmFsdWUsIHZhbHVlLCBrZXkpO1xuICAgIH1cbiAgICBoYXNWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5rZXlzQnlWYWx1ZS5oYXModmFsdWUpO1xuICAgIH1cbiAgICBnZXRLZXlzRm9yVmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgc2V0ID0gdGhpcy5rZXlzQnlWYWx1ZS5nZXQodmFsdWUpO1xuICAgICAgICByZXR1cm4gc2V0ID8gQXJyYXkuZnJvbShzZXQpIDogW107XG4gICAgfVxufVxuXG5jbGFzcyBTZWxlY3Rvck9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBzZWxlY3RvciwgZGVsZWdhdGUsIGRldGFpbHMpIHtcbiAgICAgICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgdGhpcy5kZXRhaWxzID0gZGV0YWlscztcbiAgICAgICAgdGhpcy5lbGVtZW50T2JzZXJ2ZXIgPSBuZXcgRWxlbWVudE9ic2VydmVyKGVsZW1lbnQsIHRoaXMpO1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgICAgIHRoaXMubWF0Y2hlc0J5RWxlbWVudCA9IG5ldyBNdWx0aW1hcCgpO1xuICAgIH1cbiAgICBnZXQgc3RhcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudE9ic2VydmVyLnN0YXJ0ZWQ7XG4gICAgfVxuICAgIGdldCBzZWxlY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdG9yO1xuICAgIH1cbiAgICBzZXQgc2VsZWN0b3Ioc2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmVsZW1lbnRPYnNlcnZlci5zdGFydCgpO1xuICAgIH1cbiAgICBwYXVzZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmVsZW1lbnRPYnNlcnZlci5wYXVzZShjYWxsYmFjayk7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudE9ic2VydmVyLnN0b3AoKTtcbiAgICB9XG4gICAgcmVmcmVzaCgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50T2JzZXJ2ZXIucmVmcmVzaCgpO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudE9ic2VydmVyLmVsZW1lbnQ7XG4gICAgfVxuICAgIG1hdGNoRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHsgc2VsZWN0b3IgfSA9IHRoaXM7XG4gICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlcyA9IGVsZW1lbnQubWF0Y2hlcyhzZWxlY3Rvcik7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5zZWxlY3Rvck1hdGNoRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaGVzICYmIHRoaXMuZGVsZWdhdGUuc2VsZWN0b3JNYXRjaEVsZW1lbnQoZWxlbWVudCwgdGhpcy5kZXRhaWxzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1hdGNoRWxlbWVudHNJblRyZWUodHJlZSkge1xuICAgICAgICBjb25zdCB7IHNlbGVjdG9yIH0gPSB0aGlzO1xuICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gdGhpcy5tYXRjaEVsZW1lbnQodHJlZSkgPyBbdHJlZV0gOiBbXTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBBcnJheS5mcm9tKHRyZWUucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpLmZpbHRlcigobWF0Y2gpID0+IHRoaXMubWF0Y2hFbGVtZW50KG1hdGNoKSk7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2guY29uY2F0KG1hdGNoZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRNYXRjaGVkKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgeyBzZWxlY3RvciB9ID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdG9yTWF0Y2hlZChlbGVtZW50LCBzZWxlY3Rvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudFVubWF0Y2hlZChlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9ycyA9IHRoaXMubWF0Y2hlc0J5RWxlbWVudC5nZXRLZXlzRm9yVmFsdWUoZWxlbWVudCk7XG4gICAgICAgIGZvciAoY29uc3Qgc2VsZWN0b3Igb2Ygc2VsZWN0b3JzKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdG9yVW5tYXRjaGVkKGVsZW1lbnQsIHNlbGVjdG9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50QXR0cmlidXRlQ2hhbmdlZChlbGVtZW50LCBfYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBjb25zdCB7IHNlbGVjdG9yIH0gPSB0aGlzO1xuICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSB0aGlzLm1hdGNoRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZWRCZWZvcmUgPSB0aGlzLm1hdGNoZXNCeUVsZW1lbnQuaGFzKHNlbGVjdG9yLCBlbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChtYXRjaGVzICYmICFtYXRjaGVkQmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rvck1hdGNoZWQoZWxlbWVudCwgc2VsZWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIW1hdGNoZXMgJiYgbWF0Y2hlZEJlZm9yZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0b3JVbm1hdGNoZWQoZWxlbWVudCwgc2VsZWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHNlbGVjdG9yTWF0Y2hlZChlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgICAgICB0aGlzLmRlbGVnYXRlLnNlbGVjdG9yTWF0Y2hlZChlbGVtZW50LCBzZWxlY3RvciwgdGhpcy5kZXRhaWxzKTtcbiAgICAgICAgdGhpcy5tYXRjaGVzQnlFbGVtZW50LmFkZChzZWxlY3RvciwgZWxlbWVudCk7XG4gICAgfVxuICAgIHNlbGVjdG9yVW5tYXRjaGVkKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUuc2VsZWN0b3JVbm1hdGNoZWQoZWxlbWVudCwgc2VsZWN0b3IsIHRoaXMuZGV0YWlscyk7XG4gICAgICAgIHRoaXMubWF0Y2hlc0J5RWxlbWVudC5kZWxldGUoc2VsZWN0b3IsIGVsZW1lbnQpO1xuICAgIH1cbn1cblxuY2xhc3MgU3RyaW5nTWFwT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGRlbGVnYXRlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RyaW5nTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB0aGlzLnByb2Nlc3NNdXRhdGlvbnMobXV0YXRpb25zKSk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMuZWxlbWVudCwgeyBhdHRyaWJ1dGVzOiB0cnVlLCBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci50YWtlUmVjb3JkcygpO1xuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlTmFtZSBvZiB0aGlzLmtub3duQXR0cmlidXRlTmFtZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NNdXRhdGlvbihtdXRhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJvY2Vzc011dGF0aW9uKG11dGF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSBtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lO1xuICAgICAgICBpZiAoYXR0cmlidXRlTmFtZSkge1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIG11dGF0aW9uLm9sZFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWZyZXNoQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuZGVsZWdhdGUuZ2V0U3RyaW5nTWFwS2V5Rm9yQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICBpZiAoa2V5ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zdHJpbmdNYXAuaGFzKGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJpbmdNYXBLZXlBZGRlZChrZXksIGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RyaW5nTWFwLmdldChhdHRyaWJ1dGVOYW1lKSAhPSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyaW5nTWFwVmFsdWVDaGFuZ2VkKHZhbHVlLCBrZXksIG9sZFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLnN0cmluZ01hcC5nZXQoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJpbmdNYXAuZGVsZXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChvbGRWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJpbmdNYXBLZXlSZW1vdmVkKGtleSwgYXR0cmlidXRlTmFtZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJpbmdNYXAuc2V0KGF0dHJpYnV0ZU5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdHJpbmdNYXBLZXlBZGRlZChrZXksIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuc3RyaW5nTWFwS2V5QWRkZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuc3RyaW5nTWFwS2V5QWRkZWQoa2V5LCBhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdHJpbmdNYXBWYWx1ZUNoYW5nZWQodmFsdWUsIGtleSwgb2xkVmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuc3RyaW5nTWFwVmFsdWVDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLnN0cmluZ01hcFZhbHVlQ2hhbmdlZCh2YWx1ZSwga2V5LCBvbGRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RyaW5nTWFwS2V5UmVtb3ZlZChrZXksIGF0dHJpYnV0ZU5hbWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlLnN0cmluZ01hcEtleVJlbW92ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuc3RyaW5nTWFwS2V5UmVtb3ZlZChrZXksIGF0dHJpYnV0ZU5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQga25vd25BdHRyaWJ1dGVOYW1lcygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldCh0aGlzLmN1cnJlbnRBdHRyaWJ1dGVOYW1lcy5jb25jYXQodGhpcy5yZWNvcmRlZEF0dHJpYnV0ZU5hbWVzKSkpO1xuICAgIH1cbiAgICBnZXQgY3VycmVudEF0dHJpYnV0ZU5hbWVzKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmVsZW1lbnQuYXR0cmlidXRlcykubWFwKChhdHRyaWJ1dGUpID0+IGF0dHJpYnV0ZS5uYW1lKTtcbiAgICB9XG4gICAgZ2V0IHJlY29yZGVkQXR0cmlidXRlTmFtZXMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuc3RyaW5nTWFwLmtleXMoKSk7XG4gICAgfVxufVxuXG5jbGFzcyBUb2tlbkxpc3RPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgYXR0cmlidXRlTmFtZSwgZGVsZWdhdGUpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYnNlcnZlciA9IG5ldyBBdHRyaWJ1dGVPYnNlcnZlcihlbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCB0aGlzKTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICB0aGlzLnRva2Vuc0J5RWxlbWVudCA9IG5ldyBNdWx0aW1hcCgpO1xuICAgIH1cbiAgICBnZXQgc3RhcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlT2JzZXJ2ZXIuc3RhcnRlZDtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICB9XG4gICAgcGF1c2UoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYnNlcnZlci5wYXVzZShjYWxsYmFjayk7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlT2JzZXJ2ZXIuc3RvcCgpO1xuICAgIH1cbiAgICByZWZyZXNoKCkge1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZU9ic2VydmVyLnJlZnJlc2goKTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZU9ic2VydmVyLmVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBhdHRyaWJ1dGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVPYnNlcnZlci5hdHRyaWJ1dGVOYW1lO1xuICAgIH1cbiAgICBlbGVtZW50TWF0Y2hlZEF0dHJpYnV0ZShlbGVtZW50KSB7XG4gICAgICAgIHRoaXMudG9rZW5zTWF0Y2hlZCh0aGlzLnJlYWRUb2tlbnNGb3JFbGVtZW50KGVsZW1lbnQpKTtcbiAgICB9XG4gICAgZWxlbWVudEF0dHJpYnV0ZVZhbHVlQ2hhbmdlZChlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IFt1bm1hdGNoZWRUb2tlbnMsIG1hdGNoZWRUb2tlbnNdID0gdGhpcy5yZWZyZXNoVG9rZW5zRm9yRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgdGhpcy50b2tlbnNVbm1hdGNoZWQodW5tYXRjaGVkVG9rZW5zKTtcbiAgICAgICAgdGhpcy50b2tlbnNNYXRjaGVkKG1hdGNoZWRUb2tlbnMpO1xuICAgIH1cbiAgICBlbGVtZW50VW5tYXRjaGVkQXR0cmlidXRlKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy50b2tlbnNVbm1hdGNoZWQodGhpcy50b2tlbnNCeUVsZW1lbnQuZ2V0VmFsdWVzRm9yS2V5KGVsZW1lbnQpKTtcbiAgICB9XG4gICAgdG9rZW5zTWF0Y2hlZCh0b2tlbnMpIHtcbiAgICAgICAgdG9rZW5zLmZvckVhY2goKHRva2VuKSA9PiB0aGlzLnRva2VuTWF0Y2hlZCh0b2tlbikpO1xuICAgIH1cbiAgICB0b2tlbnNVbm1hdGNoZWQodG9rZW5zKSB7XG4gICAgICAgIHRva2Vucy5mb3JFYWNoKCh0b2tlbikgPT4gdGhpcy50b2tlblVubWF0Y2hlZCh0b2tlbikpO1xuICAgIH1cbiAgICB0b2tlbk1hdGNoZWQodG9rZW4pIHtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS50b2tlbk1hdGNoZWQodG9rZW4pO1xuICAgICAgICB0aGlzLnRva2Vuc0J5RWxlbWVudC5hZGQodG9rZW4uZWxlbWVudCwgdG9rZW4pO1xuICAgIH1cbiAgICB0b2tlblVubWF0Y2hlZCh0b2tlbikge1xuICAgICAgICB0aGlzLmRlbGVnYXRlLnRva2VuVW5tYXRjaGVkKHRva2VuKTtcbiAgICAgICAgdGhpcy50b2tlbnNCeUVsZW1lbnQuZGVsZXRlKHRva2VuLmVsZW1lbnQsIHRva2VuKTtcbiAgICB9XG4gICAgcmVmcmVzaFRva2Vuc0ZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBwcmV2aW91c1Rva2VucyA9IHRoaXMudG9rZW5zQnlFbGVtZW50LmdldFZhbHVlc0ZvcktleShlbGVtZW50KTtcbiAgICAgICAgY29uc3QgY3VycmVudFRva2VucyA9IHRoaXMucmVhZFRva2Vuc0ZvckVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgIGNvbnN0IGZpcnN0RGlmZmVyaW5nSW5kZXggPSB6aXAocHJldmlvdXNUb2tlbnMsIGN1cnJlbnRUb2tlbnMpLmZpbmRJbmRleCgoW3ByZXZpb3VzVG9rZW4sIGN1cnJlbnRUb2tlbl0pID0+ICF0b2tlbnNBcmVFcXVhbChwcmV2aW91c1Rva2VuLCBjdXJyZW50VG9rZW4pKTtcbiAgICAgICAgaWYgKGZpcnN0RGlmZmVyaW5nSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBbW10sIFtdXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbcHJldmlvdXNUb2tlbnMuc2xpY2UoZmlyc3REaWZmZXJpbmdJbmRleCksIGN1cnJlbnRUb2tlbnMuc2xpY2UoZmlyc3REaWZmZXJpbmdJbmRleCldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlYWRUb2tlbnNGb3JFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlTmFtZSA9IHRoaXMuYXR0cmlidXRlTmFtZTtcbiAgICAgICAgY29uc3QgdG9rZW5TdHJpbmcgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSB8fCBcIlwiO1xuICAgICAgICByZXR1cm4gcGFyc2VUb2tlblN0cmluZyh0b2tlblN0cmluZywgZWxlbWVudCwgYXR0cmlidXRlTmFtZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcGFyc2VUb2tlblN0cmluZyh0b2tlblN0cmluZywgZWxlbWVudCwgYXR0cmlidXRlTmFtZSkge1xuICAgIHJldHVybiB0b2tlblN0cmluZ1xuICAgICAgICAudHJpbSgpXG4gICAgICAgIC5zcGxpdCgvXFxzKy8pXG4gICAgICAgIC5maWx0ZXIoKGNvbnRlbnQpID0+IGNvbnRlbnQubGVuZ3RoKVxuICAgICAgICAubWFwKChjb250ZW50LCBpbmRleCkgPT4gKHsgZWxlbWVudCwgYXR0cmlidXRlTmFtZSwgY29udGVudCwgaW5kZXggfSkpO1xufVxuZnVuY3Rpb24gemlwKGxlZnQsIHJpZ2h0KSB7XG4gICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgobGVmdC5sZW5ndGgsIHJpZ2h0Lmxlbmd0aCk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGggfSwgKF8sIGluZGV4KSA9PiBbbGVmdFtpbmRleF0sIHJpZ2h0W2luZGV4XV0pO1xufVxuZnVuY3Rpb24gdG9rZW5zQXJlRXF1YWwobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gbGVmdCAmJiByaWdodCAmJiBsZWZ0LmluZGV4ID09IHJpZ2h0LmluZGV4ICYmIGxlZnQuY29udGVudCA9PSByaWdodC5jb250ZW50O1xufVxuXG5jbGFzcyBWYWx1ZUxpc3RPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgYXR0cmlidXRlTmFtZSwgZGVsZWdhdGUpIHtcbiAgICAgICAgdGhpcy50b2tlbkxpc3RPYnNlcnZlciA9IG5ldyBUb2tlbkxpc3RPYnNlcnZlcihlbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCB0aGlzKTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICB0aGlzLnBhcnNlUmVzdWx0c0J5VG9rZW4gPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICB0aGlzLnZhbHVlc0J5VG9rZW5CeUVsZW1lbnQgPSBuZXcgV2Vha01hcCgpO1xuICAgIH1cbiAgICBnZXQgc3RhcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIuc3RhcnRlZDtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy50b2tlbkxpc3RPYnNlcnZlci5zdG9wKCk7XG4gICAgfVxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIHRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIucmVmcmVzaCgpO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIuZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IGF0dHJpYnV0ZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRva2VuTGlzdE9ic2VydmVyLmF0dHJpYnV0ZU5hbWU7XG4gICAgfVxuICAgIHRva2VuTWF0Y2hlZCh0b2tlbikge1xuICAgICAgICBjb25zdCB7IGVsZW1lbnQgfSA9IHRva2VuO1xuICAgICAgICBjb25zdCB7IHZhbHVlIH0gPSB0aGlzLmZldGNoUGFyc2VSZXN1bHRGb3JUb2tlbih0b2tlbik7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5mZXRjaFZhbHVlc0J5VG9rZW5Gb3JFbGVtZW50KGVsZW1lbnQpLnNldCh0b2tlbiwgdmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5lbGVtZW50TWF0Y2hlZFZhbHVlKGVsZW1lbnQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b2tlblVubWF0Y2hlZCh0b2tlbikge1xuICAgICAgICBjb25zdCB7IGVsZW1lbnQgfSA9IHRva2VuO1xuICAgICAgICBjb25zdCB7IHZhbHVlIH0gPSB0aGlzLmZldGNoUGFyc2VSZXN1bHRGb3JUb2tlbih0b2tlbik7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5mZXRjaFZhbHVlc0J5VG9rZW5Gb3JFbGVtZW50KGVsZW1lbnQpLmRlbGV0ZSh0b2tlbik7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLmVsZW1lbnRVbm1hdGNoZWRWYWx1ZShlbGVtZW50LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmV0Y2hQYXJzZVJlc3VsdEZvclRva2VuKHRva2VuKSB7XG4gICAgICAgIGxldCBwYXJzZVJlc3VsdCA9IHRoaXMucGFyc2VSZXN1bHRzQnlUb2tlbi5nZXQodG9rZW4pO1xuICAgICAgICBpZiAoIXBhcnNlUmVzdWx0KSB7XG4gICAgICAgICAgICBwYXJzZVJlc3VsdCA9IHRoaXMucGFyc2VUb2tlbih0b2tlbik7XG4gICAgICAgICAgICB0aGlzLnBhcnNlUmVzdWx0c0J5VG9rZW4uc2V0KHRva2VuLCBwYXJzZVJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlUmVzdWx0O1xuICAgIH1cbiAgICBmZXRjaFZhbHVlc0J5VG9rZW5Gb3JFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgbGV0IHZhbHVlc0J5VG9rZW4gPSB0aGlzLnZhbHVlc0J5VG9rZW5CeUVsZW1lbnQuZ2V0KGVsZW1lbnQpO1xuICAgICAgICBpZiAoIXZhbHVlc0J5VG9rZW4pIHtcbiAgICAgICAgICAgIHZhbHVlc0J5VG9rZW4gPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICB0aGlzLnZhbHVlc0J5VG9rZW5CeUVsZW1lbnQuc2V0KGVsZW1lbnQsIHZhbHVlc0J5VG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZXNCeVRva2VuO1xuICAgIH1cbiAgICBwYXJzZVRva2VuKHRva2VuKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZGVsZWdhdGUucGFyc2VWYWx1ZUZvclRva2VuKHRva2VuKTtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4geyBlcnJvciB9O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBCaW5kaW5nT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIGRlbGVnYXRlKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgdGhpcy5iaW5kaW5nc0J5QWN0aW9uID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbHVlTGlzdE9ic2VydmVyKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlTGlzdE9ic2VydmVyID0gbmV3IFZhbHVlTGlzdE9ic2VydmVyKHRoaXMuZWxlbWVudCwgdGhpcy5hY3Rpb25BdHRyaWJ1dGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy52YWx1ZUxpc3RPYnNlcnZlci5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlTGlzdE9ic2VydmVyKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlTGlzdE9ic2VydmVyLnN0b3AoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnZhbHVlTGlzdE9ic2VydmVyO1xuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0QWxsQWN0aW9ucygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBpZGVudGlmaWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmlkZW50aWZpZXI7XG4gICAgfVxuICAgIGdldCBhY3Rpb25BdHRyaWJ1dGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjaGVtYS5hY3Rpb25BdHRyaWJ1dGU7XG4gICAgfVxuICAgIGdldCBzY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc2NoZW1hO1xuICAgIH1cbiAgICBnZXQgYmluZGluZ3MoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuYmluZGluZ3NCeUFjdGlvbi52YWx1ZXMoKSk7XG4gICAgfVxuICAgIGNvbm5lY3RBY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IGJpbmRpbmcgPSBuZXcgQmluZGluZyh0aGlzLmNvbnRleHQsIGFjdGlvbik7XG4gICAgICAgIHRoaXMuYmluZGluZ3NCeUFjdGlvbi5zZXQoYWN0aW9uLCBiaW5kaW5nKTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS5iaW5kaW5nQ29ubmVjdGVkKGJpbmRpbmcpO1xuICAgIH1cbiAgICBkaXNjb25uZWN0QWN0aW9uKGFjdGlvbikge1xuICAgICAgICBjb25zdCBiaW5kaW5nID0gdGhpcy5iaW5kaW5nc0J5QWN0aW9uLmdldChhY3Rpb24pO1xuICAgICAgICBpZiAoYmluZGluZykge1xuICAgICAgICAgICAgdGhpcy5iaW5kaW5nc0J5QWN0aW9uLmRlbGV0ZShhY3Rpb24pO1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5iaW5kaW5nRGlzY29ubmVjdGVkKGJpbmRpbmcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RBbGxBY3Rpb25zKCkge1xuICAgICAgICB0aGlzLmJpbmRpbmdzLmZvckVhY2goKGJpbmRpbmcpID0+IHRoaXMuZGVsZWdhdGUuYmluZGluZ0Rpc2Nvbm5lY3RlZChiaW5kaW5nLCB0cnVlKSk7XG4gICAgICAgIHRoaXMuYmluZGluZ3NCeUFjdGlvbi5jbGVhcigpO1xuICAgIH1cbiAgICBwYXJzZVZhbHVlRm9yVG9rZW4odG9rZW4pIHtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gQWN0aW9uLmZvclRva2VuKHRva2VuLCB0aGlzLnNjaGVtYSk7XG4gICAgICAgIGlmIChhY3Rpb24uaWRlbnRpZmllciA9PSB0aGlzLmlkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb247XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudE1hdGNoZWRWYWx1ZShlbGVtZW50LCBhY3Rpb24pIHtcbiAgICAgICAgdGhpcy5jb25uZWN0QWN0aW9uKGFjdGlvbik7XG4gICAgfVxuICAgIGVsZW1lbnRVbm1hdGNoZWRWYWx1ZShlbGVtZW50LCBhY3Rpb24pIHtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0QWN0aW9uKGFjdGlvbik7XG4gICAgfVxufVxuXG5jbGFzcyBWYWx1ZU9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCByZWNlaXZlcikge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLnJlY2VpdmVyID0gcmVjZWl2ZXI7XG4gICAgICAgIHRoaXMuc3RyaW5nTWFwT2JzZXJ2ZXIgPSBuZXcgU3RyaW5nTWFwT2JzZXJ2ZXIodGhpcy5lbGVtZW50LCB0aGlzKTtcbiAgICAgICAgdGhpcy52YWx1ZURlc2NyaXB0b3JNYXAgPSB0aGlzLmNvbnRyb2xsZXIudmFsdWVEZXNjcmlwdG9yTWFwO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5zdHJpbmdNYXBPYnNlcnZlci5zdGFydCgpO1xuICAgICAgICB0aGlzLmludm9rZUNoYW5nZWRDYWxsYmFja3NGb3JEZWZhdWx0VmFsdWVzKCk7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuc3RyaW5nTWFwT2JzZXJ2ZXIuc3RvcCgpO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5lbGVtZW50O1xuICAgIH1cbiAgICBnZXQgY29udHJvbGxlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5jb250cm9sbGVyO1xuICAgIH1cbiAgICBnZXRTdHJpbmdNYXBLZXlGb3JBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBpZiAoYXR0cmlidXRlTmFtZSBpbiB0aGlzLnZhbHVlRGVzY3JpcHRvck1hcCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVEZXNjcmlwdG9yTWFwW2F0dHJpYnV0ZU5hbWVdLm5hbWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RyaW5nTWFwS2V5QWRkZWQoa2V5LCBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB0aGlzLnZhbHVlRGVzY3JpcHRvck1hcFthdHRyaWJ1dGVOYW1lXTtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1ZhbHVlKGtleSkpIHtcbiAgICAgICAgICAgIHRoaXMuaW52b2tlQ2hhbmdlZENhbGxiYWNrKGtleSwgZGVzY3JpcHRvci53cml0ZXIodGhpcy5yZWNlaXZlcltrZXldKSwgZGVzY3JpcHRvci53cml0ZXIoZGVzY3JpcHRvci5kZWZhdWx0VmFsdWUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdHJpbmdNYXBWYWx1ZUNoYW5nZWQodmFsdWUsIG5hbWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB0aGlzLnZhbHVlRGVzY3JpcHRvck5hbWVNYXBbbmFtZV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKG9sZFZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICBvbGRWYWx1ZSA9IGRlc2NyaXB0b3Iud3JpdGVyKGRlc2NyaXB0b3IuZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmludm9rZUNoYW5nZWRDYWxsYmFjayhuYW1lLCB2YWx1ZSwgb2xkVmFsdWUpO1xuICAgIH1cbiAgICBzdHJpbmdNYXBLZXlSZW1vdmVkKGtleSwgYXR0cmlidXRlTmFtZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHRoaXMudmFsdWVEZXNjcmlwdG9yTmFtZU1hcFtrZXldO1xuICAgICAgICBpZiAodGhpcy5oYXNWYWx1ZShrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLmludm9rZUNoYW5nZWRDYWxsYmFjayhrZXksIGRlc2NyaXB0b3Iud3JpdGVyKHRoaXMucmVjZWl2ZXJba2V5XSksIG9sZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW52b2tlQ2hhbmdlZENhbGxiYWNrKGtleSwgZGVzY3JpcHRvci53cml0ZXIoZGVzY3JpcHRvci5kZWZhdWx0VmFsdWUpLCBvbGRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW52b2tlQ2hhbmdlZENhbGxiYWNrc0ZvckRlZmF1bHRWYWx1ZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgeyBrZXksIG5hbWUsIGRlZmF1bHRWYWx1ZSwgd3JpdGVyIH0gb2YgdGhpcy52YWx1ZURlc2NyaXB0b3JzKSB7XG4gICAgICAgICAgICBpZiAoZGVmYXVsdFZhbHVlICE9IHVuZGVmaW5lZCAmJiAhdGhpcy5jb250cm9sbGVyLmRhdGEuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmludm9rZUNoYW5nZWRDYWxsYmFjayhuYW1lLCB3cml0ZXIoZGVmYXVsdFZhbHVlKSwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpbnZva2VDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgcmF3VmFsdWUsIHJhd09sZFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNoYW5nZWRNZXRob2ROYW1lID0gYCR7bmFtZX1DaGFuZ2VkYDtcbiAgICAgICAgY29uc3QgY2hhbmdlZE1ldGhvZCA9IHRoaXMucmVjZWl2ZXJbY2hhbmdlZE1ldGhvZE5hbWVdO1xuICAgICAgICBpZiAodHlwZW9mIGNoYW5nZWRNZXRob2QgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gdGhpcy52YWx1ZURlc2NyaXB0b3JOYW1lTWFwW25hbWVdO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGRlc2NyaXB0b3IucmVhZGVyKHJhd1ZhbHVlKTtcbiAgICAgICAgICAgICAgICBsZXQgb2xkVmFsdWUgPSByYXdPbGRWYWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAocmF3T2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWUgPSBkZXNjcmlwdG9yLnJlYWRlcihyYXdPbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNoYW5nZWRNZXRob2QuY2FsbCh0aGlzLnJlY2VpdmVyLCB2YWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgVHlwZUVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSBgU3RpbXVsdXMgVmFsdWUgXCIke3RoaXMuY29udGV4dC5pZGVudGlmaWVyfS4ke2Rlc2NyaXB0b3IubmFtZX1cIiAtICR7ZXJyb3IubWVzc2FnZX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgdmFsdWVEZXNjcmlwdG9ycygpIHtcbiAgICAgICAgY29uc3QgeyB2YWx1ZURlc2NyaXB0b3JNYXAgfSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh2YWx1ZURlc2NyaXB0b3JNYXApLm1hcCgoa2V5KSA9PiB2YWx1ZURlc2NyaXB0b3JNYXBba2V5XSk7XG4gICAgfVxuICAgIGdldCB2YWx1ZURlc2NyaXB0b3JOYW1lTWFwKCkge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9ycyA9IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnZhbHVlRGVzY3JpcHRvck1hcCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gdGhpcy52YWx1ZURlc2NyaXB0b3JNYXBba2V5XTtcbiAgICAgICAgICAgIGRlc2NyaXB0b3JzW2Rlc2NyaXB0b3IubmFtZV0gPSBkZXNjcmlwdG9yO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3JzO1xuICAgIH1cbiAgICBoYXNWYWx1ZShhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB0aGlzLnZhbHVlRGVzY3JpcHRvck5hbWVNYXBbYXR0cmlidXRlTmFtZV07XG4gICAgICAgIGNvbnN0IGhhc01ldGhvZE5hbWUgPSBgaGFzJHtjYXBpdGFsaXplKGRlc2NyaXB0b3IubmFtZSl9YDtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVjZWl2ZXJbaGFzTWV0aG9kTmFtZV07XG4gICAgfVxufVxuXG5jbGFzcyBUYXJnZXRPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoY29udGV4dCwgZGVsZWdhdGUpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICB0aGlzLnRhcmdldHNCeU5hbWUgPSBuZXcgTXVsdGltYXAoKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy50b2tlbkxpc3RPYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy50b2tlbkxpc3RPYnNlcnZlciA9IG5ldyBUb2tlbkxpc3RPYnNlcnZlcih0aGlzLmVsZW1lbnQsIHRoaXMuYXR0cmlidXRlTmFtZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnRva2VuTGlzdE9ic2VydmVyLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgaWYgKHRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdEFsbFRhcmdldHMoKTtcbiAgICAgICAgICAgIHRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIuc3RvcCgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMudG9rZW5MaXN0T2JzZXJ2ZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9rZW5NYXRjaGVkKHsgZWxlbWVudCwgY29udGVudDogbmFtZSB9KSB7XG4gICAgICAgIGlmICh0aGlzLnNjb3BlLmNvbnRhaW5zRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0VGFyZ2V0KGVsZW1lbnQsIG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRva2VuVW5tYXRjaGVkKHsgZWxlbWVudCwgY29udGVudDogbmFtZSB9KSB7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdFRhcmdldChlbGVtZW50LCBuYW1lKTtcbiAgICB9XG4gICAgY29ubmVjdFRhcmdldChlbGVtZW50LCBuYW1lKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLnRhcmdldHNCeU5hbWUuaGFzKG5hbWUsIGVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldHNCeU5hbWUuYWRkKG5hbWUsIGVsZW1lbnQpO1xuICAgICAgICAgICAgKF9hID0gdGhpcy50b2tlbkxpc3RPYnNlcnZlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhdXNlKCgpID0+IHRoaXMuZGVsZWdhdGUudGFyZ2V0Q29ubmVjdGVkKGVsZW1lbnQsIG5hbWUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNjb25uZWN0VGFyZ2V0KGVsZW1lbnQsIG5hbWUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy50YXJnZXRzQnlOYW1lLmhhcyhuYW1lLCBlbGVtZW50KSkge1xuICAgICAgICAgICAgdGhpcy50YXJnZXRzQnlOYW1lLmRlbGV0ZShuYW1lLCBlbGVtZW50KTtcbiAgICAgICAgICAgIChfYSA9IHRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wYXVzZSgoKSA9PiB0aGlzLmRlbGVnYXRlLnRhcmdldERpc2Nvbm5lY3RlZChlbGVtZW50LCBuYW1lKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzY29ubmVjdEFsbFRhcmdldHMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBvZiB0aGlzLnRhcmdldHNCeU5hbWUua2V5cykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMudGFyZ2V0c0J5TmFtZS5nZXRWYWx1ZXNGb3JLZXkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3RUYXJnZXQoZWxlbWVudCwgbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGF0dHJpYnV0ZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiBgZGF0YS0ke3RoaXMuY29udGV4dC5pZGVudGlmaWVyfS10YXJnZXRgO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5lbGVtZW50O1xuICAgIH1cbiAgICBnZXQgc2NvcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc2NvcGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZWFkSW5oZXJpdGFibGVTdGF0aWNBcnJheVZhbHVlcyhjb25zdHJ1Y3RvciwgcHJvcGVydHlOYW1lKSB7XG4gICAgY29uc3QgYW5jZXN0b3JzID0gZ2V0QW5jZXN0b3JzRm9yQ29uc3RydWN0b3IoY29uc3RydWN0b3IpO1xuICAgIHJldHVybiBBcnJheS5mcm9tKGFuY2VzdG9ycy5yZWR1Y2UoKHZhbHVlcywgY29uc3RydWN0b3IpID0+IHtcbiAgICAgICAgZ2V0T3duU3RhdGljQXJyYXlWYWx1ZXMoY29uc3RydWN0b3IsIHByb3BlcnR5TmFtZSkuZm9yRWFjaCgobmFtZSkgPT4gdmFsdWVzLmFkZChuYW1lKSk7XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfSwgbmV3IFNldCgpKSk7XG59XG5mdW5jdGlvbiByZWFkSW5oZXJpdGFibGVTdGF0aWNPYmplY3RQYWlycyhjb25zdHJ1Y3RvciwgcHJvcGVydHlOYW1lKSB7XG4gICAgY29uc3QgYW5jZXN0b3JzID0gZ2V0QW5jZXN0b3JzRm9yQ29uc3RydWN0b3IoY29uc3RydWN0b3IpO1xuICAgIHJldHVybiBhbmNlc3RvcnMucmVkdWNlKChwYWlycywgY29uc3RydWN0b3IpID0+IHtcbiAgICAgICAgcGFpcnMucHVzaCguLi5nZXRPd25TdGF0aWNPYmplY3RQYWlycyhjb25zdHJ1Y3RvciwgcHJvcGVydHlOYW1lKSk7XG4gICAgICAgIHJldHVybiBwYWlycztcbiAgICB9LCBbXSk7XG59XG5mdW5jdGlvbiBnZXRBbmNlc3RvcnNGb3JDb25zdHJ1Y3Rvcihjb25zdHJ1Y3Rvcikge1xuICAgIGNvbnN0IGFuY2VzdG9ycyA9IFtdO1xuICAgIHdoaWxlIChjb25zdHJ1Y3Rvcikge1xuICAgICAgICBhbmNlc3RvcnMucHVzaChjb25zdHJ1Y3Rvcik7XG4gICAgICAgIGNvbnN0cnVjdG9yID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGNvbnN0cnVjdG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIGFuY2VzdG9ycy5yZXZlcnNlKCk7XG59XG5mdW5jdGlvbiBnZXRPd25TdGF0aWNBcnJheVZhbHVlcyhjb25zdHJ1Y3RvciwgcHJvcGVydHlOYW1lKSB7XG4gICAgY29uc3QgZGVmaW5pdGlvbiA9IGNvbnN0cnVjdG9yW3Byb3BlcnR5TmFtZV07XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZGVmaW5pdGlvbikgPyBkZWZpbml0aW9uIDogW107XG59XG5mdW5jdGlvbiBnZXRPd25TdGF0aWNPYmplY3RQYWlycyhjb25zdHJ1Y3RvciwgcHJvcGVydHlOYW1lKSB7XG4gICAgY29uc3QgZGVmaW5pdGlvbiA9IGNvbnN0cnVjdG9yW3Byb3BlcnR5TmFtZV07XG4gICAgcmV0dXJuIGRlZmluaXRpb24gPyBPYmplY3Qua2V5cyhkZWZpbml0aW9uKS5tYXAoKGtleSkgPT4gW2tleSwgZGVmaW5pdGlvbltrZXldXSkgOiBbXTtcbn1cblxuY2xhc3MgT3V0bGV0T2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIGRlbGVnYXRlKSB7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgICAgIHRoaXMub3V0bGV0c0J5TmFtZSA9IG5ldyBNdWx0aW1hcCgpO1xuICAgICAgICB0aGlzLm91dGxldEVsZW1lbnRzQnlOYW1lID0gbmV3IE11bHRpbWFwKCk7XG4gICAgICAgIHRoaXMuc2VsZWN0b3JPYnNlcnZlck1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYnNlcnZlck1hcCA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLm91dGxldERlZmluaXRpb25zLmZvckVhY2goKG91dGxldE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHVwU2VsZWN0b3JPYnNlcnZlckZvck91dGxldChvdXRsZXROYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHVwQXR0cmlidXRlT2JzZXJ2ZXJGb3JPdXRsZXQob3V0bGV0TmFtZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRlcGVuZGVudENvbnRleHRzLmZvckVhY2goKGNvbnRleHQpID0+IGNvbnRleHQucmVmcmVzaCgpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWZyZXNoKCkge1xuICAgICAgICB0aGlzLnNlbGVjdG9yT2JzZXJ2ZXJNYXAuZm9yRWFjaCgob2JzZXJ2ZXIpID0+IG9ic2VydmVyLnJlZnJlc2goKSk7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlT2JzZXJ2ZXJNYXAuZm9yRWFjaCgob2JzZXJ2ZXIpID0+IG9ic2VydmVyLnJlZnJlc2goKSk7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0QWxsT3V0bGV0cygpO1xuICAgICAgICAgICAgdGhpcy5zdG9wU2VsZWN0b3JPYnNlcnZlcnMoKTtcbiAgICAgICAgICAgIHRoaXMuc3RvcEF0dHJpYnV0ZU9ic2VydmVycygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0b3BTZWxlY3Rvck9ic2VydmVycygpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0b3JPYnNlcnZlck1hcC5zaXplID4gMCkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rvck9ic2VydmVyTWFwLmZvckVhY2goKG9ic2VydmVyKSA9PiBvYnNlcnZlci5zdG9wKCkpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rvck9ic2VydmVyTWFwLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RvcEF0dHJpYnV0ZU9ic2VydmVycygpIHtcbiAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlT2JzZXJ2ZXJNYXAuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlT2JzZXJ2ZXJNYXAuZm9yRWFjaCgob2JzZXJ2ZXIpID0+IG9ic2VydmVyLnN0b3AoKSk7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZU9ic2VydmVyTWFwLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2VsZWN0b3JNYXRjaGVkKGVsZW1lbnQsIF9zZWxlY3RvciwgeyBvdXRsZXROYW1lIH0pIHtcbiAgICAgICAgY29uc3Qgb3V0bGV0ID0gdGhpcy5nZXRPdXRsZXQoZWxlbWVudCwgb3V0bGV0TmFtZSk7XG4gICAgICAgIGlmIChvdXRsZXQpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdE91dGxldChvdXRsZXQsIGVsZW1lbnQsIG91dGxldE5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNlbGVjdG9yVW5tYXRjaGVkKGVsZW1lbnQsIF9zZWxlY3RvciwgeyBvdXRsZXROYW1lIH0pIHtcbiAgICAgICAgY29uc3Qgb3V0bGV0ID0gdGhpcy5nZXRPdXRsZXRGcm9tTWFwKGVsZW1lbnQsIG91dGxldE5hbWUpO1xuICAgICAgICBpZiAob3V0bGV0KSB7XG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3RPdXRsZXQob3V0bGV0LCBlbGVtZW50LCBvdXRsZXROYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZWxlY3Rvck1hdGNoRWxlbWVudChlbGVtZW50LCB7IG91dGxldE5hbWUgfSkge1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMuc2VsZWN0b3Iob3V0bGV0TmFtZSk7XG4gICAgICAgIGNvbnN0IGhhc091dGxldCA9IHRoaXMuaGFzT3V0bGV0KGVsZW1lbnQsIG91dGxldE5hbWUpO1xuICAgICAgICBjb25zdCBoYXNPdXRsZXRDb250cm9sbGVyID0gZWxlbWVudC5tYXRjaGVzKGBbJHt0aGlzLnNjaGVtYS5jb250cm9sbGVyQXR0cmlidXRlfX49JHtvdXRsZXROYW1lfV1gKTtcbiAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFzT3V0bGV0ICYmIGhhc091dGxldENvbnRyb2xsZXIgJiYgZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50TWF0Y2hlZEF0dHJpYnV0ZShfZWxlbWVudCwgYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBjb25zdCBvdXRsZXROYW1lID0gdGhpcy5nZXRPdXRsZXROYW1lRnJvbU91dGxldEF0dHJpYnV0ZU5hbWUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIGlmIChvdXRsZXROYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNlbGVjdG9yT2JzZXJ2ZXJGb3JPdXRsZXQob3V0bGV0TmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudEF0dHJpYnV0ZVZhbHVlQ2hhbmdlZChfZWxlbWVudCwgYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBjb25zdCBvdXRsZXROYW1lID0gdGhpcy5nZXRPdXRsZXROYW1lRnJvbU91dGxldEF0dHJpYnV0ZU5hbWUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIGlmIChvdXRsZXROYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNlbGVjdG9yT2JzZXJ2ZXJGb3JPdXRsZXQob3V0bGV0TmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudFVubWF0Y2hlZEF0dHJpYnV0ZShfZWxlbWVudCwgYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBjb25zdCBvdXRsZXROYW1lID0gdGhpcy5nZXRPdXRsZXROYW1lRnJvbU91dGxldEF0dHJpYnV0ZU5hbWUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIGlmIChvdXRsZXROYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNlbGVjdG9yT2JzZXJ2ZXJGb3JPdXRsZXQob3V0bGV0TmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29ubmVjdE91dGxldChvdXRsZXQsIGVsZW1lbnQsIG91dGxldE5hbWUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMub3V0bGV0RWxlbWVudHNCeU5hbWUuaGFzKG91dGxldE5hbWUsIGVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aGlzLm91dGxldHNCeU5hbWUuYWRkKG91dGxldE5hbWUsIG91dGxldCk7XG4gICAgICAgICAgICB0aGlzLm91dGxldEVsZW1lbnRzQnlOYW1lLmFkZChvdXRsZXROYW1lLCBlbGVtZW50KTtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuc2VsZWN0b3JPYnNlcnZlck1hcC5nZXQob3V0bGV0TmFtZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wYXVzZSgoKSA9PiB0aGlzLmRlbGVnYXRlLm91dGxldENvbm5lY3RlZChvdXRsZXQsIGVsZW1lbnQsIG91dGxldE5hbWUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNjb25uZWN0T3V0bGV0KG91dGxldCwgZWxlbWVudCwgb3V0bGV0TmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLm91dGxldEVsZW1lbnRzQnlOYW1lLmhhcyhvdXRsZXROYW1lLCBlbGVtZW50KSkge1xuICAgICAgICAgICAgdGhpcy5vdXRsZXRzQnlOYW1lLmRlbGV0ZShvdXRsZXROYW1lLCBvdXRsZXQpO1xuICAgICAgICAgICAgdGhpcy5vdXRsZXRFbGVtZW50c0J5TmFtZS5kZWxldGUob3V0bGV0TmFtZSwgZWxlbWVudCk7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLnNlbGVjdG9yT2JzZXJ2ZXJNYXBcbiAgICAgICAgICAgICAgICAuZ2V0KG91dGxldE5hbWUpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGF1c2UoKCkgPT4gdGhpcy5kZWxlZ2F0ZS5vdXRsZXREaXNjb25uZWN0ZWQob3V0bGV0LCBlbGVtZW50LCBvdXRsZXROYW1lKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzY29ubmVjdEFsbE91dGxldHMoKSB7XG4gICAgICAgIGZvciAoY29uc3Qgb3V0bGV0TmFtZSBvZiB0aGlzLm91dGxldEVsZW1lbnRzQnlOYW1lLmtleXMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLm91dGxldEVsZW1lbnRzQnlOYW1lLmdldFZhbHVlc0ZvcktleShvdXRsZXROYW1lKSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb3V0bGV0IG9mIHRoaXMub3V0bGV0c0J5TmFtZS5nZXRWYWx1ZXNGb3JLZXkob3V0bGV0TmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0T3V0bGV0KG91dGxldCwgZWxlbWVudCwgb3V0bGV0TmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZVNlbGVjdG9yT2JzZXJ2ZXJGb3JPdXRsZXQob3V0bGV0TmFtZSkge1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IHRoaXMuc2VsZWN0b3JPYnNlcnZlck1hcC5nZXQob3V0bGV0TmFtZSk7XG4gICAgICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yKG91dGxldE5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldHVwU2VsZWN0b3JPYnNlcnZlckZvck91dGxldChvdXRsZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5zZWxlY3RvcihvdXRsZXROYW1lKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3JPYnNlcnZlciA9IG5ldyBTZWxlY3Rvck9ic2VydmVyKGRvY3VtZW50LmJvZHksIHNlbGVjdG9yLCB0aGlzLCB7IG91dGxldE5hbWUgfSk7XG4gICAgICAgIHRoaXMuc2VsZWN0b3JPYnNlcnZlck1hcC5zZXQob3V0bGV0TmFtZSwgc2VsZWN0b3JPYnNlcnZlcik7XG4gICAgICAgIHNlbGVjdG9yT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICB9XG4gICAgc2V0dXBBdHRyaWJ1dGVPYnNlcnZlckZvck91dGxldChvdXRsZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSB0aGlzLmF0dHJpYnV0ZU5hbWVGb3JPdXRsZXROYW1lKG91dGxldE5hbWUpO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVPYnNlcnZlciA9IG5ldyBBdHRyaWJ1dGVPYnNlcnZlcih0aGlzLnNjb3BlLmVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIHRoaXMpO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZU9ic2VydmVyTWFwLnNldChvdXRsZXROYW1lLCBhdHRyaWJ1dGVPYnNlcnZlcik7XG4gICAgICAgIGF0dHJpYnV0ZU9ic2VydmVyLnN0YXJ0KCk7XG4gICAgfVxuICAgIHNlbGVjdG9yKG91dGxldE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUub3V0bGV0cy5nZXRTZWxlY3RvckZvck91dGxldE5hbWUob3V0bGV0TmFtZSk7XG4gICAgfVxuICAgIGF0dHJpYnV0ZU5hbWVGb3JPdXRsZXROYW1lKG91dGxldE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuc2NoZW1hLm91dGxldEF0dHJpYnV0ZUZvclNjb3BlKHRoaXMuaWRlbnRpZmllciwgb3V0bGV0TmFtZSk7XG4gICAgfVxuICAgIGdldE91dGxldE5hbWVGcm9tT3V0bGV0QXR0cmlidXRlTmFtZShhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91dGxldERlZmluaXRpb25zLmZpbmQoKG91dGxldE5hbWUpID0+IHRoaXMuYXR0cmlidXRlTmFtZUZvck91dGxldE5hbWUob3V0bGV0TmFtZSkgPT09IGF0dHJpYnV0ZU5hbWUpO1xuICAgIH1cbiAgICBnZXQgb3V0bGV0RGVwZW5kZW5jaWVzKCkge1xuICAgICAgICBjb25zdCBkZXBlbmRlbmNpZXMgPSBuZXcgTXVsdGltYXAoKTtcbiAgICAgICAgdGhpcy5yb3V0ZXIubW9kdWxlcy5mb3JFYWNoKChtb2R1bGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdG9yID0gbW9kdWxlLmRlZmluaXRpb24uY29udHJvbGxlckNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgY29uc3Qgb3V0bGV0cyA9IHJlYWRJbmhlcml0YWJsZVN0YXRpY0FycmF5VmFsdWVzKGNvbnN0cnVjdG9yLCBcIm91dGxldHNcIik7XG4gICAgICAgICAgICBvdXRsZXRzLmZvckVhY2goKG91dGxldCkgPT4gZGVwZW5kZW5jaWVzLmFkZChvdXRsZXQsIG1vZHVsZS5pZGVudGlmaWVyKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVwZW5kZW5jaWVzO1xuICAgIH1cbiAgICBnZXQgb3V0bGV0RGVmaW5pdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91dGxldERlcGVuZGVuY2llcy5nZXRLZXlzRm9yVmFsdWUodGhpcy5pZGVudGlmaWVyKTtcbiAgICB9XG4gICAgZ2V0IGRlcGVuZGVudENvbnRyb2xsZXJJZGVudGlmaWVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0bGV0RGVwZW5kZW5jaWVzLmdldFZhbHVlc0ZvcktleSh0aGlzLmlkZW50aWZpZXIpO1xuICAgIH1cbiAgICBnZXQgZGVwZW5kZW50Q29udGV4dHMoKSB7XG4gICAgICAgIGNvbnN0IGlkZW50aWZpZXJzID0gdGhpcy5kZXBlbmRlbnRDb250cm9sbGVySWRlbnRpZmllcnM7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdXRlci5jb250ZXh0cy5maWx0ZXIoKGNvbnRleHQpID0+IGlkZW50aWZpZXJzLmluY2x1ZGVzKGNvbnRleHQuaWRlbnRpZmllcikpO1xuICAgIH1cbiAgICBoYXNPdXRsZXQoZWxlbWVudCwgb3V0bGV0TmFtZSkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmdldE91dGxldChlbGVtZW50LCBvdXRsZXROYW1lKSB8fCAhIXRoaXMuZ2V0T3V0bGV0RnJvbU1hcChlbGVtZW50LCBvdXRsZXROYW1lKTtcbiAgICB9XG4gICAgZ2V0T3V0bGV0KGVsZW1lbnQsIG91dGxldE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbGljYXRpb24uZ2V0Q29udHJvbGxlckZvckVsZW1lbnRBbmRJZGVudGlmaWVyKGVsZW1lbnQsIG91dGxldE5hbWUpO1xuICAgIH1cbiAgICBnZXRPdXRsZXRGcm9tTWFwKGVsZW1lbnQsIG91dGxldE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0bGV0c0J5TmFtZS5nZXRWYWx1ZXNGb3JLZXkob3V0bGV0TmFtZSkuZmluZCgob3V0bGV0KSA9PiBvdXRsZXQuZWxlbWVudCA9PT0gZWxlbWVudCk7XG4gICAgfVxuICAgIGdldCBzY29wZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5zY29wZTtcbiAgICB9XG4gICAgZ2V0IHNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5zY2hlbWE7XG4gICAgfVxuICAgIGdldCBpZGVudGlmaWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmlkZW50aWZpZXI7XG4gICAgfVxuICAgIGdldCBhcHBsaWNhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5hcHBsaWNhdGlvbjtcbiAgICB9XG4gICAgZ2V0IHJvdXRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbGljYXRpb24ucm91dGVyO1xuICAgIH1cbn1cblxuY2xhc3MgQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IobW9kdWxlLCBzY29wZSkge1xuICAgICAgICB0aGlzLmxvZ0RlYnVnQWN0aXZpdHkgPSAoZnVuY3Rpb25OYW1lLCBkZXRhaWwgPSB7fSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBpZGVudGlmaWVyLCBjb250cm9sbGVyLCBlbGVtZW50IH0gPSB0aGlzO1xuICAgICAgICAgICAgZGV0YWlsID0gT2JqZWN0LmFzc2lnbih7IGlkZW50aWZpZXIsIGNvbnRyb2xsZXIsIGVsZW1lbnQgfSwgZGV0YWlsKTtcbiAgICAgICAgICAgIHRoaXMuYXBwbGljYXRpb24ubG9nRGVidWdBY3Rpdml0eSh0aGlzLmlkZW50aWZpZXIsIGZ1bmN0aW9uTmFtZSwgZGV0YWlsKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tb2R1bGUgPSBtb2R1bGU7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gbmV3IG1vZHVsZS5jb250cm9sbGVyQ29uc3RydWN0b3IodGhpcyk7XG4gICAgICAgIHRoaXMuYmluZGluZ09ic2VydmVyID0gbmV3IEJpbmRpbmdPYnNlcnZlcih0aGlzLCB0aGlzLmRpc3BhdGNoZXIpO1xuICAgICAgICB0aGlzLnZhbHVlT2JzZXJ2ZXIgPSBuZXcgVmFsdWVPYnNlcnZlcih0aGlzLCB0aGlzLmNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLnRhcmdldE9ic2VydmVyID0gbmV3IFRhcmdldE9ic2VydmVyKHRoaXMsIHRoaXMpO1xuICAgICAgICB0aGlzLm91dGxldE9ic2VydmVyID0gbmV3IE91dGxldE9ic2VydmVyKHRoaXMsIHRoaXMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmluaXRpYWxpemUoKTtcbiAgICAgICAgICAgIHRoaXMubG9nRGVidWdBY3Rpdml0eShcImluaXRpYWxpemVcIik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yLCBcImluaXRpYWxpemluZyBjb250cm9sbGVyXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuYmluZGluZ09ic2VydmVyLnN0YXJ0KCk7XG4gICAgICAgIHRoaXMudmFsdWVPYnNlcnZlci5zdGFydCgpO1xuICAgICAgICB0aGlzLnRhcmdldE9ic2VydmVyLnN0YXJ0KCk7XG4gICAgICAgIHRoaXMub3V0bGV0T2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5jb25uZWN0KCk7XG4gICAgICAgICAgICB0aGlzLmxvZ0RlYnVnQWN0aXZpdHkoXCJjb25uZWN0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvciwgXCJjb25uZWN0aW5nIGNvbnRyb2xsZXJcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVmcmVzaCgpIHtcbiAgICAgICAgdGhpcy5vdXRsZXRPYnNlcnZlci5yZWZyZXNoKCk7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5sb2dEZWJ1Z0FjdGl2aXR5KFwiZGlzY29ubmVjdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIFwiZGlzY29ubmVjdGluZyBjb250cm9sbGVyXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3V0bGV0T2JzZXJ2ZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLnRhcmdldE9ic2VydmVyLnN0b3AoKTtcbiAgICAgICAgdGhpcy52YWx1ZU9ic2VydmVyLnN0b3AoKTtcbiAgICAgICAgdGhpcy5iaW5kaW5nT2JzZXJ2ZXIuc3RvcCgpO1xuICAgIH1cbiAgICBnZXQgYXBwbGljYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZHVsZS5hcHBsaWNhdGlvbjtcbiAgICB9XG4gICAgZ2V0IGlkZW50aWZpZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZHVsZS5pZGVudGlmaWVyO1xuICAgIH1cbiAgICBnZXQgc2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBsaWNhdGlvbi5zY2hlbWE7XG4gICAgfVxuICAgIGdldCBkaXNwYXRjaGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBsaWNhdGlvbi5kaXNwYXRjaGVyO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IHBhcmVudEVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICB9XG4gICAgaGFuZGxlRXJyb3IoZXJyb3IsIG1lc3NhZ2UsIGRldGFpbCA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHsgaWRlbnRpZmllciwgY29udHJvbGxlciwgZWxlbWVudCB9ID0gdGhpcztcbiAgICAgICAgZGV0YWlsID0gT2JqZWN0LmFzc2lnbih7IGlkZW50aWZpZXIsIGNvbnRyb2xsZXIsIGVsZW1lbnQgfSwgZGV0YWlsKTtcbiAgICAgICAgdGhpcy5hcHBsaWNhdGlvbi5oYW5kbGVFcnJvcihlcnJvciwgYEVycm9yICR7bWVzc2FnZX1gLCBkZXRhaWwpO1xuICAgIH1cbiAgICB0YXJnZXRDb25uZWN0ZWQoZWxlbWVudCwgbmFtZSkge1xuICAgICAgICB0aGlzLmludm9rZUNvbnRyb2xsZXJNZXRob2QoYCR7bmFtZX1UYXJnZXRDb25uZWN0ZWRgLCBlbGVtZW50KTtcbiAgICB9XG4gICAgdGFyZ2V0RGlzY29ubmVjdGVkKGVsZW1lbnQsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5pbnZva2VDb250cm9sbGVyTWV0aG9kKGAke25hbWV9VGFyZ2V0RGlzY29ubmVjdGVkYCwgZWxlbWVudCk7XG4gICAgfVxuICAgIG91dGxldENvbm5lY3RlZChvdXRsZXQsIGVsZW1lbnQsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5pbnZva2VDb250cm9sbGVyTWV0aG9kKGAke25hbWVzcGFjZUNhbWVsaXplKG5hbWUpfU91dGxldENvbm5lY3RlZGAsIG91dGxldCwgZWxlbWVudCk7XG4gICAgfVxuICAgIG91dGxldERpc2Nvbm5lY3RlZChvdXRsZXQsIGVsZW1lbnQsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5pbnZva2VDb250cm9sbGVyTWV0aG9kKGAke25hbWVzcGFjZUNhbWVsaXplKG5hbWUpfU91dGxldERpc2Nvbm5lY3RlZGAsIG91dGxldCwgZWxlbWVudCk7XG4gICAgfVxuICAgIGludm9rZUNvbnRyb2xsZXJNZXRob2QobWV0aG9kTmFtZSwgLi4uYXJncykge1xuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gdGhpcy5jb250cm9sbGVyO1xuICAgICAgICBpZiAodHlwZW9mIGNvbnRyb2xsZXJbbWV0aG9kTmFtZV0gPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyW21ldGhvZE5hbWVdKC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBibGVzcyhjb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBzaGFkb3coY29uc3RydWN0b3IsIGdldEJsZXNzZWRQcm9wZXJ0aWVzKGNvbnN0cnVjdG9yKSk7XG59XG5mdW5jdGlvbiBzaGFkb3coY29uc3RydWN0b3IsIHByb3BlcnRpZXMpIHtcbiAgICBjb25zdCBzaGFkb3dDb25zdHJ1Y3RvciA9IGV4dGVuZChjb25zdHJ1Y3Rvcik7XG4gICAgY29uc3Qgc2hhZG93UHJvcGVydGllcyA9IGdldFNoYWRvd1Byb3BlcnRpZXMoY29uc3RydWN0b3IucHJvdG90eXBlLCBwcm9wZXJ0aWVzKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzaGFkb3dDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHNoYWRvd1Byb3BlcnRpZXMpO1xuICAgIHJldHVybiBzaGFkb3dDb25zdHJ1Y3Rvcjtcbn1cbmZ1bmN0aW9uIGdldEJsZXNzZWRQcm9wZXJ0aWVzKGNvbnN0cnVjdG9yKSB7XG4gICAgY29uc3QgYmxlc3NpbmdzID0gcmVhZEluaGVyaXRhYmxlU3RhdGljQXJyYXlWYWx1ZXMoY29uc3RydWN0b3IsIFwiYmxlc3NpbmdzXCIpO1xuICAgIHJldHVybiBibGVzc2luZ3MucmVkdWNlKChibGVzc2VkUHJvcGVydGllcywgYmxlc3NpbmcpID0+IHtcbiAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IGJsZXNzaW5nKGNvbnN0cnVjdG9yKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcGVydGllcykge1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IGJsZXNzZWRQcm9wZXJ0aWVzW2tleV0gfHwge307XG4gICAgICAgICAgICBibGVzc2VkUHJvcGVydGllc1trZXldID0gT2JqZWN0LmFzc2lnbihkZXNjcmlwdG9yLCBwcm9wZXJ0aWVzW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibGVzc2VkUHJvcGVydGllcztcbiAgICB9LCB7fSk7XG59XG5mdW5jdGlvbiBnZXRTaGFkb3dQcm9wZXJ0aWVzKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgIHJldHVybiBnZXRPd25LZXlzKHByb3BlcnRpZXMpLnJlZHVjZSgoc2hhZG93UHJvcGVydGllcywga2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSBnZXRTaGFkb3dlZERlc2NyaXB0b3IocHJvdG90eXBlLCBwcm9wZXJ0aWVzLCBrZXkpO1xuICAgICAgICBpZiAoZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzaGFkb3dQcm9wZXJ0aWVzLCB7IFtrZXldOiBkZXNjcmlwdG9yIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaGFkb3dQcm9wZXJ0aWVzO1xuICAgIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIGdldFNoYWRvd2VkRGVzY3JpcHRvcihwcm90b3R5cGUsIHByb3BlcnRpZXMsIGtleSkge1xuICAgIGNvbnN0IHNoYWRvd2luZ0Rlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3RvdHlwZSwga2V5KTtcbiAgICBjb25zdCBzaGFkb3dlZEJ5VmFsdWUgPSBzaGFkb3dpbmdEZXNjcmlwdG9yICYmIFwidmFsdWVcIiBpbiBzaGFkb3dpbmdEZXNjcmlwdG9yO1xuICAgIGlmICghc2hhZG93ZWRCeVZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3BlcnRpZXMsIGtleSkudmFsdWU7XG4gICAgICAgIGlmIChzaGFkb3dpbmdEZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICBkZXNjcmlwdG9yLmdldCA9IHNoYWRvd2luZ0Rlc2NyaXB0b3IuZ2V0IHx8IGRlc2NyaXB0b3IuZ2V0O1xuICAgICAgICAgICAgZGVzY3JpcHRvci5zZXQgPSBzaGFkb3dpbmdEZXNjcmlwdG9yLnNldCB8fCBkZXNjcmlwdG9yLnNldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICB9XG59XG5jb25zdCBnZXRPd25LZXlzID0gKCgpID0+IHtcbiAgICBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiAob2JqZWN0KSA9PiBbLi4uT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqZWN0KSwgLi4uT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgICB9XG59KSgpO1xuY29uc3QgZXh0ZW5kID0gKCgpID0+IHtcbiAgICBmdW5jdGlvbiBleHRlbmRXaXRoUmVmbGVjdChjb25zdHJ1Y3Rvcikge1xuICAgICAgICBmdW5jdGlvbiBleHRlbmRlZCgpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmNvbnN0cnVjdChjb25zdHJ1Y3RvciwgYXJndW1lbnRzLCBuZXcudGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBleHRlbmRlZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGNvbnN0cnVjdG9yLnByb3RvdHlwZSwge1xuICAgICAgICAgICAgY29uc3RydWN0b3I6IHsgdmFsdWU6IGV4dGVuZGVkIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBSZWZsZWN0LnNldFByb3RvdHlwZU9mKGV4dGVuZGVkLCBjb25zdHJ1Y3Rvcik7XG4gICAgICAgIHJldHVybiBleHRlbmRlZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdFJlZmxlY3RFeHRlbnNpb24oKSB7XG4gICAgICAgIGNvbnN0IGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmEuY2FsbCh0aGlzKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYiA9IGV4dGVuZFdpdGhSZWZsZWN0KGEpO1xuICAgICAgICBiLnByb3RvdHlwZS5hID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICByZXR1cm4gbmV3IGIoKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgdGVzdFJlZmxlY3RFeHRlbnNpb24oKTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFdpdGhSZWZsZWN0O1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIChjb25zdHJ1Y3RvcikgPT4gY2xhc3MgZXh0ZW5kZWQgZXh0ZW5kcyBjb25zdHJ1Y3RvciB7XG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcblxuZnVuY3Rpb24gYmxlc3NEZWZpbml0aW9uKGRlZmluaXRpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZGVudGlmaWVyOiBkZWZpbml0aW9uLmlkZW50aWZpZXIsXG4gICAgICAgIGNvbnRyb2xsZXJDb25zdHJ1Y3RvcjogYmxlc3MoZGVmaW5pdGlvbi5jb250cm9sbGVyQ29uc3RydWN0b3IpLFxuICAgIH07XG59XG5cbmNsYXNzIE1vZHVsZSB7XG4gICAgY29uc3RydWN0b3IoYXBwbGljYXRpb24sIGRlZmluaXRpb24pIHtcbiAgICAgICAgdGhpcy5hcHBsaWNhdGlvbiA9IGFwcGxpY2F0aW9uO1xuICAgICAgICB0aGlzLmRlZmluaXRpb24gPSBibGVzc0RlZmluaXRpb24oZGVmaW5pdGlvbik7XG4gICAgICAgIHRoaXMuY29udGV4dHNCeVNjb3BlID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDb250ZXh0cyA9IG5ldyBTZXQoKTtcbiAgICB9XG4gICAgZ2V0IGlkZW50aWZpZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmluaXRpb24uaWRlbnRpZmllcjtcbiAgICB9XG4gICAgZ2V0IGNvbnRyb2xsZXJDb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmaW5pdGlvbi5jb250cm9sbGVyQ29uc3RydWN0b3I7XG4gICAgfVxuICAgIGdldCBjb250ZXh0cygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5jb25uZWN0ZWRDb250ZXh0cyk7XG4gICAgfVxuICAgIGNvbm5lY3RDb250ZXh0Rm9yU2NvcGUoc2NvcGUpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuZmV0Y2hDb250ZXh0Rm9yU2NvcGUoc2NvcGUpO1xuICAgICAgICB0aGlzLmNvbm5lY3RlZENvbnRleHRzLmFkZChjb250ZXh0KTtcbiAgICAgICAgY29udGV4dC5jb25uZWN0KCk7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RDb250ZXh0Rm9yU2NvcGUoc2NvcGUpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dHNCeVNjb3BlLmdldChzY29wZSk7XG4gICAgICAgIGlmIChjb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RlZENvbnRleHRzLmRlbGV0ZShjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnRleHQuZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZldGNoQ29udGV4dEZvclNjb3BlKHNjb3BlKSB7XG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcy5jb250ZXh0c0J5U2NvcGUuZ2V0KHNjb3BlKTtcbiAgICAgICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gbmV3IENvbnRleHQodGhpcywgc2NvcGUpO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0c0J5U2NvcGUuc2V0KHNjb3BlLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICB9XG59XG5cbmNsYXNzIENsYXNzTWFwIHtcbiAgICBjb25zdHJ1Y3RvcihzY29wZSkge1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgfVxuICAgIGhhcyhuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuaGFzKHRoaXMuZ2V0RGF0YUtleShuYW1lKSk7XG4gICAgfVxuICAgIGdldChuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEFsbChuYW1lKVswXTtcbiAgICB9XG4gICAgZ2V0QWxsKG5hbWUpIHtcbiAgICAgICAgY29uc3QgdG9rZW5TdHJpbmcgPSB0aGlzLmRhdGEuZ2V0KHRoaXMuZ2V0RGF0YUtleShuYW1lKSkgfHwgXCJcIjtcbiAgICAgICAgcmV0dXJuIHRva2VuaXplKHRva2VuU3RyaW5nKTtcbiAgICB9XG4gICAgZ2V0QXR0cmlidXRlTmFtZShuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0QXR0cmlidXRlTmFtZUZvcktleSh0aGlzLmdldERhdGFLZXkobmFtZSkpO1xuICAgIH1cbiAgICBnZXREYXRhS2V5KG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGAke25hbWV9LWNsYXNzYDtcbiAgICB9XG4gICAgZ2V0IGRhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmRhdGE7XG4gICAgfVxufVxuXG5jbGFzcyBEYXRhTWFwIHtcbiAgICBjb25zdHJ1Y3RvcihzY29wZSkge1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5lbGVtZW50O1xuICAgIH1cbiAgICBnZXQgaWRlbnRpZmllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuaWRlbnRpZmllcjtcbiAgICB9XG4gICAgZ2V0KGtleSkge1xuICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5nZXRBdHRyaWJ1dGVOYW1lRm9yS2V5KGtleSk7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIH1cbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5nZXRBdHRyaWJ1dGVOYW1lRm9yS2V5KGtleSk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQoa2V5KTtcbiAgICB9XG4gICAgaGFzKGtleSkge1xuICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5nZXRBdHRyaWJ1dGVOYW1lRm9yS2V5KGtleSk7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuaGFzQXR0cmlidXRlKG5hbWUpO1xuICAgIH1cbiAgICBkZWxldGUoa2V5KSB7XG4gICAgICAgIGlmICh0aGlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5nZXRBdHRyaWJ1dGVOYW1lRm9yS2V5KGtleSk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0QXR0cmlidXRlTmFtZUZvcktleShrZXkpIHtcbiAgICAgICAgcmV0dXJuIGBkYXRhLSR7dGhpcy5pZGVudGlmaWVyfS0ke2Rhc2hlcml6ZShrZXkpfWA7XG4gICAgfVxufVxuXG5jbGFzcyBHdWlkZSB7XG4gICAgY29uc3RydWN0b3IobG9nZ2VyKSB7XG4gICAgICAgIHRoaXMud2FybmVkS2V5c0J5T2JqZWN0ID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gICAgfVxuICAgIHdhcm4ob2JqZWN0LCBrZXksIG1lc3NhZ2UpIHtcbiAgICAgICAgbGV0IHdhcm5lZEtleXMgPSB0aGlzLndhcm5lZEtleXNCeU9iamVjdC5nZXQob2JqZWN0KTtcbiAgICAgICAgaWYgKCF3YXJuZWRLZXlzKSB7XG4gICAgICAgICAgICB3YXJuZWRLZXlzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgdGhpcy53YXJuZWRLZXlzQnlPYmplY3Quc2V0KG9iamVjdCwgd2FybmVkS2V5cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF3YXJuZWRLZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB3YXJuZWRLZXlzLmFkZChrZXkpO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihtZXNzYWdlLCBvYmplY3QpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhdHRyaWJ1dGVWYWx1ZUNvbnRhaW5zVG9rZW4oYXR0cmlidXRlTmFtZSwgdG9rZW4pIHtcbiAgICByZXR1cm4gYFske2F0dHJpYnV0ZU5hbWV9fj1cIiR7dG9rZW59XCJdYDtcbn1cblxuY2xhc3MgVGFyZ2V0U2V0IHtcbiAgICBjb25zdHJ1Y3RvcihzY29wZSkge1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5lbGVtZW50O1xuICAgIH1cbiAgICBnZXQgaWRlbnRpZmllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuaWRlbnRpZmllcjtcbiAgICB9XG4gICAgZ2V0IHNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuc2NoZW1hO1xuICAgIH1cbiAgICBoYXModGFyZ2V0TmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5kKHRhcmdldE5hbWUpICE9IG51bGw7XG4gICAgfVxuICAgIGZpbmQoLi4udGFyZ2V0TmFtZXMpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldE5hbWVzLnJlZHVjZSgodGFyZ2V0LCB0YXJnZXROYW1lKSA9PiB0YXJnZXQgfHwgdGhpcy5maW5kVGFyZ2V0KHRhcmdldE5hbWUpIHx8IHRoaXMuZmluZExlZ2FjeVRhcmdldCh0YXJnZXROYW1lKSwgdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgZmluZEFsbCguLi50YXJnZXROYW1lcykge1xuICAgICAgICByZXR1cm4gdGFyZ2V0TmFtZXMucmVkdWNlKCh0YXJnZXRzLCB0YXJnZXROYW1lKSA9PiBbXG4gICAgICAgICAgICAuLi50YXJnZXRzLFxuICAgICAgICAgICAgLi4udGhpcy5maW5kQWxsVGFyZ2V0cyh0YXJnZXROYW1lKSxcbiAgICAgICAgICAgIC4uLnRoaXMuZmluZEFsbExlZ2FjeVRhcmdldHModGFyZ2V0TmFtZSksXG4gICAgICAgIF0sIFtdKTtcbiAgICB9XG4gICAgZmluZFRhcmdldCh0YXJnZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5nZXRTZWxlY3RvckZvclRhcmdldE5hbWUodGFyZ2V0TmFtZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmZpbmRFbGVtZW50KHNlbGVjdG9yKTtcbiAgICB9XG4gICAgZmluZEFsbFRhcmdldHModGFyZ2V0TmFtZSkge1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMuZ2V0U2VsZWN0b3JGb3JUYXJnZXROYW1lKHRhcmdldE5hbWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5maW5kQWxsRWxlbWVudHMoc2VsZWN0b3IpO1xuICAgIH1cbiAgICBnZXRTZWxlY3RvckZvclRhcmdldE5hbWUodGFyZ2V0TmFtZSkge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gdGhpcy5zY2hlbWEudGFyZ2V0QXR0cmlidXRlRm9yU2NvcGUodGhpcy5pZGVudGlmaWVyKTtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZVZhbHVlQ29udGFpbnNUb2tlbihhdHRyaWJ1dGVOYW1lLCB0YXJnZXROYW1lKTtcbiAgICB9XG4gICAgZmluZExlZ2FjeVRhcmdldCh0YXJnZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5nZXRMZWdhY3lTZWxlY3RvckZvclRhcmdldE5hbWUodGFyZ2V0TmFtZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmRlcHJlY2F0ZSh0aGlzLnNjb3BlLmZpbmRFbGVtZW50KHNlbGVjdG9yKSwgdGFyZ2V0TmFtZSk7XG4gICAgfVxuICAgIGZpbmRBbGxMZWdhY3lUYXJnZXRzKHRhcmdldE5hbWUpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLmdldExlZ2FjeVNlbGVjdG9yRm9yVGFyZ2V0TmFtZSh0YXJnZXROYW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuZmluZEFsbEVsZW1lbnRzKHNlbGVjdG9yKS5tYXAoKGVsZW1lbnQpID0+IHRoaXMuZGVwcmVjYXRlKGVsZW1lbnQsIHRhcmdldE5hbWUpKTtcbiAgICB9XG4gICAgZ2V0TGVnYWN5U2VsZWN0b3JGb3JUYXJnZXROYW1lKHRhcmdldE5hbWUpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0RGVzY3JpcHRvciA9IGAke3RoaXMuaWRlbnRpZmllcn0uJHt0YXJnZXROYW1lfWA7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVWYWx1ZUNvbnRhaW5zVG9rZW4odGhpcy5zY2hlbWEudGFyZ2V0QXR0cmlidXRlLCB0YXJnZXREZXNjcmlwdG9yKTtcbiAgICB9XG4gICAgZGVwcmVjYXRlKGVsZW1lbnQsIHRhcmdldE5hbWUpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgaWRlbnRpZmllciB9ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSB0aGlzLnNjaGVtYS50YXJnZXRBdHRyaWJ1dGU7XG4gICAgICAgICAgICBjb25zdCByZXZpc2VkQXR0cmlidXRlTmFtZSA9IHRoaXMuc2NoZW1hLnRhcmdldEF0dHJpYnV0ZUZvclNjb3BlKGlkZW50aWZpZXIpO1xuICAgICAgICAgICAgdGhpcy5ndWlkZS53YXJuKGVsZW1lbnQsIGB0YXJnZXQ6JHt0YXJnZXROYW1lfWAsIGBQbGVhc2UgcmVwbGFjZSAke2F0dHJpYnV0ZU5hbWV9PVwiJHtpZGVudGlmaWVyfS4ke3RhcmdldE5hbWV9XCIgd2l0aCAke3JldmlzZWRBdHRyaWJ1dGVOYW1lfT1cIiR7dGFyZ2V0TmFtZX1cIi4gYCArXG4gICAgICAgICAgICAgICAgYFRoZSAke2F0dHJpYnV0ZU5hbWV9IGF0dHJpYnV0ZSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbiBvZiBTdGltdWx1cy5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IGd1aWRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5ndWlkZTtcbiAgICB9XG59XG5cbmNsYXNzIE91dGxldFNldCB7XG4gICAgY29uc3RydWN0b3Ioc2NvcGUsIGNvbnRyb2xsZXJFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyRWxlbWVudCA9IGNvbnRyb2xsZXJFbGVtZW50O1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IGlkZW50aWZpZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmlkZW50aWZpZXI7XG4gICAgfVxuICAgIGdldCBzY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLnNjaGVtYTtcbiAgICB9XG4gICAgaGFzKG91dGxldE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZChvdXRsZXROYW1lKSAhPSBudWxsO1xuICAgIH1cbiAgICBmaW5kKC4uLm91dGxldE5hbWVzKSB7XG4gICAgICAgIHJldHVybiBvdXRsZXROYW1lcy5yZWR1Y2UoKG91dGxldCwgb3V0bGV0TmFtZSkgPT4gb3V0bGV0IHx8IHRoaXMuZmluZE91dGxldChvdXRsZXROYW1lKSwgdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgZmluZEFsbCguLi5vdXRsZXROYW1lcykge1xuICAgICAgICByZXR1cm4gb3V0bGV0TmFtZXMucmVkdWNlKChvdXRsZXRzLCBvdXRsZXROYW1lKSA9PiBbLi4ub3V0bGV0cywgLi4udGhpcy5maW5kQWxsT3V0bGV0cyhvdXRsZXROYW1lKV0sIFtdKTtcbiAgICB9XG4gICAgZ2V0U2VsZWN0b3JGb3JPdXRsZXROYW1lKG91dGxldE5hbWUpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlTmFtZSA9IHRoaXMuc2NoZW1hLm91dGxldEF0dHJpYnV0ZUZvclNjb3BlKHRoaXMuaWRlbnRpZmllciwgb3V0bGV0TmFtZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXJFbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICB9XG4gICAgZmluZE91dGxldChvdXRsZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5nZXRTZWxlY3RvckZvck91dGxldE5hbWUob3V0bGV0TmFtZSk7XG4gICAgICAgIGlmIChzZWxlY3RvcilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmRFbGVtZW50KHNlbGVjdG9yLCBvdXRsZXROYW1lKTtcbiAgICB9XG4gICAgZmluZEFsbE91dGxldHMob3V0bGV0TmFtZSkge1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMuZ2V0U2VsZWN0b3JGb3JPdXRsZXROYW1lKG91dGxldE5hbWUpO1xuICAgICAgICByZXR1cm4gc2VsZWN0b3IgPyB0aGlzLmZpbmRBbGxFbGVtZW50cyhzZWxlY3Rvciwgb3V0bGV0TmFtZSkgOiBbXTtcbiAgICB9XG4gICAgZmluZEVsZW1lbnQoc2VsZWN0b3IsIG91dGxldE5hbWUpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLnNjb3BlLnF1ZXJ5RWxlbWVudHMoc2VsZWN0b3IpO1xuICAgICAgICByZXR1cm4gZWxlbWVudHMuZmlsdGVyKChlbGVtZW50KSA9PiB0aGlzLm1hdGNoZXNFbGVtZW50KGVsZW1lbnQsIHNlbGVjdG9yLCBvdXRsZXROYW1lKSlbMF07XG4gICAgfVxuICAgIGZpbmRBbGxFbGVtZW50cyhzZWxlY3Rvciwgb3V0bGV0TmFtZSkge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuc2NvcGUucXVlcnlFbGVtZW50cyhzZWxlY3Rvcik7XG4gICAgICAgIHJldHVybiBlbGVtZW50cy5maWx0ZXIoKGVsZW1lbnQpID0+IHRoaXMubWF0Y2hlc0VsZW1lbnQoZWxlbWVudCwgc2VsZWN0b3IsIG91dGxldE5hbWUpKTtcbiAgICB9XG4gICAgbWF0Y2hlc0VsZW1lbnQoZWxlbWVudCwgc2VsZWN0b3IsIG91dGxldE5hbWUpIHtcbiAgICAgICAgY29uc3QgY29udHJvbGxlckF0dHJpYnV0ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKHRoaXMuc2NvcGUuc2NoZW1hLmNvbnRyb2xsZXJBdHRyaWJ1dGUpIHx8IFwiXCI7XG4gICAgICAgIHJldHVybiBlbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpICYmIGNvbnRyb2xsZXJBdHRyaWJ1dGUuc3BsaXQoXCIgXCIpLmluY2x1ZGVzKG91dGxldE5hbWUpO1xuICAgIH1cbn1cblxuY2xhc3MgU2NvcGUge1xuICAgIGNvbnN0cnVjdG9yKHNjaGVtYSwgZWxlbWVudCwgaWRlbnRpZmllciwgbG9nZ2VyKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0cyA9IG5ldyBUYXJnZXRTZXQodGhpcyk7XG4gICAgICAgIHRoaXMuY2xhc3NlcyA9IG5ldyBDbGFzc01hcCh0aGlzKTtcbiAgICAgICAgdGhpcy5kYXRhID0gbmV3IERhdGFNYXAodGhpcyk7XG4gICAgICAgIHRoaXMuY29udGFpbnNFbGVtZW50ID0gKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmNsb3Nlc3QodGhpcy5jb250cm9sbGVyU2VsZWN0b3IpID09PSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBpZGVudGlmaWVyO1xuICAgICAgICB0aGlzLmd1aWRlID0gbmV3IEd1aWRlKGxvZ2dlcik7XG4gICAgICAgIHRoaXMub3V0bGV0cyA9IG5ldyBPdXRsZXRTZXQodGhpcy5kb2N1bWVudFNjb3BlLCBlbGVtZW50KTtcbiAgICB9XG4gICAgZmluZEVsZW1lbnQoc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKSA/IHRoaXMuZWxlbWVudCA6IHRoaXMucXVlcnlFbGVtZW50cyhzZWxlY3RvcikuZmluZCh0aGlzLmNvbnRhaW5zRWxlbWVudCk7XG4gICAgfVxuICAgIGZpbmRBbGxFbGVtZW50cyhzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgLi4uKHRoaXMuZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKSA/IFt0aGlzLmVsZW1lbnRdIDogW10pLFxuICAgICAgICAgICAgLi4udGhpcy5xdWVyeUVsZW1lbnRzKHNlbGVjdG9yKS5maWx0ZXIodGhpcy5jb250YWluc0VsZW1lbnQpLFxuICAgICAgICBdO1xuICAgIH1cbiAgICBxdWVyeUVsZW1lbnRzKHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG4gICAgfVxuICAgIGdldCBjb250cm9sbGVyU2VsZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVWYWx1ZUNvbnRhaW5zVG9rZW4odGhpcy5zY2hlbWEuY29udHJvbGxlckF0dHJpYnV0ZSwgdGhpcy5pZGVudGlmaWVyKTtcbiAgICB9XG4gICAgZ2V0IGlzRG9jdW1lbnRTY29wZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudCA9PT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIH1cbiAgICBnZXQgZG9jdW1lbnRTY29wZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNEb2N1bWVudFNjb3BlXG4gICAgICAgICAgICA/IHRoaXNcbiAgICAgICAgICAgIDogbmV3IFNjb3BlKHRoaXMuc2NoZW1hLCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHRoaXMuaWRlbnRpZmllciwgdGhpcy5ndWlkZS5sb2dnZXIpO1xuICAgIH1cbn1cblxuY2xhc3MgU2NvcGVPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgc2NoZW1hLCBkZWxlZ2F0ZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICB0aGlzLnZhbHVlTGlzdE9ic2VydmVyID0gbmV3IFZhbHVlTGlzdE9ic2VydmVyKHRoaXMuZWxlbWVudCwgdGhpcy5jb250cm9sbGVyQXR0cmlidXRlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5zY29wZXNCeUlkZW50aWZpZXJCeUVsZW1lbnQgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICB0aGlzLnNjb3BlUmVmZXJlbmNlQ291bnRzID0gbmV3IFdlYWtNYXAoKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMudmFsdWVMaXN0T2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy52YWx1ZUxpc3RPYnNlcnZlci5zdG9wKCk7XG4gICAgfVxuICAgIGdldCBjb250cm9sbGVyQXR0cmlidXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2hlbWEuY29udHJvbGxlckF0dHJpYnV0ZTtcbiAgICB9XG4gICAgcGFyc2VWYWx1ZUZvclRva2VuKHRva2VuKSB7XG4gICAgICAgIGNvbnN0IHsgZWxlbWVudCwgY29udGVudDogaWRlbnRpZmllciB9ID0gdG9rZW47XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlVmFsdWVGb3JFbGVtZW50QW5kSWRlbnRpZmllcihlbGVtZW50LCBpZGVudGlmaWVyKTtcbiAgICB9XG4gICAgcGFyc2VWYWx1ZUZvckVsZW1lbnRBbmRJZGVudGlmaWVyKGVsZW1lbnQsIGlkZW50aWZpZXIpIHtcbiAgICAgICAgY29uc3Qgc2NvcGVzQnlJZGVudGlmaWVyID0gdGhpcy5mZXRjaFNjb3Blc0J5SWRlbnRpZmllckZvckVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgIGxldCBzY29wZSA9IHNjb3Blc0J5SWRlbnRpZmllci5nZXQoaWRlbnRpZmllcik7XG4gICAgICAgIGlmICghc2NvcGUpIHtcbiAgICAgICAgICAgIHNjb3BlID0gdGhpcy5kZWxlZ2F0ZS5jcmVhdGVTY29wZUZvckVsZW1lbnRBbmRJZGVudGlmaWVyKGVsZW1lbnQsIGlkZW50aWZpZXIpO1xuICAgICAgICAgICAgc2NvcGVzQnlJZGVudGlmaWVyLnNldChpZGVudGlmaWVyLCBzY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNjb3BlO1xuICAgIH1cbiAgICBlbGVtZW50TWF0Y2hlZFZhbHVlKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJlZmVyZW5jZUNvdW50ID0gKHRoaXMuc2NvcGVSZWZlcmVuY2VDb3VudHMuZ2V0KHZhbHVlKSB8fCAwKSArIDE7XG4gICAgICAgIHRoaXMuc2NvcGVSZWZlcmVuY2VDb3VudHMuc2V0KHZhbHVlLCByZWZlcmVuY2VDb3VudCk7XG4gICAgICAgIGlmIChyZWZlcmVuY2VDb3VudCA9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLnNjb3BlQ29ubmVjdGVkKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50VW5tYXRjaGVkVmFsdWUoZWxlbWVudCwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgcmVmZXJlbmNlQ291bnQgPSB0aGlzLnNjb3BlUmVmZXJlbmNlQ291bnRzLmdldCh2YWx1ZSk7XG4gICAgICAgIGlmIChyZWZlcmVuY2VDb3VudCkge1xuICAgICAgICAgICAgdGhpcy5zY29wZVJlZmVyZW5jZUNvdW50cy5zZXQodmFsdWUsIHJlZmVyZW5jZUNvdW50IC0gMSk7XG4gICAgICAgICAgICBpZiAocmVmZXJlbmNlQ291bnQgPT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuc2NvcGVEaXNjb25uZWN0ZWQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZldGNoU2NvcGVzQnlJZGVudGlmaWVyRm9yRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIGxldCBzY29wZXNCeUlkZW50aWZpZXIgPSB0aGlzLnNjb3Blc0J5SWRlbnRpZmllckJ5RWxlbWVudC5nZXQoZWxlbWVudCk7XG4gICAgICAgIGlmICghc2NvcGVzQnlJZGVudGlmaWVyKSB7XG4gICAgICAgICAgICBzY29wZXNCeUlkZW50aWZpZXIgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICB0aGlzLnNjb3Blc0J5SWRlbnRpZmllckJ5RWxlbWVudC5zZXQoZWxlbWVudCwgc2NvcGVzQnlJZGVudGlmaWVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2NvcGVzQnlJZGVudGlmaWVyO1xuICAgIH1cbn1cblxuY2xhc3MgUm91dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihhcHBsaWNhdGlvbikge1xuICAgICAgICB0aGlzLmFwcGxpY2F0aW9uID0gYXBwbGljYXRpb247XG4gICAgICAgIHRoaXMuc2NvcGVPYnNlcnZlciA9IG5ldyBTY29wZU9ic2VydmVyKHRoaXMuZWxlbWVudCwgdGhpcy5zY2hlbWEsIHRoaXMpO1xuICAgICAgICB0aGlzLnNjb3Blc0J5SWRlbnRpZmllciA9IG5ldyBNdWx0aW1hcCgpO1xuICAgICAgICB0aGlzLm1vZHVsZXNCeUlkZW50aWZpZXIgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBsaWNhdGlvbi5lbGVtZW50O1xuICAgIH1cbiAgICBnZXQgc2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBsaWNhdGlvbi5zY2hlbWE7XG4gICAgfVxuICAgIGdldCBsb2dnZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGxpY2F0aW9uLmxvZ2dlcjtcbiAgICB9XG4gICAgZ2V0IGNvbnRyb2xsZXJBdHRyaWJ1dGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjaGVtYS5jb250cm9sbGVyQXR0cmlidXRlO1xuICAgIH1cbiAgICBnZXQgbW9kdWxlcygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5tb2R1bGVzQnlJZGVudGlmaWVyLnZhbHVlcygpKTtcbiAgICB9XG4gICAgZ2V0IGNvbnRleHRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2R1bGVzLnJlZHVjZSgoY29udGV4dHMsIG1vZHVsZSkgPT4gY29udGV4dHMuY29uY2F0KG1vZHVsZS5jb250ZXh0cyksIFtdKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuc2NvcGVPYnNlcnZlci5zdGFydCgpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLnNjb3BlT2JzZXJ2ZXIuc3RvcCgpO1xuICAgIH1cbiAgICBsb2FkRGVmaW5pdGlvbihkZWZpbml0aW9uKSB7XG4gICAgICAgIHRoaXMudW5sb2FkSWRlbnRpZmllcihkZWZpbml0aW9uLmlkZW50aWZpZXIpO1xuICAgICAgICBjb25zdCBtb2R1bGUgPSBuZXcgTW9kdWxlKHRoaXMuYXBwbGljYXRpb24sIGRlZmluaXRpb24pO1xuICAgICAgICB0aGlzLmNvbm5lY3RNb2R1bGUobW9kdWxlKTtcbiAgICAgICAgY29uc3QgYWZ0ZXJMb2FkID0gZGVmaW5pdGlvbi5jb250cm9sbGVyQ29uc3RydWN0b3IuYWZ0ZXJMb2FkO1xuICAgICAgICBpZiAoYWZ0ZXJMb2FkKSB7XG4gICAgICAgICAgICBhZnRlckxvYWQuY2FsbChkZWZpbml0aW9uLmNvbnRyb2xsZXJDb25zdHJ1Y3RvciwgZGVmaW5pdGlvbi5pZGVudGlmaWVyLCB0aGlzLmFwcGxpY2F0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bmxvYWRJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgICAgICAgY29uc3QgbW9kdWxlID0gdGhpcy5tb2R1bGVzQnlJZGVudGlmaWVyLmdldChpZGVudGlmaWVyKTtcbiAgICAgICAgaWYgKG1vZHVsZSkge1xuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0TW9kdWxlKG1vZHVsZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q29udGV4dEZvckVsZW1lbnRBbmRJZGVudGlmaWVyKGVsZW1lbnQsIGlkZW50aWZpZXIpIHtcbiAgICAgICAgY29uc3QgbW9kdWxlID0gdGhpcy5tb2R1bGVzQnlJZGVudGlmaWVyLmdldChpZGVudGlmaWVyKTtcbiAgICAgICAgaWYgKG1vZHVsZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZS5jb250ZXh0cy5maW5kKChjb250ZXh0KSA9PiBjb250ZXh0LmVsZW1lbnQgPT0gZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJvcG9zZVRvQ29ubmVjdFNjb3BlRm9yRWxlbWVudEFuZElkZW50aWZpZXIoZWxlbWVudCwgaWRlbnRpZmllcikge1xuICAgICAgICBjb25zdCBzY29wZSA9IHRoaXMuc2NvcGVPYnNlcnZlci5wYXJzZVZhbHVlRm9yRWxlbWVudEFuZElkZW50aWZpZXIoZWxlbWVudCwgaWRlbnRpZmllcik7XG4gICAgICAgIGlmIChzY29wZSkge1xuICAgICAgICAgICAgdGhpcy5zY29wZU9ic2VydmVyLmVsZW1lbnRNYXRjaGVkVmFsdWUoc2NvcGUuZWxlbWVudCwgc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ291bGRuJ3QgZmluZCBvciBjcmVhdGUgc2NvcGUgZm9yIGlkZW50aWZpZXI6IFwiJHtpZGVudGlmaWVyfVwiIGFuZCBlbGVtZW50OmAsIGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUVycm9yKGVycm9yLCBtZXNzYWdlLCBkZXRhaWwpIHtcbiAgICAgICAgdGhpcy5hcHBsaWNhdGlvbi5oYW5kbGVFcnJvcihlcnJvciwgbWVzc2FnZSwgZGV0YWlsKTtcbiAgICB9XG4gICAgY3JlYXRlU2NvcGVGb3JFbGVtZW50QW5kSWRlbnRpZmllcihlbGVtZW50LCBpZGVudGlmaWVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2NvcGUodGhpcy5zY2hlbWEsIGVsZW1lbnQsIGlkZW50aWZpZXIsIHRoaXMubG9nZ2VyKTtcbiAgICB9XG4gICAgc2NvcGVDb25uZWN0ZWQoc2NvcGUpIHtcbiAgICAgICAgdGhpcy5zY29wZXNCeUlkZW50aWZpZXIuYWRkKHNjb3BlLmlkZW50aWZpZXIsIHNjb3BlKTtcbiAgICAgICAgY29uc3QgbW9kdWxlID0gdGhpcy5tb2R1bGVzQnlJZGVudGlmaWVyLmdldChzY29wZS5pZGVudGlmaWVyKTtcbiAgICAgICAgaWYgKG1vZHVsZSkge1xuICAgICAgICAgICAgbW9kdWxlLmNvbm5lY3RDb250ZXh0Rm9yU2NvcGUoc2NvcGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNjb3BlRGlzY29ubmVjdGVkKHNjb3BlKSB7XG4gICAgICAgIHRoaXMuc2NvcGVzQnlJZGVudGlmaWVyLmRlbGV0ZShzY29wZS5pZGVudGlmaWVyLCBzY29wZSk7XG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IHRoaXMubW9kdWxlc0J5SWRlbnRpZmllci5nZXQoc2NvcGUuaWRlbnRpZmllcik7XG4gICAgICAgIGlmIChtb2R1bGUpIHtcbiAgICAgICAgICAgIG1vZHVsZS5kaXNjb25uZWN0Q29udGV4dEZvclNjb3BlKHNjb3BlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25uZWN0TW9kdWxlKG1vZHVsZSkge1xuICAgICAgICB0aGlzLm1vZHVsZXNCeUlkZW50aWZpZXIuc2V0KG1vZHVsZS5pZGVudGlmaWVyLCBtb2R1bGUpO1xuICAgICAgICBjb25zdCBzY29wZXMgPSB0aGlzLnNjb3Blc0J5SWRlbnRpZmllci5nZXRWYWx1ZXNGb3JLZXkobW9kdWxlLmlkZW50aWZpZXIpO1xuICAgICAgICBzY29wZXMuZm9yRWFjaCgoc2NvcGUpID0+IG1vZHVsZS5jb25uZWN0Q29udGV4dEZvclNjb3BlKHNjb3BlKSk7XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RNb2R1bGUobW9kdWxlKSB7XG4gICAgICAgIHRoaXMubW9kdWxlc0J5SWRlbnRpZmllci5kZWxldGUobW9kdWxlLmlkZW50aWZpZXIpO1xuICAgICAgICBjb25zdCBzY29wZXMgPSB0aGlzLnNjb3Blc0J5SWRlbnRpZmllci5nZXRWYWx1ZXNGb3JLZXkobW9kdWxlLmlkZW50aWZpZXIpO1xuICAgICAgICBzY29wZXMuZm9yRWFjaCgoc2NvcGUpID0+IG1vZHVsZS5kaXNjb25uZWN0Q29udGV4dEZvclNjb3BlKHNjb3BlKSk7XG4gICAgfVxufVxuXG5jb25zdCBkZWZhdWx0U2NoZW1hID0ge1xuICAgIGNvbnRyb2xsZXJBdHRyaWJ1dGU6IFwiZGF0YS1jb250cm9sbGVyXCIsXG4gICAgYWN0aW9uQXR0cmlidXRlOiBcImRhdGEtYWN0aW9uXCIsXG4gICAgdGFyZ2V0QXR0cmlidXRlOiBcImRhdGEtdGFyZ2V0XCIsXG4gICAgdGFyZ2V0QXR0cmlidXRlRm9yU2NvcGU6IChpZGVudGlmaWVyKSA9PiBgZGF0YS0ke2lkZW50aWZpZXJ9LXRhcmdldGAsXG4gICAgb3V0bGV0QXR0cmlidXRlRm9yU2NvcGU6IChpZGVudGlmaWVyLCBvdXRsZXQpID0+IGBkYXRhLSR7aWRlbnRpZmllcn0tJHtvdXRsZXR9LW91dGxldGAsXG4gICAga2V5TWFwcGluZ3M6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IGVudGVyOiBcIkVudGVyXCIsIHRhYjogXCJUYWJcIiwgZXNjOiBcIkVzY2FwZVwiLCBzcGFjZTogXCIgXCIsIHVwOiBcIkFycm93VXBcIiwgZG93bjogXCJBcnJvd0Rvd25cIiwgbGVmdDogXCJBcnJvd0xlZnRcIiwgcmlnaHQ6IFwiQXJyb3dSaWdodFwiLCBob21lOiBcIkhvbWVcIiwgZW5kOiBcIkVuZFwiLCBwYWdlX3VwOiBcIlBhZ2VVcFwiLCBwYWdlX2Rvd246IFwiUGFnZURvd25cIiB9LCBvYmplY3RGcm9tRW50cmllcyhcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuc3BsaXQoXCJcIikubWFwKChjKSA9PiBbYywgY10pKSksIG9iamVjdEZyb21FbnRyaWVzKFwiMDEyMzQ1Njc4OVwiLnNwbGl0KFwiXCIpLm1hcCgobikgPT4gW24sIG5dKSkpLFxufTtcbmZ1bmN0aW9uIG9iamVjdEZyb21FbnRyaWVzKGFycmF5KSB7XG4gICAgcmV0dXJuIGFycmF5LnJlZHVjZSgobWVtbywgW2ssIHZdKSA9PiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBtZW1vKSwgeyBba106IHYgfSkpLCB7fSk7XG59XG5cbmNsYXNzIEFwcGxpY2F0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBzY2hlbWEgPSBkZWZhdWx0U2NoZW1hKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gY29uc29sZTtcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvZ0RlYnVnQWN0aXZpdHkgPSAoaWRlbnRpZmllciwgZnVuY3Rpb25OYW1lLCBkZXRhaWwgPSB7fSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0Zvcm1hdHRlZE1lc3NhZ2UoaWRlbnRpZmllciwgZnVuY3Rpb25OYW1lLCBkZXRhaWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gbmV3IERpc3BhdGNoZXIodGhpcyk7XG4gICAgICAgIHRoaXMucm91dGVyID0gbmV3IFJvdXRlcih0aGlzKTtcbiAgICAgICAgdGhpcy5hY3Rpb25EZXNjcmlwdG9yRmlsdGVycyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRBY3Rpb25EZXNjcmlwdG9yRmlsdGVycyk7XG4gICAgfVxuICAgIHN0YXRpYyBzdGFydChlbGVtZW50LCBzY2hlbWEpIHtcbiAgICAgICAgY29uc3QgYXBwbGljYXRpb24gPSBuZXcgdGhpcyhlbGVtZW50LCBzY2hlbWEpO1xuICAgICAgICBhcHBsaWNhdGlvbi5zdGFydCgpO1xuICAgICAgICByZXR1cm4gYXBwbGljYXRpb247XG4gICAgfVxuICAgIGFzeW5jIHN0YXJ0KCkge1xuICAgICAgICBhd2FpdCBkb21SZWFkeSgpO1xuICAgICAgICB0aGlzLmxvZ0RlYnVnQWN0aXZpdHkoXCJhcHBsaWNhdGlvblwiLCBcInN0YXJ0aW5nXCIpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuc3RhcnQoKTtcbiAgICAgICAgdGhpcy5yb3V0ZXIuc3RhcnQoKTtcbiAgICAgICAgdGhpcy5sb2dEZWJ1Z0FjdGl2aXR5KFwiYXBwbGljYXRpb25cIiwgXCJzdGFydFwiKTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5sb2dEZWJ1Z0FjdGl2aXR5KFwiYXBwbGljYXRpb25cIiwgXCJzdG9wcGluZ1wiKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnN0b3AoKTtcbiAgICAgICAgdGhpcy5yb3V0ZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLmxvZ0RlYnVnQWN0aXZpdHkoXCJhcHBsaWNhdGlvblwiLCBcInN0b3BcIik7XG4gICAgfVxuICAgIHJlZ2lzdGVyKGlkZW50aWZpZXIsIGNvbnRyb2xsZXJDb25zdHJ1Y3Rvcikge1xuICAgICAgICB0aGlzLmxvYWQoeyBpZGVudGlmaWVyLCBjb250cm9sbGVyQ29uc3RydWN0b3IgfSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyQWN0aW9uT3B0aW9uKG5hbWUsIGZpbHRlcikge1xuICAgICAgICB0aGlzLmFjdGlvbkRlc2NyaXB0b3JGaWx0ZXJzW25hbWVdID0gZmlsdGVyO1xuICAgIH1cbiAgICBsb2FkKGhlYWQsIC4uLnJlc3QpIHtcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbnMgPSBBcnJheS5pc0FycmF5KGhlYWQpID8gaGVhZCA6IFtoZWFkLCAuLi5yZXN0XTtcbiAgICAgICAgZGVmaW5pdGlvbnMuZm9yRWFjaCgoZGVmaW5pdGlvbikgPT4ge1xuICAgICAgICAgICAgaWYgKGRlZmluaXRpb24uY29udHJvbGxlckNvbnN0cnVjdG9yLnNob3VsZExvYWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdXRlci5sb2FkRGVmaW5pdGlvbihkZWZpbml0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVubG9hZChoZWFkLCAuLi5yZXN0KSB7XG4gICAgICAgIGNvbnN0IGlkZW50aWZpZXJzID0gQXJyYXkuaXNBcnJheShoZWFkKSA/IGhlYWQgOiBbaGVhZCwgLi4ucmVzdF07XG4gICAgICAgIGlkZW50aWZpZXJzLmZvckVhY2goKGlkZW50aWZpZXIpID0+IHRoaXMucm91dGVyLnVubG9hZElkZW50aWZpZXIoaWRlbnRpZmllcikpO1xuICAgIH1cbiAgICBnZXQgY29udHJvbGxlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdXRlci5jb250ZXh0cy5tYXAoKGNvbnRleHQpID0+IGNvbnRleHQuY29udHJvbGxlcik7XG4gICAgfVxuICAgIGdldENvbnRyb2xsZXJGb3JFbGVtZW50QW5kSWRlbnRpZmllcihlbGVtZW50LCBpZGVudGlmaWVyKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnJvdXRlci5nZXRDb250ZXh0Rm9yRWxlbWVudEFuZElkZW50aWZpZXIoZWxlbWVudCwgaWRlbnRpZmllcik7XG4gICAgICAgIHJldHVybiBjb250ZXh0ID8gY29udGV4dC5jb250cm9sbGVyIDogbnVsbDtcbiAgICB9XG4gICAgaGFuZGxlRXJyb3IoZXJyb3IsIG1lc3NhZ2UsIGRldGFpbCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGAlc1xcblxcbiVvXFxuXFxuJW9gLCBtZXNzYWdlLCBlcnJvciwgZGV0YWlsKTtcbiAgICAgICAgKF9hID0gd2luZG93Lm9uZXJyb3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHdpbmRvdywgbWVzc2FnZSwgXCJcIiwgMCwgMCwgZXJyb3IpO1xuICAgIH1cbiAgICBsb2dGb3JtYXR0ZWRNZXNzYWdlKGlkZW50aWZpZXIsIGZ1bmN0aW9uTmFtZSwgZGV0YWlsID0ge30pIHtcbiAgICAgICAgZGV0YWlsID0gT2JqZWN0LmFzc2lnbih7IGFwcGxpY2F0aW9uOiB0aGlzIH0sIGRldGFpbCk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmdyb3VwQ29sbGFwc2VkKGAke2lkZW50aWZpZXJ9ICMke2Z1bmN0aW9uTmFtZX1gKTtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiZGV0YWlsczpcIiwgT2JqZWN0LmFzc2lnbih7fSwgZGV0YWlsKSk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmdyb3VwRW5kKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZG9tUmVhZHkoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09IFwibG9hZGluZ1wiKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIENsYXNzUHJvcGVydGllc0JsZXNzaW5nKGNvbnN0cnVjdG9yKSB7XG4gICAgY29uc3QgY2xhc3NlcyA9IHJlYWRJbmhlcml0YWJsZVN0YXRpY0FycmF5VmFsdWVzKGNvbnN0cnVjdG9yLCBcImNsYXNzZXNcIik7XG4gICAgcmV0dXJuIGNsYXNzZXMucmVkdWNlKChwcm9wZXJ0aWVzLCBjbGFzc0RlZmluaXRpb24pID0+IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocHJvcGVydGllcywgcHJvcGVydGllc0ZvckNsYXNzRGVmaW5pdGlvbihjbGFzc0RlZmluaXRpb24pKTtcbiAgICB9LCB7fSk7XG59XG5mdW5jdGlvbiBwcm9wZXJ0aWVzRm9yQ2xhc3NEZWZpbml0aW9uKGtleSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIFtgJHtrZXl9Q2xhc3NgXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgY2xhc3NlcyB9ID0gdGhpcztcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3Nlcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xhc3Nlcy5nZXQoa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGNsYXNzZXMuZ2V0QXR0cmlidXRlTmFtZShrZXkpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgYXR0cmlidXRlIFwiJHthdHRyaWJ1dGV9XCJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBbYCR7a2V5fUNsYXNzZXNgXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsYXNzZXMuZ2V0QWxsKGtleSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBbYGhhcyR7Y2FwaXRhbGl6ZShrZXkpfUNsYXNzYF06IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGFzc2VzLmhhcyhrZXkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBPdXRsZXRQcm9wZXJ0aWVzQmxlc3NpbmcoY29uc3RydWN0b3IpIHtcbiAgICBjb25zdCBvdXRsZXRzID0gcmVhZEluaGVyaXRhYmxlU3RhdGljQXJyYXlWYWx1ZXMoY29uc3RydWN0b3IsIFwib3V0bGV0c1wiKTtcbiAgICByZXR1cm4gb3V0bGV0cy5yZWR1Y2UoKHByb3BlcnRpZXMsIG91dGxldERlZmluaXRpb24pID0+IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocHJvcGVydGllcywgcHJvcGVydGllc0Zvck91dGxldERlZmluaXRpb24ob3V0bGV0RGVmaW5pdGlvbikpO1xuICAgIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIGdldE91dGxldENvbnRyb2xsZXIoY29udHJvbGxlciwgZWxlbWVudCwgaWRlbnRpZmllcikge1xuICAgIHJldHVybiBjb250cm9sbGVyLmFwcGxpY2F0aW9uLmdldENvbnRyb2xsZXJGb3JFbGVtZW50QW5kSWRlbnRpZmllcihlbGVtZW50LCBpZGVudGlmaWVyKTtcbn1cbmZ1bmN0aW9uIGdldENvbnRyb2xsZXJBbmRFbnN1cmVDb25uZWN0ZWRTY29wZShjb250cm9sbGVyLCBlbGVtZW50LCBvdXRsZXROYW1lKSB7XG4gICAgbGV0IG91dGxldENvbnRyb2xsZXIgPSBnZXRPdXRsZXRDb250cm9sbGVyKGNvbnRyb2xsZXIsIGVsZW1lbnQsIG91dGxldE5hbWUpO1xuICAgIGlmIChvdXRsZXRDb250cm9sbGVyKVxuICAgICAgICByZXR1cm4gb3V0bGV0Q29udHJvbGxlcjtcbiAgICBjb250cm9sbGVyLmFwcGxpY2F0aW9uLnJvdXRlci5wcm9wb3NlVG9Db25uZWN0U2NvcGVGb3JFbGVtZW50QW5kSWRlbnRpZmllcihlbGVtZW50LCBvdXRsZXROYW1lKTtcbiAgICBvdXRsZXRDb250cm9sbGVyID0gZ2V0T3V0bGV0Q29udHJvbGxlcihjb250cm9sbGVyLCBlbGVtZW50LCBvdXRsZXROYW1lKTtcbiAgICBpZiAob3V0bGV0Q29udHJvbGxlcilcbiAgICAgICAgcmV0dXJuIG91dGxldENvbnRyb2xsZXI7XG59XG5mdW5jdGlvbiBwcm9wZXJ0aWVzRm9yT3V0bGV0RGVmaW5pdGlvbihuYW1lKSB7XG4gICAgY29uc3QgY2FtZWxpemVkTmFtZSA9IG5hbWVzcGFjZUNhbWVsaXplKG5hbWUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIFtgJHtjYW1lbGl6ZWROYW1lfU91dGxldGBdOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0bGV0RWxlbWVudCA9IHRoaXMub3V0bGV0cy5maW5kKG5hbWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5vdXRsZXRzLmdldFNlbGVjdG9yRm9yT3V0bGV0TmFtZShuYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAob3V0bGV0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvdXRsZXRDb250cm9sbGVyID0gZ2V0Q29udHJvbGxlckFuZEVuc3VyZUNvbm5lY3RlZFNjb3BlKHRoaXMsIG91dGxldEVsZW1lbnQsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3V0bGV0Q29udHJvbGxlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvdXRsZXRDb250cm9sbGVyO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBwcm92aWRlZCBvdXRsZXQgZWxlbWVudCBpcyBtaXNzaW5nIGFuIG91dGxldCBjb250cm9sbGVyIFwiJHtuYW1lfVwiIGluc3RhbmNlIGZvciBob3N0IGNvbnRyb2xsZXIgXCIke3RoaXMuaWRlbnRpZmllcn1cImApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3Npbmcgb3V0bGV0IGVsZW1lbnQgXCIke25hbWV9XCIgZm9yIGhvc3QgY29udHJvbGxlciBcIiR7dGhpcy5pZGVudGlmaWVyfVwiLiBTdGltdWx1cyBjb3VsZG4ndCBmaW5kIGEgbWF0Y2hpbmcgb3V0bGV0IGVsZW1lbnQgdXNpbmcgc2VsZWN0b3IgXCIke3NlbGVjdG9yfVwiLmApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW2Ake2NhbWVsaXplZE5hbWV9T3V0bGV0c2BdOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0bGV0cyA9IHRoaXMub3V0bGV0cy5maW5kQWxsKG5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChvdXRsZXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dGxldHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKG91dGxldEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG91dGxldENvbnRyb2xsZXIgPSBnZXRDb250cm9sbGVyQW5kRW5zdXJlQ29ubmVjdGVkU2NvcGUodGhpcywgb3V0bGV0RWxlbWVudCwgbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3V0bGV0Q29udHJvbGxlcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3V0bGV0Q29udHJvbGxlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVGhlIHByb3ZpZGVkIG91dGxldCBlbGVtZW50IGlzIG1pc3NpbmcgYW4gb3V0bGV0IGNvbnRyb2xsZXIgXCIke25hbWV9XCIgaW5zdGFuY2UgZm9yIGhvc3QgY29udHJvbGxlciBcIiR7dGhpcy5pZGVudGlmaWVyfVwiYCwgb3V0bGV0RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChjb250cm9sbGVyKSA9PiBjb250cm9sbGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW2Ake2NhbWVsaXplZE5hbWV9T3V0bGV0RWxlbWVudGBdOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0bGV0RWxlbWVudCA9IHRoaXMub3V0bGV0cy5maW5kKG5hbWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5vdXRsZXRzLmdldFNlbGVjdG9yRm9yT3V0bGV0TmFtZShuYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAob3V0bGV0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3V0bGV0RWxlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBvdXRsZXQgZWxlbWVudCBcIiR7bmFtZX1cIiBmb3IgaG9zdCBjb250cm9sbGVyIFwiJHt0aGlzLmlkZW50aWZpZXJ9XCIuIFN0aW11bHVzIGNvdWxkbid0IGZpbmQgYSBtYXRjaGluZyBvdXRsZXQgZWxlbWVudCB1c2luZyBzZWxlY3RvciBcIiR7c2VsZWN0b3J9XCIuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW2Ake2NhbWVsaXplZE5hbWV9T3V0bGV0RWxlbWVudHNgXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm91dGxldHMuZmluZEFsbChuYW1lKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFtgaGFzJHtjYXBpdGFsaXplKGNhbWVsaXplZE5hbWUpfU91dGxldGBdOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3V0bGV0cy5oYXMobmFtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIFRhcmdldFByb3BlcnRpZXNCbGVzc2luZyhjb25zdHJ1Y3Rvcikge1xuICAgIGNvbnN0IHRhcmdldHMgPSByZWFkSW5oZXJpdGFibGVTdGF0aWNBcnJheVZhbHVlcyhjb25zdHJ1Y3RvciwgXCJ0YXJnZXRzXCIpO1xuICAgIHJldHVybiB0YXJnZXRzLnJlZHVjZSgocHJvcGVydGllcywgdGFyZ2V0RGVmaW5pdGlvbikgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihwcm9wZXJ0aWVzLCBwcm9wZXJ0aWVzRm9yVGFyZ2V0RGVmaW5pdGlvbih0YXJnZXREZWZpbml0aW9uKSk7XG4gICAgfSwge30pO1xufVxuZnVuY3Rpb24gcHJvcGVydGllc0ZvclRhcmdldERlZmluaXRpb24obmFtZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIFtgJHtuYW1lfVRhcmdldGBdOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy50YXJnZXRzLmZpbmQobmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIHRhcmdldCBlbGVtZW50IFwiJHtuYW1lfVwiIGZvciBcIiR7dGhpcy5pZGVudGlmaWVyfVwiIGNvbnRyb2xsZXJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBbYCR7bmFtZX1UYXJnZXRzYF06IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRzLmZpbmRBbGwobmFtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBbYGhhcyR7Y2FwaXRhbGl6ZShuYW1lKX1UYXJnZXRgXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldHMuaGFzKG5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBWYWx1ZVByb3BlcnRpZXNCbGVzc2luZyhjb25zdHJ1Y3Rvcikge1xuICAgIGNvbnN0IHZhbHVlRGVmaW5pdGlvblBhaXJzID0gcmVhZEluaGVyaXRhYmxlU3RhdGljT2JqZWN0UGFpcnMoY29uc3RydWN0b3IsIFwidmFsdWVzXCIpO1xuICAgIGNvbnN0IHByb3BlcnR5RGVzY3JpcHRvck1hcCA9IHtcbiAgICAgICAgdmFsdWVEZXNjcmlwdG9yTWFwOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlRGVmaW5pdGlvblBhaXJzLnJlZHVjZSgocmVzdWx0LCB2YWx1ZURlZmluaXRpb25QYWlyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlRGVzY3JpcHRvciA9IHBhcnNlVmFsdWVEZWZpbml0aW9uUGFpcih2YWx1ZURlZmluaXRpb25QYWlyLCB0aGlzLmlkZW50aWZpZXIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gdGhpcy5kYXRhLmdldEF0dHJpYnV0ZU5hbWVGb3JLZXkodmFsdWVEZXNjcmlwdG9yLmtleSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHJlc3VsdCwgeyBbYXR0cmlidXRlTmFtZV06IHZhbHVlRGVzY3JpcHRvciB9KTtcbiAgICAgICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIHZhbHVlRGVmaW5pdGlvblBhaXJzLnJlZHVjZSgocHJvcGVydGllcywgdmFsdWVEZWZpbml0aW9uUGFpcikgPT4ge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihwcm9wZXJ0aWVzLCBwcm9wZXJ0aWVzRm9yVmFsdWVEZWZpbml0aW9uUGFpcih2YWx1ZURlZmluaXRpb25QYWlyKSk7XG4gICAgfSwgcHJvcGVydHlEZXNjcmlwdG9yTWFwKTtcbn1cbmZ1bmN0aW9uIHByb3BlcnRpZXNGb3JWYWx1ZURlZmluaXRpb25QYWlyKHZhbHVlRGVmaW5pdGlvblBhaXIsIGNvbnRyb2xsZXIpIHtcbiAgICBjb25zdCBkZWZpbml0aW9uID0gcGFyc2VWYWx1ZURlZmluaXRpb25QYWlyKHZhbHVlRGVmaW5pdGlvblBhaXIsIGNvbnRyb2xsZXIpO1xuICAgIGNvbnN0IHsga2V5LCBuYW1lLCByZWFkZXI6IHJlYWQsIHdyaXRlcjogd3JpdGUgfSA9IGRlZmluaXRpb247XG4gICAgcmV0dXJuIHtcbiAgICAgICAgW25hbWVdOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmRhdGEuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWFkKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWZpbml0aW9uLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNldChrZXksIHdyaXRlKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW2BoYXMke2NhcGl0YWxpemUobmFtZSl9YF06IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmhhcyhrZXkpIHx8IGRlZmluaXRpb24uaGFzQ3VzdG9tRGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gcGFyc2VWYWx1ZURlZmluaXRpb25QYWlyKFt0b2tlbiwgdHlwZURlZmluaXRpb25dLCBjb250cm9sbGVyKSB7XG4gICAgcmV0dXJuIHZhbHVlRGVzY3JpcHRvckZvclRva2VuQW5kVHlwZURlZmluaXRpb24oe1xuICAgICAgICBjb250cm9sbGVyLFxuICAgICAgICB0b2tlbixcbiAgICAgICAgdHlwZURlZmluaXRpb24sXG4gICAgfSk7XG59XG5mdW5jdGlvbiBwYXJzZVZhbHVlVHlwZUNvbnN0YW50KGNvbnN0YW50KSB7XG4gICAgc3dpdGNoIChjb25zdGFudCkge1xuICAgICAgICBjYXNlIEFycmF5OlxuICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgICAgICAgcmV0dXJuIFwiYm9vbGVhblwiO1xuICAgICAgICBjYXNlIE51bWJlcjpcbiAgICAgICAgICAgIHJldHVybiBcIm51bWJlclwiO1xuICAgICAgICBjYXNlIE9iamVjdDpcbiAgICAgICAgICAgIHJldHVybiBcIm9iamVjdFwiO1xuICAgICAgICBjYXNlIFN0cmluZzpcbiAgICAgICAgICAgIHJldHVybiBcInN0cmluZ1wiO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHBhcnNlVmFsdWVUeXBlRGVmYXVsdChkZWZhdWx0VmFsdWUpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIHJldHVybiBcImJvb2xlYW5cIjtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgcmV0dXJuIFwibnVtYmVyXCI7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBcInN0cmluZ1wiO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShkZWZhdWx0VmFsdWUpKVxuICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZGVmYXVsdFZhbHVlKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIilcbiAgICAgICAgcmV0dXJuIFwib2JqZWN0XCI7XG59XG5mdW5jdGlvbiBwYXJzZVZhbHVlVHlwZU9iamVjdChwYXlsb2FkKSB7XG4gICAgY29uc3QgeyBjb250cm9sbGVyLCB0b2tlbiwgdHlwZU9iamVjdCB9ID0gcGF5bG9hZDtcbiAgICBjb25zdCBoYXNUeXBlID0gaXNTb21ldGhpbmcodHlwZU9iamVjdC50eXBlKTtcbiAgICBjb25zdCBoYXNEZWZhdWx0ID0gaXNTb21ldGhpbmcodHlwZU9iamVjdC5kZWZhdWx0KTtcbiAgICBjb25zdCBmdWxsT2JqZWN0ID0gaGFzVHlwZSAmJiBoYXNEZWZhdWx0O1xuICAgIGNvbnN0IG9ubHlUeXBlID0gaGFzVHlwZSAmJiAhaGFzRGVmYXVsdDtcbiAgICBjb25zdCBvbmx5RGVmYXVsdCA9ICFoYXNUeXBlICYmIGhhc0RlZmF1bHQ7XG4gICAgY29uc3QgdHlwZUZyb21PYmplY3QgPSBwYXJzZVZhbHVlVHlwZUNvbnN0YW50KHR5cGVPYmplY3QudHlwZSk7XG4gICAgY29uc3QgdHlwZUZyb21EZWZhdWx0VmFsdWUgPSBwYXJzZVZhbHVlVHlwZURlZmF1bHQocGF5bG9hZC50eXBlT2JqZWN0LmRlZmF1bHQpO1xuICAgIGlmIChvbmx5VHlwZSlcbiAgICAgICAgcmV0dXJuIHR5cGVGcm9tT2JqZWN0O1xuICAgIGlmIChvbmx5RGVmYXVsdClcbiAgICAgICAgcmV0dXJuIHR5cGVGcm9tRGVmYXVsdFZhbHVlO1xuICAgIGlmICh0eXBlRnJvbU9iamVjdCAhPT0gdHlwZUZyb21EZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgY29uc3QgcHJvcGVydHlQYXRoID0gY29udHJvbGxlciA/IGAke2NvbnRyb2xsZXJ9LiR7dG9rZW59YCA6IHRva2VuO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBzcGVjaWZpZWQgZGVmYXVsdCB2YWx1ZSBmb3IgdGhlIFN0aW11bHVzIFZhbHVlIFwiJHtwcm9wZXJ0eVBhdGh9XCIgbXVzdCBtYXRjaCB0aGUgZGVmaW5lZCB0eXBlIFwiJHt0eXBlRnJvbU9iamVjdH1cIi4gVGhlIHByb3ZpZGVkIGRlZmF1bHQgdmFsdWUgb2YgXCIke3R5cGVPYmplY3QuZGVmYXVsdH1cIiBpcyBvZiB0eXBlIFwiJHt0eXBlRnJvbURlZmF1bHRWYWx1ZX1cIi5gKTtcbiAgICB9XG4gICAgaWYgKGZ1bGxPYmplY3QpXG4gICAgICAgIHJldHVybiB0eXBlRnJvbU9iamVjdDtcbn1cbmZ1bmN0aW9uIHBhcnNlVmFsdWVUeXBlRGVmaW5pdGlvbihwYXlsb2FkKSB7XG4gICAgY29uc3QgeyBjb250cm9sbGVyLCB0b2tlbiwgdHlwZURlZmluaXRpb24gfSA9IHBheWxvYWQ7XG4gICAgY29uc3QgdHlwZU9iamVjdCA9IHsgY29udHJvbGxlciwgdG9rZW4sIHR5cGVPYmplY3Q6IHR5cGVEZWZpbml0aW9uIH07XG4gICAgY29uc3QgdHlwZUZyb21PYmplY3QgPSBwYXJzZVZhbHVlVHlwZU9iamVjdCh0eXBlT2JqZWN0KTtcbiAgICBjb25zdCB0eXBlRnJvbURlZmF1bHRWYWx1ZSA9IHBhcnNlVmFsdWVUeXBlRGVmYXVsdCh0eXBlRGVmaW5pdGlvbik7XG4gICAgY29uc3QgdHlwZUZyb21Db25zdGFudCA9IHBhcnNlVmFsdWVUeXBlQ29uc3RhbnQodHlwZURlZmluaXRpb24pO1xuICAgIGNvbnN0IHR5cGUgPSB0eXBlRnJvbU9iamVjdCB8fCB0eXBlRnJvbURlZmF1bHRWYWx1ZSB8fCB0eXBlRnJvbUNvbnN0YW50O1xuICAgIGlmICh0eXBlKVxuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICBjb25zdCBwcm9wZXJ0eVBhdGggPSBjb250cm9sbGVyID8gYCR7Y29udHJvbGxlcn0uJHt0eXBlRGVmaW5pdGlvbn1gIDogdG9rZW47XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHZhbHVlIHR5cGUgXCIke3Byb3BlcnR5UGF0aH1cIiBmb3IgXCIke3Rva2VufVwiIHZhbHVlYCk7XG59XG5mdW5jdGlvbiBkZWZhdWx0VmFsdWVGb3JEZWZpbml0aW9uKHR5cGVEZWZpbml0aW9uKSB7XG4gICAgY29uc3QgY29uc3RhbnQgPSBwYXJzZVZhbHVlVHlwZUNvbnN0YW50KHR5cGVEZWZpbml0aW9uKTtcbiAgICBpZiAoY29uc3RhbnQpXG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWVzQnlUeXBlW2NvbnN0YW50XTtcbiAgICBjb25zdCBoYXNEZWZhdWx0ID0gaGFzUHJvcGVydHkodHlwZURlZmluaXRpb24sIFwiZGVmYXVsdFwiKTtcbiAgICBjb25zdCBoYXNUeXBlID0gaGFzUHJvcGVydHkodHlwZURlZmluaXRpb24sIFwidHlwZVwiKTtcbiAgICBjb25zdCB0eXBlT2JqZWN0ID0gdHlwZURlZmluaXRpb247XG4gICAgaWYgKGhhc0RlZmF1bHQpXG4gICAgICAgIHJldHVybiB0eXBlT2JqZWN0LmRlZmF1bHQ7XG4gICAgaWYgKGhhc1R5cGUpIHtcbiAgICAgICAgY29uc3QgeyB0eXBlIH0gPSB0eXBlT2JqZWN0O1xuICAgICAgICBjb25zdCBjb25zdGFudEZyb21UeXBlID0gcGFyc2VWYWx1ZVR5cGVDb25zdGFudCh0eXBlKTtcbiAgICAgICAgaWYgKGNvbnN0YW50RnJvbVR5cGUpXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlc0J5VHlwZVtjb25zdGFudEZyb21UeXBlXTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGVEZWZpbml0aW9uO1xufVxuZnVuY3Rpb24gdmFsdWVEZXNjcmlwdG9yRm9yVG9rZW5BbmRUeXBlRGVmaW5pdGlvbihwYXlsb2FkKSB7XG4gICAgY29uc3QgeyB0b2tlbiwgdHlwZURlZmluaXRpb24gfSA9IHBheWxvYWQ7XG4gICAgY29uc3Qga2V5ID0gYCR7ZGFzaGVyaXplKHRva2VuKX0tdmFsdWVgO1xuICAgIGNvbnN0IHR5cGUgPSBwYXJzZVZhbHVlVHlwZURlZmluaXRpb24ocGF5bG9hZCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZSxcbiAgICAgICAga2V5LFxuICAgICAgICBuYW1lOiBjYW1lbGl6ZShrZXkpLFxuICAgICAgICBnZXQgZGVmYXVsdFZhbHVlKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZUZvckRlZmluaXRpb24odHlwZURlZmluaXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgaGFzQ3VzdG9tRGVmYXVsdFZhbHVlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVmFsdWVUeXBlRGVmYXVsdCh0eXBlRGVmaW5pdGlvbikgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgcmVhZGVyOiByZWFkZXJzW3R5cGVdLFxuICAgICAgICB3cml0ZXI6IHdyaXRlcnNbdHlwZV0gfHwgd3JpdGVycy5kZWZhdWx0LFxuICAgIH07XG59XG5jb25zdCBkZWZhdWx0VmFsdWVzQnlUeXBlID0ge1xuICAgIGdldCBhcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH0sXG4gICAgYm9vbGVhbjogZmFsc2UsXG4gICAgbnVtYmVyOiAwLFxuICAgIGdldCBvYmplY3QoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIHN0cmluZzogXCJcIixcbn07XG5jb25zdCByZWFkZXJzID0ge1xuICAgIGFycmF5KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGFycmF5ID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGV4cGVjdGVkIHZhbHVlIG9mIHR5cGUgXCJhcnJheVwiIGJ1dCBpbnN0ZWFkIGdvdCB2YWx1ZSBcIiR7dmFsdWV9XCIgb2YgdHlwZSBcIiR7cGFyc2VWYWx1ZVR5cGVEZWZhdWx0KGFycmF5KX1cImApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9LFxuICAgIGJvb2xlYW4odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICEodmFsdWUgPT0gXCIwXCIgfHwgU3RyaW5nKHZhbHVlKS50b0xvd2VyQ2FzZSgpID09IFwiZmFsc2VcIik7XG4gICAgfSxcbiAgICBudW1iZXIodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZS5yZXBsYWNlKC9fL2csIFwiXCIpKTtcbiAgICB9LFxuICAgIG9iamVjdCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBvYmplY3QgPSBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgaWYgKG9iamVjdCA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqZWN0ICE9IFwib2JqZWN0XCIgfHwgQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBleHBlY3RlZCB2YWx1ZSBvZiB0eXBlIFwib2JqZWN0XCIgYnV0IGluc3RlYWQgZ290IHZhbHVlIFwiJHt2YWx1ZX1cIiBvZiB0eXBlIFwiJHtwYXJzZVZhbHVlVHlwZURlZmF1bHQob2JqZWN0KX1cImApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSxcbiAgICBzdHJpbmcodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG59O1xuY29uc3Qgd3JpdGVycyA9IHtcbiAgICBkZWZhdWx0OiB3cml0ZVN0cmluZyxcbiAgICBhcnJheTogd3JpdGVKU09OLFxuICAgIG9iamVjdDogd3JpdGVKU09OLFxufTtcbmZ1bmN0aW9uIHdyaXRlSlNPTih2YWx1ZSkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG59XG5mdW5jdGlvbiB3cml0ZVN0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiBgJHt2YWx1ZX1gO1xufVxuXG5jbGFzcyBDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgc2hvdWxkTG9hZCgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHN0YXRpYyBhZnRlckxvYWQoX2lkZW50aWZpZXIsIF9hcHBsaWNhdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGdldCBhcHBsaWNhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5hcHBsaWNhdGlvbjtcbiAgICB9XG4gICAgZ2V0IHNjb3BlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnNjb3BlO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IGlkZW50aWZpZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmlkZW50aWZpZXI7XG4gICAgfVxuICAgIGdldCB0YXJnZXRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS50YXJnZXRzO1xuICAgIH1cbiAgICBnZXQgb3V0bGV0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUub3V0bGV0cztcbiAgICB9XG4gICAgZ2V0IGNsYXNzZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmNsYXNzZXM7XG4gICAgfVxuICAgIGdldCBkYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5kYXRhO1xuICAgIH1cbiAgICBpbml0aWFsaXplKCkge1xuICAgIH1cbiAgICBjb25uZWN0KCkge1xuICAgIH1cbiAgICBkaXNjb25uZWN0KCkge1xuICAgIH1cbiAgICBkaXNwYXRjaChldmVudE5hbWUsIHsgdGFyZ2V0ID0gdGhpcy5lbGVtZW50LCBkZXRhaWwgPSB7fSwgcHJlZml4ID0gdGhpcy5pZGVudGlmaWVyLCBidWJibGVzID0gdHJ1ZSwgY2FuY2VsYWJsZSA9IHRydWUsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCB0eXBlID0gcHJlZml4ID8gYCR7cHJlZml4fToke2V2ZW50TmFtZX1gIDogZXZlbnROYW1lO1xuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCh0eXBlLCB7IGRldGFpbCwgYnViYmxlcywgY2FuY2VsYWJsZSB9KTtcbiAgICAgICAgdGFyZ2V0LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgfVxufVxuQ29udHJvbGxlci5ibGVzc2luZ3MgPSBbXG4gICAgQ2xhc3NQcm9wZXJ0aWVzQmxlc3NpbmcsXG4gICAgVGFyZ2V0UHJvcGVydGllc0JsZXNzaW5nLFxuICAgIFZhbHVlUHJvcGVydGllc0JsZXNzaW5nLFxuICAgIE91dGxldFByb3BlcnRpZXNCbGVzc2luZyxcbl07XG5Db250cm9sbGVyLnRhcmdldHMgPSBbXTtcbkNvbnRyb2xsZXIub3V0bGV0cyA9IFtdO1xuQ29udHJvbGxlci52YWx1ZXMgPSB7fTtcblxuZXhwb3J0IHsgQXBwbGljYXRpb24sIEF0dHJpYnV0ZU9ic2VydmVyLCBDb250ZXh0LCBDb250cm9sbGVyLCBFbGVtZW50T2JzZXJ2ZXIsIEluZGV4ZWRNdWx0aW1hcCwgTXVsdGltYXAsIFNlbGVjdG9yT2JzZXJ2ZXIsIFN0cmluZ01hcE9ic2VydmVyLCBUb2tlbkxpc3RPYnNlcnZlciwgVmFsdWVMaXN0T2JzZXJ2ZXIsIGFkZCwgZGVmYXVsdFNjaGVtYSwgZGVsLCBmZXRjaCwgcHJ1bmUgfTtcbiIsICJpbXBvcnQgeyBBcHBsaWNhdGlvbiB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuXG5jb25zdCBhcHBsaWNhdGlvbiA9IEFwcGxpY2F0aW9uLnN0YXJ0KClcblxuLy8gQ29uZmlndXJlIFN0aW11bHVzIGRldmVsb3BtZW50IGV4cGVyaWVuY2VcbmFwcGxpY2F0aW9uLmRlYnVnID0gZmFsc2VcbndpbmRvdy5TdGltdWx1cyAgID0gYXBwbGljYXRpb25cblxuZXhwb3J0IHsgYXBwbGljYXRpb24gfVxuIiwgImltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgY29ubmVjdCgpIHtcbiAgICB0aGlzLmVsZW1lbnQudGV4dENvbnRlbnQgPSBcIkhlbGxvIFdvcmxkIVwiXG4gIH1cbn1cblxuIiwgIlxuICAgICAgICBpbXBvcnQgKiBhcyBtb2R1bGUwIGZyb20gJy4vaGVsbG9fY29udHJvbGxlci5qcydcbiAgICAgICAgY29uc3QgbW9kdWxlcyA9IFt7bmFtZTogJ2hlbGxvJywgbW9kdWxlOiBtb2R1bGUwLCBmaWxlbmFtZTogJ2hlbGxvX2NvbnRyb2xsZXIuanMnfV1cbiAgICAgICAgZXhwb3J0IGRlZmF1bHQgbW9kdWxlcztcbiAgICAgICIsICJpbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIHN0YXRpYyB0YXJnZXRzID0gW1wiaXRlbVwiLCBcImNvbnRlbnRcIl1cblxuICB0b2dnbGUoZXZlbnQpIHtcbiAgICBjb25zdCBjbGlja2VkSXRlbSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnW2RhdGEtdWktYWNjb3JkaW9uLXRhcmdldD1cIml0ZW1cIl0nKVxuICAgIGNvbnN0IGNsaWNrZWRJbmRleCA9IHRoaXMuaXRlbVRhcmdldHMuaW5kZXhPZihjbGlja2VkSXRlbSlcblxuICAgIHRoaXMuaXRlbVRhcmdldHMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA9PT0gY2xpY2tlZEluZGV4KSB7XG4gICAgICAgIHRoaXMudG9nZ2xlSXRlbShpdGVtKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jbG9zZUl0ZW0oaXRlbSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgdG9nZ2xlSXRlbShpdGVtKSB7XG4gICAgY29uc3QgaXNPcGVuID0gaXRlbS5kYXRhc2V0LnVpQWNjb3JkaW9uT3BlblZhbHVlID09PSAndHJ1ZSdcbiAgICBpZiAoaXNPcGVuKSB7XG4gICAgICB0aGlzLmNsb3NlSXRlbShpdGVtKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wZW5JdGVtKGl0ZW0pXG4gICAgfVxuICB9XG5cbiAgb3Blbkl0ZW0oaXRlbSkge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXVpLWFjY29yZGlvbi10YXJnZXQ9XCJjb250ZW50XCJdJylcbiAgICBjb25zdCBidXR0b24gPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpXG5cbiAgICBpdGVtLmRhdGFzZXQudWlBY2NvcmRpb25PcGVuVmFsdWUgPSAndHJ1ZSdcbiAgICBjb250ZW50LmRhdGFzZXQudWlBY2NvcmRpb25PcGVuVmFsdWUgPSAndHJ1ZSdcbiAgICBjb250ZW50LnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJylcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKVxuICB9XG5cbiAgY2xvc2VJdGVtKGl0ZW0pIHtcbiAgICBjb25zdCBjb250ZW50ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCdbZGF0YS11aS1hY2NvcmRpb24tdGFyZ2V0PVwiY29udGVudFwiXScpXG4gICAgY29uc3QgYnV0dG9uID0gaXRlbS5xdWVyeVNlbGVjdG9yKCdidXR0b24nKVxuXG4gICAgaXRlbS5kYXRhc2V0LnVpQWNjb3JkaW9uT3BlblZhbHVlID0gJ2ZhbHNlJ1xuICAgIGNvbnRlbnQuZGF0YXNldC51aUFjY29yZGlvbk9wZW5WYWx1ZSA9ICdmYWxzZSdcbiAgICBjb250ZW50LnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJycpXG4gICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpXG4gIH1cbn0iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwic3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy9cbi8vICAgZGlzY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gfVxuIiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4vLyBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcInN0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4vLyAgIGNvbm5lY3QoKSB7XG4vLyAgIH1cbi8vXG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICIvLyBhcHAvamF2YXNjcmlwdC9jb250cm9sbGVycy91aV9hbGVydF9kaWFsb2dfY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuaW1wb3J0IHsgdXNlQ2xpY2tPdXRzaWRlIH0gZnJvbSAnc3RpbXVsdXMtdXNlJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcIm92ZXJsYXlcIiwgXCJjb250ZW50XCJdXG4gIHN0YXRpYyB2YWx1ZXMgPSB7XG4gICAgY2xvc2VPbkNsaWNrT3V0c2lkZTogQm9vbGVhblxuICB9XG5cbiAgY29ubmVjdCgpIHtcbiAgICBpZiAodGhpcy5jbG9zZU9uQ2xpY2tPdXRzaWRlVmFsdWUpIHtcbiAgICAgIHVzZUNsaWNrT3V0c2lkZSh0aGlzLCB7IGVsZW1lbnQ6IHRoaXMuY29udGVudFRhcmdldCB9KVxuICAgIH1cbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5vdmVybGF5VGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcbiAgICB0aGlzLmNvbnRlbnRUYXJnZXQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5vdmVybGF5VGFyZ2V0LmRhdGFzZXQudWlBbGVydERpYWxvZ1N0YXRlID0gXCJvcGVuXCJcbiAgICAgIHRoaXMuY29udGVudFRhcmdldC5kYXRhc2V0LnVpQWxlcnREaWFsb2dTdGF0ZSA9IFwib3BlblwiXG4gICAgfSwgMTApIC8vIFNtYWxsIGRlbGF5IHRvIGVuc3VyZSB0aGUgZGlzcGxheSBjaGFuZ2UgaGFzIHRha2VuIGVmZmVjdFxuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5vdmVybGF5VGFyZ2V0LmRhdGFzZXQudWlBbGVydERpYWxvZ1N0YXRlID0gXCJjbG9zZWRcIlxuICAgIHRoaXMuY29udGVudFRhcmdldC5kYXRhc2V0LnVpQWxlcnREaWFsb2dTdGF0ZSA9IFwiY2xvc2VkXCJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMub3ZlcmxheVRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcbiAgICAgIHRoaXMuY29udGVudFRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcbiAgICB9LCAzMCkgLy8gQWRqdXN0IHRoaXMgdGltZW91dCB0byBtYXRjaCB5b3VyIGFuaW1hdGlvbiBkdXJhdGlvblxuICB9XG5cbiAgY2FuY2VsKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIHRoaXMuY2xvc2UoKVxuICB9XG5cbiAgY2xpY2tPdXRzaWRlKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuY2xvc2VPbkNsaWNrT3V0c2lkZVZhbHVlKSB7XG4gICAgICB0aGlzLmNsb3NlKClcbiAgICB9XG4gIH1cbn0iLCAiLypcbiAqIHN0aW11bHVzLXVzZSAwLjUyLjFcbiAqL1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIjtcblxuY29uc3QgbWV0aG9kID0gKGNvbnRyb2xsZXIsIG1ldGhvZE5hbWUpID0+IHtcbiAgY29uc3QgbWV0aG9kID0gY29udHJvbGxlclttZXRob2ROYW1lXTtcbiAgaWYgKHR5cGVvZiBtZXRob2QgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIG1ldGhvZDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHt9O1xuICB9XG59O1xuXG5jb25zdCBjb21wb3NlRXZlbnROYW1lID0gKG5hbWUsIGNvbnRyb2xsZXIsIGV2ZW50UHJlZml4KSA9PiB7XG4gIGxldCBjb21wb3NlZE5hbWUgPSBuYW1lO1xuICBpZiAoZXZlbnRQcmVmaXggPT09IHRydWUpIHtcbiAgICBjb21wb3NlZE5hbWUgPSBgJHtjb250cm9sbGVyLmlkZW50aWZpZXJ9OiR7bmFtZX1gO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBldmVudFByZWZpeCA9PT0gXCJzdHJpbmdcIikge1xuICAgIGNvbXBvc2VkTmFtZSA9IGAke2V2ZW50UHJlZml4fToke25hbWV9YDtcbiAgfVxuICByZXR1cm4gY29tcG9zZWROYW1lO1xufTtcblxuY29uc3QgZXh0ZW5kZWRFdmVudCA9ICh0eXBlLCBldmVudCwgZGV0YWlsKSA9PiB7XG4gIGNvbnN0IHtidWJibGVzOiBidWJibGVzLCBjYW5jZWxhYmxlOiBjYW5jZWxhYmxlLCBjb21wb3NlZDogY29tcG9zZWR9ID0gZXZlbnQgfHwge1xuICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICBjb21wb3NlZDogdHJ1ZVxuICB9O1xuICBpZiAoZXZlbnQpIHtcbiAgICBPYmplY3QuYXNzaWduKGRldGFpbCwge1xuICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnRcbiAgICB9KTtcbiAgfVxuICBjb25zdCBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudCh0eXBlLCB7XG4gICAgYnViYmxlczogYnViYmxlcyxcbiAgICBjYW5jZWxhYmxlOiBjYW5jZWxhYmxlLFxuICAgIGNvbXBvc2VkOiBjb21wb3NlZCxcbiAgICBkZXRhaWw6IGRldGFpbFxuICB9KTtcbiAgcmV0dXJuIGN1c3RvbUV2ZW50O1xufTtcblxuZnVuY3Rpb24gaXNFbGVtZW50SW5WaWV3cG9ydChlbCkge1xuICBjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICBjb25zdCB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcbiAgY29uc3QgdmVydEluVmlldyA9IHJlY3QudG9wIDw9IHdpbmRvd0hlaWdodCAmJiByZWN0LnRvcCArIHJlY3QuaGVpZ2h0ID4gMDtcbiAgY29uc3QgaG9ySW5WaWV3ID0gcmVjdC5sZWZ0IDw9IHdpbmRvd1dpZHRoICYmIHJlY3QubGVmdCArIHJlY3Qud2lkdGggPiAwO1xuICByZXR1cm4gdmVydEluVmlldyAmJiBob3JJblZpZXc7XG59XG5cbmZ1bmN0aW9uIGNhbWVsaXplKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS5yZXBsYWNlKC8oPzpbXy1dKShbYS16MC05XSkvZywgKChfLCBjaGFyKSA9PiBjaGFyLnRvVXBwZXJDYXNlKCkpKTtcbn1cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG5cblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1Jcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi8gZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpIHRbcFtpXV0gPSBzW3BbaV1dO1xuICB9XG4gIHJldHVybiB0O1xufVxuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyQ4ID0ge1xuICBkZWJ1ZzogZmFsc2UsXG4gIGxvZ2dlcjogY29uc29sZSxcbiAgZGlzcGF0Y2hFdmVudDogdHJ1ZSxcbiAgZXZlbnRQcmVmaXg6IHRydWVcbn07XG5cbmNsYXNzIFN0aW11bHVzVXNlIHtcbiAgY29uc3RydWN0b3IoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgdGhpcy5sb2cgPSAoZnVuY3Rpb25OYW1lLCBhcmdzKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuZGVidWcpIHJldHVybjtcbiAgICAgIHRoaXMubG9nZ2VyLmdyb3VwQ29sbGFwc2VkKGAlYyR7dGhpcy5jb250cm9sbGVyLmlkZW50aWZpZXJ9ICVjIyR7ZnVuY3Rpb25OYW1lfWAsIFwiY29sb3I6ICMzQjgyRjZcIiwgXCJjb2xvcjogdW5zZXRcIik7XG4gICAgICB0aGlzLmxvZ2dlci5sb2coT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGNvbnRyb2xsZXJJZDogdGhpcy5jb250cm9sbGVySWRcbiAgICAgIH0sIGFyZ3MpKTtcbiAgICAgIHRoaXMubG9nZ2VyLmdyb3VwRW5kKCk7XG4gICAgfTtcbiAgICB0aGlzLndhcm4gPSBtZXNzYWdlID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oYCVjJHt0aGlzLmNvbnRyb2xsZXIuaWRlbnRpZmllcn0gJWMke21lc3NhZ2V9YCwgXCJjb2xvcjogIzNCODJGNjsgZm9udC13ZWlnaHQ6IGJvbGRcIiwgXCJjb2xvcjogdW5zZXRcIik7XG4gICAgfTtcbiAgICB0aGlzLmRpc3BhdGNoID0gKGV2ZW50TmFtZSwgZGV0YWlscyA9IHt9KSA9PiB7XG4gICAgICBpZiAodGhpcy5kaXNwYXRjaEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHtldmVudDogZXZlbnR9ID0gZGV0YWlscywgZXZlbnREZXRhaWxzID0gX19yZXN0KGRldGFpbHMsIFsgXCJldmVudFwiIF0pO1xuICAgICAgICBjb25zdCBjdXN0b21FdmVudCA9IHRoaXMuZXh0ZW5kZWRFdmVudChldmVudE5hbWUsIGV2ZW50IHx8IG51bGwsIGV2ZW50RGV0YWlscyk7XG4gICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcbiAgICAgICAgdGhpcy5sb2coXCJkaXNwYXRjaEV2ZW50XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgIGV2ZW50TmFtZTogY3VzdG9tRXZlbnQudHlwZVxuICAgICAgICB9LCBldmVudERldGFpbHMpKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuY2FsbCA9IChtZXRob2ROYW1lLCBhcmdzID0ge30pID0+IHtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMuY29udHJvbGxlclttZXRob2ROYW1lXTtcbiAgICAgIGlmICh0eXBlb2YgbWV0aG9kID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gbWV0aG9kLmNhbGwodGhpcy5jb250cm9sbGVyLCBhcmdzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZXh0ZW5kZWRFdmVudCA9IChuYW1lLCBldmVudCwgZGV0YWlsKSA9PiB7XG4gICAgICBjb25zdCB7YnViYmxlczogYnViYmxlcywgY2FuY2VsYWJsZTogY2FuY2VsYWJsZSwgY29tcG9zZWQ6IGNvbXBvc2VkfSA9IGV2ZW50IHx8IHtcbiAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgY29tcG9zZWQ6IHRydWVcbiAgICAgIH07XG4gICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihkZXRhaWwsIHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KHRoaXMuY29tcG9zZUV2ZW50TmFtZShuYW1lKSwge1xuICAgICAgICBidWJibGVzOiBidWJibGVzLFxuICAgICAgICBjYW5jZWxhYmxlOiBjYW5jZWxhYmxlLFxuICAgICAgICBjb21wb3NlZDogY29tcG9zZWQsXG4gICAgICAgIGRldGFpbDogZGV0YWlsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjdXN0b21FdmVudDtcbiAgICB9O1xuICAgIHRoaXMuY29tcG9zZUV2ZW50TmFtZSA9IG5hbWUgPT4ge1xuICAgICAgbGV0IGNvbXBvc2VkTmFtZSA9IG5hbWU7XG4gICAgICBpZiAodGhpcy5ldmVudFByZWZpeCA9PT0gdHJ1ZSkge1xuICAgICAgICBjb21wb3NlZE5hbWUgPSBgJHt0aGlzLmNvbnRyb2xsZXIuaWRlbnRpZmllcn06JHtuYW1lfWA7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLmV2ZW50UHJlZml4ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbXBvc2VkTmFtZSA9IGAke3RoaXMuZXZlbnRQcmVmaXh9OiR7bmFtZX1gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbXBvc2VkTmFtZTtcbiAgICB9O1xuICAgIHRoaXMuZGVidWcgPSAoX2IgPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZGVidWcpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNvbnRyb2xsZXIuYXBwbGljYXRpb24uc3RpbXVsdXNVc2VEZWJ1ZykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZGVmYXVsdE9wdGlvbnMkOC5kZWJ1ZztcbiAgICB0aGlzLmxvZ2dlciA9IChfYyA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5sb2dnZXIpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGRlZmF1bHRPcHRpb25zJDgubG9nZ2VyO1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgdGhpcy5jb250cm9sbGVySWQgPSBjb250cm9sbGVyLmVsZW1lbnQuaWQgfHwgY29udHJvbGxlci5lbGVtZW50LmRhdGFzZXQuaWQ7XG4gICAgdGhpcy50YXJnZXRFbGVtZW50ID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5lbGVtZW50KSB8fCBjb250cm9sbGVyLmVsZW1lbnQ7XG4gICAgY29uc3Qge2Rpc3BhdGNoRXZlbnQ6IGRpc3BhdGNoRXZlbnQsIGV2ZW50UHJlZml4OiBldmVudFByZWZpeH0gPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucyQ4LCBvcHRpb25zKTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgIGRpc3BhdGNoRXZlbnQ6IGRpc3BhdGNoRXZlbnQsXG4gICAgICBldmVudFByZWZpeDogZXZlbnRQcmVmaXhcbiAgICB9KTtcbiAgICB0aGlzLmNvbnRyb2xsZXJJbml0aWFsaXplID0gY29udHJvbGxlci5pbml0aWFsaXplLmJpbmQoY29udHJvbGxlcik7XG4gICAgdGhpcy5jb250cm9sbGVyQ29ubmVjdCA9IGNvbnRyb2xsZXIuY29ubmVjdC5iaW5kKGNvbnRyb2xsZXIpO1xuICAgIHRoaXMuY29udHJvbGxlckRpc2Nvbm5lY3QgPSBjb250cm9sbGVyLmRpc2Nvbm5lY3QuYmluZChjb250cm9sbGVyKTtcbiAgfVxufVxuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyQ3ID0ge1xuICBldmVudFByZWZpeDogdHJ1ZSxcbiAgYnViYmxlczogdHJ1ZSxcbiAgY2FuY2VsYWJsZTogdHJ1ZVxufTtcblxuY2xhc3MgVXNlRGlzcGF0Y2ggZXh0ZW5kcyBTdGltdWx1c1VzZSB7XG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBzdXBlcihjb250cm9sbGVyLCBvcHRpb25zKTtcbiAgICB0aGlzLmRpc3BhdGNoID0gKGV2ZW50TmFtZSwgZGV0YWlsID0ge30pID0+IHtcbiAgICAgIGNvbnN0IHtjb250cm9sbGVyOiBjb250cm9sbGVyLCB0YXJnZXRFbGVtZW50OiB0YXJnZXRFbGVtZW50LCBldmVudFByZWZpeDogZXZlbnRQcmVmaXgsIGJ1YmJsZXM6IGJ1YmJsZXMsIGNhbmNlbGFibGU6IGNhbmNlbGFibGUsIGxvZzogbG9nLCB3YXJuOiB3YXJufSA9IHRoaXM7XG4gICAgICBPYmplY3QuYXNzaWduKGRldGFpbCwge1xuICAgICAgICBjb250cm9sbGVyOiBjb250cm9sbGVyXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGV2ZW50TmFtZVdpdGhQcmVmaXggPSBjb21wb3NlRXZlbnROYW1lKGV2ZW50TmFtZSwgdGhpcy5jb250cm9sbGVyLCBldmVudFByZWZpeCk7XG4gICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudChldmVudE5hbWVXaXRoUHJlZml4LCB7XG4gICAgICAgIGRldGFpbDogZGV0YWlsLFxuICAgICAgICBidWJibGVzOiBidWJibGVzLFxuICAgICAgICBjYW5jZWxhYmxlOiBjYW5jZWxhYmxlXG4gICAgICB9KTtcbiAgICAgIHRhcmdldEVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICB3YXJuKFwiYHVzZURpc3BhdGNoKClgIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgdGhlIGJ1aWx0LWluIGB0aGlzLmRpc3BhdGNoKClgIGZ1bmN0aW9uIGZyb20gU3RpbXVsdXMuIFlvdSBjYW4gZmluZCBtb3JlIGluZm9ybWF0aW9uIG9uIGhvdyB0byB1cGdyYWRlIGF0OiBodHRwczovL3N0aW11bHVzLXVzZS5naXRodWIuaW8vc3RpbXVsdXMtdXNlLyMvdXNlLWRpc3BhdGNoXCIpO1xuICAgICAgbG9nKFwiZGlzcGF0Y2hcIiwge1xuICAgICAgICBldmVudE5hbWU6IGV2ZW50TmFtZVdpdGhQcmVmaXgsXG4gICAgICAgIGRldGFpbDogZGV0YWlsLFxuICAgICAgICBidWJibGVzOiBidWJibGVzLFxuICAgICAgICBjYW5jZWxhYmxlOiBjYW5jZWxhYmxlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBldmVudDtcbiAgICB9O1xuICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IChfYSA9IG9wdGlvbnMuZWxlbWVudCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogY29udHJvbGxlci5lbGVtZW50O1xuICAgIHRoaXMuZXZlbnRQcmVmaXggPSAoX2IgPSBvcHRpb25zLmV2ZW50UHJlZml4KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBkZWZhdWx0T3B0aW9ucyQ3LmV2ZW50UHJlZml4O1xuICAgIHRoaXMuYnViYmxlcyA9IChfYyA9IG9wdGlvbnMuYnViYmxlcykgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZGVmYXVsdE9wdGlvbnMkNy5idWJibGVzO1xuICAgIHRoaXMuY2FuY2VsYWJsZSA9IChfZCA9IG9wdGlvbnMuY2FuY2VsYWJsZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogZGVmYXVsdE9wdGlvbnMkNy5jYW5jZWxhYmxlO1xuICAgIHRoaXMuZW5oYW5jZUNvbnRyb2xsZXIoKTtcbiAgfVxuICBlbmhhbmNlQ29udHJvbGxlcigpIHtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMuY29udHJvbGxlciwge1xuICAgICAgZGlzcGF0Y2g6IHRoaXMuZGlzcGF0Y2hcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCB1c2VEaXNwYXRjaCA9IChjb250cm9sbGVyLCBvcHRpb25zID0ge30pID0+IG5ldyBVc2VEaXNwYXRjaChjb250cm9sbGVyLCBvcHRpb25zKTtcblxuY29uc3QgZGVmYXVsdE9wdGlvbnMkNiA9IHtcbiAgb3ZlcndyaXRlRGlzcGF0Y2g6IHRydWVcbn07XG5cbmNvbnN0IHVzZUFwcGxpY2F0aW9uID0gKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCB7b3ZlcndyaXRlRGlzcGF0Y2g6IG92ZXJ3cml0ZURpc3BhdGNofSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zJDYsIG9wdGlvbnMpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29udHJvbGxlciwgXCJpc1ByZXZpZXdcIiwge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuaGFzQXR0cmlidXRlKFwiZGF0YS10dXJib2xpbmtzLXByZXZpZXdcIikgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZShcImRhdGEtdHVyYm8tcHJldmlld1wiKTtcbiAgICB9XG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29udHJvbGxlciwgXCJpc0Nvbm5lY3RlZFwiLCB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuICEhQXJyYXkuZnJvbSh0aGlzLmNvbnRleHQubW9kdWxlLmNvbm5lY3RlZENvbnRleHRzKS5maW5kKChjID0+IGMgPT09IHRoaXMuY29udGV4dCkpO1xuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb250cm9sbGVyLCBcImNzcmZUb2tlblwiLCB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubWV0YVZhbHVlKFwiY3NyZi10b2tlblwiKTtcbiAgICB9XG4gIH0pO1xuICBpZiAob3ZlcndyaXRlRGlzcGF0Y2gpIHtcbiAgICB1c2VEaXNwYXRjaChjb250cm9sbGVyLCBvcHRpb25zKTtcbiAgfVxuICBPYmplY3QuYXNzaWduKGNvbnRyb2xsZXIsIHtcbiAgICBtZXRhVmFsdWUobmFtZSkge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcihgbWV0YVtuYW1lPVwiJHtuYW1lfVwiXWApO1xuICAgICAgcmV0dXJuIGVsZW1lbnQgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5jbGFzcyBBcHBsaWNhdGlvbkNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHRoaXMuaXNQcmV2aWV3ID0gZmFsc2U7XG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMuY3NyZlRva2VuID0gXCJcIjtcbiAgICB1c2VBcHBsaWNhdGlvbih0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICB9XG59XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zJDUgPSB7XG4gIGV2ZW50czogWyBcImNsaWNrXCIsIFwidG91Y2hlbmRcIiBdLFxuICBvbmx5VmlzaWJsZTogdHJ1ZSxcbiAgZGlzcGF0Y2hFdmVudDogdHJ1ZSxcbiAgZXZlbnRQcmVmaXg6IHRydWVcbn07XG5cbmNvbnN0IHVzZUNsaWNrT3V0c2lkZSA9IChjb21wb3NhYmxlQ29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3Qge29ubHlWaXNpYmxlOiBvbmx5VmlzaWJsZSwgZGlzcGF0Y2hFdmVudDogZGlzcGF0Y2hFdmVudCwgZXZlbnRzOiBldmVudHMsIGV2ZW50UHJlZml4OiBldmVudFByZWZpeH0gPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucyQ1LCBvcHRpb25zKTtcbiAgY29uc3Qgb25FdmVudCA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5lbGVtZW50KSB8fCBjb250cm9sbGVyLmVsZW1lbnQ7XG4gICAgaWYgKHRhcmdldEVsZW1lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSB8fCAhaXNFbGVtZW50SW5WaWV3cG9ydCh0YXJnZXRFbGVtZW50KSAmJiBvbmx5VmlzaWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY29udHJvbGxlci5jbGlja091dHNpZGUpIHtcbiAgICAgIGNvbnRyb2xsZXIuY2xpY2tPdXRzaWRlKGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKGRpc3BhdGNoRXZlbnQpIHtcbiAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IGNvbXBvc2VFdmVudE5hbWUoXCJjbGljazpvdXRzaWRlXCIsIGNvbnRyb2xsZXIsIGV2ZW50UHJlZml4KTtcbiAgICAgIGNvbnN0IGNsaWNrT3V0c2lkZUV2ZW50ID0gZXh0ZW5kZWRFdmVudChldmVudE5hbWUsIGV2ZW50LCB7XG4gICAgICAgIGNvbnRyb2xsZXI6IGNvbnRyb2xsZXJcbiAgICAgIH0pO1xuICAgICAgdGFyZ2V0RWxlbWVudC5kaXNwYXRjaEV2ZW50KGNsaWNrT3V0c2lkZUV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9ic2VydmUgPSAoKSA9PiB7XG4gICAgZXZlbnRzID09PSBudWxsIHx8IGV2ZW50cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXZlbnRzLmZvckVhY2goKGV2ZW50ID0+IHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBvbkV2ZW50LCB0cnVlKTtcbiAgICB9KSk7XG4gIH07XG4gIGNvbnN0IHVub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICBldmVudHMgPT09IG51bGwgfHwgZXZlbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBldmVudHMuZm9yRWFjaCgoZXZlbnQgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIG9uRXZlbnQsIHRydWUpO1xuICAgIH0pKTtcbiAgfTtcbiAgY29uc3QgY29udHJvbGxlckRpc2Nvbm5lY3QgPSBjb250cm9sbGVyLmRpc2Nvbm5lY3QuYmluZChjb250cm9sbGVyKTtcbiAgT2JqZWN0LmFzc2lnbihjb250cm9sbGVyLCB7XG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgIHVub2JzZXJ2ZSgpO1xuICAgICAgY29udHJvbGxlckRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gIH0pO1xuICBvYnNlcnZlKCk7XG4gIHJldHVybiBbIG9ic2VydmUsIHVub2JzZXJ2ZSBdO1xufTtcblxuY2xhc3MgQ2xpY2tPdXRzaWRlQ29tcG9zYWJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHt9XG5cbmNsYXNzIENsaWNrT3V0c2lkZUNvbnRyb2xsZXIgZXh0ZW5kcyBDbGlja091dHNpZGVDb21wb3NhYmxlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICBzdXBlcihjb250ZXh0KTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpID0+IHtcbiAgICAgIGNvbnN0IFtvYnNlcnZlLCB1bm9ic2VydmVdID0gdXNlQ2xpY2tPdXRzaWRlKHRoaXMsIHRoaXMub3B0aW9ucyk7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgdW5vYnNlcnZlOiB1bm9ic2VydmVcbiAgICAgIH0pO1xuICAgIH0pKTtcbiAgfVxufVxuXG5jbGFzcyBEZWJvdW5jZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHt9XG5cbkRlYm91bmNlQ29udHJvbGxlci5kZWJvdW5jZXMgPSBbXTtcblxuY29uc3QgZGVmYXVsdFdhaXQkMSA9IDIwMDtcblxuY29uc3QgZGVib3VuY2UgPSAoZm4sIHdhaXQgPSBkZWZhdWx0V2FpdCQxKSA9PiB7XG4gIGxldCB0aW1lb3V0SWQgPSBudWxsO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgYXJncyA9IEFycmF5LmZyb20oYXJndW1lbnRzKTtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcbiAgICBjb25zdCBwYXJhbXMgPSBhcmdzLm1hcCgoYXJnID0+IGFyZy5wYXJhbXMpKTtcbiAgICBjb25zdCBjYWxsYmFjayA9ICgpID0+IHtcbiAgICAgIGFyZ3MuZm9yRWFjaCgoKGFyZywgaW5kZXgpID0+IGFyZy5wYXJhbXMgPSBwYXJhbXNbaW5kZXhdKSk7XG4gICAgICByZXR1cm4gZm4uYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgfTtcbiAgICBpZiAodGltZW91dElkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICB9XG4gICAgdGltZW91dElkID0gc2V0VGltZW91dChjYWxsYmFjaywgd2FpdCk7XG4gIH07XG59O1xuXG5jb25zdCB1c2VEZWJvdW5jZSA9IChjb21wb3NhYmxlQ29udHJvbGxlciwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBjb250cm9sbGVyID0gY29tcG9zYWJsZUNvbnRyb2xsZXI7XG4gIGNvbnN0IGNvbnN0cnVjdG9yID0gY29udHJvbGxlci5jb25zdHJ1Y3RvcjtcbiAgY29uc3RydWN0b3IuZGVib3VuY2VzLmZvckVhY2goKGZ1bmMgPT4ge1xuICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY29udHJvbGxlcltmdW5jXSA9IGRlYm91bmNlKGNvbnRyb2xsZXJbZnVuY10sIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy53YWl0KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBmdW5jID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBjb25zdCB7bmFtZTogbmFtZSwgd2FpdDogd2FpdH0gPSBmdW5jO1xuICAgICAgaWYgKCFuYW1lKSByZXR1cm47XG4gICAgICBjb250cm9sbGVyW25hbWVdID0gZGVib3VuY2UoY29udHJvbGxlcltuYW1lXSwgd2FpdCB8fCAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLndhaXQpKTtcbiAgICB9XG4gIH0pKTtcbn07XG5cbmNsYXNzIFVzZUhvdmVyIGV4dGVuZHMgU3RpbXVsdXNVc2Uge1xuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyLCBvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihjb250cm9sbGVyLCBvcHRpb25zKTtcbiAgICB0aGlzLm9ic2VydmUgPSAoKSA9PiB7XG4gICAgICB0aGlzLnRhcmdldEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgdGhpcy5vbkVudGVyKTtcbiAgICAgIHRoaXMudGFyZ2V0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLm9uTGVhdmUpO1xuICAgIH07XG4gICAgdGhpcy51bm9ic2VydmUgPSAoKSA9PiB7XG4gICAgICB0aGlzLnRhcmdldEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgdGhpcy5vbkVudGVyKTtcbiAgICAgIHRoaXMudGFyZ2V0RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLm9uTGVhdmUpO1xuICAgIH07XG4gICAgdGhpcy5vbkVudGVyID0gZXZlbnQgPT4ge1xuICAgICAgdGhpcy5jYWxsKFwibW91c2VFbnRlclwiLCBldmVudCk7XG4gICAgICB0aGlzLmxvZyhcIm1vdXNlRW50ZXJcIiwge1xuICAgICAgICBob3ZlcjogdHJ1ZVxuICAgICAgfSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKFwibW91c2VFbnRlclwiLCB7XG4gICAgICAgIGhvdmVyOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLm9uTGVhdmUgPSBldmVudCA9PiB7XG4gICAgICB0aGlzLmNhbGwoXCJtb3VzZUxlYXZlXCIsIGV2ZW50KTtcbiAgICAgIHRoaXMubG9nKFwibW91c2VMZWF2ZVwiLCB7XG4gICAgICAgIGhvdmVyOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKFwibW91c2VMZWF2ZVwiLCB7XG4gICAgICAgIGhvdmVyOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIHRoaXMuZW5oYW5jZUNvbnRyb2xsZXIoKTtcbiAgICB0aGlzLm9ic2VydmUoKTtcbiAgfVxuICBlbmhhbmNlQ29udHJvbGxlcigpIHtcbiAgICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IHRoaXMuY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQodGhpcy5jb250cm9sbGVyKTtcbiAgICBjb25zdCBkaXNjb25uZWN0ID0gKCkgPT4ge1xuICAgICAgdGhpcy51bm9ic2VydmUoKTtcbiAgICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMuY29udHJvbGxlciwge1xuICAgICAgZGlzY29ubmVjdDogZGlzY29ubmVjdFxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IHVzZUhvdmVyID0gKGNvbXBvc2FibGVDb250cm9sbGVyLCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgY29udHJvbGxlciA9IGNvbXBvc2FibGVDb250cm9sbGVyO1xuICBjb25zdCBvYnNlcnZlciA9IG5ldyBVc2VIb3Zlcihjb250cm9sbGVyLCBvcHRpb25zKTtcbiAgcmV0dXJuIFsgb2JzZXJ2ZXIub2JzZXJ2ZSwgb2JzZXJ2ZXIudW5vYnNlcnZlIF07XG59O1xuXG5jbGFzcyBIb3ZlckNvbXBvc2FibGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7fVxuXG5jbGFzcyBIb3ZlckNvbnRyb2xsZXIgZXh0ZW5kcyBIb3ZlckNvbXBvc2FibGVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgY29uc3QgW29ic2VydmUsIHVub2JzZXJ2ZV0gPSB1c2VIb3Zlcih0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgIHVub2JzZXJ2ZTogdW5vYnNlcnZlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn1cblxuY29uc3QgZGVmYXVsdEV2ZW50cyA9IFsgXCJtb3VzZW1vdmVcIiwgXCJtb3VzZWRvd25cIiwgXCJyZXNpemVcIiwgXCJrZXlkb3duXCIsIFwidG91Y2hzdGFydFwiLCBcIndoZWVsXCIgXTtcblxuY29uc3Qgb25lTWludXRlID0gNmU0O1xuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyQ0ID0ge1xuICBtczogb25lTWludXRlLFxuICBpbml0aWFsU3RhdGU6IGZhbHNlLFxuICBldmVudHM6IGRlZmF1bHRFdmVudHMsXG4gIGRpc3BhdGNoRXZlbnQ6IHRydWUsXG4gIGV2ZW50UHJlZml4OiB0cnVlXG59O1xuXG5jb25zdCB1c2VJZGxlID0gKGNvbXBvc2FibGVDb250cm9sbGVyLCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgY29udHJvbGxlciA9IGNvbXBvc2FibGVDb250cm9sbGVyO1xuICBjb25zdCB7bXM6IG1zLCBpbml0aWFsU3RhdGU6IGluaXRpYWxTdGF0ZSwgZXZlbnRzOiBldmVudHMsIGRpc3BhdGNoRXZlbnQ6IGRpc3BhdGNoRXZlbnQsIGV2ZW50UHJlZml4OiBldmVudFByZWZpeH0gPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucyQ0LCBvcHRpb25zKTtcbiAgbGV0IGlzSWRsZSA9IGluaXRpYWxTdGF0ZTtcbiAgbGV0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgoKSA9PiB7XG4gICAgaXNJZGxlID0gdHJ1ZTtcbiAgICBkaXNwYXRjaEF3YXkoKTtcbiAgfSksIG1zKTtcbiAgY29uc3QgZGlzcGF0Y2hBd2F5ID0gZXZlbnQgPT4ge1xuICAgIGNvbnN0IGV2ZW50TmFtZSA9IGNvbXBvc2VFdmVudE5hbWUoXCJhd2F5XCIsIGNvbnRyb2xsZXIsIGV2ZW50UHJlZml4KTtcbiAgICBjb250cm9sbGVyLmlzSWRsZSA9IHRydWU7XG4gICAgbWV0aG9kKGNvbnRyb2xsZXIsIFwiYXdheVwiKS5jYWxsKGNvbnRyb2xsZXIsIGV2ZW50KTtcbiAgICBpZiAoZGlzcGF0Y2hFdmVudCkge1xuICAgICAgY29uc3QgY2xpY2tPdXRzaWRlRXZlbnQgPSBleHRlbmRlZEV2ZW50KGV2ZW50TmFtZSwgZXZlbnQgfHwgbnVsbCwge1xuICAgICAgICBjb250cm9sbGVyOiBjb250cm9sbGVyXG4gICAgICB9KTtcbiAgICAgIGNvbnRyb2xsZXIuZWxlbWVudC5kaXNwYXRjaEV2ZW50KGNsaWNrT3V0c2lkZUV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGRpc3BhdGNoQmFjayA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCBldmVudE5hbWUgPSBjb21wb3NlRXZlbnROYW1lKFwiYmFja1wiLCBjb250cm9sbGVyLCBldmVudFByZWZpeCk7XG4gICAgY29udHJvbGxlci5pc0lkbGUgPSBmYWxzZTtcbiAgICBtZXRob2QoY29udHJvbGxlciwgXCJiYWNrXCIpLmNhbGwoY29udHJvbGxlciwgZXZlbnQpO1xuICAgIGlmIChkaXNwYXRjaEV2ZW50KSB7XG4gICAgICBjb25zdCBjbGlja091dHNpZGVFdmVudCA9IGV4dGVuZGVkRXZlbnQoZXZlbnROYW1lLCBldmVudCB8fCBudWxsLCB7XG4gICAgICAgIGNvbnRyb2xsZXI6IGNvbnRyb2xsZXJcbiAgICAgIH0pO1xuICAgICAgY29udHJvbGxlci5lbGVtZW50LmRpc3BhdGNoRXZlbnQoY2xpY2tPdXRzaWRlRXZlbnQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgb25FdmVudCA9IGV2ZW50ID0+IHtcbiAgICBpZiAoaXNJZGxlKSBkaXNwYXRjaEJhY2soZXZlbnQpO1xuICAgIGlzSWRsZSA9IGZhbHNlO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgaXNJZGxlID0gdHJ1ZTtcbiAgICAgIGRpc3BhdGNoQXdheShldmVudCk7XG4gICAgfSksIG1zKTtcbiAgfTtcbiAgY29uc3Qgb25WaXNpYmlsaXR5ID0gZXZlbnQgPT4ge1xuICAgIGlmICghZG9jdW1lbnQuaGlkZGVuKSBvbkV2ZW50KGV2ZW50KTtcbiAgfTtcbiAgaWYgKGlzSWRsZSkge1xuICAgIGRpc3BhdGNoQXdheSgpO1xuICB9IGVsc2Uge1xuICAgIGRpc3BhdGNoQmFjaygpO1xuICB9XG4gIGNvbnN0IGNvbnRyb2xsZXJEaXNjb25uZWN0ID0gY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQoY29udHJvbGxlcik7XG4gIGNvbnN0IG9ic2VydmUgPSAoKSA9PiB7XG4gICAgZXZlbnRzLmZvckVhY2goKGV2ZW50ID0+IHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBvbkV2ZW50KTtcbiAgICB9KSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgb25WaXNpYmlsaXR5KTtcbiAgfTtcbiAgY29uc3QgdW5vYnNlcnZlID0gKCkgPT4ge1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICBldmVudHMuZm9yRWFjaCgoZXZlbnQgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIG9uRXZlbnQpO1xuICAgIH0pKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBvblZpc2liaWxpdHkpO1xuICB9O1xuICBPYmplY3QuYXNzaWduKGNvbnRyb2xsZXIsIHtcbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgdW5vYnNlcnZlKCk7XG4gICAgICBjb250cm9sbGVyRGlzY29ubmVjdCgpO1xuICAgIH1cbiAgfSk7XG4gIG9ic2VydmUoKTtcbiAgcmV0dXJuIFsgb2JzZXJ2ZSwgdW5vYnNlcnZlIF07XG59O1xuXG5jbGFzcyBJZGxlQ29tcG9zYWJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmlzSWRsZSA9IGZhbHNlO1xuICB9XG59XG5cbmNsYXNzIElkbGVDb250cm9sbGVyIGV4dGVuZHMgSWRsZUNvbXBvc2FibGVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgY29uc3QgW29ic2VydmUsIHVub2JzZXJ2ZV0gPSB1c2VJZGxlKHRoaXMsIHRoaXMub3B0aW9ucyk7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgdW5vYnNlcnZlOiB1bm9ic2VydmVcbiAgICAgIH0pO1xuICAgIH0pKTtcbiAgfVxufVxuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyQzID0ge1xuICBkaXNwYXRjaEV2ZW50OiB0cnVlLFxuICBldmVudFByZWZpeDogdHJ1ZSxcbiAgdmlzaWJsZUF0dHJpYnV0ZTogXCJpc1Zpc2libGVcIlxufTtcblxuY29uc3QgdXNlSW50ZXJzZWN0aW9uID0gKGNvbXBvc2FibGVDb250cm9sbGVyLCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgY29udHJvbGxlciA9IGNvbXBvc2FibGVDb250cm9sbGVyO1xuICBjb25zdCB7ZGlzcGF0Y2hFdmVudDogZGlzcGF0Y2hFdmVudCwgZXZlbnRQcmVmaXg6IGV2ZW50UHJlZml4LCB2aXNpYmxlQXR0cmlidXRlOiB2aXNpYmxlQXR0cmlidXRlfSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zJDMsIG9wdGlvbnMpO1xuICBjb25zdCB0YXJnZXRFbGVtZW50ID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5lbGVtZW50KSB8fCBjb250cm9sbGVyLmVsZW1lbnQ7XG4gIGlmICghY29udHJvbGxlci5pbnRlcnNlY3Rpb25FbGVtZW50cykgY29udHJvbGxlci5pbnRlcnNlY3Rpb25FbGVtZW50cyA9IFtdO1xuICBjb250cm9sbGVyLmludGVyc2VjdGlvbkVsZW1lbnRzLnB1c2godGFyZ2V0RWxlbWVudCk7XG4gIGNvbnN0IGNhbGxiYWNrID0gZW50cmllcyA9PiB7XG4gICAgY29uc3QgW2VudHJ5XSA9IGVudHJpZXM7XG4gICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICBkaXNwYXRjaEFwcGVhcihlbnRyeSk7XG4gICAgfSBlbHNlIGlmICh0YXJnZXRFbGVtZW50Lmhhc0F0dHJpYnV0ZSh2aXNpYmxlQXR0cmlidXRlKSkge1xuICAgICAgZGlzcGF0Y2hEaXNhcHBlYXIoZW50cnkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoY2FsbGJhY2ssIG9wdGlvbnMpO1xuICBjb25zdCBkaXNwYXRjaEFwcGVhciA9IGVudHJ5ID0+IHtcbiAgICB0YXJnZXRFbGVtZW50LnNldEF0dHJpYnV0ZSh2aXNpYmxlQXR0cmlidXRlLCBcInRydWVcIik7XG4gICAgbWV0aG9kKGNvbnRyb2xsZXIsIFwiYXBwZWFyXCIpLmNhbGwoY29udHJvbGxlciwgZW50cnksIG9ic2VydmVyKTtcbiAgICBpZiAoZGlzcGF0Y2hFdmVudCkge1xuICAgICAgY29uc3QgZXZlbnROYW1lID0gY29tcG9zZUV2ZW50TmFtZShcImFwcGVhclwiLCBjb250cm9sbGVyLCBldmVudFByZWZpeCk7XG4gICAgICBjb25zdCBhcHBlYXJFdmVudCA9IGV4dGVuZGVkRXZlbnQoZXZlbnROYW1lLCBudWxsLCB7XG4gICAgICAgIGNvbnRyb2xsZXI6IGNvbnRyb2xsZXIsXG4gICAgICAgIGVudHJ5OiBlbnRyeSxcbiAgICAgICAgb2JzZXJ2ZXI6IG9ic2VydmVyXG4gICAgICB9KTtcbiAgICAgIHRhcmdldEVsZW1lbnQuZGlzcGF0Y2hFdmVudChhcHBlYXJFdmVudCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBkaXNwYXRjaERpc2FwcGVhciA9IGVudHJ5ID0+IHtcbiAgICB0YXJnZXRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSh2aXNpYmxlQXR0cmlidXRlKTtcbiAgICBtZXRob2QoY29udHJvbGxlciwgXCJkaXNhcHBlYXJcIikuY2FsbChjb250cm9sbGVyLCBlbnRyeSwgb2JzZXJ2ZXIpO1xuICAgIGlmIChkaXNwYXRjaEV2ZW50KSB7XG4gICAgICBjb25zdCBldmVudE5hbWUgPSBjb21wb3NlRXZlbnROYW1lKFwiZGlzYXBwZWFyXCIsIGNvbnRyb2xsZXIsIGV2ZW50UHJlZml4KTtcbiAgICAgIGNvbnN0IGRpc2FwcGVhckV2ZW50ID0gZXh0ZW5kZWRFdmVudChldmVudE5hbWUsIG51bGwsIHtcbiAgICAgICAgY29udHJvbGxlcjogY29udHJvbGxlcixcbiAgICAgICAgZW50cnk6IGVudHJ5LFxuICAgICAgICBvYnNlcnZlcjogb2JzZXJ2ZXJcbiAgICAgIH0pO1xuICAgICAgdGFyZ2V0RWxlbWVudC5kaXNwYXRjaEV2ZW50KGRpc2FwcGVhckV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNvbnRyb2xsZXJEaXNjb25uZWN0ID0gY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQoY29udHJvbGxlcik7XG4gIGNvbnN0IGRpc2Nvbm5lY3QgPSAoKSA9PiB7XG4gICAgdW5vYnNlcnZlKCk7XG4gICAgY29udHJvbGxlckRpc2Nvbm5lY3QoKTtcbiAgfTtcbiAgY29uc3Qgb2JzZXJ2ZSA9ICgpID0+IHtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldEVsZW1lbnQpO1xuICB9O1xuICBjb25zdCB1bm9ic2VydmUgPSAoKSA9PiB7XG4gICAgb2JzZXJ2ZXIudW5vYnNlcnZlKHRhcmdldEVsZW1lbnQpO1xuICB9O1xuICBjb25zdCBub25lVmlzaWJsZSA9ICgpID0+IGNvbnRyb2xsZXIuaW50ZXJzZWN0aW9uRWxlbWVudHMuZmlsdGVyKChlbGVtZW50ID0+IGVsZW1lbnQuaGFzQXR0cmlidXRlKHZpc2libGVBdHRyaWJ1dGUpKSkubGVuZ3RoID09PSAwO1xuICBjb25zdCBvbmVWaXNpYmxlID0gKCkgPT4gY29udHJvbGxlci5pbnRlcnNlY3Rpb25FbGVtZW50cy5maWx0ZXIoKGVsZW1lbnQgPT4gZWxlbWVudC5oYXNBdHRyaWJ1dGUodmlzaWJsZUF0dHJpYnV0ZSkpKS5sZW5ndGggPT09IDE7XG4gIGNvbnN0IGF0TGVhc3RPbmVWaXNpYmxlID0gKCkgPT4gY29udHJvbGxlci5pbnRlcnNlY3Rpb25FbGVtZW50cy5zb21lKChlbGVtZW50ID0+IGVsZW1lbnQuaGFzQXR0cmlidXRlKHZpc2libGVBdHRyaWJ1dGUpKSk7XG4gIGNvbnN0IGFsbFZpc2libGUgPSAoKSA9PiBjb250cm9sbGVyLmludGVyc2VjdGlvbkVsZW1lbnRzLmV2ZXJ5KChlbGVtZW50ID0+IGVsZW1lbnQuaGFzQXR0cmlidXRlKHZpc2libGVBdHRyaWJ1dGUpKSk7XG4gIGNvbnN0IGlzVmlzaWJsZSA9IGFsbFZpc2libGU7XG4gIE9iamVjdC5hc3NpZ24oY29udHJvbGxlciwge1xuICAgIGlzVmlzaWJsZTogaXNWaXNpYmxlLFxuICAgIG5vbmVWaXNpYmxlOiBub25lVmlzaWJsZSxcbiAgICBvbmVWaXNpYmxlOiBvbmVWaXNpYmxlLFxuICAgIGF0TGVhc3RPbmVWaXNpYmxlOiBhdExlYXN0T25lVmlzaWJsZSxcbiAgICBhbGxWaXNpYmxlOiBhbGxWaXNpYmxlLFxuICAgIGRpc2Nvbm5lY3Q6IGRpc2Nvbm5lY3RcbiAgfSk7XG4gIG9ic2VydmUoKTtcbiAgcmV0dXJuIFsgb2JzZXJ2ZSwgdW5vYnNlcnZlIF07XG59O1xuXG5jbGFzcyBJbnRlcnNlY3Rpb25Db21wb3NhYmxlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge31cblxuY2xhc3MgSW50ZXJzZWN0aW9uQ29udHJvbGxlciBleHRlbmRzIEludGVyc2VjdGlvbkNvbXBvc2FibGVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgY29uc3QgW29ic2VydmUsIHVub2JzZXJ2ZV0gPSB1c2VJbnRlcnNlY3Rpb24odGhpcywgdGhpcy5vcHRpb25zKTtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywge1xuICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICB1bm9ic2VydmU6IHVub2JzZXJ2ZVxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9XG59XG5cbmNvbnN0IHVzZUxhenlMb2FkID0gKGNvbnRyb2xsZXIsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgY2FsbGJhY2sgPSBlbnRyaWVzID0+IHtcbiAgICBjb25zdCBbZW50cnldID0gZW50cmllcztcbiAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcgJiYgIWNvbnRyb2xsZXIuaXNMb2FkZWQpIHtcbiAgICAgIGhhbmRsZUFwcGVhcigpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlQXBwZWFyID0gZW50cnkgPT4ge1xuICAgIGNvbnN0IHNyYyA9IGNvbnRyb2xsZXIuZGF0YS5nZXQoXCJzcmNcIik7XG4gICAgaWYgKCFzcmMpIHJldHVybjtcbiAgICBjb25zdCBpbWFnZUVsZW1lbnQgPSBjb250cm9sbGVyLmVsZW1lbnQ7XG4gICAgY29udHJvbGxlci5pc0xvYWRpbmcgPSB0cnVlO1xuICAgIG1ldGhvZChjb250cm9sbGVyLCBcImxvYWRpbmdcIikuY2FsbChjb250cm9sbGVyLCBzcmMpO1xuICAgIGltYWdlRWxlbWVudC5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBoYW5kbGVMb2FkZWQoc3JjKTtcbiAgICB9O1xuICAgIGltYWdlRWxlbWVudC5zcmMgPSBzcmM7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUxvYWRlZCA9IHNyYyA9PiB7XG4gICAgY29udHJvbGxlci5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICBjb250cm9sbGVyLmlzTG9hZGVkID0gdHJ1ZTtcbiAgICBtZXRob2QoY29udHJvbGxlciwgXCJsb2FkZWRcIikuY2FsbChjb250cm9sbGVyLCBzcmMpO1xuICB9O1xuICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IGNvbnRyb2xsZXIuZGlzY29ubmVjdC5iaW5kKGNvbnRyb2xsZXIpO1xuICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihjYWxsYmFjaywgb3B0aW9ucyk7XG4gIGNvbnN0IG9ic2VydmUgPSAoKSA9PiB7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShjb250cm9sbGVyLmVsZW1lbnQpO1xuICB9O1xuICBjb25zdCB1bm9ic2VydmUgPSAoKSA9PiB7XG4gICAgb2JzZXJ2ZXIudW5vYnNlcnZlKGNvbnRyb2xsZXIuZWxlbWVudCk7XG4gIH07XG4gIE9iamVjdC5hc3NpZ24oY29udHJvbGxlciwge1xuICAgIGlzVmlzaWJsZTogZmFsc2UsXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgIHVub2JzZXJ2ZSgpO1xuICAgICAgY29udHJvbGxlckRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gIH0pO1xuICBvYnNlcnZlKCk7XG4gIHJldHVybiBbIG9ic2VydmUsIHVub2JzZXJ2ZSBdO1xufTtcblxuY2xhc3MgTGF6eUxvYWRDb21wb3NhYmxlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgdGhpcy5pc0xvYWRlZCA9IGZhbHNlO1xuICB9XG59XG5cbmNsYXNzIExhenlMb2FkQ29udHJvbGxlciBleHRlbmRzIExhenlMb2FkQ29tcG9zYWJsZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgc3VwZXIoY29udGV4dCk7XG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgcm9vdE1hcmdpbjogXCIxMCVcIlxuICAgIH07XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKSA9PiB7XG4gICAgICBjb25zdCBbb2JzZXJ2ZSwgdW5vYnNlcnZlXSA9IHVzZUxhenlMb2FkKHRoaXMsIHRoaXMub3B0aW9ucyk7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgdW5vYnNlcnZlOiB1bm9ic2VydmVcbiAgICAgIH0pO1xuICAgIH0pKTtcbiAgfVxufVxuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyQyID0ge1xuICBtZWRpYVF1ZXJpZXM6IHt9LFxuICBkaXNwYXRjaEV2ZW50OiB0cnVlLFxuICBldmVudFByZWZpeDogdHJ1ZSxcbiAgZGVidWc6IGZhbHNlXG59O1xuXG5jbGFzcyBVc2VNYXRjaE1lZGlhIGV4dGVuZHMgU3RpbXVsdXNVc2Uge1xuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyLCBvcHRpb25zID0ge30pIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgc3VwZXIoY29udHJvbGxlciwgb3B0aW9ucyk7XG4gICAgdGhpcy5tYXRjaGVzID0gW107XG4gICAgdGhpcy5jYWxsYmFjayA9IGV2ZW50ID0+IHtcbiAgICAgIGNvbnN0IG5hbWUgPSBPYmplY3Qua2V5cyh0aGlzLm1lZGlhUXVlcmllcykuZmluZCgobmFtZSA9PiB0aGlzLm1lZGlhUXVlcmllc1tuYW1lXSA9PT0gZXZlbnQubWVkaWEpKTtcbiAgICAgIGlmICghbmFtZSkgcmV0dXJuO1xuICAgICAgY29uc3Qge21lZGlhOiBtZWRpYSwgbWF0Y2hlczogbWF0Y2hlc30gPSBldmVudDtcbiAgICAgIHRoaXMuY2hhbmdlZCh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIG1lZGlhOiBtZWRpYSxcbiAgICAgICAgbWF0Y2hlczogbWF0Y2hlcyxcbiAgICAgICAgZXZlbnQ6IGV2ZW50XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuY2hhbmdlZCA9IHBheWxvYWQgPT4ge1xuICAgICAgY29uc3Qge25hbWU6IG5hbWV9ID0gcGF5bG9hZDtcbiAgICAgIGlmIChwYXlsb2FkLmV2ZW50KSB7XG4gICAgICAgIHRoaXMuY2FsbChjYW1lbGl6ZShgJHtuYW1lfV9jaGFuZ2VkYCksIHBheWxvYWQpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKGAke25hbWV9OmNoYW5nZWRgLCBwYXlsb2FkKTtcbiAgICAgICAgdGhpcy5sb2coYG1lZGlhIHF1ZXJ5IFwiJHtuYW1lfVwiIGNoYW5nZWRgLCBwYXlsb2FkKTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXlsb2FkLm1hdGNoZXMpIHtcbiAgICAgICAgdGhpcy5jYWxsKGNhbWVsaXplKGBpc18ke25hbWV9YCksIHBheWxvYWQpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKGBpczoke25hbWV9YCwgcGF5bG9hZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNhbGwoY2FtZWxpemUoYG5vdF8ke25hbWV9YCksIHBheWxvYWQpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoKGBub3Q6JHtuYW1lfWAsIHBheWxvYWQpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5vYnNlcnZlID0gKCkgPT4ge1xuICAgICAgT2JqZWN0LmtleXModGhpcy5tZWRpYVF1ZXJpZXMpLmZvckVhY2goKG5hbWUgPT4ge1xuICAgICAgICBjb25zdCBtZWRpYSA9IHRoaXMubWVkaWFRdWVyaWVzW25hbWVdO1xuICAgICAgICBjb25zdCBtYXRjaCA9IHdpbmRvdy5tYXRjaE1lZGlhKG1lZGlhKTtcbiAgICAgICAgbWF0Y2guYWRkTGlzdGVuZXIodGhpcy5jYWxsYmFjayk7XG4gICAgICAgIHRoaXMubWF0Y2hlcy5wdXNoKG1hdGNoKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkKHtcbiAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgIG1lZGlhOiBtZWRpYSxcbiAgICAgICAgICBtYXRjaGVzOiBtYXRjaC5tYXRjaGVzXG4gICAgICAgIH0pO1xuICAgICAgfSkpO1xuICAgIH07XG4gICAgdGhpcy51bm9ic2VydmUgPSAoKSA9PiB7XG4gICAgICB0aGlzLm1hdGNoZXMuZm9yRWFjaCgobWF0Y2ggPT4gbWF0Y2gucmVtb3ZlTGlzdGVuZXIodGhpcy5jYWxsYmFjaykpKTtcbiAgICB9O1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgdGhpcy5tZWRpYVF1ZXJpZXMgPSAoX2EgPSBvcHRpb25zLm1lZGlhUXVlcmllcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGVmYXVsdE9wdGlvbnMkMi5tZWRpYVF1ZXJpZXM7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50ID0gKF9iID0gb3B0aW9ucy5kaXNwYXRjaEV2ZW50KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBkZWZhdWx0T3B0aW9ucyQyLmRpc3BhdGNoRXZlbnQ7XG4gICAgdGhpcy5ldmVudFByZWZpeCA9IChfYyA9IG9wdGlvbnMuZXZlbnRQcmVmaXgpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGRlZmF1bHRPcHRpb25zJDIuZXZlbnRQcmVmaXg7XG4gICAgdGhpcy5kZWJ1ZyA9IChfZCA9IG9wdGlvbnMuZGVidWcpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGRlZmF1bHRPcHRpb25zJDIuZGVidWc7XG4gICAgaWYgKCF3aW5kb3cubWF0Y2hNZWRpYSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIndpbmRvdy5tYXRjaE1lZGlhKCkgaXMgbm90IGF2YWlsYWJsZVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5lbmhhbmNlQ29udHJvbGxlcigpO1xuICAgIHRoaXMub2JzZXJ2ZSgpO1xuICB9XG4gIGVuaGFuY2VDb250cm9sbGVyKCkge1xuICAgIGNvbnN0IGNvbnRyb2xsZXJEaXNjb25uZWN0ID0gdGhpcy5jb250cm9sbGVyLmRpc2Nvbm5lY3QuYmluZCh0aGlzLmNvbnRyb2xsZXIpO1xuICAgIGNvbnN0IGRpc2Nvbm5lY3QgPSAoKSA9PiB7XG4gICAgICB0aGlzLnVub2JzZXJ2ZSgpO1xuICAgICAgY29udHJvbGxlckRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb250cm9sbGVyLCB7XG4gICAgICBkaXNjb25uZWN0OiBkaXNjb25uZWN0XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgdXNlTWF0Y2hNZWRpYSA9IChjb250cm9sbGVyLCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgVXNlTWF0Y2hNZWRpYShjb250cm9sbGVyLCBvcHRpb25zKTtcbiAgcmV0dXJuIFsgb2JzZXJ2ZXIub2JzZXJ2ZSwgb2JzZXJ2ZXIudW5vYnNlcnZlIF07XG59O1xuXG5jb25zdCBtZW1vaXplID0gKGNvbnRyb2xsZXIsIG5hbWUsIHZhbHVlKSA9PiB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb250cm9sbGVyLCBuYW1lLCB7XG4gICAgdmFsdWU6IHZhbHVlXG4gIH0pO1xuICByZXR1cm4gdmFsdWU7XG59O1xuXG5jb25zdCB1c2VNZW1vID0gY29udHJvbGxlciA9PiB7XG4gIHZhciBfYTtcbiAgKF9hID0gY29udHJvbGxlci5jb25zdHJ1Y3Rvci5tZW1vcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvckVhY2goKGdldHRlciA9PiB7XG4gICAgbWVtb2l6ZShjb250cm9sbGVyLCBnZXR0ZXIsIGNvbnRyb2xsZXJbZ2V0dGVyXSk7XG4gIH0pKTtcbn07XG5cbmNvbnN0IGRlZmluZU1ldGFHZXR0ZXIgPSAoY29udHJvbGxlciwgbWV0YU5hbWUsIHN1ZmZpeCkgPT4ge1xuICBjb25zdCBnZXR0ZXJOYW1lID0gc3VmZml4ID8gYCR7Y2FtZWxpemUobWV0YU5hbWUpfU1ldGFgIDogY2FtZWxpemUobWV0YU5hbWUpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29udHJvbGxlciwgZ2V0dGVyTmFtZSwge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB0eXBlQ2FzdChtZXRhVmFsdWUobWV0YU5hbWUpKTtcbiAgICB9XG4gIH0pO1xufTtcblxuZnVuY3Rpb24gbWV0YVZhbHVlKG5hbWUpIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcihgbWV0YVtuYW1lPVwiJHtuYW1lfVwiXWApO1xuICByZXR1cm4gZWxlbWVudCAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIik7XG59XG5cbmZ1bmN0aW9uIHR5cGVDYXN0KHZhbHVlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpO1xuICB9IGNhdGNoIChvX08pIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxuY29uc3QgdXNlTWV0YSA9IChjb250cm9sbGVyLCBvcHRpb25zID0ge1xuICBzdWZmaXg6IHRydWVcbn0pID0+IHtcbiAgY29uc3QgbWV0YU5hbWVzID0gY29udHJvbGxlci5jb25zdHJ1Y3Rvci5tZXRhTmFtZXM7XG4gIGNvbnN0IHN1ZmZpeCA9IG9wdGlvbnMuc3VmZml4O1xuICBtZXRhTmFtZXMgPT09IG51bGwgfHwgbWV0YU5hbWVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZXRhTmFtZXMuZm9yRWFjaCgobWV0YU5hbWUgPT4ge1xuICAgIGRlZmluZU1ldGFHZXR0ZXIoY29udHJvbGxlciwgbWV0YU5hbWUsIHN1ZmZpeCk7XG4gIH0pKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnRyb2xsZXIsIFwibWV0YXNcIiwge1xuICAgIGdldCgpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgbWV0YU5hbWVzID09PSBudWxsIHx8IG1ldGFOYW1lcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWV0YU5hbWVzLmZvckVhY2goKG1ldGFOYW1lID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0eXBlQ2FzdChtZXRhVmFsdWUobWV0YU5hbWUpKTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICByZXN1bHRbY2FtZWxpemUobWV0YU5hbWUpXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfSk7XG59O1xuXG5jbGFzcyBVc2VNdXRhdGlvbiBleHRlbmRzIFN0aW11bHVzVXNlIHtcbiAgY29uc3RydWN0b3IoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoY29udHJvbGxlciwgb3B0aW9ucyk7XG4gICAgdGhpcy5vYnNlcnZlID0gKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5vYnNlcnZlci5vYnNlcnZlKHRoaXMudGFyZ2V0RWxlbWVudCwgdGhpcy5vcHRpb25zKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5hcHBsaWNhdGlvbi5oYW5kbGVFcnJvcihlcnJvciwgXCJBdCBhIG1pbmltdW0sIG9uZSBvZiBjaGlsZExpc3QsIGF0dHJpYnV0ZXMsIGFuZC9vciBjaGFyYWN0ZXJEYXRhIG11c3QgYmUgdHJ1ZVwiLCB7fSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnVub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICAgIHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH07XG4gICAgdGhpcy5tdXRhdGlvbiA9IGVudHJpZXMgPT4ge1xuICAgICAgdGhpcy5jYWxsKFwibXV0YXRlXCIsIGVudHJpZXMpO1xuICAgICAgdGhpcy5sb2coXCJtdXRhdGVcIiwge1xuICAgICAgICBlbnRyaWVzOiBlbnRyaWVzXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goXCJtdXRhdGVcIiwge1xuICAgICAgICBlbnRyaWVzOiBlbnRyaWVzXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZWxlbWVudCkgfHwgY29udHJvbGxlci5lbGVtZW50O1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLm9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5tdXRhdGlvbik7XG4gICAgdGhpcy5lbmhhbmNlQ29udHJvbGxlcigpO1xuICAgIHRoaXMub2JzZXJ2ZSgpO1xuICB9XG4gIGVuaGFuY2VDb250cm9sbGVyKCkge1xuICAgIGNvbnN0IGNvbnRyb2xsZXJEaXNjb25uZWN0ID0gdGhpcy5jb250cm9sbGVyLmRpc2Nvbm5lY3QuYmluZCh0aGlzLmNvbnRyb2xsZXIpO1xuICAgIGNvbnN0IGRpc2Nvbm5lY3QgPSAoKSA9PiB7XG4gICAgICB0aGlzLnVub2JzZXJ2ZSgpO1xuICAgICAgY29udHJvbGxlckRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb250cm9sbGVyLCB7XG4gICAgICBkaXNjb25uZWN0OiBkaXNjb25uZWN0XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgdXNlTXV0YXRpb24gPSAoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IFVzZU11dGF0aW9uKGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICByZXR1cm4gWyBvYnNlcnZlci5vYnNlcnZlLCBvYnNlcnZlci51bm9ic2VydmUgXTtcbn07XG5cbmNsYXNzIE11dGF0aW9uQ29tcG9zYWJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHt9XG5cbmNsYXNzIE11dGF0aW9uQ29udHJvbGxlciBleHRlbmRzIE11dGF0aW9uQ29tcG9zYWJsZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgc3VwZXIoY29udGV4dCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKSA9PiB7XG4gICAgICBjb25zdCBbb2JzZXJ2ZSwgdW5vYnNlcnZlXSA9IHVzZU11dGF0aW9uKHRoaXMsIHRoaXMub3B0aW9ucyk7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgdW5vYnNlcnZlOiB1bm9ic2VydmVcbiAgICAgIH0pO1xuICAgIH0pKTtcbiAgfVxufVxuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyQxID0ge1xuICBkaXNwYXRjaEV2ZW50OiB0cnVlLFxuICBldmVudFByZWZpeDogdHJ1ZVxufTtcblxuY29uc3QgdXNlUmVzaXplID0gKGNvbXBvc2FibGVDb250cm9sbGVyLCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgY29udHJvbGxlciA9IGNvbXBvc2FibGVDb250cm9sbGVyO1xuICBjb25zdCB7ZGlzcGF0Y2hFdmVudDogZGlzcGF0Y2hFdmVudCwgZXZlbnRQcmVmaXg6IGV2ZW50UHJlZml4fSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zJDEsIG9wdGlvbnMpO1xuICBjb25zdCB0YXJnZXRFbGVtZW50ID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5lbGVtZW50KSB8fCBjb250cm9sbGVyLmVsZW1lbnQ7XG4gIGNvbnN0IGNhbGxiYWNrID0gZW50cmllcyA9PiB7XG4gICAgY29uc3QgW2VudHJ5XSA9IGVudHJpZXM7XG4gICAgbWV0aG9kKGNvbnRyb2xsZXIsIFwicmVzaXplXCIpLmNhbGwoY29udHJvbGxlciwgZW50cnkuY29udGVudFJlY3QpO1xuICAgIGlmIChkaXNwYXRjaEV2ZW50KSB7XG4gICAgICBjb25zdCBldmVudE5hbWUgPSBjb21wb3NlRXZlbnROYW1lKFwicmVzaXplXCIsIGNvbnRyb2xsZXIsIGV2ZW50UHJlZml4KTtcbiAgICAgIGNvbnN0IGFwcGVhckV2ZW50ID0gZXh0ZW5kZWRFdmVudChldmVudE5hbWUsIG51bGwsIHtcbiAgICAgICAgY29udHJvbGxlcjogY29udHJvbGxlcixcbiAgICAgICAgZW50cnk6IGVudHJ5XG4gICAgICB9KTtcbiAgICAgIHRhcmdldEVsZW1lbnQuZGlzcGF0Y2hFdmVudChhcHBlYXJFdmVudCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IGNvbnRyb2xsZXIuZGlzY29ubmVjdC5iaW5kKGNvbnRyb2xsZXIpO1xuICBjb25zdCBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihjYWxsYmFjayk7XG4gIGNvbnN0IG9ic2VydmUgPSAoKSA9PiB7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXRFbGVtZW50KTtcbiAgfTtcbiAgY29uc3QgdW5vYnNlcnZlID0gKCkgPT4ge1xuICAgIG9ic2VydmVyLnVub2JzZXJ2ZSh0YXJnZXRFbGVtZW50KTtcbiAgfTtcbiAgT2JqZWN0LmFzc2lnbihjb250cm9sbGVyLCB7XG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgIHVub2JzZXJ2ZSgpO1xuICAgICAgY29udHJvbGxlckRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gIH0pO1xuICBvYnNlcnZlKCk7XG4gIHJldHVybiBbIG9ic2VydmUsIHVub2JzZXJ2ZSBdO1xufTtcblxuY2xhc3MgUmVzaXplQ29tcG9zYWJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHt9XG5cbmNsYXNzIFJlc2l6ZUNvbnRyb2xsZXIgZXh0ZW5kcyBSZXNpemVDb21wb3NhYmxlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICBzdXBlcihjb250ZXh0KTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpID0+IHtcbiAgICAgIGNvbnN0IFtvYnNlcnZlLCB1bm9ic2VydmVdID0gdXNlUmVzaXplKHRoaXMsIHRoaXMub3B0aW9ucyk7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgdW5vYnNlcnZlOiB1bm9ic2VydmVcbiAgICAgIH0pO1xuICAgIH0pKTtcbiAgfVxufVxuXG5jbGFzcyBVc2VUYXJnZXRNdXRhdGlvbiBleHRlbmRzIFN0aW11bHVzVXNlIHtcbiAgY29uc3RydWN0b3IoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoY29udHJvbGxlciwgb3B0aW9ucyk7XG4gICAgdGhpcy5vYnNlcnZlID0gKCkgPT4ge1xuICAgICAgdGhpcy5vYnNlcnZlci5vYnNlcnZlKHRoaXMudGFyZ2V0RWxlbWVudCwge1xuICAgICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlLFxuICAgICAgICBhdHRyaWJ1dGVGaWx0ZXI6IFsgdGhpcy50YXJnZXRTZWxlY3RvciwgdGhpcy5zY29wZWRUYXJnZXRTZWxlY3RvciBdXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMudW5vYnNlcnZlID0gKCkgPT4ge1xuICAgICAgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgICB0aGlzLm11dGF0aW9uID0gZW50cmllcyA9PiB7XG4gICAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIGVudHJpZXMpIHtcbiAgICAgICAgc3dpdGNoIChtdXRhdGlvbi50eXBlKSB7XG4gICAgICAgICBjYXNlIFwiYXR0cmlidXRlc1wiOlxuICAgICAgICAgIGxldCBuZXdWYWx1ZSA9IG11dGF0aW9uLnRhcmdldC5nZXRBdHRyaWJ1dGUobXV0YXRpb24uYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgbGV0IG9sZFZhbHVlID0gbXV0YXRpb24ub2xkVmFsdWU7XG4gICAgICAgICAgaWYgKG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUgPT09IHRoaXMudGFyZ2V0U2VsZWN0b3IgfHwgbXV0YXRpb24uYXR0cmlidXRlTmFtZSA9PT0gdGhpcy5zY29wZWRUYXJnZXRTZWxlY3Rvcikge1xuICAgICAgICAgICAgbGV0IG9sZFRhcmdldHMgPSB0aGlzLnRhcmdldHNVc2VkQnlUaGlzQ29udHJvbGxlcihvbGRWYWx1ZSk7XG4gICAgICAgICAgICBsZXQgbmV3VGFyZ2V0cyA9IHRoaXMudGFyZ2V0c1VzZWRCeVRoaXNDb250cm9sbGVyKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIGxldCByZW1vdmVkVGFyZ2V0cyA9IG9sZFRhcmdldHMuZmlsdGVyKCh0YXJnZXQgPT4gIW5ld1RhcmdldHMuaW5jbHVkZXModGFyZ2V0KSkpO1xuICAgICAgICAgICAgbGV0IGFkZGVkVGFyZ2V0cyA9IG5ld1RhcmdldHMuZmlsdGVyKCh0YXJnZXQgPT4gIW9sZFRhcmdldHMuaW5jbHVkZXModGFyZ2V0KSkpO1xuICAgICAgICAgICAgcmVtb3ZlZFRhcmdldHMuZm9yRWFjaCgodGFyZ2V0ID0+IHRoaXMudGFyZ2V0UmVtb3ZlZCh0aGlzLnN0cmlwSWRlbnRpZmllclByZWZpeCh0YXJnZXQpLCBtdXRhdGlvbi50YXJnZXQsIFwiYXR0cmlidXRlQ2hhbmdlXCIpKSk7XG4gICAgICAgICAgICBhZGRlZFRhcmdldHMuZm9yRWFjaCgodGFyZ2V0ID0+IHRoaXMudGFyZ2V0QWRkZWQodGhpcy5zdHJpcElkZW50aWZpZXJQcmVmaXgodGFyZ2V0KSwgbXV0YXRpb24udGFyZ2V0LCBcImF0dHJpYnV0ZUNoYW5nZVwiKSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICAgY2FzZSBcImNoYXJhY3RlckRhdGFcIjpcbiAgICAgICAgICBsZXQgbm9kdWxlID0gdGhpcy5maW5kVGFyZ2V0SW5BbmNlc3RyeShtdXRhdGlvbi50YXJnZXQpO1xuICAgICAgICAgIGlmIChub2R1bGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgc3VwcG9ydGVkVGFyZ2V0cyA9IHRoaXMudGFyZ2V0c1VzZWRCeVRoaXNDb250cm9sbGVyRnJvbU5vZGUobm9kdWxlKTtcbiAgICAgICAgICAgIHN1cHBvcnRlZFRhcmdldHMuZm9yRWFjaCgodGFyZ2V0ID0+IHtcbiAgICAgICAgICAgICAgdGhpcy50YXJnZXRDaGFuZ2VkKHRoaXMuc3RyaXBJZGVudGlmaWVyUHJlZml4KHRhcmdldCksIG5vZHVsZSwgXCJkb21NdXRhdGlvblwiKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgIGNhc2UgXCJjaGlsZExpc3RcIjpcbiAgICAgICAgICBsZXQge2FkZGVkTm9kZXM6IGFkZGVkTm9kZXMsIHJlbW92ZWROb2RlczogcmVtb3ZlZE5vZGVzfSA9IG11dGF0aW9uO1xuICAgICAgICAgIGFkZGVkTm9kZXMuZm9yRWFjaCgobm9kZSA9PiB0aGlzLnByb2Nlc3NOb2RlRE9NTXV0YXRpb24obm9kZSwgdGhpcy50YXJnZXRBZGRlZCkpKTtcbiAgICAgICAgICByZW1vdmVkTm9kZXMuZm9yRWFjaCgobm9kZSA9PiB0aGlzLnByb2Nlc3NOb2RlRE9NTXV0YXRpb24obm9kZSwgdGhpcy50YXJnZXRSZW1vdmVkKSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy50YXJnZXRFbGVtZW50ID0gY29udHJvbGxlci5lbGVtZW50O1xuICAgIHRoaXMuaWRlbnRpZmllciA9IGNvbnRyb2xsZXIuc2NvcGUuaWRlbnRpZmllcjtcbiAgICB0aGlzLmlkZW50aWZpZXJQcmVmaXggPSBgJHt0aGlzLmlkZW50aWZpZXJ9LmA7XG4gICAgdGhpcy50YXJnZXRTZWxlY3RvciA9IGNvbnRyb2xsZXIuc2NvcGUuc2NoZW1hLnRhcmdldEF0dHJpYnV0ZTtcbiAgICB0aGlzLnNjb3BlZFRhcmdldFNlbGVjdG9yID0gYGRhdGEtJHt0aGlzLmlkZW50aWZpZXJ9LXRhcmdldGA7XG4gICAgdGhpcy50YXJnZXRzID0gb3B0aW9ucy50YXJnZXRzIHx8IGNvbnRyb2xsZXIuY29uc3RydWN0b3IudGFyZ2V0cztcbiAgICB0aGlzLnByZWZpeGVkVGFyZ2V0cyA9IHRoaXMudGFyZ2V0cy5tYXAoKHRhcmdldCA9PiBgJHt0aGlzLmlkZW50aWZpZXJQcmVmaXh9JHt0YXJnZXR9YCkpO1xuICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLm11dGF0aW9uKTtcbiAgICB0aGlzLmVuaGFuY2VDb250cm9sbGVyKCk7XG4gICAgdGhpcy5vYnNlcnZlKCk7XG4gIH1cbiAgcHJvY2Vzc05vZGVET01NdXRhdGlvbihub2RlLCBpbml0aWFsQ2hhbmdlTW9kZUFzc3VtcHRpb24pIHtcbiAgICBsZXQgbm9kdWxlID0gbm9kZTtcbiAgICBsZXQgY2hhbmdlID0gaW5pdGlhbENoYW5nZU1vZGVBc3N1bXB0aW9uO1xuICAgIGxldCBzdXBwb3J0ZWRUYXJnZXRzID0gW107XG4gICAgaWYgKG5vZHVsZS5ub2RlTmFtZSA9PSBcIiN0ZXh0XCIgfHwgdGhpcy50YXJnZXRzVXNlZEJ5VGhpc0NvbnRyb2xsZXJGcm9tTm9kZShub2R1bGUpLmxlbmd0aCA9PSAwKSB7XG4gICAgICBjaGFuZ2UgPSB0aGlzLnRhcmdldENoYW5nZWQ7XG4gICAgICBub2R1bGUgPSB0aGlzLmZpbmRUYXJnZXRJbkFuY2VzdHJ5KG5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdXBwb3J0ZWRUYXJnZXRzID0gdGhpcy50YXJnZXRzVXNlZEJ5VGhpc0NvbnRyb2xsZXJGcm9tTm9kZShub2R1bGUpO1xuICAgIH1cbiAgICBpZiAobm9kdWxlID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnRlZFRhcmdldHMubGVuZ3RoID09IDApIHtcbiAgICAgIHN1cHBvcnRlZFRhcmdldHMgPSB0aGlzLnRhcmdldHNVc2VkQnlUaGlzQ29udHJvbGxlckZyb21Ob2RlKG5vZHVsZSk7XG4gICAgfVxuICAgIHN1cHBvcnRlZFRhcmdldHMuZm9yRWFjaCgodGFyZ2V0ID0+IHtcbiAgICAgIGNoYW5nZS5jYWxsKHRoaXMsIHRoaXMuc3RyaXBJZGVudGlmaWVyUHJlZml4KHRhcmdldCksIG5vZHVsZSwgXCJkb21NdXRhdGlvblwiKTtcbiAgICB9KSk7XG4gIH1cbiAgZmluZFRhcmdldEluQW5jZXN0cnkobm9kZSkge1xuICAgIGxldCBub2R1bGUgPSBub2RlO1xuICAgIGxldCBzdXBwb3J0ZWRUYXJnZXRzID0gW107XG4gICAgaWYgKG5vZHVsZS5ub2RlTmFtZSAhPSBcIiN0ZXh0XCIpIHtcbiAgICAgIHN1cHBvcnRlZFRhcmdldHMgPSB0aGlzLnRhcmdldHNVc2VkQnlUaGlzQ29udHJvbGxlckZyb21Ob2RlKG5vZHVsZSk7XG4gICAgfVxuICAgIHdoaWxlIChub2R1bGUucGFyZW50Tm9kZSAhPT0gbnVsbCAmJiBub2R1bGUucGFyZW50Tm9kZSAhPSB0aGlzLnRhcmdldEVsZW1lbnQgJiYgc3VwcG9ydGVkVGFyZ2V0cy5sZW5ndGggPT0gMCkge1xuICAgICAgbm9kdWxlID0gbm9kdWxlLnBhcmVudE5vZGU7XG4gICAgICBpZiAobm9kdWxlLm5vZGVOYW1lICE9PSBcIiN0ZXh0XCIpIHtcbiAgICAgICAgbGV0IHN1cHBvcnRlZFRhcmdldHMgPSB0aGlzLnRhcmdldHNVc2VkQnlUaGlzQ29udHJvbGxlckZyb21Ob2RlKG5vZHVsZSk7XG4gICAgICAgIGlmIChzdXBwb3J0ZWRUYXJnZXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gbm9kdWxlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChub2R1bGUubm9kZU5hbWUgPT0gXCIjdGV4dFwiKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKG5vZHVsZS5wYXJlbnROb2RlID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAobm9kdWxlLnBhcmVudE5vZGUgPT0gdGhpcy50YXJnZXRFbGVtZW50KSB7XG4gICAgICBpZiAodGhpcy50YXJnZXRzVXNlZEJ5VGhpc0NvbnRyb2xsZXJGcm9tTm9kZShub2R1bGUpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIG5vZHVsZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB0YXJnZXRBZGRlZChuYW1lLCBub2RlLCB0cmlnZ2VyKSB7XG4gICAgbGV0IHRhcmdldENhbGxiYWNrID0gYCR7bmFtZX1UYXJnZXRBZGRlZGA7XG4gICAgdGhpcy5jb250cm9sbGVyW3RhcmdldENhbGxiYWNrXSAmJiBtZXRob2QodGhpcy5jb250cm9sbGVyLCB0YXJnZXRDYWxsYmFjaykuY2FsbCh0aGlzLmNvbnRyb2xsZXIsIG5vZGUpO1xuICAgIHRoaXMubG9nKFwidGFyZ2V0QWRkZWRcIiwge1xuICAgICAgdGFyZ2V0OiBuYW1lLFxuICAgICAgbm9kZTogbm9kZSxcbiAgICAgIHRyaWdnZXI6IHRyaWdnZXJcbiAgICB9KTtcbiAgfVxuICB0YXJnZXRSZW1vdmVkKG5hbWUsIG5vZGUsIHRyaWdnZXIpIHtcbiAgICBsZXQgdGFyZ2V0Q2FsbGJhY2sgPSBgJHtuYW1lfVRhcmdldFJlbW92ZWRgO1xuICAgIHRoaXMuY29udHJvbGxlclt0YXJnZXRDYWxsYmFja10gJiYgbWV0aG9kKHRoaXMuY29udHJvbGxlciwgdGFyZ2V0Q2FsbGJhY2spLmNhbGwodGhpcy5jb250cm9sbGVyLCBub2RlKTtcbiAgICB0aGlzLmxvZyhcInRhcmdldFJlbW92ZWRcIiwge1xuICAgICAgdGFyZ2V0OiBuYW1lLFxuICAgICAgbm9kZTogbm9kZSxcbiAgICAgIHRyaWdnZXI6IHRyaWdnZXJcbiAgICB9KTtcbiAgfVxuICB0YXJnZXRDaGFuZ2VkKG5hbWUsIG5vZGUsIHRyaWdnZXIpIHtcbiAgICBsZXQgdGFyZ2V0Q2FsbGJhY2sgPSBgJHtuYW1lfVRhcmdldENoYW5nZWRgO1xuICAgIHRoaXMuY29udHJvbGxlclt0YXJnZXRDYWxsYmFja10gJiYgbWV0aG9kKHRoaXMuY29udHJvbGxlciwgdGFyZ2V0Q2FsbGJhY2spLmNhbGwodGhpcy5jb250cm9sbGVyLCBub2RlKTtcbiAgICB0aGlzLmxvZyhcInRhcmdldENoYW5nZWRcIiwge1xuICAgICAgdGFyZ2V0OiBuYW1lLFxuICAgICAgbm9kZTogbm9kZSxcbiAgICAgIHRyaWdnZXI6IHRyaWdnZXJcbiAgICB9KTtcbiAgfVxuICB0YXJnZXRzVXNlZEJ5VGhpc0NvbnRyb2xsZXJGcm9tTm9kZShub2RlKSB7XG4gICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gXCIjdGV4dFwiIHx8IG5vZGUubm9kZU5hbWUgPT0gXCIjY29tbWVudFwiKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGxldCBub2RlRWxlbWVudCA9IG5vZGU7XG4gICAgcmV0dXJuIHRoaXMudGFyZ2V0c1VzZWRCeVRoaXNDb250cm9sbGVyKG5vZGVFbGVtZW50LmdldEF0dHJpYnV0ZSh0aGlzLnNjb3BlZFRhcmdldFNlbGVjdG9yKSB8fCBub2RlRWxlbWVudC5nZXRBdHRyaWJ1dGUodGhpcy50YXJnZXRTZWxlY3RvcikpO1xuICB9XG4gIHRhcmdldHNVc2VkQnlUaGlzQ29udHJvbGxlcih0YXJnZXRTdHIpIHtcbiAgICB0YXJnZXRTdHIgPSB0YXJnZXRTdHIgfHwgXCJcIjtcbiAgICBsZXQgdGFyZ2V0c1RvQ2hlY2sgPSB0aGlzLnN0cmlwSWRlbnRpZmllclByZWZpeCh0YXJnZXRTdHIpLnNwbGl0KFwiIFwiKTtcbiAgICByZXR1cm4gdGhpcy50YXJnZXRzLmZpbHRlcigobiA9PiB0YXJnZXRzVG9DaGVjay5pbmRleE9mKG4pICE9PSAtMSkpO1xuICB9XG4gIHN0cmlwSWRlbnRpZmllclByZWZpeCh0YXJnZXQpIHtcbiAgICByZXR1cm4gdGFyZ2V0LnJlcGxhY2UobmV3IFJlZ0V4cCh0aGlzLmlkZW50aWZpZXJQcmVmaXgsIFwiZ1wiKSwgXCJcIik7XG4gIH1cbiAgZW5oYW5jZUNvbnRyb2xsZXIoKSB7XG4gICAgY29uc3QgY29udHJvbGxlckRpc2Nvbm5lY3QgPSB0aGlzLmNvbnRyb2xsZXIuZGlzY29ubmVjdC5iaW5kKHRoaXMuY29udHJvbGxlcik7XG4gICAgY29uc3QgZGlzY29ubmVjdCA9ICgpID0+IHtcbiAgICAgIHRoaXMudW5vYnNlcnZlKCk7XG4gICAgICBjb250cm9sbGVyRGlzY29ubmVjdCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLmNvbnRyb2xsZXIsIHtcbiAgICAgIGRpc2Nvbm5lY3Q6IGRpc2Nvbm5lY3RcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCB1c2VUYXJnZXRNdXRhdGlvbiA9IChjb21wb3NhYmxlQ29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgVXNlVGFyZ2V0TXV0YXRpb24oY29udHJvbGxlciwgb3B0aW9ucyk7XG4gIHJldHVybiBbIG9ic2VydmVyLm9ic2VydmUsIG9ic2VydmVyLnVub2JzZXJ2ZSBdO1xufTtcblxuY2xhc3MgVGFyZ2V0TXV0YXRpb25Db21wb3NhYmxlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge31cblxuY2xhc3MgVGFyZ2V0TXV0YXRpb25Db250cm9sbGVyIGV4dGVuZHMgVGFyZ2V0TXV0YXRpb25Db21wb3NhYmxlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICBzdXBlcihjb250ZXh0KTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpID0+IHtcbiAgICAgIGNvbnN0IFtvYnNlcnZlLCB1bm9ic2VydmVdID0gdXNlVGFyZ2V0TXV0YXRpb24odGhpcywgdGhpcy5vcHRpb25zKTtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywge1xuICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICB1bm9ic2VydmU6IHVub2JzZXJ2ZVxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9XG59XG5cbmNsYXNzIFRocm90dGxlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge31cblxuVGhyb3R0bGVDb250cm9sbGVyLnRocm90dGxlcyA9IFtdO1xuXG5jb25zdCBkZWZhdWx0V2FpdCA9IDIwMDtcblxuZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCA9IGRlZmF1bHRXYWl0KSB7XG4gIGxldCBpblRocm90dGxlO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgYXJncyA9IGFyZ3VtZW50cztcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcbiAgICBpZiAoIWluVGhyb3R0bGUpIHtcbiAgICAgIGluVGhyb3R0bGUgPSB0cnVlO1xuICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIHNldFRpbWVvdXQoKCgpID0+IGluVGhyb3R0bGUgPSBmYWxzZSksIHdhaXQpO1xuICAgIH1cbiAgfTtcbn1cblxuY29uc3QgdXNlVGhyb3R0bGUgPSAoY29tcG9zYWJsZUNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICB2YXIgX2E7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3QgY29uc3RydWN0b3IgPSBjb250cm9sbGVyLmNvbnN0cnVjdG9yO1xuICAoX2EgPSBjb25zdHJ1Y3Rvci50aHJvdHRsZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKChmdW5jID0+IHtcbiAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnRyb2xsZXJbZnVuY10gPSB0aHJvdHRsZShjb250cm9sbGVyW2Z1bmNdLCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMud2FpdCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgY29uc3Qge25hbWU6IG5hbWUsIHdhaXQ6IHdhaXR9ID0gZnVuYztcbiAgICAgIGlmICghbmFtZSkgcmV0dXJuO1xuICAgICAgY29udHJvbGxlcltuYW1lXSA9IHRocm90dGxlKGNvbnRyb2xsZXJbbmFtZV0sIHdhaXQgfHwgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy53YWl0KSk7XG4gICAgfVxuICB9KSk7XG59O1xuXG5jb25zdCBhbHBpbmVOYW1lcyA9IHtcbiAgZW50ZXJGcm9tQ2xhc3M6IFwiZW50ZXJcIixcbiAgZW50ZXJBY3RpdmVDbGFzczogXCJlbnRlclN0YXJ0XCIsXG4gIGVudGVyVG9DbGFzczogXCJlbnRlckVuZFwiLFxuICBsZWF2ZUZyb21DbGFzczogXCJsZWF2ZVwiLFxuICBsZWF2ZUFjdGl2ZUNsYXNzOiBcImxlYXZlU3RhcnRcIixcbiAgbGVhdmVUb0NsYXNzOiBcImxlYXZlRW5kXCJcbn07XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICB0cmFuc2l0aW9uZWQ6IGZhbHNlLFxuICBoaWRkZW5DbGFzczogXCJoaWRkZW5cIixcbiAgcHJlc2VydmVPcmlnaW5hbENsYXNzOiB0cnVlLFxuICByZW1vdmVUb0NsYXNzZXM6IHRydWVcbn07XG5cbmNvbnN0IHVzZVRyYW5zaXRpb24gPSAoY29tcG9zYWJsZUNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgY29uc3QgY29udHJvbGxlciA9IGNvbXBvc2FibGVDb250cm9sbGVyO1xuICBjb25zdCB0YXJnZXROYW1lID0gY29udHJvbGxlci5lbGVtZW50LmRhdGFzZXQudHJhbnNpdGlvblRhcmdldDtcbiAgbGV0IHRhcmdldEZyb21BdHRyaWJ1dGU7XG4gIGlmICh0YXJnZXROYW1lKSB7XG4gICAgdGFyZ2V0RnJvbUF0dHJpYnV0ZSA9IGNvbnRyb2xsZXJbYCR7dGFyZ2V0TmFtZX1UYXJnZXRgXTtcbiAgfVxuICBjb25zdCB0YXJnZXRFbGVtZW50ID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5lbGVtZW50KSB8fCB0YXJnZXRGcm9tQXR0cmlidXRlIHx8IGNvbnRyb2xsZXIuZWxlbWVudDtcbiAgaWYgKCEodGFyZ2V0RWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8IHRhcmdldEVsZW1lbnQgaW5zdGFuY2VvZiBTVkdFbGVtZW50KSkgcmV0dXJuO1xuICBjb25zdCBkYXRhc2V0ID0gdGFyZ2V0RWxlbWVudC5kYXRhc2V0O1xuICBjb25zdCBsZWF2ZUFmdGVyID0gcGFyc2VJbnQoZGF0YXNldC5sZWF2ZUFmdGVyIHx8IFwiXCIpIHx8IG9wdGlvbnMubGVhdmVBZnRlciB8fCAwO1xuICBjb25zdCB7dHJhbnNpdGlvbmVkOiB0cmFuc2l0aW9uZWQsIGhpZGRlbkNsYXNzOiBoaWRkZW5DbGFzcywgcHJlc2VydmVPcmlnaW5hbENsYXNzOiBwcmVzZXJ2ZU9yaWdpbmFsQ2xhc3MsIHJlbW92ZVRvQ2xhc3NlczogcmVtb3ZlVG9DbGFzc2VzfSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgY29uc3QgY29udHJvbGxlckVudGVyID0gKF9hID0gY29udHJvbGxlci5lbnRlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJpbmQoY29udHJvbGxlcik7XG4gIGNvbnN0IGNvbnRyb2xsZXJMZWF2ZSA9IChfYiA9IGNvbnRyb2xsZXIubGVhdmUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5iaW5kKGNvbnRyb2xsZXIpO1xuICBjb25zdCBjb250cm9sbGVyVG9nZ2xlVHJhbnNpdGlvbiA9IChfYyA9IGNvbnRyb2xsZXIudG9nZ2xlVHJhbnNpdGlvbikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmJpbmQoY29udHJvbGxlcik7XG4gIGFzeW5jIGZ1bmN0aW9uIGVudGVyKGV2ZW50KSB7XG4gICAgaWYgKGNvbnRyb2xsZXIudHJhbnNpdGlvbmVkKSByZXR1cm47XG4gICAgY29udHJvbGxlci50cmFuc2l0aW9uZWQgPSB0cnVlO1xuICAgIGNvbnRyb2xsZXJFbnRlciAmJiBjb250cm9sbGVyRW50ZXIoZXZlbnQpO1xuICAgIGNvbnN0IGVudGVyRnJvbUNsYXNzZXMgPSBnZXRBdHRyaWJ1dGUoXCJlbnRlckZyb21cIiwgb3B0aW9ucywgZGF0YXNldCk7XG4gICAgY29uc3QgZW50ZXJBY3RpdmVDbGFzc2VzID0gZ2V0QXR0cmlidXRlKFwiZW50ZXJBY3RpdmVcIiwgb3B0aW9ucywgZGF0YXNldCk7XG4gICAgY29uc3QgZW50ZXJUb0NsYXNzZXMgPSBnZXRBdHRyaWJ1dGUoXCJlbnRlclRvXCIsIG9wdGlvbnMsIGRhdGFzZXQpO1xuICAgIGNvbnN0IGxlYXZlVG9DbGFzc2VzID0gZ2V0QXR0cmlidXRlKFwibGVhdmVUb1wiLCBvcHRpb25zLCBkYXRhc2V0KTtcbiAgICBpZiAoISFoaWRkZW5DbGFzcykge1xuICAgICAgdGFyZ2V0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGhpZGRlbkNsYXNzKTtcbiAgICB9XG4gICAgaWYgKCFyZW1vdmVUb0NsYXNzZXMpIHtcbiAgICAgIHJlbW92ZUNsYXNzZXModGFyZ2V0RWxlbWVudCwgbGVhdmVUb0NsYXNzZXMpO1xuICAgIH1cbiAgICBhd2FpdCB0cmFuc2l0aW9uKHRhcmdldEVsZW1lbnQsIGVudGVyRnJvbUNsYXNzZXMsIGVudGVyQWN0aXZlQ2xhc3NlcywgZW50ZXJUb0NsYXNzZXMsIGhpZGRlbkNsYXNzLCBwcmVzZXJ2ZU9yaWdpbmFsQ2xhc3MsIHJlbW92ZVRvQ2xhc3Nlcyk7XG4gICAgaWYgKGxlYXZlQWZ0ZXIgPiAwKSB7XG4gICAgICBzZXRUaW1lb3V0KCgoKSA9PiB7XG4gICAgICAgIGxlYXZlKGV2ZW50KTtcbiAgICAgIH0pLCBsZWF2ZUFmdGVyKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gbGVhdmUoZXZlbnQpIHtcbiAgICBpZiAoIWNvbnRyb2xsZXIudHJhbnNpdGlvbmVkKSByZXR1cm47XG4gICAgY29udHJvbGxlci50cmFuc2l0aW9uZWQgPSBmYWxzZTtcbiAgICBjb250cm9sbGVyTGVhdmUgJiYgY29udHJvbGxlckxlYXZlKGV2ZW50KTtcbiAgICBjb25zdCBsZWF2ZUZyb21DbGFzc2VzID0gZ2V0QXR0cmlidXRlKFwibGVhdmVGcm9tXCIsIG9wdGlvbnMsIGRhdGFzZXQpO1xuICAgIGNvbnN0IGxlYXZlQWN0aXZlQ2xhc3NlcyA9IGdldEF0dHJpYnV0ZShcImxlYXZlQWN0aXZlXCIsIG9wdGlvbnMsIGRhdGFzZXQpO1xuICAgIGNvbnN0IGxlYXZlVG9DbGFzc2VzID0gZ2V0QXR0cmlidXRlKFwibGVhdmVUb1wiLCBvcHRpb25zLCBkYXRhc2V0KTtcbiAgICBjb25zdCBlbnRlclRvQ2xhc3NlcyA9IGdldEF0dHJpYnV0ZShcImVudGVyVG9cIiwgb3B0aW9ucywgZGF0YXNldCk7XG4gICAgaWYgKCFyZW1vdmVUb0NsYXNzZXMpIHtcbiAgICAgIHJlbW92ZUNsYXNzZXModGFyZ2V0RWxlbWVudCwgZW50ZXJUb0NsYXNzZXMpO1xuICAgIH1cbiAgICBhd2FpdCB0cmFuc2l0aW9uKHRhcmdldEVsZW1lbnQsIGxlYXZlRnJvbUNsYXNzZXMsIGxlYXZlQWN0aXZlQ2xhc3NlcywgbGVhdmVUb0NsYXNzZXMsIGhpZGRlbkNsYXNzLCBwcmVzZXJ2ZU9yaWdpbmFsQ2xhc3MsIHJlbW92ZVRvQ2xhc3Nlcyk7XG4gICAgaWYgKCEhaGlkZGVuQ2xhc3MpIHtcbiAgICAgIHRhcmdldEVsZW1lbnQuY2xhc3NMaXN0LmFkZChoaWRkZW5DbGFzcyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHRvZ2dsZVRyYW5zaXRpb24oZXZlbnQpIHtcbiAgICBjb250cm9sbGVyVG9nZ2xlVHJhbnNpdGlvbiAmJiBjb250cm9sbGVyVG9nZ2xlVHJhbnNpdGlvbihldmVudCk7XG4gICAgaWYgKGNvbnRyb2xsZXIudHJhbnNpdGlvbmVkKSB7XG4gICAgICBsZWF2ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbnRlcigpO1xuICAgIH1cbiAgfVxuICBhc3luYyBmdW5jdGlvbiB0cmFuc2l0aW9uKGVsZW1lbnQsIGluaXRpYWxDbGFzc2VzLCBhY3RpdmVDbGFzc2VzLCBlbmRDbGFzc2VzLCBoaWRkZW5DbGFzcywgcHJlc2VydmVPcmlnaW5hbENsYXNzLCByZW1vdmVFbmRDbGFzc2VzKSB7XG4gICAgY29uc3Qgc3Rhc2hlZENsYXNzZXMgPSBbXTtcbiAgICBpZiAocHJlc2VydmVPcmlnaW5hbENsYXNzKSB7XG4gICAgICBpbml0aWFsQ2xhc3Nlcy5mb3JFYWNoKChjbHMgPT4gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xzKSAmJiBjbHMgIT09IGhpZGRlbkNsYXNzICYmIHN0YXNoZWRDbGFzc2VzLnB1c2goY2xzKSkpO1xuICAgICAgYWN0aXZlQ2xhc3Nlcy5mb3JFYWNoKChjbHMgPT4gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xzKSAmJiBjbHMgIT09IGhpZGRlbkNsYXNzICYmIHN0YXNoZWRDbGFzc2VzLnB1c2goY2xzKSkpO1xuICAgICAgZW5kQ2xhc3Nlcy5mb3JFYWNoKChjbHMgPT4gZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xzKSAmJiBjbHMgIT09IGhpZGRlbkNsYXNzICYmIHN0YXNoZWRDbGFzc2VzLnB1c2goY2xzKSkpO1xuICAgIH1cbiAgICBhZGRDbGFzc2VzKGVsZW1lbnQsIGluaXRpYWxDbGFzc2VzKTtcbiAgICByZW1vdmVDbGFzc2VzKGVsZW1lbnQsIHN0YXNoZWRDbGFzc2VzKTtcbiAgICBhZGRDbGFzc2VzKGVsZW1lbnQsIGFjdGl2ZUNsYXNzZXMpO1xuICAgIGF3YWl0IG5leHRBbmltYXRpb25GcmFtZSgpO1xuICAgIHJlbW92ZUNsYXNzZXMoZWxlbWVudCwgaW5pdGlhbENsYXNzZXMpO1xuICAgIGFkZENsYXNzZXMoZWxlbWVudCwgZW5kQ2xhc3Nlcyk7XG4gICAgYXdhaXQgYWZ0ZXJUcmFuc2l0aW9uKGVsZW1lbnQpO1xuICAgIHJlbW92ZUNsYXNzZXMoZWxlbWVudCwgYWN0aXZlQ2xhc3Nlcyk7XG4gICAgaWYgKHJlbW92ZUVuZENsYXNzZXMpIHtcbiAgICAgIHJlbW92ZUNsYXNzZXMoZWxlbWVudCwgZW5kQ2xhc3Nlcyk7XG4gICAgfVxuICAgIGFkZENsYXNzZXMoZWxlbWVudCwgc3Rhc2hlZENsYXNzZXMpO1xuICB9XG4gIGZ1bmN0aW9uIGluaXRpYWxTdGF0ZSgpIHtcbiAgICBjb250cm9sbGVyLnRyYW5zaXRpb25lZCA9IHRyYW5zaXRpb25lZDtcbiAgICBpZiAodHJhbnNpdGlvbmVkKSB7XG4gICAgICBpZiAoISFoaWRkZW5DbGFzcykge1xuICAgICAgICB0YXJnZXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoaGlkZGVuQ2xhc3MpO1xuICAgICAgfVxuICAgICAgZW50ZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCEhaGlkZGVuQ2xhc3MpIHtcbiAgICAgICAgdGFyZ2V0RWxlbWVudC5jbGFzc0xpc3QuYWRkKGhpZGRlbkNsYXNzKTtcbiAgICAgIH1cbiAgICAgIGxlYXZlKCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGFkZENsYXNzZXMoZWxlbWVudCwgY2xhc3Nlcykge1xuICAgIGlmIChjbGFzc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3NlcyhlbGVtZW50LCBjbGFzc2VzKSB7XG4gICAgaWYgKGNsYXNzZXMubGVuZ3RoID4gMCkge1xuICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKC4uLmNsYXNzZXMpO1xuICAgIH1cbiAgfVxuICBpbml0aWFsU3RhdGUoKTtcbiAgT2JqZWN0LmFzc2lnbihjb250cm9sbGVyLCB7XG4gICAgZW50ZXI6IGVudGVyLFxuICAgIGxlYXZlOiBsZWF2ZSxcbiAgICB0b2dnbGVUcmFuc2l0aW9uOiB0b2dnbGVUcmFuc2l0aW9uXG4gIH0pO1xuICByZXR1cm4gWyBlbnRlciwgbGVhdmUsIHRvZ2dsZVRyYW5zaXRpb24gXTtcbn07XG5cbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZShuYW1lLCBvcHRpb25zLCBkYXRhc2V0KSB7XG4gIGNvbnN0IGRhdGFzZXROYW1lID0gYHRyYW5zaXRpb24ke25hbWVbMF0udG9VcHBlckNhc2UoKX0ke25hbWUuc3Vic3RyKDEpfWA7XG4gIGNvbnN0IGRhdGFzZXRBbHBpbmVOYW1lID0gYWxwaW5lTmFtZXNbbmFtZV07XG4gIGNvbnN0IGNsYXNzZXMgPSBvcHRpb25zW25hbWVdIHx8IGRhdGFzZXRbZGF0YXNldE5hbWVdIHx8IGRhdGFzZXRbZGF0YXNldEFscGluZU5hbWVdIHx8IFwiIFwiO1xuICByZXR1cm4gaXNFbXB0eShjbGFzc2VzKSA/IFtdIDogY2xhc3Nlcy5zcGxpdChcIiBcIik7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGFmdGVyVHJhbnNpdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSA9PiB7XG4gICAgY29uc3QgZHVyYXRpb24gPSBOdW1iZXIoZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS50cmFuc2l0aW9uRHVyYXRpb24uc3BsaXQoXCIsXCIpWzBdLnJlcGxhY2UoXCJzXCIsIFwiXCIpKSAqIDFlMztcbiAgICBzZXRUaW1lb3V0KCgoKSA9PiB7XG4gICAgICByZXNvbHZlKGR1cmF0aW9uKTtcbiAgICB9KSwgZHVyYXRpb24pO1xuICB9KSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIG5leHRBbmltYXRpb25GcmFtZSgpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlID0+IHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpID0+IHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZXNvbHZlKTtcbiAgICB9KSk7XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gaXNFbXB0eShzdHIpIHtcbiAgcmV0dXJuIHN0ci5sZW5ndGggPT09IDAgfHwgIXN0ci50cmltKCk7XG59XG5cbmNsYXNzIFRyYW5zaXRpb25Db21wb3NhYmxlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMudHJhbnNpdGlvbmVkID0gZmFsc2U7XG4gIH1cbn1cblxuY2xhc3MgVHJhbnNpdGlvbkNvbnRyb2xsZXIgZXh0ZW5kcyBUcmFuc2l0aW9uQ29tcG9zYWJsZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgc3VwZXIoY29udGV4dCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKSA9PiB7XG4gICAgICB1c2VUcmFuc2l0aW9uKHRoaXMsIHRoaXMub3B0aW9ucyk7XG4gICAgfSkpO1xuICB9XG59XG5cbmNsYXNzIFVzZVZpc2liaWxpdHkgZXh0ZW5kcyBTdGltdWx1c1VzZSB7XG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICAgIHRoaXMub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICAgIHRoaXMuY29udHJvbGxlci5pc1Zpc2libGUgPSAhZG9jdW1lbnQuaGlkZGVuO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdGhpcy5oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICAgIHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSgpO1xuICAgIH07XG4gICAgdGhpcy51bm9ic2VydmUgPSAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB0aGlzLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xuICAgIH07XG4gICAgdGhpcy5iZWNvbWVzSW52aXNpYmxlID0gZXZlbnQgPT4ge1xuICAgICAgdGhpcy5jb250cm9sbGVyLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgdGhpcy5jYWxsKFwiaW52aXNpYmxlXCIsIGV2ZW50KTtcbiAgICAgIHRoaXMubG9nKFwiaW52aXNpYmxlXCIsIHtcbiAgICAgICAgaXNWaXNpYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKFwiaW52aXNpYmxlXCIsIHtcbiAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICBpc1Zpc2libGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuYmVjb21lc1Zpc2libGUgPSBldmVudCA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xsZXIuaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgIHRoaXMuY2FsbChcInZpc2libGVcIiwgZXZlbnQpO1xuICAgICAgdGhpcy5sb2coXCJ2aXNpYmxlXCIsIHtcbiAgICAgICAgaXNWaXNpYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goXCJ2aXNpYmxlXCIsIHtcbiAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICBpc1Zpc2libGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlID0gZXZlbnQgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICB0aGlzLmJlY29tZXNJbnZpc2libGUoZXZlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5iZWNvbWVzVmlzaWJsZShldmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIHRoaXMuZW5oYW5jZUNvbnRyb2xsZXIoKTtcbiAgICB0aGlzLm9ic2VydmUoKTtcbiAgfVxuICBlbmhhbmNlQ29udHJvbGxlcigpIHtcbiAgICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IHRoaXMuY29udHJvbGxlckRpc2Nvbm5lY3Q7XG4gICAgY29uc3QgZGlzY29ubmVjdCA9ICgpID0+IHtcbiAgICAgIHRoaXMudW5vYnNlcnZlKCk7XG4gICAgICBjb250cm9sbGVyRGlzY29ubmVjdCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLmNvbnRyb2xsZXIsIHtcbiAgICAgIGRpc2Nvbm5lY3Q6IGRpc2Nvbm5lY3RcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCB1c2VWaXNpYmlsaXR5ID0gKGNvbXBvc2FibGVDb250cm9sbGVyLCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgY29udHJvbGxlciA9IGNvbXBvc2FibGVDb250cm9sbGVyO1xuICBjb25zdCBvYnNlcnZlciA9IG5ldyBVc2VWaXNpYmlsaXR5KGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICByZXR1cm4gWyBvYnNlcnZlci5vYnNlcnZlLCBvYnNlcnZlci51bm9ic2VydmUgXTtcbn07XG5cbmNsYXNzIFZpc2liaWxpdHlDb21wb3NhYmxlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuaXNWaXNpYmxlID0gZmFsc2U7XG4gIH1cbn1cblxuY2xhc3MgVmlzaWJpbGl0eUNvbnRyb2xsZXIgZXh0ZW5kcyBWaXNpYmlsaXR5Q29tcG9zYWJsZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgc3VwZXIoY29udGV4dCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKSA9PiB7XG4gICAgICBjb25zdCBbb2JzZXJ2ZSwgdW5vYnNlcnZlXSA9IHVzZVZpc2liaWxpdHkodGhpcywgdGhpcy5vcHRpb25zKTtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywge1xuICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICB1bm9ic2VydmU6IHVub2JzZXJ2ZVxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9XG59XG5cbmNsYXNzIFVzZVdpbmRvd0ZvY3VzIGV4dGVuZHMgU3RpbXVsdXNVc2Uge1xuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyLCBvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihjb250cm9sbGVyLCBvcHRpb25zKTtcbiAgICB0aGlzLm9ic2VydmUgPSAoKSA9PiB7XG4gICAgICBpZiAoZG9jdW1lbnQuaGFzRm9jdXMoKSkge1xuICAgICAgICB0aGlzLmJlY29tZXNGb2N1c2VkKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmJlY29tZXNVbmZvY3VzZWQoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKCkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZVdpbmRvd0ZvY3VzQ2hhbmdlKCk7XG4gICAgICB9KSwgdGhpcy5pbnRlcnZhbER1cmF0aW9uKTtcbiAgICB9O1xuICAgIHRoaXMudW5vYnNlcnZlID0gKCkgPT4ge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcbiAgICB9O1xuICAgIHRoaXMuYmVjb21lc1VuZm9jdXNlZCA9IGV2ZW50ID0+IHtcbiAgICAgIHRoaXMuY29udHJvbGxlci5oYXNGb2N1cyA9IGZhbHNlO1xuICAgICAgdGhpcy5jYWxsKFwidW5mb2N1c1wiLCBldmVudCk7XG4gICAgICB0aGlzLmxvZyhcInVuZm9jdXNcIiwge1xuICAgICAgICBoYXNGb2N1czogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kaXNwYXRjaChcInVuZm9jdXNcIiwge1xuICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgIGhhc0ZvY3VzOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLmJlY29tZXNGb2N1c2VkID0gZXZlbnQgPT4ge1xuICAgICAgdGhpcy5jb250cm9sbGVyLmhhc0ZvY3VzID0gdHJ1ZTtcbiAgICAgIHRoaXMuY2FsbChcImZvY3VzXCIsIGV2ZW50KTtcbiAgICAgIHRoaXMubG9nKFwiZm9jdXNcIiwge1xuICAgICAgICBoYXNGb2N1czogdHJ1ZVxuICAgICAgfSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKFwiZm9jdXNcIiwge1xuICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgIGhhc0ZvY3VzOiB0cnVlXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuaGFuZGxlV2luZG93Rm9jdXNDaGFuZ2UgPSBldmVudCA9PiB7XG4gICAgICBpZiAoZG9jdW1lbnQuaGFzRm9jdXMoKSAmJiAhdGhpcy5jb250cm9sbGVyLmhhc0ZvY3VzKSB7XG4gICAgICAgIHRoaXMuYmVjb21lc0ZvY3VzZWQoZXZlbnQpO1xuICAgICAgfSBlbHNlIGlmICghZG9jdW1lbnQuaGFzRm9jdXMoKSAmJiB0aGlzLmNvbnRyb2xsZXIuaGFzRm9jdXMpIHtcbiAgICAgICAgdGhpcy5iZWNvbWVzVW5mb2N1c2VkKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgdGhpcy5pbnRlcnZhbER1cmF0aW9uID0gb3B0aW9ucy5pbnRlcnZhbCB8fCAyMDA7XG4gICAgdGhpcy5lbmhhbmNlQ29udHJvbGxlcigpO1xuICAgIHRoaXMub2JzZXJ2ZSgpO1xuICB9XG4gIGVuaGFuY2VDb250cm9sbGVyKCkge1xuICAgIGNvbnN0IGNvbnRyb2xsZXJEaXNjb25uZWN0ID0gdGhpcy5jb250cm9sbGVyRGlzY29ubmVjdDtcbiAgICBjb25zdCBkaXNjb25uZWN0ID0gKCkgPT4ge1xuICAgICAgdGhpcy51bm9ic2VydmUoKTtcbiAgICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMuY29udHJvbGxlciwge1xuICAgICAgZGlzY29ubmVjdDogZGlzY29ubmVjdFxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IHVzZVdpbmRvd0ZvY3VzID0gKGNvbXBvc2FibGVDb250cm9sbGVyLCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgY29udHJvbGxlciA9IGNvbXBvc2FibGVDb250cm9sbGVyO1xuICBjb25zdCBvYnNlcnZlciA9IG5ldyBVc2VXaW5kb3dGb2N1cyhjb250cm9sbGVyLCBvcHRpb25zKTtcbiAgcmV0dXJuIFsgb2JzZXJ2ZXIub2JzZXJ2ZSwgb2JzZXJ2ZXIudW5vYnNlcnZlIF07XG59O1xuXG5jbGFzcyBXaW5kb3dGb2N1c0NvbXBvc2FibGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5oYXNGb2N1cyA9IGZhbHNlO1xuICB9XG59XG5cbmNsYXNzIFdpbmRvd0ZvY3VzQ29udHJvbGxlciBleHRlbmRzIFdpbmRvd0ZvY3VzQ29tcG9zYWJsZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgc3VwZXIoY29udGV4dCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKSA9PiB7XG4gICAgICBjb25zdCBbb2JzZXJ2ZSwgdW5vYnNlcnZlXSA9IHVzZVdpbmRvd0ZvY3VzKHRoaXMsIHRoaXMub3B0aW9ucyk7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgdW5vYnNlcnZlOiB1bm9ic2VydmVcbiAgICAgIH0pO1xuICAgIH0pKTtcbiAgfVxufVxuXG5jb25zdCB1c2VXaW5kb3dSZXNpemUgPSBjb21wb3NhYmxlQ29udHJvbGxlciA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3QgY2FsbGJhY2sgPSBldmVudCA9PiB7XG4gICAgY29uc3Qge2lubmVyV2lkdGg6IGlubmVyV2lkdGgsIGlubmVySGVpZ2h0OiBpbm5lckhlaWdodH0gPSB3aW5kb3c7XG4gICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgIGhlaWdodDogaW5uZXJIZWlnaHQgfHwgSW5maW5pdHksXG4gICAgICB3aWR0aDogaW5uZXJXaWR0aCB8fCBJbmZpbml0eSxcbiAgICAgIGV2ZW50OiBldmVudFxuICAgIH07XG4gICAgbWV0aG9kKGNvbnRyb2xsZXIsIFwid2luZG93UmVzaXplXCIpLmNhbGwoY29udHJvbGxlciwgcGF5bG9hZCk7XG4gIH07XG4gIGNvbnN0IGNvbnRyb2xsZXJEaXNjb25uZWN0ID0gY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQoY29udHJvbGxlcik7XG4gIGNvbnN0IG9ic2VydmUgPSAoKSA9PiB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgY2FsbGJhY2spO1xuICAgIGNhbGxiYWNrKCk7XG4gIH07XG4gIGNvbnN0IHVub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBjYWxsYmFjayk7XG4gIH07XG4gIE9iamVjdC5hc3NpZ24oY29udHJvbGxlciwge1xuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICB1bm9ic2VydmUoKTtcbiAgICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gICAgfVxuICB9KTtcbiAgb2JzZXJ2ZSgpO1xuICByZXR1cm4gWyBvYnNlcnZlLCB1bm9ic2VydmUgXTtcbn07XG5cbmNsYXNzIFdpbmRvd1Jlc2l6ZUNvbXBvc2FibGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7fVxuXG5jbGFzcyBXaW5kb3dSZXNpemVDb250cm9sbGVyIGV4dGVuZHMgV2luZG93UmVzaXplQ29tcG9zYWJsZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgc3VwZXIoY29udGV4dCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKSA9PiB7XG4gICAgICBjb25zdCBbb2JzZXJ2ZSwgdW5vYnNlcnZlXSA9IHVzZVdpbmRvd1Jlc2l6ZSh0aGlzKTtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywge1xuICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICB1bm9ic2VydmU6IHVub2JzZXJ2ZVxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUhvdGtleXMoKSB7XG4gIHRocm93IFwiW3N0aW11bHVzLXVzZV0gTm90aWNlOiBUaGUgaW1wb3J0IGZvciBgdXNlSG90a2V5cygpYCBoYXMgYmVlbiBtb3ZlZCBmcm9tIGBzdGltdWx1cy11c2VgIHRvIGBzdGltdWx1cy11c2UvaG90a2V5c2AuIFxcblBsZWFzZSBjaGFuZ2UgdGhlIGltcG9ydCBhY2NvcmRpbmdseSBhbmQgYWRkIGBob3RrZXktanNgIGFzIGEgZGVwZW5kZW5jeSB0byB5b3VyIHByb2plY3QuIFxcblxcbkZvciBtb3JlIGluZm9ybWF0aW9uIHNlZTogaHR0cHM6Ly9zdGltdWx1cy11c2UuZ2l0aHViLmlvL3N0aW11bHVzLXVzZS8jL3VzZS1ob3RrZXlzP2lkPWltcG9ydGluZy10aGUtYmVoYXZpb3JcIjtcbn1cblxuZXhwb3J0IHsgQXBwbGljYXRpb25Db250cm9sbGVyLCBDbGlja091dHNpZGVDb250cm9sbGVyLCBIb3ZlckNvbnRyb2xsZXIsIElkbGVDb250cm9sbGVyLCBJbnRlcnNlY3Rpb25Db250cm9sbGVyLCBMYXp5TG9hZENvbnRyb2xsZXIsIE11dGF0aW9uQ29udHJvbGxlciwgUmVzaXplQ29udHJvbGxlciwgVGFyZ2V0TXV0YXRpb25Db250cm9sbGVyLCBUcmFuc2l0aW9uQ29udHJvbGxlciwgVXNlSG92ZXIsIFVzZU11dGF0aW9uLCBVc2VUYXJnZXRNdXRhdGlvbiwgVXNlVmlzaWJpbGl0eSwgVXNlV2luZG93Rm9jdXMsIFZpc2liaWxpdHlDb250cm9sbGVyLCBXaW5kb3dGb2N1c0NvbnRyb2xsZXIsIFdpbmRvd1Jlc2l6ZUNvbnRyb2xsZXIsIGRlYm91bmNlLCB1c2VBcHBsaWNhdGlvbiwgdXNlQ2xpY2tPdXRzaWRlLCB1c2VEZWJvdW5jZSwgdXNlRGlzcGF0Y2gsIHVzZUhvdGtleXMsIHVzZUhvdmVyLCB1c2VJZGxlLCB1c2VJbnRlcnNlY3Rpb24sIHVzZUxhenlMb2FkLCB1c2VNYXRjaE1lZGlhLCB1c2VNZW1vLCB1c2VNZXRhLCB1c2VNdXRhdGlvbiwgdXNlUmVzaXplLCB1c2VUYXJnZXRNdXRhdGlvbiwgdXNlVGhyb3R0bGUsIHVzZVRyYW5zaXRpb24sIHVzZVZpc2liaWxpdHksIHVzZVdpbmRvd0ZvY3VzLCB1c2VXaW5kb3dSZXNpemUgfTtcbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJzdGltdWx1c1wiO1xuLy9cbi8vIGV4cG9ydCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vL1xuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwic3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy9cbi8vICAgZGlzY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gfVxuIiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4vLyBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcInN0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4vLyAgIGNvbm5lY3QoKSB7XG4vLyAgIH1cbi8vXG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJzdGltdWx1c1wiO1xuLy9cbi8vIGV4cG9ydCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vL1xuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwic3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy9cbi8vICAgZGlzY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gfVxuIiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvdWlfY2FsZW5kYXJfY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuaW1wb3J0IHsgZm9ybWF0LCBhZGRNb250aHMsIHN0YXJ0T2ZNb250aCwgZW5kT2ZNb250aCwgZWFjaERheU9mSW50ZXJ2YWwsIGlzU2FtZU1vbnRoLCBpc1RvZGF5LCBpc1NhbWVEYXksIHN0YXJ0T2ZXZWVrLCBlbmRPZldlZWsgfSBmcm9tIFwiZGF0ZS1mbnNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcInRpdGxlXCIsIFwiY2FsZW5kYXJcIiwgXCJkYXlUZW1wbGF0ZVwiLCBcImlucHV0XCJdXG4gIHN0YXRpYyB2YWx1ZXMgPSB7XG4gICAgZm9ybWF0OiBTdHJpbmcsXG4gICAgdmlld0RhdGU6IFN0cmluZyxcbiAgICBzZWxlY3RlZERhdGU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBudWxsIH0sXG4gICAgaW5wdXRJZDogU3RyaW5nXG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIHRoaXMudmlld0RhdGUgPSBuZXcgRGF0ZSh0aGlzLnZpZXdEYXRlVmFsdWUpXG4gICAgdGhpcy5zZWxlY3RlZERhdGUgPSB0aGlzLnNlbGVjdGVkRGF0ZVZhbHVlID8gbmV3IERhdGUodGhpcy5zZWxlY3RlZERhdGVWYWx1ZSkgOiBudWxsXG4gICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpXG4gIH1cblxuICByZW5kZXJDYWxlbmRhcigpIHtcbiAgICB0aGlzLnRpdGxlVGFyZ2V0LnRleHRDb250ZW50ID0gZm9ybWF0KHRoaXMudmlld0RhdGUsIFwiTU1NTSB5eXl5XCIpXG4gICAgY29uc3Qgc3RhcnQgPSBzdGFydE9mV2VlayhzdGFydE9mTW9udGgodGhpcy52aWV3RGF0ZSkpXG4gICAgY29uc3QgZW5kID0gZW5kT2ZXZWVrKGVuZE9mTW9udGgodGhpcy52aWV3RGF0ZSkpXG4gICAgY29uc3QgZGF5cyA9IGVhY2hEYXlPZkludGVydmFsKHsgc3RhcnQsIGVuZCB9KVxuXG4gICAgY29uc3QgY2FsZW5kYXJDb250YWluZXIgPSB0aGlzLmNhbGVuZGFyVGFyZ2V0XG4gICAgLy8gQ2xlYXIgZXhpc3RpbmcgZGF5IGVsZW1lbnRzLCBidXQga2VlcCB0aGUgd2Vla2RheSBoZWFkZXJzXG4gICAgY29uc3Qgd2Vla2RheUhlYWRlcnMgPSBjYWxlbmRhckNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdkaXY6bnRoLWNoaWxkKC1uKzcpJylcbiAgICBjYWxlbmRhckNvbnRhaW5lci5pbm5lckhUTUwgPSAnJ1xuICAgIHdlZWtkYXlIZWFkZXJzLmZvckVhY2goaGVhZGVyID0+IGNhbGVuZGFyQ29udGFpbmVyLmFwcGVuZENoaWxkKGhlYWRlcikpXG5cbiAgICBkYXlzLmZvckVhY2goZGF5ID0+IHtcbiAgICAgIGNvbnN0IGRheUVsZW1lbnQgPSB0aGlzLmNyZWF0ZURheUVsZW1lbnQoZGF5KVxuICAgICAgY2FsZW5kYXJDb250YWluZXIuYXBwZW5kQ2hpbGQoZGF5RWxlbWVudClcbiAgICB9KVxuXG4gICAgdGhpcy51cGRhdGVJbnB1dCgpXG4gIH1cblxuICBjcmVhdGVEYXlFbGVtZW50KGRheSkge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5kYXlUZW1wbGF0ZVRhcmdldC5jb250ZW50LmNsb25lTm9kZSh0cnVlKVxuICAgIGNvbnN0IGJ1dHRvbiA9IHRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoXCJidXR0b25cIilcbiAgICBcbiAgICBidXR0b24udGV4dENvbnRlbnQgPSBmb3JtYXQoZGF5LCBcImRcIilcbiAgICBidXR0b24uZGF0YXNldC5kYXkgPSBkYXkudG9JU09TdHJpbmcoKVxuXG4gICAgbGV0IGJ1dHRvbkNsYXNzID0gXCJob3ZlcjpiZy1hY2NlbnQgaG92ZXI6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZFwiXG4gICAgXG4gICAgaWYgKCFpc1NhbWVNb250aChkYXksIHRoaXMudmlld0RhdGUpKSB7XG4gICAgICBidXR0b25DbGFzcyArPSBcIiB0ZXh0LW11dGVkLWZvcmVncm91bmRcIlxuICAgIH0gZWxzZSBpZiAoaXNUb2RheShkYXkpKSB7XG4gICAgICBidXR0b25DbGFzcyArPSBcIiBiZy1hY2NlbnQgdGV4dC1hY2NlbnQtZm9yZWdyb3VuZFwiXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2VsZWN0ZWREYXRlICYmIGlzU2FtZURheShkYXksIHRoaXMuc2VsZWN0ZWREYXRlKSkge1xuICAgICAgYnV0dG9uQ2xhc3MgKz0gXCIgYmctcHJpbWFyeSB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZFwiXG4gICAgfVxuXG4gICAgYnV0dG9uLmNsYXNzTmFtZSA9IGJ1dHRvbi5jbGFzc05hbWUucmVwbGFjZShcInt7YnV0dG9uQ2xhc3N9fVwiLCBidXR0b25DbGFzcylcbiAgICBcbiAgICByZXR1cm4gdGVtcGxhdGVcbiAgfVxuXG4gIHByZXZNb250aCgpIHtcbiAgICB0aGlzLnZpZXdEYXRlID0gYWRkTW9udGhzKHRoaXMudmlld0RhdGUsIC0xKVxuICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoKVxuICB9XG5cbiAgbmV4dE1vbnRoKCkge1xuICAgIHRoaXMudmlld0RhdGUgPSBhZGRNb250aHModGhpcy52aWV3RGF0ZSwgMSlcbiAgICB0aGlzLnJlbmRlckNhbGVuZGFyKClcbiAgfVxuXG4gIHNlbGVjdERheShldmVudCkge1xuICAgIGNvbnN0IHNlbGVjdGVkRGF5ID0gbmV3IERhdGUoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmRheSlcbiAgICB0aGlzLnNlbGVjdGVkRGF0ZSA9IHNlbGVjdGVkRGF5XG4gICAgdGhpcy5zZWxlY3RlZERhdGVWYWx1ZSA9IHNlbGVjdGVkRGF5LnRvSVNPU3RyaW5nKClcbiAgICB0aGlzLnJlbmRlckNhbGVuZGFyKClcbiAgfVxuXG4gIHVwZGF0ZUlucHV0KCkge1xuICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaW5wdXRJZFZhbHVlKVxuICAgIGlmIChpbnB1dEVsZW1lbnQgJiYgdGhpcy5zZWxlY3RlZERhdGUpIHtcbiAgICAgIGlucHV0RWxlbWVudC52YWx1ZSA9IGZvcm1hdCh0aGlzLnNlbGVjdGVkRGF0ZSwgdGhpcy5mb3JtYXRWYWx1ZSlcbiAgICB9XG4gIH1cbn0iLCAiLyoqXG4gKiBAbmFtZSB0b0RhdGVcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgQ29udmVydCB0aGUgZ2l2ZW4gYXJndW1lbnQgdG8gYW4gaW5zdGFuY2Ugb2YgRGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGFuIGluc3RhbmNlIG9mIERhdGUsIHRoZSBmdW5jdGlvbiByZXR1cm5zIGl0cyBjbG9uZS5cbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXMgYSBudW1iZXIsIGl0IGlzIHRyZWF0ZWQgYXMgYSB0aW1lc3RhbXAuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIG5vbmUgb2YgdGhlIGFib3ZlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBJbnZhbGlkIERhdGUuXG4gKlxuICogKipOb3RlKio6ICphbGwqIERhdGUgYXJndW1lbnRzIHBhc3NlZCB0byBhbnkgKmRhdGUtZm5zKiBmdW5jdGlvbiBpcyBwcm9jZXNzZWQgYnkgYHRvRGF0ZWAuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGFyZ3VtZW50IC0gVGhlIHZhbHVlIHRvIGNvbnZlcnRcbiAqXG4gKiBAcmV0dXJucyBUaGUgcGFyc2VkIGRhdGUgaW4gdGhlIGxvY2FsIHRpbWUgem9uZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDbG9uZSB0aGUgZGF0ZTpcbiAqIGNvbnN0IHJlc3VsdCA9IHRvRGF0ZShuZXcgRGF0ZSgyMDE0LCAxLCAxMSwgMTEsIDMwLCAzMCkpXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDb252ZXJ0IHRoZSB0aW1lc3RhbXAgdG8gZGF0ZTpcbiAqIGNvbnN0IHJlc3VsdCA9IHRvRGF0ZSgxMzkyMDk4NDMwMDAwKVxuICogLy89PiBUdWUgRmViIDExIDIwMTQgMTE6MzA6MzBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRGF0ZShhcmd1bWVudCkge1xuICBjb25zdCBhcmdTdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnQpO1xuXG4gIC8vIENsb25lIHRoZSBkYXRlXG4gIGlmIChcbiAgICBhcmd1bWVudCBpbnN0YW5jZW9mIERhdGUgfHxcbiAgICAodHlwZW9mIGFyZ3VtZW50ID09PSBcIm9iamVjdFwiICYmIGFyZ1N0ciA9PT0gXCJbb2JqZWN0IERhdGVdXCIpXG4gICkge1xuICAgIC8vIFByZXZlbnQgdGhlIGRhdGUgdG8gbG9zZSB0aGUgbWlsbGlzZWNvbmRzIHdoZW4gcGFzc2VkIHRvIG5ldyBEYXRlKCkgaW4gSUUxMFxuICAgIHJldHVybiBuZXcgYXJndW1lbnQuY29uc3RydWN0b3IoK2FyZ3VtZW50KTtcbiAgfSBlbHNlIGlmIChcbiAgICB0eXBlb2YgYXJndW1lbnQgPT09IFwibnVtYmVyXCIgfHxcbiAgICBhcmdTdHIgPT09IFwiW29iamVjdCBOdW1iZXJdXCIgfHxcbiAgICB0eXBlb2YgYXJndW1lbnQgPT09IFwic3RyaW5nXCIgfHxcbiAgICBhcmdTdHIgPT09IFwiW29iamVjdCBTdHJpbmddXCJcbiAgKSB7XG4gICAgLy8gVE9ETzogQ2FuIHdlIGdldCByaWQgb2YgYXM/XG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBUT0RPOiBDYW4gd2UgZ2V0IHJpZCBvZiBhcz9cbiAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgfVxufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IHRvRGF0ZTtcbiIsICIvKipcbiAqIEBuYW1lIGNvbnN0cnVjdEZyb21cbiAqIEBjYXRlZ29yeSBHZW5lcmljIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IENvbnN0cnVjdHMgYSBkYXRlIHVzaW5nIHRoZSByZWZlcmVuY2UgZGF0ZSBhbmQgdGhlIHZhbHVlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgZnVuY3Rpb24gY29uc3RydWN0cyBhIG5ldyBkYXRlIHVzaW5nIHRoZSBjb25zdHJ1Y3RvciBmcm9tIHRoZSByZWZlcmVuY2VcbiAqIGRhdGUgYW5kIHRoZSBnaXZlbiB2YWx1ZS4gSXQgaGVscHMgdG8gYnVpbGQgZ2VuZXJpYyBmdW5jdGlvbnMgdGhhdCBhY2NlcHRcbiAqIGRhdGUgZXh0ZW5zaW9ucy5cbiAqXG4gKiBJdCBkZWZhdWx0cyB0byBgRGF0ZWAgaWYgdGhlIHBhc3NlZCByZWZlcmVuY2UgZGF0ZSBpcyBhIG51bWJlciBvciBhIHN0cmluZy5cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSByZWZlcmVuY2UgZGF0ZSB0byB0YWtlIGNvbnN0cnVjdG9yIGZyb21cbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjcmVhdGUgdGhlIGRhdGVcbiAqXG4gKiBAcmV0dXJucyBEYXRlIGluaXRpYWxpemVkIHVzaW5nIHRoZSBnaXZlbiBkYXRlIGFuZCB2YWx1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBjb25zdHJ1Y3RGcm9tIH0gZnJvbSAnZGF0ZS1mbnMnXG4gKlxuICogLy8gQSBmdW5jdGlvbiB0aGF0IGNsb25lcyBhIGRhdGUgcHJlc2VydmluZyB0aGUgb3JpZ2luYWwgdHlwZVxuICogZnVuY3Rpb24gY2xvbmVEYXRlPERhdGVUeXBlIGV4dGVuZHMgRGF0ZShkYXRlOiBEYXRlVHlwZSk6IERhdGVUeXBlIHtcbiAqICAgcmV0dXJuIGNvbnN0cnVjdEZyb20oXG4gKiAgICAgZGF0ZSwgLy8gVXNlIGNvbnRydXN0b3IgZnJvbSB0aGUgZ2l2ZW4gZGF0ZVxuICogICAgIGRhdGUuZ2V0VGltZSgpIC8vIFVzZSB0aGUgZGF0ZSB2YWx1ZSB0byBjcmVhdGUgYSBuZXcgZGF0ZVxuICogICApXG4gKiB9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25zdHJ1Y3RGcm9tKGRhdGUsIHZhbHVlKSB7XG4gIGlmIChkYXRlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIHJldHVybiBuZXcgZGF0ZS5jb25zdHJ1Y3Rvcih2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlKTtcbiAgfVxufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGNvbnN0cnVjdEZyb207XG4iLCAiaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuaW1wb3J0IHsgY29uc3RydWN0RnJvbSB9IGZyb20gXCIuL2NvbnN0cnVjdEZyb20ubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgYWRkTW9udGhzXG4gKiBAY2F0ZWdvcnkgTW9udGggSGVscGVyc1xuICogQHN1bW1hcnkgQWRkIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIG1vbnRocyB0byB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFkZCB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBtb250aHMgdG8gdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgZGF0ZSB0byBiZSBjaGFuZ2VkXG4gKiBAcGFyYW0gYW1vdW50IC0gVGhlIGFtb3VudCBvZiBtb250aHMgdG8gYmUgYWRkZWQuXG4gKlxuICogQHJldHVybnMgVGhlIG5ldyBkYXRlIHdpdGggdGhlIG1vbnRocyBhZGRlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBZGQgNSBtb250aHMgdG8gMSBTZXB0ZW1iZXIgMjAxNDpcbiAqIGNvbnN0IHJlc3VsdCA9IGFkZE1vbnRocyhuZXcgRGF0ZSgyMDE0LCA4LCAxKSwgNSlcbiAqIC8vPT4gU3VuIEZlYiAwMSAyMDE1IDAwOjAwOjAwXG4gKlxuICogLy8gQWRkIG9uZSBtb250aCB0byAzMCBKYW51YXJ5IDIwMjM6XG4gKiBjb25zdCByZXN1bHQgPSBhZGRNb250aHMobmV3IERhdGUoMjAyMywgMCwgMzApLCAxKVxuICogLy89PiBUdWUgRmViIDI4IDIwMjMgMDA6MDA6MDBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZE1vbnRocyhkYXRlLCBhbW91bnQpIHtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIGlmIChpc05hTihhbW91bnQpKSByZXR1cm4gY29uc3RydWN0RnJvbShkYXRlLCBOYU4pO1xuICBpZiAoIWFtb3VudCkge1xuICAgIC8vIElmIDAgbW9udGhzLCBuby1vcCB0byBhdm9pZCBjaGFuZ2luZyB0aW1lcyBpbiB0aGUgaG91ciBiZWZvcmUgZW5kIG9mIERTVFxuICAgIHJldHVybiBfZGF0ZTtcbiAgfVxuICBjb25zdCBkYXlPZk1vbnRoID0gX2RhdGUuZ2V0RGF0ZSgpO1xuXG4gIC8vIFRoZSBKUyBEYXRlIG9iamVjdCBzdXBwb3J0cyBkYXRlIG1hdGggYnkgYWNjZXB0aW5nIG91dC1vZi1ib3VuZHMgdmFsdWVzIGZvclxuICAvLyBtb250aCwgZGF5LCBldGMuIEZvciBleGFtcGxlLCBuZXcgRGF0ZSgyMDIwLCAwLCAwKSByZXR1cm5zIDMxIERlYyAyMDE5IGFuZFxuICAvLyBuZXcgRGF0ZSgyMDIwLCAxMywgMSkgcmV0dXJucyAxIEZlYiAyMDIxLiAgVGhpcyBpcyAqYWxtb3N0KiB0aGUgYmVoYXZpb3Igd2VcbiAgLy8gd2FudCBleGNlcHQgdGhhdCBkYXRlcyB3aWxsIHdyYXAgYXJvdW5kIHRoZSBlbmQgb2YgYSBtb250aCwgbWVhbmluZyB0aGF0XG4gIC8vIG5ldyBEYXRlKDIwMjAsIDEzLCAzMSkgd2lsbCByZXR1cm4gMyBNYXIgMjAyMSBub3QgMjggRmViIDIwMjEgYXMgZGVzaXJlZC4gU29cbiAgLy8gd2UnbGwgZGVmYXVsdCB0byB0aGUgZW5kIG9mIHRoZSBkZXNpcmVkIG1vbnRoIGJ5IGFkZGluZyAxIHRvIHRoZSBkZXNpcmVkXG4gIC8vIG1vbnRoIGFuZCB1c2luZyBhIGRhdGUgb2YgMCB0byBiYWNrIHVwIG9uZSBkYXkgdG8gdGhlIGVuZCBvZiB0aGUgZGVzaXJlZFxuICAvLyBtb250aC5cbiAgY29uc3QgZW5kT2ZEZXNpcmVkTW9udGggPSBjb25zdHJ1Y3RGcm9tKGRhdGUsIF9kYXRlLmdldFRpbWUoKSk7XG4gIGVuZE9mRGVzaXJlZE1vbnRoLnNldE1vbnRoKF9kYXRlLmdldE1vbnRoKCkgKyBhbW91bnQgKyAxLCAwKTtcbiAgY29uc3QgZGF5c0luTW9udGggPSBlbmRPZkRlc2lyZWRNb250aC5nZXREYXRlKCk7XG4gIGlmIChkYXlPZk1vbnRoID49IGRheXNJbk1vbnRoKSB7XG4gICAgLy8gSWYgd2UncmUgYWxyZWFkeSBhdCB0aGUgZW5kIG9mIHRoZSBtb250aCwgdGhlbiB0aGlzIGlzIHRoZSBjb3JyZWN0IGRhdGVcbiAgICAvLyBhbmQgd2UncmUgZG9uZS5cbiAgICByZXR1cm4gZW5kT2ZEZXNpcmVkTW9udGg7XG4gIH0gZWxzZSB7XG4gICAgLy8gT3RoZXJ3aXNlLCB3ZSBub3cga25vdyB0aGF0IHNldHRpbmcgdGhlIG9yaWdpbmFsIGRheS1vZi1tb250aCB2YWx1ZSB3b24ndFxuICAgIC8vIGNhdXNlIGFuIG92ZXJmbG93LCBzbyBzZXQgdGhlIGRlc2lyZWQgZGF5LW9mLW1vbnRoLiBOb3RlIHRoYXQgd2UgY2FuJ3RcbiAgICAvLyBqdXN0IHNldCB0aGUgZGF0ZSBvZiBgZW5kT2ZEZXNpcmVkTW9udGhgIGJlY2F1c2UgdGhhdCBvYmplY3QgbWF5IGhhdmUgaGFkXG4gICAgLy8gaXRzIHRpbWUgY2hhbmdlZCBpbiB0aGUgdW51c3VhbCBjYXNlIHdoZXJlIHdoZXJlIGEgRFNUIHRyYW5zaXRpb24gd2FzIG9uXG4gICAgLy8gdGhlIGxhc3QgZGF5IG9mIHRoZSBtb250aCBhbmQgaXRzIGxvY2FsIHRpbWUgd2FzIGluIHRoZSBob3VyIHNraXBwZWQgb3JcbiAgICAvLyByZXBlYXRlZCBuZXh0IHRvIGEgRFNUIHRyYW5zaXRpb24uICBTbyB3ZSB1c2UgYGRhdGVgIGluc3RlYWQgd2hpY2ggaXNcbiAgICAvLyBndWFyYW50ZWVkIHRvIHN0aWxsIGhhdmUgdGhlIG9yaWdpbmFsIHRpbWUuXG4gICAgX2RhdGUuc2V0RnVsbFllYXIoXG4gICAgICBlbmRPZkRlc2lyZWRNb250aC5nZXRGdWxsWWVhcigpLFxuICAgICAgZW5kT2ZEZXNpcmVkTW9udGguZ2V0TW9udGgoKSxcbiAgICAgIGRheU9mTW9udGgsXG4gICAgKTtcbiAgICByZXR1cm4gX2RhdGU7XG4gIH1cbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBhZGRNb250aHM7XG4iLCAiLyoqXG4gKiBAbW9kdWxlIGNvbnN0YW50c1xuICogQHN1bW1hcnkgVXNlZnVsIGNvbnN0YW50c1xuICogQGRlc2NyaXB0aW9uXG4gKiBDb2xsZWN0aW9uIG9mIHVzZWZ1bCBkYXRlIGNvbnN0YW50cy5cbiAqXG4gKiBUaGUgY29uc3RhbnRzIGNvdWxkIGJlIGltcG9ydGVkIGZyb20gYGRhdGUtZm5zL2NvbnN0YW50c2A6XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG1heFRpbWUsIG1pblRpbWUgfSBmcm9tIFwiLi9jb25zdGFudHMvZGF0ZS1mbnMvY29uc3RhbnRzXCI7XG4gKlxuICogZnVuY3Rpb24gaXNBbGxvd2VkVGltZSh0aW1lKSB7XG4gKiAgIHJldHVybiB0aW1lIDw9IG1heFRpbWUgJiYgdGltZSA+PSBtaW5UaW1lO1xuICogfVxuICogYGBgXG4gKi9cblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIGRheXNJbldlZWtcbiAqIEBzdW1tYXJ5IERheXMgaW4gMSB3ZWVrLlxuICovXG5leHBvcnQgY29uc3QgZGF5c0luV2VlayA9IDc7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBkYXlzSW5ZZWFyXG4gKiBAc3VtbWFyeSBEYXlzIGluIDEgeWVhci5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEhvdyBtYW55IGRheXMgaW4gYSB5ZWFyLlxuICpcbiAqIE9uZSB5ZWFycyBlcXVhbHMgMzY1LjI0MjUgZGF5cyBhY2NvcmRpbmcgdG8gdGhlIGZvcm11bGE6XG4gKlxuICogPiBMZWFwIHllYXIgb2NjdXJlcyBldmVyeSA0IHllYXJzLCBleGNlcHQgZm9yIHllYXJzIHRoYXQgYXJlIGRpdmlzYWJsZSBieSAxMDAgYW5kIG5vdCBkaXZpc2FibGUgYnkgNDAwLlxuICogPiAxIG1lYW4geWVhciA9ICgzNjUrMS80LTEvMTAwKzEvNDAwKSBkYXlzID0gMzY1LjI0MjUgZGF5c1xuICovXG5leHBvcnQgY29uc3QgZGF5c0luWWVhciA9IDM2NS4yNDI1O1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgbWF4VGltZVxuICogQHN1bW1hcnkgTWF4aW11bSBhbGxvd2VkIHRpbWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IG1heFRpbWUgfSBmcm9tIFwiLi9jb25zdGFudHMvZGF0ZS1mbnMvY29uc3RhbnRzXCI7XG4gKlxuICogY29uc3QgaXNWYWxpZCA9IDg2NDAwMDAwMDAwMDAwMDEgPD0gbWF4VGltZTtcbiAqIC8vPT4gZmFsc2VcbiAqXG4gKiBuZXcgRGF0ZSg4NjQwMDAwMDAwMDAwMDAxKTtcbiAqIC8vPT4gSW52YWxpZCBEYXRlXG4gKi9cbmV4cG9ydCBjb25zdCBtYXhUaW1lID0gTWF0aC5wb3coMTAsIDgpICogMjQgKiA2MCAqIDYwICogMTAwMDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIG1pblRpbWVcbiAqIEBzdW1tYXJ5IE1pbmltdW0gYWxsb3dlZCB0aW1lLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBtaW5UaW1lIH0gZnJvbSBcIi4vY29uc3RhbnRzL2RhdGUtZm5zL2NvbnN0YW50c1wiO1xuICpcbiAqIGNvbnN0IGlzVmFsaWQgPSAtODY0MDAwMDAwMDAwMDAwMSA+PSBtaW5UaW1lO1xuICogLy89PiBmYWxzZVxuICpcbiAqIG5ldyBEYXRlKC04NjQwMDAwMDAwMDAwMDAxKVxuICogLy89PiBJbnZhbGlkIERhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IG1pblRpbWUgPSAtbWF4VGltZTtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIG1pbGxpc2Vjb25kc0luV2Vla1xuICogQHN1bW1hcnkgTWlsbGlzZWNvbmRzIGluIDEgd2Vlay5cbiAqL1xuZXhwb3J0IGNvbnN0IG1pbGxpc2Vjb25kc0luV2VlayA9IDYwNDgwMDAwMDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIG1pbGxpc2Vjb25kc0luRGF5XG4gKiBAc3VtbWFyeSBNaWxsaXNlY29uZHMgaW4gMSBkYXkuXG4gKi9cbmV4cG9ydCBjb25zdCBtaWxsaXNlY29uZHNJbkRheSA9IDg2NDAwMDAwO1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgbWlsbGlzZWNvbmRzSW5NaW51dGVcbiAqIEBzdW1tYXJ5IE1pbGxpc2Vjb25kcyBpbiAxIG1pbnV0ZVxuICovXG5leHBvcnQgY29uc3QgbWlsbGlzZWNvbmRzSW5NaW51dGUgPSA2MDAwMDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIG1pbGxpc2Vjb25kc0luSG91clxuICogQHN1bW1hcnkgTWlsbGlzZWNvbmRzIGluIDEgaG91clxuICovXG5leHBvcnQgY29uc3QgbWlsbGlzZWNvbmRzSW5Ib3VyID0gMzYwMDAwMDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIG1pbGxpc2Vjb25kc0luU2Vjb25kXG4gKiBAc3VtbWFyeSBNaWxsaXNlY29uZHMgaW4gMSBzZWNvbmRcbiAqL1xuZXhwb3J0IGNvbnN0IG1pbGxpc2Vjb25kc0luU2Vjb25kID0gMTAwMDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIG1pbnV0ZXNJblllYXJcbiAqIEBzdW1tYXJ5IE1pbnV0ZXMgaW4gMSB5ZWFyLlxuICovXG5leHBvcnQgY29uc3QgbWludXRlc0luWWVhciA9IDUyNTYwMDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIG1pbnV0ZXNJbk1vbnRoXG4gKiBAc3VtbWFyeSBNaW51dGVzIGluIDEgbW9udGguXG4gKi9cbmV4cG9ydCBjb25zdCBtaW51dGVzSW5Nb250aCA9IDQzMjAwO1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgbWludXRlc0luRGF5XG4gKiBAc3VtbWFyeSBNaW51dGVzIGluIDEgZGF5LlxuICovXG5leHBvcnQgY29uc3QgbWludXRlc0luRGF5ID0gMTQ0MDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIG1pbnV0ZXNJbkhvdXJcbiAqIEBzdW1tYXJ5IE1pbnV0ZXMgaW4gMSBob3VyLlxuICovXG5leHBvcnQgY29uc3QgbWludXRlc0luSG91ciA9IDYwO1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgbW9udGhzSW5RdWFydGVyXG4gKiBAc3VtbWFyeSBNb250aHMgaW4gMSBxdWFydGVyLlxuICovXG5leHBvcnQgY29uc3QgbW9udGhzSW5RdWFydGVyID0gMztcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIG1vbnRoc0luWWVhclxuICogQHN1bW1hcnkgTW9udGhzIGluIDEgeWVhci5cbiAqL1xuZXhwb3J0IGNvbnN0IG1vbnRoc0luWWVhciA9IDEyO1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgcXVhcnRlcnNJblllYXJcbiAqIEBzdW1tYXJ5IFF1YXJ0ZXJzIGluIDEgeWVhclxuICovXG5leHBvcnQgY29uc3QgcXVhcnRlcnNJblllYXIgPSA0O1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgc2Vjb25kc0luSG91clxuICogQHN1bW1hcnkgU2Vjb25kcyBpbiAxIGhvdXIuXG4gKi9cbmV4cG9ydCBjb25zdCBzZWNvbmRzSW5Ib3VyID0gMzYwMDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIHNlY29uZHNJbk1pbnV0ZVxuICogQHN1bW1hcnkgU2Vjb25kcyBpbiAxIG1pbnV0ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IHNlY29uZHNJbk1pbnV0ZSA9IDYwO1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgc2Vjb25kc0luRGF5XG4gKiBAc3VtbWFyeSBTZWNvbmRzIGluIDEgZGF5LlxuICovXG5leHBvcnQgY29uc3Qgc2Vjb25kc0luRGF5ID0gc2Vjb25kc0luSG91ciAqIDI0O1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgc2Vjb25kc0luV2Vla1xuICogQHN1bW1hcnkgU2Vjb25kcyBpbiAxIHdlZWsuXG4gKi9cbmV4cG9ydCBjb25zdCBzZWNvbmRzSW5XZWVrID0gc2Vjb25kc0luRGF5ICogNztcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIHNlY29uZHNJblllYXJcbiAqIEBzdW1tYXJ5IFNlY29uZHMgaW4gMSB5ZWFyLlxuICovXG5leHBvcnQgY29uc3Qgc2Vjb25kc0luWWVhciA9IHNlY29uZHNJbkRheSAqIGRheXNJblllYXI7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBzZWNvbmRzSW5Nb250aFxuICogQHN1bW1hcnkgU2Vjb25kcyBpbiAxIG1vbnRoXG4gKi9cbmV4cG9ydCBjb25zdCBzZWNvbmRzSW5Nb250aCA9IHNlY29uZHNJblllYXIgLyAxMjtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIHNlY29uZHNJblF1YXJ0ZXJcbiAqIEBzdW1tYXJ5IFNlY29uZHMgaW4gMSBxdWFydGVyLlxuICovXG5leHBvcnQgY29uc3Qgc2Vjb25kc0luUXVhcnRlciA9IHNlY29uZHNJbk1vbnRoICogMztcbiIsICJsZXQgZGVmYXVsdE9wdGlvbnMgPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRPcHRpb25zKCkge1xuICByZXR1cm4gZGVmYXVsdE9wdGlvbnM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXREZWZhdWx0T3B0aW9ucyhuZXdPcHRpb25zKSB7XG4gIGRlZmF1bHRPcHRpb25zID0gbmV3T3B0aW9ucztcbn1cbiIsICJpbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5pbXBvcnQgeyBnZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gXCIuL19saWIvZGVmYXVsdE9wdGlvbnMubWpzXCI7XG5cbi8qKlxuICogVGhlIHtAbGluayBzdGFydE9mV2Vla30gZnVuY3Rpb24gb3B0aW9ucy5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIHN0YXJ0T2ZXZWVrXG4gKiBAY2F0ZWdvcnkgV2VlayBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgd2VlayBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgd2VlayBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIG9yaWdpbmFsIGRhdGVcbiAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb2JqZWN0IHdpdGggb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIFRoZSBzdGFydCBvZiBhIHdlZWtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIHN0YXJ0IG9mIGEgd2VlayBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZXZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IFN1biBBdWcgMzEgMjAxNCAwMDowMDowMFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0aGUgd2VlayBzdGFydHMgb24gTW9uZGF5LCB0aGUgc3RhcnQgb2YgdGhlIHdlZWsgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApLCB7IHdlZWtTdGFydHNPbjogMSB9KVxuICogLy89PiBNb24gU2VwIDAxIDIwMTQgMDA6MDA6MDBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0T2ZXZWVrKGRhdGUsIG9wdGlvbnMpIHtcbiAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucygpO1xuICBjb25zdCB3ZWVrU3RhcnRzT24gPVxuICAgIG9wdGlvbnM/LndlZWtTdGFydHNPbiA/P1xuICAgIG9wdGlvbnM/LmxvY2FsZT8ub3B0aW9ucz8ud2Vla1N0YXJ0c09uID8/XG4gICAgZGVmYXVsdE9wdGlvbnMud2Vla1N0YXJ0c09uID8/XG4gICAgZGVmYXVsdE9wdGlvbnMubG9jYWxlPy5vcHRpb25zPy53ZWVrU3RhcnRzT24gPz9cbiAgICAwO1xuXG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICBjb25zdCBkYXkgPSBfZGF0ZS5nZXREYXkoKTtcbiAgY29uc3QgZGlmZiA9IChkYXkgPCB3ZWVrU3RhcnRzT24gPyA3IDogMCkgKyBkYXkgLSB3ZWVrU3RhcnRzT247XG5cbiAgX2RhdGUuc2V0RGF0ZShfZGF0ZS5nZXREYXRlKCkgLSBkaWZmKTtcbiAgX2RhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIHJldHVybiBfZGF0ZTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBzdGFydE9mV2VlaztcbiIsICJpbXBvcnQgeyBzdGFydE9mV2VlayB9IGZyb20gXCIuL3N0YXJ0T2ZXZWVrLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIHN0YXJ0T2ZJU09XZWVrXG4gKiBAY2F0ZWdvcnkgSVNPIFdlZWsgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBzdGFydCBvZiBhbiBJU08gd2VlayBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIHN0YXJ0IG9mIGFuIElTTyB3ZWVrIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSByZXN1bHQgd2lsbCBiZSBpbiB0aGUgbG9jYWwgdGltZXpvbmUuXG4gKlxuICogSVNPIHdlZWstbnVtYmVyaW5nIHllYXI6IGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZVxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIG9yaWdpbmFsIGRhdGVcbiAqXG4gKiBAcmV0dXJucyBUaGUgc3RhcnQgb2YgYW4gSVNPIHdlZWtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIHN0YXJ0IG9mIGFuIElTTyB3ZWVrIGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZklTT1dlZWsobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSlcbiAqIC8vPT4gTW9uIFNlcCAwMSAyMDE0IDAwOjAwOjAwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydE9mSVNPV2VlayhkYXRlKSB7XG4gIHJldHVybiBzdGFydE9mV2VlayhkYXRlLCB7IHdlZWtTdGFydHNPbjogMSB9KTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBzdGFydE9mSVNPV2VlaztcbiIsICJpbXBvcnQgeyBjb25zdHJ1Y3RGcm9tIH0gZnJvbSBcIi4vY29uc3RydWN0RnJvbS5tanNcIjtcbmltcG9ydCB7IHN0YXJ0T2ZJU09XZWVrIH0gZnJvbSBcIi4vc3RhcnRPZklTT1dlZWsubWpzXCI7XG5pbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgZ2V0SVNPV2Vla1llYXJcbiAqIEBjYXRlZ29yeSBJU08gV2Vlay1OdW1iZXJpbmcgWWVhciBIZWxwZXJzXG4gKiBAc3VtbWFyeSBHZXQgdGhlIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyIG9mIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogR2V0IHRoZSBJU08gd2Vlay1udW1iZXJpbmcgeWVhciBvZiB0aGUgZ2l2ZW4gZGF0ZSxcbiAqIHdoaWNoIGFsd2F5cyBzdGFydHMgMyBkYXlzIGJlZm9yZSB0aGUgeWVhcidzIGZpcnN0IFRodXJzZGF5LlxuICpcbiAqIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyOiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGVcbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBnaXZlbiBkYXRlXG4gKlxuICogQHJldHVybnMgVGhlIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoaWNoIElTTy13ZWVrIG51bWJlcmluZyB5ZWFyIGlzIDIgSmFudWFyeSAyMDA1P1xuICogY29uc3QgcmVzdWx0ID0gZ2V0SVNPV2Vla1llYXIobmV3IERhdGUoMjAwNSwgMCwgMikpXG4gKiAvLz0+IDIwMDRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldElTT1dlZWtZZWFyKGRhdGUpIHtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIGNvbnN0IHllYXIgPSBfZGF0ZS5nZXRGdWxsWWVhcigpO1xuXG4gIGNvbnN0IGZvdXJ0aE9mSmFudWFyeU9mTmV4dFllYXIgPSBjb25zdHJ1Y3RGcm9tKGRhdGUsIDApO1xuICBmb3VydGhPZkphbnVhcnlPZk5leHRZZWFyLnNldEZ1bGxZZWFyKHllYXIgKyAxLCAwLCA0KTtcbiAgZm91cnRoT2ZKYW51YXJ5T2ZOZXh0WWVhci5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgY29uc3Qgc3RhcnRPZk5leHRZZWFyID0gc3RhcnRPZklTT1dlZWsoZm91cnRoT2ZKYW51YXJ5T2ZOZXh0WWVhcik7XG5cbiAgY29uc3QgZm91cnRoT2ZKYW51YXJ5T2ZUaGlzWWVhciA9IGNvbnN0cnVjdEZyb20oZGF0ZSwgMCk7XG4gIGZvdXJ0aE9mSmFudWFyeU9mVGhpc1llYXIuc2V0RnVsbFllYXIoeWVhciwgMCwgNCk7XG4gIGZvdXJ0aE9mSmFudWFyeU9mVGhpc1llYXIuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIGNvbnN0IHN0YXJ0T2ZUaGlzWWVhciA9IHN0YXJ0T2ZJU09XZWVrKGZvdXJ0aE9mSmFudWFyeU9mVGhpc1llYXIpO1xuXG4gIGlmIChfZGF0ZS5nZXRUaW1lKCkgPj0gc3RhcnRPZk5leHRZZWFyLmdldFRpbWUoKSkge1xuICAgIHJldHVybiB5ZWFyICsgMTtcbiAgfSBlbHNlIGlmIChfZGF0ZS5nZXRUaW1lKCkgPj0gc3RhcnRPZlRoaXNZZWFyLmdldFRpbWUoKSkge1xuICAgIHJldHVybiB5ZWFyO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB5ZWFyIC0gMTtcbiAgfVxufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGdldElTT1dlZWtZZWFyO1xuIiwgImltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBzdGFydE9mRGF5XG4gKiBAY2F0ZWdvcnkgRGF5IEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgc3RhcnQgb2YgYSBkYXkgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhIGRheSBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIG9yaWdpbmFsIGRhdGVcbiAqXG4gKiBAcmV0dXJucyBUaGUgc3RhcnQgb2YgYSBkYXlcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIHN0YXJ0IG9mIGEgZGF5IGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZkRheShuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApKVxuICogLy89PiBUdWUgU2VwIDAyIDIwMTQgMDA6MDA6MDBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0T2ZEYXkoZGF0ZSkge1xuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgX2RhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIHJldHVybiBfZGF0ZTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBzdGFydE9mRGF5O1xuIiwgImltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuLi90b0RhdGUubWpzXCI7XG5cbi8qKlxuICogR29vZ2xlIENocm9tZSBhcyBvZiA2Ny4wLjMzOTYuODcgaW50cm9kdWNlZCB0aW1lem9uZXMgd2l0aCBvZmZzZXQgdGhhdCBpbmNsdWRlcyBzZWNvbmRzLlxuICogVGhleSB1c3VhbGx5IGFwcGVhciBmb3IgZGF0ZXMgdGhhdCBkZW5vdGUgdGltZSBiZWZvcmUgdGhlIHRpbWV6b25lcyB3ZXJlIGludHJvZHVjZWRcbiAqIChlLmcuIGZvciAnRXVyb3BlL1ByYWd1ZScgdGltZXpvbmUgdGhlIG9mZnNldCBpcyBHTVQrMDA6NTc6NDQgYmVmb3JlIDEgT2N0b2JlciAxODkxXG4gKiBhbmQgR01UKzAxOjAwOjAwIGFmdGVyIHRoYXQgZGF0ZSlcbiAqXG4gKiBEYXRlI2dldFRpbWV6b25lT2Zmc2V0IHJldHVybnMgdGhlIG9mZnNldCBpbiBtaW51dGVzIGFuZCB3b3VsZCByZXR1cm4gNTcgZm9yIHRoZSBleGFtcGxlIGFib3ZlLFxuICogd2hpY2ggd291bGQgbGVhZCB0byBpbmNvcnJlY3QgY2FsY3VsYXRpb25zLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgdGltZXpvbmUgb2Zmc2V0IGluIG1pbGxpc2Vjb25kcyB0aGF0IHRha2VzIHNlY29uZHMgaW4gYWNjb3VudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMoZGF0ZSkge1xuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgY29uc3QgdXRjRGF0ZSA9IG5ldyBEYXRlKFxuICAgIERhdGUuVVRDKFxuICAgICAgX2RhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgIF9kYXRlLmdldE1vbnRoKCksXG4gICAgICBfZGF0ZS5nZXREYXRlKCksXG4gICAgICBfZGF0ZS5nZXRIb3VycygpLFxuICAgICAgX2RhdGUuZ2V0TWludXRlcygpLFxuICAgICAgX2RhdGUuZ2V0U2Vjb25kcygpLFxuICAgICAgX2RhdGUuZ2V0TWlsbGlzZWNvbmRzKCksXG4gICAgKSxcbiAgKTtcbiAgdXRjRGF0ZS5zZXRVVENGdWxsWWVhcihfZGF0ZS5nZXRGdWxsWWVhcigpKTtcbiAgcmV0dXJuICtkYXRlIC0gK3V0Y0RhdGU7XG59XG4iLCAiaW1wb3J0IHsgbWlsbGlzZWNvbmRzSW5EYXkgfSBmcm9tIFwiLi9jb25zdGFudHMubWpzXCI7XG5pbXBvcnQgeyBzdGFydE9mRGF5IH0gZnJvbSBcIi4vc3RhcnRPZkRheS5tanNcIjtcbmltcG9ydCB7IGdldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMgfSBmcm9tIFwiLi9fbGliL2dldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzXG4gKiBAY2F0ZWdvcnkgRGF5IEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEdldCB0aGUgbnVtYmVyIG9mIGNhbGVuZGFyIGRheXMgYmV0d2VlbiB0aGUgZ2l2ZW4gZGF0ZXMuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBHZXQgdGhlIG51bWJlciBvZiBjYWxlbmRhciBkYXlzIGJldHdlZW4gdGhlIGdpdmVuIGRhdGVzLiBUaGlzIG1lYW5zIHRoYXQgdGhlIHRpbWVzIGFyZSByZW1vdmVkXG4gKiBmcm9tIHRoZSBkYXRlcyBhbmQgdGhlbiB0aGUgZGlmZmVyZW5jZSBpbiBkYXlzIGlzIGNhbGN1bGF0ZWQuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGVMZWZ0IC0gVGhlIGxhdGVyIGRhdGVcbiAqIEBwYXJhbSBkYXRlUmlnaHQgLSBUaGUgZWFybGllciBkYXRlXG4gKlxuICogQHJldHVybnMgVGhlIG51bWJlciBvZiBjYWxlbmRhciBkYXlzXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEhvdyBtYW55IGNhbGVuZGFyIGRheXMgYXJlIGJldHdlZW5cbiAqIC8vIDIgSnVseSAyMDExIDIzOjAwOjAwIGFuZCAyIEp1bHkgMjAxMiAwMDowMDowMD9cbiAqIGNvbnN0IHJlc3VsdCA9IGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyhcbiAqICAgbmV3IERhdGUoMjAxMiwgNiwgMiwgMCwgMCksXG4gKiAgIG5ldyBEYXRlKDIwMTEsIDYsIDIsIDIzLCAwKVxuICogKVxuICogLy89PiAzNjZcbiAqIC8vIEhvdyBtYW55IGNhbGVuZGFyIGRheXMgYXJlIGJldHdlZW5cbiAqIC8vIDIgSnVseSAyMDExIDIzOjU5OjAwIGFuZCAzIEp1bHkgMjAxMSAwMDowMTowMD9cbiAqIGNvbnN0IHJlc3VsdCA9IGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyhcbiAqICAgbmV3IERhdGUoMjAxMSwgNiwgMywgMCwgMSksXG4gKiAgIG5ldyBEYXRlKDIwMTEsIDYsIDIsIDIzLCA1OSlcbiAqIClcbiAqIC8vPT4gMVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKGRhdGVMZWZ0LCBkYXRlUmlnaHQpIHtcbiAgY29uc3Qgc3RhcnRPZkRheUxlZnQgPSBzdGFydE9mRGF5KGRhdGVMZWZ0KTtcbiAgY29uc3Qgc3RhcnRPZkRheVJpZ2h0ID0gc3RhcnRPZkRheShkYXRlUmlnaHQpO1xuXG4gIGNvbnN0IHRpbWVzdGFtcExlZnQgPVxuICAgICtzdGFydE9mRGF5TGVmdCAtIGdldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMoc3RhcnRPZkRheUxlZnQpO1xuICBjb25zdCB0aW1lc3RhbXBSaWdodCA9XG4gICAgK3N0YXJ0T2ZEYXlSaWdodCAtIGdldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMoc3RhcnRPZkRheVJpZ2h0KTtcblxuICAvLyBSb3VuZCB0aGUgbnVtYmVyIG9mIGRheXMgdG8gdGhlIG5lYXJlc3QgaW50ZWdlciBiZWNhdXNlIHRoZSBudW1iZXIgb2ZcbiAgLy8gbWlsbGlzZWNvbmRzIGluIGEgZGF5IGlzIG5vdCBjb25zdGFudCAoZS5nLiBpdCdzIGRpZmZlcmVudCBpbiB0aGUgd2VlayBvZlxuICAvLyB0aGUgZGF5bGlnaHQgc2F2aW5nIHRpbWUgY2xvY2sgc2hpZnQpLlxuICByZXR1cm4gTWF0aC5yb3VuZCgodGltZXN0YW1wTGVmdCAtIHRpbWVzdGFtcFJpZ2h0KSAvIG1pbGxpc2Vjb25kc0luRGF5KTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXM7XG4iLCAiaW1wb3J0IHsgZ2V0SVNPV2Vla1llYXIgfSBmcm9tIFwiLi9nZXRJU09XZWVrWWVhci5tanNcIjtcbmltcG9ydCB7IHN0YXJ0T2ZJU09XZWVrIH0gZnJvbSBcIi4vc3RhcnRPZklTT1dlZWsubWpzXCI7XG5pbXBvcnQgeyBjb25zdHJ1Y3RGcm9tIH0gZnJvbSBcIi4vY29uc3RydWN0RnJvbS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBzdGFydE9mSVNPV2Vla1llYXJcbiAqIEBjYXRlZ29yeSBJU08gV2Vlay1OdW1iZXJpbmcgWWVhciBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGFuIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYW4gSVNPIHdlZWstbnVtYmVyaW5nIHllYXIsXG4gKiB3aGljaCBhbHdheXMgc3RhcnRzIDMgZGF5cyBiZWZvcmUgdGhlIHllYXIncyBmaXJzdCBUaHVyc2RheS5cbiAqIFRoZSByZXN1bHQgd2lsbCBiZSBpbiB0aGUgbG9jYWwgdGltZXpvbmUuXG4gKlxuICogSVNPIHdlZWstbnVtYmVyaW5nIHllYXI6IGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZVxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIG9yaWdpbmFsIGRhdGVcbiAqXG4gKiBAcmV0dXJucyBUaGUgc3RhcnQgb2YgYW4gSVNPIHdlZWstbnVtYmVyaW5nIHllYXJcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIHN0YXJ0IG9mIGFuIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyIGZvciAyIEp1bHkgMjAwNTpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZJU09XZWVrWWVhcihuZXcgRGF0ZSgyMDA1LCA2LCAyKSlcbiAqIC8vPT4gTW9uIEphbiAwMyAyMDA1IDAwOjAwOjAwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydE9mSVNPV2Vla1llYXIoZGF0ZSkge1xuICBjb25zdCB5ZWFyID0gZ2V0SVNPV2Vla1llYXIoZGF0ZSk7XG4gIGNvbnN0IGZvdXJ0aE9mSmFudWFyeSA9IGNvbnN0cnVjdEZyb20oZGF0ZSwgMCk7XG4gIGZvdXJ0aE9mSmFudWFyeS5zZXRGdWxsWWVhcih5ZWFyLCAwLCA0KTtcbiAgZm91cnRoT2ZKYW51YXJ5LnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gc3RhcnRPZklTT1dlZWsoZm91cnRoT2ZKYW51YXJ5KTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBzdGFydE9mSVNPV2Vla1llYXI7XG4iLCAiaW1wb3J0IHsgY29uc3RydWN0RnJvbSB9IGZyb20gXCIuL2NvbnN0cnVjdEZyb20ubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgY29uc3RydWN0Tm93XG4gKiBAY2F0ZWdvcnkgR2VuZXJpYyBIZWxwZXJzXG4gKiBAc3VtbWFyeSBDb25zdHJ1Y3RzIGEgbmV3IGN1cnJlbnQgZGF0ZSB1c2luZyB0aGUgcGFzc2VkIHZhbHVlIGNvbnN0cnVjdG9yLlxuICogQHB1cmUgZmFsc2VcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBmdW5jdGlvbiBjb25zdHJ1Y3RzIGEgbmV3IGN1cnJlbnQgZGF0ZSB1c2luZyB0aGUgY29uc3RydWN0b3IgZnJvbVxuICogdGhlIHJlZmVyZW5jZSBkYXRlLiBJdCBoZWxwcyB0byBidWlsZCBnZW5lcmljIGZ1bmN0aW9ucyB0aGF0IGFjY2VwdCBkYXRlXG4gKiBleHRlbnNpb25zIGFuZCB1c2UgdGhlIGN1cnJlbnQgZGF0ZS5cbiAqXG4gKiBJdCBkZWZhdWx0cyB0byBgRGF0ZWAgaWYgdGhlIHBhc3NlZCByZWZlcmVuY2UgZGF0ZSBpcyBhIG51bWJlciBvciBhIHN0cmluZy5cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSByZWZlcmVuY2UgZGF0ZSB0byB0YWtlIGNvbnN0cnVjdG9yIGZyb21cbiAqXG4gKiBAcmV0dXJucyBDdXJyZW50IGRhdGUgaW5pdGlhbGl6ZWQgdXNpbmcgdGhlIGdpdmVuIGRhdGUgY29uc3RydWN0b3JcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgY29uc3RydWN0Tm93LCBpc1NhbWVEYXkgfSBmcm9tICdkYXRlLWZucydcbiAqXG4gKiBmdW5jdGlvbiBpc1RvZGF5PERhdGVUeXBlIGV4dGVuZHMgRGF0ZT4oXG4gKiAgIGRhdGU6IERhdGVUeXBlIHwgbnVtYmVyIHwgc3RyaW5nLFxuICogKTogYm9vbGVhbiB7XG4gKiAgIC8vIElmIHdlIHdlcmUgdG8gdXNlIGBuZXcgRGF0ZSgpYCBkaXJlY3RseSwgdGhlIGZ1bmN0aW9uIHdvdWxkICBiZWhhdmVcbiAqICAgLy8gZGlmZmVyZW50bHkgaW4gZGlmZmVyZW50IHRpbWV6b25lcyBhbmQgcmV0dXJuIGZhbHNlIGZvciB0aGUgc2FtZSBkYXRlLlxuICogICByZXR1cm4gaXNTYW1lRGF5KGRhdGUsIGNvbnN0cnVjdE5vdyhkYXRlKSk7XG4gKiB9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25zdHJ1Y3ROb3coZGF0ZSkge1xuICByZXR1cm4gY29uc3RydWN0RnJvbShkYXRlLCBEYXRlLm5vdygpKTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBjb25zdHJ1Y3ROb3c7XG4iLCAiaW1wb3J0IHsgc3RhcnRPZkRheSB9IGZyb20gXCIuL3N0YXJ0T2ZEYXkubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgaXNTYW1lRGF5XG4gKiBAY2F0ZWdvcnkgRGF5IEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgZGF5IChhbmQgeWVhciBhbmQgbW9udGgpP1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQXJlIHRoZSBnaXZlbiBkYXRlcyBpbiB0aGUgc2FtZSBkYXkgKGFuZCB5ZWFyIGFuZCBtb250aCk/XG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGVMZWZ0IC0gVGhlIGZpcnN0IGRhdGUgdG8gY2hlY2tcbiAqIEBwYXJhbSBkYXRlUmlnaHQgLSBUaGUgc2Vjb25kIGRhdGUgdG8gY2hlY2tcblxuICogQHJldHVybnMgVGhlIGRhdGVzIGFyZSBpbiB0aGUgc2FtZSBkYXkgKGFuZCB5ZWFyIGFuZCBtb250aClcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDQgU2VwdGVtYmVyIDA2OjAwOjAwIGFuZCA0IFNlcHRlbWJlciAxODowMDowMCBpbiB0aGUgc2FtZSBkYXk/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVEYXkobmV3IERhdGUoMjAxNCwgOCwgNCwgNiwgMCksIG5ldyBEYXRlKDIwMTQsIDgsIDQsIDE4LCAwKSlcbiAqIC8vPT4gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgNCBTZXB0ZW1iZXIgYW5kIDQgT2N0b2JlciBpbiB0aGUgc2FtZSBkYXk/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVEYXkobmV3IERhdGUoMjAxNCwgOCwgNCksIG5ldyBEYXRlKDIwMTQsIDksIDQpKVxuICogLy89PiBmYWxzZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgNCBTZXB0ZW1iZXIsIDIwMTQgYW5kIDQgU2VwdGVtYmVyLCAyMDE1IGluIHRoZSBzYW1lIGRheT9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZURheShuZXcgRGF0ZSgyMDE0LCA4LCA0KSwgbmV3IERhdGUoMjAxNSwgOCwgNCkpXG4gKiAvLz0+IGZhbHNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVEYXkoZGF0ZUxlZnQsIGRhdGVSaWdodCkge1xuICBjb25zdCBkYXRlTGVmdFN0YXJ0T2ZEYXkgPSBzdGFydE9mRGF5KGRhdGVMZWZ0KTtcbiAgY29uc3QgZGF0ZVJpZ2h0U3RhcnRPZkRheSA9IHN0YXJ0T2ZEYXkoZGF0ZVJpZ2h0KTtcblxuICByZXR1cm4gK2RhdGVMZWZ0U3RhcnRPZkRheSA9PT0gK2RhdGVSaWdodFN0YXJ0T2ZEYXk7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgaXNTYW1lRGF5O1xuIiwgIi8qKlxuICogQG5hbWUgaXNEYXRlXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IElzIHRoZSBnaXZlbiB2YWx1ZSBhIGRhdGU/XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGFuIGluc3RhbmNlIG9mIERhdGUuIFRoZSBmdW5jdGlvbiB3b3JrcyBmb3IgZGF0ZXMgdHJhbnNmZXJyZWQgYWNyb3NzIGlmcmFtZXMuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrXG4gKlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBkYXRlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEZvciBhIHZhbGlkIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSBpc0RhdGUobmV3IERhdGUoKSlcbiAqIC8vPT4gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBGb3IgYW4gaW52YWxpZCBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gaXNEYXRlKG5ldyBEYXRlKE5hTikpXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRm9yIHNvbWUgdmFsdWU6XG4gKiBjb25zdCByZXN1bHQgPSBpc0RhdGUoJzIwMTQtMDItMzEnKVxuICogLy89PiBmYWxzZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBGb3IgYW4gb2JqZWN0OlxuICogY29uc3QgcmVzdWx0ID0gaXNEYXRlKHt9KVxuICogLy89PiBmYWxzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNEYXRlKHZhbHVlKSB7XG4gIHJldHVybiAoXG4gICAgdmFsdWUgaW5zdGFuY2VvZiBEYXRlIHx8XG4gICAgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IERhdGVdXCIpXG4gICk7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgaXNEYXRlO1xuIiwgImltcG9ydCB7IGlzRGF0ZSB9IGZyb20gXCIuL2lzRGF0ZS5tanNcIjtcbmltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBpc1ZhbGlkXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IElzIHRoZSBnaXZlbiBkYXRlIHZhbGlkP1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJucyBmYWxzZSBpZiBhcmd1bWVudCBpcyBJbnZhbGlkIERhdGUgYW5kIHRydWUgb3RoZXJ3aXNlLlxuICogQXJndW1lbnQgaXMgY29udmVydGVkIHRvIERhdGUgdXNpbmcgYHRvRGF0ZWAuIFNlZSBbdG9EYXRlXShodHRwczovL2RhdGUtZm5zLm9yZy9kb2NzL3RvRGF0ZSlcbiAqIEludmFsaWQgRGF0ZSBpcyBhIERhdGUsIHdob3NlIHRpbWUgdmFsdWUgaXMgTmFOLlxuICpcbiAqIFRpbWUgdmFsdWUgb2YgRGF0ZTogaHR0cDovL2VzNS5naXRodWIuaW8vI3gxNS45LjEuMVxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIGRhdGUgdG8gY2hlY2tcbiAqXG4gKiBAcmV0dXJucyBUaGUgZGF0ZSBpcyB2YWxpZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBGb3IgdGhlIHZhbGlkIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSBpc1ZhbGlkKG5ldyBEYXRlKDIwMTQsIDEsIDMxKSlcbiAqIC8vPT4gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBGb3IgdGhlIHZhbHVlLCBjb252ZXJ0YWJsZSBpbnRvIGEgZGF0ZTpcbiAqIGNvbnN0IHJlc3VsdCA9IGlzVmFsaWQoMTM5MzgwNDgwMDAwMClcbiAqIC8vPT4gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBGb3IgdGhlIGludmFsaWQgZGF0ZTpcbiAqIGNvbnN0IHJlc3VsdCA9IGlzVmFsaWQobmV3IERhdGUoJycpKVxuICogLy89PiBmYWxzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZChkYXRlKSB7XG4gIGlmICghaXNEYXRlKGRhdGUpICYmIHR5cGVvZiBkYXRlICE9PSBcIm51bWJlclwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICByZXR1cm4gIWlzTmFOKE51bWJlcihfZGF0ZSkpO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGlzVmFsaWQ7XG4iLCAiaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGVuZE9mTW9udGhcbiAqIEBjYXRlZ29yeSBNb250aCBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIGVuZCBvZiBhIG1vbnRoIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgZW5kIG9mIGEgbW9udGggZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBvcmlnaW5hbCBkYXRlXG4gKlxuICogQHJldHVybnMgVGhlIGVuZCBvZiBhIG1vbnRoXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBlbmQgb2YgYSBtb250aCBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IGVuZE9mTW9udGgobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSlcbiAqIC8vPT4gVHVlIFNlcCAzMCAyMDE0IDIzOjU5OjU5Ljk5OVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5kT2ZNb250aChkYXRlKSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICBjb25zdCBtb250aCA9IF9kYXRlLmdldE1vbnRoKCk7XG4gIF9kYXRlLnNldEZ1bGxZZWFyKF9kYXRlLmdldEZ1bGxZZWFyKCksIG1vbnRoICsgMSwgMCk7XG4gIF9kYXRlLnNldEhvdXJzKDIzLCA1OSwgNTksIDk5OSk7XG4gIHJldHVybiBfZGF0ZTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBlbmRPZk1vbnRoO1xuIiwgImltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcblxuLyoqXG4gKiBUaGUge0BsaW5rIGVhY2hEYXlPZkludGVydmFsfSBmdW5jdGlvbiBvcHRpb25zLlxuICovXG5cbi8qKlxuICogQG5hbWUgZWFjaERheU9mSW50ZXJ2YWxcbiAqIEBjYXRlZ29yeSBJbnRlcnZhbCBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIGFycmF5IG9mIGRhdGVzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIHRpbWUgaW50ZXJ2YWwuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIGFycmF5IG9mIGRhdGVzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIHRpbWUgaW50ZXJ2YWwuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGludGVydmFsIC0gVGhlIGludGVydmFsLlxuICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvYmplY3Qgd2l0aCBvcHRpb25zLlxuICpcbiAqIEByZXR1cm5zIFRoZSBhcnJheSB3aXRoIHN0YXJ0cyBvZiBkYXlzIGZyb20gdGhlIGRheSBvZiB0aGUgaW50ZXJ2YWwgc3RhcnQgdG8gdGhlIGRheSBvZiB0aGUgaW50ZXJ2YWwgZW5kXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEVhY2ggZGF5IGJldHdlZW4gNiBPY3RvYmVyIDIwMTQgYW5kIDEwIE9jdG9iZXIgMjAxNDpcbiAqIGNvbnN0IHJlc3VsdCA9IGVhY2hEYXlPZkludGVydmFsKHtcbiAqICAgc3RhcnQ6IG5ldyBEYXRlKDIwMTQsIDksIDYpLFxuICogICBlbmQ6IG5ldyBEYXRlKDIwMTQsIDksIDEwKVxuICogfSlcbiAqIC8vPT4gW1xuICogLy8gICBNb24gT2N0IDA2IDIwMTQgMDA6MDA6MDAsXG4gKiAvLyAgIFR1ZSBPY3QgMDcgMjAxNCAwMDowMDowMCxcbiAqIC8vICAgV2VkIE9jdCAwOCAyMDE0IDAwOjAwOjAwLFxuICogLy8gICBUaHUgT2N0IDA5IDIwMTQgMDA6MDA6MDAsXG4gKiAvLyAgIEZyaSBPY3QgMTAgMjAxNCAwMDowMDowMFxuICogLy8gXVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWFjaERheU9mSW50ZXJ2YWwoaW50ZXJ2YWwsIG9wdGlvbnMpIHtcbiAgY29uc3Qgc3RhcnREYXRlID0gdG9EYXRlKGludGVydmFsLnN0YXJ0KTtcbiAgY29uc3QgZW5kRGF0ZSA9IHRvRGF0ZShpbnRlcnZhbC5lbmQpO1xuXG4gIGxldCByZXZlcnNlZCA9ICtzdGFydERhdGUgPiArZW5kRGF0ZTtcbiAgY29uc3QgZW5kVGltZSA9IHJldmVyc2VkID8gK3N0YXJ0RGF0ZSA6ICtlbmREYXRlO1xuICBjb25zdCBjdXJyZW50RGF0ZSA9IHJldmVyc2VkID8gZW5kRGF0ZSA6IHN0YXJ0RGF0ZTtcbiAgY3VycmVudERhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG5cbiAgbGV0IHN0ZXAgPSBvcHRpb25zPy5zdGVwID8/IDE7XG4gIGlmICghc3RlcCkgcmV0dXJuIFtdO1xuICBpZiAoc3RlcCA8IDApIHtcbiAgICBzdGVwID0gLXN0ZXA7XG4gICAgcmV2ZXJzZWQgPSAhcmV2ZXJzZWQ7XG4gIH1cblxuICBjb25zdCBkYXRlcyA9IFtdO1xuXG4gIHdoaWxlICgrY3VycmVudERhdGUgPD0gZW5kVGltZSkge1xuICAgIGRhdGVzLnB1c2godG9EYXRlKGN1cnJlbnREYXRlKSk7XG4gICAgY3VycmVudERhdGUuc2V0RGF0ZShjdXJyZW50RGF0ZS5nZXREYXRlKCkgKyBzdGVwKTtcbiAgICBjdXJyZW50RGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgfVxuXG4gIHJldHVybiByZXZlcnNlZCA/IGRhdGVzLnJldmVyc2UoKSA6IGRhdGVzO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGVhY2hEYXlPZkludGVydmFsO1xuIiwgImltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBzdGFydE9mTW9udGhcbiAqIEBjYXRlZ29yeSBNb250aCBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgbW9udGggZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhIG1vbnRoIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSByZXN1bHQgd2lsbCBiZSBpbiB0aGUgbG9jYWwgdGltZXpvbmUuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgb3JpZ2luYWwgZGF0ZVxuICpcbiAqIEByZXR1cm5zIFRoZSBzdGFydCBvZiBhIG1vbnRoXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhIG1vbnRoIGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZk1vbnRoKG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IE1vbiBTZXAgMDEgMjAxNCAwMDowMDowMFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZk1vbnRoKGRhdGUpIHtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIF9kYXRlLnNldERhdGUoMSk7XG4gIF9kYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gX2RhdGU7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgc3RhcnRPZk1vbnRoO1xuIiwgImltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcbmltcG9ydCB7IGNvbnN0cnVjdEZyb20gfSBmcm9tIFwiLi9jb25zdHJ1Y3RGcm9tLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIHN0YXJ0T2ZZZWFyXG4gKiBAY2F0ZWdvcnkgWWVhciBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgeWVhciBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgeWVhciBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIG9yaWdpbmFsIGRhdGVcbiAqXG4gKiBAcmV0dXJucyBUaGUgc3RhcnQgb2YgYSB5ZWFyXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhIHllYXIgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mWWVhcihuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDAwKSlcbiAqIC8vPT4gV2VkIEphbiAwMSAyMDE0IDAwOjAwOjAwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydE9mWWVhcihkYXRlKSB7XG4gIGNvbnN0IGNsZWFuRGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgY29uc3QgX2RhdGUgPSBjb25zdHJ1Y3RGcm9tKGRhdGUsIDApO1xuICBfZGF0ZS5zZXRGdWxsWWVhcihjbGVhbkRhdGUuZ2V0RnVsbFllYXIoKSwgMCwgMSk7XG4gIF9kYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gX2RhdGU7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgc3RhcnRPZlllYXI7XG4iLCAiaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tIFwiLi9fbGliL2RlZmF1bHRPcHRpb25zLm1qc1wiO1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgZW5kT2ZXZWVrfSBmdW5jdGlvbiBvcHRpb25zLlxuICovXG5cbi8qKlxuICogQG5hbWUgZW5kT2ZXZWVrXG4gKiBAY2F0ZWdvcnkgV2VlayBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIGVuZCBvZiBhIHdlZWsgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBlbmQgb2YgYSB3ZWVrIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSByZXN1bHQgd2lsbCBiZSBpbiB0aGUgbG9jYWwgdGltZXpvbmUuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgb3JpZ2luYWwgZGF0ZVxuICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvYmplY3Qgd2l0aCBvcHRpb25zXG4gKlxuICogQHJldHVybnMgVGhlIGVuZCBvZiBhIHdlZWtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gVGhlIGVuZCBvZiBhIHdlZWsgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBlbmRPZldlZWsobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSlcbiAqIC8vPT4gU2F0IFNlcCAwNiAyMDE0IDIzOjU5OjU5Ljk5OVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0aGUgd2VlayBzdGFydHMgb24gTW9uZGF5LCB0aGUgZW5kIG9mIHRoZSB3ZWVrIGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gZW5kT2ZXZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCksIHsgd2Vla1N0YXJ0c09uOiAxIH0pXG4gKiAvLz0+IFN1biBTZXAgMDcgMjAxNCAyMzo1OTo1OS45OTlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZE9mV2VlayhkYXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zID0gZ2V0RGVmYXVsdE9wdGlvbnMoKTtcbiAgY29uc3Qgd2Vla1N0YXJ0c09uID1cbiAgICBvcHRpb25zPy53ZWVrU3RhcnRzT24gPz9cbiAgICBvcHRpb25zPy5sb2NhbGU/Lm9wdGlvbnM/LndlZWtTdGFydHNPbiA/P1xuICAgIGRlZmF1bHRPcHRpb25zLndlZWtTdGFydHNPbiA/P1xuICAgIGRlZmF1bHRPcHRpb25zLmxvY2FsZT8ub3B0aW9ucz8ud2Vla1N0YXJ0c09uID8/XG4gICAgMDtcblxuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgY29uc3QgZGF5ID0gX2RhdGUuZ2V0RGF5KCk7XG4gIGNvbnN0IGRpZmYgPSAoZGF5IDwgd2Vla1N0YXJ0c09uID8gLTcgOiAwKSArIDYgLSAoZGF5IC0gd2Vla1N0YXJ0c09uKTtcblxuICBfZGF0ZS5zZXREYXRlKF9kYXRlLmdldERhdGUoKSArIGRpZmYpO1xuICBfZGF0ZS5zZXRIb3VycygyMywgNTksIDU5LCA5OTkpO1xuICByZXR1cm4gX2RhdGU7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgZW5kT2ZXZWVrO1xuIiwgImNvbnN0IGZvcm1hdERpc3RhbmNlTG9jYWxlID0ge1xuICBsZXNzVGhhblhTZWNvbmRzOiB7XG4gICAgb25lOiBcImxlc3MgdGhhbiBhIHNlY29uZFwiLFxuICAgIG90aGVyOiBcImxlc3MgdGhhbiB7e2NvdW50fX0gc2Vjb25kc1wiLFxuICB9LFxuXG4gIHhTZWNvbmRzOiB7XG4gICAgb25lOiBcIjEgc2Vjb25kXCIsXG4gICAgb3RoZXI6IFwie3tjb3VudH19IHNlY29uZHNcIixcbiAgfSxcblxuICBoYWxmQU1pbnV0ZTogXCJoYWxmIGEgbWludXRlXCIsXG5cbiAgbGVzc1RoYW5YTWludXRlczoge1xuICAgIG9uZTogXCJsZXNzIHRoYW4gYSBtaW51dGVcIixcbiAgICBvdGhlcjogXCJsZXNzIHRoYW4ge3tjb3VudH19IG1pbnV0ZXNcIixcbiAgfSxcblxuICB4TWludXRlczoge1xuICAgIG9uZTogXCIxIG1pbnV0ZVwiLFxuICAgIG90aGVyOiBcInt7Y291bnR9fSBtaW51dGVzXCIsXG4gIH0sXG5cbiAgYWJvdXRYSG91cnM6IHtcbiAgICBvbmU6IFwiYWJvdXQgMSBob3VyXCIsXG4gICAgb3RoZXI6IFwiYWJvdXQge3tjb3VudH19IGhvdXJzXCIsXG4gIH0sXG5cbiAgeEhvdXJzOiB7XG4gICAgb25lOiBcIjEgaG91clwiLFxuICAgIG90aGVyOiBcInt7Y291bnR9fSBob3Vyc1wiLFxuICB9LFxuXG4gIHhEYXlzOiB7XG4gICAgb25lOiBcIjEgZGF5XCIsXG4gICAgb3RoZXI6IFwie3tjb3VudH19IGRheXNcIixcbiAgfSxcblxuICBhYm91dFhXZWVrczoge1xuICAgIG9uZTogXCJhYm91dCAxIHdlZWtcIixcbiAgICBvdGhlcjogXCJhYm91dCB7e2NvdW50fX0gd2Vla3NcIixcbiAgfSxcblxuICB4V2Vla3M6IHtcbiAgICBvbmU6IFwiMSB3ZWVrXCIsXG4gICAgb3RoZXI6IFwie3tjb3VudH19IHdlZWtzXCIsXG4gIH0sXG5cbiAgYWJvdXRYTW9udGhzOiB7XG4gICAgb25lOiBcImFib3V0IDEgbW9udGhcIixcbiAgICBvdGhlcjogXCJhYm91dCB7e2NvdW50fX0gbW9udGhzXCIsXG4gIH0sXG5cbiAgeE1vbnRoczoge1xuICAgIG9uZTogXCIxIG1vbnRoXCIsXG4gICAgb3RoZXI6IFwie3tjb3VudH19IG1vbnRoc1wiLFxuICB9LFxuXG4gIGFib3V0WFllYXJzOiB7XG4gICAgb25lOiBcImFib3V0IDEgeWVhclwiLFxuICAgIG90aGVyOiBcImFib3V0IHt7Y291bnR9fSB5ZWFyc1wiLFxuICB9LFxuXG4gIHhZZWFyczoge1xuICAgIG9uZTogXCIxIHllYXJcIixcbiAgICBvdGhlcjogXCJ7e2NvdW50fX0geWVhcnNcIixcbiAgfSxcblxuICBvdmVyWFllYXJzOiB7XG4gICAgb25lOiBcIm92ZXIgMSB5ZWFyXCIsXG4gICAgb3RoZXI6IFwib3ZlciB7e2NvdW50fX0geWVhcnNcIixcbiAgfSxcblxuICBhbG1vc3RYWWVhcnM6IHtcbiAgICBvbmU6IFwiYWxtb3N0IDEgeWVhclwiLFxuICAgIG90aGVyOiBcImFsbW9zdCB7e2NvdW50fX0geWVhcnNcIixcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBmb3JtYXREaXN0YW5jZSA9ICh0b2tlbiwgY291bnQsIG9wdGlvbnMpID0+IHtcbiAgbGV0IHJlc3VsdDtcblxuICBjb25zdCB0b2tlblZhbHVlID0gZm9ybWF0RGlzdGFuY2VMb2NhbGVbdG9rZW5dO1xuICBpZiAodHlwZW9mIHRva2VuVmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXN1bHQgPSB0b2tlblZhbHVlO1xuICB9IGVsc2UgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgcmVzdWx0ID0gdG9rZW5WYWx1ZS5vbmU7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gdG9rZW5WYWx1ZS5vdGhlci5yZXBsYWNlKFwie3tjb3VudH19XCIsIGNvdW50LnRvU3RyaW5nKCkpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnM/LmFkZFN1ZmZpeCkge1xuICAgIGlmIChvcHRpb25zLmNvbXBhcmlzb24gJiYgb3B0aW9ucy5jb21wYXJpc29uID4gMCkge1xuICAgICAgcmV0dXJuIFwiaW4gXCIgKyByZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyBcIiBhZ29cIjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsICJleHBvcnQgZnVuY3Rpb24gYnVpbGRGb3JtYXRMb25nRm4oYXJncykge1xuICByZXR1cm4gKG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIC8vIFRPRE86IFJlbW92ZSBTdHJpbmcoKVxuICAgIGNvbnN0IHdpZHRoID0gb3B0aW9ucy53aWR0aCA/IFN0cmluZyhvcHRpb25zLndpZHRoKSA6IGFyZ3MuZGVmYXVsdFdpZHRoO1xuICAgIGNvbnN0IGZvcm1hdCA9IGFyZ3MuZm9ybWF0c1t3aWR0aF0gfHwgYXJncy5mb3JtYXRzW2FyZ3MuZGVmYXVsdFdpZHRoXTtcbiAgICByZXR1cm4gZm9ybWF0O1xuICB9O1xufVxuIiwgImltcG9ydCB7IGJ1aWxkRm9ybWF0TG9uZ0ZuIH0gZnJvbSBcIi4uLy4uL19saWIvYnVpbGRGb3JtYXRMb25nRm4ubWpzXCI7XG5cbmNvbnN0IGRhdGVGb3JtYXRzID0ge1xuICBmdWxsOiBcIkVFRUUsIE1NTU0gZG8sIHlcIixcbiAgbG9uZzogXCJNTU1NIGRvLCB5XCIsXG4gIG1lZGl1bTogXCJNTU0gZCwgeVwiLFxuICBzaG9ydDogXCJNTS9kZC95eXl5XCIsXG59O1xuXG5jb25zdCB0aW1lRm9ybWF0cyA9IHtcbiAgZnVsbDogXCJoOm1tOnNzIGEgenp6elwiLFxuICBsb25nOiBcImg6bW06c3MgYSB6XCIsXG4gIG1lZGl1bTogXCJoOm1tOnNzIGFcIixcbiAgc2hvcnQ6IFwiaDptbSBhXCIsXG59O1xuXG5jb25zdCBkYXRlVGltZUZvcm1hdHMgPSB7XG4gIGZ1bGw6IFwie3tkYXRlfX0gJ2F0JyB7e3RpbWV9fVwiLFxuICBsb25nOiBcInt7ZGF0ZX19ICdhdCcge3t0aW1lfX1cIixcbiAgbWVkaXVtOiBcInt7ZGF0ZX19LCB7e3RpbWV9fVwiLFxuICBzaG9ydDogXCJ7e2RhdGV9fSwge3t0aW1lfX1cIixcbn07XG5cbmV4cG9ydCBjb25zdCBmb3JtYXRMb25nID0ge1xuICBkYXRlOiBidWlsZEZvcm1hdExvbmdGbih7XG4gICAgZm9ybWF0czogZGF0ZUZvcm1hdHMsXG4gICAgZGVmYXVsdFdpZHRoOiBcImZ1bGxcIixcbiAgfSksXG5cbiAgdGltZTogYnVpbGRGb3JtYXRMb25nRm4oe1xuICAgIGZvcm1hdHM6IHRpbWVGb3JtYXRzLFxuICAgIGRlZmF1bHRXaWR0aDogXCJmdWxsXCIsXG4gIH0pLFxuXG4gIGRhdGVUaW1lOiBidWlsZEZvcm1hdExvbmdGbih7XG4gICAgZm9ybWF0czogZGF0ZVRpbWVGb3JtYXRzLFxuICAgIGRlZmF1bHRXaWR0aDogXCJmdWxsXCIsXG4gIH0pLFxufTtcbiIsICJjb25zdCBmb3JtYXRSZWxhdGl2ZUxvY2FsZSA9IHtcbiAgbGFzdFdlZWs6IFwiJ2xhc3QnIGVlZWUgJ2F0JyBwXCIsXG4gIHllc3RlcmRheTogXCIneWVzdGVyZGF5IGF0JyBwXCIsXG4gIHRvZGF5OiBcIid0b2RheSBhdCcgcFwiLFxuICB0b21vcnJvdzogXCIndG9tb3Jyb3cgYXQnIHBcIixcbiAgbmV4dFdlZWs6IFwiZWVlZSAnYXQnIHBcIixcbiAgb3RoZXI6IFwiUFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdFJlbGF0aXZlID0gKHRva2VuLCBfZGF0ZSwgX2Jhc2VEYXRlLCBfb3B0aW9ucykgPT5cbiAgZm9ybWF0UmVsYXRpdmVMb2NhbGVbdG9rZW5dO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5cbi8qKlxuICogVGhlIGxvY2FsaXplIGZ1bmN0aW9uIGFyZ3VtZW50IGNhbGxiYWNrIHdoaWNoIGFsbG93cyB0byBjb252ZXJ0IHJhdyB2YWx1ZSB0b1xuICogdGhlIGFjdHVhbCB0eXBlLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjb252ZXJ0XG4gKlxuICogQHJldHVybnMgVGhlIGNvbnZlcnRlZCB2YWx1ZVxuICovXG5cbi8qKlxuICogVGhlIG1hcCBvZiBsb2NhbGl6ZWQgdmFsdWVzIGZvciBlYWNoIHdpZHRoLlxuICovXG5cbi8qKlxuICogVGhlIGluZGV4IHR5cGUgb2YgdGhlIGxvY2FsZSB1bml0IHZhbHVlLiBJdCB0eXBlcyBjb252ZXJzaW9uIG9mIHVuaXRzIG9mXG4gKiB2YWx1ZXMgdGhhdCBkb24ndCBzdGFydCBhdCAwIChpLmUuIHF1YXJ0ZXJzKS5cbiAqL1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSB1bml0IHZhbHVlIHRvIHRoZSB0dXBsZSBvZiB2YWx1ZXMuXG4gKi9cblxuLyoqXG4gKiBUaGUgdHVwbGUgb2YgbG9jYWxpemVkIGVyYSB2YWx1ZXMuIFRoZSBmaXJzdCBlbGVtZW50IHJlcHJlc2VudHMgQkMsXG4gKiB0aGUgc2Vjb25kIGVsZW1lbnQgcmVwcmVzZW50cyBBRC5cbiAqL1xuXG4vKipcbiAqIFRoZSB0dXBsZSBvZiBsb2NhbGl6ZWQgcXVhcnRlciB2YWx1ZXMuIFRoZSBmaXJzdCBlbGVtZW50IHJlcHJlc2VudHMgUTEuXG4gKi9cblxuLyoqXG4gKiBUaGUgdHVwbGUgb2YgbG9jYWxpemVkIGRheSB2YWx1ZXMuIFRoZSBmaXJzdCBlbGVtZW50IHJlcHJlc2VudHMgU3VuZGF5LlxuICovXG5cbi8qKlxuICogVGhlIHR1cGxlIG9mIGxvY2FsaXplZCBtb250aCB2YWx1ZXMuIFRoZSBmaXJzdCBlbGVtZW50IHJlcHJlc2VudHMgSmFudWFyeS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRMb2NhbGl6ZUZuKGFyZ3MpIHtcbiAgcmV0dXJuICh2YWx1ZSwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSBvcHRpb25zPy5jb250ZXh0ID8gU3RyaW5nKG9wdGlvbnMuY29udGV4dCkgOiBcInN0YW5kYWxvbmVcIjtcblxuICAgIGxldCB2YWx1ZXNBcnJheTtcbiAgICBpZiAoY29udGV4dCA9PT0gXCJmb3JtYXR0aW5nXCIgJiYgYXJncy5mb3JtYXR0aW5nVmFsdWVzKSB7XG4gICAgICBjb25zdCBkZWZhdWx0V2lkdGggPSBhcmdzLmRlZmF1bHRGb3JtYXR0aW5nV2lkdGggfHwgYXJncy5kZWZhdWx0V2lkdGg7XG4gICAgICBjb25zdCB3aWR0aCA9IG9wdGlvbnM/LndpZHRoID8gU3RyaW5nKG9wdGlvbnMud2lkdGgpIDogZGVmYXVsdFdpZHRoO1xuXG4gICAgICB2YWx1ZXNBcnJheSA9XG4gICAgICAgIGFyZ3MuZm9ybWF0dGluZ1ZhbHVlc1t3aWR0aF0gfHwgYXJncy5mb3JtYXR0aW5nVmFsdWVzW2RlZmF1bHRXaWR0aF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRlZmF1bHRXaWR0aCA9IGFyZ3MuZGVmYXVsdFdpZHRoO1xuICAgICAgY29uc3Qgd2lkdGggPSBvcHRpb25zPy53aWR0aCA/IFN0cmluZyhvcHRpb25zLndpZHRoKSA6IGFyZ3MuZGVmYXVsdFdpZHRoO1xuXG4gICAgICB2YWx1ZXNBcnJheSA9IGFyZ3MudmFsdWVzW3dpZHRoXSB8fCBhcmdzLnZhbHVlc1tkZWZhdWx0V2lkdGhdO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IGFyZ3MuYXJndW1lbnRDYWxsYmFjayA/IGFyZ3MuYXJndW1lbnRDYWxsYmFjayh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBGb3Igc29tZSByZWFzb24gVHlwZVNjcmlwdCBqdXN0IGRvbid0IHdhbnQgdG8gbWF0Y2ggaXQsIG5vIG1hdHRlciBob3cgaGFyZCB3ZSB0cnkuIEkgY2hhbGxlbmdlIHlvdSB0byB0cnkgdG8gcmVtb3ZlIGl0IVxuICAgIHJldHVybiB2YWx1ZXNBcnJheVtpbmRleF07XG4gIH07XG59XG4iLCAiaW1wb3J0IHsgYnVpbGRMb2NhbGl6ZUZuIH0gZnJvbSBcIi4uLy4uL19saWIvYnVpbGRMb2NhbGl6ZUZuLm1qc1wiO1xuXG5jb25zdCBlcmFWYWx1ZXMgPSB7XG4gIG5hcnJvdzogW1wiQlwiLCBcIkFcIl0sXG4gIGFiYnJldmlhdGVkOiBbXCJCQ1wiLCBcIkFEXCJdLFxuICB3aWRlOiBbXCJCZWZvcmUgQ2hyaXN0XCIsIFwiQW5ubyBEb21pbmlcIl0sXG59O1xuXG5jb25zdCBxdWFydGVyVmFsdWVzID0ge1xuICBuYXJyb3c6IFtcIjFcIiwgXCIyXCIsIFwiM1wiLCBcIjRcIl0sXG4gIGFiYnJldmlhdGVkOiBbXCJRMVwiLCBcIlEyXCIsIFwiUTNcIiwgXCJRNFwiXSxcbiAgd2lkZTogW1wiMXN0IHF1YXJ0ZXJcIiwgXCIybmQgcXVhcnRlclwiLCBcIjNyZCBxdWFydGVyXCIsIFwiNHRoIHF1YXJ0ZXJcIl0sXG59O1xuXG4vLyBOb3RlOiBpbiBFbmdsaXNoLCB0aGUgbmFtZXMgb2YgZGF5cyBvZiB0aGUgd2VlayBhbmQgbW9udGhzIGFyZSBjYXBpdGFsaXplZC5cbi8vIElmIHlvdSBhcmUgbWFraW5nIGEgbmV3IGxvY2FsZSBiYXNlZCBvbiB0aGlzIG9uZSwgY2hlY2sgaWYgdGhlIHNhbWUgaXMgdHJ1ZSBmb3IgdGhlIGxhbmd1YWdlIHlvdSdyZSB3b3JraW5nIG9uLlxuLy8gR2VuZXJhbGx5LCBmb3JtYXR0ZWQgZGF0ZXMgc2hvdWxkIGxvb2sgbGlrZSB0aGV5IGFyZSBpbiB0aGUgbWlkZGxlIG9mIGEgc2VudGVuY2UsXG4vLyBlLmcuIGluIFNwYW5pc2ggbGFuZ3VhZ2UgdGhlIHdlZWtkYXlzIGFuZCBtb250aHMgc2hvdWxkIGJlIGluIHRoZSBsb3dlcmNhc2UuXG5jb25zdCBtb250aFZhbHVlcyA9IHtcbiAgbmFycm93OiBbXCJKXCIsIFwiRlwiLCBcIk1cIiwgXCJBXCIsIFwiTVwiLCBcIkpcIiwgXCJKXCIsIFwiQVwiLCBcIlNcIiwgXCJPXCIsIFwiTlwiLCBcIkRcIl0sXG4gIGFiYnJldmlhdGVkOiBbXG4gICAgXCJKYW5cIixcbiAgICBcIkZlYlwiLFxuICAgIFwiTWFyXCIsXG4gICAgXCJBcHJcIixcbiAgICBcIk1heVwiLFxuICAgIFwiSnVuXCIsXG4gICAgXCJKdWxcIixcbiAgICBcIkF1Z1wiLFxuICAgIFwiU2VwXCIsXG4gICAgXCJPY3RcIixcbiAgICBcIk5vdlwiLFxuICAgIFwiRGVjXCIsXG4gIF0sXG5cbiAgd2lkZTogW1xuICAgIFwiSmFudWFyeVwiLFxuICAgIFwiRmVicnVhcnlcIixcbiAgICBcIk1hcmNoXCIsXG4gICAgXCJBcHJpbFwiLFxuICAgIFwiTWF5XCIsXG4gICAgXCJKdW5lXCIsXG4gICAgXCJKdWx5XCIsXG4gICAgXCJBdWd1c3RcIixcbiAgICBcIlNlcHRlbWJlclwiLFxuICAgIFwiT2N0b2JlclwiLFxuICAgIFwiTm92ZW1iZXJcIixcbiAgICBcIkRlY2VtYmVyXCIsXG4gIF0sXG59O1xuXG5jb25zdCBkYXlWYWx1ZXMgPSB7XG4gIG5hcnJvdzogW1wiU1wiLCBcIk1cIiwgXCJUXCIsIFwiV1wiLCBcIlRcIiwgXCJGXCIsIFwiU1wiXSxcbiAgc2hvcnQ6IFtcIlN1XCIsIFwiTW9cIiwgXCJUdVwiLCBcIldlXCIsIFwiVGhcIiwgXCJGclwiLCBcIlNhXCJdLFxuICBhYmJyZXZpYXRlZDogW1wiU3VuXCIsIFwiTW9uXCIsIFwiVHVlXCIsIFwiV2VkXCIsIFwiVGh1XCIsIFwiRnJpXCIsIFwiU2F0XCJdLFxuICB3aWRlOiBbXG4gICAgXCJTdW5kYXlcIixcbiAgICBcIk1vbmRheVwiLFxuICAgIFwiVHVlc2RheVwiLFxuICAgIFwiV2VkbmVzZGF5XCIsXG4gICAgXCJUaHVyc2RheVwiLFxuICAgIFwiRnJpZGF5XCIsXG4gICAgXCJTYXR1cmRheVwiLFxuICBdLFxufTtcblxuY29uc3QgZGF5UGVyaW9kVmFsdWVzID0ge1xuICBuYXJyb3c6IHtcbiAgICBhbTogXCJhXCIsXG4gICAgcG06IFwicFwiLFxuICAgIG1pZG5pZ2h0OiBcIm1pXCIsXG4gICAgbm9vbjogXCJuXCIsXG4gICAgbW9ybmluZzogXCJtb3JuaW5nXCIsXG4gICAgYWZ0ZXJub29uOiBcImFmdGVybm9vblwiLFxuICAgIGV2ZW5pbmc6IFwiZXZlbmluZ1wiLFxuICAgIG5pZ2h0OiBcIm5pZ2h0XCIsXG4gIH0sXG4gIGFiYnJldmlhdGVkOiB7XG4gICAgYW06IFwiQU1cIixcbiAgICBwbTogXCJQTVwiLFxuICAgIG1pZG5pZ2h0OiBcIm1pZG5pZ2h0XCIsXG4gICAgbm9vbjogXCJub29uXCIsXG4gICAgbW9ybmluZzogXCJtb3JuaW5nXCIsXG4gICAgYWZ0ZXJub29uOiBcImFmdGVybm9vblwiLFxuICAgIGV2ZW5pbmc6IFwiZXZlbmluZ1wiLFxuICAgIG5pZ2h0OiBcIm5pZ2h0XCIsXG4gIH0sXG4gIHdpZGU6IHtcbiAgICBhbTogXCJhLm0uXCIsXG4gICAgcG06IFwicC5tLlwiLFxuICAgIG1pZG5pZ2h0OiBcIm1pZG5pZ2h0XCIsXG4gICAgbm9vbjogXCJub29uXCIsXG4gICAgbW9ybmluZzogXCJtb3JuaW5nXCIsXG4gICAgYWZ0ZXJub29uOiBcImFmdGVybm9vblwiLFxuICAgIGV2ZW5pbmc6IFwiZXZlbmluZ1wiLFxuICAgIG5pZ2h0OiBcIm5pZ2h0XCIsXG4gIH0sXG59O1xuXG5jb25zdCBmb3JtYXR0aW5nRGF5UGVyaW9kVmFsdWVzID0ge1xuICBuYXJyb3c6IHtcbiAgICBhbTogXCJhXCIsXG4gICAgcG06IFwicFwiLFxuICAgIG1pZG5pZ2h0OiBcIm1pXCIsXG4gICAgbm9vbjogXCJuXCIsXG4gICAgbW9ybmluZzogXCJpbiB0aGUgbW9ybmluZ1wiLFxuICAgIGFmdGVybm9vbjogXCJpbiB0aGUgYWZ0ZXJub29uXCIsXG4gICAgZXZlbmluZzogXCJpbiB0aGUgZXZlbmluZ1wiLFxuICAgIG5pZ2h0OiBcImF0IG5pZ2h0XCIsXG4gIH0sXG4gIGFiYnJldmlhdGVkOiB7XG4gICAgYW06IFwiQU1cIixcbiAgICBwbTogXCJQTVwiLFxuICAgIG1pZG5pZ2h0OiBcIm1pZG5pZ2h0XCIsXG4gICAgbm9vbjogXCJub29uXCIsXG4gICAgbW9ybmluZzogXCJpbiB0aGUgbW9ybmluZ1wiLFxuICAgIGFmdGVybm9vbjogXCJpbiB0aGUgYWZ0ZXJub29uXCIsXG4gICAgZXZlbmluZzogXCJpbiB0aGUgZXZlbmluZ1wiLFxuICAgIG5pZ2h0OiBcImF0IG5pZ2h0XCIsXG4gIH0sXG4gIHdpZGU6IHtcbiAgICBhbTogXCJhLm0uXCIsXG4gICAgcG06IFwicC5tLlwiLFxuICAgIG1pZG5pZ2h0OiBcIm1pZG5pZ2h0XCIsXG4gICAgbm9vbjogXCJub29uXCIsXG4gICAgbW9ybmluZzogXCJpbiB0aGUgbW9ybmluZ1wiLFxuICAgIGFmdGVybm9vbjogXCJpbiB0aGUgYWZ0ZXJub29uXCIsXG4gICAgZXZlbmluZzogXCJpbiB0aGUgZXZlbmluZ1wiLFxuICAgIG5pZ2h0OiBcImF0IG5pZ2h0XCIsXG4gIH0sXG59O1xuXG5jb25zdCBvcmRpbmFsTnVtYmVyID0gKGRpcnR5TnVtYmVyLCBfb3B0aW9ucykgPT4ge1xuICBjb25zdCBudW1iZXIgPSBOdW1iZXIoZGlydHlOdW1iZXIpO1xuXG4gIC8vIElmIG9yZGluYWwgbnVtYmVycyBkZXBlbmQgb24gY29udGV4dCwgZm9yIGV4YW1wbGUsXG4gIC8vIGlmIHRoZXkgYXJlIGRpZmZlcmVudCBmb3IgZGlmZmVyZW50IGdyYW1tYXRpY2FsIGdlbmRlcnMsXG4gIC8vIHVzZSBgb3B0aW9ucy51bml0YC5cbiAgLy9cbiAgLy8gYHVuaXRgIGNhbiBiZSAneWVhcicsICdxdWFydGVyJywgJ21vbnRoJywgJ3dlZWsnLCAnZGF0ZScsICdkYXlPZlllYXInLFxuICAvLyAnZGF5JywgJ2hvdXInLCAnbWludXRlJywgJ3NlY29uZCcuXG5cbiAgY29uc3QgcmVtMTAwID0gbnVtYmVyICUgMTAwO1xuICBpZiAocmVtMTAwID4gMjAgfHwgcmVtMTAwIDwgMTApIHtcbiAgICBzd2l0Y2ggKHJlbTEwMCAlIDEwKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiBudW1iZXIgKyBcInN0XCI7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiBudW1iZXIgKyBcIm5kXCI7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiBudW1iZXIgKyBcInJkXCI7XG4gICAgfVxuICB9XG4gIHJldHVybiBudW1iZXIgKyBcInRoXCI7XG59O1xuXG5leHBvcnQgY29uc3QgbG9jYWxpemUgPSB7XG4gIG9yZGluYWxOdW1iZXIsXG5cbiAgZXJhOiBidWlsZExvY2FsaXplRm4oe1xuICAgIHZhbHVlczogZXJhVmFsdWVzLFxuICAgIGRlZmF1bHRXaWR0aDogXCJ3aWRlXCIsXG4gIH0pLFxuXG4gIHF1YXJ0ZXI6IGJ1aWxkTG9jYWxpemVGbih7XG4gICAgdmFsdWVzOiBxdWFydGVyVmFsdWVzLFxuICAgIGRlZmF1bHRXaWR0aDogXCJ3aWRlXCIsXG4gICAgYXJndW1lbnRDYWxsYmFjazogKHF1YXJ0ZXIpID0+IHF1YXJ0ZXIgLSAxLFxuICB9KSxcblxuICBtb250aDogYnVpbGRMb2NhbGl6ZUZuKHtcbiAgICB2YWx1ZXM6IG1vbnRoVmFsdWVzLFxuICAgIGRlZmF1bHRXaWR0aDogXCJ3aWRlXCIsXG4gIH0pLFxuXG4gIGRheTogYnVpbGRMb2NhbGl6ZUZuKHtcbiAgICB2YWx1ZXM6IGRheVZhbHVlcyxcbiAgICBkZWZhdWx0V2lkdGg6IFwid2lkZVwiLFxuICB9KSxcblxuICBkYXlQZXJpb2Q6IGJ1aWxkTG9jYWxpemVGbih7XG4gICAgdmFsdWVzOiBkYXlQZXJpb2RWYWx1ZXMsXG4gICAgZGVmYXVsdFdpZHRoOiBcIndpZGVcIixcbiAgICBmb3JtYXR0aW5nVmFsdWVzOiBmb3JtYXR0aW5nRGF5UGVyaW9kVmFsdWVzLFxuICAgIGRlZmF1bHRGb3JtYXR0aW5nV2lkdGg6IFwid2lkZVwiLFxuICB9KSxcbn07XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTWF0Y2hGbihhcmdzKSB7XG4gIHJldHVybiAoc3RyaW5nLCBvcHRpb25zID0ge30pID0+IHtcbiAgICBjb25zdCB3aWR0aCA9IG9wdGlvbnMud2lkdGg7XG5cbiAgICBjb25zdCBtYXRjaFBhdHRlcm4gPVxuICAgICAgKHdpZHRoICYmIGFyZ3MubWF0Y2hQYXR0ZXJuc1t3aWR0aF0pIHx8XG4gICAgICBhcmdzLm1hdGNoUGF0dGVybnNbYXJncy5kZWZhdWx0TWF0Y2hXaWR0aF07XG4gICAgY29uc3QgbWF0Y2hSZXN1bHQgPSBzdHJpbmcubWF0Y2gobWF0Y2hQYXR0ZXJuKTtcblxuICAgIGlmICghbWF0Y2hSZXN1bHQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBtYXRjaGVkU3RyaW5nID0gbWF0Y2hSZXN1bHRbMF07XG5cbiAgICBjb25zdCBwYXJzZVBhdHRlcm5zID1cbiAgICAgICh3aWR0aCAmJiBhcmdzLnBhcnNlUGF0dGVybnNbd2lkdGhdKSB8fFxuICAgICAgYXJncy5wYXJzZVBhdHRlcm5zW2FyZ3MuZGVmYXVsdFBhcnNlV2lkdGhdO1xuXG4gICAgY29uc3Qga2V5ID0gQXJyYXkuaXNBcnJheShwYXJzZVBhdHRlcm5zKVxuICAgICAgPyBmaW5kSW5kZXgocGFyc2VQYXR0ZXJucywgKHBhdHRlcm4pID0+IHBhdHRlcm4udGVzdChtYXRjaGVkU3RyaW5nKSlcbiAgICAgIDogLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgLS0gSSBjaGFsbGFuZ2UgeW91IHRvIGZpeCB0aGUgdHlwZVxuICAgICAgICBmaW5kS2V5KHBhcnNlUGF0dGVybnMsIChwYXR0ZXJuKSA9PiBwYXR0ZXJuLnRlc3QobWF0Y2hlZFN0cmluZykpO1xuXG4gICAgbGV0IHZhbHVlO1xuXG4gICAgdmFsdWUgPSBhcmdzLnZhbHVlQ2FsbGJhY2sgPyBhcmdzLnZhbHVlQ2FsbGJhY2soa2V5KSA6IGtleTtcbiAgICB2YWx1ZSA9IG9wdGlvbnMudmFsdWVDYWxsYmFja1xuICAgICAgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAtLSBJIGNoYWxsYW5nZSB5b3UgdG8gZml4IHRoZSB0eXBlXG4gICAgICAgIG9wdGlvbnMudmFsdWVDYWxsYmFjayh2YWx1ZSlcbiAgICAgIDogdmFsdWU7XG5cbiAgICBjb25zdCByZXN0ID0gc3RyaW5nLnNsaWNlKG1hdGNoZWRTdHJpbmcubGVuZ3RoKTtcblxuICAgIHJldHVybiB7IHZhbHVlLCByZXN0IH07XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZpbmRLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgaWYgKFxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJlxuICAgICAgcHJlZGljYXRlKG9iamVjdFtrZXldKVxuICAgICkge1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgZm9yIChsZXQga2V5ID0gMDsga2V5IDwgYXJyYXkubGVuZ3RoOyBrZXkrKykge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyYXlba2V5XSkpIHtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTWF0Y2hQYXR0ZXJuRm4oYXJncykge1xuICByZXR1cm4gKHN0cmluZywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgY29uc3QgbWF0Y2hSZXN1bHQgPSBzdHJpbmcubWF0Y2goYXJncy5tYXRjaFBhdHRlcm4pO1xuICAgIGlmICghbWF0Y2hSZXN1bHQpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IG1hdGNoZWRTdHJpbmcgPSBtYXRjaFJlc3VsdFswXTtcblxuICAgIGNvbnN0IHBhcnNlUmVzdWx0ID0gc3RyaW5nLm1hdGNoKGFyZ3MucGFyc2VQYXR0ZXJuKTtcbiAgICBpZiAoIXBhcnNlUmVzdWx0KSByZXR1cm4gbnVsbDtcbiAgICBsZXQgdmFsdWUgPSBhcmdzLnZhbHVlQ2FsbGJhY2tcbiAgICAgID8gYXJncy52YWx1ZUNhbGxiYWNrKHBhcnNlUmVzdWx0WzBdKVxuICAgICAgOiBwYXJzZVJlc3VsdFswXTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55IC0tIEkgY2hhbGxhbmdlIHlvdSB0byBmaXggdGhlIHR5cGVcbiAgICB2YWx1ZSA9IG9wdGlvbnMudmFsdWVDYWxsYmFjayA/IG9wdGlvbnMudmFsdWVDYWxsYmFjayh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgIGNvbnN0IHJlc3QgPSBzdHJpbmcuc2xpY2UobWF0Y2hlZFN0cmluZy5sZW5ndGgpO1xuXG4gICAgcmV0dXJuIHsgdmFsdWUsIHJlc3QgfTtcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBidWlsZE1hdGNoRm4gfSBmcm9tIFwiLi4vLi4vX2xpYi9idWlsZE1hdGNoRm4ubWpzXCI7XG5pbXBvcnQgeyBidWlsZE1hdGNoUGF0dGVybkZuIH0gZnJvbSBcIi4uLy4uL19saWIvYnVpbGRNYXRjaFBhdHRlcm5Gbi5tanNcIjtcblxuY29uc3QgbWF0Y2hPcmRpbmFsTnVtYmVyUGF0dGVybiA9IC9eKFxcZCspKHRofHN0fG5kfHJkKT8vaTtcbmNvbnN0IHBhcnNlT3JkaW5hbE51bWJlclBhdHRlcm4gPSAvXFxkKy9pO1xuXG5jb25zdCBtYXRjaEVyYVBhdHRlcm5zID0ge1xuICBuYXJyb3c6IC9eKGJ8YSkvaSxcbiAgYWJicmV2aWF0ZWQ6IC9eKGJcXC4/XFxzP2NcXC4/fGJcXC4/XFxzP2NcXC4/XFxzP2VcXC4/fGFcXC4/XFxzP2RcXC4/fGNcXC4/XFxzP2VcXC4/KS9pLFxuICB3aWRlOiAvXihiZWZvcmUgY2hyaXN0fGJlZm9yZSBjb21tb24gZXJhfGFubm8gZG9taW5pfGNvbW1vbiBlcmEpL2ksXG59O1xuY29uc3QgcGFyc2VFcmFQYXR0ZXJucyA9IHtcbiAgYW55OiBbL15iL2ksIC9eKGF8YykvaV0sXG59O1xuXG5jb25zdCBtYXRjaFF1YXJ0ZXJQYXR0ZXJucyA9IHtcbiAgbmFycm93OiAvXlsxMjM0XS9pLFxuICBhYmJyZXZpYXRlZDogL15xWzEyMzRdL2ksXG4gIHdpZGU6IC9eWzEyMzRdKHRofHN0fG5kfHJkKT8gcXVhcnRlci9pLFxufTtcbmNvbnN0IHBhcnNlUXVhcnRlclBhdHRlcm5zID0ge1xuICBhbnk6IFsvMS9pLCAvMi9pLCAvMy9pLCAvNC9pXSxcbn07XG5cbmNvbnN0IG1hdGNoTW9udGhQYXR0ZXJucyA9IHtcbiAgbmFycm93OiAvXltqZm1hc29uZF0vaSxcbiAgYWJicmV2aWF0ZWQ6IC9eKGphbnxmZWJ8bWFyfGFwcnxtYXl8anVufGp1bHxhdWd8c2VwfG9jdHxub3Z8ZGVjKS9pLFxuICB3aWRlOiAvXihqYW51YXJ5fGZlYnJ1YXJ5fG1hcmNofGFwcmlsfG1heXxqdW5lfGp1bHl8YXVndXN0fHNlcHRlbWJlcnxvY3RvYmVyfG5vdmVtYmVyfGRlY2VtYmVyKS9pLFxufTtcbmNvbnN0IHBhcnNlTW9udGhQYXR0ZXJucyA9IHtcbiAgbmFycm93OiBbXG4gICAgL15qL2ksXG4gICAgL15mL2ksXG4gICAgL15tL2ksXG4gICAgL15hL2ksXG4gICAgL15tL2ksXG4gICAgL15qL2ksXG4gICAgL15qL2ksXG4gICAgL15hL2ksXG4gICAgL15zL2ksXG4gICAgL15vL2ksXG4gICAgL15uL2ksXG4gICAgL15kL2ksXG4gIF0sXG5cbiAgYW55OiBbXG4gICAgL15qYS9pLFxuICAgIC9eZi9pLFxuICAgIC9ebWFyL2ksXG4gICAgL15hcC9pLFxuICAgIC9ebWF5L2ksXG4gICAgL15qdW4vaSxcbiAgICAvXmp1bC9pLFxuICAgIC9eYXUvaSxcbiAgICAvXnMvaSxcbiAgICAvXm8vaSxcbiAgICAvXm4vaSxcbiAgICAvXmQvaSxcbiAgXSxcbn07XG5cbmNvbnN0IG1hdGNoRGF5UGF0dGVybnMgPSB7XG4gIG5hcnJvdzogL15bc210d2ZdL2ksXG4gIHNob3J0OiAvXihzdXxtb3x0dXx3ZXx0aHxmcnxzYSkvaSxcbiAgYWJicmV2aWF0ZWQ6IC9eKHN1bnxtb258dHVlfHdlZHx0aHV8ZnJpfHNhdCkvaSxcbiAgd2lkZTogL14oc3VuZGF5fG1vbmRheXx0dWVzZGF5fHdlZG5lc2RheXx0aHVyc2RheXxmcmlkYXl8c2F0dXJkYXkpL2ksXG59O1xuY29uc3QgcGFyc2VEYXlQYXR0ZXJucyA9IHtcbiAgbmFycm93OiBbL15zL2ksIC9ebS9pLCAvXnQvaSwgL153L2ksIC9edC9pLCAvXmYvaSwgL15zL2ldLFxuICBhbnk6IFsvXnN1L2ksIC9ebS9pLCAvXnR1L2ksIC9edy9pLCAvXnRoL2ksIC9eZi9pLCAvXnNhL2ldLFxufTtcblxuY29uc3QgbWF0Y2hEYXlQZXJpb2RQYXR0ZXJucyA9IHtcbiAgbmFycm93OiAvXihhfHB8bWl8bnwoaW4gdGhlfGF0KSAobW9ybmluZ3xhZnRlcm5vb258ZXZlbmluZ3xuaWdodCkpL2ksXG4gIGFueTogL14oW2FwXVxcLj9cXHM/bVxcLj98bWlkbmlnaHR8bm9vbnwoaW4gdGhlfGF0KSAobW9ybmluZ3xhZnRlcm5vb258ZXZlbmluZ3xuaWdodCkpL2ksXG59O1xuY29uc3QgcGFyc2VEYXlQZXJpb2RQYXR0ZXJucyA9IHtcbiAgYW55OiB7XG4gICAgYW06IC9eYS9pLFxuICAgIHBtOiAvXnAvaSxcbiAgICBtaWRuaWdodDogL15taS9pLFxuICAgIG5vb246IC9ebm8vaSxcbiAgICBtb3JuaW5nOiAvbW9ybmluZy9pLFxuICAgIGFmdGVybm9vbjogL2FmdGVybm9vbi9pLFxuICAgIGV2ZW5pbmc6IC9ldmVuaW5nL2ksXG4gICAgbmlnaHQ6IC9uaWdodC9pLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IG1hdGNoID0ge1xuICBvcmRpbmFsTnVtYmVyOiBidWlsZE1hdGNoUGF0dGVybkZuKHtcbiAgICBtYXRjaFBhdHRlcm46IG1hdGNoT3JkaW5hbE51bWJlclBhdHRlcm4sXG4gICAgcGFyc2VQYXR0ZXJuOiBwYXJzZU9yZGluYWxOdW1iZXJQYXR0ZXJuLFxuICAgIHZhbHVlQ2FsbGJhY2s6ICh2YWx1ZSkgPT4gcGFyc2VJbnQodmFsdWUsIDEwKSxcbiAgfSksXG5cbiAgZXJhOiBidWlsZE1hdGNoRm4oe1xuICAgIG1hdGNoUGF0dGVybnM6IG1hdGNoRXJhUGF0dGVybnMsXG4gICAgZGVmYXVsdE1hdGNoV2lkdGg6IFwid2lkZVwiLFxuICAgIHBhcnNlUGF0dGVybnM6IHBhcnNlRXJhUGF0dGVybnMsXG4gICAgZGVmYXVsdFBhcnNlV2lkdGg6IFwiYW55XCIsXG4gIH0pLFxuXG4gIHF1YXJ0ZXI6IGJ1aWxkTWF0Y2hGbih7XG4gICAgbWF0Y2hQYXR0ZXJuczogbWF0Y2hRdWFydGVyUGF0dGVybnMsXG4gICAgZGVmYXVsdE1hdGNoV2lkdGg6IFwid2lkZVwiLFxuICAgIHBhcnNlUGF0dGVybnM6IHBhcnNlUXVhcnRlclBhdHRlcm5zLFxuICAgIGRlZmF1bHRQYXJzZVdpZHRoOiBcImFueVwiLFxuICAgIHZhbHVlQ2FsbGJhY2s6IChpbmRleCkgPT4gaW5kZXggKyAxLFxuICB9KSxcblxuICBtb250aDogYnVpbGRNYXRjaEZuKHtcbiAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaE1vbnRoUGF0dGVybnMsXG4gICAgZGVmYXVsdE1hdGNoV2lkdGg6IFwid2lkZVwiLFxuICAgIHBhcnNlUGF0dGVybnM6IHBhcnNlTW9udGhQYXR0ZXJucyxcbiAgICBkZWZhdWx0UGFyc2VXaWR0aDogXCJhbnlcIixcbiAgfSksXG5cbiAgZGF5OiBidWlsZE1hdGNoRm4oe1xuICAgIG1hdGNoUGF0dGVybnM6IG1hdGNoRGF5UGF0dGVybnMsXG4gICAgZGVmYXVsdE1hdGNoV2lkdGg6IFwid2lkZVwiLFxuICAgIHBhcnNlUGF0dGVybnM6IHBhcnNlRGF5UGF0dGVybnMsXG4gICAgZGVmYXVsdFBhcnNlV2lkdGg6IFwiYW55XCIsXG4gIH0pLFxuXG4gIGRheVBlcmlvZDogYnVpbGRNYXRjaEZuKHtcbiAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaERheVBlcmlvZFBhdHRlcm5zLFxuICAgIGRlZmF1bHRNYXRjaFdpZHRoOiBcImFueVwiLFxuICAgIHBhcnNlUGF0dGVybnM6IHBhcnNlRGF5UGVyaW9kUGF0dGVybnMsXG4gICAgZGVmYXVsdFBhcnNlV2lkdGg6IFwiYW55XCIsXG4gIH0pLFxufTtcbiIsICJpbXBvcnQgeyBmb3JtYXREaXN0YW5jZSB9IGZyb20gXCIuL2VuLVVTL19saWIvZm9ybWF0RGlzdGFuY2UubWpzXCI7XG5pbXBvcnQgeyBmb3JtYXRMb25nIH0gZnJvbSBcIi4vZW4tVVMvX2xpYi9mb3JtYXRMb25nLm1qc1wiO1xuaW1wb3J0IHsgZm9ybWF0UmVsYXRpdmUgfSBmcm9tIFwiLi9lbi1VUy9fbGliL2Zvcm1hdFJlbGF0aXZlLm1qc1wiO1xuaW1wb3J0IHsgbG9jYWxpemUgfSBmcm9tIFwiLi9lbi1VUy9fbGliL2xvY2FsaXplLm1qc1wiO1xuaW1wb3J0IHsgbWF0Y2ggfSBmcm9tIFwiLi9lbi1VUy9fbGliL21hdGNoLm1qc1wiO1xuXG4vKipcbiAqIEBjYXRlZ29yeSBMb2NhbGVzXG4gKiBAc3VtbWFyeSBFbmdsaXNoIGxvY2FsZSAoVW5pdGVkIFN0YXRlcykuXG4gKiBAbGFuZ3VhZ2UgRW5nbGlzaFxuICogQGlzby02MzktMiBlbmdcbiAqIEBhdXRob3IgU2FzaGEgS29zcyBbQGtvc3Nub2NvcnBdKGh0dHBzOi8vZ2l0aHViLmNvbS9rb3Nzbm9jb3JwKVxuICogQGF1dGhvciBMZXNoYSBLb3NzIFtAbGVzaGFrb3NzXShodHRwczovL2dpdGh1Yi5jb20vbGVzaGFrb3NzKVxuICovXG5leHBvcnQgY29uc3QgZW5VUyA9IHtcbiAgY29kZTogXCJlbi1VU1wiLFxuICBmb3JtYXREaXN0YW5jZTogZm9ybWF0RGlzdGFuY2UsXG4gIGZvcm1hdExvbmc6IGZvcm1hdExvbmcsXG4gIGZvcm1hdFJlbGF0aXZlOiBmb3JtYXRSZWxhdGl2ZSxcbiAgbG9jYWxpemU6IGxvY2FsaXplLFxuICBtYXRjaDogbWF0Y2gsXG4gIG9wdGlvbnM6IHtcbiAgICB3ZWVrU3RhcnRzT246IDAgLyogU3VuZGF5ICovLFxuICAgIGZpcnN0V2Vla0NvbnRhaW5zRGF0ZTogMSxcbiAgfSxcbn07XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgZW5VUztcbiIsICJpbXBvcnQgeyBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMgfSBmcm9tIFwiLi9kaWZmZXJlbmNlSW5DYWxlbmRhckRheXMubWpzXCI7XG5pbXBvcnQgeyBzdGFydE9mWWVhciB9IGZyb20gXCIuL3N0YXJ0T2ZZZWFyLm1qc1wiO1xuaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGdldERheU9mWWVhclxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBHZXQgdGhlIGRheSBvZiB0aGUgeWVhciBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdldCB0aGUgZGF5IG9mIHRoZSB5ZWFyIG9mIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIGdpdmVuIGRhdGVcbiAqXG4gKiBAcmV0dXJucyBUaGUgZGF5IG9mIHllYXJcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gV2hpY2ggZGF5IG9mIHRoZSB5ZWFyIGlzIDIgSnVseSAyMDE0P1xuICogY29uc3QgcmVzdWx0ID0gZ2V0RGF5T2ZZZWFyKG5ldyBEYXRlKDIwMTQsIDYsIDIpKVxuICogLy89PiAxODNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERheU9mWWVhcihkYXRlKSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICBjb25zdCBkaWZmID0gZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKF9kYXRlLCBzdGFydE9mWWVhcihfZGF0ZSkpO1xuICBjb25zdCBkYXlPZlllYXIgPSBkaWZmICsgMTtcbiAgcmV0dXJuIGRheU9mWWVhcjtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBnZXREYXlPZlllYXI7XG4iLCAiaW1wb3J0IHsgbWlsbGlzZWNvbmRzSW5XZWVrIH0gZnJvbSBcIi4vY29uc3RhbnRzLm1qc1wiO1xuaW1wb3J0IHsgc3RhcnRPZklTT1dlZWsgfSBmcm9tIFwiLi9zdGFydE9mSVNPV2Vlay5tanNcIjtcbmltcG9ydCB7IHN0YXJ0T2ZJU09XZWVrWWVhciB9IGZyb20gXCIuL3N0YXJ0T2ZJU09XZWVrWWVhci5tanNcIjtcbmltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBnZXRJU09XZWVrXG4gKiBAY2F0ZWdvcnkgSVNPIFdlZWsgSGVscGVyc1xuICogQHN1bW1hcnkgR2V0IHRoZSBJU08gd2VlayBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdldCB0aGUgSVNPIHdlZWsgb2YgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogSVNPIHdlZWstbnVtYmVyaW5nIHllYXI6IGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZVxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIGdpdmVuIGRhdGVcbiAqXG4gKiBAcmV0dXJucyBUaGUgSVNPIHdlZWtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gV2hpY2ggd2VlayBvZiB0aGUgSVNPLXdlZWsgbnVtYmVyaW5nIHllYXIgaXMgMiBKYW51YXJ5IDIwMDU/XG4gKiBjb25zdCByZXN1bHQgPSBnZXRJU09XZWVrKG5ldyBEYXRlKDIwMDUsIDAsIDIpKVxuICogLy89PiA1M1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SVNPV2VlayhkYXRlKSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICBjb25zdCBkaWZmID0gK3N0YXJ0T2ZJU09XZWVrKF9kYXRlKSAtICtzdGFydE9mSVNPV2Vla1llYXIoX2RhdGUpO1xuXG4gIC8vIFJvdW5kIHRoZSBudW1iZXIgb2Ygd2Vla3MgdG8gdGhlIG5lYXJlc3QgaW50ZWdlciBiZWNhdXNlIHRoZSBudW1iZXIgb2ZcbiAgLy8gbWlsbGlzZWNvbmRzIGluIGEgd2VlayBpcyBub3QgY29uc3RhbnQgKGUuZy4gaXQncyBkaWZmZXJlbnQgaW4gdGhlIHdlZWsgb2ZcbiAgLy8gdGhlIGRheWxpZ2h0IHNhdmluZyB0aW1lIGNsb2NrIHNoaWZ0KS5cbiAgcmV0dXJuIE1hdGgucm91bmQoZGlmZiAvIG1pbGxpc2Vjb25kc0luV2VlaykgKyAxO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGdldElTT1dlZWs7XG4iLCAiaW1wb3J0IHsgY29uc3RydWN0RnJvbSB9IGZyb20gXCIuL2NvbnN0cnVjdEZyb20ubWpzXCI7XG5pbXBvcnQgeyBzdGFydE9mV2VlayB9IGZyb20gXCIuL3N0YXJ0T2ZXZWVrLm1qc1wiO1xuaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tIFwiLi9fbGliL2RlZmF1bHRPcHRpb25zLm1qc1wiO1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgZ2V0V2Vla1llYXJ9IGZ1bmN0aW9uIG9wdGlvbnMuXG4gKi9cblxuLyoqXG4gKiBAbmFtZSBnZXRXZWVrWWVhclxuICogQGNhdGVnb3J5IFdlZWstTnVtYmVyaW5nIFllYXIgSGVscGVyc1xuICogQHN1bW1hcnkgR2V0IHRoZSBsb2NhbCB3ZWVrLW51bWJlcmluZyB5ZWFyIG9mIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogR2V0IHRoZSBsb2NhbCB3ZWVrLW51bWJlcmluZyB5ZWFyIG9mIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIGV4YWN0IGNhbGN1bGF0aW9uIGRlcGVuZHMgb24gdGhlIHZhbHVlcyBvZlxuICogYG9wdGlvbnMud2Vla1N0YXJ0c09uYCAod2hpY2ggaXMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWspXG4gKiBhbmQgYG9wdGlvbnMuZmlyc3RXZWVrQ29udGFpbnNEYXRlYCAod2hpY2ggaXMgdGhlIGRheSBvZiBKYW51YXJ5LCB3aGljaCBpcyBhbHdheXMgaW5cbiAqIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB3ZWVrLW51bWJlcmluZyB5ZWFyKVxuICpcbiAqIFdlZWsgbnVtYmVyaW5nOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9XZWVrI1RoZV9JU09fd2Vla19kYXRlX3N5c3RlbVxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIGdpdmVuIGRhdGVcbiAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb2JqZWN0IHdpdGggb3B0aW9ucy5cbiAqXG4gKiBAcmV0dXJucyBUaGUgbG9jYWwgd2Vlay1udW1iZXJpbmcgeWVhclxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBXaGljaCB3ZWVrIG51bWJlcmluZyB5ZWFyIGlzIDI2IERlY2VtYmVyIDIwMDQgd2l0aCB0aGUgZGVmYXVsdCBzZXR0aW5ncz9cbiAqIGNvbnN0IHJlc3VsdCA9IGdldFdlZWtZZWFyKG5ldyBEYXRlKDIwMDQsIDExLCAyNikpXG4gKiAvLz0+IDIwMDVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gV2hpY2ggd2VlayBudW1iZXJpbmcgeWVhciBpcyAyNiBEZWNlbWJlciAyMDA0IGlmIHdlZWsgc3RhcnRzIG9uIFNhdHVyZGF5P1xuICogY29uc3QgcmVzdWx0ID0gZ2V0V2Vla1llYXIobmV3IERhdGUoMjAwNCwgMTEsIDI2KSwgeyB3ZWVrU3RhcnRzT246IDYgfSlcbiAqIC8vPT4gMjAwNFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBXaGljaCB3ZWVrIG51bWJlcmluZyB5ZWFyIGlzIDI2IERlY2VtYmVyIDIwMDQgaWYgdGhlIGZpcnN0IHdlZWsgY29udGFpbnMgNCBKYW51YXJ5P1xuICogY29uc3QgcmVzdWx0ID0gZ2V0V2Vla1llYXIobmV3IERhdGUoMjAwNCwgMTEsIDI2KSwgeyBmaXJzdFdlZWtDb250YWluc0RhdGU6IDQgfSlcbiAqIC8vPT4gMjAwNFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2Vla1llYXIoZGF0ZSwgb3B0aW9ucykge1xuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgY29uc3QgeWVhciA9IF9kYXRlLmdldEZ1bGxZZWFyKCk7XG5cbiAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucygpO1xuICBjb25zdCBmaXJzdFdlZWtDb250YWluc0RhdGUgPVxuICAgIG9wdGlvbnM/LmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA/P1xuICAgIG9wdGlvbnM/LmxvY2FsZT8ub3B0aW9ucz8uZmlyc3RXZWVrQ29udGFpbnNEYXRlID8/XG4gICAgZGVmYXVsdE9wdGlvbnMuZmlyc3RXZWVrQ29udGFpbnNEYXRlID8/XG4gICAgZGVmYXVsdE9wdGlvbnMubG9jYWxlPy5vcHRpb25zPy5maXJzdFdlZWtDb250YWluc0RhdGUgPz9cbiAgICAxO1xuXG4gIGNvbnN0IGZpcnN0V2Vla09mTmV4dFllYXIgPSBjb25zdHJ1Y3RGcm9tKGRhdGUsIDApO1xuICBmaXJzdFdlZWtPZk5leHRZZWFyLnNldEZ1bGxZZWFyKHllYXIgKyAxLCAwLCBmaXJzdFdlZWtDb250YWluc0RhdGUpO1xuICBmaXJzdFdlZWtPZk5leHRZZWFyLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICBjb25zdCBzdGFydE9mTmV4dFllYXIgPSBzdGFydE9mV2VlayhmaXJzdFdlZWtPZk5leHRZZWFyLCBvcHRpb25zKTtcblxuICBjb25zdCBmaXJzdFdlZWtPZlRoaXNZZWFyID0gY29uc3RydWN0RnJvbShkYXRlLCAwKTtcbiAgZmlyc3RXZWVrT2ZUaGlzWWVhci5zZXRGdWxsWWVhcih5ZWFyLCAwLCBmaXJzdFdlZWtDb250YWluc0RhdGUpO1xuICBmaXJzdFdlZWtPZlRoaXNZZWFyLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICBjb25zdCBzdGFydE9mVGhpc1llYXIgPSBzdGFydE9mV2VlayhmaXJzdFdlZWtPZlRoaXNZZWFyLCBvcHRpb25zKTtcblxuICBpZiAoX2RhdGUuZ2V0VGltZSgpID49IHN0YXJ0T2ZOZXh0WWVhci5nZXRUaW1lKCkpIHtcbiAgICByZXR1cm4geWVhciArIDE7XG4gIH0gZWxzZSBpZiAoX2RhdGUuZ2V0VGltZSgpID49IHN0YXJ0T2ZUaGlzWWVhci5nZXRUaW1lKCkpIHtcbiAgICByZXR1cm4geWVhcjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geWVhciAtIDE7XG4gIH1cbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBnZXRXZWVrWWVhcjtcbiIsICJpbXBvcnQgeyBjb25zdHJ1Y3RGcm9tIH0gZnJvbSBcIi4vY29uc3RydWN0RnJvbS5tanNcIjtcbmltcG9ydCB7IGdldFdlZWtZZWFyIH0gZnJvbSBcIi4vZ2V0V2Vla1llYXIubWpzXCI7XG5pbXBvcnQgeyBzdGFydE9mV2VlayB9IGZyb20gXCIuL3N0YXJ0T2ZXZWVrLm1qc1wiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tIFwiLi9fbGliL2RlZmF1bHRPcHRpb25zLm1qc1wiO1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgc3RhcnRPZldlZWtZZWFyfSBmdW5jdGlvbiBvcHRpb25zLlxuICovXG5cbi8qKlxuICogQG5hbWUgc3RhcnRPZldlZWtZZWFyXG4gKiBAY2F0ZWdvcnkgV2Vlay1OdW1iZXJpbmcgWWVhciBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgbG9jYWwgd2Vlay1udW1iZXJpbmcgeWVhciBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgbG9jYWwgd2Vlay1udW1iZXJpbmcgeWVhci5cbiAqIFRoZSBleGFjdCBjYWxjdWxhdGlvbiBkZXBlbmRzIG9uIHRoZSB2YWx1ZXMgb2ZcbiAqIGBvcHRpb25zLndlZWtTdGFydHNPbmAgKHdoaWNoIGlzIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrKVxuICogYW5kIGBvcHRpb25zLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZWAgKHdoaWNoIGlzIHRoZSBkYXkgb2YgSmFudWFyeSwgd2hpY2ggaXMgYWx3YXlzIGluXG4gKiB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgd2Vlay1udW1iZXJpbmcgeWVhcilcbiAqXG4gKiBXZWVrIG51bWJlcmluZzogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvV2VlayNUaGVfSVNPX3dlZWtfZGF0ZV9zeXN0ZW1cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBvcmlnaW5hbCBkYXRlXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9iamVjdCB3aXRoIG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJucyBUaGUgc3RhcnQgb2YgYSB3ZWVrLW51bWJlcmluZyB5ZWFyXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhbiBhIHdlZWstbnVtYmVyaW5nIHllYXIgZm9yIDIgSnVseSAyMDA1IHdpdGggZGVmYXVsdCBzZXR0aW5nczpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZXZWVrWWVhcihuZXcgRGF0ZSgyMDA1LCA2LCAyKSlcbiAqIC8vPT4gU3VuIERlYyAyNiAyMDA0IDAwOjAwOjAwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhIHdlZWstbnVtYmVyaW5nIHllYXIgZm9yIDIgSnVseSAyMDA1XG4gKiAvLyBpZiBNb25kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB3ZWVrXG4gKiAvLyBhbmQgNCBKYW51YXJ5IGlzIGFsd2F5cyBpbiB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgeWVhcjpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZXZWVrWWVhcihuZXcgRGF0ZSgyMDA1LCA2LCAyKSwge1xuICogICB3ZWVrU3RhcnRzT246IDEsXG4gKiAgIGZpcnN0V2Vla0NvbnRhaW5zRGF0ZTogNFxuICogfSlcbiAqIC8vPT4gTW9uIEphbiAwMyAyMDA1IDAwOjAwOjAwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydE9mV2Vla1llYXIoZGF0ZSwgb3B0aW9ucykge1xuICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zKCk7XG4gIGNvbnN0IGZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA9XG4gICAgb3B0aW9ucz8uZmlyc3RXZWVrQ29udGFpbnNEYXRlID8/XG4gICAgb3B0aW9ucz8ubG9jYWxlPy5vcHRpb25zPy5maXJzdFdlZWtDb250YWluc0RhdGUgPz9cbiAgICBkZWZhdWx0T3B0aW9ucy5maXJzdFdlZWtDb250YWluc0RhdGUgPz9cbiAgICBkZWZhdWx0T3B0aW9ucy5sb2NhbGU/Lm9wdGlvbnM/LmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA/P1xuICAgIDE7XG5cbiAgY29uc3QgeWVhciA9IGdldFdlZWtZZWFyKGRhdGUsIG9wdGlvbnMpO1xuICBjb25zdCBmaXJzdFdlZWsgPSBjb25zdHJ1Y3RGcm9tKGRhdGUsIDApO1xuICBmaXJzdFdlZWsuc2V0RnVsbFllYXIoeWVhciwgMCwgZmlyc3RXZWVrQ29udGFpbnNEYXRlKTtcbiAgZmlyc3RXZWVrLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICBjb25zdCBfZGF0ZSA9IHN0YXJ0T2ZXZWVrKGZpcnN0V2Vlaywgb3B0aW9ucyk7XG4gIHJldHVybiBfZGF0ZTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBzdGFydE9mV2Vla1llYXI7XG4iLCAiaW1wb3J0IHsgbWlsbGlzZWNvbmRzSW5XZWVrIH0gZnJvbSBcIi4vY29uc3RhbnRzLm1qc1wiO1xuaW1wb3J0IHsgc3RhcnRPZldlZWsgfSBmcm9tIFwiLi9zdGFydE9mV2Vlay5tanNcIjtcbmltcG9ydCB7IHN0YXJ0T2ZXZWVrWWVhciB9IGZyb20gXCIuL3N0YXJ0T2ZXZWVrWWVhci5tanNcIjtcbmltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcblxuLyoqXG4gKiBUaGUge0BsaW5rIGdldFdlZWt9IGZ1bmN0aW9uIG9wdGlvbnMuXG4gKi9cblxuLyoqXG4gKiBAbmFtZSBnZXRXZWVrXG4gKiBAY2F0ZWdvcnkgV2VlayBIZWxwZXJzXG4gKiBAc3VtbWFyeSBHZXQgdGhlIGxvY2FsIHdlZWsgaW5kZXggb2YgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBHZXQgdGhlIGxvY2FsIHdlZWsgaW5kZXggb2YgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgZXhhY3QgY2FsY3VsYXRpb24gZGVwZW5kcyBvbiB0aGUgdmFsdWVzIG9mXG4gKiBgb3B0aW9ucy53ZWVrU3RhcnRzT25gICh3aGljaCBpcyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2VlaylcbiAqIGFuZCBgb3B0aW9ucy5maXJzdFdlZWtDb250YWluc0RhdGVgICh3aGljaCBpcyB0aGUgZGF5IG9mIEphbnVhcnksIHdoaWNoIGlzIGFsd2F5cyBpblxuICogdGhlIGZpcnN0IHdlZWsgb2YgdGhlIHdlZWstbnVtYmVyaW5nIHllYXIpXG4gKlxuICogV2VlayBudW1iZXJpbmc6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1dlZWsjVGhlX0lTT193ZWVrX2RhdGVfc3lzdGVtXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgZ2l2ZW4gZGF0ZVxuICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvYmplY3Qgd2l0aCBvcHRpb25zXG4gKlxuICogQHJldHVybnMgVGhlIHdlZWtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gV2hpY2ggd2VlayBvZiB0aGUgbG9jYWwgd2VlayBudW1iZXJpbmcgeWVhciBpcyAyIEphbnVhcnkgMjAwNSB3aXRoIGRlZmF1bHQgb3B0aW9ucz9cbiAqIGNvbnN0IHJlc3VsdCA9IGdldFdlZWsobmV3IERhdGUoMjAwNSwgMCwgMikpXG4gKiAvLz0+IDJcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gV2hpY2ggd2VlayBvZiB0aGUgbG9jYWwgd2VlayBudW1iZXJpbmcgeWVhciBpcyAyIEphbnVhcnkgMjAwNSxcbiAqIC8vIGlmIE1vbmRheSBpcyB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrLFxuICogLy8gYW5kIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB5ZWFyIGFsd2F5cyBjb250YWlucyA0IEphbnVhcnk/XG4gKiBjb25zdCByZXN1bHQgPSBnZXRXZWVrKG5ldyBEYXRlKDIwMDUsIDAsIDIpLCB7XG4gKiAgIHdlZWtTdGFydHNPbjogMSxcbiAqICAgZmlyc3RXZWVrQ29udGFpbnNEYXRlOiA0XG4gKiB9KVxuICogLy89PiA1M1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRXZWVrKGRhdGUsIG9wdGlvbnMpIHtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIGNvbnN0IGRpZmYgPSArc3RhcnRPZldlZWsoX2RhdGUsIG9wdGlvbnMpIC0gK3N0YXJ0T2ZXZWVrWWVhcihfZGF0ZSwgb3B0aW9ucyk7XG5cbiAgLy8gUm91bmQgdGhlIG51bWJlciBvZiB3ZWVrcyB0byB0aGUgbmVhcmVzdCBpbnRlZ2VyIGJlY2F1c2UgdGhlIG51bWJlciBvZlxuICAvLyBtaWxsaXNlY29uZHMgaW4gYSB3ZWVrIGlzIG5vdCBjb25zdGFudCAoZS5nLiBpdCdzIGRpZmZlcmVudCBpbiB0aGUgd2VlayBvZlxuICAvLyB0aGUgZGF5bGlnaHQgc2F2aW5nIHRpbWUgY2xvY2sgc2hpZnQpLlxuICByZXR1cm4gTWF0aC5yb3VuZChkaWZmIC8gbWlsbGlzZWNvbmRzSW5XZWVrKSArIDE7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgZ2V0V2VlaztcbiIsICJleHBvcnQgZnVuY3Rpb24gYWRkTGVhZGluZ1plcm9zKG51bWJlciwgdGFyZ2V0TGVuZ3RoKSB7XG4gIGNvbnN0IHNpZ24gPSBudW1iZXIgPCAwID8gXCItXCIgOiBcIlwiO1xuICBjb25zdCBvdXRwdXQgPSBNYXRoLmFicyhudW1iZXIpLnRvU3RyaW5nKCkucGFkU3RhcnQodGFyZ2V0TGVuZ3RoLCBcIjBcIik7XG4gIHJldHVybiBzaWduICsgb3V0cHV0O1xufVxuIiwgImltcG9ydCB7IGFkZExlYWRpbmdaZXJvcyB9IGZyb20gXCIuLi9hZGRMZWFkaW5nWmVyb3MubWpzXCI7XG5cbi8qXG4gKiB8ICAgICB8IFVuaXQgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICB8IFVuaXQgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8LS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8ICBhICB8IEFNLCBQTSAgICAgICAgICAgICAgICAgICAgICAgICB8ICBBKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8ICBkICB8IERheSBvZiBtb250aCAgICAgICAgICAgICAgICAgICB8ICBEICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8ICBoICB8IEhvdXIgWzEtMTJdICAgICAgICAgICAgICAgICAgICB8ICBIICB8IEhvdXIgWzAtMjNdICAgICAgICAgICAgICAgICAgICB8XG4gKiB8ICBtICB8IE1pbnV0ZSAgICAgICAgICAgICAgICAgICAgICAgICB8ICBNICB8IE1vbnRoICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8ICBzICB8IFNlY29uZCAgICAgICAgICAgICAgICAgICAgICAgICB8ICBTICB8IEZyYWN0aW9uIG9mIHNlY29uZCAgICAgICAgICAgICB8XG4gKiB8ICB5ICB8IFllYXIgKGFicykgICAgICAgICAgICAgICAgICAgICB8ICBZICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKlxuICogTGV0dGVycyBtYXJrZWQgYnkgKiBhcmUgbm90IGltcGxlbWVudGVkIGJ1dCByZXNlcnZlZCBieSBVbmljb2RlIHN0YW5kYXJkLlxuICovXG5cbmV4cG9ydCBjb25zdCBsaWdodEZvcm1hdHRlcnMgPSB7XG4gIC8vIFllYXJcbiAgeShkYXRlLCB0b2tlbikge1xuICAgIC8vIEZyb20gaHR0cDovL3d3dy51bmljb2RlLm9yZy9yZXBvcnRzL3RyMzUvdHIzNS0zMS90cjM1LWRhdGVzLmh0bWwjRGF0ZV9Gb3JtYXRfdG9rZW5zXG4gICAgLy8gfCBZZWFyICAgICB8ICAgICB5IHwgeXkgfCAgIHl5eSB8ICB5eXl5IHwgeXl5eXkgfFxuICAgIC8vIHwtLS0tLS0tLS0tfC0tLS0tLS18LS0tLXwtLS0tLS0tfC0tLS0tLS18LS0tLS0tLXxcbiAgICAvLyB8IEFEIDEgICAgIHwgICAgIDEgfCAwMSB8ICAgMDAxIHwgIDAwMDEgfCAwMDAwMSB8XG4gICAgLy8gfCBBRCAxMiAgICB8ICAgIDEyIHwgMTIgfCAgIDAxMiB8ICAwMDEyIHwgMDAwMTIgfFxuICAgIC8vIHwgQUQgMTIzICAgfCAgIDEyMyB8IDIzIHwgICAxMjMgfCAgMDEyMyB8IDAwMTIzIHxcbiAgICAvLyB8IEFEIDEyMzQgIHwgIDEyMzQgfCAzNCB8ICAxMjM0IHwgIDEyMzQgfCAwMTIzNCB8XG4gICAgLy8gfCBBRCAxMjM0NSB8IDEyMzQ1IHwgNDUgfCAxMjM0NSB8IDEyMzQ1IHwgMTIzNDUgfFxuXG4gICAgY29uc3Qgc2lnbmVkWWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAvLyBSZXR1cm5zIDEgZm9yIDEgQkMgKHdoaWNoIGlzIHllYXIgMCBpbiBKYXZhU2NyaXB0KVxuICAgIGNvbnN0IHllYXIgPSBzaWduZWRZZWFyID4gMCA/IHNpZ25lZFllYXIgOiAxIC0gc2lnbmVkWWVhcjtcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKHRva2VuID09PSBcInl5XCIgPyB5ZWFyICUgMTAwIDogeWVhciwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBNb250aFxuICBNKGRhdGUsIHRva2VuKSB7XG4gICAgY29uc3QgbW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG4gICAgcmV0dXJuIHRva2VuID09PSBcIk1cIiA/IFN0cmluZyhtb250aCArIDEpIDogYWRkTGVhZGluZ1plcm9zKG1vbnRoICsgMSwgMik7XG4gIH0sXG5cbiAgLy8gRGF5IG9mIHRoZSBtb250aFxuICBkKGRhdGUsIHRva2VuKSB7XG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhkYXRlLmdldERhdGUoKSwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBBTSBvciBQTVxuICBhKGRhdGUsIHRva2VuKSB7XG4gICAgY29uc3QgZGF5UGVyaW9kRW51bVZhbHVlID0gZGF0ZS5nZXRIb3VycygpIC8gMTIgPj0gMSA/IFwicG1cIiA6IFwiYW1cIjtcblxuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIGNhc2UgXCJhXCI6XG4gICAgICBjYXNlIFwiYWFcIjpcbiAgICAgICAgcmV0dXJuIGRheVBlcmlvZEVudW1WYWx1ZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgY2FzZSBcImFhYVwiOlxuICAgICAgICByZXR1cm4gZGF5UGVyaW9kRW51bVZhbHVlO1xuICAgICAgY2FzZSBcImFhYWFhXCI6XG4gICAgICAgIHJldHVybiBkYXlQZXJpb2RFbnVtVmFsdWVbMF07XG4gICAgICBjYXNlIFwiYWFhYVwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGRheVBlcmlvZEVudW1WYWx1ZSA9PT0gXCJhbVwiID8gXCJhLm0uXCIgOiBcInAubS5cIjtcbiAgICB9XG4gIH0sXG5cbiAgLy8gSG91ciBbMS0xMl1cbiAgaChkYXRlLCB0b2tlbikge1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoZGF0ZS5nZXRIb3VycygpICUgMTIgfHwgMTIsIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gSG91ciBbMC0yM11cbiAgSChkYXRlLCB0b2tlbikge1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoZGF0ZS5nZXRIb3VycygpLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIE1pbnV0ZVxuICBtKGRhdGUsIHRva2VuKSB7XG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhkYXRlLmdldE1pbnV0ZXMoKSwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBTZWNvbmRcbiAgcyhkYXRlLCB0b2tlbikge1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoZGF0ZS5nZXRTZWNvbmRzKCksIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gRnJhY3Rpb24gb2Ygc2Vjb25kXG4gIFMoZGF0ZSwgdG9rZW4pIHtcbiAgICBjb25zdCBudW1iZXJPZkRpZ2l0cyA9IHRva2VuLmxlbmd0aDtcbiAgICBjb25zdCBtaWxsaXNlY29uZHMgPSBkYXRlLmdldE1pbGxpc2Vjb25kcygpO1xuICAgIGNvbnN0IGZyYWN0aW9uYWxTZWNvbmRzID0gTWF0aC50cnVuYyhcbiAgICAgIG1pbGxpc2Vjb25kcyAqIE1hdGgucG93KDEwLCBudW1iZXJPZkRpZ2l0cyAtIDMpLFxuICAgICk7XG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhmcmFjdGlvbmFsU2Vjb25kcywgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcbn07XG4iLCAiaW1wb3J0IHsgZ2V0RGF5T2ZZZWFyIH0gZnJvbSBcIi4uLy4uL2dldERheU9mWWVhci5tanNcIjtcbmltcG9ydCB7IGdldElTT1dlZWsgfSBmcm9tIFwiLi4vLi4vZ2V0SVNPV2Vlay5tanNcIjtcbmltcG9ydCB7IGdldElTT1dlZWtZZWFyIH0gZnJvbSBcIi4uLy4uL2dldElTT1dlZWtZZWFyLm1qc1wiO1xuaW1wb3J0IHsgZ2V0V2VlayB9IGZyb20gXCIuLi8uLi9nZXRXZWVrLm1qc1wiO1xuaW1wb3J0IHsgZ2V0V2Vla1llYXIgfSBmcm9tIFwiLi4vLi4vZ2V0V2Vla1llYXIubWpzXCI7XG5pbXBvcnQgeyBhZGRMZWFkaW5nWmVyb3MgfSBmcm9tIFwiLi4vYWRkTGVhZGluZ1plcm9zLm1qc1wiO1xuaW1wb3J0IHsgbGlnaHRGb3JtYXR0ZXJzIH0gZnJvbSBcIi4vbGlnaHRGb3JtYXR0ZXJzLm1qc1wiO1xuXG5jb25zdCBkYXlQZXJpb2RFbnVtID0ge1xuICBhbTogXCJhbVwiLFxuICBwbTogXCJwbVwiLFxuICBtaWRuaWdodDogXCJtaWRuaWdodFwiLFxuICBub29uOiBcIm5vb25cIixcbiAgbW9ybmluZzogXCJtb3JuaW5nXCIsXG4gIGFmdGVybm9vbjogXCJhZnRlcm5vb25cIixcbiAgZXZlbmluZzogXCJldmVuaW5nXCIsXG4gIG5pZ2h0OiBcIm5pZ2h0XCIsXG59O1xuXG4vKlxuICogfCAgICAgfCBVbml0ICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgfCBVbml0ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICogfCAgYSAgfCBBTSwgUE0gICAgICAgICAgICAgICAgICAgICAgICAgfCAgQSogfCBNaWxsaXNlY29uZHMgaW4gZGF5ICAgICAgICAgICAgfFxuICogfCAgYiAgfCBBTSwgUE0sIG5vb24sIG1pZG5pZ2h0ICAgICAgICAgfCAgQiAgfCBGbGV4aWJsZSBkYXkgcGVyaW9kICAgICAgICAgICAgfFxuICogfCAgYyAgfCBTdGFuZC1hbG9uZSBsb2NhbCBkYXkgb2Ygd2VlayAgfCAgQyogfCBMb2NhbGl6ZWQgaG91ciB3LyBkYXkgcGVyaW9kICAgfFxuICogfCAgZCAgfCBEYXkgb2YgbW9udGggICAgICAgICAgICAgICAgICAgfCAgRCAgfCBEYXkgb2YgeWVhciAgICAgICAgICAgICAgICAgICAgfFxuICogfCAgZSAgfCBMb2NhbCBkYXkgb2Ygd2VlayAgICAgICAgICAgICAgfCAgRSAgfCBEYXkgb2Ygd2VlayAgICAgICAgICAgICAgICAgICAgfFxuICogfCAgZiAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgRiogfCBEYXkgb2Ygd2VlayBpbiBtb250aCAgICAgICAgICAgfFxuICogfCAgZyogfCBNb2RpZmllZCBKdWxpYW4gZGF5ICAgICAgICAgICAgfCAgRyAgfCBFcmEgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCAgaCAgfCBIb3VyIFsxLTEyXSAgICAgICAgICAgICAgICAgICAgfCAgSCAgfCBIb3VyIFswLTIzXSAgICAgICAgICAgICAgICAgICAgfFxuICogfCAgaSEgfCBJU08gZGF5IG9mIHdlZWsgICAgICAgICAgICAgICAgfCAgSSEgfCBJU08gd2VlayBvZiB5ZWFyICAgICAgICAgICAgICAgfFxuICogfCAgaiogfCBMb2NhbGl6ZWQgaG91ciB3LyBkYXkgcGVyaW9kICAgfCAgSiogfCBMb2NhbGl6ZWQgaG91ciB3L28gZGF5IHBlcmlvZCAgfFxuICogfCAgayAgfCBIb3VyIFsxLTI0XSAgICAgICAgICAgICAgICAgICAgfCAgSyAgfCBIb3VyIFswLTExXSAgICAgICAgICAgICAgICAgICAgfFxuICogfCAgbCogfCAoZGVwcmVjYXRlZCkgICAgICAgICAgICAgICAgICAgfCAgTCAgfCBTdGFuZC1hbG9uZSBtb250aCAgICAgICAgICAgICAgfFxuICogfCAgbSAgfCBNaW51dGUgICAgICAgICAgICAgICAgICAgICAgICAgfCAgTSAgfCBNb250aCAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCAgbiAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgTiAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCAgbyEgfCBPcmRpbmFsIG51bWJlciBtb2RpZmllciAgICAgICAgfCAgTyAgfCBUaW1lem9uZSAoR01UKSAgICAgICAgICAgICAgICAgfFxuICogfCAgcCEgfCBMb25nIGxvY2FsaXplZCB0aW1lICAgICAgICAgICAgfCAgUCEgfCBMb25nIGxvY2FsaXplZCBkYXRlICAgICAgICAgICAgfFxuICogfCAgcSAgfCBTdGFuZC1hbG9uZSBxdWFydGVyICAgICAgICAgICAgfCAgUSAgfCBRdWFydGVyICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCAgciogfCBSZWxhdGVkIEdyZWdvcmlhbiB5ZWFyICAgICAgICAgfCAgUiEgfCBJU08gd2Vlay1udW1iZXJpbmcgeWVhciAgICAgICAgfFxuICogfCAgcyAgfCBTZWNvbmQgICAgICAgICAgICAgICAgICAgICAgICAgfCAgUyAgfCBGcmFjdGlvbiBvZiBzZWNvbmQgICAgICAgICAgICAgfFxuICogfCAgdCEgfCBTZWNvbmRzIHRpbWVzdGFtcCAgICAgICAgICAgICAgfCAgVCEgfCBNaWxsaXNlY29uZHMgdGltZXN0YW1wICAgICAgICAgfFxuICogfCAgdSAgfCBFeHRlbmRlZCB5ZWFyICAgICAgICAgICAgICAgICAgfCAgVSogfCBDeWNsaWMgeWVhciAgICAgICAgICAgICAgICAgICAgfFxuICogfCAgdiogfCBUaW1lem9uZSAoZ2VuZXJpYyBub24tbG9jYXQuKSAgfCAgViogfCBUaW1lem9uZSAobG9jYXRpb24pICAgICAgICAgICAgfFxuICogfCAgdyAgfCBMb2NhbCB3ZWVrIG9mIHllYXIgICAgICAgICAgICAgfCAgVyogfCBXZWVrIG9mIG1vbnRoICAgICAgICAgICAgICAgICAgfFxuICogfCAgeCAgfCBUaW1lem9uZSAoSVNPLTg2MDEgdy9vIFopICAgICAgfCAgWCAgfCBUaW1lem9uZSAoSVNPLTg2MDEpICAgICAgICAgICAgfFxuICogfCAgeSAgfCBZZWFyIChhYnMpICAgICAgICAgICAgICAgICAgICAgfCAgWSAgfCBMb2NhbCB3ZWVrLW51bWJlcmluZyB5ZWFyICAgICAgfFxuICogfCAgeiAgfCBUaW1lem9uZSAoc3BlY2lmaWMgbm9uLWxvY2F0LikgfCAgWiogfCBUaW1lem9uZSAoYWxpYXNlcykgICAgICAgICAgICAgfFxuICpcbiAqIExldHRlcnMgbWFya2VkIGJ5ICogYXJlIG5vdCBpbXBsZW1lbnRlZCBidXQgcmVzZXJ2ZWQgYnkgVW5pY29kZSBzdGFuZGFyZC5cbiAqXG4gKiBMZXR0ZXJzIG1hcmtlZCBieSAhIGFyZSBub24tc3RhbmRhcmQsIGJ1dCBpbXBsZW1lbnRlZCBieSBkYXRlLWZuczpcbiAqIC0gYG9gIG1vZGlmaWVzIHRoZSBwcmV2aW91cyB0b2tlbiB0byB0dXJuIGl0IGludG8gYW4gb3JkaW5hbCAoc2VlIGBmb3JtYXRgIGRvY3MpXG4gKiAtIGBpYCBpcyBJU08gZGF5IG9mIHdlZWsuIEZvciBgaWAgYW5kIGBpaWAgaXMgcmV0dXJucyBudW1lcmljIElTTyB3ZWVrIGRheXMsXG4gKiAgIGkuZS4gNyBmb3IgU3VuZGF5LCAxIGZvciBNb25kYXksIGV0Yy5cbiAqIC0gYElgIGlzIElTTyB3ZWVrIG9mIHllYXIsIGFzIG9wcG9zZWQgdG8gYHdgIHdoaWNoIGlzIGxvY2FsIHdlZWsgb2YgeWVhci5cbiAqIC0gYFJgIGlzIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyLCBhcyBvcHBvc2VkIHRvIGBZYCB3aGljaCBpcyBsb2NhbCB3ZWVrLW51bWJlcmluZyB5ZWFyLlxuICogICBgUmAgaXMgc3VwcG9zZWQgdG8gYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGBJYCBhbmQgYGlgXG4gKiAgIGZvciB1bml2ZXJzYWwgSVNPIHdlZWstbnVtYmVyaW5nIGRhdGUsIHdoZXJlYXNcbiAqICAgYFlgIGlzIHN1cHBvc2VkIHRvIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBgd2AgYW5kIGBlYFxuICogICBmb3Igd2Vlay1udW1iZXJpbmcgZGF0ZSBzcGVjaWZpYyB0byB0aGUgbG9jYWxlLlxuICogLSBgUGAgaXMgbG9uZyBsb2NhbGl6ZWQgZGF0ZSBmb3JtYXRcbiAqIC0gYHBgIGlzIGxvbmcgbG9jYWxpemVkIHRpbWUgZm9ybWF0XG4gKi9cblxuZXhwb3J0IGNvbnN0IGZvcm1hdHRlcnMgPSB7XG4gIC8vIEVyYVxuICBHOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgY29uc3QgZXJhID0gZGF0ZS5nZXRGdWxsWWVhcigpID4gMCA/IDEgOiAwO1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIC8vIEFELCBCQ1xuICAgICAgY2FzZSBcIkdcIjpcbiAgICAgIGNhc2UgXCJHR1wiOlxuICAgICAgY2FzZSBcIkdHR1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZXJhKGVyYSwgeyB3aWR0aDogXCJhYmJyZXZpYXRlZFwiIH0pO1xuICAgICAgLy8gQSwgQlxuICAgICAgY2FzZSBcIkdHR0dHXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5lcmEoZXJhLCB7IHdpZHRoOiBcIm5hcnJvd1wiIH0pO1xuICAgICAgLy8gQW5ubyBEb21pbmksIEJlZm9yZSBDaHJpc3RcbiAgICAgIGNhc2UgXCJHR0dHXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZXJhKGVyYSwgeyB3aWR0aDogXCJ3aWRlXCIgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIFllYXJcbiAgeTogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIC8vIE9yZGluYWwgbnVtYmVyXG4gICAgaWYgKHRva2VuID09PSBcInlvXCIpIHtcbiAgICAgIGNvbnN0IHNpZ25lZFllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAvLyBSZXR1cm5zIDEgZm9yIDEgQkMgKHdoaWNoIGlzIHllYXIgMCBpbiBKYXZhU2NyaXB0KVxuICAgICAgY29uc3QgeWVhciA9IHNpZ25lZFllYXIgPiAwID8gc2lnbmVkWWVhciA6IDEgLSBzaWduZWRZZWFyO1xuICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoeWVhciwgeyB1bml0OiBcInllYXJcIiB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbGlnaHRGb3JtYXR0ZXJzLnkoZGF0ZSwgdG9rZW4pO1xuICB9LFxuXG4gIC8vIExvY2FsIHdlZWstbnVtYmVyaW5nIHllYXJcbiAgWTogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHNpZ25lZFdlZWtZZWFyID0gZ2V0V2Vla1llYXIoZGF0ZSwgb3B0aW9ucyk7XG4gICAgLy8gUmV0dXJucyAxIGZvciAxIEJDICh3aGljaCBpcyB5ZWFyIDAgaW4gSmF2YVNjcmlwdClcbiAgICBjb25zdCB3ZWVrWWVhciA9IHNpZ25lZFdlZWtZZWFyID4gMCA/IHNpZ25lZFdlZWtZZWFyIDogMSAtIHNpZ25lZFdlZWtZZWFyO1xuXG4gICAgLy8gVHdvIGRpZ2l0IHllYXJcbiAgICBpZiAodG9rZW4gPT09IFwiWVlcIikge1xuICAgICAgY29uc3QgdHdvRGlnaXRZZWFyID0gd2Vla1llYXIgJSAxMDA7XG4gICAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKHR3b0RpZ2l0WWVhciwgMik7XG4gICAgfVxuXG4gICAgLy8gT3JkaW5hbCBudW1iZXJcbiAgICBpZiAodG9rZW4gPT09IFwiWW9cIikge1xuICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIod2Vla1llYXIsIHsgdW5pdDogXCJ5ZWFyXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gUGFkZGluZ1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3Mod2Vla1llYXIsIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gSVNPIHdlZWstbnVtYmVyaW5nIHllYXJcbiAgUjogZnVuY3Rpb24gKGRhdGUsIHRva2VuKSB7XG4gICAgY29uc3QgaXNvV2Vla1llYXIgPSBnZXRJU09XZWVrWWVhcihkYXRlKTtcblxuICAgIC8vIFBhZGRpbmdcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGlzb1dlZWtZZWFyLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIEV4dGVuZGVkIHllYXIuIFRoaXMgaXMgYSBzaW5nbGUgbnVtYmVyIGRlc2lnbmF0aW5nIHRoZSB5ZWFyIG9mIHRoaXMgY2FsZW5kYXIgc3lzdGVtLlxuICAvLyBUaGUgbWFpbiBkaWZmZXJlbmNlIGJldHdlZW4gYHlgIGFuZCBgdWAgbG9jYWxpemVycyBhcmUgQi5DLiB5ZWFyczpcbiAgLy8gfCBZZWFyIHwgYHlgIHwgYHVgIHxcbiAgLy8gfC0tLS0tLXwtLS0tLXwtLS0tLXxcbiAgLy8gfCBBQyAxIHwgICAxIHwgICAxIHxcbiAgLy8gfCBCQyAxIHwgICAxIHwgICAwIHxcbiAgLy8gfCBCQyAyIHwgICAyIHwgIC0xIHxcbiAgLy8gQWxzbyBgeXlgIGFsd2F5cyByZXR1cm5zIHRoZSBsYXN0IHR3byBkaWdpdHMgb2YgYSB5ZWFyLFxuICAvLyB3aGlsZSBgdXVgIHBhZHMgc2luZ2xlIGRpZ2l0IHllYXJzIHRvIDIgY2hhcmFjdGVycyBhbmQgcmV0dXJucyBvdGhlciB5ZWFycyB1bmNoYW5nZWQuXG4gIHU6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbikge1xuICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyh5ZWFyLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIFF1YXJ0ZXJcbiAgUTogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGNvbnN0IHF1YXJ0ZXIgPSBNYXRoLmNlaWwoKGRhdGUuZ2V0TW9udGgoKSArIDEpIC8gMyk7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gMSwgMiwgMywgNFxuICAgICAgY2FzZSBcIlFcIjpcbiAgICAgICAgcmV0dXJuIFN0cmluZyhxdWFydGVyKTtcbiAgICAgIC8vIDAxLCAwMiwgMDMsIDA0XG4gICAgICBjYXNlIFwiUVFcIjpcbiAgICAgICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhxdWFydGVyLCAyKTtcbiAgICAgIC8vIDFzdCwgMm5kLCAzcmQsIDR0aFxuICAgICAgY2FzZSBcIlFvXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKHF1YXJ0ZXIsIHsgdW5pdDogXCJxdWFydGVyXCIgfSk7XG4gICAgICAvLyBRMSwgUTIsIFEzLCBRNFxuICAgICAgY2FzZSBcIlFRUVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUucXVhcnRlcihxdWFydGVyLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyAxLCAyLCAzLCA0IChuYXJyb3cgcXVhcnRlcjsgY291bGQgYmUgbm90IG51bWVyaWNhbClcbiAgICAgIGNhc2UgXCJRUVFRUVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUucXVhcnRlcihxdWFydGVyLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gMXN0IHF1YXJ0ZXIsIDJuZCBxdWFydGVyLCAuLi5cbiAgICAgIGNhc2UgXCJRUVFRXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUucXVhcnRlcihxdWFydGVyLCB7XG4gICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gU3RhbmQtYWxvbmUgcXVhcnRlclxuICBxOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgY29uc3QgcXVhcnRlciA9IE1hdGguY2VpbCgoZGF0ZS5nZXRNb250aCgpICsgMSkgLyAzKTtcbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyAxLCAyLCAzLCA0XG4gICAgICBjYXNlIFwicVwiOlxuICAgICAgICByZXR1cm4gU3RyaW5nKHF1YXJ0ZXIpO1xuICAgICAgLy8gMDEsIDAyLCAwMywgMDRcbiAgICAgIGNhc2UgXCJxcVwiOlxuICAgICAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKHF1YXJ0ZXIsIDIpO1xuICAgICAgLy8gMXN0LCAybmQsIDNyZCwgNHRoXG4gICAgICBjYXNlIFwicW9cIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIocXVhcnRlciwgeyB1bml0OiBcInF1YXJ0ZXJcIiB9KTtcbiAgICAgIC8vIFExLCBRMiwgUTMsIFE0XG4gICAgICBjYXNlIFwicXFxXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5xdWFydGVyKHF1YXJ0ZXIsIHtcbiAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIDEsIDIsIDMsIDQgKG5hcnJvdyBxdWFydGVyOyBjb3VsZCBiZSBub3QgbnVtZXJpY2FsKVxuICAgICAgY2FzZSBcInFxcXFxXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5xdWFydGVyKHF1YXJ0ZXIsIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyAxc3QgcXVhcnRlciwgMm5kIHF1YXJ0ZXIsIC4uLlxuICAgICAgY2FzZSBcInFxcXFcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5xdWFydGVyKHF1YXJ0ZXIsIHtcbiAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICAvLyBNb250aFxuICBNOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgY29uc3QgbW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgY2FzZSBcIk1cIjpcbiAgICAgIGNhc2UgXCJNTVwiOlxuICAgICAgICByZXR1cm4gbGlnaHRGb3JtYXR0ZXJzLk0oZGF0ZSwgdG9rZW4pO1xuICAgICAgLy8gMXN0LCAybmQsIC4uLiwgMTJ0aFxuICAgICAgY2FzZSBcIk1vXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKG1vbnRoICsgMSwgeyB1bml0OiBcIm1vbnRoXCIgfSk7XG4gICAgICAvLyBKYW4sIEZlYiwgLi4uLCBEZWNcbiAgICAgIGNhc2UgXCJNTU1cIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLm1vbnRoKG1vbnRoLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBKLCBGLCAuLi4sIERcbiAgICAgIGNhc2UgXCJNTU1NTVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUubW9udGgobW9udGgsIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBKYW51YXJ5LCBGZWJydWFyeSwgLi4uLCBEZWNlbWJlclxuICAgICAgY2FzZSBcIk1NTU1cIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5tb250aChtb250aCwgeyB3aWR0aDogXCJ3aWRlXCIsIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiIH0pO1xuICAgIH1cbiAgfSxcblxuICAvLyBTdGFuZC1hbG9uZSBtb250aFxuICBMOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgY29uc3QgbW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gMSwgMiwgLi4uLCAxMlxuICAgICAgY2FzZSBcIkxcIjpcbiAgICAgICAgcmV0dXJuIFN0cmluZyhtb250aCArIDEpO1xuICAgICAgLy8gMDEsIDAyLCAuLi4sIDEyXG4gICAgICBjYXNlIFwiTExcIjpcbiAgICAgICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhtb250aCArIDEsIDIpO1xuICAgICAgLy8gMXN0LCAybmQsIC4uLiwgMTJ0aFxuICAgICAgY2FzZSBcIkxvXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKG1vbnRoICsgMSwgeyB1bml0OiBcIm1vbnRoXCIgfSk7XG4gICAgICAvLyBKYW4sIEZlYiwgLi4uLCBEZWNcbiAgICAgIGNhc2UgXCJMTExcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLm1vbnRoKG1vbnRoLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBKLCBGLCAuLi4sIERcbiAgICAgIGNhc2UgXCJMTExMTFwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUubW9udGgobW9udGgsIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBKYW51YXJ5LCBGZWJydWFyeSwgLi4uLCBEZWNlbWJlclxuICAgICAgY2FzZSBcIkxMTExcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5tb250aChtb250aCwgeyB3aWR0aDogXCJ3aWRlXCIsIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiIH0pO1xuICAgIH1cbiAgfSxcblxuICAvLyBMb2NhbCB3ZWVrIG9mIHllYXJcbiAgdzogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHdlZWsgPSBnZXRXZWVrKGRhdGUsIG9wdGlvbnMpO1xuXG4gICAgaWYgKHRva2VuID09PSBcIndvXCIpIHtcbiAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKHdlZWssIHsgdW5pdDogXCJ3ZWVrXCIgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyh3ZWVrLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIElTTyB3ZWVrIG9mIHllYXJcbiAgSTogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGNvbnN0IGlzb1dlZWsgPSBnZXRJU09XZWVrKGRhdGUpO1xuXG4gICAgaWYgKHRva2VuID09PSBcIklvXCIpIHtcbiAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGlzb1dlZWssIHsgdW5pdDogXCJ3ZWVrXCIgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhpc29XZWVrLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIERheSBvZiB0aGUgbW9udGhcbiAgZDogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGlmICh0b2tlbiA9PT0gXCJkb1wiKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihkYXRlLmdldERhdGUoKSwgeyB1bml0OiBcImRhdGVcIiB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbGlnaHRGb3JtYXR0ZXJzLmQoZGF0ZSwgdG9rZW4pO1xuICB9LFxuXG4gIC8vIERheSBvZiB5ZWFyXG4gIEQ6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBjb25zdCBkYXlPZlllYXIgPSBnZXREYXlPZlllYXIoZGF0ZSk7XG5cbiAgICBpZiAodG9rZW4gPT09IFwiRG9cIikge1xuICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoZGF5T2ZZZWFyLCB7IHVuaXQ6IFwiZGF5T2ZZZWFyXCIgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhkYXlPZlllYXIsIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gRGF5IG9mIHdlZWtcbiAgRTogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGNvbnN0IGRheU9mV2VlayA9IGRhdGUuZ2V0RGF5KCk7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gVHVlXG4gICAgICBjYXNlIFwiRVwiOlxuICAgICAgY2FzZSBcIkVFXCI6XG4gICAgICBjYXNlIFwiRUVFXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBUXG4gICAgICBjYXNlIFwiRUVFRUVcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBUdVxuICAgICAgY2FzZSBcIkVFRUVFRVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcInNob3J0XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gVHVlc2RheVxuICAgICAgY2FzZSBcIkVFRUVcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gTG9jYWwgZGF5IG9mIHdlZWtcbiAgZTogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGRheU9mV2VlayA9IGRhdGUuZ2V0RGF5KCk7XG4gICAgY29uc3QgbG9jYWxEYXlPZldlZWsgPSAoZGF5T2ZXZWVrIC0gb3B0aW9ucy53ZWVrU3RhcnRzT24gKyA4KSAlIDcgfHwgNztcbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyBOdW1lcmljYWwgdmFsdWUgKE50aCBkYXkgb2Ygd2VlayB3aXRoIGN1cnJlbnQgbG9jYWxlIG9yIHdlZWtTdGFydHNPbilcbiAgICAgIGNhc2UgXCJlXCI6XG4gICAgICAgIHJldHVybiBTdHJpbmcobG9jYWxEYXlPZldlZWspO1xuICAgICAgLy8gUGFkZGVkIG51bWVyaWNhbCB2YWx1ZVxuICAgICAgY2FzZSBcImVlXCI6XG4gICAgICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MobG9jYWxEYXlPZldlZWssIDIpO1xuICAgICAgLy8gMXN0LCAybmQsIC4uLiwgN3RoXG4gICAgICBjYXNlIFwiZW9cIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIobG9jYWxEYXlPZldlZWssIHsgdW5pdDogXCJkYXlcIiB9KTtcbiAgICAgIGNhc2UgXCJlZWVcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIFRcbiAgICAgIGNhc2UgXCJlZWVlZVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIFR1XG4gICAgICBjYXNlIFwiZWVlZWVlXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwic2hvcnRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBUdWVzZGF5XG4gICAgICBjYXNlIFwiZWVlZVwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICAvLyBTdGFuZC1hbG9uZSBsb2NhbCBkYXkgb2Ygd2Vla1xuICBjOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZGF5T2ZXZWVrID0gZGF0ZS5nZXREYXkoKTtcbiAgICBjb25zdCBsb2NhbERheU9mV2VlayA9IChkYXlPZldlZWsgLSBvcHRpb25zLndlZWtTdGFydHNPbiArIDgpICUgNyB8fCA3O1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIC8vIE51bWVyaWNhbCB2YWx1ZSAoc2FtZSBhcyBpbiBgZWApXG4gICAgICBjYXNlIFwiY1wiOlxuICAgICAgICByZXR1cm4gU3RyaW5nKGxvY2FsRGF5T2ZXZWVrKTtcbiAgICAgIC8vIFBhZGRlZCBudW1lcmljYWwgdmFsdWVcbiAgICAgIGNhc2UgXCJjY1wiOlxuICAgICAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGxvY2FsRGF5T2ZXZWVrLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgLy8gMXN0LCAybmQsIC4uLiwgN3RoXG4gICAgICBjYXNlIFwiY29cIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIobG9jYWxEYXlPZldlZWssIHsgdW5pdDogXCJkYXlcIiB9KTtcbiAgICAgIGNhc2UgXCJjY2NcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIFRcbiAgICAgIGNhc2UgXCJjY2NjY1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIFR1XG4gICAgICBjYXNlIFwiY2NjY2NjXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwic2hvcnRcIixcbiAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBUdWVzZGF5XG4gICAgICBjYXNlIFwiY2NjY1wiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICAvLyBJU08gZGF5IG9mIHdlZWtcbiAgaTogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGNvbnN0IGRheU9mV2VlayA9IGRhdGUuZ2V0RGF5KCk7XG4gICAgY29uc3QgaXNvRGF5T2ZXZWVrID0gZGF5T2ZXZWVrID09PSAwID8gNyA6IGRheU9mV2VlaztcbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyAyXG4gICAgICBjYXNlIFwiaVwiOlxuICAgICAgICByZXR1cm4gU3RyaW5nKGlzb0RheU9mV2Vlayk7XG4gICAgICAvLyAwMlxuICAgICAgY2FzZSBcImlpXCI6XG4gICAgICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoaXNvRGF5T2ZXZWVrLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgLy8gMm5kXG4gICAgICBjYXNlIFwiaW9cIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoaXNvRGF5T2ZXZWVrLCB7IHVuaXQ6IFwiZGF5XCIgfSk7XG4gICAgICAvLyBUdWVcbiAgICAgIGNhc2UgXCJpaWlcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIFRcbiAgICAgIGNhc2UgXCJpaWlpaVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIFR1XG4gICAgICBjYXNlIFwiaWlpaWlpXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwic2hvcnRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBUdWVzZGF5XG4gICAgICBjYXNlIFwiaWlpaVwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICAvLyBBTSBvciBQTVxuICBhOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgY29uc3QgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgY29uc3QgZGF5UGVyaW9kRW51bVZhbHVlID0gaG91cnMgLyAxMiA+PSAxID8gXCJwbVwiIDogXCJhbVwiO1xuXG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgY2FzZSBcImFcIjpcbiAgICAgIGNhc2UgXCJhYVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgY2FzZSBcImFhYVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemVcbiAgICAgICAgICAuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjYXNlIFwiYWFhYWFcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICBjYXNlIFwiYWFhYVwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICAvLyBBTSwgUE0sIG1pZG5pZ2h0LCBub29uXG4gIGI6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBjb25zdCBob3VycyA9IGRhdGUuZ2V0SG91cnMoKTtcbiAgICBsZXQgZGF5UGVyaW9kRW51bVZhbHVlO1xuICAgIGlmIChob3VycyA9PT0gMTIpIHtcbiAgICAgIGRheVBlcmlvZEVudW1WYWx1ZSA9IGRheVBlcmlvZEVudW0ubm9vbjtcbiAgICB9IGVsc2UgaWYgKGhvdXJzID09PSAwKSB7XG4gICAgICBkYXlQZXJpb2RFbnVtVmFsdWUgPSBkYXlQZXJpb2RFbnVtLm1pZG5pZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXlQZXJpb2RFbnVtVmFsdWUgPSBob3VycyAvIDEyID49IDEgPyBcInBtXCIgOiBcImFtXCI7XG4gICAgfVxuXG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgY2FzZSBcImJcIjpcbiAgICAgIGNhc2UgXCJiYlwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgY2FzZSBcImJiYlwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemVcbiAgICAgICAgICAuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjYXNlIFwiYmJiYmJcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICBjYXNlIFwiYmJiYlwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICAvLyBpbiB0aGUgbW9ybmluZywgaW4gdGhlIGFmdGVybm9vbiwgaW4gdGhlIGV2ZW5pbmcsIGF0IG5pZ2h0XG4gIEI6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBjb25zdCBob3VycyA9IGRhdGUuZ2V0SG91cnMoKTtcbiAgICBsZXQgZGF5UGVyaW9kRW51bVZhbHVlO1xuICAgIGlmIChob3VycyA+PSAxNykge1xuICAgICAgZGF5UGVyaW9kRW51bVZhbHVlID0gZGF5UGVyaW9kRW51bS5ldmVuaW5nO1xuICAgIH0gZWxzZSBpZiAoaG91cnMgPj0gMTIpIHtcbiAgICAgIGRheVBlcmlvZEVudW1WYWx1ZSA9IGRheVBlcmlvZEVudW0uYWZ0ZXJub29uO1xuICAgIH0gZWxzZSBpZiAoaG91cnMgPj0gNCkge1xuICAgICAgZGF5UGVyaW9kRW51bVZhbHVlID0gZGF5UGVyaW9kRW51bS5tb3JuaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXlQZXJpb2RFbnVtVmFsdWUgPSBkYXlQZXJpb2RFbnVtLm5pZ2h0O1xuICAgIH1cblxuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIGNhc2UgXCJCXCI6XG4gICAgICBjYXNlIFwiQkJcIjpcbiAgICAgIGNhc2UgXCJCQkJcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIGNhc2UgXCJCQkJCQlwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIGNhc2UgXCJCQkJCXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIEhvdXIgWzEtMTJdXG4gIGg6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBpZiAodG9rZW4gPT09IFwiaG9cIikge1xuICAgICAgbGV0IGhvdXJzID0gZGF0ZS5nZXRIb3VycygpICUgMTI7XG4gICAgICBpZiAoaG91cnMgPT09IDApIGhvdXJzID0gMTI7XG4gICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihob3VycywgeyB1bml0OiBcImhvdXJcIiB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbGlnaHRGb3JtYXR0ZXJzLmgoZGF0ZSwgdG9rZW4pO1xuICB9LFxuXG4gIC8vIEhvdXIgWzAtMjNdXG4gIEg6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBpZiAodG9rZW4gPT09IFwiSG9cIikge1xuICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoZGF0ZS5nZXRIb3VycygpLCB7IHVuaXQ6IFwiaG91clwiIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBsaWdodEZvcm1hdHRlcnMuSChkYXRlLCB0b2tlbik7XG4gIH0sXG5cbiAgLy8gSG91ciBbMC0xMV1cbiAgSzogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGNvbnN0IGhvdXJzID0gZGF0ZS5nZXRIb3VycygpICUgMTI7XG5cbiAgICBpZiAodG9rZW4gPT09IFwiS29cIikge1xuICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoaG91cnMsIHsgdW5pdDogXCJob3VyXCIgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhob3VycywgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBIb3VyIFsxLTI0XVxuICBrOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgbGV0IGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuICAgIGlmIChob3VycyA9PT0gMCkgaG91cnMgPSAyNDtcblxuICAgIGlmICh0b2tlbiA9PT0gXCJrb1wiKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihob3VycywgeyB1bml0OiBcImhvdXJcIiB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGhvdXJzLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIE1pbnV0ZVxuICBtOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgaWYgKHRva2VuID09PSBcIm1vXCIpIHtcbiAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGRhdGUuZ2V0TWludXRlcygpLCB7IHVuaXQ6IFwibWludXRlXCIgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpZ2h0Rm9ybWF0dGVycy5tKGRhdGUsIHRva2VuKTtcbiAgfSxcblxuICAvLyBTZWNvbmRcbiAgczogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGlmICh0b2tlbiA9PT0gXCJzb1wiKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihkYXRlLmdldFNlY29uZHMoKSwgeyB1bml0OiBcInNlY29uZFwiIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBsaWdodEZvcm1hdHRlcnMucyhkYXRlLCB0b2tlbik7XG4gIH0sXG5cbiAgLy8gRnJhY3Rpb24gb2Ygc2Vjb25kXG4gIFM6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbikge1xuICAgIHJldHVybiBsaWdodEZvcm1hdHRlcnMuUyhkYXRlLCB0b2tlbik7XG4gIH0sXG5cbiAgLy8gVGltZXpvbmUgKElTTy04NjAxLiBJZiBvZmZzZXQgaXMgMCwgb3V0cHV0IGlzIGFsd2F5cyBgJ1onYClcbiAgWDogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBfbG9jYWxpemUpIHtcbiAgICBjb25zdCB0aW1lem9uZU9mZnNldCA9IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcblxuICAgIGlmICh0aW1lem9uZU9mZnNldCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFwiWlwiO1xuICAgIH1cblxuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIC8vIEhvdXJzIGFuZCBvcHRpb25hbCBtaW51dGVzXG4gICAgICBjYXNlIFwiWFwiOlxuICAgICAgICByZXR1cm4gZm9ybWF0VGltZXpvbmVXaXRoT3B0aW9uYWxNaW51dGVzKHRpbWV6b25lT2Zmc2V0KTtcblxuICAgICAgLy8gSG91cnMsIG1pbnV0ZXMgYW5kIG9wdGlvbmFsIHNlY29uZHMgd2l0aG91dCBgOmAgZGVsaW1pdGVyXG4gICAgICAvLyBOb3RlOiBuZWl0aGVyIElTTy04NjAxIG5vciBKYXZhU2NyaXB0IHN1cHBvcnRzIHNlY29uZHMgaW4gdGltZXpvbmUgb2Zmc2V0c1xuICAgICAgLy8gc28gdGhpcyB0b2tlbiBhbHdheXMgaGFzIHRoZSBzYW1lIG91dHB1dCBhcyBgWFhgXG4gICAgICBjYXNlIFwiWFhYWFwiOlxuICAgICAgY2FzZSBcIlhYXCI6IC8vIEhvdXJzIGFuZCBtaW51dGVzIHdpdGhvdXQgYDpgIGRlbGltaXRlclxuICAgICAgICByZXR1cm4gZm9ybWF0VGltZXpvbmUodGltZXpvbmVPZmZzZXQpO1xuXG4gICAgICAvLyBIb3VycywgbWludXRlcyBhbmQgb3B0aW9uYWwgc2Vjb25kcyB3aXRoIGA6YCBkZWxpbWl0ZXJcbiAgICAgIC8vIE5vdGU6IG5laXRoZXIgSVNPLTg2MDEgbm9yIEphdmFTY3JpcHQgc3VwcG9ydHMgc2Vjb25kcyBpbiB0aW1lem9uZSBvZmZzZXRzXG4gICAgICAvLyBzbyB0aGlzIHRva2VuIGFsd2F5cyBoYXMgdGhlIHNhbWUgb3V0cHV0IGFzIGBYWFhgXG4gICAgICBjYXNlIFwiWFhYWFhcIjpcbiAgICAgIGNhc2UgXCJYWFhcIjogLy8gSG91cnMgYW5kIG1pbnV0ZXMgd2l0aCBgOmAgZGVsaW1pdGVyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZm9ybWF0VGltZXpvbmUodGltZXpvbmVPZmZzZXQsIFwiOlwiKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gVGltZXpvbmUgKElTTy04NjAxLiBJZiBvZmZzZXQgaXMgMCwgb3V0cHV0IGlzIGAnKzAwOjAwJ2Agb3IgZXF1aXZhbGVudClcbiAgeDogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBfbG9jYWxpemUpIHtcbiAgICBjb25zdCB0aW1lem9uZU9mZnNldCA9IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcblxuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIC8vIEhvdXJzIGFuZCBvcHRpb25hbCBtaW51dGVzXG4gICAgICBjYXNlIFwieFwiOlxuICAgICAgICByZXR1cm4gZm9ybWF0VGltZXpvbmVXaXRoT3B0aW9uYWxNaW51dGVzKHRpbWV6b25lT2Zmc2V0KTtcblxuICAgICAgLy8gSG91cnMsIG1pbnV0ZXMgYW5kIG9wdGlvbmFsIHNlY29uZHMgd2l0aG91dCBgOmAgZGVsaW1pdGVyXG4gICAgICAvLyBOb3RlOiBuZWl0aGVyIElTTy04NjAxIG5vciBKYXZhU2NyaXB0IHN1cHBvcnRzIHNlY29uZHMgaW4gdGltZXpvbmUgb2Zmc2V0c1xuICAgICAgLy8gc28gdGhpcyB0b2tlbiBhbHdheXMgaGFzIHRoZSBzYW1lIG91dHB1dCBhcyBgeHhgXG4gICAgICBjYXNlIFwieHh4eFwiOlxuICAgICAgY2FzZSBcInh4XCI6IC8vIEhvdXJzIGFuZCBtaW51dGVzIHdpdGhvdXQgYDpgIGRlbGltaXRlclxuICAgICAgICByZXR1cm4gZm9ybWF0VGltZXpvbmUodGltZXpvbmVPZmZzZXQpO1xuXG4gICAgICAvLyBIb3VycywgbWludXRlcyBhbmQgb3B0aW9uYWwgc2Vjb25kcyB3aXRoIGA6YCBkZWxpbWl0ZXJcbiAgICAgIC8vIE5vdGU6IG5laXRoZXIgSVNPLTg2MDEgbm9yIEphdmFTY3JpcHQgc3VwcG9ydHMgc2Vjb25kcyBpbiB0aW1lem9uZSBvZmZzZXRzXG4gICAgICAvLyBzbyB0aGlzIHRva2VuIGFsd2F5cyBoYXMgdGhlIHNhbWUgb3V0cHV0IGFzIGB4eHhgXG4gICAgICBjYXNlIFwieHh4eHhcIjpcbiAgICAgIGNhc2UgXCJ4eHhcIjogLy8gSG91cnMgYW5kIG1pbnV0ZXMgd2l0aCBgOmAgZGVsaW1pdGVyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZm9ybWF0VGltZXpvbmUodGltZXpvbmVPZmZzZXQsIFwiOlwiKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gVGltZXpvbmUgKEdNVClcbiAgTzogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBfbG9jYWxpemUpIHtcbiAgICBjb25zdCB0aW1lem9uZU9mZnNldCA9IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcblxuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIC8vIFNob3J0XG4gICAgICBjYXNlIFwiT1wiOlxuICAgICAgY2FzZSBcIk9PXCI6XG4gICAgICBjYXNlIFwiT09PXCI6XG4gICAgICAgIHJldHVybiBcIkdNVFwiICsgZm9ybWF0VGltZXpvbmVTaG9ydCh0aW1lem9uZU9mZnNldCwgXCI6XCIpO1xuICAgICAgLy8gTG9uZ1xuICAgICAgY2FzZSBcIk9PT09cIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBcIkdNVFwiICsgZm9ybWF0VGltZXpvbmUodGltZXpvbmVPZmZzZXQsIFwiOlwiKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gVGltZXpvbmUgKHNwZWNpZmljIG5vbi1sb2NhdGlvbilcbiAgejogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBfbG9jYWxpemUpIHtcbiAgICBjb25zdCB0aW1lem9uZU9mZnNldCA9IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcblxuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIC8vIFNob3J0XG4gICAgICBjYXNlIFwielwiOlxuICAgICAgY2FzZSBcInp6XCI6XG4gICAgICBjYXNlIFwienp6XCI6XG4gICAgICAgIHJldHVybiBcIkdNVFwiICsgZm9ybWF0VGltZXpvbmVTaG9ydCh0aW1lem9uZU9mZnNldCwgXCI6XCIpO1xuICAgICAgLy8gTG9uZ1xuICAgICAgY2FzZSBcInp6enpcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBcIkdNVFwiICsgZm9ybWF0VGltZXpvbmUodGltZXpvbmVPZmZzZXQsIFwiOlwiKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gU2Vjb25kcyB0aW1lc3RhbXBcbiAgdDogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBfbG9jYWxpemUpIHtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBNYXRoLnRydW5jKGRhdGUuZ2V0VGltZSgpIC8gMTAwMCk7XG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyh0aW1lc3RhbXAsIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gTWlsbGlzZWNvbmRzIHRpbWVzdGFtcFxuICBUOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIF9sb2NhbGl6ZSkge1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IGRhdGUuZ2V0VGltZSgpO1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3ModGltZXN0YW1wLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxufTtcblxuZnVuY3Rpb24gZm9ybWF0VGltZXpvbmVTaG9ydChvZmZzZXQsIGRlbGltaXRlciA9IFwiXCIpIHtcbiAgY29uc3Qgc2lnbiA9IG9mZnNldCA+IDAgPyBcIi1cIiA6IFwiK1wiO1xuICBjb25zdCBhYnNPZmZzZXQgPSBNYXRoLmFicyhvZmZzZXQpO1xuICBjb25zdCBob3VycyA9IE1hdGgudHJ1bmMoYWJzT2Zmc2V0IC8gNjApO1xuICBjb25zdCBtaW51dGVzID0gYWJzT2Zmc2V0ICUgNjA7XG4gIGlmIChtaW51dGVzID09PSAwKSB7XG4gICAgcmV0dXJuIHNpZ24gKyBTdHJpbmcoaG91cnMpO1xuICB9XG4gIHJldHVybiBzaWduICsgU3RyaW5nKGhvdXJzKSArIGRlbGltaXRlciArIGFkZExlYWRpbmdaZXJvcyhtaW51dGVzLCAyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VGltZXpvbmVXaXRoT3B0aW9uYWxNaW51dGVzKG9mZnNldCwgZGVsaW1pdGVyKSB7XG4gIGlmIChvZmZzZXQgJSA2MCA9PT0gMCkge1xuICAgIGNvbnN0IHNpZ24gPSBvZmZzZXQgPiAwID8gXCItXCIgOiBcIitcIjtcbiAgICByZXR1cm4gc2lnbiArIGFkZExlYWRpbmdaZXJvcyhNYXRoLmFicyhvZmZzZXQpIC8gNjAsIDIpO1xuICB9XG4gIHJldHVybiBmb3JtYXRUaW1lem9uZShvZmZzZXQsIGRlbGltaXRlcik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFRpbWV6b25lKG9mZnNldCwgZGVsaW1pdGVyID0gXCJcIikge1xuICBjb25zdCBzaWduID0gb2Zmc2V0ID4gMCA/IFwiLVwiIDogXCIrXCI7XG4gIGNvbnN0IGFic09mZnNldCA9IE1hdGguYWJzKG9mZnNldCk7XG4gIGNvbnN0IGhvdXJzID0gYWRkTGVhZGluZ1plcm9zKE1hdGgudHJ1bmMoYWJzT2Zmc2V0IC8gNjApLCAyKTtcbiAgY29uc3QgbWludXRlcyA9IGFkZExlYWRpbmdaZXJvcyhhYnNPZmZzZXQgJSA2MCwgMik7XG4gIHJldHVybiBzaWduICsgaG91cnMgKyBkZWxpbWl0ZXIgKyBtaW51dGVzO1xufVxuIiwgImNvbnN0IGRhdGVMb25nRm9ybWF0dGVyID0gKHBhdHRlcm4sIGZvcm1hdExvbmcpID0+IHtcbiAgc3dpdGNoIChwYXR0ZXJuKSB7XG4gICAgY2FzZSBcIlBcIjpcbiAgICAgIHJldHVybiBmb3JtYXRMb25nLmRhdGUoeyB3aWR0aDogXCJzaG9ydFwiIH0pO1xuICAgIGNhc2UgXCJQUFwiOlxuICAgICAgcmV0dXJuIGZvcm1hdExvbmcuZGF0ZSh7IHdpZHRoOiBcIm1lZGl1bVwiIH0pO1xuICAgIGNhc2UgXCJQUFBcIjpcbiAgICAgIHJldHVybiBmb3JtYXRMb25nLmRhdGUoeyB3aWR0aDogXCJsb25nXCIgfSk7XG4gICAgY2FzZSBcIlBQUFBcIjpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZvcm1hdExvbmcuZGF0ZSh7IHdpZHRoOiBcImZ1bGxcIiB9KTtcbiAgfVxufTtcblxuY29uc3QgdGltZUxvbmdGb3JtYXR0ZXIgPSAocGF0dGVybiwgZm9ybWF0TG9uZykgPT4ge1xuICBzd2l0Y2ggKHBhdHRlcm4pIHtcbiAgICBjYXNlIFwicFwiOlxuICAgICAgcmV0dXJuIGZvcm1hdExvbmcudGltZSh7IHdpZHRoOiBcInNob3J0XCIgfSk7XG4gICAgY2FzZSBcInBwXCI6XG4gICAgICByZXR1cm4gZm9ybWF0TG9uZy50aW1lKHsgd2lkdGg6IFwibWVkaXVtXCIgfSk7XG4gICAgY2FzZSBcInBwcFwiOlxuICAgICAgcmV0dXJuIGZvcm1hdExvbmcudGltZSh7IHdpZHRoOiBcImxvbmdcIiB9KTtcbiAgICBjYXNlIFwicHBwcFwiOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZm9ybWF0TG9uZy50aW1lKHsgd2lkdGg6IFwiZnVsbFwiIH0pO1xuICB9XG59O1xuXG5jb25zdCBkYXRlVGltZUxvbmdGb3JtYXR0ZXIgPSAocGF0dGVybiwgZm9ybWF0TG9uZykgPT4ge1xuICBjb25zdCBtYXRjaFJlc3VsdCA9IHBhdHRlcm4ubWF0Y2goLyhQKykocCspPy8pIHx8IFtdO1xuICBjb25zdCBkYXRlUGF0dGVybiA9IG1hdGNoUmVzdWx0WzFdO1xuICBjb25zdCB0aW1lUGF0dGVybiA9IG1hdGNoUmVzdWx0WzJdO1xuXG4gIGlmICghdGltZVBhdHRlcm4pIHtcbiAgICByZXR1cm4gZGF0ZUxvbmdGb3JtYXR0ZXIocGF0dGVybiwgZm9ybWF0TG9uZyk7XG4gIH1cblxuICBsZXQgZGF0ZVRpbWVGb3JtYXQ7XG5cbiAgc3dpdGNoIChkYXRlUGF0dGVybikge1xuICAgIGNhc2UgXCJQXCI6XG4gICAgICBkYXRlVGltZUZvcm1hdCA9IGZvcm1hdExvbmcuZGF0ZVRpbWUoeyB3aWR0aDogXCJzaG9ydFwiIH0pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlBQXCI6XG4gICAgICBkYXRlVGltZUZvcm1hdCA9IGZvcm1hdExvbmcuZGF0ZVRpbWUoeyB3aWR0aDogXCJtZWRpdW1cIiB9KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJQUFBcIjpcbiAgICAgIGRhdGVUaW1lRm9ybWF0ID0gZm9ybWF0TG9uZy5kYXRlVGltZSh7IHdpZHRoOiBcImxvbmdcIiB9KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJQUFBQXCI6XG4gICAgZGVmYXVsdDpcbiAgICAgIGRhdGVUaW1lRm9ybWF0ID0gZm9ybWF0TG9uZy5kYXRlVGltZSh7IHdpZHRoOiBcImZ1bGxcIiB9KTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIGRhdGVUaW1lRm9ybWF0XG4gICAgLnJlcGxhY2UoXCJ7e2RhdGV9fVwiLCBkYXRlTG9uZ0Zvcm1hdHRlcihkYXRlUGF0dGVybiwgZm9ybWF0TG9uZykpXG4gICAgLnJlcGxhY2UoXCJ7e3RpbWV9fVwiLCB0aW1lTG9uZ0Zvcm1hdHRlcih0aW1lUGF0dGVybiwgZm9ybWF0TG9uZykpO1xufTtcblxuZXhwb3J0IGNvbnN0IGxvbmdGb3JtYXR0ZXJzID0ge1xuICBwOiB0aW1lTG9uZ0Zvcm1hdHRlcixcbiAgUDogZGF0ZVRpbWVMb25nRm9ybWF0dGVyLFxufTtcbiIsICJjb25zdCBkYXlPZlllYXJUb2tlblJFID0gL15EKyQvO1xuY29uc3Qgd2Vla1llYXJUb2tlblJFID0gL15ZKyQvO1xuXG5jb25zdCB0aHJvd1Rva2VucyA9IFtcIkRcIiwgXCJERFwiLCBcIllZXCIsIFwiWVlZWVwiXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvdGVjdGVkRGF5T2ZZZWFyVG9rZW4odG9rZW4pIHtcbiAgcmV0dXJuIGRheU9mWWVhclRva2VuUkUudGVzdCh0b2tlbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb3RlY3RlZFdlZWtZZWFyVG9rZW4odG9rZW4pIHtcbiAgcmV0dXJuIHdlZWtZZWFyVG9rZW5SRS50ZXN0KHRva2VuKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdhcm5PclRocm93UHJvdGVjdGVkRXJyb3IodG9rZW4sIGZvcm1hdCwgaW5wdXQpIHtcbiAgY29uc3QgX21lc3NhZ2UgPSBtZXNzYWdlKHRva2VuLCBmb3JtYXQsIGlucHV0KTtcbiAgY29uc29sZS53YXJuKF9tZXNzYWdlKTtcbiAgaWYgKHRocm93VG9rZW5zLmluY2x1ZGVzKHRva2VuKSkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoX21lc3NhZ2UpO1xufVxuXG5mdW5jdGlvbiBtZXNzYWdlKHRva2VuLCBmb3JtYXQsIGlucHV0KSB7XG4gIGNvbnN0IHN1YmplY3QgPSB0b2tlblswXSA9PT0gXCJZXCIgPyBcInllYXJzXCIgOiBcImRheXMgb2YgdGhlIG1vbnRoXCI7XG4gIHJldHVybiBgVXNlIFxcYCR7dG9rZW4udG9Mb3dlckNhc2UoKX1cXGAgaW5zdGVhZCBvZiBcXGAke3Rva2VufVxcYCAoaW4gXFxgJHtmb3JtYXR9XFxgKSBmb3IgZm9ybWF0dGluZyAke3N1YmplY3R9IHRvIHRoZSBpbnB1dCBcXGAke2lucHV0fVxcYDsgc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91bmljb2RlVG9rZW5zLm1kYDtcbn1cbiIsICJpbXBvcnQgeyBkZWZhdWx0TG9jYWxlIH0gZnJvbSBcIi4vX2xpYi9kZWZhdWx0TG9jYWxlLm1qc1wiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tIFwiLi9fbGliL2RlZmF1bHRPcHRpb25zLm1qc1wiO1xuaW1wb3J0IHsgZm9ybWF0dGVycyB9IGZyb20gXCIuL19saWIvZm9ybWF0L2Zvcm1hdHRlcnMubWpzXCI7XG5pbXBvcnQgeyBsb25nRm9ybWF0dGVycyB9IGZyb20gXCIuL19saWIvZm9ybWF0L2xvbmdGb3JtYXR0ZXJzLm1qc1wiO1xuaW1wb3J0IHtcbiAgaXNQcm90ZWN0ZWREYXlPZlllYXJUb2tlbixcbiAgaXNQcm90ZWN0ZWRXZWVrWWVhclRva2VuLFxuICB3YXJuT3JUaHJvd1Byb3RlY3RlZEVycm9yLFxufSBmcm9tIFwiLi9fbGliL3Byb3RlY3RlZFRva2Vucy5tanNcIjtcbmltcG9ydCB7IGlzVmFsaWQgfSBmcm9tIFwiLi9pc1ZhbGlkLm1qc1wiO1xuaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuXG4vLyBSZXhwb3J0cyBvZiBpbnRlcm5hbCBmb3IgbGlicmFyaWVzIHRvIHVzZS5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2lzc3Vlcy8zNjM4I2lzc3VlY29tbWVudC0xODc3MDgyODc0XG5leHBvcnQgeyBmb3JtYXR0ZXJzLCBsb25nRm9ybWF0dGVycyB9O1xuXG4vLyBUaGlzIFJlZ0V4cCBjb25zaXN0cyBvZiB0aHJlZSBwYXJ0cyBzZXBhcmF0ZWQgYnkgYHxgOlxuLy8gLSBbeVlRcU1Md0lkRGVjaWhIS2ttc11vIG1hdGNoZXMgYW55IGF2YWlsYWJsZSBvcmRpbmFsIG51bWJlciB0b2tlblxuLy8gICAob25lIG9mIHRoZSBjZXJ0YWluIGxldHRlcnMgZm9sbG93ZWQgYnkgYG9gKVxuLy8gLSAoXFx3KVxcMSogbWF0Y2hlcyBhbnkgc2VxdWVuY2VzIG9mIHRoZSBzYW1lIGxldHRlclxuLy8gLSAnJyBtYXRjaGVzIHR3byBxdW90ZSBjaGFyYWN0ZXJzIGluIGEgcm93XG4vLyAtICcoJyd8W14nXSkrKCd8JCkgbWF0Y2hlcyBhbnl0aGluZyBzdXJyb3VuZGVkIGJ5IHR3byBxdW90ZSBjaGFyYWN0ZXJzICgnKSxcbi8vICAgZXhjZXB0IGEgc2luZ2xlIHF1b3RlIHN5bWJvbCwgd2hpY2ggZW5kcyB0aGUgc2VxdWVuY2UuXG4vLyAgIFR3byBxdW90ZSBjaGFyYWN0ZXJzIGRvIG5vdCBlbmQgdGhlIHNlcXVlbmNlLlxuLy8gICBJZiB0aGVyZSBpcyBubyBtYXRjaGluZyBzaW5nbGUgcXVvdGVcbi8vICAgdGhlbiB0aGUgc2VxdWVuY2Ugd2lsbCBjb250aW51ZSB1bnRpbCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcuXG4vLyAtIC4gbWF0Y2hlcyBhbnkgc2luZ2xlIGNoYXJhY3RlciB1bm1hdGNoZWQgYnkgcHJldmlvdXMgcGFydHMgb2YgdGhlIFJlZ0V4cHNcbmNvbnN0IGZvcm1hdHRpbmdUb2tlbnNSZWdFeHAgPVxuICAvW3lZUXFNTHdJZERlY2loSEtrbXNdb3woXFx3KVxcMSp8Jyd8JygnJ3xbXiddKSsoJ3wkKXwuL2c7XG5cbi8vIFRoaXMgUmVnRXhwIGNhdGNoZXMgc3ltYm9scyBlc2NhcGVkIGJ5IHF1b3RlcywgYW5kIGFsc29cbi8vIHNlcXVlbmNlcyBvZiBzeW1ib2xzIFAsIHAsIGFuZCB0aGUgY29tYmluYXRpb25zIGxpa2UgYFBQUFBQUFBwcHBwcGBcbmNvbnN0IGxvbmdGb3JtYXR0aW5nVG9rZW5zUmVnRXhwID0gL1ArcCt8UCt8cCt8Jyd8JygnJ3xbXiddKSsoJ3wkKXwuL2c7XG5cbmNvbnN0IGVzY2FwZWRTdHJpbmdSZWdFeHAgPSAvXicoW15dKj8pJz8kLztcbmNvbnN0IGRvdWJsZVF1b3RlUmVnRXhwID0gLycnL2c7XG5jb25zdCB1bmVzY2FwZWRMYXRpbkNoYXJhY3RlclJlZ0V4cCA9IC9bYS16QS1aXS87XG5cbmV4cG9ydCB7IGZvcm1hdCBhcyBmb3JtYXREYXRlIH07XG5cbi8qKlxuICogVGhlIHtAbGluayBmb3JtYXR9IGZ1bmN0aW9uIG9wdGlvbnMuXG4gKi9cblxuLyoqXG4gKiBAbmFtZSBmb3JtYXRcbiAqIEBhbGlhcyBmb3JtYXREYXRlXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEZvcm1hdCB0aGUgZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgZm9ybWF0dGVkIGRhdGUgc3RyaW5nIGluIHRoZSBnaXZlbiBmb3JtYXQuIFRoZSByZXN1bHQgbWF5IHZhcnkgYnkgbG9jYWxlLlxuICpcbiAqID4gXHUyNkEwXHVGRTBGIFBsZWFzZSBub3RlIHRoYXQgdGhlIGBmb3JtYXRgIHRva2VucyBkaWZmZXIgZnJvbSBNb21lbnQuanMgYW5kIG90aGVyIGxpYnJhcmllcy5cbiAqID4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91bmljb2RlVG9rZW5zLm1kXG4gKlxuICogVGhlIGNoYXJhY3RlcnMgd3JhcHBlZCBiZXR3ZWVuIHR3byBzaW5nbGUgcXVvdGVzIGNoYXJhY3RlcnMgKCcpIGFyZSBlc2NhcGVkLlxuICogVHdvIHNpbmdsZSBxdW90ZXMgaW4gYSByb3csIHdoZXRoZXIgaW5zaWRlIG9yIG91dHNpZGUgYSBxdW90ZWQgc2VxdWVuY2UsIHJlcHJlc2VudCBhICdyZWFsJyBzaW5nbGUgcXVvdGUuXG4gKiAoc2VlIHRoZSBsYXN0IGV4YW1wbGUpXG4gKlxuICogRm9ybWF0IG9mIHRoZSBzdHJpbmcgaXMgYmFzZWQgb24gVW5pY29kZSBUZWNobmljYWwgU3RhbmRhcmQgIzM1OlxuICogaHR0cHM6Ly93d3cudW5pY29kZS5vcmcvcmVwb3J0cy90cjM1L3RyMzUtZGF0ZXMuaHRtbCNEYXRlX0ZpZWxkX1N5bWJvbF9UYWJsZVxuICogd2l0aCBhIGZldyBhZGRpdGlvbnMgKHNlZSBub3RlIDcgYmVsb3cgdGhlIHRhYmxlKS5cbiAqXG4gKiBBY2NlcHRlZCBwYXR0ZXJuczpcbiAqIHwgVW5pdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFBhdHRlcm4gfCBSZXN1bHQgZXhhbXBsZXMgICAgICAgICAgICAgICAgICAgfCBOb3RlcyB8XG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tfFxuICogfCBFcmEgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgRy4uR0dHICB8IEFELCBCQyAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEdHR0cgICAgfCBBbm5vIERvbWluaSwgQmVmb3JlIENocmlzdCAgICAgICAgfCAyICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBHR0dHRyAgIHwgQSwgQiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCBDYWxlbmRhciB5ZWFyICAgICAgICAgICAgICAgICAgIHwgeSAgICAgICB8IDQ0LCAxLCAxOTAwLCAyMDE3ICAgICAgICAgICAgICAgICB8IDUgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHlvICAgICAgfCA0NHRoLCAxc3QsIDB0aCwgMTd0aCAgICAgICAgICAgICAgfCA1LDcgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB5eSAgICAgIHwgNDQsIDAxLCAwMCwgMTcgICAgICAgICAgICAgICAgICAgIHwgNSAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgeXl5ICAgICB8IDA0NCwgMDAxLCAxOTAwLCAyMDE3ICAgICAgICAgICAgICB8IDUgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHl5eXkgICAgfCAwMDQ0LCAwMDAxLCAxOTAwLCAyMDE3ICAgICAgICAgICAgfCA1ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB5eXl5eSAgIHwgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgMyw1ICAgfFxuICogfCBMb2NhbCB3ZWVrLW51bWJlcmluZyB5ZWFyICAgICAgIHwgWSAgICAgICB8IDQ0LCAxLCAxOTAwLCAyMDE3ICAgICAgICAgICAgICAgICB8IDUgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFlvICAgICAgfCA0NHRoLCAxc3QsIDE5MDB0aCwgMjAxN3RoICAgICAgICAgfCA1LDcgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBZWSAgICAgIHwgNDQsIDAxLCAwMCwgMTcgICAgICAgICAgICAgICAgICAgIHwgNSw4ICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgWVlZICAgICB8IDA0NCwgMDAxLCAxOTAwLCAyMDE3ICAgICAgICAgICAgICB8IDUgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFlZWVkgICAgfCAwMDQ0LCAwMDAxLCAxOTAwLCAyMDE3ICAgICAgICAgICAgfCA1LDggICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBZWVlZWSAgIHwgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgMyw1ICAgfFxuICogfCBJU08gd2Vlay1udW1iZXJpbmcgeWVhciAgICAgICAgIHwgUiAgICAgICB8IC00MywgMCwgMSwgMTkwMCwgMjAxNyAgICAgICAgICAgICB8IDUsNyAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFJSICAgICAgfCAtNDMsIDAwLCAwMSwgMTkwMCwgMjAxNyAgICAgICAgICAgfCA1LDcgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBSUlIgICAgIHwgLTA0MywgMDAwLCAwMDEsIDE5MDAsIDIwMTcgICAgICAgIHwgNSw3ICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUlJSUiAgICB8IC0wMDQzLCAwMDAwLCAwMDAxLCAxOTAwLCAyMDE3ICAgICB8IDUsNyAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFJSUlJSICAgfCAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAzLDUsNyB8XG4gKiB8IEV4dGVuZGVkIHllYXIgICAgICAgICAgICAgICAgICAgfCB1ICAgICAgIHwgLTQzLCAwLCAxLCAxOTAwLCAyMDE3ICAgICAgICAgICAgIHwgNSAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgdXUgICAgICB8IC00MywgMDEsIDE5MDAsIDIwMTcgICAgICAgICAgICAgICB8IDUgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHV1dSAgICAgfCAtMDQzLCAwMDEsIDE5MDAsIDIwMTcgICAgICAgICAgICAgfCA1ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB1dXV1ICAgIHwgLTAwNDMsIDAwMDEsIDE5MDAsIDIwMTcgICAgICAgICAgIHwgNSAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgdXV1dXUgICB8IC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IDMsNSAgIHxcbiAqIHwgUXVhcnRlciAoZm9ybWF0dGluZykgICAgICAgICAgICB8IFEgICAgICAgfCAxLCAyLCAzLCA0ICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBRbyAgICAgIHwgMXN0LCAybmQsIDNyZCwgNHRoICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUVEgICAgICB8IDAxLCAwMiwgMDMsIDA0ICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFFRUSAgICAgfCBRMSwgUTIsIFEzLCBRNCAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBRUVFRICAgIHwgMXN0IHF1YXJ0ZXIsIDJuZCBxdWFydGVyLCAuLi4gICAgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUVFRUVEgICB8IDEsIDIsIDMsIDQgICAgICAgICAgICAgICAgICAgICAgICB8IDQgICAgIHxcbiAqIHwgUXVhcnRlciAoc3RhbmQtYWxvbmUpICAgICAgICAgICB8IHEgICAgICAgfCAxLCAyLCAzLCA0ICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBxbyAgICAgIHwgMXN0LCAybmQsIDNyZCwgNHRoICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgcXEgICAgICB8IDAxLCAwMiwgMDMsIDA0ICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHFxcSAgICAgfCBRMSwgUTIsIFEzLCBRNCAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBxcXFxICAgIHwgMXN0IHF1YXJ0ZXIsIDJuZCBxdWFydGVyLCAuLi4gICAgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgcXFxcXEgICB8IDEsIDIsIDMsIDQgICAgICAgICAgICAgICAgICAgICAgICB8IDQgICAgIHxcbiAqIHwgTW9udGggKGZvcm1hdHRpbmcpICAgICAgICAgICAgICB8IE0gICAgICAgfCAxLCAyLCAuLi4sIDEyICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBNbyAgICAgIHwgMXN0LCAybmQsIC4uLiwgMTJ0aCAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgTU0gICAgICB8IDAxLCAwMiwgLi4uLCAxMiAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IE1NTSAgICAgfCBKYW4sIEZlYiwgLi4uLCBEZWMgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBNTU1NICAgIHwgSmFudWFyeSwgRmVicnVhcnksIC4uLiwgRGVjZW1iZXIgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgTU1NTU0gICB8IEosIEYsIC4uLiwgRCAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgTW9udGggKHN0YW5kLWFsb25lKSAgICAgICAgICAgICB8IEwgICAgICAgfCAxLCAyLCAuLi4sIDEyICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBMbyAgICAgIHwgMXN0LCAybmQsIC4uLiwgMTJ0aCAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgTEwgICAgICB8IDAxLCAwMiwgLi4uLCAxMiAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IExMTCAgICAgfCBKYW4sIEZlYiwgLi4uLCBEZWMgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBMTExMICAgIHwgSmFudWFyeSwgRmVicnVhcnksIC4uLiwgRGVjZW1iZXIgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgTExMTEwgICB8IEosIEYsIC4uLiwgRCAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgTG9jYWwgd2VlayBvZiB5ZWFyICAgICAgICAgICAgICB8IHcgICAgICAgfCAxLCAyLCAuLi4sIDUzICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB3byAgICAgIHwgMXN0LCAybmQsIC4uLiwgNTN0aCAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgd3cgICAgICB8IDAxLCAwMiwgLi4uLCA1MyAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgSVNPIHdlZWsgb2YgeWVhciAgICAgICAgICAgICAgICB8IEkgICAgICAgfCAxLCAyLCAuLi4sIDUzICAgICAgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBJbyAgICAgIHwgMXN0LCAybmQsIC4uLiwgNTN0aCAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgSUkgICAgICB8IDAxLCAwMiwgLi4uLCA1MyAgICAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgRGF5IG9mIG1vbnRoICAgICAgICAgICAgICAgICAgICB8IGQgICAgICAgfCAxLCAyLCAuLi4sIDMxICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBkbyAgICAgIHwgMXN0LCAybmQsIC4uLiwgMzFzdCAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZGQgICAgICB8IDAxLCAwMiwgLi4uLCAzMSAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgRGF5IG9mIHllYXIgICAgICAgICAgICAgICAgICAgICB8IEQgICAgICAgfCAxLCAyLCAuLi4sIDM2NSwgMzY2ICAgICAgICAgICAgICAgfCA5ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBEbyAgICAgIHwgMXN0LCAybmQsIC4uLiwgMzY1dGgsIDM2NnRoICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgREQgICAgICB8IDAxLCAwMiwgLi4uLCAzNjUsIDM2NiAgICAgICAgICAgICB8IDkgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IERERCAgICAgfCAwMDEsIDAwMiwgLi4uLCAzNjUsIDM2NiAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBEREREICAgIHwgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgMyAgICAgfFxuICogfCBEYXkgb2Ygd2VlayAoZm9ybWF0dGluZykgICAgICAgIHwgRS4uRUVFICB8IE1vbiwgVHVlLCBXZWQsIC4uLiwgU3VuICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEVFRUUgICAgfCBNb25kYXksIFR1ZXNkYXksIC4uLiwgU3VuZGF5ICAgICAgfCAyICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBFRUVFRSAgIHwgTSwgVCwgVywgVCwgRiwgUywgUyAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgRUVFRUVFICB8IE1vLCBUdSwgV2UsIFRoLCBGciwgU2EsIFN1ICAgICAgICB8ICAgICAgIHxcbiAqIHwgSVNPIGRheSBvZiB3ZWVrIChmb3JtYXR0aW5nKSAgICB8IGkgICAgICAgfCAxLCAyLCAzLCAuLi4sIDcgICAgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBpbyAgICAgIHwgMXN0LCAybmQsIC4uLiwgN3RoICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgaWkgICAgICB8IDAxLCAwMiwgLi4uLCAwNyAgICAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGlpaSAgICAgfCBNb24sIFR1ZSwgV2VkLCAuLi4sIFN1biAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBpaWlpICAgIHwgTW9uZGF5LCBUdWVzZGF5LCAuLi4sIFN1bmRheSAgICAgIHwgMiw3ICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgaWlpaWkgICB8IE0sIFQsIFcsIFQsIEYsIFMsIFMgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGlpaWlpaSAgfCBNbywgVHUsIFdlLCBUaCwgRnIsIFNhLCBTdSAgICAgICAgfCA3ICAgICB8XG4gKiB8IExvY2FsIGRheSBvZiB3ZWVrIChmb3JtYXR0aW5nKSAgfCBlICAgICAgIHwgMiwgMywgNCwgLi4uLCAxICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZW8gICAgICB8IDJuZCwgM3JkLCAuLi4sIDFzdCAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGVlICAgICAgfCAwMiwgMDMsIC4uLiwgMDEgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBlZWUgICAgIHwgTW9uLCBUdWUsIFdlZCwgLi4uLCBTdW4gICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZWVlZSAgICB8IE1vbmRheSwgVHVlc2RheSwgLi4uLCBTdW5kYXkgICAgICB8IDIgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGVlZWVlICAgfCBNLCBULCBXLCBULCBGLCBTLCBTICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBlZWVlZWUgIHwgTW8sIFR1LCBXZSwgVGgsIEZyLCBTYSwgU3UgICAgICAgIHwgICAgICAgfFxuICogfCBMb2NhbCBkYXkgb2Ygd2VlayAoc3RhbmQtYWxvbmUpIHwgYyAgICAgICB8IDIsIDMsIDQsIC4uLiwgMSAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGNvICAgICAgfCAybmQsIDNyZCwgLi4uLCAxc3QgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBjYyAgICAgIHwgMDIsIDAzLCAuLi4sIDAxICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgY2NjICAgICB8IE1vbiwgVHVlLCBXZWQsIC4uLiwgU3VuICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGNjY2MgICAgfCBNb25kYXksIFR1ZXNkYXksIC4uLiwgU3VuZGF5ICAgICAgfCAyICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBjY2NjYyAgIHwgTSwgVCwgVywgVCwgRiwgUywgUyAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgY2NjY2NjICB8IE1vLCBUdSwgV2UsIFRoLCBGciwgU2EsIFN1ICAgICAgICB8ICAgICAgIHxcbiAqIHwgQU0sIFBNICAgICAgICAgICAgICAgICAgICAgICAgICB8IGEuLmFhICAgfCBBTSwgUE0gICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBhYWEgICAgIHwgYW0sIHBtICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYWFhYSAgICB8IGEubS4sIHAubS4gICAgICAgICAgICAgICAgICAgICAgICB8IDIgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGFhYWFhICAgfCBhLCBwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8IEFNLCBQTSwgbm9vbiwgbWlkbmlnaHQgICAgICAgICAgfCBiLi5iYiAgIHwgQU0sIFBNLCBub29uLCBtaWRuaWdodCAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYmJiICAgICB8IGFtLCBwbSwgbm9vbiwgbWlkbmlnaHQgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGJiYmIgICAgfCBhLm0uLCBwLm0uLCBub29uLCBtaWRuaWdodCAgICAgICAgfCAyICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBiYmJiYiAgIHwgYSwgcCwgbiwgbWkgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCBGbGV4aWJsZSBkYXkgcGVyaW9kICAgICAgICAgICAgIHwgQi4uQkJCICB8IGF0IG5pZ2h0LCBpbiB0aGUgbW9ybmluZywgLi4uICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEJCQkIgICAgfCBhdCBuaWdodCwgaW4gdGhlIG1vcm5pbmcsIC4uLiAgICAgfCAyICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBCQkJCQiAgIHwgYXQgbmlnaHQsIGluIHRoZSBtb3JuaW5nLCAuLi4gICAgIHwgICAgICAgfFxuICogfCBIb3VyIFsxLTEyXSAgICAgICAgICAgICAgICAgICAgIHwgaCAgICAgICB8IDEsIDIsIC4uLiwgMTEsIDEyICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGhvICAgICAgfCAxc3QsIDJuZCwgLi4uLCAxMXRoLCAxMnRoICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBoaCAgICAgIHwgMDEsIDAyLCAuLi4sIDExLCAxMiAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCBIb3VyIFswLTIzXSAgICAgICAgICAgICAgICAgICAgIHwgSCAgICAgICB8IDAsIDEsIDIsIC4uLiwgMjMgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEhvICAgICAgfCAwdGgsIDFzdCwgMm5kLCAuLi4sIDIzcmQgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBISCAgICAgIHwgMDAsIDAxLCAwMiwgLi4uLCAyMyAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCBIb3VyIFswLTExXSAgICAgICAgICAgICAgICAgICAgIHwgSyAgICAgICB8IDEsIDIsIC4uLiwgMTEsIDAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEtvICAgICAgfCAxc3QsIDJuZCwgLi4uLCAxMXRoLCAwdGggICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBLSyAgICAgIHwgMDEsIDAyLCAuLi4sIDExLCAwMCAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCBIb3VyIFsxLTI0XSAgICAgICAgICAgICAgICAgICAgIHwgayAgICAgICB8IDI0LCAxLCAyLCAuLi4sIDIzICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGtvICAgICAgfCAyNHRoLCAxc3QsIDJuZCwgLi4uLCAyM3JkICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBrayAgICAgIHwgMjQsIDAxLCAwMiwgLi4uLCAyMyAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCBNaW51dGUgICAgICAgICAgICAgICAgICAgICAgICAgIHwgbSAgICAgICB8IDAsIDEsIC4uLiwgNTkgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IG1vICAgICAgfCAwdGgsIDFzdCwgLi4uLCA1OXRoICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBtbSAgICAgIHwgMDAsIDAxLCAuLi4sIDU5ICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCBTZWNvbmQgICAgICAgICAgICAgICAgICAgICAgICAgIHwgcyAgICAgICB8IDAsIDEsIC4uLiwgNTkgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHNvICAgICAgfCAwdGgsIDFzdCwgLi4uLCA1OXRoICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBzcyAgICAgIHwgMDAsIDAxLCAuLi4sIDU5ICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCBGcmFjdGlvbiBvZiBzZWNvbmQgICAgICAgICAgICAgIHwgUyAgICAgICB8IDAsIDEsIC4uLiwgOSAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFNTICAgICAgfCAwMCwgMDEsIC4uLiwgOTkgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBTU1MgICAgIHwgMDAwLCAwMDEsIC4uLiwgOTk5ICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgU1NTUyAgICB8IC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IDMgICAgIHxcbiAqIHwgVGltZXpvbmUgKElTTy04NjAxIHcvIFopICAgICAgICB8IFggICAgICAgfCAtMDgsICswNTMwLCBaICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBYWCAgICAgIHwgLTA4MDAsICswNTMwLCBaICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgWFhYICAgICB8IC0wODowMCwgKzA1OjMwLCBaICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFhYWFggICAgfCAtMDgwMCwgKzA1MzAsIFosICsxMjM0NTYgICAgICAgICAgfCAyICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBYWFhYWCAgIHwgLTA4OjAwLCArMDU6MzAsIFosICsxMjozNDo1NiAgICAgIHwgICAgICAgfFxuICogfCBUaW1lem9uZSAoSVNPLTg2MDEgdy9vIFopICAgICAgIHwgeCAgICAgICB8IC0wOCwgKzA1MzAsICswMCAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHh4ICAgICAgfCAtMDgwMCwgKzA1MzAsICswMDAwICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB4eHggICAgIHwgLTA4OjAwLCArMDU6MzAsICswMDowMCAgICAgICAgICAgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgeHh4eCAgICB8IC0wODAwLCArMDUzMCwgKzAwMDAsICsxMjM0NTYgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHh4eHh4ICAgfCAtMDg6MDAsICswNTozMCwgKzAwOjAwLCArMTI6MzQ6NTYgfCAgICAgICB8XG4gKiB8IFRpbWV6b25lIChHTVQpICAgICAgICAgICAgICAgICAgfCBPLi4uT09PIHwgR01ULTgsIEdNVCs1OjMwLCBHTVQrMCAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgT09PTyAgICB8IEdNVC0wODowMCwgR01UKzA1OjMwLCBHTVQrMDA6MDAgICB8IDIgICAgIHxcbiAqIHwgVGltZXpvbmUgKHNwZWNpZmljIG5vbi1sb2NhdC4pICB8IHouLi56enogfCBHTVQtOCwgR01UKzU6MzAsIEdNVCswICAgICAgICAgICAgfCA2ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB6enp6ICAgIHwgR01ULTA4OjAwLCBHTVQrMDU6MzAsIEdNVCswMDowMCAgIHwgMiw2ICAgfFxuICogfCBTZWNvbmRzIHRpbWVzdGFtcCAgICAgICAgICAgICAgIHwgdCAgICAgICB8IDUxMjk2OTUyMCAgICAgICAgICAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHR0ICAgICAgfCAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAzLDcgICB8XG4gKiB8IE1pbGxpc2Vjb25kcyB0aW1lc3RhbXAgICAgICAgICAgfCBUICAgICAgIHwgNTEyOTY5NTIwOTAwICAgICAgICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgVFQgICAgICB8IC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IDMsNyAgIHxcbiAqIHwgTG9uZyBsb2NhbGl6ZWQgZGF0ZSAgICAgICAgICAgICB8IFAgICAgICAgfCAwNC8yOS8xNDUzICAgICAgICAgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBQUCAgICAgIHwgQXByIDI5LCAxNDUzICAgICAgICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUFBQICAgICB8IEFwcmlsIDI5dGgsIDE0NTMgICAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFBQUFAgICAgfCBGcmlkYXksIEFwcmlsIDI5dGgsIDE0NTMgICAgICAgICAgfCAyLDcgICB8XG4gKiB8IExvbmcgbG9jYWxpemVkIHRpbWUgICAgICAgICAgICAgfCBwICAgICAgIHwgMTI6MDAgQU0gICAgICAgICAgICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgcHAgICAgICB8IDEyOjAwOjAwIEFNICAgICAgICAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHBwcCAgICAgfCAxMjowMDowMCBBTSBHTVQrMiAgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBwcHBwICAgIHwgMTI6MDA6MDAgQU0gR01UKzAyOjAwICAgICAgICAgICAgIHwgMiw3ICAgfFxuICogfCBDb21iaW5hdGlvbiBvZiBkYXRlIGFuZCB0aW1lICAgIHwgUHAgICAgICB8IDA0LzI5LzE0NTMsIDEyOjAwIEFNICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFBQcHAgICAgfCBBcHIgMjksIDE0NTMsIDEyOjAwOjAwIEFNICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBQUFBwcHAgIHwgQXByaWwgMjl0aCwgMTQ1MyBhdCAuLi4gICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUFBQUHBwcHB8IEZyaWRheSwgQXByaWwgMjl0aCwgMTQ1MyBhdCAuLi4gICB8IDIsNyAgIHxcbiAqIE5vdGVzOlxuICogMS4gXCJGb3JtYXR0aW5nXCIgdW5pdHMgKGUuZy4gZm9ybWF0dGluZyBxdWFydGVyKSBpbiB0aGUgZGVmYXVsdCBlbi1VUyBsb2NhbGVcbiAqICAgIGFyZSB0aGUgc2FtZSBhcyBcInN0YW5kLWFsb25lXCIgdW5pdHMsIGJ1dCBhcmUgZGlmZmVyZW50IGluIHNvbWUgbGFuZ3VhZ2VzLlxuICogICAgXCJGb3JtYXR0aW5nXCIgdW5pdHMgYXJlIGRlY2xpbmVkIGFjY29yZGluZyB0byB0aGUgcnVsZXMgb2YgdGhlIGxhbmd1YWdlXG4gKiAgICBpbiB0aGUgY29udGV4dCBvZiBhIGRhdGUuIFwiU3RhbmQtYWxvbmVcIiB1bml0cyBhcmUgYWx3YXlzIG5vbWluYXRpdmUgc2luZ3VsYXI6XG4gKlxuICogICAgYGZvcm1hdChuZXcgRGF0ZSgyMDE3LCAxMCwgNiksICdkbyBMTExMJywge2xvY2FsZTogY3N9KSAvLz0+ICc2LiBsaXN0b3BhZCdgXG4gKlxuICogICAgYGZvcm1hdChuZXcgRGF0ZSgyMDE3LCAxMCwgNiksICdkbyBNTU1NJywge2xvY2FsZTogY3N9KSAvLz0+ICc2LiBsaXN0b3BhZHUnYFxuICpcbiAqIDIuIEFueSBzZXF1ZW5jZSBvZiB0aGUgaWRlbnRpY2FsIGxldHRlcnMgaXMgYSBwYXR0ZXJuLCB1bmxlc3MgaXQgaXMgZXNjYXBlZCBieVxuICogICAgdGhlIHNpbmdsZSBxdW90ZSBjaGFyYWN0ZXJzIChzZWUgYmVsb3cpLlxuICogICAgSWYgdGhlIHNlcXVlbmNlIGlzIGxvbmdlciB0aGFuIGxpc3RlZCBpbiB0YWJsZSAoZS5nLiBgRUVFRUVFRUVFRUVgKVxuICogICAgdGhlIG91dHB1dCB3aWxsIGJlIHRoZSBzYW1lIGFzIGRlZmF1bHQgcGF0dGVybiBmb3IgdGhpcyB1bml0LCB1c3VhbGx5XG4gKiAgICB0aGUgbG9uZ2VzdCBvbmUgKGluIGNhc2Ugb2YgSVNPIHdlZWtkYXlzLCBgRUVFRWApLiBEZWZhdWx0IHBhdHRlcm5zIGZvciB1bml0c1xuICogICAgYXJlIG1hcmtlZCB3aXRoIFwiMlwiIGluIHRoZSBsYXN0IGNvbHVtbiBvZiB0aGUgdGFibGUuXG4gKlxuICogICAgYGZvcm1hdChuZXcgRGF0ZSgyMDE3LCAxMCwgNiksICdNTU0nKSAvLz0+ICdOb3YnYFxuICpcbiAqICAgIGBmb3JtYXQobmV3IERhdGUoMjAxNywgMTAsIDYpLCAnTU1NTScpIC8vPT4gJ05vdmVtYmVyJ2BcbiAqXG4gKiAgICBgZm9ybWF0KG5ldyBEYXRlKDIwMTcsIDEwLCA2KSwgJ01NTU1NJykgLy89PiAnTidgXG4gKlxuICogICAgYGZvcm1hdChuZXcgRGF0ZSgyMDE3LCAxMCwgNiksICdNTU1NTU0nKSAvLz0+ICdOb3ZlbWJlcidgXG4gKlxuICogICAgYGZvcm1hdChuZXcgRGF0ZSgyMDE3LCAxMCwgNiksICdNTU1NTU1NJykgLy89PiAnTm92ZW1iZXInYFxuICpcbiAqIDMuIFNvbWUgcGF0dGVybnMgY291bGQgYmUgdW5saW1pdGVkIGxlbmd0aCAoc3VjaCBhcyBgeXl5eXl5eXlgKS5cbiAqICAgIFRoZSBvdXRwdXQgd2lsbCBiZSBwYWRkZWQgd2l0aCB6ZXJvcyB0byBtYXRjaCB0aGUgbGVuZ3RoIG9mIHRoZSBwYXR0ZXJuLlxuICpcbiAqICAgIGBmb3JtYXQobmV3IERhdGUoMjAxNywgMTAsIDYpLCAneXl5eXl5eXknKSAvLz0+ICcwMDAwMjAxNydgXG4gKlxuICogNC4gYFFRUVFRYCBhbmQgYHFxcXFxYCBjb3VsZCBiZSBub3Qgc3RyaWN0bHkgbnVtZXJpY2FsIGluIHNvbWUgbG9jYWxlcy5cbiAqICAgIFRoZXNlIHRva2VucyByZXByZXNlbnQgdGhlIHNob3J0ZXN0IGZvcm0gb2YgdGhlIHF1YXJ0ZXIuXG4gKlxuICogNS4gVGhlIG1haW4gZGlmZmVyZW5jZSBiZXR3ZWVuIGB5YCBhbmQgYHVgIHBhdHRlcm5zIGFyZSBCLkMuIHllYXJzOlxuICpcbiAqICAgIHwgWWVhciB8IGB5YCB8IGB1YCB8XG4gKiAgICB8LS0tLS0tfC0tLS0tfC0tLS0tfFxuICogICAgfCBBQyAxIHwgICAxIHwgICAxIHxcbiAqICAgIHwgQkMgMSB8ICAgMSB8ICAgMCB8XG4gKiAgICB8IEJDIDIgfCAgIDIgfCAgLTEgfFxuICpcbiAqICAgIEFsc28gYHl5YCBhbHdheXMgcmV0dXJucyB0aGUgbGFzdCB0d28gZGlnaXRzIG9mIGEgeWVhcixcbiAqICAgIHdoaWxlIGB1dWAgcGFkcyBzaW5nbGUgZGlnaXQgeWVhcnMgdG8gMiBjaGFyYWN0ZXJzIGFuZCByZXR1cm5zIG90aGVyIHllYXJzIHVuY2hhbmdlZDpcbiAqXG4gKiAgICB8IFllYXIgfCBgeXlgIHwgYHV1YCB8XG4gKiAgICB8LS0tLS0tfC0tLS0tLXwtLS0tLS18XG4gKiAgICB8IDEgICAgfCAgIDAxIHwgICAwMSB8XG4gKiAgICB8IDE0ICAgfCAgIDE0IHwgICAxNCB8XG4gKiAgICB8IDM3NiAgfCAgIDc2IHwgIDM3NiB8XG4gKiAgICB8IDE0NTMgfCAgIDUzIHwgMTQ1MyB8XG4gKlxuICogICAgVGhlIHNhbWUgZGlmZmVyZW5jZSBpcyB0cnVlIGZvciBsb2NhbCBhbmQgSVNPIHdlZWstbnVtYmVyaW5nIHllYXJzIChgWWAgYW5kIGBSYCksXG4gKiAgICBleGNlcHQgbG9jYWwgd2Vlay1udW1iZXJpbmcgeWVhcnMgYXJlIGRlcGVuZGVudCBvbiBgb3B0aW9ucy53ZWVrU3RhcnRzT25gXG4gKiAgICBhbmQgYG9wdGlvbnMuZmlyc3RXZWVrQ29udGFpbnNEYXRlYCAoY29tcGFyZSBbZ2V0SVNPV2Vla1llYXJdKGh0dHBzOi8vZGF0ZS1mbnMub3JnL2RvY3MvZ2V0SVNPV2Vla1llYXIpXG4gKiAgICBhbmQgW2dldFdlZWtZZWFyXShodHRwczovL2RhdGUtZm5zLm9yZy9kb2NzL2dldFdlZWtZZWFyKSkuXG4gKlxuICogNi4gU3BlY2lmaWMgbm9uLWxvY2F0aW9uIHRpbWV6b25lcyBhcmUgY3VycmVudGx5IHVuYXZhaWxhYmxlIGluIGBkYXRlLWZuc2AsXG4gKiAgICBzbyByaWdodCBub3cgdGhlc2UgdG9rZW5zIGZhbGwgYmFjayB0byBHTVQgdGltZXpvbmVzLlxuICpcbiAqIDcuIFRoZXNlIHBhdHRlcm5zIGFyZSBub3QgaW4gdGhlIFVuaWNvZGUgVGVjaG5pY2FsIFN0YW5kYXJkICMzNTpcbiAqICAgIC0gYGlgOiBJU08gZGF5IG9mIHdlZWtcbiAqICAgIC0gYElgOiBJU08gd2VlayBvZiB5ZWFyXG4gKiAgICAtIGBSYDogSVNPIHdlZWstbnVtYmVyaW5nIHllYXJcbiAqICAgIC0gYHRgOiBzZWNvbmRzIHRpbWVzdGFtcFxuICogICAgLSBgVGA6IG1pbGxpc2Vjb25kcyB0aW1lc3RhbXBcbiAqICAgIC0gYG9gOiBvcmRpbmFsIG51bWJlciBtb2RpZmllclxuICogICAgLSBgUGA6IGxvbmcgbG9jYWxpemVkIGRhdGVcbiAqICAgIC0gYHBgOiBsb25nIGxvY2FsaXplZCB0aW1lXG4gKlxuICogOC4gYFlZYCBhbmQgYFlZWVlgIHRva2VucyByZXByZXNlbnQgd2Vlay1udW1iZXJpbmcgeWVhcnMgYnV0IHRoZXkgYXJlIG9mdGVuIGNvbmZ1c2VkIHdpdGggeWVhcnMuXG4gKiAgICBZb3Ugc2hvdWxkIGVuYWJsZSBgb3B0aW9ucy51c2VBZGRpdGlvbmFsV2Vla1llYXJUb2tlbnNgIHRvIHVzZSB0aGVtLiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VuaWNvZGVUb2tlbnMubWRcbiAqXG4gKiA5LiBgRGAgYW5kIGBERGAgdG9rZW5zIHJlcHJlc2VudCBkYXlzIG9mIHRoZSB5ZWFyIGJ1dCB0aGV5IGFyZSBvZnRlbiBjb25mdXNlZCB3aXRoIGRheXMgb2YgdGhlIG1vbnRoLlxuICogICAgWW91IHNob3VsZCBlbmFibGUgYG9wdGlvbnMudXNlQWRkaXRpb25hbERheU9mWWVhclRva2Vuc2AgdG8gdXNlIHRoZW0uIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdW5pY29kZVRva2Vucy5tZFxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIG9yaWdpbmFsIGRhdGVcbiAqIEBwYXJhbSBmb3JtYXQgLSBUaGUgc3RyaW5nIG9mIHRva2Vuc1xuICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvYmplY3Qgd2l0aCBvcHRpb25zXG4gKlxuICogQHJldHVybnMgVGhlIGZvcm1hdHRlZCBkYXRlIHN0cmluZ1xuICpcbiAqIEB0aHJvd3MgYGRhdGVgIG11c3Qgbm90IGJlIEludmFsaWQgRGF0ZVxuICogQHRocm93cyBgb3B0aW9ucy5sb2NhbGVgIG11c3QgY29udGFpbiBgbG9jYWxpemVgIHByb3BlcnR5XG4gKiBAdGhyb3dzIGBvcHRpb25zLmxvY2FsZWAgbXVzdCBjb250YWluIGBmb3JtYXRMb25nYCBwcm9wZXJ0eVxuICogQHRocm93cyB1c2UgYHl5eXlgIGluc3RlYWQgb2YgYFlZWVlgIGZvciBmb3JtYXR0aW5nIHllYXJzIHVzaW5nIFtmb3JtYXQgcHJvdmlkZWRdIHRvIHRoZSBpbnB1dCBbaW5wdXQgcHJvdmlkZWRdOyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VuaWNvZGVUb2tlbnMubWRcbiAqIEB0aHJvd3MgdXNlIGB5eWAgaW5zdGVhZCBvZiBgWVlgIGZvciBmb3JtYXR0aW5nIHllYXJzIHVzaW5nIFtmb3JtYXQgcHJvdmlkZWRdIHRvIHRoZSBpbnB1dCBbaW5wdXQgcHJvdmlkZWRdOyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VuaWNvZGVUb2tlbnMubWRcbiAqIEB0aHJvd3MgdXNlIGBkYCBpbnN0ZWFkIG9mIGBEYCBmb3IgZm9ybWF0dGluZyBkYXlzIG9mIHRoZSBtb250aCB1c2luZyBbZm9ybWF0IHByb3ZpZGVkXSB0byB0aGUgaW5wdXQgW2lucHV0IHByb3ZpZGVkXTsgc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91bmljb2RlVG9rZW5zLm1kXG4gKiBAdGhyb3dzIHVzZSBgZGRgIGluc3RlYWQgb2YgYEREYCBmb3IgZm9ybWF0dGluZyBkYXlzIG9mIHRoZSBtb250aCB1c2luZyBbZm9ybWF0IHByb3ZpZGVkXSB0byB0aGUgaW5wdXQgW2lucHV0IHByb3ZpZGVkXTsgc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91bmljb2RlVG9rZW5zLm1kXG4gKiBAdGhyb3dzIGZvcm1hdCBzdHJpbmcgY29udGFpbnMgYW4gdW5lc2NhcGVkIGxhdGluIGFscGhhYmV0IGNoYXJhY3RlclxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBSZXByZXNlbnQgMTEgRmVicnVhcnkgMjAxNCBpbiBtaWRkbGUtZW5kaWFuIGZvcm1hdDpcbiAqIGNvbnN0IHJlc3VsdCA9IGZvcm1hdChuZXcgRGF0ZSgyMDE0LCAxLCAxMSksICdNTS9kZC95eXl5JylcbiAqIC8vPT4gJzAyLzExLzIwMTQnXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFJlcHJlc2VudCAyIEp1bHkgMjAxNCBpbiBFc3BlcmFudG86XG4gKiBpbXBvcnQgeyBlb0xvY2FsZSB9IGZyb20gJ2RhdGUtZm5zL2xvY2FsZS9lbydcbiAqIGNvbnN0IHJlc3VsdCA9IGZvcm1hdChuZXcgRGF0ZSgyMDE0LCA2LCAyKSwgXCJkbyAnZGUnIE1NTU0geXl5eVwiLCB7XG4gKiAgIGxvY2FsZTogZW9Mb2NhbGVcbiAqIH0pXG4gKiAvLz0+ICcyLWEgZGUganVsaW8gMjAxNCdcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRXNjYXBlIHN0cmluZyBieSBzaW5nbGUgcXVvdGUgY2hhcmFjdGVyczpcbiAqIGNvbnN0IHJlc3VsdCA9IGZvcm1hdChuZXcgRGF0ZSgyMDE0LCA2LCAyLCAxNSksIFwiaCAnbycnY2xvY2snXCIpXG4gKiAvLz0+IFwiMyBvJ2Nsb2NrXCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdChkYXRlLCBmb3JtYXRTdHIsIG9wdGlvbnMpIHtcbiAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucygpO1xuICBjb25zdCBsb2NhbGUgPSBvcHRpb25zPy5sb2NhbGUgPz8gZGVmYXVsdE9wdGlvbnMubG9jYWxlID8/IGRlZmF1bHRMb2NhbGU7XG5cbiAgY29uc3QgZmlyc3RXZWVrQ29udGFpbnNEYXRlID1cbiAgICBvcHRpb25zPy5maXJzdFdlZWtDb250YWluc0RhdGUgPz9cbiAgICBvcHRpb25zPy5sb2NhbGU/Lm9wdGlvbnM/LmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA/P1xuICAgIGRlZmF1bHRPcHRpb25zLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA/P1xuICAgIGRlZmF1bHRPcHRpb25zLmxvY2FsZT8ub3B0aW9ucz8uZmlyc3RXZWVrQ29udGFpbnNEYXRlID8/XG4gICAgMTtcblxuICBjb25zdCB3ZWVrU3RhcnRzT24gPVxuICAgIG9wdGlvbnM/LndlZWtTdGFydHNPbiA/P1xuICAgIG9wdGlvbnM/LmxvY2FsZT8ub3B0aW9ucz8ud2Vla1N0YXJ0c09uID8/XG4gICAgZGVmYXVsdE9wdGlvbnMud2Vla1N0YXJ0c09uID8/XG4gICAgZGVmYXVsdE9wdGlvbnMubG9jYWxlPy5vcHRpb25zPy53ZWVrU3RhcnRzT24gPz9cbiAgICAwO1xuXG4gIGNvbnN0IG9yaWdpbmFsRGF0ZSA9IHRvRGF0ZShkYXRlKTtcblxuICBpZiAoIWlzVmFsaWQob3JpZ2luYWxEYXRlKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCB0aW1lIHZhbHVlXCIpO1xuICB9XG5cbiAgbGV0IHBhcnRzID0gZm9ybWF0U3RyXG4gICAgLm1hdGNoKGxvbmdGb3JtYXR0aW5nVG9rZW5zUmVnRXhwKVxuICAgIC5tYXAoKHN1YnN0cmluZykgPT4ge1xuICAgICAgY29uc3QgZmlyc3RDaGFyYWN0ZXIgPSBzdWJzdHJpbmdbMF07XG4gICAgICBpZiAoZmlyc3RDaGFyYWN0ZXIgPT09IFwicFwiIHx8IGZpcnN0Q2hhcmFjdGVyID09PSBcIlBcIikge1xuICAgICAgICBjb25zdCBsb25nRm9ybWF0dGVyID0gbG9uZ0Zvcm1hdHRlcnNbZmlyc3RDaGFyYWN0ZXJdO1xuICAgICAgICByZXR1cm4gbG9uZ0Zvcm1hdHRlcihzdWJzdHJpbmcsIGxvY2FsZS5mb3JtYXRMb25nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdWJzdHJpbmc7XG4gICAgfSlcbiAgICAuam9pbihcIlwiKVxuICAgIC5tYXRjaChmb3JtYXR0aW5nVG9rZW5zUmVnRXhwKVxuICAgIC5tYXAoKHN1YnN0cmluZykgPT4ge1xuICAgICAgLy8gUmVwbGFjZSB0d28gc2luZ2xlIHF1b3RlIGNoYXJhY3RlcnMgd2l0aCBvbmUgc2luZ2xlIHF1b3RlIGNoYXJhY3RlclxuICAgICAgaWYgKHN1YnN0cmluZyA9PT0gXCInJ1wiKSB7XG4gICAgICAgIHJldHVybiB7IGlzVG9rZW46IGZhbHNlLCB2YWx1ZTogXCInXCIgfTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZmlyc3RDaGFyYWN0ZXIgPSBzdWJzdHJpbmdbMF07XG4gICAgICBpZiAoZmlyc3RDaGFyYWN0ZXIgPT09IFwiJ1wiKSB7XG4gICAgICAgIHJldHVybiB7IGlzVG9rZW46IGZhbHNlLCB2YWx1ZTogY2xlYW5Fc2NhcGVkU3RyaW5nKHN1YnN0cmluZykgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZvcm1hdHRlcnNbZmlyc3RDaGFyYWN0ZXJdKSB7XG4gICAgICAgIHJldHVybiB7IGlzVG9rZW46IHRydWUsIHZhbHVlOiBzdWJzdHJpbmcgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZpcnN0Q2hhcmFjdGVyLm1hdGNoKHVuZXNjYXBlZExhdGluQ2hhcmFjdGVyUmVnRXhwKSkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcbiAgICAgICAgICBcIkZvcm1hdCBzdHJpbmcgY29udGFpbnMgYW4gdW5lc2NhcGVkIGxhdGluIGFscGhhYmV0IGNoYXJhY3RlciBgXCIgK1xuICAgICAgICAgICAgZmlyc3RDaGFyYWN0ZXIgK1xuICAgICAgICAgICAgXCJgXCIsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IGlzVG9rZW46IGZhbHNlLCB2YWx1ZTogc3Vic3RyaW5nIH07XG4gICAgfSk7XG5cbiAgLy8gaW52b2tlIGxvY2FsaXplIHByZXByb2Nlc3NvciAob25seSBmb3IgZnJlbmNoIGxvY2FsZXMgYXQgdGhlIG1vbWVudClcbiAgaWYgKGxvY2FsZS5sb2NhbGl6ZS5wcmVwcm9jZXNzb3IpIHtcbiAgICBwYXJ0cyA9IGxvY2FsZS5sb2NhbGl6ZS5wcmVwcm9jZXNzb3Iob3JpZ2luYWxEYXRlLCBwYXJ0cyk7XG4gIH1cblxuICBjb25zdCBmb3JtYXR0ZXJPcHRpb25zID0ge1xuICAgIGZpcnN0V2Vla0NvbnRhaW5zRGF0ZSxcbiAgICB3ZWVrU3RhcnRzT24sXG4gICAgbG9jYWxlLFxuICB9O1xuXG4gIHJldHVybiBwYXJ0c1xuICAgIC5tYXAoKHBhcnQpID0+IHtcbiAgICAgIGlmICghcGFydC5pc1Rva2VuKSByZXR1cm4gcGFydC52YWx1ZTtcblxuICAgICAgY29uc3QgdG9rZW4gPSBwYXJ0LnZhbHVlO1xuXG4gICAgICBpZiAoXG4gICAgICAgICghb3B0aW9ucz8udXNlQWRkaXRpb25hbFdlZWtZZWFyVG9rZW5zICYmXG4gICAgICAgICAgaXNQcm90ZWN0ZWRXZWVrWWVhclRva2VuKHRva2VuKSkgfHxcbiAgICAgICAgKCFvcHRpb25zPy51c2VBZGRpdGlvbmFsRGF5T2ZZZWFyVG9rZW5zICYmXG4gICAgICAgICAgaXNQcm90ZWN0ZWREYXlPZlllYXJUb2tlbih0b2tlbikpXG4gICAgICApIHtcbiAgICAgICAgd2Fybk9yVGhyb3dQcm90ZWN0ZWRFcnJvcih0b2tlbiwgZm9ybWF0U3RyLCBTdHJpbmcoZGF0ZSkpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBmb3JtYXR0ZXIgPSBmb3JtYXR0ZXJzW3Rva2VuWzBdXTtcbiAgICAgIHJldHVybiBmb3JtYXR0ZXIob3JpZ2luYWxEYXRlLCB0b2tlbiwgbG9jYWxlLmxvY2FsaXplLCBmb3JtYXR0ZXJPcHRpb25zKTtcbiAgICB9KVxuICAgIC5qb2luKFwiXCIpO1xufVxuXG5mdW5jdGlvbiBjbGVhbkVzY2FwZWRTdHJpbmcoaW5wdXQpIHtcbiAgY29uc3QgbWF0Y2hlZCA9IGlucHV0Lm1hdGNoKGVzY2FwZWRTdHJpbmdSZWdFeHApO1xuXG4gIGlmICghbWF0Y2hlZCkge1xuICAgIHJldHVybiBpbnB1dDtcbiAgfVxuXG4gIHJldHVybiBtYXRjaGVkWzFdLnJlcGxhY2UoZG91YmxlUXVvdGVSZWdFeHAsIFwiJ1wiKTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBmb3JtYXQ7XG4iLCAiaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGlzU2FtZU1vbnRoXG4gKiBAY2F0ZWdvcnkgTW9udGggSGVscGVyc1xuICogQHN1bW1hcnkgQXJlIHRoZSBnaXZlbiBkYXRlcyBpbiB0aGUgc2FtZSBtb250aCAoYW5kIHllYXIpP1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQXJlIHRoZSBnaXZlbiBkYXRlcyBpbiB0aGUgc2FtZSBtb250aCAoYW5kIHllYXIpP1xuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlTGVmdCAtIFRoZSBmaXJzdCBkYXRlIHRvIGNoZWNrXG4gKiBAcGFyYW0gZGF0ZVJpZ2h0IC0gVGhlIHNlY29uZCBkYXRlIHRvIGNoZWNrXG4gKlxuICogQHJldHVybnMgVGhlIGRhdGVzIGFyZSBpbiB0aGUgc2FtZSBtb250aCAoYW5kIHllYXIpXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSAyIFNlcHRlbWJlciAyMDE0IGFuZCAyNSBTZXB0ZW1iZXIgMjAxNCBpbiB0aGUgc2FtZSBtb250aD9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZU1vbnRoKG5ldyBEYXRlKDIwMTQsIDgsIDIpLCBuZXcgRGF0ZSgyMDE0LCA4LCAyNSkpXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDIgU2VwdGVtYmVyIDIwMTQgYW5kIDI1IFNlcHRlbWJlciAyMDE1IGluIHRoZSBzYW1lIG1vbnRoP1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lTW9udGgobmV3IERhdGUoMjAxNCwgOCwgMiksIG5ldyBEYXRlKDIwMTUsIDgsIDI1KSlcbiAqIC8vPT4gZmFsc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2FtZU1vbnRoKGRhdGVMZWZ0LCBkYXRlUmlnaHQpIHtcbiAgY29uc3QgX2RhdGVMZWZ0ID0gdG9EYXRlKGRhdGVMZWZ0KTtcbiAgY29uc3QgX2RhdGVSaWdodCA9IHRvRGF0ZShkYXRlUmlnaHQpO1xuICByZXR1cm4gKFxuICAgIF9kYXRlTGVmdC5nZXRGdWxsWWVhcigpID09PSBfZGF0ZVJpZ2h0LmdldEZ1bGxZZWFyKCkgJiZcbiAgICBfZGF0ZUxlZnQuZ2V0TW9udGgoKSA9PT0gX2RhdGVSaWdodC5nZXRNb250aCgpXG4gICk7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgaXNTYW1lTW9udGg7XG4iLCAiaW1wb3J0IHsgY29uc3RydWN0Tm93IH0gZnJvbSBcIi4vY29uc3RydWN0Tm93Lm1qc1wiO1xuaW1wb3J0IHsgaXNTYW1lRGF5IH0gZnJvbSBcIi4vaXNTYW1lRGF5Lm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGlzVG9kYXlcbiAqIEBjYXRlZ29yeSBEYXkgSGVscGVyc1xuICogQHN1bW1hcnkgSXMgdGhlIGdpdmVuIGRhdGUgdG9kYXk/XG4gKiBAcHVyZSBmYWxzZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSXMgdGhlIGdpdmVuIGRhdGUgdG9kYXk/XG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgZGF0ZSB0byBjaGVja1xuICpcbiAqIEByZXR1cm5zIFRoZSBkYXRlIGlzIHRvZGF5XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRvZGF5IGlzIDYgT2N0b2JlciAyMDE0LCBpcyA2IE9jdG9iZXIgMTQ6MDA6MDAgdG9kYXk/XG4gKiBjb25zdCByZXN1bHQgPSBpc1RvZGF5KG5ldyBEYXRlKDIwMTQsIDksIDYsIDE0LCAwKSlcbiAqIC8vPT4gdHJ1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNUb2RheShkYXRlKSB7XG4gIHJldHVybiBpc1NhbWVEYXkoZGF0ZSwgY29uc3RydWN0Tm93KGRhdGUpKTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBpc1RvZGF5O1xuIiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4vLyBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcInN0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4vLyAgIGNvbm5lY3QoKSB7XG4vLyAgIH1cbi8vXG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpX2Nhcm91c2VsX2NvbnRyb2xsZXIuanNcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcbmltcG9ydCB7IHVzZVRyYW5zaXRpb24gfSBmcm9tICdzdGltdWx1cy11c2UnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIHN0YXRpYyB0YXJnZXRzID0gW1wic2xpZGVcIiwgXCJwcmV2aW91c0J1dHRvblwiLCBcIm5leHRCdXR0b25cIl1cbiAgc3RhdGljIHZhbHVlcyA9IHtcbiAgICBjdXJyZW50SW5kZXg6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXG4gICAgYXV0b1BsYXk6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICBpbnRlcnZhbDogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDUwMDAgfSAvLyA1IHNlY29uZHNcbiAgfVxuXG4gIGNvbm5lY3QoKSB7XG4gICAgdXNlVHJhbnNpdGlvbih0aGlzLCB7XG4gICAgICBlbGVtZW50OiAoKSA9PiB0aGlzLnNsaWRlVGFyZ2V0c1t0aGlzLmN1cnJlbnRJbmRleFZhbHVlXSxcbiAgICAgIGVudGVyQWN0aXZlOiAndHJhbnNpdGlvbiBlYXNlLW91dCBkdXJhdGlvbi0zMDAnLFxuICAgICAgZW50ZXJGcm9tOiAnb3BhY2l0eS0wJyxcbiAgICAgIGVudGVyVG86ICdvcGFjaXR5LTEwMCcsXG4gICAgICBsZWF2ZUFjdGl2ZTogJ3RyYW5zaXRpb24gZWFzZS1pbiBkdXJhdGlvbi0zMDAnLFxuICAgICAgbGVhdmVGcm9tOiAnb3BhY2l0eS0xMDAnLFxuICAgICAgbGVhdmVUbzogJ29wYWNpdHktMCcsXG4gICAgfSlcblxuICAgIHRoaXMudXBkYXRlU2xpZGVQb3NpdGlvbigpXG4gICAgdGhpcy51cGRhdGVCdXR0b25TdGF0ZXMoKVxuXG4gICAgaWYgKHRoaXMuYXV0b1BsYXlWYWx1ZSkge1xuICAgICAgdGhpcy5zdGFydEF1dG9QbGF5KClcbiAgICB9XG4gIH1cblxuICBkaXNjb25uZWN0KCkge1xuICAgIHRoaXMuc3RvcEF1dG9QbGF5KClcbiAgfVxuXG4gIG5leHQoKSB7XG4gICAgdGhpcy5jdXJyZW50SW5kZXhWYWx1ZSA9ICh0aGlzLmN1cnJlbnRJbmRleFZhbHVlICsgMSkgJSB0aGlzLnNsaWRlVGFyZ2V0cy5sZW5ndGhcbiAgICB0aGlzLnVwZGF0ZVNsaWRlUG9zaXRpb24oKVxuICAgIHRoaXMudXBkYXRlQnV0dG9uU3RhdGVzKClcbiAgfVxuXG4gIHByZXZpb3VzKCkge1xuICAgIHRoaXMuY3VycmVudEluZGV4VmFsdWUgPSAodGhpcy5jdXJyZW50SW5kZXhWYWx1ZSAtIDEgKyB0aGlzLnNsaWRlVGFyZ2V0cy5sZW5ndGgpICUgdGhpcy5zbGlkZVRhcmdldHMubGVuZ3RoXG4gICAgdGhpcy51cGRhdGVTbGlkZVBvc2l0aW9uKClcbiAgICB0aGlzLnVwZGF0ZUJ1dHRvblN0YXRlcygpXG4gIH1cblxuICB1cGRhdGVTbGlkZVBvc2l0aW9uKCkge1xuICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuY3VycmVudEluZGV4VmFsdWUgKiAtMTAwXG4gICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mbGV4Jykuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7b2Zmc2V0fSUsIDBweCwgMHB4KWBcbiAgfVxuXG4gIHVwZGF0ZUJ1dHRvblN0YXRlcygpIHtcbiAgICBpZiAodGhpcy5oYXNQcmV2aW91c0J1dHRvblRhcmdldCAmJiB0aGlzLmhhc05leHRCdXR0b25UYXJnZXQpIHtcbiAgICAgIHRoaXMucHJldmlvdXNCdXR0b25UYXJnZXQuZGlzYWJsZWQgPSB0aGlzLmN1cnJlbnRJbmRleFZhbHVlID09PSAwXG4gICAgICB0aGlzLm5leHRCdXR0b25UYXJnZXQuZGlzYWJsZWQgPSB0aGlzLmN1cnJlbnRJbmRleFZhbHVlID09PSB0aGlzLnNsaWRlVGFyZ2V0cy5sZW5ndGggLSAxXG4gICAgfVxuICB9XG5cbiAgc3RhcnRBdXRvUGxheSgpIHtcbiAgICB0aGlzLmF1dG9QbGF5SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLm5leHQoKVxuICAgIH0sIHRoaXMuaW50ZXJ2YWxWYWx1ZSlcbiAgfVxuXG4gIHN0b3BBdXRvUGxheSgpIHtcbiAgICBpZiAodGhpcy5hdXRvUGxheUludGVydmFsKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuYXV0b1BsYXlJbnRlcnZhbClcbiAgICB9XG4gIH1cbn0iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBhcHAvamF2YXNjcmlwdC9jb250cm9sbGVycy91aV9jb21tYW5kX2NvbnRyb2xsZXIuanNcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcbmltcG9ydCB7IHVzZUhvdGtleXMgfSBmcm9tICdzdGltdWx1cy11c2UvaG90a2V5cydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJpbnB1dFwiLCBcImxpc3RcIiwgXCJpdGVtXCJdXG4gIHN0YXRpYyB2YWx1ZXMgPSB7XG4gICAgaG90a2V5czogT2JqZWN0XG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIHVzZUhvdGtleXModGhpcywge1xuICAgICAgLi4udGhpcy5ob3RrZXlzVmFsdWUsXG4gICAgICAnQXJyb3dVcCc6IChldmVudCkgPT4gdGhpcy5uYXZpZ2F0ZUl0ZW1zKGV2ZW50LCAtMSksXG4gICAgICAnQXJyb3dEb3duJzogKGV2ZW50KSA9PiB0aGlzLm5hdmlnYXRlSXRlbXMoZXZlbnQsIDEpLFxuICAgICAgJ0VudGVyJzogKGV2ZW50KSA9PiB0aGlzLnNlbGVjdEl0ZW0oZXZlbnQpXG4gICAgfSlcbiAgICBcbiAgICB0aGlzLmN1cnJlbnRJbmRleCA9IC0xXG4gIH1cblxuICBuYXZpZ2F0ZUl0ZW1zKGV2ZW50LCBkaXJlY3Rpb24pIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgdGhpcy5jdXJyZW50SW5kZXggKz0gZGlyZWN0aW9uXG4gICAgaWYgKHRoaXMuY3VycmVudEluZGV4IDwgMCkgdGhpcy5jdXJyZW50SW5kZXggPSB0aGlzLml0ZW1UYXJnZXRzLmxlbmd0aCAtIDFcbiAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPj0gdGhpcy5pdGVtVGFyZ2V0cy5sZW5ndGgpIHRoaXMuY3VycmVudEluZGV4ID0gMFxuICAgIHRoaXMuaGlnaGxpZ2h0SXRlbSgpXG4gIH1cblxuICBoaWdobGlnaHRJdGVtKCkge1xuICAgIHRoaXMuaXRlbVRhcmdldHMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA9PT0gdGhpcy5jdXJyZW50SW5kZXgpIHtcbiAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCAndHJ1ZScpXG4gICAgICAgIGl0ZW0uc2Nyb2xsSW50b1ZpZXcoeyBibG9jazogJ25lYXJlc3QnIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsICdmYWxzZScpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHNlbGVjdEl0ZW0oZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3Qgc2VsZWN0ZWRJdGVtID0gdGhpcy5pdGVtVGFyZ2V0c1t0aGlzLmN1cnJlbnRJbmRleF1cbiAgICBpZiAoc2VsZWN0ZWRJdGVtKSB7XG4gICAgICBjb25zb2xlLmxvZygnU2VsZWN0ZWQ6Jywgc2VsZWN0ZWRJdGVtLmRhdGFzZXQudmFsdWUpXG4gICAgICAvLyBJbXBsZW1lbnQgeW91ciBzZWxlY3Rpb24gbG9naWMgaGVyZVxuICAgIH1cbiAgfVxuXG4gIHNlYXJjaCgpIHtcbiAgICBjb25zdCBxdWVyeSA9IHRoaXMuaW5wdXRUYXJnZXQudmFsdWUudG9Mb3dlckNhc2UoKVxuICAgIHRoaXMuaXRlbVRhcmdldHMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSBpdGVtLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkpXG4gICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSBtYXRjaGVzID8gJycgOiAnbm9uZSdcbiAgICB9KVxuICB9XG59IiwgIi8qKiEgXG4gKiBob3RrZXlzLWpzIHYzLjEzLjcgXG4gKiBBIHNpbXBsZSBtaWNyby1saWJyYXJ5IGZvciBkZWZpbmluZyBhbmQgZGlzcGF0Y2hpbmcga2V5Ym9hcmQgc2hvcnRjdXRzLiBJdCBoYXMgbm8gZGVwZW5kZW5jaWVzLiBcbiAqIFxuICogQ29weXJpZ2h0IChjKSAyMDI0IGtlbm55IHdvbmcgPHdvd29ob29AcXEuY29tPiBcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXl3Y2psb3ZlL2hvdGtleXMtanMuZ2l0IFxuICogXG4gKiBAd2Vic2l0ZTogaHR0cHM6Ly9qYXl3Y2psb3ZlLmdpdGh1Yi5pby9ob3RrZXlzLWpzXG4gXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgXG4gKi9cblxuY29uc3QgaXNmZiA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnID8gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2ZpcmVmb3gnKSA+IDAgOiBmYWxzZTtcblxuLy8gXHU3RUQxXHU1QjlBXHU0RThCXHU0RUY2XG5mdW5jdGlvbiBhZGRFdmVudChvYmplY3QsIGV2ZW50LCBtZXRob2QsIHVzZUNhcHR1cmUpIHtcbiAgaWYgKG9iamVjdC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgb2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIG1ldGhvZCwgdXNlQ2FwdHVyZSk7XG4gIH0gZWxzZSBpZiAob2JqZWN0LmF0dGFjaEV2ZW50KSB7XG4gICAgb2JqZWN0LmF0dGFjaEV2ZW50KFwib25cIi5jb25jYXQoZXZlbnQpLCBtZXRob2QpO1xuICB9XG59XG5mdW5jdGlvbiByZW1vdmVFdmVudChvYmplY3QsIGV2ZW50LCBtZXRob2QsIHVzZUNhcHR1cmUpIHtcbiAgaWYgKG9iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgb2JqZWN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIG1ldGhvZCwgdXNlQ2FwdHVyZSk7XG4gIH0gZWxzZSBpZiAob2JqZWN0LmRldGFjaEV2ZW50KSB7XG4gICAgb2JqZWN0LmRldGFjaEV2ZW50KFwib25cIi5jb25jYXQoZXZlbnQpLCBtZXRob2QpO1xuICB9XG59XG5cbi8vIFx1NEZFRVx1OTk3MFx1OTUyRVx1OEY2Q1x1NjM2Mlx1NjIxMFx1NUJGOVx1NUU5NFx1NzY4NFx1OTUyRVx1NzgwMVxuZnVuY3Rpb24gZ2V0TW9kcyhtb2RpZmllciwga2V5KSB7XG4gIGNvbnN0IG1vZHMgPSBrZXkuc2xpY2UoMCwga2V5Lmxlbmd0aCAtIDEpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZHMubGVuZ3RoOyBpKyspIG1vZHNbaV0gPSBtb2RpZmllclttb2RzW2ldLnRvTG93ZXJDYXNlKCldO1xuICByZXR1cm4gbW9kcztcbn1cblxuLy8gXHU1OTA0XHU3NDA2XHU0RjIwXHU3Njg0a2V5XHU1QjU3XHU3QjI2XHU0RTMyXHU4RjZDXHU2MzYyXHU2MjEwXHU2NTcwXHU3RUM0XG5mdW5jdGlvbiBnZXRLZXlzKGtleSkge1xuICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIGtleSA9ICcnO1xuICBrZXkgPSBrZXkucmVwbGFjZSgvXFxzL2csICcnKTsgLy8gXHU1MzM5XHU5MTREXHU0RUZCXHU0RjU1XHU3QTdBXHU3NjdEXHU1QjU3XHU3QjI2LFx1NTMwNVx1NjJFQ1x1N0E3QVx1NjgzQ1x1MzAwMVx1NTIzNlx1ODg2OFx1N0IyNlx1MzAwMVx1NjM2Mlx1OTg3NVx1N0IyNlx1N0I0OVx1N0I0OVxuICBjb25zdCBrZXlzID0ga2V5LnNwbGl0KCcsJyk7IC8vIFx1NTQwQ1x1NjVGNlx1OEJCRVx1N0Y2RVx1NTkxQVx1NEUyQVx1NUZFQlx1NjM3N1x1OTUyRVx1RkYwQ1x1NEVFNScsJ1x1NTIwNlx1NTI3MlxuICBsZXQgaW5kZXggPSBrZXlzLmxhc3RJbmRleE9mKCcnKTtcblxuICAvLyBcdTVGRUJcdTYzNzdcdTk1MkVcdTUzRUZcdTgwRkRcdTUzMDVcdTU0MkInLCdcdUZGMENcdTk3MDBcdTcyNzlcdTZCOEFcdTU5MDRcdTc0MDZcbiAgZm9yICg7IGluZGV4ID49IDA7KSB7XG4gICAga2V5c1tpbmRleCAtIDFdICs9ICcsJztcbiAgICBrZXlzLnNwbGljZShpbmRleCwgMSk7XG4gICAgaW5kZXggPSBrZXlzLmxhc3RJbmRleE9mKCcnKTtcbiAgfVxuICByZXR1cm4ga2V5cztcbn1cblxuLy8gXHU2QkQ0XHU4RjgzXHU0RkVFXHU5OTcwXHU5NTJFXHU3Njg0XHU2NTcwXHU3RUM0XG5mdW5jdGlvbiBjb21wYXJlQXJyYXkoYTEsIGEyKSB7XG4gIGNvbnN0IGFycjEgPSBhMS5sZW5ndGggPj0gYTIubGVuZ3RoID8gYTEgOiBhMjtcbiAgY29uc3QgYXJyMiA9IGExLmxlbmd0aCA+PSBhMi5sZW5ndGggPyBhMiA6IGExO1xuICBsZXQgaXNJbmRleCA9IHRydWU7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyMS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChhcnIyLmluZGV4T2YoYXJyMVtpXSkgPT09IC0xKSBpc0luZGV4ID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGlzSW5kZXg7XG59XG5cbi8vIFNwZWNpYWwgS2V5c1xuY29uc3QgX2tleU1hcCA9IHtcbiAgYmFja3NwYWNlOiA4LFxuICAnXHUyMzJCJzogOCxcbiAgdGFiOiA5LFxuICBjbGVhcjogMTIsXG4gIGVudGVyOiAxMyxcbiAgJ1x1MjFBOSc6IDEzLFxuICByZXR1cm46IDEzLFxuICBlc2M6IDI3LFxuICBlc2NhcGU6IDI3LFxuICBzcGFjZTogMzIsXG4gIGxlZnQ6IDM3LFxuICB1cDogMzgsXG4gIHJpZ2h0OiAzOSxcbiAgZG93bjogNDAsXG4gIGRlbDogNDYsXG4gIGRlbGV0ZTogNDYsXG4gIGluczogNDUsXG4gIGluc2VydDogNDUsXG4gIGhvbWU6IDM2LFxuICBlbmQ6IDM1LFxuICBwYWdldXA6IDMzLFxuICBwYWdlZG93bjogMzQsXG4gIGNhcHNsb2NrOiAyMCxcbiAgbnVtXzA6IDk2LFxuICBudW1fMTogOTcsXG4gIG51bV8yOiA5OCxcbiAgbnVtXzM6IDk5LFxuICBudW1fNDogMTAwLFxuICBudW1fNTogMTAxLFxuICBudW1fNjogMTAyLFxuICBudW1fNzogMTAzLFxuICBudW1fODogMTA0LFxuICBudW1fOTogMTA1LFxuICBudW1fbXVsdGlwbHk6IDEwNixcbiAgbnVtX2FkZDogMTA3LFxuICBudW1fZW50ZXI6IDEwOCxcbiAgbnVtX3N1YnRyYWN0OiAxMDksXG4gIG51bV9kZWNpbWFsOiAxMTAsXG4gIG51bV9kaXZpZGU6IDExMSxcbiAgJ1x1MjFFQSc6IDIwLFxuICAnLCc6IDE4OCxcbiAgJy4nOiAxOTAsXG4gICcvJzogMTkxLFxuICAnYCc6IDE5MixcbiAgJy0nOiBpc2ZmID8gMTczIDogMTg5LFxuICAnPSc6IGlzZmYgPyA2MSA6IDE4NyxcbiAgJzsnOiBpc2ZmID8gNTkgOiAxODYsXG4gICdcXCcnOiAyMjIsXG4gICdbJzogMjE5LFxuICAnXSc6IDIyMSxcbiAgJ1xcXFwnOiAyMjBcbn07XG5cbi8vIE1vZGlmaWVyIEtleXNcbmNvbnN0IF9tb2RpZmllciA9IHtcbiAgLy8gc2hpZnRLZXlcbiAgJ1x1MjFFNyc6IDE2LFxuICBzaGlmdDogMTYsXG4gIC8vIGFsdEtleVxuICAnXHUyMzI1JzogMTgsXG4gIGFsdDogMTgsXG4gIG9wdGlvbjogMTgsXG4gIC8vIGN0cmxLZXlcbiAgJ1x1MjMwMyc6IDE3LFxuICBjdHJsOiAxNyxcbiAgY29udHJvbDogMTcsXG4gIC8vIG1ldGFLZXlcbiAgJ1x1MjMxOCc6IDkxLFxuICBjbWQ6IDkxLFxuICBjb21tYW5kOiA5MVxufTtcbmNvbnN0IG1vZGlmaWVyTWFwID0ge1xuICAxNjogJ3NoaWZ0S2V5JyxcbiAgMTg6ICdhbHRLZXknLFxuICAxNzogJ2N0cmxLZXknLFxuICA5MTogJ21ldGFLZXknLFxuICBzaGlmdEtleTogMTYsXG4gIGN0cmxLZXk6IDE3LFxuICBhbHRLZXk6IDE4LFxuICBtZXRhS2V5OiA5MVxufTtcbmNvbnN0IF9tb2RzID0ge1xuICAxNjogZmFsc2UsXG4gIDE4OiBmYWxzZSxcbiAgMTc6IGZhbHNlLFxuICA5MTogZmFsc2Vcbn07XG5jb25zdCBfaGFuZGxlcnMgPSB7fTtcblxuLy8gRjF+RjEyIHNwZWNpYWwga2V5XG5mb3IgKGxldCBrID0gMTsgayA8IDIwOyBrKyspIHtcbiAgX2tleU1hcFtcImZcIi5jb25jYXQoayldID0gMTExICsgaztcbn1cblxubGV0IF9kb3duS2V5cyA9IFtdOyAvLyBcdThCQjBcdTVGNTVcdTY0NDFcdTRFMEJcdTc2ODRcdTdFRDFcdTVCOUFcdTk1MkVcbmxldCB3aW5MaXN0ZW5kRm9jdXMgPSBudWxsOyAvLyB3aW5kb3dcdTY2MkZcdTU0MjZcdTVERjJcdTdFQ0ZcdTc2RDFcdTU0MkNcdTRFODZmb2N1c1x1NEU4Qlx1NEVGNlxubGV0IF9zY29wZSA9ICdhbGwnOyAvLyBcdTlFRDhcdThCQTRcdTcwRURcdTk1MkVcdTgzMDNcdTU2RjRcbmNvbnN0IGVsZW1lbnRFdmVudE1hcCA9IG5ldyBNYXAoKTsgLy8gXHU1REYyXHU3RUQxXHU1QjlBXHU0RThCXHU0RUY2XHU3Njg0XHU4MjgyXHU3MEI5XHU4QkIwXHU1RjU1XG5cbi8vIFx1OEZENFx1NTZERVx1OTUyRVx1NzgwMVxuY29uc3QgY29kZSA9IHggPT4gX2tleU1hcFt4LnRvTG93ZXJDYXNlKCldIHx8IF9tb2RpZmllclt4LnRvTG93ZXJDYXNlKCldIHx8IHgudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApO1xuY29uc3QgZ2V0S2V5ID0geCA9PiBPYmplY3Qua2V5cyhfa2V5TWFwKS5maW5kKGsgPT4gX2tleU1hcFtrXSA9PT0geCk7XG5jb25zdCBnZXRNb2RpZmllciA9IHggPT4gT2JqZWN0LmtleXMoX21vZGlmaWVyKS5maW5kKGsgPT4gX21vZGlmaWVyW2tdID09PSB4KTtcblxuLy8gXHU4QkJFXHU3RjZFXHU4M0I3XHU1M0Q2XHU1RjUzXHU1MjREXHU4MzAzXHU1NkY0XHVGRjA4XHU5RUQ4XHU4QkE0XHU0RTNBJ1x1NjI0MFx1NjcwOSdcdUZGMDlcbmZ1bmN0aW9uIHNldFNjb3BlKHNjb3BlKSB7XG4gIF9zY29wZSA9IHNjb3BlIHx8ICdhbGwnO1xufVxuLy8gXHU4M0I3XHU1M0Q2XHU1RjUzXHU1MjREXHU4MzAzXHU1NkY0XG5mdW5jdGlvbiBnZXRTY29wZSgpIHtcbiAgcmV0dXJuIF9zY29wZSB8fCAnYWxsJztcbn1cbi8vIFx1ODNCN1x1NTNENlx1NjQ0MVx1NEUwQlx1N0VEMVx1NUI5QVx1OTUyRVx1NzY4NFx1OTUyRVx1NTAzQ1xuZnVuY3Rpb24gZ2V0UHJlc3NlZEtleUNvZGVzKCkge1xuICByZXR1cm4gX2Rvd25LZXlzLnNsaWNlKDApO1xufVxuZnVuY3Rpb24gZ2V0UHJlc3NlZEtleVN0cmluZygpIHtcbiAgcmV0dXJuIF9kb3duS2V5cy5tYXAoYyA9PiBnZXRLZXkoYykgfHwgZ2V0TW9kaWZpZXIoYykgfHwgU3RyaW5nLmZyb21DaGFyQ29kZShjKSk7XG59XG5mdW5jdGlvbiBnZXRBbGxLZXlDb2RlcygpIHtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIE9iamVjdC5rZXlzKF9oYW5kbGVycykuZm9yRWFjaChrID0+IHtcbiAgICBfaGFuZGxlcnNba10uZm9yRWFjaChfcmVmID0+IHtcbiAgICAgIGxldCB7XG4gICAgICAgIGtleSxcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIG1vZHMsXG4gICAgICAgIHNob3J0Y3V0XG4gICAgICB9ID0gX3JlZjtcbiAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHNob3J0Y3V0LFxuICAgICAgICBtb2RzLFxuICAgICAgICBrZXlzOiBrZXkuc3BsaXQoJysnKS5tYXAodiA9PiBjb2RlKHYpKVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBcdTg4NjhcdTUzNTVcdTYzQTdcdTRFRjZcdTYzQTdcdTRFRjZcdTUyMjRcdTY1QUQgXHU4RkQ0XHU1NkRFIEJvb2xlYW5cbi8vIGhvdGtleSBpcyBlZmZlY3RpdmUgb25seSB3aGVuIGZpbHRlciByZXR1cm4gdHJ1ZVxuZnVuY3Rpb24gZmlsdGVyKGV2ZW50KSB7XG4gIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCB8fCBldmVudC5zcmNFbGVtZW50O1xuICBjb25zdCB7XG4gICAgdGFnTmFtZVxuICB9ID0gdGFyZ2V0O1xuICBsZXQgZmxhZyA9IHRydWU7XG4gIGNvbnN0IGlzSW5wdXQgPSB0YWdOYW1lID09PSAnSU5QVVQnICYmICFbJ2NoZWNrYm94JywgJ3JhZGlvJywgJ3JhbmdlJywgJ2J1dHRvbicsICdmaWxlJywgJ3Jlc2V0JywgJ3N1Ym1pdCcsICdjb2xvciddLmluY2x1ZGVzKHRhcmdldC50eXBlKTtcbiAgLy8gaWdub3JlOiBpc0NvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnLCA8aW5wdXQ+IGFuZCA8dGV4dGFyZWE+IHdoZW4gcmVhZE9ubHkgc3RhdGUgaXMgZmFsc2UsIDxzZWxlY3Q+XG4gIGlmICh0YXJnZXQuaXNDb250ZW50RWRpdGFibGUgfHwgKGlzSW5wdXQgfHwgdGFnTmFtZSA9PT0gJ1RFWFRBUkVBJyB8fCB0YWdOYW1lID09PSAnU0VMRUNUJykgJiYgIXRhcmdldC5yZWFkT25seSkge1xuICAgIGZsYWcgPSBmYWxzZTtcbiAgfVxuICByZXR1cm4gZmxhZztcbn1cblxuLy8gXHU1MjI0XHU2NUFEXHU2NDQxXHU0RTBCXHU3Njg0XHU5NTJFXHU2NjJGXHU1NDI2XHU0RTNBXHU2N0QwXHU0RTJBXHU5NTJFXHVGRjBDXHU4RkQ0XHU1NkRFdHJ1ZVx1NjIxNlx1ODAwNWZhbHNlXG5mdW5jdGlvbiBpc1ByZXNzZWQoa2V5Q29kZSkge1xuICBpZiAodHlwZW9mIGtleUNvZGUgPT09ICdzdHJpbmcnKSB7XG4gICAga2V5Q29kZSA9IGNvZGUoa2V5Q29kZSk7IC8vIFx1OEY2Q1x1NjM2Mlx1NjIxMFx1OTUyRVx1NzgwMVxuICB9XG4gIHJldHVybiBfZG93bktleXMuaW5kZXhPZihrZXlDb2RlKSAhPT0gLTE7XG59XG5cbi8vIFx1NUZBQVx1NzNBRlx1NTIyMFx1OTY2NGhhbmRsZXJzXHU0RTJEXHU3Njg0XHU2MjQwXHU2NzA5IHNjb3BlKFx1ODMwM1x1NTZGNClcbmZ1bmN0aW9uIGRlbGV0ZVNjb3BlKHNjb3BlLCBuZXdTY29wZSkge1xuICBsZXQgaGFuZGxlcnM7XG4gIGxldCBpO1xuXG4gIC8vIFx1NkNBMVx1NjcwOVx1NjMwN1x1NUI5QXNjb3BlXHVGRjBDXHU4M0I3XHU1M0Q2c2NvcGVcbiAgaWYgKCFzY29wZSkgc2NvcGUgPSBnZXRTY29wZSgpO1xuICBmb3IgKGNvbnN0IGtleSBpbiBfaGFuZGxlcnMpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9oYW5kbGVycywga2V5KSkge1xuICAgICAgaGFuZGxlcnMgPSBfaGFuZGxlcnNba2V5XTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBoYW5kbGVycy5sZW5ndGg7KSB7XG4gICAgICAgIGlmIChoYW5kbGVyc1tpXS5zY29wZSA9PT0gc2NvcGUpIHtcbiAgICAgICAgICBjb25zdCBkZWxldGVJdGVtcyA9IGhhbmRsZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICBkZWxldGVJdGVtcy5mb3JFYWNoKF9yZWYyID0+IHtcbiAgICAgICAgICAgIGxldCB7XG4gICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIH0gPSBfcmVmMjtcbiAgICAgICAgICAgIHJldHVybiByZW1vdmVLZXlFdmVudChlbGVtZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBcdTU5ODJcdTY3OUNzY29wZVx1ODhBQlx1NTIyMFx1OTY2NFx1RkYwQ1x1NUMwNnNjb3BlXHU5MUNEXHU3RjZFXHU0RTNBYWxsXG4gIGlmIChnZXRTY29wZSgpID09PSBzY29wZSkgc2V0U2NvcGUobmV3U2NvcGUgfHwgJ2FsbCcpO1xufVxuXG4vLyBcdTZFMDVcdTk2NjRcdTRGRUVcdTk5NzBcdTk1MkVcbmZ1bmN0aW9uIGNsZWFyTW9kaWZpZXIoZXZlbnQpIHtcbiAgbGV0IGtleSA9IGV2ZW50LmtleUNvZGUgfHwgZXZlbnQud2hpY2ggfHwgZXZlbnQuY2hhckNvZGU7XG4gIGNvbnN0IGkgPSBfZG93bktleXMuaW5kZXhPZihrZXkpO1xuXG4gIC8vIFx1NEVDRVx1NTIxN1x1ODg2OFx1NEUyRFx1NkUwNVx1OTY2NFx1NjMwOVx1NTM4Qlx1OEZDN1x1NzY4NFx1OTUyRVxuICBpZiAoaSA+PSAwKSB7XG4gICAgX2Rvd25LZXlzLnNwbGljZShpLCAxKTtcbiAgfVxuICAvLyBcdTcyNzlcdTZCOEFcdTU5MDRcdTc0MDYgY21tYW5kIFx1OTUyRVx1RkYwQ1x1NTcyOCBjbW1hbmQgXHU3RUM0XHU1NDA4XHU1RkVCXHU2Mzc3XHU5NTJFIGtleXVwIFx1NTNFQVx1NjI2N1x1ODg0Q1x1NEUwMFx1NkIyMVx1NzY4NFx1OTVFRVx1OTg5OFxuICBpZiAoZXZlbnQua2V5ICYmIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSAnbWV0YScpIHtcbiAgICBfZG93bktleXMuc3BsaWNlKDAsIF9kb3duS2V5cy5sZW5ndGgpO1xuICB9XG5cbiAgLy8gXHU0RkVFXHU5OTcwXHU5NTJFIHNoaWZ0S2V5IGFsdEtleSBjdHJsS2V5IChjb21tYW5kfHxtZXRhS2V5KSBcdTZFMDVcdTk2NjRcbiAgaWYgKGtleSA9PT0gOTMgfHwga2V5ID09PSAyMjQpIGtleSA9IDkxO1xuICBpZiAoa2V5IGluIF9tb2RzKSB7XG4gICAgX21vZHNba2V5XSA9IGZhbHNlO1xuXG4gICAgLy8gXHU1QzA2XHU0RkVFXHU5OTcwXHU5NTJFXHU5MUNEXHU3RjZFXHU0RTNBZmFsc2VcbiAgICBmb3IgKGNvbnN0IGsgaW4gX21vZGlmaWVyKSBpZiAoX21vZGlmaWVyW2tdID09PSBrZXkpIGhvdGtleXNba10gPSBmYWxzZTtcbiAgfVxufVxuZnVuY3Rpb24gdW5iaW5kKGtleXNJbmZvKSB7XG4gIC8vIHVuYmluZCgpLCB1bmJpbmQgYWxsIGtleXNcbiAgaWYgKHR5cGVvZiBrZXlzSW5mbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBPYmplY3Qua2V5cyhfaGFuZGxlcnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIEFycmF5LmlzQXJyYXkoX2hhbmRsZXJzW2tleV0pICYmIF9oYW5kbGVyc1trZXldLmZvckVhY2goaW5mbyA9PiBlYWNoVW5iaW5kKGluZm8pKTtcbiAgICAgIGRlbGV0ZSBfaGFuZGxlcnNba2V5XTtcbiAgICB9KTtcbiAgICByZW1vdmVLZXlFdmVudChudWxsKTtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGtleXNJbmZvKSkge1xuICAgIC8vIHN1cHBvcnQgbGlrZSA6IHVuYmluZChbe2tleTogJ2N0cmwrYScsIHNjb3BlOiAnczEnfSwge2tleTogJ2N0cmwtYScsIHNjb3BlOiAnczInLCBzcGxpdEtleTogJy0nfV0pXG4gICAga2V5c0luZm8uZm9yRWFjaChpbmZvID0+IHtcbiAgICAgIGlmIChpbmZvLmtleSkgZWFjaFVuYmluZChpbmZvKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2Yga2V5c0luZm8gPT09ICdvYmplY3QnKSB7XG4gICAgLy8gc3VwcG9ydCBsaWtlIHVuYmluZCh7a2V5OiAnY3RybCthLCBjdHJsK2InLCBzY29wZTonYWJjJ30pXG4gICAgaWYgKGtleXNJbmZvLmtleSkgZWFjaFVuYmluZChrZXlzSW5mbyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGtleXNJbmZvID09PSAnc3RyaW5nJykge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICAvLyBzdXBwb3J0IG9sZCBtZXRob2RcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgbGV0IFtzY29wZSwgbWV0aG9kXSA9IGFyZ3M7XG4gICAgaWYgKHR5cGVvZiBzY29wZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbWV0aG9kID0gc2NvcGU7XG4gICAgICBzY29wZSA9ICcnO1xuICAgIH1cbiAgICBlYWNoVW5iaW5kKHtcbiAgICAgIGtleToga2V5c0luZm8sXG4gICAgICBzY29wZSxcbiAgICAgIG1ldGhvZCxcbiAgICAgIHNwbGl0S2V5OiAnKydcbiAgICB9KTtcbiAgfVxufVxuXG4vLyBcdTg5RTNcdTk2NjRcdTdFRDFcdTVCOUFcdTY3RDBcdTRFMkFcdTgzMDNcdTU2RjRcdTc2ODRcdTVGRUJcdTYzNzdcdTk1MkVcbmNvbnN0IGVhY2hVbmJpbmQgPSBfcmVmMyA9PiB7XG4gIGxldCB7XG4gICAga2V5LFxuICAgIHNjb3BlLFxuICAgIG1ldGhvZCxcbiAgICBzcGxpdEtleSA9ICcrJ1xuICB9ID0gX3JlZjM7XG4gIGNvbnN0IG11bHRpcGxlS2V5cyA9IGdldEtleXMoa2V5KTtcbiAgbXVsdGlwbGVLZXlzLmZvckVhY2gob3JpZ2luS2V5ID0+IHtcbiAgICBjb25zdCB1bmJpbmRLZXlzID0gb3JpZ2luS2V5LnNwbGl0KHNwbGl0S2V5KTtcbiAgICBjb25zdCBsZW4gPSB1bmJpbmRLZXlzLmxlbmd0aDtcbiAgICBjb25zdCBsYXN0S2V5ID0gdW5iaW5kS2V5c1tsZW4gLSAxXTtcbiAgICBjb25zdCBrZXlDb2RlID0gbGFzdEtleSA9PT0gJyonID8gJyonIDogY29kZShsYXN0S2V5KTtcbiAgICBpZiAoIV9oYW5kbGVyc1trZXlDb2RlXSkgcmV0dXJuO1xuICAgIC8vIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NEYyMFx1NTE2NVx1ODMwM1x1NTZGNFx1RkYwQ1x1NkNBMVx1NjcwOVx1NUMzMVx1ODNCN1x1NTNENlx1ODMwM1x1NTZGNFxuICAgIGlmICghc2NvcGUpIHNjb3BlID0gZ2V0U2NvcGUoKTtcbiAgICBjb25zdCBtb2RzID0gbGVuID4gMSA/IGdldE1vZHMoX21vZGlmaWVyLCB1bmJpbmRLZXlzKSA6IFtdO1xuICAgIGNvbnN0IHVuYmluZEVsZW1lbnRzID0gW107XG4gICAgX2hhbmRsZXJzW2tleUNvZGVdID0gX2hhbmRsZXJzW2tleUNvZGVdLmZpbHRlcihyZWNvcmQgPT4ge1xuICAgICAgLy8gXHU5MDFBXHU4RkM3XHU1MUZEXHU2NTcwXHU1MjI0XHU2NUFEXHVGRjBDXHU2NjJGXHU1NDI2XHU4OUUzXHU5NjY0XHU3RUQxXHU1QjlBXHVGRjBDXHU1MUZEXHU2NTcwXHU3NkY4XHU3QjQ5XHU3NkY0XHU2M0E1XHU4RkQ0XHU1NkRFXG4gICAgICBjb25zdCBpc01hdGNoaW5nTWV0aG9kID0gbWV0aG9kID8gcmVjb3JkLm1ldGhvZCA9PT0gbWV0aG9kIDogdHJ1ZTtcbiAgICAgIGNvbnN0IGlzVW5iaW5kID0gaXNNYXRjaGluZ01ldGhvZCAmJiByZWNvcmQuc2NvcGUgPT09IHNjb3BlICYmIGNvbXBhcmVBcnJheShyZWNvcmQubW9kcywgbW9kcyk7XG4gICAgICBpZiAoaXNVbmJpbmQpIHVuYmluZEVsZW1lbnRzLnB1c2gocmVjb3JkLmVsZW1lbnQpO1xuICAgICAgcmV0dXJuICFpc1VuYmluZDtcbiAgICB9KTtcbiAgICB1bmJpbmRFbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4gcmVtb3ZlS2V5RXZlbnQoZWxlbWVudCkpO1xuICB9KTtcbn07XG5cbi8vIFx1NUJGOVx1NzZEMVx1NTQyQ1x1NUJGOVx1NUU5NFx1NUZFQlx1NjM3N1x1OTUyRVx1NzY4NFx1NTZERVx1OEMwM1x1NTFGRFx1NjU3MFx1OEZEQlx1ODg0Q1x1NTkwNFx1NzQwNlxuZnVuY3Rpb24gZXZlbnRIYW5kbGVyKGV2ZW50LCBoYW5kbGVyLCBzY29wZSwgZWxlbWVudCkge1xuICBpZiAoaGFuZGxlci5lbGVtZW50ICE9PSBlbGVtZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBtb2RpZmllcnNNYXRjaDtcblxuICAvLyBcdTc3MEJcdTVCODNcdTY2MkZcdTU0MjZcdTU3MjhcdTVGNTNcdTUyNERcdTgzMDNcdTU2RjRcbiAgaWYgKGhhbmRsZXIuc2NvcGUgPT09IHNjb3BlIHx8IGhhbmRsZXIuc2NvcGUgPT09ICdhbGwnKSB7XG4gICAgLy8gXHU2OEMwXHU2N0U1XHU2NjJGXHU1NDI2XHU1MzM5XHU5MTREXHU0RkVFXHU5OTcwXHU3QjI2XHVGRjA4XHU1OTgyXHU2NzlDXHU2NzA5XHU4RkQ0XHU1NkRFdHJ1ZVx1RkYwOVxuICAgIG1vZGlmaWVyc01hdGNoID0gaGFuZGxlci5tb2RzLmxlbmd0aCA+IDA7XG4gICAgZm9yIChjb25zdCB5IGluIF9tb2RzKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9tb2RzLCB5KSkge1xuICAgICAgICBpZiAoIV9tb2RzW3ldICYmIGhhbmRsZXIubW9kcy5pbmRleE9mKCt5KSA+IC0xIHx8IF9tb2RzW3ldICYmIGhhbmRsZXIubW9kcy5pbmRleE9mKCt5KSA9PT0gLTEpIHtcbiAgICAgICAgICBtb2RpZmllcnNNYXRjaCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gXHU4QzAzXHU3NTI4XHU1OTA0XHU3NDA2XHU3QTBCXHU1RThGXHVGRjBDXHU1OTgyXHU2NzlDXHU2NjJGXHU0RkVFXHU5OTcwXHU5NTJFXHU0RTBEXHU1MDVBXHU1OTA0XHU3NDA2XG4gICAgaWYgKGhhbmRsZXIubW9kcy5sZW5ndGggPT09IDAgJiYgIV9tb2RzWzE2XSAmJiAhX21vZHNbMThdICYmICFfbW9kc1sxN10gJiYgIV9tb2RzWzkxXSB8fCBtb2RpZmllcnNNYXRjaCB8fCBoYW5kbGVyLnNob3J0Y3V0ID09PSAnKicpIHtcbiAgICAgIGhhbmRsZXIua2V5cyA9IFtdO1xuICAgICAgaGFuZGxlci5rZXlzID0gaGFuZGxlci5rZXlzLmNvbmNhdChfZG93bktleXMpO1xuICAgICAgaWYgKGhhbmRsZXIubWV0aG9kKGV2ZW50LCBoYW5kbGVyKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChldmVudC5jYW5jZWxCdWJibGUpIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIFx1NTkwNFx1NzQwNmtleWRvd25cdTRFOEJcdTRFRjZcbmZ1bmN0aW9uIGRpc3BhdGNoKGV2ZW50LCBlbGVtZW50KSB7XG4gIGNvbnN0IGFzdGVyaXNrID0gX2hhbmRsZXJzWycqJ107XG4gIGxldCBrZXkgPSBldmVudC5rZXlDb2RlIHx8IGV2ZW50LndoaWNoIHx8IGV2ZW50LmNoYXJDb2RlO1xuXG4gIC8vIFx1ODg2OFx1NTM1NVx1NjNBN1x1NEVGNlx1OEZDN1x1NkVFNCBcdTlFRDhcdThCQTRcdTg4NjhcdTUzNTVcdTYzQTdcdTRFRjZcdTRFMERcdTg5RTZcdTUzRDFcdTVGRUJcdTYzNzdcdTk1MkVcbiAgaWYgKCFob3RrZXlzLmZpbHRlci5jYWxsKHRoaXMsIGV2ZW50KSkgcmV0dXJuO1xuXG4gIC8vIEdlY2tvKEZpcmVmb3gpXHU3Njg0Y29tbWFuZFx1OTUyRVx1NTAzQzIyNFx1RkYwQ1x1NTcyOFdlYmtpdChDaHJvbWUpXHU0RTJEXHU0RkREXHU2MzAxXHU0RTAwXHU4MUY0XG4gIC8vIFdlYmtpdFx1NURFNlx1NTNGMyBjb21tYW5kIFx1OTUyRVx1NTAzQ1x1NEUwRFx1NEUwMFx1NjgzN1xuICBpZiAoa2V5ID09PSA5MyB8fCBrZXkgPT09IDIyNCkga2V5ID0gOTE7XG5cbiAgLyoqXG4gICAqIENvbGxlY3QgYm91bmQga2V5c1xuICAgKiBJZiBhbiBJbnB1dCBNZXRob2QgRWRpdG9yIGlzIHByb2Nlc3Npbmcga2V5IGlucHV0IGFuZCB0aGUgZXZlbnQgaXMga2V5ZG93biwgcmV0dXJuIDIyOS5cbiAgICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjUwNDM5MzQvaXMtaXQtb2stdG8taWdub3JlLWtleWRvd24tZXZlbnRzLXdpdGgta2V5Y29kZS0yMjlcbiAgICogaHR0cDovL2xpc3RzLnczLm9yZy9BcmNoaXZlcy9QdWJsaWMvd3d3LWRvbS8yMDEwSnVsU2VwL2F0dC0wMTgyL2tleUNvZGUtc3BlYy5odG1sXG4gICAqL1xuICBpZiAoX2Rvd25LZXlzLmluZGV4T2Yoa2V5KSA9PT0gLTEgJiYga2V5ICE9PSAyMjkpIF9kb3duS2V5cy5wdXNoKGtleSk7XG4gIC8qKlxuICAgKiBKZXN0IHRlc3QgY2FzZXMgYXJlIHJlcXVpcmVkLlxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqL1xuICBbJ2N0cmxLZXknLCAnYWx0S2V5JywgJ3NoaWZ0S2V5JywgJ21ldGFLZXknXS5mb3JFYWNoKGtleU5hbWUgPT4ge1xuICAgIGNvbnN0IGtleU51bSA9IG1vZGlmaWVyTWFwW2tleU5hbWVdO1xuICAgIGlmIChldmVudFtrZXlOYW1lXSAmJiBfZG93bktleXMuaW5kZXhPZihrZXlOdW0pID09PSAtMSkge1xuICAgICAgX2Rvd25LZXlzLnB1c2goa2V5TnVtKTtcbiAgICB9IGVsc2UgaWYgKCFldmVudFtrZXlOYW1lXSAmJiBfZG93bktleXMuaW5kZXhPZihrZXlOdW0pID4gLTEpIHtcbiAgICAgIF9kb3duS2V5cy5zcGxpY2UoX2Rvd25LZXlzLmluZGV4T2Yoa2V5TnVtKSwgMSk7XG4gICAgfSBlbHNlIGlmIChrZXlOYW1lID09PSAnbWV0YUtleScgJiYgZXZlbnRba2V5TmFtZV0gJiYgX2Rvd25LZXlzLmxlbmd0aCA9PT0gMykge1xuICAgICAgLyoqXG4gICAgICAgKiBGaXggaWYgQ29tbWFuZCBpcyBwcmVzc2VkOlxuICAgICAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICovXG4gICAgICBpZiAoIShldmVudC5jdHJsS2V5IHx8IGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50LmFsdEtleSkpIHtcbiAgICAgICAgX2Rvd25LZXlzID0gX2Rvd25LZXlzLnNsaWNlKF9kb3duS2V5cy5pbmRleE9mKGtleU51bSkpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIC8qKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqL1xuXG4gIGlmIChrZXkgaW4gX21vZHMpIHtcbiAgICBfbW9kc1trZXldID0gdHJ1ZTtcblxuICAgIC8vIFx1NUMwNlx1NzI3OVx1NkI4QVx1NUI1N1x1N0IyNlx1NzY4NGtleVx1NkNFOFx1NTE4Q1x1NTIzMCBob3RrZXlzIFx1NEUwQVxuICAgIGZvciAoY29uc3QgayBpbiBfbW9kaWZpZXIpIHtcbiAgICAgIGlmIChfbW9kaWZpZXJba10gPT09IGtleSkgaG90a2V5c1trXSA9IHRydWU7XG4gICAgfVxuICAgIGlmICghYXN0ZXJpc2spIHJldHVybjtcbiAgfVxuXG4gIC8vIFx1NUMwNiBtb2RpZmllck1hcCBcdTkxQ0NcdTk3NjJcdTc2ODRcdTRGRUVcdTk5NzBcdTk1MkVcdTdFRDFcdTVCOUFcdTUyMzAgZXZlbnQgXHU0RTJEXG4gIGZvciAoY29uc3QgZSBpbiBfbW9kcykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX21vZHMsIGUpKSB7XG4gICAgICBfbW9kc1tlXSA9IGV2ZW50W21vZGlmaWVyTWFwW2VdXTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXl3Y2psb3ZlL2hvdGtleXMvcHVsbC8xMjlcbiAgICogVGhpcyBzb2x2ZXMgdGhlIGlzc3VlIGluIEZpcmVmb3ggb24gV2luZG93cyB3aGVyZSBob3RrZXlzIGNvcnJlc3BvbmRpbmcgdG8gc3BlY2lhbCBjaGFyYWN0ZXJzIHdvdWxkIG5vdCB0cmlnZ2VyLlxuICAgKiBBbiBleGFtcGxlIG9mIHRoaXMgaXMgY3RybCthbHQrbSBvbiBhIFN3ZWRpc2gga2V5Ym9hcmQgd2hpY2ggaXMgdXNlZCB0byB0eXBlIFx1MDNCQy5cbiAgICogQnJvd3NlciBzdXBwb3J0OiBodHRwczovL2Nhbml1c2UuY29tLyNmZWF0PWtleWJvYXJkZXZlbnQtZ2V0bW9kaWZpZXJzdGF0ZVxuICAgKi9cbiAgaWYgKGV2ZW50LmdldE1vZGlmaWVyU3RhdGUgJiYgIShldmVudC5hbHRLZXkgJiYgIWV2ZW50LmN0cmxLZXkpICYmIGV2ZW50LmdldE1vZGlmaWVyU3RhdGUoJ0FsdEdyYXBoJykpIHtcbiAgICBpZiAoX2Rvd25LZXlzLmluZGV4T2YoMTcpID09PSAtMSkge1xuICAgICAgX2Rvd25LZXlzLnB1c2goMTcpO1xuICAgIH1cbiAgICBpZiAoX2Rvd25LZXlzLmluZGV4T2YoMTgpID09PSAtMSkge1xuICAgICAgX2Rvd25LZXlzLnB1c2goMTgpO1xuICAgIH1cbiAgICBfbW9kc1sxN10gPSB0cnVlO1xuICAgIF9tb2RzWzE4XSA9IHRydWU7XG4gIH1cblxuICAvLyBcdTgzQjdcdTUzRDZcdTgzMDNcdTU2RjQgXHU5RUQ4XHU4QkE0XHU0RTNBIGBhbGxgXG4gIGNvbnN0IHNjb3BlID0gZ2V0U2NvcGUoKTtcbiAgLy8gXHU1QkY5XHU0RUZCXHU0RjU1XHU1RkVCXHU2Mzc3XHU5NTJFXHU5MEZEXHU5NzAwXHU4OTgxXHU1MDVBXHU3Njg0XHU1OTA0XHU3NDA2XG4gIGlmIChhc3Rlcmlzaykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXN0ZXJpc2subGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhc3Rlcmlza1tpXS5zY29wZSA9PT0gc2NvcGUgJiYgKGV2ZW50LnR5cGUgPT09ICdrZXlkb3duJyAmJiBhc3Rlcmlza1tpXS5rZXlkb3duIHx8IGV2ZW50LnR5cGUgPT09ICdrZXl1cCcgJiYgYXN0ZXJpc2tbaV0ua2V5dXApKSB7XG4gICAgICAgIGV2ZW50SGFuZGxlcihldmVudCwgYXN0ZXJpc2tbaV0sIHNjb3BlLCBlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8ga2V5IFx1NEUwRFx1NTcyOCBfaGFuZGxlcnMgXHU0RTJEXHU4RkQ0XHU1NkRFXG4gIGlmICghKGtleSBpbiBfaGFuZGxlcnMpKSByZXR1cm47XG4gIGNvbnN0IGhhbmRsZXJLZXkgPSBfaGFuZGxlcnNba2V5XTtcbiAgY29uc3Qga2V5TGVuID0gaGFuZGxlcktleS5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwga2V5TGVuOyBpKyspIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nICYmIGhhbmRsZXJLZXlbaV0ua2V5ZG93biB8fCBldmVudC50eXBlID09PSAna2V5dXAnICYmIGhhbmRsZXJLZXlbaV0ua2V5dXApIHtcbiAgICAgIGlmIChoYW5kbGVyS2V5W2ldLmtleSkge1xuICAgICAgICBjb25zdCByZWNvcmQgPSBoYW5kbGVyS2V5W2ldO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgc3BsaXRLZXlcbiAgICAgICAgfSA9IHJlY29yZDtcbiAgICAgICAgY29uc3Qga2V5U2hvcnRjdXQgPSByZWNvcmQua2V5LnNwbGl0KHNwbGl0S2V5KTtcbiAgICAgICAgY29uc3QgX2Rvd25LZXlzQ3VycmVudCA9IFtdOyAvLyBcdThCQjBcdTVGNTVcdTVGNTNcdTUyNERcdTYzMDlcdTk1MkVcdTk1MkVcdTUwM0NcbiAgICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPCBrZXlTaG9ydGN1dC5sZW5ndGg7IGErKykge1xuICAgICAgICAgIF9kb3duS2V5c0N1cnJlbnQucHVzaChjb2RlKGtleVNob3J0Y3V0W2FdKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9kb3duS2V5c0N1cnJlbnQuc29ydCgpLmpvaW4oJycpID09PSBfZG93bktleXMuc29ydCgpLmpvaW4oJycpKSB7XG4gICAgICAgICAgLy8gXHU2MjdFXHU1MjMwXHU1OTA0XHU3NDA2XHU1MTg1XHU1QkI5XG4gICAgICAgICAgZXZlbnRIYW5kbGVyKGV2ZW50LCByZWNvcmQsIHNjb3BlLCBlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gaG90a2V5cyhrZXksIG9wdGlvbiwgbWV0aG9kKSB7XG4gIF9kb3duS2V5cyA9IFtdO1xuICBjb25zdCBrZXlzID0gZ2V0S2V5cyhrZXkpOyAvLyBcdTk3MDBcdTg5ODFcdTU5MDRcdTc0MDZcdTc2ODRcdTVGRUJcdTYzNzdcdTk1MkVcdTUyMTdcdTg4NjhcbiAgbGV0IG1vZHMgPSBbXTtcbiAgbGV0IHNjb3BlID0gJ2FsbCc7IC8vIHNjb3BlXHU5RUQ4XHU4QkE0XHU0RTNBYWxsXHVGRjBDXHU2MjQwXHU2NzA5XHU4MzAzXHU1NkY0XHU5MEZEXHU2NzA5XHU2NTQ4XG4gIGxldCBlbGVtZW50ID0gZG9jdW1lbnQ7IC8vIFx1NUZFQlx1NjM3N1x1OTUyRVx1NEU4Qlx1NEVGNlx1N0VEMVx1NUI5QVx1ODI4Mlx1NzBCOVxuICBsZXQgaSA9IDA7XG4gIGxldCBrZXl1cCA9IGZhbHNlO1xuICBsZXQga2V5ZG93biA9IHRydWU7XG4gIGxldCBzcGxpdEtleSA9ICcrJztcbiAgbGV0IGNhcHR1cmUgPSBmYWxzZTtcbiAgbGV0IHNpbmdsZSA9IGZhbHNlOyAvLyBcdTUzNTVcdTRFMkFjYWxsYmFja1xuXG4gIC8vIFx1NUJGOVx1NEUzQVx1OEJCRVx1NUI5QVx1ODMwM1x1NTZGNFx1NzY4NFx1NTIyNFx1NjVBRFxuICBpZiAobWV0aG9kID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG1ldGhvZCA9IG9wdGlvbjtcbiAgfVxuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9wdGlvbikgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgaWYgKG9wdGlvbi5zY29wZSkgc2NvcGUgPSBvcHRpb24uc2NvcGU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBpZiAob3B0aW9uLmVsZW1lbnQpIGVsZW1lbnQgPSBvcHRpb24uZWxlbWVudDsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGlmIChvcHRpb24ua2V5dXApIGtleXVwID0gb3B0aW9uLmtleXVwOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgaWYgKG9wdGlvbi5rZXlkb3duICE9PSB1bmRlZmluZWQpIGtleWRvd24gPSBvcHRpb24ua2V5ZG93bjsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGlmIChvcHRpb24uY2FwdHVyZSAhPT0gdW5kZWZpbmVkKSBjYXB0dXJlID0gb3B0aW9uLmNhcHR1cmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBpZiAodHlwZW9mIG9wdGlvbi5zcGxpdEtleSA9PT0gJ3N0cmluZycpIHNwbGl0S2V5ID0gb3B0aW9uLnNwbGl0S2V5OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgaWYgKG9wdGlvbi5zaW5nbGUgPT09IHRydWUpIHNpbmdsZSA9IHRydWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgfVxuICBpZiAodHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmluZycpIHNjb3BlID0gb3B0aW9uO1xuXG4gIC8vIFx1NTk4Mlx1Njc5Q1x1NTNFQVx1NTE0MVx1OEJCOFx1NTM1NVx1NEUyQWNhbGxiYWNrXHVGRjBDXHU1MTQ4dW5iaW5kXG4gIGlmIChzaW5nbGUpIHVuYmluZChrZXksIHNjb3BlKTtcblxuICAvLyBcdTVCRjlcdTRFOEVcdTZCQ0ZcdTRFMkFcdTVGRUJcdTYzNzdcdTk1MkVcdThGREJcdTg4NENcdTU5MDRcdTc0MDZcbiAgZm9yICg7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0ga2V5c1tpXS5zcGxpdChzcGxpdEtleSk7IC8vIFx1NjMwOVx1OTUyRVx1NTIxN1x1ODg2OFxuICAgIG1vZHMgPSBbXTtcblxuICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NjYyRlx1N0VDNFx1NTQwOFx1NUZFQlx1NjM3N1x1OTUyRVx1NTNENlx1NUY5N1x1N0VDNFx1NTQwOFx1NUZFQlx1NjM3N1x1OTUyRVxuICAgIGlmIChrZXkubGVuZ3RoID4gMSkgbW9kcyA9IGdldE1vZHMoX21vZGlmaWVyLCBrZXkpO1xuXG4gICAgLy8gXHU1QzA2XHU5NzVFXHU0RkVFXHU5OTcwXHU5NTJFXHU4RjZDXHU1MzE2XHU0RTNBXHU5NTJFXHU3ODAxXG4gICAga2V5ID0ga2V5W2tleS5sZW5ndGggLSAxXTtcbiAgICBrZXkgPSBrZXkgPT09ICcqJyA/ICcqJyA6IGNvZGUoa2V5KTsgLy8gKlx1ODg2OFx1NzkzQVx1NTMzOVx1OTE0RFx1NjI0MFx1NjcwOVx1NUZFQlx1NjM3N1x1OTUyRVxuXG4gICAgLy8gXHU1MjI0XHU2NUFEa2V5XHU2NjJGXHU1NDI2XHU1NzI4X2hhbmRsZXJzXHU0RTJEXHVGRjBDXHU0RTBEXHU1NzI4XHU1QzMxXHU4RDRCXHU0RTAwXHU0RTJBXHU3QTdBXHU2NTcwXHU3RUM0XG4gICAgaWYgKCEoa2V5IGluIF9oYW5kbGVycykpIF9oYW5kbGVyc1trZXldID0gW107XG4gICAgX2hhbmRsZXJzW2tleV0ucHVzaCh7XG4gICAgICBrZXl1cCxcbiAgICAgIGtleWRvd24sXG4gICAgICBzY29wZSxcbiAgICAgIG1vZHMsXG4gICAgICBzaG9ydGN1dDoga2V5c1tpXSxcbiAgICAgIG1ldGhvZCxcbiAgICAgIGtleToga2V5c1tpXSxcbiAgICAgIHNwbGl0S2V5LFxuICAgICAgZWxlbWVudFxuICAgIH0pO1xuICB9XG4gIC8vIFx1NTcyOFx1NTE2OFx1NUM0MGRvY3VtZW50XHU0RTBBXHU4QkJFXHU3RjZFXHU1RkVCXHU2Mzc3XHU5NTJFXG4gIGlmICh0eXBlb2YgZWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93KSB7XG4gICAgaWYgKCFlbGVtZW50RXZlbnRNYXAuaGFzKGVsZW1lbnQpKSB7XG4gICAgICBjb25zdCBrZXlkb3duTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBldmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogd2luZG93LmV2ZW50O1xuICAgICAgICByZXR1cm4gZGlzcGF0Y2goZXZlbnQsIGVsZW1lbnQpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IGtleXVwTGlzdGVuciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IGV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB3aW5kb3cuZXZlbnQ7XG4gICAgICAgIGRpc3BhdGNoKGV2ZW50LCBlbGVtZW50KTtcbiAgICAgICAgY2xlYXJNb2RpZmllcihldmVudCk7XG4gICAgICB9O1xuICAgICAgZWxlbWVudEV2ZW50TWFwLnNldChlbGVtZW50LCB7XG4gICAgICAgIGtleWRvd25MaXN0ZW5lcixcbiAgICAgICAga2V5dXBMaXN0ZW5yLFxuICAgICAgICBjYXB0dXJlXG4gICAgICB9KTtcbiAgICAgIGFkZEV2ZW50KGVsZW1lbnQsICdrZXlkb3duJywga2V5ZG93bkxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICAgIGFkZEV2ZW50KGVsZW1lbnQsICdrZXl1cCcsIGtleXVwTGlzdGVuciwgY2FwdHVyZSk7XG4gICAgfVxuICAgIGlmICghd2luTGlzdGVuZEZvY3VzKSB7XG4gICAgICBjb25zdCBsaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgX2Rvd25LZXlzID0gW107XG4gICAgICB9O1xuICAgICAgd2luTGlzdGVuZEZvY3VzID0ge1xuICAgICAgICBsaXN0ZW5lcixcbiAgICAgICAgY2FwdHVyZVxuICAgICAgfTtcbiAgICAgIGFkZEV2ZW50KHdpbmRvdywgJ2ZvY3VzJywgbGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlcihzaG9ydGN1dCkge1xuICBsZXQgc2NvcGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdhbGwnO1xuICBPYmplY3Qua2V5cyhfaGFuZGxlcnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICBjb25zdCBkYXRhTGlzdCA9IF9oYW5kbGVyc1trZXldLmZpbHRlcihpdGVtID0+IGl0ZW0uc2NvcGUgPT09IHNjb3BlICYmIGl0ZW0uc2hvcnRjdXQgPT09IHNob3J0Y3V0KTtcbiAgICBkYXRhTGlzdC5mb3JFYWNoKGRhdGEgPT4ge1xuICAgICAgaWYgKGRhdGEgJiYgZGF0YS5tZXRob2QpIHtcbiAgICAgICAgZGF0YS5tZXRob2QoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbi8vIFx1OTUwMFx1NkJDMVx1NEU4Qlx1NEVGNix1bmJpbmRcdTRFNEJcdTU0MEVcdTUyMjRcdTY1QURlbGVtZW50XHU0RTBBXHU2NjJGXHU1NDI2XHU4RkQ4XHU2NzA5XHU5NTJFXHU3NkQ4XHU1RkVCXHU2Mzc3XHU5NTJFXHVGRjBDXHU1OTgyXHU2NzlDXHU2Q0ExXHU2NzA5XHU3OUZCXHU5NjY0XHU3NkQxXHU1NDJDXG5mdW5jdGlvbiByZW1vdmVLZXlFdmVudChlbGVtZW50KSB7XG4gIGNvbnN0IHZhbHVlcyA9IE9iamVjdC52YWx1ZXMoX2hhbmRsZXJzKS5mbGF0KCk7XG4gIGNvbnN0IGZpbmRpbmRleCA9IHZhbHVlcy5maW5kSW5kZXgoX3JlZjQgPT4ge1xuICAgIGxldCB7XG4gICAgICBlbGVtZW50OiBlbFxuICAgIH0gPSBfcmVmNDtcbiAgICByZXR1cm4gZWwgPT09IGVsZW1lbnQ7XG4gIH0pO1xuICBpZiAoZmluZGluZGV4IDwgMCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGtleWRvd25MaXN0ZW5lcixcbiAgICAgIGtleXVwTGlzdGVucixcbiAgICAgIGNhcHR1cmVcbiAgICB9ID0gZWxlbWVudEV2ZW50TWFwLmdldChlbGVtZW50KSB8fCB7fTtcbiAgICBpZiAoa2V5ZG93bkxpc3RlbmVyICYmIGtleXVwTGlzdGVucikge1xuICAgICAgcmVtb3ZlRXZlbnQoZWxlbWVudCwgJ2tleXVwJywga2V5dXBMaXN0ZW5yLCBjYXB0dXJlKTtcbiAgICAgIHJlbW92ZUV2ZW50KGVsZW1lbnQsICdrZXlkb3duJywga2V5ZG93bkxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICAgIGVsZW1lbnRFdmVudE1hcC5kZWxldGUoZWxlbWVudCk7XG4gICAgfVxuICB9XG4gIGlmICh2YWx1ZXMubGVuZ3RoIDw9IDAgfHwgZWxlbWVudEV2ZW50TWFwLnNpemUgPD0gMCkge1xuICAgIC8vIFx1NzlGQlx1OTY2NFx1NjI0MFx1NjcwOVx1NzY4NFx1NTE0M1x1N0QyMFx1NEUwQVx1NzY4NFx1NzZEMVx1NTQyQ1xuICAgIGNvbnN0IGV2ZW50S2V5cyA9IE9iamVjdC5rZXlzKGVsZW1lbnRFdmVudE1hcCk7XG4gICAgZXZlbnRLZXlzLmZvckVhY2goZWwgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBrZXlkb3duTGlzdGVuZXIsXG4gICAgICAgIGtleXVwTGlzdGVucixcbiAgICAgICAgY2FwdHVyZVxuICAgICAgfSA9IGVsZW1lbnRFdmVudE1hcC5nZXQoZWwpIHx8IHt9O1xuICAgICAgaWYgKGtleWRvd25MaXN0ZW5lciAmJiBrZXl1cExpc3RlbnIpIHtcbiAgICAgICAgcmVtb3ZlRXZlbnQoZWwsICdrZXl1cCcsIGtleXVwTGlzdGVuciwgY2FwdHVyZSk7XG4gICAgICAgIHJlbW92ZUV2ZW50KGVsLCAna2V5ZG93bicsIGtleWRvd25MaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgICAgIGVsZW1lbnRFdmVudE1hcC5kZWxldGUoZWwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIFx1NkUwNVx1N0E3QSBlbGVtZW50RXZlbnRNYXBcbiAgICBlbGVtZW50RXZlbnRNYXAuY2xlYXIoKTtcbiAgICAvLyBcdTZFMDVcdTdBN0EgX2hhbmRsZXJzXG4gICAgT2JqZWN0LmtleXMoX2hhbmRsZXJzKS5mb3JFYWNoKGtleSA9PiBkZWxldGUgX2hhbmRsZXJzW2tleV0pO1xuICAgIC8vIFx1NzlGQlx1OTY2NHdpbmRvd1x1NEUwQVx1NzY4NGZvY3VzXHU3NkQxXHU1NDJDXG4gICAgaWYgKHdpbkxpc3RlbmRGb2N1cykge1xuICAgICAgY29uc3Qge1xuICAgICAgICBsaXN0ZW5lcixcbiAgICAgICAgY2FwdHVyZVxuICAgICAgfSA9IHdpbkxpc3RlbmRGb2N1cztcbiAgICAgIHJlbW92ZUV2ZW50KHdpbmRvdywgJ2ZvY3VzJywgbGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgICAgd2luTGlzdGVuZEZvY3VzID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cbmNvbnN0IF9hcGkgPSB7XG4gIGdldFByZXNzZWRLZXlTdHJpbmcsXG4gIHNldFNjb3BlLFxuICBnZXRTY29wZSxcbiAgZGVsZXRlU2NvcGUsXG4gIGdldFByZXNzZWRLZXlDb2RlcyxcbiAgZ2V0QWxsS2V5Q29kZXMsXG4gIGlzUHJlc3NlZCxcbiAgZmlsdGVyLFxuICB0cmlnZ2VyLFxuICB1bmJpbmQsXG4gIGtleU1hcDogX2tleU1hcCxcbiAgbW9kaWZpZXI6IF9tb2RpZmllcixcbiAgbW9kaWZpZXJNYXBcbn07XG5mb3IgKGNvbnN0IGEgaW4gX2FwaSkge1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9hcGksIGEpKSB7XG4gICAgaG90a2V5c1thXSA9IF9hcGlbYV07XG4gIH1cbn1cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICBjb25zdCBfaG90a2V5cyA9IHdpbmRvdy5ob3RrZXlzO1xuICBob3RrZXlzLm5vQ29uZmxpY3QgPSBkZWVwID0+IHtcbiAgICBpZiAoZGVlcCAmJiB3aW5kb3cuaG90a2V5cyA9PT0gaG90a2V5cykge1xuICAgICAgd2luZG93LmhvdGtleXMgPSBfaG90a2V5cztcbiAgICB9XG4gICAgcmV0dXJuIGhvdGtleXM7XG4gIH07XG4gIHdpbmRvdy5ob3RrZXlzID0gaG90a2V5cztcbn1cblxuZXhwb3J0IHsgaG90a2V5cyBhcyBkZWZhdWx0IH07XG4iLCAiLypcbiAqIHN0aW11bHVzLXVzZSAwLjUyLjFcbiAqL1xuaW1wb3J0IGhvdGtleXMgZnJvbSBcImhvdGtleXMtanNcIjtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG5cblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1Jcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi8gZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpIHRbcFtpXV0gPSBzW3BbaV1dO1xuICB9XG4gIHJldHVybiB0O1xufVxuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgZGVidWc6IGZhbHNlLFxuICBsb2dnZXI6IGNvbnNvbGUsXG4gIGRpc3BhdGNoRXZlbnQ6IHRydWUsXG4gIGV2ZW50UHJlZml4OiB0cnVlXG59O1xuXG5jbGFzcyBTdGltdWx1c1VzZSB7XG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHRoaXMubG9nID0gKGZ1bmN0aW9uTmFtZSwgYXJncykgPT4ge1xuICAgICAgaWYgKCF0aGlzLmRlYnVnKSByZXR1cm47XG4gICAgICB0aGlzLmxvZ2dlci5ncm91cENvbGxhcHNlZChgJWMke3RoaXMuY29udHJvbGxlci5pZGVudGlmaWVyfSAlYyMke2Z1bmN0aW9uTmFtZX1gLCBcImNvbG9yOiAjM0I4MkY2XCIsIFwiY29sb3I6IHVuc2V0XCIpO1xuICAgICAgdGhpcy5sb2dnZXIubG9nKE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBjb250cm9sbGVySWQ6IHRoaXMuY29udHJvbGxlcklkXG4gICAgICB9LCBhcmdzKSk7XG4gICAgICB0aGlzLmxvZ2dlci5ncm91cEVuZCgpO1xuICAgIH07XG4gICAgdGhpcy53YXJuID0gbWVzc2FnZSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKGAlYyR7dGhpcy5jb250cm9sbGVyLmlkZW50aWZpZXJ9ICVjJHttZXNzYWdlfWAsIFwiY29sb3I6ICMzQjgyRjY7IGZvbnQtd2VpZ2h0OiBib2xkXCIsIFwiY29sb3I6IHVuc2V0XCIpO1xuICAgIH07XG4gICAgdGhpcy5kaXNwYXRjaCA9IChldmVudE5hbWUsIGRldGFpbHMgPSB7fSkgPT4ge1xuICAgICAgaWYgKHRoaXMuZGlzcGF0Y2hFdmVudCkge1xuICAgICAgICBjb25zdCB7ZXZlbnQ6IGV2ZW50fSA9IGRldGFpbHMsIGV2ZW50RGV0YWlscyA9IF9fcmVzdChkZXRhaWxzLCBbIFwiZXZlbnRcIiBdKTtcbiAgICAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSB0aGlzLmV4dGVuZGVkRXZlbnQoZXZlbnROYW1lLCBldmVudCB8fCBudWxsLCBldmVudERldGFpbHMpO1xuICAgICAgICB0aGlzLnRhcmdldEVsZW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XG4gICAgICAgIHRoaXMubG9nKFwiZGlzcGF0Y2hFdmVudFwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBldmVudE5hbWU6IGN1c3RvbUV2ZW50LnR5cGVcbiAgICAgICAgfSwgZXZlbnREZXRhaWxzKSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNhbGwgPSAobWV0aG9kTmFtZSwgYXJncyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCBtZXRob2QgPSB0aGlzLmNvbnRyb2xsZXJbbWV0aG9kTmFtZV07XG4gICAgICBpZiAodHlwZW9mIG1ldGhvZCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG1ldGhvZC5jYWxsKHRoaXMuY29udHJvbGxlciwgYXJncyk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmV4dGVuZGVkRXZlbnQgPSAobmFtZSwgZXZlbnQsIGRldGFpbCkgPT4ge1xuICAgICAgY29uc3Qge2J1YmJsZXM6IGJ1YmJsZXMsIGNhbmNlbGFibGU6IGNhbmNlbGFibGUsIGNvbXBvc2VkOiBjb21wb3NlZH0gPSBldmVudCB8fCB7XG4gICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICAgIGNvbXBvc2VkOiB0cnVlXG4gICAgICB9O1xuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oZGV0YWlsLCB7XG4gICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudCh0aGlzLmNvbXBvc2VFdmVudE5hbWUobmFtZSksIHtcbiAgICAgICAgYnViYmxlczogYnViYmxlcyxcbiAgICAgICAgY2FuY2VsYWJsZTogY2FuY2VsYWJsZSxcbiAgICAgICAgY29tcG9zZWQ6IGNvbXBvc2VkLFxuICAgICAgICBkZXRhaWw6IGRldGFpbFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gY3VzdG9tRXZlbnQ7XG4gICAgfTtcbiAgICB0aGlzLmNvbXBvc2VFdmVudE5hbWUgPSBuYW1lID0+IHtcbiAgICAgIGxldCBjb21wb3NlZE5hbWUgPSBuYW1lO1xuICAgICAgaWYgKHRoaXMuZXZlbnRQcmVmaXggPT09IHRydWUpIHtcbiAgICAgICAgY29tcG9zZWROYW1lID0gYCR7dGhpcy5jb250cm9sbGVyLmlkZW50aWZpZXJ9OiR7bmFtZX1gO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5ldmVudFByZWZpeCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb21wb3NlZE5hbWUgPSBgJHt0aGlzLmV2ZW50UHJlZml4fToke25hbWV9YDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb21wb3NlZE5hbWU7XG4gICAgfTtcbiAgICB0aGlzLmRlYnVnID0gKF9iID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmRlYnVnKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb250cm9sbGVyLmFwcGxpY2F0aW9uLnN0aW11bHVzVXNlRGVidWcpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRlZmF1bHRPcHRpb25zLmRlYnVnO1xuICAgIHRoaXMubG9nZ2VyID0gKF9jID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmxvZ2dlcikgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogZGVmYXVsdE9wdGlvbnMubG9nZ2VyO1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgdGhpcy5jb250cm9sbGVySWQgPSBjb250cm9sbGVyLmVsZW1lbnQuaWQgfHwgY29udHJvbGxlci5lbGVtZW50LmRhdGFzZXQuaWQ7XG4gICAgdGhpcy50YXJnZXRFbGVtZW50ID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5lbGVtZW50KSB8fCBjb250cm9sbGVyLmVsZW1lbnQ7XG4gICAgY29uc3Qge2Rpc3BhdGNoRXZlbnQ6IGRpc3BhdGNoRXZlbnQsIGV2ZW50UHJlZml4OiBldmVudFByZWZpeH0gPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICBkaXNwYXRjaEV2ZW50OiBkaXNwYXRjaEV2ZW50LFxuICAgICAgZXZlbnRQcmVmaXg6IGV2ZW50UHJlZml4XG4gICAgfSk7XG4gICAgdGhpcy5jb250cm9sbGVySW5pdGlhbGl6ZSA9IGNvbnRyb2xsZXIuaW5pdGlhbGl6ZS5iaW5kKGNvbnRyb2xsZXIpO1xuICAgIHRoaXMuY29udHJvbGxlckNvbm5lY3QgPSBjb250cm9sbGVyLmNvbm5lY3QuYmluZChjb250cm9sbGVyKTtcbiAgICB0aGlzLmNvbnRyb2xsZXJEaXNjb25uZWN0ID0gY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQoY29udHJvbGxlcik7XG4gIH1cbn1cblxuY2xhc3MgVXNlSG90a2V5cyBleHRlbmRzIFN0aW11bHVzVXNlIHtcbiAgY29uc3RydWN0b3IoY29udHJvbGxlciwgaG90a2V5c09wdGlvbnMpIHtcbiAgICBzdXBlcihjb250cm9sbGVyLCBob3RrZXlzT3B0aW9ucyk7XG4gICAgdGhpcy5iaW5kID0gKCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBbaG90a2V5LCBkZWZpbml0aW9uXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmhvdGtleXNPcHRpb25zLmhvdGtleXMpKSB7XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBkZWZpbml0aW9uLmhhbmRsZXIuYmluZCh0aGlzLmNvbnRyb2xsZXIpO1xuICAgICAgICBob3RrZXlzKGhvdGtleSwgZGVmaW5pdGlvbi5vcHRpb25zLCAoZSA9PiBoYW5kbGVyKGUsIGUpKSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnVuYmluZCA9ICgpID0+IHtcbiAgICAgIGZvciAoY29uc3QgaG90a2V5IGluIHRoaXMuaG90a2V5c09wdGlvbnMuaG90a2V5cykge1xuICAgICAgICBob3RrZXlzLnVuYmluZChob3RrZXkpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB0aGlzLmhvdGtleXNPcHRpb25zID0gaG90a2V5c09wdGlvbnM7XG4gICAgdGhpcy5lbmhhbmNlQ29udHJvbGxlcigpO1xuICAgIHRoaXMuYmluZCgpO1xuICB9XG4gIGVuaGFuY2VDb250cm9sbGVyKCkge1xuICAgIGlmICh0aGlzLmhvdGtleXNPcHRpb25zLmZpbHRlcikge1xuICAgICAgaG90a2V5cy5maWx0ZXIgPSB0aGlzLmhvdGtleXNPcHRpb25zLmZpbHRlcjtcbiAgICB9XG4gICAgY29uc3QgY29udHJvbGxlckRpc2Nvbm5lY3QgPSB0aGlzLmNvbnRyb2xsZXIuZGlzY29ubmVjdC5iaW5kKHRoaXMuY29udHJvbGxlcik7XG4gICAgY29uc3QgZGlzY29ubmVjdCA9ICgpID0+IHtcbiAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgICBjb250cm9sbGVyRGlzY29ubmVjdCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLmNvbnRyb2xsZXIsIHtcbiAgICAgIGRpc2Nvbm5lY3Q6IGRpc2Nvbm5lY3RcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCBjb252ZXJ0U2ltcGxlSG90a2V5RGVmaW5pdGlvbiA9IGRlZmluaXRpb24gPT4gKHtcbiAgaGFuZGxlcjogZGVmaW5pdGlvblswXSxcbiAgb3B0aW9uczoge1xuICAgIGVsZW1lbnQ6IGRlZmluaXRpb25bMV1cbiAgfVxufSk7XG5cbmNvbnN0IGNvZXJjZU9wdGlvbnMgPSBvcHRpb25zID0+IHtcbiAgaWYgKCFvcHRpb25zLmhvdGtleXMpIHtcbiAgICBjb25zdCBob3RrZXlzID0ge307XG4gICAgT2JqZWN0LmVudHJpZXMob3B0aW9ucykuZm9yRWFjaCgoKFtob3RrZXksIGRlZmluaXRpb25dKSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaG90a2V5cywgaG90a2V5LCB7XG4gICAgICAgIHZhbHVlOiBjb252ZXJ0U2ltcGxlSG90a2V5RGVmaW5pdGlvbihkZWZpbml0aW9uKSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIGhvdGtleXM6IGhvdGtleXNcbiAgICB9O1xuICB9XG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuY29uc3QgdXNlSG90a2V5cyA9IChjb250cm9sbGVyLCBvcHRpb25zKSA9PiBuZXcgVXNlSG90a2V5cyhjb250cm9sbGVyLCBjb2VyY2VPcHRpb25zKG9wdGlvbnMpKTtcblxuZXhwb3J0IHsgdXNlSG90a2V5cyB9O1xuIiwgIi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpX2FsZXJ0X2RpYWxvZ19jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5pbXBvcnQgeyB1c2VDbGlja091dHNpZGUgfSBmcm9tICdzdGltdWx1cy11c2UnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIHN0YXRpYyB0YXJnZXRzID0gW1wib3ZlcmxheVwiLCBcImNvbnRlbnRcIl1cbiAgc3RhdGljIHZhbHVlcyA9IHtcbiAgICBjbG9zZU9uQ2xpY2tPdXRzaWRlOiBCb29sZWFuXG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIGlmICh0aGlzLmNsb3NlT25DbGlja091dHNpZGVWYWx1ZSkge1xuICAgICAgdXNlQ2xpY2tPdXRzaWRlKHRoaXMsIHsgZWxlbWVudDogdGhpcy5jb250ZW50VGFyZ2V0IH0pXG4gICAgfVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLm92ZXJsYXlUYXJnZXQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxuICAgIHRoaXMuY29udGVudFRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLm92ZXJsYXlUYXJnZXQuZGF0YXNldC51aURpYWxvZ1N0YXRlID0gXCJvcGVuXCJcbiAgICAgIHRoaXMuY29udGVudFRhcmdldC5kYXRhc2V0LnVpRGlhbG9nU3RhdGUgPSBcIm9wZW5cIlxuICAgIH0sIDEwKSAvLyBTbWFsbCBkZWxheSB0byBlbnN1cmUgdGhlIGRpc3BsYXkgY2hhbmdlIGhhcyB0YWtlbiBlZmZlY3RcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMub3ZlcmxheVRhcmdldC5kYXRhc2V0LnVpRGlhbG9nU3RhdGUgPSBcImNsb3NlZFwiXG4gICAgdGhpcy5jb250ZW50VGFyZ2V0LmRhdGFzZXQudWlEaWFsb2dTdGF0ZSA9IFwiY2xvc2VkXCJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMub3ZlcmxheVRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcbiAgICAgIHRoaXMuY29udGVudFRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcbiAgICB9LCAzMCkgLy8gQWRqdXN0IHRoaXMgdGltZW91dCB0byBtYXRjaCB5b3VyIGFuaW1hdGlvbiBkdXJhdGlvblxuICB9XG5cbiAgY2FuY2VsKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIHRoaXMuY2xvc2UoKVxuICB9XG5cbiAgY2xpY2tPdXRzaWRlKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuY2xvc2VPbkNsaWNrT3V0c2lkZVZhbHVlKSB7XG4gICAgICB0aGlzLmNsb3NlKClcbiAgICB9XG4gIH1cbn0iLCAiaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuaW1wb3J0IHsgY29tcHV0ZVBvc2l0aW9uLCBmbGlwLCBzaGlmdCwgb2Zmc2V0IH0gZnJvbSAnQGZsb2F0aW5nLXVpL2RvbSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJ0cmlnZ2VyXCIsIFwibWVudVwiXVxuICBzdGF0aWMgY2xhc3NlcyA9IFtcImFjdGl2ZVwiXVxuXG4gIGNvbm5lY3QoKSB7XG4gICAgdGhpcy5jbG9zZU1lbnUgPSB0aGlzLmNsb3NlTWVudS5iaW5kKHRoaXMpXG4gIH1cblxuICB0b2dnbGUoKSB7XG4gICAgaWYgKHRoaXMubWVudVRhcmdldC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5hY3RpdmVDbGFzcykpIHtcbiAgICAgIHRoaXMuY2xvc2VNZW51KClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vcGVuTWVudSgpXG4gICAgfVxuICB9XG5cbiAgb3Blbk1lbnUoKSB7XG4gICAgdGhpcy5tZW51VGFyZ2V0LmNsYXNzTGlzdC5hZGQodGhpcy5hY3RpdmVDbGFzcylcbiAgICB0aGlzLm1lbnVUYXJnZXQucmVtb3ZlQXR0cmlidXRlKFwiaGlkZGVuXCIpXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2VNZW51KVxuXG4gICAgdGhpcy51cGRhdGVQb3NpdGlvbigpXG4gIH1cblxuICBjbG9zZU1lbnUoZXZlbnQpIHtcbiAgICBpZiAoIWV2ZW50IHx8ICF0aGlzLmVsZW1lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgdGhpcy5tZW51VGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5hY3RpdmVDbGFzcylcbiAgICAgIHRoaXMubWVudVRhcmdldC5zZXRBdHRyaWJ1dGUoXCJoaWRkZW5cIiwgXCJcIilcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlTWVudSlcbiAgICB9XG4gIH1cblxuICB1cGRhdGVQb3NpdGlvbigpIHtcbiAgICBjb21wdXRlUG9zaXRpb24odGhpcy50cmlnZ2VyVGFyZ2V0LCB0aGlzLm1lbnVUYXJnZXQsIHtcbiAgICAgIHBsYWNlbWVudDogJ2JvdHRvbS1zdGFydCcsXG4gICAgICBtaWRkbGV3YXJlOiBbXG4gICAgICAgIG9mZnNldCg2KSxcbiAgICAgICAgZmxpcCgpLFxuICAgICAgICBzaGlmdCh7cGFkZGluZzogNX0pXG4gICAgICBdXG4gICAgfSkudGhlbigoe3gsIHl9KSA9PiB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMubWVudVRhcmdldC5zdHlsZSwge1xuICAgICAgICBsZWZ0OiBgJHt4fXB4YCxcbiAgICAgICAgdG9wOiBgJHt5fXB4YCxcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufSIsICIvKipcbiAqIEN1c3RvbSBwb3NpdGlvbmluZyByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy92aXJ0dWFsLWVsZW1lbnRzXG4gKi9cblxuY29uc3Qgc2lkZXMgPSBbJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnbGVmdCddO1xuY29uc3QgYWxpZ25tZW50cyA9IFsnc3RhcnQnLCAnZW5kJ107XG5jb25zdCBwbGFjZW1lbnRzID0gLyojX19QVVJFX18qL3NpZGVzLnJlZHVjZSgoYWNjLCBzaWRlKSA9PiBhY2MuY29uY2F0KHNpZGUsIHNpZGUgKyBcIi1cIiArIGFsaWdubWVudHNbMF0sIHNpZGUgKyBcIi1cIiArIGFsaWdubWVudHNbMV0pLCBbXSk7XG5jb25zdCBtaW4gPSBNYXRoLm1pbjtcbmNvbnN0IG1heCA9IE1hdGgubWF4O1xuY29uc3Qgcm91bmQgPSBNYXRoLnJvdW5kO1xuY29uc3QgZmxvb3IgPSBNYXRoLmZsb29yO1xuY29uc3QgY3JlYXRlQ29vcmRzID0gdiA9PiAoe1xuICB4OiB2LFxuICB5OiB2XG59KTtcbmNvbnN0IG9wcG9zaXRlU2lkZU1hcCA9IHtcbiAgbGVmdDogJ3JpZ2h0JyxcbiAgcmlnaHQ6ICdsZWZ0JyxcbiAgYm90dG9tOiAndG9wJyxcbiAgdG9wOiAnYm90dG9tJ1xufTtcbmNvbnN0IG9wcG9zaXRlQWxpZ25tZW50TWFwID0ge1xuICBzdGFydDogJ2VuZCcsXG4gIGVuZDogJ3N0YXJ0J1xufTtcbmZ1bmN0aW9uIGNsYW1wKHN0YXJ0LCB2YWx1ZSwgZW5kKSB7XG4gIHJldHVybiBtYXgoc3RhcnQsIG1pbih2YWx1ZSwgZW5kKSk7XG59XG5mdW5jdGlvbiBldmFsdWF0ZSh2YWx1ZSwgcGFyYW0pIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlKHBhcmFtKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gZ2V0U2lkZShwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xufVxuZnVuY3Rpb24gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnNwbGl0KCctJylbMV07XG59XG5mdW5jdGlvbiBnZXRPcHBvc2l0ZUF4aXMoYXhpcykge1xuICByZXR1cm4gYXhpcyA9PT0gJ3gnID8gJ3knIDogJ3gnO1xufVxuZnVuY3Rpb24gZ2V0QXhpc0xlbmd0aChheGlzKSB7XG4gIHJldHVybiBheGlzID09PSAneScgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG59XG5mdW5jdGlvbiBnZXRTaWRlQXhpcyhwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIFsndG9wJywgJ2JvdHRvbSddLmluY2x1ZGVzKGdldFNpZGUocGxhY2VtZW50KSkgPyAneScgOiAneCc7XG59XG5mdW5jdGlvbiBnZXRBbGlnbm1lbnRBeGlzKHBsYWNlbWVudCkge1xuICByZXR1cm4gZ2V0T3Bwb3NpdGVBeGlzKGdldFNpZGVBeGlzKHBsYWNlbWVudCkpO1xufVxuZnVuY3Rpb24gZ2V0QWxpZ25tZW50U2lkZXMocGxhY2VtZW50LCByZWN0cywgcnRsKSB7XG4gIGlmIChydGwgPT09IHZvaWQgMCkge1xuICAgIHJ0bCA9IGZhbHNlO1xuICB9XG4gIGNvbnN0IGFsaWdubWVudCA9IGdldEFsaWdubWVudChwbGFjZW1lbnQpO1xuICBjb25zdCBhbGlnbm1lbnRBeGlzID0gZ2V0QWxpZ25tZW50QXhpcyhwbGFjZW1lbnQpO1xuICBjb25zdCBsZW5ndGggPSBnZXRBeGlzTGVuZ3RoKGFsaWdubWVudEF4aXMpO1xuICBsZXQgbWFpbkFsaWdubWVudFNpZGUgPSBhbGlnbm1lbnRBeGlzID09PSAneCcgPyBhbGlnbm1lbnQgPT09IChydGwgPyAnZW5kJyA6ICdzdGFydCcpID8gJ3JpZ2h0JyA6ICdsZWZ0JyA6IGFsaWdubWVudCA9PT0gJ3N0YXJ0JyA/ICdib3R0b20nIDogJ3RvcCc7XG4gIGlmIChyZWN0cy5yZWZlcmVuY2VbbGVuZ3RoXSA+IHJlY3RzLmZsb2F0aW5nW2xlbmd0aF0pIHtcbiAgICBtYWluQWxpZ25tZW50U2lkZSA9IGdldE9wcG9zaXRlUGxhY2VtZW50KG1haW5BbGlnbm1lbnRTaWRlKTtcbiAgfVxuICByZXR1cm4gW21haW5BbGlnbm1lbnRTaWRlLCBnZXRPcHBvc2l0ZVBsYWNlbWVudChtYWluQWxpZ25tZW50U2lkZSldO1xufVxuZnVuY3Rpb24gZ2V0RXhwYW5kZWRQbGFjZW1lbnRzKHBsYWNlbWVudCkge1xuICBjb25zdCBvcHBvc2l0ZVBsYWNlbWVudCA9IGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCk7XG4gIHJldHVybiBbZ2V0T3Bwb3NpdGVBbGlnbm1lbnRQbGFjZW1lbnQocGxhY2VtZW50KSwgb3Bwb3NpdGVQbGFjZW1lbnQsIGdldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50KG9wcG9zaXRlUGxhY2VtZW50KV07XG59XG5mdW5jdGlvbiBnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5yZXBsYWNlKC9zdGFydHxlbmQvZywgYWxpZ25tZW50ID0+IG9wcG9zaXRlQWxpZ25tZW50TWFwW2FsaWdubWVudF0pO1xufVxuZnVuY3Rpb24gZ2V0U2lkZUxpc3Qoc2lkZSwgaXNTdGFydCwgcnRsKSB7XG4gIGNvbnN0IGxyID0gWydsZWZ0JywgJ3JpZ2h0J107XG4gIGNvbnN0IHJsID0gWydyaWdodCcsICdsZWZ0J107XG4gIGNvbnN0IHRiID0gWyd0b3AnLCAnYm90dG9tJ107XG4gIGNvbnN0IGJ0ID0gWydib3R0b20nLCAndG9wJ107XG4gIHN3aXRjaCAoc2lkZSkge1xuICAgIGNhc2UgJ3RvcCc6XG4gICAgY2FzZSAnYm90dG9tJzpcbiAgICAgIGlmIChydGwpIHJldHVybiBpc1N0YXJ0ID8gcmwgOiBscjtcbiAgICAgIHJldHVybiBpc1N0YXJ0ID8gbHIgOiBybDtcbiAgICBjYXNlICdsZWZ0JzpcbiAgICBjYXNlICdyaWdodCc6XG4gICAgICByZXR1cm4gaXNTdGFydCA/IHRiIDogYnQ7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBbXTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVBeGlzUGxhY2VtZW50cyhwbGFjZW1lbnQsIGZsaXBBbGlnbm1lbnQsIGRpcmVjdGlvbiwgcnRsKSB7XG4gIGNvbnN0IGFsaWdubWVudCA9IGdldEFsaWdubWVudChwbGFjZW1lbnQpO1xuICBsZXQgbGlzdCA9IGdldFNpZGVMaXN0KGdldFNpZGUocGxhY2VtZW50KSwgZGlyZWN0aW9uID09PSAnc3RhcnQnLCBydGwpO1xuICBpZiAoYWxpZ25tZW50KSB7XG4gICAgbGlzdCA9IGxpc3QubWFwKHNpZGUgPT4gc2lkZSArIFwiLVwiICsgYWxpZ25tZW50KTtcbiAgICBpZiAoZmxpcEFsaWdubWVudCkge1xuICAgICAgbGlzdCA9IGxpc3QuY29uY2F0KGxpc3QubWFwKGdldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50KSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBsaXN0O1xufVxuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvbGVmdHxyaWdodHxib3R0b218dG9wL2csIHNpZGUgPT4gb3Bwb3NpdGVTaWRlTWFwW3NpZGVdKTtcbn1cbmZ1bmN0aW9uIGV4cGFuZFBhZGRpbmdPYmplY3QocGFkZGluZykge1xuICByZXR1cm4ge1xuICAgIHRvcDogMCxcbiAgICByaWdodDogMCxcbiAgICBib3R0b206IDAsXG4gICAgbGVmdDogMCxcbiAgICAuLi5wYWRkaW5nXG4gIH07XG59XG5mdW5jdGlvbiBnZXRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBwYWRkaW5nICE9PSAnbnVtYmVyJyA/IGV4cGFuZFBhZGRpbmdPYmplY3QocGFkZGluZykgOiB7XG4gICAgdG9wOiBwYWRkaW5nLFxuICAgIHJpZ2h0OiBwYWRkaW5nLFxuICAgIGJvdHRvbTogcGFkZGluZyxcbiAgICBsZWZ0OiBwYWRkaW5nXG4gIH07XG59XG5mdW5jdGlvbiByZWN0VG9DbGllbnRSZWN0KHJlY3QpIHtcbiAgY29uc3Qge1xuICAgIHgsXG4gICAgeSxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHRcbiAgfSA9IHJlY3Q7XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHRvcDogeSxcbiAgICBsZWZ0OiB4LFxuICAgIHJpZ2h0OiB4ICsgd2lkdGgsXG4gICAgYm90dG9tOiB5ICsgaGVpZ2h0LFxuICAgIHgsXG4gICAgeVxuICB9O1xufVxuXG5leHBvcnQgeyBhbGlnbm1lbnRzLCBjbGFtcCwgY3JlYXRlQ29vcmRzLCBldmFsdWF0ZSwgZXhwYW5kUGFkZGluZ09iamVjdCwgZmxvb3IsIGdldEFsaWdubWVudCwgZ2V0QWxpZ25tZW50QXhpcywgZ2V0QWxpZ25tZW50U2lkZXMsIGdldEF4aXNMZW5ndGgsIGdldEV4cGFuZGVkUGxhY2VtZW50cywgZ2V0T3Bwb3NpdGVBbGlnbm1lbnRQbGFjZW1lbnQsIGdldE9wcG9zaXRlQXhpcywgZ2V0T3Bwb3NpdGVBeGlzUGxhY2VtZW50cywgZ2V0T3Bwb3NpdGVQbGFjZW1lbnQsIGdldFBhZGRpbmdPYmplY3QsIGdldFNpZGUsIGdldFNpZGVBeGlzLCBtYXgsIG1pbiwgcGxhY2VtZW50cywgcmVjdFRvQ2xpZW50UmVjdCwgcm91bmQsIHNpZGVzIH07XG4iLCAiaW1wb3J0IHsgZ2V0U2lkZUF4aXMsIGdldEFsaWdubWVudEF4aXMsIGdldEF4aXNMZW5ndGgsIGdldFNpZGUsIGdldEFsaWdubWVudCwgZXZhbHVhdGUsIGdldFBhZGRpbmdPYmplY3QsIHJlY3RUb0NsaWVudFJlY3QsIG1pbiwgY2xhbXAsIHBsYWNlbWVudHMsIGdldEFsaWdubWVudFNpZGVzLCBnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudCwgZ2V0T3Bwb3NpdGVQbGFjZW1lbnQsIGdldEV4cGFuZGVkUGxhY2VtZW50cywgZ2V0T3Bwb3NpdGVBeGlzUGxhY2VtZW50cywgc2lkZXMsIG1heCwgZ2V0T3Bwb3NpdGVBeGlzIH0gZnJvbSAnQGZsb2F0aW5nLXVpL3V0aWxzJztcbmV4cG9ydCB7IHJlY3RUb0NsaWVudFJlY3QgfSBmcm9tICdAZmxvYXRpbmctdWkvdXRpbHMnO1xuXG5mdW5jdGlvbiBjb21wdXRlQ29vcmRzRnJvbVBsYWNlbWVudChfcmVmLCBwbGFjZW1lbnQsIHJ0bCkge1xuICBsZXQge1xuICAgIHJlZmVyZW5jZSxcbiAgICBmbG9hdGluZ1xuICB9ID0gX3JlZjtcbiAgY29uc3Qgc2lkZUF4aXMgPSBnZXRTaWRlQXhpcyhwbGFjZW1lbnQpO1xuICBjb25zdCBhbGlnbm1lbnRBeGlzID0gZ2V0QWxpZ25tZW50QXhpcyhwbGFjZW1lbnQpO1xuICBjb25zdCBhbGlnbkxlbmd0aCA9IGdldEF4aXNMZW5ndGgoYWxpZ25tZW50QXhpcyk7XG4gIGNvbnN0IHNpZGUgPSBnZXRTaWRlKHBsYWNlbWVudCk7XG4gIGNvbnN0IGlzVmVydGljYWwgPSBzaWRlQXhpcyA9PT0gJ3knO1xuICBjb25zdCBjb21tb25YID0gcmVmZXJlbmNlLnggKyByZWZlcmVuY2Uud2lkdGggLyAyIC0gZmxvYXRpbmcud2lkdGggLyAyO1xuICBjb25zdCBjb21tb25ZID0gcmVmZXJlbmNlLnkgKyByZWZlcmVuY2UuaGVpZ2h0IC8gMiAtIGZsb2F0aW5nLmhlaWdodCAvIDI7XG4gIGNvbnN0IGNvbW1vbkFsaWduID0gcmVmZXJlbmNlW2FsaWduTGVuZ3RoXSAvIDIgLSBmbG9hdGluZ1thbGlnbkxlbmd0aF0gLyAyO1xuICBsZXQgY29vcmRzO1xuICBzd2l0Y2ggKHNpZGUpIHtcbiAgICBjYXNlICd0b3AnOlxuICAgICAgY29vcmRzID0ge1xuICAgICAgICB4OiBjb21tb25YLFxuICAgICAgICB5OiByZWZlcmVuY2UueSAtIGZsb2F0aW5nLmhlaWdodFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICBjb29yZHMgPSB7XG4gICAgICAgIHg6IGNvbW1vblgsXG4gICAgICAgIHk6IHJlZmVyZW5jZS55ICsgcmVmZXJlbmNlLmhlaWdodFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgeDogcmVmZXJlbmNlLnggKyByZWZlcmVuY2Uud2lkdGgsXG4gICAgICAgIHk6IGNvbW1vbllcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdsZWZ0JzpcbiAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgeDogcmVmZXJlbmNlLnggLSBmbG9hdGluZy53aWR0aCxcbiAgICAgICAgeTogY29tbW9uWVxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb29yZHMgPSB7XG4gICAgICAgIHg6IHJlZmVyZW5jZS54LFxuICAgICAgICB5OiByZWZlcmVuY2UueVxuICAgICAgfTtcbiAgfVxuICBzd2l0Y2ggKGdldEFsaWdubWVudChwbGFjZW1lbnQpKSB7XG4gICAgY2FzZSAnc3RhcnQnOlxuICAgICAgY29vcmRzW2FsaWdubWVudEF4aXNdIC09IGNvbW1vbkFsaWduICogKHJ0bCAmJiBpc1ZlcnRpY2FsID8gLTEgOiAxKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2VuZCc6XG4gICAgICBjb29yZHNbYWxpZ25tZW50QXhpc10gKz0gY29tbW9uQWxpZ24gKiAocnRsICYmIGlzVmVydGljYWwgPyAtMSA6IDEpO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIGNvb3Jkcztcbn1cblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgYHhgIGFuZCBgeWAgY29vcmRpbmF0ZXMgdGhhdCB3aWxsIHBsYWNlIHRoZSBmbG9hdGluZyBlbGVtZW50XG4gKiBuZXh0IHRvIGEgZ2l2ZW4gcmVmZXJlbmNlIGVsZW1lbnQuXG4gKlxuICogVGhpcyBleHBvcnQgZG9lcyBub3QgaGF2ZSBhbnkgYHBsYXRmb3JtYCBpbnRlcmZhY2UgbG9naWMuIFlvdSB3aWxsIG5lZWQgdG9cbiAqIHdyaXRlIG9uZSBmb3IgdGhlIHBsYXRmb3JtIHlvdSBhcmUgdXNpbmcgRmxvYXRpbmcgVUkgd2l0aC5cbiAqL1xuY29uc3QgY29tcHV0ZVBvc2l0aW9uID0gYXN5bmMgKHJlZmVyZW5jZSwgZmxvYXRpbmcsIGNvbmZpZykgPT4ge1xuICBjb25zdCB7XG4gICAgcGxhY2VtZW50ID0gJ2JvdHRvbScsXG4gICAgc3RyYXRlZ3kgPSAnYWJzb2x1dGUnLFxuICAgIG1pZGRsZXdhcmUgPSBbXSxcbiAgICBwbGF0Zm9ybVxuICB9ID0gY29uZmlnO1xuICBjb25zdCB2YWxpZE1pZGRsZXdhcmUgPSBtaWRkbGV3YXJlLmZpbHRlcihCb29sZWFuKTtcbiAgY29uc3QgcnRsID0gYXdhaXQgKHBsYXRmb3JtLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc1JUTChmbG9hdGluZykpO1xuICBsZXQgcmVjdHMgPSBhd2FpdCBwbGF0Zm9ybS5nZXRFbGVtZW50UmVjdHMoe1xuICAgIHJlZmVyZW5jZSxcbiAgICBmbG9hdGluZyxcbiAgICBzdHJhdGVneVxuICB9KTtcbiAgbGV0IHtcbiAgICB4LFxuICAgIHlcbiAgfSA9IGNvbXB1dGVDb29yZHNGcm9tUGxhY2VtZW50KHJlY3RzLCBwbGFjZW1lbnQsIHJ0bCk7XG4gIGxldCBzdGF0ZWZ1bFBsYWNlbWVudCA9IHBsYWNlbWVudDtcbiAgbGV0IG1pZGRsZXdhcmVEYXRhID0ge307XG4gIGxldCByZXNldENvdW50ID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWxpZE1pZGRsZXdhcmUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB7XG4gICAgICBuYW1lLFxuICAgICAgZm5cbiAgICB9ID0gdmFsaWRNaWRkbGV3YXJlW2ldO1xuICAgIGNvbnN0IHtcbiAgICAgIHg6IG5leHRYLFxuICAgICAgeTogbmV4dFksXG4gICAgICBkYXRhLFxuICAgICAgcmVzZXRcbiAgICB9ID0gYXdhaXQgZm4oe1xuICAgICAgeCxcbiAgICAgIHksXG4gICAgICBpbml0aWFsUGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICBwbGFjZW1lbnQ6IHN0YXRlZnVsUGxhY2VtZW50LFxuICAgICAgc3RyYXRlZ3ksXG4gICAgICBtaWRkbGV3YXJlRGF0YSxcbiAgICAgIHJlY3RzLFxuICAgICAgcGxhdGZvcm0sXG4gICAgICBlbGVtZW50czoge1xuICAgICAgICByZWZlcmVuY2UsXG4gICAgICAgIGZsb2F0aW5nXG4gICAgICB9XG4gICAgfSk7XG4gICAgeCA9IG5leHRYICE9IG51bGwgPyBuZXh0WCA6IHg7XG4gICAgeSA9IG5leHRZICE9IG51bGwgPyBuZXh0WSA6IHk7XG4gICAgbWlkZGxld2FyZURhdGEgPSB7XG4gICAgICAuLi5taWRkbGV3YXJlRGF0YSxcbiAgICAgIFtuYW1lXToge1xuICAgICAgICAuLi5taWRkbGV3YXJlRGF0YVtuYW1lXSxcbiAgICAgICAgLi4uZGF0YVxuICAgICAgfVxuICAgIH07XG4gICAgaWYgKHJlc2V0ICYmIHJlc2V0Q291bnQgPD0gNTApIHtcbiAgICAgIHJlc2V0Q291bnQrKztcbiAgICAgIGlmICh0eXBlb2YgcmVzZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChyZXNldC5wbGFjZW1lbnQpIHtcbiAgICAgICAgICBzdGF0ZWZ1bFBsYWNlbWVudCA9IHJlc2V0LnBsYWNlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzZXQucmVjdHMpIHtcbiAgICAgICAgICByZWN0cyA9IHJlc2V0LnJlY3RzID09PSB0cnVlID8gYXdhaXQgcGxhdGZvcm0uZ2V0RWxlbWVudFJlY3RzKHtcbiAgICAgICAgICAgIHJlZmVyZW5jZSxcbiAgICAgICAgICAgIGZsb2F0aW5nLFxuICAgICAgICAgICAgc3RyYXRlZ3lcbiAgICAgICAgICB9KSA6IHJlc2V0LnJlY3RzO1xuICAgICAgICB9XG4gICAgICAgICh7XG4gICAgICAgICAgeCxcbiAgICAgICAgICB5XG4gICAgICAgIH0gPSBjb21wdXRlQ29vcmRzRnJvbVBsYWNlbWVudChyZWN0cywgc3RhdGVmdWxQbGFjZW1lbnQsIHJ0bCkpO1xuICAgICAgfVxuICAgICAgaSA9IC0xO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIHgsXG4gICAgeSxcbiAgICBwbGFjZW1lbnQ6IHN0YXRlZnVsUGxhY2VtZW50LFxuICAgIHN0cmF0ZWd5LFxuICAgIG1pZGRsZXdhcmVEYXRhXG4gIH07XG59O1xuXG4vKipcbiAqIFJlc29sdmVzIHdpdGggYW4gb2JqZWN0IG9mIG92ZXJmbG93IHNpZGUgb2Zmc2V0cyB0aGF0IGRldGVybWluZSBob3cgbXVjaCB0aGVcbiAqIGVsZW1lbnQgaXMgb3ZlcmZsb3dpbmcgYSBnaXZlbiBjbGlwcGluZyBib3VuZGFyeSBvbiBlYWNoIHNpZGUuXG4gKiAtIHBvc2l0aXZlID0gb3ZlcmZsb3dpbmcgdGhlIGJvdW5kYXJ5IGJ5IHRoYXQgbnVtYmVyIG9mIHBpeGVsc1xuICogLSBuZWdhdGl2ZSA9IGhvdyBtYW55IHBpeGVscyBsZWZ0IGJlZm9yZSBpdCB3aWxsIG92ZXJmbG93XG4gKiAtIDAgPSBsaWVzIGZsdXNoIHdpdGggdGhlIGJvdW5kYXJ5XG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvZGV0ZWN0T3ZlcmZsb3dcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIG9wdGlvbnMpIHtcbiAgdmFyIF9hd2FpdCRwbGF0Zm9ybSRpc0VsZTtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICBjb25zdCB7XG4gICAgeCxcbiAgICB5LFxuICAgIHBsYXRmb3JtLFxuICAgIHJlY3RzLFxuICAgIGVsZW1lbnRzLFxuICAgIHN0cmF0ZWd5XG4gIH0gPSBzdGF0ZTtcbiAgY29uc3Qge1xuICAgIGJvdW5kYXJ5ID0gJ2NsaXBwaW5nQW5jZXN0b3JzJyxcbiAgICByb290Qm91bmRhcnkgPSAndmlld3BvcnQnLFxuICAgIGVsZW1lbnRDb250ZXh0ID0gJ2Zsb2F0aW5nJyxcbiAgICBhbHRCb3VuZGFyeSA9IGZhbHNlLFxuICAgIHBhZGRpbmcgPSAwXG4gIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gIGNvbnN0IHBhZGRpbmdPYmplY3QgPSBnZXRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpO1xuICBjb25zdCBhbHRDb250ZXh0ID0gZWxlbWVudENvbnRleHQgPT09ICdmbG9hdGluZycgPyAncmVmZXJlbmNlJyA6ICdmbG9hdGluZyc7XG4gIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1thbHRCb3VuZGFyeSA/IGFsdENvbnRleHQgOiBlbGVtZW50Q29udGV4dF07XG4gIGNvbnN0IGNsaXBwaW5nQ2xpZW50UmVjdCA9IHJlY3RUb0NsaWVudFJlY3QoYXdhaXQgcGxhdGZvcm0uZ2V0Q2xpcHBpbmdSZWN0KHtcbiAgICBlbGVtZW50OiAoKF9hd2FpdCRwbGF0Zm9ybSRpc0VsZSA9IGF3YWl0IChwbGF0Zm9ybS5pc0VsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzRWxlbWVudChlbGVtZW50KSkpICE9IG51bGwgPyBfYXdhaXQkcGxhdGZvcm0kaXNFbGUgOiB0cnVlKSA/IGVsZW1lbnQgOiBlbGVtZW50LmNvbnRleHRFbGVtZW50IHx8IChhd2FpdCAocGxhdGZvcm0uZ2V0RG9jdW1lbnRFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5nZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudHMuZmxvYXRpbmcpKSksXG4gICAgYm91bmRhcnksXG4gICAgcm9vdEJvdW5kYXJ5LFxuICAgIHN0cmF0ZWd5XG4gIH0pKTtcbiAgY29uc3QgcmVjdCA9IGVsZW1lbnRDb250ZXh0ID09PSAnZmxvYXRpbmcnID8ge1xuICAgIHgsXG4gICAgeSxcbiAgICB3aWR0aDogcmVjdHMuZmxvYXRpbmcud2lkdGgsXG4gICAgaGVpZ2h0OiByZWN0cy5mbG9hdGluZy5oZWlnaHRcbiAgfSA6IHJlY3RzLnJlZmVyZW5jZTtcbiAgY29uc3Qgb2Zmc2V0UGFyZW50ID0gYXdhaXQgKHBsYXRmb3JtLmdldE9mZnNldFBhcmVudCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnRzLmZsb2F0aW5nKSk7XG4gIGNvbnN0IG9mZnNldFNjYWxlID0gKGF3YWl0IChwbGF0Zm9ybS5pc0VsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzRWxlbWVudChvZmZzZXRQYXJlbnQpKSkgPyAoYXdhaXQgKHBsYXRmb3JtLmdldFNjYWxlID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5nZXRTY2FsZShvZmZzZXRQYXJlbnQpKSkgfHwge1xuICAgIHg6IDEsXG4gICAgeTogMVxuICB9IDoge1xuICAgIHg6IDEsXG4gICAgeTogMVxuICB9O1xuICBjb25zdCBlbGVtZW50Q2xpZW50UmVjdCA9IHJlY3RUb0NsaWVudFJlY3QocGxhdGZvcm0uY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3QgPyBhd2FpdCBwbGF0Zm9ybS5jb252ZXJ0T2Zmc2V0UGFyZW50UmVsYXRpdmVSZWN0VG9WaWV3cG9ydFJlbGF0aXZlUmVjdCh7XG4gICAgZWxlbWVudHMsXG4gICAgcmVjdCxcbiAgICBvZmZzZXRQYXJlbnQsXG4gICAgc3RyYXRlZ3lcbiAgfSkgOiByZWN0KTtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IChjbGlwcGluZ0NsaWVudFJlY3QudG9wIC0gZWxlbWVudENsaWVudFJlY3QudG9wICsgcGFkZGluZ09iamVjdC50b3ApIC8gb2Zmc2V0U2NhbGUueSxcbiAgICBib3R0b206IChlbGVtZW50Q2xpZW50UmVjdC5ib3R0b20gLSBjbGlwcGluZ0NsaWVudFJlY3QuYm90dG9tICsgcGFkZGluZ09iamVjdC5ib3R0b20pIC8gb2Zmc2V0U2NhbGUueSxcbiAgICBsZWZ0OiAoY2xpcHBpbmdDbGllbnRSZWN0LmxlZnQgLSBlbGVtZW50Q2xpZW50UmVjdC5sZWZ0ICsgcGFkZGluZ09iamVjdC5sZWZ0KSAvIG9mZnNldFNjYWxlLngsXG4gICAgcmlnaHQ6IChlbGVtZW50Q2xpZW50UmVjdC5yaWdodCAtIGNsaXBwaW5nQ2xpZW50UmVjdC5yaWdodCArIHBhZGRpbmdPYmplY3QucmlnaHQpIC8gb2Zmc2V0U2NhbGUueFxuICB9O1xufVxuXG4vKipcbiAqIFByb3ZpZGVzIGRhdGEgdG8gcG9zaXRpb24gYW4gaW5uZXIgZWxlbWVudCBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBzbyB0aGF0IGl0XG4gKiBhcHBlYXJzIGNlbnRlcmVkIHRvIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9hcnJvd1xuICovXG5jb25zdCBhcnJvdyA9IG9wdGlvbnMgPT4gKHtcbiAgbmFtZTogJ2Fycm93JyxcbiAgb3B0aW9ucyxcbiAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICBjb25zdCB7XG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIHBsYWNlbWVudCxcbiAgICAgIHJlY3RzLFxuICAgICAgcGxhdGZvcm0sXG4gICAgICBlbGVtZW50cyxcbiAgICAgIG1pZGRsZXdhcmVEYXRhXG4gICAgfSA9IHN0YXRlO1xuICAgIC8vIFNpbmNlIGBlbGVtZW50YCBpcyByZXF1aXJlZCwgd2UgZG9uJ3QgUGFydGlhbDw+IHRoZSB0eXBlLlxuICAgIGNvbnN0IHtcbiAgICAgIGVsZW1lbnQsXG4gICAgICBwYWRkaW5nID0gMFxuICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSkgfHwge307XG4gICAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjb25zdCBwYWRkaW5nT2JqZWN0ID0gZ2V0UGFkZGluZ09iamVjdChwYWRkaW5nKTtcbiAgICBjb25zdCBjb29yZHMgPSB7XG4gICAgICB4LFxuICAgICAgeVxuICAgIH07XG4gICAgY29uc3QgYXhpcyA9IGdldEFsaWdubWVudEF4aXMocGxhY2VtZW50KTtcbiAgICBjb25zdCBsZW5ndGggPSBnZXRBeGlzTGVuZ3RoKGF4aXMpO1xuICAgIGNvbnN0IGFycm93RGltZW5zaW9ucyA9IGF3YWl0IHBsYXRmb3JtLmdldERpbWVuc2lvbnMoZWxlbWVudCk7XG4gICAgY29uc3QgaXNZQXhpcyA9IGF4aXMgPT09ICd5JztcbiAgICBjb25zdCBtaW5Qcm9wID0gaXNZQXhpcyA/ICd0b3AnIDogJ2xlZnQnO1xuICAgIGNvbnN0IG1heFByb3AgPSBpc1lBeGlzID8gJ2JvdHRvbScgOiAncmlnaHQnO1xuICAgIGNvbnN0IGNsaWVudFByb3AgPSBpc1lBeGlzID8gJ2NsaWVudEhlaWdodCcgOiAnY2xpZW50V2lkdGgnO1xuICAgIGNvbnN0IGVuZERpZmYgPSByZWN0cy5yZWZlcmVuY2VbbGVuZ3RoXSArIHJlY3RzLnJlZmVyZW5jZVtheGlzXSAtIGNvb3Jkc1theGlzXSAtIHJlY3RzLmZsb2F0aW5nW2xlbmd0aF07XG4gICAgY29uc3Qgc3RhcnREaWZmID0gY29vcmRzW2F4aXNdIC0gcmVjdHMucmVmZXJlbmNlW2F4aXNdO1xuICAgIGNvbnN0IGFycm93T2Zmc2V0UGFyZW50ID0gYXdhaXQgKHBsYXRmb3JtLmdldE9mZnNldFBhcmVudCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQpKTtcbiAgICBsZXQgY2xpZW50U2l6ZSA9IGFycm93T2Zmc2V0UGFyZW50ID8gYXJyb3dPZmZzZXRQYXJlbnRbY2xpZW50UHJvcF0gOiAwO1xuXG4gICAgLy8gRE9NIHBsYXRmb3JtIGNhbiByZXR1cm4gYHdpbmRvd2AgYXMgdGhlIGBvZmZzZXRQYXJlbnRgLlxuICAgIGlmICghY2xpZW50U2l6ZSB8fCAhKGF3YWl0IChwbGF0Zm9ybS5pc0VsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzRWxlbWVudChhcnJvd09mZnNldFBhcmVudCkpKSkge1xuICAgICAgY2xpZW50U2l6ZSA9IGVsZW1lbnRzLmZsb2F0aW5nW2NsaWVudFByb3BdIHx8IHJlY3RzLmZsb2F0aW5nW2xlbmd0aF07XG4gICAgfVxuICAgIGNvbnN0IGNlbnRlclRvUmVmZXJlbmNlID0gZW5kRGlmZiAvIDIgLSBzdGFydERpZmYgLyAyO1xuXG4gICAgLy8gSWYgdGhlIHBhZGRpbmcgaXMgbGFyZ2UgZW5vdWdoIHRoYXQgaXQgY2F1c2VzIHRoZSBhcnJvdyB0byBubyBsb25nZXIgYmVcbiAgICAvLyBjZW50ZXJlZCwgbW9kaWZ5IHRoZSBwYWRkaW5nIHNvIHRoYXQgaXQgaXMgY2VudGVyZWQuXG4gICAgY29uc3QgbGFyZ2VzdFBvc3NpYmxlUGFkZGluZyA9IGNsaWVudFNpemUgLyAyIC0gYXJyb3dEaW1lbnNpb25zW2xlbmd0aF0gLyAyIC0gMTtcbiAgICBjb25zdCBtaW5QYWRkaW5nID0gbWluKHBhZGRpbmdPYmplY3RbbWluUHJvcF0sIGxhcmdlc3RQb3NzaWJsZVBhZGRpbmcpO1xuICAgIGNvbnN0IG1heFBhZGRpbmcgPSBtaW4ocGFkZGluZ09iamVjdFttYXhQcm9wXSwgbGFyZ2VzdFBvc3NpYmxlUGFkZGluZyk7XG5cbiAgICAvLyBNYWtlIHN1cmUgdGhlIGFycm93IGRvZXNuJ3Qgb3ZlcmZsb3cgdGhlIGZsb2F0aW5nIGVsZW1lbnQgaWYgdGhlIGNlbnRlclxuICAgIC8vIHBvaW50IGlzIG91dHNpZGUgdGhlIGZsb2F0aW5nIGVsZW1lbnQncyBib3VuZHMuXG4gICAgY29uc3QgbWluJDEgPSBtaW5QYWRkaW5nO1xuICAgIGNvbnN0IG1heCA9IGNsaWVudFNpemUgLSBhcnJvd0RpbWVuc2lvbnNbbGVuZ3RoXSAtIG1heFBhZGRpbmc7XG4gICAgY29uc3QgY2VudGVyID0gY2xpZW50U2l6ZSAvIDIgLSBhcnJvd0RpbWVuc2lvbnNbbGVuZ3RoXSAvIDIgKyBjZW50ZXJUb1JlZmVyZW5jZTtcbiAgICBjb25zdCBvZmZzZXQgPSBjbGFtcChtaW4kMSwgY2VudGVyLCBtYXgpO1xuXG4gICAgLy8gSWYgdGhlIHJlZmVyZW5jZSBpcyBzbWFsbCBlbm91Z2ggdGhhdCB0aGUgYXJyb3cncyBwYWRkaW5nIGNhdXNlcyBpdCB0b1xuICAgIC8vIHRvIHBvaW50IHRvIG5vdGhpbmcgZm9yIGFuIGFsaWduZWQgcGxhY2VtZW50LCBhZGp1c3QgdGhlIG9mZnNldCBvZiB0aGVcbiAgICAvLyBmbG9hdGluZyBlbGVtZW50IGl0c2VsZi4gVG8gZW5zdXJlIGBzaGlmdCgpYCBjb250aW51ZXMgdG8gdGFrZSBhY3Rpb24sXG4gICAgLy8gYSBzaW5nbGUgcmVzZXQgaXMgcGVyZm9ybWVkIHdoZW4gdGhpcyBpcyB0cnVlLlxuICAgIGNvbnN0IHNob3VsZEFkZE9mZnNldCA9ICFtaWRkbGV3YXJlRGF0YS5hcnJvdyAmJiBnZXRBbGlnbm1lbnQocGxhY2VtZW50KSAhPSBudWxsICYmIGNlbnRlciAhPT0gb2Zmc2V0ICYmIHJlY3RzLnJlZmVyZW5jZVtsZW5ndGhdIC8gMiAtIChjZW50ZXIgPCBtaW4kMSA/IG1pblBhZGRpbmcgOiBtYXhQYWRkaW5nKSAtIGFycm93RGltZW5zaW9uc1tsZW5ndGhdIC8gMiA8IDA7XG4gICAgY29uc3QgYWxpZ25tZW50T2Zmc2V0ID0gc2hvdWxkQWRkT2Zmc2V0ID8gY2VudGVyIDwgbWluJDEgPyBjZW50ZXIgLSBtaW4kMSA6IGNlbnRlciAtIG1heCA6IDA7XG4gICAgcmV0dXJuIHtcbiAgICAgIFtheGlzXTogY29vcmRzW2F4aXNdICsgYWxpZ25tZW50T2Zmc2V0LFxuICAgICAgZGF0YToge1xuICAgICAgICBbYXhpc106IG9mZnNldCxcbiAgICAgICAgY2VudGVyT2Zmc2V0OiBjZW50ZXIgLSBvZmZzZXQgLSBhbGlnbm1lbnRPZmZzZXQsXG4gICAgICAgIC4uLihzaG91bGRBZGRPZmZzZXQgJiYge1xuICAgICAgICAgIGFsaWdubWVudE9mZnNldFxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHJlc2V0OiBzaG91bGRBZGRPZmZzZXRcbiAgICB9O1xuICB9XG59KTtcblxuZnVuY3Rpb24gZ2V0UGxhY2VtZW50TGlzdChhbGlnbm1lbnQsIGF1dG9BbGlnbm1lbnQsIGFsbG93ZWRQbGFjZW1lbnRzKSB7XG4gIGNvbnN0IGFsbG93ZWRQbGFjZW1lbnRzU29ydGVkQnlBbGlnbm1lbnQgPSBhbGlnbm1lbnQgPyBbLi4uYWxsb3dlZFBsYWNlbWVudHMuZmlsdGVyKHBsYWNlbWVudCA9PiBnZXRBbGlnbm1lbnQocGxhY2VtZW50KSA9PT0gYWxpZ25tZW50KSwgLi4uYWxsb3dlZFBsYWNlbWVudHMuZmlsdGVyKHBsYWNlbWVudCA9PiBnZXRBbGlnbm1lbnQocGxhY2VtZW50KSAhPT0gYWxpZ25tZW50KV0gOiBhbGxvd2VkUGxhY2VtZW50cy5maWx0ZXIocGxhY2VtZW50ID0+IGdldFNpZGUocGxhY2VtZW50KSA9PT0gcGxhY2VtZW50KTtcbiAgcmV0dXJuIGFsbG93ZWRQbGFjZW1lbnRzU29ydGVkQnlBbGlnbm1lbnQuZmlsdGVyKHBsYWNlbWVudCA9PiB7XG4gICAgaWYgKGFsaWdubWVudCkge1xuICAgICAgcmV0dXJuIGdldEFsaWdubWVudChwbGFjZW1lbnQpID09PSBhbGlnbm1lbnQgfHwgKGF1dG9BbGlnbm1lbnQgPyBnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudChwbGFjZW1lbnQpICE9PSBwbGFjZW1lbnQgOiBmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbn1cbi8qKlxuICogT3B0aW1pemVzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IGJ5IGNob29zaW5nIHRoZSBwbGFjZW1lbnRcbiAqIHRoYXQgaGFzIHRoZSBtb3N0IHNwYWNlIGF2YWlsYWJsZSBhdXRvbWF0aWNhbGx5LCB3aXRob3V0IG5lZWRpbmcgdG8gc3BlY2lmeSBhXG4gKiBwcmVmZXJyZWQgcGxhY2VtZW50LiBBbHRlcm5hdGl2ZSB0byBgZmxpcGAuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvYXV0b1BsYWNlbWVudFxuICovXG5jb25zdCBhdXRvUGxhY2VtZW50ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdhdXRvUGxhY2VtZW50JyxcbiAgICBvcHRpb25zLFxuICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICB2YXIgX21pZGRsZXdhcmVEYXRhJGF1dG9QLCBfbWlkZGxld2FyZURhdGEkYXV0b1AyLCBfcGxhY2VtZW50c1RoYXRGaXRPbkU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHJlY3RzLFxuICAgICAgICBtaWRkbGV3YXJlRGF0YSxcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBwbGF0Zm9ybSxcbiAgICAgICAgZWxlbWVudHNcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgY3Jvc3NBeGlzID0gZmFsc2UsXG4gICAgICAgIGFsaWdubWVudCxcbiAgICAgICAgYWxsb3dlZFBsYWNlbWVudHMgPSBwbGFjZW1lbnRzLFxuICAgICAgICBhdXRvQWxpZ25tZW50ID0gdHJ1ZSxcbiAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zXG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICAgICAgY29uc3QgcGxhY2VtZW50cyQxID0gYWxpZ25tZW50ICE9PSB1bmRlZmluZWQgfHwgYWxsb3dlZFBsYWNlbWVudHMgPT09IHBsYWNlbWVudHMgPyBnZXRQbGFjZW1lbnRMaXN0KGFsaWdubWVudCB8fCBudWxsLCBhdXRvQWxpZ25tZW50LCBhbGxvd2VkUGxhY2VtZW50cykgOiBhbGxvd2VkUGxhY2VtZW50cztcbiAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIGRldGVjdE92ZXJmbG93T3B0aW9ucyk7XG4gICAgICBjb25zdCBjdXJyZW50SW5kZXggPSAoKF9taWRkbGV3YXJlRGF0YSRhdXRvUCA9IG1pZGRsZXdhcmVEYXRhLmF1dG9QbGFjZW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkYXV0b1AuaW5kZXgpIHx8IDA7XG4gICAgICBjb25zdCBjdXJyZW50UGxhY2VtZW50ID0gcGxhY2VtZW50cyQxW2N1cnJlbnRJbmRleF07XG4gICAgICBpZiAoY3VycmVudFBsYWNlbWVudCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGFsaWdubWVudFNpZGVzID0gZ2V0QWxpZ25tZW50U2lkZXMoY3VycmVudFBsYWNlbWVudCwgcmVjdHMsIGF3YWl0IChwbGF0Zm9ybS5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uaXNSVEwoZWxlbWVudHMuZmxvYXRpbmcpKSk7XG5cbiAgICAgIC8vIE1ha2UgYGNvbXB1dGVDb29yZHNgIHN0YXJ0IGZyb20gdGhlIHJpZ2h0IHBsYWNlLlxuICAgICAgaWYgKHBsYWNlbWVudCAhPT0gY3VycmVudFBsYWNlbWVudCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudHMkMVswXVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGN1cnJlbnRPdmVyZmxvd3MgPSBbb3ZlcmZsb3dbZ2V0U2lkZShjdXJyZW50UGxhY2VtZW50KV0sIG92ZXJmbG93W2FsaWdubWVudFNpZGVzWzBdXSwgb3ZlcmZsb3dbYWxpZ25tZW50U2lkZXNbMV1dXTtcbiAgICAgIGNvbnN0IGFsbE92ZXJmbG93cyA9IFsuLi4oKChfbWlkZGxld2FyZURhdGEkYXV0b1AyID0gbWlkZGxld2FyZURhdGEuYXV0b1BsYWNlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRhdXRvUDIub3ZlcmZsb3dzKSB8fCBbXSksIHtcbiAgICAgICAgcGxhY2VtZW50OiBjdXJyZW50UGxhY2VtZW50LFxuICAgICAgICBvdmVyZmxvd3M6IGN1cnJlbnRPdmVyZmxvd3NcbiAgICAgIH1dO1xuICAgICAgY29uc3QgbmV4dFBsYWNlbWVudCA9IHBsYWNlbWVudHMkMVtjdXJyZW50SW5kZXggKyAxXTtcblxuICAgICAgLy8gVGhlcmUgYXJlIG1vcmUgcGxhY2VtZW50cyB0byBjaGVjay5cbiAgICAgIGlmIChuZXh0UGxhY2VtZW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgaW5kZXg6IGN1cnJlbnRJbmRleCArIDEsXG4gICAgICAgICAgICBvdmVyZmxvd3M6IGFsbE92ZXJmbG93c1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICAgIHBsYWNlbWVudDogbmV4dFBsYWNlbWVudFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBsYWNlbWVudHNTb3J0ZWRCeU1vc3RTcGFjZSA9IGFsbE92ZXJmbG93cy5tYXAoZCA9PiB7XG4gICAgICAgIGNvbnN0IGFsaWdubWVudCA9IGdldEFsaWdubWVudChkLnBsYWNlbWVudCk7XG4gICAgICAgIHJldHVybiBbZC5wbGFjZW1lbnQsIGFsaWdubWVudCAmJiBjcm9zc0F4aXMgP1xuICAgICAgICAvLyBDaGVjayBhbG9uZyB0aGUgbWFpbkF4aXMgYW5kIG1haW4gY3Jvc3NBeGlzIHNpZGUuXG4gICAgICAgIGQub3ZlcmZsb3dzLnNsaWNlKDAsIDIpLnJlZHVjZSgoYWNjLCB2KSA9PiBhY2MgKyB2LCAwKSA6XG4gICAgICAgIC8vIENoZWNrIG9ubHkgdGhlIG1haW5BeGlzLlxuICAgICAgICBkLm92ZXJmbG93c1swXSwgZC5vdmVyZmxvd3NdO1xuICAgICAgfSkuc29ydCgoYSwgYikgPT4gYVsxXSAtIGJbMV0pO1xuICAgICAgY29uc3QgcGxhY2VtZW50c1RoYXRGaXRPbkVhY2hTaWRlID0gcGxhY2VtZW50c1NvcnRlZEJ5TW9zdFNwYWNlLmZpbHRlcihkID0+IGRbMl0uc2xpY2UoMCxcbiAgICAgIC8vIEFsaWduZWQgcGxhY2VtZW50cyBzaG91bGQgbm90IGNoZWNrIHRoZWlyIG9wcG9zaXRlIGNyb3NzQXhpc1xuICAgICAgLy8gc2lkZS5cbiAgICAgIGdldEFsaWdubWVudChkWzBdKSA/IDIgOiAzKS5ldmVyeSh2ID0+IHYgPD0gMCkpO1xuICAgICAgY29uc3QgcmVzZXRQbGFjZW1lbnQgPSAoKF9wbGFjZW1lbnRzVGhhdEZpdE9uRSA9IHBsYWNlbWVudHNUaGF0Rml0T25FYWNoU2lkZVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9wbGFjZW1lbnRzVGhhdEZpdE9uRVswXSkgfHwgcGxhY2VtZW50c1NvcnRlZEJ5TW9zdFNwYWNlWzBdWzBdO1xuICAgICAgaWYgKHJlc2V0UGxhY2VtZW50ICE9PSBwbGFjZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBpbmRleDogY3VycmVudEluZGV4ICsgMSxcbiAgICAgICAgICAgIG92ZXJmbG93czogYWxsT3ZlcmZsb3dzXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgcGxhY2VtZW50OiByZXNldFBsYWNlbWVudFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIE9wdGltaXplcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBieSBmbGlwcGluZyB0aGUgYHBsYWNlbWVudGBcbiAqIGluIG9yZGVyIHRvIGtlZXAgaXQgaW4gdmlldyB3aGVuIHRoZSBwcmVmZXJyZWQgcGxhY2VtZW50KHMpIHdpbGwgb3ZlcmZsb3cgdGhlXG4gKiBjbGlwcGluZyBib3VuZGFyeS4gQWx0ZXJuYXRpdmUgdG8gYGF1dG9QbGFjZW1lbnRgLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2ZsaXBcbiAqL1xuY29uc3QgZmxpcCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnZmxpcCcsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgdmFyIF9taWRkbGV3YXJlRGF0YSRhcnJvdywgX21pZGRsZXdhcmVEYXRhJGZsaXA7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgbWlkZGxld2FyZURhdGEsXG4gICAgICAgIHJlY3RzLFxuICAgICAgICBpbml0aWFsUGxhY2VtZW50LFxuICAgICAgICBwbGF0Zm9ybSxcbiAgICAgICAgZWxlbWVudHNcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbWFpbkF4aXM6IGNoZWNrTWFpbkF4aXMgPSB0cnVlLFxuICAgICAgICBjcm9zc0F4aXM6IGNoZWNrQ3Jvc3NBeGlzID0gdHJ1ZSxcbiAgICAgICAgZmFsbGJhY2tQbGFjZW1lbnRzOiBzcGVjaWZpZWRGYWxsYmFja1BsYWNlbWVudHMsXG4gICAgICAgIGZhbGxiYWNrU3RyYXRlZ3kgPSAnYmVzdEZpdCcsXG4gICAgICAgIGZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24gPSAnbm9uZScsXG4gICAgICAgIGZsaXBBbGlnbm1lbnQgPSB0cnVlLFxuICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnNcbiAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG5cbiAgICAgIC8vIElmIGEgcmVzZXQgYnkgdGhlIGFycm93IHdhcyBjYXVzZWQgZHVlIHRvIGFuIGFsaWdubWVudCBvZmZzZXQgYmVpbmdcbiAgICAgIC8vIGFkZGVkLCB3ZSBzaG91bGQgc2tpcCBhbnkgbG9naWMgbm93IHNpbmNlIGBmbGlwKClgIGhhcyBhbHJlYWR5IGRvbmUgaXRzXG4gICAgICAvLyB3b3JrLlxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2Zsb2F0aW5nLXVpL2Zsb2F0aW5nLXVpL2lzc3Vlcy8yNTQ5I2lzc3VlY29tbWVudC0xNzE5NjAxNjQzXG4gICAgICBpZiAoKF9taWRkbGV3YXJlRGF0YSRhcnJvdyA9IG1pZGRsZXdhcmVEYXRhLmFycm93KSAhPSBudWxsICYmIF9taWRkbGV3YXJlRGF0YSRhcnJvdy5hbGlnbm1lbnRPZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgY29uc3Qgc2lkZSA9IGdldFNpZGUocGxhY2VtZW50KTtcbiAgICAgIGNvbnN0IGluaXRpYWxTaWRlQXhpcyA9IGdldFNpZGVBeGlzKGluaXRpYWxQbGFjZW1lbnQpO1xuICAgICAgY29uc3QgaXNCYXNlUGxhY2VtZW50ID0gZ2V0U2lkZShpbml0aWFsUGxhY2VtZW50KSA9PT0gaW5pdGlhbFBsYWNlbWVudDtcbiAgICAgIGNvbnN0IHJ0bCA9IGF3YWl0IChwbGF0Zm9ybS5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uaXNSVEwoZWxlbWVudHMuZmxvYXRpbmcpKTtcbiAgICAgIGNvbnN0IGZhbGxiYWNrUGxhY2VtZW50cyA9IHNwZWNpZmllZEZhbGxiYWNrUGxhY2VtZW50cyB8fCAoaXNCYXNlUGxhY2VtZW50IHx8ICFmbGlwQWxpZ25tZW50ID8gW2dldE9wcG9zaXRlUGxhY2VtZW50KGluaXRpYWxQbGFjZW1lbnQpXSA6IGdldEV4cGFuZGVkUGxhY2VtZW50cyhpbml0aWFsUGxhY2VtZW50KSk7XG4gICAgICBjb25zdCBoYXNGYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uID0gZmFsbGJhY2tBeGlzU2lkZURpcmVjdGlvbiAhPT0gJ25vbmUnO1xuICAgICAgaWYgKCFzcGVjaWZpZWRGYWxsYmFja1BsYWNlbWVudHMgJiYgaGFzRmFsbGJhY2tBeGlzU2lkZURpcmVjdGlvbikge1xuICAgICAgICBmYWxsYmFja1BsYWNlbWVudHMucHVzaCguLi5nZXRPcHBvc2l0ZUF4aXNQbGFjZW1lbnRzKGluaXRpYWxQbGFjZW1lbnQsIGZsaXBBbGlnbm1lbnQsIGZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24sIHJ0bCkpO1xuICAgICAgfVxuICAgICAgY29uc3QgcGxhY2VtZW50cyA9IFtpbml0aWFsUGxhY2VtZW50LCAuLi5mYWxsYmFja1BsYWNlbWVudHNdO1xuICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwgZGV0ZWN0T3ZlcmZsb3dPcHRpb25zKTtcbiAgICAgIGNvbnN0IG92ZXJmbG93cyA9IFtdO1xuICAgICAgbGV0IG92ZXJmbG93c0RhdGEgPSAoKF9taWRkbGV3YXJlRGF0YSRmbGlwID0gbWlkZGxld2FyZURhdGEuZmxpcCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRmbGlwLm92ZXJmbG93cykgfHwgW107XG4gICAgICBpZiAoY2hlY2tNYWluQXhpcykge1xuICAgICAgICBvdmVyZmxvd3MucHVzaChvdmVyZmxvd1tzaWRlXSk7XG4gICAgICB9XG4gICAgICBpZiAoY2hlY2tDcm9zc0F4aXMpIHtcbiAgICAgICAgY29uc3Qgc2lkZXMgPSBnZXRBbGlnbm1lbnRTaWRlcyhwbGFjZW1lbnQsIHJlY3RzLCBydGwpO1xuICAgICAgICBvdmVyZmxvd3MucHVzaChvdmVyZmxvd1tzaWRlc1swXV0sIG92ZXJmbG93W3NpZGVzWzFdXSk7XG4gICAgICB9XG4gICAgICBvdmVyZmxvd3NEYXRhID0gWy4uLm92ZXJmbG93c0RhdGEsIHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBvdmVyZmxvd3NcbiAgICAgIH1dO1xuXG4gICAgICAvLyBPbmUgb3IgbW9yZSBzaWRlcyBpcyBvdmVyZmxvd2luZy5cbiAgICAgIGlmICghb3ZlcmZsb3dzLmV2ZXJ5KHNpZGUgPT4gc2lkZSA8PSAwKSkge1xuICAgICAgICB2YXIgX21pZGRsZXdhcmVEYXRhJGZsaXAyLCBfb3ZlcmZsb3dzRGF0YSRmaWx0ZXI7XG4gICAgICAgIGNvbnN0IG5leHRJbmRleCA9ICgoKF9taWRkbGV3YXJlRGF0YSRmbGlwMiA9IG1pZGRsZXdhcmVEYXRhLmZsaXApID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkZmxpcDIuaW5kZXgpIHx8IDApICsgMTtcbiAgICAgICAgY29uc3QgbmV4dFBsYWNlbWVudCA9IHBsYWNlbWVudHNbbmV4dEluZGV4XTtcbiAgICAgICAgaWYgKG5leHRQbGFjZW1lbnQpIHtcbiAgICAgICAgICAvLyBUcnkgbmV4dCBwbGFjZW1lbnQgYW5kIHJlLXJ1biB0aGUgbGlmZWN5Y2xlLlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGluZGV4OiBuZXh0SW5kZXgsXG4gICAgICAgICAgICAgIG92ZXJmbG93czogb3ZlcmZsb3dzRGF0YVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICAgIHBsYWNlbWVudDogbmV4dFBsYWNlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaXJzdCwgZmluZCB0aGUgY2FuZGlkYXRlcyB0aGF0IGZpdCBvbiB0aGUgbWFpbkF4aXMgc2lkZSBvZiBvdmVyZmxvdyxcbiAgICAgICAgLy8gdGhlbiBmaW5kIHRoZSBwbGFjZW1lbnQgdGhhdCBmaXRzIHRoZSBiZXN0IG9uIHRoZSBtYWluIGNyb3NzQXhpcyBzaWRlLlxuICAgICAgICBsZXQgcmVzZXRQbGFjZW1lbnQgPSAoX292ZXJmbG93c0RhdGEkZmlsdGVyID0gb3ZlcmZsb3dzRGF0YS5maWx0ZXIoZCA9PiBkLm92ZXJmbG93c1swXSA8PSAwKS5zb3J0KChhLCBiKSA9PiBhLm92ZXJmbG93c1sxXSAtIGIub3ZlcmZsb3dzWzFdKVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9vdmVyZmxvd3NEYXRhJGZpbHRlci5wbGFjZW1lbnQ7XG5cbiAgICAgICAgLy8gT3RoZXJ3aXNlIGZhbGxiYWNrLlxuICAgICAgICBpZiAoIXJlc2V0UGxhY2VtZW50KSB7XG4gICAgICAgICAgc3dpdGNoIChmYWxsYmFja1N0cmF0ZWd5KSB7XG4gICAgICAgICAgICBjYXNlICdiZXN0Rml0JzpcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBfb3ZlcmZsb3dzRGF0YSRmaWx0ZXIyO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlbWVudCA9IChfb3ZlcmZsb3dzRGF0YSRmaWx0ZXIyID0gb3ZlcmZsb3dzRGF0YS5maWx0ZXIoZCA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoaGFzRmFsbGJhY2tBeGlzU2lkZURpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2lkZUF4aXMgPSBnZXRTaWRlQXhpcyhkLnBsYWNlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50U2lkZUF4aXMgPT09IGluaXRpYWxTaWRlQXhpcyB8fFxuICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBiaWFzIHRvIHRoZSBgeWAgc2lkZSBheGlzIGR1ZSB0byBob3Jpem9udGFsXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlYWRpbmcgZGlyZWN0aW9ucyBmYXZvcmluZyBncmVhdGVyIHdpZHRoLlxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2lkZUF4aXMgPT09ICd5JztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0pLm1hcChkID0+IFtkLnBsYWNlbWVudCwgZC5vdmVyZmxvd3MuZmlsdGVyKG92ZXJmbG93ID0+IG92ZXJmbG93ID4gMCkucmVkdWNlKChhY2MsIG92ZXJmbG93KSA9PiBhY2MgKyBvdmVyZmxvdywgMCldKS5zb3J0KChhLCBiKSA9PiBhWzFdIC0gYlsxXSlbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfb3ZlcmZsb3dzRGF0YSRmaWx0ZXIyWzBdO1xuICAgICAgICAgICAgICAgIGlmIChwbGFjZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgIHJlc2V0UGxhY2VtZW50ID0gcGxhY2VtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnaW5pdGlhbFBsYWNlbWVudCc6XG4gICAgICAgICAgICAgIHJlc2V0UGxhY2VtZW50ID0gaW5pdGlhbFBsYWNlbWVudDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwbGFjZW1lbnQgIT09IHJlc2V0UGxhY2VtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICAgIHBsYWNlbWVudDogcmVzZXRQbGFjZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9O1xufTtcblxuZnVuY3Rpb24gZ2V0U2lkZU9mZnNldHMob3ZlcmZsb3csIHJlY3QpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IG92ZXJmbG93LnRvcCAtIHJlY3QuaGVpZ2h0LFxuICAgIHJpZ2h0OiBvdmVyZmxvdy5yaWdodCAtIHJlY3Qud2lkdGgsXG4gICAgYm90dG9tOiBvdmVyZmxvdy5ib3R0b20gLSByZWN0LmhlaWdodCxcbiAgICBsZWZ0OiBvdmVyZmxvdy5sZWZ0IC0gcmVjdC53aWR0aFxuICB9O1xufVxuZnVuY3Rpb24gaXNBbnlTaWRlRnVsbHlDbGlwcGVkKG92ZXJmbG93KSB7XG4gIHJldHVybiBzaWRlcy5zb21lKHNpZGUgPT4gb3ZlcmZsb3dbc2lkZV0gPj0gMCk7XG59XG4vKipcbiAqIFByb3ZpZGVzIGRhdGEgdG8gaGlkZSB0aGUgZmxvYXRpbmcgZWxlbWVudCBpbiBhcHBsaWNhYmxlIHNpdHVhdGlvbnMsIHN1Y2ggYXNcbiAqIHdoZW4gaXQgaXMgbm90IGluIHRoZSBzYW1lIGNsaXBwaW5nIGNvbnRleHQgYXMgdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2hpZGVcbiAqL1xuY29uc3QgaGlkZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnaGlkZScsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICByZWN0c1xuICAgICAgfSA9IHN0YXRlO1xuICAgICAgY29uc3Qge1xuICAgICAgICBzdHJhdGVneSA9ICdyZWZlcmVuY2VIaWRkZW4nLFxuICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnNcbiAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gICAgICBzd2l0Y2ggKHN0cmF0ZWd5KSB7XG4gICAgICAgIGNhc2UgJ3JlZmVyZW5jZUhpZGRlbic6XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwge1xuICAgICAgICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnMsXG4gICAgICAgICAgICAgIGVsZW1lbnRDb250ZXh0OiAncmVmZXJlbmNlJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXRzID0gZ2V0U2lkZU9mZnNldHMob3ZlcmZsb3csIHJlY3RzLnJlZmVyZW5jZSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlSGlkZGVuT2Zmc2V0czogb2Zmc2V0cyxcbiAgICAgICAgICAgICAgICByZWZlcmVuY2VIaWRkZW46IGlzQW55U2lkZUZ1bGx5Q2xpcHBlZChvZmZzZXRzKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnZXNjYXBlZCc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwge1xuICAgICAgICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnMsXG4gICAgICAgICAgICAgIGFsdEJvdW5kYXJ5OiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldHMgPSBnZXRTaWRlT2Zmc2V0cyhvdmVyZmxvdywgcmVjdHMuZmxvYXRpbmcpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGVzY2FwZWRPZmZzZXRzOiBvZmZzZXRzLFxuICAgICAgICAgICAgICAgIGVzY2FwZWQ6IGlzQW55U2lkZUZ1bGx5Q2xpcHBlZChvZmZzZXRzKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGdldEJvdW5kaW5nUmVjdChyZWN0cykge1xuICBjb25zdCBtaW5YID0gbWluKC4uLnJlY3RzLm1hcChyZWN0ID0+IHJlY3QubGVmdCkpO1xuICBjb25zdCBtaW5ZID0gbWluKC4uLnJlY3RzLm1hcChyZWN0ID0+IHJlY3QudG9wKSk7XG4gIGNvbnN0IG1heFggPSBtYXgoLi4ucmVjdHMubWFwKHJlY3QgPT4gcmVjdC5yaWdodCkpO1xuICBjb25zdCBtYXhZID0gbWF4KC4uLnJlY3RzLm1hcChyZWN0ID0+IHJlY3QuYm90dG9tKSk7XG4gIHJldHVybiB7XG4gICAgeDogbWluWCxcbiAgICB5OiBtaW5ZLFxuICAgIHdpZHRoOiBtYXhYIC0gbWluWCxcbiAgICBoZWlnaHQ6IG1heFkgLSBtaW5ZXG4gIH07XG59XG5mdW5jdGlvbiBnZXRSZWN0c0J5TGluZShyZWN0cykge1xuICBjb25zdCBzb3J0ZWRSZWN0cyA9IHJlY3RzLnNsaWNlKCkuc29ydCgoYSwgYikgPT4gYS55IC0gYi55KTtcbiAgY29uc3QgZ3JvdXBzID0gW107XG4gIGxldCBwcmV2UmVjdCA9IG51bGw7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc29ydGVkUmVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCByZWN0ID0gc29ydGVkUmVjdHNbaV07XG4gICAgaWYgKCFwcmV2UmVjdCB8fCByZWN0LnkgLSBwcmV2UmVjdC55ID4gcHJldlJlY3QuaGVpZ2h0IC8gMikge1xuICAgICAgZ3JvdXBzLnB1c2goW3JlY3RdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ3JvdXBzW2dyb3Vwcy5sZW5ndGggLSAxXS5wdXNoKHJlY3QpO1xuICAgIH1cbiAgICBwcmV2UmVjdCA9IHJlY3Q7XG4gIH1cbiAgcmV0dXJuIGdyb3Vwcy5tYXAocmVjdCA9PiByZWN0VG9DbGllbnRSZWN0KGdldEJvdW5kaW5nUmVjdChyZWN0KSkpO1xufVxuLyoqXG4gKiBQcm92aWRlcyBpbXByb3ZlZCBwb3NpdGlvbmluZyBmb3IgaW5saW5lIHJlZmVyZW5jZSBlbGVtZW50cyB0aGF0IGNhbiBzcGFuXG4gKiBvdmVyIG11bHRpcGxlIGxpbmVzLCBzdWNoIGFzIGh5cGVybGlua3Mgb3IgcmFuZ2Ugc2VsZWN0aW9ucy5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9pbmxpbmVcbiAqL1xuY29uc3QgaW5saW5lID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdpbmxpbmUnLFxuICAgIG9wdGlvbnMsXG4gICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBlbGVtZW50cyxcbiAgICAgICAgcmVjdHMsXG4gICAgICAgIHBsYXRmb3JtLFxuICAgICAgICBzdHJhdGVneVxuICAgICAgfSA9IHN0YXRlO1xuICAgICAgLy8gQSBNb3VzZUV2ZW50J3MgY2xpZW50e1gsWX0gY29vcmRzIGNhbiBiZSB1cCB0byAyIHBpeGVscyBvZmYgYVxuICAgICAgLy8gQ2xpZW50UmVjdCdzIGJvdW5kcywgZGVzcGl0ZSB0aGUgZXZlbnQgbGlzdGVuZXIgYmVpbmcgdHJpZ2dlcmVkLiBBXG4gICAgICAvLyBwYWRkaW5nIG9mIDIgc2VlbXMgdG8gaGFuZGxlIHRoaXMgaXNzdWUuXG4gICAgICBjb25zdCB7XG4gICAgICAgIHBhZGRpbmcgPSAyLFxuICAgICAgICB4LFxuICAgICAgICB5XG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICAgICAgY29uc3QgbmF0aXZlQ2xpZW50UmVjdHMgPSBBcnJheS5mcm9tKChhd2FpdCAocGxhdGZvcm0uZ2V0Q2xpZW50UmVjdHMgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmdldENsaWVudFJlY3RzKGVsZW1lbnRzLnJlZmVyZW5jZSkpKSB8fCBbXSk7XG4gICAgICBjb25zdCBjbGllbnRSZWN0cyA9IGdldFJlY3RzQnlMaW5lKG5hdGl2ZUNsaWVudFJlY3RzKTtcbiAgICAgIGNvbnN0IGZhbGxiYWNrID0gcmVjdFRvQ2xpZW50UmVjdChnZXRCb3VuZGluZ1JlY3QobmF0aXZlQ2xpZW50UmVjdHMpKTtcbiAgICAgIGNvbnN0IHBhZGRpbmdPYmplY3QgPSBnZXRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpO1xuICAgICAgZnVuY3Rpb24gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkge1xuICAgICAgICAvLyBUaGVyZSBhcmUgdHdvIHJlY3RzIGFuZCB0aGV5IGFyZSBkaXNqb2luZWQuXG4gICAgICAgIGlmIChjbGllbnRSZWN0cy5sZW5ndGggPT09IDIgJiYgY2xpZW50UmVjdHNbMF0ubGVmdCA+IGNsaWVudFJlY3RzWzFdLnJpZ2h0ICYmIHggIT0gbnVsbCAmJiB5ICE9IG51bGwpIHtcbiAgICAgICAgICAvLyBGaW5kIHRoZSBmaXJzdCByZWN0IGluIHdoaWNoIHRoZSBwb2ludCBpcyBmdWxseSBpbnNpZGUuXG4gICAgICAgICAgcmV0dXJuIGNsaWVudFJlY3RzLmZpbmQocmVjdCA9PiB4ID4gcmVjdC5sZWZ0IC0gcGFkZGluZ09iamVjdC5sZWZ0ICYmIHggPCByZWN0LnJpZ2h0ICsgcGFkZGluZ09iamVjdC5yaWdodCAmJiB5ID4gcmVjdC50b3AgLSBwYWRkaW5nT2JqZWN0LnRvcCAmJiB5IDwgcmVjdC5ib3R0b20gKyBwYWRkaW5nT2JqZWN0LmJvdHRvbSkgfHwgZmFsbGJhY2s7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGVyZSBhcmUgMiBvciBtb3JlIGNvbm5lY3RlZCByZWN0cy5cbiAgICAgICAgaWYgKGNsaWVudFJlY3RzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgaWYgKGdldFNpZGVBeGlzKHBsYWNlbWVudCkgPT09ICd5Jykge1xuICAgICAgICAgICAgY29uc3QgZmlyc3RSZWN0ID0gY2xpZW50UmVjdHNbMF07XG4gICAgICAgICAgICBjb25zdCBsYXN0UmVjdCA9IGNsaWVudFJlY3RzW2NsaWVudFJlY3RzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgY29uc3QgaXNUb3AgPSBnZXRTaWRlKHBsYWNlbWVudCkgPT09ICd0b3AnO1xuICAgICAgICAgICAgY29uc3QgdG9wID0gZmlyc3RSZWN0LnRvcDtcbiAgICAgICAgICAgIGNvbnN0IGJvdHRvbSA9IGxhc3RSZWN0LmJvdHRvbTtcbiAgICAgICAgICAgIGNvbnN0IGxlZnQgPSBpc1RvcCA/IGZpcnN0UmVjdC5sZWZ0IDogbGFzdFJlY3QubGVmdDtcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gaXNUb3AgPyBmaXJzdFJlY3QucmlnaHQgOiBsYXN0UmVjdC5yaWdodDtcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gcmlnaHQgLSBsZWZ0O1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gYm90dG9tIC0gdG9wO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdG9wLFxuICAgICAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICAgIHJpZ2h0LFxuICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICB4OiBsZWZ0LFxuICAgICAgICAgICAgICB5OiB0b3BcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGlzTGVmdFNpZGUgPSBnZXRTaWRlKHBsYWNlbWVudCkgPT09ICdsZWZ0JztcbiAgICAgICAgICBjb25zdCBtYXhSaWdodCA9IG1heCguLi5jbGllbnRSZWN0cy5tYXAocmVjdCA9PiByZWN0LnJpZ2h0KSk7XG4gICAgICAgICAgY29uc3QgbWluTGVmdCA9IG1pbiguLi5jbGllbnRSZWN0cy5tYXAocmVjdCA9PiByZWN0LmxlZnQpKTtcbiAgICAgICAgICBjb25zdCBtZWFzdXJlUmVjdHMgPSBjbGllbnRSZWN0cy5maWx0ZXIocmVjdCA9PiBpc0xlZnRTaWRlID8gcmVjdC5sZWZ0ID09PSBtaW5MZWZ0IDogcmVjdC5yaWdodCA9PT0gbWF4UmlnaHQpO1xuICAgICAgICAgIGNvbnN0IHRvcCA9IG1lYXN1cmVSZWN0c1swXS50b3A7XG4gICAgICAgICAgY29uc3QgYm90dG9tID0gbWVhc3VyZVJlY3RzW21lYXN1cmVSZWN0cy5sZW5ndGggLSAxXS5ib3R0b207XG4gICAgICAgICAgY29uc3QgbGVmdCA9IG1pbkxlZnQ7XG4gICAgICAgICAgY29uc3QgcmlnaHQgPSBtYXhSaWdodDtcbiAgICAgICAgICBjb25zdCB3aWR0aCA9IHJpZ2h0IC0gbGVmdDtcbiAgICAgICAgICBjb25zdCBoZWlnaHQgPSBib3R0b20gLSB0b3A7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIGJvdHRvbSxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICByaWdodCxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgeDogbGVmdCxcbiAgICAgICAgICAgIHk6IHRvcFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzZXRSZWN0cyA9IGF3YWl0IHBsYXRmb3JtLmdldEVsZW1lbnRSZWN0cyh7XG4gICAgICAgIHJlZmVyZW5jZToge1xuICAgICAgICAgIGdldEJvdW5kaW5nQ2xpZW50UmVjdFxuICAgICAgICB9LFxuICAgICAgICBmbG9hdGluZzogZWxlbWVudHMuZmxvYXRpbmcsXG4gICAgICAgIHN0cmF0ZWd5XG4gICAgICB9KTtcbiAgICAgIGlmIChyZWN0cy5yZWZlcmVuY2UueCAhPT0gcmVzZXRSZWN0cy5yZWZlcmVuY2UueCB8fCByZWN0cy5yZWZlcmVuY2UueSAhPT0gcmVzZXRSZWN0cy5yZWZlcmVuY2UueSB8fCByZWN0cy5yZWZlcmVuY2Uud2lkdGggIT09IHJlc2V0UmVjdHMucmVmZXJlbmNlLndpZHRoIHx8IHJlY3RzLnJlZmVyZW5jZS5oZWlnaHQgIT09IHJlc2V0UmVjdHMucmVmZXJlbmNlLmhlaWdodCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICByZWN0czogcmVzZXRSZWN0c1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH07XG59O1xuXG4vLyBGb3IgdHlwZSBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSwgdGhlIGBPZmZzZXRPcHRpb25zYCB0eXBlIHdhcyBhbHNvXG4vLyBEZXJpdmFibGUuXG5cbmFzeW5jIGZ1bmN0aW9uIGNvbnZlcnRWYWx1ZVRvQ29vcmRzKHN0YXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBwbGFjZW1lbnQsXG4gICAgcGxhdGZvcm0sXG4gICAgZWxlbWVudHNcbiAgfSA9IHN0YXRlO1xuICBjb25zdCBydGwgPSBhd2FpdCAocGxhdGZvcm0uaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzUlRMKGVsZW1lbnRzLmZsb2F0aW5nKSk7XG4gIGNvbnN0IHNpZGUgPSBnZXRTaWRlKHBsYWNlbWVudCk7XG4gIGNvbnN0IGFsaWdubWVudCA9IGdldEFsaWdubWVudChwbGFjZW1lbnQpO1xuICBjb25zdCBpc1ZlcnRpY2FsID0gZ2V0U2lkZUF4aXMocGxhY2VtZW50KSA9PT0gJ3knO1xuICBjb25zdCBtYWluQXhpc011bHRpID0gWydsZWZ0JywgJ3RvcCddLmluY2x1ZGVzKHNpZGUpID8gLTEgOiAxO1xuICBjb25zdCBjcm9zc0F4aXNNdWx0aSA9IHJ0bCAmJiBpc1ZlcnRpY2FsID8gLTEgOiAxO1xuICBjb25zdCByYXdWYWx1ZSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0XG4gIGxldCB7XG4gICAgbWFpbkF4aXMsXG4gICAgY3Jvc3NBeGlzLFxuICAgIGFsaWdubWVudEF4aXNcbiAgfSA9IHR5cGVvZiByYXdWYWx1ZSA9PT0gJ251bWJlcicgPyB7XG4gICAgbWFpbkF4aXM6IHJhd1ZhbHVlLFxuICAgIGNyb3NzQXhpczogMCxcbiAgICBhbGlnbm1lbnRBeGlzOiBudWxsXG4gIH0gOiB7XG4gICAgbWFpbkF4aXM6IDAsXG4gICAgY3Jvc3NBeGlzOiAwLFxuICAgIGFsaWdubWVudEF4aXM6IG51bGwsXG4gICAgLi4ucmF3VmFsdWVcbiAgfTtcbiAgaWYgKGFsaWdubWVudCAmJiB0eXBlb2YgYWxpZ25tZW50QXhpcyA9PT0gJ251bWJlcicpIHtcbiAgICBjcm9zc0F4aXMgPSBhbGlnbm1lbnQgPT09ICdlbmQnID8gYWxpZ25tZW50QXhpcyAqIC0xIDogYWxpZ25tZW50QXhpcztcbiAgfVxuICByZXR1cm4gaXNWZXJ0aWNhbCA/IHtcbiAgICB4OiBjcm9zc0F4aXMgKiBjcm9zc0F4aXNNdWx0aSxcbiAgICB5OiBtYWluQXhpcyAqIG1haW5BeGlzTXVsdGlcbiAgfSA6IHtcbiAgICB4OiBtYWluQXhpcyAqIG1haW5BeGlzTXVsdGksXG4gICAgeTogY3Jvc3NBeGlzICogY3Jvc3NBeGlzTXVsdGlcbiAgfTtcbn1cblxuLyoqXG4gKiBNb2RpZmllcyB0aGUgcGxhY2VtZW50IGJ5IHRyYW5zbGF0aW5nIHRoZSBmbG9hdGluZyBlbGVtZW50IGFsb25nIHRoZVxuICogc3BlY2lmaWVkIGF4ZXMuXG4gKiBBIG51bWJlciAoc2hvcnRoYW5kIGZvciBgbWFpbkF4aXNgIG9yIGRpc3RhbmNlKSwgb3IgYW4gYXhlcyBjb25maWd1cmF0aW9uXG4gKiBvYmplY3QgbWF5IGJlIHBhc3NlZC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9vZmZzZXRcbiAqL1xuY29uc3Qgb2Zmc2V0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSAwO1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogJ29mZnNldCcsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgdmFyIF9taWRkbGV3YXJlRGF0YSRvZmZzZSwgX21pZGRsZXdhcmVEYXRhJGFycm93O1xuICAgICAgY29uc3Qge1xuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIG1pZGRsZXdhcmVEYXRhXG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCBkaWZmQ29vcmRzID0gYXdhaXQgY29udmVydFZhbHVlVG9Db29yZHMoc3RhdGUsIG9wdGlvbnMpO1xuXG4gICAgICAvLyBJZiB0aGUgcGxhY2VtZW50IGlzIHRoZSBzYW1lIGFuZCB0aGUgYXJyb3cgY2F1c2VkIGFuIGFsaWdubWVudCBvZmZzZXRcbiAgICAgIC8vIHRoZW4gd2UgZG9uJ3QgbmVlZCB0byBjaGFuZ2UgdGhlIHBvc2l0aW9uaW5nIGNvb3JkaW5hdGVzLlxuICAgICAgaWYgKHBsYWNlbWVudCA9PT0gKChfbWlkZGxld2FyZURhdGEkb2Zmc2UgPSBtaWRkbGV3YXJlRGF0YS5vZmZzZXQpID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkb2Zmc2UucGxhY2VtZW50KSAmJiAoX21pZGRsZXdhcmVEYXRhJGFycm93ID0gbWlkZGxld2FyZURhdGEuYXJyb3cpICE9IG51bGwgJiYgX21pZGRsZXdhcmVEYXRhJGFycm93LmFsaWdubWVudE9mZnNldCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiB4ICsgZGlmZkNvb3Jkcy54LFxuICAgICAgICB5OiB5ICsgZGlmZkNvb3Jkcy55LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgLi4uZGlmZkNvb3JkcyxcbiAgICAgICAgICBwbGFjZW1lbnRcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIE9wdGltaXplcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBieSBzaGlmdGluZyBpdCBpbiBvcmRlciB0b1xuICoga2VlcCBpdCBpbiB2aWV3IHdoZW4gaXQgd2lsbCBvdmVyZmxvdyB0aGUgY2xpcHBpbmcgYm91bmRhcnkuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3Mvc2hpZnRcbiAqL1xuY29uc3Qgc2hpZnQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogJ3NoaWZ0JyxcbiAgICBvcHRpb25zLFxuICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIHBsYWNlbWVudFxuICAgICAgfSA9IHN0YXRlO1xuICAgICAgY29uc3Qge1xuICAgICAgICBtYWluQXhpczogY2hlY2tNYWluQXhpcyA9IHRydWUsXG4gICAgICAgIGNyb3NzQXhpczogY2hlY2tDcm9zc0F4aXMgPSBmYWxzZSxcbiAgICAgICAgbGltaXRlciA9IHtcbiAgICAgICAgICBmbjogX3JlZiA9PiB7XG4gICAgICAgICAgICBsZXQge1xuICAgICAgICAgICAgICB4LFxuICAgICAgICAgICAgICB5XG4gICAgICAgICAgICB9ID0gX3JlZjtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHgsXG4gICAgICAgICAgICAgIHlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnNcbiAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gICAgICBjb25zdCBjb29yZHMgPSB7XG4gICAgICAgIHgsXG4gICAgICAgIHlcbiAgICAgIH07XG4gICAgICBjb25zdCBvdmVyZmxvdyA9IGF3YWl0IGRldGVjdE92ZXJmbG93KHN0YXRlLCBkZXRlY3RPdmVyZmxvd09wdGlvbnMpO1xuICAgICAgY29uc3QgY3Jvc3NBeGlzID0gZ2V0U2lkZUF4aXMoZ2V0U2lkZShwbGFjZW1lbnQpKTtcbiAgICAgIGNvbnN0IG1haW5BeGlzID0gZ2V0T3Bwb3NpdGVBeGlzKGNyb3NzQXhpcyk7XG4gICAgICBsZXQgbWFpbkF4aXNDb29yZCA9IGNvb3Jkc1ttYWluQXhpc107XG4gICAgICBsZXQgY3Jvc3NBeGlzQ29vcmQgPSBjb29yZHNbY3Jvc3NBeGlzXTtcbiAgICAgIGlmIChjaGVja01haW5BeGlzKSB7XG4gICAgICAgIGNvbnN0IG1pblNpZGUgPSBtYWluQXhpcyA9PT0gJ3knID8gJ3RvcCcgOiAnbGVmdCc7XG4gICAgICAgIGNvbnN0IG1heFNpZGUgPSBtYWluQXhpcyA9PT0gJ3knID8gJ2JvdHRvbScgOiAncmlnaHQnO1xuICAgICAgICBjb25zdCBtaW4gPSBtYWluQXhpc0Nvb3JkICsgb3ZlcmZsb3dbbWluU2lkZV07XG4gICAgICAgIGNvbnN0IG1heCA9IG1haW5BeGlzQ29vcmQgLSBvdmVyZmxvd1ttYXhTaWRlXTtcbiAgICAgICAgbWFpbkF4aXNDb29yZCA9IGNsYW1wKG1pbiwgbWFpbkF4aXNDb29yZCwgbWF4KTtcbiAgICAgIH1cbiAgICAgIGlmIChjaGVja0Nyb3NzQXhpcykge1xuICAgICAgICBjb25zdCBtaW5TaWRlID0gY3Jvc3NBeGlzID09PSAneScgPyAndG9wJyA6ICdsZWZ0JztcbiAgICAgICAgY29uc3QgbWF4U2lkZSA9IGNyb3NzQXhpcyA9PT0gJ3knID8gJ2JvdHRvbScgOiAncmlnaHQnO1xuICAgICAgICBjb25zdCBtaW4gPSBjcm9zc0F4aXNDb29yZCArIG92ZXJmbG93W21pblNpZGVdO1xuICAgICAgICBjb25zdCBtYXggPSBjcm9zc0F4aXNDb29yZCAtIG92ZXJmbG93W21heFNpZGVdO1xuICAgICAgICBjcm9zc0F4aXNDb29yZCA9IGNsYW1wKG1pbiwgY3Jvc3NBeGlzQ29vcmQsIG1heCk7XG4gICAgICB9XG4gICAgICBjb25zdCBsaW1pdGVkQ29vcmRzID0gbGltaXRlci5mbih7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBbbWFpbkF4aXNdOiBtYWluQXhpc0Nvb3JkLFxuICAgICAgICBbY3Jvc3NBeGlzXTogY3Jvc3NBeGlzQ29vcmRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ubGltaXRlZENvb3JkcyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHg6IGxpbWl0ZWRDb29yZHMueCAtIHgsXG4gICAgICAgICAgeTogbGltaXRlZENvb3Jkcy55IC0geVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07XG4vKipcbiAqIEJ1aWx0LWluIGBsaW1pdGVyYCB0aGF0IHdpbGwgc3RvcCBgc2hpZnQoKWAgYXQgYSBjZXJ0YWluIHBvaW50LlxuICovXG5jb25zdCBsaW1pdFNoaWZ0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG9wdGlvbnMsXG4gICAgZm4oc3RhdGUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICByZWN0cyxcbiAgICAgICAgbWlkZGxld2FyZURhdGFcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgb2Zmc2V0ID0gMCxcbiAgICAgICAgbWFpbkF4aXM6IGNoZWNrTWFpbkF4aXMgPSB0cnVlLFxuICAgICAgICBjcm9zc0F4aXM6IGNoZWNrQ3Jvc3NBeGlzID0gdHJ1ZVxuICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgIGNvbnN0IGNvb3JkcyA9IHtcbiAgICAgICAgeCxcbiAgICAgICAgeVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGNyb3NzQXhpcyA9IGdldFNpZGVBeGlzKHBsYWNlbWVudCk7XG4gICAgICBjb25zdCBtYWluQXhpcyA9IGdldE9wcG9zaXRlQXhpcyhjcm9zc0F4aXMpO1xuICAgICAgbGV0IG1haW5BeGlzQ29vcmQgPSBjb29yZHNbbWFpbkF4aXNdO1xuICAgICAgbGV0IGNyb3NzQXhpc0Nvb3JkID0gY29vcmRzW2Nyb3NzQXhpc107XG4gICAgICBjb25zdCByYXdPZmZzZXQgPSBldmFsdWF0ZShvZmZzZXQsIHN0YXRlKTtcbiAgICAgIGNvbnN0IGNvbXB1dGVkT2Zmc2V0ID0gdHlwZW9mIHJhd09mZnNldCA9PT0gJ251bWJlcicgPyB7XG4gICAgICAgIG1haW5BeGlzOiByYXdPZmZzZXQsXG4gICAgICAgIGNyb3NzQXhpczogMFxuICAgICAgfSA6IHtcbiAgICAgICAgbWFpbkF4aXM6IDAsXG4gICAgICAgIGNyb3NzQXhpczogMCxcbiAgICAgICAgLi4ucmF3T2Zmc2V0XG4gICAgICB9O1xuICAgICAgaWYgKGNoZWNrTWFpbkF4aXMpIHtcbiAgICAgICAgY29uc3QgbGVuID0gbWFpbkF4aXMgPT09ICd5JyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgICAgICAgY29uc3QgbGltaXRNaW4gPSByZWN0cy5yZWZlcmVuY2VbbWFpbkF4aXNdIC0gcmVjdHMuZmxvYXRpbmdbbGVuXSArIGNvbXB1dGVkT2Zmc2V0Lm1haW5BeGlzO1xuICAgICAgICBjb25zdCBsaW1pdE1heCA9IHJlY3RzLnJlZmVyZW5jZVttYWluQXhpc10gKyByZWN0cy5yZWZlcmVuY2VbbGVuXSAtIGNvbXB1dGVkT2Zmc2V0Lm1haW5BeGlzO1xuICAgICAgICBpZiAobWFpbkF4aXNDb29yZCA8IGxpbWl0TWluKSB7XG4gICAgICAgICAgbWFpbkF4aXNDb29yZCA9IGxpbWl0TWluO1xuICAgICAgICB9IGVsc2UgaWYgKG1haW5BeGlzQ29vcmQgPiBsaW1pdE1heCkge1xuICAgICAgICAgIG1haW5BeGlzQ29vcmQgPSBsaW1pdE1heDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNoZWNrQ3Jvc3NBeGlzKSB7XG4gICAgICAgIHZhciBfbWlkZGxld2FyZURhdGEkb2Zmc2UsIF9taWRkbGV3YXJlRGF0YSRvZmZzZTI7XG4gICAgICAgIGNvbnN0IGxlbiA9IG1haW5BeGlzID09PSAneScgPyAnd2lkdGgnIDogJ2hlaWdodCc7XG4gICAgICAgIGNvbnN0IGlzT3JpZ2luU2lkZSA9IFsndG9wJywgJ2xlZnQnXS5pbmNsdWRlcyhnZXRTaWRlKHBsYWNlbWVudCkpO1xuICAgICAgICBjb25zdCBsaW1pdE1pbiA9IHJlY3RzLnJlZmVyZW5jZVtjcm9zc0F4aXNdIC0gcmVjdHMuZmxvYXRpbmdbbGVuXSArIChpc09yaWdpblNpZGUgPyAoKF9taWRkbGV3YXJlRGF0YSRvZmZzZSA9IG1pZGRsZXdhcmVEYXRhLm9mZnNldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRvZmZzZVtjcm9zc0F4aXNdKSB8fCAwIDogMCkgKyAoaXNPcmlnaW5TaWRlID8gMCA6IGNvbXB1dGVkT2Zmc2V0LmNyb3NzQXhpcyk7XG4gICAgICAgIGNvbnN0IGxpbWl0TWF4ID0gcmVjdHMucmVmZXJlbmNlW2Nyb3NzQXhpc10gKyByZWN0cy5yZWZlcmVuY2VbbGVuXSArIChpc09yaWdpblNpZGUgPyAwIDogKChfbWlkZGxld2FyZURhdGEkb2Zmc2UyID0gbWlkZGxld2FyZURhdGEub2Zmc2V0KSA9PSBudWxsID8gdm9pZCAwIDogX21pZGRsZXdhcmVEYXRhJG9mZnNlMltjcm9zc0F4aXNdKSB8fCAwKSAtIChpc09yaWdpblNpZGUgPyBjb21wdXRlZE9mZnNldC5jcm9zc0F4aXMgOiAwKTtcbiAgICAgICAgaWYgKGNyb3NzQXhpc0Nvb3JkIDwgbGltaXRNaW4pIHtcbiAgICAgICAgICBjcm9zc0F4aXNDb29yZCA9IGxpbWl0TWluO1xuICAgICAgICB9IGVsc2UgaWYgKGNyb3NzQXhpc0Nvb3JkID4gbGltaXRNYXgpIHtcbiAgICAgICAgICBjcm9zc0F4aXNDb29yZCA9IGxpbWl0TWF4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBbbWFpbkF4aXNdOiBtYWluQXhpc0Nvb3JkLFxuICAgICAgICBbY3Jvc3NBeGlzXTogY3Jvc3NBeGlzQ29vcmRcbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBQcm92aWRlcyBkYXRhIHRoYXQgYWxsb3dzIHlvdSB0byBjaGFuZ2UgdGhlIHNpemUgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgXHUyMDE0XG4gKiBmb3IgaW5zdGFuY2UsIHByZXZlbnQgaXQgZnJvbSBvdmVyZmxvd2luZyB0aGUgY2xpcHBpbmcgYm91bmRhcnkgb3IgbWF0Y2ggdGhlXG4gKiB3aWR0aCBvZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3Mvc2l6ZVxuICovXG5jb25zdCBzaXplID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdzaXplJyxcbiAgICBvcHRpb25zLFxuICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgcmVjdHMsXG4gICAgICAgIHBsYXRmb3JtLFxuICAgICAgICBlbGVtZW50c1xuICAgICAgfSA9IHN0YXRlO1xuICAgICAgY29uc3Qge1xuICAgICAgICBhcHBseSA9ICgpID0+IHt9LFxuICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnNcbiAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gICAgICBjb25zdCBvdmVyZmxvdyA9IGF3YWl0IGRldGVjdE92ZXJmbG93KHN0YXRlLCBkZXRlY3RPdmVyZmxvd09wdGlvbnMpO1xuICAgICAgY29uc3Qgc2lkZSA9IGdldFNpZGUocGxhY2VtZW50KTtcbiAgICAgIGNvbnN0IGFsaWdubWVudCA9IGdldEFsaWdubWVudChwbGFjZW1lbnQpO1xuICAgICAgY29uc3QgaXNZQXhpcyA9IGdldFNpZGVBeGlzKHBsYWNlbWVudCkgPT09ICd5JztcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodFxuICAgICAgfSA9IHJlY3RzLmZsb2F0aW5nO1xuICAgICAgbGV0IGhlaWdodFNpZGU7XG4gICAgICBsZXQgd2lkdGhTaWRlO1xuICAgICAgaWYgKHNpZGUgPT09ICd0b3AnIHx8IHNpZGUgPT09ICdib3R0b20nKSB7XG4gICAgICAgIGhlaWdodFNpZGUgPSBzaWRlO1xuICAgICAgICB3aWR0aFNpZGUgPSBhbGlnbm1lbnQgPT09ICgoYXdhaXQgKHBsYXRmb3JtLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc1JUTChlbGVtZW50cy5mbG9hdGluZykpKSA/ICdzdGFydCcgOiAnZW5kJykgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2lkdGhTaWRlID0gc2lkZTtcbiAgICAgICAgaGVpZ2h0U2lkZSA9IGFsaWdubWVudCA9PT0gJ2VuZCcgPyAndG9wJyA6ICdib3R0b20nO1xuICAgICAgfVxuICAgICAgY29uc3QgbWF4aW11bUNsaXBwaW5nSGVpZ2h0ID0gaGVpZ2h0IC0gb3ZlcmZsb3cudG9wIC0gb3ZlcmZsb3cuYm90dG9tO1xuICAgICAgY29uc3QgbWF4aW11bUNsaXBwaW5nV2lkdGggPSB3aWR0aCAtIG92ZXJmbG93LmxlZnQgLSBvdmVyZmxvdy5yaWdodDtcbiAgICAgIGNvbnN0IG92ZXJmbG93QXZhaWxhYmxlSGVpZ2h0ID0gbWluKGhlaWdodCAtIG92ZXJmbG93W2hlaWdodFNpZGVdLCBtYXhpbXVtQ2xpcHBpbmdIZWlnaHQpO1xuICAgICAgY29uc3Qgb3ZlcmZsb3dBdmFpbGFibGVXaWR0aCA9IG1pbih3aWR0aCAtIG92ZXJmbG93W3dpZHRoU2lkZV0sIG1heGltdW1DbGlwcGluZ1dpZHRoKTtcbiAgICAgIGNvbnN0IG5vU2hpZnQgPSAhc3RhdGUubWlkZGxld2FyZURhdGEuc2hpZnQ7XG4gICAgICBsZXQgYXZhaWxhYmxlSGVpZ2h0ID0gb3ZlcmZsb3dBdmFpbGFibGVIZWlnaHQ7XG4gICAgICBsZXQgYXZhaWxhYmxlV2lkdGggPSBvdmVyZmxvd0F2YWlsYWJsZVdpZHRoO1xuICAgICAgaWYgKGlzWUF4aXMpIHtcbiAgICAgICAgYXZhaWxhYmxlV2lkdGggPSBhbGlnbm1lbnQgfHwgbm9TaGlmdCA/IG1pbihvdmVyZmxvd0F2YWlsYWJsZVdpZHRoLCBtYXhpbXVtQ2xpcHBpbmdXaWR0aCkgOiBtYXhpbXVtQ2xpcHBpbmdXaWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF2YWlsYWJsZUhlaWdodCA9IGFsaWdubWVudCB8fCBub1NoaWZ0ID8gbWluKG92ZXJmbG93QXZhaWxhYmxlSGVpZ2h0LCBtYXhpbXVtQ2xpcHBpbmdIZWlnaHQpIDogbWF4aW11bUNsaXBwaW5nSGVpZ2h0O1xuICAgICAgfVxuICAgICAgaWYgKG5vU2hpZnQgJiYgIWFsaWdubWVudCkge1xuICAgICAgICBjb25zdCB4TWluID0gbWF4KG92ZXJmbG93LmxlZnQsIDApO1xuICAgICAgICBjb25zdCB4TWF4ID0gbWF4KG92ZXJmbG93LnJpZ2h0LCAwKTtcbiAgICAgICAgY29uc3QgeU1pbiA9IG1heChvdmVyZmxvdy50b3AsIDApO1xuICAgICAgICBjb25zdCB5TWF4ID0gbWF4KG92ZXJmbG93LmJvdHRvbSwgMCk7XG4gICAgICAgIGlmIChpc1lBeGlzKSB7XG4gICAgICAgICAgYXZhaWxhYmxlV2lkdGggPSB3aWR0aCAtIDIgKiAoeE1pbiAhPT0gMCB8fCB4TWF4ICE9PSAwID8geE1pbiArIHhNYXggOiBtYXgob3ZlcmZsb3cubGVmdCwgb3ZlcmZsb3cucmlnaHQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhdmFpbGFibGVIZWlnaHQgPSBoZWlnaHQgLSAyICogKHlNaW4gIT09IDAgfHwgeU1heCAhPT0gMCA/IHlNaW4gKyB5TWF4IDogbWF4KG92ZXJmbG93LnRvcCwgb3ZlcmZsb3cuYm90dG9tKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGF3YWl0IGFwcGx5KHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGF2YWlsYWJsZVdpZHRoLFxuICAgICAgICBhdmFpbGFibGVIZWlnaHRcbiAgICAgIH0pO1xuICAgICAgY29uc3QgbmV4dERpbWVuc2lvbnMgPSBhd2FpdCBwbGF0Zm9ybS5nZXREaW1lbnNpb25zKGVsZW1lbnRzLmZsb2F0aW5nKTtcbiAgICAgIGlmICh3aWR0aCAhPT0gbmV4dERpbWVuc2lvbnMud2lkdGggfHwgaGVpZ2h0ICE9PSBuZXh0RGltZW5zaW9ucy5oZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgcmVjdHM6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IHsgYXJyb3csIGF1dG9QbGFjZW1lbnQsIGNvbXB1dGVQb3NpdGlvbiwgZGV0ZWN0T3ZlcmZsb3csIGZsaXAsIGhpZGUsIGlubGluZSwgbGltaXRTaGlmdCwgb2Zmc2V0LCBzaGlmdCwgc2l6ZSB9O1xuIiwgImZ1bmN0aW9uIGdldE5vZGVOYW1lKG5vZGUpIHtcbiAgaWYgKGlzTm9kZShub2RlKSkge1xuICAgIHJldHVybiAobm9kZS5ub2RlTmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgfVxuICAvLyBNb2NrZWQgbm9kZXMgaW4gdGVzdGluZyBlbnZpcm9ubWVudHMgbWF5IG5vdCBiZSBpbnN0YW5jZXMgb2YgTm9kZS4gQnlcbiAgLy8gcmV0dXJuaW5nIGAjZG9jdW1lbnRgIGFuIGluZmluaXRlIGxvb3Agd29uJ3Qgb2NjdXIuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mbG9hdGluZy11aS9mbG9hdGluZy11aS9pc3N1ZXMvMjMxN1xuICByZXR1cm4gJyNkb2N1bWVudCc7XG59XG5mdW5jdGlvbiBnZXRXaW5kb3cobm9kZSkge1xuICB2YXIgX25vZGUkb3duZXJEb2N1bWVudDtcbiAgcmV0dXJuIChub2RlID09IG51bGwgfHwgKF9ub2RlJG93bmVyRG9jdW1lbnQgPSBub2RlLm93bmVyRG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfbm9kZSRvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KSB8fCB3aW5kb3c7XG59XG5mdW5jdGlvbiBnZXREb2N1bWVudEVsZW1lbnQobm9kZSkge1xuICB2YXIgX3JlZjtcbiAgcmV0dXJuIChfcmVmID0gKGlzTm9kZShub2RlKSA/IG5vZGUub3duZXJEb2N1bWVudCA6IG5vZGUuZG9jdW1lbnQpIHx8IHdpbmRvdy5kb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9yZWYuZG9jdW1lbnRFbGVtZW50O1xufVxuZnVuY3Rpb24gaXNOb2RlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIE5vZGUgfHwgdmFsdWUgaW5zdGFuY2VvZiBnZXRXaW5kb3codmFsdWUpLk5vZGU7XG59XG5mdW5jdGlvbiBpc0VsZW1lbnQodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRWxlbWVudCB8fCB2YWx1ZSBpbnN0YW5jZW9mIGdldFdpbmRvdyh2YWx1ZSkuRWxlbWVudDtcbn1cbmZ1bmN0aW9uIGlzSFRNTEVsZW1lbnQodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgfHwgdmFsdWUgaW5zdGFuY2VvZiBnZXRXaW5kb3codmFsdWUpLkhUTUxFbGVtZW50O1xufVxuZnVuY3Rpb24gaXNTaGFkb3dSb290KHZhbHVlKSB7XG4gIC8vIEJyb3dzZXJzIHdpdGhvdXQgYFNoYWRvd1Jvb3RgIHN1cHBvcnQuXG4gIGlmICh0eXBlb2YgU2hhZG93Um9vdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgU2hhZG93Um9vdCB8fCB2YWx1ZSBpbnN0YW5jZW9mIGdldFdpbmRvdyh2YWx1ZSkuU2hhZG93Um9vdDtcbn1cbmZ1bmN0aW9uIGlzT3ZlcmZsb3dFbGVtZW50KGVsZW1lbnQpIHtcbiAgY29uc3Qge1xuICAgIG92ZXJmbG93LFxuICAgIG92ZXJmbG93WCxcbiAgICBvdmVyZmxvd1ksXG4gICAgZGlzcGxheVxuICB9ID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgcmV0dXJuIC9hdXRvfHNjcm9sbHxvdmVybGF5fGhpZGRlbnxjbGlwLy50ZXN0KG92ZXJmbG93ICsgb3ZlcmZsb3dZICsgb3ZlcmZsb3dYKSAmJiAhWydpbmxpbmUnLCAnY29udGVudHMnXS5pbmNsdWRlcyhkaXNwbGF5KTtcbn1cbmZ1bmN0aW9uIGlzVGFibGVFbGVtZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuIFsndGFibGUnLCAndGQnLCAndGgnXS5pbmNsdWRlcyhnZXROb2RlTmFtZShlbGVtZW50KSk7XG59XG5mdW5jdGlvbiBpc1RvcExheWVyKGVsZW1lbnQpIHtcbiAgcmV0dXJuIFsnOnBvcG92ZXItb3BlbicsICc6bW9kYWwnXS5zb21lKHNlbGVjdG9yID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQubWF0Y2hlcyhzZWxlY3Rvcik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBpc0NvbnRhaW5pbmdCbG9jayhlbGVtZW50KSB7XG4gIGNvbnN0IHdlYmtpdCA9IGlzV2ViS2l0KCk7XG4gIGNvbnN0IGNzcyA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG5cbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0NvbnRhaW5pbmdfYmxvY2sjaWRlbnRpZnlpbmdfdGhlX2NvbnRhaW5pbmdfYmxvY2tcbiAgcmV0dXJuIGNzcy50cmFuc2Zvcm0gIT09ICdub25lJyB8fCBjc3MucGVyc3BlY3RpdmUgIT09ICdub25lJyB8fCAoY3NzLmNvbnRhaW5lclR5cGUgPyBjc3MuY29udGFpbmVyVHlwZSAhPT0gJ25vcm1hbCcgOiBmYWxzZSkgfHwgIXdlYmtpdCAmJiAoY3NzLmJhY2tkcm9wRmlsdGVyID8gY3NzLmJhY2tkcm9wRmlsdGVyICE9PSAnbm9uZScgOiBmYWxzZSkgfHwgIXdlYmtpdCAmJiAoY3NzLmZpbHRlciA/IGNzcy5maWx0ZXIgIT09ICdub25lJyA6IGZhbHNlKSB8fCBbJ3RyYW5zZm9ybScsICdwZXJzcGVjdGl2ZScsICdmaWx0ZXInXS5zb21lKHZhbHVlID0+IChjc3Mud2lsbENoYW5nZSB8fCAnJykuaW5jbHVkZXModmFsdWUpKSB8fCBbJ3BhaW50JywgJ2xheW91dCcsICdzdHJpY3QnLCAnY29udGVudCddLnNvbWUodmFsdWUgPT4gKGNzcy5jb250YWluIHx8ICcnKS5pbmNsdWRlcyh2YWx1ZSkpO1xufVxuZnVuY3Rpb24gZ2V0Q29udGFpbmluZ0Jsb2NrKGVsZW1lbnQpIHtcbiAgbGV0IGN1cnJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShlbGVtZW50KTtcbiAgd2hpbGUgKGlzSFRNTEVsZW1lbnQoY3VycmVudE5vZGUpICYmICFpc0xhc3RUcmF2ZXJzYWJsZU5vZGUoY3VycmVudE5vZGUpKSB7XG4gICAgaWYgKGlzVG9wTGF5ZXIoY3VycmVudE5vZGUpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGlzQ29udGFpbmluZ0Jsb2NrKGN1cnJlbnROb2RlKSkge1xuICAgICAgcmV0dXJuIGN1cnJlbnROb2RlO1xuICAgIH1cbiAgICBjdXJyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUoY3VycmVudE5vZGUpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gaXNXZWJLaXQoKSB7XG4gIGlmICh0eXBlb2YgQ1NTID09PSAndW5kZWZpbmVkJyB8fCAhQ1NTLnN1cHBvcnRzKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBDU1Muc3VwcG9ydHMoJy13ZWJraXQtYmFja2Ryb3AtZmlsdGVyJywgJ25vbmUnKTtcbn1cbmZ1bmN0aW9uIGlzTGFzdFRyYXZlcnNhYmxlTm9kZShub2RlKSB7XG4gIHJldHVybiBbJ2h0bWwnLCAnYm9keScsICcjZG9jdW1lbnQnXS5pbmNsdWRlcyhnZXROb2RlTmFtZShub2RlKSk7XG59XG5mdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdldFdpbmRvdyhlbGVtZW50KS5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xufVxuZnVuY3Rpb24gZ2V0Tm9kZVNjcm9sbChlbGVtZW50KSB7XG4gIGlmIChpc0VsZW1lbnQoZWxlbWVudCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2Nyb2xsTGVmdDogZWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgICAgc2Nyb2xsVG9wOiBlbGVtZW50LnNjcm9sbFRvcFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBzY3JvbGxMZWZ0OiBlbGVtZW50LnNjcm9sbFgsXG4gICAgc2Nyb2xsVG9wOiBlbGVtZW50LnNjcm9sbFlcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFBhcmVudE5vZGUobm9kZSkge1xuICBpZiAoZ2V0Tm9kZU5hbWUobm9kZSkgPT09ICdodG1sJykge1xuICAgIHJldHVybiBub2RlO1xuICB9XG4gIGNvbnN0IHJlc3VsdCA9XG4gIC8vIFN0ZXAgaW50byB0aGUgc2hhZG93IERPTSBvZiB0aGUgcGFyZW50IG9mIGEgc2xvdHRlZCBub2RlLlxuICBub2RlLmFzc2lnbmVkU2xvdCB8fFxuICAvLyBET00gRWxlbWVudCBkZXRlY3RlZC5cbiAgbm9kZS5wYXJlbnROb2RlIHx8XG4gIC8vIFNoYWRvd1Jvb3QgZGV0ZWN0ZWQuXG4gIGlzU2hhZG93Um9vdChub2RlKSAmJiBub2RlLmhvc3QgfHxcbiAgLy8gRmFsbGJhY2suXG4gIGdldERvY3VtZW50RWxlbWVudChub2RlKTtcbiAgcmV0dXJuIGlzU2hhZG93Um9vdChyZXN1bHQpID8gcmVzdWx0Lmhvc3QgOiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXROZWFyZXN0T3ZlcmZsb3dBbmNlc3Rvcihub2RlKSB7XG4gIGNvbnN0IHBhcmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKG5vZGUpO1xuICBpZiAoaXNMYXN0VHJhdmVyc2FibGVOb2RlKHBhcmVudE5vZGUpKSB7XG4gICAgcmV0dXJuIG5vZGUub3duZXJEb2N1bWVudCA/IG5vZGUub3duZXJEb2N1bWVudC5ib2R5IDogbm9kZS5ib2R5O1xuICB9XG4gIGlmIChpc0hUTUxFbGVtZW50KHBhcmVudE5vZGUpICYmIGlzT3ZlcmZsb3dFbGVtZW50KHBhcmVudE5vZGUpKSB7XG4gICAgcmV0dXJuIHBhcmVudE5vZGU7XG4gIH1cbiAgcmV0dXJuIGdldE5lYXJlc3RPdmVyZmxvd0FuY2VzdG9yKHBhcmVudE5vZGUpO1xufVxuZnVuY3Rpb24gZ2V0T3ZlcmZsb3dBbmNlc3RvcnMobm9kZSwgbGlzdCwgdHJhdmVyc2VJZnJhbWVzKSB7XG4gIHZhciBfbm9kZSRvd25lckRvY3VtZW50MjtcbiAgaWYgKGxpc3QgPT09IHZvaWQgMCkge1xuICAgIGxpc3QgPSBbXTtcbiAgfVxuICBpZiAodHJhdmVyc2VJZnJhbWVzID09PSB2b2lkIDApIHtcbiAgICB0cmF2ZXJzZUlmcmFtZXMgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHNjcm9sbGFibGVBbmNlc3RvciA9IGdldE5lYXJlc3RPdmVyZmxvd0FuY2VzdG9yKG5vZGUpO1xuICBjb25zdCBpc0JvZHkgPSBzY3JvbGxhYmxlQW5jZXN0b3IgPT09ICgoX25vZGUkb3duZXJEb2N1bWVudDIgPSBub2RlLm93bmVyRG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfbm9kZSRvd25lckRvY3VtZW50Mi5ib2R5KTtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KHNjcm9sbGFibGVBbmNlc3Rvcik7XG4gIGlmIChpc0JvZHkpIHtcbiAgICByZXR1cm4gbGlzdC5jb25jYXQod2luLCB3aW4udmlzdWFsVmlld3BvcnQgfHwgW10sIGlzT3ZlcmZsb3dFbGVtZW50KHNjcm9sbGFibGVBbmNlc3RvcikgPyBzY3JvbGxhYmxlQW5jZXN0b3IgOiBbXSwgd2luLmZyYW1lRWxlbWVudCAmJiB0cmF2ZXJzZUlmcmFtZXMgPyBnZXRPdmVyZmxvd0FuY2VzdG9ycyh3aW4uZnJhbWVFbGVtZW50KSA6IFtdKTtcbiAgfVxuICByZXR1cm4gbGlzdC5jb25jYXQoc2Nyb2xsYWJsZUFuY2VzdG9yLCBnZXRPdmVyZmxvd0FuY2VzdG9ycyhzY3JvbGxhYmxlQW5jZXN0b3IsIFtdLCB0cmF2ZXJzZUlmcmFtZXMpKTtcbn1cblxuZXhwb3J0IHsgZ2V0Q29tcHV0ZWRTdHlsZSwgZ2V0Q29udGFpbmluZ0Jsb2NrLCBnZXREb2N1bWVudEVsZW1lbnQsIGdldE5lYXJlc3RPdmVyZmxvd0FuY2VzdG9yLCBnZXROb2RlTmFtZSwgZ2V0Tm9kZVNjcm9sbCwgZ2V0T3ZlcmZsb3dBbmNlc3RvcnMsIGdldFBhcmVudE5vZGUsIGdldFdpbmRvdywgaXNDb250YWluaW5nQmxvY2ssIGlzRWxlbWVudCwgaXNIVE1MRWxlbWVudCwgaXNMYXN0VHJhdmVyc2FibGVOb2RlLCBpc05vZGUsIGlzT3ZlcmZsb3dFbGVtZW50LCBpc1NoYWRvd1Jvb3QsIGlzVGFibGVFbGVtZW50LCBpc1RvcExheWVyLCBpc1dlYktpdCB9O1xuIiwgImltcG9ydCB7IHJlY3RUb0NsaWVudFJlY3QsIGRldGVjdE92ZXJmbG93IGFzIGRldGVjdE92ZXJmbG93JDEsIG9mZnNldCBhcyBvZmZzZXQkMSwgYXV0b1BsYWNlbWVudCBhcyBhdXRvUGxhY2VtZW50JDEsIHNoaWZ0IGFzIHNoaWZ0JDEsIGZsaXAgYXMgZmxpcCQxLCBzaXplIGFzIHNpemUkMSwgaGlkZSBhcyBoaWRlJDEsIGFycm93IGFzIGFycm93JDEsIGlubGluZSBhcyBpbmxpbmUkMSwgbGltaXRTaGlmdCBhcyBsaW1pdFNoaWZ0JDEsIGNvbXB1dGVQb3NpdGlvbiBhcyBjb21wdXRlUG9zaXRpb24kMSB9IGZyb20gJ0BmbG9hdGluZy11aS9jb3JlJztcbmltcG9ydCB7IHJvdW5kLCBjcmVhdGVDb29yZHMsIG1heCwgbWluLCBmbG9vciB9IGZyb20gJ0BmbG9hdGluZy11aS91dGlscyc7XG5pbXBvcnQgeyBnZXRDb21wdXRlZFN0eWxlLCBpc0hUTUxFbGVtZW50LCBpc0VsZW1lbnQsIGdldFdpbmRvdywgaXNXZWJLaXQsIGdldERvY3VtZW50RWxlbWVudCwgaXNUb3BMYXllciwgZ2V0Tm9kZU5hbWUsIGlzT3ZlcmZsb3dFbGVtZW50LCBnZXROb2RlU2Nyb2xsLCBnZXRPdmVyZmxvd0FuY2VzdG9ycywgZ2V0UGFyZW50Tm9kZSwgaXNMYXN0VHJhdmVyc2FibGVOb2RlLCBpc0NvbnRhaW5pbmdCbG9jaywgaXNUYWJsZUVsZW1lbnQsIGdldENvbnRhaW5pbmdCbG9jayB9IGZyb20gJ0BmbG9hdGluZy11aS91dGlscy9kb20nO1xuZXhwb3J0IHsgZ2V0T3ZlcmZsb3dBbmNlc3RvcnMgfSBmcm9tICdAZmxvYXRpbmctdWkvdXRpbHMvZG9tJztcblxuZnVuY3Rpb24gZ2V0Q3NzRGltZW5zaW9ucyhlbGVtZW50KSB7XG4gIGNvbnN0IGNzcyA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gIC8vIEluIHRlc3RpbmcgZW52aXJvbm1lbnRzLCB0aGUgYHdpZHRoYCBhbmQgYGhlaWdodGAgcHJvcGVydGllcyBhcmUgZW1wdHlcbiAgLy8gc3RyaW5ncyBmb3IgU1ZHIGVsZW1lbnRzLCByZXR1cm5pbmcgTmFOLiBGYWxsYmFjayB0byBgMGAgaW4gdGhpcyBjYXNlLlxuICBsZXQgd2lkdGggPSBwYXJzZUZsb2F0KGNzcy53aWR0aCkgfHwgMDtcbiAgbGV0IGhlaWdodCA9IHBhcnNlRmxvYXQoY3NzLmhlaWdodCkgfHwgMDtcbiAgY29uc3QgaGFzT2Zmc2V0ID0gaXNIVE1MRWxlbWVudChlbGVtZW50KTtcbiAgY29uc3Qgb2Zmc2V0V2lkdGggPSBoYXNPZmZzZXQgPyBlbGVtZW50Lm9mZnNldFdpZHRoIDogd2lkdGg7XG4gIGNvbnN0IG9mZnNldEhlaWdodCA9IGhhc09mZnNldCA/IGVsZW1lbnQub2Zmc2V0SGVpZ2h0IDogaGVpZ2h0O1xuICBjb25zdCBzaG91bGRGYWxsYmFjayA9IHJvdW5kKHdpZHRoKSAhPT0gb2Zmc2V0V2lkdGggfHwgcm91bmQoaGVpZ2h0KSAhPT0gb2Zmc2V0SGVpZ2h0O1xuICBpZiAoc2hvdWxkRmFsbGJhY2spIHtcbiAgICB3aWR0aCA9IG9mZnNldFdpZHRoO1xuICAgIGhlaWdodCA9IG9mZnNldEhlaWdodDtcbiAgfVxuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICAkOiBzaG91bGRGYWxsYmFja1xuICB9O1xufVxuXG5mdW5jdGlvbiB1bndyYXBFbGVtZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuICFpc0VsZW1lbnQoZWxlbWVudCkgPyBlbGVtZW50LmNvbnRleHRFbGVtZW50IDogZWxlbWVudDtcbn1cblxuZnVuY3Rpb24gZ2V0U2NhbGUoZWxlbWVudCkge1xuICBjb25zdCBkb21FbGVtZW50ID0gdW53cmFwRWxlbWVudChlbGVtZW50KTtcbiAgaWYgKCFpc0hUTUxFbGVtZW50KGRvbUVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUNvb3JkcygxKTtcbiAgfVxuICBjb25zdCByZWN0ID0gZG9tRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3Qge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICAkXG4gIH0gPSBnZXRDc3NEaW1lbnNpb25zKGRvbUVsZW1lbnQpO1xuICBsZXQgeCA9ICgkID8gcm91bmQocmVjdC53aWR0aCkgOiByZWN0LndpZHRoKSAvIHdpZHRoO1xuICBsZXQgeSA9ICgkID8gcm91bmQocmVjdC5oZWlnaHQpIDogcmVjdC5oZWlnaHQpIC8gaGVpZ2h0O1xuXG4gIC8vIDAsIE5hTiwgb3IgSW5maW5pdHkgc2hvdWxkIGFsd2F5cyBmYWxsYmFjayB0byAxLlxuXG4gIGlmICgheCB8fCAhTnVtYmVyLmlzRmluaXRlKHgpKSB7XG4gICAgeCA9IDE7XG4gIH1cbiAgaWYgKCF5IHx8ICFOdW1iZXIuaXNGaW5pdGUoeSkpIHtcbiAgICB5ID0gMTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHgsXG4gICAgeVxuICB9O1xufVxuXG5jb25zdCBub09mZnNldHMgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29vcmRzKDApO1xuZnVuY3Rpb24gZ2V0VmlzdWFsT2Zmc2V0cyhlbGVtZW50KSB7XG4gIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhlbGVtZW50KTtcbiAgaWYgKCFpc1dlYktpdCgpIHx8ICF3aW4udmlzdWFsVmlld3BvcnQpIHtcbiAgICByZXR1cm4gbm9PZmZzZXRzO1xuICB9XG4gIHJldHVybiB7XG4gICAgeDogd2luLnZpc3VhbFZpZXdwb3J0Lm9mZnNldExlZnQsXG4gICAgeTogd2luLnZpc3VhbFZpZXdwb3J0Lm9mZnNldFRvcFxuICB9O1xufVxuZnVuY3Rpb24gc2hvdWxkQWRkVmlzdWFsT2Zmc2V0cyhlbGVtZW50LCBpc0ZpeGVkLCBmbG9hdGluZ09mZnNldFBhcmVudCkge1xuICBpZiAoaXNGaXhlZCA9PT0gdm9pZCAwKSB7XG4gICAgaXNGaXhlZCA9IGZhbHNlO1xuICB9XG4gIGlmICghZmxvYXRpbmdPZmZzZXRQYXJlbnQgfHwgaXNGaXhlZCAmJiBmbG9hdGluZ09mZnNldFBhcmVudCAhPT0gZ2V0V2luZG93KGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBpc0ZpeGVkO1xufVxuXG5mdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCwgaW5jbHVkZVNjYWxlLCBpc0ZpeGVkU3RyYXRlZ3ksIG9mZnNldFBhcmVudCkge1xuICBpZiAoaW5jbHVkZVNjYWxlID09PSB2b2lkIDApIHtcbiAgICBpbmNsdWRlU2NhbGUgPSBmYWxzZTtcbiAgfVxuICBpZiAoaXNGaXhlZFN0cmF0ZWd5ID09PSB2b2lkIDApIHtcbiAgICBpc0ZpeGVkU3RyYXRlZ3kgPSBmYWxzZTtcbiAgfVxuICBjb25zdCBjbGllbnRSZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgZG9tRWxlbWVudCA9IHVud3JhcEVsZW1lbnQoZWxlbWVudCk7XG4gIGxldCBzY2FsZSA9IGNyZWF0ZUNvb3JkcygxKTtcbiAgaWYgKGluY2x1ZGVTY2FsZSkge1xuICAgIGlmIChvZmZzZXRQYXJlbnQpIHtcbiAgICAgIGlmIChpc0VsZW1lbnQob2Zmc2V0UGFyZW50KSkge1xuICAgICAgICBzY2FsZSA9IGdldFNjYWxlKG9mZnNldFBhcmVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjYWxlID0gZ2V0U2NhbGUoZWxlbWVudCk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHZpc3VhbE9mZnNldHMgPSBzaG91bGRBZGRWaXN1YWxPZmZzZXRzKGRvbUVsZW1lbnQsIGlzRml4ZWRTdHJhdGVneSwgb2Zmc2V0UGFyZW50KSA/IGdldFZpc3VhbE9mZnNldHMoZG9tRWxlbWVudCkgOiBjcmVhdGVDb29yZHMoMCk7XG4gIGxldCB4ID0gKGNsaWVudFJlY3QubGVmdCArIHZpc3VhbE9mZnNldHMueCkgLyBzY2FsZS54O1xuICBsZXQgeSA9IChjbGllbnRSZWN0LnRvcCArIHZpc3VhbE9mZnNldHMueSkgLyBzY2FsZS55O1xuICBsZXQgd2lkdGggPSBjbGllbnRSZWN0LndpZHRoIC8gc2NhbGUueDtcbiAgbGV0IGhlaWdodCA9IGNsaWVudFJlY3QuaGVpZ2h0IC8gc2NhbGUueTtcbiAgaWYgKGRvbUVsZW1lbnQpIHtcbiAgICBjb25zdCB3aW4gPSBnZXRXaW5kb3coZG9tRWxlbWVudCk7XG4gICAgY29uc3Qgb2Zmc2V0V2luID0gb2Zmc2V0UGFyZW50ICYmIGlzRWxlbWVudChvZmZzZXRQYXJlbnQpID8gZ2V0V2luZG93KG9mZnNldFBhcmVudCkgOiBvZmZzZXRQYXJlbnQ7XG4gICAgbGV0IGN1cnJlbnRXaW4gPSB3aW47XG4gICAgbGV0IGN1cnJlbnRJRnJhbWUgPSBjdXJyZW50V2luLmZyYW1lRWxlbWVudDtcbiAgICB3aGlsZSAoY3VycmVudElGcmFtZSAmJiBvZmZzZXRQYXJlbnQgJiYgb2Zmc2V0V2luICE9PSBjdXJyZW50V2luKSB7XG4gICAgICBjb25zdCBpZnJhbWVTY2FsZSA9IGdldFNjYWxlKGN1cnJlbnRJRnJhbWUpO1xuICAgICAgY29uc3QgaWZyYW1lUmVjdCA9IGN1cnJlbnRJRnJhbWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBjc3MgPSBnZXRDb21wdXRlZFN0eWxlKGN1cnJlbnRJRnJhbWUpO1xuICAgICAgY29uc3QgbGVmdCA9IGlmcmFtZVJlY3QubGVmdCArIChjdXJyZW50SUZyYW1lLmNsaWVudExlZnQgKyBwYXJzZUZsb2F0KGNzcy5wYWRkaW5nTGVmdCkpICogaWZyYW1lU2NhbGUueDtcbiAgICAgIGNvbnN0IHRvcCA9IGlmcmFtZVJlY3QudG9wICsgKGN1cnJlbnRJRnJhbWUuY2xpZW50VG9wICsgcGFyc2VGbG9hdChjc3MucGFkZGluZ1RvcCkpICogaWZyYW1lU2NhbGUueTtcbiAgICAgIHggKj0gaWZyYW1lU2NhbGUueDtcbiAgICAgIHkgKj0gaWZyYW1lU2NhbGUueTtcbiAgICAgIHdpZHRoICo9IGlmcmFtZVNjYWxlLng7XG4gICAgICBoZWlnaHQgKj0gaWZyYW1lU2NhbGUueTtcbiAgICAgIHggKz0gbGVmdDtcbiAgICAgIHkgKz0gdG9wO1xuICAgICAgY3VycmVudFdpbiA9IGdldFdpbmRvdyhjdXJyZW50SUZyYW1lKTtcbiAgICAgIGN1cnJlbnRJRnJhbWUgPSBjdXJyZW50V2luLmZyYW1lRWxlbWVudDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlY3RUb0NsaWVudFJlY3Qoe1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICB4LFxuICAgIHlcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0KF9yZWYpIHtcbiAgbGV0IHtcbiAgICBlbGVtZW50cyxcbiAgICByZWN0LFxuICAgIG9mZnNldFBhcmVudCxcbiAgICBzdHJhdGVneVxuICB9ID0gX3JlZjtcbiAgY29uc3QgaXNGaXhlZCA9IHN0cmF0ZWd5ID09PSAnZml4ZWQnO1xuICBjb25zdCBkb2N1bWVudEVsZW1lbnQgPSBnZXREb2N1bWVudEVsZW1lbnQob2Zmc2V0UGFyZW50KTtcbiAgY29uc3QgdG9wTGF5ZXIgPSBlbGVtZW50cyA/IGlzVG9wTGF5ZXIoZWxlbWVudHMuZmxvYXRpbmcpIDogZmFsc2U7XG4gIGlmIChvZmZzZXRQYXJlbnQgPT09IGRvY3VtZW50RWxlbWVudCB8fCB0b3BMYXllciAmJiBpc0ZpeGVkKSB7XG4gICAgcmV0dXJuIHJlY3Q7XG4gIH1cbiAgbGV0IHNjcm9sbCA9IHtcbiAgICBzY3JvbGxMZWZ0OiAwLFxuICAgIHNjcm9sbFRvcDogMFxuICB9O1xuICBsZXQgc2NhbGUgPSBjcmVhdGVDb29yZHMoMSk7XG4gIGNvbnN0IG9mZnNldHMgPSBjcmVhdGVDb29yZHMoMCk7XG4gIGNvbnN0IGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ID0gaXNIVE1MRWxlbWVudChvZmZzZXRQYXJlbnQpO1xuICBpZiAoaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgfHwgIWlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ICYmICFpc0ZpeGVkKSB7XG4gICAgaWYgKGdldE5vZGVOYW1lKG9mZnNldFBhcmVudCkgIT09ICdib2R5JyB8fCBpc092ZXJmbG93RWxlbWVudChkb2N1bWVudEVsZW1lbnQpKSB7XG4gICAgICBzY3JvbGwgPSBnZXROb2RlU2Nyb2xsKG9mZnNldFBhcmVudCk7XG4gICAgfVxuICAgIGlmIChpc0hUTUxFbGVtZW50KG9mZnNldFBhcmVudCkpIHtcbiAgICAgIGNvbnN0IG9mZnNldFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50KTtcbiAgICAgIHNjYWxlID0gZ2V0U2NhbGUob2Zmc2V0UGFyZW50KTtcbiAgICAgIG9mZnNldHMueCA9IG9mZnNldFJlY3QueCArIG9mZnNldFBhcmVudC5jbGllbnRMZWZ0O1xuICAgICAgb2Zmc2V0cy55ID0gb2Zmc2V0UmVjdC55ICsgb2Zmc2V0UGFyZW50LmNsaWVudFRvcDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogcmVjdC53aWR0aCAqIHNjYWxlLngsXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodCAqIHNjYWxlLnksXG4gICAgeDogcmVjdC54ICogc2NhbGUueCAtIHNjcm9sbC5zY3JvbGxMZWZ0ICogc2NhbGUueCArIG9mZnNldHMueCxcbiAgICB5OiByZWN0LnkgKiBzY2FsZS55IC0gc2Nyb2xsLnNjcm9sbFRvcCAqIHNjYWxlLnkgKyBvZmZzZXRzLnlcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2xpZW50UmVjdHMoZWxlbWVudCkge1xuICByZXR1cm4gQXJyYXkuZnJvbShlbGVtZW50LmdldENsaWVudFJlY3RzKCkpO1xufVxuXG5mdW5jdGlvbiBnZXRXaW5kb3dTY3JvbGxCYXJYKGVsZW1lbnQpIHtcbiAgLy8gSWYgPGh0bWw+IGhhcyBhIENTUyB3aWR0aCBncmVhdGVyIHRoYW4gdGhlIHZpZXdwb3J0LCB0aGVuIHRoaXMgd2lsbCBiZVxuICAvLyBpbmNvcnJlY3QgZm9yIFJUTC5cbiAgcmV0dXJuIGdldEJvdW5kaW5nQ2xpZW50UmVjdChnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCkpLmxlZnQgKyBnZXROb2RlU2Nyb2xsKGVsZW1lbnQpLnNjcm9sbExlZnQ7XG59XG5cbi8vIEdldHMgdGhlIGVudGlyZSBzaXplIG9mIHRoZSBzY3JvbGxhYmxlIGRvY3VtZW50IGFyZWEsIGV2ZW4gZXh0ZW5kaW5nIG91dHNpZGVcbi8vIG9mIHRoZSBgPGh0bWw+YCBhbmQgYDxib2R5PmAgcmVjdCBib3VuZHMgaWYgaG9yaXpvbnRhbGx5IHNjcm9sbGFibGUuXG5mdW5jdGlvbiBnZXREb2N1bWVudFJlY3QoZWxlbWVudCkge1xuICBjb25zdCBodG1sID0gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpO1xuICBjb25zdCBzY3JvbGwgPSBnZXROb2RlU2Nyb2xsKGVsZW1lbnQpO1xuICBjb25zdCBib2R5ID0gZWxlbWVudC5vd25lckRvY3VtZW50LmJvZHk7XG4gIGNvbnN0IHdpZHRoID0gbWF4KGh0bWwuc2Nyb2xsV2lkdGgsIGh0bWwuY2xpZW50V2lkdGgsIGJvZHkuc2Nyb2xsV2lkdGgsIGJvZHkuY2xpZW50V2lkdGgpO1xuICBjb25zdCBoZWlnaHQgPSBtYXgoaHRtbC5zY3JvbGxIZWlnaHQsIGh0bWwuY2xpZW50SGVpZ2h0LCBib2R5LnNjcm9sbEhlaWdodCwgYm9keS5jbGllbnRIZWlnaHQpO1xuICBsZXQgeCA9IC1zY3JvbGwuc2Nyb2xsTGVmdCArIGdldFdpbmRvd1Njcm9sbEJhclgoZWxlbWVudCk7XG4gIGNvbnN0IHkgPSAtc2Nyb2xsLnNjcm9sbFRvcDtcbiAgaWYgKGdldENvbXB1dGVkU3R5bGUoYm9keSkuZGlyZWN0aW9uID09PSAncnRsJykge1xuICAgIHggKz0gbWF4KGh0bWwuY2xpZW50V2lkdGgsIGJvZHkuY2xpZW50V2lkdGgpIC0gd2lkdGg7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeCxcbiAgICB5XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFZpZXdwb3J0UmVjdChlbGVtZW50LCBzdHJhdGVneSkge1xuICBjb25zdCB3aW4gPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gIGNvbnN0IGh0bWwgPSBnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCk7XG4gIGNvbnN0IHZpc3VhbFZpZXdwb3J0ID0gd2luLnZpc3VhbFZpZXdwb3J0O1xuICBsZXQgd2lkdGggPSBodG1sLmNsaWVudFdpZHRoO1xuICBsZXQgaGVpZ2h0ID0gaHRtbC5jbGllbnRIZWlnaHQ7XG4gIGxldCB4ID0gMDtcbiAgbGV0IHkgPSAwO1xuICBpZiAodmlzdWFsVmlld3BvcnQpIHtcbiAgICB3aWR0aCA9IHZpc3VhbFZpZXdwb3J0LndpZHRoO1xuICAgIGhlaWdodCA9IHZpc3VhbFZpZXdwb3J0LmhlaWdodDtcbiAgICBjb25zdCB2aXN1YWxWaWV3cG9ydEJhc2VkID0gaXNXZWJLaXQoKTtcbiAgICBpZiAoIXZpc3VhbFZpZXdwb3J0QmFzZWQgfHwgdmlzdWFsVmlld3BvcnRCYXNlZCAmJiBzdHJhdGVneSA9PT0gJ2ZpeGVkJykge1xuICAgICAgeCA9IHZpc3VhbFZpZXdwb3J0Lm9mZnNldExlZnQ7XG4gICAgICB5ID0gdmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICB4LFxuICAgIHlcbiAgfTtcbn1cblxuLy8gUmV0dXJucyB0aGUgaW5uZXIgY2xpZW50IHJlY3QsIHN1YnRyYWN0aW5nIHNjcm9sbGJhcnMgaWYgcHJlc2VudC5cbmZ1bmN0aW9uIGdldElubmVyQm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIHN0cmF0ZWd5KSB7XG4gIGNvbnN0IGNsaWVudFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCwgdHJ1ZSwgc3RyYXRlZ3kgPT09ICdmaXhlZCcpO1xuICBjb25zdCB0b3AgPSBjbGllbnRSZWN0LnRvcCArIGVsZW1lbnQuY2xpZW50VG9wO1xuICBjb25zdCBsZWZ0ID0gY2xpZW50UmVjdC5sZWZ0ICsgZWxlbWVudC5jbGllbnRMZWZ0O1xuICBjb25zdCBzY2FsZSA9IGlzSFRNTEVsZW1lbnQoZWxlbWVudCkgPyBnZXRTY2FsZShlbGVtZW50KSA6IGNyZWF0ZUNvb3JkcygxKTtcbiAgY29uc3Qgd2lkdGggPSBlbGVtZW50LmNsaWVudFdpZHRoICogc2NhbGUueDtcbiAgY29uc3QgaGVpZ2h0ID0gZWxlbWVudC5jbGllbnRIZWlnaHQgKiBzY2FsZS55O1xuICBjb25zdCB4ID0gbGVmdCAqIHNjYWxlLng7XG4gIGNvbnN0IHkgPSB0b3AgKiBzY2FsZS55O1xuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICB4LFxuICAgIHlcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldENsaWVudFJlY3RGcm9tQ2xpcHBpbmdBbmNlc3RvcihlbGVtZW50LCBjbGlwcGluZ0FuY2VzdG9yLCBzdHJhdGVneSkge1xuICBsZXQgcmVjdDtcbiAgaWYgKGNsaXBwaW5nQW5jZXN0b3IgPT09ICd2aWV3cG9ydCcpIHtcbiAgICByZWN0ID0gZ2V0Vmlld3BvcnRSZWN0KGVsZW1lbnQsIHN0cmF0ZWd5KTtcbiAgfSBlbHNlIGlmIChjbGlwcGluZ0FuY2VzdG9yID09PSAnZG9jdW1lbnQnKSB7XG4gICAgcmVjdCA9IGdldERvY3VtZW50UmVjdChnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCkpO1xuICB9IGVsc2UgaWYgKGlzRWxlbWVudChjbGlwcGluZ0FuY2VzdG9yKSkge1xuICAgIHJlY3QgPSBnZXRJbm5lckJvdW5kaW5nQ2xpZW50UmVjdChjbGlwcGluZ0FuY2VzdG9yLCBzdHJhdGVneSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgdmlzdWFsT2Zmc2V0cyA9IGdldFZpc3VhbE9mZnNldHMoZWxlbWVudCk7XG4gICAgcmVjdCA9IHtcbiAgICAgIC4uLmNsaXBwaW5nQW5jZXN0b3IsXG4gICAgICB4OiBjbGlwcGluZ0FuY2VzdG9yLnggLSB2aXN1YWxPZmZzZXRzLngsXG4gICAgICB5OiBjbGlwcGluZ0FuY2VzdG9yLnkgLSB2aXN1YWxPZmZzZXRzLnlcbiAgICB9O1xuICB9XG4gIHJldHVybiByZWN0VG9DbGllbnRSZWN0KHJlY3QpO1xufVxuZnVuY3Rpb24gaGFzRml4ZWRQb3NpdGlvbkFuY2VzdG9yKGVsZW1lbnQsIHN0b3BOb2RlKSB7XG4gIGNvbnN0IHBhcmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKGVsZW1lbnQpO1xuICBpZiAocGFyZW50Tm9kZSA9PT0gc3RvcE5vZGUgfHwgIWlzRWxlbWVudChwYXJlbnROb2RlKSB8fCBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUocGFyZW50Tm9kZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUocGFyZW50Tm9kZSkucG9zaXRpb24gPT09ICdmaXhlZCcgfHwgaGFzRml4ZWRQb3NpdGlvbkFuY2VzdG9yKHBhcmVudE5vZGUsIHN0b3BOb2RlKTtcbn1cblxuLy8gQSBcImNsaXBwaW5nIGFuY2VzdG9yXCIgaXMgYW4gYG92ZXJmbG93YCBlbGVtZW50IHdpdGggdGhlIGNoYXJhY3RlcmlzdGljIG9mXG4vLyBjbGlwcGluZyAob3IgaGlkaW5nKSBjaGlsZCBlbGVtZW50cy4gVGhpcyByZXR1cm5zIGFsbCBjbGlwcGluZyBhbmNlc3RvcnNcbi8vIG9mIHRoZSBnaXZlbiBlbGVtZW50IHVwIHRoZSB0cmVlLlxuZnVuY3Rpb24gZ2V0Q2xpcHBpbmdFbGVtZW50QW5jZXN0b3JzKGVsZW1lbnQsIGNhY2hlKSB7XG4gIGNvbnN0IGNhY2hlZFJlc3VsdCA9IGNhY2hlLmdldChlbGVtZW50KTtcbiAgaWYgKGNhY2hlZFJlc3VsdCkge1xuICAgIHJldHVybiBjYWNoZWRSZXN1bHQ7XG4gIH1cbiAgbGV0IHJlc3VsdCA9IGdldE92ZXJmbG93QW5jZXN0b3JzKGVsZW1lbnQsIFtdLCBmYWxzZSkuZmlsdGVyKGVsID0+IGlzRWxlbWVudChlbCkgJiYgZ2V0Tm9kZU5hbWUoZWwpICE9PSAnYm9keScpO1xuICBsZXQgY3VycmVudENvbnRhaW5pbmdCbG9ja0NvbXB1dGVkU3R5bGUgPSBudWxsO1xuICBjb25zdCBlbGVtZW50SXNGaXhlZCA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkucG9zaXRpb24gPT09ICdmaXhlZCc7XG4gIGxldCBjdXJyZW50Tm9kZSA9IGVsZW1lbnRJc0ZpeGVkID8gZ2V0UGFyZW50Tm9kZShlbGVtZW50KSA6IGVsZW1lbnQ7XG5cbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0NvbnRhaW5pbmdfYmxvY2sjaWRlbnRpZnlpbmdfdGhlX2NvbnRhaW5pbmdfYmxvY2tcbiAgd2hpbGUgKGlzRWxlbWVudChjdXJyZW50Tm9kZSkgJiYgIWlzTGFzdFRyYXZlcnNhYmxlTm9kZShjdXJyZW50Tm9kZSkpIHtcbiAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShjdXJyZW50Tm9kZSk7XG4gICAgY29uc3QgY3VycmVudE5vZGVJc0NvbnRhaW5pbmcgPSBpc0NvbnRhaW5pbmdCbG9jayhjdXJyZW50Tm9kZSk7XG4gICAgaWYgKCFjdXJyZW50Tm9kZUlzQ29udGFpbmluZyAmJiBjb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAnZml4ZWQnKSB7XG4gICAgICBjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHNob3VsZERyb3BDdXJyZW50Tm9kZSA9IGVsZW1lbnRJc0ZpeGVkID8gIWN1cnJlbnROb2RlSXNDb250YWluaW5nICYmICFjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSA6ICFjdXJyZW50Tm9kZUlzQ29udGFpbmluZyAmJiBjb21wdXRlZFN0eWxlLnBvc2l0aW9uID09PSAnc3RhdGljJyAmJiAhIWN1cnJlbnRDb250YWluaW5nQmxvY2tDb21wdXRlZFN0eWxlICYmIFsnYWJzb2x1dGUnLCAnZml4ZWQnXS5pbmNsdWRlcyhjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZS5wb3NpdGlvbikgfHwgaXNPdmVyZmxvd0VsZW1lbnQoY3VycmVudE5vZGUpICYmICFjdXJyZW50Tm9kZUlzQ29udGFpbmluZyAmJiBoYXNGaXhlZFBvc2l0aW9uQW5jZXN0b3IoZWxlbWVudCwgY3VycmVudE5vZGUpO1xuICAgIGlmIChzaG91bGREcm9wQ3VycmVudE5vZGUpIHtcbiAgICAgIC8vIERyb3Agbm9uLWNvbnRhaW5pbmcgYmxvY2tzLlxuICAgICAgcmVzdWx0ID0gcmVzdWx0LmZpbHRlcihhbmNlc3RvciA9PiBhbmNlc3RvciAhPT0gY3VycmVudE5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZWNvcmQgbGFzdCBjb250YWluaW5nIGJsb2NrIGZvciBuZXh0IGl0ZXJhdGlvbi5cbiAgICAgIGN1cnJlbnRDb250YWluaW5nQmxvY2tDb21wdXRlZFN0eWxlID0gY29tcHV0ZWRTdHlsZTtcbiAgICB9XG4gICAgY3VycmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKGN1cnJlbnROb2RlKTtcbiAgfVxuICBjYWNoZS5zZXQoZWxlbWVudCwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gR2V0cyB0aGUgbWF4aW11bSBhcmVhIHRoYXQgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZSBpbiBkdWUgdG8gYW55IG51bWJlciBvZlxuLy8gY2xpcHBpbmcgYW5jZXN0b3JzLlxuZnVuY3Rpb24gZ2V0Q2xpcHBpbmdSZWN0KF9yZWYpIHtcbiAgbGV0IHtcbiAgICBlbGVtZW50LFxuICAgIGJvdW5kYXJ5LFxuICAgIHJvb3RCb3VuZGFyeSxcbiAgICBzdHJhdGVneVxuICB9ID0gX3JlZjtcbiAgY29uc3QgZWxlbWVudENsaXBwaW5nQW5jZXN0b3JzID0gYm91bmRhcnkgPT09ICdjbGlwcGluZ0FuY2VzdG9ycycgPyBpc1RvcExheWVyKGVsZW1lbnQpID8gW10gOiBnZXRDbGlwcGluZ0VsZW1lbnRBbmNlc3RvcnMoZWxlbWVudCwgdGhpcy5fYykgOiBbXS5jb25jYXQoYm91bmRhcnkpO1xuICBjb25zdCBjbGlwcGluZ0FuY2VzdG9ycyA9IFsuLi5lbGVtZW50Q2xpcHBpbmdBbmNlc3RvcnMsIHJvb3RCb3VuZGFyeV07XG4gIGNvbnN0IGZpcnN0Q2xpcHBpbmdBbmNlc3RvciA9IGNsaXBwaW5nQW5jZXN0b3JzWzBdO1xuICBjb25zdCBjbGlwcGluZ1JlY3QgPSBjbGlwcGluZ0FuY2VzdG9ycy5yZWR1Y2UoKGFjY1JlY3QsIGNsaXBwaW5nQW5jZXN0b3IpID0+IHtcbiAgICBjb25zdCByZWN0ID0gZ2V0Q2xpZW50UmVjdEZyb21DbGlwcGluZ0FuY2VzdG9yKGVsZW1lbnQsIGNsaXBwaW5nQW5jZXN0b3IsIHN0cmF0ZWd5KTtcbiAgICBhY2NSZWN0LnRvcCA9IG1heChyZWN0LnRvcCwgYWNjUmVjdC50b3ApO1xuICAgIGFjY1JlY3QucmlnaHQgPSBtaW4ocmVjdC5yaWdodCwgYWNjUmVjdC5yaWdodCk7XG4gICAgYWNjUmVjdC5ib3R0b20gPSBtaW4ocmVjdC5ib3R0b20sIGFjY1JlY3QuYm90dG9tKTtcbiAgICBhY2NSZWN0LmxlZnQgPSBtYXgocmVjdC5sZWZ0LCBhY2NSZWN0LmxlZnQpO1xuICAgIHJldHVybiBhY2NSZWN0O1xuICB9LCBnZXRDbGllbnRSZWN0RnJvbUNsaXBwaW5nQW5jZXN0b3IoZWxlbWVudCwgZmlyc3RDbGlwcGluZ0FuY2VzdG9yLCBzdHJhdGVneSkpO1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiBjbGlwcGluZ1JlY3QucmlnaHQgLSBjbGlwcGluZ1JlY3QubGVmdCxcbiAgICBoZWlnaHQ6IGNsaXBwaW5nUmVjdC5ib3R0b20gLSBjbGlwcGluZ1JlY3QudG9wLFxuICAgIHg6IGNsaXBwaW5nUmVjdC5sZWZ0LFxuICAgIHk6IGNsaXBwaW5nUmVjdC50b3BcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RGltZW5zaW9ucyhlbGVtZW50KSB7XG4gIGNvbnN0IHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHRcbiAgfSA9IGdldENzc0RpbWVuc2lvbnMoZWxlbWVudCk7XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFJlY3RSZWxhdGl2ZVRvT2Zmc2V0UGFyZW50KGVsZW1lbnQsIG9mZnNldFBhcmVudCwgc3RyYXRlZ3kpIHtcbiAgY29uc3QgaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgPSBpc0hUTUxFbGVtZW50KG9mZnNldFBhcmVudCk7XG4gIGNvbnN0IGRvY3VtZW50RWxlbWVudCA9IGdldERvY3VtZW50RWxlbWVudChvZmZzZXRQYXJlbnQpO1xuICBjb25zdCBpc0ZpeGVkID0gc3RyYXRlZ3kgPT09ICdmaXhlZCc7XG4gIGNvbnN0IHJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCwgdHJ1ZSwgaXNGaXhlZCwgb2Zmc2V0UGFyZW50KTtcbiAgbGV0IHNjcm9sbCA9IHtcbiAgICBzY3JvbGxMZWZ0OiAwLFxuICAgIHNjcm9sbFRvcDogMFxuICB9O1xuICBjb25zdCBvZmZzZXRzID0gY3JlYXRlQ29vcmRzKDApO1xuICBpZiAoaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgfHwgIWlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ICYmICFpc0ZpeGVkKSB7XG4gICAgaWYgKGdldE5vZGVOYW1lKG9mZnNldFBhcmVudCkgIT09ICdib2R5JyB8fCBpc092ZXJmbG93RWxlbWVudChkb2N1bWVudEVsZW1lbnQpKSB7XG4gICAgICBzY3JvbGwgPSBnZXROb2RlU2Nyb2xsKG9mZnNldFBhcmVudCk7XG4gICAgfVxuICAgIGlmIChpc09mZnNldFBhcmVudEFuRWxlbWVudCkge1xuICAgICAgY29uc3Qgb2Zmc2V0UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChvZmZzZXRQYXJlbnQsIHRydWUsIGlzRml4ZWQsIG9mZnNldFBhcmVudCk7XG4gICAgICBvZmZzZXRzLnggPSBvZmZzZXRSZWN0LnggKyBvZmZzZXRQYXJlbnQuY2xpZW50TGVmdDtcbiAgICAgIG9mZnNldHMueSA9IG9mZnNldFJlY3QueSArIG9mZnNldFBhcmVudC5jbGllbnRUb3A7XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgIG9mZnNldHMueCA9IGdldFdpbmRvd1Njcm9sbEJhclgoZG9jdW1lbnRFbGVtZW50KTtcbiAgICB9XG4gIH1cbiAgY29uc3QgeCA9IHJlY3QubGVmdCArIHNjcm9sbC5zY3JvbGxMZWZ0IC0gb2Zmc2V0cy54O1xuICBjb25zdCB5ID0gcmVjdC50b3AgKyBzY3JvbGwuc2Nyb2xsVG9wIC0gb2Zmc2V0cy55O1xuICByZXR1cm4ge1xuICAgIHgsXG4gICAgeSxcbiAgICB3aWR0aDogcmVjdC53aWR0aCxcbiAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0XG4gIH07XG59XG5cbmZ1bmN0aW9uIGlzU3RhdGljUG9zaXRpb25lZChlbGVtZW50KSB7XG4gIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uID09PSAnc3RhdGljJztcbn1cblxuZnVuY3Rpb24gZ2V0VHJ1ZU9mZnNldFBhcmVudChlbGVtZW50LCBwb2x5ZmlsbCkge1xuICBpZiAoIWlzSFRNTEVsZW1lbnQoZWxlbWVudCkgfHwgZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChwb2x5ZmlsbCkge1xuICAgIHJldHVybiBwb2x5ZmlsbChlbGVtZW50KTtcbiAgfVxuICByZXR1cm4gZWxlbWVudC5vZmZzZXRQYXJlbnQ7XG59XG5cbi8vIEdldHMgdGhlIGNsb3Nlc3QgYW5jZXN0b3IgcG9zaXRpb25lZCBlbGVtZW50LiBIYW5kbGVzIHNvbWUgZWRnZSBjYXNlcyxcbi8vIHN1Y2ggYXMgdGFibGUgYW5jZXN0b3JzIGFuZCBjcm9zcyBicm93c2VyIGJ1Z3MuXG5mdW5jdGlvbiBnZXRPZmZzZXRQYXJlbnQoZWxlbWVudCwgcG9seWZpbGwpIHtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KGVsZW1lbnQpO1xuICBpZiAoaXNUb3BMYXllcihlbGVtZW50KSkge1xuICAgIHJldHVybiB3aW47XG4gIH1cbiAgaWYgKCFpc0hUTUxFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgbGV0IHN2Z09mZnNldFBhcmVudCA9IGdldFBhcmVudE5vZGUoZWxlbWVudCk7XG4gICAgd2hpbGUgKHN2Z09mZnNldFBhcmVudCAmJiAhaXNMYXN0VHJhdmVyc2FibGVOb2RlKHN2Z09mZnNldFBhcmVudCkpIHtcbiAgICAgIGlmIChpc0VsZW1lbnQoc3ZnT2Zmc2V0UGFyZW50KSAmJiAhaXNTdGF0aWNQb3NpdGlvbmVkKHN2Z09mZnNldFBhcmVudCkpIHtcbiAgICAgICAgcmV0dXJuIHN2Z09mZnNldFBhcmVudDtcbiAgICAgIH1cbiAgICAgIHN2Z09mZnNldFBhcmVudCA9IGdldFBhcmVudE5vZGUoc3ZnT2Zmc2V0UGFyZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHdpbjtcbiAgfVxuICBsZXQgb2Zmc2V0UGFyZW50ID0gZ2V0VHJ1ZU9mZnNldFBhcmVudChlbGVtZW50LCBwb2x5ZmlsbCk7XG4gIHdoaWxlIChvZmZzZXRQYXJlbnQgJiYgaXNUYWJsZUVsZW1lbnQob2Zmc2V0UGFyZW50KSAmJiBpc1N0YXRpY1Bvc2l0aW9uZWQob2Zmc2V0UGFyZW50KSkge1xuICAgIG9mZnNldFBhcmVudCA9IGdldFRydWVPZmZzZXRQYXJlbnQob2Zmc2V0UGFyZW50LCBwb2x5ZmlsbCk7XG4gIH1cbiAgaWYgKG9mZnNldFBhcmVudCAmJiBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUob2Zmc2V0UGFyZW50KSAmJiBpc1N0YXRpY1Bvc2l0aW9uZWQob2Zmc2V0UGFyZW50KSAmJiAhaXNDb250YWluaW5nQmxvY2sob2Zmc2V0UGFyZW50KSkge1xuICAgIHJldHVybiB3aW47XG4gIH1cbiAgcmV0dXJuIG9mZnNldFBhcmVudCB8fCBnZXRDb250YWluaW5nQmxvY2soZWxlbWVudCkgfHwgd2luO1xufVxuXG5jb25zdCBnZXRFbGVtZW50UmVjdHMgPSBhc3luYyBmdW5jdGlvbiAoZGF0YSkge1xuICBjb25zdCBnZXRPZmZzZXRQYXJlbnRGbiA9IHRoaXMuZ2V0T2Zmc2V0UGFyZW50IHx8IGdldE9mZnNldFBhcmVudDtcbiAgY29uc3QgZ2V0RGltZW5zaW9uc0ZuID0gdGhpcy5nZXREaW1lbnNpb25zO1xuICBjb25zdCBmbG9hdGluZ0RpbWVuc2lvbnMgPSBhd2FpdCBnZXREaW1lbnNpb25zRm4oZGF0YS5mbG9hdGluZyk7XG4gIHJldHVybiB7XG4gICAgcmVmZXJlbmNlOiBnZXRSZWN0UmVsYXRpdmVUb09mZnNldFBhcmVudChkYXRhLnJlZmVyZW5jZSwgYXdhaXQgZ2V0T2Zmc2V0UGFyZW50Rm4oZGF0YS5mbG9hdGluZyksIGRhdGEuc3RyYXRlZ3kpLFxuICAgIGZsb2F0aW5nOiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHdpZHRoOiBmbG9hdGluZ0RpbWVuc2lvbnMud2lkdGgsXG4gICAgICBoZWlnaHQ6IGZsb2F0aW5nRGltZW5zaW9ucy5oZWlnaHRcbiAgICB9XG4gIH07XG59O1xuXG5mdW5jdGlvbiBpc1JUTChlbGVtZW50KSB7XG4gIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLmRpcmVjdGlvbiA9PT0gJ3J0bCc7XG59XG5cbmNvbnN0IHBsYXRmb3JtID0ge1xuICBjb252ZXJ0T2Zmc2V0UGFyZW50UmVsYXRpdmVSZWN0VG9WaWV3cG9ydFJlbGF0aXZlUmVjdCxcbiAgZ2V0RG9jdW1lbnRFbGVtZW50LFxuICBnZXRDbGlwcGluZ1JlY3QsXG4gIGdldE9mZnNldFBhcmVudCxcbiAgZ2V0RWxlbWVudFJlY3RzLFxuICBnZXRDbGllbnRSZWN0cyxcbiAgZ2V0RGltZW5zaW9ucyxcbiAgZ2V0U2NhbGUsXG4gIGlzRWxlbWVudCxcbiAgaXNSVExcbn07XG5cbi8vIGh0dHBzOi8vc2FtdGhvci5hdS8yMDIxL29ic2VydmluZy1kb20vXG5mdW5jdGlvbiBvYnNlcnZlTW92ZShlbGVtZW50LCBvbk1vdmUpIHtcbiAgbGV0IGlvID0gbnVsbDtcbiAgbGV0IHRpbWVvdXRJZDtcbiAgY29uc3Qgcm9vdCA9IGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KTtcbiAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICB2YXIgX2lvO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIChfaW8gPSBpbykgPT0gbnVsbCB8fCBfaW8uZGlzY29ubmVjdCgpO1xuICAgIGlvID0gbnVsbDtcbiAgfVxuICBmdW5jdGlvbiByZWZyZXNoKHNraXAsIHRocmVzaG9sZCkge1xuICAgIGlmIChza2lwID09PSB2b2lkIDApIHtcbiAgICAgIHNraXAgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRocmVzaG9sZCA9PT0gdm9pZCAwKSB7XG4gICAgICB0aHJlc2hvbGQgPSAxO1xuICAgIH1cbiAgICBjbGVhbnVwKCk7XG4gICAgY29uc3Qge1xuICAgICAgbGVmdCxcbiAgICAgIHRvcCxcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0XG4gICAgfSA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKCFza2lwKSB7XG4gICAgICBvbk1vdmUoKTtcbiAgICB9XG4gICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluc2V0VG9wID0gZmxvb3IodG9wKTtcbiAgICBjb25zdCBpbnNldFJpZ2h0ID0gZmxvb3Iocm9vdC5jbGllbnRXaWR0aCAtIChsZWZ0ICsgd2lkdGgpKTtcbiAgICBjb25zdCBpbnNldEJvdHRvbSA9IGZsb29yKHJvb3QuY2xpZW50SGVpZ2h0IC0gKHRvcCArIGhlaWdodCkpO1xuICAgIGNvbnN0IGluc2V0TGVmdCA9IGZsb29yKGxlZnQpO1xuICAgIGNvbnN0IHJvb3RNYXJnaW4gPSAtaW5zZXRUb3AgKyBcInB4IFwiICsgLWluc2V0UmlnaHQgKyBcInB4IFwiICsgLWluc2V0Qm90dG9tICsgXCJweCBcIiArIC1pbnNldExlZnQgKyBcInB4XCI7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIHJvb3RNYXJnaW4sXG4gICAgICB0aHJlc2hvbGQ6IG1heCgwLCBtaW4oMSwgdGhyZXNob2xkKSkgfHwgMVxuICAgIH07XG4gICAgbGV0IGlzRmlyc3RVcGRhdGUgPSB0cnVlO1xuICAgIGZ1bmN0aW9uIGhhbmRsZU9ic2VydmUoZW50cmllcykge1xuICAgICAgY29uc3QgcmF0aW8gPSBlbnRyaWVzWzBdLmludGVyc2VjdGlvblJhdGlvO1xuICAgICAgaWYgKHJhdGlvICE9PSB0aHJlc2hvbGQpIHtcbiAgICAgICAgaWYgKCFpc0ZpcnN0VXBkYXRlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJhdGlvKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIHJlZmVyZW5jZSBpcyBjbGlwcGVkLCB0aGUgcmF0aW8gaXMgMC4gVGhyb3R0bGUgdGhlIHJlZnJlc2hcbiAgICAgICAgICAvLyB0byBwcmV2ZW50IGFuIGluZmluaXRlIGxvb3Agb2YgdXBkYXRlcy5cbiAgICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHJlZnJlc2goZmFsc2UsIDFlLTcpO1xuICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlZnJlc2goZmFsc2UsIHJhdGlvKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaXNGaXJzdFVwZGF0ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8vIE9sZGVyIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgYSBgZG9jdW1lbnRgIGFzIHRoZSByb290IGFuZCB3aWxsIHRocm93IGFuXG4gICAgLy8gZXJyb3IuXG4gICAgdHJ5IHtcbiAgICAgIGlvID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGhhbmRsZU9ic2VydmUsIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgLy8gSGFuZGxlIDxpZnJhbWU+c1xuICAgICAgICByb290OiByb290Lm93bmVyRG9jdW1lbnRcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlvID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGhhbmRsZU9ic2VydmUsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBpby5vYnNlcnZlKGVsZW1lbnQpO1xuICB9XG4gIHJlZnJlc2godHJ1ZSk7XG4gIHJldHVybiBjbGVhbnVwO1xufVxuXG4vKipcbiAqIEF1dG9tYXRpY2FsbHkgdXBkYXRlcyB0aGUgcG9zaXRpb24gb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgd2hlbiBuZWNlc3NhcnkuXG4gKiBTaG91bGQgb25seSBiZSBjYWxsZWQgd2hlbiB0aGUgZmxvYXRpbmcgZWxlbWVudCBpcyBtb3VudGVkIG9uIHRoZSBET00gb3JcbiAqIHZpc2libGUgb24gdGhlIHNjcmVlbi5cbiAqIEByZXR1cm5zIGNsZWFudXAgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgaW52b2tlZCB3aGVuIHRoZSBmbG9hdGluZyBlbGVtZW50IGlzXG4gKiByZW1vdmVkIGZyb20gdGhlIERPTSBvciBoaWRkZW4gZnJvbSB0aGUgc2NyZWVuLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2F1dG9VcGRhdGVcbiAqL1xuZnVuY3Rpb24gYXV0b1VwZGF0ZShyZWZlcmVuY2UsIGZsb2F0aW5nLCB1cGRhdGUsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICBjb25zdCB7XG4gICAgYW5jZXN0b3JTY3JvbGwgPSB0cnVlLFxuICAgIGFuY2VzdG9yUmVzaXplID0gdHJ1ZSxcbiAgICBlbGVtZW50UmVzaXplID0gdHlwZW9mIFJlc2l6ZU9ic2VydmVyID09PSAnZnVuY3Rpb24nLFxuICAgIGxheW91dFNoaWZ0ID0gdHlwZW9mIEludGVyc2VjdGlvbk9ic2VydmVyID09PSAnZnVuY3Rpb24nLFxuICAgIGFuaW1hdGlvbkZyYW1lID0gZmFsc2VcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHJlZmVyZW5jZUVsID0gdW53cmFwRWxlbWVudChyZWZlcmVuY2UpO1xuICBjb25zdCBhbmNlc3RvcnMgPSBhbmNlc3RvclNjcm9sbCB8fCBhbmNlc3RvclJlc2l6ZSA/IFsuLi4ocmVmZXJlbmNlRWwgPyBnZXRPdmVyZmxvd0FuY2VzdG9ycyhyZWZlcmVuY2VFbCkgOiBbXSksIC4uLmdldE92ZXJmbG93QW5jZXN0b3JzKGZsb2F0aW5nKV0gOiBbXTtcbiAgYW5jZXN0b3JzLmZvckVhY2goYW5jZXN0b3IgPT4ge1xuICAgIGFuY2VzdG9yU2Nyb2xsICYmIGFuY2VzdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHVwZGF0ZSwge1xuICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGFuY2VzdG9yUmVzaXplICYmIGFuY2VzdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZSk7XG4gIH0pO1xuICBjb25zdCBjbGVhbnVwSW8gPSByZWZlcmVuY2VFbCAmJiBsYXlvdXRTaGlmdCA/IG9ic2VydmVNb3ZlKHJlZmVyZW5jZUVsLCB1cGRhdGUpIDogbnVsbDtcbiAgbGV0IHJlb2JzZXJ2ZUZyYW1lID0gLTE7XG4gIGxldCByZXNpemVPYnNlcnZlciA9IG51bGw7XG4gIGlmIChlbGVtZW50UmVzaXplKSB7XG4gICAgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoX3JlZiA9PiB7XG4gICAgICBsZXQgW2ZpcnN0RW50cnldID0gX3JlZjtcbiAgICAgIGlmIChmaXJzdEVudHJ5ICYmIGZpcnN0RW50cnkudGFyZ2V0ID09PSByZWZlcmVuY2VFbCAmJiByZXNpemVPYnNlcnZlcikge1xuICAgICAgICAvLyBQcmV2ZW50IHVwZGF0ZSBsb29wcyB3aGVuIHVzaW5nIHRoZSBgc2l6ZWAgbWlkZGxld2FyZS5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2Zsb2F0aW5nLXVpL2Zsb2F0aW5nLXVpL2lzc3Vlcy8xNzQwXG4gICAgICAgIHJlc2l6ZU9ic2VydmVyLnVub2JzZXJ2ZShmbG9hdGluZyk7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJlb2JzZXJ2ZUZyYW1lKTtcbiAgICAgICAgcmVvYnNlcnZlRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHZhciBfcmVzaXplT2JzZXJ2ZXI7XG4gICAgICAgICAgKF9yZXNpemVPYnNlcnZlciA9IHJlc2l6ZU9ic2VydmVyKSA9PSBudWxsIHx8IF9yZXNpemVPYnNlcnZlci5vYnNlcnZlKGZsb2F0aW5nKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB1cGRhdGUoKTtcbiAgICB9KTtcbiAgICBpZiAocmVmZXJlbmNlRWwgJiYgIWFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKHJlZmVyZW5jZUVsKTtcbiAgICB9XG4gICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShmbG9hdGluZyk7XG4gIH1cbiAgbGV0IGZyYW1lSWQ7XG4gIGxldCBwcmV2UmVmUmVjdCA9IGFuaW1hdGlvbkZyYW1lID8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHJlZmVyZW5jZSkgOiBudWxsO1xuICBpZiAoYW5pbWF0aW9uRnJhbWUpIHtcbiAgICBmcmFtZUxvb3AoKTtcbiAgfVxuICBmdW5jdGlvbiBmcmFtZUxvb3AoKSB7XG4gICAgY29uc3QgbmV4dFJlZlJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QocmVmZXJlbmNlKTtcbiAgICBpZiAocHJldlJlZlJlY3QgJiYgKG5leHRSZWZSZWN0LnggIT09IHByZXZSZWZSZWN0LnggfHwgbmV4dFJlZlJlY3QueSAhPT0gcHJldlJlZlJlY3QueSB8fCBuZXh0UmVmUmVjdC53aWR0aCAhPT0gcHJldlJlZlJlY3Qud2lkdGggfHwgbmV4dFJlZlJlY3QuaGVpZ2h0ICE9PSBwcmV2UmVmUmVjdC5oZWlnaHQpKSB7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gICAgcHJldlJlZlJlY3QgPSBuZXh0UmVmUmVjdDtcbiAgICBmcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lTG9vcCk7XG4gIH1cbiAgdXBkYXRlKCk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgdmFyIF9yZXNpemVPYnNlcnZlcjI7XG4gICAgYW5jZXN0b3JzLmZvckVhY2goYW5jZXN0b3IgPT4ge1xuICAgICAgYW5jZXN0b3JTY3JvbGwgJiYgYW5jZXN0b3IucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdXBkYXRlKTtcbiAgICAgIGFuY2VzdG9yUmVzaXplICYmIGFuY2VzdG9yLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHVwZGF0ZSk7XG4gICAgfSk7XG4gICAgY2xlYW51cElvID09IG51bGwgfHwgY2xlYW51cElvKCk7XG4gICAgKF9yZXNpemVPYnNlcnZlcjIgPSByZXNpemVPYnNlcnZlcikgPT0gbnVsbCB8fCBfcmVzaXplT2JzZXJ2ZXIyLmRpc2Nvbm5lY3QoKTtcbiAgICByZXNpemVPYnNlcnZlciA9IG51bGw7XG4gICAgaWYgKGFuaW1hdGlvbkZyYW1lKSB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShmcmFtZUlkKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogUmVzb2x2ZXMgd2l0aCBhbiBvYmplY3Qgb2Ygb3ZlcmZsb3cgc2lkZSBvZmZzZXRzIHRoYXQgZGV0ZXJtaW5lIGhvdyBtdWNoIHRoZVxuICogZWxlbWVudCBpcyBvdmVyZmxvd2luZyBhIGdpdmVuIGNsaXBwaW5nIGJvdW5kYXJ5IG9uIGVhY2ggc2lkZS5cbiAqIC0gcG9zaXRpdmUgPSBvdmVyZmxvd2luZyB0aGUgYm91bmRhcnkgYnkgdGhhdCBudW1iZXIgb2YgcGl4ZWxzXG4gKiAtIG5lZ2F0aXZlID0gaG93IG1hbnkgcGl4ZWxzIGxlZnQgYmVmb3JlIGl0IHdpbGwgb3ZlcmZsb3dcbiAqIC0gMCA9IGxpZXMgZmx1c2ggd2l0aCB0aGUgYm91bmRhcnlcbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9kZXRlY3RPdmVyZmxvd1xuICovXG5jb25zdCBkZXRlY3RPdmVyZmxvdyA9IGRldGVjdE92ZXJmbG93JDE7XG5cbi8qKlxuICogTW9kaWZpZXMgdGhlIHBsYWNlbWVudCBieSB0cmFuc2xhdGluZyB0aGUgZmxvYXRpbmcgZWxlbWVudCBhbG9uZyB0aGVcbiAqIHNwZWNpZmllZCBheGVzLlxuICogQSBudW1iZXIgKHNob3J0aGFuZCBmb3IgYG1haW5BeGlzYCBvciBkaXN0YW5jZSksIG9yIGFuIGF4ZXMgY29uZmlndXJhdGlvblxuICogb2JqZWN0IG1heSBiZSBwYXNzZWQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3Mvb2Zmc2V0XG4gKi9cbmNvbnN0IG9mZnNldCA9IG9mZnNldCQxO1xuXG4vKipcbiAqIE9wdGltaXplcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBieSBjaG9vc2luZyB0aGUgcGxhY2VtZW50XG4gKiB0aGF0IGhhcyB0aGUgbW9zdCBzcGFjZSBhdmFpbGFibGUgYXV0b21hdGljYWxseSwgd2l0aG91dCBuZWVkaW5nIHRvIHNwZWNpZnkgYVxuICogcHJlZmVycmVkIHBsYWNlbWVudC4gQWx0ZXJuYXRpdmUgdG8gYGZsaXBgLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2F1dG9QbGFjZW1lbnRcbiAqL1xuY29uc3QgYXV0b1BsYWNlbWVudCA9IGF1dG9QbGFjZW1lbnQkMTtcblxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgc2hpZnRpbmcgaXQgaW4gb3JkZXIgdG9cbiAqIGtlZXAgaXQgaW4gdmlldyB3aGVuIGl0IHdpbGwgb3ZlcmZsb3cgdGhlIGNsaXBwaW5nIGJvdW5kYXJ5LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL3NoaWZ0XG4gKi9cbmNvbnN0IHNoaWZ0ID0gc2hpZnQkMTtcblxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgZmxpcHBpbmcgdGhlIGBwbGFjZW1lbnRgXG4gKiBpbiBvcmRlciB0byBrZWVwIGl0IGluIHZpZXcgd2hlbiB0aGUgcHJlZmVycmVkIHBsYWNlbWVudChzKSB3aWxsIG92ZXJmbG93IHRoZVxuICogY2xpcHBpbmcgYm91bmRhcnkuIEFsdGVybmF0aXZlIHRvIGBhdXRvUGxhY2VtZW50YC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9mbGlwXG4gKi9cbmNvbnN0IGZsaXAgPSBmbGlwJDE7XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0aGF0IGFsbG93cyB5b3UgdG8gY2hhbmdlIHRoZSBzaXplIG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IFx1MjAxNFxuICogZm9yIGluc3RhbmNlLCBwcmV2ZW50IGl0IGZyb20gb3ZlcmZsb3dpbmcgdGhlIGNsaXBwaW5nIGJvdW5kYXJ5IG9yIG1hdGNoIHRoZVxuICogd2lkdGggb2YgdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL3NpemVcbiAqL1xuY29uc3Qgc2l6ZSA9IHNpemUkMTtcblxuLyoqXG4gKiBQcm92aWRlcyBkYXRhIHRvIGhpZGUgdGhlIGZsb2F0aW5nIGVsZW1lbnQgaW4gYXBwbGljYWJsZSBzaXR1YXRpb25zLCBzdWNoIGFzXG4gKiB3aGVuIGl0IGlzIG5vdCBpbiB0aGUgc2FtZSBjbGlwcGluZyBjb250ZXh0IGFzIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9oaWRlXG4gKi9cbmNvbnN0IGhpZGUgPSBoaWRlJDE7XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0byBwb3NpdGlvbiBhbiBpbm5lciBlbGVtZW50IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IHNvIHRoYXQgaXRcbiAqIGFwcGVhcnMgY2VudGVyZWQgdG8gdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2Fycm93XG4gKi9cbmNvbnN0IGFycm93ID0gYXJyb3ckMTtcblxuLyoqXG4gKiBQcm92aWRlcyBpbXByb3ZlZCBwb3NpdGlvbmluZyBmb3IgaW5saW5lIHJlZmVyZW5jZSBlbGVtZW50cyB0aGF0IGNhbiBzcGFuXG4gKiBvdmVyIG11bHRpcGxlIGxpbmVzLCBzdWNoIGFzIGh5cGVybGlua3Mgb3IgcmFuZ2Ugc2VsZWN0aW9ucy5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9pbmxpbmVcbiAqL1xuY29uc3QgaW5saW5lID0gaW5saW5lJDE7XG5cbi8qKlxuICogQnVpbHQtaW4gYGxpbWl0ZXJgIHRoYXQgd2lsbCBzdG9wIGBzaGlmdCgpYCBhdCBhIGNlcnRhaW4gcG9pbnQuXG4gKi9cbmNvbnN0IGxpbWl0U2hpZnQgPSBsaW1pdFNoaWZ0JDE7XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGB4YCBhbmQgYHlgIGNvb3JkaW5hdGVzIHRoYXQgd2lsbCBwbGFjZSB0aGUgZmxvYXRpbmcgZWxlbWVudFxuICogbmV4dCB0byBhIGdpdmVuIHJlZmVyZW5jZSBlbGVtZW50LlxuICovXG5jb25zdCBjb21wdXRlUG9zaXRpb24gPSAocmVmZXJlbmNlLCBmbG9hdGluZywgb3B0aW9ucykgPT4ge1xuICAvLyBUaGlzIGNhY2hlcyB0aGUgZXhwZW5zaXZlIGBnZXRDbGlwcGluZ0VsZW1lbnRBbmNlc3RvcnNgIGZ1bmN0aW9uIHNvIHRoYXRcbiAgLy8gbXVsdGlwbGUgbGlmZWN5Y2xlIHJlc2V0cyByZS11c2UgdGhlIHNhbWUgcmVzdWx0LiBJdCBvbmx5IGxpdmVzIGZvciBhXG4gIC8vIHNpbmdsZSBjYWxsLiBJZiBvdGhlciBmdW5jdGlvbnMgYmVjb21lIGV4cGVuc2l2ZSwgd2UgY2FuIGFkZCB0aGVtIGFzIHdlbGwuXG4gIGNvbnN0IGNhY2hlID0gbmV3IE1hcCgpO1xuICBjb25zdCBtZXJnZWRPcHRpb25zID0ge1xuICAgIHBsYXRmb3JtLFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcbiAgY29uc3QgcGxhdGZvcm1XaXRoQ2FjaGUgPSB7XG4gICAgLi4ubWVyZ2VkT3B0aW9ucy5wbGF0Zm9ybSxcbiAgICBfYzogY2FjaGVcbiAgfTtcbiAgcmV0dXJuIGNvbXB1dGVQb3NpdGlvbiQxKHJlZmVyZW5jZSwgZmxvYXRpbmcsIHtcbiAgICAuLi5tZXJnZWRPcHRpb25zLFxuICAgIHBsYXRmb3JtOiBwbGF0Zm9ybVdpdGhDYWNoZVxuICB9KTtcbn07XG5cbmV4cG9ydCB7IGFycm93LCBhdXRvUGxhY2VtZW50LCBhdXRvVXBkYXRlLCBjb21wdXRlUG9zaXRpb24sIGRldGVjdE92ZXJmbG93LCBmbGlwLCBoaWRlLCBpbmxpbmUsIGxpbWl0U2hpZnQsIG9mZnNldCwgcGxhdGZvcm0sIHNoaWZ0LCBzaXplIH07XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiLy8gYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvdWlfaW5wdXRfb3RwX2NvbnRyb2xsZXIuanNcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJpbnB1dFwiLCBcImRpZ2l0XCJdXG4gIHN0YXRpYyB2YWx1ZXMgPSB7XG4gICAgZ3JvdXBzOiBBcnJheVxuICB9XG5cbiAgY29ubmVjdCgpIHtcbiAgICB0aGlzLmlucHV0VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdGhpcy5oYW5kbGVJbnB1dC5iaW5kKHRoaXMpKVxuICAgIHRoaXMuaW5wdXRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5ZG93bi5iaW5kKHRoaXMpKVxuICAgIHRoaXMuaW5wdXRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLmhhbmRsZUZvY3VzLmJpbmQodGhpcykpXG4gICAgdGhpcy5pbnB1dFRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5oYW5kbGVCbHVyLmJpbmQodGhpcykpXG4gIH1cblxuICBoYW5kbGVJbnB1dChldmVudCkge1xuICAgIGNvbnN0IGlucHV0ID0gZXZlbnQudGFyZ2V0XG4gICAgY29uc3QgdmFsdWUgPSBpbnB1dC52YWx1ZS5yZXBsYWNlKC9cXEQvZywgJycpLnNsaWNlKDAsIHRoaXMudG90YWxEaWdpdHMpXG4gICAgaW5wdXQudmFsdWUgPSB2YWx1ZVxuICAgIHRoaXMudXBkYXRlRGlnaXRzKHZhbHVlKVxuICAgIHRoaXMuZm9jdXNEaWdpdCh2YWx1ZS5sZW5ndGgpXG4gIH1cblxuICBoYW5kbGVLZXlkb3duKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0JhY2tzcGFjZScgJiYgZXZlbnQudGFyZ2V0LnZhbHVlID09PSAnJykge1xuICAgICAgdGhpcy5mb2N1c1ByZXZpb3VzSW5wdXQoKVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUZvY3VzKCkge1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdmb2N1c2VkJylcbiAgICB0aGlzLmZvY3VzRGlnaXQodGhpcy5pbnB1dFRhcmdldC52YWx1ZS5sZW5ndGgpXG4gIH1cblxuICBoYW5kbGVCbHVyKCkge1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdmb2N1c2VkJylcbiAgICB0aGlzLmRpZ2l0VGFyZ2V0cy5mb3JFYWNoKGRpZ2l0ID0+IHtcbiAgICAgIGRpZ2l0LmNsYXNzTGlzdC5yZW1vdmUoJ3JpbmctMicsICdyaW5nLXJpbmcnLCAncmluZy1vZmZzZXQtYmFja2dyb3VuZCcpXG4gICAgfSlcbiAgfVxuXG4gIHVwZGF0ZURpZ2l0cyh2YWx1ZSkge1xuICAgIHRoaXMuZGlnaXRUYXJnZXRzLmZvckVhY2goKGRpZ2l0LCBpbmRleCkgPT4ge1xuICAgICAgZGlnaXQudGV4dENvbnRlbnQgPSB2YWx1ZVtpbmRleF0gfHwgJydcbiAgICAgIGRpZ2l0LmNsYXNzTGlzdC50b2dnbGUoJ2ZpbGxlZCcsICEhdmFsdWVbaW5kZXhdKVxuICAgIH0pXG4gIH1cblxuICBmb2N1c0RpZ2l0KGluZGV4KSB7XG4gICAgdGhpcy5kaWdpdFRhcmdldHMuZm9yRWFjaCgoZGlnaXQsIGkpID0+IHtcbiAgICAgIGlmIChpID09PSBpbmRleCkge1xuICAgICAgICBkaWdpdC5jbGFzc0xpc3QuYWRkKCdyaW5nLTInLCAncmluZy1yaW5nJywgJ3Jpbmctb2Zmc2V0LWJhY2tncm91bmQnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlnaXQuY2xhc3NMaXN0LnJlbW92ZSgncmluZy0yJywgJ3JpbmctcmluZycsICdyaW5nLW9mZnNldC1iYWNrZ3JvdW5kJylcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZm9jdXNQcmV2aW91c0lucHV0KCkge1xuICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHRoaXMuaW5wdXRUYXJnZXQudmFsdWVcbiAgICBpZiAoY3VycmVudFZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuaW5wdXRUYXJnZXQudmFsdWUgPSBjdXJyZW50VmFsdWUuc2xpY2UoMCwgLTEpXG4gICAgICB0aGlzLnVwZGF0ZURpZ2l0cyh0aGlzLmlucHV0VGFyZ2V0LnZhbHVlKVxuICAgICAgdGhpcy5mb2N1c0RpZ2l0KHRoaXMuaW5wdXRUYXJnZXQudmFsdWUubGVuZ3RoKVxuICAgIH1cbiAgfVxuXG4gIGdldCB0b3RhbERpZ2l0cygpIHtcbiAgICByZXR1cm4gdGhpcy5ncm91cHNWYWx1ZS5yZWR1Y2UoKHN1bSwgZ3JvdXApID0+IHN1bSArIGdyb3VwLCAwKVxuICB9XG59IiwgIi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpX21lbnViYXJfY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuaW1wb3J0IHsgY29tcHV0ZVBvc2l0aW9uLCBmbGlwLCBzaGlmdCwgb2Zmc2V0LCBhdXRvVXBkYXRlIH0gZnJvbSAnQGZsb2F0aW5nLXVpL2RvbSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJtZW51SXRlbVwiLCBcInN1Ym1lbnVUZW1wbGF0ZVwiXVxuXG4gIGNvbm5lY3QoKSB7XG4gICAgdGhpcy5hY3RpdmVTdWJtZW51cyA9IG5ldyBTZXQoKVxuICAgIHRoaXMuY2xlYW51cCA9IG51bGxcbiAgICB0aGlzLnN1Ym1lbnVzID0gbmV3IE1hcCgpXG4gICAgdGhpcy5oaWRlVGltZW91dCA9IG51bGxcbiAgICBcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSlcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLmhhbmRsZU1vdXNlT3Zlci5iaW5kKHRoaXMpKVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5oYW5kbGVNb3VzZU91dC5iaW5kKHRoaXMpKVxuICB9XG5cbiAgZGlzY29ubmVjdCgpIHtcbiAgICB0aGlzLmNsZWFudXBBbGxTdWJtZW51cygpXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcykpXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5oYW5kbGVNb3VzZU92ZXIuYmluZCh0aGlzKSlcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMuaGFuZGxlTW91c2VPdXQuYmluZCh0aGlzKSlcbiAgfVxuXG4gIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgY29uc3QgbWVudUl0ZW0gPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtdWktbWVudWJhci1pdGVtXSwgW2RhdGEtdWktbWVudWJhci1zdWJtZW51LWl0ZW1dJylcbiAgICBpZiAobWVudUl0ZW0pIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICBpZiAobWVudUl0ZW0uY2xvc2VzdCgnW2RhdGEtdWktbWVudWJhci10b3AtbGV2ZWxdJykgfHwgbWVudUl0ZW0uY2xvc2VzdCgnW2RhdGEtdWktbWVudWJhci1zdWJtZW51XScpKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlTWVudShtZW51SXRlbSlcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtdWktbWVudWJhci1zdWJtZW51XScpKSB7XG4gICAgICB0aGlzLmNsb3NlQWxsU3VibWVudXMoKVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU1vdXNlT3ZlcihldmVudCkge1xuICAgIGNvbnN0IHN1Ym1lbnVJdGVtID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXVpLW1lbnViYXItc3VibWVudS1pdGVtXScpXG4gICAgaWYgKHN1Ym1lbnVJdGVtICYmIHN1Ym1lbnVJdGVtLmNsb3Nlc3QoJ1tkYXRhLXVpLW1lbnViYXItdG9wLWxldmVsXScpKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5oaWRlVGltZW91dClcbiAgICAgIHRoaXMuc2hvd1N1Ym1lbnUoc3VibWVudUl0ZW0pXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlTW91c2VPdXQoZXZlbnQpIHtcbiAgICBjb25zdCBzdWJtZW51SXRlbSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS11aS1tZW51YmFyLXN1Ym1lbnUtaXRlbV0nKVxuICAgIGlmIChzdWJtZW51SXRlbSAmJiBzdWJtZW51SXRlbS5jbG9zZXN0KCdbZGF0YS11aS1tZW51YmFyLXRvcC1sZXZlbF0nKSkge1xuICAgICAgdGhpcy5oaWRlU3VibWVudVdpdGhEZWxheShzdWJtZW51SXRlbSlcbiAgICB9XG4gIH1cblxuICB0b2dnbGVNZW51KG1lbnVJdGVtKSB7XG4gICAgY29uc3QgaW5kZXggPSBtZW51SXRlbS5kYXRhc2V0LnVpTWVudWJhckl0ZW0gfHwgbWVudUl0ZW0uZGF0YXNldC51aU1lbnViYXJTdWJtZW51SXRlbVxuICAgIGNvbnN0IGhhc1N1Ym1lbnUgPSBtZW51SXRlbS5kYXRhc2V0Lmhhc1N1Ym1lbnUgPT09ICd0cnVlJ1xuXG4gICAgaWYgKGhhc1N1Ym1lbnUpIHtcbiAgICAgIGlmICh0aGlzLmFjdGl2ZVN1Ym1lbnVzLmhhcyhpbmRleCkpIHtcbiAgICAgICAgdGhpcy5jbG9zZVN1Ym1lbnUodGhpcy5zdWJtZW51cy5nZXQoaW5kZXgpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zaG93U3VibWVudShtZW51SXRlbSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coYENsaWNrZWQgbWVudSBpdGVtOiAke21lbnVJdGVtLnRleHRDb250ZW50LnRyaW0oKX1gKVxuICAgICAgdGhpcy5jbG9zZUFsbFN1Ym1lbnVzKClcbiAgICB9XG4gIH1cblxuICBzaG93U3VibWVudShtZW51SXRlbSkge1xuICAgIGNvbnN0IGluZGV4ID0gbWVudUl0ZW0uZGF0YXNldC51aU1lbnViYXJJdGVtIHx8IG1lbnVJdGVtLmRhdGFzZXQudWlNZW51YmFyU3VibWVudUl0ZW1cbiAgICBjb25zdCBoYXNTdWJtZW51ID0gbWVudUl0ZW0uZGF0YXNldC5oYXNTdWJtZW51ID09PSAndHJ1ZSdcblxuICAgIGlmIChoYXNTdWJtZW51KSB7XG4gICAgICAvLyBDbG9zZSBzaWJsaW5nIHN1Ym1lbnVzXG4gICAgICB0aGlzLmNsb3NlU2libGluZ1N1Ym1lbnVzKG1lbnVJdGVtKVxuXG4gICAgICBpZiAoIXRoaXMuc3VibWVudXMuaGFzKGluZGV4KSkge1xuICAgICAgICB0aGlzLmNyZWF0ZVN1Ym1lbnUobWVudUl0ZW0sIGluZGV4KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcGVuU3VibWVudShtZW51SXRlbSwgdGhpcy5zdWJtZW51cy5nZXQoaW5kZXgpKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhpZGVTdWJtZW51V2l0aERlbGF5KG1lbnVJdGVtKSB7XG4gICAgdGhpcy5oaWRlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3Qgc3VibWVudUluZGV4ID0gbWVudUl0ZW0uZGF0YXNldC51aU1lbnViYXJJdGVtIHx8IG1lbnVJdGVtLmRhdGFzZXQudWlNZW51YmFyU3VibWVudUl0ZW1cbiAgICAgIGlmIChzdWJtZW51SW5kZXggJiYgdGhpcy5zdWJtZW51cy5oYXMoc3VibWVudUluZGV4KSkge1xuICAgICAgICBjb25zdCBzdWJtZW51ID0gdGhpcy5zdWJtZW51cy5nZXQoc3VibWVudUluZGV4KVxuICAgICAgICBpZiAoIXN1Ym1lbnUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICB0aGlzLmNsb3NlU3VibWVudShzdWJtZW51KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgMzAwKVxuICB9XG5cbiAgY3JlYXRlU3VibWVudShtZW51SXRlbSwgaW5kZXgpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMuc3VibWVudVRlbXBsYXRlVGFyZ2V0XG4gICAgY29uc3Qgc3VibWVudUNvbnRlbnQgPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXN1Ym1lbnUtZm9yPVwiJHtpbmRleH1cIl1gKVxuICAgIFxuICAgIGlmIChzdWJtZW51Q29udGVudCkge1xuICAgICAgY29uc3Qgc3VibWVudSA9IHN1Ym1lbnVDb250ZW50LmNsb25lTm9kZSh0cnVlKVxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdWJtZW51KVxuICAgICAgdGhpcy5zdWJtZW51cy5zZXQoaW5kZXgsIHN1Ym1lbnUpXG4gICAgICB0aGlzLm9wZW5TdWJtZW51KG1lbnVJdGVtLCBzdWJtZW51KVxuICAgIH1cbiAgfVxuXG4gIG9wZW5TdWJtZW51KG1lbnVJdGVtLCBzdWJtZW51KSB7XG4gICAgbWVudUl0ZW0uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcInRydWVcIilcbiAgICBtZW51SXRlbS5kYXRhc2V0LnN0YXRlID0gXCJvcGVuXCJcbiAgICBzdWJtZW51LmRhdGFzZXQuc3RhdGUgPSBcIm9wZW5cIlxuICAgIHN1Ym1lbnUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxuICAgIFxuICAgIGNvbnN0IGluZGV4ID0gbWVudUl0ZW0uZGF0YXNldC51aU1lbnViYXJJdGVtIHx8IG1lbnVJdGVtLmRhdGFzZXQudWlNZW51YmFyU3VibWVudUl0ZW1cbiAgICB0aGlzLmFjdGl2ZVN1Ym1lbnVzLmFkZChpbmRleClcblxuICAgIHRoaXMuY2xlYW51cCA9IGF1dG9VcGRhdGUobWVudUl0ZW0sIHN1Ym1lbnUsICgpID0+IHtcbiAgICAgIHRoaXMucG9zaXRpb25TdWJtZW51KG1lbnVJdGVtLCBzdWJtZW51KVxuICAgIH0pXG4gIH1cblxuICBjbG9zZVN1Ym1lbnUoc3VibWVudSkge1xuICAgIGNvbnN0IGluZGV4ID0gc3VibWVudS5kYXRhc2V0LnN1Ym1lbnVGb3JcbiAgICBjb25zdCBtZW51SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXVpLW1lbnViYXItaXRlbT1cIiR7aW5kZXh9XCJdLCBbZGF0YS11aS1tZW51YmFyLXN1Ym1lbnUtaXRlbT1cIiR7aW5kZXh9XCJdYClcbiAgICBcbiAgICBpZiAobWVudUl0ZW0pIHtcbiAgICAgIG1lbnVJdGVtLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKVxuICAgICAgbWVudUl0ZW0uZGF0YXNldC5zdGF0ZSA9IFwiY2xvc2VkXCJcbiAgICB9XG4gICAgc3VibWVudS5kYXRhc2V0LnN0YXRlID0gXCJjbG9zZWRcIlxuICAgIHN1Ym1lbnUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgXG4gICAgdGhpcy5hY3RpdmVTdWJtZW51cy5kZWxldGUoaW5kZXgpXG4gICAgXG4gICAgaWYgKHRoaXMuY2xlYW51cCkge1xuICAgICAgdGhpcy5jbGVhbnVwKClcbiAgICAgIHRoaXMuY2xlYW51cCA9IG51bGxcbiAgICB9XG5cbiAgICAvLyBDbG9zZSBhbGwgY2hpbGQgc3VibWVudXNcbiAgICBzdWJtZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXVpLW1lbnViYXItc3VibWVudS1pdGVtXScpLmZvckVhY2goY2hpbGRJdGVtID0+IHtcbiAgICAgIGNvbnN0IGNoaWxkSW5kZXggPSBjaGlsZEl0ZW0uZGF0YXNldC51aU1lbnViYXJTdWJtZW51SXRlbVxuICAgICAgaWYgKHRoaXMuc3VibWVudXMuaGFzKGNoaWxkSW5kZXgpKSB7XG4gICAgICAgIHRoaXMuY2xvc2VTdWJtZW51KHRoaXMuc3VibWVudXMuZ2V0KGNoaWxkSW5kZXgpKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBjbG9zZVNpYmxpbmdTdWJtZW51cyhtZW51SXRlbSkge1xuICAgIGNvbnN0IHBhcmVudFN1Ym1lbnUgPSBtZW51SXRlbS5jbG9zZXN0KCdbZGF0YS11aS1tZW51YmFyLXN1Ym1lbnVdJylcbiAgICBjb25zdCBzaWJsaW5nSXRlbXMgPSBwYXJlbnRTdWJtZW51IFxuICAgICAgPyBwYXJlbnRTdWJtZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJzpzY29wZSA+IFtkYXRhLXVpLW1lbnViYXItc3VibWVudS1pdGVtXScpXG4gICAgICA6IHRoaXMubWVudUl0ZW1UYXJnZXRzXG5cbiAgICBzaWJsaW5nSXRlbXMuZm9yRWFjaChzaWJsaW5nID0+IHtcbiAgICAgIGlmIChzaWJsaW5nICE9PSBtZW51SXRlbSkge1xuICAgICAgICBjb25zdCBzaWJsaW5nSW5kZXggPSBzaWJsaW5nLmRhdGFzZXQudWlNZW51YmFySXRlbSB8fCBzaWJsaW5nLmRhdGFzZXQudWlNZW51YmFyU3VibWVudUl0ZW1cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlU3VibWVudXMuaGFzKHNpYmxpbmdJbmRleCkpIHtcbiAgICAgICAgICB0aGlzLmNsb3NlU3VibWVudSh0aGlzLnN1Ym1lbnVzLmdldChzaWJsaW5nSW5kZXgpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNsb3NlQWxsU3VibWVudXMoKSB7XG4gICAgdGhpcy5hY3RpdmVTdWJtZW51cy5mb3JFYWNoKGluZGV4ID0+IHtcbiAgICAgIGlmICh0aGlzLnN1Ym1lbnVzLmhhcyhpbmRleCkpIHtcbiAgICAgICAgdGhpcy5jbG9zZVN1Ym1lbnUodGhpcy5zdWJtZW51cy5nZXQoaW5kZXgpKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBjbGVhbnVwQWxsU3VibWVudXMoKSB7XG4gICAgdGhpcy5zdWJtZW51cy5mb3JFYWNoKHN1Ym1lbnUgPT4ge1xuICAgICAgaWYgKHN1Ym1lbnUucGFyZW50Tm9kZSkge1xuICAgICAgICBzdWJtZW51LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3VibWVudSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHRoaXMuc3VibWVudXMuY2xlYXIoKVxuICAgIHRoaXMuYWN0aXZlU3VibWVudXMuY2xlYXIoKVxuICAgIGlmICh0aGlzLmNsZWFudXApIHtcbiAgICAgIHRoaXMuY2xlYW51cCgpXG4gICAgICB0aGlzLmNsZWFudXAgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgcG9zaXRpb25TdWJtZW51KG1lbnVJdGVtLCBzdWJtZW51KSB7XG4gICAgY29uc3QgcGFyZW50U3VibWVudSA9IG1lbnVJdGVtLmNsb3Nlc3QoJ1tkYXRhLXVpLW1lbnViYXItc3VibWVudV0nKVxuICAgIGNvbnN0IHBsYWNlbWVudCA9IHBhcmVudFN1Ym1lbnUgPyAncmlnaHQtc3RhcnQnIDogJ2JvdHRvbS1zdGFydCdcblxuICAgIGNvbXB1dGVQb3NpdGlvbihtZW51SXRlbSwgc3VibWVudSwge1xuICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICBtaWRkbGV3YXJlOiBbXG4gICAgICAgIG9mZnNldCg0KSxcbiAgICAgICAgZmxpcCgpLFxuICAgICAgICBzaGlmdCh7cGFkZGluZzogNX0pXG4gICAgICBdXG4gICAgfSkudGhlbigoe3gsIHl9KSA9PiB7XG4gICAgICBPYmplY3QuYXNzaWduKHN1Ym1lbnUuc3R5bGUsIHtcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIGxlZnQ6IGAke3h9cHhgLFxuICAgICAgICB0b3A6IGAke3l9cHhgLFxuICAgICAgfSlcbiAgICB9KVxuICB9XG59IiwgIi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpX3BvcG92ZXJfY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuaW1wb3J0IHsgY29tcHV0ZVBvc2l0aW9uLCBmbGlwLCBzaGlmdCwgb2Zmc2V0LCBhcnJvdyB9IGZyb20gJ0BmbG9hdGluZy11aS9kb20nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIHN0YXRpYyB0YXJnZXRzID0gW1widHJpZ2dlclwiLCBcImNvbnRlbnRUZW1wbGF0ZVwiLCBcImFycm93XCJdXG4gIHN0YXRpYyB2YWx1ZXMgPSB7XG4gICAgcGxhY2VtZW50OiBTdHJpbmcsXG4gICAgb2Zmc2V0OiBOdW1iZXIsXG4gICAgYXJyb3c6IEJvb2xlYW4sXG4gICAgdHJpZ2dlclR5cGU6IFN0cmluZ1xuICB9XG5cbiAgY29ubmVjdCgpIHtcbiAgICB0aGlzLnZpc2libGUgPSBmYWxzZVxuICAgIHRoaXMuY2xpY2tPdXRzaWRlSGFuZGxlciA9IHRoaXMuY2xpY2tPdXRzaWRlLmJpbmQodGhpcylcbiAgICBcbiAgICBpZiAodGhpcy50cmlnZ2VyVHlwZVZhbHVlID09PSAnaG92ZXInKSB7XG4gICAgICB0aGlzLnRyaWdnZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuc2hvdy5iaW5kKHRoaXMpKVxuICAgICAgdGhpcy50cmlnZ2VyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLmhpZGUuYmluZCh0aGlzKSlcbiAgICB9XG4gIH1cblxuICBkaXNjb25uZWN0KCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja091dHNpZGVIYW5kbGVyKVxuICAgIGlmICh0aGlzLnRyaWdnZXJUeXBlVmFsdWUgPT09ICdob3ZlcicpIHtcbiAgICAgIHRoaXMudHJpZ2dlclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5zaG93LmJpbmQodGhpcykpXG4gICAgICB0aGlzLnRyaWdnZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuaGlkZS5iaW5kKHRoaXMpKVxuICAgIH1cbiAgICBpZiAodGhpcy5wb3BvdmVyQ29udGVudCkge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLnBvcG92ZXJDb250ZW50KVxuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZShldmVudCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgdGhpcy52aXNpYmxlID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3coKVxuICB9XG5cbiAgc2hvdygpIHtcbiAgICBpZiAoIXRoaXMucG9wb3ZlckNvbnRlbnQpIHtcbiAgICAgIHRoaXMucG9wb3ZlckNvbnRlbnQgPSB0aGlzLmNvbnRlbnRUZW1wbGF0ZVRhcmdldC5jb250ZW50LmZpcnN0RWxlbWVudENoaWxkLmNsb25lTm9kZSh0cnVlKVxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnBvcG92ZXJDb250ZW50KVxuICAgIH1cbiAgICB0aGlzLnBvcG92ZXJDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG4gICAgdGhpcy5wb3BvdmVyQ29udGVudC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbicgLy8gSGlkZSBjb250ZW50IHdoaWxlIHBvc2l0aW9uaW5nXG4gICAgXG4gICAgLy8gVXNlIHNldFRpbWVvdXQgdG8gZW5zdXJlIGNvbnRlbnQgaXMgcmVuZGVyZWQgYmVmb3JlIHBvc2l0aW9uaW5nXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnBvc2l0aW9uUG9wb3ZlcigpXG4gICAgICB0aGlzLnBvcG92ZXJDb250ZW50LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZScgLy8gU2hvdyBjb250ZW50IGFmdGVyIHBvc2l0aW9uaW5nXG4gICAgfSwgMClcblxuICAgIHRoaXMudmlzaWJsZSA9IHRydWVcbiAgICBpZiAodGhpcy50cmlnZ2VyVHlwZVZhbHVlID09PSAnY2xpY2snKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2tPdXRzaWRlSGFuZGxlcilcbiAgICB9XG4gIH1cblxuICBoaWRlKCkge1xuICAgIGlmICh0aGlzLnBvcG92ZXJDb250ZW50KSB7XG4gICAgICB0aGlzLnBvcG92ZXJDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICB9XG4gICAgdGhpcy52aXNpYmxlID0gZmFsc2VcbiAgICBpZiAodGhpcy50cmlnZ2VyVHlwZVZhbHVlID09PSAnY2xpY2snKSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2tPdXRzaWRlSGFuZGxlcilcbiAgICB9XG4gIH1cblxuICBjbGlja091dHNpZGUoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZWxlbWVudC5jb250YWlucyhldmVudC50YXJnZXQpICYmICF0aGlzLnBvcG92ZXJDb250ZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgIHRoaXMuaGlkZSgpXG4gICAgfVxuICB9XG5cbiAgcG9zaXRpb25Qb3BvdmVyKCkge1xuICAgIGNvbnN0IG1pZGRsZXdhcmUgPSBbXG4gICAgICBvZmZzZXQodGhpcy5vZmZzZXRWYWx1ZSksXG4gICAgICBmbGlwKCksXG4gICAgICBzaGlmdCh7cGFkZGluZzogNX0pLFxuICAgIF1cblxuICAgIGlmICh0aGlzLmFycm93VmFsdWUpIHtcbiAgICAgIGNvbnN0IGFycm93RWxlbWVudCA9IHRoaXMucG9wb3ZlckNvbnRlbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdWktcG9wb3Zlci10YXJnZXQ9XCJhcnJvd1wiXScpXG4gICAgICBpZiAoYXJyb3dFbGVtZW50KSB7XG4gICAgICAgIG1pZGRsZXdhcmUucHVzaChhcnJvdyh7IGVsZW1lbnQ6IGFycm93RWxlbWVudCB9KSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wdXRlUG9zaXRpb24odGhpcy50cmlnZ2VyVGFyZ2V0LCB0aGlzLnBvcG92ZXJDb250ZW50LCB7XG4gICAgICBwbGFjZW1lbnQ6IHRoaXMucGxhY2VtZW50VmFsdWUsXG4gICAgICBtaWRkbGV3YXJlOiBtaWRkbGV3YXJlLFxuICAgIH0pLnRoZW4oKHt4LCB5LCBwbGFjZW1lbnQsIG1pZGRsZXdhcmVEYXRhfSkgPT4ge1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnBvcG92ZXJDb250ZW50LnN0eWxlLCB7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICBsZWZ0OiBgJHt4fXB4YCxcbiAgICAgICAgdG9wOiBgJHt5fXB4YCxcbiAgICAgICAgekluZGV4OiAxMDAwLFxuICAgICAgfSlcblxuICAgICAgXG4gICAgICBpZiAodGhpcy5hcnJvd1ZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGFycm93RWxlbWVudCA9IHRoaXMucG9wb3ZlckNvbnRlbnQucXVlcnlTZWxlY3RvcignW2RhdGEtdWktcG9wb3Zlci10YXJnZXQ9XCJhcnJvd1wiXScpXG4gICAgICAgIGlmIChhcnJvd0VsZW1lbnQpIHtcbiAgICAgICAgICBjb25zdCB7eDogYXJyb3dYLCB5OiBhcnJvd1l9ID0gbWlkZGxld2FyZURhdGEuYXJyb3dcblxuICAgICAgICAgIGNvbnN0IHN0YXRpY1NpZGUgPSB7XG4gICAgICAgICAgICB0b3A6ICdib3R0b20nLFxuICAgICAgICAgICAgcmlnaHQ6ICdsZWZ0JyxcbiAgICAgICAgICAgIGJvdHRvbTogJ3RvcCcsXG4gICAgICAgICAgICBsZWZ0OiAncmlnaHQnLFxuICAgICAgICAgIH1bcGxhY2VtZW50LnNwbGl0KCctJylbMF1dXG5cbiAgICAgICAgICBPYmplY3QuYXNzaWduKGFycm93RWxlbWVudC5zdHlsZSwge1xuICAgICAgICAgICAgbGVmdDogYXJyb3dYICE9IG51bGwgPyBgJHthcnJvd1h9cHhgIDogJycsXG4gICAgICAgICAgICB0b3A6IGFycm93WSAhPSBudWxsID8gYCR7YXJyb3dZfXB4YCA6ICcnLFxuICAgICAgICAgICAgcmlnaHQ6ICcnLFxuICAgICAgICAgICAgYm90dG9tOiAnJyxcbiAgICAgICAgICAgIFtzdGF0aWNTaWRlXTogJy00cHgnLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG59IiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4vLyBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcInN0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4vLyAgIGNvbm5lY3QoKSB7XG4vLyAgIH1cbi8vXG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICIvLyBhcHAvamF2YXNjcmlwdC9jb250cm9sbGVycy91aV9yZXNpemFibGVfY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuaW1wb3J0IGludGVyYWN0IGZyb20gXCJpbnRlcmFjdGpzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHZhbHVlcyA9IHtcbiAgICBkaXJlY3Rpb246IFN0cmluZyxcbiAgICBwYW5lbHM6IEFycmF5XG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIHRoaXMuaW5pdGlhbGl6ZVJlc2l6YWJsZSgpXG4gIH1cblxuICBpbml0aWFsaXplUmVzaXphYmxlKCkge1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHRoaXMuZGlyZWN0aW9uVmFsdWUgPT09IFwiaG9yaXpvbnRhbFwiXG4gICAgY29uc3QgaGFuZGxlcyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wYW5lbC1yZXNpemUtaGFuZGxlLWVuYWJsZWQ9XCJ0cnVlXCJdJylcblxuICAgIGhhbmRsZXMuZm9yRWFjaCgoaGFuZGxlLCBpbmRleCkgPT4ge1xuICAgICAgaW50ZXJhY3QoaGFuZGxlKS5kcmFnZ2FibGUoe1xuICAgICAgICBheGlzOiBpc0hvcml6b250YWwgPyBcInhcIiA6IFwieVwiLFxuICAgICAgICBsaXN0ZW5lcnM6IHtcbiAgICAgICAgICBtb3ZlOiAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZQYW5lbCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wYW5lbC1pZD1cIiR7dGhpcy5lbGVtZW50LmlkfS1wYW5lbC0ke2luZGV4fVwiXWApXG4gICAgICAgICAgICBjb25zdCBuZXh0UGFuZWwgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcGFuZWwtaWQ9XCIke3RoaXMuZWxlbWVudC5pZH0tcGFuZWwtJHtpbmRleCArIDF9XCJdYClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcHJldlNpemUgPSBwYXJzZUZsb2F0KHByZXZQYW5lbC5kYXRhc2V0LnBhbmVsU2l6ZSlcbiAgICAgICAgICAgIGNvbnN0IG5leHRTaXplID0gcGFyc2VGbG9hdChuZXh0UGFuZWwuZGF0YXNldC5wYW5lbFNpemUpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsU2l6ZSA9IHByZXZTaXplICsgbmV4dFNpemVcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gaXNIb3Jpem9udGFsID8gXG4gICAgICAgICAgICAgIChldmVudC5keCAvIHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aCkgKiB0b3RhbFNpemUgOlxuICAgICAgICAgICAgICAoZXZlbnQuZHkgLyB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0KSAqIHRvdGFsU2l6ZVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBuZXdQcmV2U2l6ZSA9IE1hdGgubWF4KDEwLCBNYXRoLm1pbig5MCwgcHJldlNpemUgKyBkZWx0YSkpXG4gICAgICAgICAgICBjb25zdCBuZXdOZXh0U2l6ZSA9IHRvdGFsU2l6ZSAtIG5ld1ByZXZTaXplXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHByZXZQYW5lbC5zdHlsZS5mbGV4ID0gYCR7bmV3UHJldlNpemV9IDEgMCVgXG4gICAgICAgICAgICBuZXh0UGFuZWwuc3R5bGUuZmxleCA9IGAke25ld05leHRTaXplfSAxIDAlYFxuICAgICAgICAgICAgcHJldlBhbmVsLmRhdGFzZXQucGFuZWxTaXplID0gbmV3UHJldlNpemUudG9TdHJpbmcoKVxuICAgICAgICAgICAgbmV4dFBhbmVsLmRhdGFzZXQucGFuZWxTaXplID0gbmV3TmV4dFNpemUudG9TdHJpbmcoKVxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgYXJpYSB2YWx1ZXNcbiAgICAgICAgICAgIGhhbmRsZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVub3cnLCBuZXdQcmV2U2l6ZS50b0ZpeGVkKDApKVxuICAgICAgICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW1heCcsICc5MCcpXG4gICAgICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbWluJywgJzEwJylcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufSIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCI7XG4vL1xuIGV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4gICBjb25uZWN0KCkge1xuICAgfVxuICAgZGlzY29ubmVjdCgpIHtcbiAgIH1cbiB9XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwic3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy9cbi8vICAgZGlzY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gfVxuIiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4vLyBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcInN0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4vLyAgIGNvbm5lY3QoKSB7XG4vLyAgIH1cbi8vXG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICJcbiAgICAgICAgaW1wb3J0ICogYXMgbW9kdWxlMCBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2FjY29yZGlvbi9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMSBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2FjY29yZGlvbl9pdGVtL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUyIGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYWxlcnQvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTMgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hbGVydF9kaWFsb2cvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTQgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hdmF0YXIvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTUgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9iYWRnZS9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlNiBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2JyZWFkY3J1bWIvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTcgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9icmVhZGNydW1iX2l0ZW0vaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTggZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9idXR0b24vaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTkgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jYWxlbmRhci9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMTAgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jYXJkL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUxMSBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2Nhcm91c2VsL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUxMiBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2NvbW1hbmQvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTEzIGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvZGlhbG9nL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUxNCBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2Ryb3Bkb3duX21lbnUvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTE1IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvZHJvcGRvd25fbWVudV9pdGVtL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUxNiBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2lucHV0X290cC9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMTcgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9tZW51YmFyL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUxOCBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3BvcG92ZXIvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTE5IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvcHJvZ3Jlc3MvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTIwIGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvcmVzaXphYmxlL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUyMSBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3NrZWxldG9uL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUyMiBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3RhYmxlL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUyMyBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3RhYnMvaW5kZXguanMnXG4gICAgICAgIGNvbnN0IG1vZHVsZXMgPSBbe25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1hY2NvcmRpb24tLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUwLCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2FjY29yZGlvbi9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tYWNjb3JkaW9uLWl0ZW0tLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUxLCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2FjY29yZGlvbl9pdGVtL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1hbGVydC0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTIsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYWxlcnQvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWFsZXJ0LWRpYWxvZy0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTMsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYWxlcnRfZGlhbG9nL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1hdmF0YXItLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGU0LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2F2YXRhci9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tYmFkZ2UtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGU1LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2JhZGdlL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1icmVhZGNydW1iLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlNiwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9icmVhZGNydW1iL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1icmVhZGNydW1iLWl0ZW0tLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGU3LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2JyZWFkY3J1bWJfaXRlbS9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tYnV0dG9uLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlOCwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9idXR0b24vaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWNhbGVuZGFyLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlOSwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jYWxlbmRhci9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tY2FyZC0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTEwLCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2NhcmQvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWNhcm91c2VsLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMTEsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY2Fyb3VzZWwvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWNvbW1hbmQtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUxMiwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jb21tYW5kL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1kaWFsb2ctLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUxMywgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9kaWFsb2cvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWRyb3Bkb3duLW1lbnUtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUxNCwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9kcm9wZG93bl9tZW51L2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1kcm9wZG93bi1tZW51LWl0ZW0tLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUxNSwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9kcm9wZG93bl9tZW51X2l0ZW0vaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWlucHV0LW90cC0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTE2LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2lucHV0X290cC9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tbWVudWJhci0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTE3LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL21lbnViYXIvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXBvcG92ZXItLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUxOCwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9wb3BvdmVyL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1wcm9ncmVzcy0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTE5LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3Byb2dyZXNzL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1yZXNpemFibGUtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUyMCwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9yZXNpemFibGUvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXNrZWxldG9uLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMjEsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvc2tlbGV0b24vaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXRhYmxlLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMjIsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvdGFibGUvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXRhYnMtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUyMywgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90YWJzL2luZGV4LmpzJ31dXG4gICAgICAgIGV4cG9ydCBkZWZhdWx0IG1vZHVsZXM7XG4gICAgICAiLCAiLy8gVGhpcyBmaWxlIGlzIGF1dG8tZ2VuZXJhdGVkIGJ5IC4vYmluL3JhaWxzIHN0aW11bHVzOm1hbmlmZXN0OnVwZGF0ZVxuLy8gUnVuIHRoYXQgY29tbWFuZCB3aGVuZXZlciB5b3UgYWRkIGEgbmV3IGNvbnRyb2xsZXIgb3IgY3JlYXRlIHRoZW0gd2l0aFxuLy8gLi9iaW4vcmFpbHMgZ2VuZXJhdGUgc3RpbXVsdXMgY29udHJvbGxlck5hbWVcblxuaW1wb3J0IHsgYXBwbGljYXRpb24gfSBmcm9tIFwiLi9hcHBsaWNhdGlvblwiXG5cbmltcG9ydCBjb250cm9sbGVycyBmcm9tICcuLyoqLypfY29udHJvbGxlci5qcyc7XG5cbi8vIGltcG9ydCAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvaW5kZXguanMnXG5cblxuY29udHJvbGxlcnMuZm9yRWFjaCgoY29udHJvbGxlcikgPT4ge1xuICBhcHBsaWNhdGlvbi5yZWdpc3Rlcihjb250cm9sbGVyLm5hbWUsIGNvbnRyb2xsZXIubW9kdWxlLmRlZmF1bHQpO1xufSk7XG5cblxuaW1wb3J0IHVpQ29udHJvbGxlcnMgZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpLyoqLyppbmRleC5qc1wiXG5cblxuY29uc29sZS5sb2codWlDb250cm9sbGVycylcblxudWlDb250cm9sbGVycy5mb3JFYWNoKChjb250cm9sbGVyKSA9PiB7XG4gIGlmKGNvbnRyb2xsZXIubW9kdWxlLmRlZmF1bHQpe1xuICAgIC8vIC4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXNrZWxldG9uXG4gICAgbGV0IG5hbWUgPSBjb250cm9sbGVyLm5hbWUucmVwbGFjZShcIi0taW5kZXguanNcIiwgXCJcIilcbiAgICBuYW1lID0gbmFtZS5yZXBsYWNlKFwiLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tXCIsIFwiXCIpXG4gICAgbmFtZSA9IGB1aS0ke25hbWV9YFxuICAgIGNvbnNvbGUubG9nKFwiQURESU5ERyBDT05UUk9MTEVSXCIsIG5hbWUpXG4gICAgYXBwbGljYXRpb24ucmVnaXN0ZXIobmFtZSwgY29udHJvbGxlci5tb2R1bGUuZGVmYXVsdCk7XG4gIH1cblxufSk7XG5cbmNvbnNvbGUubG9nKGFwcGxpY2F0aW9uKVxuXG5cblxuXG5cblxuXG5cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsWUFBQUEsSUFBQSxTQUFnQkMsSUFBQUE7QUFBVSxpQkFBQSxFQUFBLENBQVFBLE1BQUFBLENBQVNBLEdBQU1DLFdBQVdELGNBQWlCQSxHQUFNQztRQUFNLEdDRTlFQyxJQUFBQSxRQUVQQyxJQUFBQTtBQUdHLGlCQUFTQyxFQUFLQyxJQUFBQTtBQUduQkgsY0FBYUc7QUFHYixjQUFNQyxLQUFLRCxHQUFPRSxTQUFTQyxlQUFlLEVBQUE7QUFHdENGLFVBQUFBLEdBQUdHLGtCQUFrQkosR0FBT0UsWUFBbUMsY0FBQSxPQUFoQkYsR0FBT0ssUUFBdUJMLEdBQU9LLEtBQUtKLEVBQUFBLE1BQVFBLE9BRW5HRCxLQUFTQSxHQUFPSyxLQUFLTCxFQUFBQSxJQUd2QkYsSUFBTUU7UUFD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bmRvdyIsICJ3aW4iLCAiaW5pdCIsICJ3aW5kb3ciLCAiZWwiLCAiZG9jdW1lbnQiLCAiY3JlYXRlVGV4dE5vZGUiLCAib3duZXJEb2N1bWVudCIsICJ3cmFwIiwgImdldFdpbmRvdyIsICJub2RlIiwgImRlZmF1bHRWaWV3IiwgIm9iamVjdCIsICJfdHlwZW9mIiwgImZ1bmMiLCAiaXMiLCAiZG9jRnJhZyIsICJub2RlVHlwZSIsICJudW1iZXIiLCAiYm9vbCIsICJzdHJpbmciLCAiZWxlbWVudCIsICJfd2luZG93IiwgInRlc3QiLCAiRWxlbWVudCIsICJub2RlTmFtZSIsICJwbGFpbk9iamVjdCIsICJjb25zdHJ1Y3RvciIsICJ0b1N0cmluZyIsICJhcnJheSIsICJsZW5ndGgiLCAic3BsaWNlIiwgImJlZm9yZU1vdmUiLCAiX3JlZiIsICJpbnRlcmFjdGlvbiIsICJwcmVwYXJlZCIsICJuYW1lIiwgImF4aXMiLCAiY29vcmRzIiwgImN1ciIsICJwYWdlIiwgInkiLCAic3RhcnQiLCAiY2xpZW50IiwgInZlbG9jaXR5IiwgIngiLCAibW92ZSIsICJfcmVmMiIsICJpRXZlbnQiLCAib3Bwb3NpdGUiLCAiZGVsdGEiLCAiZHJhZyIsICJpZCIsICJpbnN0YWxsIiwgInNjb3BlIiwgImFjdGlvbnMiLCAiSW50ZXJhY3RhYmxlIiwgImRlZmF1bHRzIiwgInByb3RvdHlwZSIsICJkcmFnZ2FibGUiLCAibWFwIiwgIm1ldGhvZERpY3QiLCAibGlzdGVuZXJzIiwgImFyZyIsICJpbnRlcmFjdGFibGUiLCAiYnV0dG9ucyIsICJkcmFnT3B0aW9ucyIsICJvcHRpb25zIiwgImVuYWJsZWQiLCAicG9pbnRlcklzRG93biIsICJwb2ludGVyVHlwZSIsICJtb3VzZUJ1dHRvbnMiLCAiYWN0aW9uIiwgImxvY2tBeGlzIiwgInN0YXJ0QXhpcyIsICJ0aGlzIiwgInNldFBlckFjdGlvbiIsICJzZXRPbkV2ZW50cyIsICJnZXRDdXJzb3IiLCAiZmlsdGVyRXZlbnRUeXBlIiwgInR5cGUiLCAic2VhcmNoIiwgImRyYWckMSIsICJkb21PYmplY3RzIiwgIkRvY3VtZW50RnJhZ21lbnQiLCAiYmxhbmsiLCAiU1ZHRWxlbWVudCIsICJTVkdTVkdFbGVtZW50IiwgIlNWR0VsZW1lbnRJbnN0YW5jZSIsICJIVE1MRWxlbWVudCIsICJFdmVudCIsICJUb3VjaCIsICJQb2ludGVyRXZlbnQiLCAiTVNQb2ludGVyRXZlbnQiLCAiZG9tT2JqZWN0cyQxIiwgImJyb3dzZXIiLCAibmF2aWdhdG9yIiwgInN1cHBvcnRzVG91Y2giLCAiRG9jdW1lbnRUb3VjaCIsICJzdXBwb3J0c1BvaW50ZXJFdmVudCIsICJwb2ludGVyRW5hYmxlZCIsICJpc0lPUyIsICJwbGF0Zm9ybSIsICJpc0lPUzciLCAiYXBwVmVyc2lvbiIsICJpc0llOSIsICJ1c2VyQWdlbnQiLCAiaXNPcGVyYU1vYmlsZSIsICJhcHBOYW1lIiwgInByZWZpeGVkTWF0Y2hlc1NlbGVjdG9yIiwgInBFdmVudFR5cGVzIiwgInVwIiwgImRvd24iLCAib3ZlciIsICJvdXQiLCAiY2FuY2VsIiwgIndoZWVsRXZlbnQiLCAiYnJvd3NlciQxIiwgIm5vZGVDb250YWlucyIsICJwYXJlbnQiLCAiY2hpbGQiLCAiY29udGFpbnMiLCAicGFyZW50Tm9kZSIsICJjbG9zZXN0IiwgInNlbGVjdG9yIiwgIm1hdGNoZXNTZWxlY3RvciIsICJob3N0IiwgInJlcGxhY2UiLCAiZ2V0UGFyZW50IiwgImdldE5vZGVQYXJlbnRzIiwgImxpbWl0IiwgInBhcmVudFBhcmVudCIsICJwYXJlbnRzIiwgInVuc2hpZnQiLCAibWF0Y2hlc1VwVG8iLCAiZ2V0QWN0dWFsRWxlbWVudCIsICJjb3JyZXNwb25kaW5nVXNlRWxlbWVudCIsICJnZXRFbGVtZW50Q2xpZW50UmVjdCIsICJjbGllbnRSZWN0IiwgImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsICJnZXRDbGllbnRSZWN0cyIsICJsZWZ0IiwgInJpZ2h0IiwgInRvcCIsICJib3R0b20iLCAid2lkdGgiLCAiaGVpZ2h0IiwgImdldEVsZW1lbnRSZWN0IiwgInJlbGV2YW50V2luZG93IiwgInNjcm9sbCIsICJzY3JvbGxYIiwgImRvY3VtZW50RWxlbWVudCIsICJzY3JvbGxMZWZ0IiwgInNjcm9sbFkiLCAic2Nyb2xsVG9wIiwgImdldFBhdGgiLCAicGF0aCIsICJwdXNoIiwgInRyeVNlbGVjdG9yIiwgInZhbHVlIiwgInF1ZXJ5U2VsZWN0b3IiLCAiZXh0ZW5kIiwgImRlc3QiLCAic291cmNlIiwgInByb3AiLCAiZ2V0U3RyaW5nT3B0aW9uUmVzdWx0IiwgInRhcmdldCIsICJnZXRSZWN0IiwgInJlc29sdmVSZWN0TGlrZSIsICJmdW5jdGlvbkFyZ3MiLCAicmV0dXJuVmFsdWUiLCAiYXBwbHkiLCAicmVjdFRvWFkiLCAicmVjdCIsICJ0bGJyVG9YeXdoIiwgImFkZEVkZ2VzIiwgImVkZ2VzIiwgImdldE9yaWdpblhZIiwgImFjdGlvbk5hbWUiLCAiYWN0aW9uT3B0aW9ucyIsICJvcmlnaW4iLCAibm9ybWFsaXplIiwgImZpbHRlciIsICJhcmd1bWVudHMiLCAiX3R5cGVPclByZWZpeCIsICJyZXN1bHQiLCAic3BsaXQiLCAiZm9yRWFjaCIsICJ0IiwgIl9pMiIsICJfbGlzdGVuZXJzMiIsICJsIiwgInByZWZpeCIsICJwIiwgImNvbmNhdCIsICJ0cmltIiwgImh5cG90IiwgIk1hdGgiLCAic3FydCIsICJWRU5ET1JfUFJFRklYRVMiLCAicG9pbnRlckV4dGVuZCIsICJfX3NldCIsICJfbG9vcCIsICJzb21lIiwgImluZGV4T2YiLCAiT2JqZWN0IiwgImRlZmluZVByb3BlcnR5IiwgImdldCIsICJzZXQiLCAiY29uZmlndXJhYmxlIiwgImNvcHlDb29yZHMiLCAic3JjIiwgInRpbWVTdGFtcCIsICJzZXRaZXJvQ29vcmRzIiwgInRhcmdldE9iaiIsICJpc05hdGl2ZVBvaW50ZXIiLCAicG9pbnRlciIsICJkb20iLCAiZ2V0WFkiLCAieHkiLCAiZ2V0UGFnZVhZIiwgImdldFBvaW50ZXJJZCIsICJwb2ludGVySWQiLCAiaWRlbnRpZmllciIsICJzZXRDb29yZHMiLCAicG9pbnRlcnMiLCAicG9pbnRlckF2ZXJhZ2UiLCAiZ2V0VG91Y2hQYWlyIiwgImV2ZW50IiwgInRvdWNoZXMiLCAiY2hhbmdlZFRvdWNoZXMiLCAiYXZlcmFnZSIsICJwYWdlWCIsICJwYWdlWSIsICJjbGllbnRYIiwgImNsaWVudFkiLCAic2NyZWVuWCIsICJzY3JlZW5ZIiwgInRvdWNoQkJveCIsICJtaW5YIiwgIm1pbiIsICJtaW5ZIiwgIm1heFgiLCAibWF4IiwgIm1heFkiLCAidG91Y2hEaXN0YW5jZSIsICJkZWx0YVNvdXJjZSIsICJzb3VyY2VYIiwgInNvdXJjZVkiLCAiZHgiLCAiZHkiLCAidG91Y2hBbmdsZSIsICJhdGFuMiIsICJQSSIsICJnZXRQb2ludGVyVHlwZSIsICJ1bmRlZmluZWQiLCAiZ2V0RXZlbnRUYXJnZXRzIiwgImNvbXBvc2VkUGF0aCIsICJkb21VdGlscyIsICJjdXJyZW50VGFyZ2V0IiwgIkJhc2VFdmVudCIsICJfY2xhc3NDYWxsQ2hlY2siLCAiaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkIiwgInByb3BhZ2F0aW9uU3RvcHBlZCIsICJfaW50ZXJhY3Rpb24iLCAiX2NyZWF0ZUNsYXNzIiwgImtleSIsICJfcHJveHkiLCAibWVyZ2UiLCAiaXRlbSIsICJmcm9tIiwgImZpbmRJbmRleCIsICJpIiwgImZpbmQiLCAiRHJvcEV2ZW50IiwgIl9CYXNlRXZlbnQiLCAiX2luaGVyaXRzIiwgIl9zdXBlciIsICJfY3JlYXRlU3VwZXIiLCAiZHJvcFN0YXRlIiwgImRyYWdFdmVudCIsICJfdGhpcyIsICJjYWxsIiwgImRyb3B6b25lIiwgInJlbGF0ZWRUYXJnZXQiLCAicHJldiIsICJfdGhpczIiLCAicmVqZWN0ZWQiLCAiZXZlbnRzIiwgImVudGVyIiwgInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsICJhY3RpdmVEcm9wcyIsICJpbmRleCIsICJhcnIiLCAiZGVhY3RpdmF0ZUV2ZW50IiwgImZpcmUiLCAiZmlyZUFjdGl2YXRpb25FdmVudHMiLCAiX2k2IiwgIl9hY3RpdmVEcm9wcyRzbGljZTIiLCAic2xpY2UiLCAiX2FjdGl2ZURyb3BzJHNsaWNlMiRfIiwgImdldEFjdGl2ZURyb3BzIiwgImRyYWdFbGVtZW50IiwgImRyYWdnYWJsZUVsZW1lbnQiLCAiZHJvcHMiLCAiX2ludGVyYWN0YWJsZXMkbGlzdDIiLCAiaW50ZXJhY3RhYmxlcyIsICJsaXN0IiwgImRyb3AiLCAiYWNjZXB0IiwgIl9pNCIsICJfZHJvcHpvbmUkZ2V0QWxsRWxlbWUyIiwgImdldEFsbEVsZW1lbnRzIiwgImRyb3B6b25lRWxlbWVudCIsICJfaTgiLCAiYWN0aXZlRHJvcCIsICJnZXREcm9wIiwgInBvaW50ZXJFdmVudCIsICJ2YWxpZERyb3BzIiwgIl9pMTAiLCAiX2Ryb3BTdGF0ZSRhY3RpdmVEcm9wMiIsICJfZHJvcFN0YXRlJGFjdGl2ZURyb3AzIiwgImlzVmFsaWQiLCAiZHJvcENoZWNrIiwgImRyb3BJbmRleCIsICJlbGVtZW50cyIsICJkZWVwZXN0Tm9kZUluZGV4IiwgImhpZ2hlck5vZGUiLCAibG93ZXJOb2RlIiwgImRlZXBlc3ROb2RlUGFyZW50cyIsICJjdXJyZW50Tm9kZSIsICJkZWVwZXN0Tm9kZSIsICJjdXJyZW50Tm9kZVBhcmVudCIsICJkZWVwZXN0Tm9kZVBhcmVudCIsICJhbmNlc3RyeVN0YXJ0IiwgIm93bmVyU1ZHRWxlbWVudCIsICJjdXJyZW50Tm9kZVBhcmVudHMiLCAiY29tbW9uSW5kZXgiLCAibGFzdENoaWxkIiwgInByZXZpb3VzU2libGluZyIsICJoaWdoZXJJbmRleCIsICJwYXJzZUludCIsICJnZXRDb21wdXRlZFN0eWxlIiwgInpJbmRleCIsICJnZXREcm9wRXZlbnRzIiwgIl9wb2ludGVyRXZlbnQiLCAiZHJvcEV2ZW50cyIsICJsZWF2ZSIsICJhY3RpdmF0ZSIsICJkZWFjdGl2YXRlIiwgImRyYWdMZWF2ZSIsICJwcmV2RHJvcHpvbmUiLCAiZHJhZ0VudGVyIiwgImZpcmVEcm9wRXZlbnRzIiwgIm9uRXZlbnRDcmVhdGVkIiwgIl9yZWYzIiwgImR5bmFtaWNEcm9wIiwgImRyb3BSZXN1bHQiLCAiaW50ZXJhY3QiLCAiaW50ZXJhY3RTdGF0aWMiLCAidXNlUGx1Z2luIiwgIm5vcm1hbGl6ZWQiLCAibm9ybWFsaXplTGlzdGVuZXJzIiwgImNvcnJlY3RlZCIsICJrZXlzIiwgInJlZHVjZSIsICJhY2MiLCAicHJldkxpc3RlbmVycyIsICJvZmYiLCAib24iLCAib25kcm9wIiwgIm9uZHJvcGFjdGl2YXRlIiwgIm9uZHJvcGRlYWN0aXZhdGUiLCAib25kcmFnZW50ZXIiLCAib25kcmFnbGVhdmUiLCAib25kcm9wbW92ZSIsICJvdmVybGFwIiwgImNoZWNrZXIiLCAiZHJvcEVsZW1lbnQiLCAiZHJvcHBlZCIsICJkcm9wT3ZlcmxhcCIsICJwb2ludGVyVXRpbHMiLCAiaG9yaXpvbnRhbCIsICJ2ZXJ0aWNhbCIsICJkcmFnUmVjdCIsICJjeCIsICJjeSIsICJuZXdWYWx1ZSIsICJwaGFzZWxlc3NUeXBlcyIsICJkcmFnZW50ZXIiLCAiZHJhZ2xlYXZlIiwgImRyb3BhY3RpdmF0ZSIsICJkcm9wZGVhY3RpdmF0ZSIsICJkcm9wbW92ZSIsICJfcmVmNCIsICJfcmVmNSIsICJfcmVmNiIsICJfcmVmNyIsICJkcm9wJDEiLCAidXBkYXRlR2VzdHVyZVByb3BzIiwgInBoYXNlIiwgInN0YXJ0aW5nIiwgImVuZGluZyIsICJkaXN0YW5jZSIsICJib3giLCAic2NhbGUiLCAiZHMiLCAiYW5nbGUiLCAiZGEiLCAiZ2VzdHVyZSIsICJzdGFydERpc3RhbmNlIiwgInN0YXJ0QW5nbGUiLCAicHJldkV2ZW50IiwgIkluZmluaXR5IiwgImlzTmFOIiwgImJlZm9yZSIsICJnZXN0dXJhYmxlIiwgImdlc3R1cmVPcHRpb25zIiwgImdlc3R1cmUkMSIsICJjaGVja1Jlc2l6ZUVkZ2UiLCAiaW50ZXJhY3RhYmxlRWxlbWVudCIsICJtYXJnaW4iLCAiYWJzIiwgImVkZ2UiLCAidXBkYXRlRXZlbnRBeGVzIiwgInJlc2l6ZUF4ZXMiLCAicmVzaXplRXZlbnQiLCAicmVzaXplIiwgInNxdWFyZSIsICJheGVzIiwgInJlcXVlc3QiLCAiY3Vyc29ycyIsICJ0b3BsZWZ0IiwgImJvdHRvbXJpZ2h0IiwgInRvcHJpZ2h0IiwgImJvdHRvbWxlZnQiLCAiZGVmYXVsdE1hcmdpbiIsICJyZXNpemFibGUiLCAicHJlc2VydmVBc3BlY3RSYXRpbyIsICJfcmVjdHMiLCAicHJldmlvdXMiLCAiZGVsdGFSZWN0IiwgImludmVydCIsICJpbnZlcnRpYmxlIiwgImN1cnJlbnQiLCAiX2ludGVyYWN0aW9uJF9yZWN0cyIsICJzdGFydFJlY3QiLCAic3dhcCIsICJyZXNpemVPcHRpb25zIiwgInJlc2l6ZUVkZ2VzIiwgIl9sYXRlc3RQb2ludGVyIiwgImV2ZW50VGFyZ2V0IiwgIk5hTiIsICJjdXJzb3JLZXkiLCAiX3JlZjgiLCAicmVzaXplJDEiLCAibGFzdFRpbWUiLCAicmFmIiwgImNhbGxiYWNrIiwgInRva2VuIiwgImdsb2JhbCIsICJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCAiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCAidmVuZG9ycyIsICJ2ZW5kb3IiLCAiYmluZCIsICJjdXJyVGltZSIsICJEYXRlIiwgIm5vdyIsICJ0aW1lVG9DYWxsIiwgInNldFRpbWVvdXQiLCAiY2xlYXJUaW1lb3V0IiwgImF1dG9TY3JvbGwiLCAiY29udGFpbmVyIiwgInNwZWVkIiwgImlzU2Nyb2xsaW5nIiwgInByZXZUaW1lIiwgInN0b3AiLCAiZ2V0Q29udGFpbmVyIiwgImR0IiwgInMiLCAic2Nyb2xsQnkiLCAicHJldlNjcm9sbCIsICJnZXRTY3JvbGwiLCAiY3VyU2Nyb2xsIiwgImNoZWNrIiwgIl9vcHRpb25zJGFjdGlvbk5hbWUkYSIsICJvbkludGVyYWN0aW9uTW92ZSIsICJpbnRlcmFjdGluZyIsICJzaW11bGF0aW9uIiwgImlubmVyV2lkdGgiLCAiaW5uZXJIZWlnaHQiLCAiYm9keSIsICJhdXRvU2Nyb2xsUGx1Z2luIiwgImF1dG9zY3JvbGwiLCAicGVyQWN0aW9uIiwgImF1dG9TY3JvbGwkMSIsICJ3YXJuT25jZSIsICJtZXRob2QiLCAibWVzc2FnZSIsICJ3YXJuZWQiLCAiY29uc29sZSIsICJ3YXJuIiwgImNvcHlBY3Rpb24iLCAic3R5bGVDdXJzb3IiLCAiYWN0aW9uQ2hlY2tlciIsICJJbnRlcmFjdGFibGVNZXRob2RzIiwgImdldEFjdGlvbiIsICJidXR0b24iLCAiaWdub3JlRnJvbSIsICJfYmFja0NvbXBhdE9wdGlvbiIsICJhbGxvd0Zyb20iLCAidmFsaWRhdGVBY3Rpb24iLCAidGVzdElnbm9yZUFsbG93IiwgIndpdGhpbkludGVyYWN0aW9uTGltaXQiLCAidmFsaWRhdGVNYXRjaGVzIiwgIm1hdGNoZXMiLCAibWF0Y2hFbGVtZW50cyIsICJsZW4iLCAibWF0Y2giLCAibWF0Y2hFbGVtZW50IiwgIm1hdGNoQWN0aW9uIiwgImdldEFjdGlvbkluZm8iLCAicHVzaE1hdGNoZXMiLCAiZm9yRWFjaE1hdGNoIiwgImFjdGlvbkluZm8iLCAibWFudWFsU3RhcnQiLCAicHJlcGFyZSIsICJzZXRJbnRlcmFjdGlvbkN1cnNvciIsICJtYXhBY3Rpb25zIiwgIm1heFBlckVsZW1lbnQiLCAiYXV0b1N0YXJ0TWF4IiwgImF1dG9TdGFydCIsICJtYXhJbnRlcmFjdGlvbnMiLCAiYWN0aXZlSW50ZXJhY3Rpb25zIiwgImludGVyYWN0YWJsZUNvdW50IiwgImVsZW1lbnRDb3VudCIsICJfc2NvcGUkaW50ZXJhY3Rpb25zJGwyIiwgImludGVyYWN0aW9ucyIsICJvdGhlckFjdGlvbiIsICJzZXRDdXJzb3IiLCAiY3Vyc29yIiwgInByZXZDdXJzb3JFbGVtZW50IiwgImN1cnNvckVsZW1lbnQiLCAic3R5bGUiLCAiY3Vyc29yQ2hlY2tlciIsICJfaW50ZXJhY3RpbmciLCAiYmFzZSIsICJwb2ludGVyV2FzTW92ZWQiLCAiYXV0b1N0YXJ0JDIiLCAiZHJhZ0F4aXMiLCAiYWJzWCIsICJhYnNZIiwgInRhcmdldE9wdGlvbnMiLCAiY3VycmVudEF4aXMiLCAiZ2V0RHJhZ2dhYmxlIiwgImRvd25Qb2ludGVyIiwgImRvd25FdmVudCIsICJ0aGlzQXhpcyIsICJnZXRIb2xkRHVyYXRpb24iLCAiaG9sZCIsICJkZWxheSIsICJiYXNlUGx1Z2luIiwgImF1dG9TdGFydEhvbGRUaW1lciIsICJkdXBsaWNhdGUiLCAiaG9sZCQxIiwgInByZXZlbnREZWZhdWx0IiwgIm9uSW50ZXJhY3Rpb25FdmVudCIsICJjaGVja0FuZFByZXZlbnREZWZhdWx0IiwgImludGVyYWN0YWJsZVByZXZlbnREZWZhdWx0IiwgInNldHRpbmciLCAic3VwcG9ydHNQYXNzaXZlIiwgImRvYyIsICJkb2NPcHRpb25zIiwgImdldERvY09wdGlvbnMiLCAicGFzc2l2ZSIsICJkb2NFdmVudHMiLCAibGlzdGVuZXIiLCAiZXZlbnRUeXBlIiwgImlzTm9uTmF0aXZlRXZlbnQiLCAic3Vic3RyIiwgInBoYXNlcyIsICJjbG9uZSIsICJNb2RpZmljYXRpb24iLCAic3RhdGVzIiwgInN0YXJ0T2Zmc2V0IiwgInN0YXJ0RGVsdGEiLCAiZW5kUmVzdWx0IiwgInN0YXJ0RWRnZXMiLCAiY3JlYXRlUmVzdWx0IiwgInBhZ2VDb29yZHMiLCAibW9kaWZpZXJMaXN0IiwgImFjdGlvbk1vZGlmaWVycyIsICJtb2RpZmllcnMiLCAibWV0aG9kcyIsICJfbWV0aG9kcyIsICJtIiwgInByZXBhcmVTdGF0ZXMiLCAiZmlsbEFyZyIsICJwcmVFbmQiLCAic3RhcnRBbGwiLCAic2V0QWxsIiwgIl90aGlzJHN0YXRlczIiLCAic3RhdGUiLCAic2tpcE1vZGlmaWVycyIsICJ1bm1vZGlmaWVkUmVjdCIsICJ1bm1vZGlmaWVkRWRnZXMiLCAibmV3UmVzdWx0IiwgIl9zdGF0ZSRtZXRob2RzIiwgImxhc3RNb2RpZmllckNvb3JkcyIsICJzaG91bGREbyIsICJyZWN0VXRpbHMiLCAiZXZlbnRQcm9wcyIsICJyZWN0RGVsdGEiLCAicHJldkNvb3JkcyIsICJwcmV2UmVjdCIsICJyZWN0Q2hhbmdlZCIsICJjaGFuZ2VkIiwgImN1ckNvb3JkcyIsICJzdGFydENvb3JkcyIsICJjdXJEZWx0YSIsICJfcmVmMyRfaSIsICJjb29yZHNTZXQiLCAibW9kaWZpZWRDb29yZHMiLCAiYWRqdXN0bWVudCIsICJhcHBseVRvSW50ZXJhY3Rpb24iLCAiZG9QcmVlbmQiLCAiZW5kUG9zaXRpb24iLCAiYmVmb3JlRW5kIiwgIm1vZGlmaWVyQXJnIiwgIl90aGlzJHN0YXRlczQiLCAiX21vZGlmaWVyTGlzdCRpbmRleCIsICJfcmVmNCRpbnRlcmFjdGlvbiIsICJtb2RpZmljYXRpb24iLCAiX21vZGlmaWNhdGlvbiRyZXN1bHQiLCAiX2kxMiIsICJfcmVmNiRfaSIsICJyZXF1aXJlRW5kT25seSIsICJlbmRPbmx5IiwgInNldFN0YXJ0IiwgIm90aGVyIiwgIm1ha2VNb2RpZmllciIsICJtb2R1bGUiLCAibW9kaWZpZXIiLCAiX29wdGlvbnMiLCAiZW5hYmxlIiwgImRpc2FibGUiLCAiX2RlZmF1bHRzIiwgImFkZEV2ZW50TW9kaWZpZXJzIiwgIm1vZGlmaWVyc0Jhc2UiLCAicmV0IiwgInNldEFuZEFwcGx5IiwgInJlc3RvcmVJbnRlcmFjdGlvbkNvb3JkcyIsICJJbnRlcmFjdEV2ZW50IiwgImN0cmxLZXkiLCAic2hpZnRLZXkiLCAiYWx0S2V5IiwgIm1ldGFLZXkiLCAieDAiLCAieTAiLCAidDAiLCAiZHVyYXRpb24iLCAiY2xpZW50WDAiLCAiY2xpZW50WTAiLCAic3dpcGUiLCAiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsICJkb3duVGltZSIsICJnZXRTd2lwZSIsICJ2ZWxvY2l0eVkiLCAidmVsb2NpdHlYIiwgImRlZmluZVByb3BlcnRpZXMiLCAiUG9pbnRlckluZm8iLCAiZG93blRhcmdldCIsICJfUHJveHlWYWx1ZXMiLCAiX1Byb3h5TWV0aG9kcyIsICJpZENvdW50ZXIiLCAiSW50ZXJhY3Rpb24iLCAic2NvcGVGaXJlIiwgIl9zY29wZUZpcmUiLCAiX2VuZGluZyIsICJfc3RvcHBlZCIsICJkb01vdmUiLCAic2lnbmFsQXJnIiwgIl9pZCIsICJ0aGF0IiwgIl9sb29wMiIsICJfa2V5IiwgInBvaW50ZXJJbmRleCIsICJ1cGRhdGVQb2ludGVyIiwgInBvaW50ZXJJbmZvIiwgIl9kb1BoYXNlIiwgImR1cGxpY2F0ZU1vdmUiLCAicG9pbnRlck1vdmVUb2xlcmFuY2UiLCAiZ2V0UG9pbnRlckluZGV4IiwgImN1ckV2ZW50VGFyZ2V0IiwgImVuZCIsICJyZW1vdmVQb2ludGVyIiwgImVuZFBoYXNlUmVzdWx0IiwgImN1clBvaW50ZXIiLCAiX25vdyIsICJfdXBkYXRlTGF0ZXN0UG9pbnRlciIsICJfdGhpcyRpbnRlcmFjdGFibGUiLCAiX2NyZWF0ZVByZXBhcmVkRXZlbnQiLCAiX2ZpcmVFdmVudCIsICJiZWZvcmVBY3Rpb24iLCAiYXBwbHlQZW5kaW5nIiwgIm9mZnNldCIsICJwZW5kaW5nIiwgImFkZFRvQ29vcmRzIiwgIm9mZnNldEJ5IiwgInRvdGFsIiwgIm9mZnNldCQxIiwgIkluZXJ0aWFTdGF0ZSIsICJhY3RpdmUiLCAiaXNNb2RpZmllZCIsICJzbW9vdGhFbmQiLCAiYWxsb3dSZXN1bWUiLCAibW9kaWZpZXJDb3VudCIsICJ2MCIsICJ0ZSIsICJ0YXJnZXRPZmZzZXQiLCAibW9kaWZpZWRPZmZzZXQiLCAiY3VycmVudE9mZnNldCIsICJsYW1iZGFfdjAiLCAib25lX3ZlX3YwIiwgInRpbWVvdXQiLCAiZ2V0T3B0aW9ucyIsICJ2ZWxvY2l0eUNsaWVudCIsICJwb2ludGVyU3BlZWQiLCAiY29weUZyb20iLCAibWluU3BlZWQiLCAiZW5kU3BlZWQiLCAic3RhcnRJbmVydGlhIiwgInN0YXJ0U21vb3RoRW5kIiwgInN0YXJ0VmVsb2NpdHkiLCAibGFtYmRhIiwgInJlc2lzdGFuY2UiLCAiaW5lcnRpYUR1ciIsICJsb2ciLCAib25OZXh0RnJhbWUiLCAiaW5lcnRpYVRpY2siLCAic21vb3RoRW5kVGljayIsICJ0aWNrRm4iLCAiX3RoaXMzIiwgInN0YXJ0WCIsICJzdGFydFkiLCAiY3BYIiwgImNwWSIsICJlbmRYIiwgImVuZFkiLCAicG9zaXRpb24iLCAiX3RoaXM0IiwgIm5ld09mZnNldCIsICJwcm9ncmVzcyIsICJleHAiLCAiX2dldFFCZXppZXJWYWx1ZSIsICJfdGhpczUiLCAic21vb3RoRW5kRHVyYXRpb24iLCAiZWFzZU91dFF1YWQiLCAiaW5lcnRpYSIsICJpbmVydGlhc3RhcnQiLCAicmVzdW1lIiwgInAxIiwgInAyIiwgInAzIiwgImlUIiwgImIiLCAiYyIsICJkIiwgImluZXJ0aWEkMSIsICJmaXJlVW50aWxJbW1lZGlhdGVTdG9wcGVkIiwgIkV2ZW50YWJsZSIsICJ0eXBlcyIsICJldmVudExpc3QiLCAiX2xpc3RlbmVycyR0eXBlMiIsICJzdWJMaXN0ZW5lciIsICJfZWxlbWVudCIsICJGYWtlRXZlbnQiLCAib3JpZ2luYWxFdmVudCIsICJwRXh0ZW5kIiwgInN0b3BQcm9wYWdhdGlvbiIsICJwYXJhbSIsICJjYXB0dXJlIiwgIm9wdGlvbnNNYXRjaCIsICJhIiwgIl9zY29wZSRkb2N1bWVudCIsICJ0YXJnZXRzIiwgImRlbGVnYXRlZEV2ZW50cyIsICJkb2N1bWVudHMiLCAiZXZlbnRzTWV0aG9kcyIsICJhZGQiLCAicmVtb3ZlIiwgImFkZERlbGVnYXRlIiwgImNvbnRleHQiLCAib3B0aW9uYWxBcmciLCAiX2kzIiwgImRlbGVnYXRlTGlzdGVuZXIiLCAiZGVsZWdhdGVVc2VDYXB0dXJlIiwgImRlbGVnYXRlcyIsICJkZWxlZ2F0ZSIsICJyZW1vdmVEZWxlZ2F0ZSIsICJtYXRjaEZvdW5kIiwgImVudHJ5IiwgInN1cHBvcnRzT3B0aW9ucyIsICJhZGRFdmVudExpc3RlbmVyIiwgInJlbW92ZUV2ZW50TGlzdGVuZXIiLCAidGFyZ2V0SW5kZXgiLCAidHlwZUlzRW1wdHkiLCAidHlwZUxpc3RlbmVycyIsICJoYXNPd25Qcm9wZXJ0eSIsICJmYWtlRXZlbnQiLCAiX2k1IiwgImNyZWF0ZUVsZW1lbnQiLCAiZmluZGVyIiwgIm1ldGhvZE9yZGVyIiwgImRldGFpbHMiLCAiX2ZpbmRlciRtZXRob2RPcmRlcjIiLCAic2ltdWxhdGlvblJlc3VtZSIsICJtb3VzZU9yUGVuIiwgImZpcnN0Tm9uQWN0aXZlIiwgIl9zY29wZSRpbnRlcmFjdGlvbnMkbDQiLCAiaGFzUG9pbnRlcklkIiwgIl9zY29wZSRpbnRlcmFjdGlvbnMkbDYiLCAiaGFzUG9pbnRlciIsICJfc2NvcGUkaW50ZXJhY3Rpb25zJGw4IiwgImlkbGUiLCAiX3Njb3BlJGludGVyYWN0aW9ucyRsMTAiLCAiZmluZGVyJDEiLCAibWV0aG9kTmFtZXMiLCAiZG9PbkludGVyYWN0aW9ucyIsICJfcG9pbnRlclV0aWxzJGdldEV2ZW4iLCAicHJldlRvdWNoVGltZSIsICJfZXZlbnQkY2hhbmdlZFRvdWNoZXMyIiwgImNoYW5nZWRUb3VjaCIsICJzZWFyY2hEZXRhaWxzIiwgImdldEludGVyYWN0aW9uIiwgImludmFsaWRQb2ludGVyIiwgIl9tYXRjaGVzJF9pIiwgIm5ldyIsICJvbkRvY1NpZ25hbCIsICJldmVudE1ldGhvZE5hbWUiLCAiZXZlbnRNZXRob2QiLCAiZXZlbnRPcHRpb25zIiwgIl9pMTQiLCAiX2RvY0V2ZW50cyRfaSIsICJyZWxlYXNlUG9pbnRlcnNPblJlbW92ZWRFbHMiLCAiX2ludGVyYWN0aW9uJHBvaW50ZXJzMiIsICJwb2ludGVyRG93biIsICJwb2ludGVyTW92ZSIsICJwb2ludGVyVXAiLCAiZG9jdW1lbnRCbHVyIiwgIl9JbnRlcmFjdGlvbkJhc2UiLCAiX2NsYXNzIiwgIkludGVyYWN0aW9uQmFzZSIsICJkZXN0cm95IiwgImludGVyYWN0aW9ucyQxIiwgIk9uT2ZmTWV0aG9kIiwgImRlZmF1bHRDb250ZXh0IiwgInNjb3BlRXZlbnRzIiwgIl9hY3Rpb25zIiwgIl9jb250ZXh0IiwgIl93aW4iLCAiX2RvYyIsICJfc2NvcGVFdmVudHMiLCAib25zdGFydCIsICJvbm1vdmUiLCAib25lbmQiLCAib25pbmVydGlhc3RhcnQiLCAiX3RoaXMkX2FjdGlvbnMkbWFwJGFjIiwgImFjdGlvbkZpbHRlciIsICJfb25PZmYiLCAiT2ZmIiwgIk9uIiwgIm9wdGlvbk5hbWVfIiwgIm9wdGlvbk5hbWUiLCAib3B0aW9uVmFsdWUiLCAidXBkYXRlUGVyQWN0aW9uTGlzdGVuZXJzIiwgIkFycmF5IiwgInF1ZXJ5U2VsZWN0b3JBbGwiLCAidGFyZ2V0Tm9kZSIsICJ0ZXN0SWdub3JlIiwgInRlc3RBbGxvdyIsICJ0eXBlQXJnIiwgImxpc3RlbmVyQXJnIiwgIl9saXN0ZW5lcnMkX3R5cGUyIiwgImFjdGlvbk5hbWVfIiwgIm1ldGhvZE5hbWUiLCAicmVjdENoZWNrZXIiLCAiZGVsZWdhdGVkIiwgIl9kZWxlZ2F0ZWQkaSIsICJJbnRlcmFjdGFibGVTZXQiLCAic2VsZWN0b3JNYXAiLCAiYWRkTGlzdGVuZXJzIiwgImludGVyYWN0YWJsZXNPblRhcmdldCIsICJhZGREb2N1bWVudCIsICJpc1NlbGVjdG9yIiwgImluQ29udGV4dCIsICJfdGhpcyRsaXN0MiIsICJTY29wZSIsICJmbG9vciIsICJyYW5kb20iLCAiaXNJbml0aWFsaXplZCIsICJsaXN0ZW5lck1hcHMiLCAiZ2V0RXhpc3RpbmciLCAiZ2xvYmFsRXZlbnRzIiwgImdldFBvaW50ZXJBdmVyYWdlIiwgImdldFRvdWNoQkJveCIsICJnZXRUb3VjaERpc3RhbmNlIiwgImdldFRvdWNoQW5nbGUiLCAidmVyc2lvbiIsICJwcm9jZXNzIiwgInVzZSIsICJwbHVnaW4iLCAiaXNTZXQiLCAiX3R5cGUyIiwgImRlYnVnIiwgIl90aGlzJHNjb3BlJGludGVyYWN0aTIiLCAicmVtb3ZlRG9jdW1lbnQiLCAiX3BsdWdpbnMiLCAib25XaW5kb3dVbmxvYWQiLCAiX0ludGVyYWN0YWJsZUJhc2UiLCAiX2NsYXNzMiIsICJfZ2V0IiwgIl9nZXRQcm90b3R5cGVPZiIsICJJbnRlcmFjdGFibGVCYXNlIiwgIl90aGlzJGxpc3RlbmVyTWFwczIiLCAicGx1Z2luSXNJbnN0YWxsZWQiLCAicGx1Z2luSWRSb290IiwgIm90aGVySWQiLCAiZ2V0RG9jSW5kZXgiLCAiZG9jSW5kZXgiLCAiaW50ZXJhY3QkMSIsICJfZ2xvYmFsIiwgImdsb2JhbFRoaXMiLCAiZ3JpZCIsICJjb29yZEZpZWxkcyIsICJ4RmllbGQiLCAieUZpZWxkIiwgImdyaWRGdW5jIiwgInJhbmdlIiwgIl9ncmlkJGxpbWl0cyIsICJsaW1pdHMiLCAiX2dyaWQkb2Zmc2V0IiwgIl9jb29yZEZpZWxkcyRfaSIsICJncmlkeCIsICJyb3VuZCIsICJncmlkeSIsICJzbmFwcGVyc1BsdWdpbiIsICJzbmFwcGVycyIsICJhbGxTbmFwcGVycyIsICJjcmVhdGVTbmFwR3JpZCIsICJhc3BlY3RSYXRpbyIsICJfc3RhdGUkb3B0aW9ucyIsICJyYXRpbyIsICJfc3RhdGUkb3B0aW9uczIiLCAiZXF1YWxEZWx0YSIsICJsaW5rZWRFZGdlcyIsICJ4SXNQcmltYXJ5QXhpcyIsICJzaWduIiwgImVkZ2VTaWduIiwgInN1Yk1vZGlmaWNhdGlvbiIsICJfb2JqZWN0U3ByZWFkIiwgImluaXRpYWxDb29yZHMiLCAiYXNwZWN0TWV0aG9kIiwgInNldEVxdWFsRGVsdGEiLCAic2V0UmF0aW8iLCAiY29ycmVjdGVkUmVjdCIsICJuZXdIZWlnaHQiLCAibmV3V2lkdGgiLCAiYXNwZWN0UmF0aW8kMSIsICJub29wIiwgInJ1YmJlcmJhbmQiLCAiZ2V0UmVzdHJpY3Rpb25SZWN0IiwgInJlc3RyaWN0IiwgImVsZW1lbnRSZWN0IiwgInJlc3RyaWN0aW9uIiwgIndpZHRoRGlmZiIsICJoZWlnaHREaWZmIiwgInJlc3RyaWN0JDEiLCAibm9Jbm5lciIsICJub091dGVyIiwgImZpeFJlY3QiLCAicmVzdHJpY3RFZGdlcyIsICJpbm5lciIsICJvdXRlciIsICJyZXN0cmljdEVkZ2VzJDEiLCAiXyIsICJyZXN0cmljdFJlY3QkMSIsICJub01pbiIsICJub01heCIsICJyZXN0cmljdFNpemUkMSIsICJtaW5TaXplIiwgIm1heFNpemUiLCAic25hcCIsICJzbmFwT2Zmc2V0IiwgIm9mZnNldFdpdGhPcmlnaW4iLCAib3B0aW9uc09yaWdpbiIsICJvZmZzZXRSZWN0IiwgInJlbGF0aXZlUG9pbnRzIiwgIm9mZnNldHMiLCAicmVsYXRpdmVQb2ludCIsICJyZWxhdGl2ZVgiLCAicmVsYXRpdmVZIiwgInNuYXBUYXJnZXQiLCAiaW5SYW5nZSIsICJzbmFwJDEiLCAic25hcFNpemUiLCAidGFyZ2V0RmllbGRzIiwgInJlbGF0aXZlIiwgIl9zdGF0ZSR0YXJnZXRGaWVsZHMyIiwgIl9zdGF0ZSR0YXJnZXRGaWVsZHMyJCIsICJzbmFwU2l6ZSQxIiwgImFsbCIsICJyZXN0cmljdFJlY3QiLCAicmVzdHJpY3RTaXplIiwgInNuYXBFZGdlcyIsICJzcHJpbmciLCAiYXZvaWQiLCAidHJhbnNmb3JtIiwgIl9hbGwiLCAibW9kaWZpZXJzJDEiLCAiaW50ZXJ2YWwiLCAidGFwVGltZSIsICJkb3VibGUiLCAicHJldlRhcCIsICJvcmlnaW5YIiwgIm9yaWdpblkiLCAicG9pbnRlckV2ZW50cyIsICJjbGVhckhvbGQiLCAidGltZXIiLCAibWluRHVyYXRpb24iLCAiX3NpZ25hbEFyZyR0YXJnZXRzMiIsICJob2xkRHVyYXRpb24iLCAiZXZlbnRhYmxlIiwgImNvbGxlY3RFdmVudFRhcmdldHMiLCAidGFwIiwgImRvdWJsZXRhcCIsICJfYXJnJHRhcmdldHMiLCAicHJvcHMiLCAiX3N1YnRyYWN0T3JpZ2luIiwgIl9hZGRPcmlnaW4iLCAiX2ludGVyYWN0aW9uJHBvaW50ZXJzIiwgImVuZEhvbGRSZXBlYXQiLCAiaG9sZEludGVydmFsSGFuZGxlIiwgImNsZWFySW50ZXJ2YWwiLCAiaG9sZFJlcGVhdCIsICJob2xkUmVwZWF0SW50ZXJ2YWwiLCAiaG9sZHJlcGVhdCIsICJlbmRlclR5cGVzIiwgImNvdW50IiwgImhvbGRSZXBlYXQkMSIsICJfX2JhY2tDb21wYXRPcHRpb24iLCAiaW50ZXJhY3RhYmxlVGFyZ2V0cyIsICJyZWZsb3ciLCAiUHJvbWlzZSIsICJwcm9taXNlcyIsICJyZWZsb3dQcm9taXNlIiwgInJ1bm5pbmdJbnRlcmFjdGlvbiIsICJfcmVmbG93UHJvbWlzZSIsICJyZXNvbHZlIiwgIl9yZWZsb3dSZXNvbHZlIiwgInh5d2giLCAidGhlbiIsICJyZWZsb3ckMSIsICJkZWZhdWx0IiwgImV4cG9ydHMiLCAiX3VudXNlZCIsICJleHRlbmRlZEV2ZW50IiwgImFwcGxpY2F0aW9uIiwgImVycm9yIiwgIm1lc3NhZ2UiLCAibWF0Y2giLCAic2hpZnQiLCAiZmlsdGVyIiwgInNpemUiLCAibWF0Y2giLCAib2xkVmFsdWUiLCAiZXJyb3IiLCAiY29uc3RydWN0b3IiLCAibWVzc2FnZSIsICJhcHBsaWNhdGlvbiIsICJlbGVtZW50IiwgImZpbHRlciIsICJoaWRkZW5DbGFzcyIsICJwcmVzZXJ2ZU9yaWdpbmFsQ2xhc3MiLCAiZGVmYXVsdE9wdGlvbnMiLCAiZGVmYXVsdE9wdGlvbnMiLCAiZGVmYXVsdE9wdGlvbnMiLCAiZm9ybWF0IiwgImRlZmF1bHRPcHRpb25zIiwgImRlZmF1bHRPcHRpb25zIiwgImxvY2FsaXplIiwgIm9mZnNldCIsICJmb3JtYXRMb25nIiwgImZvcm1hdCIsICJkZWZhdWx0T3B0aW9ucyIsICJvZmZzZXQiLCAiZGVmYXVsdE9wdGlvbnMiLCAibWVzc2FnZSIsICJob3RrZXlzIiwgInBsYXRmb3JtIiwgIm1heCIsICJvZmZzZXQiLCAicGxhdGZvcm0iLCAicGxhY2VtZW50cyIsICJzaWRlcyIsICJzaWRlIiwgInBsYWNlbWVudCIsICJvdmVyZmxvdyIsICJwbGF0Zm9ybSIsICJ4IiwgInkiLCAibWluIiwgIm1heCIsICJnZXRDb21wdXRlZFN0eWxlIiwgImdldENvbXB1dGVkU3R5bGUiLCAib2Zmc2V0IiwgInNoaWZ0IiwgImZsaXAiLCAiYXJyb3ciLCAiY29tcHV0ZVBvc2l0aW9uIiwgImNvbXB1dGVQb3NpdGlvbiIsICJvZmZzZXQiLCAiZmxpcCIsICJzaGlmdCIsICJjb21wdXRlUG9zaXRpb24iLCAib2Zmc2V0IiwgImZsaXAiLCAic2hpZnQiLCAib2Zmc2V0IiwgImZsaXAiLCAic2hpZnQiLCAiYXJyb3ciLCAiY29tcHV0ZVBvc2l0aW9uIiwgImludGVyYWN0IiwgIkNvbnRyb2xsZXIiLCAiQ29udHJvbGxlciIsICJtb2R1bGVzIl0KfQo=
