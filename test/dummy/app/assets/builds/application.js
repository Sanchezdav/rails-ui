"use strict";
(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __export = (target, all) => {
    for (var name in all)
      __defProp(target, name, { get: all[name], enumerable: true });
  };
  var __copyProps = (to, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to, key) && key !== except)
          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
    }
    return to;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    // If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));
  var __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);

  // node_modules/interactjs/dist/interact.min.js
  var require_interact_min = __commonJS({
    "node_modules/interactjs/dist/interact.min.js"(exports, module) {
      !function(t, e) {
        "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : false ? (void 0)(e) : (t = "undefined" != typeof globalThis ? globalThis : t || self).interact = e();
      }(exports, function() {
        "use strict";
        function t(t2, e2) {
          var n2 = Object.keys(t2);
          if (Object.getOwnPropertySymbols) {
            var r2 = Object.getOwnPropertySymbols(t2);
            e2 && (r2 = r2.filter(function(e3) {
              return Object.getOwnPropertyDescriptor(t2, e3).enumerable;
            })), n2.push.apply(n2, r2);
          }
          return n2;
        }
        function e(e2) {
          for (var n2 = 1; n2 < arguments.length; n2++) {
            var r2 = null != arguments[n2] ? arguments[n2] : {};
            n2 % 2 ? t(Object(r2), true).forEach(function(t2) {
              a(e2, t2, r2[t2]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e2, Object.getOwnPropertyDescriptors(r2)) : t(Object(r2)).forEach(function(t2) {
              Object.defineProperty(e2, t2, Object.getOwnPropertyDescriptor(r2, t2));
            });
          }
          return e2;
        }
        function n(t2) {
          return n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          }, n(t2);
        }
        function r(t2, e2) {
          if (!(t2 instanceof e2)) throw new TypeError("Cannot call a class as a function");
        }
        function i(t2, e2) {
          for (var n2 = 0; n2 < e2.length; n2++) {
            var r2 = e2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(t2, d(r2.key), r2);
          }
        }
        function o(t2, e2, n2) {
          return e2 && i(t2.prototype, e2), n2 && i(t2, n2), Object.defineProperty(t2, "prototype", { writable: false }), t2;
        }
        function a(t2, e2, n2) {
          return (e2 = d(e2)) in t2 ? Object.defineProperty(t2, e2, { value: n2, enumerable: true, configurable: true, writable: true }) : t2[e2] = n2, t2;
        }
        function s(t2, e2) {
          if ("function" != typeof e2 && null !== e2) throw new TypeError("Super expression must either be null or a function");
          t2.prototype = Object.create(e2 && e2.prototype, { constructor: { value: t2, writable: true, configurable: true } }), Object.defineProperty(t2, "prototype", { writable: false }), e2 && l(t2, e2);
        }
        function c(t2) {
          return c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          }, c(t2);
        }
        function l(t2, e2) {
          return l = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          }, l(t2, e2);
        }
        function u(t2) {
          if (void 0 === t2) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
          return t2;
        }
        function p(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = c(t2);
            if (e2) {
              var i2 = c(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return function(t3, e3) {
              if (e3 && ("object" == typeof e3 || "function" == typeof e3)) return e3;
              if (void 0 !== e3) throw new TypeError("Derived constructors may only return object or undefined");
              return u(t3);
            }(this, n2);
          };
        }
        function f() {
          return f = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function(t2, e2, n2) {
            var r2 = function(t3, e3) {
              for (; !Object.prototype.hasOwnProperty.call(t3, e3) && null !== (t3 = c(t3)); ) ;
              return t3;
            }(t2, e2);
            if (r2) {
              var i2 = Object.getOwnPropertyDescriptor(r2, e2);
              return i2.get ? i2.get.call(arguments.length < 3 ? t2 : n2) : i2.value;
            }
          }, f.apply(this, arguments);
        }
        function d(t2) {
          var e2 = function(t3, e3) {
            if ("object" != typeof t3 || null === t3) return t3;
            var n2 = t3[Symbol.toPrimitive];
            if (void 0 !== n2) {
              var r2 = n2.call(t3, e3 || "default");
              if ("object" != typeof r2) return r2;
              throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            return ("string" === e3 ? String : Number)(t3);
          }(t2, "string");
          return "symbol" == typeof e2 ? e2 : e2 + "";
        }
        var h = function(t2) {
          return !(!t2 || !t2.Window) && t2 instanceof t2.Window;
        }, v = void 0, g = void 0;
        function m(t2) {
          v = t2;
          var e2 = t2.document.createTextNode("");
          e2.ownerDocument !== t2.document && "function" == typeof t2.wrap && t2.wrap(e2) === e2 && (t2 = t2.wrap(t2)), g = t2;
        }
        function y(t2) {
          return h(t2) ? t2 : (t2.ownerDocument || t2).defaultView || g.window;
        }
        "undefined" != typeof window && window && m(window);
        var b = function(t2) {
          return !!t2 && "object" === n(t2);
        }, x = function(t2) {
          return "function" == typeof t2;
        }, w = { window: function(t2) {
          return t2 === g || h(t2);
        }, docFrag: function(t2) {
          return b(t2) && 11 === t2.nodeType;
        }, object: b, func: x, number: function(t2) {
          return "number" == typeof t2;
        }, bool: function(t2) {
          return "boolean" == typeof t2;
        }, string: function(t2) {
          return "string" == typeof t2;
        }, element: function(t2) {
          if (!t2 || "object" !== n(t2)) return false;
          var e2 = y(t2) || g;
          return /object|function/.test("undefined" == typeof Element ? "undefined" : n(Element)) ? t2 instanceof Element || t2 instanceof e2.Element : 1 === t2.nodeType && "string" == typeof t2.nodeName;
        }, plainObject: function(t2) {
          return b(t2) && !!t2.constructor && /function Object\b/.test(t2.constructor.toString());
        }, array: function(t2) {
          return b(t2) && void 0 !== t2.length && x(t2.splice);
        } };
        function E(t2) {
          var e2 = t2.interaction;
          if ("drag" === e2.prepared.name) {
            var n2 = e2.prepared.axis;
            "x" === n2 ? (e2.coords.cur.page.y = e2.coords.start.page.y, e2.coords.cur.client.y = e2.coords.start.client.y, e2.coords.velocity.client.y = 0, e2.coords.velocity.page.y = 0) : "y" === n2 && (e2.coords.cur.page.x = e2.coords.start.page.x, e2.coords.cur.client.x = e2.coords.start.client.x, e2.coords.velocity.client.x = 0, e2.coords.velocity.page.x = 0);
          }
        }
        function T(t2) {
          var e2 = t2.iEvent, n2 = t2.interaction;
          if ("drag" === n2.prepared.name) {
            var r2 = n2.prepared.axis;
            if ("x" === r2 || "y" === r2) {
              var i2 = "x" === r2 ? "y" : "x";
              e2.page[i2] = n2.coords.start.page[i2], e2.client[i2] = n2.coords.start.client[i2], e2.delta[i2] = 0;
            }
          }
        }
        var S = { id: "actions/drag", install: function(t2) {
          var e2 = t2.actions, n2 = t2.Interactable, r2 = t2.defaults;
          n2.prototype.draggable = S.draggable, e2.map.drag = S, e2.methodDict.drag = "draggable", r2.actions.drag = S.defaults;
        }, listeners: { "interactions:before-action-move": E, "interactions:action-resume": E, "interactions:action-move": T, "auto-start:check": function(t2) {
          var e2 = t2.interaction, n2 = t2.interactable, r2 = t2.buttons, i2 = n2.options.drag;
          if (i2 && i2.enabled && (!e2.pointerIsDown || !/mouse|pointer/.test(e2.pointerType) || 0 != (r2 & n2.options.drag.mouseButtons))) return t2.action = { name: "drag", axis: "start" === i2.lockAxis ? i2.startAxis : i2.lockAxis }, false;
        } }, draggable: function(t2) {
          return w.object(t2) ? (this.options.drag.enabled = false !== t2.enabled, this.setPerAction("drag", t2), this.setOnEvents("drag", t2), /^(xy|x|y|start)$/.test(t2.lockAxis) && (this.options.drag.lockAxis = t2.lockAxis), /^(xy|x|y)$/.test(t2.startAxis) && (this.options.drag.startAxis = t2.startAxis), this) : w.bool(t2) ? (this.options.drag.enabled = t2, this) : this.options.drag;
        }, beforeMove: E, move: T, defaults: { startAxis: "xy", lockAxis: "xy" }, getCursor: function() {
          return "move";
        }, filterEventType: function(t2) {
          return 0 === t2.search("drag");
        } }, _ = S, P = { init: function(t2) {
          var e2 = t2;
          P.document = e2.document, P.DocumentFragment = e2.DocumentFragment || O, P.SVGElement = e2.SVGElement || O, P.SVGSVGElement = e2.SVGSVGElement || O, P.SVGElementInstance = e2.SVGElementInstance || O, P.Element = e2.Element || O, P.HTMLElement = e2.HTMLElement || P.Element, P.Event = e2.Event, P.Touch = e2.Touch || O, P.PointerEvent = e2.PointerEvent || e2.MSPointerEvent;
        }, document: null, DocumentFragment: null, SVGElement: null, SVGSVGElement: null, SVGElementInstance: null, Element: null, HTMLElement: null, Event: null, Touch: null, PointerEvent: null };
        function O() {
        }
        var k = P;
        var D = { init: function(t2) {
          var e2 = k.Element, n2 = t2.navigator || {};
          D.supportsTouch = "ontouchstart" in t2 || w.func(t2.DocumentTouch) && k.document instanceof t2.DocumentTouch, D.supportsPointerEvent = false !== n2.pointerEnabled && !!k.PointerEvent, D.isIOS = /iP(hone|od|ad)/.test(n2.platform), D.isIOS7 = /iP(hone|od|ad)/.test(n2.platform) && /OS 7[^\d]/.test(n2.appVersion), D.isIe9 = /MSIE 9/.test(n2.userAgent), D.isOperaMobile = "Opera" === n2.appName && D.supportsTouch && /Presto/.test(n2.userAgent), D.prefixedMatchesSelector = "matches" in e2.prototype ? "matches" : "webkitMatchesSelector" in e2.prototype ? "webkitMatchesSelector" : "mozMatchesSelector" in e2.prototype ? "mozMatchesSelector" : "oMatchesSelector" in e2.prototype ? "oMatchesSelector" : "msMatchesSelector", D.pEventTypes = D.supportsPointerEvent ? k.PointerEvent === t2.MSPointerEvent ? { up: "MSPointerUp", down: "MSPointerDown", over: "mouseover", out: "mouseout", move: "MSPointerMove", cancel: "MSPointerCancel" } : { up: "pointerup", down: "pointerdown", over: "pointerover", out: "pointerout", move: "pointermove", cancel: "pointercancel" } : null, D.wheelEvent = k.document && "onmousewheel" in k.document ? "mousewheel" : "wheel";
        }, supportsTouch: null, supportsPointerEvent: null, isIOS7: null, isIOS: null, isIe9: null, isOperaMobile: null, prefixedMatchesSelector: null, pEventTypes: null, wheelEvent: null };
        var I = D;
        function M(t2, e2) {
          if (t2.contains) return t2.contains(e2);
          for (; e2; ) {
            if (e2 === t2) return true;
            e2 = e2.parentNode;
          }
          return false;
        }
        function z(t2, e2) {
          for (; w.element(t2); ) {
            if (R(t2, e2)) return t2;
            t2 = A(t2);
          }
          return null;
        }
        function A(t2) {
          var e2 = t2.parentNode;
          if (w.docFrag(e2)) {
            for (; (e2 = e2.host) && w.docFrag(e2); ) ;
            return e2;
          }
          return e2;
        }
        function R(t2, e2) {
          return g !== v && (e2 = e2.replace(/\/deep\//g, " ")), t2[I.prefixedMatchesSelector](e2);
        }
        var C = function(t2) {
          return t2.parentNode || t2.host;
        };
        function j(t2, e2) {
          for (var n2, r2 = [], i2 = t2; (n2 = C(i2)) && i2 !== e2 && n2 !== i2.ownerDocument; ) r2.unshift(i2), i2 = n2;
          return r2;
        }
        function F(t2, e2, n2) {
          for (; w.element(t2); ) {
            if (R(t2, e2)) return true;
            if ((t2 = A(t2)) === n2) return R(t2, e2);
          }
          return false;
        }
        function X(t2) {
          return t2.correspondingUseElement || t2;
        }
        function Y(t2) {
          var e2 = t2 instanceof k.SVGElement ? t2.getBoundingClientRect() : t2.getClientRects()[0];
          return e2 && { left: e2.left, right: e2.right, top: e2.top, bottom: e2.bottom, width: e2.width || e2.right - e2.left, height: e2.height || e2.bottom - e2.top };
        }
        function L(t2) {
          var e2, n2 = Y(t2);
          if (!I.isIOS7 && n2) {
            var r2 = { x: (e2 = (e2 = y(t2)) || g).scrollX || e2.document.documentElement.scrollLeft, y: e2.scrollY || e2.document.documentElement.scrollTop };
            n2.left += r2.x, n2.right += r2.x, n2.top += r2.y, n2.bottom += r2.y;
          }
          return n2;
        }
        function q(t2) {
          for (var e2 = []; t2; ) e2.push(t2), t2 = A(t2);
          return e2;
        }
        function B(t2) {
          return !!w.string(t2) && (k.document.querySelector(t2), true);
        }
        function V(t2, e2) {
          for (var n2 in e2) t2[n2] = e2[n2];
          return t2;
        }
        function W(t2, e2, n2) {
          return "parent" === t2 ? A(n2) : "self" === t2 ? e2.getRect(n2) : z(n2, t2);
        }
        function G(t2, e2, n2, r2) {
          var i2 = t2;
          return w.string(i2) ? i2 = W(i2, e2, n2) : w.func(i2) && (i2 = i2.apply(void 0, r2)), w.element(i2) && (i2 = L(i2)), i2;
        }
        function N(t2) {
          return t2 && { x: "x" in t2 ? t2.x : t2.left, y: "y" in t2 ? t2.y : t2.top };
        }
        function U(t2) {
          return !t2 || "x" in t2 && "y" in t2 || ((t2 = V({}, t2)).x = t2.left || 0, t2.y = t2.top || 0, t2.width = t2.width || (t2.right || 0) - t2.x, t2.height = t2.height || (t2.bottom || 0) - t2.y), t2;
        }
        function H(t2, e2, n2) {
          t2.left && (e2.left += n2.x), t2.right && (e2.right += n2.x), t2.top && (e2.top += n2.y), t2.bottom && (e2.bottom += n2.y), e2.width = e2.right - e2.left, e2.height = e2.bottom - e2.top;
        }
        function K(t2, e2, n2) {
          var r2 = n2 && t2.options[n2];
          return N(G(r2 && r2.origin || t2.options.origin, t2, e2, [t2 && e2])) || { x: 0, y: 0 };
        }
        function $(t2, e2) {
          var n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : function(t3) {
            return true;
          }, r2 = arguments.length > 3 ? arguments[3] : void 0;
          if (r2 = r2 || {}, w.string(t2) && -1 !== t2.search(" ") && (t2 = J(t2)), w.array(t2)) return t2.forEach(function(t3) {
            return $(t3, e2, n2, r2);
          }), r2;
          if (w.object(t2) && (e2 = t2, t2 = ""), w.func(e2) && n2(t2)) r2[t2] = r2[t2] || [], r2[t2].push(e2);
          else if (w.array(e2)) for (var i2 = 0, o2 = e2; i2 < o2.length; i2++) {
            var a2 = o2[i2];
            $(t2, a2, n2, r2);
          }
          else if (w.object(e2)) for (var s2 in e2) {
            $(J(s2).map(function(e3) {
              return "".concat(t2).concat(e3);
            }), e2[s2], n2, r2);
          }
          return r2;
        }
        function J(t2) {
          return t2.trim().split(/ +/);
        }
        var Q = function(t2, e2) {
          return Math.sqrt(t2 * t2 + e2 * e2);
        }, Z = ["webkit", "moz"];
        function tt(t2, e2) {
          t2.__set || (t2.__set = {});
          var n2 = function(n3) {
            if (Z.some(function(t3) {
              return 0 === n3.indexOf(t3);
            })) return 1;
            "function" != typeof t2[n3] && "__set" !== n3 && Object.defineProperty(t2, n3, { get: function() {
              return n3 in t2.__set ? t2.__set[n3] : t2.__set[n3] = e2[n3];
            }, set: function(e3) {
              t2.__set[n3] = e3;
            }, configurable: true });
          };
          for (var r2 in e2) n2(r2);
          return t2;
        }
        function et(t2, e2) {
          t2.page = t2.page || {}, t2.page.x = e2.page.x, t2.page.y = e2.page.y, t2.client = t2.client || {}, t2.client.x = e2.client.x, t2.client.y = e2.client.y, t2.timeStamp = e2.timeStamp;
        }
        function nt(t2) {
          t2.page.x = 0, t2.page.y = 0, t2.client.x = 0, t2.client.y = 0;
        }
        function rt(t2) {
          return t2 instanceof k.Event || t2 instanceof k.Touch;
        }
        function it(t2, e2, n2) {
          return t2 = t2 || "page", (n2 = n2 || {}).x = e2[t2 + "X"], n2.y = e2[t2 + "Y"], n2;
        }
        function ot(t2, e2) {
          return e2 = e2 || { x: 0, y: 0 }, I.isOperaMobile && rt(t2) ? (it("screen", t2, e2), e2.x += window.scrollX, e2.y += window.scrollY) : it("page", t2, e2), e2;
        }
        function at(t2) {
          return w.number(t2.pointerId) ? t2.pointerId : t2.identifier;
        }
        function st(t2, e2, n2) {
          var r2 = e2.length > 1 ? lt(e2) : e2[0];
          ot(r2, t2.page), function(t3, e3) {
            e3 = e3 || {}, I.isOperaMobile && rt(t3) ? it("screen", t3, e3) : it("client", t3, e3);
          }(r2, t2.client), t2.timeStamp = n2;
        }
        function ct(t2) {
          var e2 = [];
          return w.array(t2) ? (e2[0] = t2[0], e2[1] = t2[1]) : "touchend" === t2.type ? 1 === t2.touches.length ? (e2[0] = t2.touches[0], e2[1] = t2.changedTouches[0]) : 0 === t2.touches.length && (e2[0] = t2.changedTouches[0], e2[1] = t2.changedTouches[1]) : (e2[0] = t2.touches[0], e2[1] = t2.touches[1]), e2;
        }
        function lt(t2) {
          for (var e2 = { pageX: 0, pageY: 0, clientX: 0, clientY: 0, screenX: 0, screenY: 0 }, n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            for (var i2 in e2) e2[i2] += r2[i2];
          }
          for (var o2 in e2) e2[o2] /= t2.length;
          return e2;
        }
        function ut(t2) {
          if (!t2.length) return null;
          var e2 = ct(t2), n2 = Math.min(e2[0].pageX, e2[1].pageX), r2 = Math.min(e2[0].pageY, e2[1].pageY), i2 = Math.max(e2[0].pageX, e2[1].pageX), o2 = Math.max(e2[0].pageY, e2[1].pageY);
          return { x: n2, y: r2, left: n2, top: r2, right: i2, bottom: o2, width: i2 - n2, height: o2 - r2 };
        }
        function pt(t2, e2) {
          var n2 = e2 + "X", r2 = e2 + "Y", i2 = ct(t2), o2 = i2[0][n2] - i2[1][n2], a2 = i2[0][r2] - i2[1][r2];
          return Q(o2, a2);
        }
        function ft(t2, e2) {
          var n2 = e2 + "X", r2 = e2 + "Y", i2 = ct(t2), o2 = i2[1][n2] - i2[0][n2], a2 = i2[1][r2] - i2[0][r2];
          return 180 * Math.atan2(a2, o2) / Math.PI;
        }
        function dt(t2) {
          return w.string(t2.pointerType) ? t2.pointerType : w.number(t2.pointerType) ? [void 0, void 0, "touch", "pen", "mouse"][t2.pointerType] : /touch/.test(t2.type || "") || t2 instanceof k.Touch ? "touch" : "mouse";
        }
        function ht(t2) {
          var e2 = w.func(t2.composedPath) ? t2.composedPath() : t2.path;
          return [X(e2 ? e2[0] : t2.target), X(t2.currentTarget)];
        }
        var vt = function() {
          function t2(e2) {
            r(this, t2), this.immediatePropagationStopped = false, this.propagationStopped = false, this._interaction = e2;
          }
          return o(t2, [{ key: "preventDefault", value: function() {
          } }, { key: "stopPropagation", value: function() {
            this.propagationStopped = true;
          } }, { key: "stopImmediatePropagation", value: function() {
            this.immediatePropagationStopped = this.propagationStopped = true;
          } }]), t2;
        }();
        Object.defineProperty(vt.prototype, "interaction", { get: function() {
          return this._interaction._proxy;
        }, set: function() {
        } });
        var gt = function(t2, e2) {
          for (var n2 = 0; n2 < e2.length; n2++) {
            var r2 = e2[n2];
            t2.push(r2);
          }
          return t2;
        }, mt = function(t2) {
          return gt([], t2);
        }, yt = function(t2, e2) {
          for (var n2 = 0; n2 < t2.length; n2++) if (e2(t2[n2], n2, t2)) return n2;
          return -1;
        }, bt = function(t2, e2) {
          return t2[yt(t2, e2)];
        }, xt = function(t2) {
          s(n2, t2);
          var e2 = p(n2);
          function n2(t3, i2, o2) {
            var a2;
            r(this, n2), (a2 = e2.call(this, i2._interaction)).dropzone = void 0, a2.dragEvent = void 0, a2.relatedTarget = void 0, a2.draggable = void 0, a2.propagationStopped = false, a2.immediatePropagationStopped = false;
            var s2 = "dragleave" === o2 ? t3.prev : t3.cur, c2 = s2.element, l2 = s2.dropzone;
            return a2.type = o2, a2.target = c2, a2.currentTarget = c2, a2.dropzone = l2, a2.dragEvent = i2, a2.relatedTarget = i2.target, a2.draggable = i2.interactable, a2.timeStamp = i2.timeStamp, a2;
          }
          return o(n2, [{ key: "reject", value: function() {
            var t3 = this, e3 = this._interaction.dropState;
            if ("dropactivate" === this.type || this.dropzone && e3.cur.dropzone === this.dropzone && e3.cur.element === this.target) if (e3.prev.dropzone = this.dropzone, e3.prev.element = this.target, e3.rejected = true, e3.events.enter = null, this.stopImmediatePropagation(), "dropactivate" === this.type) {
              var r2 = e3.activeDrops, i2 = yt(r2, function(e4) {
                var n3 = e4.dropzone, r3 = e4.element;
                return n3 === t3.dropzone && r3 === t3.target;
              });
              e3.activeDrops.splice(i2, 1);
              var o2 = new n2(e3, this.dragEvent, "dropdeactivate");
              o2.dropzone = this.dropzone, o2.target = this.target, this.dropzone.fire(o2);
            } else this.dropzone.fire(new n2(e3, this.dragEvent, "dragleave"));
          } }, { key: "preventDefault", value: function() {
          } }, { key: "stopPropagation", value: function() {
            this.propagationStopped = true;
          } }, { key: "stopImmediatePropagation", value: function() {
            this.immediatePropagationStopped = this.propagationStopped = true;
          } }]), n2;
        }(vt);
        function wt(t2, e2) {
          for (var n2 = 0, r2 = t2.slice(); n2 < r2.length; n2++) {
            var i2 = r2[n2], o2 = i2.dropzone, a2 = i2.element;
            e2.dropzone = o2, e2.target = a2, o2.fire(e2), e2.propagationStopped = e2.immediatePropagationStopped = false;
          }
        }
        function Et(t2, e2) {
          for (var n2 = function(t3, e3) {
            for (var n3 = [], r3 = 0, i3 = t3.interactables.list; r3 < i3.length; r3++) {
              var o2 = i3[r3];
              if (o2.options.drop.enabled) {
                var a2 = o2.options.drop.accept;
                if (!(w.element(a2) && a2 !== e3 || w.string(a2) && !R(e3, a2) || w.func(a2) && !a2({ dropzone: o2, draggableElement: e3 }))) for (var s2 = 0, c2 = o2.getAllElements(); s2 < c2.length; s2++) {
                  var l2 = c2[s2];
                  l2 !== e3 && n3.push({ dropzone: o2, element: l2, rect: o2.getRect(l2) });
                }
              }
            }
            return n3;
          }(t2, e2), r2 = 0; r2 < n2.length; r2++) {
            var i2 = n2[r2];
            i2.rect = i2.dropzone.getRect(i2.element);
          }
          return n2;
        }
        function Tt(t2, e2, n2) {
          for (var r2 = t2.dropState, i2 = t2.interactable, o2 = t2.element, a2 = [], s2 = 0, c2 = r2.activeDrops; s2 < c2.length; s2++) {
            var l2 = c2[s2], u2 = l2.dropzone, p2 = l2.element, f2 = l2.rect, d2 = u2.dropCheck(e2, n2, i2, o2, p2, f2);
            a2.push(d2 ? p2 : null);
          }
          var h2 = function(t3) {
            for (var e3, n3, r3, i3 = [], o3 = 0; o3 < t3.length; o3++) {
              var a3 = t3[o3], s3 = t3[e3];
              if (a3 && o3 !== e3) if (s3) {
                var c3 = C(a3), l3 = C(s3);
                if (c3 !== a3.ownerDocument) if (l3 !== a3.ownerDocument) if (c3 !== l3) {
                  i3 = i3.length ? i3 : j(s3);
                  var u3 = void 0;
                  if (s3 instanceof k.HTMLElement && a3 instanceof k.SVGElement && !(a3 instanceof k.SVGSVGElement)) {
                    if (a3 === l3) continue;
                    u3 = a3.ownerSVGElement;
                  } else u3 = a3;
                  for (var p3 = j(u3, s3.ownerDocument), f3 = 0; p3[f3] && p3[f3] === i3[f3]; ) f3++;
                  var d3 = [p3[f3 - 1], p3[f3], i3[f3]];
                  if (d3[0]) for (var h3 = d3[0].lastChild; h3; ) {
                    if (h3 === d3[1]) {
                      e3 = o3, i3 = p3;
                      break;
                    }
                    if (h3 === d3[2]) break;
                    h3 = h3.previousSibling;
                  }
                } else r3 = s3, void 0, void 0, (parseInt(y(n3 = a3).getComputedStyle(n3).zIndex, 10) || 0) >= (parseInt(y(r3).getComputedStyle(r3).zIndex, 10) || 0) && (e3 = o3);
                else e3 = o3;
              } else e3 = o3;
            }
            return e3;
          }(a2);
          return r2.activeDrops[h2] || null;
        }
        function St(t2, e2, n2) {
          var r2 = t2.dropState, i2 = { enter: null, leave: null, activate: null, deactivate: null, move: null, drop: null };
          return "dragstart" === n2.type && (i2.activate = new xt(r2, n2, "dropactivate"), i2.activate.target = null, i2.activate.dropzone = null), "dragend" === n2.type && (i2.deactivate = new xt(r2, n2, "dropdeactivate"), i2.deactivate.target = null, i2.deactivate.dropzone = null), r2.rejected || (r2.cur.element !== r2.prev.element && (r2.prev.dropzone && (i2.leave = new xt(r2, n2, "dragleave"), n2.dragLeave = i2.leave.target = r2.prev.element, n2.prevDropzone = i2.leave.dropzone = r2.prev.dropzone), r2.cur.dropzone && (i2.enter = new xt(r2, n2, "dragenter"), n2.dragEnter = r2.cur.element, n2.dropzone = r2.cur.dropzone)), "dragend" === n2.type && r2.cur.dropzone && (i2.drop = new xt(r2, n2, "drop"), n2.dropzone = r2.cur.dropzone, n2.relatedTarget = r2.cur.element), "dragmove" === n2.type && r2.cur.dropzone && (i2.move = new xt(r2, n2, "dropmove"), n2.dropzone = r2.cur.dropzone)), i2;
        }
        function _t(t2, e2) {
          var n2 = t2.dropState, r2 = n2.activeDrops, i2 = n2.cur, o2 = n2.prev;
          e2.leave && o2.dropzone.fire(e2.leave), e2.enter && i2.dropzone.fire(e2.enter), e2.move && i2.dropzone.fire(e2.move), e2.drop && i2.dropzone.fire(e2.drop), e2.deactivate && wt(r2, e2.deactivate), n2.prev.dropzone = i2.dropzone, n2.prev.element = i2.element;
        }
        function Pt(t2, e2) {
          var n2 = t2.interaction, r2 = t2.iEvent, i2 = t2.event;
          if ("dragmove" === r2.type || "dragend" === r2.type) {
            var o2 = n2.dropState;
            e2.dynamicDrop && (o2.activeDrops = Et(e2, n2.element));
            var a2 = r2, s2 = Tt(n2, a2, i2);
            o2.rejected = o2.rejected && !!s2 && s2.dropzone === o2.cur.dropzone && s2.element === o2.cur.element, o2.cur.dropzone = s2 && s2.dropzone, o2.cur.element = s2 && s2.element, o2.events = St(n2, 0, a2);
          }
        }
        var Ot = { id: "actions/drop", install: function(t2) {
          var e2 = t2.actions, n2 = t2.interactStatic, r2 = t2.Interactable, i2 = t2.defaults;
          t2.usePlugin(_), r2.prototype.dropzone = function(t3) {
            return function(t4, e3) {
              if (w.object(e3)) {
                if (t4.options.drop.enabled = false !== e3.enabled, e3.listeners) {
                  var n3 = $(e3.listeners), r3 = Object.keys(n3).reduce(function(t5, e4) {
                    return t5[/^(enter|leave)/.test(e4) ? "drag".concat(e4) : /^(activate|deactivate|move)/.test(e4) ? "drop".concat(e4) : e4] = n3[e4], t5;
                  }, {}), i3 = t4.options.drop.listeners;
                  i3 && t4.off(i3), t4.on(r3), t4.options.drop.listeners = r3;
                }
                return w.func(e3.ondrop) && t4.on("drop", e3.ondrop), w.func(e3.ondropactivate) && t4.on("dropactivate", e3.ondropactivate), w.func(e3.ondropdeactivate) && t4.on("dropdeactivate", e3.ondropdeactivate), w.func(e3.ondragenter) && t4.on("dragenter", e3.ondragenter), w.func(e3.ondragleave) && t4.on("dragleave", e3.ondragleave), w.func(e3.ondropmove) && t4.on("dropmove", e3.ondropmove), /^(pointer|center)$/.test(e3.overlap) ? t4.options.drop.overlap = e3.overlap : w.number(e3.overlap) && (t4.options.drop.overlap = Math.max(Math.min(1, e3.overlap), 0)), "accept" in e3 && (t4.options.drop.accept = e3.accept), "checker" in e3 && (t4.options.drop.checker = e3.checker), t4;
              }
              if (w.bool(e3)) return t4.options.drop.enabled = e3, t4;
              return t4.options.drop;
            }(this, t3);
          }, r2.prototype.dropCheck = function(t3, e3, n3, r3, i3, o2) {
            return function(t4, e4, n4, r4, i4, o3, a2) {
              var s2 = false;
              if (!(a2 = a2 || t4.getRect(o3))) return !!t4.options.drop.checker && t4.options.drop.checker(e4, n4, s2, t4, o3, r4, i4);
              var c2 = t4.options.drop.overlap;
              if ("pointer" === c2) {
                var l2 = K(r4, i4, "drag"), u2 = ot(e4);
                u2.x += l2.x, u2.y += l2.y;
                var p2 = u2.x > a2.left && u2.x < a2.right, f2 = u2.y > a2.top && u2.y < a2.bottom;
                s2 = p2 && f2;
              }
              var d2 = r4.getRect(i4);
              if (d2 && "center" === c2) {
                var h2 = d2.left + d2.width / 2, v2 = d2.top + d2.height / 2;
                s2 = h2 >= a2.left && h2 <= a2.right && v2 >= a2.top && v2 <= a2.bottom;
              }
              if (d2 && w.number(c2)) {
                s2 = Math.max(0, Math.min(a2.right, d2.right) - Math.max(a2.left, d2.left)) * Math.max(0, Math.min(a2.bottom, d2.bottom) - Math.max(a2.top, d2.top)) / (d2.width * d2.height) >= c2;
              }
              t4.options.drop.checker && (s2 = t4.options.drop.checker(e4, n4, s2, t4, o3, r4, i4));
              return s2;
            }(this, t3, e3, n3, r3, i3, o2);
          }, n2.dynamicDrop = function(e3) {
            return w.bool(e3) ? (t2.dynamicDrop = e3, n2) : t2.dynamicDrop;
          }, V(e2.phaselessTypes, { dragenter: true, dragleave: true, dropactivate: true, dropdeactivate: true, dropmove: true, drop: true }), e2.methodDict.drop = "dropzone", t2.dynamicDrop = false, i2.actions.drop = Ot.defaults;
        }, listeners: { "interactions:before-action-start": function(t2) {
          var e2 = t2.interaction;
          "drag" === e2.prepared.name && (e2.dropState = { cur: { dropzone: null, element: null }, prev: { dropzone: null, element: null }, rejected: null, events: null, activeDrops: [] });
        }, "interactions:after-action-start": function(t2, e2) {
          var n2 = t2.interaction, r2 = (t2.event, t2.iEvent);
          if ("drag" === n2.prepared.name) {
            var i2 = n2.dropState;
            i2.activeDrops = [], i2.events = {}, i2.activeDrops = Et(e2, n2.element), i2.events = St(n2, 0, r2), i2.events.activate && (wt(i2.activeDrops, i2.events.activate), e2.fire("actions/drop:start", { interaction: n2, dragEvent: r2 }));
          }
        }, "interactions:action-move": Pt, "interactions:after-action-move": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.iEvent;
          if ("drag" === n2.prepared.name) {
            var i2 = n2.dropState;
            _t(n2, i2.events), e2.fire("actions/drop:move", { interaction: n2, dragEvent: r2 }), i2.events = {};
          }
        }, "interactions:action-end": function(t2, e2) {
          if ("drag" === t2.interaction.prepared.name) {
            var n2 = t2.interaction, r2 = t2.iEvent;
            Pt(t2, e2), _t(n2, n2.dropState.events), e2.fire("actions/drop:end", { interaction: n2, dragEvent: r2 });
          }
        }, "interactions:stop": function(t2) {
          var e2 = t2.interaction;
          if ("drag" === e2.prepared.name) {
            var n2 = e2.dropState;
            n2 && (n2.activeDrops = null, n2.events = null, n2.cur.dropzone = null, n2.cur.element = null, n2.prev.dropzone = null, n2.prev.element = null, n2.rejected = false);
          }
        } }, getActiveDrops: Et, getDrop: Tt, getDropEvents: St, fireDropEvents: _t, filterEventType: function(t2) {
          return 0 === t2.search("drag") || 0 === t2.search("drop");
        }, defaults: { enabled: false, accept: null, overlap: "pointer" } }, kt = Ot;
        function Dt(t2) {
          var e2 = t2.interaction, n2 = t2.iEvent, r2 = t2.phase;
          if ("gesture" === e2.prepared.name) {
            var i2 = e2.pointers.map(function(t3) {
              return t3.pointer;
            }), o2 = "start" === r2, a2 = "end" === r2, s2 = e2.interactable.options.deltaSource;
            if (n2.touches = [i2[0], i2[1]], o2) n2.distance = pt(i2, s2), n2.box = ut(i2), n2.scale = 1, n2.ds = 0, n2.angle = ft(i2, s2), n2.da = 0, e2.gesture.startDistance = n2.distance, e2.gesture.startAngle = n2.angle;
            else if (a2 || e2.pointers.length < 2) {
              var c2 = e2.prevEvent;
              n2.distance = c2.distance, n2.box = c2.box, n2.scale = c2.scale, n2.ds = 0, n2.angle = c2.angle, n2.da = 0;
            } else n2.distance = pt(i2, s2), n2.box = ut(i2), n2.scale = n2.distance / e2.gesture.startDistance, n2.angle = ft(i2, s2), n2.ds = n2.scale - e2.gesture.scale, n2.da = n2.angle - e2.gesture.angle;
            e2.gesture.distance = n2.distance, e2.gesture.angle = n2.angle, w.number(n2.scale) && n2.scale !== 1 / 0 && !isNaN(n2.scale) && (e2.gesture.scale = n2.scale);
          }
        }
        var It = { id: "actions/gesture", before: ["actions/drag", "actions/resize"], install: function(t2) {
          var e2 = t2.actions, n2 = t2.Interactable, r2 = t2.defaults;
          n2.prototype.gesturable = function(t3) {
            return w.object(t3) ? (this.options.gesture.enabled = false !== t3.enabled, this.setPerAction("gesture", t3), this.setOnEvents("gesture", t3), this) : w.bool(t3) ? (this.options.gesture.enabled = t3, this) : this.options.gesture;
          }, e2.map.gesture = It, e2.methodDict.gesture = "gesturable", r2.actions.gesture = It.defaults;
        }, listeners: { "interactions:action-start": Dt, "interactions:action-move": Dt, "interactions:action-end": Dt, "interactions:new": function(t2) {
          t2.interaction.gesture = { angle: 0, distance: 0, scale: 1, startAngle: 0, startDistance: 0 };
        }, "auto-start:check": function(t2) {
          if (!(t2.interaction.pointers.length < 2)) {
            var e2 = t2.interactable.options.gesture;
            if (e2 && e2.enabled) return t2.action = { name: "gesture" }, false;
          }
        } }, defaults: {}, getCursor: function() {
          return "";
        }, filterEventType: function(t2) {
          return 0 === t2.search("gesture");
        } }, Mt = It;
        function zt(t2, e2, n2, r2, i2, o2, a2) {
          if (!e2) return false;
          if (true === e2) {
            var s2 = w.number(o2.width) ? o2.width : o2.right - o2.left, c2 = w.number(o2.height) ? o2.height : o2.bottom - o2.top;
            if (a2 = Math.min(a2, Math.abs(("left" === t2 || "right" === t2 ? s2 : c2) / 2)), s2 < 0 && ("left" === t2 ? t2 = "right" : "right" === t2 && (t2 = "left")), c2 < 0 && ("top" === t2 ? t2 = "bottom" : "bottom" === t2 && (t2 = "top")), "left" === t2) {
              var l2 = s2 >= 0 ? o2.left : o2.right;
              return n2.x < l2 + a2;
            }
            if ("top" === t2) {
              var u2 = c2 >= 0 ? o2.top : o2.bottom;
              return n2.y < u2 + a2;
            }
            if ("right" === t2) return n2.x > (s2 >= 0 ? o2.right : o2.left) - a2;
            if ("bottom" === t2) return n2.y > (c2 >= 0 ? o2.bottom : o2.top) - a2;
          }
          return !!w.element(r2) && (w.element(e2) ? e2 === r2 : F(r2, e2, i2));
        }
        function At(t2) {
          var e2 = t2.iEvent, n2 = t2.interaction;
          if ("resize" === n2.prepared.name && n2.resizeAxes) {
            var r2 = e2;
            n2.interactable.options.resize.square ? ("y" === n2.resizeAxes ? r2.delta.x = r2.delta.y : r2.delta.y = r2.delta.x, r2.axes = "xy") : (r2.axes = n2.resizeAxes, "x" === n2.resizeAxes ? r2.delta.y = 0 : "y" === n2.resizeAxes && (r2.delta.x = 0));
          }
        }
        var Rt, Ct, jt = { id: "actions/resize", before: ["actions/drag"], install: function(t2) {
          var e2 = t2.actions, n2 = t2.browser, r2 = t2.Interactable, i2 = t2.defaults;
          jt.cursors = function(t3) {
            return t3.isIe9 ? { x: "e-resize", y: "s-resize", xy: "se-resize", top: "n-resize", left: "w-resize", bottom: "s-resize", right: "e-resize", topleft: "se-resize", bottomright: "se-resize", topright: "ne-resize", bottomleft: "ne-resize" } : { x: "ew-resize", y: "ns-resize", xy: "nwse-resize", top: "ns-resize", left: "ew-resize", bottom: "ns-resize", right: "ew-resize", topleft: "nwse-resize", bottomright: "nwse-resize", topright: "nesw-resize", bottomleft: "nesw-resize" };
          }(n2), jt.defaultMargin = n2.supportsTouch || n2.supportsPointerEvent ? 20 : 10, r2.prototype.resizable = function(e3) {
            return function(t3, e4, n3) {
              if (w.object(e4)) return t3.options.resize.enabled = false !== e4.enabled, t3.setPerAction("resize", e4), t3.setOnEvents("resize", e4), w.string(e4.axis) && /^x$|^y$|^xy$/.test(e4.axis) ? t3.options.resize.axis = e4.axis : null === e4.axis && (t3.options.resize.axis = n3.defaults.actions.resize.axis), w.bool(e4.preserveAspectRatio) ? t3.options.resize.preserveAspectRatio = e4.preserveAspectRatio : w.bool(e4.square) && (t3.options.resize.square = e4.square), t3;
              if (w.bool(e4)) return t3.options.resize.enabled = e4, t3;
              return t3.options.resize;
            }(this, e3, t2);
          }, e2.map.resize = jt, e2.methodDict.resize = "resizable", i2.actions.resize = jt.defaults;
        }, listeners: { "interactions:new": function(t2) {
          t2.interaction.resizeAxes = "xy";
        }, "interactions:action-start": function(t2) {
          !function(t3) {
            var e2 = t3.iEvent, n2 = t3.interaction;
            if ("resize" === n2.prepared.name && n2.prepared.edges) {
              var r2 = e2, i2 = n2.rect;
              n2._rects = { start: V({}, i2), corrected: V({}, i2), previous: V({}, i2), delta: { left: 0, right: 0, width: 0, top: 0, bottom: 0, height: 0 } }, r2.edges = n2.prepared.edges, r2.rect = n2._rects.corrected, r2.deltaRect = n2._rects.delta;
            }
          }(t2), At(t2);
        }, "interactions:action-move": function(t2) {
          !function(t3) {
            var e2 = t3.iEvent, n2 = t3.interaction;
            if ("resize" === n2.prepared.name && n2.prepared.edges) {
              var r2 = e2, i2 = n2.interactable.options.resize.invert, o2 = "reposition" === i2 || "negate" === i2, a2 = n2.rect, s2 = n2._rects, c2 = s2.start, l2 = s2.corrected, u2 = s2.delta, p2 = s2.previous;
              if (V(p2, l2), o2) {
                if (V(l2, a2), "reposition" === i2) {
                  if (l2.top > l2.bottom) {
                    var f2 = l2.top;
                    l2.top = l2.bottom, l2.bottom = f2;
                  }
                  if (l2.left > l2.right) {
                    var d2 = l2.left;
                    l2.left = l2.right, l2.right = d2;
                  }
                }
              } else l2.top = Math.min(a2.top, c2.bottom), l2.bottom = Math.max(a2.bottom, c2.top), l2.left = Math.min(a2.left, c2.right), l2.right = Math.max(a2.right, c2.left);
              for (var h2 in l2.width = l2.right - l2.left, l2.height = l2.bottom - l2.top, l2) u2[h2] = l2[h2] - p2[h2];
              r2.edges = n2.prepared.edges, r2.rect = l2, r2.deltaRect = u2;
            }
          }(t2), At(t2);
        }, "interactions:action-end": function(t2) {
          var e2 = t2.iEvent, n2 = t2.interaction;
          if ("resize" === n2.prepared.name && n2.prepared.edges) {
            var r2 = e2;
            r2.edges = n2.prepared.edges, r2.rect = n2._rects.corrected, r2.deltaRect = n2._rects.delta;
          }
        }, "auto-start:check": function(t2) {
          var e2 = t2.interaction, n2 = t2.interactable, r2 = t2.element, i2 = t2.rect, o2 = t2.buttons;
          if (i2) {
            var a2 = V({}, e2.coords.cur.page), s2 = n2.options.resize;
            if (s2 && s2.enabled && (!e2.pointerIsDown || !/mouse|pointer/.test(e2.pointerType) || 0 != (o2 & s2.mouseButtons))) {
              if (w.object(s2.edges)) {
                var c2 = { left: false, right: false, top: false, bottom: false };
                for (var l2 in c2) c2[l2] = zt(l2, s2.edges[l2], a2, e2._latestPointer.eventTarget, r2, i2, s2.margin || jt.defaultMargin);
                c2.left = c2.left && !c2.right, c2.top = c2.top && !c2.bottom, (c2.left || c2.right || c2.top || c2.bottom) && (t2.action = { name: "resize", edges: c2 });
              } else {
                var u2 = "y" !== s2.axis && a2.x > i2.right - jt.defaultMargin, p2 = "x" !== s2.axis && a2.y > i2.bottom - jt.defaultMargin;
                (u2 || p2) && (t2.action = { name: "resize", axes: (u2 ? "x" : "") + (p2 ? "y" : "") });
              }
              return !t2.action && void 0;
            }
          }
        } }, defaults: { square: false, preserveAspectRatio: false, axis: "xy", margin: NaN, edges: null, invert: "none" }, cursors: null, getCursor: function(t2) {
          var e2 = t2.edges, n2 = t2.axis, r2 = t2.name, i2 = jt.cursors, o2 = null;
          if (n2) o2 = i2[r2 + n2];
          else if (e2) {
            for (var a2 = "", s2 = 0, c2 = ["top", "bottom", "left", "right"]; s2 < c2.length; s2++) {
              var l2 = c2[s2];
              e2[l2] && (a2 += l2);
            }
            o2 = i2[a2];
          }
          return o2;
        }, filterEventType: function(t2) {
          return 0 === t2.search("resize");
        }, defaultMargin: null }, Ft = jt, Xt = { id: "actions", install: function(t2) {
          t2.usePlugin(Mt), t2.usePlugin(Ft), t2.usePlugin(_), t2.usePlugin(kt);
        } }, Yt = 0;
        var Lt = { request: function(t2) {
          return Rt(t2);
        }, cancel: function(t2) {
          return Ct(t2);
        }, init: function(t2) {
          if (Rt = t2.requestAnimationFrame, Ct = t2.cancelAnimationFrame, !Rt) for (var e2 = ["ms", "moz", "webkit", "o"], n2 = 0; n2 < e2.length; n2++) {
            var r2 = e2[n2];
            Rt = t2["".concat(r2, "RequestAnimationFrame")], Ct = t2["".concat(r2, "CancelAnimationFrame")] || t2["".concat(r2, "CancelRequestAnimationFrame")];
          }
          Rt = Rt && Rt.bind(t2), Ct = Ct && Ct.bind(t2), Rt || (Rt = function(e3) {
            var n3 = Date.now(), r3 = Math.max(0, 16 - (n3 - Yt)), i2 = t2.setTimeout(function() {
              e3(n3 + r3);
            }, r3);
            return Yt = n3 + r3, i2;
          }, Ct = function(t3) {
            return clearTimeout(t3);
          });
        } };
        var qt = { defaults: { enabled: false, margin: 60, container: null, speed: 300 }, now: Date.now, interaction: null, i: 0, x: 0, y: 0, isScrolling: false, prevTime: 0, margin: 0, speed: 0, start: function(t2) {
          qt.isScrolling = true, Lt.cancel(qt.i), t2.autoScroll = qt, qt.interaction = t2, qt.prevTime = qt.now(), qt.i = Lt.request(qt.scroll);
        }, stop: function() {
          qt.isScrolling = false, qt.interaction && (qt.interaction.autoScroll = null), Lt.cancel(qt.i);
        }, scroll: function() {
          var t2 = qt.interaction, e2 = t2.interactable, n2 = t2.element, r2 = t2.prepared.name, i2 = e2.options[r2].autoScroll, o2 = Bt(i2.container, e2, n2), a2 = qt.now(), s2 = (a2 - qt.prevTime) / 1e3, c2 = i2.speed * s2;
          if (c2 >= 1) {
            var l2 = { x: qt.x * c2, y: qt.y * c2 };
            if (l2.x || l2.y) {
              var u2 = Vt(o2);
              w.window(o2) ? o2.scrollBy(l2.x, l2.y) : o2 && (o2.scrollLeft += l2.x, o2.scrollTop += l2.y);
              var p2 = Vt(o2), f2 = { x: p2.x - u2.x, y: p2.y - u2.y };
              (f2.x || f2.y) && e2.fire({ type: "autoscroll", target: n2, interactable: e2, delta: f2, interaction: t2, container: o2 });
            }
            qt.prevTime = a2;
          }
          qt.isScrolling && (Lt.cancel(qt.i), qt.i = Lt.request(qt.scroll));
        }, check: function(t2, e2) {
          var n2;
          return null == (n2 = t2.options[e2].autoScroll) ? void 0 : n2.enabled;
        }, onInteractionMove: function(t2) {
          var e2 = t2.interaction, n2 = t2.pointer;
          if (e2.interacting() && qt.check(e2.interactable, e2.prepared.name)) if (e2.simulation) qt.x = qt.y = 0;
          else {
            var r2, i2, o2, a2, s2 = e2.interactable, c2 = e2.element, l2 = e2.prepared.name, u2 = s2.options[l2].autoScroll, p2 = Bt(u2.container, s2, c2);
            if (w.window(p2)) a2 = n2.clientX < qt.margin, r2 = n2.clientY < qt.margin, i2 = n2.clientX > p2.innerWidth - qt.margin, o2 = n2.clientY > p2.innerHeight - qt.margin;
            else {
              var f2 = Y(p2);
              a2 = n2.clientX < f2.left + qt.margin, r2 = n2.clientY < f2.top + qt.margin, i2 = n2.clientX > f2.right - qt.margin, o2 = n2.clientY > f2.bottom - qt.margin;
            }
            qt.x = i2 ? 1 : a2 ? -1 : 0, qt.y = o2 ? 1 : r2 ? -1 : 0, qt.isScrolling || (qt.margin = u2.margin, qt.speed = u2.speed, qt.start(e2));
          }
        } };
        function Bt(t2, e2, n2) {
          return (w.string(t2) ? W(t2, e2, n2) : t2) || y(n2);
        }
        function Vt(t2) {
          return w.window(t2) && (t2 = window.document.body), { x: t2.scrollLeft, y: t2.scrollTop };
        }
        var Wt = { id: "auto-scroll", install: function(t2) {
          var e2 = t2.defaults, n2 = t2.actions;
          t2.autoScroll = qt, qt.now = function() {
            return t2.now();
          }, n2.phaselessTypes.autoscroll = true, e2.perAction.autoScroll = qt.defaults;
        }, listeners: { "interactions:new": function(t2) {
          t2.interaction.autoScroll = null;
        }, "interactions:destroy": function(t2) {
          t2.interaction.autoScroll = null, qt.stop(), qt.interaction && (qt.interaction = null);
        }, "interactions:stop": qt.stop, "interactions:action-move": function(t2) {
          return qt.onInteractionMove(t2);
        } } }, Gt = Wt;
        function Nt(t2, e2) {
          var n2 = false;
          return function() {
            return n2 || (g.console.warn(e2), n2 = true), t2.apply(this, arguments);
          };
        }
        function Ut(t2, e2) {
          return t2.name = e2.name, t2.axis = e2.axis, t2.edges = e2.edges, t2;
        }
        function Ht(t2) {
          return w.bool(t2) ? (this.options.styleCursor = t2, this) : null === t2 ? (delete this.options.styleCursor, this) : this.options.styleCursor;
        }
        function Kt(t2) {
          return w.func(t2) ? (this.options.actionChecker = t2, this) : null === t2 ? (delete this.options.actionChecker, this) : this.options.actionChecker;
        }
        var $t = { id: "auto-start/interactableMethods", install: function(t2) {
          var e2 = t2.Interactable;
          e2.prototype.getAction = function(e3, n2, r2, i2) {
            var o2 = function(t3, e4, n3, r3, i3) {
              var o3 = t3.getRect(r3), a2 = e4.buttons || { 0: 1, 1: 4, 3: 8, 4: 16 }[e4.button], s2 = { action: null, interactable: t3, interaction: n3, element: r3, rect: o3, buttons: a2 };
              return i3.fire("auto-start:check", s2), s2.action;
            }(this, n2, r2, i2, t2);
            return this.options.actionChecker ? this.options.actionChecker(e3, n2, o2, this, i2, r2) : o2;
          }, e2.prototype.ignoreFrom = Nt(function(t3) {
            return this._backCompatOption("ignoreFrom", t3);
          }, "Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."), e2.prototype.allowFrom = Nt(function(t3) {
            return this._backCompatOption("allowFrom", t3);
          }, "Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."), e2.prototype.actionChecker = Kt, e2.prototype.styleCursor = Ht;
        } };
        function Jt(t2, e2, n2, r2, i2) {
          return e2.testIgnoreAllow(e2.options[t2.name], n2, r2) && e2.options[t2.name].enabled && ee(e2, n2, t2, i2) ? t2 : null;
        }
        function Qt(t2, e2, n2, r2, i2, o2, a2) {
          for (var s2 = 0, c2 = r2.length; s2 < c2; s2++) {
            var l2 = r2[s2], u2 = i2[s2], p2 = l2.getAction(e2, n2, t2, u2);
            if (p2) {
              var f2 = Jt(p2, l2, u2, o2, a2);
              if (f2) return { action: f2, interactable: l2, element: u2 };
            }
          }
          return { action: null, interactable: null, element: null };
        }
        function Zt(t2, e2, n2, r2, i2) {
          var o2 = [], a2 = [], s2 = r2;
          function c2(t3) {
            o2.push(t3), a2.push(s2);
          }
          for (; w.element(s2); ) {
            o2 = [], a2 = [], i2.interactables.forEachMatch(s2, c2);
            var l2 = Qt(t2, e2, n2, o2, a2, r2, i2);
            if (l2.action && !l2.interactable.options[l2.action.name].manualStart) return l2;
            s2 = A(s2);
          }
          return { action: null, interactable: null, element: null };
        }
        function te(t2, e2, n2) {
          var r2 = e2.action, i2 = e2.interactable, o2 = e2.element;
          r2 = r2 || { name: null }, t2.interactable = i2, t2.element = o2, Ut(t2.prepared, r2), t2.rect = i2 && r2.name ? i2.getRect(o2) : null, ie(t2, n2), n2.fire("autoStart:prepared", { interaction: t2 });
        }
        function ee(t2, e2, n2, r2) {
          var i2 = t2.options, o2 = i2[n2.name].max, a2 = i2[n2.name].maxPerElement, s2 = r2.autoStart.maxInteractions, c2 = 0, l2 = 0, u2 = 0;
          if (!(o2 && a2 && s2)) return false;
          for (var p2 = 0, f2 = r2.interactions.list; p2 < f2.length; p2++) {
            var d2 = f2[p2], h2 = d2.prepared.name;
            if (d2.interacting()) {
              if (++c2 >= s2) return false;
              if (d2.interactable === t2) {
                if ((l2 += h2 === n2.name ? 1 : 0) >= o2) return false;
                if (d2.element === e2 && (u2++, h2 === n2.name && u2 >= a2)) return false;
              }
            }
          }
          return s2 > 0;
        }
        function ne(t2, e2) {
          return w.number(t2) ? (e2.autoStart.maxInteractions = t2, this) : e2.autoStart.maxInteractions;
        }
        function re(t2, e2, n2) {
          var r2 = n2.autoStart.cursorElement;
          r2 && r2 !== t2 && (r2.style.cursor = ""), t2.ownerDocument.documentElement.style.cursor = e2, t2.style.cursor = e2, n2.autoStart.cursorElement = e2 ? t2 : null;
        }
        function ie(t2, e2) {
          var n2 = t2.interactable, r2 = t2.element, i2 = t2.prepared;
          if ("mouse" === t2.pointerType && n2 && n2.options.styleCursor) {
            var o2 = "";
            if (i2.name) {
              var a2 = n2.options[i2.name].cursorChecker;
              o2 = w.func(a2) ? a2(i2, n2, r2, t2._interacting) : e2.actions.map[i2.name].getCursor(i2);
            }
            re(t2.element, o2 || "", e2);
          } else e2.autoStart.cursorElement && re(e2.autoStart.cursorElement, "", e2);
        }
        var oe = { id: "auto-start/base", before: ["actions"], install: function(t2) {
          var e2 = t2.interactStatic, n2 = t2.defaults;
          t2.usePlugin($t), n2.base.actionChecker = null, n2.base.styleCursor = true, V(n2.perAction, { manualStart: false, max: 1 / 0, maxPerElement: 1, allowFrom: null, ignoreFrom: null, mouseButtons: 1 }), e2.maxInteractions = function(e3) {
            return ne(e3, t2);
          }, t2.autoStart = { maxInteractions: 1 / 0, withinInteractionLimit: ee, cursorElement: null };
        }, listeners: { "interactions:down": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointer, i2 = t2.event, o2 = t2.eventTarget;
          n2.interacting() || te(n2, Zt(n2, r2, i2, o2, e2), e2);
        }, "interactions:move": function(t2, e2) {
          !function(t3, e3) {
            var n2 = t3.interaction, r2 = t3.pointer, i2 = t3.event, o2 = t3.eventTarget;
            "mouse" !== n2.pointerType || n2.pointerIsDown || n2.interacting() || te(n2, Zt(n2, r2, i2, o2, e3), e3);
          }(t2, e2), function(t3, e3) {
            var n2 = t3.interaction;
            if (n2.pointerIsDown && !n2.interacting() && n2.pointerWasMoved && n2.prepared.name) {
              e3.fire("autoStart:before-start", t3);
              var r2 = n2.interactable, i2 = n2.prepared.name;
              i2 && r2 && (r2.options[i2].manualStart || !ee(r2, n2.element, n2.prepared, e3) ? n2.stop() : (n2.start(n2.prepared, r2, n2.element), ie(n2, e3)));
            }
          }(t2, e2);
        }, "interactions:stop": function(t2, e2) {
          var n2 = t2.interaction, r2 = n2.interactable;
          r2 && r2.options.styleCursor && re(n2.element, "", e2);
        } }, maxInteractions: ne, withinInteractionLimit: ee, validateAction: Jt }, ae = oe;
        var se = { id: "auto-start/dragAxis", listeners: { "autoStart:before-start": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.eventTarget, i2 = t2.dx, o2 = t2.dy;
          if ("drag" === n2.prepared.name) {
            var a2 = Math.abs(i2), s2 = Math.abs(o2), c2 = n2.interactable.options.drag, l2 = c2.startAxis, u2 = a2 > s2 ? "x" : a2 < s2 ? "y" : "xy";
            if (n2.prepared.axis = "start" === c2.lockAxis ? u2[0] : c2.lockAxis, "xy" !== u2 && "xy" !== l2 && l2 !== u2) {
              n2.prepared.name = null;
              for (var p2 = r2, f2 = function(t3) {
                if (t3 !== n2.interactable) {
                  var i3 = n2.interactable.options.drag;
                  if (!i3.manualStart && t3.testIgnoreAllow(i3, p2, r2)) {
                    var o3 = t3.getAction(n2.downPointer, n2.downEvent, n2, p2);
                    if (o3 && "drag" === o3.name && function(t4, e3) {
                      if (!e3) return false;
                      var n3 = e3.options.drag.startAxis;
                      return "xy" === t4 || "xy" === n3 || n3 === t4;
                    }(u2, t3) && ae.validateAction(o3, t3, p2, r2, e2)) return t3;
                  }
                }
              }; w.element(p2); ) {
                var d2 = e2.interactables.forEachMatch(p2, f2);
                if (d2) {
                  n2.prepared.name = "drag", n2.interactable = d2, n2.element = p2;
                  break;
                }
                p2 = A(p2);
              }
            }
          }
        } } };
        function ce(t2) {
          var e2 = t2.prepared && t2.prepared.name;
          if (!e2) return null;
          var n2 = t2.interactable.options;
          return n2[e2].hold || n2[e2].delay;
        }
        var le = { id: "auto-start/hold", install: function(t2) {
          var e2 = t2.defaults;
          t2.usePlugin(ae), e2.perAction.hold = 0, e2.perAction.delay = 0;
        }, listeners: { "interactions:new": function(t2) {
          t2.interaction.autoStartHoldTimer = null;
        }, "autoStart:prepared": function(t2) {
          var e2 = t2.interaction, n2 = ce(e2);
          n2 > 0 && (e2.autoStartHoldTimer = setTimeout(function() {
            e2.start(e2.prepared, e2.interactable, e2.element);
          }, n2));
        }, "interactions:move": function(t2) {
          var e2 = t2.interaction, n2 = t2.duplicate;
          e2.autoStartHoldTimer && e2.pointerWasMoved && !n2 && (clearTimeout(e2.autoStartHoldTimer), e2.autoStartHoldTimer = null);
        }, "autoStart:before-start": function(t2) {
          var e2 = t2.interaction;
          ce(e2) > 0 && (e2.prepared.name = null);
        } }, getHoldDuration: ce }, ue = le, pe = { id: "auto-start", install: function(t2) {
          t2.usePlugin(ae), t2.usePlugin(ue), t2.usePlugin(se);
        } }, fe = function(t2) {
          return /^(always|never|auto)$/.test(t2) ? (this.options.preventDefault = t2, this) : w.bool(t2) ? (this.options.preventDefault = t2 ? "always" : "never", this) : this.options.preventDefault;
        };
        function de(t2) {
          var e2 = t2.interaction, n2 = t2.event;
          e2.interactable && e2.interactable.checkAndPreventDefault(n2);
        }
        var he = { id: "core/interactablePreventDefault", install: function(t2) {
          var e2 = t2.Interactable;
          e2.prototype.preventDefault = fe, e2.prototype.checkAndPreventDefault = function(e3) {
            return function(t3, e4, n2) {
              var r2 = t3.options.preventDefault;
              if ("never" !== r2) if ("always" !== r2) {
                if (e4.events.supportsPassive && /^touch(start|move)$/.test(n2.type)) {
                  var i2 = y(n2.target).document, o2 = e4.getDocOptions(i2);
                  if (!o2 || !o2.events || false !== o2.events.passive) return;
                }
                /^(mouse|pointer|touch)*(down|start)/i.test(n2.type) || w.element(n2.target) && R(n2.target, "input,select,textarea,[contenteditable=true],[contenteditable=true] *") || n2.preventDefault();
              } else n2.preventDefault();
            }(this, t2, e3);
          }, t2.interactions.docEvents.push({ type: "dragstart", listener: function(e3) {
            for (var n2 = 0, r2 = t2.interactions.list; n2 < r2.length; n2++) {
              var i2 = r2[n2];
              if (i2.element && (i2.element === e3.target || M(i2.element, e3.target))) return void i2.interactable.checkAndPreventDefault(e3);
            }
          } });
        }, listeners: ["down", "move", "up", "cancel"].reduce(function(t2, e2) {
          return t2["interactions:".concat(e2)] = de, t2;
        }, {}) };
        function ve(t2, e2) {
          if (e2.phaselessTypes[t2]) return true;
          for (var n2 in e2.map) if (0 === t2.indexOf(n2) && t2.substr(n2.length) in e2.phases) return true;
          return false;
        }
        function ge(t2) {
          var e2 = {};
          for (var n2 in t2) {
            var r2 = t2[n2];
            w.plainObject(r2) ? e2[n2] = ge(r2) : w.array(r2) ? e2[n2] = mt(r2) : e2[n2] = r2;
          }
          return e2;
        }
        var me = function() {
          function t2(e2) {
            r(this, t2), this.states = [], this.startOffset = { left: 0, right: 0, top: 0, bottom: 0 }, this.startDelta = void 0, this.result = void 0, this.endResult = void 0, this.startEdges = void 0, this.edges = void 0, this.interaction = void 0, this.interaction = e2, this.result = ye(), this.edges = { left: false, right: false, top: false, bottom: false };
          }
          return o(t2, [{ key: "start", value: function(t3, e2) {
            var n2, r2, i2 = t3.phase, o2 = this.interaction, a2 = function(t4) {
              var e3 = t4.interactable.options[t4.prepared.name], n3 = e3.modifiers;
              if (n3 && n3.length) return n3;
              return ["snap", "snapSize", "snapEdges", "restrict", "restrictEdges", "restrictSize"].map(function(t5) {
                var n4 = e3[t5];
                return n4 && n4.enabled && { options: n4, methods: n4._methods };
              }).filter(function(t5) {
                return !!t5;
              });
            }(o2);
            this.prepareStates(a2), this.startEdges = V({}, o2.edges), this.edges = V({}, this.startEdges), this.startOffset = (n2 = o2.rect, r2 = e2, n2 ? { left: r2.x - n2.left, top: r2.y - n2.top, right: n2.right - r2.x, bottom: n2.bottom - r2.y } : { left: 0, top: 0, right: 0, bottom: 0 }), this.startDelta = { x: 0, y: 0 };
            var s2 = this.fillArg({ phase: i2, pageCoords: e2, preEnd: false });
            return this.result = ye(), this.startAll(s2), this.result = this.setAll(s2);
          } }, { key: "fillArg", value: function(t3) {
            var e2 = this.interaction;
            return t3.interaction = e2, t3.interactable = e2.interactable, t3.element = e2.element, t3.rect || (t3.rect = e2.rect), t3.edges || (t3.edges = this.startEdges), t3.startOffset = this.startOffset, t3;
          } }, { key: "startAll", value: function(t3) {
            for (var e2 = 0, n2 = this.states; e2 < n2.length; e2++) {
              var r2 = n2[e2];
              r2.methods.start && (t3.state = r2, r2.methods.start(t3));
            }
          } }, { key: "setAll", value: function(t3) {
            var e2 = t3.phase, n2 = t3.preEnd, r2 = t3.skipModifiers, i2 = t3.rect, o2 = t3.edges;
            t3.coords = V({}, t3.pageCoords), t3.rect = V({}, i2), t3.edges = V({}, o2);
            for (var a2 = r2 ? this.states.slice(r2) : this.states, s2 = ye(t3.coords, t3.rect), c2 = 0; c2 < a2.length; c2++) {
              var l2, u2 = a2[c2], p2 = u2.options, f2 = V({}, t3.coords), d2 = null;
              null != (l2 = u2.methods) && l2.set && this.shouldDo(p2, n2, e2) && (t3.state = u2, d2 = u2.methods.set(t3), H(t3.edges, t3.rect, { x: t3.coords.x - f2.x, y: t3.coords.y - f2.y })), s2.eventProps.push(d2);
            }
            V(this.edges, t3.edges), s2.delta.x = t3.coords.x - t3.pageCoords.x, s2.delta.y = t3.coords.y - t3.pageCoords.y, s2.rectDelta.left = t3.rect.left - i2.left, s2.rectDelta.right = t3.rect.right - i2.right, s2.rectDelta.top = t3.rect.top - i2.top, s2.rectDelta.bottom = t3.rect.bottom - i2.bottom;
            var h2 = this.result.coords, v2 = this.result.rect;
            if (h2 && v2) {
              var g2 = s2.rect.left !== v2.left || s2.rect.right !== v2.right || s2.rect.top !== v2.top || s2.rect.bottom !== v2.bottom;
              s2.changed = g2 || h2.x !== s2.coords.x || h2.y !== s2.coords.y;
            }
            return s2;
          } }, { key: "applyToInteraction", value: function(t3) {
            var e2 = this.interaction, n2 = t3.phase, r2 = e2.coords.cur, i2 = e2.coords.start, o2 = this.result, a2 = this.startDelta, s2 = o2.delta;
            "start" === n2 && V(this.startDelta, o2.delta);
            for (var c2 = 0, l2 = [[i2, a2], [r2, s2]]; c2 < l2.length; c2++) {
              var u2 = l2[c2], p2 = u2[0], f2 = u2[1];
              p2.page.x += f2.x, p2.page.y += f2.y, p2.client.x += f2.x, p2.client.y += f2.y;
            }
            var d2 = this.result.rectDelta, h2 = t3.rect || e2.rect;
            h2.left += d2.left, h2.right += d2.right, h2.top += d2.top, h2.bottom += d2.bottom, h2.width = h2.right - h2.left, h2.height = h2.bottom - h2.top;
          } }, { key: "setAndApply", value: function(t3) {
            var e2 = this.interaction, n2 = t3.phase, r2 = t3.preEnd, i2 = t3.skipModifiers, o2 = this.setAll(this.fillArg({ preEnd: r2, phase: n2, pageCoords: t3.modifiedCoords || e2.coords.cur.page }));
            if (this.result = o2, !o2.changed && (!i2 || i2 < this.states.length) && e2.interacting()) return false;
            if (t3.modifiedCoords) {
              var a2 = e2.coords.cur.page, s2 = { x: t3.modifiedCoords.x - a2.x, y: t3.modifiedCoords.y - a2.y };
              o2.coords.x += s2.x, o2.coords.y += s2.y, o2.delta.x += s2.x, o2.delta.y += s2.y;
            }
            this.applyToInteraction(t3);
          } }, { key: "beforeEnd", value: function(t3) {
            var e2 = t3.interaction, n2 = t3.event, r2 = this.states;
            if (r2 && r2.length) {
              for (var i2 = false, o2 = 0; o2 < r2.length; o2++) {
                var a2 = r2[o2];
                t3.state = a2;
                var s2 = a2.options, c2 = a2.methods, l2 = c2.beforeEnd && c2.beforeEnd(t3);
                if (l2) return this.endResult = l2, false;
                i2 = i2 || !i2 && this.shouldDo(s2, true, t3.phase, true);
              }
              i2 && e2.move({ event: n2, preEnd: true });
            }
          } }, { key: "stop", value: function(t3) {
            var e2 = t3.interaction;
            if (this.states && this.states.length) {
              var n2 = V({ states: this.states, interactable: e2.interactable, element: e2.element, rect: null }, t3);
              this.fillArg(n2);
              for (var r2 = 0, i2 = this.states; r2 < i2.length; r2++) {
                var o2 = i2[r2];
                n2.state = o2, o2.methods.stop && o2.methods.stop(n2);
              }
              this.states = null, this.endResult = null;
            }
          } }, { key: "prepareStates", value: function(t3) {
            this.states = [];
            for (var e2 = 0; e2 < t3.length; e2++) {
              var n2 = t3[e2], r2 = n2.options, i2 = n2.methods, o2 = n2.name;
              this.states.push({ options: r2, methods: i2, index: e2, name: o2 });
            }
            return this.states;
          } }, { key: "restoreInteractionCoords", value: function(t3) {
            var e2 = t3.interaction, n2 = e2.coords, r2 = e2.rect, i2 = e2.modification;
            if (i2.result) {
              for (var o2 = i2.startDelta, a2 = i2.result, s2 = a2.delta, c2 = a2.rectDelta, l2 = 0, u2 = [[n2.start, o2], [n2.cur, s2]]; l2 < u2.length; l2++) {
                var p2 = u2[l2], f2 = p2[0], d2 = p2[1];
                f2.page.x -= d2.x, f2.page.y -= d2.y, f2.client.x -= d2.x, f2.client.y -= d2.y;
              }
              r2.left -= c2.left, r2.right -= c2.right, r2.top -= c2.top, r2.bottom -= c2.bottom;
            }
          } }, { key: "shouldDo", value: function(t3, e2, n2, r2) {
            return !(!t3 || false === t3.enabled || r2 && !t3.endOnly || t3.endOnly && !e2 || "start" === n2 && !t3.setStart);
          } }, { key: "copyFrom", value: function(t3) {
            this.startOffset = t3.startOffset, this.startDelta = t3.startDelta, this.startEdges = t3.startEdges, this.edges = t3.edges, this.states = t3.states.map(function(t4) {
              return ge(t4);
            }), this.result = ye(V({}, t3.result.coords), V({}, t3.result.rect));
          } }, { key: "destroy", value: function() {
            for (var t3 in this) this[t3] = null;
          } }]), t2;
        }();
        function ye(t2, e2) {
          return { rect: e2, coords: t2, delta: { x: 0, y: 0 }, rectDelta: { left: 0, right: 0, top: 0, bottom: 0 }, eventProps: [], changed: true };
        }
        function be(t2, e2) {
          var n2 = t2.defaults, r2 = { start: t2.start, set: t2.set, beforeEnd: t2.beforeEnd, stop: t2.stop }, i2 = function(t3) {
            var i3 = t3 || {};
            for (var o2 in i3.enabled = false !== i3.enabled, n2) o2 in i3 || (i3[o2] = n2[o2]);
            var a2 = { options: i3, methods: r2, name: e2, enable: function() {
              return i3.enabled = true, a2;
            }, disable: function() {
              return i3.enabled = false, a2;
            } };
            return a2;
          };
          return e2 && "string" == typeof e2 && (i2._defaults = n2, i2._methods = r2), i2;
        }
        function xe(t2) {
          var e2 = t2.iEvent, n2 = t2.interaction.modification.result;
          n2 && (e2.modifiers = n2.eventProps);
        }
        var we = { id: "modifiers/base", before: ["actions"], install: function(t2) {
          t2.defaults.perAction.modifiers = [];
        }, listeners: { "interactions:new": function(t2) {
          var e2 = t2.interaction;
          e2.modification = new me(e2);
        }, "interactions:before-action-start": function(t2) {
          var e2 = t2.interaction, n2 = t2.interaction.modification;
          n2.start(t2, e2.coords.start.page), e2.edges = n2.edges, n2.applyToInteraction(t2);
        }, "interactions:before-action-move": function(t2) {
          var e2 = t2.interaction, n2 = e2.modification, r2 = n2.setAndApply(t2);
          return e2.edges = n2.edges, r2;
        }, "interactions:before-action-end": function(t2) {
          var e2 = t2.interaction, n2 = e2.modification, r2 = n2.beforeEnd(t2);
          return e2.edges = n2.startEdges, r2;
        }, "interactions:action-start": xe, "interactions:action-move": xe, "interactions:action-end": xe, "interactions:after-action-start": function(t2) {
          return t2.interaction.modification.restoreInteractionCoords(t2);
        }, "interactions:after-action-move": function(t2) {
          return t2.interaction.modification.restoreInteractionCoords(t2);
        }, "interactions:stop": function(t2) {
          return t2.interaction.modification.stop(t2);
        } } }, Ee = we, Te = { base: { preventDefault: "auto", deltaSource: "page" }, perAction: { enabled: false, origin: { x: 0, y: 0 } }, actions: {} }, Se = function(t2) {
          s(n2, t2);
          var e2 = p(n2);
          function n2(t3, i2, o2, a2, s2, c2, l2) {
            var p2;
            r(this, n2), (p2 = e2.call(this, t3)).relatedTarget = null, p2.screenX = void 0, p2.screenY = void 0, p2.button = void 0, p2.buttons = void 0, p2.ctrlKey = void 0, p2.shiftKey = void 0, p2.altKey = void 0, p2.metaKey = void 0, p2.page = void 0, p2.client = void 0, p2.delta = void 0, p2.rect = void 0, p2.x0 = void 0, p2.y0 = void 0, p2.t0 = void 0, p2.dt = void 0, p2.duration = void 0, p2.clientX0 = void 0, p2.clientY0 = void 0, p2.velocity = void 0, p2.speed = void 0, p2.swipe = void 0, p2.axes = void 0, p2.preEnd = void 0, s2 = s2 || t3.element;
            var f2 = t3.interactable, d2 = (f2 && f2.options || Te).deltaSource, h2 = K(f2, s2, o2), v2 = "start" === a2, g2 = "end" === a2, m2 = v2 ? u(p2) : t3.prevEvent, y2 = v2 ? t3.coords.start : g2 ? { page: m2.page, client: m2.client, timeStamp: t3.coords.cur.timeStamp } : t3.coords.cur;
            return p2.page = V({}, y2.page), p2.client = V({}, y2.client), p2.rect = V({}, t3.rect), p2.timeStamp = y2.timeStamp, g2 || (p2.page.x -= h2.x, p2.page.y -= h2.y, p2.client.x -= h2.x, p2.client.y -= h2.y), p2.ctrlKey = i2.ctrlKey, p2.altKey = i2.altKey, p2.shiftKey = i2.shiftKey, p2.metaKey = i2.metaKey, p2.button = i2.button, p2.buttons = i2.buttons, p2.target = s2, p2.currentTarget = s2, p2.preEnd = c2, p2.type = l2 || o2 + (a2 || ""), p2.interactable = f2, p2.t0 = v2 ? t3.pointers[t3.pointers.length - 1].downTime : m2.t0, p2.x0 = t3.coords.start.page.x - h2.x, p2.y0 = t3.coords.start.page.y - h2.y, p2.clientX0 = t3.coords.start.client.x - h2.x, p2.clientY0 = t3.coords.start.client.y - h2.y, p2.delta = v2 || g2 ? { x: 0, y: 0 } : { x: p2[d2].x - m2[d2].x, y: p2[d2].y - m2[d2].y }, p2.dt = t3.coords.delta.timeStamp, p2.duration = p2.timeStamp - p2.t0, p2.velocity = V({}, t3.coords.velocity[d2]), p2.speed = Q(p2.velocity.x, p2.velocity.y), p2.swipe = g2 || "inertiastart" === a2 ? p2.getSwipe() : null, p2;
          }
          return o(n2, [{ key: "getSwipe", value: function() {
            var t3 = this._interaction;
            if (t3.prevEvent.speed < 600 || this.timeStamp - t3.prevEvent.timeStamp > 150) return null;
            var e3 = 180 * Math.atan2(t3.prevEvent.velocityY, t3.prevEvent.velocityX) / Math.PI;
            e3 < 0 && (e3 += 360);
            var n3 = 112.5 <= e3 && e3 < 247.5, r2 = 202.5 <= e3 && e3 < 337.5;
            return { up: r2, down: !r2 && 22.5 <= e3 && e3 < 157.5, left: n3, right: !n3 && (292.5 <= e3 || e3 < 67.5), angle: e3, speed: t3.prevEvent.speed, velocity: { x: t3.prevEvent.velocityX, y: t3.prevEvent.velocityY } };
          } }, { key: "preventDefault", value: function() {
          } }, { key: "stopImmediatePropagation", value: function() {
            this.immediatePropagationStopped = this.propagationStopped = true;
          } }, { key: "stopPropagation", value: function() {
            this.propagationStopped = true;
          } }]), n2;
        }(vt);
        Object.defineProperties(Se.prototype, { pageX: { get: function() {
          return this.page.x;
        }, set: function(t2) {
          this.page.x = t2;
        } }, pageY: { get: function() {
          return this.page.y;
        }, set: function(t2) {
          this.page.y = t2;
        } }, clientX: { get: function() {
          return this.client.x;
        }, set: function(t2) {
          this.client.x = t2;
        } }, clientY: { get: function() {
          return this.client.y;
        }, set: function(t2) {
          this.client.y = t2;
        } }, dx: { get: function() {
          return this.delta.x;
        }, set: function(t2) {
          this.delta.x = t2;
        } }, dy: { get: function() {
          return this.delta.y;
        }, set: function(t2) {
          this.delta.y = t2;
        } }, velocityX: { get: function() {
          return this.velocity.x;
        }, set: function(t2) {
          this.velocity.x = t2;
        } }, velocityY: { get: function() {
          return this.velocity.y;
        }, set: function(t2) {
          this.velocity.y = t2;
        } } });
        var _e = o(function t2(e2, n2, i2, o2, a2) {
          r(this, t2), this.id = void 0, this.pointer = void 0, this.event = void 0, this.downTime = void 0, this.downTarget = void 0, this.id = e2, this.pointer = n2, this.event = i2, this.downTime = o2, this.downTarget = a2;
        }), Pe = function(t2) {
          return t2.interactable = "", t2.element = "", t2.prepared = "", t2.pointerIsDown = "", t2.pointerWasMoved = "", t2._proxy = "", t2;
        }({}), Oe = function(t2) {
          return t2.start = "", t2.move = "", t2.end = "", t2.stop = "", t2.interacting = "", t2;
        }({}), ke = 0, De = function() {
          function t2(e2) {
            var n2 = this, i2 = e2.pointerType, o2 = e2.scopeFire;
            r(this, t2), this.interactable = null, this.element = null, this.rect = null, this._rects = void 0, this.edges = null, this._scopeFire = void 0, this.prepared = { name: null, axis: null, edges: null }, this.pointerType = void 0, this.pointers = [], this.downEvent = null, this.downPointer = {}, this._latestPointer = { pointer: null, event: null, eventTarget: null }, this.prevEvent = null, this.pointerIsDown = false, this.pointerWasMoved = false, this._interacting = false, this._ending = false, this._stopped = true, this._proxy = void 0, this.simulation = null, this.doMove = Nt(function(t3) {
              this.move(t3);
            }, "The interaction.doMove() method has been renamed to interaction.move()"), this.coords = { start: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 }, prev: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 }, cur: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 }, delta: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 }, velocity: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 } }, this._id = ke++, this._scopeFire = o2, this.pointerType = i2;
            var a2 = this;
            this._proxy = {};
            var s2 = function(t3) {
              Object.defineProperty(n2._proxy, t3, { get: function() {
                return a2[t3];
              } });
            };
            for (var c2 in Pe) s2(c2);
            var l2 = function(t3) {
              Object.defineProperty(n2._proxy, t3, { value: function() {
                return a2[t3].apply(a2, arguments);
              } });
            };
            for (var u2 in Oe) l2(u2);
            this._scopeFire("interactions:new", { interaction: this });
          }
          return o(t2, [{ key: "pointerMoveTolerance", get: function() {
            return 1;
          } }, { key: "pointerDown", value: function(t3, e2, n2) {
            var r2 = this.updatePointer(t3, e2, n2, true), i2 = this.pointers[r2];
            this._scopeFire("interactions:down", { pointer: t3, event: e2, eventTarget: n2, pointerIndex: r2, pointerInfo: i2, type: "down", interaction: this });
          } }, { key: "start", value: function(t3, e2, n2) {
            return !(this.interacting() || !this.pointerIsDown || this.pointers.length < ("gesture" === t3.name ? 2 : 1) || !e2.options[t3.name].enabled) && (Ut(this.prepared, t3), this.interactable = e2, this.element = n2, this.rect = e2.getRect(n2), this.edges = this.prepared.edges ? V({}, this.prepared.edges) : { left: true, right: true, top: true, bottom: true }, this._stopped = false, this._interacting = this._doPhase({ interaction: this, event: this.downEvent, phase: "start" }) && !this._stopped, this._interacting);
          } }, { key: "pointerMove", value: function(t3, e2, n2) {
            this.simulation || this.modification && this.modification.endResult || this.updatePointer(t3, e2, n2, false);
            var r2, i2, o2 = this.coords.cur.page.x === this.coords.prev.page.x && this.coords.cur.page.y === this.coords.prev.page.y && this.coords.cur.client.x === this.coords.prev.client.x && this.coords.cur.client.y === this.coords.prev.client.y;
            this.pointerIsDown && !this.pointerWasMoved && (r2 = this.coords.cur.client.x - this.coords.start.client.x, i2 = this.coords.cur.client.y - this.coords.start.client.y, this.pointerWasMoved = Q(r2, i2) > this.pointerMoveTolerance);
            var a2, s2, c2, l2 = this.getPointerIndex(t3), u2 = { pointer: t3, pointerIndex: l2, pointerInfo: this.pointers[l2], event: e2, type: "move", eventTarget: n2, dx: r2, dy: i2, duplicate: o2, interaction: this };
            o2 || (a2 = this.coords.velocity, s2 = this.coords.delta, c2 = Math.max(s2.timeStamp / 1e3, 1e-3), a2.page.x = s2.page.x / c2, a2.page.y = s2.page.y / c2, a2.client.x = s2.client.x / c2, a2.client.y = s2.client.y / c2, a2.timeStamp = c2), this._scopeFire("interactions:move", u2), o2 || this.simulation || (this.interacting() && (u2.type = null, this.move(u2)), this.pointerWasMoved && et(this.coords.prev, this.coords.cur));
          } }, { key: "move", value: function(t3) {
            t3 && t3.event || nt(this.coords.delta), (t3 = V({ pointer: this._latestPointer.pointer, event: this._latestPointer.event, eventTarget: this._latestPointer.eventTarget, interaction: this }, t3 || {})).phase = "move", this._doPhase(t3);
          } }, { key: "pointerUp", value: function(t3, e2, n2, r2) {
            var i2 = this.getPointerIndex(t3);
            -1 === i2 && (i2 = this.updatePointer(t3, e2, n2, false));
            var o2 = /cancel$/i.test(e2.type) ? "cancel" : "up";
            this._scopeFire("interactions:".concat(o2), { pointer: t3, pointerIndex: i2, pointerInfo: this.pointers[i2], event: e2, eventTarget: n2, type: o2, curEventTarget: r2, interaction: this }), this.simulation || this.end(e2), this.removePointer(t3, e2);
          } }, { key: "documentBlur", value: function(t3) {
            this.end(t3), this._scopeFire("interactions:blur", { event: t3, type: "blur", interaction: this });
          } }, { key: "end", value: function(t3) {
            var e2;
            this._ending = true, t3 = t3 || this._latestPointer.event, this.interacting() && (e2 = this._doPhase({ event: t3, interaction: this, phase: "end" })), this._ending = false, true === e2 && this.stop();
          } }, { key: "currentAction", value: function() {
            return this._interacting ? this.prepared.name : null;
          } }, { key: "interacting", value: function() {
            return this._interacting;
          } }, { key: "stop", value: function() {
            this._scopeFire("interactions:stop", { interaction: this }), this.interactable = this.element = null, this._interacting = false, this._stopped = true, this.prepared.name = this.prevEvent = null;
          } }, { key: "getPointerIndex", value: function(t3) {
            var e2 = at(t3);
            return "mouse" === this.pointerType || "pen" === this.pointerType ? this.pointers.length - 1 : yt(this.pointers, function(t4) {
              return t4.id === e2;
            });
          } }, { key: "getPointerInfo", value: function(t3) {
            return this.pointers[this.getPointerIndex(t3)];
          } }, { key: "updatePointer", value: function(t3, e2, n2, r2) {
            var i2, o2, a2, s2 = at(t3), c2 = this.getPointerIndex(t3), l2 = this.pointers[c2];
            return r2 = false !== r2 && (r2 || /(down|start)$/i.test(e2.type)), l2 ? l2.pointer = t3 : (l2 = new _e(s2, t3, e2, null, null), c2 = this.pointers.length, this.pointers.push(l2)), st(this.coords.cur, this.pointers.map(function(t4) {
              return t4.pointer;
            }), this._now()), i2 = this.coords.delta, o2 = this.coords.prev, a2 = this.coords.cur, i2.page.x = a2.page.x - o2.page.x, i2.page.y = a2.page.y - o2.page.y, i2.client.x = a2.client.x - o2.client.x, i2.client.y = a2.client.y - o2.client.y, i2.timeStamp = a2.timeStamp - o2.timeStamp, r2 && (this.pointerIsDown = true, l2.downTime = this.coords.cur.timeStamp, l2.downTarget = n2, tt(this.downPointer, t3), this.interacting() || (et(this.coords.start, this.coords.cur), et(this.coords.prev, this.coords.cur), this.downEvent = e2, this.pointerWasMoved = false)), this._updateLatestPointer(t3, e2, n2), this._scopeFire("interactions:update-pointer", { pointer: t3, event: e2, eventTarget: n2, down: r2, pointerInfo: l2, pointerIndex: c2, interaction: this }), c2;
          } }, { key: "removePointer", value: function(t3, e2) {
            var n2 = this.getPointerIndex(t3);
            if (-1 !== n2) {
              var r2 = this.pointers[n2];
              this._scopeFire("interactions:remove-pointer", { pointer: t3, event: e2, eventTarget: null, pointerIndex: n2, pointerInfo: r2, interaction: this }), this.pointers.splice(n2, 1), this.pointerIsDown = false;
            }
          } }, { key: "_updateLatestPointer", value: function(t3, e2, n2) {
            this._latestPointer.pointer = t3, this._latestPointer.event = e2, this._latestPointer.eventTarget = n2;
          } }, { key: "destroy", value: function() {
            this._latestPointer.pointer = null, this._latestPointer.event = null, this._latestPointer.eventTarget = null;
          } }, { key: "_createPreparedEvent", value: function(t3, e2, n2, r2) {
            return new Se(this, t3, this.prepared.name, e2, this.element, n2, r2);
          } }, { key: "_fireEvent", value: function(t3) {
            var e2;
            null == (e2 = this.interactable) || e2.fire(t3), (!this.prevEvent || t3.timeStamp >= this.prevEvent.timeStamp) && (this.prevEvent = t3);
          } }, { key: "_doPhase", value: function(t3) {
            var e2 = t3.event, n2 = t3.phase, r2 = t3.preEnd, i2 = t3.type, o2 = this.rect;
            if (o2 && "move" === n2 && (H(this.edges, o2, this.coords.delta[this.interactable.options.deltaSource]), o2.width = o2.right - o2.left, o2.height = o2.bottom - o2.top), false === this._scopeFire("interactions:before-action-".concat(n2), t3)) return false;
            var a2 = t3.iEvent = this._createPreparedEvent(e2, n2, r2, i2);
            return this._scopeFire("interactions:action-".concat(n2), t3), "start" === n2 && (this.prevEvent = a2), this._fireEvent(a2), this._scopeFire("interactions:after-action-".concat(n2), t3), true;
          } }, { key: "_now", value: function() {
            return Date.now();
          } }]), t2;
        }();
        function Ie(t2) {
          Me(t2.interaction);
        }
        function Me(t2) {
          if (!function(t3) {
            return !(!t3.offset.pending.x && !t3.offset.pending.y);
          }(t2)) return false;
          var e2 = t2.offset.pending;
          return Ae(t2.coords.cur, e2), Ae(t2.coords.delta, e2), H(t2.edges, t2.rect, e2), e2.x = 0, e2.y = 0, true;
        }
        function ze(t2) {
          var e2 = t2.x, n2 = t2.y;
          this.offset.pending.x += e2, this.offset.pending.y += n2, this.offset.total.x += e2, this.offset.total.y += n2;
        }
        function Ae(t2, e2) {
          var n2 = t2.page, r2 = t2.client, i2 = e2.x, o2 = e2.y;
          n2.x += i2, n2.y += o2, r2.x += i2, r2.y += o2;
        }
        Oe.offsetBy = "";
        var Re = { id: "offset", before: ["modifiers", "pointer-events", "actions", "inertia"], install: function(t2) {
          t2.Interaction.prototype.offsetBy = ze;
        }, listeners: { "interactions:new": function(t2) {
          t2.interaction.offset = { total: { x: 0, y: 0 }, pending: { x: 0, y: 0 } };
        }, "interactions:update-pointer": function(t2) {
          return function(t3) {
            t3.pointerIsDown && (Ae(t3.coords.cur, t3.offset.total), t3.offset.pending.x = 0, t3.offset.pending.y = 0);
          }(t2.interaction);
        }, "interactions:before-action-start": Ie, "interactions:before-action-move": Ie, "interactions:before-action-end": function(t2) {
          var e2 = t2.interaction;
          if (Me(e2)) return e2.move({ offset: true }), e2.end(), false;
        }, "interactions:stop": function(t2) {
          var e2 = t2.interaction;
          e2.offset.total.x = 0, e2.offset.total.y = 0, e2.offset.pending.x = 0, e2.offset.pending.y = 0;
        } } }, Ce = Re;
        var je = function() {
          function t2(e2) {
            r(this, t2), this.active = false, this.isModified = false, this.smoothEnd = false, this.allowResume = false, this.modification = void 0, this.modifierCount = 0, this.modifierArg = void 0, this.startCoords = void 0, this.t0 = 0, this.v0 = 0, this.te = 0, this.targetOffset = void 0, this.modifiedOffset = void 0, this.currentOffset = void 0, this.lambda_v0 = 0, this.one_ve_v0 = 0, this.timeout = void 0, this.interaction = void 0, this.interaction = e2;
          }
          return o(t2, [{ key: "start", value: function(t3) {
            var e2 = this.interaction, n2 = Fe(e2);
            if (!n2 || !n2.enabled) return false;
            var r2 = e2.coords.velocity.client, i2 = Q(r2.x, r2.y), o2 = this.modification || (this.modification = new me(e2));
            if (o2.copyFrom(e2.modification), this.t0 = e2._now(), this.allowResume = n2.allowResume, this.v0 = i2, this.currentOffset = { x: 0, y: 0 }, this.startCoords = e2.coords.cur.page, this.modifierArg = o2.fillArg({ pageCoords: this.startCoords, preEnd: true, phase: "inertiastart" }), this.t0 - e2.coords.cur.timeStamp < 50 && i2 > n2.minSpeed && i2 > n2.endSpeed) this.startInertia();
            else {
              if (o2.result = o2.setAll(this.modifierArg), !o2.result.changed) return false;
              this.startSmoothEnd();
            }
            return e2.modification.result.rect = null, e2.offsetBy(this.targetOffset), e2._doPhase({ interaction: e2, event: t3, phase: "inertiastart" }), e2.offsetBy({ x: -this.targetOffset.x, y: -this.targetOffset.y }), e2.modification.result.rect = null, this.active = true, e2.simulation = this, true;
          } }, { key: "startInertia", value: function() {
            var t3 = this, e2 = this.interaction.coords.velocity.client, n2 = Fe(this.interaction), r2 = n2.resistance, i2 = -Math.log(n2.endSpeed / this.v0) / r2;
            this.targetOffset = { x: (e2.x - i2) / r2, y: (e2.y - i2) / r2 }, this.te = i2, this.lambda_v0 = r2 / this.v0, this.one_ve_v0 = 1 - n2.endSpeed / this.v0;
            var o2 = this.modification, a2 = this.modifierArg;
            a2.pageCoords = { x: this.startCoords.x + this.targetOffset.x, y: this.startCoords.y + this.targetOffset.y }, o2.result = o2.setAll(a2), o2.result.changed && (this.isModified = true, this.modifiedOffset = { x: this.targetOffset.x + o2.result.delta.x, y: this.targetOffset.y + o2.result.delta.y }), this.onNextFrame(function() {
              return t3.inertiaTick();
            });
          } }, { key: "startSmoothEnd", value: function() {
            var t3 = this;
            this.smoothEnd = true, this.isModified = true, this.targetOffset = { x: this.modification.result.delta.x, y: this.modification.result.delta.y }, this.onNextFrame(function() {
              return t3.smoothEndTick();
            });
          } }, { key: "onNextFrame", value: function(t3) {
            var e2 = this;
            this.timeout = Lt.request(function() {
              e2.active && t3();
            });
          } }, { key: "inertiaTick", value: function() {
            var t3, e2, n2, r2, i2, o2, a2, s2 = this, c2 = this.interaction, l2 = Fe(c2).resistance, u2 = (c2._now() - this.t0) / 1e3;
            if (u2 < this.te) {
              var p2, f2 = 1 - (Math.exp(-l2 * u2) - this.lambda_v0) / this.one_ve_v0;
              this.isModified ? (t3 = 0, e2 = 0, n2 = this.targetOffset.x, r2 = this.targetOffset.y, i2 = this.modifiedOffset.x, o2 = this.modifiedOffset.y, p2 = { x: Ye(a2 = f2, t3, n2, i2), y: Ye(a2, e2, r2, o2) }) : p2 = { x: this.targetOffset.x * f2, y: this.targetOffset.y * f2 };
              var d2 = { x: p2.x - this.currentOffset.x, y: p2.y - this.currentOffset.y };
              this.currentOffset.x += d2.x, this.currentOffset.y += d2.y, c2.offsetBy(d2), c2.move(), this.onNextFrame(function() {
                return s2.inertiaTick();
              });
            } else c2.offsetBy({ x: this.modifiedOffset.x - this.currentOffset.x, y: this.modifiedOffset.y - this.currentOffset.y }), this.end();
          } }, { key: "smoothEndTick", value: function() {
            var t3 = this, e2 = this.interaction, n2 = e2._now() - this.t0, r2 = Fe(e2).smoothEndDuration;
            if (n2 < r2) {
              var i2 = { x: Le(n2, 0, this.targetOffset.x, r2), y: Le(n2, 0, this.targetOffset.y, r2) }, o2 = { x: i2.x - this.currentOffset.x, y: i2.y - this.currentOffset.y };
              this.currentOffset.x += o2.x, this.currentOffset.y += o2.y, e2.offsetBy(o2), e2.move({ skipModifiers: this.modifierCount }), this.onNextFrame(function() {
                return t3.smoothEndTick();
              });
            } else e2.offsetBy({ x: this.targetOffset.x - this.currentOffset.x, y: this.targetOffset.y - this.currentOffset.y }), this.end();
          } }, { key: "resume", value: function(t3) {
            var e2 = t3.pointer, n2 = t3.event, r2 = t3.eventTarget, i2 = this.interaction;
            i2.offsetBy({ x: -this.currentOffset.x, y: -this.currentOffset.y }), i2.updatePointer(e2, n2, r2, true), i2._doPhase({ interaction: i2, event: n2, phase: "resume" }), et(i2.coords.prev, i2.coords.cur), this.stop();
          } }, { key: "end", value: function() {
            this.interaction.move(), this.interaction.end(), this.stop();
          } }, { key: "stop", value: function() {
            this.active = this.smoothEnd = false, this.interaction.simulation = null, Lt.cancel(this.timeout);
          } }]), t2;
        }();
        function Fe(t2) {
          var e2 = t2.interactable, n2 = t2.prepared;
          return e2 && e2.options && n2.name && e2.options[n2.name].inertia;
        }
        var Xe = { id: "inertia", before: ["modifiers", "actions"], install: function(t2) {
          var e2 = t2.defaults;
          t2.usePlugin(Ce), t2.usePlugin(Ee), t2.actions.phases.inertiastart = true, t2.actions.phases.resume = true, e2.perAction.inertia = { enabled: false, resistance: 10, minSpeed: 100, endSpeed: 10, allowResume: true, smoothEndDuration: 300 };
        }, listeners: { "interactions:new": function(t2) {
          var e2 = t2.interaction;
          e2.inertia = new je(e2);
        }, "interactions:before-action-end": function(t2) {
          var e2 = t2.interaction, n2 = t2.event;
          return (!e2._interacting || e2.simulation || !e2.inertia.start(n2)) && null;
        }, "interactions:down": function(t2) {
          var e2 = t2.interaction, n2 = t2.eventTarget, r2 = e2.inertia;
          if (r2.active) for (var i2 = n2; w.element(i2); ) {
            if (i2 === e2.element) {
              r2.resume(t2);
              break;
            }
            i2 = A(i2);
          }
        }, "interactions:stop": function(t2) {
          var e2 = t2.interaction.inertia;
          e2.active && e2.stop();
        }, "interactions:before-action-resume": function(t2) {
          var e2 = t2.interaction.modification;
          e2.stop(t2), e2.start(t2, t2.interaction.coords.cur.page), e2.applyToInteraction(t2);
        }, "interactions:before-action-inertiastart": function(t2) {
          return t2.interaction.modification.setAndApply(t2);
        }, "interactions:action-resume": xe, "interactions:action-inertiastart": xe, "interactions:after-action-inertiastart": function(t2) {
          return t2.interaction.modification.restoreInteractionCoords(t2);
        }, "interactions:after-action-resume": function(t2) {
          return t2.interaction.modification.restoreInteractionCoords(t2);
        } } };
        function Ye(t2, e2, n2, r2) {
          var i2 = 1 - t2;
          return i2 * i2 * e2 + 2 * i2 * t2 * n2 + t2 * t2 * r2;
        }
        function Le(t2, e2, n2, r2) {
          return -n2 * (t2 /= r2) * (t2 - 2) + e2;
        }
        var qe = Xe;
        function Be(t2, e2) {
          for (var n2 = 0; n2 < e2.length; n2++) {
            var r2 = e2[n2];
            if (t2.immediatePropagationStopped) break;
            r2(t2);
          }
        }
        var Ve = function() {
          function t2(e2) {
            r(this, t2), this.options = void 0, this.types = {}, this.propagationStopped = false, this.immediatePropagationStopped = false, this.global = void 0, this.options = V({}, e2 || {});
          }
          return o(t2, [{ key: "fire", value: function(t3) {
            var e2, n2 = this.global;
            (e2 = this.types[t3.type]) && Be(t3, e2), !t3.propagationStopped && n2 && (e2 = n2[t3.type]) && Be(t3, e2);
          } }, { key: "on", value: function(t3, e2) {
            var n2 = $(t3, e2);
            for (t3 in n2) this.types[t3] = gt(this.types[t3] || [], n2[t3]);
          } }, { key: "off", value: function(t3, e2) {
            var n2 = $(t3, e2);
            for (t3 in n2) {
              var r2 = this.types[t3];
              if (r2 && r2.length) for (var i2 = 0, o2 = n2[t3]; i2 < o2.length; i2++) {
                var a2 = o2[i2], s2 = r2.indexOf(a2);
                -1 !== s2 && r2.splice(s2, 1);
              }
            }
          } }, { key: "getRect", value: function(t3) {
            return null;
          } }]), t2;
        }();
        var We = function() {
          function t2(e2) {
            r(this, t2), this.currentTarget = void 0, this.originalEvent = void 0, this.type = void 0, this.originalEvent = e2, tt(this, e2);
          }
          return o(t2, [{ key: "preventOriginalDefault", value: function() {
            this.originalEvent.preventDefault();
          } }, { key: "stopPropagation", value: function() {
            this.originalEvent.stopPropagation();
          } }, { key: "stopImmediatePropagation", value: function() {
            this.originalEvent.stopImmediatePropagation();
          } }]), t2;
        }();
        function Ge(t2) {
          return w.object(t2) ? { capture: !!t2.capture, passive: !!t2.passive } : { capture: !!t2, passive: false };
        }
        function Ne(t2, e2) {
          return t2 === e2 || ("boolean" == typeof t2 ? !!e2.capture === t2 && false == !!e2.passive : !!t2.capture == !!e2.capture && !!t2.passive == !!e2.passive);
        }
        var Ue = { id: "events", install: function(t2) {
          var e2, n2 = [], r2 = {}, i2 = [], o2 = { add: a2, remove: s2, addDelegate: function(t3, e3, n3, o3, s3) {
            var u2 = Ge(s3);
            if (!r2[n3]) {
              r2[n3] = [];
              for (var p2 = 0; p2 < i2.length; p2++) {
                var f2 = i2[p2];
                a2(f2, n3, c2), a2(f2, n3, l2, true);
              }
            }
            var d2 = r2[n3], h2 = bt(d2, function(n4) {
              return n4.selector === t3 && n4.context === e3;
            });
            h2 || (h2 = { selector: t3, context: e3, listeners: [] }, d2.push(h2));
            h2.listeners.push({ func: o3, options: u2 });
          }, removeDelegate: function(t3, e3, n3, i3, o3) {
            var a3, u2 = Ge(o3), p2 = r2[n3], f2 = false;
            if (!p2) return;
            for (a3 = p2.length - 1; a3 >= 0; a3--) {
              var d2 = p2[a3];
              if (d2.selector === t3 && d2.context === e3) {
                for (var h2 = d2.listeners, v2 = h2.length - 1; v2 >= 0; v2--) {
                  var g2 = h2[v2];
                  if (g2.func === i3 && Ne(g2.options, u2)) {
                    h2.splice(v2, 1), h2.length || (p2.splice(a3, 1), s2(e3, n3, c2), s2(e3, n3, l2, true)), f2 = true;
                    break;
                  }
                }
                if (f2) break;
              }
            }
          }, delegateListener: c2, delegateUseCapture: l2, delegatedEvents: r2, documents: i2, targets: n2, supportsOptions: false, supportsPassive: false };
          function a2(t3, e3, r3, i3) {
            if (t3.addEventListener) {
              var a3 = Ge(i3), s3 = bt(n2, function(e4) {
                return e4.eventTarget === t3;
              });
              s3 || (s3 = { eventTarget: t3, events: {} }, n2.push(s3)), s3.events[e3] || (s3.events[e3] = []), bt(s3.events[e3], function(t4) {
                return t4.func === r3 && Ne(t4.options, a3);
              }) || (t3.addEventListener(e3, r3, o2.supportsOptions ? a3 : a3.capture), s3.events[e3].push({ func: r3, options: a3 }));
            }
          }
          function s2(t3, e3, r3, i3) {
            if (t3.addEventListener && t3.removeEventListener) {
              var a3 = yt(n2, function(e4) {
                return e4.eventTarget === t3;
              }), c3 = n2[a3];
              if (c3 && c3.events) if ("all" !== e3) {
                var l3 = false, u2 = c3.events[e3];
                if (u2) {
                  if ("all" === r3) {
                    for (var p2 = u2.length - 1; p2 >= 0; p2--) {
                      var f2 = u2[p2];
                      s2(t3, e3, f2.func, f2.options);
                    }
                    return;
                  }
                  for (var d2 = Ge(i3), h2 = 0; h2 < u2.length; h2++) {
                    var v2 = u2[h2];
                    if (v2.func === r3 && Ne(v2.options, d2)) {
                      t3.removeEventListener(e3, r3, o2.supportsOptions ? d2 : d2.capture), u2.splice(h2, 1), 0 === u2.length && (delete c3.events[e3], l3 = true);
                      break;
                    }
                  }
                }
                l3 && !Object.keys(c3.events).length && n2.splice(a3, 1);
              } else for (e3 in c3.events) c3.events.hasOwnProperty(e3) && s2(t3, e3, "all");
            }
          }
          function c2(t3, e3) {
            for (var n3 = Ge(e3), i3 = new We(t3), o3 = r2[t3.type], a3 = ht(t3)[0], s3 = a3; w.element(s3); ) {
              for (var c3 = 0; c3 < o3.length; c3++) {
                var l3 = o3[c3], u2 = l3.selector, p2 = l3.context;
                if (R(s3, u2) && M(p2, a3) && M(p2, s3)) {
                  var f2 = l3.listeners;
                  i3.currentTarget = s3;
                  for (var d2 = 0; d2 < f2.length; d2++) {
                    var h2 = f2[d2];
                    Ne(h2.options, n3) && h2.func(i3);
                  }
                }
              }
              s3 = A(s3);
            }
          }
          function l2(t3) {
            return c2(t3, true);
          }
          return null == (e2 = t2.document) || e2.createElement("div").addEventListener("test", null, { get capture() {
            return o2.supportsOptions = true;
          }, get passive() {
            return o2.supportsPassive = true;
          } }), t2.events = o2, o2;
        } }, He = { methodOrder: ["simulationResume", "mouseOrPen", "hasPointer", "idle"], search: function(t2) {
          for (var e2 = 0, n2 = He.methodOrder; e2 < n2.length; e2++) {
            var r2 = n2[e2], i2 = He[r2](t2);
            if (i2) return i2;
          }
          return null;
        }, simulationResume: function(t2) {
          var e2 = t2.pointerType, n2 = t2.eventType, r2 = t2.eventTarget, i2 = t2.scope;
          if (!/down|start/i.test(n2)) return null;
          for (var o2 = 0, a2 = i2.interactions.list; o2 < a2.length; o2++) {
            var s2 = a2[o2], c2 = r2;
            if (s2.simulation && s2.simulation.allowResume && s2.pointerType === e2) for (; c2; ) {
              if (c2 === s2.element) return s2;
              c2 = A(c2);
            }
          }
          return null;
        }, mouseOrPen: function(t2) {
          var e2, n2 = t2.pointerId, r2 = t2.pointerType, i2 = t2.eventType, o2 = t2.scope;
          if ("mouse" !== r2 && "pen" !== r2) return null;
          for (var a2 = 0, s2 = o2.interactions.list; a2 < s2.length; a2++) {
            var c2 = s2[a2];
            if (c2.pointerType === r2) {
              if (c2.simulation && !Ke(c2, n2)) continue;
              if (c2.interacting()) return c2;
              e2 || (e2 = c2);
            }
          }
          if (e2) return e2;
          for (var l2 = 0, u2 = o2.interactions.list; l2 < u2.length; l2++) {
            var p2 = u2[l2];
            if (!(p2.pointerType !== r2 || /down/i.test(i2) && p2.simulation)) return p2;
          }
          return null;
        }, hasPointer: function(t2) {
          for (var e2 = t2.pointerId, n2 = 0, r2 = t2.scope.interactions.list; n2 < r2.length; n2++) {
            var i2 = r2[n2];
            if (Ke(i2, e2)) return i2;
          }
          return null;
        }, idle: function(t2) {
          for (var e2 = t2.pointerType, n2 = 0, r2 = t2.scope.interactions.list; n2 < r2.length; n2++) {
            var i2 = r2[n2];
            if (1 === i2.pointers.length) {
              var o2 = i2.interactable;
              if (o2 && (!o2.options.gesture || !o2.options.gesture.enabled)) continue;
            } else if (i2.pointers.length >= 2) continue;
            if (!i2.interacting() && e2 === i2.pointerType) return i2;
          }
          return null;
        } };
        function Ke(t2, e2) {
          return t2.pointers.some(function(t3) {
            return t3.id === e2;
          });
        }
        var $e = He, Je = ["pointerDown", "pointerMove", "pointerUp", "updatePointer", "removePointer", "windowBlur"];
        function Qe(t2, e2) {
          return function(n2) {
            var r2 = e2.interactions.list, i2 = dt(n2), o2 = ht(n2), a2 = o2[0], s2 = o2[1], c2 = [];
            if (/^touch/.test(n2.type)) {
              e2.prevTouchTime = e2.now();
              for (var l2 = 0, u2 = n2.changedTouches; l2 < u2.length; l2++) {
                var p2 = u2[l2], f2 = { pointer: p2, pointerId: at(p2), pointerType: i2, eventType: n2.type, eventTarget: a2, curEventTarget: s2, scope: e2 }, d2 = Ze(f2);
                c2.push([f2.pointer, f2.eventTarget, f2.curEventTarget, d2]);
              }
            } else {
              var h2 = false;
              if (!I.supportsPointerEvent && /mouse/.test(n2.type)) {
                for (var v2 = 0; v2 < r2.length && !h2; v2++) h2 = "mouse" !== r2[v2].pointerType && r2[v2].pointerIsDown;
                h2 = h2 || e2.now() - e2.prevTouchTime < 500 || 0 === n2.timeStamp;
              }
              if (!h2) {
                var g2 = { pointer: n2, pointerId: at(n2), pointerType: i2, eventType: n2.type, curEventTarget: s2, eventTarget: a2, scope: e2 }, m2 = Ze(g2);
                c2.push([g2.pointer, g2.eventTarget, g2.curEventTarget, m2]);
              }
            }
            for (var y2 = 0; y2 < c2.length; y2++) {
              var b2 = c2[y2], x2 = b2[0], w2 = b2[1], E2 = b2[2];
              b2[3][t2](x2, n2, w2, E2);
            }
          };
        }
        function Ze(t2) {
          var e2 = t2.pointerType, n2 = t2.scope, r2 = { interaction: $e.search(t2), searchDetails: t2 };
          return n2.fire("interactions:find", r2), r2.interaction || n2.interactions.new({ pointerType: e2 });
        }
        function tn(t2, e2) {
          var n2 = t2.doc, r2 = t2.scope, i2 = t2.options, o2 = r2.interactions.docEvents, a2 = r2.events, s2 = a2[e2];
          for (var c2 in r2.browser.isIOS && !i2.events && (i2.events = { passive: false }), a2.delegatedEvents) s2(n2, c2, a2.delegateListener), s2(n2, c2, a2.delegateUseCapture, true);
          for (var l2 = i2 && i2.events, u2 = 0; u2 < o2.length; u2++) {
            var p2 = o2[u2];
            s2(n2, p2.type, p2.listener, l2);
          }
        }
        var en = { id: "core/interactions", install: function(t2) {
          for (var e2 = {}, n2 = 0; n2 < Je.length; n2++) {
            var i2 = Je[n2];
            e2[i2] = Qe(i2, t2);
          }
          var a2, c2 = I.pEventTypes;
          function l2() {
            for (var e3 = 0, n3 = t2.interactions.list; e3 < n3.length; e3++) {
              var r2 = n3[e3];
              if (r2.pointerIsDown && "touch" === r2.pointerType && !r2._interacting) for (var i3 = function() {
                var e4 = a3[o2];
                t2.documents.some(function(t3) {
                  return M(t3.doc, e4.downTarget);
                }) || r2.removePointer(e4.pointer, e4.event);
              }, o2 = 0, a3 = r2.pointers; o2 < a3.length; o2++) i3();
            }
          }
          (a2 = k.PointerEvent ? [{ type: c2.down, listener: l2 }, { type: c2.down, listener: e2.pointerDown }, { type: c2.move, listener: e2.pointerMove }, { type: c2.up, listener: e2.pointerUp }, { type: c2.cancel, listener: e2.pointerUp }] : [{ type: "mousedown", listener: e2.pointerDown }, { type: "mousemove", listener: e2.pointerMove }, { type: "mouseup", listener: e2.pointerUp }, { type: "touchstart", listener: l2 }, { type: "touchstart", listener: e2.pointerDown }, { type: "touchmove", listener: e2.pointerMove }, { type: "touchend", listener: e2.pointerUp }, { type: "touchcancel", listener: e2.pointerUp }]).push({ type: "blur", listener: function(e3) {
            for (var n3 = 0, r2 = t2.interactions.list; n3 < r2.length; n3++) {
              r2[n3].documentBlur(e3);
            }
          } }), t2.prevTouchTime = 0, t2.Interaction = function(e3) {
            s(i3, e3);
            var n3 = p(i3);
            function i3() {
              return r(this, i3), n3.apply(this, arguments);
            }
            return o(i3, [{ key: "pointerMoveTolerance", get: function() {
              return t2.interactions.pointerMoveTolerance;
            }, set: function(e4) {
              t2.interactions.pointerMoveTolerance = e4;
            } }, { key: "_now", value: function() {
              return t2.now();
            } }]), i3;
          }(De), t2.interactions = { list: [], new: function(e3) {
            e3.scopeFire = function(e4, n4) {
              return t2.fire(e4, n4);
            };
            var n3 = new t2.Interaction(e3);
            return t2.interactions.list.push(n3), n3;
          }, listeners: e2, docEvents: a2, pointerMoveTolerance: 1 }, t2.usePlugin(he);
        }, listeners: { "scope:add-document": function(t2) {
          return tn(t2, "add");
        }, "scope:remove-document": function(t2) {
          return tn(t2, "remove");
        }, "interactable:unset": function(t2, e2) {
          for (var n2 = t2.interactable, r2 = e2.interactions.list.length - 1; r2 >= 0; r2--) {
            var i2 = e2.interactions.list[r2];
            i2.interactable === n2 && (i2.stop(), e2.fire("interactions:destroy", { interaction: i2 }), i2.destroy(), e2.interactions.list.length > 2 && e2.interactions.list.splice(r2, 1));
          }
        } }, onDocSignal: tn, doOnInteractions: Qe, methodNames: Je }, nn = en, rn = function(t2) {
          return t2[t2.On = 0] = "On", t2[t2.Off = 1] = "Off", t2;
        }(rn || {}), on = function() {
          function t2(e2, n2, i2, o2) {
            r(this, t2), this.target = void 0, this.options = void 0, this._actions = void 0, this.events = new Ve(), this._context = void 0, this._win = void 0, this._doc = void 0, this._scopeEvents = void 0, this._actions = n2.actions, this.target = e2, this._context = n2.context || i2, this._win = y(B(e2) ? this._context : e2), this._doc = this._win.document, this._scopeEvents = o2, this.set(n2);
          }
          return o(t2, [{ key: "_defaults", get: function() {
            return { base: {}, perAction: {}, actions: {} };
          } }, { key: "setOnEvents", value: function(t3, e2) {
            return w.func(e2.onstart) && this.on("".concat(t3, "start"), e2.onstart), w.func(e2.onmove) && this.on("".concat(t3, "move"), e2.onmove), w.func(e2.onend) && this.on("".concat(t3, "end"), e2.onend), w.func(e2.oninertiastart) && this.on("".concat(t3, "inertiastart"), e2.oninertiastart), this;
          } }, { key: "updatePerActionListeners", value: function(t3, e2, n2) {
            var r2, i2 = this, o2 = null == (r2 = this._actions.map[t3]) ? void 0 : r2.filterEventType, a2 = function(t4) {
              return (null == o2 || o2(t4)) && ve(t4, i2._actions);
            };
            (w.array(e2) || w.object(e2)) && this._onOff(rn.Off, t3, e2, void 0, a2), (w.array(n2) || w.object(n2)) && this._onOff(rn.On, t3, n2, void 0, a2);
          } }, { key: "setPerAction", value: function(t3, e2) {
            var n2 = this._defaults;
            for (var r2 in e2) {
              var i2 = r2, o2 = this.options[t3], a2 = e2[i2];
              "listeners" === i2 && this.updatePerActionListeners(t3, o2.listeners, a2), w.array(a2) ? o2[i2] = mt(a2) : w.plainObject(a2) ? (o2[i2] = V(o2[i2] || {}, ge(a2)), w.object(n2.perAction[i2]) && "enabled" in n2.perAction[i2] && (o2[i2].enabled = false !== a2.enabled)) : w.bool(a2) && w.object(n2.perAction[i2]) ? o2[i2].enabled = a2 : o2[i2] = a2;
            }
          } }, { key: "getRect", value: function(t3) {
            return t3 = t3 || (w.element(this.target) ? this.target : null), w.string(this.target) && (t3 = t3 || this._context.querySelector(this.target)), L(t3);
          } }, { key: "rectChecker", value: function(t3) {
            var e2 = this;
            return w.func(t3) ? (this.getRect = function(n2) {
              var r2 = V({}, t3.apply(e2, n2));
              return "width" in r2 || (r2.width = r2.right - r2.left, r2.height = r2.bottom - r2.top), r2;
            }, this) : null === t3 ? (delete this.getRect, this) : this.getRect;
          } }, { key: "_backCompatOption", value: function(t3, e2) {
            if (B(e2) || w.object(e2)) {
              for (var n2 in this.options[t3] = e2, this._actions.map) this.options[n2][t3] = e2;
              return this;
            }
            return this.options[t3];
          } }, { key: "origin", value: function(t3) {
            return this._backCompatOption("origin", t3);
          } }, { key: "deltaSource", value: function(t3) {
            return "page" === t3 || "client" === t3 ? (this.options.deltaSource = t3, this) : this.options.deltaSource;
          } }, { key: "getAllElements", value: function() {
            var t3 = this.target;
            return w.string(t3) ? Array.from(this._context.querySelectorAll(t3)) : w.func(t3) && t3.getAllElements ? t3.getAllElements() : w.element(t3) ? [t3] : [];
          } }, { key: "context", value: function() {
            return this._context;
          } }, { key: "inContext", value: function(t3) {
            return this._context === t3.ownerDocument || M(this._context, t3);
          } }, { key: "testIgnoreAllow", value: function(t3, e2, n2) {
            return !this.testIgnore(t3.ignoreFrom, e2, n2) && this.testAllow(t3.allowFrom, e2, n2);
          } }, { key: "testAllow", value: function(t3, e2, n2) {
            return !t3 || !!w.element(n2) && (w.string(t3) ? F(n2, t3, e2) : !!w.element(t3) && M(t3, n2));
          } }, { key: "testIgnore", value: function(t3, e2, n2) {
            return !(!t3 || !w.element(n2)) && (w.string(t3) ? F(n2, t3, e2) : !!w.element(t3) && M(t3, n2));
          } }, { key: "fire", value: function(t3) {
            return this.events.fire(t3), this;
          } }, { key: "_onOff", value: function(t3, e2, n2, r2, i2) {
            w.object(e2) && !w.array(e2) && (r2 = n2, n2 = null);
            var o2 = $(e2, n2, i2);
            for (var a2 in o2) {
              "wheel" === a2 && (a2 = I.wheelEvent);
              for (var s2 = 0, c2 = o2[a2]; s2 < c2.length; s2++) {
                var l2 = c2[s2];
                ve(a2, this._actions) ? this.events[t3 === rn.On ? "on" : "off"](a2, l2) : w.string(this.target) ? this._scopeEvents[t3 === rn.On ? "addDelegate" : "removeDelegate"](this.target, this._context, a2, l2, r2) : this._scopeEvents[t3 === rn.On ? "add" : "remove"](this.target, a2, l2, r2);
              }
            }
            return this;
          } }, { key: "on", value: function(t3, e2, n2) {
            return this._onOff(rn.On, t3, e2, n2);
          } }, { key: "off", value: function(t3, e2, n2) {
            return this._onOff(rn.Off, t3, e2, n2);
          } }, { key: "set", value: function(t3) {
            var e2 = this._defaults;
            for (var n2 in w.object(t3) || (t3 = {}), this.options = ge(e2.base), this._actions.methodDict) {
              var r2 = n2, i2 = this._actions.methodDict[r2];
              this.options[r2] = {}, this.setPerAction(r2, V(V({}, e2.perAction), e2.actions[r2])), this[i2](t3[r2]);
            }
            for (var o2 in t3) "getRect" !== o2 ? w.func(this[o2]) && this[o2](t3[o2]) : this.rectChecker(t3.getRect);
            return this;
          } }, { key: "unset", value: function() {
            if (w.string(this.target)) for (var t3 in this._scopeEvents.delegatedEvents) for (var e2 = this._scopeEvents.delegatedEvents[t3], n2 = e2.length - 1; n2 >= 0; n2--) {
              var r2 = e2[n2], i2 = r2.selector, o2 = r2.context, a2 = r2.listeners;
              i2 === this.target && o2 === this._context && e2.splice(n2, 1);
              for (var s2 = a2.length - 1; s2 >= 0; s2--) this._scopeEvents.removeDelegate(this.target, this._context, t3, a2[s2][0], a2[s2][1]);
            }
            else this._scopeEvents.remove(this.target, "all");
          } }]), t2;
        }(), an = function() {
          function t2(e2) {
            var n2 = this;
            r(this, t2), this.list = [], this.selectorMap = {}, this.scope = void 0, this.scope = e2, e2.addListeners({ "interactable:unset": function(t3) {
              var e3 = t3.interactable, r2 = e3.target, i2 = w.string(r2) ? n2.selectorMap[r2] : r2[n2.scope.id], o2 = yt(i2, function(t4) {
                return t4 === e3;
              });
              i2.splice(o2, 1);
            } });
          }
          return o(t2, [{ key: "new", value: function(t3, e2) {
            e2 = V(e2 || {}, { actions: this.scope.actions });
            var n2 = new this.scope.Interactable(t3, e2, this.scope.document, this.scope.events);
            return this.scope.addDocument(n2._doc), this.list.push(n2), w.string(t3) ? (this.selectorMap[t3] || (this.selectorMap[t3] = []), this.selectorMap[t3].push(n2)) : (n2.target[this.scope.id] || Object.defineProperty(t3, this.scope.id, { value: [], configurable: true }), t3[this.scope.id].push(n2)), this.scope.fire("interactable:new", { target: t3, options: e2, interactable: n2, win: this.scope._win }), n2;
          } }, { key: "getExisting", value: function(t3, e2) {
            var n2 = e2 && e2.context || this.scope.document, r2 = w.string(t3), i2 = r2 ? this.selectorMap[t3] : t3[this.scope.id];
            if (i2) return bt(i2, function(e3) {
              return e3._context === n2 && (r2 || e3.inContext(t3));
            });
          } }, { key: "forEachMatch", value: function(t3, e2) {
            for (var n2 = 0, r2 = this.list; n2 < r2.length; n2++) {
              var i2 = r2[n2], o2 = void 0;
              if ((w.string(i2.target) ? w.element(t3) && R(t3, i2.target) : t3 === i2.target) && i2.inContext(t3) && (o2 = e2(i2)), void 0 !== o2) return o2;
            }
          } }]), t2;
        }();
        var sn = function() {
          function t2() {
            var e2 = this;
            r(this, t2), this.id = "__interact_scope_".concat(Math.floor(100 * Math.random())), this.isInitialized = false, this.listenerMaps = [], this.browser = I, this.defaults = ge(Te), this.Eventable = Ve, this.actions = { map: {}, phases: { start: true, move: true, end: true }, methodDict: {}, phaselessTypes: {} }, this.interactStatic = function(t3) {
              var e3 = function e4(n3, r2) {
                var i2 = t3.interactables.getExisting(n3, r2);
                return i2 || ((i2 = t3.interactables.new(n3, r2)).events.global = e4.globalEvents), i2;
              };
              return e3.getPointerAverage = lt, e3.getTouchBBox = ut, e3.getTouchDistance = pt, e3.getTouchAngle = ft, e3.getElementRect = L, e3.getElementClientRect = Y, e3.matchesSelector = R, e3.closest = z, e3.globalEvents = {}, e3.version = "1.10.27", e3.scope = t3, e3.use = function(t4, e4) {
                return this.scope.usePlugin(t4, e4), this;
              }, e3.isSet = function(t4, e4) {
                return !!this.scope.interactables.get(t4, e4 && e4.context);
              }, e3.on = Nt(function(t4, e4, n3) {
                if (w.string(t4) && -1 !== t4.search(" ") && (t4 = t4.trim().split(/ +/)), w.array(t4)) {
                  for (var r2 = 0, i2 = t4; r2 < i2.length; r2++) {
                    var o2 = i2[r2];
                    this.on(o2, e4, n3);
                  }
                  return this;
                }
                if (w.object(t4)) {
                  for (var a2 in t4) this.on(a2, t4[a2], e4);
                  return this;
                }
                return ve(t4, this.scope.actions) ? this.globalEvents[t4] ? this.globalEvents[t4].push(e4) : this.globalEvents[t4] = [e4] : this.scope.events.add(this.scope.document, t4, e4, { options: n3 }), this;
              }, "The interact.on() method is being deprecated"), e3.off = Nt(function(t4, e4, n3) {
                if (w.string(t4) && -1 !== t4.search(" ") && (t4 = t4.trim().split(/ +/)), w.array(t4)) {
                  for (var r2 = 0, i2 = t4; r2 < i2.length; r2++) {
                    var o2 = i2[r2];
                    this.off(o2, e4, n3);
                  }
                  return this;
                }
                if (w.object(t4)) {
                  for (var a2 in t4) this.off(a2, t4[a2], e4);
                  return this;
                }
                var s2;
                return ve(t4, this.scope.actions) ? t4 in this.globalEvents && -1 !== (s2 = this.globalEvents[t4].indexOf(e4)) && this.globalEvents[t4].splice(s2, 1) : this.scope.events.remove(this.scope.document, t4, e4, n3), this;
              }, "The interact.off() method is being deprecated"), e3.debug = function() {
                return this.scope;
              }, e3.supportsTouch = function() {
                return I.supportsTouch;
              }, e3.supportsPointerEvent = function() {
                return I.supportsPointerEvent;
              }, e3.stop = function() {
                for (var t4 = 0, e4 = this.scope.interactions.list; t4 < e4.length; t4++) e4[t4].stop();
                return this;
              }, e3.pointerMoveTolerance = function(t4) {
                return w.number(t4) ? (this.scope.interactions.pointerMoveTolerance = t4, this) : this.scope.interactions.pointerMoveTolerance;
              }, e3.addDocument = function(t4, e4) {
                this.scope.addDocument(t4, e4);
              }, e3.removeDocument = function(t4) {
                this.scope.removeDocument(t4);
              }, e3;
            }(this), this.InteractEvent = Se, this.Interactable = void 0, this.interactables = new an(this), this._win = void 0, this.document = void 0, this.window = void 0, this.documents = [], this._plugins = { list: [], map: {} }, this.onWindowUnload = function(t3) {
              return e2.removeDocument(t3.target);
            };
            var n2 = this;
            this.Interactable = function(t3) {
              s(i2, t3);
              var e3 = p(i2);
              function i2() {
                return r(this, i2), e3.apply(this, arguments);
              }
              return o(i2, [{ key: "_defaults", get: function() {
                return n2.defaults;
              } }, { key: "set", value: function(t4) {
                return f(c(i2.prototype), "set", this).call(this, t4), n2.fire("interactable:set", { options: t4, interactable: this }), this;
              } }, { key: "unset", value: function() {
                f(c(i2.prototype), "unset", this).call(this);
                var t4 = n2.interactables.list.indexOf(this);
                t4 < 0 || (n2.interactables.list.splice(t4, 1), n2.fire("interactable:unset", { interactable: this }));
              } }]), i2;
            }(on);
          }
          return o(t2, [{ key: "addListeners", value: function(t3, e2) {
            this.listenerMaps.push({ id: e2, map: t3 });
          } }, { key: "fire", value: function(t3, e2) {
            for (var n2 = 0, r2 = this.listenerMaps; n2 < r2.length; n2++) {
              var i2 = r2[n2].map[t3];
              if (i2 && false === i2(e2, this, t3)) return false;
            }
          } }, { key: "init", value: function(t3) {
            return this.isInitialized ? this : function(t4, e2) {
              t4.isInitialized = true, w.window(e2) && m(e2);
              return k.init(e2), I.init(e2), Lt.init(e2), t4.window = e2, t4.document = e2.document, t4.usePlugin(nn), t4.usePlugin(Ue), t4;
            }(this, t3);
          } }, { key: "pluginIsInstalled", value: function(t3) {
            var e2 = t3.id;
            return e2 ? !!this._plugins.map[e2] : -1 !== this._plugins.list.indexOf(t3);
          } }, { key: "usePlugin", value: function(t3, e2) {
            if (!this.isInitialized) return this;
            if (this.pluginIsInstalled(t3)) return this;
            if (t3.id && (this._plugins.map[t3.id] = t3), this._plugins.list.push(t3), t3.install && t3.install(this, e2), t3.listeners && t3.before) {
              for (var n2 = 0, r2 = this.listenerMaps.length, i2 = t3.before.reduce(function(t4, e3) {
                return t4[e3] = true, t4[cn(e3)] = true, t4;
              }, {}); n2 < r2; n2++) {
                var o2 = this.listenerMaps[n2].id;
                if (o2 && (i2[o2] || i2[cn(o2)])) break;
              }
              this.listenerMaps.splice(n2, 0, { id: t3.id, map: t3.listeners });
            } else t3.listeners && this.listenerMaps.push({ id: t3.id, map: t3.listeners });
            return this;
          } }, { key: "addDocument", value: function(t3, e2) {
            if (-1 !== this.getDocIndex(t3)) return false;
            var n2 = y(t3);
            e2 = e2 ? V({}, e2) : {}, this.documents.push({ doc: t3, options: e2 }), this.events.documents.push(t3), t3 !== this.document && this.events.add(n2, "unload", this.onWindowUnload), this.fire("scope:add-document", { doc: t3, window: n2, scope: this, options: e2 });
          } }, { key: "removeDocument", value: function(t3) {
            var e2 = this.getDocIndex(t3), n2 = y(t3), r2 = this.documents[e2].options;
            this.events.remove(n2, "unload", this.onWindowUnload), this.documents.splice(e2, 1), this.events.documents.splice(e2, 1), this.fire("scope:remove-document", { doc: t3, window: n2, scope: this, options: r2 });
          } }, { key: "getDocIndex", value: function(t3) {
            for (var e2 = 0; e2 < this.documents.length; e2++) if (this.documents[e2].doc === t3) return e2;
            return -1;
          } }, { key: "getDocOptions", value: function(t3) {
            var e2 = this.getDocIndex(t3);
            return -1 === e2 ? null : this.documents[e2].options;
          } }, { key: "now", value: function() {
            return (this.window.Date || Date).now();
          } }]), t2;
        }();
        function cn(t2) {
          return t2 && t2.replace(/\/.*$/, "");
        }
        var ln = new sn(), un = ln.interactStatic, pn = "undefined" != typeof globalThis ? globalThis : window;
        ln.init(pn);
        var fn = Object.freeze({ __proto__: null, edgeTarget: function() {
        }, elements: function() {
        }, grid: function(t2) {
          var e2 = [["x", "y"], ["left", "top"], ["right", "bottom"], ["width", "height"]].filter(function(e3) {
            var n3 = e3[0], r2 = e3[1];
            return n3 in t2 || r2 in t2;
          }), n2 = function(n3, r2) {
            for (var i2 = t2.range, o2 = t2.limits, a2 = void 0 === o2 ? { left: -1 / 0, right: 1 / 0, top: -1 / 0, bottom: 1 / 0 } : o2, s2 = t2.offset, c2 = void 0 === s2 ? { x: 0, y: 0 } : s2, l2 = { range: i2, grid: t2, x: null, y: null }, u2 = 0; u2 < e2.length; u2++) {
              var p2 = e2[u2], f2 = p2[0], d2 = p2[1], h2 = Math.round((n3 - c2.x) / t2[f2]), v2 = Math.round((r2 - c2.y) / t2[d2]);
              l2[f2] = Math.max(a2.left, Math.min(a2.right, h2 * t2[f2] + c2.x)), l2[d2] = Math.max(a2.top, Math.min(a2.bottom, v2 * t2[d2] + c2.y));
            }
            return l2;
          };
          return n2.grid = t2, n2.coordFields = e2, n2;
        } }), dn = { id: "snappers", install: function(t2) {
          var e2 = t2.interactStatic;
          e2.snappers = V(e2.snappers || {}, fn), e2.createSnapGrid = e2.snappers.grid;
        } }, hn = dn, vn = { start: function(t2) {
          var n2 = t2.state, r2 = t2.rect, i2 = t2.edges, o2 = t2.pageCoords, a2 = n2.options, s2 = a2.ratio, c2 = a2.enabled, l2 = n2.options, u2 = l2.equalDelta, p2 = l2.modifiers;
          "preserve" === s2 && (s2 = r2.width / r2.height), n2.startCoords = V({}, o2), n2.startRect = V({}, r2), n2.ratio = s2, n2.equalDelta = u2;
          var f2 = n2.linkedEdges = { top: i2.top || i2.left && !i2.bottom, left: i2.left || i2.top && !i2.right, bottom: i2.bottom || i2.right && !i2.top, right: i2.right || i2.bottom && !i2.left };
          if (n2.xIsPrimaryAxis = !(!i2.left && !i2.right), n2.equalDelta) {
            var d2 = (f2.left ? 1 : -1) * (f2.top ? 1 : -1);
            n2.edgeSign = { x: d2, y: d2 };
          } else n2.edgeSign = { x: f2.left ? -1 : 1, y: f2.top ? -1 : 1 };
          if (false !== c2 && V(i2, f2), null != p2 && p2.length) {
            var h2 = new me(t2.interaction);
            h2.copyFrom(t2.interaction.modification), h2.prepareStates(p2), n2.subModification = h2, h2.startAll(e({}, t2));
          }
        }, set: function(t2) {
          var n2 = t2.state, r2 = t2.rect, i2 = t2.coords, o2 = n2.linkedEdges, a2 = V({}, i2), s2 = n2.equalDelta ? gn : mn;
          if (V(t2.edges, o2), s2(n2, n2.xIsPrimaryAxis, i2, r2), !n2.subModification) return null;
          var c2 = V({}, r2);
          H(o2, c2, { x: i2.x - a2.x, y: i2.y - a2.y });
          var l2 = n2.subModification.setAll(e(e({}, t2), {}, { rect: c2, edges: o2, pageCoords: i2, prevCoords: i2, prevRect: c2 })), u2 = l2.delta;
          l2.changed && (s2(n2, Math.abs(u2.x) > Math.abs(u2.y), l2.coords, l2.rect), V(i2, l2.coords));
          return l2.eventProps;
        }, defaults: { ratio: "preserve", equalDelta: false, modifiers: [], enabled: false } };
        function gn(t2, e2, n2) {
          var r2 = t2.startCoords, i2 = t2.edgeSign;
          e2 ? n2.y = r2.y + (n2.x - r2.x) * i2.y : n2.x = r2.x + (n2.y - r2.y) * i2.x;
        }
        function mn(t2, e2, n2, r2) {
          var i2 = t2.startRect, o2 = t2.startCoords, a2 = t2.ratio, s2 = t2.edgeSign;
          if (e2) {
            var c2 = r2.width / a2;
            n2.y = o2.y + (c2 - i2.height) * s2.y;
          } else {
            var l2 = r2.height * a2;
            n2.x = o2.x + (l2 - i2.width) * s2.x;
          }
        }
        var yn = be(vn, "aspectRatio"), bn = function() {
        };
        bn._defaults = {};
        var xn = bn;
        function wn(t2, e2, n2) {
          return w.func(t2) ? G(t2, e2.interactable, e2.element, [n2.x, n2.y, e2]) : G(t2, e2.interactable, e2.element);
        }
        var En = { start: function(t2) {
          var e2 = t2.rect, n2 = t2.startOffset, r2 = t2.state, i2 = t2.interaction, o2 = t2.pageCoords, a2 = r2.options, s2 = a2.elementRect, c2 = V({ left: 0, top: 0, right: 0, bottom: 0 }, a2.offset || {});
          if (e2 && s2) {
            var l2 = wn(a2.restriction, i2, o2);
            if (l2) {
              var u2 = l2.right - l2.left - e2.width, p2 = l2.bottom - l2.top - e2.height;
              u2 < 0 && (c2.left += u2, c2.right += u2), p2 < 0 && (c2.top += p2, c2.bottom += p2);
            }
            c2.left += n2.left - e2.width * s2.left, c2.top += n2.top - e2.height * s2.top, c2.right += n2.right - e2.width * (1 - s2.right), c2.bottom += n2.bottom - e2.height * (1 - s2.bottom);
          }
          r2.offset = c2;
        }, set: function(t2) {
          var e2 = t2.coords, n2 = t2.interaction, r2 = t2.state, i2 = r2.options, o2 = r2.offset, a2 = wn(i2.restriction, n2, e2);
          if (a2) {
            var s2 = function(t3) {
              return !t3 || "left" in t3 && "top" in t3 || ((t3 = V({}, t3)).left = t3.x || 0, t3.top = t3.y || 0, t3.right = t3.right || t3.left + t3.width, t3.bottom = t3.bottom || t3.top + t3.height), t3;
            }(a2);
            e2.x = Math.max(Math.min(s2.right - o2.right, e2.x), s2.left + o2.left), e2.y = Math.max(Math.min(s2.bottom - o2.bottom, e2.y), s2.top + o2.top);
          }
        }, defaults: { restriction: null, elementRect: null, offset: null, endOnly: false, enabled: false } }, Tn = be(En, "restrict"), Sn = { top: 1 / 0, left: 1 / 0, bottom: -1 / 0, right: -1 / 0 }, _n = { top: -1 / 0, left: -1 / 0, bottom: 1 / 0, right: 1 / 0 };
        function Pn(t2, e2) {
          for (var n2 = 0, r2 = ["top", "left", "bottom", "right"]; n2 < r2.length; n2++) {
            var i2 = r2[n2];
            i2 in t2 || (t2[i2] = e2[i2]);
          }
          return t2;
        }
        var On = { noInner: Sn, noOuter: _n, start: function(t2) {
          var e2, n2 = t2.interaction, r2 = t2.startOffset, i2 = t2.state, o2 = i2.options;
          o2 && (e2 = N(wn(o2.offset, n2, n2.coords.start.page))), e2 = e2 || { x: 0, y: 0 }, i2.offset = { top: e2.y + r2.top, left: e2.x + r2.left, bottom: e2.y - r2.bottom, right: e2.x - r2.right };
        }, set: function(t2) {
          var e2 = t2.coords, n2 = t2.edges, r2 = t2.interaction, i2 = t2.state, o2 = i2.offset, a2 = i2.options;
          if (n2) {
            var s2 = V({}, e2), c2 = wn(a2.inner, r2, s2) || {}, l2 = wn(a2.outer, r2, s2) || {};
            Pn(c2, Sn), Pn(l2, _n), n2.top ? e2.y = Math.min(Math.max(l2.top + o2.top, s2.y), c2.top + o2.top) : n2.bottom && (e2.y = Math.max(Math.min(l2.bottom + o2.bottom, s2.y), c2.bottom + o2.bottom)), n2.left ? e2.x = Math.min(Math.max(l2.left + o2.left, s2.x), c2.left + o2.left) : n2.right && (e2.x = Math.max(Math.min(l2.right + o2.right, s2.x), c2.right + o2.right));
          }
        }, defaults: { inner: null, outer: null, offset: null, endOnly: false, enabled: false } }, kn = be(On, "restrictEdges"), Dn = V({ get elementRect() {
          return { top: 0, left: 0, bottom: 1, right: 1 };
        }, set elementRect(t2) {
        } }, En.defaults), In = be({ start: En.start, set: En.set, defaults: Dn }, "restrictRect"), Mn = { width: -1 / 0, height: -1 / 0 }, zn = { width: 1 / 0, height: 1 / 0 };
        var An = be({ start: function(t2) {
          return On.start(t2);
        }, set: function(t2) {
          var e2 = t2.interaction, n2 = t2.state, r2 = t2.rect, i2 = t2.edges, o2 = n2.options;
          if (i2) {
            var a2 = U(wn(o2.min, e2, t2.coords)) || Mn, s2 = U(wn(o2.max, e2, t2.coords)) || zn;
            n2.options = { endOnly: o2.endOnly, inner: V({}, On.noInner), outer: V({}, On.noOuter) }, i2.top ? (n2.options.inner.top = r2.bottom - a2.height, n2.options.outer.top = r2.bottom - s2.height) : i2.bottom && (n2.options.inner.bottom = r2.top + a2.height, n2.options.outer.bottom = r2.top + s2.height), i2.left ? (n2.options.inner.left = r2.right - a2.width, n2.options.outer.left = r2.right - s2.width) : i2.right && (n2.options.inner.right = r2.left + a2.width, n2.options.outer.right = r2.left + s2.width), On.set(t2), n2.options = o2;
          }
        }, defaults: { min: null, max: null, endOnly: false, enabled: false } }, "restrictSize");
        var Rn = { start: function(t2) {
          var e2, n2 = t2.interaction, r2 = t2.interactable, i2 = t2.element, o2 = t2.rect, a2 = t2.state, s2 = t2.startOffset, c2 = a2.options, l2 = c2.offsetWithOrigin ? function(t3) {
            var e3 = t3.interaction.element, n3 = N(G(t3.state.options.origin, null, null, [e3])), r3 = n3 || K(t3.interactable, e3, t3.interaction.prepared.name);
            return r3;
          }(t2) : { x: 0, y: 0 };
          if ("startCoords" === c2.offset) e2 = { x: n2.coords.start.page.x, y: n2.coords.start.page.y };
          else {
            var u2 = G(c2.offset, r2, i2, [n2]);
            (e2 = N(u2) || { x: 0, y: 0 }).x += l2.x, e2.y += l2.y;
          }
          var p2 = c2.relativePoints;
          a2.offsets = o2 && p2 && p2.length ? p2.map(function(t3, n3) {
            return { index: n3, relativePoint: t3, x: s2.left - o2.width * t3.x + e2.x, y: s2.top - o2.height * t3.y + e2.y };
          }) : [{ index: 0, relativePoint: null, x: e2.x, y: e2.y }];
        }, set: function(t2) {
          var e2 = t2.interaction, n2 = t2.coords, r2 = t2.state, i2 = r2.options, o2 = r2.offsets, a2 = K(e2.interactable, e2.element, e2.prepared.name), s2 = V({}, n2), c2 = [];
          i2.offsetWithOrigin || (s2.x -= a2.x, s2.y -= a2.y);
          for (var l2 = 0, u2 = o2; l2 < u2.length; l2++) for (var p2 = u2[l2], f2 = s2.x - p2.x, d2 = s2.y - p2.y, h2 = 0, v2 = i2.targets.length; h2 < v2; h2++) {
            var g2 = i2.targets[h2], m2 = void 0;
            (m2 = w.func(g2) ? g2(f2, d2, e2._proxy, p2, h2) : g2) && c2.push({ x: (w.number(m2.x) ? m2.x : f2) + p2.x, y: (w.number(m2.y) ? m2.y : d2) + p2.y, range: w.number(m2.range) ? m2.range : i2.range, source: g2, index: h2, offset: p2 });
          }
          for (var y2 = { target: null, inRange: false, distance: 0, range: 0, delta: { x: 0, y: 0 } }, b2 = 0; b2 < c2.length; b2++) {
            var x2 = c2[b2], E2 = x2.range, T2 = x2.x - s2.x, S2 = x2.y - s2.y, _2 = Q(T2, S2), P2 = _2 <= E2;
            E2 === 1 / 0 && y2.inRange && y2.range !== 1 / 0 && (P2 = false), y2.target && !(P2 ? y2.inRange && E2 !== 1 / 0 ? _2 / E2 < y2.distance / y2.range : E2 === 1 / 0 && y2.range !== 1 / 0 || _2 < y2.distance : !y2.inRange && _2 < y2.distance) || (y2.target = x2, y2.distance = _2, y2.range = E2, y2.inRange = P2, y2.delta.x = T2, y2.delta.y = S2);
          }
          return y2.inRange && (n2.x = y2.target.x, n2.y = y2.target.y), r2.closest = y2, y2;
        }, defaults: { range: 1 / 0, targets: null, offset: null, offsetWithOrigin: true, origin: null, relativePoints: null, endOnly: false, enabled: false } }, Cn = be(Rn, "snap");
        var jn = { start: function(t2) {
          var e2 = t2.state, n2 = t2.edges, r2 = e2.options;
          if (!n2) return null;
          t2.state = { options: { targets: null, relativePoints: [{ x: n2.left ? 0 : 1, y: n2.top ? 0 : 1 }], offset: r2.offset || "self", origin: { x: 0, y: 0 }, range: r2.range } }, e2.targetFields = e2.targetFields || [["width", "height"], ["x", "y"]], Rn.start(t2), e2.offsets = t2.state.offsets, t2.state = e2;
        }, set: function(t2) {
          var e2 = t2.interaction, n2 = t2.state, r2 = t2.coords, i2 = n2.options, o2 = n2.offsets, a2 = { x: r2.x - o2[0].x, y: r2.y - o2[0].y };
          n2.options = V({}, i2), n2.options.targets = [];
          for (var s2 = 0, c2 = i2.targets || []; s2 < c2.length; s2++) {
            var l2 = c2[s2], u2 = void 0;
            if (u2 = w.func(l2) ? l2(a2.x, a2.y, e2) : l2) {
              for (var p2 = 0, f2 = n2.targetFields; p2 < f2.length; p2++) {
                var d2 = f2[p2], h2 = d2[0], v2 = d2[1];
                if (h2 in u2 || v2 in u2) {
                  u2.x = u2[h2], u2.y = u2[v2];
                  break;
                }
              }
              n2.options.targets.push(u2);
            }
          }
          var g2 = Rn.set(t2);
          return n2.options = i2, g2;
        }, defaults: { range: 1 / 0, targets: null, offset: null, endOnly: false, enabled: false } }, Fn = be(jn, "snapSize");
        var Xn = { aspectRatio: yn, restrictEdges: kn, restrict: Tn, restrictRect: In, restrictSize: An, snapEdges: be({ start: function(t2) {
          var e2 = t2.edges;
          return e2 ? (t2.state.targetFields = t2.state.targetFields || [[e2.left ? "left" : "right", e2.top ? "top" : "bottom"]], jn.start(t2)) : null;
        }, set: jn.set, defaults: V(ge(jn.defaults), { targets: void 0, range: void 0, offset: { x: 0, y: 0 } }) }, "snapEdges"), snap: Cn, snapSize: Fn, spring: xn, avoid: xn, transform: xn, rubberband: xn }, Yn = { id: "modifiers", install: function(t2) {
          var e2 = t2.interactStatic;
          for (var n2 in t2.usePlugin(Ee), t2.usePlugin(hn), e2.modifiers = Xn, Xn) {
            var r2 = Xn[n2], i2 = r2._defaults, o2 = r2._methods;
            i2._methods = o2, t2.defaults.perAction[n2] = i2;
          }
        } }, Ln = Yn, qn = function(t2) {
          s(n2, t2);
          var e2 = p(n2);
          function n2(t3, i2, o2, a2, s2, c2) {
            var l2;
            if (r(this, n2), tt(u(l2 = e2.call(this, s2)), o2), o2 !== i2 && tt(u(l2), i2), l2.timeStamp = c2, l2.originalEvent = o2, l2.type = t3, l2.pointerId = at(i2), l2.pointerType = dt(i2), l2.target = a2, l2.currentTarget = null, "tap" === t3) {
              var p2 = s2.getPointerIndex(i2);
              l2.dt = l2.timeStamp - s2.pointers[p2].downTime;
              var f2 = l2.timeStamp - s2.tapTime;
              l2.double = !!s2.prevTap && "doubletap" !== s2.prevTap.type && s2.prevTap.target === l2.target && f2 < 500;
            } else "doubletap" === t3 && (l2.dt = i2.timeStamp - s2.tapTime, l2.double = true);
            return l2;
          }
          return o(n2, [{ key: "_subtractOrigin", value: function(t3) {
            var e3 = t3.x, n3 = t3.y;
            return this.pageX -= e3, this.pageY -= n3, this.clientX -= e3, this.clientY -= n3, this;
          } }, { key: "_addOrigin", value: function(t3) {
            var e3 = t3.x, n3 = t3.y;
            return this.pageX += e3, this.pageY += n3, this.clientX += e3, this.clientY += n3, this;
          } }, { key: "preventDefault", value: function() {
            this.originalEvent.preventDefault();
          } }]), n2;
        }(vt), Bn = { id: "pointer-events/base", before: ["inertia", "modifiers", "auto-start", "actions"], install: function(t2) {
          t2.pointerEvents = Bn, t2.defaults.actions.pointerEvents = Bn.defaults, V(t2.actions.phaselessTypes, Bn.types);
        }, listeners: { "interactions:new": function(t2) {
          var e2 = t2.interaction;
          e2.prevTap = null, e2.tapTime = 0;
        }, "interactions:update-pointer": function(t2) {
          var e2 = t2.down, n2 = t2.pointerInfo;
          if (!e2 && n2.hold) return;
          n2.hold = { duration: 1 / 0, timeout: null };
        }, "interactions:move": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointer, i2 = t2.event, o2 = t2.eventTarget;
          t2.duplicate || n2.pointerIsDown && !n2.pointerWasMoved || (n2.pointerIsDown && Gn(t2), Vn({ interaction: n2, pointer: r2, event: i2, eventTarget: o2, type: "move" }, e2));
        }, "interactions:down": function(t2, e2) {
          !function(t3, e3) {
            for (var n2 = t3.interaction, r2 = t3.pointer, i2 = t3.event, o2 = t3.eventTarget, a2 = t3.pointerIndex, s2 = n2.pointers[a2].hold, c2 = q(o2), l2 = { interaction: n2, pointer: r2, event: i2, eventTarget: o2, type: "hold", targets: [], path: c2, node: null }, u2 = 0; u2 < c2.length; u2++) {
              var p2 = c2[u2];
              l2.node = p2, e3.fire("pointerEvents:collect-targets", l2);
            }
            if (!l2.targets.length) return;
            for (var f2 = 1 / 0, d2 = 0, h2 = l2.targets; d2 < h2.length; d2++) {
              var v2 = h2[d2].eventable.options.holdDuration;
              v2 < f2 && (f2 = v2);
            }
            s2.duration = f2, s2.timeout = setTimeout(function() {
              Vn({ interaction: n2, eventTarget: o2, pointer: r2, event: i2, type: "hold" }, e3);
            }, f2);
          }(t2, e2), Vn(t2, e2);
        }, "interactions:up": function(t2, e2) {
          Gn(t2), Vn(t2, e2), function(t3, e3) {
            var n2 = t3.interaction, r2 = t3.pointer, i2 = t3.event, o2 = t3.eventTarget;
            n2.pointerWasMoved || Vn({ interaction: n2, eventTarget: o2, pointer: r2, event: i2, type: "tap" }, e3);
          }(t2, e2);
        }, "interactions:cancel": function(t2, e2) {
          Gn(t2), Vn(t2, e2);
        } }, PointerEvent: qn, fire: Vn, collectEventTargets: Wn, defaults: { holdDuration: 600, ignoreFrom: null, allowFrom: null, origin: { x: 0, y: 0 } }, types: { down: true, move: true, up: true, cancel: true, tap: true, doubletap: true, hold: true } };
        function Vn(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointer, i2 = t2.event, o2 = t2.eventTarget, a2 = t2.type, s2 = t2.targets, c2 = void 0 === s2 ? Wn(t2, e2) : s2, l2 = new qn(a2, r2, i2, o2, n2, e2.now());
          e2.fire("pointerEvents:new", { pointerEvent: l2 });
          for (var u2 = { interaction: n2, pointer: r2, event: i2, eventTarget: o2, targets: c2, type: a2, pointerEvent: l2 }, p2 = 0; p2 < c2.length; p2++) {
            var f2 = c2[p2];
            for (var d2 in f2.props || {}) l2[d2] = f2.props[d2];
            var h2 = K(f2.eventable, f2.node);
            if (l2._subtractOrigin(h2), l2.eventable = f2.eventable, l2.currentTarget = f2.node, f2.eventable.fire(l2), l2._addOrigin(h2), l2.immediatePropagationStopped || l2.propagationStopped && p2 + 1 < c2.length && c2[p2 + 1].node !== l2.currentTarget) break;
          }
          if (e2.fire("pointerEvents:fired", u2), "tap" === a2) {
            var v2 = l2.double ? Vn({ interaction: n2, pointer: r2, event: i2, eventTarget: o2, type: "doubletap" }, e2) : l2;
            n2.prevTap = v2, n2.tapTime = v2.timeStamp;
          }
          return l2;
        }
        function Wn(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointer, i2 = t2.event, o2 = t2.eventTarget, a2 = t2.type, s2 = n2.getPointerIndex(r2), c2 = n2.pointers[s2];
          if ("tap" === a2 && (n2.pointerWasMoved || !c2 || c2.downTarget !== o2)) return [];
          for (var l2 = q(o2), u2 = { interaction: n2, pointer: r2, event: i2, eventTarget: o2, type: a2, path: l2, targets: [], node: null }, p2 = 0; p2 < l2.length; p2++) {
            var f2 = l2[p2];
            u2.node = f2, e2.fire("pointerEvents:collect-targets", u2);
          }
          return "hold" === a2 && (u2.targets = u2.targets.filter(function(t3) {
            var e3, r3;
            return t3.eventable.options.holdDuration === (null == (e3 = n2.pointers[s2]) || null == (r3 = e3.hold) ? void 0 : r3.duration);
          })), u2.targets;
        }
        function Gn(t2) {
          var e2 = t2.interaction, n2 = t2.pointerIndex, r2 = e2.pointers[n2].hold;
          r2 && r2.timeout && (clearTimeout(r2.timeout), r2.timeout = null);
        }
        var Nn = Object.freeze({ __proto__: null, default: Bn });
        function Un(t2) {
          var e2 = t2.interaction;
          e2.holdIntervalHandle && (clearInterval(e2.holdIntervalHandle), e2.holdIntervalHandle = null);
        }
        var Hn = { id: "pointer-events/holdRepeat", install: function(t2) {
          t2.usePlugin(Bn);
          var e2 = t2.pointerEvents;
          e2.defaults.holdRepeatInterval = 0, e2.types.holdrepeat = t2.actions.phaselessTypes.holdrepeat = true;
        }, listeners: ["move", "up", "cancel", "endall"].reduce(function(t2, e2) {
          return t2["pointerEvents:".concat(e2)] = Un, t2;
        }, { "pointerEvents:new": function(t2) {
          var e2 = t2.pointerEvent;
          "hold" === e2.type && (e2.count = (e2.count || 0) + 1);
        }, "pointerEvents:fired": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointerEvent, i2 = t2.eventTarget, o2 = t2.targets;
          if ("hold" === r2.type && o2.length) {
            var a2 = o2[0].eventable.options.holdRepeatInterval;
            a2 <= 0 || (n2.holdIntervalHandle = setTimeout(function() {
              e2.pointerEvents.fire({ interaction: n2, eventTarget: i2, type: "hold", pointer: r2, event: r2 }, e2);
            }, a2));
          }
        } }) }, Kn = Hn;
        var $n = { id: "pointer-events/interactableTargets", install: function(t2) {
          var e2 = t2.Interactable;
          e2.prototype.pointerEvents = function(t3) {
            return V(this.events.options, t3), this;
          };
          var n2 = e2.prototype._backCompatOption;
          e2.prototype._backCompatOption = function(t3, e3) {
            var r2 = n2.call(this, t3, e3);
            return r2 === this && (this.events.options[t3] = e3), r2;
          };
        }, listeners: { "pointerEvents:collect-targets": function(t2, e2) {
          var n2 = t2.targets, r2 = t2.node, i2 = t2.type, o2 = t2.eventTarget;
          e2.interactables.forEachMatch(r2, function(t3) {
            var e3 = t3.events, a2 = e3.options;
            e3.types[i2] && e3.types[i2].length && t3.testIgnoreAllow(a2, r2, o2) && n2.push({ node: r2, eventable: e3, props: { interactable: t3 } });
          });
        }, "interactable:new": function(t2) {
          var e2 = t2.interactable;
          e2.events.getRect = function(t3) {
            return e2.getRect(t3);
          };
        }, "interactable:set": function(t2, e2) {
          var n2 = t2.interactable, r2 = t2.options;
          V(n2.events.options, e2.pointerEvents.defaults), V(n2.events.options, r2.pointerEvents || {});
        } } }, Jn = $n, Qn = { id: "pointer-events", install: function(t2) {
          t2.usePlugin(Nn), t2.usePlugin(Kn), t2.usePlugin(Jn);
        } }, Zn = Qn;
        var tr = { id: "reflow", install: function(t2) {
          var e2 = t2.Interactable;
          t2.actions.phases.reflow = true, e2.prototype.reflow = function(e3) {
            return function(t3, e4, n2) {
              for (var r2 = t3.getAllElements(), i2 = n2.window.Promise, o2 = i2 ? [] : null, a2 = function() {
                var a3 = r2[s2], c2 = t3.getRect(a3);
                if (!c2) return 1;
                var l2, u2 = bt(n2.interactions.list, function(n3) {
                  return n3.interacting() && n3.interactable === t3 && n3.element === a3 && n3.prepared.name === e4.name;
                });
                if (u2) u2.move(), o2 && (l2 = u2._reflowPromise || new i2(function(t4) {
                  u2._reflowResolve = t4;
                }));
                else {
                  var p2 = U(c2), f2 = /* @__PURE__ */ function(t4) {
                    return { coords: t4, get page() {
                      return this.coords.page;
                    }, get client() {
                      return this.coords.client;
                    }, get timeStamp() {
                      return this.coords.timeStamp;
                    }, get pageX() {
                      return this.coords.page.x;
                    }, get pageY() {
                      return this.coords.page.y;
                    }, get clientX() {
                      return this.coords.client.x;
                    }, get clientY() {
                      return this.coords.client.y;
                    }, get pointerId() {
                      return this.coords.pointerId;
                    }, get target() {
                      return this.coords.target;
                    }, get type() {
                      return this.coords.type;
                    }, get pointerType() {
                      return this.coords.pointerType;
                    }, get buttons() {
                      return this.coords.buttons;
                    }, preventDefault: function() {
                    } };
                  }({ page: { x: p2.x, y: p2.y }, client: { x: p2.x, y: p2.y }, timeStamp: n2.now() });
                  l2 = function(t4, e5, n3, r3, i3) {
                    var o3 = t4.interactions.new({ pointerType: "reflow" }), a4 = { interaction: o3, event: i3, pointer: i3, eventTarget: n3, phase: "reflow" };
                    o3.interactable = e5, o3.element = n3, o3.prevEvent = i3, o3.updatePointer(i3, i3, n3, true), nt(o3.coords.delta), Ut(o3.prepared, r3), o3._doPhase(a4);
                    var s3 = t4.window, c3 = s3.Promise, l3 = c3 ? new c3(function(t5) {
                      o3._reflowResolve = t5;
                    }) : void 0;
                    o3._reflowPromise = l3, o3.start(r3, e5, n3), o3._interacting ? (o3.move(a4), o3.end(i3)) : (o3.stop(), o3._reflowResolve());
                    return o3.removePointer(i3, i3), l3;
                  }(n2, t3, a3, e4, f2);
                }
                o2 && o2.push(l2);
              }, s2 = 0; s2 < r2.length && !a2(); s2++) ;
              return o2 && i2.all(o2).then(function() {
                return t3;
              });
            }(this, e3, t2);
          };
        }, listeners: { "interactions:stop": function(t2, e2) {
          var n2 = t2.interaction;
          "reflow" === n2.pointerType && (n2._reflowResolve && n2._reflowResolve(), function(t3, e3) {
            t3.splice(t3.indexOf(e3), 1);
          }(e2.interactions.list, n2));
        } } }, er = tr;
        if (un.use(he), un.use(Ce), un.use(Zn), un.use(qe), un.use(Ln), un.use(pe), un.use(Xt), un.use(Gt), un.use(er), un.default = un, "object" === ("undefined" == typeof module ? "undefined" : n(module)) && module) try {
          module.exports = un;
        } catch (t2) {
        }
        return un.default = un, un;
      });
    }
  });

  // node_modules/@hotwired/stimulus/dist/stimulus.js
  var EventListener = class {
    constructor(eventTarget, eventName, eventOptions) {
      this.eventTarget = eventTarget;
      this.eventName = eventName;
      this.eventOptions = eventOptions;
      this.unorderedBindings = /* @__PURE__ */ new Set();
    }
    connect() {
      this.eventTarget.addEventListener(this.eventName, this, this.eventOptions);
    }
    disconnect() {
      this.eventTarget.removeEventListener(this.eventName, this, this.eventOptions);
    }
    bindingConnected(binding) {
      this.unorderedBindings.add(binding);
    }
    bindingDisconnected(binding) {
      this.unorderedBindings.delete(binding);
    }
    handleEvent(event) {
      const extendedEvent2 = extendEvent(event);
      for (const binding of this.bindings) {
        if (extendedEvent2.immediatePropagationStopped) {
          break;
        } else {
          binding.handleEvent(extendedEvent2);
        }
      }
    }
    hasBindings() {
      return this.unorderedBindings.size > 0;
    }
    get bindings() {
      return Array.from(this.unorderedBindings).sort((left, right) => {
        const leftIndex = left.index, rightIndex = right.index;
        return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;
      });
    }
  };
  function extendEvent(event) {
    if ("immediatePropagationStopped" in event) {
      return event;
    } else {
      const { stopImmediatePropagation } = event;
      return Object.assign(event, {
        immediatePropagationStopped: false,
        stopImmediatePropagation() {
          this.immediatePropagationStopped = true;
          stopImmediatePropagation.call(this);
        }
      });
    }
  }
  var Dispatcher = class {
    constructor(application2) {
      this.application = application2;
      this.eventListenerMaps = /* @__PURE__ */ new Map();
      this.started = false;
    }
    start() {
      if (!this.started) {
        this.started = true;
        this.eventListeners.forEach((eventListener) => eventListener.connect());
      }
    }
    stop() {
      if (this.started) {
        this.started = false;
        this.eventListeners.forEach((eventListener) => eventListener.disconnect());
      }
    }
    get eventListeners() {
      return Array.from(this.eventListenerMaps.values()).reduce((listeners, map) => listeners.concat(Array.from(map.values())), []);
    }
    bindingConnected(binding) {
      this.fetchEventListenerForBinding(binding).bindingConnected(binding);
    }
    bindingDisconnected(binding, clearEventListeners = false) {
      this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);
      if (clearEventListeners)
        this.clearEventListenersForBinding(binding);
    }
    handleError(error2, message2, detail = {}) {
      this.application.handleError(error2, `Error ${message2}`, detail);
    }
    clearEventListenersForBinding(binding) {
      const eventListener = this.fetchEventListenerForBinding(binding);
      if (!eventListener.hasBindings()) {
        eventListener.disconnect();
        this.removeMappedEventListenerFor(binding);
      }
    }
    removeMappedEventListenerFor(binding) {
      const { eventTarget, eventName, eventOptions } = binding;
      const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);
      const cacheKey = this.cacheKey(eventName, eventOptions);
      eventListenerMap.delete(cacheKey);
      if (eventListenerMap.size == 0)
        this.eventListenerMaps.delete(eventTarget);
    }
    fetchEventListenerForBinding(binding) {
      const { eventTarget, eventName, eventOptions } = binding;
      return this.fetchEventListener(eventTarget, eventName, eventOptions);
    }
    fetchEventListener(eventTarget, eventName, eventOptions) {
      const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);
      const cacheKey = this.cacheKey(eventName, eventOptions);
      let eventListener = eventListenerMap.get(cacheKey);
      if (!eventListener) {
        eventListener = this.createEventListener(eventTarget, eventName, eventOptions);
        eventListenerMap.set(cacheKey, eventListener);
      }
      return eventListener;
    }
    createEventListener(eventTarget, eventName, eventOptions) {
      const eventListener = new EventListener(eventTarget, eventName, eventOptions);
      if (this.started) {
        eventListener.connect();
      }
      return eventListener;
    }
    fetchEventListenerMapForEventTarget(eventTarget) {
      let eventListenerMap = this.eventListenerMaps.get(eventTarget);
      if (!eventListenerMap) {
        eventListenerMap = /* @__PURE__ */ new Map();
        this.eventListenerMaps.set(eventTarget, eventListenerMap);
      }
      return eventListenerMap;
    }
    cacheKey(eventName, eventOptions) {
      const parts = [eventName];
      Object.keys(eventOptions).sort().forEach((key) => {
        parts.push(`${eventOptions[key] ? "" : "!"}${key}`);
      });
      return parts.join(":");
    }
  };
  var defaultActionDescriptorFilters = {
    stop({ event, value }) {
      if (value)
        event.stopPropagation();
      return true;
    },
    prevent({ event, value }) {
      if (value)
        event.preventDefault();
      return true;
    },
    self({ event, value, element }) {
      if (value) {
        return element === event.target;
      } else {
        return true;
      }
    }
  };
  var descriptorPattern = /^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;
  function parseActionDescriptorString(descriptorString) {
    const source = descriptorString.trim();
    const matches = source.match(descriptorPattern) || [];
    let eventName = matches[2];
    let keyFilter = matches[3];
    if (keyFilter && !["keydown", "keyup", "keypress"].includes(eventName)) {
      eventName += `.${keyFilter}`;
      keyFilter = "";
    }
    return {
      eventTarget: parseEventTarget(matches[4]),
      eventName,
      eventOptions: matches[7] ? parseEventOptions(matches[7]) : {},
      identifier: matches[5],
      methodName: matches[6],
      keyFilter: matches[1] || keyFilter
    };
  }
  function parseEventTarget(eventTargetName) {
    if (eventTargetName == "window") {
      return window;
    } else if (eventTargetName == "document") {
      return document;
    }
  }
  function parseEventOptions(eventOptions) {
    return eventOptions.split(":").reduce((options, token) => Object.assign(options, { [token.replace(/^!/, "")]: !/^!/.test(token) }), {});
  }
  function stringifyEventTarget(eventTarget) {
    if (eventTarget == window) {
      return "window";
    } else if (eventTarget == document) {
      return "document";
    }
  }
  function camelize(value) {
    return value.replace(/(?:[_-])([a-z0-9])/g, (_, char) => char.toUpperCase());
  }
  function namespaceCamelize(value) {
    return camelize(value.replace(/--/g, "-").replace(/__/g, "_"));
  }
  function capitalize(value) {
    return value.charAt(0).toUpperCase() + value.slice(1);
  }
  function dasherize(value) {
    return value.replace(/([A-Z])/g, (_, char) => `-${char.toLowerCase()}`);
  }
  function tokenize(value) {
    return value.match(/[^\s]+/g) || [];
  }
  function isSomething(object) {
    return object !== null && object !== void 0;
  }
  function hasProperty(object, property) {
    return Object.prototype.hasOwnProperty.call(object, property);
  }
  var allModifiers = ["meta", "ctrl", "alt", "shift"];
  var Action = class {
    constructor(element, index, descriptor, schema) {
      this.element = element;
      this.index = index;
      this.eventTarget = descriptor.eventTarget || element;
      this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error("missing event name");
      this.eventOptions = descriptor.eventOptions || {};
      this.identifier = descriptor.identifier || error("missing identifier");
      this.methodName = descriptor.methodName || error("missing method name");
      this.keyFilter = descriptor.keyFilter || "";
      this.schema = schema;
    }
    static forToken(token, schema) {
      return new this(token.element, token.index, parseActionDescriptorString(token.content), schema);
    }
    toString() {
      const eventFilter = this.keyFilter ? `.${this.keyFilter}` : "";
      const eventTarget = this.eventTargetName ? `@${this.eventTargetName}` : "";
      return `${this.eventName}${eventFilter}${eventTarget}->${this.identifier}#${this.methodName}`;
    }
    shouldIgnoreKeyboardEvent(event) {
      if (!this.keyFilter) {
        return false;
      }
      const filters = this.keyFilter.split("+");
      if (this.keyFilterDissatisfied(event, filters)) {
        return true;
      }
      const standardFilter = filters.filter((key) => !allModifiers.includes(key))[0];
      if (!standardFilter) {
        return false;
      }
      if (!hasProperty(this.keyMappings, standardFilter)) {
        error(`contains unknown key filter: ${this.keyFilter}`);
      }
      return this.keyMappings[standardFilter].toLowerCase() !== event.key.toLowerCase();
    }
    shouldIgnoreMouseEvent(event) {
      if (!this.keyFilter) {
        return false;
      }
      const filters = [this.keyFilter];
      if (this.keyFilterDissatisfied(event, filters)) {
        return true;
      }
      return false;
    }
    get params() {
      const params = {};
      const pattern = new RegExp(`^data-${this.identifier}-(.+)-param$`, "i");
      for (const { name, value } of Array.from(this.element.attributes)) {
        const match2 = name.match(pattern);
        const key = match2 && match2[1];
        if (key) {
          params[camelize(key)] = typecast(value);
        }
      }
      return params;
    }
    get eventTargetName() {
      return stringifyEventTarget(this.eventTarget);
    }
    get keyMappings() {
      return this.schema.keyMappings;
    }
    keyFilterDissatisfied(event, filters) {
      const [meta, ctrl, alt, shift3] = allModifiers.map((modifier) => filters.includes(modifier));
      return event.metaKey !== meta || event.ctrlKey !== ctrl || event.altKey !== alt || event.shiftKey !== shift3;
    }
  };
  var defaultEventNames = {
    a: () => "click",
    button: () => "click",
    form: () => "submit",
    details: () => "toggle",
    input: (e) => e.getAttribute("type") == "submit" ? "click" : "input",
    select: () => "change",
    textarea: () => "input"
  };
  function getDefaultEventNameForElement(element) {
    const tagName = element.tagName.toLowerCase();
    if (tagName in defaultEventNames) {
      return defaultEventNames[tagName](element);
    }
  }
  function error(message2) {
    throw new Error(message2);
  }
  function typecast(value) {
    try {
      return JSON.parse(value);
    } catch (o_O) {
      return value;
    }
  }
  var Binding = class {
    constructor(context, action) {
      this.context = context;
      this.action = action;
    }
    get index() {
      return this.action.index;
    }
    get eventTarget() {
      return this.action.eventTarget;
    }
    get eventOptions() {
      return this.action.eventOptions;
    }
    get identifier() {
      return this.context.identifier;
    }
    handleEvent(event) {
      const actionEvent = this.prepareActionEvent(event);
      if (this.willBeInvokedByEvent(event) && this.applyEventModifiers(actionEvent)) {
        this.invokeWithEvent(actionEvent);
      }
    }
    get eventName() {
      return this.action.eventName;
    }
    get method() {
      const method = this.controller[this.methodName];
      if (typeof method == "function") {
        return method;
      }
      throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`);
    }
    applyEventModifiers(event) {
      const { element } = this.action;
      const { actionDescriptorFilters } = this.context.application;
      const { controller } = this.context;
      let passes = true;
      for (const [name, value] of Object.entries(this.eventOptions)) {
        if (name in actionDescriptorFilters) {
          const filter2 = actionDescriptorFilters[name];
          passes = passes && filter2({ name, value, event, element, controller });
        } else {
          continue;
        }
      }
      return passes;
    }
    prepareActionEvent(event) {
      return Object.assign(event, { params: this.action.params });
    }
    invokeWithEvent(event) {
      const { target, currentTarget } = event;
      try {
        this.method.call(this.controller, event);
        this.context.logDebugActivity(this.methodName, { event, target, currentTarget, action: this.methodName });
      } catch (error2) {
        const { identifier, controller, element, index } = this;
        const detail = { identifier, controller, element, index, event };
        this.context.handleError(error2, `invoking action "${this.action}"`, detail);
      }
    }
    willBeInvokedByEvent(event) {
      const eventTarget = event.target;
      if (event instanceof KeyboardEvent && this.action.shouldIgnoreKeyboardEvent(event)) {
        return false;
      }
      if (event instanceof MouseEvent && this.action.shouldIgnoreMouseEvent(event)) {
        return false;
      }
      if (this.element === eventTarget) {
        return true;
      } else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {
        return this.scope.containsElement(eventTarget);
      } else {
        return this.scope.containsElement(this.action.element);
      }
    }
    get controller() {
      return this.context.controller;
    }
    get methodName() {
      return this.action.methodName;
    }
    get element() {
      return this.scope.element;
    }
    get scope() {
      return this.context.scope;
    }
  };
  var ElementObserver = class {
    constructor(element, delegate) {
      this.mutationObserverInit = { attributes: true, childList: true, subtree: true };
      this.element = element;
      this.started = false;
      this.delegate = delegate;
      this.elements = /* @__PURE__ */ new Set();
      this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));
    }
    start() {
      if (!this.started) {
        this.started = true;
        this.mutationObserver.observe(this.element, this.mutationObserverInit);
        this.refresh();
      }
    }
    pause(callback) {
      if (this.started) {
        this.mutationObserver.disconnect();
        this.started = false;
      }
      callback();
      if (!this.started) {
        this.mutationObserver.observe(this.element, this.mutationObserverInit);
        this.started = true;
      }
    }
    stop() {
      if (this.started) {
        this.mutationObserver.takeRecords();
        this.mutationObserver.disconnect();
        this.started = false;
      }
    }
    refresh() {
      if (this.started) {
        const matches = new Set(this.matchElementsInTree());
        for (const element of Array.from(this.elements)) {
          if (!matches.has(element)) {
            this.removeElement(element);
          }
        }
        for (const element of Array.from(matches)) {
          this.addElement(element);
        }
      }
    }
    processMutations(mutations) {
      if (this.started) {
        for (const mutation of mutations) {
          this.processMutation(mutation);
        }
      }
    }
    processMutation(mutation) {
      if (mutation.type == "attributes") {
        this.processAttributeChange(mutation.target, mutation.attributeName);
      } else if (mutation.type == "childList") {
        this.processRemovedNodes(mutation.removedNodes);
        this.processAddedNodes(mutation.addedNodes);
      }
    }
    processAttributeChange(element, attributeName) {
      if (this.elements.has(element)) {
        if (this.delegate.elementAttributeChanged && this.matchElement(element)) {
          this.delegate.elementAttributeChanged(element, attributeName);
        } else {
          this.removeElement(element);
        }
      } else if (this.matchElement(element)) {
        this.addElement(element);
      }
    }
    processRemovedNodes(nodes) {
      for (const node of Array.from(nodes)) {
        const element = this.elementFromNode(node);
        if (element) {
          this.processTree(element, this.removeElement);
        }
      }
    }
    processAddedNodes(nodes) {
      for (const node of Array.from(nodes)) {
        const element = this.elementFromNode(node);
        if (element && this.elementIsActive(element)) {
          this.processTree(element, this.addElement);
        }
      }
    }
    matchElement(element) {
      return this.delegate.matchElement(element);
    }
    matchElementsInTree(tree = this.element) {
      return this.delegate.matchElementsInTree(tree);
    }
    processTree(tree, processor) {
      for (const element of this.matchElementsInTree(tree)) {
        processor.call(this, element);
      }
    }
    elementFromNode(node) {
      if (node.nodeType == Node.ELEMENT_NODE) {
        return node;
      }
    }
    elementIsActive(element) {
      if (element.isConnected != this.element.isConnected) {
        return false;
      } else {
        return this.element.contains(element);
      }
    }
    addElement(element) {
      if (!this.elements.has(element)) {
        if (this.elementIsActive(element)) {
          this.elements.add(element);
          if (this.delegate.elementMatched) {
            this.delegate.elementMatched(element);
          }
        }
      }
    }
    removeElement(element) {
      if (this.elements.has(element)) {
        this.elements.delete(element);
        if (this.delegate.elementUnmatched) {
          this.delegate.elementUnmatched(element);
        }
      }
    }
  };
  var AttributeObserver = class {
    constructor(element, attributeName, delegate) {
      this.attributeName = attributeName;
      this.delegate = delegate;
      this.elementObserver = new ElementObserver(element, this);
    }
    get element() {
      return this.elementObserver.element;
    }
    get selector() {
      return `[${this.attributeName}]`;
    }
    start() {
      this.elementObserver.start();
    }
    pause(callback) {
      this.elementObserver.pause(callback);
    }
    stop() {
      this.elementObserver.stop();
    }
    refresh() {
      this.elementObserver.refresh();
    }
    get started() {
      return this.elementObserver.started;
    }
    matchElement(element) {
      return element.hasAttribute(this.attributeName);
    }
    matchElementsInTree(tree) {
      const match2 = this.matchElement(tree) ? [tree] : [];
      const matches = Array.from(tree.querySelectorAll(this.selector));
      return match2.concat(matches);
    }
    elementMatched(element) {
      if (this.delegate.elementMatchedAttribute) {
        this.delegate.elementMatchedAttribute(element, this.attributeName);
      }
    }
    elementUnmatched(element) {
      if (this.delegate.elementUnmatchedAttribute) {
        this.delegate.elementUnmatchedAttribute(element, this.attributeName);
      }
    }
    elementAttributeChanged(element, attributeName) {
      if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {
        this.delegate.elementAttributeValueChanged(element, attributeName);
      }
    }
  };
  function add(map, key, value) {
    fetch(map, key).add(value);
  }
  function del(map, key, value) {
    fetch(map, key).delete(value);
    prune(map, key);
  }
  function fetch(map, key) {
    let values = map.get(key);
    if (!values) {
      values = /* @__PURE__ */ new Set();
      map.set(key, values);
    }
    return values;
  }
  function prune(map, key) {
    const values = map.get(key);
    if (values != null && values.size == 0) {
      map.delete(key);
    }
  }
  var Multimap = class {
    constructor() {
      this.valuesByKey = /* @__PURE__ */ new Map();
    }
    get keys() {
      return Array.from(this.valuesByKey.keys());
    }
    get values() {
      const sets = Array.from(this.valuesByKey.values());
      return sets.reduce((values, set) => values.concat(Array.from(set)), []);
    }
    get size() {
      const sets = Array.from(this.valuesByKey.values());
      return sets.reduce((size2, set) => size2 + set.size, 0);
    }
    add(key, value) {
      add(this.valuesByKey, key, value);
    }
    delete(key, value) {
      del(this.valuesByKey, key, value);
    }
    has(key, value) {
      const values = this.valuesByKey.get(key);
      return values != null && values.has(value);
    }
    hasKey(key) {
      return this.valuesByKey.has(key);
    }
    hasValue(value) {
      const sets = Array.from(this.valuesByKey.values());
      return sets.some((set) => set.has(value));
    }
    getValuesForKey(key) {
      const values = this.valuesByKey.get(key);
      return values ? Array.from(values) : [];
    }
    getKeysForValue(value) {
      return Array.from(this.valuesByKey).filter(([_key, values]) => values.has(value)).map(([key, _values]) => key);
    }
  };
  var SelectorObserver = class {
    constructor(element, selector, delegate, details) {
      this._selector = selector;
      this.details = details;
      this.elementObserver = new ElementObserver(element, this);
      this.delegate = delegate;
      this.matchesByElement = new Multimap();
    }
    get started() {
      return this.elementObserver.started;
    }
    get selector() {
      return this._selector;
    }
    set selector(selector) {
      this._selector = selector;
      this.refresh();
    }
    start() {
      this.elementObserver.start();
    }
    pause(callback) {
      this.elementObserver.pause(callback);
    }
    stop() {
      this.elementObserver.stop();
    }
    refresh() {
      this.elementObserver.refresh();
    }
    get element() {
      return this.elementObserver.element;
    }
    matchElement(element) {
      const { selector } = this;
      if (selector) {
        const matches = element.matches(selector);
        if (this.delegate.selectorMatchElement) {
          return matches && this.delegate.selectorMatchElement(element, this.details);
        }
        return matches;
      } else {
        return false;
      }
    }
    matchElementsInTree(tree) {
      const { selector } = this;
      if (selector) {
        const match2 = this.matchElement(tree) ? [tree] : [];
        const matches = Array.from(tree.querySelectorAll(selector)).filter((match3) => this.matchElement(match3));
        return match2.concat(matches);
      } else {
        return [];
      }
    }
    elementMatched(element) {
      const { selector } = this;
      if (selector) {
        this.selectorMatched(element, selector);
      }
    }
    elementUnmatched(element) {
      const selectors = this.matchesByElement.getKeysForValue(element);
      for (const selector of selectors) {
        this.selectorUnmatched(element, selector);
      }
    }
    elementAttributeChanged(element, _attributeName) {
      const { selector } = this;
      if (selector) {
        const matches = this.matchElement(element);
        const matchedBefore = this.matchesByElement.has(selector, element);
        if (matches && !matchedBefore) {
          this.selectorMatched(element, selector);
        } else if (!matches && matchedBefore) {
          this.selectorUnmatched(element, selector);
        }
      }
    }
    selectorMatched(element, selector) {
      this.delegate.selectorMatched(element, selector, this.details);
      this.matchesByElement.add(selector, element);
    }
    selectorUnmatched(element, selector) {
      this.delegate.selectorUnmatched(element, selector, this.details);
      this.matchesByElement.delete(selector, element);
    }
  };
  var StringMapObserver = class {
    constructor(element, delegate) {
      this.element = element;
      this.delegate = delegate;
      this.started = false;
      this.stringMap = /* @__PURE__ */ new Map();
      this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));
    }
    start() {
      if (!this.started) {
        this.started = true;
        this.mutationObserver.observe(this.element, { attributes: true, attributeOldValue: true });
        this.refresh();
      }
    }
    stop() {
      if (this.started) {
        this.mutationObserver.takeRecords();
        this.mutationObserver.disconnect();
        this.started = false;
      }
    }
    refresh() {
      if (this.started) {
        for (const attributeName of this.knownAttributeNames) {
          this.refreshAttribute(attributeName, null);
        }
      }
    }
    processMutations(mutations) {
      if (this.started) {
        for (const mutation of mutations) {
          this.processMutation(mutation);
        }
      }
    }
    processMutation(mutation) {
      const attributeName = mutation.attributeName;
      if (attributeName) {
        this.refreshAttribute(attributeName, mutation.oldValue);
      }
    }
    refreshAttribute(attributeName, oldValue) {
      const key = this.delegate.getStringMapKeyForAttribute(attributeName);
      if (key != null) {
        if (!this.stringMap.has(attributeName)) {
          this.stringMapKeyAdded(key, attributeName);
        }
        const value = this.element.getAttribute(attributeName);
        if (this.stringMap.get(attributeName) != value) {
          this.stringMapValueChanged(value, key, oldValue);
        }
        if (value == null) {
          const oldValue2 = this.stringMap.get(attributeName);
          this.stringMap.delete(attributeName);
          if (oldValue2)
            this.stringMapKeyRemoved(key, attributeName, oldValue2);
        } else {
          this.stringMap.set(attributeName, value);
        }
      }
    }
    stringMapKeyAdded(key, attributeName) {
      if (this.delegate.stringMapKeyAdded) {
        this.delegate.stringMapKeyAdded(key, attributeName);
      }
    }
    stringMapValueChanged(value, key, oldValue) {
      if (this.delegate.stringMapValueChanged) {
        this.delegate.stringMapValueChanged(value, key, oldValue);
      }
    }
    stringMapKeyRemoved(key, attributeName, oldValue) {
      if (this.delegate.stringMapKeyRemoved) {
        this.delegate.stringMapKeyRemoved(key, attributeName, oldValue);
      }
    }
    get knownAttributeNames() {
      return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)));
    }
    get currentAttributeNames() {
      return Array.from(this.element.attributes).map((attribute) => attribute.name);
    }
    get recordedAttributeNames() {
      return Array.from(this.stringMap.keys());
    }
  };
  var TokenListObserver = class {
    constructor(element, attributeName, delegate) {
      this.attributeObserver = new AttributeObserver(element, attributeName, this);
      this.delegate = delegate;
      this.tokensByElement = new Multimap();
    }
    get started() {
      return this.attributeObserver.started;
    }
    start() {
      this.attributeObserver.start();
    }
    pause(callback) {
      this.attributeObserver.pause(callback);
    }
    stop() {
      this.attributeObserver.stop();
    }
    refresh() {
      this.attributeObserver.refresh();
    }
    get element() {
      return this.attributeObserver.element;
    }
    get attributeName() {
      return this.attributeObserver.attributeName;
    }
    elementMatchedAttribute(element) {
      this.tokensMatched(this.readTokensForElement(element));
    }
    elementAttributeValueChanged(element) {
      const [unmatchedTokens, matchedTokens] = this.refreshTokensForElement(element);
      this.tokensUnmatched(unmatchedTokens);
      this.tokensMatched(matchedTokens);
    }
    elementUnmatchedAttribute(element) {
      this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));
    }
    tokensMatched(tokens) {
      tokens.forEach((token) => this.tokenMatched(token));
    }
    tokensUnmatched(tokens) {
      tokens.forEach((token) => this.tokenUnmatched(token));
    }
    tokenMatched(token) {
      this.delegate.tokenMatched(token);
      this.tokensByElement.add(token.element, token);
    }
    tokenUnmatched(token) {
      this.delegate.tokenUnmatched(token);
      this.tokensByElement.delete(token.element, token);
    }
    refreshTokensForElement(element) {
      const previousTokens = this.tokensByElement.getValuesForKey(element);
      const currentTokens = this.readTokensForElement(element);
      const firstDifferingIndex = zip(previousTokens, currentTokens).findIndex(([previousToken, currentToken]) => !tokensAreEqual(previousToken, currentToken));
      if (firstDifferingIndex == -1) {
        return [[], []];
      } else {
        return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];
      }
    }
    readTokensForElement(element) {
      const attributeName = this.attributeName;
      const tokenString = element.getAttribute(attributeName) || "";
      return parseTokenString(tokenString, element, attributeName);
    }
  };
  function parseTokenString(tokenString, element, attributeName) {
    return tokenString.trim().split(/\s+/).filter((content) => content.length).map((content, index) => ({ element, attributeName, content, index }));
  }
  function zip(left, right) {
    const length = Math.max(left.length, right.length);
    return Array.from({ length }, (_, index) => [left[index], right[index]]);
  }
  function tokensAreEqual(left, right) {
    return left && right && left.index == right.index && left.content == right.content;
  }
  var ValueListObserver = class {
    constructor(element, attributeName, delegate) {
      this.tokenListObserver = new TokenListObserver(element, attributeName, this);
      this.delegate = delegate;
      this.parseResultsByToken = /* @__PURE__ */ new WeakMap();
      this.valuesByTokenByElement = /* @__PURE__ */ new WeakMap();
    }
    get started() {
      return this.tokenListObserver.started;
    }
    start() {
      this.tokenListObserver.start();
    }
    stop() {
      this.tokenListObserver.stop();
    }
    refresh() {
      this.tokenListObserver.refresh();
    }
    get element() {
      return this.tokenListObserver.element;
    }
    get attributeName() {
      return this.tokenListObserver.attributeName;
    }
    tokenMatched(token) {
      const { element } = token;
      const { value } = this.fetchParseResultForToken(token);
      if (value) {
        this.fetchValuesByTokenForElement(element).set(token, value);
        this.delegate.elementMatchedValue(element, value);
      }
    }
    tokenUnmatched(token) {
      const { element } = token;
      const { value } = this.fetchParseResultForToken(token);
      if (value) {
        this.fetchValuesByTokenForElement(element).delete(token);
        this.delegate.elementUnmatchedValue(element, value);
      }
    }
    fetchParseResultForToken(token) {
      let parseResult = this.parseResultsByToken.get(token);
      if (!parseResult) {
        parseResult = this.parseToken(token);
        this.parseResultsByToken.set(token, parseResult);
      }
      return parseResult;
    }
    fetchValuesByTokenForElement(element) {
      let valuesByToken = this.valuesByTokenByElement.get(element);
      if (!valuesByToken) {
        valuesByToken = /* @__PURE__ */ new Map();
        this.valuesByTokenByElement.set(element, valuesByToken);
      }
      return valuesByToken;
    }
    parseToken(token) {
      try {
        const value = this.delegate.parseValueForToken(token);
        return { value };
      } catch (error2) {
        return { error: error2 };
      }
    }
  };
  var BindingObserver = class {
    constructor(context, delegate) {
      this.context = context;
      this.delegate = delegate;
      this.bindingsByAction = /* @__PURE__ */ new Map();
    }
    start() {
      if (!this.valueListObserver) {
        this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);
        this.valueListObserver.start();
      }
    }
    stop() {
      if (this.valueListObserver) {
        this.valueListObserver.stop();
        delete this.valueListObserver;
        this.disconnectAllActions();
      }
    }
    get element() {
      return this.context.element;
    }
    get identifier() {
      return this.context.identifier;
    }
    get actionAttribute() {
      return this.schema.actionAttribute;
    }
    get schema() {
      return this.context.schema;
    }
    get bindings() {
      return Array.from(this.bindingsByAction.values());
    }
    connectAction(action) {
      const binding = new Binding(this.context, action);
      this.bindingsByAction.set(action, binding);
      this.delegate.bindingConnected(binding);
    }
    disconnectAction(action) {
      const binding = this.bindingsByAction.get(action);
      if (binding) {
        this.bindingsByAction.delete(action);
        this.delegate.bindingDisconnected(binding);
      }
    }
    disconnectAllActions() {
      this.bindings.forEach((binding) => this.delegate.bindingDisconnected(binding, true));
      this.bindingsByAction.clear();
    }
    parseValueForToken(token) {
      const action = Action.forToken(token, this.schema);
      if (action.identifier == this.identifier) {
        return action;
      }
    }
    elementMatchedValue(element, action) {
      this.connectAction(action);
    }
    elementUnmatchedValue(element, action) {
      this.disconnectAction(action);
    }
  };
  var ValueObserver = class {
    constructor(context, receiver) {
      this.context = context;
      this.receiver = receiver;
      this.stringMapObserver = new StringMapObserver(this.element, this);
      this.valueDescriptorMap = this.controller.valueDescriptorMap;
    }
    start() {
      this.stringMapObserver.start();
      this.invokeChangedCallbacksForDefaultValues();
    }
    stop() {
      this.stringMapObserver.stop();
    }
    get element() {
      return this.context.element;
    }
    get controller() {
      return this.context.controller;
    }
    getStringMapKeyForAttribute(attributeName) {
      if (attributeName in this.valueDescriptorMap) {
        return this.valueDescriptorMap[attributeName].name;
      }
    }
    stringMapKeyAdded(key, attributeName) {
      const descriptor = this.valueDescriptorMap[attributeName];
      if (!this.hasValue(key)) {
        this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), descriptor.writer(descriptor.defaultValue));
      }
    }
    stringMapValueChanged(value, name, oldValue) {
      const descriptor = this.valueDescriptorNameMap[name];
      if (value === null)
        return;
      if (oldValue === null) {
        oldValue = descriptor.writer(descriptor.defaultValue);
      }
      this.invokeChangedCallback(name, value, oldValue);
    }
    stringMapKeyRemoved(key, attributeName, oldValue) {
      const descriptor = this.valueDescriptorNameMap[key];
      if (this.hasValue(key)) {
        this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), oldValue);
      } else {
        this.invokeChangedCallback(key, descriptor.writer(descriptor.defaultValue), oldValue);
      }
    }
    invokeChangedCallbacksForDefaultValues() {
      for (const { key, name, defaultValue, writer } of this.valueDescriptors) {
        if (defaultValue != void 0 && !this.controller.data.has(key)) {
          this.invokeChangedCallback(name, writer(defaultValue), void 0);
        }
      }
    }
    invokeChangedCallback(name, rawValue, rawOldValue) {
      const changedMethodName = `${name}Changed`;
      const changedMethod = this.receiver[changedMethodName];
      if (typeof changedMethod == "function") {
        const descriptor = this.valueDescriptorNameMap[name];
        try {
          const value = descriptor.reader(rawValue);
          let oldValue = rawOldValue;
          if (rawOldValue) {
            oldValue = descriptor.reader(rawOldValue);
          }
          changedMethod.call(this.receiver, value, oldValue);
        } catch (error2) {
          if (error2 instanceof TypeError) {
            error2.message = `Stimulus Value "${this.context.identifier}.${descriptor.name}" - ${error2.message}`;
          }
          throw error2;
        }
      }
    }
    get valueDescriptors() {
      const { valueDescriptorMap } = this;
      return Object.keys(valueDescriptorMap).map((key) => valueDescriptorMap[key]);
    }
    get valueDescriptorNameMap() {
      const descriptors = {};
      Object.keys(this.valueDescriptorMap).forEach((key) => {
        const descriptor = this.valueDescriptorMap[key];
        descriptors[descriptor.name] = descriptor;
      });
      return descriptors;
    }
    hasValue(attributeName) {
      const descriptor = this.valueDescriptorNameMap[attributeName];
      const hasMethodName = `has${capitalize(descriptor.name)}`;
      return this.receiver[hasMethodName];
    }
  };
  var TargetObserver = class {
    constructor(context, delegate) {
      this.context = context;
      this.delegate = delegate;
      this.targetsByName = new Multimap();
    }
    start() {
      if (!this.tokenListObserver) {
        this.tokenListObserver = new TokenListObserver(this.element, this.attributeName, this);
        this.tokenListObserver.start();
      }
    }
    stop() {
      if (this.tokenListObserver) {
        this.disconnectAllTargets();
        this.tokenListObserver.stop();
        delete this.tokenListObserver;
      }
    }
    tokenMatched({ element, content: name }) {
      if (this.scope.containsElement(element)) {
        this.connectTarget(element, name);
      }
    }
    tokenUnmatched({ element, content: name }) {
      this.disconnectTarget(element, name);
    }
    connectTarget(element, name) {
      var _a;
      if (!this.targetsByName.has(name, element)) {
        this.targetsByName.add(name, element);
        (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetConnected(element, name));
      }
    }
    disconnectTarget(element, name) {
      var _a;
      if (this.targetsByName.has(name, element)) {
        this.targetsByName.delete(name, element);
        (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetDisconnected(element, name));
      }
    }
    disconnectAllTargets() {
      for (const name of this.targetsByName.keys) {
        for (const element of this.targetsByName.getValuesForKey(name)) {
          this.disconnectTarget(element, name);
        }
      }
    }
    get attributeName() {
      return `data-${this.context.identifier}-target`;
    }
    get element() {
      return this.context.element;
    }
    get scope() {
      return this.context.scope;
    }
  };
  function readInheritableStaticArrayValues(constructor, propertyName) {
    const ancestors = getAncestorsForConstructor(constructor);
    return Array.from(ancestors.reduce((values, constructor2) => {
      getOwnStaticArrayValues(constructor2, propertyName).forEach((name) => values.add(name));
      return values;
    }, /* @__PURE__ */ new Set()));
  }
  function readInheritableStaticObjectPairs(constructor, propertyName) {
    const ancestors = getAncestorsForConstructor(constructor);
    return ancestors.reduce((pairs, constructor2) => {
      pairs.push(...getOwnStaticObjectPairs(constructor2, propertyName));
      return pairs;
    }, []);
  }
  function getAncestorsForConstructor(constructor) {
    const ancestors = [];
    while (constructor) {
      ancestors.push(constructor);
      constructor = Object.getPrototypeOf(constructor);
    }
    return ancestors.reverse();
  }
  function getOwnStaticArrayValues(constructor, propertyName) {
    const definition = constructor[propertyName];
    return Array.isArray(definition) ? definition : [];
  }
  function getOwnStaticObjectPairs(constructor, propertyName) {
    const definition = constructor[propertyName];
    return definition ? Object.keys(definition).map((key) => [key, definition[key]]) : [];
  }
  var OutletObserver = class {
    constructor(context, delegate) {
      this.started = false;
      this.context = context;
      this.delegate = delegate;
      this.outletsByName = new Multimap();
      this.outletElementsByName = new Multimap();
      this.selectorObserverMap = /* @__PURE__ */ new Map();
      this.attributeObserverMap = /* @__PURE__ */ new Map();
    }
    start() {
      if (!this.started) {
        this.outletDefinitions.forEach((outletName) => {
          this.setupSelectorObserverForOutlet(outletName);
          this.setupAttributeObserverForOutlet(outletName);
        });
        this.started = true;
        this.dependentContexts.forEach((context) => context.refresh());
      }
    }
    refresh() {
      this.selectorObserverMap.forEach((observer) => observer.refresh());
      this.attributeObserverMap.forEach((observer) => observer.refresh());
    }
    stop() {
      if (this.started) {
        this.started = false;
        this.disconnectAllOutlets();
        this.stopSelectorObservers();
        this.stopAttributeObservers();
      }
    }
    stopSelectorObservers() {
      if (this.selectorObserverMap.size > 0) {
        this.selectorObserverMap.forEach((observer) => observer.stop());
        this.selectorObserverMap.clear();
      }
    }
    stopAttributeObservers() {
      if (this.attributeObserverMap.size > 0) {
        this.attributeObserverMap.forEach((observer) => observer.stop());
        this.attributeObserverMap.clear();
      }
    }
    selectorMatched(element, _selector, { outletName }) {
      const outlet = this.getOutlet(element, outletName);
      if (outlet) {
        this.connectOutlet(outlet, element, outletName);
      }
    }
    selectorUnmatched(element, _selector, { outletName }) {
      const outlet = this.getOutletFromMap(element, outletName);
      if (outlet) {
        this.disconnectOutlet(outlet, element, outletName);
      }
    }
    selectorMatchElement(element, { outletName }) {
      const selector = this.selector(outletName);
      const hasOutlet = this.hasOutlet(element, outletName);
      const hasOutletController = element.matches(`[${this.schema.controllerAttribute}~=${outletName}]`);
      if (selector) {
        return hasOutlet && hasOutletController && element.matches(selector);
      } else {
        return false;
      }
    }
    elementMatchedAttribute(_element, attributeName) {
      const outletName = this.getOutletNameFromOutletAttributeName(attributeName);
      if (outletName) {
        this.updateSelectorObserverForOutlet(outletName);
      }
    }
    elementAttributeValueChanged(_element, attributeName) {
      const outletName = this.getOutletNameFromOutletAttributeName(attributeName);
      if (outletName) {
        this.updateSelectorObserverForOutlet(outletName);
      }
    }
    elementUnmatchedAttribute(_element, attributeName) {
      const outletName = this.getOutletNameFromOutletAttributeName(attributeName);
      if (outletName) {
        this.updateSelectorObserverForOutlet(outletName);
      }
    }
    connectOutlet(outlet, element, outletName) {
      var _a;
      if (!this.outletElementsByName.has(outletName, element)) {
        this.outletsByName.add(outletName, outlet);
        this.outletElementsByName.add(outletName, element);
        (_a = this.selectorObserverMap.get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletConnected(outlet, element, outletName));
      }
    }
    disconnectOutlet(outlet, element, outletName) {
      var _a;
      if (this.outletElementsByName.has(outletName, element)) {
        this.outletsByName.delete(outletName, outlet);
        this.outletElementsByName.delete(outletName, element);
        (_a = this.selectorObserverMap.get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletDisconnected(outlet, element, outletName));
      }
    }
    disconnectAllOutlets() {
      for (const outletName of this.outletElementsByName.keys) {
        for (const element of this.outletElementsByName.getValuesForKey(outletName)) {
          for (const outlet of this.outletsByName.getValuesForKey(outletName)) {
            this.disconnectOutlet(outlet, element, outletName);
          }
        }
      }
    }
    updateSelectorObserverForOutlet(outletName) {
      const observer = this.selectorObserverMap.get(outletName);
      if (observer) {
        observer.selector = this.selector(outletName);
      }
    }
    setupSelectorObserverForOutlet(outletName) {
      const selector = this.selector(outletName);
      const selectorObserver = new SelectorObserver(document.body, selector, this, { outletName });
      this.selectorObserverMap.set(outletName, selectorObserver);
      selectorObserver.start();
    }
    setupAttributeObserverForOutlet(outletName) {
      const attributeName = this.attributeNameForOutletName(outletName);
      const attributeObserver = new AttributeObserver(this.scope.element, attributeName, this);
      this.attributeObserverMap.set(outletName, attributeObserver);
      attributeObserver.start();
    }
    selector(outletName) {
      return this.scope.outlets.getSelectorForOutletName(outletName);
    }
    attributeNameForOutletName(outletName) {
      return this.scope.schema.outletAttributeForScope(this.identifier, outletName);
    }
    getOutletNameFromOutletAttributeName(attributeName) {
      return this.outletDefinitions.find((outletName) => this.attributeNameForOutletName(outletName) === attributeName);
    }
    get outletDependencies() {
      const dependencies = new Multimap();
      this.router.modules.forEach((module) => {
        const constructor = module.definition.controllerConstructor;
        const outlets = readInheritableStaticArrayValues(constructor, "outlets");
        outlets.forEach((outlet) => dependencies.add(outlet, module.identifier));
      });
      return dependencies;
    }
    get outletDefinitions() {
      return this.outletDependencies.getKeysForValue(this.identifier);
    }
    get dependentControllerIdentifiers() {
      return this.outletDependencies.getValuesForKey(this.identifier);
    }
    get dependentContexts() {
      const identifiers = this.dependentControllerIdentifiers;
      return this.router.contexts.filter((context) => identifiers.includes(context.identifier));
    }
    hasOutlet(element, outletName) {
      return !!this.getOutlet(element, outletName) || !!this.getOutletFromMap(element, outletName);
    }
    getOutlet(element, outletName) {
      return this.application.getControllerForElementAndIdentifier(element, outletName);
    }
    getOutletFromMap(element, outletName) {
      return this.outletsByName.getValuesForKey(outletName).find((outlet) => outlet.element === element);
    }
    get scope() {
      return this.context.scope;
    }
    get schema() {
      return this.context.schema;
    }
    get identifier() {
      return this.context.identifier;
    }
    get application() {
      return this.context.application;
    }
    get router() {
      return this.application.router;
    }
  };
  var Context = class {
    constructor(module, scope) {
      this.logDebugActivity = (functionName, detail = {}) => {
        const { identifier, controller, element } = this;
        detail = Object.assign({ identifier, controller, element }, detail);
        this.application.logDebugActivity(this.identifier, functionName, detail);
      };
      this.module = module;
      this.scope = scope;
      this.controller = new module.controllerConstructor(this);
      this.bindingObserver = new BindingObserver(this, this.dispatcher);
      this.valueObserver = new ValueObserver(this, this.controller);
      this.targetObserver = new TargetObserver(this, this);
      this.outletObserver = new OutletObserver(this, this);
      try {
        this.controller.initialize();
        this.logDebugActivity("initialize");
      } catch (error2) {
        this.handleError(error2, "initializing controller");
      }
    }
    connect() {
      this.bindingObserver.start();
      this.valueObserver.start();
      this.targetObserver.start();
      this.outletObserver.start();
      try {
        this.controller.connect();
        this.logDebugActivity("connect");
      } catch (error2) {
        this.handleError(error2, "connecting controller");
      }
    }
    refresh() {
      this.outletObserver.refresh();
    }
    disconnect() {
      try {
        this.controller.disconnect();
        this.logDebugActivity("disconnect");
      } catch (error2) {
        this.handleError(error2, "disconnecting controller");
      }
      this.outletObserver.stop();
      this.targetObserver.stop();
      this.valueObserver.stop();
      this.bindingObserver.stop();
    }
    get application() {
      return this.module.application;
    }
    get identifier() {
      return this.module.identifier;
    }
    get schema() {
      return this.application.schema;
    }
    get dispatcher() {
      return this.application.dispatcher;
    }
    get element() {
      return this.scope.element;
    }
    get parentElement() {
      return this.element.parentElement;
    }
    handleError(error2, message2, detail = {}) {
      const { identifier, controller, element } = this;
      detail = Object.assign({ identifier, controller, element }, detail);
      this.application.handleError(error2, `Error ${message2}`, detail);
    }
    targetConnected(element, name) {
      this.invokeControllerMethod(`${name}TargetConnected`, element);
    }
    targetDisconnected(element, name) {
      this.invokeControllerMethod(`${name}TargetDisconnected`, element);
    }
    outletConnected(outlet, element, name) {
      this.invokeControllerMethod(`${namespaceCamelize(name)}OutletConnected`, outlet, element);
    }
    outletDisconnected(outlet, element, name) {
      this.invokeControllerMethod(`${namespaceCamelize(name)}OutletDisconnected`, outlet, element);
    }
    invokeControllerMethod(methodName, ...args) {
      const controller = this.controller;
      if (typeof controller[methodName] == "function") {
        controller[methodName](...args);
      }
    }
  };
  function bless(constructor) {
    return shadow(constructor, getBlessedProperties(constructor));
  }
  function shadow(constructor, properties) {
    const shadowConstructor = extend(constructor);
    const shadowProperties = getShadowProperties(constructor.prototype, properties);
    Object.defineProperties(shadowConstructor.prototype, shadowProperties);
    return shadowConstructor;
  }
  function getBlessedProperties(constructor) {
    const blessings = readInheritableStaticArrayValues(constructor, "blessings");
    return blessings.reduce((blessedProperties, blessing) => {
      const properties = blessing(constructor);
      for (const key in properties) {
        const descriptor = blessedProperties[key] || {};
        blessedProperties[key] = Object.assign(descriptor, properties[key]);
      }
      return blessedProperties;
    }, {});
  }
  function getShadowProperties(prototype, properties) {
    return getOwnKeys(properties).reduce((shadowProperties, key) => {
      const descriptor = getShadowedDescriptor(prototype, properties, key);
      if (descriptor) {
        Object.assign(shadowProperties, { [key]: descriptor });
      }
      return shadowProperties;
    }, {});
  }
  function getShadowedDescriptor(prototype, properties, key) {
    const shadowingDescriptor = Object.getOwnPropertyDescriptor(prototype, key);
    const shadowedByValue = shadowingDescriptor && "value" in shadowingDescriptor;
    if (!shadowedByValue) {
      const descriptor = Object.getOwnPropertyDescriptor(properties, key).value;
      if (shadowingDescriptor) {
        descriptor.get = shadowingDescriptor.get || descriptor.get;
        descriptor.set = shadowingDescriptor.set || descriptor.set;
      }
      return descriptor;
    }
  }
  var getOwnKeys = (() => {
    if (typeof Object.getOwnPropertySymbols == "function") {
      return (object) => [...Object.getOwnPropertyNames(object), ...Object.getOwnPropertySymbols(object)];
    } else {
      return Object.getOwnPropertyNames;
    }
  })();
  var extend = (() => {
    function extendWithReflect(constructor) {
      function extended() {
        return Reflect.construct(constructor, arguments, new.target);
      }
      extended.prototype = Object.create(constructor.prototype, {
        constructor: { value: extended }
      });
      Reflect.setPrototypeOf(extended, constructor);
      return extended;
    }
    function testReflectExtension() {
      const a = function() {
        this.a.call(this);
      };
      const b = extendWithReflect(a);
      b.prototype.a = function() {
      };
      return new b();
    }
    try {
      testReflectExtension();
      return extendWithReflect;
    } catch (error2) {
      return (constructor) => class extended extends constructor {
      };
    }
  })();
  function blessDefinition(definition) {
    return {
      identifier: definition.identifier,
      controllerConstructor: bless(definition.controllerConstructor)
    };
  }
  var Module = class {
    constructor(application2, definition) {
      this.application = application2;
      this.definition = blessDefinition(definition);
      this.contextsByScope = /* @__PURE__ */ new WeakMap();
      this.connectedContexts = /* @__PURE__ */ new Set();
    }
    get identifier() {
      return this.definition.identifier;
    }
    get controllerConstructor() {
      return this.definition.controllerConstructor;
    }
    get contexts() {
      return Array.from(this.connectedContexts);
    }
    connectContextForScope(scope) {
      const context = this.fetchContextForScope(scope);
      this.connectedContexts.add(context);
      context.connect();
    }
    disconnectContextForScope(scope) {
      const context = this.contextsByScope.get(scope);
      if (context) {
        this.connectedContexts.delete(context);
        context.disconnect();
      }
    }
    fetchContextForScope(scope) {
      let context = this.contextsByScope.get(scope);
      if (!context) {
        context = new Context(this, scope);
        this.contextsByScope.set(scope, context);
      }
      return context;
    }
  };
  var ClassMap = class {
    constructor(scope) {
      this.scope = scope;
    }
    has(name) {
      return this.data.has(this.getDataKey(name));
    }
    get(name) {
      return this.getAll(name)[0];
    }
    getAll(name) {
      const tokenString = this.data.get(this.getDataKey(name)) || "";
      return tokenize(tokenString);
    }
    getAttributeName(name) {
      return this.data.getAttributeNameForKey(this.getDataKey(name));
    }
    getDataKey(name) {
      return `${name}-class`;
    }
    get data() {
      return this.scope.data;
    }
  };
  var DataMap = class {
    constructor(scope) {
      this.scope = scope;
    }
    get element() {
      return this.scope.element;
    }
    get identifier() {
      return this.scope.identifier;
    }
    get(key) {
      const name = this.getAttributeNameForKey(key);
      return this.element.getAttribute(name);
    }
    set(key, value) {
      const name = this.getAttributeNameForKey(key);
      this.element.setAttribute(name, value);
      return this.get(key);
    }
    has(key) {
      const name = this.getAttributeNameForKey(key);
      return this.element.hasAttribute(name);
    }
    delete(key) {
      if (this.has(key)) {
        const name = this.getAttributeNameForKey(key);
        this.element.removeAttribute(name);
        return true;
      } else {
        return false;
      }
    }
    getAttributeNameForKey(key) {
      return `data-${this.identifier}-${dasherize(key)}`;
    }
  };
  var Guide = class {
    constructor(logger) {
      this.warnedKeysByObject = /* @__PURE__ */ new WeakMap();
      this.logger = logger;
    }
    warn(object, key, message2) {
      let warnedKeys = this.warnedKeysByObject.get(object);
      if (!warnedKeys) {
        warnedKeys = /* @__PURE__ */ new Set();
        this.warnedKeysByObject.set(object, warnedKeys);
      }
      if (!warnedKeys.has(key)) {
        warnedKeys.add(key);
        this.logger.warn(message2, object);
      }
    }
  };
  function attributeValueContainsToken(attributeName, token) {
    return `[${attributeName}~="${token}"]`;
  }
  var TargetSet = class {
    constructor(scope) {
      this.scope = scope;
    }
    get element() {
      return this.scope.element;
    }
    get identifier() {
      return this.scope.identifier;
    }
    get schema() {
      return this.scope.schema;
    }
    has(targetName) {
      return this.find(targetName) != null;
    }
    find(...targetNames) {
      return targetNames.reduce((target, targetName) => target || this.findTarget(targetName) || this.findLegacyTarget(targetName), void 0);
    }
    findAll(...targetNames) {
      return targetNames.reduce((targets, targetName) => [
        ...targets,
        ...this.findAllTargets(targetName),
        ...this.findAllLegacyTargets(targetName)
      ], []);
    }
    findTarget(targetName) {
      const selector = this.getSelectorForTargetName(targetName);
      return this.scope.findElement(selector);
    }
    findAllTargets(targetName) {
      const selector = this.getSelectorForTargetName(targetName);
      return this.scope.findAllElements(selector);
    }
    getSelectorForTargetName(targetName) {
      const attributeName = this.schema.targetAttributeForScope(this.identifier);
      return attributeValueContainsToken(attributeName, targetName);
    }
    findLegacyTarget(targetName) {
      const selector = this.getLegacySelectorForTargetName(targetName);
      return this.deprecate(this.scope.findElement(selector), targetName);
    }
    findAllLegacyTargets(targetName) {
      const selector = this.getLegacySelectorForTargetName(targetName);
      return this.scope.findAllElements(selector).map((element) => this.deprecate(element, targetName));
    }
    getLegacySelectorForTargetName(targetName) {
      const targetDescriptor = `${this.identifier}.${targetName}`;
      return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);
    }
    deprecate(element, targetName) {
      if (element) {
        const { identifier } = this;
        const attributeName = this.schema.targetAttribute;
        const revisedAttributeName = this.schema.targetAttributeForScope(identifier);
        this.guide.warn(element, `target:${targetName}`, `Please replace ${attributeName}="${identifier}.${targetName}" with ${revisedAttributeName}="${targetName}". The ${attributeName} attribute is deprecated and will be removed in a future version of Stimulus.`);
      }
      return element;
    }
    get guide() {
      return this.scope.guide;
    }
  };
  var OutletSet = class {
    constructor(scope, controllerElement) {
      this.scope = scope;
      this.controllerElement = controllerElement;
    }
    get element() {
      return this.scope.element;
    }
    get identifier() {
      return this.scope.identifier;
    }
    get schema() {
      return this.scope.schema;
    }
    has(outletName) {
      return this.find(outletName) != null;
    }
    find(...outletNames) {
      return outletNames.reduce((outlet, outletName) => outlet || this.findOutlet(outletName), void 0);
    }
    findAll(...outletNames) {
      return outletNames.reduce((outlets, outletName) => [...outlets, ...this.findAllOutlets(outletName)], []);
    }
    getSelectorForOutletName(outletName) {
      const attributeName = this.schema.outletAttributeForScope(this.identifier, outletName);
      return this.controllerElement.getAttribute(attributeName);
    }
    findOutlet(outletName) {
      const selector = this.getSelectorForOutletName(outletName);
      if (selector)
        return this.findElement(selector, outletName);
    }
    findAllOutlets(outletName) {
      const selector = this.getSelectorForOutletName(outletName);
      return selector ? this.findAllElements(selector, outletName) : [];
    }
    findElement(selector, outletName) {
      const elements = this.scope.queryElements(selector);
      return elements.filter((element) => this.matchesElement(element, selector, outletName))[0];
    }
    findAllElements(selector, outletName) {
      const elements = this.scope.queryElements(selector);
      return elements.filter((element) => this.matchesElement(element, selector, outletName));
    }
    matchesElement(element, selector, outletName) {
      const controllerAttribute = element.getAttribute(this.scope.schema.controllerAttribute) || "";
      return element.matches(selector) && controllerAttribute.split(" ").includes(outletName);
    }
  };
  var Scope = class _Scope {
    constructor(schema, element, identifier, logger) {
      this.targets = new TargetSet(this);
      this.classes = new ClassMap(this);
      this.data = new DataMap(this);
      this.containsElement = (element2) => {
        return element2.closest(this.controllerSelector) === this.element;
      };
      this.schema = schema;
      this.element = element;
      this.identifier = identifier;
      this.guide = new Guide(logger);
      this.outlets = new OutletSet(this.documentScope, element);
    }
    findElement(selector) {
      return this.element.matches(selector) ? this.element : this.queryElements(selector).find(this.containsElement);
    }
    findAllElements(selector) {
      return [
        ...this.element.matches(selector) ? [this.element] : [],
        ...this.queryElements(selector).filter(this.containsElement)
      ];
    }
    queryElements(selector) {
      return Array.from(this.element.querySelectorAll(selector));
    }
    get controllerSelector() {
      return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);
    }
    get isDocumentScope() {
      return this.element === document.documentElement;
    }
    get documentScope() {
      return this.isDocumentScope ? this : new _Scope(this.schema, document.documentElement, this.identifier, this.guide.logger);
    }
  };
  var ScopeObserver = class {
    constructor(element, schema, delegate) {
      this.element = element;
      this.schema = schema;
      this.delegate = delegate;
      this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);
      this.scopesByIdentifierByElement = /* @__PURE__ */ new WeakMap();
      this.scopeReferenceCounts = /* @__PURE__ */ new WeakMap();
    }
    start() {
      this.valueListObserver.start();
    }
    stop() {
      this.valueListObserver.stop();
    }
    get controllerAttribute() {
      return this.schema.controllerAttribute;
    }
    parseValueForToken(token) {
      const { element, content: identifier } = token;
      return this.parseValueForElementAndIdentifier(element, identifier);
    }
    parseValueForElementAndIdentifier(element, identifier) {
      const scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);
      let scope = scopesByIdentifier.get(identifier);
      if (!scope) {
        scope = this.delegate.createScopeForElementAndIdentifier(element, identifier);
        scopesByIdentifier.set(identifier, scope);
      }
      return scope;
    }
    elementMatchedValue(element, value) {
      const referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;
      this.scopeReferenceCounts.set(value, referenceCount);
      if (referenceCount == 1) {
        this.delegate.scopeConnected(value);
      }
    }
    elementUnmatchedValue(element, value) {
      const referenceCount = this.scopeReferenceCounts.get(value);
      if (referenceCount) {
        this.scopeReferenceCounts.set(value, referenceCount - 1);
        if (referenceCount == 1) {
          this.delegate.scopeDisconnected(value);
        }
      }
    }
    fetchScopesByIdentifierForElement(element) {
      let scopesByIdentifier = this.scopesByIdentifierByElement.get(element);
      if (!scopesByIdentifier) {
        scopesByIdentifier = /* @__PURE__ */ new Map();
        this.scopesByIdentifierByElement.set(element, scopesByIdentifier);
      }
      return scopesByIdentifier;
    }
  };
  var Router = class {
    constructor(application2) {
      this.application = application2;
      this.scopeObserver = new ScopeObserver(this.element, this.schema, this);
      this.scopesByIdentifier = new Multimap();
      this.modulesByIdentifier = /* @__PURE__ */ new Map();
    }
    get element() {
      return this.application.element;
    }
    get schema() {
      return this.application.schema;
    }
    get logger() {
      return this.application.logger;
    }
    get controllerAttribute() {
      return this.schema.controllerAttribute;
    }
    get modules() {
      return Array.from(this.modulesByIdentifier.values());
    }
    get contexts() {
      return this.modules.reduce((contexts, module) => contexts.concat(module.contexts), []);
    }
    start() {
      this.scopeObserver.start();
    }
    stop() {
      this.scopeObserver.stop();
    }
    loadDefinition(definition) {
      this.unloadIdentifier(definition.identifier);
      const module = new Module(this.application, definition);
      this.connectModule(module);
      const afterLoad = definition.controllerConstructor.afterLoad;
      if (afterLoad) {
        afterLoad.call(definition.controllerConstructor, definition.identifier, this.application);
      }
    }
    unloadIdentifier(identifier) {
      const module = this.modulesByIdentifier.get(identifier);
      if (module) {
        this.disconnectModule(module);
      }
    }
    getContextForElementAndIdentifier(element, identifier) {
      const module = this.modulesByIdentifier.get(identifier);
      if (module) {
        return module.contexts.find((context) => context.element == element);
      }
    }
    proposeToConnectScopeForElementAndIdentifier(element, identifier) {
      const scope = this.scopeObserver.parseValueForElementAndIdentifier(element, identifier);
      if (scope) {
        this.scopeObserver.elementMatchedValue(scope.element, scope);
      } else {
        console.error(`Couldn't find or create scope for identifier: "${identifier}" and element:`, element);
      }
    }
    handleError(error2, message2, detail) {
      this.application.handleError(error2, message2, detail);
    }
    createScopeForElementAndIdentifier(element, identifier) {
      return new Scope(this.schema, element, identifier, this.logger);
    }
    scopeConnected(scope) {
      this.scopesByIdentifier.add(scope.identifier, scope);
      const module = this.modulesByIdentifier.get(scope.identifier);
      if (module) {
        module.connectContextForScope(scope);
      }
    }
    scopeDisconnected(scope) {
      this.scopesByIdentifier.delete(scope.identifier, scope);
      const module = this.modulesByIdentifier.get(scope.identifier);
      if (module) {
        module.disconnectContextForScope(scope);
      }
    }
    connectModule(module) {
      this.modulesByIdentifier.set(module.identifier, module);
      const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);
      scopes.forEach((scope) => module.connectContextForScope(scope));
    }
    disconnectModule(module) {
      this.modulesByIdentifier.delete(module.identifier);
      const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);
      scopes.forEach((scope) => module.disconnectContextForScope(scope));
    }
  };
  var defaultSchema = {
    controllerAttribute: "data-controller",
    actionAttribute: "data-action",
    targetAttribute: "data-target",
    targetAttributeForScope: (identifier) => `data-${identifier}-target`,
    outletAttributeForScope: (identifier, outlet) => `data-${identifier}-${outlet}-outlet`,
    keyMappings: Object.assign(Object.assign({ enter: "Enter", tab: "Tab", esc: "Escape", space: " ", up: "ArrowUp", down: "ArrowDown", left: "ArrowLeft", right: "ArrowRight", home: "Home", end: "End", page_up: "PageUp", page_down: "PageDown" }, objectFromEntries("abcdefghijklmnopqrstuvwxyz".split("").map((c) => [c, c]))), objectFromEntries("0123456789".split("").map((n) => [n, n])))
  };
  function objectFromEntries(array) {
    return array.reduce((memo, [k, v]) => Object.assign(Object.assign({}, memo), { [k]: v }), {});
  }
  var Application = class {
    constructor(element = document.documentElement, schema = defaultSchema) {
      this.logger = console;
      this.debug = false;
      this.logDebugActivity = (identifier, functionName, detail = {}) => {
        if (this.debug) {
          this.logFormattedMessage(identifier, functionName, detail);
        }
      };
      this.element = element;
      this.schema = schema;
      this.dispatcher = new Dispatcher(this);
      this.router = new Router(this);
      this.actionDescriptorFilters = Object.assign({}, defaultActionDescriptorFilters);
    }
    static start(element, schema) {
      const application2 = new this(element, schema);
      application2.start();
      return application2;
    }
    async start() {
      await domReady();
      this.logDebugActivity("application", "starting");
      this.dispatcher.start();
      this.router.start();
      this.logDebugActivity("application", "start");
    }
    stop() {
      this.logDebugActivity("application", "stopping");
      this.dispatcher.stop();
      this.router.stop();
      this.logDebugActivity("application", "stop");
    }
    register(identifier, controllerConstructor) {
      this.load({ identifier, controllerConstructor });
    }
    registerActionOption(name, filter2) {
      this.actionDescriptorFilters[name] = filter2;
    }
    load(head, ...rest) {
      const definitions = Array.isArray(head) ? head : [head, ...rest];
      definitions.forEach((definition) => {
        if (definition.controllerConstructor.shouldLoad) {
          this.router.loadDefinition(definition);
        }
      });
    }
    unload(head, ...rest) {
      const identifiers = Array.isArray(head) ? head : [head, ...rest];
      identifiers.forEach((identifier) => this.router.unloadIdentifier(identifier));
    }
    get controllers() {
      return this.router.contexts.map((context) => context.controller);
    }
    getControllerForElementAndIdentifier(element, identifier) {
      const context = this.router.getContextForElementAndIdentifier(element, identifier);
      return context ? context.controller : null;
    }
    handleError(error2, message2, detail) {
      var _a;
      this.logger.error(`%s

%o

%o`, message2, error2, detail);
      (_a = window.onerror) === null || _a === void 0 ? void 0 : _a.call(window, message2, "", 0, 0, error2);
    }
    logFormattedMessage(identifier, functionName, detail = {}) {
      detail = Object.assign({ application: this }, detail);
      this.logger.groupCollapsed(`${identifier} #${functionName}`);
      this.logger.log("details:", Object.assign({}, detail));
      this.logger.groupEnd();
    }
  };
  function domReady() {
    return new Promise((resolve) => {
      if (document.readyState == "loading") {
        document.addEventListener("DOMContentLoaded", () => resolve());
      } else {
        resolve();
      }
    });
  }
  function ClassPropertiesBlessing(constructor) {
    const classes = readInheritableStaticArrayValues(constructor, "classes");
    return classes.reduce((properties, classDefinition) => {
      return Object.assign(properties, propertiesForClassDefinition(classDefinition));
    }, {});
  }
  function propertiesForClassDefinition(key) {
    return {
      [`${key}Class`]: {
        get() {
          const { classes } = this;
          if (classes.has(key)) {
            return classes.get(key);
          } else {
            const attribute = classes.getAttributeName(key);
            throw new Error(`Missing attribute "${attribute}"`);
          }
        }
      },
      [`${key}Classes`]: {
        get() {
          return this.classes.getAll(key);
        }
      },
      [`has${capitalize(key)}Class`]: {
        get() {
          return this.classes.has(key);
        }
      }
    };
  }
  function OutletPropertiesBlessing(constructor) {
    const outlets = readInheritableStaticArrayValues(constructor, "outlets");
    return outlets.reduce((properties, outletDefinition) => {
      return Object.assign(properties, propertiesForOutletDefinition(outletDefinition));
    }, {});
  }
  function getOutletController(controller, element, identifier) {
    return controller.application.getControllerForElementAndIdentifier(element, identifier);
  }
  function getControllerAndEnsureConnectedScope(controller, element, outletName) {
    let outletController = getOutletController(controller, element, outletName);
    if (outletController)
      return outletController;
    controller.application.router.proposeToConnectScopeForElementAndIdentifier(element, outletName);
    outletController = getOutletController(controller, element, outletName);
    if (outletController)
      return outletController;
  }
  function propertiesForOutletDefinition(name) {
    const camelizedName = namespaceCamelize(name);
    return {
      [`${camelizedName}Outlet`]: {
        get() {
          const outletElement = this.outlets.find(name);
          const selector = this.outlets.getSelectorForOutletName(name);
          if (outletElement) {
            const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);
            if (outletController)
              return outletController;
            throw new Error(`The provided outlet element is missing an outlet controller "${name}" instance for host controller "${this.identifier}"`);
          }
          throw new Error(`Missing outlet element "${name}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${selector}".`);
        }
      },
      [`${camelizedName}Outlets`]: {
        get() {
          const outlets = this.outlets.findAll(name);
          if (outlets.length > 0) {
            return outlets.map((outletElement) => {
              const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);
              if (outletController)
                return outletController;
              console.warn(`The provided outlet element is missing an outlet controller "${name}" instance for host controller "${this.identifier}"`, outletElement);
            }).filter((controller) => controller);
          }
          return [];
        }
      },
      [`${camelizedName}OutletElement`]: {
        get() {
          const outletElement = this.outlets.find(name);
          const selector = this.outlets.getSelectorForOutletName(name);
          if (outletElement) {
            return outletElement;
          } else {
            throw new Error(`Missing outlet element "${name}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${selector}".`);
          }
        }
      },
      [`${camelizedName}OutletElements`]: {
        get() {
          return this.outlets.findAll(name);
        }
      },
      [`has${capitalize(camelizedName)}Outlet`]: {
        get() {
          return this.outlets.has(name);
        }
      }
    };
  }
  function TargetPropertiesBlessing(constructor) {
    const targets = readInheritableStaticArrayValues(constructor, "targets");
    return targets.reduce((properties, targetDefinition) => {
      return Object.assign(properties, propertiesForTargetDefinition(targetDefinition));
    }, {});
  }
  function propertiesForTargetDefinition(name) {
    return {
      [`${name}Target`]: {
        get() {
          const target = this.targets.find(name);
          if (target) {
            return target;
          } else {
            throw new Error(`Missing target element "${name}" for "${this.identifier}" controller`);
          }
        }
      },
      [`${name}Targets`]: {
        get() {
          return this.targets.findAll(name);
        }
      },
      [`has${capitalize(name)}Target`]: {
        get() {
          return this.targets.has(name);
        }
      }
    };
  }
  function ValuePropertiesBlessing(constructor) {
    const valueDefinitionPairs = readInheritableStaticObjectPairs(constructor, "values");
    const propertyDescriptorMap = {
      valueDescriptorMap: {
        get() {
          return valueDefinitionPairs.reduce((result, valueDefinitionPair) => {
            const valueDescriptor = parseValueDefinitionPair(valueDefinitionPair, this.identifier);
            const attributeName = this.data.getAttributeNameForKey(valueDescriptor.key);
            return Object.assign(result, { [attributeName]: valueDescriptor });
          }, {});
        }
      }
    };
    return valueDefinitionPairs.reduce((properties, valueDefinitionPair) => {
      return Object.assign(properties, propertiesForValueDefinitionPair(valueDefinitionPair));
    }, propertyDescriptorMap);
  }
  function propertiesForValueDefinitionPair(valueDefinitionPair, controller) {
    const definition = parseValueDefinitionPair(valueDefinitionPair, controller);
    const { key, name, reader: read, writer: write } = definition;
    return {
      [name]: {
        get() {
          const value = this.data.get(key);
          if (value !== null) {
            return read(value);
          } else {
            return definition.defaultValue;
          }
        },
        set(value) {
          if (value === void 0) {
            this.data.delete(key);
          } else {
            this.data.set(key, write(value));
          }
        }
      },
      [`has${capitalize(name)}`]: {
        get() {
          return this.data.has(key) || definition.hasCustomDefaultValue;
        }
      }
    };
  }
  function parseValueDefinitionPair([token, typeDefinition], controller) {
    return valueDescriptorForTokenAndTypeDefinition({
      controller,
      token,
      typeDefinition
    });
  }
  function parseValueTypeConstant(constant) {
    switch (constant) {
      case Array:
        return "array";
      case Boolean:
        return "boolean";
      case Number:
        return "number";
      case Object:
        return "object";
      case String:
        return "string";
    }
  }
  function parseValueTypeDefault(defaultValue) {
    switch (typeof defaultValue) {
      case "boolean":
        return "boolean";
      case "number":
        return "number";
      case "string":
        return "string";
    }
    if (Array.isArray(defaultValue))
      return "array";
    if (Object.prototype.toString.call(defaultValue) === "[object Object]")
      return "object";
  }
  function parseValueTypeObject(payload) {
    const { controller, token, typeObject } = payload;
    const hasType = isSomething(typeObject.type);
    const hasDefault = isSomething(typeObject.default);
    const fullObject = hasType && hasDefault;
    const onlyType = hasType && !hasDefault;
    const onlyDefault = !hasType && hasDefault;
    const typeFromObject = parseValueTypeConstant(typeObject.type);
    const typeFromDefaultValue = parseValueTypeDefault(payload.typeObject.default);
    if (onlyType)
      return typeFromObject;
    if (onlyDefault)
      return typeFromDefaultValue;
    if (typeFromObject !== typeFromDefaultValue) {
      const propertyPath = controller ? `${controller}.${token}` : token;
      throw new Error(`The specified default value for the Stimulus Value "${propertyPath}" must match the defined type "${typeFromObject}". The provided default value of "${typeObject.default}" is of type "${typeFromDefaultValue}".`);
    }
    if (fullObject)
      return typeFromObject;
  }
  function parseValueTypeDefinition(payload) {
    const { controller, token, typeDefinition } = payload;
    const typeObject = { controller, token, typeObject: typeDefinition };
    const typeFromObject = parseValueTypeObject(typeObject);
    const typeFromDefaultValue = parseValueTypeDefault(typeDefinition);
    const typeFromConstant = parseValueTypeConstant(typeDefinition);
    const type = typeFromObject || typeFromDefaultValue || typeFromConstant;
    if (type)
      return type;
    const propertyPath = controller ? `${controller}.${typeDefinition}` : token;
    throw new Error(`Unknown value type "${propertyPath}" for "${token}" value`);
  }
  function defaultValueForDefinition(typeDefinition) {
    const constant = parseValueTypeConstant(typeDefinition);
    if (constant)
      return defaultValuesByType[constant];
    const hasDefault = hasProperty(typeDefinition, "default");
    const hasType = hasProperty(typeDefinition, "type");
    const typeObject = typeDefinition;
    if (hasDefault)
      return typeObject.default;
    if (hasType) {
      const { type } = typeObject;
      const constantFromType = parseValueTypeConstant(type);
      if (constantFromType)
        return defaultValuesByType[constantFromType];
    }
    return typeDefinition;
  }
  function valueDescriptorForTokenAndTypeDefinition(payload) {
    const { token, typeDefinition } = payload;
    const key = `${dasherize(token)}-value`;
    const type = parseValueTypeDefinition(payload);
    return {
      type,
      key,
      name: camelize(key),
      get defaultValue() {
        return defaultValueForDefinition(typeDefinition);
      },
      get hasCustomDefaultValue() {
        return parseValueTypeDefault(typeDefinition) !== void 0;
      },
      reader: readers[type],
      writer: writers[type] || writers.default
    };
  }
  var defaultValuesByType = {
    get array() {
      return [];
    },
    boolean: false,
    number: 0,
    get object() {
      return {};
    },
    string: ""
  };
  var readers = {
    array(value) {
      const array = JSON.parse(value);
      if (!Array.isArray(array)) {
        throw new TypeError(`expected value of type "array" but instead got value "${value}" of type "${parseValueTypeDefault(array)}"`);
      }
      return array;
    },
    boolean(value) {
      return !(value == "0" || String(value).toLowerCase() == "false");
    },
    number(value) {
      return Number(value.replace(/_/g, ""));
    },
    object(value) {
      const object = JSON.parse(value);
      if (object === null || typeof object != "object" || Array.isArray(object)) {
        throw new TypeError(`expected value of type "object" but instead got value "${value}" of type "${parseValueTypeDefault(object)}"`);
      }
      return object;
    },
    string(value) {
      return value;
    }
  };
  var writers = {
    default: writeString,
    array: writeJSON,
    object: writeJSON
  };
  function writeJSON(value) {
    return JSON.stringify(value);
  }
  function writeString(value) {
    return `${value}`;
  }
  var Controller = class {
    constructor(context) {
      this.context = context;
    }
    static get shouldLoad() {
      return true;
    }
    static afterLoad(_identifier, _application) {
      return;
    }
    get application() {
      return this.context.application;
    }
    get scope() {
      return this.context.scope;
    }
    get element() {
      return this.scope.element;
    }
    get identifier() {
      return this.scope.identifier;
    }
    get targets() {
      return this.scope.targets;
    }
    get outlets() {
      return this.scope.outlets;
    }
    get classes() {
      return this.scope.classes;
    }
    get data() {
      return this.scope.data;
    }
    initialize() {
    }
    connect() {
    }
    disconnect() {
    }
    dispatch(eventName, { target = this.element, detail = {}, prefix = this.identifier, bubbles = true, cancelable = true } = {}) {
      const type = prefix ? `${prefix}:${eventName}` : eventName;
      const event = new CustomEvent(type, { detail, bubbles, cancelable });
      target.dispatchEvent(event);
      return event;
    }
  };
  Controller.blessings = [
    ClassPropertiesBlessing,
    TargetPropertiesBlessing,
    ValuePropertiesBlessing,
    OutletPropertiesBlessing
  ];
  Controller.targets = [];
  Controller.outlets = [];
  Controller.values = {};

  // app/javascript/controllers/application.js
  var application = Application.start();
  application.debug = false;
  window.Stimulus = application;

  // app/javascript/controllers/hello_controller.js
  var hello_controller_exports = {};
  __export(hello_controller_exports, {
    default: () => hello_controller_default
  });
  var hello_controller_default = class extends Controller {
    connect() {
      this.element.textContent = "Hello World!";
    }
  };

  // rails:/Users/michelson/Documents/cience/rails_ui/test/dummy/app/javascript/controllers/**/*_controller.js
  var modules = [{ name: "hello", module: hello_controller_exports, filename: "hello_controller.js" }];
  var controller_default = modules;

  // ../../app/ui/components/rails_ui/accordion/index.js
  var accordion_exports = {};
  __export(accordion_exports, {
    default: () => accordion_default
  });
  var accordion_default = class extends Controller {
    toggle(event) {
      const clickedItem = event.currentTarget.closest('[data-ui-accordion-target="item"]');
      const clickedIndex = this.itemTargets.indexOf(clickedItem);
      this.itemTargets.forEach((item, index) => {
        if (index === clickedIndex) {
          this.toggleItem(item);
        } else {
          this.closeItem(item);
        }
      });
    }
    toggleItem(item) {
      const isOpen = item.dataset.uiAccordionOpenValue === "true";
      if (isOpen) {
        this.closeItem(item);
      } else {
        this.openItem(item);
      }
    }
    openItem(item) {
      const content = item.querySelector('[data-ui-accordion-target="content"]');
      const button = item.querySelector("button");
      item.dataset.uiAccordionOpenValue = "true";
      content.dataset.uiAccordionOpenValue = "true";
      content.removeAttribute("hidden");
      button.setAttribute("aria-expanded", "true");
    }
    closeItem(item) {
      const content = item.querySelector('[data-ui-accordion-target="content"]');
      const button = item.querySelector("button");
      item.dataset.uiAccordionOpenValue = "false";
      content.dataset.uiAccordionOpenValue = "false";
      content.setAttribute("hidden", "");
      button.setAttribute("aria-expanded", "false");
    }
  };
  __publicField(accordion_default, "targets", ["item", "content"]);

  // ../../app/ui/components/rails_ui/accordion_item/index.js
  var accordion_item_exports = {};

  // ../../app/ui/components/rails_ui/alert/index.js
  var alert_exports = {};

  // ../../app/ui/components/rails_ui/alert_dialog/index.js
  var alert_dialog_exports = {};
  __export(alert_dialog_exports, {
    default: () => alert_dialog_default
  });

  // node_modules/stimulus-use/dist/index.js
  var composeEventName = (name, controller, eventPrefix) => {
    let composedName = name;
    if (eventPrefix === true) {
      composedName = `${controller.identifier}:${name}`;
    } else if (typeof eventPrefix === "string") {
      composedName = `${eventPrefix}:${name}`;
    }
    return composedName;
  };
  var extendedEvent = (type, event, detail) => {
    const { bubbles, cancelable, composed } = event || {
      bubbles: true,
      cancelable: true,
      composed: true
    };
    if (event) {
      Object.assign(detail, {
        originalEvent: event
      });
    }
    const customEvent = new CustomEvent(type, {
      bubbles,
      cancelable,
      composed,
      detail
    });
    return customEvent;
  };
  function isElementInViewport(el) {
    const rect = el.getBoundingClientRect();
    const windowHeight = window.innerHeight || document.documentElement.clientHeight;
    const windowWidth = window.innerWidth || document.documentElement.clientWidth;
    const vertInView = rect.top <= windowHeight && rect.top + rect.height > 0;
    const horInView = rect.left <= windowWidth && rect.left + rect.width > 0;
    return vertInView && horInView;
  }
  var defaultOptions$5 = {
    events: ["click", "touchend"],
    onlyVisible: true,
    dispatchEvent: true,
    eventPrefix: true
  };
  var useClickOutside = (composableController, options = {}) => {
    const controller = composableController;
    const { onlyVisible, dispatchEvent, events, eventPrefix } = Object.assign({}, defaultOptions$5, options);
    const onEvent = (event) => {
      const targetElement = (options === null || options === void 0 ? void 0 : options.element) || controller.element;
      if (targetElement.contains(event.target) || !isElementInViewport(targetElement) && onlyVisible) {
        return;
      }
      if (controller.clickOutside) {
        controller.clickOutside(event);
      }
      if (dispatchEvent) {
        const eventName = composeEventName("click:outside", controller, eventPrefix);
        const clickOutsideEvent = extendedEvent(eventName, event, {
          controller
        });
        targetElement.dispatchEvent(clickOutsideEvent);
      }
    };
    const observe = () => {
      events === null || events === void 0 ? void 0 : events.forEach((event) => {
        window.addEventListener(event, onEvent, true);
      });
    };
    const unobserve = () => {
      events === null || events === void 0 ? void 0 : events.forEach((event) => {
        window.removeEventListener(event, onEvent, true);
      });
    };
    const controllerDisconnect = controller.disconnect.bind(controller);
    Object.assign(controller, {
      disconnect() {
        unobserve();
        controllerDisconnect();
      }
    });
    observe();
    return [observe, unobserve];
  };
  var DebounceController = class extends Controller {
  };
  DebounceController.debounces = [];
  var ThrottleController = class extends Controller {
  };
  ThrottleController.throttles = [];
  var alpineNames = {
    enterFromClass: "enter",
    enterActiveClass: "enterStart",
    enterToClass: "enterEnd",
    leaveFromClass: "leave",
    leaveActiveClass: "leaveStart",
    leaveToClass: "leaveEnd"
  };
  var defaultOptions = {
    transitioned: false,
    hiddenClass: "hidden",
    preserveOriginalClass: true,
    removeToClasses: true
  };
  var useTransition = (composableController, options = {}) => {
    var _a, _b, _c;
    const controller = composableController;
    const targetName = controller.element.dataset.transitionTarget;
    let targetFromAttribute;
    if (targetName) {
      targetFromAttribute = controller[`${targetName}Target`];
    }
    const targetElement = (options === null || options === void 0 ? void 0 : options.element) || targetFromAttribute || controller.element;
    if (!(targetElement instanceof HTMLElement || targetElement instanceof SVGElement)) return;
    const dataset = targetElement.dataset;
    const leaveAfter = parseInt(dataset.leaveAfter || "") || options.leaveAfter || 0;
    const { transitioned, hiddenClass, preserveOriginalClass, removeToClasses } = Object.assign({}, defaultOptions, options);
    const controllerEnter = (_a = controller.enter) === null || _a === void 0 ? void 0 : _a.bind(controller);
    const controllerLeave = (_b = controller.leave) === null || _b === void 0 ? void 0 : _b.bind(controller);
    const controllerToggleTransition = (_c = controller.toggleTransition) === null || _c === void 0 ? void 0 : _c.bind(controller);
    async function enter2(event) {
      if (controller.transitioned) return;
      controller.transitioned = true;
      controllerEnter && controllerEnter(event);
      const enterFromClasses = getAttribute("enterFrom", options, dataset);
      const enterActiveClasses = getAttribute("enterActive", options, dataset);
      const enterToClasses = getAttribute("enterTo", options, dataset);
      const leaveToClasses = getAttribute("leaveTo", options, dataset);
      if (!!hiddenClass) {
        targetElement.classList.remove(hiddenClass);
      }
      if (!removeToClasses) {
        removeClasses2(targetElement, leaveToClasses);
      }
      await transition2(targetElement, enterFromClasses, enterActiveClasses, enterToClasses, hiddenClass, preserveOriginalClass, removeToClasses);
      if (leaveAfter > 0) {
        setTimeout(() => {
          leave2(event);
        }, leaveAfter);
      }
    }
    async function leave2(event) {
      if (!controller.transitioned) return;
      controller.transitioned = false;
      controllerLeave && controllerLeave(event);
      const leaveFromClasses = getAttribute("leaveFrom", options, dataset);
      const leaveActiveClasses = getAttribute("leaveActive", options, dataset);
      const leaveToClasses = getAttribute("leaveTo", options, dataset);
      const enterToClasses = getAttribute("enterTo", options, dataset);
      if (!removeToClasses) {
        removeClasses2(targetElement, enterToClasses);
      }
      await transition2(targetElement, leaveFromClasses, leaveActiveClasses, leaveToClasses, hiddenClass, preserveOriginalClass, removeToClasses);
      if (!!hiddenClass) {
        targetElement.classList.add(hiddenClass);
      }
    }
    function toggleTransition(event) {
      controllerToggleTransition && controllerToggleTransition(event);
      if (controller.transitioned) {
        leave2();
      } else {
        enter2();
      }
    }
    async function transition2(element, initialClasses, activeClasses, endClasses, hiddenClass2, preserveOriginalClass2, removeEndClasses) {
      const stashedClasses = [];
      if (preserveOriginalClass2) {
        initialClasses.forEach((cls) => element.classList.contains(cls) && cls !== hiddenClass2 && stashedClasses.push(cls));
        activeClasses.forEach((cls) => element.classList.contains(cls) && cls !== hiddenClass2 && stashedClasses.push(cls));
        endClasses.forEach((cls) => element.classList.contains(cls) && cls !== hiddenClass2 && stashedClasses.push(cls));
      }
      addClasses2(element, initialClasses);
      removeClasses2(element, stashedClasses);
      addClasses2(element, activeClasses);
      await nextAnimationFrame();
      removeClasses2(element, initialClasses);
      addClasses2(element, endClasses);
      await afterTransition(element);
      removeClasses2(element, activeClasses);
      if (removeEndClasses) {
        removeClasses2(element, endClasses);
      }
      addClasses2(element, stashedClasses);
    }
    function initialState() {
      controller.transitioned = transitioned;
      if (transitioned) {
        if (!!hiddenClass) {
          targetElement.classList.remove(hiddenClass);
        }
        enter2();
      } else {
        if (!!hiddenClass) {
          targetElement.classList.add(hiddenClass);
        }
        leave2();
      }
    }
    function addClasses2(element, classes) {
      if (classes.length > 0) {
        element.classList.add(...classes);
      }
    }
    function removeClasses2(element, classes) {
      if (classes.length > 0) {
        element.classList.remove(...classes);
      }
    }
    initialState();
    Object.assign(controller, {
      enter: enter2,
      leave: leave2,
      toggleTransition
    });
    return [enter2, leave2, toggleTransition];
  };
  function getAttribute(name, options, dataset) {
    const datasetName = `transition${name[0].toUpperCase()}${name.substr(1)}`;
    const datasetAlpineName = alpineNames[name];
    const classes = options[name] || dataset[datasetName] || dataset[datasetAlpineName] || " ";
    return isEmpty(classes) ? [] : classes.split(" ");
  }
  async function afterTransition(element) {
    return new Promise((resolve) => {
      const duration = Number(getComputedStyle(element).transitionDuration.split(",")[0].replace("s", "")) * 1e3;
      setTimeout(() => {
        resolve(duration);
      }, duration);
    });
  }
  async function nextAnimationFrame() {
    return new Promise((resolve) => {
      requestAnimationFrame(() => {
        requestAnimationFrame(resolve);
      });
    });
  }
  function isEmpty(str) {
    return str.length === 0 || !str.trim();
  }

  // ../../app/ui/components/rails_ui/alert_dialog/index.js
  var alert_dialog_default = class extends Controller {
    connect() {
      if (this.closeOnClickOutsideValue) {
        useClickOutside(this, { element: this.contentTarget });
      }
    }
    open() {
      this.overlayTarget.style.display = "block";
      this.contentTarget.style.display = "block";
      setTimeout(() => {
        this.overlayTarget.dataset.uiAlertDialogState = "open";
        this.contentTarget.dataset.uiAlertDialogState = "open";
      }, 10);
    }
    close() {
      this.overlayTarget.dataset.uiAlertDialogState = "closed";
      this.contentTarget.dataset.uiAlertDialogState = "closed";
      setTimeout(() => {
        this.overlayTarget.style.display = "none";
        this.contentTarget.style.display = "none";
      }, 30);
    }
    cancel(event) {
      event.preventDefault();
      this.close();
    }
    clickOutside(event) {
      if (this.closeOnClickOutsideValue) {
        this.close();
      }
    }
  };
  __publicField(alert_dialog_default, "targets", ["overlay", "content"]);
  __publicField(alert_dialog_default, "values", {
    closeOnClickOutside: Boolean
  });

  // ../../app/ui/components/rails_ui/aspect_ratio/index.js
  var aspect_ratio_exports = {};

  // ../../app/ui/components/rails_ui/avatar/index.js
  var avatar_exports = {};

  // ../../app/ui/components/rails_ui/badge/index.js
  var badge_exports = {};

  // ../../app/ui/components/rails_ui/breadcrumb/index.js
  var breadcrumb_exports = {};

  // ../../app/ui/components/rails_ui/breadcrumb_item/index.js
  var breadcrumb_item_exports = {};

  // ../../app/ui/components/rails_ui/button/index.js
  var button_exports = {};

  // ../../app/ui/components/rails_ui/calendar/index.js
  var calendar_exports = {};
  __export(calendar_exports, {
    default: () => calendar_default
  });

  // node_modules/date-fns/toDate.mjs
  function toDate(argument) {
    const argStr = Object.prototype.toString.call(argument);
    if (argument instanceof Date || typeof argument === "object" && argStr === "[object Date]") {
      return new argument.constructor(+argument);
    } else if (typeof argument === "number" || argStr === "[object Number]" || typeof argument === "string" || argStr === "[object String]") {
      return new Date(argument);
    } else {
      return /* @__PURE__ */ new Date(NaN);
    }
  }

  // node_modules/date-fns/constructFrom.mjs
  function constructFrom(date, value) {
    if (date instanceof Date) {
      return new date.constructor(value);
    } else {
      return new Date(value);
    }
  }

  // node_modules/date-fns/addMonths.mjs
  function addMonths(date, amount) {
    const _date = toDate(date);
    if (isNaN(amount)) return constructFrom(date, NaN);
    if (!amount) {
      return _date;
    }
    const dayOfMonth = _date.getDate();
    const endOfDesiredMonth = constructFrom(date, _date.getTime());
    endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);
    const daysInMonth = endOfDesiredMonth.getDate();
    if (dayOfMonth >= daysInMonth) {
      return endOfDesiredMonth;
    } else {
      _date.setFullYear(
        endOfDesiredMonth.getFullYear(),
        endOfDesiredMonth.getMonth(),
        dayOfMonth
      );
      return _date;
    }
  }

  // node_modules/date-fns/constants.mjs
  var daysInYear = 365.2425;
  var maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1e3;
  var minTime = -maxTime;
  var millisecondsInWeek = 6048e5;
  var millisecondsInDay = 864e5;
  var secondsInHour = 3600;
  var secondsInDay = secondsInHour * 24;
  var secondsInWeek = secondsInDay * 7;
  var secondsInYear = secondsInDay * daysInYear;
  var secondsInMonth = secondsInYear / 12;
  var secondsInQuarter = secondsInMonth * 3;

  // node_modules/date-fns/_lib/defaultOptions.mjs
  var defaultOptions2 = {};
  function getDefaultOptions() {
    return defaultOptions2;
  }

  // node_modules/date-fns/startOfWeek.mjs
  function startOfWeek(date, options) {
    const defaultOptions4 = getDefaultOptions();
    const weekStartsOn = options?.weekStartsOn ?? options?.locale?.options?.weekStartsOn ?? defaultOptions4.weekStartsOn ?? defaultOptions4.locale?.options?.weekStartsOn ?? 0;
    const _date = toDate(date);
    const day = _date.getDay();
    const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;
    _date.setDate(_date.getDate() - diff);
    _date.setHours(0, 0, 0, 0);
    return _date;
  }

  // node_modules/date-fns/startOfISOWeek.mjs
  function startOfISOWeek(date) {
    return startOfWeek(date, { weekStartsOn: 1 });
  }

  // node_modules/date-fns/getISOWeekYear.mjs
  function getISOWeekYear(date) {
    const _date = toDate(date);
    const year = _date.getFullYear();
    const fourthOfJanuaryOfNextYear = constructFrom(date, 0);
    fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);
    fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);
    const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);
    const fourthOfJanuaryOfThisYear = constructFrom(date, 0);
    fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);
    fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);
    const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);
    if (_date.getTime() >= startOfNextYear.getTime()) {
      return year + 1;
    } else if (_date.getTime() >= startOfThisYear.getTime()) {
      return year;
    } else {
      return year - 1;
    }
  }

  // node_modules/date-fns/startOfDay.mjs
  function startOfDay(date) {
    const _date = toDate(date);
    _date.setHours(0, 0, 0, 0);
    return _date;
  }

  // node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.mjs
  function getTimezoneOffsetInMilliseconds(date) {
    const _date = toDate(date);
    const utcDate = new Date(
      Date.UTC(
        _date.getFullYear(),
        _date.getMonth(),
        _date.getDate(),
        _date.getHours(),
        _date.getMinutes(),
        _date.getSeconds(),
        _date.getMilliseconds()
      )
    );
    utcDate.setUTCFullYear(_date.getFullYear());
    return +date - +utcDate;
  }

  // node_modules/date-fns/differenceInCalendarDays.mjs
  function differenceInCalendarDays(dateLeft, dateRight) {
    const startOfDayLeft = startOfDay(dateLeft);
    const startOfDayRight = startOfDay(dateRight);
    const timestampLeft = +startOfDayLeft - getTimezoneOffsetInMilliseconds(startOfDayLeft);
    const timestampRight = +startOfDayRight - getTimezoneOffsetInMilliseconds(startOfDayRight);
    return Math.round((timestampLeft - timestampRight) / millisecondsInDay);
  }

  // node_modules/date-fns/startOfISOWeekYear.mjs
  function startOfISOWeekYear(date) {
    const year = getISOWeekYear(date);
    const fourthOfJanuary = constructFrom(date, 0);
    fourthOfJanuary.setFullYear(year, 0, 4);
    fourthOfJanuary.setHours(0, 0, 0, 0);
    return startOfISOWeek(fourthOfJanuary);
  }

  // node_modules/date-fns/constructNow.mjs
  function constructNow(date) {
    return constructFrom(date, Date.now());
  }

  // node_modules/date-fns/isSameDay.mjs
  function isSameDay(dateLeft, dateRight) {
    const dateLeftStartOfDay = startOfDay(dateLeft);
    const dateRightStartOfDay = startOfDay(dateRight);
    return +dateLeftStartOfDay === +dateRightStartOfDay;
  }

  // node_modules/date-fns/isDate.mjs
  function isDate(value) {
    return value instanceof Date || typeof value === "object" && Object.prototype.toString.call(value) === "[object Date]";
  }

  // node_modules/date-fns/isValid.mjs
  function isValid(date) {
    if (!isDate(date) && typeof date !== "number") {
      return false;
    }
    const _date = toDate(date);
    return !isNaN(Number(_date));
  }

  // node_modules/date-fns/endOfMonth.mjs
  function endOfMonth(date) {
    const _date = toDate(date);
    const month = _date.getMonth();
    _date.setFullYear(_date.getFullYear(), month + 1, 0);
    _date.setHours(23, 59, 59, 999);
    return _date;
  }

  // node_modules/date-fns/eachDayOfInterval.mjs
  function eachDayOfInterval(interval, options) {
    const startDate = toDate(interval.start);
    const endDate = toDate(interval.end);
    let reversed = +startDate > +endDate;
    const endTime = reversed ? +startDate : +endDate;
    const currentDate = reversed ? endDate : startDate;
    currentDate.setHours(0, 0, 0, 0);
    let step = options?.step ?? 1;
    if (!step) return [];
    if (step < 0) {
      step = -step;
      reversed = !reversed;
    }
    const dates = [];
    while (+currentDate <= endTime) {
      dates.push(toDate(currentDate));
      currentDate.setDate(currentDate.getDate() + step);
      currentDate.setHours(0, 0, 0, 0);
    }
    return reversed ? dates.reverse() : dates;
  }

  // node_modules/date-fns/startOfMonth.mjs
  function startOfMonth(date) {
    const _date = toDate(date);
    _date.setDate(1);
    _date.setHours(0, 0, 0, 0);
    return _date;
  }

  // node_modules/date-fns/startOfYear.mjs
  function startOfYear(date) {
    const cleanDate = toDate(date);
    const _date = constructFrom(date, 0);
    _date.setFullYear(cleanDate.getFullYear(), 0, 1);
    _date.setHours(0, 0, 0, 0);
    return _date;
  }

  // node_modules/date-fns/endOfWeek.mjs
  function endOfWeek(date, options) {
    const defaultOptions4 = getDefaultOptions();
    const weekStartsOn = options?.weekStartsOn ?? options?.locale?.options?.weekStartsOn ?? defaultOptions4.weekStartsOn ?? defaultOptions4.locale?.options?.weekStartsOn ?? 0;
    const _date = toDate(date);
    const day = _date.getDay();
    const diff = (day < weekStartsOn ? -7 : 0) + 6 - (day - weekStartsOn);
    _date.setDate(_date.getDate() + diff);
    _date.setHours(23, 59, 59, 999);
    return _date;
  }

  // node_modules/date-fns/locale/en-US/_lib/formatDistance.mjs
  var formatDistanceLocale = {
    lessThanXSeconds: {
      one: "less than a second",
      other: "less than {{count}} seconds"
    },
    xSeconds: {
      one: "1 second",
      other: "{{count}} seconds"
    },
    halfAMinute: "half a minute",
    lessThanXMinutes: {
      one: "less than a minute",
      other: "less than {{count}} minutes"
    },
    xMinutes: {
      one: "1 minute",
      other: "{{count}} minutes"
    },
    aboutXHours: {
      one: "about 1 hour",
      other: "about {{count}} hours"
    },
    xHours: {
      one: "1 hour",
      other: "{{count}} hours"
    },
    xDays: {
      one: "1 day",
      other: "{{count}} days"
    },
    aboutXWeeks: {
      one: "about 1 week",
      other: "about {{count}} weeks"
    },
    xWeeks: {
      one: "1 week",
      other: "{{count}} weeks"
    },
    aboutXMonths: {
      one: "about 1 month",
      other: "about {{count}} months"
    },
    xMonths: {
      one: "1 month",
      other: "{{count}} months"
    },
    aboutXYears: {
      one: "about 1 year",
      other: "about {{count}} years"
    },
    xYears: {
      one: "1 year",
      other: "{{count}} years"
    },
    overXYears: {
      one: "over 1 year",
      other: "over {{count}} years"
    },
    almostXYears: {
      one: "almost 1 year",
      other: "almost {{count}} years"
    }
  };
  var formatDistance = (token, count, options) => {
    let result;
    const tokenValue = formatDistanceLocale[token];
    if (typeof tokenValue === "string") {
      result = tokenValue;
    } else if (count === 1) {
      result = tokenValue.one;
    } else {
      result = tokenValue.other.replace("{{count}}", count.toString());
    }
    if (options?.addSuffix) {
      if (options.comparison && options.comparison > 0) {
        return "in " + result;
      } else {
        return result + " ago";
      }
    }
    return result;
  };

  // node_modules/date-fns/locale/_lib/buildFormatLongFn.mjs
  function buildFormatLongFn(args) {
    return (options = {}) => {
      const width = options.width ? String(options.width) : args.defaultWidth;
      const format2 = args.formats[width] || args.formats[args.defaultWidth];
      return format2;
    };
  }

  // node_modules/date-fns/locale/en-US/_lib/formatLong.mjs
  var dateFormats = {
    full: "EEEE, MMMM do, y",
    long: "MMMM do, y",
    medium: "MMM d, y",
    short: "MM/dd/yyyy"
  };
  var timeFormats = {
    full: "h:mm:ss a zzzz",
    long: "h:mm:ss a z",
    medium: "h:mm:ss a",
    short: "h:mm a"
  };
  var dateTimeFormats = {
    full: "{{date}} 'at' {{time}}",
    long: "{{date}} 'at' {{time}}",
    medium: "{{date}}, {{time}}",
    short: "{{date}}, {{time}}"
  };
  var formatLong = {
    date: buildFormatLongFn({
      formats: dateFormats,
      defaultWidth: "full"
    }),
    time: buildFormatLongFn({
      formats: timeFormats,
      defaultWidth: "full"
    }),
    dateTime: buildFormatLongFn({
      formats: dateTimeFormats,
      defaultWidth: "full"
    })
  };

  // node_modules/date-fns/locale/en-US/_lib/formatRelative.mjs
  var formatRelativeLocale = {
    lastWeek: "'last' eeee 'at' p",
    yesterday: "'yesterday at' p",
    today: "'today at' p",
    tomorrow: "'tomorrow at' p",
    nextWeek: "eeee 'at' p",
    other: "P"
  };
  var formatRelative = (token, _date, _baseDate, _options) => formatRelativeLocale[token];

  // node_modules/date-fns/locale/_lib/buildLocalizeFn.mjs
  function buildLocalizeFn(args) {
    return (value, options) => {
      const context = options?.context ? String(options.context) : "standalone";
      let valuesArray;
      if (context === "formatting" && args.formattingValues) {
        const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;
        const width = options?.width ? String(options.width) : defaultWidth;
        valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];
      } else {
        const defaultWidth = args.defaultWidth;
        const width = options?.width ? String(options.width) : args.defaultWidth;
        valuesArray = args.values[width] || args.values[defaultWidth];
      }
      const index = args.argumentCallback ? args.argumentCallback(value) : value;
      return valuesArray[index];
    };
  }

  // node_modules/date-fns/locale/en-US/_lib/localize.mjs
  var eraValues = {
    narrow: ["B", "A"],
    abbreviated: ["BC", "AD"],
    wide: ["Before Christ", "Anno Domini"]
  };
  var quarterValues = {
    narrow: ["1", "2", "3", "4"],
    abbreviated: ["Q1", "Q2", "Q3", "Q4"],
    wide: ["1st quarter", "2nd quarter", "3rd quarter", "4th quarter"]
  };
  var monthValues = {
    narrow: ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"],
    abbreviated: [
      "Jan",
      "Feb",
      "Mar",
      "Apr",
      "May",
      "Jun",
      "Jul",
      "Aug",
      "Sep",
      "Oct",
      "Nov",
      "Dec"
    ],
    wide: [
      "January",
      "February",
      "March",
      "April",
      "May",
      "June",
      "July",
      "August",
      "September",
      "October",
      "November",
      "December"
    ]
  };
  var dayValues = {
    narrow: ["S", "M", "T", "W", "T", "F", "S"],
    short: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
    abbreviated: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
    wide: [
      "Sunday",
      "Monday",
      "Tuesday",
      "Wednesday",
      "Thursday",
      "Friday",
      "Saturday"
    ]
  };
  var dayPeriodValues = {
    narrow: {
      am: "a",
      pm: "p",
      midnight: "mi",
      noon: "n",
      morning: "morning",
      afternoon: "afternoon",
      evening: "evening",
      night: "night"
    },
    abbreviated: {
      am: "AM",
      pm: "PM",
      midnight: "midnight",
      noon: "noon",
      morning: "morning",
      afternoon: "afternoon",
      evening: "evening",
      night: "night"
    },
    wide: {
      am: "a.m.",
      pm: "p.m.",
      midnight: "midnight",
      noon: "noon",
      morning: "morning",
      afternoon: "afternoon",
      evening: "evening",
      night: "night"
    }
  };
  var formattingDayPeriodValues = {
    narrow: {
      am: "a",
      pm: "p",
      midnight: "mi",
      noon: "n",
      morning: "in the morning",
      afternoon: "in the afternoon",
      evening: "in the evening",
      night: "at night"
    },
    abbreviated: {
      am: "AM",
      pm: "PM",
      midnight: "midnight",
      noon: "noon",
      morning: "in the morning",
      afternoon: "in the afternoon",
      evening: "in the evening",
      night: "at night"
    },
    wide: {
      am: "a.m.",
      pm: "p.m.",
      midnight: "midnight",
      noon: "noon",
      morning: "in the morning",
      afternoon: "in the afternoon",
      evening: "in the evening",
      night: "at night"
    }
  };
  var ordinalNumber = (dirtyNumber, _options) => {
    const number = Number(dirtyNumber);
    const rem100 = number % 100;
    if (rem100 > 20 || rem100 < 10) {
      switch (rem100 % 10) {
        case 1:
          return number + "st";
        case 2:
          return number + "nd";
        case 3:
          return number + "rd";
      }
    }
    return number + "th";
  };
  var localize = {
    ordinalNumber,
    era: buildLocalizeFn({
      values: eraValues,
      defaultWidth: "wide"
    }),
    quarter: buildLocalizeFn({
      values: quarterValues,
      defaultWidth: "wide",
      argumentCallback: (quarter) => quarter - 1
    }),
    month: buildLocalizeFn({
      values: monthValues,
      defaultWidth: "wide"
    }),
    day: buildLocalizeFn({
      values: dayValues,
      defaultWidth: "wide"
    }),
    dayPeriod: buildLocalizeFn({
      values: dayPeriodValues,
      defaultWidth: "wide",
      formattingValues: formattingDayPeriodValues,
      defaultFormattingWidth: "wide"
    })
  };

  // node_modules/date-fns/locale/_lib/buildMatchFn.mjs
  function buildMatchFn(args) {
    return (string, options = {}) => {
      const width = options.width;
      const matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];
      const matchResult = string.match(matchPattern);
      if (!matchResult) {
        return null;
      }
      const matchedString = matchResult[0];
      const parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];
      const key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString)) : (
        // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type
        findKey(parsePatterns, (pattern) => pattern.test(matchedString))
      );
      let value;
      value = args.valueCallback ? args.valueCallback(key) : key;
      value = options.valueCallback ? (
        // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type
        options.valueCallback(value)
      ) : value;
      const rest = string.slice(matchedString.length);
      return { value, rest };
    };
  }
  function findKey(object, predicate) {
    for (const key in object) {
      if (Object.prototype.hasOwnProperty.call(object, key) && predicate(object[key])) {
        return key;
      }
    }
    return void 0;
  }
  function findIndex(array, predicate) {
    for (let key = 0; key < array.length; key++) {
      if (predicate(array[key])) {
        return key;
      }
    }
    return void 0;
  }

  // node_modules/date-fns/locale/_lib/buildMatchPatternFn.mjs
  function buildMatchPatternFn(args) {
    return (string, options = {}) => {
      const matchResult = string.match(args.matchPattern);
      if (!matchResult) return null;
      const matchedString = matchResult[0];
      const parseResult = string.match(args.parsePattern);
      if (!parseResult) return null;
      let value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];
      value = options.valueCallback ? options.valueCallback(value) : value;
      const rest = string.slice(matchedString.length);
      return { value, rest };
    };
  }

  // node_modules/date-fns/locale/en-US/_lib/match.mjs
  var matchOrdinalNumberPattern = /^(\d+)(th|st|nd|rd)?/i;
  var parseOrdinalNumberPattern = /\d+/i;
  var matchEraPatterns = {
    narrow: /^(b|a)/i,
    abbreviated: /^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,
    wide: /^(before christ|before common era|anno domini|common era)/i
  };
  var parseEraPatterns = {
    any: [/^b/i, /^(a|c)/i]
  };
  var matchQuarterPatterns = {
    narrow: /^[1234]/i,
    abbreviated: /^q[1234]/i,
    wide: /^[1234](th|st|nd|rd)? quarter/i
  };
  var parseQuarterPatterns = {
    any: [/1/i, /2/i, /3/i, /4/i]
  };
  var matchMonthPatterns = {
    narrow: /^[jfmasond]/i,
    abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,
    wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i
  };
  var parseMonthPatterns = {
    narrow: [
      /^j/i,
      /^f/i,
      /^m/i,
      /^a/i,
      /^m/i,
      /^j/i,
      /^j/i,
      /^a/i,
      /^s/i,
      /^o/i,
      /^n/i,
      /^d/i
    ],
    any: [
      /^ja/i,
      /^f/i,
      /^mar/i,
      /^ap/i,
      /^may/i,
      /^jun/i,
      /^jul/i,
      /^au/i,
      /^s/i,
      /^o/i,
      /^n/i,
      /^d/i
    ]
  };
  var matchDayPatterns = {
    narrow: /^[smtwf]/i,
    short: /^(su|mo|tu|we|th|fr|sa)/i,
    abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,
    wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i
  };
  var parseDayPatterns = {
    narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],
    any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]
  };
  var matchDayPeriodPatterns = {
    narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,
    any: /^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i
  };
  var parseDayPeriodPatterns = {
    any: {
      am: /^a/i,
      pm: /^p/i,
      midnight: /^mi/i,
      noon: /^no/i,
      morning: /morning/i,
      afternoon: /afternoon/i,
      evening: /evening/i,
      night: /night/i
    }
  };
  var match = {
    ordinalNumber: buildMatchPatternFn({
      matchPattern: matchOrdinalNumberPattern,
      parsePattern: parseOrdinalNumberPattern,
      valueCallback: (value) => parseInt(value, 10)
    }),
    era: buildMatchFn({
      matchPatterns: matchEraPatterns,
      defaultMatchWidth: "wide",
      parsePatterns: parseEraPatterns,
      defaultParseWidth: "any"
    }),
    quarter: buildMatchFn({
      matchPatterns: matchQuarterPatterns,
      defaultMatchWidth: "wide",
      parsePatterns: parseQuarterPatterns,
      defaultParseWidth: "any",
      valueCallback: (index) => index + 1
    }),
    month: buildMatchFn({
      matchPatterns: matchMonthPatterns,
      defaultMatchWidth: "wide",
      parsePatterns: parseMonthPatterns,
      defaultParseWidth: "any"
    }),
    day: buildMatchFn({
      matchPatterns: matchDayPatterns,
      defaultMatchWidth: "wide",
      parsePatterns: parseDayPatterns,
      defaultParseWidth: "any"
    }),
    dayPeriod: buildMatchFn({
      matchPatterns: matchDayPeriodPatterns,
      defaultMatchWidth: "any",
      parsePatterns: parseDayPeriodPatterns,
      defaultParseWidth: "any"
    })
  };

  // node_modules/date-fns/locale/en-US.mjs
  var enUS = {
    code: "en-US",
    formatDistance,
    formatLong,
    formatRelative,
    localize,
    match,
    options: {
      weekStartsOn: 0,
      firstWeekContainsDate: 1
    }
  };

  // node_modules/date-fns/getDayOfYear.mjs
  function getDayOfYear(date) {
    const _date = toDate(date);
    const diff = differenceInCalendarDays(_date, startOfYear(_date));
    const dayOfYear = diff + 1;
    return dayOfYear;
  }

  // node_modules/date-fns/getISOWeek.mjs
  function getISOWeek(date) {
    const _date = toDate(date);
    const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);
    return Math.round(diff / millisecondsInWeek) + 1;
  }

  // node_modules/date-fns/getWeekYear.mjs
  function getWeekYear(date, options) {
    const _date = toDate(date);
    const year = _date.getFullYear();
    const defaultOptions4 = getDefaultOptions();
    const firstWeekContainsDate = options?.firstWeekContainsDate ?? options?.locale?.options?.firstWeekContainsDate ?? defaultOptions4.firstWeekContainsDate ?? defaultOptions4.locale?.options?.firstWeekContainsDate ?? 1;
    const firstWeekOfNextYear = constructFrom(date, 0);
    firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);
    firstWeekOfNextYear.setHours(0, 0, 0, 0);
    const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);
    const firstWeekOfThisYear = constructFrom(date, 0);
    firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);
    firstWeekOfThisYear.setHours(0, 0, 0, 0);
    const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);
    if (_date.getTime() >= startOfNextYear.getTime()) {
      return year + 1;
    } else if (_date.getTime() >= startOfThisYear.getTime()) {
      return year;
    } else {
      return year - 1;
    }
  }

  // node_modules/date-fns/startOfWeekYear.mjs
  function startOfWeekYear(date, options) {
    const defaultOptions4 = getDefaultOptions();
    const firstWeekContainsDate = options?.firstWeekContainsDate ?? options?.locale?.options?.firstWeekContainsDate ?? defaultOptions4.firstWeekContainsDate ?? defaultOptions4.locale?.options?.firstWeekContainsDate ?? 1;
    const year = getWeekYear(date, options);
    const firstWeek = constructFrom(date, 0);
    firstWeek.setFullYear(year, 0, firstWeekContainsDate);
    firstWeek.setHours(0, 0, 0, 0);
    const _date = startOfWeek(firstWeek, options);
    return _date;
  }

  // node_modules/date-fns/getWeek.mjs
  function getWeek(date, options) {
    const _date = toDate(date);
    const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);
    return Math.round(diff / millisecondsInWeek) + 1;
  }

  // node_modules/date-fns/_lib/addLeadingZeros.mjs
  function addLeadingZeros(number, targetLength) {
    const sign = number < 0 ? "-" : "";
    const output = Math.abs(number).toString().padStart(targetLength, "0");
    return sign + output;
  }

  // node_modules/date-fns/_lib/format/lightFormatters.mjs
  var lightFormatters = {
    // Year
    y(date, token) {
      const signedYear = date.getFullYear();
      const year = signedYear > 0 ? signedYear : 1 - signedYear;
      return addLeadingZeros(token === "yy" ? year % 100 : year, token.length);
    },
    // Month
    M(date, token) {
      const month = date.getMonth();
      return token === "M" ? String(month + 1) : addLeadingZeros(month + 1, 2);
    },
    // Day of the month
    d(date, token) {
      return addLeadingZeros(date.getDate(), token.length);
    },
    // AM or PM
    a(date, token) {
      const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? "pm" : "am";
      switch (token) {
        case "a":
        case "aa":
          return dayPeriodEnumValue.toUpperCase();
        case "aaa":
          return dayPeriodEnumValue;
        case "aaaaa":
          return dayPeriodEnumValue[0];
        case "aaaa":
        default:
          return dayPeriodEnumValue === "am" ? "a.m." : "p.m.";
      }
    },
    // Hour [1-12]
    h(date, token) {
      return addLeadingZeros(date.getHours() % 12 || 12, token.length);
    },
    // Hour [0-23]
    H(date, token) {
      return addLeadingZeros(date.getHours(), token.length);
    },
    // Minute
    m(date, token) {
      return addLeadingZeros(date.getMinutes(), token.length);
    },
    // Second
    s(date, token) {
      return addLeadingZeros(date.getSeconds(), token.length);
    },
    // Fraction of second
    S(date, token) {
      const numberOfDigits = token.length;
      const milliseconds = date.getMilliseconds();
      const fractionalSeconds = Math.trunc(
        milliseconds * Math.pow(10, numberOfDigits - 3)
      );
      return addLeadingZeros(fractionalSeconds, token.length);
    }
  };

  // node_modules/date-fns/_lib/format/formatters.mjs
  var dayPeriodEnum = {
    am: "am",
    pm: "pm",
    midnight: "midnight",
    noon: "noon",
    morning: "morning",
    afternoon: "afternoon",
    evening: "evening",
    night: "night"
  };
  var formatters = {
    // Era
    G: function(date, token, localize2) {
      const era = date.getFullYear() > 0 ? 1 : 0;
      switch (token) {
        case "G":
        case "GG":
        case "GGG":
          return localize2.era(era, { width: "abbreviated" });
        case "GGGGG":
          return localize2.era(era, { width: "narrow" });
        case "GGGG":
        default:
          return localize2.era(era, { width: "wide" });
      }
    },
    // Year
    y: function(date, token, localize2) {
      if (token === "yo") {
        const signedYear = date.getFullYear();
        const year = signedYear > 0 ? signedYear : 1 - signedYear;
        return localize2.ordinalNumber(year, { unit: "year" });
      }
      return lightFormatters.y(date, token);
    },
    // Local week-numbering year
    Y: function(date, token, localize2, options) {
      const signedWeekYear = getWeekYear(date, options);
      const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;
      if (token === "YY") {
        const twoDigitYear = weekYear % 100;
        return addLeadingZeros(twoDigitYear, 2);
      }
      if (token === "Yo") {
        return localize2.ordinalNumber(weekYear, { unit: "year" });
      }
      return addLeadingZeros(weekYear, token.length);
    },
    // ISO week-numbering year
    R: function(date, token) {
      const isoWeekYear = getISOWeekYear(date);
      return addLeadingZeros(isoWeekYear, token.length);
    },
    // Extended year. This is a single number designating the year of this calendar system.
    // The main difference between `y` and `u` localizers are B.C. years:
    // | Year | `y` | `u` |
    // |------|-----|-----|
    // | AC 1 |   1 |   1 |
    // | BC 1 |   1 |   0 |
    // | BC 2 |   2 |  -1 |
    // Also `yy` always returns the last two digits of a year,
    // while `uu` pads single digit years to 2 characters and returns other years unchanged.
    u: function(date, token) {
      const year = date.getFullYear();
      return addLeadingZeros(year, token.length);
    },
    // Quarter
    Q: function(date, token, localize2) {
      const quarter = Math.ceil((date.getMonth() + 1) / 3);
      switch (token) {
        case "Q":
          return String(quarter);
        case "QQ":
          return addLeadingZeros(quarter, 2);
        case "Qo":
          return localize2.ordinalNumber(quarter, { unit: "quarter" });
        case "QQQ":
          return localize2.quarter(quarter, {
            width: "abbreviated",
            context: "formatting"
          });
        case "QQQQQ":
          return localize2.quarter(quarter, {
            width: "narrow",
            context: "formatting"
          });
        case "QQQQ":
        default:
          return localize2.quarter(quarter, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // Stand-alone quarter
    q: function(date, token, localize2) {
      const quarter = Math.ceil((date.getMonth() + 1) / 3);
      switch (token) {
        case "q":
          return String(quarter);
        case "qq":
          return addLeadingZeros(quarter, 2);
        case "qo":
          return localize2.ordinalNumber(quarter, { unit: "quarter" });
        case "qqq":
          return localize2.quarter(quarter, {
            width: "abbreviated",
            context: "standalone"
          });
        case "qqqqq":
          return localize2.quarter(quarter, {
            width: "narrow",
            context: "standalone"
          });
        case "qqqq":
        default:
          return localize2.quarter(quarter, {
            width: "wide",
            context: "standalone"
          });
      }
    },
    // Month
    M: function(date, token, localize2) {
      const month = date.getMonth();
      switch (token) {
        case "M":
        case "MM":
          return lightFormatters.M(date, token);
        case "Mo":
          return localize2.ordinalNumber(month + 1, { unit: "month" });
        case "MMM":
          return localize2.month(month, {
            width: "abbreviated",
            context: "formatting"
          });
        case "MMMMM":
          return localize2.month(month, {
            width: "narrow",
            context: "formatting"
          });
        case "MMMM":
        default:
          return localize2.month(month, { width: "wide", context: "formatting" });
      }
    },
    // Stand-alone month
    L: function(date, token, localize2) {
      const month = date.getMonth();
      switch (token) {
        case "L":
          return String(month + 1);
        case "LL":
          return addLeadingZeros(month + 1, 2);
        case "Lo":
          return localize2.ordinalNumber(month + 1, { unit: "month" });
        case "LLL":
          return localize2.month(month, {
            width: "abbreviated",
            context: "standalone"
          });
        case "LLLLL":
          return localize2.month(month, {
            width: "narrow",
            context: "standalone"
          });
        case "LLLL":
        default:
          return localize2.month(month, { width: "wide", context: "standalone" });
      }
    },
    // Local week of year
    w: function(date, token, localize2, options) {
      const week = getWeek(date, options);
      if (token === "wo") {
        return localize2.ordinalNumber(week, { unit: "week" });
      }
      return addLeadingZeros(week, token.length);
    },
    // ISO week of year
    I: function(date, token, localize2) {
      const isoWeek = getISOWeek(date);
      if (token === "Io") {
        return localize2.ordinalNumber(isoWeek, { unit: "week" });
      }
      return addLeadingZeros(isoWeek, token.length);
    },
    // Day of the month
    d: function(date, token, localize2) {
      if (token === "do") {
        return localize2.ordinalNumber(date.getDate(), { unit: "date" });
      }
      return lightFormatters.d(date, token);
    },
    // Day of year
    D: function(date, token, localize2) {
      const dayOfYear = getDayOfYear(date);
      if (token === "Do") {
        return localize2.ordinalNumber(dayOfYear, { unit: "dayOfYear" });
      }
      return addLeadingZeros(dayOfYear, token.length);
    },
    // Day of week
    E: function(date, token, localize2) {
      const dayOfWeek = date.getDay();
      switch (token) {
        case "E":
        case "EE":
        case "EEE":
          return localize2.day(dayOfWeek, {
            width: "abbreviated",
            context: "formatting"
          });
        case "EEEEE":
          return localize2.day(dayOfWeek, {
            width: "narrow",
            context: "formatting"
          });
        case "EEEEEE":
          return localize2.day(dayOfWeek, {
            width: "short",
            context: "formatting"
          });
        case "EEEE":
        default:
          return localize2.day(dayOfWeek, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // Local day of week
    e: function(date, token, localize2, options) {
      const dayOfWeek = date.getDay();
      const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;
      switch (token) {
        case "e":
          return String(localDayOfWeek);
        case "ee":
          return addLeadingZeros(localDayOfWeek, 2);
        case "eo":
          return localize2.ordinalNumber(localDayOfWeek, { unit: "day" });
        case "eee":
          return localize2.day(dayOfWeek, {
            width: "abbreviated",
            context: "formatting"
          });
        case "eeeee":
          return localize2.day(dayOfWeek, {
            width: "narrow",
            context: "formatting"
          });
        case "eeeeee":
          return localize2.day(dayOfWeek, {
            width: "short",
            context: "formatting"
          });
        case "eeee":
        default:
          return localize2.day(dayOfWeek, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // Stand-alone local day of week
    c: function(date, token, localize2, options) {
      const dayOfWeek = date.getDay();
      const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;
      switch (token) {
        case "c":
          return String(localDayOfWeek);
        case "cc":
          return addLeadingZeros(localDayOfWeek, token.length);
        case "co":
          return localize2.ordinalNumber(localDayOfWeek, { unit: "day" });
        case "ccc":
          return localize2.day(dayOfWeek, {
            width: "abbreviated",
            context: "standalone"
          });
        case "ccccc":
          return localize2.day(dayOfWeek, {
            width: "narrow",
            context: "standalone"
          });
        case "cccccc":
          return localize2.day(dayOfWeek, {
            width: "short",
            context: "standalone"
          });
        case "cccc":
        default:
          return localize2.day(dayOfWeek, {
            width: "wide",
            context: "standalone"
          });
      }
    },
    // ISO day of week
    i: function(date, token, localize2) {
      const dayOfWeek = date.getDay();
      const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;
      switch (token) {
        case "i":
          return String(isoDayOfWeek);
        case "ii":
          return addLeadingZeros(isoDayOfWeek, token.length);
        case "io":
          return localize2.ordinalNumber(isoDayOfWeek, { unit: "day" });
        case "iii":
          return localize2.day(dayOfWeek, {
            width: "abbreviated",
            context: "formatting"
          });
        case "iiiii":
          return localize2.day(dayOfWeek, {
            width: "narrow",
            context: "formatting"
          });
        case "iiiiii":
          return localize2.day(dayOfWeek, {
            width: "short",
            context: "formatting"
          });
        case "iiii":
        default:
          return localize2.day(dayOfWeek, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // AM or PM
    a: function(date, token, localize2) {
      const hours = date.getHours();
      const dayPeriodEnumValue = hours / 12 >= 1 ? "pm" : "am";
      switch (token) {
        case "a":
        case "aa":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          });
        case "aaa":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          }).toLowerCase();
        case "aaaaa":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "narrow",
            context: "formatting"
          });
        case "aaaa":
        default:
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // AM, PM, midnight, noon
    b: function(date, token, localize2) {
      const hours = date.getHours();
      let dayPeriodEnumValue;
      if (hours === 12) {
        dayPeriodEnumValue = dayPeriodEnum.noon;
      } else if (hours === 0) {
        dayPeriodEnumValue = dayPeriodEnum.midnight;
      } else {
        dayPeriodEnumValue = hours / 12 >= 1 ? "pm" : "am";
      }
      switch (token) {
        case "b":
        case "bb":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          });
        case "bbb":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          }).toLowerCase();
        case "bbbbb":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "narrow",
            context: "formatting"
          });
        case "bbbb":
        default:
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // in the morning, in the afternoon, in the evening, at night
    B: function(date, token, localize2) {
      const hours = date.getHours();
      let dayPeriodEnumValue;
      if (hours >= 17) {
        dayPeriodEnumValue = dayPeriodEnum.evening;
      } else if (hours >= 12) {
        dayPeriodEnumValue = dayPeriodEnum.afternoon;
      } else if (hours >= 4) {
        dayPeriodEnumValue = dayPeriodEnum.morning;
      } else {
        dayPeriodEnumValue = dayPeriodEnum.night;
      }
      switch (token) {
        case "B":
        case "BB":
        case "BBB":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          });
        case "BBBBB":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "narrow",
            context: "formatting"
          });
        case "BBBB":
        default:
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // Hour [1-12]
    h: function(date, token, localize2) {
      if (token === "ho") {
        let hours = date.getHours() % 12;
        if (hours === 0) hours = 12;
        return localize2.ordinalNumber(hours, { unit: "hour" });
      }
      return lightFormatters.h(date, token);
    },
    // Hour [0-23]
    H: function(date, token, localize2) {
      if (token === "Ho") {
        return localize2.ordinalNumber(date.getHours(), { unit: "hour" });
      }
      return lightFormatters.H(date, token);
    },
    // Hour [0-11]
    K: function(date, token, localize2) {
      const hours = date.getHours() % 12;
      if (token === "Ko") {
        return localize2.ordinalNumber(hours, { unit: "hour" });
      }
      return addLeadingZeros(hours, token.length);
    },
    // Hour [1-24]
    k: function(date, token, localize2) {
      let hours = date.getHours();
      if (hours === 0) hours = 24;
      if (token === "ko") {
        return localize2.ordinalNumber(hours, { unit: "hour" });
      }
      return addLeadingZeros(hours, token.length);
    },
    // Minute
    m: function(date, token, localize2) {
      if (token === "mo") {
        return localize2.ordinalNumber(date.getMinutes(), { unit: "minute" });
      }
      return lightFormatters.m(date, token);
    },
    // Second
    s: function(date, token, localize2) {
      if (token === "so") {
        return localize2.ordinalNumber(date.getSeconds(), { unit: "second" });
      }
      return lightFormatters.s(date, token);
    },
    // Fraction of second
    S: function(date, token) {
      return lightFormatters.S(date, token);
    },
    // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)
    X: function(date, token, _localize) {
      const timezoneOffset = date.getTimezoneOffset();
      if (timezoneOffset === 0) {
        return "Z";
      }
      switch (token) {
        case "X":
          return formatTimezoneWithOptionalMinutes(timezoneOffset);
        case "XXXX":
        case "XX":
          return formatTimezone(timezoneOffset);
        case "XXXXX":
        case "XXX":
        default:
          return formatTimezone(timezoneOffset, ":");
      }
    },
    // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)
    x: function(date, token, _localize) {
      const timezoneOffset = date.getTimezoneOffset();
      switch (token) {
        case "x":
          return formatTimezoneWithOptionalMinutes(timezoneOffset);
        case "xxxx":
        case "xx":
          return formatTimezone(timezoneOffset);
        case "xxxxx":
        case "xxx":
        default:
          return formatTimezone(timezoneOffset, ":");
      }
    },
    // Timezone (GMT)
    O: function(date, token, _localize) {
      const timezoneOffset = date.getTimezoneOffset();
      switch (token) {
        case "O":
        case "OO":
        case "OOO":
          return "GMT" + formatTimezoneShort(timezoneOffset, ":");
        case "OOOO":
        default:
          return "GMT" + formatTimezone(timezoneOffset, ":");
      }
    },
    // Timezone (specific non-location)
    z: function(date, token, _localize) {
      const timezoneOffset = date.getTimezoneOffset();
      switch (token) {
        case "z":
        case "zz":
        case "zzz":
          return "GMT" + formatTimezoneShort(timezoneOffset, ":");
        case "zzzz":
        default:
          return "GMT" + formatTimezone(timezoneOffset, ":");
      }
    },
    // Seconds timestamp
    t: function(date, token, _localize) {
      const timestamp = Math.trunc(date.getTime() / 1e3);
      return addLeadingZeros(timestamp, token.length);
    },
    // Milliseconds timestamp
    T: function(date, token, _localize) {
      const timestamp = date.getTime();
      return addLeadingZeros(timestamp, token.length);
    }
  };
  function formatTimezoneShort(offset3, delimiter = "") {
    const sign = offset3 > 0 ? "-" : "+";
    const absOffset = Math.abs(offset3);
    const hours = Math.trunc(absOffset / 60);
    const minutes = absOffset % 60;
    if (minutes === 0) {
      return sign + String(hours);
    }
    return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);
  }
  function formatTimezoneWithOptionalMinutes(offset3, delimiter) {
    if (offset3 % 60 === 0) {
      const sign = offset3 > 0 ? "-" : "+";
      return sign + addLeadingZeros(Math.abs(offset3) / 60, 2);
    }
    return formatTimezone(offset3, delimiter);
  }
  function formatTimezone(offset3, delimiter = "") {
    const sign = offset3 > 0 ? "-" : "+";
    const absOffset = Math.abs(offset3);
    const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);
    const minutes = addLeadingZeros(absOffset % 60, 2);
    return sign + hours + delimiter + minutes;
  }

  // node_modules/date-fns/_lib/format/longFormatters.mjs
  var dateLongFormatter = (pattern, formatLong2) => {
    switch (pattern) {
      case "P":
        return formatLong2.date({ width: "short" });
      case "PP":
        return formatLong2.date({ width: "medium" });
      case "PPP":
        return formatLong2.date({ width: "long" });
      case "PPPP":
      default:
        return formatLong2.date({ width: "full" });
    }
  };
  var timeLongFormatter = (pattern, formatLong2) => {
    switch (pattern) {
      case "p":
        return formatLong2.time({ width: "short" });
      case "pp":
        return formatLong2.time({ width: "medium" });
      case "ppp":
        return formatLong2.time({ width: "long" });
      case "pppp":
      default:
        return formatLong2.time({ width: "full" });
    }
  };
  var dateTimeLongFormatter = (pattern, formatLong2) => {
    const matchResult = pattern.match(/(P+)(p+)?/) || [];
    const datePattern = matchResult[1];
    const timePattern = matchResult[2];
    if (!timePattern) {
      return dateLongFormatter(pattern, formatLong2);
    }
    let dateTimeFormat;
    switch (datePattern) {
      case "P":
        dateTimeFormat = formatLong2.dateTime({ width: "short" });
        break;
      case "PP":
        dateTimeFormat = formatLong2.dateTime({ width: "medium" });
        break;
      case "PPP":
        dateTimeFormat = formatLong2.dateTime({ width: "long" });
        break;
      case "PPPP":
      default:
        dateTimeFormat = formatLong2.dateTime({ width: "full" });
        break;
    }
    return dateTimeFormat.replace("{{date}}", dateLongFormatter(datePattern, formatLong2)).replace("{{time}}", timeLongFormatter(timePattern, formatLong2));
  };
  var longFormatters = {
    p: timeLongFormatter,
    P: dateTimeLongFormatter
  };

  // node_modules/date-fns/_lib/protectedTokens.mjs
  var dayOfYearTokenRE = /^D+$/;
  var weekYearTokenRE = /^Y+$/;
  var throwTokens = ["D", "DD", "YY", "YYYY"];
  function isProtectedDayOfYearToken(token) {
    return dayOfYearTokenRE.test(token);
  }
  function isProtectedWeekYearToken(token) {
    return weekYearTokenRE.test(token);
  }
  function warnOrThrowProtectedError(token, format2, input) {
    const _message = message(token, format2, input);
    console.warn(_message);
    if (throwTokens.includes(token)) throw new RangeError(_message);
  }
  function message(token, format2, input) {
    const subject = token[0] === "Y" ? "years" : "days of the month";
    return `Use \`${token.toLowerCase()}\` instead of \`${token}\` (in \`${format2}\`) for formatting ${subject} to the input \`${input}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;
  }

  // node_modules/date-fns/format.mjs
  var formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g;
  var longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;
  var escapedStringRegExp = /^'([^]*?)'?$/;
  var doubleQuoteRegExp = /''/g;
  var unescapedLatinCharacterRegExp = /[a-zA-Z]/;
  function format(date, formatStr, options) {
    const defaultOptions4 = getDefaultOptions();
    const locale = options?.locale ?? defaultOptions4.locale ?? enUS;
    const firstWeekContainsDate = options?.firstWeekContainsDate ?? options?.locale?.options?.firstWeekContainsDate ?? defaultOptions4.firstWeekContainsDate ?? defaultOptions4.locale?.options?.firstWeekContainsDate ?? 1;
    const weekStartsOn = options?.weekStartsOn ?? options?.locale?.options?.weekStartsOn ?? defaultOptions4.weekStartsOn ?? defaultOptions4.locale?.options?.weekStartsOn ?? 0;
    const originalDate = toDate(date);
    if (!isValid(originalDate)) {
      throw new RangeError("Invalid time value");
    }
    let parts = formatStr.match(longFormattingTokensRegExp).map((substring) => {
      const firstCharacter = substring[0];
      if (firstCharacter === "p" || firstCharacter === "P") {
        const longFormatter = longFormatters[firstCharacter];
        return longFormatter(substring, locale.formatLong);
      }
      return substring;
    }).join("").match(formattingTokensRegExp).map((substring) => {
      if (substring === "''") {
        return { isToken: false, value: "'" };
      }
      const firstCharacter = substring[0];
      if (firstCharacter === "'") {
        return { isToken: false, value: cleanEscapedString(substring) };
      }
      if (formatters[firstCharacter]) {
        return { isToken: true, value: substring };
      }
      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {
        throw new RangeError(
          "Format string contains an unescaped latin alphabet character `" + firstCharacter + "`"
        );
      }
      return { isToken: false, value: substring };
    });
    if (locale.localize.preprocessor) {
      parts = locale.localize.preprocessor(originalDate, parts);
    }
    const formatterOptions = {
      firstWeekContainsDate,
      weekStartsOn,
      locale
    };
    return parts.map((part) => {
      if (!part.isToken) return part.value;
      const token = part.value;
      if (!options?.useAdditionalWeekYearTokens && isProtectedWeekYearToken(token) || !options?.useAdditionalDayOfYearTokens && isProtectedDayOfYearToken(token)) {
        warnOrThrowProtectedError(token, formatStr, String(date));
      }
      const formatter = formatters[token[0]];
      return formatter(originalDate, token, locale.localize, formatterOptions);
    }).join("");
  }
  function cleanEscapedString(input) {
    const matched = input.match(escapedStringRegExp);
    if (!matched) {
      return input;
    }
    return matched[1].replace(doubleQuoteRegExp, "'");
  }

  // node_modules/date-fns/isSameMonth.mjs
  function isSameMonth(dateLeft, dateRight) {
    const _dateLeft = toDate(dateLeft);
    const _dateRight = toDate(dateRight);
    return _dateLeft.getFullYear() === _dateRight.getFullYear() && _dateLeft.getMonth() === _dateRight.getMonth();
  }

  // node_modules/date-fns/isToday.mjs
  function isToday(date) {
    return isSameDay(date, constructNow(date));
  }

  // ../../app/ui/components/rails_ui/calendar/index.js
  var calendar_default = class extends Controller {
    connect() {
      this.viewDate = new Date(this.viewDateValue);
      this.selectedDate = this.selectedDateValue ? new Date(this.selectedDateValue) : null;
      this.renderCalendar();
    }
    renderCalendar() {
      this.titleTarget.textContent = format(this.viewDate, "MMMM yyyy");
      const start = startOfWeek(startOfMonth(this.viewDate));
      const end = endOfWeek(endOfMonth(this.viewDate));
      const days = eachDayOfInterval({ start, end });
      const calendarContainer = this.calendarTarget;
      const weekdayHeaders = calendarContainer.querySelectorAll("div:nth-child(-n+7)");
      calendarContainer.innerHTML = "";
      weekdayHeaders.forEach((header) => calendarContainer.appendChild(header));
      days.forEach((day) => {
        const dayElement = this.createDayElement(day);
        calendarContainer.appendChild(dayElement);
      });
      this.updateInput();
    }
    createDayElement(day) {
      const template = this.dayTemplateTarget.content.cloneNode(true);
      const button = template.querySelector("button");
      button.textContent = format(day, "d");
      button.dataset.day = day.toISOString();
      let buttonClass = "hover:bg-accent hover:text-accent-foreground";
      if (!isSameMonth(day, this.viewDate)) {
        buttonClass += " text-muted-foreground";
      } else if (isToday(day)) {
        buttonClass += " bg-accent text-accent-foreground";
      }
      if (this.selectedDate && isSameDay(day, this.selectedDate)) {
        buttonClass += " bg-primary text-primary-foreground";
      }
      button.className = button.className.replace("{{buttonClass}}", buttonClass);
      return template;
    }
    prevMonth() {
      this.viewDate = addMonths(this.viewDate, -1);
      this.renderCalendar();
    }
    nextMonth() {
      this.viewDate = addMonths(this.viewDate, 1);
      this.renderCalendar();
    }
    selectDay(event) {
      const selectedDay = new Date(event.currentTarget.dataset.day);
      this.selectedDate = selectedDay;
      this.selectedDateValue = selectedDay.toISOString();
      this.renderCalendar();
    }
    updateInput() {
      const inputElement = document.getElementById(this.inputIdValue);
      if (inputElement && this.selectedDate) {
        inputElement.value = format(this.selectedDate, this.formatValue);
      }
    }
  };
  __publicField(calendar_default, "targets", ["title", "calendar", "dayTemplate", "input"]);
  __publicField(calendar_default, "values", {
    format: String,
    viewDate: String,
    selectedDate: { type: String, default: null },
    inputId: String
  });

  // ../../app/ui/components/rails_ui/card/index.js
  var card_exports = {};

  // ../../app/ui/components/rails_ui/carousel/index.js
  var carousel_exports = {};
  __export(carousel_exports, {
    default: () => carousel_default
  });
  var carousel_default = class extends Controller {
    connect() {
      useTransition(this, {
        element: () => this.slideTargets[this.currentIndexValue],
        enterActive: "transition ease-out duration-300",
        enterFrom: "opacity-0",
        enterTo: "opacity-100",
        leaveActive: "transition ease-in duration-300",
        leaveFrom: "opacity-100",
        leaveTo: "opacity-0"
      });
      this.updateSlidePosition();
      this.updateButtonStates();
      if (this.autoPlayValue) {
        this.startAutoPlay();
      }
    }
    disconnect() {
      this.stopAutoPlay();
    }
    next() {
      this.currentIndexValue = (this.currentIndexValue + 1) % this.slideTargets.length;
      this.updateSlidePosition();
      this.updateButtonStates();
    }
    previous() {
      this.currentIndexValue = (this.currentIndexValue - 1 + this.slideTargets.length) % this.slideTargets.length;
      this.updateSlidePosition();
      this.updateButtonStates();
    }
    updateSlidePosition() {
      const offset3 = this.currentIndexValue * -100;
      this.element.querySelector(".flex").style.transform = `translate3d(${offset3}%, 0px, 0px)`;
    }
    updateButtonStates() {
      if (this.hasPreviousButtonTarget && this.hasNextButtonTarget) {
        this.previousButtonTarget.disabled = this.currentIndexValue === 0;
        this.nextButtonTarget.disabled = this.currentIndexValue === this.slideTargets.length - 1;
      }
    }
    startAutoPlay() {
      this.autoPlayInterval = setInterval(() => {
        this.next();
      }, this.intervalValue);
    }
    stopAutoPlay() {
      if (this.autoPlayInterval) {
        clearInterval(this.autoPlayInterval);
      }
    }
  };
  __publicField(carousel_default, "targets", ["slide", "previousButton", "nextButton"]);
  __publicField(carousel_default, "values", {
    currentIndex: { type: Number, default: 0 },
    autoPlay: { type: Boolean, default: false },
    interval: { type: Number, default: 5e3 }
    // 5 seconds
  });

  // ../../app/ui/components/rails_ui/collapsible/index.js
  var collapsible_exports = {};
  __export(collapsible_exports, {
    default: () => collapsible_default
  });
  var collapsible_default = class extends Controller {
    connect() {
      this.updateVisibility();
    }
    toggle() {
      this.openValue = !this.openValue;
    }
    openValueChanged() {
      this.updateVisibility();
    }
    updateVisibility() {
      if (this.openValue) {
        this.contentTarget.classList.remove("hidden");
      } else {
        this.contentTarget.classList.add("hidden");
      }
    }
  };
  __publicField(collapsible_default, "targets", ["content"]);
  __publicField(collapsible_default, "values", {
    open: Boolean
  });

  // ../../app/ui/components/rails_ui/command/index.js
  var command_exports = {};
  __export(command_exports, {
    default: () => command_default
  });

  // node_modules/hotkeys-js/dist/hotkeys.esm.js
  var isff = typeof navigator !== "undefined" ? navigator.userAgent.toLowerCase().indexOf("firefox") > 0 : false;
  function addEvent(object, event, method, useCapture) {
    if (object.addEventListener) {
      object.addEventListener(event, method, useCapture);
    } else if (object.attachEvent) {
      object.attachEvent("on".concat(event), method);
    }
  }
  function removeEvent(object, event, method, useCapture) {
    if (object.removeEventListener) {
      object.removeEventListener(event, method, useCapture);
    } else if (object.detachEvent) {
      object.detachEvent("on".concat(event), method);
    }
  }
  function getMods(modifier, key) {
    const mods = key.slice(0, key.length - 1);
    for (let i = 0; i < mods.length; i++) mods[i] = modifier[mods[i].toLowerCase()];
    return mods;
  }
  function getKeys(key) {
    if (typeof key !== "string") key = "";
    key = key.replace(/\s/g, "");
    const keys = key.split(",");
    let index = keys.lastIndexOf("");
    for (; index >= 0; ) {
      keys[index - 1] += ",";
      keys.splice(index, 1);
      index = keys.lastIndexOf("");
    }
    return keys;
  }
  function compareArray(a1, a2) {
    const arr1 = a1.length >= a2.length ? a1 : a2;
    const arr2 = a1.length >= a2.length ? a2 : a1;
    let isIndex = true;
    for (let i = 0; i < arr1.length; i++) {
      if (arr2.indexOf(arr1[i]) === -1) isIndex = false;
    }
    return isIndex;
  }
  var _keyMap = {
    backspace: 8,
    "\u232B": 8,
    tab: 9,
    clear: 12,
    enter: 13,
    "\u21A9": 13,
    return: 13,
    esc: 27,
    escape: 27,
    space: 32,
    left: 37,
    up: 38,
    right: 39,
    down: 40,
    del: 46,
    delete: 46,
    ins: 45,
    insert: 45,
    home: 36,
    end: 35,
    pageup: 33,
    pagedown: 34,
    capslock: 20,
    num_0: 96,
    num_1: 97,
    num_2: 98,
    num_3: 99,
    num_4: 100,
    num_5: 101,
    num_6: 102,
    num_7: 103,
    num_8: 104,
    num_9: 105,
    num_multiply: 106,
    num_add: 107,
    num_enter: 108,
    num_subtract: 109,
    num_decimal: 110,
    num_divide: 111,
    "\u21EA": 20,
    ",": 188,
    ".": 190,
    "/": 191,
    "`": 192,
    "-": isff ? 173 : 189,
    "=": isff ? 61 : 187,
    ";": isff ? 59 : 186,
    "'": 222,
    "[": 219,
    "]": 221,
    "\\": 220
  };
  var _modifier = {
    // shiftKey
    "\u21E7": 16,
    shift: 16,
    // altKey
    "\u2325": 18,
    alt: 18,
    option: 18,
    // ctrlKey
    "\u2303": 17,
    ctrl: 17,
    control: 17,
    // metaKey
    "\u2318": 91,
    cmd: 91,
    command: 91
  };
  var modifierMap = {
    16: "shiftKey",
    18: "altKey",
    17: "ctrlKey",
    91: "metaKey",
    shiftKey: 16,
    ctrlKey: 17,
    altKey: 18,
    metaKey: 91
  };
  var _mods = {
    16: false,
    18: false,
    17: false,
    91: false
  };
  var _handlers = {};
  for (let k = 1; k < 20; k++) {
    _keyMap["f".concat(k)] = 111 + k;
  }
  var _downKeys = [];
  var winListendFocus = null;
  var _scope = "all";
  var elementEventMap = /* @__PURE__ */ new Map();
  var code = (x) => _keyMap[x.toLowerCase()] || _modifier[x.toLowerCase()] || x.toUpperCase().charCodeAt(0);
  var getKey = (x) => Object.keys(_keyMap).find((k) => _keyMap[k] === x);
  var getModifier = (x) => Object.keys(_modifier).find((k) => _modifier[k] === x);
  function setScope(scope) {
    _scope = scope || "all";
  }
  function getScope() {
    return _scope || "all";
  }
  function getPressedKeyCodes() {
    return _downKeys.slice(0);
  }
  function getPressedKeyString() {
    return _downKeys.map((c) => getKey(c) || getModifier(c) || String.fromCharCode(c));
  }
  function getAllKeyCodes() {
    const result = [];
    Object.keys(_handlers).forEach((k) => {
      _handlers[k].forEach((_ref) => {
        let {
          key,
          scope,
          mods,
          shortcut
        } = _ref;
        result.push({
          scope,
          shortcut,
          mods,
          keys: key.split("+").map((v) => code(v))
        });
      });
    });
    return result;
  }
  function filter(event) {
    const target = event.target || event.srcElement;
    const {
      tagName
    } = target;
    let flag = true;
    const isInput = tagName === "INPUT" && !["checkbox", "radio", "range", "button", "file", "reset", "submit", "color"].includes(target.type);
    if (target.isContentEditable || (isInput || tagName === "TEXTAREA" || tagName === "SELECT") && !target.readOnly) {
      flag = false;
    }
    return flag;
  }
  function isPressed(keyCode) {
    if (typeof keyCode === "string") {
      keyCode = code(keyCode);
    }
    return _downKeys.indexOf(keyCode) !== -1;
  }
  function deleteScope(scope, newScope) {
    let handlers;
    let i;
    if (!scope) scope = getScope();
    for (const key in _handlers) {
      if (Object.prototype.hasOwnProperty.call(_handlers, key)) {
        handlers = _handlers[key];
        for (i = 0; i < handlers.length; ) {
          if (handlers[i].scope === scope) {
            const deleteItems = handlers.splice(i, 1);
            deleteItems.forEach((_ref2) => {
              let {
                element
              } = _ref2;
              return removeKeyEvent(element);
            });
          } else {
            i++;
          }
        }
      }
    }
    if (getScope() === scope) setScope(newScope || "all");
  }
  function clearModifier(event) {
    let key = event.keyCode || event.which || event.charCode;
    const i = _downKeys.indexOf(key);
    if (i >= 0) {
      _downKeys.splice(i, 1);
    }
    if (event.key && event.key.toLowerCase() === "meta") {
      _downKeys.splice(0, _downKeys.length);
    }
    if (key === 93 || key === 224) key = 91;
    if (key in _mods) {
      _mods[key] = false;
      for (const k in _modifier) if (_modifier[k] === key) hotkeys[k] = false;
    }
  }
  function unbind(keysInfo) {
    if (typeof keysInfo === "undefined") {
      Object.keys(_handlers).forEach((key) => {
        Array.isArray(_handlers[key]) && _handlers[key].forEach((info) => eachUnbind(info));
        delete _handlers[key];
      });
      removeKeyEvent(null);
    } else if (Array.isArray(keysInfo)) {
      keysInfo.forEach((info) => {
        if (info.key) eachUnbind(info);
      });
    } else if (typeof keysInfo === "object") {
      if (keysInfo.key) eachUnbind(keysInfo);
    } else if (typeof keysInfo === "string") {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }
      let [scope, method] = args;
      if (typeof scope === "function") {
        method = scope;
        scope = "";
      }
      eachUnbind({
        key: keysInfo,
        scope,
        method,
        splitKey: "+"
      });
    }
  }
  var eachUnbind = (_ref3) => {
    let {
      key,
      scope,
      method,
      splitKey = "+"
    } = _ref3;
    const multipleKeys = getKeys(key);
    multipleKeys.forEach((originKey) => {
      const unbindKeys = originKey.split(splitKey);
      const len = unbindKeys.length;
      const lastKey = unbindKeys[len - 1];
      const keyCode = lastKey === "*" ? "*" : code(lastKey);
      if (!_handlers[keyCode]) return;
      if (!scope) scope = getScope();
      const mods = len > 1 ? getMods(_modifier, unbindKeys) : [];
      const unbindElements = [];
      _handlers[keyCode] = _handlers[keyCode].filter((record) => {
        const isMatchingMethod = method ? record.method === method : true;
        const isUnbind = isMatchingMethod && record.scope === scope && compareArray(record.mods, mods);
        if (isUnbind) unbindElements.push(record.element);
        return !isUnbind;
      });
      unbindElements.forEach((element) => removeKeyEvent(element));
    });
  };
  function eventHandler(event, handler, scope, element) {
    if (handler.element !== element) {
      return;
    }
    let modifiersMatch;
    if (handler.scope === scope || handler.scope === "all") {
      modifiersMatch = handler.mods.length > 0;
      for (const y in _mods) {
        if (Object.prototype.hasOwnProperty.call(_mods, y)) {
          if (!_mods[y] && handler.mods.indexOf(+y) > -1 || _mods[y] && handler.mods.indexOf(+y) === -1) {
            modifiersMatch = false;
          }
        }
      }
      if (handler.mods.length === 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91] || modifiersMatch || handler.shortcut === "*") {
        handler.keys = [];
        handler.keys = handler.keys.concat(_downKeys);
        if (handler.method(event, handler) === false) {
          if (event.preventDefault) event.preventDefault();
          else event.returnValue = false;
          if (event.stopPropagation) event.stopPropagation();
          if (event.cancelBubble) event.cancelBubble = true;
        }
      }
    }
  }
  function dispatch(event, element) {
    const asterisk = _handlers["*"];
    let key = event.keyCode || event.which || event.charCode;
    if (!hotkeys.filter.call(this, event)) return;
    if (key === 93 || key === 224) key = 91;
    if (_downKeys.indexOf(key) === -1 && key !== 229) _downKeys.push(key);
    ["ctrlKey", "altKey", "shiftKey", "metaKey"].forEach((keyName) => {
      const keyNum = modifierMap[keyName];
      if (event[keyName] && _downKeys.indexOf(keyNum) === -1) {
        _downKeys.push(keyNum);
      } else if (!event[keyName] && _downKeys.indexOf(keyNum) > -1) {
        _downKeys.splice(_downKeys.indexOf(keyNum), 1);
      } else if (keyName === "metaKey" && event[keyName] && _downKeys.length === 3) {
        if (!(event.ctrlKey || event.shiftKey || event.altKey)) {
          _downKeys = _downKeys.slice(_downKeys.indexOf(keyNum));
        }
      }
    });
    if (key in _mods) {
      _mods[key] = true;
      for (const k in _modifier) {
        if (_modifier[k] === key) hotkeys[k] = true;
      }
      if (!asterisk) return;
    }
    for (const e in _mods) {
      if (Object.prototype.hasOwnProperty.call(_mods, e)) {
        _mods[e] = event[modifierMap[e]];
      }
    }
    if (event.getModifierState && !(event.altKey && !event.ctrlKey) && event.getModifierState("AltGraph")) {
      if (_downKeys.indexOf(17) === -1) {
        _downKeys.push(17);
      }
      if (_downKeys.indexOf(18) === -1) {
        _downKeys.push(18);
      }
      _mods[17] = true;
      _mods[18] = true;
    }
    const scope = getScope();
    if (asterisk) {
      for (let i = 0; i < asterisk.length; i++) {
        if (asterisk[i].scope === scope && (event.type === "keydown" && asterisk[i].keydown || event.type === "keyup" && asterisk[i].keyup)) {
          eventHandler(event, asterisk[i], scope, element);
        }
      }
    }
    if (!(key in _handlers)) return;
    const handlerKey = _handlers[key];
    const keyLen = handlerKey.length;
    for (let i = 0; i < keyLen; i++) {
      if (event.type === "keydown" && handlerKey[i].keydown || event.type === "keyup" && handlerKey[i].keyup) {
        if (handlerKey[i].key) {
          const record = handlerKey[i];
          const {
            splitKey
          } = record;
          const keyShortcut = record.key.split(splitKey);
          const _downKeysCurrent = [];
          for (let a = 0; a < keyShortcut.length; a++) {
            _downKeysCurrent.push(code(keyShortcut[a]));
          }
          if (_downKeysCurrent.sort().join("") === _downKeys.sort().join("")) {
            eventHandler(event, record, scope, element);
          }
        }
      }
    }
  }
  function hotkeys(key, option, method) {
    _downKeys = [];
    const keys = getKeys(key);
    let mods = [];
    let scope = "all";
    let element = document;
    let i = 0;
    let keyup = false;
    let keydown = true;
    let splitKey = "+";
    let capture = false;
    let single = false;
    if (method === void 0 && typeof option === "function") {
      method = option;
    }
    if (Object.prototype.toString.call(option) === "[object Object]") {
      if (option.scope) scope = option.scope;
      if (option.element) element = option.element;
      if (option.keyup) keyup = option.keyup;
      if (option.keydown !== void 0) keydown = option.keydown;
      if (option.capture !== void 0) capture = option.capture;
      if (typeof option.splitKey === "string") splitKey = option.splitKey;
      if (option.single === true) single = true;
    }
    if (typeof option === "string") scope = option;
    if (single) unbind(key, scope);
    for (; i < keys.length; i++) {
      key = keys[i].split(splitKey);
      mods = [];
      if (key.length > 1) mods = getMods(_modifier, key);
      key = key[key.length - 1];
      key = key === "*" ? "*" : code(key);
      if (!(key in _handlers)) _handlers[key] = [];
      _handlers[key].push({
        keyup,
        keydown,
        scope,
        mods,
        shortcut: keys[i],
        method,
        key: keys[i],
        splitKey,
        element
      });
    }
    if (typeof element !== "undefined" && window) {
      if (!elementEventMap.has(element)) {
        const keydownListener = function() {
          let event = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : window.event;
          return dispatch(event, element);
        };
        const keyupListenr = function() {
          let event = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : window.event;
          dispatch(event, element);
          clearModifier(event);
        };
        elementEventMap.set(element, {
          keydownListener,
          keyupListenr,
          capture
        });
        addEvent(element, "keydown", keydownListener, capture);
        addEvent(element, "keyup", keyupListenr, capture);
      }
      if (!winListendFocus) {
        const listener = () => {
          _downKeys = [];
        };
        winListendFocus = {
          listener,
          capture
        };
        addEvent(window, "focus", listener, capture);
      }
    }
  }
  function trigger(shortcut) {
    let scope = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "all";
    Object.keys(_handlers).forEach((key) => {
      const dataList = _handlers[key].filter((item) => item.scope === scope && item.shortcut === shortcut);
      dataList.forEach((data) => {
        if (data && data.method) {
          data.method();
        }
      });
    });
  }
  function removeKeyEvent(element) {
    const values = Object.values(_handlers).flat();
    const findindex = values.findIndex((_ref4) => {
      let {
        element: el
      } = _ref4;
      return el === element;
    });
    if (findindex < 0) {
      const {
        keydownListener,
        keyupListenr,
        capture
      } = elementEventMap.get(element) || {};
      if (keydownListener && keyupListenr) {
        removeEvent(element, "keyup", keyupListenr, capture);
        removeEvent(element, "keydown", keydownListener, capture);
        elementEventMap.delete(element);
      }
    }
    if (values.length <= 0 || elementEventMap.size <= 0) {
      const eventKeys = Object.keys(elementEventMap);
      eventKeys.forEach((el) => {
        const {
          keydownListener,
          keyupListenr,
          capture
        } = elementEventMap.get(el) || {};
        if (keydownListener && keyupListenr) {
          removeEvent(el, "keyup", keyupListenr, capture);
          removeEvent(el, "keydown", keydownListener, capture);
          elementEventMap.delete(el);
        }
      });
      elementEventMap.clear();
      Object.keys(_handlers).forEach((key) => delete _handlers[key]);
      if (winListendFocus) {
        const {
          listener,
          capture
        } = winListendFocus;
        removeEvent(window, "focus", listener, capture);
        winListendFocus = null;
      }
    }
  }
  var _api = {
    getPressedKeyString,
    setScope,
    getScope,
    deleteScope,
    getPressedKeyCodes,
    getAllKeyCodes,
    isPressed,
    filter,
    trigger,
    unbind,
    keyMap: _keyMap,
    modifier: _modifier,
    modifierMap
  };
  for (const a in _api) {
    if (Object.prototype.hasOwnProperty.call(_api, a)) {
      hotkeys[a] = _api[a];
    }
  }
  if (typeof window !== "undefined") {
    const _hotkeys = window.hotkeys;
    hotkeys.noConflict = (deep) => {
      if (deep && window.hotkeys === hotkeys) {
        window.hotkeys = _hotkeys;
      }
      return hotkeys;
    };
    window.hotkeys = hotkeys;
  }

  // node_modules/stimulus-use/dist/hotkeys.js
  function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
    }
    return t;
  }
  var defaultOptions3 = {
    debug: false,
    logger: console,
    dispatchEvent: true,
    eventPrefix: true
  };
  var StimulusUse = class {
    constructor(controller, options = {}) {
      var _a, _b, _c;
      this.log = (functionName, args) => {
        if (!this.debug) return;
        this.logger.groupCollapsed(`%c${this.controller.identifier} %c#${functionName}`, "color: #3B82F6", "color: unset");
        this.logger.log(Object.assign({
          controllerId: this.controllerId
        }, args));
        this.logger.groupEnd();
      };
      this.warn = (message2) => {
        this.logger.warn(`%c${this.controller.identifier} %c${message2}`, "color: #3B82F6; font-weight: bold", "color: unset");
      };
      this.dispatch = (eventName, details = {}) => {
        if (this.dispatchEvent) {
          const { event } = details, eventDetails = __rest(details, ["event"]);
          const customEvent = this.extendedEvent(eventName, event || null, eventDetails);
          this.targetElement.dispatchEvent(customEvent);
          this.log("dispatchEvent", Object.assign({
            eventName: customEvent.type
          }, eventDetails));
        }
      };
      this.call = (methodName, args = {}) => {
        const method = this.controller[methodName];
        if (typeof method == "function") {
          return method.call(this.controller, args);
        }
      };
      this.extendedEvent = (name, event, detail) => {
        const { bubbles, cancelable, composed } = event || {
          bubbles: true,
          cancelable: true,
          composed: true
        };
        if (event) {
          Object.assign(detail, {
            originalEvent: event
          });
        }
        const customEvent = new CustomEvent(this.composeEventName(name), {
          bubbles,
          cancelable,
          composed,
          detail
        });
        return customEvent;
      };
      this.composeEventName = (name) => {
        let composedName = name;
        if (this.eventPrefix === true) {
          composedName = `${this.controller.identifier}:${name}`;
        } else if (typeof this.eventPrefix === "string") {
          composedName = `${this.eventPrefix}:${name}`;
        }
        return composedName;
      };
      this.debug = (_b = (_a = options === null || options === void 0 ? void 0 : options.debug) !== null && _a !== void 0 ? _a : controller.application.stimulusUseDebug) !== null && _b !== void 0 ? _b : defaultOptions3.debug;
      this.logger = (_c = options === null || options === void 0 ? void 0 : options.logger) !== null && _c !== void 0 ? _c : defaultOptions3.logger;
      this.controller = controller;
      this.controllerId = controller.element.id || controller.element.dataset.id;
      this.targetElement = (options === null || options === void 0 ? void 0 : options.element) || controller.element;
      const { dispatchEvent, eventPrefix } = Object.assign({}, defaultOptions3, options);
      Object.assign(this, {
        dispatchEvent,
        eventPrefix
      });
      this.controllerInitialize = controller.initialize.bind(controller);
      this.controllerConnect = controller.connect.bind(controller);
      this.controllerDisconnect = controller.disconnect.bind(controller);
    }
  };
  var UseHotkeys = class extends StimulusUse {
    constructor(controller, hotkeysOptions) {
      super(controller, hotkeysOptions);
      this.bind = () => {
        for (const [hotkey, definition] of Object.entries(this.hotkeysOptions.hotkeys)) {
          const handler = definition.handler.bind(this.controller);
          hotkeys(hotkey, definition.options, (e) => handler(e, e));
        }
      };
      this.unbind = () => {
        for (const hotkey in this.hotkeysOptions.hotkeys) {
          hotkeys.unbind(hotkey);
        }
      };
      this.controller = controller;
      this.hotkeysOptions = hotkeysOptions;
      this.enhanceController();
      this.bind();
    }
    enhanceController() {
      if (this.hotkeysOptions.filter) {
        hotkeys.filter = this.hotkeysOptions.filter;
      }
      const controllerDisconnect = this.controller.disconnect.bind(this.controller);
      const disconnect = () => {
        this.unbind();
        controllerDisconnect();
      };
      Object.assign(this.controller, {
        disconnect
      });
    }
  };
  var convertSimpleHotkeyDefinition = (definition) => ({
    handler: definition[0],
    options: {
      element: definition[1]
    }
  });
  var coerceOptions = (options) => {
    if (!options.hotkeys) {
      const hotkeys2 = {};
      Object.entries(options).forEach(([hotkey, definition]) => {
        Object.defineProperty(hotkeys2, hotkey, {
          value: convertSimpleHotkeyDefinition(definition),
          writable: false,
          enumerable: true
        });
      });
      options = {
        hotkeys: hotkeys2
      };
    }
    return options;
  };
  var useHotkeys = (controller, options) => new UseHotkeys(controller, coerceOptions(options));

  // ../../app/ui/components/rails_ui/command/index.js
  var command_default = class extends Controller {
    connect() {
      useHotkeys(this, {
        ...this.hotkeysValue,
        "ArrowUp": (event) => this.navigateItems(event, -1),
        "ArrowDown": (event) => this.navigateItems(event, 1),
        "Enter": (event) => this.selectItem(event)
      });
      this.currentIndex = -1;
    }
    navigateItems(event, direction) {
      event.preventDefault();
      this.currentIndex += direction;
      if (this.currentIndex < 0) this.currentIndex = this.itemTargets.length - 1;
      if (this.currentIndex >= this.itemTargets.length) this.currentIndex = 0;
      this.highlightItem();
    }
    highlightItem() {
      this.itemTargets.forEach((item, index) => {
        if (index === this.currentIndex) {
          item.setAttribute("aria-selected", "true");
          item.scrollIntoView({ block: "nearest" });
        } else {
          item.setAttribute("aria-selected", "false");
        }
      });
    }
    selectItem(event) {
      event.preventDefault();
      const selectedItem = this.itemTargets[this.currentIndex];
      if (selectedItem) {
        console.log("Selected:", selectedItem.dataset.value);
      }
    }
    search() {
      const query = this.inputTarget.value.toLowerCase();
      this.itemTargets.forEach((item) => {
        const matches = item.textContent.toLowerCase().includes(query);
        item.style.display = matches ? "" : "none";
      });
    }
  };
  __publicField(command_default, "targets", ["input", "list", "item"]);
  __publicField(command_default, "values", {
    hotkeys: Object
  });

  // ../../app/ui/components/rails_ui/context_menu/index.js
  var context_menu_exports = {};
  __export(context_menu_exports, {
    default: () => context_menu_default
  });

  // node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs
  var min = Math.min;
  var max = Math.max;
  var round = Math.round;
  var floor = Math.floor;
  var createCoords = (v) => ({
    x: v,
    y: v
  });
  var oppositeSideMap = {
    left: "right",
    right: "left",
    bottom: "top",
    top: "bottom"
  };
  var oppositeAlignmentMap = {
    start: "end",
    end: "start"
  };
  function clamp(start, value, end) {
    return max(start, min(value, end));
  }
  function evaluate(value, param) {
    return typeof value === "function" ? value(param) : value;
  }
  function getSide(placement) {
    return placement.split("-")[0];
  }
  function getAlignment(placement) {
    return placement.split("-")[1];
  }
  function getOppositeAxis(axis) {
    return axis === "x" ? "y" : "x";
  }
  function getAxisLength(axis) {
    return axis === "y" ? "height" : "width";
  }
  function getSideAxis(placement) {
    return ["top", "bottom"].includes(getSide(placement)) ? "y" : "x";
  }
  function getAlignmentAxis(placement) {
    return getOppositeAxis(getSideAxis(placement));
  }
  function getAlignmentSides(placement, rects, rtl) {
    if (rtl === void 0) {
      rtl = false;
    }
    const alignment = getAlignment(placement);
    const alignmentAxis = getAlignmentAxis(placement);
    const length = getAxisLength(alignmentAxis);
    let mainAlignmentSide = alignmentAxis === "x" ? alignment === (rtl ? "end" : "start") ? "right" : "left" : alignment === "start" ? "bottom" : "top";
    if (rects.reference[length] > rects.floating[length]) {
      mainAlignmentSide = getOppositePlacement(mainAlignmentSide);
    }
    return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];
  }
  function getExpandedPlacements(placement) {
    const oppositePlacement = getOppositePlacement(placement);
    return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];
  }
  function getOppositeAlignmentPlacement(placement) {
    return placement.replace(/start|end/g, (alignment) => oppositeAlignmentMap[alignment]);
  }
  function getSideList(side, isStart, rtl) {
    const lr = ["left", "right"];
    const rl = ["right", "left"];
    const tb = ["top", "bottom"];
    const bt = ["bottom", "top"];
    switch (side) {
      case "top":
      case "bottom":
        if (rtl) return isStart ? rl : lr;
        return isStart ? lr : rl;
      case "left":
      case "right":
        return isStart ? tb : bt;
      default:
        return [];
    }
  }
  function getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {
    const alignment = getAlignment(placement);
    let list = getSideList(getSide(placement), direction === "start", rtl);
    if (alignment) {
      list = list.map((side) => side + "-" + alignment);
      if (flipAlignment) {
        list = list.concat(list.map(getOppositeAlignmentPlacement));
      }
    }
    return list;
  }
  function getOppositePlacement(placement) {
    return placement.replace(/left|right|bottom|top/g, (side) => oppositeSideMap[side]);
  }
  function expandPaddingObject(padding) {
    return {
      top: 0,
      right: 0,
      bottom: 0,
      left: 0,
      ...padding
    };
  }
  function getPaddingObject(padding) {
    return typeof padding !== "number" ? expandPaddingObject(padding) : {
      top: padding,
      right: padding,
      bottom: padding,
      left: padding
    };
  }
  function rectToClientRect(rect) {
    const {
      x,
      y,
      width,
      height
    } = rect;
    return {
      width,
      height,
      top: y,
      left: x,
      right: x + width,
      bottom: y + height,
      x,
      y
    };
  }

  // node_modules/@floating-ui/core/dist/floating-ui.core.mjs
  function computeCoordsFromPlacement(_ref, placement, rtl) {
    let {
      reference,
      floating
    } = _ref;
    const sideAxis = getSideAxis(placement);
    const alignmentAxis = getAlignmentAxis(placement);
    const alignLength = getAxisLength(alignmentAxis);
    const side = getSide(placement);
    const isVertical = sideAxis === "y";
    const commonX = reference.x + reference.width / 2 - floating.width / 2;
    const commonY = reference.y + reference.height / 2 - floating.height / 2;
    const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;
    let coords;
    switch (side) {
      case "top":
        coords = {
          x: commonX,
          y: reference.y - floating.height
        };
        break;
      case "bottom":
        coords = {
          x: commonX,
          y: reference.y + reference.height
        };
        break;
      case "right":
        coords = {
          x: reference.x + reference.width,
          y: commonY
        };
        break;
      case "left":
        coords = {
          x: reference.x - floating.width,
          y: commonY
        };
        break;
      default:
        coords = {
          x: reference.x,
          y: reference.y
        };
    }
    switch (getAlignment(placement)) {
      case "start":
        coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);
        break;
      case "end":
        coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);
        break;
    }
    return coords;
  }
  var computePosition = async (reference, floating, config) => {
    const {
      placement = "bottom",
      strategy = "absolute",
      middleware = [],
      platform: platform2
    } = config;
    const validMiddleware = middleware.filter(Boolean);
    const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(floating));
    let rects = await platform2.getElementRects({
      reference,
      floating,
      strategy
    });
    let {
      x,
      y
    } = computeCoordsFromPlacement(rects, placement, rtl);
    let statefulPlacement = placement;
    let middlewareData = {};
    let resetCount = 0;
    for (let i = 0; i < validMiddleware.length; i++) {
      const {
        name,
        fn
      } = validMiddleware[i];
      const {
        x: nextX,
        y: nextY,
        data,
        reset
      } = await fn({
        x,
        y,
        initialPlacement: placement,
        placement: statefulPlacement,
        strategy,
        middlewareData,
        rects,
        platform: platform2,
        elements: {
          reference,
          floating
        }
      });
      x = nextX != null ? nextX : x;
      y = nextY != null ? nextY : y;
      middlewareData = {
        ...middlewareData,
        [name]: {
          ...middlewareData[name],
          ...data
        }
      };
      if (reset && resetCount <= 50) {
        resetCount++;
        if (typeof reset === "object") {
          if (reset.placement) {
            statefulPlacement = reset.placement;
          }
          if (reset.rects) {
            rects = reset.rects === true ? await platform2.getElementRects({
              reference,
              floating,
              strategy
            }) : reset.rects;
          }
          ({
            x,
            y
          } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));
        }
        i = -1;
      }
    }
    return {
      x,
      y,
      placement: statefulPlacement,
      strategy,
      middlewareData
    };
  };
  async function detectOverflow(state, options) {
    var _await$platform$isEle;
    if (options === void 0) {
      options = {};
    }
    const {
      x,
      y,
      platform: platform2,
      rects,
      elements,
      strategy
    } = state;
    const {
      boundary = "clippingAncestors",
      rootBoundary = "viewport",
      elementContext = "floating",
      altBoundary = false,
      padding = 0
    } = evaluate(options, state);
    const paddingObject = getPaddingObject(padding);
    const altContext = elementContext === "floating" ? "reference" : "floating";
    const element = elements[altBoundary ? altContext : elementContext];
    const clippingClientRect = rectToClientRect(await platform2.getClippingRect({
      element: ((_await$platform$isEle = await (platform2.isElement == null ? void 0 : platform2.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || await (platform2.getDocumentElement == null ? void 0 : platform2.getDocumentElement(elements.floating)),
      boundary,
      rootBoundary,
      strategy
    }));
    const rect = elementContext === "floating" ? {
      x,
      y,
      width: rects.floating.width,
      height: rects.floating.height
    } : rects.reference;
    const offsetParent = await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(elements.floating));
    const offsetScale = await (platform2.isElement == null ? void 0 : platform2.isElement(offsetParent)) ? await (platform2.getScale == null ? void 0 : platform2.getScale(offsetParent)) || {
      x: 1,
      y: 1
    } : {
      x: 1,
      y: 1
    };
    const elementClientRect = rectToClientRect(platform2.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform2.convertOffsetParentRelativeRectToViewportRelativeRect({
      elements,
      rect,
      offsetParent,
      strategy
    }) : rect);
    return {
      top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,
      bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,
      left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,
      right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x
    };
  }
  var arrow = (options) => ({
    name: "arrow",
    options,
    async fn(state) {
      const {
        x,
        y,
        placement,
        rects,
        platform: platform2,
        elements,
        middlewareData
      } = state;
      const {
        element,
        padding = 0
      } = evaluate(options, state) || {};
      if (element == null) {
        return {};
      }
      const paddingObject = getPaddingObject(padding);
      const coords = {
        x,
        y
      };
      const axis = getAlignmentAxis(placement);
      const length = getAxisLength(axis);
      const arrowDimensions = await platform2.getDimensions(element);
      const isYAxis = axis === "y";
      const minProp = isYAxis ? "top" : "left";
      const maxProp = isYAxis ? "bottom" : "right";
      const clientProp = isYAxis ? "clientHeight" : "clientWidth";
      const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];
      const startDiff = coords[axis] - rects.reference[axis];
      const arrowOffsetParent = await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(element));
      let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;
      if (!clientSize || !await (platform2.isElement == null ? void 0 : platform2.isElement(arrowOffsetParent))) {
        clientSize = elements.floating[clientProp] || rects.floating[length];
      }
      const centerToReference = endDiff / 2 - startDiff / 2;
      const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;
      const minPadding = min(paddingObject[minProp], largestPossiblePadding);
      const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);
      const min$1 = minPadding;
      const max2 = clientSize - arrowDimensions[length] - maxPadding;
      const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;
      const offset3 = clamp(min$1, center, max2);
      const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset3 && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;
      const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max2 : 0;
      return {
        [axis]: coords[axis] + alignmentOffset,
        data: {
          [axis]: offset3,
          centerOffset: center - offset3 - alignmentOffset,
          ...shouldAddOffset && {
            alignmentOffset
          }
        },
        reset: shouldAddOffset
      };
    }
  });
  var flip = function(options) {
    if (options === void 0) {
      options = {};
    }
    return {
      name: "flip",
      options,
      async fn(state) {
        var _middlewareData$arrow, _middlewareData$flip;
        const {
          placement,
          middlewareData,
          rects,
          initialPlacement,
          platform: platform2,
          elements
        } = state;
        const {
          mainAxis: checkMainAxis = true,
          crossAxis: checkCrossAxis = true,
          fallbackPlacements: specifiedFallbackPlacements,
          fallbackStrategy = "bestFit",
          fallbackAxisSideDirection = "none",
          flipAlignment = true,
          ...detectOverflowOptions
        } = evaluate(options, state);
        if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {
          return {};
        }
        const side = getSide(placement);
        const initialSideAxis = getSideAxis(initialPlacement);
        const isBasePlacement = getSide(initialPlacement) === initialPlacement;
        const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));
        const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));
        const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== "none";
        if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {
          fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));
        }
        const placements2 = [initialPlacement, ...fallbackPlacements];
        const overflow = await detectOverflow(state, detectOverflowOptions);
        const overflows = [];
        let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];
        if (checkMainAxis) {
          overflows.push(overflow[side]);
        }
        if (checkCrossAxis) {
          const sides2 = getAlignmentSides(placement, rects, rtl);
          overflows.push(overflow[sides2[0]], overflow[sides2[1]]);
        }
        overflowsData = [...overflowsData, {
          placement,
          overflows
        }];
        if (!overflows.every((side2) => side2 <= 0)) {
          var _middlewareData$flip2, _overflowsData$filter;
          const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;
          const nextPlacement = placements2[nextIndex];
          if (nextPlacement) {
            return {
              data: {
                index: nextIndex,
                overflows: overflowsData
              },
              reset: {
                placement: nextPlacement
              }
            };
          }
          let resetPlacement = (_overflowsData$filter = overflowsData.filter((d) => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;
          if (!resetPlacement) {
            switch (fallbackStrategy) {
              case "bestFit": {
                var _overflowsData$filter2;
                const placement2 = (_overflowsData$filter2 = overflowsData.filter((d) => {
                  if (hasFallbackAxisSideDirection) {
                    const currentSideAxis = getSideAxis(d.placement);
                    return currentSideAxis === initialSideAxis || // Create a bias to the `y` side axis due to horizontal
                    // reading directions favoring greater width.
                    currentSideAxis === "y";
                  }
                  return true;
                }).map((d) => [d.placement, d.overflows.filter((overflow2) => overflow2 > 0).reduce((acc, overflow2) => acc + overflow2, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];
                if (placement2) {
                  resetPlacement = placement2;
                }
                break;
              }
              case "initialPlacement":
                resetPlacement = initialPlacement;
                break;
            }
          }
          if (placement !== resetPlacement) {
            return {
              reset: {
                placement: resetPlacement
              }
            };
          }
        }
        return {};
      }
    };
  };
  async function convertValueToCoords(state, options) {
    const {
      placement,
      platform: platform2,
      elements
    } = state;
    const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));
    const side = getSide(placement);
    const alignment = getAlignment(placement);
    const isVertical = getSideAxis(placement) === "y";
    const mainAxisMulti = ["left", "top"].includes(side) ? -1 : 1;
    const crossAxisMulti = rtl && isVertical ? -1 : 1;
    const rawValue = evaluate(options, state);
    let {
      mainAxis,
      crossAxis,
      alignmentAxis
    } = typeof rawValue === "number" ? {
      mainAxis: rawValue,
      crossAxis: 0,
      alignmentAxis: null
    } : {
      mainAxis: 0,
      crossAxis: 0,
      alignmentAxis: null,
      ...rawValue
    };
    if (alignment && typeof alignmentAxis === "number") {
      crossAxis = alignment === "end" ? alignmentAxis * -1 : alignmentAxis;
    }
    return isVertical ? {
      x: crossAxis * crossAxisMulti,
      y: mainAxis * mainAxisMulti
    } : {
      x: mainAxis * mainAxisMulti,
      y: crossAxis * crossAxisMulti
    };
  }
  var offset = function(options) {
    if (options === void 0) {
      options = 0;
    }
    return {
      name: "offset",
      options,
      async fn(state) {
        var _middlewareData$offse, _middlewareData$arrow;
        const {
          x,
          y,
          placement,
          middlewareData
        } = state;
        const diffCoords = await convertValueToCoords(state, options);
        if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {
          return {};
        }
        return {
          x: x + diffCoords.x,
          y: y + diffCoords.y,
          data: {
            ...diffCoords,
            placement
          }
        };
      }
    };
  };
  var shift = function(options) {
    if (options === void 0) {
      options = {};
    }
    return {
      name: "shift",
      options,
      async fn(state) {
        const {
          x,
          y,
          placement
        } = state;
        const {
          mainAxis: checkMainAxis = true,
          crossAxis: checkCrossAxis = false,
          limiter = {
            fn: (_ref) => {
              let {
                x: x2,
                y: y2
              } = _ref;
              return {
                x: x2,
                y: y2
              };
            }
          },
          ...detectOverflowOptions
        } = evaluate(options, state);
        const coords = {
          x,
          y
        };
        const overflow = await detectOverflow(state, detectOverflowOptions);
        const crossAxis = getSideAxis(getSide(placement));
        const mainAxis = getOppositeAxis(crossAxis);
        let mainAxisCoord = coords[mainAxis];
        let crossAxisCoord = coords[crossAxis];
        if (checkMainAxis) {
          const minSide = mainAxis === "y" ? "top" : "left";
          const maxSide = mainAxis === "y" ? "bottom" : "right";
          const min2 = mainAxisCoord + overflow[minSide];
          const max2 = mainAxisCoord - overflow[maxSide];
          mainAxisCoord = clamp(min2, mainAxisCoord, max2);
        }
        if (checkCrossAxis) {
          const minSide = crossAxis === "y" ? "top" : "left";
          const maxSide = crossAxis === "y" ? "bottom" : "right";
          const min2 = crossAxisCoord + overflow[minSide];
          const max2 = crossAxisCoord - overflow[maxSide];
          crossAxisCoord = clamp(min2, crossAxisCoord, max2);
        }
        const limitedCoords = limiter.fn({
          ...state,
          [mainAxis]: mainAxisCoord,
          [crossAxis]: crossAxisCoord
        });
        return {
          ...limitedCoords,
          data: {
            x: limitedCoords.x - x,
            y: limitedCoords.y - y
          }
        };
      }
    };
  };

  // node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs
  function getNodeName(node) {
    if (isNode(node)) {
      return (node.nodeName || "").toLowerCase();
    }
    return "#document";
  }
  function getWindow(node) {
    var _node$ownerDocument;
    return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;
  }
  function getDocumentElement(node) {
    var _ref;
    return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;
  }
  function isNode(value) {
    return value instanceof Node || value instanceof getWindow(value).Node;
  }
  function isElement(value) {
    return value instanceof Element || value instanceof getWindow(value).Element;
  }
  function isHTMLElement(value) {
    return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;
  }
  function isShadowRoot(value) {
    if (typeof ShadowRoot === "undefined") {
      return false;
    }
    return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;
  }
  function isOverflowElement(element) {
    const {
      overflow,
      overflowX,
      overflowY,
      display
    } = getComputedStyle2(element);
    return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !["inline", "contents"].includes(display);
  }
  function isTableElement(element) {
    return ["table", "td", "th"].includes(getNodeName(element));
  }
  function isTopLayer(element) {
    return [":popover-open", ":modal"].some((selector) => {
      try {
        return element.matches(selector);
      } catch (e) {
        return false;
      }
    });
  }
  function isContainingBlock(element) {
    const webkit = isWebKit();
    const css = getComputedStyle2(element);
    return css.transform !== "none" || css.perspective !== "none" || (css.containerType ? css.containerType !== "normal" : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== "none" : false) || !webkit && (css.filter ? css.filter !== "none" : false) || ["transform", "perspective", "filter"].some((value) => (css.willChange || "").includes(value)) || ["paint", "layout", "strict", "content"].some((value) => (css.contain || "").includes(value));
  }
  function getContainingBlock(element) {
    let currentNode = getParentNode(element);
    while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {
      if (isTopLayer(currentNode)) {
        return null;
      }
      if (isContainingBlock(currentNode)) {
        return currentNode;
      }
      currentNode = getParentNode(currentNode);
    }
    return null;
  }
  function isWebKit() {
    if (typeof CSS === "undefined" || !CSS.supports) return false;
    return CSS.supports("-webkit-backdrop-filter", "none");
  }
  function isLastTraversableNode(node) {
    return ["html", "body", "#document"].includes(getNodeName(node));
  }
  function getComputedStyle2(element) {
    return getWindow(element).getComputedStyle(element);
  }
  function getNodeScroll(element) {
    if (isElement(element)) {
      return {
        scrollLeft: element.scrollLeft,
        scrollTop: element.scrollTop
      };
    }
    return {
      scrollLeft: element.scrollX,
      scrollTop: element.scrollY
    };
  }
  function getParentNode(node) {
    if (getNodeName(node) === "html") {
      return node;
    }
    const result = (
      // Step into the shadow DOM of the parent of a slotted node.
      node.assignedSlot || // DOM Element detected.
      node.parentNode || // ShadowRoot detected.
      isShadowRoot(node) && node.host || // Fallback.
      getDocumentElement(node)
    );
    return isShadowRoot(result) ? result.host : result;
  }
  function getNearestOverflowAncestor(node) {
    const parentNode = getParentNode(node);
    if (isLastTraversableNode(parentNode)) {
      return node.ownerDocument ? node.ownerDocument.body : node.body;
    }
    if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {
      return parentNode;
    }
    return getNearestOverflowAncestor(parentNode);
  }
  function getOverflowAncestors(node, list, traverseIframes) {
    var _node$ownerDocument2;
    if (list === void 0) {
      list = [];
    }
    if (traverseIframes === void 0) {
      traverseIframes = true;
    }
    const scrollableAncestor = getNearestOverflowAncestor(node);
    const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);
    const win = getWindow(scrollableAncestor);
    if (isBody) {
      return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);
    }
    return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));
  }

  // node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs
  function getCssDimensions(element) {
    const css = getComputedStyle2(element);
    let width = parseFloat(css.width) || 0;
    let height = parseFloat(css.height) || 0;
    const hasOffset = isHTMLElement(element);
    const offsetWidth = hasOffset ? element.offsetWidth : width;
    const offsetHeight = hasOffset ? element.offsetHeight : height;
    const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;
    if (shouldFallback) {
      width = offsetWidth;
      height = offsetHeight;
    }
    return {
      width,
      height,
      $: shouldFallback
    };
  }
  function unwrapElement(element) {
    return !isElement(element) ? element.contextElement : element;
  }
  function getScale(element) {
    const domElement = unwrapElement(element);
    if (!isHTMLElement(domElement)) {
      return createCoords(1);
    }
    const rect = domElement.getBoundingClientRect();
    const {
      width,
      height,
      $
    } = getCssDimensions(domElement);
    let x = ($ ? round(rect.width) : rect.width) / width;
    let y = ($ ? round(rect.height) : rect.height) / height;
    if (!x || !Number.isFinite(x)) {
      x = 1;
    }
    if (!y || !Number.isFinite(y)) {
      y = 1;
    }
    return {
      x,
      y
    };
  }
  var noOffsets = /* @__PURE__ */ createCoords(0);
  function getVisualOffsets(element) {
    const win = getWindow(element);
    if (!isWebKit() || !win.visualViewport) {
      return noOffsets;
    }
    return {
      x: win.visualViewport.offsetLeft,
      y: win.visualViewport.offsetTop
    };
  }
  function shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {
    if (isFixed === void 0) {
      isFixed = false;
    }
    if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {
      return false;
    }
    return isFixed;
  }
  function getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {
    if (includeScale === void 0) {
      includeScale = false;
    }
    if (isFixedStrategy === void 0) {
      isFixedStrategy = false;
    }
    const clientRect = element.getBoundingClientRect();
    const domElement = unwrapElement(element);
    let scale = createCoords(1);
    if (includeScale) {
      if (offsetParent) {
        if (isElement(offsetParent)) {
          scale = getScale(offsetParent);
        }
      } else {
        scale = getScale(element);
      }
    }
    const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);
    let x = (clientRect.left + visualOffsets.x) / scale.x;
    let y = (clientRect.top + visualOffsets.y) / scale.y;
    let width = clientRect.width / scale.x;
    let height = clientRect.height / scale.y;
    if (domElement) {
      const win = getWindow(domElement);
      const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;
      let currentWin = win;
      let currentIFrame = currentWin.frameElement;
      while (currentIFrame && offsetParent && offsetWin !== currentWin) {
        const iframeScale = getScale(currentIFrame);
        const iframeRect = currentIFrame.getBoundingClientRect();
        const css = getComputedStyle2(currentIFrame);
        const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;
        const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;
        x *= iframeScale.x;
        y *= iframeScale.y;
        width *= iframeScale.x;
        height *= iframeScale.y;
        x += left;
        y += top;
        currentWin = getWindow(currentIFrame);
        currentIFrame = currentWin.frameElement;
      }
    }
    return rectToClientRect({
      width,
      height,
      x,
      y
    });
  }
  function convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {
    let {
      elements,
      rect,
      offsetParent,
      strategy
    } = _ref;
    const isFixed = strategy === "fixed";
    const documentElement = getDocumentElement(offsetParent);
    const topLayer = elements ? isTopLayer(elements.floating) : false;
    if (offsetParent === documentElement || topLayer && isFixed) {
      return rect;
    }
    let scroll = {
      scrollLeft: 0,
      scrollTop: 0
    };
    let scale = createCoords(1);
    const offsets = createCoords(0);
    const isOffsetParentAnElement = isHTMLElement(offsetParent);
    if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {
      if (getNodeName(offsetParent) !== "body" || isOverflowElement(documentElement)) {
        scroll = getNodeScroll(offsetParent);
      }
      if (isHTMLElement(offsetParent)) {
        const offsetRect = getBoundingClientRect(offsetParent);
        scale = getScale(offsetParent);
        offsets.x = offsetRect.x + offsetParent.clientLeft;
        offsets.y = offsetRect.y + offsetParent.clientTop;
      }
    }
    return {
      width: rect.width * scale.x,
      height: rect.height * scale.y,
      x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,
      y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y
    };
  }
  function getClientRects(element) {
    return Array.from(element.getClientRects());
  }
  function getWindowScrollBarX(element) {
    return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;
  }
  function getDocumentRect(element) {
    const html = getDocumentElement(element);
    const scroll = getNodeScroll(element);
    const body = element.ownerDocument.body;
    const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);
    const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);
    let x = -scroll.scrollLeft + getWindowScrollBarX(element);
    const y = -scroll.scrollTop;
    if (getComputedStyle2(body).direction === "rtl") {
      x += max(html.clientWidth, body.clientWidth) - width;
    }
    return {
      width,
      height,
      x,
      y
    };
  }
  function getViewportRect(element, strategy) {
    const win = getWindow(element);
    const html = getDocumentElement(element);
    const visualViewport = win.visualViewport;
    let width = html.clientWidth;
    let height = html.clientHeight;
    let x = 0;
    let y = 0;
    if (visualViewport) {
      width = visualViewport.width;
      height = visualViewport.height;
      const visualViewportBased = isWebKit();
      if (!visualViewportBased || visualViewportBased && strategy === "fixed") {
        x = visualViewport.offsetLeft;
        y = visualViewport.offsetTop;
      }
    }
    return {
      width,
      height,
      x,
      y
    };
  }
  function getInnerBoundingClientRect(element, strategy) {
    const clientRect = getBoundingClientRect(element, true, strategy === "fixed");
    const top = clientRect.top + element.clientTop;
    const left = clientRect.left + element.clientLeft;
    const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);
    const width = element.clientWidth * scale.x;
    const height = element.clientHeight * scale.y;
    const x = left * scale.x;
    const y = top * scale.y;
    return {
      width,
      height,
      x,
      y
    };
  }
  function getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {
    let rect;
    if (clippingAncestor === "viewport") {
      rect = getViewportRect(element, strategy);
    } else if (clippingAncestor === "document") {
      rect = getDocumentRect(getDocumentElement(element));
    } else if (isElement(clippingAncestor)) {
      rect = getInnerBoundingClientRect(clippingAncestor, strategy);
    } else {
      const visualOffsets = getVisualOffsets(element);
      rect = {
        ...clippingAncestor,
        x: clippingAncestor.x - visualOffsets.x,
        y: clippingAncestor.y - visualOffsets.y
      };
    }
    return rectToClientRect(rect);
  }
  function hasFixedPositionAncestor(element, stopNode) {
    const parentNode = getParentNode(element);
    if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {
      return false;
    }
    return getComputedStyle2(parentNode).position === "fixed" || hasFixedPositionAncestor(parentNode, stopNode);
  }
  function getClippingElementAncestors(element, cache) {
    const cachedResult = cache.get(element);
    if (cachedResult) {
      return cachedResult;
    }
    let result = getOverflowAncestors(element, [], false).filter((el) => isElement(el) && getNodeName(el) !== "body");
    let currentContainingBlockComputedStyle = null;
    const elementIsFixed = getComputedStyle2(element).position === "fixed";
    let currentNode = elementIsFixed ? getParentNode(element) : element;
    while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {
      const computedStyle = getComputedStyle2(currentNode);
      const currentNodeIsContaining = isContainingBlock(currentNode);
      if (!currentNodeIsContaining && computedStyle.position === "fixed") {
        currentContainingBlockComputedStyle = null;
      }
      const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === "static" && !!currentContainingBlockComputedStyle && ["absolute", "fixed"].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);
      if (shouldDropCurrentNode) {
        result = result.filter((ancestor) => ancestor !== currentNode);
      } else {
        currentContainingBlockComputedStyle = computedStyle;
      }
      currentNode = getParentNode(currentNode);
    }
    cache.set(element, result);
    return result;
  }
  function getClippingRect(_ref) {
    let {
      element,
      boundary,
      rootBoundary,
      strategy
    } = _ref;
    const elementClippingAncestors = boundary === "clippingAncestors" ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);
    const clippingAncestors = [...elementClippingAncestors, rootBoundary];
    const firstClippingAncestor = clippingAncestors[0];
    const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {
      const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);
      accRect.top = max(rect.top, accRect.top);
      accRect.right = min(rect.right, accRect.right);
      accRect.bottom = min(rect.bottom, accRect.bottom);
      accRect.left = max(rect.left, accRect.left);
      return accRect;
    }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));
    return {
      width: clippingRect.right - clippingRect.left,
      height: clippingRect.bottom - clippingRect.top,
      x: clippingRect.left,
      y: clippingRect.top
    };
  }
  function getDimensions(element) {
    const {
      width,
      height
    } = getCssDimensions(element);
    return {
      width,
      height
    };
  }
  function getRectRelativeToOffsetParent(element, offsetParent, strategy) {
    const isOffsetParentAnElement = isHTMLElement(offsetParent);
    const documentElement = getDocumentElement(offsetParent);
    const isFixed = strategy === "fixed";
    const rect = getBoundingClientRect(element, true, isFixed, offsetParent);
    let scroll = {
      scrollLeft: 0,
      scrollTop: 0
    };
    const offsets = createCoords(0);
    if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {
      if (getNodeName(offsetParent) !== "body" || isOverflowElement(documentElement)) {
        scroll = getNodeScroll(offsetParent);
      }
      if (isOffsetParentAnElement) {
        const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);
        offsets.x = offsetRect.x + offsetParent.clientLeft;
        offsets.y = offsetRect.y + offsetParent.clientTop;
      } else if (documentElement) {
        offsets.x = getWindowScrollBarX(documentElement);
      }
    }
    const x = rect.left + scroll.scrollLeft - offsets.x;
    const y = rect.top + scroll.scrollTop - offsets.y;
    return {
      x,
      y,
      width: rect.width,
      height: rect.height
    };
  }
  function isStaticPositioned(element) {
    return getComputedStyle2(element).position === "static";
  }
  function getTrueOffsetParent(element, polyfill) {
    if (!isHTMLElement(element) || getComputedStyle2(element).position === "fixed") {
      return null;
    }
    if (polyfill) {
      return polyfill(element);
    }
    return element.offsetParent;
  }
  function getOffsetParent(element, polyfill) {
    const win = getWindow(element);
    if (isTopLayer(element)) {
      return win;
    }
    if (!isHTMLElement(element)) {
      let svgOffsetParent = getParentNode(element);
      while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {
        if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {
          return svgOffsetParent;
        }
        svgOffsetParent = getParentNode(svgOffsetParent);
      }
      return win;
    }
    let offsetParent = getTrueOffsetParent(element, polyfill);
    while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {
      offsetParent = getTrueOffsetParent(offsetParent, polyfill);
    }
    if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {
      return win;
    }
    return offsetParent || getContainingBlock(element) || win;
  }
  var getElementRects = async function(data) {
    const getOffsetParentFn = this.getOffsetParent || getOffsetParent;
    const getDimensionsFn = this.getDimensions;
    const floatingDimensions = await getDimensionsFn(data.floating);
    return {
      reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),
      floating: {
        x: 0,
        y: 0,
        width: floatingDimensions.width,
        height: floatingDimensions.height
      }
    };
  };
  function isRTL(element) {
    return getComputedStyle2(element).direction === "rtl";
  }
  var platform = {
    convertOffsetParentRelativeRectToViewportRelativeRect,
    getDocumentElement,
    getClippingRect,
    getOffsetParent,
    getElementRects,
    getClientRects,
    getDimensions,
    getScale,
    isElement,
    isRTL
  };
  function observeMove(element, onMove) {
    let io = null;
    let timeoutId;
    const root = getDocumentElement(element);
    function cleanup() {
      var _io;
      clearTimeout(timeoutId);
      (_io = io) == null || _io.disconnect();
      io = null;
    }
    function refresh(skip, threshold) {
      if (skip === void 0) {
        skip = false;
      }
      if (threshold === void 0) {
        threshold = 1;
      }
      cleanup();
      const {
        left,
        top,
        width,
        height
      } = element.getBoundingClientRect();
      if (!skip) {
        onMove();
      }
      if (!width || !height) {
        return;
      }
      const insetTop = floor(top);
      const insetRight = floor(root.clientWidth - (left + width));
      const insetBottom = floor(root.clientHeight - (top + height));
      const insetLeft = floor(left);
      const rootMargin = -insetTop + "px " + -insetRight + "px " + -insetBottom + "px " + -insetLeft + "px";
      const options = {
        rootMargin,
        threshold: max(0, min(1, threshold)) || 1
      };
      let isFirstUpdate = true;
      function handleObserve(entries) {
        const ratio = entries[0].intersectionRatio;
        if (ratio !== threshold) {
          if (!isFirstUpdate) {
            return refresh();
          }
          if (!ratio) {
            timeoutId = setTimeout(() => {
              refresh(false, 1e-7);
            }, 1e3);
          } else {
            refresh(false, ratio);
          }
        }
        isFirstUpdate = false;
      }
      try {
        io = new IntersectionObserver(handleObserve, {
          ...options,
          // Handle <iframe>s
          root: root.ownerDocument
        });
      } catch (e) {
        io = new IntersectionObserver(handleObserve, options);
      }
      io.observe(element);
    }
    refresh(true);
    return cleanup;
  }
  function autoUpdate(reference, floating, update, options) {
    if (options === void 0) {
      options = {};
    }
    const {
      ancestorScroll = true,
      ancestorResize = true,
      elementResize = typeof ResizeObserver === "function",
      layoutShift = typeof IntersectionObserver === "function",
      animationFrame = false
    } = options;
    const referenceEl = unwrapElement(reference);
    const ancestors = ancestorScroll || ancestorResize ? [...referenceEl ? getOverflowAncestors(referenceEl) : [], ...getOverflowAncestors(floating)] : [];
    ancestors.forEach((ancestor) => {
      ancestorScroll && ancestor.addEventListener("scroll", update, {
        passive: true
      });
      ancestorResize && ancestor.addEventListener("resize", update);
    });
    const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;
    let reobserveFrame = -1;
    let resizeObserver = null;
    if (elementResize) {
      resizeObserver = new ResizeObserver((_ref) => {
        let [firstEntry] = _ref;
        if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {
          resizeObserver.unobserve(floating);
          cancelAnimationFrame(reobserveFrame);
          reobserveFrame = requestAnimationFrame(() => {
            var _resizeObserver;
            (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);
          });
        }
        update();
      });
      if (referenceEl && !animationFrame) {
        resizeObserver.observe(referenceEl);
      }
      resizeObserver.observe(floating);
    }
    let frameId;
    let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;
    if (animationFrame) {
      frameLoop();
    }
    function frameLoop() {
      const nextRefRect = getBoundingClientRect(reference);
      if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {
        update();
      }
      prevRefRect = nextRefRect;
      frameId = requestAnimationFrame(frameLoop);
    }
    update();
    return () => {
      var _resizeObserver2;
      ancestors.forEach((ancestor) => {
        ancestorScroll && ancestor.removeEventListener("scroll", update);
        ancestorResize && ancestor.removeEventListener("resize", update);
      });
      cleanupIo == null || cleanupIo();
      (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();
      resizeObserver = null;
      if (animationFrame) {
        cancelAnimationFrame(frameId);
      }
    };
  }
  var offset2 = offset;
  var shift2 = shift;
  var flip2 = flip;
  var arrow2 = arrow;
  var computePosition2 = (reference, floating, options) => {
    const cache = /* @__PURE__ */ new Map();
    const mergedOptions = {
      platform,
      ...options
    };
    const platformWithCache = {
      ...mergedOptions.platform,
      _c: cache
    };
    return computePosition(reference, floating, {
      ...mergedOptions,
      platform: platformWithCache
    });
  };

  // ../../app/ui/components/rails_ui/context_menu/index.js
  var context_menu_default = class extends Controller {
    connect() {
      this.element.addEventListener("contextmenu", this.showMenu.bind(this));
      document.addEventListener("click", this.hideMenu.bind(this));
    }
    disconnect() {
      this.element.removeEventListener("contextmenu", this.showMenu.bind(this));
      document.removeEventListener("click", this.hideMenu.bind(this));
    }
    showMenu(event) {
      event.preventDefault();
      this.menuTarget.classList.remove("hidden");
      this.menuTarget.dataset.state = "open";
      computePosition2(
        { x: event.clientX, y: event.clientY },
        this.menuTarget,
        {
          placement: `${this.sideValue}-${this.alignValue}`,
          middleware: [
            offset2(5),
            flip2(),
            shift2({ padding: 5 })
          ]
        }
      ).then(({ x, y }) => {
        Object.assign(this.menuTarget.style, {
          left: `${x}px`,
          top: `${y}px`
        });
      });
    }
    hideMenu(event) {
      if (!this.menuTarget.contains(event.target)) {
        this.menuTarget.dataset.state = "closed";
        setTimeout(() => {
          this.menuTarget.classList.add("hidden");
        }, 200);
      }
    }
    showSubmenu(event) {
      const submenu = event.currentTarget.querySelector('[data-ui-context-menu-target="submenu"]');
      if (submenu) {
        submenu.classList.remove("hidden");
        computePosition2(event.currentTarget, submenu, {
          placement: "right-start",
          middleware: [
            offset2(5),
            flip2(),
            shift2({ padding: 5 })
          ]
        }).then(({ x, y }) => {
          Object.assign(submenu.style, {
            left: `${x}px`,
            top: `${y}px`
          });
        });
      }
    }
    hideSubmenu(event) {
      const submenu = event.currentTarget.querySelector('[data-ui-context-menu-target="submenu"]');
      if (submenu) {
        submenu.classList.add("hidden");
      }
    }
  };
  __publicField(context_menu_default, "targets", ["menu", "submenuTrigger", "submenu"]);
  __publicField(context_menu_default, "values", {
    side: String,
    align: String
  });

  // ../../app/ui/components/rails_ui/dialog/index.js
  var dialog_exports = {};
  __export(dialog_exports, {
    default: () => dialog_default
  });
  var dialog_default = class extends Controller {
    connect() {
      if (this.closeOnClickOutsideValue) {
        useClickOutside(this, { element: this.contentTarget });
      }
    }
    open() {
      this.overlayTarget.style.display = "block";
      this.contentTarget.style.display = "block";
      setTimeout(() => {
        this.overlayTarget.dataset.uiDialogState = "open";
        this.contentTarget.dataset.uiDialogState = "open";
      }, 10);
    }
    close() {
      this.overlayTarget.dataset.uiDialogState = "closed";
      this.contentTarget.dataset.uiDialogState = "closed";
      setTimeout(() => {
        this.overlayTarget.style.display = "none";
        this.contentTarget.style.display = "none";
      }, 30);
    }
    cancel(event) {
      event.preventDefault();
      this.close();
    }
    clickOutside(event) {
      if (this.closeOnClickOutsideValue) {
        this.close();
      }
    }
  };
  __publicField(dialog_default, "targets", ["overlay", "content"]);
  __publicField(dialog_default, "values", {
    closeOnClickOutside: Boolean
  });

  // ../../app/ui/components/rails_ui/dropdown_menu/index.js
  var dropdown_menu_exports = {};
  __export(dropdown_menu_exports, {
    default: () => dropdown_menu_default
  });
  var dropdown_menu_default = class extends Controller {
    connect() {
      this.closeMenu = this.closeMenu.bind(this);
    }
    toggle() {
      if (this.menuTarget.classList.contains(this.activeClass)) {
        this.closeMenu();
      } else {
        this.openMenu();
      }
    }
    openMenu() {
      this.menuTarget.classList.add(this.activeClass);
      this.menuTarget.removeAttribute("hidden");
      document.addEventListener("click", this.closeMenu);
      this.updatePosition();
    }
    closeMenu(event) {
      if (!event || !this.element.contains(event.target)) {
        this.menuTarget.classList.remove(this.activeClass);
        this.menuTarget.setAttribute("hidden", "");
        document.removeEventListener("click", this.closeMenu);
      }
    }
    updatePosition() {
      computePosition2(this.triggerTarget, this.menuTarget, {
        placement: "bottom-start",
        middleware: [
          offset2(6),
          flip2(),
          shift2({ padding: 5 })
        ]
      }).then(({ x, y }) => {
        Object.assign(this.menuTarget.style, {
          left: `${x}px`,
          top: `${y}px`
        });
      });
    }
  };
  __publicField(dropdown_menu_default, "targets", ["trigger", "menu"]);
  __publicField(dropdown_menu_default, "classes", ["active"]);

  // ../../app/ui/components/rails_ui/dropdown_menu_item/index.js
  var dropdown_menu_item_exports = {};

  // ../../app/ui/components/rails_ui/input_otp/index.js
  var input_otp_exports = {};
  __export(input_otp_exports, {
    default: () => input_otp_default
  });
  var input_otp_default = class extends Controller {
    connect() {
      this.inputTarget.addEventListener("input", this.handleInput.bind(this));
      this.inputTarget.addEventListener("keydown", this.handleKeydown.bind(this));
      this.inputTarget.addEventListener("focus", this.handleFocus.bind(this));
      this.inputTarget.addEventListener("blur", this.handleBlur.bind(this));
    }
    handleInput(event) {
      const input = event.target;
      const value = input.value.replace(/\D/g, "").slice(0, this.totalDigits);
      input.value = value;
      this.updateDigits(value);
      this.focusDigit(value.length);
    }
    handleKeydown(event) {
      if (event.key === "Backspace" && event.target.value === "") {
        this.focusPreviousInput();
      }
    }
    handleFocus() {
      this.element.classList.add("focused");
      this.focusDigit(this.inputTarget.value.length);
    }
    handleBlur() {
      this.element.classList.remove("focused");
      this.digitTargets.forEach((digit) => {
        digit.classList.remove("ring-2", "ring-ring", "ring-offset-background");
      });
    }
    updateDigits(value) {
      this.digitTargets.forEach((digit, index) => {
        digit.textContent = value[index] || "";
        digit.classList.toggle("filled", !!value[index]);
      });
    }
    focusDigit(index) {
      this.digitTargets.forEach((digit, i) => {
        if (i === index) {
          digit.classList.add("ring-2", "ring-ring", "ring-offset-background");
        } else {
          digit.classList.remove("ring-2", "ring-ring", "ring-offset-background");
        }
      });
    }
    focusPreviousInput() {
      const currentValue = this.inputTarget.value;
      if (currentValue.length > 0) {
        this.inputTarget.value = currentValue.slice(0, -1);
        this.updateDigits(this.inputTarget.value);
        this.focusDigit(this.inputTarget.value.length);
      }
    }
    get totalDigits() {
      return this.groupsValue.reduce((sum, group) => sum + group, 0);
    }
  };
  __publicField(input_otp_default, "targets", ["input", "digit"]);
  __publicField(input_otp_default, "values", {
    groups: Array
  });

  // ../../app/ui/components/rails_ui/menubar/index.js
  var menubar_exports = {};
  __export(menubar_exports, {
    default: () => menubar_default
  });
  var menubar_default = class extends Controller {
    connect() {
      this.activeSubmenus = /* @__PURE__ */ new Set();
      this.cleanup = null;
      this.submenus = /* @__PURE__ */ new Map();
      this.hideTimeout = null;
      document.addEventListener("click", this.handleClick.bind(this));
      document.addEventListener("mouseover", this.handleMouseOver.bind(this));
      document.addEventListener("mouseout", this.handleMouseOut.bind(this));
    }
    disconnect() {
      this.cleanupAllSubmenus();
      document.removeEventListener("click", this.handleClick.bind(this));
      document.removeEventListener("mouseover", this.handleMouseOver.bind(this));
      document.removeEventListener("mouseout", this.handleMouseOut.bind(this));
    }
    handleClick(event) {
      const menuItem = event.target.closest("[data-ui-menubar-item], [data-ui-menubar-submenu-item]");
      if (menuItem) {
        event.stopPropagation();
        if (menuItem.closest("[data-ui-menubar-top-level]") || menuItem.closest("[data-ui-menubar-submenu]")) {
          this.toggleMenu(menuItem);
        }
      } else if (!event.target.closest("[data-ui-menubar-submenu]")) {
        this.closeAllSubmenus();
      }
    }
    handleMouseOver(event) {
      const submenuItem = event.target.closest("[data-ui-menubar-submenu-item]");
      if (submenuItem && submenuItem.closest("[data-ui-menubar-top-level]")) {
        clearTimeout(this.hideTimeout);
        this.showSubmenu(submenuItem);
      }
    }
    handleMouseOut(event) {
      const submenuItem = event.target.closest("[data-ui-menubar-submenu-item]");
      if (submenuItem && submenuItem.closest("[data-ui-menubar-top-level]")) {
        this.hideSubmenuWithDelay(submenuItem);
      }
    }
    toggleMenu(menuItem) {
      const index = menuItem.dataset.uiMenubarItem || menuItem.dataset.uiMenubarSubmenuItem;
      const hasSubmenu = menuItem.dataset.hasSubmenu === "true";
      if (hasSubmenu) {
        if (this.activeSubmenus.has(index)) {
          this.closeSubmenu(this.submenus.get(index));
        } else {
          this.showSubmenu(menuItem);
        }
      } else {
        console.log(`Clicked menu item: ${menuItem.textContent.trim()}`);
        this.closeAllSubmenus();
      }
    }
    showSubmenu(menuItem) {
      const index = menuItem.dataset.uiMenubarItem || menuItem.dataset.uiMenubarSubmenuItem;
      const hasSubmenu = menuItem.dataset.hasSubmenu === "true";
      if (hasSubmenu) {
        this.closeSiblingSubmenus(menuItem);
        if (!this.submenus.has(index)) {
          this.createSubmenu(menuItem, index);
        } else {
          this.openSubmenu(menuItem, this.submenus.get(index));
        }
      }
    }
    hideSubmenuWithDelay(menuItem) {
      this.hideTimeout = setTimeout(() => {
        const submenuIndex = menuItem.dataset.uiMenubarItem || menuItem.dataset.uiMenubarSubmenuItem;
        if (submenuIndex && this.submenus.has(submenuIndex)) {
          const submenu = this.submenus.get(submenuIndex);
          if (!submenu.contains(document.activeElement)) {
            this.closeSubmenu(submenu);
          }
        }
      }, 300);
    }
    createSubmenu(menuItem, index) {
      const template = this.submenuTemplateTarget;
      const submenuContent = template.content.querySelector(`[data-submenu-for="${index}"]`);
      if (submenuContent) {
        const submenu = submenuContent.cloneNode(true);
        document.body.appendChild(submenu);
        this.submenus.set(index, submenu);
        this.openSubmenu(menuItem, submenu);
      }
    }
    openSubmenu(menuItem, submenu) {
      menuItem.setAttribute("aria-expanded", "true");
      menuItem.dataset.state = "open";
      submenu.dataset.state = "open";
      submenu.style.display = "block";
      const index = menuItem.dataset.uiMenubarItem || menuItem.dataset.uiMenubarSubmenuItem;
      this.activeSubmenus.add(index);
      this.cleanup = autoUpdate(menuItem, submenu, () => {
        this.positionSubmenu(menuItem, submenu);
      });
    }
    closeSubmenu(submenu) {
      const index = submenu.dataset.submenuFor;
      const menuItem = document.querySelector(`[data-ui-menubar-item="${index}"], [data-ui-menubar-submenu-item="${index}"]`);
      if (menuItem) {
        menuItem.setAttribute("aria-expanded", "false");
        menuItem.dataset.state = "closed";
      }
      submenu.dataset.state = "closed";
      submenu.style.display = "none";
      this.activeSubmenus.delete(index);
      if (this.cleanup) {
        this.cleanup();
        this.cleanup = null;
      }
      submenu.querySelectorAll("[data-ui-menubar-submenu-item]").forEach((childItem) => {
        const childIndex = childItem.dataset.uiMenubarSubmenuItem;
        if (this.submenus.has(childIndex)) {
          this.closeSubmenu(this.submenus.get(childIndex));
        }
      });
    }
    closeSiblingSubmenus(menuItem) {
      const parentSubmenu = menuItem.closest("[data-ui-menubar-submenu]");
      const siblingItems = parentSubmenu ? parentSubmenu.querySelectorAll(":scope > [data-ui-menubar-submenu-item]") : this.menuItemTargets;
      siblingItems.forEach((sibling) => {
        if (sibling !== menuItem) {
          const siblingIndex = sibling.dataset.uiMenubarItem || sibling.dataset.uiMenubarSubmenuItem;
          if (this.activeSubmenus.has(siblingIndex)) {
            this.closeSubmenu(this.submenus.get(siblingIndex));
          }
        }
      });
    }
    closeAllSubmenus() {
      this.activeSubmenus.forEach((index) => {
        if (this.submenus.has(index)) {
          this.closeSubmenu(this.submenus.get(index));
        }
      });
    }
    cleanupAllSubmenus() {
      this.submenus.forEach((submenu) => {
        if (submenu.parentNode) {
          submenu.parentNode.removeChild(submenu);
        }
      });
      this.submenus.clear();
      this.activeSubmenus.clear();
      if (this.cleanup) {
        this.cleanup();
        this.cleanup = null;
      }
    }
    positionSubmenu(menuItem, submenu) {
      const parentSubmenu = menuItem.closest("[data-ui-menubar-submenu]");
      const placement = parentSubmenu ? "right-start" : "bottom-start";
      computePosition2(menuItem, submenu, {
        placement,
        middleware: [
          offset2(4),
          flip2(),
          shift2({ padding: 5 })
        ]
      }).then(({ x, y }) => {
        Object.assign(submenu.style, {
          position: "absolute",
          left: `${x}px`,
          top: `${y}px`
        });
      });
    }
  };
  __publicField(menubar_default, "targets", ["menuItem", "submenuTemplate"]);

  // ../../app/ui/components/rails_ui/popover/index.js
  var popover_exports = {};
  __export(popover_exports, {
    default: () => popover_default
  });
  var popover_default = class extends Controller {
    connect() {
      this.visible = false;
      this.clickOutsideHandler = this.clickOutside.bind(this);
      if (this.triggerTypeValue === "hover") {
        this.triggerTarget.addEventListener("mouseenter", this.show.bind(this));
        this.triggerTarget.addEventListener("mouseleave", this.hide.bind(this));
      }
    }
    disconnect() {
      document.removeEventListener("click", this.clickOutsideHandler);
      if (this.triggerTypeValue === "hover") {
        this.triggerTarget.removeEventListener("mouseenter", this.show.bind(this));
        this.triggerTarget.removeEventListener("mouseleave", this.hide.bind(this));
      }
      if (this.popoverContent) {
        document.body.removeChild(this.popoverContent);
      }
    }
    toggle(event) {
      event.stopPropagation();
      this.visible ? this.hide() : this.show();
    }
    show() {
      if (!this.popoverContent) {
        this.popoverContent = this.contentTemplateTarget.content.firstElementChild.cloneNode(true);
        document.body.appendChild(this.popoverContent);
      }
      this.popoverContent.style.display = "block";
      this.popoverContent.style.visibility = "hidden";
      setTimeout(() => {
        this.positionPopover();
        this.popoverContent.style.visibility = "visible";
      }, 0);
      this.visible = true;
      if (this.triggerTypeValue === "click") {
        document.addEventListener("click", this.clickOutsideHandler);
      }
    }
    hide() {
      if (this.popoverContent) {
        this.popoverContent.style.display = "none";
      }
      this.visible = false;
      if (this.triggerTypeValue === "click") {
        document.removeEventListener("click", this.clickOutsideHandler);
      }
    }
    clickOutside(event) {
      if (!this.element.contains(event.target) && !this.popoverContent.contains(event.target)) {
        this.hide();
      }
    }
    positionPopover() {
      const middleware = [
        offset2(this.offsetValue),
        flip2(),
        shift2({ padding: 5 })
      ];
      if (this.arrowValue) {
        const arrowElement = this.popoverContent.querySelector('[data-ui-popover-target="arrow"]');
        if (arrowElement) {
          middleware.push(arrow2({ element: arrowElement }));
        }
      }
      computePosition2(this.triggerTarget, this.popoverContent, {
        placement: this.placementValue,
        middleware
      }).then(({ x, y, placement, middlewareData }) => {
        Object.assign(this.popoverContent.style, {
          position: "absolute",
          left: `${x}px`,
          top: `${y}px`,
          zIndex: 1e3
        });
        if (this.arrowValue) {
          const arrowElement = this.popoverContent.querySelector('[data-ui-popover-target="arrow"]');
          if (arrowElement) {
            const { x: arrowX, y: arrowY } = middlewareData.arrow;
            const staticSide = {
              top: "bottom",
              right: "left",
              bottom: "top",
              left: "right"
            }[placement.split("-")[0]];
            Object.assign(arrowElement.style, {
              left: arrowX != null ? `${arrowX}px` : "",
              top: arrowY != null ? `${arrowY}px` : "",
              right: "",
              bottom: "",
              [staticSide]: "-4px"
            });
          }
        }
      });
    }
  };
  __publicField(popover_default, "targets", ["trigger", "contentTemplate", "arrow"]);
  __publicField(popover_default, "values", {
    placement: String,
    offset: Number,
    arrow: Boolean,
    triggerType: String
  });

  // ../../app/ui/components/rails_ui/progress/index.js
  var progress_exports = {};

  // ../../app/ui/components/rails_ui/resizable/index.js
  var resizable_exports = {};
  __export(resizable_exports, {
    default: () => resizable_default
  });
  var import_interactjs = __toESM(require_interact_min());
  var resizable_default = class extends Controller {
    connect() {
      this.initializeResizable();
    }
    initializeResizable() {
      const isHorizontal = this.directionValue === "horizontal";
      const handles = this.element.querySelectorAll('[data-panel-resize-handle-enabled="true"]');
      handles.forEach((handle, index) => {
        (0, import_interactjs.default)(handle).draggable({
          axis: isHorizontal ? "x" : "y",
          listeners: {
            move: (event) => {
              const prevPanel = this.element.querySelector(`[data-panel-id="${this.element.id}-panel-${index}"]`);
              const nextPanel = this.element.querySelector(`[data-panel-id="${this.element.id}-panel-${index + 1}"]`);
              const prevSize = parseFloat(prevPanel.dataset.panelSize);
              const nextSize = parseFloat(nextPanel.dataset.panelSize);
              const totalSize = prevSize + nextSize;
              const delta = isHorizontal ? event.dx / this.element.offsetWidth * totalSize : event.dy / this.element.offsetHeight * totalSize;
              const newPrevSize = Math.max(10, Math.min(90, prevSize + delta));
              const newNextSize = totalSize - newPrevSize;
              prevPanel.style.flex = `${newPrevSize} 1 0%`;
              nextPanel.style.flex = `${newNextSize} 1 0%`;
              prevPanel.dataset.panelSize = newPrevSize.toString();
              nextPanel.dataset.panelSize = newNextSize.toString();
              handle.setAttribute("aria-valuenow", newPrevSize.toFixed(0));
              handle.setAttribute("aria-valuemax", "90");
              handle.setAttribute("aria-valuemin", "10");
            }
          }
        });
      });
    }
  };
  __publicField(resizable_default, "values", {
    direction: String,
    panels: Array
  });

  // ../../app/ui/components/rails_ui/sheet/index.js
  var sheet_exports = {};
  __export(sheet_exports, {
    default: () => sheet_default
  });
  var sheet_default = class extends Controller {
    connect() {
      useTransition(this, {
        element: this.contentTarget,
        enterActive: "transition ease-out duration-300",
        enterFrom: this.getEnterFromClass(),
        enterTo: this.getEnterToClass(),
        leaveActive: "transition ease-in duration-200",
        leaveFrom: this.getEnterToClass(),
        leaveTo: this.getEnterFromClass()
      });
    }
    open() {
      this.overlayTarget.classList.remove("hidden");
      this.contentTarget.classList.remove("hidden");
      this.enter();
    }
    close() {
      this.leave();
      setTimeout(() => {
        this.overlayTarget.classList.add("hidden");
        this.contentTarget.classList.add("hidden");
      }, 200);
    }
    clickOutside(event) {
      if (!this.contentTarget.contains(event.target)) {
        this.close();
      }
    }
    getEnterFromClass() {
      const side = this.contentTarget.dataset.side;
      switch (side) {
        case "top":
          return "-translate-y-full";
        case "right":
          return "translate-x-full";
        case "bottom":
          return "translate-y-full";
        case "left":
          return "-translate-x-full";
        default:
          return "translate-x-full";
      }
    }
    getEnterToClass() {
      return "translate-y-0 translate-x-0";
    }
  };
  __publicField(sheet_default, "targets", ["overlay", "content"]);

  // ../../app/ui/components/rails_ui/skeleton/index.js
  var skeleton_exports = {};
  __export(skeleton_exports, {
    default: () => Controller2
  });
  var Controller2 = class extends Controller {
    connect() {
    }
    disconnect() {
    }
  };

  // ../../app/ui/components/rails_ui/table/index.js
  var table_exports = {};

  // ../../app/ui/components/rails_ui/tabs/index.js
  var tabs_exports = {};

  // ../../app/ui/components/rails_ui/toast/index.js
  var toast_exports = {};
  __export(toast_exports, {
    default: () => toast_default
  });

  // node_modules/el-transition/index.js
  async function enter(element, transitionName = null) {
    element.classList.remove("hidden");
    await transition("enter", element, transitionName);
  }
  async function leave(element, transitionName = null) {
    await transition("leave", element, transitionName);
    element.classList.add("hidden");
  }
  async function transition(direction, element, animation) {
    const dataset = element.dataset;
    const animationClass = animation ? `${animation}-${direction}` : direction;
    let transition2 = `transition${direction.charAt(0).toUpperCase() + direction.slice(1)}`;
    const genesis = dataset[transition2] ? dataset[transition2].split(" ") : [animationClass];
    const start = dataset[`${transition2}Start`] ? dataset[`${transition2}Start`].split(" ") : [`${animationClass}-start`];
    const end = dataset[`${transition2}End`] ? dataset[`${transition2}End`].split(" ") : [`${animationClass}-end`];
    addClasses(element, genesis);
    addClasses(element, start);
    await nextFrame();
    removeClasses(element, start);
    addClasses(element, end);
    await afterTransition2(element);
    removeClasses(element, end);
    removeClasses(element, genesis);
  }
  function addClasses(element, classes) {
    element.classList.add(...classes);
  }
  function removeClasses(element, classes) {
    element.classList.remove(...classes);
  }
  function nextFrame() {
    return new Promise((resolve) => {
      requestAnimationFrame(() => {
        requestAnimationFrame(resolve);
      });
    });
  }
  function afterTransition2(element) {
    return new Promise((resolve) => {
      const computedDuration = getComputedStyle(element).transitionDuration.split(",")[0];
      const duration = Number(computedDuration.replace("s", "")) * 1e3;
      setTimeout(() => {
        resolve();
      }, duration);
    });
  }

  // ../../app/ui/components/rails_ui/toast/index.js
  var toast_default = class extends Controller {
    connect() {
      this.setupCustomEvent();
      this.setupTurboStreamListener();
    }
    setupCustomEvent() {
      document.addEventListener("ui:toast", this.handleCustomToast.bind(this));
    }
    setupTurboStreamListener() {
      document.addEventListener("turbo:before-stream-render", (event) => {
        const turboStream = event.target;
        if (turboStream.action === "append" && turboStream.target === "toasts") {
          event.preventDefault();
          this.appendToast(turboStream.templateContent.querySelector("li"));
        }
      });
    }
    handleCustomToast(event) {
      const { title, content, type } = event.detail;
      this.appendToast(this.createToastElement(title, content, type));
    }
    createToastElement(title, content, type) {
      const toast = document.createElement("li");
      toast.innerHTML = `
      <div data-content="">
        <div data-title="">${title}</div>
        <div>${content}</div>
      </div>
    `;
      toast.className = "mb-2 p-4 rounded-md shadow-md transition-all duration-300 transform translate-y-full opacity-0-";
      toast.dataset.uiToastTarget = "item";
      toast.dataset.action = "click->ui-toast#dismiss";
      return toast;
    }
    appendToast(toastElement) {
      this.containerTarget.appendChild(toastElement);
      enter(toastElement);
    }
    dismiss(event) {
      const toast = event.target.closest('[data-ui-toast-target="item"]');
      leave(toast).then(() => {
        toast.remove();
      });
    }
  };
  __publicField(toast_default, "targets", ["container", "item"]);
  __publicField(toast_default, "values", {
    theme: String,
    positionY: String,
    positionX: String
  });

  // ../../app/ui/components/rails_ui/toast_item/index.js
  var toast_item_exports = {};

  // ../../app/ui/components/rails_ui/toggle/index.js
  var toggle_exports = {};
  __export(toggle_exports, {
    default: () => toggle_default
  });
  var toggle_default = class extends Controller {
    connect() {
      this.updatePressed();
    }
    toggle() {
      this.pressedValue = !this.pressedValue;
      this.updatePressed();
    }
    updatePressed() {
      this.buttonTarget.setAttribute("aria-pressed", this.pressedValue);
      this.buttonTarget.dataset.state = this.pressedValue ? "on" : "off";
    }
  };
  __publicField(toggle_default, "targets", ["button"]);
  __publicField(toggle_default, "values", {
    pressed: Boolean
  });

  // ../../app/ui/components/rails_ui/tooltip/index.js
  var tooltip_exports = {};
  __export(tooltip_exports, {
    default: () => tooltip_default
  });
  var tooltip_default = class extends Controller {
    connect() {
      this.showTooltipBound = this.showTooltip.bind(this);
      this.hideTooltipBound = this.hideTooltip.bind(this);
      this.triggerTarget.addEventListener("mouseenter", this.showTooltipBound);
      this.triggerTarget.addEventListener("mouseleave", this.hideTooltipBound);
      this.triggerTarget.addEventListener("focus", this.showTooltipBound);
      this.triggerTarget.addEventListener("blur", this.hideTooltipBound);
      this.cleanup = autoUpdate(
        this.triggerTarget,
        this.contentTarget,
        this.updatePosition.bind(this)
      );
    }
    disconnect() {
      this.triggerTarget.removeEventListener("mouseenter", this.showTooltipBound);
      this.triggerTarget.removeEventListener("mouseleave", this.hideTooltipBound);
      this.triggerTarget.removeEventListener("focus", this.showTooltipBound);
      this.triggerTarget.removeEventListener("blur", this.hideTooltipBound);
      if (this.cleanup) {
        this.cleanup();
      }
    }
    showTooltip() {
      clearTimeout(this.hideTimeout);
      this.showTimeout = setTimeout(() => {
        this.contentTarget.classList.remove("hidden");
        this.updatePosition();
      }, this.delayValue);
    }
    hideTooltip() {
      clearTimeout(this.showTimeout);
      this.hideTimeout = setTimeout(() => {
        this.contentTarget.classList.add("hidden");
      }, 40);
    }
    updatePosition() {
      computePosition2(this.triggerTarget, this.contentTarget, {
        placement: this.placementValue,
        middleware: [
          offset2(6),
          flip2(),
          shift2({ padding: 5 }),
          arrow2({ element: this.arrowTarget })
        ]
      }).then(({ x, y, placement, middlewareData }) => {
        Object.assign(this.contentTarget.style, {
          left: `${x}px`,
          top: `${y}px`
        });
        const { x: arrowX, y: arrowY } = middlewareData.arrow;
        const staticSide = {
          top: "bottom",
          right: "left",
          bottom: "top",
          left: "right"
        }[placement.split("-")[0]];
        Object.assign(this.arrowTarget.style, {
          left: arrowX != null ? `${arrowX}px` : "",
          top: arrowY != null ? `${arrowY}px` : "",
          right: "",
          bottom: "",
          [staticSide]: "-4px"
        });
      });
    }
  };
  __publicField(tooltip_default, "targets", ["trigger", "content", "arrow"]);
  __publicField(tooltip_default, "values", {
    delay: Number,
    placement: String
  });

  // rails:/Users/michelson/Documents/cience/rails_ui/app/ui/components/rails_ui/**/*index.js
  var modules2 = [{ name: "..--..--..--..--..--app--ui--components--rails-ui--accordion--index.js", module: accordion_exports, filename: "../../../../../app/ui/components/rails_ui/accordion/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--accordion-item--index.js", module: accordion_item_exports, filename: "../../../../../app/ui/components/rails_ui/accordion_item/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--alert--index.js", module: alert_exports, filename: "../../../../../app/ui/components/rails_ui/alert/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--alert-dialog--index.js", module: alert_dialog_exports, filename: "../../../../../app/ui/components/rails_ui/alert_dialog/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--aspect-ratio--index.js", module: aspect_ratio_exports, filename: "../../../../../app/ui/components/rails_ui/aspect_ratio/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--avatar--index.js", module: avatar_exports, filename: "../../../../../app/ui/components/rails_ui/avatar/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--badge--index.js", module: badge_exports, filename: "../../../../../app/ui/components/rails_ui/badge/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--breadcrumb--index.js", module: breadcrumb_exports, filename: "../../../../../app/ui/components/rails_ui/breadcrumb/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--breadcrumb-item--index.js", module: breadcrumb_item_exports, filename: "../../../../../app/ui/components/rails_ui/breadcrumb_item/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--button--index.js", module: button_exports, filename: "../../../../../app/ui/components/rails_ui/button/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--calendar--index.js", module: calendar_exports, filename: "../../../../../app/ui/components/rails_ui/calendar/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--card--index.js", module: card_exports, filename: "../../../../../app/ui/components/rails_ui/card/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--carousel--index.js", module: carousel_exports, filename: "../../../../../app/ui/components/rails_ui/carousel/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--collapsible--index.js", module: collapsible_exports, filename: "../../../../../app/ui/components/rails_ui/collapsible/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--command--index.js", module: command_exports, filename: "../../../../../app/ui/components/rails_ui/command/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--context-menu--index.js", module: context_menu_exports, filename: "../../../../../app/ui/components/rails_ui/context_menu/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--dialog--index.js", module: dialog_exports, filename: "../../../../../app/ui/components/rails_ui/dialog/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--dropdown-menu--index.js", module: dropdown_menu_exports, filename: "../../../../../app/ui/components/rails_ui/dropdown_menu/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--dropdown-menu-item--index.js", module: dropdown_menu_item_exports, filename: "../../../../../app/ui/components/rails_ui/dropdown_menu_item/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--input-otp--index.js", module: input_otp_exports, filename: "../../../../../app/ui/components/rails_ui/input_otp/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--menubar--index.js", module: menubar_exports, filename: "../../../../../app/ui/components/rails_ui/menubar/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--popover--index.js", module: popover_exports, filename: "../../../../../app/ui/components/rails_ui/popover/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--progress--index.js", module: progress_exports, filename: "../../../../../app/ui/components/rails_ui/progress/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--resizable--index.js", module: resizable_exports, filename: "../../../../../app/ui/components/rails_ui/resizable/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--sheet--index.js", module: sheet_exports, filename: "../../../../../app/ui/components/rails_ui/sheet/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--skeleton--index.js", module: skeleton_exports, filename: "../../../../../app/ui/components/rails_ui/skeleton/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--table--index.js", module: table_exports, filename: "../../../../../app/ui/components/rails_ui/table/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--tabs--index.js", module: tabs_exports, filename: "../../../../../app/ui/components/rails_ui/tabs/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--toast--index.js", module: toast_exports, filename: "../../../../../app/ui/components/rails_ui/toast/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--toast-item--index.js", module: toast_item_exports, filename: "../../../../../app/ui/components/rails_ui/toast_item/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--toggle--index.js", module: toggle_exports, filename: "../../../../../app/ui/components/rails_ui/toggle/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--tooltip--index.js", module: tooltip_exports, filename: "../../../../../app/ui/components/rails_ui/tooltip/index.js" }];
  var index_default = modules2;

  // app/javascript/controllers/index.js
  controller_default.forEach((controller) => {
    application.register(controller.name, controller.module.default);
  });
  console.log(index_default);
  index_default.forEach((controller) => {
    if (controller.module.default) {
      let name = controller.name.replace("--index.js", "");
      name = name.replace("..--..--..--..--..--app--ui--components--rails-ui--", "");
      name = `ui-${name}`;
      console.log("ADDINDG CONTROLLER", name);
      application.register(name, controller.module.default);
    }
  });
  console.log(application);
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL2lzV2luZG93LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy93aW5kb3cudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL2lzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL2RyYWcvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9kb21PYmplY3RzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9icm93c2VyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9yZWN0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9nZXRPcmlnaW5YWS50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvbm9ybWFsaXplTGlzdGVuZXJzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9oeXBvdC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvcG9pbnRlckV4dGVuZC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvcG9pbnRlclV0aWxzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9jb3JlL0Jhc2VFdmVudC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvYXJyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL2Ryb3AvRHJvcEV2ZW50LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL2Ryb3AvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL2dlc3R1cmUvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL3Jlc2l6ZS9wbHVnaW4udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL3JhZi50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvYWN0aW9ucy9wbHVnaW4udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2F1dG8tc2Nyb2xsL3BsdWdpbi50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvbWlzYy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvYXV0by1zdGFydC9JbnRlcmFjdGFibGVNZXRob2RzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hdXRvLXN0YXJ0L2Jhc2UudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2F1dG8tc3RhcnQvZHJhZ0F4aXMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2F1dG8tc3RhcnQvaG9sZC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvYXV0by1zdGFydC9wbHVnaW4udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvaW50ZXJhY3RhYmxlUHJldmVudERlZmF1bHQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL2lzTm9uTmF0aXZlRXZlbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL2Nsb25lLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvTW9kaWZpY2F0aW9uLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvYmFzZS50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvY29yZS9vcHRpb25zLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0RXZlbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvUG9pbnRlckluZm8udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL29mZnNldC9wbHVnaW4udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2luZXJ0aWEvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9jb3JlL0V2ZW50YWJsZS50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvY29yZS9ldmVudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvaW50ZXJhY3Rpb25GaW5kZXIudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvaW50ZXJhY3Rpb25zLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZS50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGVTZXQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RTdGF0aWMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2ludGVyYWN0L2luZGV4LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9zbmFwcGVycy9lZGdlVGFyZ2V0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9zbmFwcGVycy9lbGVtZW50cy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvc25hcHBlcnMvZ3JpZC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvc25hcHBlcnMvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvYXNwZWN0UmF0aW8udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL21vZGlmaWVycy9ub29wLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvcmVzdHJpY3QvcG9pbnRlci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvbW9kaWZpZXJzL3Jlc3RyaWN0L2VkZ2VzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvcmVzdHJpY3QvcmVjdC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvbW9kaWZpZXJzL3Jlc3RyaWN0L3NpemUudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL21vZGlmaWVycy9zbmFwL3BvaW50ZXIudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL21vZGlmaWVycy9zbmFwL3NpemUudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL21vZGlmaWVycy9zbmFwL2VkZ2VzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvYWxsLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9wb2ludGVyLWV2ZW50cy9Qb2ludGVyRXZlbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL2Jhc2UudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL2hvbGRSZXBlYXQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL2ludGVyYWN0YWJsZVRhcmdldHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL3BsdWdpbi50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvcmVmbG93L3BsdWdpbi50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvaW50ZXJhY3Rqcy9pbmRleC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvaW50ZXJhY3Rqcy9pbmRleC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGhvdHdpcmVkL3N0aW11bHVzL2Rpc3Qvc3RpbXVsdXMuanMiLCAiLi4vLi4vamF2YXNjcmlwdC9jb250cm9sbGVycy9hcHBsaWNhdGlvbi5qcyIsICIuLi8uLi9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL2hlbGxvX2NvbnRyb2xsZXIuanMiLCAicmFpbHM6L1VzZXJzL21pY2hlbHNvbi9Eb2N1bWVudHMvY2llbmNlL3JhaWxzX3VpL3Rlc3QvZHVtbXkvYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvKiovKl9jb250cm9sbGVyLmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2FjY29yZGlvbi9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hY2NvcmRpb25faXRlbS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hbGVydC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hbGVydF9kaWFsb2cvaW5kZXguanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0aW11bHVzLXVzZS9kaXN0L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2FzcGVjdF9yYXRpby9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hdmF0YXIvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYmFkZ2UvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYnJlYWRjcnVtYi9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9icmVhZGNydW1iX2l0ZW0vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYnV0dG9uL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2NhbGVuZGFyL2luZGV4LmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy90b0RhdGUubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9jb25zdHJ1Y3RGcm9tLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvYWRkTW9udGhzLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvY29uc3RhbnRzLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9kZWZhdWx0T3B0aW9ucy5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3N0YXJ0T2ZXZWVrLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZklTT1dlZWsubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9nZXRJU09XZWVrWWVhci5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3N0YXJ0T2ZEYXkubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2dldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9kaWZmZXJlbmNlSW5DYWxlbmRhckRheXMubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdGFydE9mSVNPV2Vla1llYXIubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9jb25zdHJ1Y3ROb3cubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9pc1NhbWVEYXkubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9pc0RhdGUubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9pc1ZhbGlkLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZW5kT2ZNb250aC5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VhY2hEYXlPZkludGVydmFsLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZk1vbnRoLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZlllYXIubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lbmRPZldlZWsubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvX2xpYi9mb3JtYXREaXN0YW5jZS5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9fbGliL2J1aWxkRm9ybWF0TG9uZ0ZuLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTL19saWIvZm9ybWF0TG9uZy5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy9fbGliL2Zvcm1hdFJlbGF0aXZlLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL19saWIvYnVpbGRMb2NhbGl6ZUZuLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTL19saWIvbG9jYWxpemUubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvX2xpYi9idWlsZE1hdGNoRm4ubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvX2xpYi9idWlsZE1hdGNoUGF0dGVybkZuLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTL19saWIvbWF0Y2gubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9nZXREYXlPZlllYXIubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9nZXRJU09XZWVrLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0V2Vla1llYXIubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdGFydE9mV2Vla1llYXIubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9nZXRXZWVrLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9hZGRMZWFkaW5nWmVyb3MubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2Zvcm1hdC9saWdodEZvcm1hdHRlcnMubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2Zvcm1hdC9mb3JtYXR0ZXJzLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9mb3JtYXQvbG9uZ0Zvcm1hdHRlcnMubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL3Byb3RlY3RlZFRva2Vucy5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2Zvcm1hdC5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2lzU2FtZU1vbnRoLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvaXNUb2RheS5tanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY2FyZC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jYXJvdXNlbC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jb2xsYXBzaWJsZS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jb21tYW5kL2luZGV4LmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9ob3RrZXlzLWpzL2Rpc3QvaG90a2V5cy5lc20uanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0aW11bHVzLXVzZS9kaXN0L2hvdGtleXMuanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY29udGV4dF9tZW51L2luZGV4LmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZmxvYXRpbmctdWkvdXRpbHMvZGlzdC9mbG9hdGluZy11aS51dGlscy5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BmbG9hdGluZy11aS9jb3JlL2Rpc3QvZmxvYXRpbmctdWkuY29yZS5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BmbG9hdGluZy11aS91dGlscy9kaXN0L2Zsb2F0aW5nLXVpLnV0aWxzLmRvbS5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BmbG9hdGluZy11aS9kb20vZGlzdC9mbG9hdGluZy11aS5kb20ubWpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2RpYWxvZy9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9kcm9wZG93bl9tZW51L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2Ryb3Bkb3duX21lbnVfaXRlbS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9pbnB1dF9vdHAvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvbWVudWJhci9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9wb3BvdmVyL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3Byb2dyZXNzL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3Jlc2l6YWJsZS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9zaGVldC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9za2VsZXRvbi9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90YWJsZS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90YWJzL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3RvYXN0L2luZGV4LmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9lbC10cmFuc2l0aW9uL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3RvYXN0X2l0ZW0vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvdG9nZ2xlL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3Rvb2x0aXAvaW5kZXguanMiLCAicmFpbHM6L1VzZXJzL21pY2hlbHNvbi9Eb2N1bWVudHMvY2llbmNlL3JhaWxzX3VpL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpLyoqLyppbmRleC5qcyIsICIuLi8uLi9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL2luZGV4LmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJleHBvcnQgZGVmYXVsdCAodGhpbmc6IGFueSkgPT4gISEodGhpbmcgJiYgdGhpbmcuV2luZG93KSAmJiB0aGluZyBpbnN0YW5jZW9mIHRoaW5nLldpbmRvd1xuIiwgImltcG9ydCBpc1dpbmRvdyBmcm9tICcuL2lzV2luZG93J1xuXG5leHBvcnQgbGV0IHJlYWxXaW5kb3cgPSB1bmRlZmluZWQgYXMgV2luZG93XG5cbmxldCB3aW4gPSB1bmRlZmluZWQgYXMgV2luZG93XG5leHBvcnQgeyB3aW4gYXMgd2luZG93IH1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQod2luZG93OiBXaW5kb3cgJiB7IHdyYXA/OiAoLi4uYXJnczogYW55W10pID0+IGFueSB9KSB7XG4gIC8vIGdldCB3cmFwcGVkIHdpbmRvdyBpZiB1c2luZyBTaGFkb3cgRE9NIHBvbHlmaWxsXG5cbiAgcmVhbFdpbmRvdyA9IHdpbmRvd1xuXG4gIC8vIGNyZWF0ZSBhIFRleHROb2RlXG4gIGNvbnN0IGVsID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKVxuXG4gIC8vIGNoZWNrIGlmIGl0J3Mgd3JhcHBlZCBieSBhIHBvbHlmaWxsXG4gIGlmIChlbC5vd25lckRvY3VtZW50ICE9PSB3aW5kb3cuZG9jdW1lbnQgJiYgdHlwZW9mIHdpbmRvdy53cmFwID09PSAnZnVuY3Rpb24nICYmIHdpbmRvdy53cmFwKGVsKSA9PT0gZWwpIHtcbiAgICAvLyB1c2Ugd3JhcHBlZCB3aW5kb3dcbiAgICB3aW5kb3cgPSB3aW5kb3cud3JhcCh3aW5kb3cpXG4gIH1cblxuICB3aW4gPSB3aW5kb3dcbn1cblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICEhd2luZG93KSB7XG4gIGluaXQod2luZG93KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2luZG93KG5vZGU6IGFueSkge1xuICBpZiAoaXNXaW5kb3cobm9kZSkpIHtcbiAgICByZXR1cm4gbm9kZVxuICB9XG5cbiAgY29uc3Qgcm9vdE5vZGUgPSBub2RlLm93bmVyRG9jdW1lbnQgfHwgbm9kZVxuXG4gIHJldHVybiByb290Tm9kZS5kZWZhdWx0VmlldyB8fCB3aW4ud2luZG93XG59XG4iLCAiaW1wb3J0IGlzV2luZG93IGZyb20gJy4vaXNXaW5kb3cnXG5pbXBvcnQgKiBhcyB3aW4gZnJvbSAnLi93aW5kb3cnXG5cbmNvbnN0IHdpbmRvdyA9ICh0aGluZzogYW55KTogdGhpbmcgaXMgV2luZG93ID0+IHRoaW5nID09PSB3aW4ud2luZG93IHx8IGlzV2luZG93KHRoaW5nKVxuXG5jb25zdCBkb2NGcmFnID0gKHRoaW5nOiBhbnkpOiB0aGluZyBpcyBEb2N1bWVudEZyYWdtZW50ID0+IG9iamVjdCh0aGluZykgJiYgdGhpbmcubm9kZVR5cGUgPT09IDExXG5cbmNvbnN0IG9iamVjdCA9ICh0aGluZzogYW55KTogdGhpbmcgaXMgeyBbaW5kZXg6IHN0cmluZ106IGFueSB9ID0+ICEhdGhpbmcgJiYgdHlwZW9mIHRoaW5nID09PSAnb2JqZWN0J1xuXG5jb25zdCBmdW5jID0gKHRoaW5nOiBhbnkpOiB0aGluZyBpcyAoLi4uYXJnczogYW55W10pID0+IGFueSA9PiB0eXBlb2YgdGhpbmcgPT09ICdmdW5jdGlvbidcblxuY29uc3QgbnVtYmVyID0gKHRoaW5nOiBhbnkpOiB0aGluZyBpcyBudW1iZXIgPT4gdHlwZW9mIHRoaW5nID09PSAnbnVtYmVyJ1xuXG5jb25zdCBib29sID0gKHRoaW5nOiBhbnkpOiB0aGluZyBpcyBib29sZWFuID0+IHR5cGVvZiB0aGluZyA9PT0gJ2Jvb2xlYW4nXG5cbmNvbnN0IHN0cmluZyA9ICh0aGluZzogYW55KTogdGhpbmcgaXMgc3RyaW5nID0+IHR5cGVvZiB0aGluZyA9PT0gJ3N0cmluZydcblxuY29uc3QgZWxlbWVudCA9ICh0aGluZzogYW55KTogdGhpbmcgaXMgSFRNTEVsZW1lbnQgfCBTVkdFbGVtZW50ID0+IHtcbiAgaWYgKCF0aGluZyB8fCB0eXBlb2YgdGhpbmcgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBjb25zdCBfd2luZG93ID0gd2luLmdldFdpbmRvdyh0aGluZykgfHwgd2luLndpbmRvd1xuXG4gIHJldHVybiAvb2JqZWN0fGZ1bmN0aW9uLy50ZXN0KHR5cGVvZiBFbGVtZW50KVxuICAgID8gdGhpbmcgaW5zdGFuY2VvZiBFbGVtZW50IHx8IHRoaW5nIGluc3RhbmNlb2YgX3dpbmRvdy5FbGVtZW50XG4gICAgOiB0aGluZy5ub2RlVHlwZSA9PT0gMSAmJiB0eXBlb2YgdGhpbmcubm9kZU5hbWUgPT09ICdzdHJpbmcnXG59XG5cbmNvbnN0IHBsYWluT2JqZWN0OiB0eXBlb2Ygb2JqZWN0ID0gKHRoaW5nOiBhbnkpOiB0aGluZyBpcyB7IFtpbmRleDogc3RyaW5nXTogYW55IH0gPT5cbiAgb2JqZWN0KHRoaW5nKSAmJiAhIXRoaW5nLmNvbnN0cnVjdG9yICYmIC9mdW5jdGlvbiBPYmplY3RcXGIvLnRlc3QodGhpbmcuY29uc3RydWN0b3IudG9TdHJpbmcoKSlcblxuY29uc3QgYXJyYXkgPSA8VCBleHRlbmRzIHVua25vd24+KHRoaW5nOiBhbnkpOiB0aGluZyBpcyBUW10gPT5cbiAgb2JqZWN0KHRoaW5nKSAmJiB0eXBlb2YgdGhpbmcubGVuZ3RoICE9PSAndW5kZWZpbmVkJyAmJiBmdW5jKHRoaW5nLnNwbGljZSlcblxuZXhwb3J0IGRlZmF1bHQge1xuICB3aW5kb3csXG4gIGRvY0ZyYWcsXG4gIG9iamVjdCxcbiAgZnVuYyxcbiAgbnVtYmVyLFxuICBib29sLFxuICBzdHJpbmcsXG4gIGVsZW1lbnQsXG4gIHBsYWluT2JqZWN0LFxuICBhcnJheSxcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdEV2ZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdEV2ZW50J1xuaW1wb3J0IHR5cGUgeyBQZXJBY3Rpb25EZWZhdWx0cyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucydcbmltcG9ydCB0eXBlIHsgU2NvcGUsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IExpc3RlbmVyc0FyZywgT3JCb29sZWFuIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGFibGUge1xuICAgIGRyYWdnYWJsZShvcHRpb25zOiBQYXJ0aWFsPE9yQm9vbGVhbjxEcmFnZ2FibGVPcHRpb25zPj4gfCBib29sZWFuKTogdGhpc1xuICAgIGRyYWdnYWJsZSgpOiBEcmFnZ2FibGVPcHRpb25zXG4gICAgLyoqXG4gICAgICogYGBganNcbiAgICAgKiBpbnRlcmFjdChlbGVtZW50KS5kcmFnZ2FibGUoe1xuICAgICAqICAgICBvbnN0YXJ0OiBmdW5jdGlvbiAoZXZlbnQpIHt9LFxuICAgICAqICAgICBvbm1vdmUgOiBmdW5jdGlvbiAoZXZlbnQpIHt9LFxuICAgICAqICAgICBvbmVuZCAgOiBmdW5jdGlvbiAoZXZlbnQpIHt9LFxuICAgICAqXG4gICAgICogICAgIC8vIHRoZSBheGlzIGluIHdoaWNoIHRoZSBmaXJzdCBtb3ZlbWVudCBtdXN0IGJlXG4gICAgICogICAgIC8vIGZvciB0aGUgZHJhZyBzZXF1ZW5jZSB0byBzdGFydFxuICAgICAqICAgICAvLyAneHknIGJ5IGRlZmF1bHQgLSBhbnkgZGlyZWN0aW9uXG4gICAgICogICAgIHN0YXJ0QXhpczogJ3gnIHx8ICd5JyB8fCAneHknLFxuICAgICAqXG4gICAgICogICAgIC8vICd4eScgYnkgZGVmYXVsdCAtIGRvbid0IHJlc3RyaWN0IHRvIG9uZSBheGlzIChtb3ZlIGluIGFueSBkaXJlY3Rpb24pXG4gICAgICogICAgIC8vICd4JyBvciAneScgdG8gcmVzdHJpY3QgbW92ZW1lbnQgdG8gZWl0aGVyIGF4aXNcbiAgICAgKiAgICAgLy8gJ3N0YXJ0JyB0byByZXN0cmljdCBtb3ZlbWVudCB0byB0aGUgYXhpcyB0aGUgZHJhZyBzdGFydGVkIGluXG4gICAgICogICAgIGxvY2tBeGlzOiAneCcgfHwgJ3knIHx8ICd4eScgfHwgJ3N0YXJ0JyxcbiAgICAgKlxuICAgICAqICAgICAvLyBtYXggbnVtYmVyIG9mIGRyYWdzIHRoYXQgY2FuIGhhcHBlbiBjb25jdXJyZW50bHlcbiAgICAgKiAgICAgLy8gd2l0aCBlbGVtZW50cyBvZiB0aGlzIEludGVyYWN0YWJsZS4gSW5maW5pdHkgYnkgZGVmYXVsdFxuICAgICAqICAgICBtYXg6IEluZmluaXR5LFxuICAgICAqXG4gICAgICogICAgIC8vIG1heCBudW1iZXIgb2YgZHJhZ3MgdGhhdCBjYW4gdGFyZ2V0IHRoZSBzYW1lIGVsZW1lbnQrSW50ZXJhY3RhYmxlXG4gICAgICogICAgIC8vIDEgYnkgZGVmYXVsdFxuICAgICAqICAgICBtYXhQZXJFbGVtZW50OiAyXG4gICAgICogfSlcbiAgICAgKlxuICAgICAqIHZhciBpc0RyYWdnYWJsZSA9IGludGVyYWN0KCdlbGVtZW50JykuZHJhZ2dhYmxlKCk7IC8vIHRydWVcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEdldCBvciBzZXQgd2hldGhlciBkcmFnIGFjdGlvbnMgY2FuIGJlIHBlcmZvcm1lZCBvbiB0aGUgdGFyZ2V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIHRydWUvZmFsc2Ugb3IgQW4gb2JqZWN0IHdpdGggZXZlbnRcbiAgICAgKiBsaXN0ZW5lcnMgdG8gYmUgZmlyZWQgb24gZHJhZyBldmVudHMgKG9iamVjdCBtYWtlcyB0aGUgSW50ZXJhY3RhYmxlXG4gICAgICogZHJhZ2dhYmxlKVxuICAgICAqL1xuICAgIGRyYWdnYWJsZShvcHRpb25zPzogUGFydGlhbDxPckJvb2xlYW48RHJhZ2dhYmxlT3B0aW9ucz4+IHwgYm9vbGVhbik6IHRoaXMgfCBEcmFnZ2FibGVPcHRpb25zXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucycge1xuICBpbnRlcmZhY2UgQWN0aW9uRGVmYXVsdHMge1xuICAgIGRyYWc6IERyYWdnYWJsZU9wdGlvbnNcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS90eXBlcycge1xuICBpbnRlcmZhY2UgQWN0aW9uTWFwIHtcbiAgICBkcmFnPzogdHlwZW9mIGRyYWdcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBEcmFnRXZlbnQgPSBJbnRlcmFjdEV2ZW50PCdkcmFnJz5cblxuZXhwb3J0IGludGVyZmFjZSBEcmFnZ2FibGVPcHRpb25zIGV4dGVuZHMgUGVyQWN0aW9uRGVmYXVsdHMge1xuICBzdGFydEF4aXM/OiAneCcgfCAneScgfCAneHknXG4gIGxvY2tBeGlzPzogJ3gnIHwgJ3knIHwgJ3h5JyB8ICdzdGFydCdcbiAgb25pbmVydGlhc3RhcnQ/OiBMaXN0ZW5lcnNBcmdcbiAgb25zdGFydD86IExpc3RlbmVyc0FyZ1xuICBvbm1vdmU/OiBMaXN0ZW5lcnNBcmdcbiAgb25lbmQ/OiBMaXN0ZW5lcnNBcmdcbn1cblxuZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBhY3Rpb25zLCBJbnRlcmFjdGFibGUsIGRlZmF1bHRzIH0gPSBzY29wZVxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUuZHJhZ2dhYmxlID0gZHJhZy5kcmFnZ2FibGVcblxuICBhY3Rpb25zLm1hcC5kcmFnID0gZHJhZ1xuICBhY3Rpb25zLm1ldGhvZERpY3QuZHJhZyA9ICdkcmFnZ2FibGUnXG5cbiAgZGVmYXVsdHMuYWN0aW9ucy5kcmFnID0gZHJhZy5kZWZhdWx0c1xufVxuXG5mdW5jdGlvbiBiZWZvcmVNb3ZlKHsgaW50ZXJhY3Rpb24gfSkge1xuICBpZiAoaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSAhPT0gJ2RyYWcnKSByZXR1cm5cblxuICBjb25zdCBheGlzID0gaW50ZXJhY3Rpb24ucHJlcGFyZWQuYXhpc1xuXG4gIGlmIChheGlzID09PSAneCcpIHtcbiAgICBpbnRlcmFjdGlvbi5jb29yZHMuY3VyLnBhZ2UueSA9IGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydC5wYWdlLnlcbiAgICBpbnRlcmFjdGlvbi5jb29yZHMuY3VyLmNsaWVudC55ID0gaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LmNsaWVudC55XG5cbiAgICBpbnRlcmFjdGlvbi5jb29yZHMudmVsb2NpdHkuY2xpZW50LnkgPSAwXG4gICAgaW50ZXJhY3Rpb24uY29vcmRzLnZlbG9jaXR5LnBhZ2UueSA9IDBcbiAgfSBlbHNlIGlmIChheGlzID09PSAneScpIHtcbiAgICBpbnRlcmFjdGlvbi5jb29yZHMuY3VyLnBhZ2UueCA9IGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydC5wYWdlLnhcbiAgICBpbnRlcmFjdGlvbi5jb29yZHMuY3VyLmNsaWVudC54ID0gaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LmNsaWVudC54XG5cbiAgICBpbnRlcmFjdGlvbi5jb29yZHMudmVsb2NpdHkuY2xpZW50LnggPSAwXG4gICAgaW50ZXJhY3Rpb24uY29vcmRzLnZlbG9jaXR5LnBhZ2UueCA9IDBcbiAgfVxufVxuXG5mdW5jdGlvbiBtb3ZlKHsgaUV2ZW50LCBpbnRlcmFjdGlvbiB9KSB7XG4gIGlmIChpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lICE9PSAnZHJhZycpIHJldHVyblxuXG4gIGNvbnN0IGF4aXMgPSBpbnRlcmFjdGlvbi5wcmVwYXJlZC5heGlzXG5cbiAgaWYgKGF4aXMgPT09ICd4JyB8fCBheGlzID09PSAneScpIHtcbiAgICBjb25zdCBvcHBvc2l0ZSA9IGF4aXMgPT09ICd4JyA/ICd5JyA6ICd4J1xuXG4gICAgaUV2ZW50LnBhZ2Vbb3Bwb3NpdGVdID0gaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LnBhZ2Vbb3Bwb3NpdGVdXG4gICAgaUV2ZW50LmNsaWVudFtvcHBvc2l0ZV0gPSBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQuY2xpZW50W29wcG9zaXRlXVxuICAgIGlFdmVudC5kZWx0YVtvcHBvc2l0ZV0gPSAwXG4gIH1cbn1cblxuY29uc3QgZHJhZ2dhYmxlOiBJbnRlcmFjdGFibGVbJ2RyYWdnYWJsZSddID0gZnVuY3Rpb24gZHJhZ2dhYmxlKFxuICB0aGlzOiBJbnRlcmFjdGFibGUsXG4gIG9wdGlvbnM/OiBEcmFnZ2FibGVPcHRpb25zIHwgYm9vbGVhbixcbik6IGFueSB7XG4gIGlmIChpcy5vYmplY3Qob3B0aW9ucykpIHtcbiAgICB0aGlzLm9wdGlvbnMuZHJhZy5lbmFibGVkID0gb3B0aW9ucy5lbmFibGVkICE9PSBmYWxzZVxuICAgIHRoaXMuc2V0UGVyQWN0aW9uKCdkcmFnJywgb3B0aW9ucylcbiAgICB0aGlzLnNldE9uRXZlbnRzKCdkcmFnJywgb3B0aW9ucylcblxuICAgIGlmICgvXih4eXx4fHl8c3RhcnQpJC8udGVzdChvcHRpb25zLmxvY2tBeGlzKSkge1xuICAgICAgdGhpcy5vcHRpb25zLmRyYWcubG9ja0F4aXMgPSBvcHRpb25zLmxvY2tBeGlzXG4gICAgfVxuICAgIGlmICgvXih4eXx4fHkpJC8udGVzdChvcHRpb25zLnN0YXJ0QXhpcykpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5kcmFnLnN0YXJ0QXhpcyA9IG9wdGlvbnMuc3RhcnRBeGlzXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGlmIChpcy5ib29sKG9wdGlvbnMpKSB7XG4gICAgdGhpcy5vcHRpb25zLmRyYWcuZW5hYmxlZCA9IG9wdGlvbnNcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICByZXR1cm4gdGhpcy5vcHRpb25zLmRyYWcgYXMgRHJhZ2dhYmxlT3B0aW9uc1xufVxuXG5jb25zdCBkcmFnOiBQbHVnaW4gPSB7XG4gIGlkOiAnYWN0aW9ucy9kcmFnJyxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLW1vdmUnOiBiZWZvcmVNb3ZlLFxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLXJlc3VtZSc6IGJlZm9yZU1vdmUsXG5cbiAgICAvLyBkcmFnbW92ZVxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLW1vdmUnOiBtb3ZlLFxuICAgICdhdXRvLXN0YXJ0OmNoZWNrJzogKGFyZykgPT4ge1xuICAgICAgY29uc3QgeyBpbnRlcmFjdGlvbiwgaW50ZXJhY3RhYmxlLCBidXR0b25zIH0gPSBhcmdcbiAgICAgIGNvbnN0IGRyYWdPcHRpb25zID0gaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJhZ1xuXG4gICAgICBpZiAoXG4gICAgICAgICEoZHJhZ09wdGlvbnMgJiYgZHJhZ09wdGlvbnMuZW5hYmxlZCkgfHxcbiAgICAgICAgLy8gY2hlY2sgbW91c2VCdXR0b24gc2V0dGluZyBpZiB0aGUgcG9pbnRlciBpcyBkb3duXG4gICAgICAgIChpbnRlcmFjdGlvbi5wb2ludGVySXNEb3duICYmXG4gICAgICAgICAgL21vdXNlfHBvaW50ZXIvLnRlc3QoaW50ZXJhY3Rpb24ucG9pbnRlclR5cGUpICYmXG4gICAgICAgICAgKGJ1dHRvbnMgJiBpbnRlcmFjdGFibGUub3B0aW9ucy5kcmFnLm1vdXNlQnV0dG9ucykgPT09IDApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgfVxuXG4gICAgICBhcmcuYWN0aW9uID0ge1xuICAgICAgICBuYW1lOiAnZHJhZycsXG4gICAgICAgIGF4aXM6IGRyYWdPcHRpb25zLmxvY2tBeGlzID09PSAnc3RhcnQnID8gZHJhZ09wdGlvbnMuc3RhcnRBeGlzIDogZHJhZ09wdGlvbnMubG9ja0F4aXMsXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0sXG4gIH0sXG4gIGRyYWdnYWJsZSxcbiAgYmVmb3JlTW92ZSxcbiAgbW92ZSxcbiAgZGVmYXVsdHM6IHtcbiAgICBzdGFydEF4aXM6ICd4eScsXG4gICAgbG9ja0F4aXM6ICd4eScsXG4gIH0gYXMgRHJhZ2dhYmxlT3B0aW9ucyxcblxuICBnZXRDdXJzb3IoKSB7XG4gICAgcmV0dXJuICdtb3ZlJ1xuICB9LFxuXG4gIGZpbHRlckV2ZW50VHlwZTogKHR5cGU6IHN0cmluZykgPT4gdHlwZS5zZWFyY2goJ2RyYWcnKSA9PT0gMCxcbn1cblxuZXhwb3J0IGRlZmF1bHQgZHJhZ1xuIiwgImNvbnN0IGRvbU9iamVjdHM6IHtcbiAgaW5pdDogYW55XG4gIGRvY3VtZW50OiBEb2N1bWVudFxuICBEb2N1bWVudEZyYWdtZW50OiB0eXBlb2YgRG9jdW1lbnRGcmFnbWVudFxuICBTVkdFbGVtZW50OiB0eXBlb2YgU1ZHRWxlbWVudFxuICBTVkdTVkdFbGVtZW50OiB0eXBlb2YgU1ZHU1ZHRWxlbWVudFxuICBTVkdFbGVtZW50SW5zdGFuY2U6IGFueVxuICBFbGVtZW50OiB0eXBlb2YgRWxlbWVudFxuICBIVE1MRWxlbWVudDogdHlwZW9mIEhUTUxFbGVtZW50XG4gIEV2ZW50OiB0eXBlb2YgRXZlbnRcbiAgVG91Y2g6IHR5cGVvZiBUb3VjaFxuICBQb2ludGVyRXZlbnQ6IHR5cGVvZiBQb2ludGVyRXZlbnRcbn0gPSB7XG4gIGluaXQsXG4gIGRvY3VtZW50OiBudWxsLFxuICBEb2N1bWVudEZyYWdtZW50OiBudWxsLFxuICBTVkdFbGVtZW50OiBudWxsLFxuICBTVkdTVkdFbGVtZW50OiBudWxsLFxuICBTVkdFbGVtZW50SW5zdGFuY2U6IG51bGwsXG4gIEVsZW1lbnQ6IG51bGwsXG4gIEhUTUxFbGVtZW50OiBudWxsLFxuICBFdmVudDogbnVsbCxcbiAgVG91Y2g6IG51bGwsXG4gIFBvaW50ZXJFdmVudDogbnVsbCxcbn1cblxuZnVuY3Rpb24gYmxhbmsoKSB7fVxuXG5leHBvcnQgZGVmYXVsdCBkb21PYmplY3RzXG5cbmZ1bmN0aW9uIGluaXQod2luZG93OiBXaW5kb3cpIHtcbiAgY29uc3Qgd2luID0gd2luZG93IGFzIGFueVxuXG4gIGRvbU9iamVjdHMuZG9jdW1lbnQgPSB3aW4uZG9jdW1lbnRcbiAgZG9tT2JqZWN0cy5Eb2N1bWVudEZyYWdtZW50ID0gd2luLkRvY3VtZW50RnJhZ21lbnQgfHwgYmxhbmtcbiAgZG9tT2JqZWN0cy5TVkdFbGVtZW50ID0gd2luLlNWR0VsZW1lbnQgfHwgYmxhbmtcbiAgZG9tT2JqZWN0cy5TVkdTVkdFbGVtZW50ID0gd2luLlNWR1NWR0VsZW1lbnQgfHwgYmxhbmtcbiAgZG9tT2JqZWN0cy5TVkdFbGVtZW50SW5zdGFuY2UgPSB3aW4uU1ZHRWxlbWVudEluc3RhbmNlIHx8IGJsYW5rXG4gIGRvbU9iamVjdHMuRWxlbWVudCA9IHdpbi5FbGVtZW50IHx8IGJsYW5rXG4gIGRvbU9iamVjdHMuSFRNTEVsZW1lbnQgPSB3aW4uSFRNTEVsZW1lbnQgfHwgZG9tT2JqZWN0cy5FbGVtZW50XG5cbiAgZG9tT2JqZWN0cy5FdmVudCA9IHdpbi5FdmVudFxuICBkb21PYmplY3RzLlRvdWNoID0gd2luLlRvdWNoIHx8IGJsYW5rXG4gIGRvbU9iamVjdHMuUG9pbnRlckV2ZW50ID0gd2luLlBvaW50ZXJFdmVudCB8fCB3aW4uTVNQb2ludGVyRXZlbnRcbn1cbiIsICJpbXBvcnQgZG9tT2JqZWN0cyBmcm9tICcuL2RvbU9iamVjdHMnXG5pbXBvcnQgaXMgZnJvbSAnLi9pcydcblxuY29uc3QgYnJvd3NlciA9IHtcbiAgaW5pdCxcbiAgc3VwcG9ydHNUb3VjaDogbnVsbCBhcyBib29sZWFuLFxuICBzdXBwb3J0c1BvaW50ZXJFdmVudDogbnVsbCBhcyBib29sZWFuLFxuICBpc0lPUzc6IG51bGwgYXMgYm9vbGVhbixcbiAgaXNJT1M6IG51bGwgYXMgYm9vbGVhbixcbiAgaXNJZTk6IG51bGwgYXMgYm9vbGVhbixcbiAgaXNPcGVyYU1vYmlsZTogbnVsbCBhcyBib29sZWFuLFxuICBwcmVmaXhlZE1hdGNoZXNTZWxlY3RvcjogbnVsbCBhcyAnbWF0Y2hlcycsXG4gIHBFdmVudFR5cGVzOiBudWxsIGFzIHtcbiAgICB1cDogc3RyaW5nXG4gICAgZG93bjogc3RyaW5nXG4gICAgb3Zlcjogc3RyaW5nXG4gICAgb3V0OiBzdHJpbmdcbiAgICBtb3ZlOiBzdHJpbmdcbiAgICBjYW5jZWw6IHN0cmluZ1xuICB9LFxuICB3aGVlbEV2ZW50OiBudWxsIGFzIHN0cmluZyxcbn1cblxuZnVuY3Rpb24gaW5pdCh3aW5kb3c6IGFueSkge1xuICBjb25zdCBFbGVtZW50ID0gZG9tT2JqZWN0cy5FbGVtZW50XG4gIGNvbnN0IG5hdmlnYXRvcjogUGFydGlhbDxOYXZpZ2F0b3I+ID0gd2luZG93Lm5hdmlnYXRvciB8fCB7fVxuXG4gIC8vIERvZXMgdGhlIGJyb3dzZXIgc3VwcG9ydCB0b3VjaCBpbnB1dD9cbiAgYnJvd3Nlci5zdXBwb3J0c1RvdWNoID1cbiAgICAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgfHxcbiAgICAoaXMuZnVuYyh3aW5kb3cuRG9jdW1lbnRUb3VjaCkgJiYgZG9tT2JqZWN0cy5kb2N1bWVudCBpbnN0YW5jZW9mIHdpbmRvdy5Eb2N1bWVudFRvdWNoKVxuXG4gIC8vIERvZXMgdGhlIGJyb3dzZXIgc3VwcG9ydCBQb2ludGVyRXZlbnRzXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YXllL2ludGVyYWN0LmpzL2lzc3Vlcy83MDMjaXNzdWVjb21tZW50LTQ3MTU3MDQ5MlxuICBicm93c2VyLnN1cHBvcnRzUG9pbnRlckV2ZW50ID0gKG5hdmlnYXRvciBhcyBhbnkpLnBvaW50ZXJFbmFibGVkICE9PSBmYWxzZSAmJiAhIWRvbU9iamVjdHMuUG9pbnRlckV2ZW50XG5cbiAgYnJvd3Nlci5pc0lPUyA9IC9pUChob25lfG9kfGFkKS8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pXG5cbiAgLy8gc2Nyb2xsaW5nIGRvZXNuJ3QgY2hhbmdlIHRoZSByZXN1bHQgb2YgZ2V0Q2xpZW50UmVjdHMgb24gaU9TIDdcbiAgYnJvd3Nlci5pc0lPUzcgPSAvaVAoaG9uZXxvZHxhZCkvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSAmJiAvT1MgN1teXFxkXS8udGVzdChuYXZpZ2F0b3IuYXBwVmVyc2lvbilcblxuICBicm93c2VyLmlzSWU5ID0gL01TSUUgOS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuXG4gIC8vIE9wZXJhIE1vYmlsZSBtdXN0IGJlIGhhbmRsZWQgZGlmZmVyZW50bHlcbiAgYnJvd3Nlci5pc09wZXJhTW9iaWxlID1cbiAgICBuYXZpZ2F0b3IuYXBwTmFtZSA9PT0gJ09wZXJhJyAmJiBicm93c2VyLnN1cHBvcnRzVG91Y2ggJiYgL1ByZXN0by8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuXG4gIC8vIHByZWZpeCBtYXRjaGVzU2VsZWN0b3JcbiAgYnJvd3Nlci5wcmVmaXhlZE1hdGNoZXNTZWxlY3RvciA9IChcbiAgICAnbWF0Y2hlcycgaW4gRWxlbWVudC5wcm90b3R5cGVcbiAgICAgID8gJ21hdGNoZXMnXG4gICAgICA6ICd3ZWJraXRNYXRjaGVzU2VsZWN0b3InIGluIEVsZW1lbnQucHJvdG90eXBlXG4gICAgICAgID8gJ3dlYmtpdE1hdGNoZXNTZWxlY3RvcidcbiAgICAgICAgOiAnbW96TWF0Y2hlc1NlbGVjdG9yJyBpbiBFbGVtZW50LnByb3RvdHlwZVxuICAgICAgICAgID8gJ21vek1hdGNoZXNTZWxlY3RvcidcbiAgICAgICAgICA6ICdvTWF0Y2hlc1NlbGVjdG9yJyBpbiBFbGVtZW50LnByb3RvdHlwZVxuICAgICAgICAgICAgPyAnb01hdGNoZXNTZWxlY3RvcidcbiAgICAgICAgICAgIDogJ21zTWF0Y2hlc1NlbGVjdG9yJ1xuICApIGFzICdtYXRjaGVzJ1xuXG4gIGJyb3dzZXIucEV2ZW50VHlwZXMgPSBicm93c2VyLnN1cHBvcnRzUG9pbnRlckV2ZW50XG4gICAgPyBkb21PYmplY3RzLlBvaW50ZXJFdmVudCA9PT0gd2luZG93Lk1TUG9pbnRlckV2ZW50XG4gICAgICA/IHtcbiAgICAgICAgICB1cDogJ01TUG9pbnRlclVwJyxcbiAgICAgICAgICBkb3duOiAnTVNQb2ludGVyRG93bicsXG4gICAgICAgICAgb3ZlcjogJ21vdXNlb3ZlcicsXG4gICAgICAgICAgb3V0OiAnbW91c2VvdXQnLFxuICAgICAgICAgIG1vdmU6ICdNU1BvaW50ZXJNb3ZlJyxcbiAgICAgICAgICBjYW5jZWw6ICdNU1BvaW50ZXJDYW5jZWwnLFxuICAgICAgICB9XG4gICAgICA6IHtcbiAgICAgICAgICB1cDogJ3BvaW50ZXJ1cCcsXG4gICAgICAgICAgZG93bjogJ3BvaW50ZXJkb3duJyxcbiAgICAgICAgICBvdmVyOiAncG9pbnRlcm92ZXInLFxuICAgICAgICAgIG91dDogJ3BvaW50ZXJvdXQnLFxuICAgICAgICAgIG1vdmU6ICdwb2ludGVybW92ZScsXG4gICAgICAgICAgY2FuY2VsOiAncG9pbnRlcmNhbmNlbCcsXG4gICAgICAgIH1cbiAgICA6IG51bGxcblxuICAvLyBiZWNhdXNlIFdlYmtpdCBhbmQgT3BlcmEgc3RpbGwgdXNlICdtb3VzZXdoZWVsJyBldmVudCB0eXBlXG4gIGJyb3dzZXIud2hlZWxFdmVudCA9IGRvbU9iamVjdHMuZG9jdW1lbnQgJiYgJ29ubW91c2V3aGVlbCcgaW4gZG9tT2JqZWN0cy5kb2N1bWVudCA/ICdtb3VzZXdoZWVsJyA6ICd3aGVlbCdcbn1cblxuZXhwb3J0IGRlZmF1bHQgYnJvd3NlclxuIiwgImltcG9ydCB0eXBlIHsgUmVjdCwgVGFyZ2V0LCBFbGVtZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi9icm93c2VyJ1xuaW1wb3J0IGRvbU9iamVjdHMgZnJvbSAnLi9kb21PYmplY3RzJ1xuaW1wb3J0IGlzIGZyb20gJy4vaXMnXG5pbXBvcnQgKiBhcyB3aW4gZnJvbSAnLi93aW5kb3cnXG5cbmV4cG9ydCBmdW5jdGlvbiBub2RlQ29udGFpbnMocGFyZW50OiBOb2RlLCBjaGlsZDogTm9kZSkge1xuICBpZiAocGFyZW50LmNvbnRhaW5zKSB7XG4gICAgcmV0dXJuIHBhcmVudC5jb250YWlucyhjaGlsZCBhcyBOb2RlKVxuICB9XG5cbiAgd2hpbGUgKGNoaWxkKSB7XG4gICAgaWYgKGNoaWxkID09PSBwYXJlbnQpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgY2hpbGQgPSAoY2hpbGQgYXMgTm9kZSkucGFyZW50Tm9kZVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9zZXN0KGVsZW1lbnQ6IE5vZGUsIHNlbGVjdG9yOiBzdHJpbmcpIHtcbiAgd2hpbGUgKGlzLmVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICBpZiAobWF0Y2hlc1NlbGVjdG9yKGVsZW1lbnQsIHNlbGVjdG9yKSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnRcbiAgICB9XG5cbiAgICBlbGVtZW50ID0gcGFyZW50Tm9kZShlbGVtZW50KVxuICB9XG5cbiAgcmV0dXJuIG51bGxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcmVudE5vZGUobm9kZTogTm9kZSB8IERvY3VtZW50KSB7XG4gIGxldCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGVcblxuICBpZiAoaXMuZG9jRnJhZyhwYXJlbnQpKSB7XG4gICAgLy8gc2tpcCBwYXN0ICNzaGFkby1yb290IGZyYWdtZW50c1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICAgIHdoaWxlICgocGFyZW50ID0gKHBhcmVudCBhcyBhbnkpLmhvc3QpICYmIGlzLmRvY0ZyYWcocGFyZW50KSkge1xuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyZW50XG4gIH1cblxuICByZXR1cm4gcGFyZW50XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaGVzU2VsZWN0b3IoZWxlbWVudDogRWxlbWVudCwgc2VsZWN0b3I6IHN0cmluZykge1xuICAvLyByZW1vdmUgL2RlZXAvIGZyb20gc2VsZWN0b3JzIGlmIHNoYWRvd0RPTSBwb2x5ZmlsbCBpcyB1c2VkXG4gIGlmICh3aW4ud2luZG93ICE9PSB3aW4ucmVhbFdpbmRvdykge1xuICAgIHNlbGVjdG9yID0gc2VsZWN0b3IucmVwbGFjZSgvXFwvZGVlcFxcLy9nLCAnICcpXG4gIH1cblxuICByZXR1cm4gZWxlbWVudFticm93c2VyLnByZWZpeGVkTWF0Y2hlc1NlbGVjdG9yXShzZWxlY3Rvcilcbn1cblxuY29uc3QgZ2V0UGFyZW50ID0gKGVsOiBOb2RlIHwgRG9jdW1lbnQgfCBTaGFkb3dSb290KSA9PiBlbC5wYXJlbnROb2RlIHx8IChlbCBhcyBTaGFkb3dSb290KS5ob3N0XG5cbi8vIFRlc3QgZm9yIHRoZSBlbGVtZW50IHRoYXQncyBcImFib3ZlXCIgYWxsIG90aGVyIHF1YWxpZmllcnNcbmV4cG9ydCBmdW5jdGlvbiBpbmRleE9mRGVlcGVzdEVsZW1lbnQoZWxlbWVudHM6IEVsZW1lbnRbXSB8IE5vZGVMaXN0T2Y8Z2xvYmFsVGhpcy5FbGVtZW50Pikge1xuICBsZXQgZGVlcGVzdE5vZGVQYXJlbnRzOiBOb2RlW10gPSBbXVxuICBsZXQgZGVlcGVzdE5vZGVJbmRleDogbnVtYmVyXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGN1cnJlbnROb2RlID0gZWxlbWVudHNbaV1cbiAgICBjb25zdCBkZWVwZXN0Tm9kZTogTm9kZSA9IGVsZW1lbnRzW2RlZXBlc3ROb2RlSW5kZXhdXG5cbiAgICAvLyBub2RlIG1heSBhcHBlYXIgaW4gZWxlbWVudHMgYXJyYXkgbXVsdGlwbGUgdGltZXNcbiAgICBpZiAoIWN1cnJlbnROb2RlIHx8IGkgPT09IGRlZXBlc3ROb2RlSW5kZXgpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgaWYgKCFkZWVwZXN0Tm9kZSkge1xuICAgICAgZGVlcGVzdE5vZGVJbmRleCA9IGlcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudE5vZGVQYXJlbnQgPSBnZXRQYXJlbnQoY3VycmVudE5vZGUpXG4gICAgY29uc3QgZGVlcGVzdE5vZGVQYXJlbnQgPSBnZXRQYXJlbnQoZGVlcGVzdE5vZGUpXG5cbiAgICAvLyBjaGVjayBpZiB0aGUgZGVlcGVzdCBvciBjdXJyZW50IGFyZSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQvcm9vdEVsZW1lbnRcbiAgICAvLyAtIGlmIHRoZSBjdXJyZW50IG5vZGUgaXMsIGRvIG5vdGhpbmcgYW5kIGNvbnRpbnVlXG4gICAgaWYgKGN1cnJlbnROb2RlUGFyZW50ID09PSBjdXJyZW50Tm9kZS5vd25lckRvY3VtZW50KSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICAvLyAtIGlmIGRlZXBlc3QgaXMsIHVwZGF0ZSB3aXRoIHRoZSBjdXJyZW50IG5vZGUgYW5kIGNvbnRpbnVlIHRvIG5leHRcbiAgICBlbHNlIGlmIChkZWVwZXN0Tm9kZVBhcmVudCA9PT0gY3VycmVudE5vZGUub3duZXJEb2N1bWVudCkge1xuICAgICAgZGVlcGVzdE5vZGVJbmRleCA9IGlcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgLy8gY29tcGFyZSB6SW5kZXggb2Ygc2libGluZ3NcbiAgICBpZiAoY3VycmVudE5vZGVQYXJlbnQgPT09IGRlZXBlc3ROb2RlUGFyZW50KSB7XG4gICAgICBpZiAoekluZGV4SXNIaWdoZXJUaGFuKGN1cnJlbnROb2RlLCBkZWVwZXN0Tm9kZSkpIHtcbiAgICAgICAgZGVlcGVzdE5vZGVJbmRleCA9IGlcbiAgICAgIH1cblxuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICAvLyBwb3B1bGF0ZSB0aGUgYW5jZXN0cnkgYXJyYXkgZm9yIHRoZSBsYXRlc3QgZGVlcGVzdCBub2RlXG4gICAgZGVlcGVzdE5vZGVQYXJlbnRzID0gZGVlcGVzdE5vZGVQYXJlbnRzLmxlbmd0aCA/IGRlZXBlc3ROb2RlUGFyZW50cyA6IGdldE5vZGVQYXJlbnRzKGRlZXBlc3ROb2RlKVxuXG4gICAgbGV0IGFuY2VzdHJ5U3RhcnQ6IE5vZGVcblxuICAgIC8vIGlmIHRoZSBkZWVwZXN0IG5vZGUgaXMgYW4gSFRNTEVsZW1lbnQgYW5kIHRoZSBjdXJyZW50IG5vZGUgaXMgYSBub24gcm9vdCBzdmcgZWxlbWVudFxuICAgIGlmIChcbiAgICAgIGRlZXBlc3ROb2RlIGluc3RhbmNlb2YgZG9tT2JqZWN0cy5IVE1MRWxlbWVudCAmJlxuICAgICAgY3VycmVudE5vZGUgaW5zdGFuY2VvZiBkb21PYmplY3RzLlNWR0VsZW1lbnQgJiZcbiAgICAgICEoY3VycmVudE5vZGUgaW5zdGFuY2VvZiBkb21PYmplY3RzLlNWR1NWR0VsZW1lbnQpXG4gICAgKSB7XG4gICAgICAvLyBUT0RPOiBpcyB0aGlzIGNoZWNrIG5lY2Vzc2FyeT8gV2FzIHRoaXMgZm9yIEhUTUwgZWxlbWVudHMgZW1iZWRkZWQgaW4gU1ZHP1xuICAgICAgaWYgKGN1cnJlbnROb2RlID09PSBkZWVwZXN0Tm9kZVBhcmVudCkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBhbmNlc3RyeVN0YXJ0ID0gY3VycmVudE5vZGUub3duZXJTVkdFbGVtZW50XG4gICAgfSBlbHNlIHtcbiAgICAgIGFuY2VzdHJ5U3RhcnQgPSBjdXJyZW50Tm9kZVxuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnROb2RlUGFyZW50cyA9IGdldE5vZGVQYXJlbnRzKGFuY2VzdHJ5U3RhcnQsIGRlZXBlc3ROb2RlLm93bmVyRG9jdW1lbnQpXG4gICAgbGV0IGNvbW1vbkluZGV4ID0gMFxuXG4gICAgLy8gZ2V0IChwb3NpdGlvbiBvZiBjbG9zZXN0IGNvbW1vbiBhbmNlc3RvcikgKyAxXG4gICAgd2hpbGUgKFxuICAgICAgY3VycmVudE5vZGVQYXJlbnRzW2NvbW1vbkluZGV4XSAmJlxuICAgICAgY3VycmVudE5vZGVQYXJlbnRzW2NvbW1vbkluZGV4XSA9PT0gZGVlcGVzdE5vZGVQYXJlbnRzW2NvbW1vbkluZGV4XVxuICAgICkge1xuICAgICAgY29tbW9uSW5kZXgrK1xuICAgIH1cblxuICAgIGNvbnN0IHBhcmVudHMgPSBbXG4gICAgICBjdXJyZW50Tm9kZVBhcmVudHNbY29tbW9uSW5kZXggLSAxXSxcbiAgICAgIGN1cnJlbnROb2RlUGFyZW50c1tjb21tb25JbmRleF0sXG4gICAgICBkZWVwZXN0Tm9kZVBhcmVudHNbY29tbW9uSW5kZXhdLFxuICAgIF1cblxuICAgIGlmIChwYXJlbnRzWzBdKSB7XG4gICAgICBsZXQgY2hpbGQgPSBwYXJlbnRzWzBdLmxhc3RDaGlsZFxuXG4gICAgICB3aGlsZSAoY2hpbGQpIHtcbiAgICAgICAgaWYgKGNoaWxkID09PSBwYXJlbnRzWzFdKSB7XG4gICAgICAgICAgZGVlcGVzdE5vZGVJbmRleCA9IGlcbiAgICAgICAgICBkZWVwZXN0Tm9kZVBhcmVudHMgPSBjdXJyZW50Tm9kZVBhcmVudHNcblxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH0gZWxzZSBpZiAoY2hpbGQgPT09IHBhcmVudHNbMl0pIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGQgPSBjaGlsZC5wcmV2aW91c1NpYmxpbmdcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGVlcGVzdE5vZGVJbmRleFxufVxuXG5mdW5jdGlvbiBnZXROb2RlUGFyZW50cyhub2RlOiBOb2RlLCBsaW1pdD86IE5vZGUpIHtcbiAgY29uc3QgcGFyZW50czogTm9kZVtdID0gW11cbiAgbGV0IHBhcmVudDogTm9kZSA9IG5vZGVcbiAgbGV0IHBhcmVudFBhcmVudDogTm9kZVxuXG4gIHdoaWxlICgocGFyZW50UGFyZW50ID0gZ2V0UGFyZW50KHBhcmVudCkpICYmIHBhcmVudCAhPT0gbGltaXQgJiYgcGFyZW50UGFyZW50ICE9PSBwYXJlbnQub3duZXJEb2N1bWVudCkge1xuICAgIHBhcmVudHMudW5zaGlmdChwYXJlbnQpXG4gICAgcGFyZW50ID0gcGFyZW50UGFyZW50XG4gIH1cblxuICByZXR1cm4gcGFyZW50c1xufVxuXG5mdW5jdGlvbiB6SW5kZXhJc0hpZ2hlclRoYW4oaGlnaGVyTm9kZTogTm9kZSwgbG93ZXJOb2RlOiBOb2RlKSB7XG4gIGNvbnN0IGhpZ2hlckluZGV4ID0gcGFyc2VJbnQod2luLmdldFdpbmRvdyhoaWdoZXJOb2RlKS5nZXRDb21wdXRlZFN0eWxlKGhpZ2hlck5vZGUpLnpJbmRleCwgMTApIHx8IDBcbiAgY29uc3QgbG93ZXJJbmRleCA9IHBhcnNlSW50KHdpbi5nZXRXaW5kb3cobG93ZXJOb2RlKS5nZXRDb21wdXRlZFN0eWxlKGxvd2VyTm9kZSkuekluZGV4LCAxMCkgfHwgMFxuXG4gIHJldHVybiBoaWdoZXJJbmRleCA+PSBsb3dlckluZGV4XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaGVzVXBUbyhlbGVtZW50OiBFbGVtZW50LCBzZWxlY3Rvcjogc3RyaW5nLCBsaW1pdDogTm9kZSkge1xuICB3aGlsZSAoaXMuZWxlbWVudChlbGVtZW50KSkge1xuICAgIGlmIChtYXRjaGVzU2VsZWN0b3IoZWxlbWVudCwgc2VsZWN0b3IpKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGVsZW1lbnQgPSBwYXJlbnROb2RlKGVsZW1lbnQpIGFzIEVsZW1lbnRcblxuICAgIGlmIChlbGVtZW50ID09PSBsaW1pdCkge1xuICAgICAgcmV0dXJuIG1hdGNoZXNTZWxlY3RvcihlbGVtZW50LCBzZWxlY3RvcilcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2Vcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFjdHVhbEVsZW1lbnQoZWxlbWVudDogRWxlbWVudCkge1xuICByZXR1cm4gKGVsZW1lbnQgYXMgYW55KS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCB8fCBlbGVtZW50XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY3JvbGxYWShyZWxldmFudFdpbmRvdz86IFdpbmRvdykge1xuICByZWxldmFudFdpbmRvdyA9IHJlbGV2YW50V2luZG93IHx8IHdpbi53aW5kb3dcbiAgcmV0dXJuIHtcbiAgICB4OiByZWxldmFudFdpbmRvdy5zY3JvbGxYIHx8IHJlbGV2YW50V2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgIHk6IHJlbGV2YW50V2luZG93LnNjcm9sbFkgfHwgcmVsZXZhbnRXaW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudENsaWVudFJlY3QoZWxlbWVudDogRWxlbWVudCk6IFJlcXVpcmVkPFJlY3Q+IHtcbiAgY29uc3QgY2xpZW50UmVjdCA9XG4gICAgZWxlbWVudCBpbnN0YW5jZW9mIGRvbU9iamVjdHMuU1ZHRWxlbWVudCA/IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBlbGVtZW50LmdldENsaWVudFJlY3RzKClbMF1cblxuICByZXR1cm4gKFxuICAgIGNsaWVudFJlY3QgJiYge1xuICAgICAgbGVmdDogY2xpZW50UmVjdC5sZWZ0LFxuICAgICAgcmlnaHQ6IGNsaWVudFJlY3QucmlnaHQsXG4gICAgICB0b3A6IGNsaWVudFJlY3QudG9wLFxuICAgICAgYm90dG9tOiBjbGllbnRSZWN0LmJvdHRvbSxcbiAgICAgIHdpZHRoOiBjbGllbnRSZWN0LndpZHRoIHx8IGNsaWVudFJlY3QucmlnaHQgLSBjbGllbnRSZWN0LmxlZnQsXG4gICAgICBoZWlnaHQ6IGNsaWVudFJlY3QuaGVpZ2h0IHx8IGNsaWVudFJlY3QuYm90dG9tIC0gY2xpZW50UmVjdC50b3AsXG4gICAgfVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50UmVjdChlbGVtZW50OiBFbGVtZW50KSB7XG4gIGNvbnN0IGNsaWVudFJlY3QgPSBnZXRFbGVtZW50Q2xpZW50UmVjdChlbGVtZW50KVxuXG4gIGlmICghYnJvd3Nlci5pc0lPUzcgJiYgY2xpZW50UmVjdCkge1xuICAgIGNvbnN0IHNjcm9sbCA9IGdldFNjcm9sbFhZKHdpbi5nZXRXaW5kb3coZWxlbWVudCkpXG5cbiAgICBjbGllbnRSZWN0LmxlZnQgKz0gc2Nyb2xsLnhcbiAgICBjbGllbnRSZWN0LnJpZ2h0ICs9IHNjcm9sbC54XG4gICAgY2xpZW50UmVjdC50b3AgKz0gc2Nyb2xsLnlcbiAgICBjbGllbnRSZWN0LmJvdHRvbSArPSBzY3JvbGwueVxuICB9XG5cbiAgcmV0dXJuIGNsaWVudFJlY3Rcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhdGgobm9kZTogTm9kZSB8IERvY3VtZW50KSB7XG4gIGNvbnN0IHBhdGggPSBbXVxuXG4gIHdoaWxlIChub2RlKSB7XG4gICAgcGF0aC5wdXNoKG5vZGUpXG4gICAgbm9kZSA9IHBhcmVudE5vZGUobm9kZSlcbiAgfVxuXG4gIHJldHVybiBwYXRoXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cnlTZWxlY3Rvcih2YWx1ZTogVGFyZ2V0KSB7XG4gIGlmICghaXMuc3RyaW5nKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gYW4gZXhjZXB0aW9uIHdpbGwgYmUgcmFpc2VkIGlmIGl0IGlzIGludmFsaWRcbiAgZG9tT2JqZWN0cy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHZhbHVlKVxuICByZXR1cm4gdHJ1ZVxufVxuIiwgImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGV4dGVuZDxULCBVIGV4dGVuZHMgb2JqZWN0PihkZXN0OiBVICYgUGFydGlhbDxUPiwgc291cmNlOiBUKTogVCAmIFUge1xuICBmb3IgKGNvbnN0IHByb3AgaW4gc291cmNlKSB7XG4gICAgOyhkZXN0IGFzIHVua25vd24gYXMgVClbcHJvcF0gPSBzb3VyY2VbcHJvcF1cbiAgfVxuXG4gIGNvbnN0IHJldCA9IGRlc3QgYXMgVCAmIFVcblxuICByZXR1cm4gcmV0XG59XG4iLCAiaW1wb3J0IHR5cGUge1xuICBIYXNHZXRSZWN0LFxuICBSZWN0UmVzb2x2YWJsZSxcbiAgUmVjdCxcbiAgRWxlbWVudCxcbiAgUG9pbnQsXG4gIEZ1bGxSZWN0LFxuICBFZGdlT3B0aW9ucyxcbn0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuaW1wb3J0IHsgY2xvc2VzdCwgZ2V0RWxlbWVudFJlY3QsIHBhcmVudE5vZGUgfSBmcm9tICcuL2RvbVV0aWxzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICcuL2V4dGVuZCdcbmltcG9ydCBpcyBmcm9tICcuL2lzJ1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RyaW5nT3B0aW9uUmVzdWx0KHZhbHVlOiBhbnksIHRhcmdldDogSGFzR2V0UmVjdCwgZWxlbWVudDogTm9kZSkge1xuICBpZiAodmFsdWUgPT09ICdwYXJlbnQnKSB7XG4gICAgcmV0dXJuIHBhcmVudE5vZGUoZWxlbWVudClcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PT0gJ3NlbGYnKSB7XG4gICAgcmV0dXJuIHRhcmdldC5nZXRSZWN0KGVsZW1lbnQgYXMgRWxlbWVudClcbiAgfVxuXG4gIHJldHVybiBjbG9zZXN0KGVsZW1lbnQsIHZhbHVlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVJlY3RMaWtlPFQgZXh0ZW5kcyBhbnlbXT4oXG4gIHZhbHVlOiBSZWN0UmVzb2x2YWJsZTxUPixcbiAgdGFyZ2V0PzogSGFzR2V0UmVjdCxcbiAgZWxlbWVudD86IE5vZGUsXG4gIGZ1bmN0aW9uQXJncz86IFQsXG4pIHtcbiAgbGV0IHJldHVyblZhbHVlOiBhbnkgPSB2YWx1ZVxuICBpZiAoaXMuc3RyaW5nKHJldHVyblZhbHVlKSkge1xuICAgIHJldHVyblZhbHVlID0gZ2V0U3RyaW5nT3B0aW9uUmVzdWx0KHJldHVyblZhbHVlLCB0YXJnZXQsIGVsZW1lbnQpXG4gIH0gZWxzZSBpZiAoaXMuZnVuYyhyZXR1cm5WYWx1ZSkpIHtcbiAgICByZXR1cm5WYWx1ZSA9IHJldHVyblZhbHVlKC4uLmZ1bmN0aW9uQXJncylcbiAgfVxuXG4gIGlmIChpcy5lbGVtZW50KHJldHVyblZhbHVlKSkge1xuICAgIHJldHVyblZhbHVlID0gZ2V0RWxlbWVudFJlY3QocmV0dXJuVmFsdWUpXG4gIH1cblxuICByZXR1cm4gcmV0dXJuVmFsdWUgYXMgUmVjdFxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9GdWxsUmVjdChyZWN0OiBSZWN0KTogRnVsbFJlY3Qge1xuICBjb25zdCB7IHRvcCwgbGVmdCwgYm90dG9tLCByaWdodCB9ID0gcmVjdFxuICBjb25zdCB3aWR0aCA9IHJlY3Qud2lkdGggPz8gcmVjdC5yaWdodCAtIHJlY3QubGVmdFxuICBjb25zdCBoZWlnaHQgPSByZWN0LmhlaWdodCA/PyByZWN0LmJvdHRvbSAtIHJlY3QudG9wXG5cbiAgcmV0dXJuIHsgdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0LCB3aWR0aCwgaGVpZ2h0IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlY3RUb1hZKHJlY3Q6IFJlY3QgfCBQb2ludCkge1xuICByZXR1cm4gKFxuICAgIHJlY3QgJiYge1xuICAgICAgeDogJ3gnIGluIHJlY3QgPyByZWN0LnggOiByZWN0LmxlZnQsXG4gICAgICB5OiAneScgaW4gcmVjdCA/IHJlY3QueSA6IHJlY3QudG9wLFxuICAgIH1cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24geHl3aFRvVGxicjxUIGV4dGVuZHMgUGFydGlhbDxSZWN0ICYgUG9pbnQ+PihyZWN0OiBUKSB7XG4gIGlmIChyZWN0ICYmICEoJ2xlZnQnIGluIHJlY3QgJiYgJ3RvcCcgaW4gcmVjdCkpIHtcbiAgICByZWN0ID0gZXh0ZW5kKHt9LCByZWN0KVxuXG4gICAgcmVjdC5sZWZ0ID0gcmVjdC54IHx8IDBcbiAgICByZWN0LnRvcCA9IHJlY3QueSB8fCAwXG4gICAgcmVjdC5yaWdodCA9IHJlY3QucmlnaHQgfHwgcmVjdC5sZWZ0ICsgcmVjdC53aWR0aFxuICAgIHJlY3QuYm90dG9tID0gcmVjdC5ib3R0b20gfHwgcmVjdC50b3AgKyByZWN0LmhlaWdodFxuICB9XG5cbiAgcmV0dXJuIHJlY3QgYXMgUmVjdCAmIFRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRsYnJUb1h5d2gocmVjdDogUmVjdCAmIFBhcnRpYWw8UG9pbnQ+KSB7XG4gIGlmIChyZWN0ICYmICEoJ3gnIGluIHJlY3QgJiYgJ3knIGluIHJlY3QpKSB7XG4gICAgcmVjdCA9IGV4dGVuZCh7fSwgcmVjdClcblxuICAgIHJlY3QueCA9IHJlY3QubGVmdCB8fCAwXG4gICAgcmVjdC55ID0gcmVjdC50b3AgfHwgMFxuICAgIHJlY3Qud2lkdGggPSByZWN0LndpZHRoIHx8IChyZWN0LnJpZ2h0IHx8IDApIC0gcmVjdC54XG4gICAgcmVjdC5oZWlnaHQgPSByZWN0LmhlaWdodCB8fCAocmVjdC5ib3R0b20gfHwgMCkgLSByZWN0LnlcbiAgfVxuXG4gIHJldHVybiByZWN0IGFzIEZ1bGxSZWN0ICYgUG9pbnRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEVkZ2VzKGVkZ2VzOiBFZGdlT3B0aW9ucywgcmVjdDogUmVjdCwgZGVsdGE6IFBvaW50KSB7XG4gIGlmIChlZGdlcy5sZWZ0KSB7XG4gICAgcmVjdC5sZWZ0ICs9IGRlbHRhLnhcbiAgfVxuICBpZiAoZWRnZXMucmlnaHQpIHtcbiAgICByZWN0LnJpZ2h0ICs9IGRlbHRhLnhcbiAgfVxuICBpZiAoZWRnZXMudG9wKSB7XG4gICAgcmVjdC50b3AgKz0gZGVsdGEueVxuICB9XG4gIGlmIChlZGdlcy5ib3R0b20pIHtcbiAgICByZWN0LmJvdHRvbSArPSBkZWx0YS55XG4gIH1cblxuICByZWN0LndpZHRoID0gcmVjdC5yaWdodCAtIHJlY3QubGVmdFxuICByZWN0LmhlaWdodCA9IHJlY3QuYm90dG9tIC0gcmVjdC50b3Bcbn1cbiIsICJpbXBvcnQgdHlwZSB7IFBlckFjdGlvbkRlZmF1bHRzIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJ1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25OYW1lLCBIYXNHZXRSZWN0IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuaW1wb3J0IHsgcmVjdFRvWFksIHJlc29sdmVSZWN0TGlrZSB9IGZyb20gJy4vcmVjdCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0T3JpZ2luWFkoXG4gIHRhcmdldDogSGFzR2V0UmVjdCAmIHsgb3B0aW9uczogUGVyQWN0aW9uRGVmYXVsdHMgfSxcbiAgZWxlbWVudDogTm9kZSxcbiAgYWN0aW9uTmFtZT86IEFjdGlvbk5hbWUsXG4pIHtcbiAgY29uc3QgYWN0aW9uT3B0aW9ucyA9IGFjdGlvbk5hbWUgJiYgKHRhcmdldC5vcHRpb25zIGFzIGFueSlbYWN0aW9uTmFtZV1cbiAgY29uc3QgYWN0aW9uT3JpZ2luID0gYWN0aW9uT3B0aW9ucyAmJiBhY3Rpb25PcHRpb25zLm9yaWdpblxuICBjb25zdCBvcmlnaW4gPSBhY3Rpb25PcmlnaW4gfHwgdGFyZ2V0Lm9wdGlvbnMub3JpZ2luXG5cbiAgY29uc3Qgb3JpZ2luUmVjdCA9IHJlc29sdmVSZWN0TGlrZShvcmlnaW4sIHRhcmdldCwgZWxlbWVudCwgW3RhcmdldCAmJiBlbGVtZW50XSlcblxuICByZXR1cm4gcmVjdFRvWFkob3JpZ2luUmVjdCkgfHwgeyB4OiAwLCB5OiAwIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IEV2ZW50VHlwZXMsIExpc3RlbmVyLCBMaXN0ZW5lcnNBcmcgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5pbXBvcnQgaXMgZnJvbSAnLi9pcydcblxuZXhwb3J0IGludGVyZmFjZSBOb3JtYWxpemVkTGlzdGVuZXJzIHtcbiAgW3R5cGU6IHN0cmluZ106IExpc3RlbmVyW11cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbm9ybWFsaXplKFxuICB0eXBlOiBFdmVudFR5cGVzLFxuICBsaXN0ZW5lcnM/OiBMaXN0ZW5lcnNBcmcgfCBMaXN0ZW5lcnNBcmdbXSB8IG51bGwsXG4gIGZpbHRlciA9IChfdHlwZU9yUHJlZml4OiBzdHJpbmcpID0+IHRydWUsXG4gIHJlc3VsdD86IE5vcm1hbGl6ZWRMaXN0ZW5lcnMsXG4pOiBOb3JtYWxpemVkTGlzdGVuZXJzIHtcbiAgcmVzdWx0ID0gcmVzdWx0IHx8IHt9XG5cbiAgaWYgKGlzLnN0cmluZyh0eXBlKSAmJiB0eXBlLnNlYXJjaCgnICcpICE9PSAtMSkge1xuICAgIHR5cGUgPSBzcGxpdCh0eXBlKVxuICB9XG5cbiAgaWYgKGlzLmFycmF5KHR5cGUpKSB7XG4gICAgdHlwZS5mb3JFYWNoKCh0KSA9PiBub3JtYWxpemUodCwgbGlzdGVuZXJzLCBmaWx0ZXIsIHJlc3VsdCkpXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLy8gYmVmb3JlOiAgdHlwZSA9IFt7IGRyYWc6ICgpID0+IHt9IH1dLCBsaXN0ZW5lcnMgPSB1bmRlZmluZWRcbiAgLy8gYWZ0ZXI6ICAgdHlwZSA9ICcnICAgICAgICAgICAgICAgICAgLCBsaXN0ZW5lcnMgPSBbeyBkcmFnOiAoKSA9PiB7fSB9XVxuICBpZiAoaXMub2JqZWN0KHR5cGUpKSB7XG4gICAgbGlzdGVuZXJzID0gdHlwZVxuICAgIHR5cGUgPSAnJ1xuICB9XG5cbiAgaWYgKGlzLmZ1bmMobGlzdGVuZXJzKSAmJiBmaWx0ZXIodHlwZSkpIHtcbiAgICByZXN1bHRbdHlwZV0gPSByZXN1bHRbdHlwZV0gfHwgW11cbiAgICByZXN1bHRbdHlwZV0ucHVzaChsaXN0ZW5lcnMpXG4gIH0gZWxzZSBpZiAoaXMuYXJyYXkobGlzdGVuZXJzKSkge1xuICAgIGZvciAoY29uc3QgbCBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgIG5vcm1hbGl6ZSh0eXBlLCBsLCBmaWx0ZXIsIHJlc3VsdClcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXMub2JqZWN0KGxpc3RlbmVycykpIHtcbiAgICBmb3IgKGNvbnN0IHByZWZpeCBpbiBsaXN0ZW5lcnMpIHtcbiAgICAgIGNvbnN0IGNvbWJpbmVkVHlwZXMgPSBzcGxpdChwcmVmaXgpLm1hcCgocCkgPT4gYCR7dHlwZX0ke3B9YClcblxuICAgICAgbm9ybWFsaXplKGNvbWJpbmVkVHlwZXMsIGxpc3RlbmVyc1twcmVmaXhdLCBmaWx0ZXIsIHJlc3VsdClcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0IGFzIE5vcm1hbGl6ZWRMaXN0ZW5lcnNcbn1cblxuZnVuY3Rpb24gc3BsaXQodHlwZTogc3RyaW5nKSB7XG4gIHJldHVybiB0eXBlLnRyaW0oKS5zcGxpdCgvICsvKVxufVxuIiwgImV4cG9ydCBkZWZhdWx0ICh4OiBudW1iZXIsIHk6IG51bWJlcikgPT4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpXG4iLCAiY29uc3QgVkVORE9SX1BSRUZJWEVTID0gWyd3ZWJraXQnLCAnbW96J11cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcG9pbnRlckV4dGVuZDxUPihkZXN0OiBQYXJ0aWFsPFQgJiB7IF9fc2V0PzogUGFydGlhbDxUPiB9Piwgc291cmNlOiBUKSB7XG4gIGRlc3QuX19zZXQgfHw9IHt9IGFzIGFueVxuXG4gIGZvciAoY29uc3QgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICAvLyBza2lwIGRlcHJlY2F0ZWQgcHJlZml4ZWQgcHJvcGVydGllc1xuICAgIGlmIChWRU5ET1JfUFJFRklYRVMuc29tZSgocHJlZml4KSA9PiBwcm9wLmluZGV4T2YocHJlZml4KSA9PT0gMCkpIGNvbnRpbnVlXG5cbiAgICBpZiAodHlwZW9mIGRlc3RbcHJvcF0gIT09ICdmdW5jdGlvbicgJiYgcHJvcCAhPT0gJ19fc2V0Jykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRlc3QsIHByb3AsIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIGlmIChwcm9wIGluIGRlc3QuX19zZXQpIHJldHVybiBkZXN0Ll9fc2V0W3Byb3BdXG5cbiAgICAgICAgICByZXR1cm4gKGRlc3QuX19zZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF0gYXMgYW55KVxuICAgICAgICB9LFxuICAgICAgICBzZXQodmFsdWU6IGFueSkge1xuICAgICAgICAgIGRlc3QuX19zZXRbcHJvcF0gPSB2YWx1ZVxuICAgICAgICB9LFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB9KVxuICAgIH1cbiAgfVxuICByZXR1cm4gZGVzdFxufVxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RFdmVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RFdmVudCdcbmltcG9ydCB0eXBlIHsgQ29vcmRzU2V0TWVtYmVyLCBQb2ludGVyVHlwZSwgUG9pbnQsIFBvaW50ZXJFdmVudFR5cGUsIEVsZW1lbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5pbXBvcnQgYnJvd3NlciBmcm9tICcuL2Jyb3dzZXInXG5pbXBvcnQgZG9tIGZyb20gJy4vZG9tT2JqZWN0cydcbmltcG9ydCAqIGFzIGRvbVV0aWxzIGZyb20gJy4vZG9tVXRpbHMnXG5pbXBvcnQgaHlwb3QgZnJvbSAnLi9oeXBvdCdcbmltcG9ydCBpcyBmcm9tICcuL2lzJ1xuaW1wb3J0IHBvaW50ZXJFeHRlbmQgZnJvbSAnLi9wb2ludGVyRXh0ZW5kJ1xuXG5leHBvcnQgZnVuY3Rpb24gY29weUNvb3JkcyhkZXN0OiBDb29yZHNTZXRNZW1iZXIsIHNyYzogQ29vcmRzU2V0TWVtYmVyKSB7XG4gIGRlc3QucGFnZSA9IGRlc3QucGFnZSB8fCAoe30gYXMgYW55KVxuICBkZXN0LnBhZ2UueCA9IHNyYy5wYWdlLnhcbiAgZGVzdC5wYWdlLnkgPSBzcmMucGFnZS55XG5cbiAgZGVzdC5jbGllbnQgPSBkZXN0LmNsaWVudCB8fCAoe30gYXMgYW55KVxuICBkZXN0LmNsaWVudC54ID0gc3JjLmNsaWVudC54XG4gIGRlc3QuY2xpZW50LnkgPSBzcmMuY2xpZW50LnlcblxuICBkZXN0LnRpbWVTdGFtcCA9IHNyYy50aW1lU3RhbXBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldENvb3JkRGVsdGFzKHRhcmdldE9iajogQ29vcmRzU2V0TWVtYmVyLCBwcmV2OiBDb29yZHNTZXRNZW1iZXIsIGN1cjogQ29vcmRzU2V0TWVtYmVyKSB7XG4gIHRhcmdldE9iai5wYWdlLnggPSBjdXIucGFnZS54IC0gcHJldi5wYWdlLnhcbiAgdGFyZ2V0T2JqLnBhZ2UueSA9IGN1ci5wYWdlLnkgLSBwcmV2LnBhZ2UueVxuICB0YXJnZXRPYmouY2xpZW50LnggPSBjdXIuY2xpZW50LnggLSBwcmV2LmNsaWVudC54XG4gIHRhcmdldE9iai5jbGllbnQueSA9IGN1ci5jbGllbnQueSAtIHByZXYuY2xpZW50LnlcbiAgdGFyZ2V0T2JqLnRpbWVTdGFtcCA9IGN1ci50aW1lU3RhbXAgLSBwcmV2LnRpbWVTdGFtcFxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29vcmRWZWxvY2l0eSh0YXJnZXRPYmo6IENvb3Jkc1NldE1lbWJlciwgZGVsdGE6IENvb3Jkc1NldE1lbWJlcikge1xuICBjb25zdCBkdCA9IE1hdGgubWF4KGRlbHRhLnRpbWVTdGFtcCAvIDEwMDAsIDAuMDAxKVxuXG4gIHRhcmdldE9iai5wYWdlLnggPSBkZWx0YS5wYWdlLnggLyBkdFxuICB0YXJnZXRPYmoucGFnZS55ID0gZGVsdGEucGFnZS55IC8gZHRcbiAgdGFyZ2V0T2JqLmNsaWVudC54ID0gZGVsdGEuY2xpZW50LnggLyBkdFxuICB0YXJnZXRPYmouY2xpZW50LnkgPSBkZWx0YS5jbGllbnQueSAvIGR0XG4gIHRhcmdldE9iai50aW1lU3RhbXAgPSBkdFxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0WmVyb0Nvb3Jkcyh0YXJnZXRPYmo6IENvb3Jkc1NldE1lbWJlcikge1xuICB0YXJnZXRPYmoucGFnZS54ID0gMFxuICB0YXJnZXRPYmoucGFnZS55ID0gMFxuICB0YXJnZXRPYmouY2xpZW50LnggPSAwXG4gIHRhcmdldE9iai5jbGllbnQueSA9IDBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTmF0aXZlUG9pbnRlcihwb2ludGVyOiBhbnkpIHtcbiAgcmV0dXJuIHBvaW50ZXIgaW5zdGFuY2VvZiBkb20uRXZlbnQgfHwgcG9pbnRlciBpbnN0YW5jZW9mIGRvbS5Ub3VjaFxufVxuXG4vLyBHZXQgc3BlY2lmaWVkIFgvWSBjb29yZHMgZm9yIG1vdXNlIG9yIGV2ZW50LnRvdWNoZXNbMF1cbmV4cG9ydCBmdW5jdGlvbiBnZXRYWSh0eXBlOiBzdHJpbmcsIHBvaW50ZXI6IFBvaW50ZXJUeXBlIHwgSW50ZXJhY3RFdmVudCwgeHk6IFBvaW50KSB7XG4gIHh5ID0geHkgfHwgKHt9IGFzIFBvaW50KVxuICB0eXBlID0gdHlwZSB8fCAncGFnZSdcblxuICB4eS54ID0gcG9pbnRlclsodHlwZSArICdYJykgYXMgJ3BhZ2VYJ11cbiAgeHkueSA9IHBvaW50ZXJbKHR5cGUgKyAnWScpIGFzICdwYWdlWSddXG5cbiAgcmV0dXJuIHh5XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYWdlWFkocG9pbnRlcjogUG9pbnRlclR5cGUgfCBJbnRlcmFjdEV2ZW50LCBwYWdlPzogUG9pbnQpIHtcbiAgcGFnZSA9IHBhZ2UgfHwgeyB4OiAwLCB5OiAwIH1cblxuICAvLyBPcGVyYSBNb2JpbGUgaGFuZGxlcyB0aGUgdmlld3BvcnQgYW5kIHNjcm9sbGluZyBvZGRseVxuICBpZiAoYnJvd3Nlci5pc09wZXJhTW9iaWxlICYmIGlzTmF0aXZlUG9pbnRlcihwb2ludGVyKSkge1xuICAgIGdldFhZKCdzY3JlZW4nLCBwb2ludGVyLCBwYWdlKVxuXG4gICAgcGFnZS54ICs9IHdpbmRvdy5zY3JvbGxYXG4gICAgcGFnZS55ICs9IHdpbmRvdy5zY3JvbGxZXG4gIH0gZWxzZSB7XG4gICAgZ2V0WFkoJ3BhZ2UnLCBwb2ludGVyLCBwYWdlKVxuICB9XG5cbiAgcmV0dXJuIHBhZ2Vcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENsaWVudFhZKHBvaW50ZXI6IFBvaW50ZXJUeXBlLCBjbGllbnQ6IFBvaW50KSB7XG4gIGNsaWVudCA9IGNsaWVudCB8fCAoe30gYXMgYW55KVxuXG4gIGlmIChicm93c2VyLmlzT3BlcmFNb2JpbGUgJiYgaXNOYXRpdmVQb2ludGVyKHBvaW50ZXIpKSB7XG4gICAgLy8gT3BlcmEgTW9iaWxlIGhhbmRsZXMgdGhlIHZpZXdwb3J0IGFuZCBzY3JvbGxpbmcgb2RkbHlcbiAgICBnZXRYWSgnc2NyZWVuJywgcG9pbnRlciwgY2xpZW50KVxuICB9IGVsc2Uge1xuICAgIGdldFhZKCdjbGllbnQnLCBwb2ludGVyLCBjbGllbnQpXG4gIH1cblxuICByZXR1cm4gY2xpZW50XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb2ludGVySWQocG9pbnRlcjogeyBwb2ludGVySWQ/OiBudW1iZXI7IGlkZW50aWZpZXI/OiBudW1iZXI7IHR5cGU/OiBzdHJpbmcgfSkge1xuICByZXR1cm4gaXMubnVtYmVyKHBvaW50ZXIucG9pbnRlcklkKSA/IHBvaW50ZXIucG9pbnRlcklkISA6IHBvaW50ZXIuaWRlbnRpZmllciFcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldENvb3JkcyhkZXN0OiBDb29yZHNTZXRNZW1iZXIsIHBvaW50ZXJzOiBhbnlbXSwgdGltZVN0YW1wOiBudW1iZXIpIHtcbiAgY29uc3QgcG9pbnRlciA9IHBvaW50ZXJzLmxlbmd0aCA+IDEgPyBwb2ludGVyQXZlcmFnZShwb2ludGVycykgOiBwb2ludGVyc1swXVxuXG4gIGdldFBhZ2VYWShwb2ludGVyLCBkZXN0LnBhZ2UpXG4gIGdldENsaWVudFhZKHBvaW50ZXIsIGRlc3QuY2xpZW50KVxuXG4gIGRlc3QudGltZVN0YW1wID0gdGltZVN0YW1wXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb3VjaFBhaXIoZXZlbnQ6IFRvdWNoRXZlbnQgfCBQb2ludGVyVHlwZVtdKSB7XG4gIGNvbnN0IHRvdWNoZXM6IFBvaW50ZXJUeXBlW10gPSBbXVxuXG4gIC8vIGFycmF5IG9mIHRvdWNoZXMgaXMgc3VwcGxpZWRcbiAgaWYgKGlzLmFycmF5KGV2ZW50KSkge1xuICAgIHRvdWNoZXNbMF0gPSBldmVudFswXVxuICAgIHRvdWNoZXNbMV0gPSBldmVudFsxXVxuICB9XG4gIC8vIGFuIGV2ZW50XG4gIGVsc2Uge1xuICAgIGlmIChldmVudC50eXBlID09PSAndG91Y2hlbmQnKSB7XG4gICAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdG91Y2hlc1swXSA9IGV2ZW50LnRvdWNoZXNbMF1cbiAgICAgICAgdG91Y2hlc1sxXSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdXG4gICAgICB9IGVsc2UgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRvdWNoZXNbMF0gPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXVxuICAgICAgICB0b3VjaGVzWzFdID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMV1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdG91Y2hlc1swXSA9IGV2ZW50LnRvdWNoZXNbMF1cbiAgICAgIHRvdWNoZXNbMV0gPSBldmVudC50b3VjaGVzWzFdXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRvdWNoZXNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvaW50ZXJBdmVyYWdlKHBvaW50ZXJzOiBQb2ludGVyVHlwZVtdKSB7XG4gIGNvbnN0IGF2ZXJhZ2UgPSB7XG4gICAgcGFnZVg6IDAsXG4gICAgcGFnZVk6IDAsXG4gICAgY2xpZW50WDogMCxcbiAgICBjbGllbnRZOiAwLFxuICAgIHNjcmVlblg6IDAsXG4gICAgc2NyZWVuWTogMCxcbiAgfVxuXG4gIHR5cGUgQ29vcmRLZXlzID0ga2V5b2YgdHlwZW9mIGF2ZXJhZ2VcblxuICBmb3IgKGNvbnN0IHBvaW50ZXIgb2YgcG9pbnRlcnMpIHtcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gYXZlcmFnZSkge1xuICAgICAgYXZlcmFnZVtwcm9wIGFzIENvb3JkS2V5c10gKz0gcG9pbnRlcltwcm9wIGFzIENvb3JkS2V5c11cbiAgICB9XG4gIH1cbiAgZm9yIChjb25zdCBwcm9wIGluIGF2ZXJhZ2UpIHtcbiAgICBhdmVyYWdlW3Byb3AgYXMgQ29vcmRLZXlzXSAvPSBwb2ludGVycy5sZW5ndGhcbiAgfVxuXG4gIHJldHVybiBhdmVyYWdlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b3VjaEJCb3goZXZlbnQ6IFBvaW50ZXJUeXBlW10pIHtcbiAgaWYgKCFldmVudC5sZW5ndGgpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgY29uc3QgdG91Y2hlcyA9IGdldFRvdWNoUGFpcihldmVudClcbiAgY29uc3QgbWluWCA9IE1hdGgubWluKHRvdWNoZXNbMF0ucGFnZVgsIHRvdWNoZXNbMV0ucGFnZVgpXG4gIGNvbnN0IG1pblkgPSBNYXRoLm1pbih0b3VjaGVzWzBdLnBhZ2VZLCB0b3VjaGVzWzFdLnBhZ2VZKVxuICBjb25zdCBtYXhYID0gTWF0aC5tYXgodG91Y2hlc1swXS5wYWdlWCwgdG91Y2hlc1sxXS5wYWdlWClcbiAgY29uc3QgbWF4WSA9IE1hdGgubWF4KHRvdWNoZXNbMF0ucGFnZVksIHRvdWNoZXNbMV0ucGFnZVkpXG5cbiAgcmV0dXJuIHtcbiAgICB4OiBtaW5YLFxuICAgIHk6IG1pblksXG4gICAgbGVmdDogbWluWCxcbiAgICB0b3A6IG1pblksXG4gICAgcmlnaHQ6IG1heFgsXG4gICAgYm90dG9tOiBtYXhZLFxuICAgIHdpZHRoOiBtYXhYIC0gbWluWCxcbiAgICBoZWlnaHQ6IG1heFkgLSBtaW5ZLFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b3VjaERpc3RhbmNlKGV2ZW50OiBQb2ludGVyVHlwZVtdIHwgVG91Y2hFdmVudCwgZGVsdGFTb3VyY2U6IHN0cmluZykge1xuICBjb25zdCBzb3VyY2VYID0gKGRlbHRhU291cmNlICsgJ1gnKSBhcyAncGFnZVgnXG4gIGNvbnN0IHNvdXJjZVkgPSAoZGVsdGFTb3VyY2UgKyAnWScpIGFzICdwYWdlWSdcbiAgY29uc3QgdG91Y2hlcyA9IGdldFRvdWNoUGFpcihldmVudClcblxuICBjb25zdCBkeCA9IHRvdWNoZXNbMF1bc291cmNlWF0gLSB0b3VjaGVzWzFdW3NvdXJjZVhdXG4gIGNvbnN0IGR5ID0gdG91Y2hlc1swXVtzb3VyY2VZXSAtIHRvdWNoZXNbMV1bc291cmNlWV1cblxuICByZXR1cm4gaHlwb3QoZHgsIGR5KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG91Y2hBbmdsZShldmVudDogUG9pbnRlclR5cGVbXSB8IFRvdWNoRXZlbnQsIGRlbHRhU291cmNlOiBzdHJpbmcpIHtcbiAgY29uc3Qgc291cmNlWCA9IChkZWx0YVNvdXJjZSArICdYJykgYXMgJ3BhZ2VYJ1xuICBjb25zdCBzb3VyY2VZID0gKGRlbHRhU291cmNlICsgJ1knKSBhcyAncGFnZVknXG4gIGNvbnN0IHRvdWNoZXMgPSBnZXRUb3VjaFBhaXIoZXZlbnQpXG4gIGNvbnN0IGR4ID0gdG91Y2hlc1sxXVtzb3VyY2VYXSAtIHRvdWNoZXNbMF1bc291cmNlWF1cbiAgY29uc3QgZHkgPSB0b3VjaGVzWzFdW3NvdXJjZVldIC0gdG91Y2hlc1swXVtzb3VyY2VZXVxuICBjb25zdCBhbmdsZSA9ICgxODAgKiBNYXRoLmF0YW4yKGR5LCBkeCkpIC8gTWF0aC5QSVxuXG4gIHJldHVybiBhbmdsZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9pbnRlclR5cGUocG9pbnRlcjogeyBwb2ludGVyVHlwZT86IHN0cmluZzsgaWRlbnRpZmllcj86IG51bWJlcjsgdHlwZT86IHN0cmluZyB9KSB7XG4gIHJldHVybiBpcy5zdHJpbmcocG9pbnRlci5wb2ludGVyVHlwZSlcbiAgICA/IHBvaW50ZXIucG9pbnRlclR5cGVcbiAgICA6IGlzLm51bWJlcihwb2ludGVyLnBvaW50ZXJUeXBlKVxuICAgICAgPyBbdW5kZWZpbmVkLCB1bmRlZmluZWQsICd0b3VjaCcsICdwZW4nLCAnbW91c2UnXVtwb2ludGVyLnBvaW50ZXJUeXBlXSFcbiAgICAgIDogLy8gaWYgdGhlIFBvaW50ZXJFdmVudCBBUEkgaXNuJ3QgYXZhaWxhYmxlLCB0aGVuIHRoZSBcInBvaW50ZXJcIiBtdXN0XG4gICAgICAgIC8vIGJlIGVpdGhlciBhIE1vdXNlRXZlbnQsIFRvdWNoRXZlbnQsIG9yIFRvdWNoIG9iamVjdFxuICAgICAgICAvdG91Y2gvLnRlc3QocG9pbnRlci50eXBlIHx8ICcnKSB8fCBwb2ludGVyIGluc3RhbmNlb2YgZG9tLlRvdWNoXG4gICAgICAgID8gJ3RvdWNoJ1xuICAgICAgICA6ICdtb3VzZSdcbn1cblxuLy8gWyBldmVudC50YXJnZXQsIGV2ZW50LmN1cnJlbnRUYXJnZXQgXVxuZXhwb3J0IGZ1bmN0aW9uIGdldEV2ZW50VGFyZ2V0cyhldmVudDogRXZlbnQpIHtcbiAgY29uc3QgcGF0aCA9IGlzLmZ1bmMoZXZlbnQuY29tcG9zZWRQYXRoKVxuICAgID8gKGV2ZW50LmNvbXBvc2VkUGF0aCgpIGFzIEVsZW1lbnRbXSlcbiAgICA6IChldmVudCBhcyB1bmtub3duIGFzIHsgcGF0aDogRWxlbWVudFtdIH0pLnBhdGhcblxuICByZXR1cm4gW1xuICAgIGRvbVV0aWxzLmdldEFjdHVhbEVsZW1lbnQocGF0aCA/IHBhdGhbMF0gOiAoZXZlbnQudGFyZ2V0IGFzIEVsZW1lbnQpKSxcbiAgICBkb21VdGlscy5nZXRBY3R1YWxFbGVtZW50KGV2ZW50LmN1cnJlbnRUYXJnZXQgYXMgRWxlbWVudCksXG4gIF1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5ld0Nvb3JkcygpOiBDb29yZHNTZXRNZW1iZXIge1xuICByZXR1cm4ge1xuICAgIHBhZ2U6IHsgeDogMCwgeTogMCB9LFxuICAgIGNsaWVudDogeyB4OiAwLCB5OiAwIH0sXG4gICAgdGltZVN0YW1wOiAwLFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb29yZHNUb0V2ZW50KGNvb3JkczogTW9ja0Nvb3Jkcykge1xuICBjb25zdCBldmVudCA9IHtcbiAgICBjb29yZHMsXG4gICAgZ2V0IHBhZ2UoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb29yZHMucGFnZVxuICAgIH0sXG4gICAgZ2V0IGNsaWVudCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy5jbGllbnRcbiAgICB9LFxuICAgIGdldCB0aW1lU3RhbXAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb29yZHMudGltZVN0YW1wXG4gICAgfSxcbiAgICBnZXQgcGFnZVgoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb29yZHMucGFnZS54XG4gICAgfSxcbiAgICBnZXQgcGFnZVkoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb29yZHMucGFnZS55XG4gICAgfSxcbiAgICBnZXQgY2xpZW50WCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy5jbGllbnQueFxuICAgIH0sXG4gICAgZ2V0IGNsaWVudFkoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb29yZHMuY2xpZW50LnlcbiAgICB9LFxuICAgIGdldCBwb2ludGVySWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb29yZHMucG9pbnRlcklkXG4gICAgfSxcbiAgICBnZXQgdGFyZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29vcmRzLnRhcmdldFxuICAgIH0sXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb29yZHMudHlwZVxuICAgIH0sXG4gICAgZ2V0IHBvaW50ZXJUeXBlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29vcmRzLnBvaW50ZXJUeXBlXG4gICAgfSxcbiAgICBnZXQgYnV0dG9ucygpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy5idXR0b25zXG4gICAgfSxcbiAgICBwcmV2ZW50RGVmYXVsdCgpIHt9LFxuICB9XG5cbiAgcmV0dXJuIGV2ZW50IGFzIHR5cGVvZiBldmVudCAmIFBvaW50ZXJUeXBlICYgUG9pbnRlckV2ZW50VHlwZVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vY2tDb29yZHMge1xuICBwYWdlOiBQb2ludFxuICBjbGllbnQ6IFBvaW50XG4gIHRpbWVTdGFtcD86IG51bWJlclxuICBwb2ludGVySWQ/OiBhbnlcbiAgdGFyZ2V0PzogYW55XG4gIHR5cGU/OiBzdHJpbmdcbiAgcG9pbnRlclR5cGU/OiBzdHJpbmdcbiAgYnV0dG9ucz86IG51bWJlclxufVxuXG5leHBvcnQgeyBwb2ludGVyRXh0ZW5kIH1cbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGlvbiwgSW50ZXJhY3Rpb25Qcm94eSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IEFjdGlvbk5hbWUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5leHBvcnQgY2xhc3MgQmFzZUV2ZW50PFQgZXh0ZW5kcyBBY3Rpb25OYW1lIHwgbnVsbCA9IG5ldmVyPiB7XG4gIGRlY2xhcmUgdHlwZTogc3RyaW5nXG4gIGRlY2xhcmUgdGFyZ2V0OiBFdmVudFRhcmdldFxuICBkZWNsYXJlIGN1cnJlbnRUYXJnZXQ6IE5vZGVcbiAgZGVjbGFyZSBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZVxuICAvKiogQGludGVybmFsICovXG4gIGRlY2xhcmUgX2ludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxUPlxuICBkZWNsYXJlIHRpbWVTdGFtcDogbnVtYmVyXG4gIGltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IGZhbHNlXG4gIHByb3BhZ2F0aW9uU3RvcHBlZCA9IGZhbHNlXG5cbiAgY29uc3RydWN0b3IoaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPFQ+KSB7XG4gICAgdGhpcy5faW50ZXJhY3Rpb24gPSBpbnRlcmFjdGlvblxuICB9XG5cbiAgcHJldmVudERlZmF1bHQoKSB7fVxuXG4gIC8qKlxuICAgKiBEb24ndCBjYWxsIGFueSBvdGhlciBsaXN0ZW5lcnMgKGV2ZW4gb24gdGhlIGN1cnJlbnQgdGFyZ2V0KVxuICAgKi9cbiAgc3RvcFByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIERvbid0IGNhbGwgbGlzdGVuZXJzIG9uIHRoZSByZW1haW5pbmcgdGFyZ2V0c1xuICAgKi9cbiAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlXG4gIH1cbn1cblxuLy8gZGVmaW5lZCBvdXRzaWRlIG9mIGNsYXNzIGRlZmluaXRpb24gdG8gYXZvaWQgYXNzaWdubWVudCBvZiB1bmRlZmluZWQgZHVyaW5nXG4vLyBjb25zdHJ1Y3Rpb25cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZUV2ZW50PFQgZXh0ZW5kcyBBY3Rpb25OYW1lIHwgbnVsbCA9IG5ldmVyPiB7XG4gIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvblByb3h5PFQ+XG59XG5cbi8vIGdldHRlcnMgYW5kIHNldHRlcnMgZGVmaW5lZCBoZXJlIHRvIHN1cHBvcnQgdHlwZXNjcmlwdCAzLjYgYW5kIGJlbG93IHdoaWNoXG4vLyBkb24ndCBzdXBwb3J0IGdldHRlciBhbmQgc2V0dGVycyBpbiAuZC50cyBmaWxlc1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VFdmVudC5wcm90b3R5cGUsICdpbnRlcmFjdGlvbicsIHtcbiAgZ2V0KHRoaXM6IEJhc2VFdmVudCkge1xuICAgIHJldHVybiB0aGlzLl9pbnRlcmFjdGlvbi5fcHJveHlcbiAgfSxcbiAgc2V0KHRoaXM6IEJhc2VFdmVudCkge30sXG59KVxuIiwgInR5cGUgRmlsdGVyPFQ+ID0gKGVsZW1lbnQ6IFQsIGluZGV4OiBudW1iZXIsIGFycmF5OiBUW10pID0+IGJvb2xlYW5cblxuZXhwb3J0IGNvbnN0IGNvbnRhaW5zID0gPFQ+KGFycmF5OiBUW10sIHRhcmdldDogVCkgPT4gYXJyYXkuaW5kZXhPZih0YXJnZXQpICE9PSAtMVxuXG5leHBvcnQgY29uc3QgcmVtb3ZlID0gPFQ+KGFycmF5OiBUW10sIHRhcmdldDogVCkgPT4gYXJyYXkuc3BsaWNlKGFycmF5LmluZGV4T2YodGFyZ2V0KSwgMSlcblxuZXhwb3J0IGNvbnN0IG1lcmdlID0gPFQsIFU+KHRhcmdldDogQXJyYXk8VCB8IFU+LCBzb3VyY2U6IFVbXSkgPT4ge1xuICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc291cmNlKSB7XG4gICAgdGFyZ2V0LnB1c2goaXRlbSlcbiAgfVxuXG4gIHJldHVybiB0YXJnZXRcbn1cblxuZXhwb3J0IGNvbnN0IGZyb20gPSA8VCA9IGFueT4oc291cmNlOiBBcnJheUxpa2U8VD4pID0+IG1lcmdlKFtdIGFzIFRbXSwgc291cmNlIGFzIFRbXSlcblxuZXhwb3J0IGNvbnN0IGZpbmRJbmRleCA9IDxUPihhcnJheTogVFtdLCBmdW5jOiBGaWx0ZXI8VD4pID0+IHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChmdW5jKGFycmF5W2ldLCBpLCBhcnJheSkpIHtcbiAgICAgIHJldHVybiBpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xXG59XG5cbmV4cG9ydCBjb25zdCBmaW5kID0gPFQgPSBhbnk+KGFycmF5OiBUW10sIGZ1bmM6IEZpbHRlcjxUPik6IFQgfCB1bmRlZmluZWQgPT4gYXJyYXlbZmluZEluZGV4KGFycmF5LCBmdW5jKV1cbiIsICJpbXBvcnQgeyBCYXNlRXZlbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0Jhc2VFdmVudCdcbmltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0RXZlbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0RXZlbnQnXG5pbXBvcnQgdHlwZSB7IEVsZW1lbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0ICogYXMgYXJyIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2FycidcblxuaW1wb3J0IHR5cGUgeyBEcm9wU3RhdGUgfSBmcm9tICcuL3BsdWdpbidcblxuZXhwb3J0IGNsYXNzIERyb3BFdmVudCBleHRlbmRzIEJhc2VFdmVudDwnZHJhZyc+IHtcbiAgZGVjbGFyZSB0YXJnZXQ6IEVsZW1lbnRcbiAgZHJvcHpvbmU6IEludGVyYWN0YWJsZVxuICBkcmFnRXZlbnQ6IEludGVyYWN0RXZlbnQ8J2RyYWcnPlxuICByZWxhdGVkVGFyZ2V0OiBFbGVtZW50XG4gIGRyYWdnYWJsZTogSW50ZXJhY3RhYmxlXG4gIHByb3BhZ2F0aW9uU3RvcHBlZCA9IGZhbHNlXG4gIGltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IGZhbHNlXG5cbiAgLyoqXG4gICAqIENsYXNzIG9mIGV2ZW50cyBmaXJlZCBvbiBkcm9wem9uZXMgZHVyaW5nIGRyYWdzIHdpdGggYWNjZXB0YWJsZSB0YXJnZXRzLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZHJvcFN0YXRlOiBEcm9wU3RhdGUsIGRyYWdFdmVudDogSW50ZXJhY3RFdmVudDwnZHJhZyc+LCB0eXBlOiBzdHJpbmcpIHtcbiAgICBzdXBlcihkcmFnRXZlbnQuX2ludGVyYWN0aW9uKVxuXG4gICAgY29uc3QgeyBlbGVtZW50LCBkcm9wem9uZSB9ID0gdHlwZSA9PT0gJ2RyYWdsZWF2ZScgPyBkcm9wU3RhdGUucHJldiA6IGRyb3BTdGF0ZS5jdXJcblxuICAgIHRoaXMudHlwZSA9IHR5cGVcbiAgICB0aGlzLnRhcmdldCA9IGVsZW1lbnRcbiAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBlbGVtZW50XG4gICAgdGhpcy5kcm9wem9uZSA9IGRyb3B6b25lXG4gICAgdGhpcy5kcmFnRXZlbnQgPSBkcmFnRXZlbnRcbiAgICB0aGlzLnJlbGF0ZWRUYXJnZXQgPSBkcmFnRXZlbnQudGFyZ2V0XG4gICAgdGhpcy5kcmFnZ2FibGUgPSBkcmFnRXZlbnQuaW50ZXJhY3RhYmxlXG4gICAgdGhpcy50aW1lU3RhbXAgPSBkcmFnRXZlbnQudGltZVN0YW1wXG4gIH1cblxuICAvKipcbiAgICogSWYgdGhpcyBpcyBhIGBkcm9wYWN0aXZhdGVgIGV2ZW50LCB0aGUgZHJvcHpvbmUgZWxlbWVudCB3aWxsIGJlXG4gICAqIGRlYWN0aXZhdGVkLlxuICAgKlxuICAgKiBJZiB0aGlzIGlzIGEgYGRyYWdtb3ZlYCBvciBgZHJhZ2VudGVyYCwgYSBgZHJhZ2xlYXZlYCB3aWxsIGJlIGZpcmVkIG9uIHRoZVxuICAgKiBkcm9wem9uZSBlbGVtZW50IGFuZCBtb3JlLlxuICAgKi9cbiAgcmVqZWN0KCkge1xuICAgIGNvbnN0IHsgZHJvcFN0YXRlIH0gPSB0aGlzLl9pbnRlcmFjdGlvblxuXG4gICAgaWYgKFxuICAgICAgdGhpcy50eXBlICE9PSAnZHJvcGFjdGl2YXRlJyAmJlxuICAgICAgKCF0aGlzLmRyb3B6b25lIHx8IGRyb3BTdGF0ZS5jdXIuZHJvcHpvbmUgIT09IHRoaXMuZHJvcHpvbmUgfHwgZHJvcFN0YXRlLmN1ci5lbGVtZW50ICE9PSB0aGlzLnRhcmdldClcbiAgICApIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGRyb3BTdGF0ZS5wcmV2LmRyb3B6b25lID0gdGhpcy5kcm9wem9uZVxuICAgIGRyb3BTdGF0ZS5wcmV2LmVsZW1lbnQgPSB0aGlzLnRhcmdldFxuXG4gICAgZHJvcFN0YXRlLnJlamVjdGVkID0gdHJ1ZVxuICAgIGRyb3BTdGF0ZS5ldmVudHMuZW50ZXIgPSBudWxsXG5cbiAgICB0aGlzLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpXG5cbiAgICBpZiAodGhpcy50eXBlID09PSAnZHJvcGFjdGl2YXRlJykge1xuICAgICAgY29uc3QgYWN0aXZlRHJvcHMgPSBkcm9wU3RhdGUuYWN0aXZlRHJvcHNcbiAgICAgIGNvbnN0IGluZGV4ID0gYXJyLmZpbmRJbmRleChcbiAgICAgICAgYWN0aXZlRHJvcHMsXG4gICAgICAgICh7IGRyb3B6b25lLCBlbGVtZW50IH0pID0+IGRyb3B6b25lID09PSB0aGlzLmRyb3B6b25lICYmIGVsZW1lbnQgPT09IHRoaXMudGFyZ2V0LFxuICAgICAgKVxuXG4gICAgICBkcm9wU3RhdGUuYWN0aXZlRHJvcHMuc3BsaWNlKGluZGV4LCAxKVxuXG4gICAgICBjb25zdCBkZWFjdGl2YXRlRXZlbnQgPSBuZXcgRHJvcEV2ZW50KGRyb3BTdGF0ZSwgdGhpcy5kcmFnRXZlbnQsICdkcm9wZGVhY3RpdmF0ZScpXG5cbiAgICAgIGRlYWN0aXZhdGVFdmVudC5kcm9wem9uZSA9IHRoaXMuZHJvcHpvbmVcbiAgICAgIGRlYWN0aXZhdGVFdmVudC50YXJnZXQgPSB0aGlzLnRhcmdldFxuXG4gICAgICB0aGlzLmRyb3B6b25lLmZpcmUoZGVhY3RpdmF0ZUV2ZW50KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRyb3B6b25lLmZpcmUobmV3IERyb3BFdmVudChkcm9wU3RhdGUsIHRoaXMuZHJhZ0V2ZW50LCAnZHJhZ2xlYXZlJykpXG4gICAgfVxuICB9XG5cbiAgcHJldmVudERlZmF1bHQoKSB7fVxuXG4gIHN0b3BQcm9wYWdhdGlvbigpIHtcbiAgICB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWVcbiAgfVxuXG4gIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpIHtcbiAgICB0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZVxuICB9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIHsgRXZlbnRQaGFzZSwgSW50ZXJhY3RFdmVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RFdmVudCdcbmltcG9ydCB0eXBlIHsgSW50ZXJhY3Rpb24sIERvUGhhc2VBcmcgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBQZXJBY3Rpb25EZWZhdWx0cyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucydcbmltcG9ydCB0eXBlIHsgU2NvcGUsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IEVsZW1lbnQsIFBvaW50ZXJFdmVudFR5cGUsIFJlY3QsIExpc3RlbmVyc0FyZyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgKiBhcyBkb21VdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscydcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0IGdldE9yaWdpblhZIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2dldE9yaWdpblhZJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuaW1wb3J0IG5vcm1hbGl6ZUxpc3RlbmVycyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9ub3JtYWxpemVMaXN0ZW5lcnMnXG5pbXBvcnQgKiBhcyBwb2ludGVyVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcG9pbnRlclV0aWxzJ1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICcuLi9kcmFnL3BsdWdpbidcblxuaW1wb3J0IHR5cGUgeyBEcmFnRXZlbnQgfSBmcm9tICcuLi9kcmFnL3BsdWdpbidcbmltcG9ydCBkcmFnIGZyb20gJy4uL2RyYWcvcGx1Z2luJ1xuLyogZXNsaW50LWVuYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAqL1xuXG5pbXBvcnQgeyBEcm9wRXZlbnQgfSBmcm9tICcuL0Ryb3BFdmVudCdcblxuZXhwb3J0IHR5cGUgRHJvcEZ1bmN0aW9uQ2hlY2tlciA9IChcbiAgZHJhZ0V2ZW50OiBhbnksIC8vIHJlbGF0ZWQgZHJhZyBvcGVyYXRpb25cbiAgZXZlbnQ6IGFueSwgLy8gdG91Y2ggb3IgbW91c2UgRXZlbnRFbWl0dGVyXG4gIGRyb3BwZWQ6IGJvb2xlYW4sIC8vIGRlZmF1bHQgY2hlY2tlciByZXN1bHRcbiAgZHJvcHpvbmU6IEludGVyYWN0YWJsZSwgLy8gZHJvcHpvbmUgaW50ZXJhY3RhYmxlXG4gIGRyb3BFbGVtZW50OiBFbGVtZW50LCAvLyBkcm9wIHpvbmUgZWxlbWVudFxuICBkcmFnZ2FibGU6IEludGVyYWN0YWJsZSwgLy8gZHJhZ2dhYmxlJ3MgSW50ZXJhY3RhYmxlXG4gIGRyYWdnYWJsZUVsZW1lbnQ6IEVsZW1lbnQsIC8vIGRyYWdnZWQgZWxlbWVudFxuKSA9PiBib29sZWFuXG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJvcHpvbmVPcHRpb25zIGV4dGVuZHMgUGVyQWN0aW9uRGVmYXVsdHMge1xuICBhY2NlcHQ/OlxuICAgIHwgc3RyaW5nXG4gICAgfCBFbGVtZW50XG4gICAgfCAoKHsgZHJvcHpvbmUsIGRyYWdnYWJsZUVsZW1lbnQgfTogeyBkcm9wem9uZTogSW50ZXJhY3RhYmxlOyBkcmFnZ2FibGVFbGVtZW50OiBFbGVtZW50IH0pID0+IGJvb2xlYW4pXG4gIC8vIEhvdyB0aGUgb3ZlcmxhcCBpcyBjaGVja2VkIG9uIHRoZSBkcm9wIHpvbmVcbiAgb3ZlcmxhcD86ICdwb2ludGVyJyB8ICdjZW50ZXInIHwgbnVtYmVyXG4gIGNoZWNrZXI/OiBEcm9wRnVuY3Rpb25DaGVja2VyXG5cbiAgb25kcm9wYWN0aXZhdGU/OiBMaXN0ZW5lcnNBcmdcbiAgb25kcm9wZGVhY3RpdmF0ZT86IExpc3RlbmVyc0FyZ1xuICBvbmRyYWdlbnRlcj86IExpc3RlbmVyc0FyZ1xuICBvbmRyYWdsZWF2ZT86IExpc3RlbmVyc0FyZ1xuICBvbmRyb3Btb3ZlPzogTGlzdGVuZXJzQXJnXG4gIG9uZHJvcD86IExpc3RlbmVyc0FyZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERyb3B6b25lTWV0aG9kIHtcbiAgKHRoaXM6IEludGVyYWN0YWJsZSwgb3B0aW9uczogRHJvcHpvbmVPcHRpb25zIHwgYm9vbGVhbik6IEludGVyYWN0YWJsZVxuICAoKTogRHJvcHpvbmVPcHRpb25zXG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZScge1xuICBpbnRlcmZhY2UgSW50ZXJhY3RhYmxlIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogaW50ZXJhY3QoJy5kcm9wJykuZHJvcHpvbmUoe1xuICAgICAqICAgYWNjZXB0OiAnLmNhbi1kcm9wJyB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2luZ2xlLWRyb3AnKSxcbiAgICAgKiAgIG92ZXJsYXA6ICdwb2ludGVyJyB8fCAnY2VudGVyJyB8fCB6ZXJvVG9PbmVcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIG9yIHNldHMgd2hldGhlciBkcmFnZ2FibGVzIGNhbiBiZSBkcm9wcGVkIG9udG8gdGhpcyB0YXJnZXQgdG9cbiAgICAgKiB0cmlnZ2VyIGRyb3AgZXZlbnRzXG4gICAgICpcbiAgICAgKiBEcm9wem9uZXMgY2FuIHJlY2VpdmUgdGhlIGZvbGxvd2luZyBldmVudHM6XG4gICAgICogIC0gYGRyb3BhY3RpdmF0ZWAgYW5kIGBkcm9wZGVhY3RpdmF0ZWAgd2hlbiBhbiBhY2NlcHRhYmxlIGRyYWcgc3RhcnRzIGFuZCBlbmRzXG4gICAgICogIC0gYGRyYWdlbnRlcmAgYW5kIGBkcmFnbGVhdmVgIHdoZW4gYSBkcmFnZ2FibGUgZW50ZXJzIGFuZCBsZWF2ZXMgdGhlIGRyb3B6b25lXG4gICAgICogIC0gYGRyYWdtb3ZlYCB3aGVuIGEgZHJhZ2dhYmxlIHRoYXQgaGFzIGVudGVyZWQgdGhlIGRyb3B6b25lIGlzIG1vdmVkXG4gICAgICogIC0gYGRyb3BgIHdoZW4gYSBkcmFnZ2FibGUgaXMgZHJvcHBlZCBpbnRvIHRoaXMgZHJvcHpvbmVcbiAgICAgKlxuICAgICAqIFVzZSB0aGUgYGFjY2VwdGAgb3B0aW9uIHRvIGFsbG93IG9ubHkgZWxlbWVudHMgdGhhdCBtYXRjaCB0aGUgZ2l2ZW4gQ1NTXG4gICAgICogc2VsZWN0b3Igb3IgZWxlbWVudC4gVGhlIHZhbHVlIGNhbiBiZTpcbiAgICAgKlxuICAgICAqICAtICoqYW4gRWxlbWVudCoqIC0gb25seSB0aGF0IGVsZW1lbnQgY2FuIGJlIGRyb3BwZWQgaW50byB0aGlzIGRyb3B6b25lLlxuICAgICAqICAtICoqYSBzdHJpbmcqKiwgLSB0aGUgZWxlbWVudCBiZWluZyBkcmFnZ2VkIG11c3QgbWF0Y2ggaXQgYXMgYSBDU1Mgc2VsZWN0b3IuXG4gICAgICogIC0gKipgbnVsbGAqKiAtIGFjY2VwdCBvcHRpb25zIGlzIGNsZWFyZWQgLSBpdCBhY2NlcHRzIGFueSBlbGVtZW50LlxuICAgICAqXG4gICAgICogVXNlIHRoZSBgb3ZlcmxhcGAgb3B0aW9uIHRvIHNldCBob3cgZHJvcHMgYXJlIGNoZWNrZWQgZm9yLiBUaGUgYWxsb3dlZFxuICAgICAqIHZhbHVlcyBhcmU6XG4gICAgICpcbiAgICAgKiAgIC0gYCdwb2ludGVyJ2AsIHRoZSBwb2ludGVyIG11c3QgYmUgb3ZlciB0aGUgZHJvcHpvbmUgKGRlZmF1bHQpXG4gICAgICogICAtIGAnY2VudGVyJ2AsIHRoZSBkcmFnZ2FibGUgZWxlbWVudCdzIGNlbnRlciBtdXN0IGJlIG92ZXIgdGhlIGRyb3B6b25lXG4gICAgICogICAtIGEgbnVtYmVyIGZyb20gMC0xIHdoaWNoIGlzIHRoZSBgKGludGVyc2VjdGlvbiBhcmVhKSAvIChkcmFnZ2FibGUgYXJlYSlgLlxuICAgICAqICAgZS5nLiBgMC41YCBmb3IgZHJvcCB0byBoYXBwZW4gd2hlbiBoYWxmIG9mIHRoZSBhcmVhIG9mIHRoZSBkcmFnZ2FibGUgaXNcbiAgICAgKiAgIG92ZXIgdGhlIGRyb3B6b25lXG4gICAgICpcbiAgICAgKiBVc2UgdGhlIGBjaGVja2VyYCBvcHRpb24gdG8gc3BlY2lmeSBhIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIGEgZHJhZ2dlZCBlbGVtZW50XG4gICAgICogaXMgb3ZlciB0aGlzIEludGVyYWN0YWJsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG5ldyBvcHRpb25zIHRvIGJlIHNldFxuICAgICAqL1xuICAgIGRyb3B6b25lKG9wdGlvbnM6IERyb3B6b25lT3B0aW9ucyB8IGJvb2xlYW4pOiBJbnRlcmFjdGFibGVcbiAgICAvKiogQHJldHVybnMgVGhlIGN1cnJlbnQgc2V0dGluZyAqL1xuICAgIGRyb3B6b25lKCk6IERyb3B6b25lT3B0aW9uc1xuXG4gICAgLyoqXG4gICAgICogYGBganNcbiAgICAgKiBpbnRlcmFjdCh0YXJnZXQpXG4gICAgICogLmRyb3BDaGVja2VyKGZ1bmN0aW9uKGRyYWdFdmVudCwgICAgICAgICAvLyByZWxhdGVkIGRyYWdtb3ZlIG9yIGRyYWdlbmQgZXZlbnRcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQsICAgICAgICAgICAgIC8vIFRvdWNoRXZlbnQvUG9pbnRlckV2ZW50L01vdXNlRXZlbnRcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgZHJvcHBlZCwgICAgICAgICAgIC8vIGJvb2wgcmVzdWx0IG9mIHRoZSBkZWZhdWx0IGNoZWNrZXJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgZHJvcHpvbmUsICAgICAgICAgIC8vIGRyb3B6b25lIEludGVyYWN0YWJsZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICBkcm9wRWxlbWVudCwgICAgICAgLy8gZHJvcHpvbmUgZWxlbW50XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZSwgICAgICAgICAvLyBkcmFnZ2FibGUgSW50ZXJhY3RhYmxlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZUVsZW1lbnQpIHsvLyBkcmFnZ2FibGUgZWxlbWVudFxuICAgICAqXG4gICAgICogICByZXR1cm4gZHJvcHBlZCAmJiBldmVudC50YXJnZXQuaGFzQXR0cmlidXRlKCdhbGxvdy1kcm9wJylcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgZHJvcENoZWNrKFxuICAgICAgZHJhZ0V2ZW50OiBJbnRlcmFjdEV2ZW50LFxuICAgICAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsXG4gICAgICBkcmFnZ2FibGU6IEludGVyYWN0YWJsZSxcbiAgICAgIGRyYWdnYWJsZUVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgICBkcm9wRWxlbWVuOiBFbGVtZW50LFxuICAgICAgcmVjdDogYW55LFxuICAgICk6IGJvb2xlYW5cbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbicge1xuICBpbnRlcmZhY2UgSW50ZXJhY3Rpb24ge1xuICAgIGRyb3BTdGF0ZT86IERyb3BTdGF0ZVxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0RXZlbnQnIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0RXZlbnQge1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBwcmV2RHJvcHpvbmU/OiBJbnRlcmFjdGFibGVcbiAgICBkcm9wem9uZT86IEludGVyYWN0YWJsZVxuICAgIGRyYWdFbnRlcj86IEVsZW1lbnRcbiAgICBkcmFnTGVhdmU/OiBFbGVtZW50XG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucycge1xuICBpbnRlcmZhY2UgQWN0aW9uRGVmYXVsdHMge1xuICAgIGRyb3A6IERyb3B6b25lT3B0aW9uc1xuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJyB7XG4gIGludGVyZmFjZSBTY29wZSB7XG4gICAgZHluYW1pY0Ryb3A/OiBib29sZWFuXG4gIH1cblxuICBpbnRlcmZhY2UgU2lnbmFsQXJncyB7XG4gICAgJ2FjdGlvbnMvZHJvcDpzdGFydCc6IERyb3BTaWduYWxBcmdcbiAgICAnYWN0aW9ucy9kcm9wOm1vdmUnOiBEcm9wU2lnbmFsQXJnXG4gICAgJ2FjdGlvbnMvZHJvcDplbmQnOiBEcm9wU2lnbmFsQXJnXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnIHtcbiAgaW50ZXJmYWNlIEFjdGlvbk1hcCB7XG4gICAgZHJvcD86IHR5cGVvZiBkcm9wXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RTdGF0aWMnIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0U3RhdGljIHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9yIHNldHMgd2hldGhlciB0aGUgZGltZW5zaW9ucyBvZiBkcm9wem9uZSBlbGVtZW50cyBhcmUgY2FsY3VsYXRlZFxuICAgICAqIG9uIGV2ZXJ5IGRyYWdtb3ZlIG9yIG9ubHkgb24gZHJhZ3N0YXJ0IGZvciB0aGUgZGVmYXVsdCBkcm9wQ2hlY2tlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbbmV3VmFsdWVdIFRydWUgdG8gY2hlY2sgb24gZWFjaCBtb3ZlLiBGYWxzZSB0byBjaGVjayBvbmx5XG4gICAgICogYmVmb3JlIHN0YXJ0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbiB8IGludGVyYWN0fSBUaGUgY3VycmVudCBzZXR0aW5nIG9yIGludGVyYWN0XG4gICAgICovXG4gICAgZHluYW1pY0Ryb3A6IChuZXdWYWx1ZT86IGJvb2xlYW4pID0+IGJvb2xlYW4gfCB0aGlzXG4gIH1cbn1cblxuaW50ZXJmYWNlIERyb3BTaWduYWxBcmcge1xuICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248J2RyYWcnPlxuICBkcmFnRXZlbnQ6IERyYWdFdmVudFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFjdGl2ZURyb3Age1xuICBkcm9wem9uZTogSW50ZXJhY3RhYmxlXG4gIGVsZW1lbnQ6IEVsZW1lbnRcbiAgcmVjdDogUmVjdFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIERyb3BTdGF0ZSB7XG4gIGN1cjoge1xuICAgIC8vIHRoZSBkcm9wem9uZSBhIGRyYWcgdGFyZ2V0IG1pZ2h0IGJlIGRyb3BwZWQgaW50b1xuICAgIGRyb3B6b25lOiBJbnRlcmFjdGFibGVcbiAgICAvLyB0aGUgZWxlbWVudCBhdCB0aGUgdGltZSBvZiBjaGVja2luZ1xuICAgIGVsZW1lbnQ6IEVsZW1lbnRcbiAgfVxuICBwcmV2OiB7XG4gICAgLy8gdGhlIGRyb3B6b25lIHRoYXQgd2FzIHJlY2VudGx5IGRyYWdnZWQgYXdheSBmcm9tXG4gICAgZHJvcHpvbmU6IEludGVyYWN0YWJsZVxuICAgIC8vIHRoZSBlbGVtZW50IGF0IHRoZSB0aW1lIG9mIGNoZWNraW5nXG4gICAgZWxlbWVudDogRWxlbWVudFxuICB9XG4gIC8vIHdoZWF0aGVyIHRoZSBwb3RlbnRpYWwgZHJvcCB3YXMgcmVqZWN0ZWQgZnJvbSBhIGxpc3RlbmVyXG4gIHJlamVjdGVkOiBib29sZWFuXG4gIC8vIHRoZSBkcm9wIGV2ZW50cyByZWxhdGVkIHRvIHRoZSBjdXJyZW50IGRyYWcgZXZlbnRcbiAgZXZlbnRzOiBGaXJlZERyb3BFdmVudHNcbiAgYWN0aXZlRHJvcHM6IEFjdGl2ZURyb3BbXVxufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IGFjdGlvbnMsIGludGVyYWN0U3RhdGljOiBpbnRlcmFjdCwgSW50ZXJhY3RhYmxlLCBkZWZhdWx0cyB9ID0gc2NvcGVcblxuICBzY29wZS51c2VQbHVnaW4oZHJhZylcblxuICBJbnRlcmFjdGFibGUucHJvdG90eXBlLmRyb3B6b25lID0gZnVuY3Rpb24gKHRoaXM6IEludGVyYWN0YWJsZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBkcm9wem9uZU1ldGhvZCh0aGlzLCBvcHRpb25zKVxuICB9IGFzIEludGVyYWN0YWJsZVsnZHJvcHpvbmUnXVxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUuZHJvcENoZWNrID0gZnVuY3Rpb24gKFxuICAgIHRoaXM6IEludGVyYWN0YWJsZSxcbiAgICBkcmFnRXZlbnQsXG4gICAgZXZlbnQsXG4gICAgZHJhZ2dhYmxlLFxuICAgIGRyYWdnYWJsZUVsZW1lbnQsXG4gICAgZHJvcEVsZW1lbnQsXG4gICAgcmVjdCxcbiAgKSB7XG4gICAgcmV0dXJuIGRyb3BDaGVja01ldGhvZCh0aGlzLCBkcmFnRXZlbnQsIGV2ZW50LCBkcmFnZ2FibGUsIGRyYWdnYWJsZUVsZW1lbnQsIGRyb3BFbGVtZW50LCByZWN0KVxuICB9XG5cbiAgaW50ZXJhY3QuZHluYW1pY0Ryb3AgPSBmdW5jdGlvbiAobmV3VmFsdWU/OiBib29sZWFuKSB7XG4gICAgaWYgKGlzLmJvb2wobmV3VmFsdWUpKSB7XG4gICAgICAvLyBpZiAoZHJhZ2dpbmcgJiYgc2NvcGUuZHluYW1pY0Ryb3AgIT09IG5ld1ZhbHVlICYmICFuZXdWYWx1ZSkge1xuICAgICAgLy8gIGNhbGNSZWN0cyhkcm9wem9uZXMpXG4gICAgICAvLyB9XG5cbiAgICAgIHNjb3BlLmR5bmFtaWNEcm9wID0gbmV3VmFsdWVcblxuICAgICAgcmV0dXJuIGludGVyYWN0XG4gICAgfVxuICAgIHJldHVybiBzY29wZS5keW5hbWljRHJvcCFcbiAgfVxuXG4gIGV4dGVuZChhY3Rpb25zLnBoYXNlbGVzc1R5cGVzLCB7XG4gICAgZHJhZ2VudGVyOiB0cnVlLFxuICAgIGRyYWdsZWF2ZTogdHJ1ZSxcbiAgICBkcm9wYWN0aXZhdGU6IHRydWUsXG4gICAgZHJvcGRlYWN0aXZhdGU6IHRydWUsXG4gICAgZHJvcG1vdmU6IHRydWUsXG4gICAgZHJvcDogdHJ1ZSxcbiAgfSlcbiAgYWN0aW9ucy5tZXRob2REaWN0LmRyb3AgPSAnZHJvcHpvbmUnXG5cbiAgc2NvcGUuZHluYW1pY0Ryb3AgPSBmYWxzZVxuXG4gIGRlZmF1bHRzLmFjdGlvbnMuZHJvcCA9IGRyb3AuZGVmYXVsdHNcbn1cblxuZnVuY3Rpb24gY29sbGVjdERyb3B6b25lcyh7IGludGVyYWN0YWJsZXMgfTogU2NvcGUsIGRyYWdnYWJsZUVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgY29uc3QgZHJvcHM6IEFjdGl2ZURyb3BbXSA9IFtdXG5cbiAgLy8gY29sbGVjdCBhbGwgZHJvcHpvbmVzIGFuZCB0aGVpciBlbGVtZW50cyB3aGljaCBxdWFsaWZ5IGZvciBhIGRyb3BcbiAgZm9yIChjb25zdCBkcm9wem9uZSBvZiBpbnRlcmFjdGFibGVzLmxpc3QpIHtcbiAgICBpZiAoIWRyb3B6b25lLm9wdGlvbnMuZHJvcC5lbmFibGVkKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGNvbnN0IGFjY2VwdCA9IGRyb3B6b25lLm9wdGlvbnMuZHJvcC5hY2NlcHRcblxuICAgIC8vIHRlc3QgdGhlIGRyYWdnYWJsZSBkcmFnZ2FibGVFbGVtZW50IGFnYWluc3QgdGhlIGRyb3B6b25lJ3MgYWNjZXB0IHNldHRpbmdcbiAgICBpZiAoXG4gICAgICAoaXMuZWxlbWVudChhY2NlcHQpICYmIGFjY2VwdCAhPT0gZHJhZ2dhYmxlRWxlbWVudCkgfHxcbiAgICAgIChpcy5zdHJpbmcoYWNjZXB0KSAmJiAhZG9tVXRpbHMubWF0Y2hlc1NlbGVjdG9yKGRyYWdnYWJsZUVsZW1lbnQsIGFjY2VwdCkpIHx8XG4gICAgICAoaXMuZnVuYyhhY2NlcHQpICYmICFhY2NlcHQoeyBkcm9wem9uZSwgZHJhZ2dhYmxlRWxlbWVudCB9KSlcbiAgICApIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBkcm9wem9uZUVsZW1lbnQgb2YgZHJvcHpvbmUuZ2V0QWxsRWxlbWVudHMoKSkge1xuICAgICAgaWYgKGRyb3B6b25lRWxlbWVudCAhPT0gZHJhZ2dhYmxlRWxlbWVudCkge1xuICAgICAgICBkcm9wcy5wdXNoKHtcbiAgICAgICAgICBkcm9wem9uZSxcbiAgICAgICAgICBlbGVtZW50OiBkcm9wem9uZUVsZW1lbnQsXG4gICAgICAgICAgcmVjdDogZHJvcHpvbmUuZ2V0UmVjdChkcm9wem9uZUVsZW1lbnQpLFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkcm9wc1xufVxuXG5mdW5jdGlvbiBmaXJlQWN0aXZhdGlvbkV2ZW50cyhhY3RpdmVEcm9wczogQWN0aXZlRHJvcFtdLCBldmVudDogRHJvcEV2ZW50KSB7XG4gIC8vIGxvb3AgdGhyb3VnaCBhbGwgYWN0aXZlIGRyb3B6b25lcyBhbmQgdHJpZ2dlciBldmVudFxuICBmb3IgKGNvbnN0IHsgZHJvcHpvbmUsIGVsZW1lbnQgfSBvZiBhY3RpdmVEcm9wcy5zbGljZSgpKSB7XG4gICAgZXZlbnQuZHJvcHpvbmUgPSBkcm9wem9uZVxuXG4gICAgLy8gc2V0IGN1cnJlbnQgZWxlbWVudCBhcyBldmVudCB0YXJnZXRcbiAgICBldmVudC50YXJnZXQgPSBlbGVtZW50XG4gICAgZHJvcHpvbmUuZmlyZShldmVudClcbiAgICBldmVudC5wcm9wYWdhdGlvblN0b3BwZWQgPSBldmVudC5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSBmYWxzZVxuICB9XG59XG5cbi8vIHJldHVybiBhIG5ldyBhcnJheSBvZiBwb3NzaWJsZSBkcm9wcy4gZ2V0QWN0aXZlRHJvcHMgc2hvdWxkIGFsd2F5cyBiZVxuLy8gY2FsbGVkIHdoZW4gYSBkcmFnIGhhcyBqdXN0IHN0YXJ0ZWQgb3IgYSBkcmFnIGV2ZW50IGhhcHBlbnMgd2hpbGVcbi8vIGR5bmFtaWNEcm9wIGlzIHRydWVcbmZ1bmN0aW9uIGdldEFjdGl2ZURyb3BzKHNjb3BlOiBTY29wZSwgZHJhZ0VsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgLy8gZ2V0IGRyb3B6b25lcyBhbmQgdGhlaXIgZWxlbWVudHMgdGhhdCBjb3VsZCByZWNlaXZlIHRoZSBkcmFnZ2FibGVcbiAgY29uc3QgYWN0aXZlRHJvcHMgPSBjb2xsZWN0RHJvcHpvbmVzKHNjb3BlLCBkcmFnRWxlbWVudClcblxuICBmb3IgKGNvbnN0IGFjdGl2ZURyb3Agb2YgYWN0aXZlRHJvcHMpIHtcbiAgICBhY3RpdmVEcm9wLnJlY3QgPSBhY3RpdmVEcm9wLmRyb3B6b25lLmdldFJlY3QoYWN0aXZlRHJvcC5lbGVtZW50KVxuICB9XG5cbiAgcmV0dXJuIGFjdGl2ZURyb3BzXG59XG5cbmZ1bmN0aW9uIGdldERyb3AoXG4gIHsgZHJvcFN0YXRlLCBpbnRlcmFjdGFibGU6IGRyYWdnYWJsZSwgZWxlbWVudDogZHJhZ0VsZW1lbnQgfTogSW50ZXJhY3Rpb24sXG4gIGRyYWdFdmVudCxcbiAgcG9pbnRlckV2ZW50LFxuKSB7XG4gIGNvbnN0IHZhbGlkRHJvcHM6IEVsZW1lbnRbXSA9IFtdXG5cbiAgLy8gY29sbGVjdCBhbGwgZHJvcHpvbmVzIGFuZCB0aGVpciBlbGVtZW50cyB3aGljaCBxdWFsaWZ5IGZvciBhIGRyb3BcbiAgZm9yIChjb25zdCB7IGRyb3B6b25lLCBlbGVtZW50OiBkcm9wem9uZUVsZW1lbnQsIHJlY3QgfSBvZiBkcm9wU3RhdGUuYWN0aXZlRHJvcHMpIHtcbiAgICBjb25zdCBpc1ZhbGlkID0gZHJvcHpvbmUuZHJvcENoZWNrKFxuICAgICAgZHJhZ0V2ZW50LFxuICAgICAgcG9pbnRlckV2ZW50LFxuICAgICAgZHJhZ2dhYmxlISxcbiAgICAgIGRyYWdFbGVtZW50ISxcbiAgICAgIGRyb3B6b25lRWxlbWVudCxcbiAgICAgIHJlY3QsXG4gICAgKVxuICAgIHZhbGlkRHJvcHMucHVzaChpc1ZhbGlkID8gZHJvcHpvbmVFbGVtZW50IDogbnVsbClcbiAgfVxuXG4gIC8vIGdldCB0aGUgbW9zdCBhcHByb3ByaWF0ZSBkcm9wem9uZSBiYXNlZCBvbiBET00gZGVwdGggYW5kIG9yZGVyXG4gIGNvbnN0IGRyb3BJbmRleCA9IGRvbVV0aWxzLmluZGV4T2ZEZWVwZXN0RWxlbWVudCh2YWxpZERyb3BzKVxuXG4gIHJldHVybiBkcm9wU3RhdGUhLmFjdGl2ZURyb3BzW2Ryb3BJbmRleF0gfHwgbnVsbFxufVxuXG5mdW5jdGlvbiBnZXREcm9wRXZlbnRzKGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiwgX3BvaW50ZXJFdmVudCwgZHJhZ0V2ZW50OiBEcmFnRXZlbnQpIHtcbiAgY29uc3QgZHJvcFN0YXRlID0gaW50ZXJhY3Rpb24uZHJvcFN0YXRlIVxuICBjb25zdCBkcm9wRXZlbnRzOiBSZWNvcmQ8c3RyaW5nLCBEcm9wRXZlbnQgfCBudWxsPiA9IHtcbiAgICBlbnRlcjogbnVsbCxcbiAgICBsZWF2ZTogbnVsbCxcbiAgICBhY3RpdmF0ZTogbnVsbCxcbiAgICBkZWFjdGl2YXRlOiBudWxsLFxuICAgIG1vdmU6IG51bGwsXG4gICAgZHJvcDogbnVsbCxcbiAgfVxuXG4gIGlmIChkcmFnRXZlbnQudHlwZSA9PT0gJ2RyYWdzdGFydCcpIHtcbiAgICBkcm9wRXZlbnRzLmFjdGl2YXRlID0gbmV3IERyb3BFdmVudChkcm9wU3RhdGUsIGRyYWdFdmVudCwgJ2Ryb3BhY3RpdmF0ZScpXG5cbiAgICBkcm9wRXZlbnRzLmFjdGl2YXRlLnRhcmdldCA9IG51bGwgYXMgbmV2ZXJcbiAgICBkcm9wRXZlbnRzLmFjdGl2YXRlLmRyb3B6b25lID0gbnVsbCBhcyBuZXZlclxuICB9XG4gIGlmIChkcmFnRXZlbnQudHlwZSA9PT0gJ2RyYWdlbmQnKSB7XG4gICAgZHJvcEV2ZW50cy5kZWFjdGl2YXRlID0gbmV3IERyb3BFdmVudChkcm9wU3RhdGUsIGRyYWdFdmVudCwgJ2Ryb3BkZWFjdGl2YXRlJylcblxuICAgIGRyb3BFdmVudHMuZGVhY3RpdmF0ZS50YXJnZXQgPSBudWxsIGFzIG5ldmVyXG4gICAgZHJvcEV2ZW50cy5kZWFjdGl2YXRlLmRyb3B6b25lID0gbnVsbCBhcyBuZXZlclxuICB9XG5cbiAgaWYgKGRyb3BTdGF0ZS5yZWplY3RlZCkge1xuICAgIHJldHVybiBkcm9wRXZlbnRzXG4gIH1cblxuICBpZiAoZHJvcFN0YXRlLmN1ci5lbGVtZW50ICE9PSBkcm9wU3RhdGUucHJldi5lbGVtZW50KSB7XG4gICAgLy8gaWYgdGhlcmUgd2FzIGEgcHJldmlvdXMgZHJvcHpvbmUsIGNyZWF0ZSBhIGRyYWdsZWF2ZSBldmVudFxuICAgIGlmIChkcm9wU3RhdGUucHJldi5kcm9wem9uZSkge1xuICAgICAgZHJvcEV2ZW50cy5sZWF2ZSA9IG5ldyBEcm9wRXZlbnQoZHJvcFN0YXRlLCBkcmFnRXZlbnQsICdkcmFnbGVhdmUnKVxuXG4gICAgICBkcmFnRXZlbnQuZHJhZ0xlYXZlID0gZHJvcEV2ZW50cy5sZWF2ZS50YXJnZXQgPSBkcm9wU3RhdGUucHJldi5lbGVtZW50XG4gICAgICBkcmFnRXZlbnQucHJldkRyb3B6b25lID0gZHJvcEV2ZW50cy5sZWF2ZS5kcm9wem9uZSA9IGRyb3BTdGF0ZS5wcmV2LmRyb3B6b25lXG4gICAgfVxuICAgIC8vIGlmIGRyb3B6b25lIGlzIG5vdCBudWxsLCBjcmVhdGUgYSBkcmFnZW50ZXIgZXZlbnRcbiAgICBpZiAoZHJvcFN0YXRlLmN1ci5kcm9wem9uZSkge1xuICAgICAgZHJvcEV2ZW50cy5lbnRlciA9IG5ldyBEcm9wRXZlbnQoZHJvcFN0YXRlLCBkcmFnRXZlbnQsICdkcmFnZW50ZXInKVxuXG4gICAgICBkcmFnRXZlbnQuZHJhZ0VudGVyID0gZHJvcFN0YXRlLmN1ci5lbGVtZW50XG4gICAgICBkcmFnRXZlbnQuZHJvcHpvbmUgPSBkcm9wU3RhdGUuY3VyLmRyb3B6b25lXG4gICAgfVxuICB9XG5cbiAgaWYgKGRyYWdFdmVudC50eXBlID09PSAnZHJhZ2VuZCcgJiYgZHJvcFN0YXRlLmN1ci5kcm9wem9uZSkge1xuICAgIGRyb3BFdmVudHMuZHJvcCA9IG5ldyBEcm9wRXZlbnQoZHJvcFN0YXRlLCBkcmFnRXZlbnQsICdkcm9wJylcblxuICAgIGRyYWdFdmVudC5kcm9wem9uZSA9IGRyb3BTdGF0ZS5jdXIuZHJvcHpvbmVcbiAgICBkcmFnRXZlbnQucmVsYXRlZFRhcmdldCA9IGRyb3BTdGF0ZS5jdXIuZWxlbWVudFxuICB9XG4gIGlmIChkcmFnRXZlbnQudHlwZSA9PT0gJ2RyYWdtb3ZlJyAmJiBkcm9wU3RhdGUuY3VyLmRyb3B6b25lKSB7XG4gICAgZHJvcEV2ZW50cy5tb3ZlID0gbmV3IERyb3BFdmVudChkcm9wU3RhdGUsIGRyYWdFdmVudCwgJ2Ryb3Btb3ZlJylcblxuICAgIGRyYWdFdmVudC5kcm9wem9uZSA9IGRyb3BTdGF0ZS5jdXIuZHJvcHpvbmVcbiAgfVxuXG4gIHJldHVybiBkcm9wRXZlbnRzXG59XG5cbnR5cGUgRmlyZWREcm9wRXZlbnRzID0gUGFydGlhbDxcbiAgUmVjb3JkPCdsZWF2ZScgfCAnZW50ZXInIHwgJ21vdmUnIHwgJ2Ryb3AnIHwgJ2FjdGl2YXRlJyB8ICdkZWFjdGl2YXRlJywgRHJvcEV2ZW50PlxuPlxuXG5mdW5jdGlvbiBmaXJlRHJvcEV2ZW50cyhpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24sIGV2ZW50czogRmlyZWREcm9wRXZlbnRzKSB7XG4gIGNvbnN0IGRyb3BTdGF0ZSA9IGludGVyYWN0aW9uLmRyb3BTdGF0ZSFcbiAgY29uc3QgeyBhY3RpdmVEcm9wcywgY3VyLCBwcmV2IH0gPSBkcm9wU3RhdGVcblxuICBpZiAoZXZlbnRzLmxlYXZlKSB7XG4gICAgcHJldi5kcm9wem9uZS5maXJlKGV2ZW50cy5sZWF2ZSlcbiAgfVxuICBpZiAoZXZlbnRzLmVudGVyKSB7XG4gICAgY3VyLmRyb3B6b25lLmZpcmUoZXZlbnRzLmVudGVyKVxuICB9XG4gIGlmIChldmVudHMubW92ZSkge1xuICAgIGN1ci5kcm9wem9uZS5maXJlKGV2ZW50cy5tb3ZlKVxuICB9XG4gIGlmIChldmVudHMuZHJvcCkge1xuICAgIGN1ci5kcm9wem9uZS5maXJlKGV2ZW50cy5kcm9wKVxuICB9XG5cbiAgaWYgKGV2ZW50cy5kZWFjdGl2YXRlKSB7XG4gICAgZmlyZUFjdGl2YXRpb25FdmVudHMoYWN0aXZlRHJvcHMsIGV2ZW50cy5kZWFjdGl2YXRlKVxuICB9XG5cbiAgZHJvcFN0YXRlLnByZXYuZHJvcHpvbmUgPSBjdXIuZHJvcHpvbmVcbiAgZHJvcFN0YXRlLnByZXYuZWxlbWVudCA9IGN1ci5lbGVtZW50XG59XG5cbmZ1bmN0aW9uIG9uRXZlbnRDcmVhdGVkKHsgaW50ZXJhY3Rpb24sIGlFdmVudCwgZXZlbnQgfTogRG9QaGFzZUFyZzwnZHJhZycsIEV2ZW50UGhhc2U+LCBzY29wZTogU2NvcGUpIHtcbiAgaWYgKGlFdmVudC50eXBlICE9PSAnZHJhZ21vdmUnICYmIGlFdmVudC50eXBlICE9PSAnZHJhZ2VuZCcpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IGRyb3BTdGF0ZSA9IGludGVyYWN0aW9uLmRyb3BTdGF0ZSFcblxuICBpZiAoc2NvcGUuZHluYW1pY0Ryb3ApIHtcbiAgICBkcm9wU3RhdGUuYWN0aXZlRHJvcHMgPSBnZXRBY3RpdmVEcm9wcyhzY29wZSwgaW50ZXJhY3Rpb24uZWxlbWVudCEpXG4gIH1cblxuICBjb25zdCBkcmFnRXZlbnQgPSBpRXZlbnRcbiAgY29uc3QgZHJvcFJlc3VsdCA9IGdldERyb3AoaW50ZXJhY3Rpb24sIGRyYWdFdmVudCwgZXZlbnQpXG5cbiAgLy8gdXBkYXRlIHJlamVjdGVkIHN0YXR1c1xuICBkcm9wU3RhdGUucmVqZWN0ZWQgPVxuICAgIGRyb3BTdGF0ZS5yZWplY3RlZCAmJlxuICAgICEhZHJvcFJlc3VsdCAmJlxuICAgIGRyb3BSZXN1bHQuZHJvcHpvbmUgPT09IGRyb3BTdGF0ZS5jdXIuZHJvcHpvbmUgJiZcbiAgICBkcm9wUmVzdWx0LmVsZW1lbnQgPT09IGRyb3BTdGF0ZS5jdXIuZWxlbWVudFxuXG4gIGRyb3BTdGF0ZS5jdXIuZHJvcHpvbmUgPSBkcm9wUmVzdWx0ICYmIGRyb3BSZXN1bHQuZHJvcHpvbmVcbiAgZHJvcFN0YXRlLmN1ci5lbGVtZW50ID0gZHJvcFJlc3VsdCAmJiBkcm9wUmVzdWx0LmVsZW1lbnRcblxuICBkcm9wU3RhdGUuZXZlbnRzID0gZ2V0RHJvcEV2ZW50cyhpbnRlcmFjdGlvbiwgZXZlbnQsIGRyYWdFdmVudClcbn1cblxuZnVuY3Rpb24gZHJvcHpvbmVNZXRob2QoaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUpOiBEcm9wem9uZU9wdGlvbnNcbmZ1bmN0aW9uIGRyb3B6b25lTWV0aG9kKGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlLCBvcHRpb25zOiBEcm9wem9uZU9wdGlvbnMgfCBib29sZWFuKTogSW50ZXJhY3RhYmxlXG5mdW5jdGlvbiBkcm9wem9uZU1ldGhvZChpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSwgb3B0aW9ucz86IERyb3B6b25lT3B0aW9ucyB8IGJvb2xlYW4pIHtcbiAgaWYgKGlzLm9iamVjdChvcHRpb25zKSkge1xuICAgIGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3AuZW5hYmxlZCA9IG9wdGlvbnMuZW5hYmxlZCAhPT0gZmFsc2VcblxuICAgIGlmIChvcHRpb25zLmxpc3RlbmVycykge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZUxpc3RlbmVycyhvcHRpb25zLmxpc3RlbmVycylcbiAgICAgIC8vIHJlbmFtZSAnZHJvcCcgdG8gJycgYXMgaXQgd2lsbCBiZSBwcmVmaXhlZCB3aXRoICdkcm9wJ1xuICAgICAgY29uc3QgY29ycmVjdGVkID0gT2JqZWN0LmtleXMobm9ybWFsaXplZCkucmVkdWNlKChhY2MsIHR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgY29ycmVjdGVkVHlwZSA9IC9eKGVudGVyfGxlYXZlKS8udGVzdCh0eXBlKVxuICAgICAgICAgID8gYGRyYWcke3R5cGV9YFxuICAgICAgICAgIDogL14oYWN0aXZhdGV8ZGVhY3RpdmF0ZXxtb3ZlKS8udGVzdCh0eXBlKVxuICAgICAgICAgICAgPyBgZHJvcCR7dHlwZX1gXG4gICAgICAgICAgICA6IHR5cGVcblxuICAgICAgICBhY2NbY29ycmVjdGVkVHlwZV0gPSBub3JtYWxpemVkW3R5cGVdXG5cbiAgICAgICAgcmV0dXJuIGFjY1xuICAgICAgfSwge30pXG5cbiAgICAgIGNvbnN0IHByZXZMaXN0ZW5lcnMgPSBpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wLmxpc3RlbmVyc1xuICAgICAgcHJldkxpc3RlbmVycyAmJiBpbnRlcmFjdGFibGUub2ZmKHByZXZMaXN0ZW5lcnMpXG5cbiAgICAgIGludGVyYWN0YWJsZS5vbihjb3JyZWN0ZWQpXG4gICAgICBpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wLmxpc3RlbmVycyA9IGNvcnJlY3RlZFxuICAgIH1cblxuICAgIGlmIChpcy5mdW5jKG9wdGlvbnMub25kcm9wKSkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9uKCdkcm9wJywgb3B0aW9ucy5vbmRyb3ApXG4gICAgfVxuICAgIGlmIChpcy5mdW5jKG9wdGlvbnMub25kcm9wYWN0aXZhdGUpKSB7XG4gICAgICBpbnRlcmFjdGFibGUub24oJ2Ryb3BhY3RpdmF0ZScsIG9wdGlvbnMub25kcm9wYWN0aXZhdGUpXG4gICAgfVxuICAgIGlmIChpcy5mdW5jKG9wdGlvbnMub25kcm9wZGVhY3RpdmF0ZSkpIHtcbiAgICAgIGludGVyYWN0YWJsZS5vbignZHJvcGRlYWN0aXZhdGUnLCBvcHRpb25zLm9uZHJvcGRlYWN0aXZhdGUpXG4gICAgfVxuICAgIGlmIChpcy5mdW5jKG9wdGlvbnMub25kcmFnZW50ZXIpKSB7XG4gICAgICBpbnRlcmFjdGFibGUub24oJ2RyYWdlbnRlcicsIG9wdGlvbnMub25kcmFnZW50ZXIpXG4gICAgfVxuICAgIGlmIChpcy5mdW5jKG9wdGlvbnMub25kcmFnbGVhdmUpKSB7XG4gICAgICBpbnRlcmFjdGFibGUub24oJ2RyYWdsZWF2ZScsIG9wdGlvbnMub25kcmFnbGVhdmUpXG4gICAgfVxuICAgIGlmIChpcy5mdW5jKG9wdGlvbnMub25kcm9wbW92ZSkpIHtcbiAgICAgIGludGVyYWN0YWJsZS5vbignZHJvcG1vdmUnLCBvcHRpb25zLm9uZHJvcG1vdmUpXG4gICAgfVxuXG4gICAgaWYgKC9eKHBvaW50ZXJ8Y2VudGVyKSQvLnRlc3Qob3B0aW9ucy5vdmVybGFwIGFzIHN0cmluZykpIHtcbiAgICAgIGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3Aub3ZlcmxhcCA9IG9wdGlvbnMub3ZlcmxhcFxuICAgIH0gZWxzZSBpZiAoaXMubnVtYmVyKG9wdGlvbnMub3ZlcmxhcCkpIHtcbiAgICAgIGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3Aub3ZlcmxhcCA9IE1hdGgubWF4KE1hdGgubWluKDEsIG9wdGlvbnMub3ZlcmxhcCksIDApXG4gICAgfVxuICAgIGlmICgnYWNjZXB0JyBpbiBvcHRpb25zKSB7XG4gICAgICBpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wLmFjY2VwdCA9IG9wdGlvbnMuYWNjZXB0XG4gICAgfVxuICAgIGlmICgnY2hlY2tlcicgaW4gb3B0aW9ucykge1xuICAgICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJvcC5jaGVja2VyID0gb3B0aW9ucy5jaGVja2VyXG4gICAgfVxuXG4gICAgcmV0dXJuIGludGVyYWN0YWJsZVxuICB9XG5cbiAgaWYgKGlzLmJvb2wob3B0aW9ucykpIHtcbiAgICBpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wLmVuYWJsZWQgPSBvcHRpb25zXG5cbiAgICByZXR1cm4gaW50ZXJhY3RhYmxlXG4gIH1cblxuICByZXR1cm4gaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJvcFxufVxuXG5mdW5jdGlvbiBkcm9wQ2hlY2tNZXRob2QoXG4gIGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlLFxuICBkcmFnRXZlbnQ6IEludGVyYWN0RXZlbnQsXG4gIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLFxuICBkcmFnZ2FibGU6IEludGVyYWN0YWJsZSxcbiAgZHJhZ2dhYmxlRWxlbWVudDogRWxlbWVudCxcbiAgZHJvcEVsZW1lbnQ6IEVsZW1lbnQsXG4gIHJlY3Q6IGFueSxcbikge1xuICBsZXQgZHJvcHBlZCA9IGZhbHNlXG5cbiAgLy8gaWYgdGhlIGRyb3B6b25lIGhhcyBubyByZWN0IChlZy4gZGlzcGxheTogbm9uZSlcbiAgLy8gY2FsbCB0aGUgY3VzdG9tIGRyb3BDaGVja2VyIG9yIGp1c3QgcmV0dXJuIGZhbHNlXG4gIGlmICghKHJlY3QgPSByZWN0IHx8IGludGVyYWN0YWJsZS5nZXRSZWN0KGRyb3BFbGVtZW50KSkpIHtcbiAgICByZXR1cm4gaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJvcC5jaGVja2VyXG4gICAgICA/IGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3AuY2hlY2tlcihcbiAgICAgICAgICBkcmFnRXZlbnQsXG4gICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgZHJvcHBlZCxcbiAgICAgICAgICBpbnRlcmFjdGFibGUsXG4gICAgICAgICAgZHJvcEVsZW1lbnQsXG4gICAgICAgICAgZHJhZ2dhYmxlLFxuICAgICAgICAgIGRyYWdnYWJsZUVsZW1lbnQsXG4gICAgICAgIClcbiAgICAgIDogZmFsc2VcbiAgfVxuXG4gIGNvbnN0IGRyb3BPdmVybGFwID0gaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJvcC5vdmVybGFwXG5cbiAgaWYgKGRyb3BPdmVybGFwID09PSAncG9pbnRlcicpIHtcbiAgICBjb25zdCBvcmlnaW4gPSBnZXRPcmlnaW5YWShkcmFnZ2FibGUsIGRyYWdnYWJsZUVsZW1lbnQsICdkcmFnJylcbiAgICBjb25zdCBwYWdlID0gcG9pbnRlclV0aWxzLmdldFBhZ2VYWShkcmFnRXZlbnQpXG5cbiAgICBwYWdlLnggKz0gb3JpZ2luLnhcbiAgICBwYWdlLnkgKz0gb3JpZ2luLnlcblxuICAgIGNvbnN0IGhvcml6b250YWwgPSBwYWdlLnggPiByZWN0LmxlZnQgJiYgcGFnZS54IDwgcmVjdC5yaWdodFxuICAgIGNvbnN0IHZlcnRpY2FsID0gcGFnZS55ID4gcmVjdC50b3AgJiYgcGFnZS55IDwgcmVjdC5ib3R0b21cblxuICAgIGRyb3BwZWQgPSBob3Jpem9udGFsICYmIHZlcnRpY2FsXG4gIH1cblxuICBjb25zdCBkcmFnUmVjdCA9IGRyYWdnYWJsZS5nZXRSZWN0KGRyYWdnYWJsZUVsZW1lbnQpXG5cbiAgaWYgKGRyYWdSZWN0ICYmIGRyb3BPdmVybGFwID09PSAnY2VudGVyJykge1xuICAgIGNvbnN0IGN4ID0gZHJhZ1JlY3QubGVmdCArIGRyYWdSZWN0LndpZHRoIC8gMlxuICAgIGNvbnN0IGN5ID0gZHJhZ1JlY3QudG9wICsgZHJhZ1JlY3QuaGVpZ2h0IC8gMlxuXG4gICAgZHJvcHBlZCA9IGN4ID49IHJlY3QubGVmdCAmJiBjeCA8PSByZWN0LnJpZ2h0ICYmIGN5ID49IHJlY3QudG9wICYmIGN5IDw9IHJlY3QuYm90dG9tXG4gIH1cblxuICBpZiAoZHJhZ1JlY3QgJiYgaXMubnVtYmVyKGRyb3BPdmVybGFwKSkge1xuICAgIGNvbnN0IG92ZXJsYXBBcmVhID1cbiAgICAgIE1hdGgubWF4KDAsIE1hdGgubWluKHJlY3QucmlnaHQsIGRyYWdSZWN0LnJpZ2h0KSAtIE1hdGgubWF4KHJlY3QubGVmdCwgZHJhZ1JlY3QubGVmdCkpICpcbiAgICAgIE1hdGgubWF4KDAsIE1hdGgubWluKHJlY3QuYm90dG9tLCBkcmFnUmVjdC5ib3R0b20pIC0gTWF0aC5tYXgocmVjdC50b3AsIGRyYWdSZWN0LnRvcCkpXG5cbiAgICBjb25zdCBvdmVybGFwUmF0aW8gPSBvdmVybGFwQXJlYSAvIChkcmFnUmVjdC53aWR0aCAqIGRyYWdSZWN0LmhlaWdodClcblxuICAgIGRyb3BwZWQgPSBvdmVybGFwUmF0aW8gPj0gZHJvcE92ZXJsYXBcbiAgfVxuXG4gIGlmIChpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wLmNoZWNrZXIpIHtcbiAgICBkcm9wcGVkID0gaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJvcC5jaGVja2VyKFxuICAgICAgZHJhZ0V2ZW50LFxuICAgICAgZXZlbnQsXG4gICAgICBkcm9wcGVkLFxuICAgICAgaW50ZXJhY3RhYmxlLFxuICAgICAgZHJvcEVsZW1lbnQsXG4gICAgICBkcmFnZ2FibGUsXG4gICAgICBkcmFnZ2FibGVFbGVtZW50LFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBkcm9wcGVkXG59XG5cbmNvbnN0IGRyb3A6IFBsdWdpbiA9IHtcbiAgaWQ6ICdhY3Rpb25zL2Ryb3AnLFxuICBpbnN0YWxsLFxuICBsaXN0ZW5lcnM6IHtcbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tc3RhcnQnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBpZiAoaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSAhPT0gJ2RyYWcnKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpbnRlcmFjdGlvbi5kcm9wU3RhdGUgPSB7XG4gICAgICAgIGN1cjoge1xuICAgICAgICAgIGRyb3B6b25lOiBudWxsLFxuICAgICAgICAgIGVsZW1lbnQ6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICAgIHByZXY6IHtcbiAgICAgICAgICBkcm9wem9uZTogbnVsbCxcbiAgICAgICAgICBlbGVtZW50OiBudWxsLFxuICAgICAgICB9LFxuICAgICAgICByZWplY3RlZDogbnVsbCxcbiAgICAgICAgZXZlbnRzOiBudWxsLFxuICAgICAgICBhY3RpdmVEcm9wczogW10sXG4gICAgICB9XG4gICAgfSxcblxuICAgICdpbnRlcmFjdGlvbnM6YWZ0ZXItYWN0aW9uLXN0YXJ0JzogKFxuICAgICAgeyBpbnRlcmFjdGlvbiwgZXZlbnQsIGlFdmVudDogZHJhZ0V2ZW50IH06IERvUGhhc2VBcmc8J2RyYWcnLCBFdmVudFBoYXNlPixcbiAgICAgIHNjb3BlLFxuICAgICkgPT4ge1xuICAgICAgaWYgKGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgIT09ICdkcmFnJykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgZHJvcFN0YXRlID0gaW50ZXJhY3Rpb24uZHJvcFN0YXRlIVxuXG4gICAgICAvLyByZXNldCBhY3RpdmUgZHJvcHpvbmVzXG4gICAgICBkcm9wU3RhdGUuYWN0aXZlRHJvcHMgPSBbXVxuICAgICAgZHJvcFN0YXRlLmV2ZW50cyA9IHt9XG4gICAgICBkcm9wU3RhdGUuYWN0aXZlRHJvcHMgPSBnZXRBY3RpdmVEcm9wcyhzY29wZSwgaW50ZXJhY3Rpb24uZWxlbWVudCEpXG4gICAgICBkcm9wU3RhdGUuZXZlbnRzID0gZ2V0RHJvcEV2ZW50cyhpbnRlcmFjdGlvbiwgZXZlbnQsIGRyYWdFdmVudClcblxuICAgICAgaWYgKGRyb3BTdGF0ZS5ldmVudHMuYWN0aXZhdGUpIHtcbiAgICAgICAgZmlyZUFjdGl2YXRpb25FdmVudHMoZHJvcFN0YXRlLmFjdGl2ZURyb3BzLCBkcm9wU3RhdGUuZXZlbnRzLmFjdGl2YXRlKVxuICAgICAgICBzY29wZS5maXJlKCdhY3Rpb25zL2Ryb3A6c3RhcnQnLCB7IGludGVyYWN0aW9uLCBkcmFnRXZlbnQgfSlcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tbW92ZSc6IG9uRXZlbnRDcmVhdGVkLFxuXG4gICAgJ2ludGVyYWN0aW9uczphZnRlci1hY3Rpb24tbW92ZSc6IChcbiAgICAgIHsgaW50ZXJhY3Rpb24sIGlFdmVudDogZHJhZ0V2ZW50IH06IERvUGhhc2VBcmc8J2RyYWcnLCBFdmVudFBoYXNlPixcbiAgICAgIHNjb3BlLFxuICAgICkgPT4ge1xuICAgICAgaWYgKGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgIT09ICdkcmFnJykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgZHJvcFN0YXRlID0gaW50ZXJhY3Rpb24uZHJvcFN0YXRlIVxuICAgICAgZmlyZURyb3BFdmVudHMoaW50ZXJhY3Rpb24sIGRyb3BTdGF0ZS5ldmVudHMpXG5cbiAgICAgIHNjb3BlLmZpcmUoJ2FjdGlvbnMvZHJvcDptb3ZlJywgeyBpbnRlcmFjdGlvbiwgZHJhZ0V2ZW50IH0pXG4gICAgICBkcm9wU3RhdGUuZXZlbnRzID0ge31cbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tZW5kJzogKGFyZzogRG9QaGFzZUFyZzwnZHJhZycsIEV2ZW50UGhhc2U+LCBzY29wZSkgPT4ge1xuICAgICAgaWYgKGFyZy5pbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lICE9PSAnZHJhZycpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24sIGlFdmVudDogZHJhZ0V2ZW50IH0gPSBhcmdcblxuICAgICAgb25FdmVudENyZWF0ZWQoYXJnLCBzY29wZSlcbiAgICAgIGZpcmVEcm9wRXZlbnRzKGludGVyYWN0aW9uLCBpbnRlcmFjdGlvbi5kcm9wU3RhdGUhLmV2ZW50cylcbiAgICAgIHNjb3BlLmZpcmUoJ2FjdGlvbnMvZHJvcDplbmQnLCB7IGludGVyYWN0aW9uLCBkcmFnRXZlbnQgfSlcbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczpzdG9wJzogKHsgaW50ZXJhY3Rpb24gfSkgPT4ge1xuICAgICAgaWYgKGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgIT09ICdkcmFnJykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBkcm9wU3RhdGUgfSA9IGludGVyYWN0aW9uXG5cbiAgICAgIGlmIChkcm9wU3RhdGUpIHtcbiAgICAgICAgZHJvcFN0YXRlLmFjdGl2ZURyb3BzID0gbnVsbCBhcyBuZXZlclxuICAgICAgICBkcm9wU3RhdGUuZXZlbnRzID0gbnVsbCBhcyBuZXZlclxuICAgICAgICBkcm9wU3RhdGUuY3VyLmRyb3B6b25lID0gbnVsbCBhcyBuZXZlclxuICAgICAgICBkcm9wU3RhdGUuY3VyLmVsZW1lbnQgPSBudWxsIGFzIG5ldmVyXG4gICAgICAgIGRyb3BTdGF0ZS5wcmV2LmRyb3B6b25lID0gbnVsbCBhcyBuZXZlclxuICAgICAgICBkcm9wU3RhdGUucHJldi5lbGVtZW50ID0gbnVsbCBhcyBuZXZlclxuICAgICAgICBkcm9wU3RhdGUucmVqZWN0ZWQgPSBmYWxzZVxuICAgICAgfVxuICAgIH0sXG4gIH0sXG4gIGdldEFjdGl2ZURyb3BzLFxuICBnZXREcm9wLFxuICBnZXREcm9wRXZlbnRzLFxuICBmaXJlRHJvcEV2ZW50cyxcblxuICBmaWx0ZXJFdmVudFR5cGU6ICh0eXBlOiBzdHJpbmcpID0+IHR5cGUuc2VhcmNoKCdkcmFnJykgPT09IDAgfHwgdHlwZS5zZWFyY2goJ2Ryb3AnKSA9PT0gMCxcblxuICBkZWZhdWx0czoge1xuICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgIGFjY2VwdDogbnVsbCBhcyBuZXZlcixcbiAgICBvdmVybGFwOiAncG9pbnRlcicsXG4gIH0gYXMgRHJvcHpvbmVPcHRpb25zLFxufVxuXG5leHBvcnQgZGVmYXVsdCBkcm9wXG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIHsgSW50ZXJhY3RFdmVudCwgRXZlbnRQaGFzZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RFdmVudCdcbmltcG9ydCB0eXBlIHsgSW50ZXJhY3Rpb24sIERvUGhhc2VBcmcgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBQZXJBY3Rpb25EZWZhdWx0cyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucydcbmltcG9ydCB0eXBlIHsgU2NvcGUsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IFJlY3QsIFBvaW50ZXJUeXBlLCBMaXN0ZW5lcnNBcmcsIE9yQm9vbGVhbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5pbXBvcnQgKiBhcyBwb2ludGVyVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcG9pbnRlclV0aWxzJ1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbicge1xuICBpbnRlcmZhY2UgSW50ZXJhY3Rpb24ge1xuICAgIGdlc3R1cmU/OiB7XG4gICAgICBhbmdsZTogbnVtYmVyIC8vIGFuZ2xlIGZyb20gZmlyc3QgdG8gc2Vjb25kIHRvdWNoXG4gICAgICBkaXN0YW5jZTogbnVtYmVyXG4gICAgICBzY2FsZTogbnVtYmVyIC8vIGdlc3R1cmUuZGlzdGFuY2UgLyBnZXN0dXJlLnN0YXJ0RGlzdGFuY2VcbiAgICAgIHN0YXJ0QW5nbGU6IG51bWJlciAvLyBhbmdsZSBvZiBsaW5lIGpvaW5pbmcgdHdvIHRvdWNoZXNcbiAgICAgIHN0YXJ0RGlzdGFuY2U6IG51bWJlciAvLyBkaXN0YW5jZSBiZXR3ZWVuIHR3byB0b3VjaGVzIG9mIHRvdWNoU3RhcnRcbiAgICB9XG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGFibGUge1xuICAgIGdlc3R1cmFibGUob3B0aW9uczogUGFydGlhbDxPckJvb2xlYW48R2VzdHVyYWJsZU9wdGlvbnM+PiB8IGJvb2xlYW4pOiB0aGlzXG4gICAgZ2VzdHVyYWJsZSgpOiBHZXN0dXJhYmxlT3B0aW9uc1xuICAgIC8qKlxuICAgICAqIGBgYGpzXG4gICAgICogaW50ZXJhY3QoZWxlbWVudCkuZ2VzdHVyYWJsZSh7XG4gICAgICogICAgIG9uc3RhcnQ6IGZ1bmN0aW9uIChldmVudCkge30sXG4gICAgICogICAgIG9ubW92ZSA6IGZ1bmN0aW9uIChldmVudCkge30sXG4gICAgICogICAgIG9uZW5kICA6IGZ1bmN0aW9uIChldmVudCkge30sXG4gICAgICpcbiAgICAgKiAgICAgLy8gbGltaXQgbXVsdGlwbGUgZ2VzdHVyZXMuXG4gICAgICogICAgIC8vIFNlZSB0aGUgZXhwbGFuYXRpb24gaW4ge0BsaW5rIEludGVyYWN0YWJsZS5kcmFnZ2FibGV9IGV4YW1wbGVcbiAgICAgKiAgICAgbWF4OiBJbmZpbml0eSxcbiAgICAgKiAgICAgbWF4UGVyRWxlbWVudDogMSxcbiAgICAgKiB9KVxuICAgICAqXG4gICAgICogdmFyIGlzR2VzdHVyZWFibGUgPSBpbnRlcmFjdChlbGVtZW50KS5nZXN0dXJhYmxlKClcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEdldHMgb3Igc2V0cyB3aGV0aGVyIG11bHRpdG91Y2ggZ2VzdHVyZXMgY2FuIGJlIHBlcmZvcm1lZCBvbiB0aGUgdGFyZ2V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIHRydWUvZmFsc2Ugb3IgQW4gb2JqZWN0IHdpdGggZXZlbnQgbGlzdGVuZXJzIHRvIGJlIGZpcmVkIG9uIGdlc3R1cmUgZXZlbnRzIChtYWtlcyB0aGUgSW50ZXJhY3RhYmxlIGdlc3R1cmFibGUpXG4gICAgICogQHJldHVybnMgQSBib29sZWFuIGluZGljYXRpbmcgaWYgdGhpcyBjYW4gYmUgdGhlIHRhcmdldCBvZiBnZXN0dXJlIGV2ZW50cywgb3IgdGhpcyBJbnRlcmFjdGFibGVcbiAgICAgKi9cbiAgICBnZXN0dXJhYmxlKG9wdGlvbnM/OiBQYXJ0aWFsPE9yQm9vbGVhbjxHZXN0dXJhYmxlT3B0aW9ucz4+IHwgYm9vbGVhbik6IHRoaXMgfCBHZXN0dXJhYmxlT3B0aW9uc1xuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnIHtcbiAgaW50ZXJmYWNlIEFjdGlvbkRlZmF1bHRzIHtcbiAgICBnZXN0dXJlOiBHZXN0dXJhYmxlT3B0aW9uc1xuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJyB7XG4gIGludGVyZmFjZSBBY3Rpb25NYXAge1xuICAgIGdlc3R1cmU/OiB0eXBlb2YgZ2VzdHVyZVxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2VzdHVyYWJsZU9wdGlvbnMgZXh0ZW5kcyBQZXJBY3Rpb25EZWZhdWx0cyB7XG4gIG9uc3RhcnQ/OiBMaXN0ZW5lcnNBcmdcbiAgb25tb3ZlPzogTGlzdGVuZXJzQXJnXG4gIG9uZW5kPzogTGlzdGVuZXJzQXJnXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2VzdHVyZUV2ZW50IGV4dGVuZHMgSW50ZXJhY3RFdmVudDwnZ2VzdHVyZSc+IHtcbiAgZGlzdGFuY2U6IG51bWJlclxuICBhbmdsZTogbnVtYmVyXG4gIGRhOiBudW1iZXIgLy8gYW5nbGUgY2hhbmdlXG4gIHNjYWxlOiBudW1iZXIgLy8gcmF0aW8gb2YgZGlzdGFuY2Ugc3RhcnQgdG8gY3VycmVudCBldmVudFxuICBkczogbnVtYmVyIC8vIHNjYWxlIGNoYW5nZVxuICBib3g6IFJlY3QgLy8gZW5jbG9zaW5nIGJveCBvZiBhbGwgcG9pbnRzXG4gIHRvdWNoZXM6IFBvaW50ZXJUeXBlW11cbn1cblxuZXhwb3J0IGludGVyZmFjZSBHZXN0dXJlU2lnbmFsQXJnIGV4dGVuZHMgRG9QaGFzZUFyZzwnZ2VzdHVyZScsIEV2ZW50UGhhc2U+IHtcbiAgaUV2ZW50OiBHZXN0dXJlRXZlbnRcbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPCdnZXN0dXJlJz5cbn1cblxuZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBhY3Rpb25zLCBJbnRlcmFjdGFibGUsIGRlZmF1bHRzIH0gPSBzY29wZVxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUuZ2VzdHVyYWJsZSA9IGZ1bmN0aW9uIChcbiAgICB0aGlzOiBJbnN0YW5jZVR5cGU8dHlwZW9mIEludGVyYWN0YWJsZT4sXG4gICAgb3B0aW9uczogR2VzdHVyYWJsZU9wdGlvbnMgfCBib29sZWFuLFxuICApIHtcbiAgICBpZiAoaXMub2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuZ2VzdHVyZS5lbmFibGVkID0gb3B0aW9ucy5lbmFibGVkICE9PSBmYWxzZVxuICAgICAgdGhpcy5zZXRQZXJBY3Rpb24oJ2dlc3R1cmUnLCBvcHRpb25zKVxuICAgICAgdGhpcy5zZXRPbkV2ZW50cygnZ2VzdHVyZScsIG9wdGlvbnMpXG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgaWYgKGlzLmJvb2wob3B0aW9ucykpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5nZXN0dXJlLmVuYWJsZWQgPSBvcHRpb25zXG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5nZXN0dXJlIGFzIEdlc3R1cmFibGVPcHRpb25zXG4gIH0gYXMgSW50ZXJhY3RhYmxlWydnZXN0dXJhYmxlJ11cblxuICBhY3Rpb25zLm1hcC5nZXN0dXJlID0gZ2VzdHVyZVxuICBhY3Rpb25zLm1ldGhvZERpY3QuZ2VzdHVyZSA9ICdnZXN0dXJhYmxlJ1xuXG4gIGRlZmF1bHRzLmFjdGlvbnMuZ2VzdHVyZSA9IGdlc3R1cmUuZGVmYXVsdHNcbn1cblxuZnVuY3Rpb24gdXBkYXRlR2VzdHVyZVByb3BzKHsgaW50ZXJhY3Rpb24sIGlFdmVudCwgcGhhc2UgfTogR2VzdHVyZVNpZ25hbEFyZykge1xuICBpZiAoaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSAhPT0gJ2dlc3R1cmUnKSByZXR1cm5cblxuICBjb25zdCBwb2ludGVycyA9IGludGVyYWN0aW9uLnBvaW50ZXJzLm1hcCgocCkgPT4gcC5wb2ludGVyKVxuICBjb25zdCBzdGFydGluZyA9IHBoYXNlID09PSAnc3RhcnQnXG4gIGNvbnN0IGVuZGluZyA9IHBoYXNlID09PSAnZW5kJ1xuICBjb25zdCBkZWx0YVNvdXJjZSA9IGludGVyYWN0aW9uLmludGVyYWN0YWJsZS5vcHRpb25zLmRlbHRhU291cmNlXG5cbiAgaUV2ZW50LnRvdWNoZXMgPSBbcG9pbnRlcnNbMF0sIHBvaW50ZXJzWzFdXVxuXG4gIGlmIChzdGFydGluZykge1xuICAgIGlFdmVudC5kaXN0YW5jZSA9IHBvaW50ZXJVdGlscy50b3VjaERpc3RhbmNlKHBvaW50ZXJzLCBkZWx0YVNvdXJjZSlcbiAgICBpRXZlbnQuYm94ID0gcG9pbnRlclV0aWxzLnRvdWNoQkJveChwb2ludGVycylcbiAgICBpRXZlbnQuc2NhbGUgPSAxXG4gICAgaUV2ZW50LmRzID0gMFxuICAgIGlFdmVudC5hbmdsZSA9IHBvaW50ZXJVdGlscy50b3VjaEFuZ2xlKHBvaW50ZXJzLCBkZWx0YVNvdXJjZSlcbiAgICBpRXZlbnQuZGEgPSAwXG5cbiAgICBpbnRlcmFjdGlvbi5nZXN0dXJlLnN0YXJ0RGlzdGFuY2UgPSBpRXZlbnQuZGlzdGFuY2VcbiAgICBpbnRlcmFjdGlvbi5nZXN0dXJlLnN0YXJ0QW5nbGUgPSBpRXZlbnQuYW5nbGVcbiAgfSBlbHNlIGlmIChlbmRpbmcgfHwgaW50ZXJhY3Rpb24ucG9pbnRlcnMubGVuZ3RoIDwgMikge1xuICAgIGNvbnN0IHByZXZFdmVudCA9IGludGVyYWN0aW9uLnByZXZFdmVudCBhcyBHZXN0dXJlRXZlbnRcblxuICAgIGlFdmVudC5kaXN0YW5jZSA9IHByZXZFdmVudC5kaXN0YW5jZVxuICAgIGlFdmVudC5ib3ggPSBwcmV2RXZlbnQuYm94XG4gICAgaUV2ZW50LnNjYWxlID0gcHJldkV2ZW50LnNjYWxlXG4gICAgaUV2ZW50LmRzID0gMFxuICAgIGlFdmVudC5hbmdsZSA9IHByZXZFdmVudC5hbmdsZVxuICAgIGlFdmVudC5kYSA9IDBcbiAgfSBlbHNlIHtcbiAgICBpRXZlbnQuZGlzdGFuY2UgPSBwb2ludGVyVXRpbHMudG91Y2hEaXN0YW5jZShwb2ludGVycywgZGVsdGFTb3VyY2UpXG4gICAgaUV2ZW50LmJveCA9IHBvaW50ZXJVdGlscy50b3VjaEJCb3gocG9pbnRlcnMpXG4gICAgaUV2ZW50LnNjYWxlID0gaUV2ZW50LmRpc3RhbmNlIC8gaW50ZXJhY3Rpb24uZ2VzdHVyZS5zdGFydERpc3RhbmNlXG4gICAgaUV2ZW50LmFuZ2xlID0gcG9pbnRlclV0aWxzLnRvdWNoQW5nbGUocG9pbnRlcnMsIGRlbHRhU291cmNlKVxuXG4gICAgaUV2ZW50LmRzID0gaUV2ZW50LnNjYWxlIC0gaW50ZXJhY3Rpb24uZ2VzdHVyZS5zY2FsZVxuICAgIGlFdmVudC5kYSA9IGlFdmVudC5hbmdsZSAtIGludGVyYWN0aW9uLmdlc3R1cmUuYW5nbGVcbiAgfVxuXG4gIGludGVyYWN0aW9uLmdlc3R1cmUuZGlzdGFuY2UgPSBpRXZlbnQuZGlzdGFuY2VcbiAgaW50ZXJhY3Rpb24uZ2VzdHVyZS5hbmdsZSA9IGlFdmVudC5hbmdsZVxuXG4gIGlmIChpcy5udW1iZXIoaUV2ZW50LnNjYWxlKSAmJiBpRXZlbnQuc2NhbGUgIT09IEluZmluaXR5ICYmICFpc05hTihpRXZlbnQuc2NhbGUpKSB7XG4gICAgaW50ZXJhY3Rpb24uZ2VzdHVyZS5zY2FsZSA9IGlFdmVudC5zY2FsZVxuICB9XG59XG5cbmNvbnN0IGdlc3R1cmU6IFBsdWdpbiA9IHtcbiAgaWQ6ICdhY3Rpb25zL2dlc3R1cmUnLFxuICBiZWZvcmU6IFsnYWN0aW9ucy9kcmFnJywgJ2FjdGlvbnMvcmVzaXplJ10sXG4gIGluc3RhbGwsXG4gIGxpc3RlbmVyczoge1xuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLXN0YXJ0JzogdXBkYXRlR2VzdHVyZVByb3BzLFxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLW1vdmUnOiB1cGRhdGVHZXN0dXJlUHJvcHMsXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tZW5kJzogdXBkYXRlR2VzdHVyZVByb3BzLFxuXG4gICAgJ2ludGVyYWN0aW9uczpuZXcnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBpbnRlcmFjdGlvbi5nZXN0dXJlID0ge1xuICAgICAgICBhbmdsZTogMCxcbiAgICAgICAgZGlzdGFuY2U6IDAsXG4gICAgICAgIHNjYWxlOiAxLFxuICAgICAgICBzdGFydEFuZ2xlOiAwLFxuICAgICAgICBzdGFydERpc3RhbmNlOiAwLFxuICAgICAgfVxuICAgIH0sXG5cbiAgICAnYXV0by1zdGFydDpjaGVjayc6IChhcmcpID0+IHtcbiAgICAgIGlmIChhcmcuaW50ZXJhY3Rpb24ucG9pbnRlcnMubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGdlc3R1cmVPcHRpb25zID0gYXJnLmludGVyYWN0YWJsZS5vcHRpb25zLmdlc3R1cmVcblxuICAgICAgaWYgKCEoZ2VzdHVyZU9wdGlvbnMgJiYgZ2VzdHVyZU9wdGlvbnMuZW5hYmxlZCkpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgfVxuXG4gICAgICBhcmcuYWN0aW9uID0geyBuYW1lOiAnZ2VzdHVyZScgfVxuXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9LFxuICB9LFxuXG4gIGRlZmF1bHRzOiB7fSxcblxuICBnZXRDdXJzb3IoKSB7XG4gICAgcmV0dXJuICcnXG4gIH0sXG5cbiAgZmlsdGVyRXZlbnRUeXBlOiAodHlwZTogc3RyaW5nKSA9PiB0eXBlLnNlYXJjaCgnZ2VzdHVyZScpID09PSAwLFxufVxuXG5leHBvcnQgZGVmYXVsdCBnZXN0dXJlXG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIHsgRXZlbnRQaGFzZSwgSW50ZXJhY3RFdmVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RFdmVudCdcbmltcG9ydCB0eXBlIHsgSW50ZXJhY3Rpb24gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBQZXJBY3Rpb25EZWZhdWx0cyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucydcbmltcG9ydCB0eXBlIHsgU2NvcGUsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7XG4gIEFjdGlvbk5hbWUsXG4gIEFjdGlvblByb3BzLFxuICBFZGdlT3B0aW9ucyxcbiAgRnVsbFJlY3QsXG4gIExpc3RlbmVyc0FyZyxcbiAgT3JCb29sZWFuLFxuICBQb2ludCxcbiAgUmVjdCxcbn0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCAqIGFzIGRvbSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscydcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuXG5leHBvcnQgdHlwZSBFZGdlTmFtZSA9ICd0b3AnIHwgJ2xlZnQnIHwgJ2JvdHRvbScgfCAncmlnaHQnXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZScge1xuICBpbnRlcmZhY2UgSW50ZXJhY3RhYmxlIHtcbiAgICByZXNpemFibGUoKTogUmVzaXphYmxlT3B0aW9uc1xuICAgIHJlc2l6YWJsZShvcHRpb25zOiBQYXJ0aWFsPE9yQm9vbGVhbjxSZXNpemFibGVPcHRpb25zPj4gfCBib29sZWFuKTogdGhpc1xuICAgIC8qKlxuICAgICAqIGBgYGpzXG4gICAgICogaW50ZXJhY3QoZWxlbWVudCkucmVzaXphYmxlKHtcbiAgICAgKiAgIG9uc3RhcnQ6IGZ1bmN0aW9uIChldmVudCkge30sXG4gICAgICogICBvbm1vdmUgOiBmdW5jdGlvbiAoZXZlbnQpIHt9LFxuICAgICAqICAgb25lbmQgIDogZnVuY3Rpb24gKGV2ZW50KSB7fSxcbiAgICAgKlxuICAgICAqICAgZWRnZXM6IHtcbiAgICAgKiAgICAgdG9wICAgOiB0cnVlLCAgICAgICAvLyBVc2UgcG9pbnRlciBjb29yZHMgdG8gY2hlY2sgZm9yIHJlc2l6ZS5cbiAgICAgKiAgICAgbGVmdCAgOiBmYWxzZSwgICAgICAvLyBEaXNhYmxlIHJlc2l6aW5nIGZyb20gbGVmdCBlZGdlLlxuICAgICAqICAgICBib3R0b206ICcucmVzaXplLXMnLC8vIFJlc2l6ZSBpZiBwb2ludGVyIHRhcmdldCBtYXRjaGVzIHNlbGVjdG9yXG4gICAgICogICAgIHJpZ2h0IDogaGFuZGxlRWwgICAgLy8gUmVzaXplIGlmIHBvaW50ZXIgdGFyZ2V0IGlzIHRoZSBnaXZlbiBFbGVtZW50XG4gICAgICogICB9LFxuICAgICAqXG4gICAgICogICAvLyBXaWR0aCBhbmQgaGVpZ2h0IGNhbiBiZSBhZGp1c3RlZCBpbmRlcGVuZGVudGx5LiBXaGVuIGB0cnVlYCwgd2lkdGggYW5kXG4gICAgICogICAvLyBoZWlnaHQgYXJlIGFkanVzdGVkIGF0IGEgMToxIHJhdGlvLlxuICAgICAqICAgc3F1YXJlOiBmYWxzZSxcbiAgICAgKlxuICAgICAqICAgLy8gV2lkdGggYW5kIGhlaWdodCBjYW4gYmUgYWRqdXN0ZWQgaW5kZXBlbmRlbnRseS4gV2hlbiBgdHJ1ZWAsIHdpZHRoIGFuZFxuICAgICAqICAgLy8gaGVpZ2h0IG1haW50YWluIHRoZSBhc3BlY3QgcmF0aW8gdGhleSBoYWQgd2hlbiByZXNpemluZyBzdGFydGVkLlxuICAgICAqICAgcHJlc2VydmVBc3BlY3RSYXRpbzogZmFsc2UsXG4gICAgICpcbiAgICAgKiAgIC8vIGEgdmFsdWUgb2YgJ25vbmUnIHdpbGwgbGltaXQgdGhlIHJlc2l6ZSByZWN0IHRvIGEgbWluaW11bSBvZiAweDBcbiAgICAgKiAgIC8vICduZWdhdGUnIHdpbGwgYWxsb3cgdGhlIHJlY3QgdG8gaGF2ZSBuZWdhdGl2ZSB3aWR0aC9oZWlnaHRcbiAgICAgKiAgIC8vICdyZXBvc2l0aW9uJyB3aWxsIGtlZXAgdGhlIHdpZHRoL2hlaWdodCBwb3NpdGl2ZSBieSBzd2FwcGluZ1xuICAgICAqICAgLy8gdGhlIHRvcCBhbmQgYm90dG9tIGVkZ2VzIGFuZC9vciBzd2FwcGluZyB0aGUgbGVmdCBhbmQgcmlnaHQgZWRnZXNcbiAgICAgKiAgIGludmVydDogJ25vbmUnIHx8ICduZWdhdGUnIHx8ICdyZXBvc2l0aW9uJ1xuICAgICAqXG4gICAgICogICAvLyBsaW1pdCBtdWx0aXBsZSByZXNpemVzLlxuICAgICAqICAgLy8gU2VlIHRoZSBleHBsYW5hdGlvbiBpbiB0aGUge0BsaW5rIEludGVyYWN0YWJsZS5kcmFnZ2FibGV9IGV4YW1wbGVcbiAgICAgKiAgIG1heDogSW5maW5pdHksXG4gICAgICogICBtYXhQZXJFbGVtZW50OiAxLFxuICAgICAqIH0pXG4gICAgICpcbiAgICAgKiB2YXIgaXNSZXNpemVhYmxlID0gaW50ZXJhY3QoZWxlbWVudCkucmVzaXphYmxlKClcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEdldHMgb3Igc2V0cyB3aGV0aGVyIHJlc2l6ZSBhY3Rpb25zIGNhbiBiZSBwZXJmb3JtZWQgb24gdGhlIHRhcmdldFxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSB0cnVlL2ZhbHNlIG9yIEFuIG9iamVjdCB3aXRoIGV2ZW50XG4gICAgICogbGlzdGVuZXJzIHRvIGJlIGZpcmVkIG9uIHJlc2l6ZSBldmVudHMgKG9iamVjdCBtYWtlcyB0aGUgSW50ZXJhY3RhYmxlXG4gICAgICogcmVzaXphYmxlKVxuICAgICAqIEByZXR1cm5zIEEgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIHRoaXMgY2FuIGJlIHRoZVxuICAgICAqIHRhcmdldCBvZiByZXNpemUgZWxlbWVudHMsIG9yIHRoaXMgSW50ZXJhY3RhYmxlXG4gICAgICovXG4gICAgcmVzaXphYmxlKG9wdGlvbnM/OiBQYXJ0aWFsPE9yQm9vbGVhbjxSZXNpemFibGVPcHRpb25zPj4gfCBib29sZWFuKTogdGhpcyB8IFJlc2l6YWJsZU9wdGlvbnNcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbicge1xuICBpbnRlcmZhY2UgSW50ZXJhY3Rpb248VCBleHRlbmRzIEFjdGlvbk5hbWUgfCBudWxsID0gQWN0aW9uTmFtZT4ge1xuICAgIHJlc2l6ZUF4ZXM6ICd4JyB8ICd5JyB8ICd4eSdcbiAgICBzdHlsZUN1cnNvcihuZXdWYWx1ZTogYm9vbGVhbik6IHRoaXNcbiAgICBzdHlsZUN1cnNvcigpOiBib29sZWFuXG4gICAgcmVzaXplU3RhcnRBc3BlY3RSYXRpbzogbnVtYmVyXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucycge1xuICBpbnRlcmZhY2UgQWN0aW9uRGVmYXVsdHMge1xuICAgIHJlc2l6ZTogUmVzaXphYmxlT3B0aW9uc1xuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJyB7XG4gIGludGVyZmFjZSBBY3Rpb25NYXAge1xuICAgIHJlc2l6ZT86IHR5cGVvZiByZXNpemVcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlc2l6YWJsZU9wdGlvbnMgZXh0ZW5kcyBQZXJBY3Rpb25EZWZhdWx0cyB7XG4gIHNxdWFyZT86IGJvb2xlYW5cbiAgcHJlc2VydmVBc3BlY3RSYXRpbz86IGJvb2xlYW5cbiAgZWRnZXM/OiBFZGdlT3B0aW9ucyB8IG51bGxcbiAgYXhpcz86ICd4JyB8ICd5JyB8ICd4eScgLy8gZGVwcmVjYXRlZFxuICBpbnZlcnQ/OiAnbm9uZScgfCAnbmVnYXRlJyB8ICdyZXBvc2l0aW9uJ1xuICBtYXJnaW4/OiBudW1iZXJcbiAgc3F1YXJlUmVzaXplPzogYm9vbGVhblxuICBvbmluZXJ0aWFzdGFydD86IExpc3RlbmVyc0FyZ1xuICBvbnN0YXJ0PzogTGlzdGVuZXJzQXJnXG4gIG9ubW92ZT86IExpc3RlbmVyc0FyZ1xuICBvbmVuZD86IExpc3RlbmVyc0FyZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlc2l6ZUV2ZW50PFAgZXh0ZW5kcyBFdmVudFBoYXNlID0gRXZlbnRQaGFzZT4gZXh0ZW5kcyBJbnRlcmFjdEV2ZW50PCdyZXNpemUnLCBQPiB7XG4gIGRlbHRhUmVjdD86IEZ1bGxSZWN0XG4gIGVkZ2VzPzogQWN0aW9uUHJvcHNbJ2VkZ2VzJ11cbn1cblxuZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgY29uc3Qge1xuICAgIGFjdGlvbnMsXG4gICAgYnJvd3NlcixcbiAgICBJbnRlcmFjdGFibGUsIC8vIHRzbGludDpkaXNhYmxlLWxpbmUgbm8tc2hhZG93ZWQtdmFyaWFibGVcbiAgICBkZWZhdWx0cyxcbiAgfSA9IHNjb3BlXG5cbiAgLy8gTGVzcyBQcmVjaXNpb24gd2l0aCB0b3VjaCBpbnB1dFxuXG4gIHJlc2l6ZS5jdXJzb3JzID0gaW5pdEN1cnNvcnMoYnJvd3NlcilcbiAgcmVzaXplLmRlZmF1bHRNYXJnaW4gPSBicm93c2VyLnN1cHBvcnRzVG91Y2ggfHwgYnJvd3Nlci5zdXBwb3J0c1BvaW50ZXJFdmVudCA/IDIwIDogMTBcblxuICBJbnRlcmFjdGFibGUucHJvdG90eXBlLnJlc2l6YWJsZSA9IGZ1bmN0aW9uICh0aGlzOiBJbnRlcmFjdGFibGUsIG9wdGlvbnM6IFJlc2l6YWJsZU9wdGlvbnMgfCBib29sZWFuKSB7XG4gICAgcmV0dXJuIHJlc2l6YWJsZSh0aGlzLCBvcHRpb25zLCBzY29wZSlcbiAgfSBhcyBJbnRlcmFjdGFibGVbJ3Jlc2l6YWJsZSddXG5cbiAgYWN0aW9ucy5tYXAucmVzaXplID0gcmVzaXplXG4gIGFjdGlvbnMubWV0aG9kRGljdC5yZXNpemUgPSAncmVzaXphYmxlJ1xuXG4gIGRlZmF1bHRzLmFjdGlvbnMucmVzaXplID0gcmVzaXplLmRlZmF1bHRzXG59XG5cbmZ1bmN0aW9uIHJlc2l6ZUNoZWNrZXIoYXJnKSB7XG4gIGNvbnN0IHsgaW50ZXJhY3Rpb24sIGludGVyYWN0YWJsZSwgZWxlbWVudCwgcmVjdCwgYnV0dG9ucyB9ID0gYXJnXG5cbiAgaWYgKCFyZWN0KSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgY29uc3QgcGFnZSA9IGV4dGVuZCh7fSwgaW50ZXJhY3Rpb24uY29vcmRzLmN1ci5wYWdlKVxuICBjb25zdCByZXNpemVPcHRpb25zID0gaW50ZXJhY3RhYmxlLm9wdGlvbnMucmVzaXplXG5cbiAgaWYgKFxuICAgICEocmVzaXplT3B0aW9ucyAmJiByZXNpemVPcHRpb25zLmVuYWJsZWQpIHx8XG4gICAgLy8gY2hlY2sgbW91c2VCdXR0b24gc2V0dGluZyBpZiB0aGUgcG9pbnRlciBpcyBkb3duXG4gICAgKGludGVyYWN0aW9uLnBvaW50ZXJJc0Rvd24gJiZcbiAgICAgIC9tb3VzZXxwb2ludGVyLy50ZXN0KGludGVyYWN0aW9uLnBvaW50ZXJUeXBlKSAmJlxuICAgICAgKGJ1dHRvbnMgJiByZXNpemVPcHRpb25zLm1vdXNlQnV0dG9ucykgPT09IDApXG4gICkge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIC8vIGlmIHVzaW5nIHJlc2l6ZS5lZGdlc1xuICBpZiAoaXMub2JqZWN0KHJlc2l6ZU9wdGlvbnMuZWRnZXMpKSB7XG4gICAgY29uc3QgcmVzaXplRWRnZXMgPSB7XG4gICAgICBsZWZ0OiBmYWxzZSxcbiAgICAgIHJpZ2h0OiBmYWxzZSxcbiAgICAgIHRvcDogZmFsc2UsXG4gICAgICBib3R0b206IGZhbHNlLFxuICAgIH1cblxuICAgIGZvciAoY29uc3QgZWRnZSBpbiByZXNpemVFZGdlcykge1xuICAgICAgcmVzaXplRWRnZXNbZWRnZV0gPSBjaGVja1Jlc2l6ZUVkZ2UoXG4gICAgICAgIGVkZ2UsXG4gICAgICAgIHJlc2l6ZU9wdGlvbnMuZWRnZXNbZWRnZV0sXG4gICAgICAgIHBhZ2UsXG4gICAgICAgIGludGVyYWN0aW9uLl9sYXRlc3RQb2ludGVyLmV2ZW50VGFyZ2V0LFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICByZWN0LFxuICAgICAgICByZXNpemVPcHRpb25zLm1hcmdpbiB8fCByZXNpemUuZGVmYXVsdE1hcmdpbixcbiAgICAgIClcbiAgICB9XG5cbiAgICByZXNpemVFZGdlcy5sZWZ0ID0gcmVzaXplRWRnZXMubGVmdCAmJiAhcmVzaXplRWRnZXMucmlnaHRcbiAgICByZXNpemVFZGdlcy50b3AgPSByZXNpemVFZGdlcy50b3AgJiYgIXJlc2l6ZUVkZ2VzLmJvdHRvbVxuXG4gICAgaWYgKHJlc2l6ZUVkZ2VzLmxlZnQgfHwgcmVzaXplRWRnZXMucmlnaHQgfHwgcmVzaXplRWRnZXMudG9wIHx8IHJlc2l6ZUVkZ2VzLmJvdHRvbSkge1xuICAgICAgYXJnLmFjdGlvbiA9IHtcbiAgICAgICAgbmFtZTogJ3Jlc2l6ZScsXG4gICAgICAgIGVkZ2VzOiByZXNpemVFZGdlcyxcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcmlnaHQgPSByZXNpemVPcHRpb25zLmF4aXMgIT09ICd5JyAmJiBwYWdlLnggPiByZWN0LnJpZ2h0IC0gcmVzaXplLmRlZmF1bHRNYXJnaW5cbiAgICBjb25zdCBib3R0b20gPSByZXNpemVPcHRpb25zLmF4aXMgIT09ICd4JyAmJiBwYWdlLnkgPiByZWN0LmJvdHRvbSAtIHJlc2l6ZS5kZWZhdWx0TWFyZ2luXG5cbiAgICBpZiAocmlnaHQgfHwgYm90dG9tKSB7XG4gICAgICBhcmcuYWN0aW9uID0ge1xuICAgICAgICBuYW1lOiAncmVzaXplJyxcbiAgICAgICAgYXhlczogKHJpZ2h0ID8gJ3gnIDogJycpICsgKGJvdHRvbSA/ICd5JyA6ICcnKSxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXJnLmFjdGlvbiA/IGZhbHNlIDogdW5kZWZpbmVkXG59XG5cbmZ1bmN0aW9uIHJlc2l6YWJsZShpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSwgb3B0aW9uczogT3JCb29sZWFuPFJlc2l6YWJsZU9wdGlvbnM+IHwgYm9vbGVhbiwgc2NvcGU6IFNjb3BlKSB7XG4gIGlmIChpcy5vYmplY3Qob3B0aW9ucykpIHtcbiAgICBpbnRlcmFjdGFibGUub3B0aW9ucy5yZXNpemUuZW5hYmxlZCA9IG9wdGlvbnMuZW5hYmxlZCAhPT0gZmFsc2VcbiAgICBpbnRlcmFjdGFibGUuc2V0UGVyQWN0aW9uKCdyZXNpemUnLCBvcHRpb25zKVxuICAgIGludGVyYWN0YWJsZS5zZXRPbkV2ZW50cygncmVzaXplJywgb3B0aW9ucylcblxuICAgIGlmIChpcy5zdHJpbmcob3B0aW9ucy5heGlzKSAmJiAvXngkfF55JHxeeHkkLy50ZXN0KG9wdGlvbnMuYXhpcykpIHtcbiAgICAgIGludGVyYWN0YWJsZS5vcHRpb25zLnJlc2l6ZS5heGlzID0gb3B0aW9ucy5heGlzXG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmF4aXMgPT09IG51bGwpIHtcbiAgICAgIGludGVyYWN0YWJsZS5vcHRpb25zLnJlc2l6ZS5heGlzID0gc2NvcGUuZGVmYXVsdHMuYWN0aW9ucy5yZXNpemUuYXhpc1xuICAgIH1cblxuICAgIGlmIChpcy5ib29sKG9wdGlvbnMucHJlc2VydmVBc3BlY3RSYXRpbykpIHtcbiAgICAgIGludGVyYWN0YWJsZS5vcHRpb25zLnJlc2l6ZS5wcmVzZXJ2ZUFzcGVjdFJhdGlvID0gb3B0aW9ucy5wcmVzZXJ2ZUFzcGVjdFJhdGlvXG4gICAgfSBlbHNlIGlmIChpcy5ib29sKG9wdGlvbnMuc3F1YXJlKSkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMucmVzaXplLnNxdWFyZSA9IG9wdGlvbnMuc3F1YXJlXG4gICAgfVxuXG4gICAgcmV0dXJuIGludGVyYWN0YWJsZVxuICB9XG4gIGlmIChpcy5ib29sKG9wdGlvbnMpKSB7XG4gICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMucmVzaXplLmVuYWJsZWQgPSBvcHRpb25zXG5cbiAgICByZXR1cm4gaW50ZXJhY3RhYmxlXG4gIH1cbiAgcmV0dXJuIGludGVyYWN0YWJsZS5vcHRpb25zLnJlc2l6ZVxufVxuXG5mdW5jdGlvbiBjaGVja1Jlc2l6ZUVkZ2UoXG4gIG5hbWU6IHN0cmluZyxcbiAgdmFsdWU6IGFueSxcbiAgcGFnZTogUG9pbnQsXG4gIGVsZW1lbnQ6IE5vZGUsXG4gIGludGVyYWN0YWJsZUVsZW1lbnQ6IEVsZW1lbnQsXG4gIHJlY3Q6IFJlY3QsXG4gIG1hcmdpbjogbnVtYmVyLFxuKSB7XG4gIC8vIGZhbHNlLCAnJywgdW5kZWZpbmVkLCBudWxsXG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIHRydWUgdmFsdWUsIHVzZSBwb2ludGVyIGNvb3JkcyBhbmQgZWxlbWVudCByZWN0XG4gIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgIC8vIGlmIGRpbWVuc2lvbnMgYXJlIG5lZ2F0aXZlLCBcInN3aXRjaFwiIGVkZ2VzXG4gICAgY29uc3Qgd2lkdGggPSBpcy5udW1iZXIocmVjdC53aWR0aCkgPyByZWN0LndpZHRoIDogcmVjdC5yaWdodCAtIHJlY3QubGVmdFxuICAgIGNvbnN0IGhlaWdodCA9IGlzLm51bWJlcihyZWN0LmhlaWdodCkgPyByZWN0LmhlaWdodCA6IHJlY3QuYm90dG9tIC0gcmVjdC50b3BcblxuICAgIC8vIGRvbid0IHVzZSBtYXJnaW4gZ3JlYXRlciB0aGFuIGhhbGYgdGhlIHJlbGV2ZW50IGRpbWVuc2lvblxuICAgIG1hcmdpbiA9IE1hdGgubWluKG1hcmdpbiwgTWF0aC5hYnMoKG5hbWUgPT09ICdsZWZ0JyB8fCBuYW1lID09PSAncmlnaHQnID8gd2lkdGggOiBoZWlnaHQpIC8gMikpXG5cbiAgICBpZiAod2lkdGggPCAwKSB7XG4gICAgICBpZiAobmFtZSA9PT0gJ2xlZnQnKSB7XG4gICAgICAgIG5hbWUgPSAncmlnaHQnXG4gICAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICdyaWdodCcpIHtcbiAgICAgICAgbmFtZSA9ICdsZWZ0J1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaGVpZ2h0IDwgMCkge1xuICAgICAgaWYgKG5hbWUgPT09ICd0b3AnKSB7XG4gICAgICAgIG5hbWUgPSAnYm90dG9tJ1xuICAgICAgfSBlbHNlIGlmIChuYW1lID09PSAnYm90dG9tJykge1xuICAgICAgICBuYW1lID0gJ3RvcCdcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmFtZSA9PT0gJ2xlZnQnKSB7XG4gICAgICBjb25zdCBlZGdlID0gd2lkdGggPj0gMCA/IHJlY3QubGVmdCA6IHJlY3QucmlnaHRcbiAgICAgIHJldHVybiBwYWdlLnggPCBlZGdlICsgbWFyZ2luXG4gICAgfVxuICAgIGlmIChuYW1lID09PSAndG9wJykge1xuICAgICAgY29uc3QgZWRnZSA9IGhlaWdodCA+PSAwID8gcmVjdC50b3AgOiByZWN0LmJvdHRvbVxuICAgICAgcmV0dXJuIHBhZ2UueSA8IGVkZ2UgKyBtYXJnaW5cbiAgICB9XG5cbiAgICBpZiAobmFtZSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgcmV0dXJuIHBhZ2UueCA+ICh3aWR0aCA+PSAwID8gcmVjdC5yaWdodCA6IHJlY3QubGVmdCkgLSBtYXJnaW5cbiAgICB9XG4gICAgaWYgKG5hbWUgPT09ICdib3R0b20nKSB7XG4gICAgICByZXR1cm4gcGFnZS55ID4gKGhlaWdodCA+PSAwID8gcmVjdC5ib3R0b20gOiByZWN0LnRvcCkgLSBtYXJnaW5cbiAgICB9XG4gIH1cblxuICAvLyB0aGUgcmVtYWluaW5nIGNoZWNrcyByZXF1aXJlIGFuIGVsZW1lbnRcbiAgaWYgKCFpcy5lbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICByZXR1cm4gaXMuZWxlbWVudCh2YWx1ZSlcbiAgICA/IC8vIHRoZSB2YWx1ZSBpcyBhbiBlbGVtZW50IHRvIHVzZSBhcyBhIHJlc2l6ZSBoYW5kbGVcbiAgICAgIHZhbHVlID09PSBlbGVtZW50XG4gICAgOiAvLyBvdGhlcndpc2UgY2hlY2sgaWYgZWxlbWVudCBtYXRjaGVzIHZhbHVlIGFzIHNlbGVjdG9yXG4gICAgICBkb20ubWF0Y2hlc1VwVG8oZWxlbWVudCwgdmFsdWUsIGludGVyYWN0YWJsZUVsZW1lbnQpXG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG11bHRpbGluZS10ZXJuYXJ5ICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2NvbnNpc3RlbnQtdHlwZS1pbXBvcnRzXG5mdW5jdGlvbiBpbml0Q3Vyc29ycyhicm93c2VyOiB0eXBlb2YgaW1wb3J0KCdAaW50ZXJhY3Rqcy91dGlscy9icm93c2VyJykuZGVmYXVsdCkge1xuICByZXR1cm4gYnJvd3Nlci5pc0llOVxuICAgID8ge1xuICAgICAgICB4OiAnZS1yZXNpemUnLFxuICAgICAgICB5OiAncy1yZXNpemUnLFxuICAgICAgICB4eTogJ3NlLXJlc2l6ZScsXG5cbiAgICAgICAgdG9wOiAnbi1yZXNpemUnLFxuICAgICAgICBsZWZ0OiAndy1yZXNpemUnLFxuICAgICAgICBib3R0b206ICdzLXJlc2l6ZScsXG4gICAgICAgIHJpZ2h0OiAnZS1yZXNpemUnLFxuICAgICAgICB0b3BsZWZ0OiAnc2UtcmVzaXplJyxcbiAgICAgICAgYm90dG9tcmlnaHQ6ICdzZS1yZXNpemUnLFxuICAgICAgICB0b3ByaWdodDogJ25lLXJlc2l6ZScsXG4gICAgICAgIGJvdHRvbWxlZnQ6ICduZS1yZXNpemUnLFxuICAgICAgfVxuICAgIDoge1xuICAgICAgICB4OiAnZXctcmVzaXplJyxcbiAgICAgICAgeTogJ25zLXJlc2l6ZScsXG4gICAgICAgIHh5OiAnbndzZS1yZXNpemUnLFxuXG4gICAgICAgIHRvcDogJ25zLXJlc2l6ZScsXG4gICAgICAgIGxlZnQ6ICdldy1yZXNpemUnLFxuICAgICAgICBib3R0b206ICducy1yZXNpemUnLFxuICAgICAgICByaWdodDogJ2V3LXJlc2l6ZScsXG4gICAgICAgIHRvcGxlZnQ6ICdud3NlLXJlc2l6ZScsXG4gICAgICAgIGJvdHRvbXJpZ2h0OiAnbndzZS1yZXNpemUnLFxuICAgICAgICB0b3ByaWdodDogJ25lc3ctcmVzaXplJyxcbiAgICAgICAgYm90dG9tbGVmdDogJ25lc3ctcmVzaXplJyxcbiAgICAgIH1cbn1cbi8qIGVzbGludC1lbmFibGUgbXVsdGlsaW5lLXRlcm5hcnkgKi9cblxuZnVuY3Rpb24gc3RhcnQoeyBpRXZlbnQsIGludGVyYWN0aW9uIH06IHsgaUV2ZW50OiBJbnRlcmFjdEV2ZW50PGFueSwgYW55PjsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uIH0pIHtcbiAgaWYgKGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgIT09ICdyZXNpemUnIHx8ICFpbnRlcmFjdGlvbi5wcmVwYXJlZC5lZGdlcykge1xuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgcmVzaXplRXZlbnQgPSBpRXZlbnQgYXMgUmVzaXplRXZlbnRcbiAgY29uc3QgcmVjdCA9IGludGVyYWN0aW9uLnJlY3RcblxuICBpbnRlcmFjdGlvbi5fcmVjdHMgPSB7XG4gICAgc3RhcnQ6IGV4dGVuZCh7fSwgcmVjdCksXG4gICAgY29ycmVjdGVkOiBleHRlbmQoe30sIHJlY3QpLFxuICAgIHByZXZpb3VzOiBleHRlbmQoe30sIHJlY3QpLFxuICAgIGRlbHRhOiB7XG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICB3aWR0aDogMCxcbiAgICAgIHRvcDogMCxcbiAgICAgIGJvdHRvbTogMCxcbiAgICAgIGhlaWdodDogMCxcbiAgICB9LFxuICB9XG5cbiAgcmVzaXplRXZlbnQuZWRnZXMgPSBpbnRlcmFjdGlvbi5wcmVwYXJlZC5lZGdlc1xuICByZXNpemVFdmVudC5yZWN0ID0gaW50ZXJhY3Rpb24uX3JlY3RzLmNvcnJlY3RlZFxuICByZXNpemVFdmVudC5kZWx0YVJlY3QgPSBpbnRlcmFjdGlvbi5fcmVjdHMuZGVsdGFcbn1cblxuZnVuY3Rpb24gbW92ZSh7IGlFdmVudCwgaW50ZXJhY3Rpb24gfTogeyBpRXZlbnQ6IEludGVyYWN0RXZlbnQ8YW55LCBhbnk+OyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfSkge1xuICBpZiAoaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSAhPT0gJ3Jlc2l6ZScgfHwgIWludGVyYWN0aW9uLnByZXBhcmVkLmVkZ2VzKSByZXR1cm5cblxuICBjb25zdCByZXNpemVFdmVudCA9IGlFdmVudCBhcyBSZXNpemVFdmVudFxuICBjb25zdCByZXNpemVPcHRpb25zID0gaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLm9wdGlvbnMucmVzaXplXG4gIGNvbnN0IGludmVydCA9IHJlc2l6ZU9wdGlvbnMuaW52ZXJ0XG4gIGNvbnN0IGludmVydGlibGUgPSBpbnZlcnQgPT09ICdyZXBvc2l0aW9uJyB8fCBpbnZlcnQgPT09ICduZWdhdGUnXG5cbiAgY29uc3QgY3VycmVudCA9IGludGVyYWN0aW9uLnJlY3RcbiAgY29uc3QgeyBzdGFydDogc3RhcnRSZWN0LCBjb3JyZWN0ZWQsIGRlbHRhOiBkZWx0YVJlY3QsIHByZXZpb3VzIH0gPSBpbnRlcmFjdGlvbi5fcmVjdHNcblxuICBleHRlbmQocHJldmlvdXMsIGNvcnJlY3RlZClcblxuICBpZiAoaW52ZXJ0aWJsZSkge1xuICAgIC8vIGlmIGludmVydGlibGUsIGNvcHkgdGhlIGN1cnJlbnQgcmVjdFxuICAgIGV4dGVuZChjb3JyZWN0ZWQsIGN1cnJlbnQpXG5cbiAgICBpZiAoaW52ZXJ0ID09PSAncmVwb3NpdGlvbicpIHtcbiAgICAgIC8vIHN3YXAgZWRnZSB2YWx1ZXMgaWYgbmVjZXNzYXJ5IHRvIGtlZXAgd2lkdGgvaGVpZ2h0IHBvc2l0aXZlXG4gICAgICBpZiAoY29ycmVjdGVkLnRvcCA+IGNvcnJlY3RlZC5ib3R0b20pIHtcbiAgICAgICAgY29uc3Qgc3dhcCA9IGNvcnJlY3RlZC50b3BcblxuICAgICAgICBjb3JyZWN0ZWQudG9wID0gY29ycmVjdGVkLmJvdHRvbVxuICAgICAgICBjb3JyZWN0ZWQuYm90dG9tID0gc3dhcFxuICAgICAgfVxuICAgICAgaWYgKGNvcnJlY3RlZC5sZWZ0ID4gY29ycmVjdGVkLnJpZ2h0KSB7XG4gICAgICAgIGNvbnN0IHN3YXAgPSBjb3JyZWN0ZWQubGVmdFxuXG4gICAgICAgIGNvcnJlY3RlZC5sZWZ0ID0gY29ycmVjdGVkLnJpZ2h0XG4gICAgICAgIGNvcnJlY3RlZC5yaWdodCA9IHN3YXBcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gaWYgbm90IGludmVydGlibGUsIHJlc3RyaWN0IHRvIG1pbmltdW0gb2YgMHgwIHJlY3RcbiAgICBjb3JyZWN0ZWQudG9wID0gTWF0aC5taW4oY3VycmVudC50b3AsIHN0YXJ0UmVjdC5ib3R0b20pXG4gICAgY29ycmVjdGVkLmJvdHRvbSA9IE1hdGgubWF4KGN1cnJlbnQuYm90dG9tLCBzdGFydFJlY3QudG9wKVxuICAgIGNvcnJlY3RlZC5sZWZ0ID0gTWF0aC5taW4oY3VycmVudC5sZWZ0LCBzdGFydFJlY3QucmlnaHQpXG4gICAgY29ycmVjdGVkLnJpZ2h0ID0gTWF0aC5tYXgoY3VycmVudC5yaWdodCwgc3RhcnRSZWN0LmxlZnQpXG4gIH1cblxuICBjb3JyZWN0ZWQud2lkdGggPSBjb3JyZWN0ZWQucmlnaHQgLSBjb3JyZWN0ZWQubGVmdFxuICBjb3JyZWN0ZWQuaGVpZ2h0ID0gY29ycmVjdGVkLmJvdHRvbSAtIGNvcnJlY3RlZC50b3BcblxuICBmb3IgKGNvbnN0IGVkZ2UgaW4gY29ycmVjdGVkKSB7XG4gICAgZGVsdGFSZWN0W2VkZ2VdID0gY29ycmVjdGVkW2VkZ2VdIC0gcHJldmlvdXNbZWRnZV1cbiAgfVxuXG4gIHJlc2l6ZUV2ZW50LmVkZ2VzID0gaW50ZXJhY3Rpb24ucHJlcGFyZWQuZWRnZXNcbiAgcmVzaXplRXZlbnQucmVjdCA9IGNvcnJlY3RlZFxuICByZXNpemVFdmVudC5kZWx0YVJlY3QgPSBkZWx0YVJlY3Rcbn1cblxuZnVuY3Rpb24gZW5kKHsgaUV2ZW50LCBpbnRlcmFjdGlvbiB9OiB7IGlFdmVudDogSW50ZXJhY3RFdmVudDxhbnksIGFueT47IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiB9KSB7XG4gIGlmIChpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lICE9PSAncmVzaXplJyB8fCAhaW50ZXJhY3Rpb24ucHJlcGFyZWQuZWRnZXMpIHJldHVyblxuXG4gIGNvbnN0IHJlc2l6ZUV2ZW50ID0gaUV2ZW50IGFzIFJlc2l6ZUV2ZW50XG5cbiAgcmVzaXplRXZlbnQuZWRnZXMgPSBpbnRlcmFjdGlvbi5wcmVwYXJlZC5lZGdlc1xuICByZXNpemVFdmVudC5yZWN0ID0gaW50ZXJhY3Rpb24uX3JlY3RzLmNvcnJlY3RlZFxuICByZXNpemVFdmVudC5kZWx0YVJlY3QgPSBpbnRlcmFjdGlvbi5fcmVjdHMuZGVsdGFcbn1cblxuZnVuY3Rpb24gdXBkYXRlRXZlbnRBeGVzKHtcbiAgaUV2ZW50LFxuICBpbnRlcmFjdGlvbixcbn06IHtcbiAgaUV2ZW50OiBJbnRlcmFjdEV2ZW50PGFueSwgYW55PlxuICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb25cbn0pIHtcbiAgaWYgKGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgIT09ICdyZXNpemUnIHx8ICFpbnRlcmFjdGlvbi5yZXNpemVBeGVzKSByZXR1cm5cblxuICBjb25zdCBvcHRpb25zID0gaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLm9wdGlvbnNcbiAgY29uc3QgcmVzaXplRXZlbnQgPSBpRXZlbnQgYXMgUmVzaXplRXZlbnRcblxuICBpZiAob3B0aW9ucy5yZXNpemUuc3F1YXJlKSB7XG4gICAgaWYgKGludGVyYWN0aW9uLnJlc2l6ZUF4ZXMgPT09ICd5Jykge1xuICAgICAgcmVzaXplRXZlbnQuZGVsdGEueCA9IHJlc2l6ZUV2ZW50LmRlbHRhLnlcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzaXplRXZlbnQuZGVsdGEueSA9IHJlc2l6ZUV2ZW50LmRlbHRhLnhcbiAgICB9XG4gICAgcmVzaXplRXZlbnQuYXhlcyA9ICd4eSdcbiAgfSBlbHNlIHtcbiAgICByZXNpemVFdmVudC5heGVzID0gaW50ZXJhY3Rpb24ucmVzaXplQXhlc1xuXG4gICAgaWYgKGludGVyYWN0aW9uLnJlc2l6ZUF4ZXMgPT09ICd4Jykge1xuICAgICAgcmVzaXplRXZlbnQuZGVsdGEueSA9IDBcbiAgICB9IGVsc2UgaWYgKGludGVyYWN0aW9uLnJlc2l6ZUF4ZXMgPT09ICd5Jykge1xuICAgICAgcmVzaXplRXZlbnQuZGVsdGEueCA9IDBcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgcmVzaXplOiBQbHVnaW4gPSB7XG4gIGlkOiAnYWN0aW9ucy9yZXNpemUnLFxuICBiZWZvcmU6IFsnYWN0aW9ucy9kcmFnJ10sXG4gIGluc3RhbGwsXG4gIGxpc3RlbmVyczoge1xuICAgICdpbnRlcmFjdGlvbnM6bmV3JzogKHsgaW50ZXJhY3Rpb24gfSkgPT4ge1xuICAgICAgaW50ZXJhY3Rpb24ucmVzaXplQXhlcyA9ICd4eSdcbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tc3RhcnQnOiAoYXJnKSA9PiB7XG4gICAgICBzdGFydChhcmcpXG4gICAgICB1cGRhdGVFdmVudEF4ZXMoYXJnKVxuICAgIH0sXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tbW92ZSc6IChhcmcpID0+IHtcbiAgICAgIG1vdmUoYXJnKVxuICAgICAgdXBkYXRlRXZlbnRBeGVzKGFyZylcbiAgICB9LFxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLWVuZCc6IGVuZCxcbiAgICAnYXV0by1zdGFydDpjaGVjayc6IHJlc2l6ZUNoZWNrZXIsXG4gIH0sXG5cbiAgZGVmYXVsdHM6IHtcbiAgICBzcXVhcmU6IGZhbHNlLFxuICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IGZhbHNlLFxuICAgIGF4aXM6ICd4eScsXG5cbiAgICAvLyB1c2UgZGVmYXVsdCBtYXJnaW5cbiAgICBtYXJnaW46IE5hTixcblxuICAgIC8vIG9iamVjdCB3aXRoIHByb3BzIGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSB3aGljaCBhcmVcbiAgICAvLyB0cnVlL2ZhbHNlIHZhbHVlcyB0byByZXNpemUgd2hlbiB0aGUgcG9pbnRlciBpcyBvdmVyIHRoYXQgZWRnZSxcbiAgICAvLyBDU1Mgc2VsZWN0b3JzIHRvIG1hdGNoIHRoZSBoYW5kbGVzIGZvciBlYWNoIGRpcmVjdGlvblxuICAgIC8vIG9yIHRoZSBFbGVtZW50cyBmb3IgZWFjaCBoYW5kbGVcbiAgICBlZGdlczogbnVsbCxcblxuICAgIC8vIGEgdmFsdWUgb2YgJ25vbmUnIHdpbGwgbGltaXQgdGhlIHJlc2l6ZSByZWN0IHRvIGEgbWluaW11bSBvZiAweDBcbiAgICAvLyAnbmVnYXRlJyB3aWxsIGFsb3cgdGhlIHJlY3QgdG8gaGF2ZSBuZWdhdGl2ZSB3aWR0aC9oZWlnaHRcbiAgICAvLyAncmVwb3NpdGlvbicgd2lsbCBrZWVwIHRoZSB3aWR0aC9oZWlnaHQgcG9zaXRpdmUgYnkgc3dhcHBpbmdcbiAgICAvLyB0aGUgdG9wIGFuZCBib3R0b20gZWRnZXMgYW5kL29yIHN3YXBwaW5nIHRoZSBsZWZ0IGFuZCByaWdodCBlZGdlc1xuICAgIGludmVydDogJ25vbmUnLFxuICB9IGFzIFJlc2l6YWJsZU9wdGlvbnMsXG5cbiAgY3Vyc29yczogbnVsbCBhcyBSZXR1cm5UeXBlPHR5cGVvZiBpbml0Q3Vyc29ycz4sXG5cbiAgZ2V0Q3Vyc29yKHsgZWRnZXMsIGF4aXMsIG5hbWUgfTogQWN0aW9uUHJvcHMpIHtcbiAgICBjb25zdCBjdXJzb3JzID0gcmVzaXplLmN1cnNvcnNcbiAgICBsZXQgcmVzdWx0OiBzdHJpbmcgPSBudWxsXG5cbiAgICBpZiAoYXhpcykge1xuICAgICAgcmVzdWx0ID0gY3Vyc29yc1tuYW1lICsgYXhpc11cbiAgICB9IGVsc2UgaWYgKGVkZ2VzKSB7XG4gICAgICBsZXQgY3Vyc29yS2V5ID0gJydcblxuICAgICAgZm9yIChjb25zdCBlZGdlIG9mIFsndG9wJywgJ2JvdHRvbScsICdsZWZ0JywgJ3JpZ2h0J10pIHtcbiAgICAgICAgaWYgKGVkZ2VzW2VkZ2VdKSB7XG4gICAgICAgICAgY3Vyc29yS2V5ICs9IGVkZ2VcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXN1bHQgPSBjdXJzb3JzW2N1cnNvcktleV1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0XG4gIH0sXG5cbiAgZmlsdGVyRXZlbnRUeXBlOiAodHlwZTogc3RyaW5nKSA9PiB0eXBlLnNlYXJjaCgncmVzaXplJykgPT09IDAsXG5cbiAgZGVmYXVsdE1hcmdpbjogbnVsbCBhcyBudW1iZXIsXG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlc2l6ZVxuIiwgImxldCBsYXN0VGltZSA9IDBcbmxldCByZXF1ZXN0OiB0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5sZXQgY2FuY2VsOiB0eXBlb2YgY2FuY2VsQW5pbWF0aW9uRnJhbWVcblxuZnVuY3Rpb24gaW5pdChnbG9iYWw6IFdpbmRvdyB8IHR5cGVvZiBnbG9iYWxUaGlzKSB7XG4gIHJlcXVlc3QgPSBnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gIGNhbmNlbCA9IGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZVxuXG4gIGlmICghcmVxdWVzdCkge1xuICAgIGNvbnN0IHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddXG5cbiAgICBmb3IgKGNvbnN0IHZlbmRvciBvZiB2ZW5kb3JzKSB7XG4gICAgICByZXF1ZXN0ID0gZ2xvYmFsW2Ake3ZlbmRvcn1SZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGFzICdyZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXVxuICAgICAgY2FuY2VsID1cbiAgICAgICAgZ2xvYmFsW2Ake3ZlbmRvcn1DYW5jZWxBbmltYXRpb25GcmFtZWAgYXMgJ2NhbmNlbEFuaW1hdGlvbkZyYW1lJ10gfHxcbiAgICAgICAgZ2xvYmFsW2Ake3ZlbmRvcn1DYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGFzICdjYW5jZWxBbmltYXRpb25GcmFtZSddXG4gICAgfVxuICB9XG5cbiAgcmVxdWVzdCA9IHJlcXVlc3QgJiYgcmVxdWVzdC5iaW5kKGdsb2JhbClcbiAgY2FuY2VsID0gY2FuY2VsICYmIGNhbmNlbC5iaW5kKGdsb2JhbClcblxuICBpZiAoIXJlcXVlc3QpIHtcbiAgICByZXF1ZXN0ID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgICBjb25zdCBjdXJyVGltZSA9IERhdGUubm93KClcbiAgICAgIGNvbnN0IHRpbWVUb0NhbGwgPSBNYXRoLm1heCgwLCAxNiAtIChjdXJyVGltZSAtIGxhc3RUaW1lKSlcbiAgICAgIGNvbnN0IHRva2VuID0gZ2xvYmFsLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbi9uby1jYWxsYmFjay1saXRlcmFsXG4gICAgICAgIGNhbGxiYWNrKGN1cnJUaW1lICsgdGltZVRvQ2FsbClcbiAgICAgIH0sIHRpbWVUb0NhbGwpXG5cbiAgICAgIGxhc3RUaW1lID0gY3VyclRpbWUgKyB0aW1lVG9DYWxsXG4gICAgICByZXR1cm4gdG9rZW4gYXMgYW55XG4gICAgfVxuXG4gICAgY2FuY2VsID0gKHRva2VuKSA9PiBjbGVhclRpbWVvdXQodG9rZW4pXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICByZXF1ZXN0OiAoY2FsbGJhY2s6IEZyYW1lUmVxdWVzdENhbGxiYWNrKSA9PiByZXF1ZXN0KGNhbGxiYWNrKSxcbiAgY2FuY2VsOiAodG9rZW46IG51bWJlcikgPT4gY2FuY2VsKHRva2VuKSxcbiAgaW5pdCxcbn1cbiIsICJpbXBvcnQgdHlwZSB7IFNjb3BlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcblxuLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgLS0gZm9yIHR5cGVzY3JpcHQgbW9kdWxlIGF1Z21lbnRhdGlvbnMgKi9cbmltcG9ydCAnLi9kcmFnL3BsdWdpbidcbmltcG9ydCAnLi9kcm9wL3BsdWdpbidcbmltcG9ydCAnLi9nZXN0dXJlL3BsdWdpbidcbmltcG9ydCAnLi9yZXNpemUvcGx1Z2luJ1xuXG5pbXBvcnQgZHJhZyBmcm9tICcuL2RyYWcvcGx1Z2luJ1xuaW1wb3J0IGRyb3AgZnJvbSAnLi9kcm9wL3BsdWdpbidcbmltcG9ydCBnZXN0dXJlIGZyb20gJy4vZ2VzdHVyZS9wbHVnaW4nXG5pbXBvcnQgcmVzaXplIGZyb20gJy4vcmVzaXplL3BsdWdpbidcbi8qIGVzbGludC1lbmFibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgKi9cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpZDogJ2FjdGlvbnMnLFxuICBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICAgIHNjb3BlLnVzZVBsdWdpbihnZXN0dXJlKVxuICAgIHNjb3BlLnVzZVBsdWdpbihyZXNpemUpXG4gICAgc2NvcGUudXNlUGx1Z2luKGRyYWcpXG4gICAgc2NvcGUudXNlUGx1Z2luKGRyb3ApXG4gIH0sXG59XG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIEludGVyYWN0aW9uIGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFNjb3BlLCBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25OYW1lLCBQb2ludGVyVHlwZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgKiBhcyBkb21VdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscydcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcbmltcG9ydCByYWYgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcmFmJ1xuaW1wb3J0IHsgZ2V0U3RyaW5nT3B0aW9uUmVzdWx0IH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcmVjdCdcbmltcG9ydCB7IGdldFdpbmRvdyB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3dpbmRvdydcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnIHtcbiAgaW50ZXJmYWNlIFNjb3BlIHtcbiAgICBhdXRvU2Nyb2xsOiB0eXBlb2YgYXV0b1Njcm9sbFxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGlvbiB7XG4gICAgYXV0b1Njcm9sbD86IHR5cGVvZiBhdXRvU2Nyb2xsXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucycge1xuICBpbnRlcmZhY2UgUGVyQWN0aW9uRGVmYXVsdHMge1xuICAgIGF1dG9TY3JvbGw/OiBBdXRvU2Nyb2xsT3B0aW9uc1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXV0b1Njcm9sbE9wdGlvbnMge1xuICBjb250YWluZXI/OiBXaW5kb3cgfCBIVE1MRWxlbWVudCB8IHN0cmluZ1xuICBtYXJnaW4/OiBudW1iZXJcbiAgZGlzdGFuY2U/OiBudW1iZXJcbiAgaW50ZXJ2YWw/OiBudW1iZXJcbiAgc3BlZWQ/OiBudW1iZXJcbiAgZW5hYmxlZD86IGJvb2xlYW5cbn1cblxuZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBkZWZhdWx0cywgYWN0aW9ucyB9ID0gc2NvcGVcblxuICBzY29wZS5hdXRvU2Nyb2xsID0gYXV0b1Njcm9sbFxuICBhdXRvU2Nyb2xsLm5vdyA9ICgpID0+IHNjb3BlLm5vdygpXG5cbiAgYWN0aW9ucy5waGFzZWxlc3NUeXBlcy5hdXRvc2Nyb2xsID0gdHJ1ZVxuICBkZWZhdWx0cy5wZXJBY3Rpb24uYXV0b1Njcm9sbCA9IGF1dG9TY3JvbGwuZGVmYXVsdHNcbn1cblxuY29uc3QgYXV0b1Njcm9sbCA9IHtcbiAgZGVmYXVsdHM6IHtcbiAgICBlbmFibGVkOiBmYWxzZSxcbiAgICBtYXJnaW46IDYwLFxuXG4gICAgLy8gdGhlIGl0ZW0gdGhhdCBpcyBzY3JvbGxlZCAoV2luZG93IG9yIEhUTUxFbGVtZW50KVxuICAgIGNvbnRhaW5lcjogbnVsbCBhcyBBdXRvU2Nyb2xsT3B0aW9uc1snY29udGFpbmVyJ10sXG5cbiAgICAvLyB0aGUgc2Nyb2xsIHNwZWVkIGluIHBpeGVscyBwZXIgc2Vjb25kXG4gICAgc3BlZWQ6IDMwMCxcbiAgfSBhcyBBdXRvU2Nyb2xsT3B0aW9ucyxcblxuICBub3c6IERhdGUubm93LFxuXG4gIGludGVyYWN0aW9uOiBudWxsIGFzIEludGVyYWN0aW9uPEFjdGlvbk5hbWU+IHwgbnVsbCxcbiAgaTogMCwgLy8gdGhlIGhhbmRsZSByZXR1cm5lZCBieSB3aW5kb3cuc2V0SW50ZXJ2YWxcblxuICAvLyBEaXJlY3Rpb24gZWFjaCBwdWxzZSBpcyB0byBzY3JvbGwgaW5cbiAgeDogMCxcbiAgeTogMCxcblxuICBpc1Njcm9sbGluZzogZmFsc2UsXG4gIHByZXZUaW1lOiAwLFxuICBtYXJnaW46IDAsXG4gIHNwZWVkOiAwLFxuXG4gIHN0YXJ0KGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbikge1xuICAgIGF1dG9TY3JvbGwuaXNTY3JvbGxpbmcgPSB0cnVlXG4gICAgcmFmLmNhbmNlbChhdXRvU2Nyb2xsLmkpXG5cbiAgICBpbnRlcmFjdGlvbi5hdXRvU2Nyb2xsID0gYXV0b1Njcm9sbFxuICAgIGF1dG9TY3JvbGwuaW50ZXJhY3Rpb24gPSBpbnRlcmFjdGlvblxuICAgIGF1dG9TY3JvbGwucHJldlRpbWUgPSBhdXRvU2Nyb2xsLm5vdygpXG4gICAgYXV0b1Njcm9sbC5pID0gcmFmLnJlcXVlc3QoYXV0b1Njcm9sbC5zY3JvbGwpXG4gIH0sXG5cbiAgc3RvcCgpIHtcbiAgICBhdXRvU2Nyb2xsLmlzU2Nyb2xsaW5nID0gZmFsc2VcbiAgICBpZiAoYXV0b1Njcm9sbC5pbnRlcmFjdGlvbikge1xuICAgICAgYXV0b1Njcm9sbC5pbnRlcmFjdGlvbi5hdXRvU2Nyb2xsID0gbnVsbFxuICAgIH1cbiAgICByYWYuY2FuY2VsKGF1dG9TY3JvbGwuaSlcbiAgfSxcblxuICAvLyBzY3JvbGwgdGhlIHdpbmRvdyBieSB0aGUgdmFsdWVzIGluIHNjcm9sbC54L3lcbiAgc2Nyb2xsKCkge1xuICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IGF1dG9TY3JvbGxcbiAgICBjb25zdCB7IGludGVyYWN0YWJsZSwgZWxlbWVudCB9ID0gaW50ZXJhY3Rpb25cbiAgICBjb25zdCBhY3Rpb25OYW1lID0gaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZVxuICAgIGNvbnN0IG9wdGlvbnMgPSBpbnRlcmFjdGFibGUub3B0aW9uc1thY3Rpb25OYW1lXS5hdXRvU2Nyb2xsXG4gICAgY29uc3QgY29udGFpbmVyID0gZ2V0Q29udGFpbmVyKG9wdGlvbnMuY29udGFpbmVyLCBpbnRlcmFjdGFibGUsIGVsZW1lbnQpXG4gICAgY29uc3Qgbm93ID0gYXV0b1Njcm9sbC5ub3coKVxuICAgIC8vIGNoYW5nZSBpbiB0aW1lIGluIHNlY29uZHNcbiAgICBjb25zdCBkdCA9IChub3cgLSBhdXRvU2Nyb2xsLnByZXZUaW1lKSAvIDEwMDBcbiAgICAvLyBkaXNwbGFjZW1lbnRcbiAgICBjb25zdCBzID0gb3B0aW9ucy5zcGVlZCAqIGR0XG5cbiAgICBpZiAocyA+PSAxKSB7XG4gICAgICBjb25zdCBzY3JvbGxCeSA9IHtcbiAgICAgICAgeDogYXV0b1Njcm9sbC54ICogcyxcbiAgICAgICAgeTogYXV0b1Njcm9sbC55ICogcyxcbiAgICAgIH1cblxuICAgICAgaWYgKHNjcm9sbEJ5LnggfHwgc2Nyb2xsQnkueSkge1xuICAgICAgICBjb25zdCBwcmV2U2Nyb2xsID0gZ2V0U2Nyb2xsKGNvbnRhaW5lcilcblxuICAgICAgICBpZiAoaXMud2luZG93KGNvbnRhaW5lcikpIHtcbiAgICAgICAgICBjb250YWluZXIuc2Nyb2xsQnkoc2Nyb2xsQnkueCwgc2Nyb2xsQnkueSlcbiAgICAgICAgfSBlbHNlIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgICBjb250YWluZXIuc2Nyb2xsTGVmdCArPSBzY3JvbGxCeS54XG4gICAgICAgICAgY29udGFpbmVyLnNjcm9sbFRvcCArPSBzY3JvbGxCeS55XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjdXJTY3JvbGwgPSBnZXRTY3JvbGwoY29udGFpbmVyKVxuICAgICAgICBjb25zdCBkZWx0YSA9IHtcbiAgICAgICAgICB4OiBjdXJTY3JvbGwueCAtIHByZXZTY3JvbGwueCxcbiAgICAgICAgICB5OiBjdXJTY3JvbGwueSAtIHByZXZTY3JvbGwueSxcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWx0YS54IHx8IGRlbHRhLnkpIHtcbiAgICAgICAgICBpbnRlcmFjdGFibGUuZmlyZSh7XG4gICAgICAgICAgICB0eXBlOiAnYXV0b3Njcm9sbCcsXG4gICAgICAgICAgICB0YXJnZXQ6IGVsZW1lbnQsXG4gICAgICAgICAgICBpbnRlcmFjdGFibGUsXG4gICAgICAgICAgICBkZWx0YSxcbiAgICAgICAgICAgIGludGVyYWN0aW9uLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYXV0b1Njcm9sbC5wcmV2VGltZSA9IG5vd1xuICAgIH1cblxuICAgIGlmIChhdXRvU2Nyb2xsLmlzU2Nyb2xsaW5nKSB7XG4gICAgICByYWYuY2FuY2VsKGF1dG9TY3JvbGwuaSlcbiAgICAgIGF1dG9TY3JvbGwuaSA9IHJhZi5yZXF1ZXN0KGF1dG9TY3JvbGwuc2Nyb2xsKVxuICAgIH1cbiAgfSxcbiAgY2hlY2soaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUsIGFjdGlvbk5hbWU6IEFjdGlvbk5hbWUpIHtcbiAgICBjb25zdCBvcHRpb25zID0gaW50ZXJhY3RhYmxlLm9wdGlvbnNcblxuICAgIHJldHVybiBvcHRpb25zW2FjdGlvbk5hbWVdLmF1dG9TY3JvbGw/LmVuYWJsZWRcbiAgfSxcbiAgb25JbnRlcmFjdGlvbk1vdmU8VCBleHRlbmRzIEFjdGlvbk5hbWU+KHtcbiAgICBpbnRlcmFjdGlvbixcbiAgICBwb2ludGVyLFxuICB9OiB7XG4gICAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPFQ+XG4gICAgcG9pbnRlcjogUG9pbnRlclR5cGVcbiAgfSkge1xuICAgIGlmIChcbiAgICAgICEoaW50ZXJhY3Rpb24uaW50ZXJhY3RpbmcoKSAmJiBhdXRvU2Nyb2xsLmNoZWNrKGludGVyYWN0aW9uLmludGVyYWN0YWJsZSwgaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSkpXG4gICAgKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoaW50ZXJhY3Rpb24uc2ltdWxhdGlvbikge1xuICAgICAgYXV0b1Njcm9sbC54ID0gYXV0b1Njcm9sbC55ID0gMFxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbGV0IHRvcDogYm9vbGVhblxuICAgIGxldCByaWdodDogYm9vbGVhblxuICAgIGxldCBib3R0b206IGJvb2xlYW5cbiAgICBsZXQgbGVmdDogYm9vbGVhblxuXG4gICAgY29uc3QgeyBpbnRlcmFjdGFibGUsIGVsZW1lbnQgfSA9IGludGVyYWN0aW9uXG4gICAgY29uc3QgYWN0aW9uTmFtZSA9IGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWVcbiAgICBjb25zdCBvcHRpb25zID0gaW50ZXJhY3RhYmxlLm9wdGlvbnNbYWN0aW9uTmFtZV0uYXV0b1Njcm9sbFxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGdldENvbnRhaW5lcihvcHRpb25zLmNvbnRhaW5lciwgaW50ZXJhY3RhYmxlLCBlbGVtZW50KVxuXG4gICAgaWYgKGlzLndpbmRvdyhjb250YWluZXIpKSB7XG4gICAgICBsZWZ0ID0gcG9pbnRlci5jbGllbnRYIDwgYXV0b1Njcm9sbC5tYXJnaW5cbiAgICAgIHRvcCA9IHBvaW50ZXIuY2xpZW50WSA8IGF1dG9TY3JvbGwubWFyZ2luXG4gICAgICByaWdodCA9IHBvaW50ZXIuY2xpZW50WCA+IGNvbnRhaW5lci5pbm5lcldpZHRoIC0gYXV0b1Njcm9sbC5tYXJnaW5cbiAgICAgIGJvdHRvbSA9IHBvaW50ZXIuY2xpZW50WSA+IGNvbnRhaW5lci5pbm5lckhlaWdodCAtIGF1dG9TY3JvbGwubWFyZ2luXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJlY3QgPSBkb21VdGlscy5nZXRFbGVtZW50Q2xpZW50UmVjdChjb250YWluZXIpXG5cbiAgICAgIGxlZnQgPSBwb2ludGVyLmNsaWVudFggPCByZWN0LmxlZnQgKyBhdXRvU2Nyb2xsLm1hcmdpblxuICAgICAgdG9wID0gcG9pbnRlci5jbGllbnRZIDwgcmVjdC50b3AgKyBhdXRvU2Nyb2xsLm1hcmdpblxuICAgICAgcmlnaHQgPSBwb2ludGVyLmNsaWVudFggPiByZWN0LnJpZ2h0IC0gYXV0b1Njcm9sbC5tYXJnaW5cbiAgICAgIGJvdHRvbSA9IHBvaW50ZXIuY2xpZW50WSA+IHJlY3QuYm90dG9tIC0gYXV0b1Njcm9sbC5tYXJnaW5cbiAgICB9XG5cbiAgICBhdXRvU2Nyb2xsLnggPSByaWdodCA/IDEgOiBsZWZ0ID8gLTEgOiAwXG4gICAgYXV0b1Njcm9sbC55ID0gYm90dG9tID8gMSA6IHRvcCA/IC0xIDogMFxuXG4gICAgaWYgKCFhdXRvU2Nyb2xsLmlzU2Nyb2xsaW5nKSB7XG4gICAgICAvLyBzZXQgdGhlIGF1dG9TY3JvbGwgcHJvcGVydGllcyB0byB0aG9zZSBvZiB0aGUgdGFyZ2V0XG4gICAgICBhdXRvU2Nyb2xsLm1hcmdpbiA9IG9wdGlvbnMubWFyZ2luXG4gICAgICBhdXRvU2Nyb2xsLnNwZWVkID0gb3B0aW9ucy5zcGVlZFxuXG4gICAgICBhdXRvU2Nyb2xsLnN0YXJ0KGludGVyYWN0aW9uKVxuICAgIH1cbiAgfSxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRhaW5lcih2YWx1ZTogYW55LCBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSwgZWxlbWVudDogRWxlbWVudCkge1xuICByZXR1cm4gKFxuICAgIChpcy5zdHJpbmcodmFsdWUpID8gZ2V0U3RyaW5nT3B0aW9uUmVzdWx0KHZhbHVlLCBpbnRlcmFjdGFibGUsIGVsZW1lbnQpIDogdmFsdWUpIHx8IGdldFdpbmRvdyhlbGVtZW50KVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY3JvbGwoY29udGFpbmVyOiBhbnkpIHtcbiAgaWYgKGlzLndpbmRvdyhjb250YWluZXIpKSB7XG4gICAgY29udGFpbmVyID0gd2luZG93LmRvY3VtZW50LmJvZHlcbiAgfVxuXG4gIHJldHVybiB7IHg6IGNvbnRhaW5lci5zY3JvbGxMZWZ0LCB5OiBjb250YWluZXIuc2Nyb2xsVG9wIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbFNpemUoY29udGFpbmVyOiBhbnkpIHtcbiAgaWYgKGlzLndpbmRvdyhjb250YWluZXIpKSB7XG4gICAgY29udGFpbmVyID0gd2luZG93LmRvY3VtZW50LmJvZHlcbiAgfVxuXG4gIHJldHVybiB7IHg6IGNvbnRhaW5lci5zY3JvbGxXaWR0aCwgeTogY29udGFpbmVyLnNjcm9sbEhlaWdodCB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY3JvbGxTaXplRGVsdGE8VCBleHRlbmRzIEFjdGlvbk5hbWU+KFxuICB7XG4gICAgaW50ZXJhY3Rpb24sXG4gICAgZWxlbWVudCxcbiAgfToge1xuICAgIGludGVyYWN0aW9uOiBQYXJ0aWFsPEludGVyYWN0aW9uPFQ+PlxuICAgIGVsZW1lbnQ6IEVsZW1lbnRcbiAgfSxcbiAgZnVuYzogYW55LFxuKSB7XG4gIGNvbnN0IHNjcm9sbE9wdGlvbnMgPSBpbnRlcmFjdGlvbiAmJiBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUub3B0aW9uc1tpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lXS5hdXRvU2Nyb2xsXG5cbiAgaWYgKCFzY3JvbGxPcHRpb25zIHx8ICFzY3JvbGxPcHRpb25zLmVuYWJsZWQpIHtcbiAgICBmdW5jKClcbiAgICByZXR1cm4geyB4OiAwLCB5OiAwIH1cbiAgfVxuXG4gIGNvbnN0IHNjcm9sbENvbnRhaW5lciA9IGdldENvbnRhaW5lcihzY3JvbGxPcHRpb25zLmNvbnRhaW5lciwgaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLCBlbGVtZW50KVxuXG4gIGNvbnN0IHByZXZTaXplID0gZ2V0U2Nyb2xsKHNjcm9sbENvbnRhaW5lcilcbiAgZnVuYygpXG4gIGNvbnN0IGN1clNpemUgPSBnZXRTY3JvbGwoc2Nyb2xsQ29udGFpbmVyKVxuXG4gIHJldHVybiB7XG4gICAgeDogY3VyU2l6ZS54IC0gcHJldlNpemUueCxcbiAgICB5OiBjdXJTaXplLnkgLSBwcmV2U2l6ZS55LFxuICB9XG59XG5cbmNvbnN0IGF1dG9TY3JvbGxQbHVnaW46IFBsdWdpbiA9IHtcbiAgaWQ6ICdhdXRvLXNjcm9sbCcsXG4gIGluc3RhbGwsXG4gIGxpc3RlbmVyczoge1xuICAgICdpbnRlcmFjdGlvbnM6bmV3JzogKHsgaW50ZXJhY3Rpb24gfSkgPT4ge1xuICAgICAgaW50ZXJhY3Rpb24uYXV0b1Njcm9sbCA9IG51bGxcbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczpkZXN0cm95JzogKHsgaW50ZXJhY3Rpb24gfSkgPT4ge1xuICAgICAgaW50ZXJhY3Rpb24uYXV0b1Njcm9sbCA9IG51bGxcbiAgICAgIGF1dG9TY3JvbGwuc3RvcCgpXG4gICAgICBpZiAoYXV0b1Njcm9sbC5pbnRlcmFjdGlvbikge1xuICAgICAgICBhdXRvU2Nyb2xsLmludGVyYWN0aW9uID0gbnVsbFxuICAgICAgfVxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOnN0b3AnOiBhdXRvU2Nyb2xsLnN0b3AsXG5cbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1tb3ZlJzogKGFyZzogYW55KSA9PiBhdXRvU2Nyb2xsLm9uSW50ZXJhY3Rpb25Nb3ZlKGFyZyksXG4gIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IGF1dG9TY3JvbGxQbHVnaW5cbiIsICJpbXBvcnQgdHlwZSB7IEFjdGlvbk5hbWUsIEFjdGlvblByb3BzIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuaW1wb3J0IHsgd2luZG93IH0gZnJvbSAnLi93aW5kb3cnXG5cbmV4cG9ydCBmdW5jdGlvbiB3YXJuT25jZTxUPih0aGlzOiBULCBtZXRob2Q6ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55LCBtZXNzYWdlOiBzdHJpbmcpIHtcbiAgbGV0IHdhcm5lZCA9IGZhbHNlXG5cbiAgcmV0dXJuIGZ1bmN0aW9uICh0aGlzOiBUKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIDsod2luZG93IGFzIGFueSkuY29uc29sZS53YXJuKG1lc3NhZ2UpXG4gICAgICB3YXJuZWQgPSB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHlBY3Rpb248VCBleHRlbmRzIEFjdGlvbk5hbWU+KGRlc3Q6IEFjdGlvblByb3BzPGFueT4sIHNyYzogQWN0aW9uUHJvcHM8VD4pIHtcbiAgZGVzdC5uYW1lID0gc3JjLm5hbWVcbiAgZGVzdC5heGlzID0gc3JjLmF4aXNcbiAgZGVzdC5lZGdlcyA9IHNyYy5lZGdlc1xuXG4gIHJldHVybiBkZXN0XG59XG5cbmV4cG9ydCBjb25zdCBzaWduID0gKG46IG51bWJlcikgPT4gKG4gPj0gMCA/IDEgOiAtMSlcbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGlvbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFNjb3BlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgQWN0aW9uUHJvcHMsIFBvaW50ZXJUeXBlLCBQb2ludGVyRXZlbnRUeXBlLCBFbGVtZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcbmltcG9ydCB7IHdhcm5PbmNlIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvbWlzYydcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGFibGUge1xuICAgIGdldEFjdGlvbjogKFxuICAgICAgdGhpczogSW50ZXJhY3RhYmxlLFxuICAgICAgcG9pbnRlcjogUG9pbnRlclR5cGUsXG4gICAgICBldmVudDogUG9pbnRlckV2ZW50VHlwZSxcbiAgICAgIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbixcbiAgICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgKSA9PiBBY3Rpb25Qcm9wcyB8IG51bGxcbiAgICBzdHlsZUN1cnNvcihuZXdWYWx1ZTogYm9vbGVhbik6IHRoaXNcbiAgICBzdHlsZUN1cnNvcigpOiBib29sZWFuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvciBzZXRzIHdoZXRoZXIgdGhlIHRoZSBjdXJzb3Igc2hvdWxkIGJlIGNoYW5nZWQgZGVwZW5kaW5nIG9uIHRoZVxuICAgICAqIGFjdGlvbiB0aGF0IHdvdWxkIGJlIHBlcmZvcm1lZCBpZiB0aGUgbW91c2Ugd2VyZSBwcmVzc2VkIGFuZCBkcmFnZ2VkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbbmV3VmFsdWVdXG4gICAgICogQHJldHVybiB7Ym9vbGVhbiB8IEludGVyYWN0YWJsZX0gVGhlIGN1cnJlbnQgc2V0dGluZyBvciB0aGlzIEludGVyYWN0YWJsZVxuICAgICAqL1xuICAgIHN0eWxlQ3Vyc29yKG5ld1ZhbHVlPzogYm9vbGVhbik6IGJvb2xlYW4gfCB0aGlzXG4gICAgYWN0aW9uQ2hlY2tlcihjaGVja2VyOiBGdW5jdGlvbik6IEludGVyYWN0YWJsZVxuICAgIGFjdGlvbkNoZWNrZXIoKTogRnVuY3Rpb25cbiAgICAvKipcbiAgICAgKiBgYGBqc1xuICAgICAqIGludGVyYWN0KCcucmVzaXplLWRyYWcnKVxuICAgICAqICAgLnJlc2l6YWJsZSh0cnVlKVxuICAgICAqICAgLmRyYWdnYWJsZSh0cnVlKVxuICAgICAqICAgLmFjdGlvbkNoZWNrZXIoZnVuY3Rpb24gKHBvaW50ZXIsIGV2ZW50LCBhY3Rpb24sIGludGVyYWN0YWJsZSwgZWxlbWVudCwgaW50ZXJhY3Rpb24pIHtcbiAgICAgKlxuICAgICAqICAgICBpZiAoaW50ZXJhY3QubWF0Y2hlc1NlbGVjdG9yKGV2ZW50LnRhcmdldCwgJy5kcmFnLWhhbmRsZScpKSB7XG4gICAgICogICAgICAgLy8gZm9yY2UgZHJhZyB3aXRoIGhhbmRsZSB0YXJnZXRcbiAgICAgKiAgICAgICBhY3Rpb24ubmFtZSA9IGRyYWdcbiAgICAgKiAgICAgfVxuICAgICAqICAgICBlbHNlIHtcbiAgICAgKiAgICAgICAvLyByZXNpemUgZnJvbSB0aGUgdG9wIGFuZCByaWdodCBlZGdlc1xuICAgICAqICAgICAgIGFjdGlvbi5uYW1lICA9ICdyZXNpemUnXG4gICAgICogICAgICAgYWN0aW9uLmVkZ2VzID0geyB0b3A6IHRydWUsIHJpZ2h0OiB0cnVlIH1cbiAgICAgKiAgICAgfVxuICAgICAqXG4gICAgICogICAgIHJldHVybiBhY3Rpb25cbiAgICAgKiB9KVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogUmV0dXJucyBvciBzZXRzIHRoZSBmdW5jdGlvbiB1c2VkIHRvIGNoZWNrIGFjdGlvbiB0byBiZSBwZXJmb3JtZWQgb25cbiAgICAgKiBwb2ludGVyRG93blxuICAgICAqXG4gICAgICogQHBhcmFtIGNoZWNrZXIgLSBBIGZ1bmN0aW9uIHdoaWNoIHRha2VzIGEgcG9pbnRlciBldmVudCxcbiAgICAgKiBkZWZhdWx0QWN0aW9uIHN0cmluZywgaW50ZXJhY3RhYmxlLCBlbGVtZW50IGFuZCBpbnRlcmFjdGlvbiBhcyBwYXJhbWV0ZXJzXG4gICAgICogYW5kIHJldHVybnMgYW4gb2JqZWN0IHdpdGggbmFtZSBwcm9wZXJ0eSAnZHJhZycgJ3Jlc2l6ZScgb3IgJ2dlc3R1cmUnIGFuZFxuICAgICAqIG9wdGlvbmFsbHkgYW4gYGVkZ2VzYCBvYmplY3Qgd2l0aCBib29sZWFuICd0b3AnLCAnbGVmdCcsICdib3R0b20nIGFuZCByaWdodFxuICAgICAqIHByb3BzLlxuICAgICAqIEByZXR1cm5zIFRoZSBjaGVja2VyIGZ1bmN0aW9uIG9yIHRoaXMgSW50ZXJhY3RhYmxlXG4gICAgICovXG4gICAgYWN0aW9uQ2hlY2tlcihjaGVja2VyPzogRnVuY3Rpb24pOiBJbnRlcmFjdGFibGUgfCBGdW5jdGlvblxuICAgIC8qKiBAcmV0dXJucyBUaGlzIGludGVyYWN0YWJsZSAqL1xuICAgIGlnbm9yZUZyb20obmV3VmFsdWU6IHN0cmluZyB8IEVsZW1lbnQgfCBudWxsKTogSW50ZXJhY3RhYmxlXG4gICAgLyoqIEByZXR1cm5zIFRoZSBjdXJyZW50IGlnbm9yZUZyb20gdmFsdWUgKi9cbiAgICBpZ25vcmVGcm9tKCk6IHN0cmluZyB8IEVsZW1lbnQgfCBudWxsXG4gICAgLyoqXG4gICAgICogSWYgdGhlIHRhcmdldCBvZiB0aGUgYG1vdXNlZG93bmAsIGBwb2ludGVyZG93bmAgb3IgYHRvdWNoc3RhcnRgIGV2ZW50IG9yIGFueVxuICAgICAqIG9mIGl0J3MgcGFyZW50cyBtYXRjaCB0aGUgZ2l2ZW4gQ1NTIHNlbGVjdG9yIG9yIEVsZW1lbnQsIG5vXG4gICAgICogZHJhZy9yZXNpemUvZ2VzdHVyZSBpcyBzdGFydGVkLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBEb24ndCB1c2UgdGhpcyBtZXRob2QuIEluc3RlYWQgc2V0IHRoZSBgaWdub3JlRnJvbWAgb3B0aW9uIGZvciBlYWNoIGFjdGlvblxuICAgICAqIG9yIGZvciBgcG9pbnRlckV2ZW50c2BcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogaW50ZXJhY3QodGFyZ2V0dClcbiAgICAgKiAgIC5kcmFnZ2FibGUoe1xuICAgICAqICAgICBpZ25vcmVGcm9tOiAnaW5wdXQsIHRleHRhcmVhLCBhW2hyZWZdJycsXG4gICAgICogICB9KVxuICAgICAqICAgLnBvaW50ZXJFdmVudHMoe1xuICAgICAqICAgICBpZ25vcmVGcm9tOiAnW25vLXBvaW50ZXJdJyxcbiAgICAgKiAgIH0pXG4gICAgICogYGBgXG4gICAgICogSW50ZXJhY3RhYmxlXG4gICAgICovXG4gICAgaWdub3JlRnJvbShcbiAgICAgIC8qKiBhIENTUyBzZWxlY3RvciBzdHJpbmcsIGFuIEVsZW1lbnQgb3IgYG51bGxgIHRvIG5vdCBpZ25vcmUgYW55IGVsZW1lbnRzICovXG4gICAgICBuZXdWYWx1ZT86IHN0cmluZyB8IEVsZW1lbnQgfCBudWxsLFxuICAgICk6IEludGVyYWN0YWJsZSB8IHN0cmluZyB8IEVsZW1lbnQgfCBudWxsXG4gICAgYWxsb3dGcm9tKCk6IGJvb2xlYW5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEEgZHJhZy9yZXNpemUvZ2VzdHVyZSBpcyBzdGFydGVkIG9ubHkgSWYgdGhlIHRhcmdldCBvZiB0aGUgYG1vdXNlZG93bmAsXG4gICAgICogYHBvaW50ZXJkb3duYCBvciBgdG91Y2hzdGFydGAgZXZlbnQgb3IgYW55IG9mIGl0J3MgcGFyZW50cyBtYXRjaCB0aGUgZ2l2ZW5cbiAgICAgKiBDU1Mgc2VsZWN0b3Igb3IgRWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogRG9uJ3QgdXNlIHRoaXMgbWV0aG9kLiBJbnN0ZWFkIHNldCB0aGUgYGFsbG93RnJvbWAgb3B0aW9uIGZvciBlYWNoIGFjdGlvblxuICAgICAqIG9yIGZvciBgcG9pbnRlckV2ZW50c2BcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogaW50ZXJhY3QodGFyZ2V0dClcbiAgICAgKiAgIC5yZXNpemFibGUoe1xuICAgICAqICAgICBhbGxvd0Zyb206ICcucmVzaXplLWhhbmRsZScsXG4gICAgICogICAucG9pbnRlckV2ZW50cyh7XG4gICAgICogICAgIGFsbG93RnJvbTogJy5oYW5kbGUnLCxcbiAgICAgKiAgIH0pXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IEVsZW1lbnQgfCBudWxsfSBbbmV3VmFsdWVdXG4gICAgICogQHJldHVybiB7c3RyaW5nIHwgRWxlbWVudCB8IG9iamVjdH0gVGhlIGN1cnJlbnQgYWxsb3dGcm9tIHZhbHVlIG9yIHRoaXNcbiAgICAgKiBJbnRlcmFjdGFibGVcbiAgICAgKi9cbiAgICBhbGxvd0Zyb20oXG4gICAgICAvKiogQSBDU1Mgc2VsZWN0b3Igc3RyaW5nLCBhbiBFbGVtZW50IG9yIGBudWxsYCB0byBhbGxvdyBmcm9tIGFueSBlbGVtZW50ICovXG4gICAgICBuZXdWYWx1ZTogc3RyaW5nIHwgRWxlbWVudCB8IG51bGwsXG4gICAgKTogSW50ZXJhY3RhYmxlXG4gIH1cbn1cblxuZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgY29uc3Qge1xuICAgIEludGVyYWN0YWJsZSwgLy8gdHNsaW50OmRpc2FibGUtbGluZSBuby1zaGFkb3dlZC12YXJpYWJsZVxuICB9ID0gc2NvcGVcblxuICBJbnRlcmFjdGFibGUucHJvdG90eXBlLmdldEFjdGlvbiA9IGZ1bmN0aW9uIGdldEFjdGlvbihcbiAgICB0aGlzOiBJbnRlcmFjdGFibGUsXG4gICAgcG9pbnRlcjogUG9pbnRlclR5cGUsXG4gICAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsXG4gICAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uLFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICk6IEFjdGlvblByb3BzIHtcbiAgICBjb25zdCBhY3Rpb24gPSBkZWZhdWx0QWN0aW9uQ2hlY2tlcih0aGlzLCBldmVudCwgaW50ZXJhY3Rpb24sIGVsZW1lbnQsIHNjb3BlKVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hY3Rpb25DaGVja2VyKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmFjdGlvbkNoZWNrZXIocG9pbnRlciwgZXZlbnQsIGFjdGlvbiwgdGhpcywgZWxlbWVudCwgaW50ZXJhY3Rpb24pXG4gICAgfVxuXG4gICAgcmV0dXJuIGFjdGlvblxuICB9XG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5pZ25vcmVGcm9tID0gd2Fybk9uY2UoZnVuY3Rpb24gKHRoaXM6IEludGVyYWN0YWJsZSwgbmV3VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5fYmFja0NvbXBhdE9wdGlvbignaWdub3JlRnJvbScsIG5ld1ZhbHVlKVxuICB9LCAnSW50ZXJhY3RhYmxlLmlnbm9yZUZyb20oKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgSW50ZXJhY3RibGUuZHJhZ2dhYmxlKHtpZ25vcmVGcm9tOiBuZXdWYWx1ZX0pLicpXG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5hbGxvd0Zyb20gPSB3YXJuT25jZShmdW5jdGlvbiAodGhpczogSW50ZXJhY3RhYmxlLCBuZXdWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9iYWNrQ29tcGF0T3B0aW9uKCdhbGxvd0Zyb20nLCBuZXdWYWx1ZSlcbiAgfSwgJ0ludGVyYWN0YWJsZS5hbGxvd0Zyb20oKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgSW50ZXJhY3RibGUuZHJhZ2dhYmxlKHthbGxvd0Zyb206IG5ld1ZhbHVlfSkuJylcblxuICBJbnRlcmFjdGFibGUucHJvdG90eXBlLmFjdGlvbkNoZWNrZXIgPSBhY3Rpb25DaGVja2VyXG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5zdHlsZUN1cnNvciA9IHN0eWxlQ3Vyc29yXG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRBY3Rpb25DaGVja2VyKFxuICBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSxcbiAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsXG4gIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbixcbiAgZWxlbWVudDogRWxlbWVudCxcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGNvbnN0IHJlY3QgPSBpbnRlcmFjdGFibGUuZ2V0UmVjdChlbGVtZW50KVxuICBjb25zdCBidXR0b25zID1cbiAgICAoZXZlbnQgYXMgTW91c2VFdmVudCkuYnV0dG9ucyB8fFxuICAgIHtcbiAgICAgIDA6IDEsXG4gICAgICAxOiA0LFxuICAgICAgMzogOCxcbiAgICAgIDQ6IDE2LFxuICAgIH1bKGV2ZW50IGFzIE1vdXNlRXZlbnQpLmJ1dHRvbiBhcyAwIHwgMSB8IDMgfCA0XVxuICBjb25zdCBhcmcgPSB7XG4gICAgYWN0aW9uOiBudWxsLFxuICAgIGludGVyYWN0YWJsZSxcbiAgICBpbnRlcmFjdGlvbixcbiAgICBlbGVtZW50LFxuICAgIHJlY3QsXG4gICAgYnV0dG9ucyxcbiAgfVxuXG4gIHNjb3BlLmZpcmUoJ2F1dG8tc3RhcnQ6Y2hlY2snLCBhcmcpXG5cbiAgcmV0dXJuIGFyZy5hY3Rpb25cbn1cblxuZnVuY3Rpb24gc3R5bGVDdXJzb3IodGhpczogSW50ZXJhY3RhYmxlLCBuZXdWYWx1ZT86IGJvb2xlYW4pIHtcbiAgaWYgKGlzLmJvb2wobmV3VmFsdWUpKSB7XG4gICAgdGhpcy5vcHRpb25zLnN0eWxlQ3Vyc29yID0gbmV3VmFsdWVcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBpZiAobmV3VmFsdWUgPT09IG51bGwpIHtcbiAgICBkZWxldGUgdGhpcy5vcHRpb25zLnN0eWxlQ3Vyc29yXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcmV0dXJuIHRoaXMub3B0aW9ucy5zdHlsZUN1cnNvclxufVxuXG5mdW5jdGlvbiBhY3Rpb25DaGVja2VyKHRoaXM6IEludGVyYWN0YWJsZSwgY2hlY2tlcj86IGFueSkge1xuICBpZiAoaXMuZnVuYyhjaGVja2VyKSkge1xuICAgIHRoaXMub3B0aW9ucy5hY3Rpb25DaGVja2VyID0gY2hlY2tlclxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGlmIChjaGVja2VyID09PSBudWxsKSB7XG4gICAgZGVsZXRlIHRoaXMub3B0aW9ucy5hY3Rpb25DaGVja2VyXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcmV0dXJuIHRoaXMub3B0aW9ucy5hY3Rpb25DaGVja2VyXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaWQ6ICdhdXRvLXN0YXJ0L2ludGVyYWN0YWJsZU1ldGhvZHMnLFxuICBpbnN0YWxsLFxufVxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0aW9uIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgU2NvcGUsIFNpZ25hbEFyZ3MsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7XG4gIEN1cnNvckNoZWNrZXIsXG4gIFBvaW50ZXJUeXBlLFxuICBQb2ludGVyRXZlbnRUeXBlLFxuICBFbGVtZW50LFxuICBBY3Rpb25OYW1lLFxuICBBY3Rpb25Qcm9wcyxcbn0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCAqIGFzIGRvbVV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5pbXBvcnQgeyBjb3B5QWN0aW9uIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvbWlzYydcblxuLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgLS0gZm9yIHR5cGVzY3JpcHQgbW9kdWxlIGF1Z21lbnRhdGlvbnMgKi9cbmltcG9ydCAnLi9JbnRlcmFjdGFibGVNZXRob2RzJ1xuaW1wb3J0IEludGVyYWN0YWJsZU1ldGhvZHMgZnJvbSAnLi9JbnRlcmFjdGFibGVNZXRob2RzJ1xuLyogZXNsaW50LWVuYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAqL1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdFN0YXRpYycge1xuICBleHBvcnQgaW50ZXJmYWNlIEludGVyYWN0U3RhdGljIHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9yIHNldHMgdGhlIG1heGltdW0gbnVtYmVyIG9mIGNvbmN1cnJlbnQgaW50ZXJhY3Rpb25zIGFsbG93ZWQuICBCeVxuICAgICAqIGRlZmF1bHQgb25seSAxIGludGVyYWN0aW9uIGlzIGFsbG93ZWQgYXQgYSB0aW1lIChmb3IgYmFja3dhcmRzXG4gICAgICogY29tcGF0aWJpbGl0eSkuIFRvIGFsbG93IG11bHRpcGxlIGludGVyYWN0aW9ucyBvbiB0aGUgc2FtZSBJbnRlcmFjdGFibGVzIGFuZFxuICAgICAqIGVsZW1lbnRzLCB5b3UgbmVlZCB0byBlbmFibGUgaXQgaW4gdGhlIGRyYWdnYWJsZSwgcmVzaXphYmxlIGFuZCBnZXN0dXJhYmxlXG4gICAgICogYCdtYXgnYCBhbmQgYCdtYXhQZXJFbGVtZW50J2Agb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbmV3VmFsdWVdIEFueSBudW1iZXIuIG5ld1ZhbHVlIDw9IDAgbWVhbnMgbm8gaW50ZXJhY3Rpb25zLlxuICAgICAqL1xuICAgIG1heEludGVyYWN0aW9uczogKG5ld1ZhbHVlOiBhbnkpID0+IGFueVxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJyB7XG4gIGludGVyZmFjZSBTY29wZSB7XG4gICAgYXV0b1N0YXJ0OiBBdXRvU3RhcnRcbiAgfVxuXG4gIGludGVyZmFjZSBTaWduYWxBcmdzIHtcbiAgICAnYXV0b1N0YXJ0OmJlZm9yZS1zdGFydCc6IE9taXQ8U2lnbmFsQXJnc1snaW50ZXJhY3Rpb25zOm1vdmUnXSwgJ2ludGVyYWN0aW9uJz4gJiB7XG4gICAgICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248QWN0aW9uTmFtZT5cbiAgICB9XG4gICAgJ2F1dG9TdGFydDpwcmVwYXJlZCc6IHsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uIH1cbiAgICAnYXV0by1zdGFydDpjaGVjayc6IENoZWNrU2lnbmFsQXJnXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucycge1xuICBpbnRlcmZhY2UgQmFzZURlZmF1bHRzIHtcbiAgICBhY3Rpb25DaGVja2VyPzogYW55XG4gICAgY3Vyc29yQ2hlY2tlcj86IGFueVxuICAgIHN0eWxlQ3Vyc29yPzogYW55XG4gIH1cblxuICBpbnRlcmZhY2UgUGVyQWN0aW9uRGVmYXVsdHMge1xuICAgIG1hbnVhbFN0YXJ0PzogYm9vbGVhblxuICAgIG1heD86IG51bWJlclxuICAgIG1heFBlckVsZW1lbnQ/OiBudW1iZXJcbiAgICBhbGxvd0Zyb20/OiBzdHJpbmcgfCBFbGVtZW50XG4gICAgaWdub3JlRnJvbT86IHN0cmluZyB8IEVsZW1lbnRcbiAgICBjdXJzb3JDaGVja2VyPzogQ3Vyc29yQ2hlY2tlclxuXG4gICAgLy8gb25seSBhbGxvdyBsZWZ0IGJ1dHRvbiBieSBkZWZhdWx0XG4gICAgLy8gc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50L2J1dHRvbnMjUmV0dXJuX3ZhbHVlXG4gICAgLy8gVE9ETzogZG9jc3RcbiAgICBtb3VzZUJ1dHRvbnM/OiAwIHwgMSB8IDIgfCA0IHwgOCB8IDE2XG4gIH1cbn1cblxuaW50ZXJmYWNlIENoZWNrU2lnbmFsQXJnIHtcbiAgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGVcbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uXG4gIGVsZW1lbnQ6IEVsZW1lbnRcbiAgYWN0aW9uOiBBY3Rpb25Qcm9wczxBY3Rpb25OYW1lPlxuICBidXR0b25zOiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdXRvU3RhcnQge1xuICAvLyBBbGxvdyB0aGlzIG1hbnkgaW50ZXJhY3Rpb25zIHRvIGhhcHBlbiBzaW11bHRhbmVvdXNseVxuICBtYXhJbnRlcmFjdGlvbnM6IG51bWJlclxuICB3aXRoaW5JbnRlcmFjdGlvbkxpbWl0OiB0eXBlb2Ygd2l0aGluSW50ZXJhY3Rpb25MaW1pdFxuICBjdXJzb3JFbGVtZW50OiBFbGVtZW50XG59XG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgaW50ZXJhY3RTdGF0aWM6IGludGVyYWN0LCBkZWZhdWx0cyB9ID0gc2NvcGVcblxuICBzY29wZS51c2VQbHVnaW4oSW50ZXJhY3RhYmxlTWV0aG9kcylcblxuICBkZWZhdWx0cy5iYXNlLmFjdGlvbkNoZWNrZXIgPSBudWxsXG4gIGRlZmF1bHRzLmJhc2Uuc3R5bGVDdXJzb3IgPSB0cnVlXG5cbiAgZXh0ZW5kKGRlZmF1bHRzLnBlckFjdGlvbiwge1xuICAgIG1hbnVhbFN0YXJ0OiBmYWxzZSxcbiAgICBtYXg6IEluZmluaXR5LFxuICAgIG1heFBlckVsZW1lbnQ6IDEsXG4gICAgYWxsb3dGcm9tOiBudWxsLFxuICAgIGlnbm9yZUZyb206IG51bGwsXG5cbiAgICAvLyBvbmx5IGFsbG93IGxlZnQgYnV0dG9uIGJ5IGRlZmF1bHRcbiAgICAvLyBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnQvYnV0dG9ucyNSZXR1cm5fdmFsdWVcbiAgICBtb3VzZUJ1dHRvbnM6IDEsXG4gIH0pXG5cbiAgaW50ZXJhY3QubWF4SW50ZXJhY3Rpb25zID0gKG5ld1ZhbHVlOiBudW1iZXIpID0+IG1heEludGVyYWN0aW9ucyhuZXdWYWx1ZSwgc2NvcGUpXG5cbiAgc2NvcGUuYXV0b1N0YXJ0ID0ge1xuICAgIC8vIEFsbG93IHRoaXMgbWFueSBpbnRlcmFjdGlvbnMgdG8gaGFwcGVuIHNpbXVsdGFuZW91c2x5XG4gICAgbWF4SW50ZXJhY3Rpb25zOiBJbmZpbml0eSxcbiAgICB3aXRoaW5JbnRlcmFjdGlvbkxpbWl0LFxuICAgIGN1cnNvckVsZW1lbnQ6IG51bGwsXG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlcGFyZU9uRG93bihcbiAgeyBpbnRlcmFjdGlvbiwgcG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0IH06IFNpZ25hbEFyZ3NbJ2ludGVyYWN0aW9uczpkb3duJ10sXG4gIHNjb3BlOiBTY29wZSxcbikge1xuICBpZiAoaW50ZXJhY3Rpb24uaW50ZXJhY3RpbmcoKSkgcmV0dXJuXG5cbiAgY29uc3QgYWN0aW9uSW5mbyA9IGdldEFjdGlvbkluZm8oaW50ZXJhY3Rpb24sIHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCwgc2NvcGUpXG4gIHByZXBhcmUoaW50ZXJhY3Rpb24sIGFjdGlvbkluZm8sIHNjb3BlKVxufVxuXG5mdW5jdGlvbiBwcmVwYXJlT25Nb3ZlKFxuICB7IGludGVyYWN0aW9uLCBwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQgfTogU2lnbmFsQXJnc1snaW50ZXJhY3Rpb25zOm1vdmUnXSxcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGlmIChpbnRlcmFjdGlvbi5wb2ludGVyVHlwZSAhPT0gJ21vdXNlJyB8fCBpbnRlcmFjdGlvbi5wb2ludGVySXNEb3duIHx8IGludGVyYWN0aW9uLmludGVyYWN0aW5nKCkpIHJldHVyblxuXG4gIGNvbnN0IGFjdGlvbkluZm8gPSBnZXRBY3Rpb25JbmZvKGludGVyYWN0aW9uLCBwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQgYXMgRWxlbWVudCwgc2NvcGUpXG4gIHByZXBhcmUoaW50ZXJhY3Rpb24sIGFjdGlvbkluZm8sIHNjb3BlKVxufVxuXG5mdW5jdGlvbiBzdGFydE9uTW92ZShhcmc6IFNpZ25hbEFyZ3NbJ2ludGVyYWN0aW9uczptb3ZlJ10sIHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IGludGVyYWN0aW9uIH0gPSBhcmdcblxuICBpZiAoXG4gICAgIWludGVyYWN0aW9uLnBvaW50ZXJJc0Rvd24gfHxcbiAgICBpbnRlcmFjdGlvbi5pbnRlcmFjdGluZygpIHx8XG4gICAgIWludGVyYWN0aW9uLnBvaW50ZXJXYXNNb3ZlZCB8fFxuICAgICFpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lXG4gICkge1xuICAgIHJldHVyblxuICB9XG5cbiAgc2NvcGUuZmlyZSgnYXV0b1N0YXJ0OmJlZm9yZS1zdGFydCcsIGFyZylcblxuICBjb25zdCB7IGludGVyYWN0YWJsZSB9ID0gaW50ZXJhY3Rpb25cbiAgY29uc3QgYWN0aW9uTmFtZSA9IChpbnRlcmFjdGlvbiBhcyBJbnRlcmFjdGlvbjxBY3Rpb25OYW1lPikucHJlcGFyZWQubmFtZVxuXG4gIGlmIChhY3Rpb25OYW1lICYmIGludGVyYWN0YWJsZSkge1xuICAgIC8vIGNoZWNrIG1hbnVhbFN0YXJ0IGFuZCBpbnRlcmFjdGlvbiBsaW1pdFxuICAgIGlmIChcbiAgICAgIGludGVyYWN0YWJsZS5vcHRpb25zW2FjdGlvbk5hbWVdLm1hbnVhbFN0YXJ0IHx8XG4gICAgICAhd2l0aGluSW50ZXJhY3Rpb25MaW1pdChpbnRlcmFjdGFibGUsIGludGVyYWN0aW9uLmVsZW1lbnQsIGludGVyYWN0aW9uLnByZXBhcmVkLCBzY29wZSlcbiAgICApIHtcbiAgICAgIGludGVyYWN0aW9uLnN0b3AoKVxuICAgIH0gZWxzZSB7XG4gICAgICBpbnRlcmFjdGlvbi5zdGFydChpbnRlcmFjdGlvbi5wcmVwYXJlZCwgaW50ZXJhY3RhYmxlLCBpbnRlcmFjdGlvbi5lbGVtZW50KVxuICAgICAgc2V0SW50ZXJhY3Rpb25DdXJzb3IoaW50ZXJhY3Rpb24sIHNjb3BlKVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjbGVhckN1cnNvck9uU3RvcCh7IGludGVyYWN0aW9uIH06IHsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uIH0sIHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IGludGVyYWN0YWJsZSB9ID0gaW50ZXJhY3Rpb25cblxuICBpZiAoaW50ZXJhY3RhYmxlICYmIGludGVyYWN0YWJsZS5vcHRpb25zLnN0eWxlQ3Vyc29yKSB7XG4gICAgc2V0Q3Vyc29yKGludGVyYWN0aW9uLmVsZW1lbnQsICcnLCBzY29wZSlcbiAgfVxufVxuXG4vLyBDaGVjayBpZiB0aGUgY3VycmVudCBpbnRlcmFjdGFibGUgc3VwcG9ydHMgdGhlIGFjdGlvbi5cbi8vIElmIHNvLCByZXR1cm4gdGhlIHZhbGlkYXRlZCBhY3Rpb24uIE90aGVyd2lzZSwgcmV0dXJuIG51bGxcbmZ1bmN0aW9uIHZhbGlkYXRlQWN0aW9uPFQgZXh0ZW5kcyBBY3Rpb25OYW1lPihcbiAgYWN0aW9uOiBBY3Rpb25Qcm9wczxUPixcbiAgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUsXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXG4gIGV2ZW50VGFyZ2V0OiBOb2RlLFxuICBzY29wZTogU2NvcGUsXG4pIHtcbiAgaWYgKFxuICAgIGludGVyYWN0YWJsZS50ZXN0SWdub3JlQWxsb3coaW50ZXJhY3RhYmxlLm9wdGlvbnNbYWN0aW9uLm5hbWVdLCBlbGVtZW50LCBldmVudFRhcmdldCkgJiZcbiAgICBpbnRlcmFjdGFibGUub3B0aW9uc1thY3Rpb24ubmFtZV0uZW5hYmxlZCAmJlxuICAgIHdpdGhpbkludGVyYWN0aW9uTGltaXQoaW50ZXJhY3RhYmxlLCBlbGVtZW50LCBhY3Rpb24sIHNjb3BlKVxuICApIHtcbiAgICByZXR1cm4gYWN0aW9uXG4gIH1cblxuICByZXR1cm4gbnVsbFxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZU1hdGNoZXMoXG4gIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbixcbiAgcG9pbnRlcjogUG9pbnRlclR5cGUsXG4gIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLFxuICBtYXRjaGVzOiBJbnRlcmFjdGFibGVbXSxcbiAgbWF0Y2hFbGVtZW50czogRWxlbWVudFtdLFxuICBldmVudFRhcmdldDogTm9kZSxcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSBtYXRjaGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBtYXRjaGVzW2ldXG4gICAgY29uc3QgbWF0Y2hFbGVtZW50ID0gbWF0Y2hFbGVtZW50c1tpXVxuICAgIGNvbnN0IG1hdGNoQWN0aW9uID0gbWF0Y2guZ2V0QWN0aW9uKHBvaW50ZXIsIGV2ZW50LCBpbnRlcmFjdGlvbiwgbWF0Y2hFbGVtZW50KVxuXG4gICAgaWYgKCFtYXRjaEFjdGlvbikge1xuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBjb25zdCBhY3Rpb24gPSB2YWxpZGF0ZUFjdGlvbjxBY3Rpb25OYW1lPihtYXRjaEFjdGlvbiwgbWF0Y2gsIG1hdGNoRWxlbWVudCwgZXZlbnRUYXJnZXQsIHNjb3BlKVxuXG4gICAgaWYgKGFjdGlvbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYWN0aW9uLFxuICAgICAgICBpbnRlcmFjdGFibGU6IG1hdGNoLFxuICAgICAgICBlbGVtZW50OiBtYXRjaEVsZW1lbnQsXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHsgYWN0aW9uOiBudWxsLCBpbnRlcmFjdGFibGU6IG51bGwsIGVsZW1lbnQ6IG51bGwgfVxufVxuXG5mdW5jdGlvbiBnZXRBY3Rpb25JbmZvKFxuICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24sXG4gIHBvaW50ZXI6IFBvaW50ZXJUeXBlLFxuICBldmVudDogUG9pbnRlckV2ZW50VHlwZSxcbiAgZXZlbnRUYXJnZXQ6IE5vZGUsXG4gIHNjb3BlOiBTY29wZSxcbikge1xuICBsZXQgbWF0Y2hlczogSW50ZXJhY3RhYmxlW10gPSBbXVxuICBsZXQgbWF0Y2hFbGVtZW50czogRWxlbWVudFtdID0gW11cblxuICBsZXQgZWxlbWVudCA9IGV2ZW50VGFyZ2V0IGFzIEVsZW1lbnRcblxuICBmdW5jdGlvbiBwdXNoTWF0Y2hlcyhpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSkge1xuICAgIG1hdGNoZXMucHVzaChpbnRlcmFjdGFibGUpXG4gICAgbWF0Y2hFbGVtZW50cy5wdXNoKGVsZW1lbnQpXG4gIH1cblxuICB3aGlsZSAoaXMuZWxlbWVudChlbGVtZW50KSkge1xuICAgIG1hdGNoZXMgPSBbXVxuICAgIG1hdGNoRWxlbWVudHMgPSBbXVxuXG4gICAgc2NvcGUuaW50ZXJhY3RhYmxlcy5mb3JFYWNoTWF0Y2goZWxlbWVudCwgcHVzaE1hdGNoZXMpXG5cbiAgICBjb25zdCBhY3Rpb25JbmZvID0gdmFsaWRhdGVNYXRjaGVzKFxuICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICBwb2ludGVyLFxuICAgICAgZXZlbnQsXG4gICAgICBtYXRjaGVzLFxuICAgICAgbWF0Y2hFbGVtZW50cyxcbiAgICAgIGV2ZW50VGFyZ2V0LFxuICAgICAgc2NvcGUsXG4gICAgKVxuXG4gICAgaWYgKGFjdGlvbkluZm8uYWN0aW9uICYmICFhY3Rpb25JbmZvLmludGVyYWN0YWJsZS5vcHRpb25zW2FjdGlvbkluZm8uYWN0aW9uLm5hbWVdLm1hbnVhbFN0YXJ0KSB7XG4gICAgICByZXR1cm4gYWN0aW9uSW5mb1xuICAgIH1cblxuICAgIGVsZW1lbnQgPSBkb21VdGlscy5wYXJlbnROb2RlKGVsZW1lbnQpIGFzIEVsZW1lbnRcbiAgfVxuXG4gIHJldHVybiB7IGFjdGlvbjogbnVsbCwgaW50ZXJhY3RhYmxlOiBudWxsLCBlbGVtZW50OiBudWxsIH1cbn1cblxuZnVuY3Rpb24gcHJlcGFyZShcbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uLFxuICB7XG4gICAgYWN0aW9uLFxuICAgIGludGVyYWN0YWJsZSxcbiAgICBlbGVtZW50LFxuICB9OiB7XG4gICAgYWN0aW9uOiBBY3Rpb25Qcm9wczxhbnk+XG4gICAgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGVcbiAgICBlbGVtZW50OiBFbGVtZW50XG4gIH0sXG4gIHNjb3BlOiBTY29wZSxcbikge1xuICBhY3Rpb24gPSBhY3Rpb24gfHwgeyBuYW1lOiBudWxsIH1cblxuICBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUgPSBpbnRlcmFjdGFibGVcbiAgaW50ZXJhY3Rpb24uZWxlbWVudCA9IGVsZW1lbnRcbiAgY29weUFjdGlvbihpbnRlcmFjdGlvbi5wcmVwYXJlZCwgYWN0aW9uKVxuXG4gIGludGVyYWN0aW9uLnJlY3QgPSBpbnRlcmFjdGFibGUgJiYgYWN0aW9uLm5hbWUgPyBpbnRlcmFjdGFibGUuZ2V0UmVjdChlbGVtZW50KSA6IG51bGxcblxuICBzZXRJbnRlcmFjdGlvbkN1cnNvcihpbnRlcmFjdGlvbiwgc2NvcGUpXG5cbiAgc2NvcGUuZmlyZSgnYXV0b1N0YXJ0OnByZXBhcmVkJywgeyBpbnRlcmFjdGlvbiB9KVxufVxuXG5mdW5jdGlvbiB3aXRoaW5JbnRlcmFjdGlvbkxpbWl0PFQgZXh0ZW5kcyBBY3Rpb25OYW1lPihcbiAgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUsXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXG4gIGFjdGlvbjogQWN0aW9uUHJvcHM8VD4sXG4gIHNjb3BlOiBTY29wZSxcbikge1xuICBjb25zdCBvcHRpb25zID0gaW50ZXJhY3RhYmxlLm9wdGlvbnNcbiAgY29uc3QgbWF4QWN0aW9ucyA9IG9wdGlvbnNbYWN0aW9uLm5hbWVdLm1heFxuICBjb25zdCBtYXhQZXJFbGVtZW50ID0gb3B0aW9uc1thY3Rpb24ubmFtZV0ubWF4UGVyRWxlbWVudFxuICBjb25zdCBhdXRvU3RhcnRNYXggPSBzY29wZS5hdXRvU3RhcnQubWF4SW50ZXJhY3Rpb25zXG4gIGxldCBhY3RpdmVJbnRlcmFjdGlvbnMgPSAwXG4gIGxldCBpbnRlcmFjdGFibGVDb3VudCA9IDBcbiAgbGV0IGVsZW1lbnRDb3VudCA9IDBcblxuICAvLyBubyBhY3Rpb25zIGlmIGFueSBvZiB0aGVzZSB2YWx1ZXMgPT0gMFxuICBpZiAoIShtYXhBY3Rpb25zICYmIG1heFBlckVsZW1lbnQgJiYgYXV0b1N0YXJ0TWF4KSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZm9yIChjb25zdCBpbnRlcmFjdGlvbiBvZiBzY29wZS5pbnRlcmFjdGlvbnMubGlzdCkge1xuICAgIGNvbnN0IG90aGVyQWN0aW9uID0gaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZVxuXG4gICAgaWYgKCFpbnRlcmFjdGlvbi5pbnRlcmFjdGluZygpKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGFjdGl2ZUludGVyYWN0aW9ucysrXG5cbiAgICBpZiAoYWN0aXZlSW50ZXJhY3Rpb25zID49IGF1dG9TdGFydE1heCkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKGludGVyYWN0aW9uLmludGVyYWN0YWJsZSAhPT0gaW50ZXJhY3RhYmxlKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGludGVyYWN0YWJsZUNvdW50ICs9IG90aGVyQWN0aW9uID09PSBhY3Rpb24ubmFtZSA/IDEgOiAwXG5cbiAgICBpZiAoaW50ZXJhY3RhYmxlQ291bnQgPj0gbWF4QWN0aW9ucykge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKGludGVyYWN0aW9uLmVsZW1lbnQgPT09IGVsZW1lbnQpIHtcbiAgICAgIGVsZW1lbnRDb3VudCsrXG5cbiAgICAgIGlmIChvdGhlckFjdGlvbiA9PT0gYWN0aW9uLm5hbWUgJiYgZWxlbWVudENvdW50ID49IG1heFBlckVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGF1dG9TdGFydE1heCA+IDBcbn1cblxuZnVuY3Rpb24gbWF4SW50ZXJhY3Rpb25zKG5ld1ZhbHVlOiBhbnksIHNjb3BlOiBTY29wZSkge1xuICBpZiAoaXMubnVtYmVyKG5ld1ZhbHVlKSkge1xuICAgIHNjb3BlLmF1dG9TdGFydC5tYXhJbnRlcmFjdGlvbnMgPSBuZXdWYWx1ZVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHJldHVybiBzY29wZS5hdXRvU3RhcnQubWF4SW50ZXJhY3Rpb25zXG59XG5cbmZ1bmN0aW9uIHNldEN1cnNvcihlbGVtZW50OiBFbGVtZW50LCBjdXJzb3I6IHN0cmluZywgc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgY3Vyc29yRWxlbWVudDogcHJldkN1cnNvckVsZW1lbnQgfSA9IHNjb3BlLmF1dG9TdGFydFxuXG4gIGlmIChwcmV2Q3Vyc29yRWxlbWVudCAmJiBwcmV2Q3Vyc29yRWxlbWVudCAhPT0gZWxlbWVudCkge1xuICAgIHByZXZDdXJzb3JFbGVtZW50LnN0eWxlLmN1cnNvciA9ICcnXG4gIH1cblxuICBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmN1cnNvciA9IGN1cnNvclxuICBlbGVtZW50LnN0eWxlLmN1cnNvciA9IGN1cnNvclxuICBzY29wZS5hdXRvU3RhcnQuY3Vyc29yRWxlbWVudCA9IGN1cnNvciA/IGVsZW1lbnQgOiBudWxsXG59XG5cbmZ1bmN0aW9uIHNldEludGVyYWN0aW9uQ3Vyc29yPFQgZXh0ZW5kcyBBY3Rpb25OYW1lPihpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248VD4sIHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IGludGVyYWN0YWJsZSwgZWxlbWVudCwgcHJlcGFyZWQgfSA9IGludGVyYWN0aW9uXG5cbiAgaWYgKCEoaW50ZXJhY3Rpb24ucG9pbnRlclR5cGUgPT09ICdtb3VzZScgJiYgaW50ZXJhY3RhYmxlICYmIGludGVyYWN0YWJsZS5vcHRpb25zLnN0eWxlQ3Vyc29yKSkge1xuICAgIC8vIGNsZWFyIHByZXZpb3VzIHRhcmdldCBlbGVtZW50IGN1cnNvclxuICAgIGlmIChzY29wZS5hdXRvU3RhcnQuY3Vyc29yRWxlbWVudCkge1xuICAgICAgc2V0Q3Vyc29yKHNjb3BlLmF1dG9TdGFydC5jdXJzb3JFbGVtZW50LCAnJywgc2NvcGUpXG4gICAgfVxuXG4gICAgcmV0dXJuXG4gIH1cblxuICBsZXQgY3Vyc29yID0gJydcblxuICBpZiAocHJlcGFyZWQubmFtZSkge1xuICAgIGNvbnN0IGN1cnNvckNoZWNrZXIgPSBpbnRlcmFjdGFibGUub3B0aW9uc1twcmVwYXJlZC5uYW1lXS5jdXJzb3JDaGVja2VyXG5cbiAgICBpZiAoaXMuZnVuYyhjdXJzb3JDaGVja2VyKSkge1xuICAgICAgY3Vyc29yID0gY3Vyc29yQ2hlY2tlcihwcmVwYXJlZCwgaW50ZXJhY3RhYmxlLCBlbGVtZW50LCBpbnRlcmFjdGlvbi5faW50ZXJhY3RpbmcpXG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnNvciA9IHNjb3BlLmFjdGlvbnMubWFwW3ByZXBhcmVkLm5hbWVdLmdldEN1cnNvcihwcmVwYXJlZClcbiAgICB9XG4gIH1cblxuICBzZXRDdXJzb3IoaW50ZXJhY3Rpb24uZWxlbWVudCwgY3Vyc29yIHx8ICcnLCBzY29wZSlcbn1cblxuY29uc3QgYXV0b1N0YXJ0OiBQbHVnaW4gPSB7XG4gIGlkOiAnYXV0by1zdGFydC9iYXNlJyxcbiAgYmVmb3JlOiBbJ2FjdGlvbnMnXSxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2ludGVyYWN0aW9uczpkb3duJzogcHJlcGFyZU9uRG93bixcbiAgICAnaW50ZXJhY3Rpb25zOm1vdmUnOiAoYXJnLCBzY29wZSkgPT4ge1xuICAgICAgcHJlcGFyZU9uTW92ZShhcmcsIHNjb3BlKVxuICAgICAgc3RhcnRPbk1vdmUoYXJnLCBzY29wZSlcbiAgICB9LFxuICAgICdpbnRlcmFjdGlvbnM6c3RvcCc6IGNsZWFyQ3Vyc29yT25TdG9wLFxuICB9LFxuICBtYXhJbnRlcmFjdGlvbnMsXG4gIHdpdGhpbkludGVyYWN0aW9uTGltaXQsXG4gIHZhbGlkYXRlQWN0aW9uLFxufVxuXG5leHBvcnQgZGVmYXVsdCBhdXRvU3RhcnRcbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgSW50ZXJhY3Rpb24gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgU2lnbmFsQXJncywgU2NvcGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25OYW1lLCBFbGVtZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCB7IHBhcmVudE5vZGUgfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscydcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcblxuaW1wb3J0IGF1dG9TdGFydCBmcm9tICcuL2Jhc2UnXG5cbmZ1bmN0aW9uIGJlZm9yZVN0YXJ0KHsgaW50ZXJhY3Rpb24sIGV2ZW50VGFyZ2V0LCBkeCwgZHkgfTogU2lnbmFsQXJnc1snaW50ZXJhY3Rpb25zOm1vdmUnXSwgc2NvcGU6IFNjb3BlKSB7XG4gIGlmIChpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lICE9PSAnZHJhZycpIHJldHVyblxuXG4gIC8vIGNoZWNrIGlmIGEgZHJhZyBpcyBpbiB0aGUgY29ycmVjdCBheGlzXG4gIGNvbnN0IGFic1ggPSBNYXRoLmFicyhkeClcbiAgY29uc3QgYWJzWSA9IE1hdGguYWJzKGR5KVxuICBjb25zdCB0YXJnZXRPcHRpb25zID0gaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJhZ1xuICBjb25zdCBzdGFydEF4aXMgPSB0YXJnZXRPcHRpb25zLnN0YXJ0QXhpc1xuICBjb25zdCBjdXJyZW50QXhpcyA9IGFic1ggPiBhYnNZID8gJ3gnIDogYWJzWCA8IGFic1kgPyAneScgOiAneHknXG5cbiAgaW50ZXJhY3Rpb24ucHJlcGFyZWQuYXhpcyA9XG4gICAgdGFyZ2V0T3B0aW9ucy5sb2NrQXhpcyA9PT0gJ3N0YXJ0J1xuICAgICAgPyAoY3VycmVudEF4aXNbMF0gYXMgJ3gnIHwgJ3knKSAvLyBhbHdheXMgbG9jayB0byBvbmUgYXhpcyBldmVuIGlmIGN1cnJlbnRBeGlzID09PSAneHknXG4gICAgICA6IHRhcmdldE9wdGlvbnMubG9ja0F4aXNcblxuICAvLyBpZiB0aGUgbW92ZW1lbnQgaXNuJ3QgaW4gdGhlIHN0YXJ0QXhpcyBvZiB0aGUgaW50ZXJhY3RhYmxlXG4gIGlmIChjdXJyZW50QXhpcyAhPT0gJ3h5JyAmJiBzdGFydEF4aXMgIT09ICd4eScgJiYgc3RhcnRBeGlzICE9PSBjdXJyZW50QXhpcykge1xuICAgIC8vIGNhbmNlbCB0aGUgcHJlcGFyZWQgYWN0aW9uXG4gICAgOyhpbnRlcmFjdGlvbiBhcyBJbnRlcmFjdGlvbjxBY3Rpb25OYW1lPikucHJlcGFyZWQubmFtZSA9IG51bGxcblxuICAgIC8vIHRoZW4gdHJ5IHRvIGdldCBhIGRyYWcgZnJvbSBhbm90aGVyIGluZXJhY3RhYmxlXG4gICAgbGV0IGVsZW1lbnQgPSBldmVudFRhcmdldCBhcyBFbGVtZW50XG5cbiAgICBjb25zdCBnZXREcmFnZ2FibGUgPSBmdW5jdGlvbiAoaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUpOiBJbnRlcmFjdGFibGUgfCB2b2lkIHtcbiAgICAgIGlmIChpbnRlcmFjdGFibGUgPT09IGludGVyYWN0aW9uLmludGVyYWN0YWJsZSkgcmV0dXJuXG5cbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUub3B0aW9ucy5kcmFnXG5cbiAgICAgIGlmICghb3B0aW9ucy5tYW51YWxTdGFydCAmJiBpbnRlcmFjdGFibGUudGVzdElnbm9yZUFsbG93KG9wdGlvbnMsIGVsZW1lbnQsIGV2ZW50VGFyZ2V0KSkge1xuICAgICAgICBjb25zdCBhY3Rpb24gPSBpbnRlcmFjdGFibGUuZ2V0QWN0aW9uKFxuICAgICAgICAgIGludGVyYWN0aW9uLmRvd25Qb2ludGVyLFxuICAgICAgICAgIGludGVyYWN0aW9uLmRvd25FdmVudCxcbiAgICAgICAgICBpbnRlcmFjdGlvbixcbiAgICAgICAgICBlbGVtZW50LFxuICAgICAgICApXG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGFjdGlvbiAmJlxuICAgICAgICAgIGFjdGlvbi5uYW1lID09PSAnZHJhZycgJiZcbiAgICAgICAgICBjaGVja1N0YXJ0QXhpcyhjdXJyZW50QXhpcywgaW50ZXJhY3RhYmxlKSAmJlxuICAgICAgICAgIGF1dG9TdGFydC52YWxpZGF0ZUFjdGlvbihhY3Rpb24sIGludGVyYWN0YWJsZSwgZWxlbWVudCwgZXZlbnRUYXJnZXQsIHNjb3BlKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gaW50ZXJhY3RhYmxlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjaGVjayBhbGwgaW50ZXJhY3RhYmxlc1xuICAgIHdoaWxlIChpcy5lbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICBjb25zdCBpbnRlcmFjdGFibGUgPSBzY29wZS5pbnRlcmFjdGFibGVzLmZvckVhY2hNYXRjaChlbGVtZW50LCBnZXREcmFnZ2FibGUpXG5cbiAgICAgIGlmIChpbnRlcmFjdGFibGUpIHtcbiAgICAgICAgOyhpbnRlcmFjdGlvbiBhcyBJbnRlcmFjdGlvbjxBY3Rpb25OYW1lPikucHJlcGFyZWQubmFtZSA9ICdkcmFnJ1xuICAgICAgICBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUgPSBpbnRlcmFjdGFibGVcbiAgICAgICAgaW50ZXJhY3Rpb24uZWxlbWVudCA9IGVsZW1lbnRcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudCA9IHBhcmVudE5vZGUoZWxlbWVudCkgYXMgRWxlbWVudFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja1N0YXJ0QXhpcyhzdGFydEF4aXM6IHN0cmluZywgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUpIHtcbiAgaWYgKCFpbnRlcmFjdGFibGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGNvbnN0IHRoaXNBeGlzID0gaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJhZy5zdGFydEF4aXNcblxuICByZXR1cm4gc3RhcnRBeGlzID09PSAneHknIHx8IHRoaXNBeGlzID09PSAneHknIHx8IHRoaXNBeGlzID09PSBzdGFydEF4aXNcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpZDogJ2F1dG8tc3RhcnQvZHJhZ0F4aXMnLFxuICBsaXN0ZW5lcnM6IHsgJ2F1dG9TdGFydDpiZWZvcmUtc3RhcnQnOiBiZWZvcmVTdGFydCB9LFxufVxuIiwgImltcG9ydCB0eXBlIEludGVyYWN0aW9uIGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFNjb3BlLCBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICcuL2Jhc2UnXG5pbXBvcnQgYmFzZVBsdWdpbiBmcm9tICcuL2Jhc2UnXG4vKiBlc2xpbnQtZW5hYmxlICovXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnIHtcbiAgaW50ZXJmYWNlIFBlckFjdGlvbkRlZmF1bHRzIHtcbiAgICBob2xkPzogbnVtYmVyXG4gICAgZGVsYXk/OiBudW1iZXJcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbicge1xuICBpbnRlcmZhY2UgSW50ZXJhY3Rpb24ge1xuICAgIGF1dG9TdGFydEhvbGRUaW1lcj86IGFueVxuICB9XG59XG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgZGVmYXVsdHMgfSA9IHNjb3BlXG5cbiAgc2NvcGUudXNlUGx1Z2luKGJhc2VQbHVnaW4pXG5cbiAgZGVmYXVsdHMucGVyQWN0aW9uLmhvbGQgPSAwXG4gIGRlZmF1bHRzLnBlckFjdGlvbi5kZWxheSA9IDBcbn1cblxuZnVuY3Rpb24gZ2V0SG9sZER1cmF0aW9uKGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbikge1xuICBjb25zdCBhY3Rpb25OYW1lID0gaW50ZXJhY3Rpb24ucHJlcGFyZWQgJiYgaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZVxuXG4gIGlmICghYWN0aW9uTmFtZSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBjb25zdCBvcHRpb25zID0gaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLm9wdGlvbnNcblxuICByZXR1cm4gb3B0aW9uc1thY3Rpb25OYW1lXS5ob2xkIHx8IG9wdGlvbnNbYWN0aW9uTmFtZV0uZGVsYXlcbn1cblxuY29uc3QgaG9sZDogUGx1Z2luID0ge1xuICBpZDogJ2F1dG8tc3RhcnQvaG9sZCcsXG4gIGluc3RhbGwsXG4gIGxpc3RlbmVyczoge1xuICAgICdpbnRlcmFjdGlvbnM6bmV3JzogKHsgaW50ZXJhY3Rpb24gfSkgPT4ge1xuICAgICAgaW50ZXJhY3Rpb24uYXV0b1N0YXJ0SG9sZFRpbWVyID0gbnVsbFxuICAgIH0sXG5cbiAgICAnYXV0b1N0YXJ0OnByZXBhcmVkJzogKHsgaW50ZXJhY3Rpb24gfSkgPT4ge1xuICAgICAgY29uc3QgaG9sZCA9IGdldEhvbGREdXJhdGlvbihpbnRlcmFjdGlvbilcblxuICAgICAgaWYgKGhvbGQgPiAwKSB7XG4gICAgICAgIGludGVyYWN0aW9uLmF1dG9TdGFydEhvbGRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGludGVyYWN0aW9uLnN0YXJ0KGludGVyYWN0aW9uLnByZXBhcmVkLCBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUsIGludGVyYWN0aW9uLmVsZW1lbnQpXG4gICAgICAgIH0sIGhvbGQpXG4gICAgICB9XG4gICAgfSxcblxuICAgICdpbnRlcmFjdGlvbnM6bW92ZSc6ICh7IGludGVyYWN0aW9uLCBkdXBsaWNhdGUgfSkgPT4ge1xuICAgICAgaWYgKGludGVyYWN0aW9uLmF1dG9TdGFydEhvbGRUaW1lciAmJiBpbnRlcmFjdGlvbi5wb2ludGVyV2FzTW92ZWQgJiYgIWR1cGxpY2F0ZSkge1xuICAgICAgICBjbGVhclRpbWVvdXQoaW50ZXJhY3Rpb24uYXV0b1N0YXJ0SG9sZFRpbWVyKVxuICAgICAgICBpbnRlcmFjdGlvbi5hdXRvU3RhcnRIb2xkVGltZXIgPSBudWxsXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIHByZXZlbnQgcmVndWxhciBkb3duLT5tb3ZlIGF1dG9TdGFydFxuICAgICdhdXRvU3RhcnQ6YmVmb3JlLXN0YXJ0JzogKHsgaW50ZXJhY3Rpb24gfSkgPT4ge1xuICAgICAgY29uc3QgaG9sZER1cmF0aW9uID0gZ2V0SG9sZER1cmF0aW9uKGludGVyYWN0aW9uKVxuXG4gICAgICBpZiAoaG9sZER1cmF0aW9uID4gMCkge1xuICAgICAgICBpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lID0gbnVsbFxuICAgICAgfVxuICAgIH0sXG4gIH0sXG4gIGdldEhvbGREdXJhdGlvbixcbn1cbmV4cG9ydCBkZWZhdWx0IGhvbGRcbiIsICJpbXBvcnQgdHlwZSB7IFNjb3BlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcblxuLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgLS0gZm9yIHR5cGVzY3JpcHQgbW9kdWxlIGF1Z21lbnRhdGlvbnMgKi9cbmltcG9ydCAnLi9iYXNlJ1xuaW1wb3J0ICcuL2RyYWdBeGlzJ1xuaW1wb3J0ICcuL2hvbGQnXG5cbmltcG9ydCBhdXRvU3RhcnQgZnJvbSAnLi9iYXNlJ1xuaW1wb3J0IGRyYWdBeGlzIGZyb20gJy4vZHJhZ0F4aXMnXG5pbXBvcnQgaG9sZCBmcm9tICcuL2hvbGQnXG4vKiBlc2xpbnQtZW5hYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzICovXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaWQ6ICdhdXRvLXN0YXJ0JyxcbiAgaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgICBzY29wZS51c2VQbHVnaW4oYXV0b1N0YXJ0KVxuICAgIHNjb3BlLnVzZVBsdWdpbihob2xkKVxuICAgIHNjb3BlLnVzZVBsdWdpbihkcmFnQXhpcylcbiAgfSxcbn1cbiIsICJpbXBvcnQgeyBtYXRjaGVzU2VsZWN0b3IsIG5vZGVDb250YWlucyB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuaW1wb3J0IHsgZ2V0V2luZG93IH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvd2luZG93J1xuXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgSW50ZXJhY3Rpb24gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgU2NvcGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBQb2ludGVyRXZlbnRUeXBlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxudHlwZSBQcmV2ZW50RGVmYXVsdFZhbHVlID0gJ2Fsd2F5cycgfCAnbmV2ZXInIHwgJ2F1dG8nXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZScge1xuICBpbnRlcmZhY2UgSW50ZXJhY3RhYmxlIHtcbiAgICBwcmV2ZW50RGVmYXVsdChuZXdWYWx1ZTogUHJldmVudERlZmF1bHRWYWx1ZSk6IHRoaXNcbiAgICBwcmV2ZW50RGVmYXVsdCgpOiBQcmV2ZW50RGVmYXVsdFZhbHVlXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvciBzZXRzIHdoZXRoZXIgdG8gcHJldmVudCB0aGUgYnJvd3NlcidzIGRlZmF1bHQgYmVoYXZpb3VyIGluXG4gICAgICogcmVzcG9uc2UgdG8gcG9pbnRlciBldmVudHMuIENhbiBiZSBzZXQgdG86XG4gICAgICogIC0gYCdhbHdheXMnYCB0byBhbHdheXMgcHJldmVudFxuICAgICAqICAtIGAnbmV2ZXInYCB0byBuZXZlciBwcmV2ZW50XG4gICAgICogIC0gYCdhdXRvJ2AgdG8gbGV0IGludGVyYWN0LmpzIHRyeSB0byBkZXRlcm1pbmUgd2hhdCB3b3VsZCBiZSBiZXN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmV3VmFsdWUgLSBgJ2Fsd2F5cydgLCBgJ25ldmVyJ2Agb3IgYCdhdXRvJ2BcbiAgICAgKiBAcmV0dXJucyBUaGUgY3VycmVudCBzZXR0aW5nIG9yIHRoaXMgSW50ZXJhY3RhYmxlXG4gICAgICovXG4gICAgcHJldmVudERlZmF1bHQobmV3VmFsdWU/OiBQcmV2ZW50RGVmYXVsdFZhbHVlKTogUHJldmVudERlZmF1bHRWYWx1ZSB8IHRoaXNcbiAgICBjaGVja0FuZFByZXZlbnREZWZhdWx0KGV2ZW50OiBFdmVudCk6IHZvaWRcbiAgfVxufVxuXG5jb25zdCBwcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KHRoaXM6IEludGVyYWN0YWJsZSwgbmV3VmFsdWU/OiBQcmV2ZW50RGVmYXVsdFZhbHVlKSB7XG4gIGlmICgvXihhbHdheXN8bmV2ZXJ8YXV0bykkLy50ZXN0KG5ld1ZhbHVlKSkge1xuICAgIHRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdCA9IG5ld1ZhbHVlXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGlmIChpcy5ib29sKG5ld1ZhbHVlKSkge1xuICAgIHRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdCA9IG5ld1ZhbHVlID8gJ2Fsd2F5cycgOiAnbmV2ZXInXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHJldHVybiB0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHRcbn0gYXMgSW50ZXJhY3RhYmxlWydwcmV2ZW50RGVmYXVsdCddXG5cbmZ1bmN0aW9uIGNoZWNrQW5kUHJldmVudERlZmF1bHQoaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUsIHNjb3BlOiBTY29wZSwgZXZlbnQ6IEV2ZW50KSB7XG4gIGNvbnN0IHNldHRpbmcgPSBpbnRlcmFjdGFibGUub3B0aW9ucy5wcmV2ZW50RGVmYXVsdFxuXG4gIGlmIChzZXR0aW5nID09PSAnbmV2ZXInKSByZXR1cm5cblxuICBpZiAoc2V0dGluZyA9PT0gJ2Fsd2F5cycpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyBzZXR0aW5nID09PSAnYXV0bydcblxuICAvLyBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBwYXNzaXZlIGV2ZW50IGxpc3RlbmVycyBhbmQgaXNuJ3QgcnVubmluZyBvbiBpT1MsXG4gIC8vIGRvbid0IHByZXZlbnREZWZhdWx0IG9mIHRvdWNoe3N0YXJ0LG1vdmV9IGV2ZW50cy4gQ1NTIHRvdWNoLWFjdGlvbiBhbmRcbiAgLy8gdXNlci1zZWxlY3Qgc2hvdWxkIGJlIHVzZWQgaW5zdGVhZCBvZiBjYWxsaW5nIGV2ZW50LnByZXZlbnREZWZhdWx0KCkuXG4gIGlmIChzY29wZS5ldmVudHMuc3VwcG9ydHNQYXNzaXZlICYmIC9edG91Y2goc3RhcnR8bW92ZSkkLy50ZXN0KGV2ZW50LnR5cGUpKSB7XG4gICAgY29uc3QgZG9jID0gZ2V0V2luZG93KGV2ZW50LnRhcmdldCkuZG9jdW1lbnRcbiAgICBjb25zdCBkb2NPcHRpb25zID0gc2NvcGUuZ2V0RG9jT3B0aW9ucyhkb2MpXG5cbiAgICBpZiAoIShkb2NPcHRpb25zICYmIGRvY09wdGlvbnMuZXZlbnRzKSB8fCBkb2NPcHRpb25zLmV2ZW50cy5wYXNzaXZlICE9PSBmYWxzZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICB9XG5cbiAgLy8gZG9uJ3QgcHJldmVudERlZmF1bHQgb2YgcG9pbnRlcmRvd24gZXZlbnRzXG4gIGlmICgvXihtb3VzZXxwb2ludGVyfHRvdWNoKSooZG93bnxzdGFydCkvaS50ZXN0KGV2ZW50LnR5cGUpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyBkb24ndCBwcmV2ZW50RGVmYXVsdCBvbiBlZGl0YWJsZSBlbGVtZW50c1xuICBpZiAoXG4gICAgaXMuZWxlbWVudChldmVudC50YXJnZXQpICYmXG4gICAgbWF0Y2hlc1NlbGVjdG9yKGV2ZW50LnRhcmdldCwgJ2lucHV0LHNlbGVjdCx0ZXh0YXJlYSxbY29udGVudGVkaXRhYmxlPXRydWVdLFtjb250ZW50ZWRpdGFibGU9dHJ1ZV0gKicpXG4gICkge1xuICAgIHJldHVyblxuICB9XG5cbiAgZXZlbnQucHJldmVudERlZmF1bHQoKVxufVxuXG5mdW5jdGlvbiBvbkludGVyYWN0aW9uRXZlbnQoeyBpbnRlcmFjdGlvbiwgZXZlbnQgfTogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb247IGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlIH0pIHtcbiAgaWYgKGludGVyYWN0aW9uLmludGVyYWN0YWJsZSkge1xuICAgIGludGVyYWN0aW9uLmludGVyYWN0YWJsZS5jaGVja0FuZFByZXZlbnREZWZhdWx0KGV2ZW50IGFzIEV2ZW50KVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IEludGVyYWN0YWJsZSB9ID0gc2NvcGVcblxuICBJbnRlcmFjdGFibGUucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gcHJldmVudERlZmF1bHRcblxuICBJbnRlcmFjdGFibGUucHJvdG90eXBlLmNoZWNrQW5kUHJldmVudERlZmF1bHQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gY2hlY2tBbmRQcmV2ZW50RGVmYXVsdCh0aGlzLCBzY29wZSwgZXZlbnQpXG4gIH1cblxuICAvLyBwcmV2ZW50IG5hdGl2ZSBIVE1MNSBkcmFnIG9uIGludGVyYWN0LmpzIHRhcmdldCBlbGVtZW50c1xuICBzY29wZS5pbnRlcmFjdGlvbnMuZG9jRXZlbnRzLnB1c2goe1xuICAgIHR5cGU6ICdkcmFnc3RhcnQnLFxuICAgIGxpc3RlbmVyKGV2ZW50KSB7XG4gICAgICBmb3IgKGNvbnN0IGludGVyYWN0aW9uIG9mIHNjb3BlLmludGVyYWN0aW9ucy5saXN0KSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBpbnRlcmFjdGlvbi5lbGVtZW50ICYmXG4gICAgICAgICAgKGludGVyYWN0aW9uLmVsZW1lbnQgPT09IGV2ZW50LnRhcmdldCB8fCBub2RlQ29udGFpbnMoaW50ZXJhY3Rpb24uZWxlbWVudCwgZXZlbnQudGFyZ2V0KSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLmNoZWNrQW5kUHJldmVudERlZmF1bHQoZXZlbnQpXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlkOiAnY29yZS9pbnRlcmFjdGFibGVQcmV2ZW50RGVmYXVsdCcsXG4gIGluc3RhbGwsXG4gIGxpc3RlbmVyczogWydkb3duJywgJ21vdmUnLCAndXAnLCAnY2FuY2VsJ10ucmVkdWNlKChhY2MsIGV2ZW50VHlwZSkgPT4ge1xuICAgIGFjY1tgaW50ZXJhY3Rpb25zOiR7ZXZlbnRUeXBlfWBdID0gb25JbnRlcmFjdGlvbkV2ZW50XG4gICAgcmV0dXJuIGFjY1xuICB9LCB7fSBhcyBhbnkpLFxufVxuIiwgImltcG9ydCB0eXBlIHsgQWN0aW9ucyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzTm9uTmF0aXZlRXZlbnQodHlwZTogc3RyaW5nLCBhY3Rpb25zOiBBY3Rpb25zKSB7XG4gIGlmIChhY3Rpb25zLnBoYXNlbGVzc1R5cGVzW3R5cGVdKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGZvciAoY29uc3QgbmFtZSBpbiBhY3Rpb25zLm1hcCkge1xuICAgIGlmICh0eXBlLmluZGV4T2YobmFtZSkgPT09IDAgJiYgdHlwZS5zdWJzdHIobmFtZS5sZW5ndGgpIGluIGFjdGlvbnMucGhhc2VzKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuIiwgImltcG9ydCAqIGFzIGFyciBmcm9tICcuL2FycidcbmltcG9ydCBpcyBmcm9tICcuL2lzJ1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmUgYmFuLXR5cGVzXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbG9uZTxUIGV4dGVuZHMgT2JqZWN0Pihzb3VyY2U6IFQpOiBQYXJ0aWFsPFQ+IHtcbiAgY29uc3QgZGVzdCA9IHt9IGFzIFBhcnRpYWw8VD5cblxuICBmb3IgKGNvbnN0IHByb3AgaW4gc291cmNlKSB7XG4gICAgY29uc3QgdmFsdWUgPSBzb3VyY2VbcHJvcF1cblxuICAgIGlmIChpcy5wbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICAgIGRlc3RbcHJvcF0gPSBjbG9uZSh2YWx1ZSkgYXMgYW55XG4gICAgfSBlbHNlIGlmIChpcy5hcnJheSh2YWx1ZSkpIHtcbiAgICAgIGRlc3RbcHJvcF0gPSBhcnIuZnJvbSh2YWx1ZSkgYXMgdHlwZW9mIHZhbHVlXG4gICAgfSBlbHNlIHtcbiAgICAgIGRlc3RbcHJvcF0gPSB2YWx1ZVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkZXN0XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBFdmVudFBoYXNlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdEV2ZW50J1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGlvbiwgRG9BbnlQaGFzZUFyZyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IEVkZ2VPcHRpb25zLCBGdWxsUmVjdCwgUG9pbnQsIFJlY3QgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0IGNsb25lIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2Nsb25lJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgKiBhcyByZWN0VXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcmVjdCdcblxuaW1wb3J0IHR5cGUgeyBNb2RpZmllciwgTW9kaWZpZXJBcmcsIE1vZGlmaWVyU3RhdGUgfSBmcm9tICcuL3R5cGVzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIE1vZGlmaWNhdGlvblJlc3VsdCB7XG4gIGRlbHRhOiBQb2ludFxuICByZWN0RGVsdGE6IFJlY3RcbiAgY29vcmRzOiBQb2ludFxuICByZWN0OiBGdWxsUmVjdFxuICBldmVudFByb3BzOiBhbnlbXVxuICBjaGFuZ2VkOiBib29sZWFuXG59XG5cbmludGVyZmFjZSBNZXRob2RBcmcge1xuICBwaGFzZTogRXZlbnRQaGFzZVxuICBwYWdlQ29vcmRzOiBQb2ludFxuICByZWN0OiBGdWxsUmVjdFxuICBjb29yZHM6IFBvaW50XG4gIHByZUVuZD86IGJvb2xlYW5cbiAgc2tpcE1vZGlmaWVycz86IG51bWJlclxufVxuXG5leHBvcnQgY2xhc3MgTW9kaWZpY2F0aW9uIHtcbiAgc3RhdGVzOiBNb2RpZmllclN0YXRlW10gPSBbXVxuICBzdGFydE9mZnNldDogUmVjdCA9IHsgbGVmdDogMCwgcmlnaHQ6IDAsIHRvcDogMCwgYm90dG9tOiAwIH1cbiAgc3RhcnREZWx0YSE6IFBvaW50XG4gIHJlc3VsdCE6IE1vZGlmaWNhdGlvblJlc3VsdFxuICBlbmRSZXN1bHQhOiBQb2ludFxuICBzdGFydEVkZ2VzITogRWRnZU9wdGlvbnNcbiAgZWRnZXM6IEVkZ2VPcHRpb25zXG4gIHJlYWRvbmx5IGludGVyYWN0aW9uOiBSZWFkb25seTxJbnRlcmFjdGlvbj5cblxuICBjb25zdHJ1Y3RvcihpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24pIHtcbiAgICB0aGlzLmludGVyYWN0aW9uID0gaW50ZXJhY3Rpb25cbiAgICB0aGlzLnJlc3VsdCA9IGNyZWF0ZVJlc3VsdCgpXG4gICAgdGhpcy5lZGdlcyA9IHtcbiAgICAgIGxlZnQ6IGZhbHNlLFxuICAgICAgcmlnaHQ6IGZhbHNlLFxuICAgICAgdG9wOiBmYWxzZSxcbiAgICAgIGJvdHRvbTogZmFsc2UsXG4gICAgfVxuICB9XG5cbiAgc3RhcnQoeyBwaGFzZSB9OiB7IHBoYXNlOiBFdmVudFBoYXNlIH0sIHBhZ2VDb29yZHM6IFBvaW50KSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gdGhpc1xuICAgIGNvbnN0IG1vZGlmaWVyTGlzdCA9IGdldE1vZGlmaWVyTGlzdChpbnRlcmFjdGlvbilcbiAgICB0aGlzLnByZXBhcmVTdGF0ZXMobW9kaWZpZXJMaXN0KVxuXG4gICAgdGhpcy5zdGFydEVkZ2VzID0gZXh0ZW5kKHt9LCBpbnRlcmFjdGlvbi5lZGdlcylcbiAgICB0aGlzLmVkZ2VzID0gZXh0ZW5kKHt9LCB0aGlzLnN0YXJ0RWRnZXMpXG4gICAgdGhpcy5zdGFydE9mZnNldCA9IGdldFJlY3RPZmZzZXQoaW50ZXJhY3Rpb24ucmVjdCwgcGFnZUNvb3JkcylcbiAgICB0aGlzLnN0YXJ0RGVsdGEgPSB7IHg6IDAsIHk6IDAgfVxuXG4gICAgY29uc3QgYXJnID0gdGhpcy5maWxsQXJnKHtcbiAgICAgIHBoYXNlLFxuICAgICAgcGFnZUNvb3JkcyxcbiAgICAgIHByZUVuZDogZmFsc2UsXG4gICAgfSlcblxuICAgIHRoaXMucmVzdWx0ID0gY3JlYXRlUmVzdWx0KClcbiAgICB0aGlzLnN0YXJ0QWxsKGFyZylcblxuICAgIGNvbnN0IHJlc3VsdCA9ICh0aGlzLnJlc3VsdCA9IHRoaXMuc2V0QWxsKGFyZykpXG5cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBmaWxsQXJnKGFyZzogUGFydGlhbDxNb2RpZmllckFyZz4pIHtcbiAgICBjb25zdCB7IGludGVyYWN0aW9uIH0gPSB0aGlzXG5cbiAgICBhcmcuaW50ZXJhY3Rpb24gPSBpbnRlcmFjdGlvblxuICAgIGFyZy5pbnRlcmFjdGFibGUgPSBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGVcbiAgICBhcmcuZWxlbWVudCA9IGludGVyYWN0aW9uLmVsZW1lbnRcbiAgICBhcmcucmVjdCB8fD0gaW50ZXJhY3Rpb24ucmVjdFxuICAgIGFyZy5lZGdlcyB8fD0gdGhpcy5zdGFydEVkZ2VzXG4gICAgYXJnLnN0YXJ0T2Zmc2V0ID0gdGhpcy5zdGFydE9mZnNldFxuXG4gICAgcmV0dXJuIGFyZyBhcyBNb2RpZmllckFyZ1xuICB9XG5cbiAgc3RhcnRBbGwoYXJnOiBNZXRob2RBcmcgJiBQYXJ0aWFsPE1vZGlmaWVyQXJnPikge1xuICAgIGZvciAoY29uc3Qgc3RhdGUgb2YgdGhpcy5zdGF0ZXMpIHtcbiAgICAgIGlmIChzdGF0ZS5tZXRob2RzLnN0YXJ0KSB7XG4gICAgICAgIGFyZy5zdGF0ZSA9IHN0YXRlXG4gICAgICAgIHN0YXRlLm1ldGhvZHMuc3RhcnQoYXJnIGFzIE1vZGlmaWVyQXJnKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldEFsbChhcmc6IE1ldGhvZEFyZyAmIFBhcnRpYWw8TW9kaWZpZXJBcmc+KTogTW9kaWZpY2F0aW9uUmVzdWx0IHtcbiAgICBjb25zdCB7IHBoYXNlLCBwcmVFbmQsIHNraXBNb2RpZmllcnMsIHJlY3Q6IHVubW9kaWZpZWRSZWN0LCBlZGdlczogdW5tb2RpZmllZEVkZ2VzIH0gPSBhcmdcblxuICAgIGFyZy5jb29yZHMgPSBleHRlbmQoe30sIGFyZy5wYWdlQ29vcmRzKVxuICAgIGFyZy5yZWN0ID0gZXh0ZW5kKHt9LCB1bm1vZGlmaWVkUmVjdClcbiAgICBhcmcuZWRnZXMgPSBleHRlbmQoe30sIHVubW9kaWZpZWRFZGdlcylcblxuICAgIGNvbnN0IHN0YXRlcyA9IHNraXBNb2RpZmllcnMgPyB0aGlzLnN0YXRlcy5zbGljZShza2lwTW9kaWZpZXJzKSA6IHRoaXMuc3RhdGVzXG5cbiAgICBjb25zdCBuZXdSZXN1bHQgPSBjcmVhdGVSZXN1bHQoYXJnLmNvb3JkcywgYXJnLnJlY3QpXG5cbiAgICBmb3IgKGNvbnN0IHN0YXRlIG9mIHN0YXRlcykge1xuICAgICAgY29uc3QgeyBvcHRpb25zIH0gPSBzdGF0ZVxuICAgICAgY29uc3QgbGFzdE1vZGlmaWVyQ29vcmRzID0gZXh0ZW5kKHt9LCBhcmcuY29vcmRzKVxuICAgICAgbGV0IHJldHVyblZhbHVlID0gbnVsbFxuXG4gICAgICBpZiAoc3RhdGUubWV0aG9kcz8uc2V0ICYmIHRoaXMuc2hvdWxkRG8ob3B0aW9ucywgcHJlRW5kLCBwaGFzZSkpIHtcbiAgICAgICAgYXJnLnN0YXRlID0gc3RhdGVcbiAgICAgICAgcmV0dXJuVmFsdWUgPSBzdGF0ZS5tZXRob2RzLnNldChhcmcgYXMgTW9kaWZpZXJBcmc8bmV2ZXI+KVxuXG4gICAgICAgIHJlY3RVdGlscy5hZGRFZGdlcyhhcmcuZWRnZXMsIGFyZy5yZWN0LCB7XG4gICAgICAgICAgeDogYXJnLmNvb3Jkcy54IC0gbGFzdE1vZGlmaWVyQ29vcmRzLngsXG4gICAgICAgICAgeTogYXJnLmNvb3Jkcy55IC0gbGFzdE1vZGlmaWVyQ29vcmRzLnksXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIG5ld1Jlc3VsdC5ldmVudFByb3BzLnB1c2gocmV0dXJuVmFsdWUpXG4gICAgfVxuXG4gICAgZXh0ZW5kKHRoaXMuZWRnZXMsIGFyZy5lZGdlcylcblxuICAgIG5ld1Jlc3VsdC5kZWx0YS54ID0gYXJnLmNvb3Jkcy54IC0gYXJnLnBhZ2VDb29yZHMueFxuICAgIG5ld1Jlc3VsdC5kZWx0YS55ID0gYXJnLmNvb3Jkcy55IC0gYXJnLnBhZ2VDb29yZHMueVxuXG4gICAgbmV3UmVzdWx0LnJlY3REZWx0YS5sZWZ0ID0gYXJnLnJlY3QubGVmdCAtIHVubW9kaWZpZWRSZWN0LmxlZnRcbiAgICBuZXdSZXN1bHQucmVjdERlbHRhLnJpZ2h0ID0gYXJnLnJlY3QucmlnaHQgLSB1bm1vZGlmaWVkUmVjdC5yaWdodFxuICAgIG5ld1Jlc3VsdC5yZWN0RGVsdGEudG9wID0gYXJnLnJlY3QudG9wIC0gdW5tb2RpZmllZFJlY3QudG9wXG4gICAgbmV3UmVzdWx0LnJlY3REZWx0YS5ib3R0b20gPSBhcmcucmVjdC5ib3R0b20gLSB1bm1vZGlmaWVkUmVjdC5ib3R0b21cblxuICAgIGNvbnN0IHByZXZDb29yZHMgPSB0aGlzLnJlc3VsdC5jb29yZHNcbiAgICBjb25zdCBwcmV2UmVjdCA9IHRoaXMucmVzdWx0LnJlY3RcblxuICAgIGlmIChwcmV2Q29vcmRzICYmIHByZXZSZWN0KSB7XG4gICAgICBjb25zdCByZWN0Q2hhbmdlZCA9XG4gICAgICAgIG5ld1Jlc3VsdC5yZWN0LmxlZnQgIT09IHByZXZSZWN0LmxlZnQgfHxcbiAgICAgICAgbmV3UmVzdWx0LnJlY3QucmlnaHQgIT09IHByZXZSZWN0LnJpZ2h0IHx8XG4gICAgICAgIG5ld1Jlc3VsdC5yZWN0LnRvcCAhPT0gcHJldlJlY3QudG9wIHx8XG4gICAgICAgIG5ld1Jlc3VsdC5yZWN0LmJvdHRvbSAhPT0gcHJldlJlY3QuYm90dG9tXG5cbiAgICAgIG5ld1Jlc3VsdC5jaGFuZ2VkID1cbiAgICAgICAgcmVjdENoYW5nZWQgfHwgcHJldkNvb3Jkcy54ICE9PSBuZXdSZXN1bHQuY29vcmRzLnggfHwgcHJldkNvb3Jkcy55ICE9PSBuZXdSZXN1bHQuY29vcmRzLnlcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3UmVzdWx0XG4gIH1cblxuICBhcHBseVRvSW50ZXJhY3Rpb24oYXJnOiB7IHBoYXNlOiBFdmVudFBoYXNlOyByZWN0PzogUmVjdCB9KSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gdGhpc1xuICAgIGNvbnN0IHsgcGhhc2UgfSA9IGFyZ1xuICAgIGNvbnN0IGN1ckNvb3JkcyA9IGludGVyYWN0aW9uLmNvb3Jkcy5jdXJcbiAgICBjb25zdCBzdGFydENvb3JkcyA9IGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydFxuICAgIGNvbnN0IHsgcmVzdWx0LCBzdGFydERlbHRhIH0gPSB0aGlzXG4gICAgY29uc3QgY3VyRGVsdGEgPSByZXN1bHQuZGVsdGFcblxuICAgIGlmIChwaGFzZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgZXh0ZW5kKHRoaXMuc3RhcnREZWx0YSwgcmVzdWx0LmRlbHRhKVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgW2Nvb3Jkc1NldCwgZGVsdGFdIG9mIFtcbiAgICAgIFtzdGFydENvb3Jkcywgc3RhcnREZWx0YV0sXG4gICAgICBbY3VyQ29vcmRzLCBjdXJEZWx0YV0sXG4gICAgXSBhcyBjb25zdCkge1xuICAgICAgY29vcmRzU2V0LnBhZ2UueCArPSBkZWx0YS54XG4gICAgICBjb29yZHNTZXQucGFnZS55ICs9IGRlbHRhLnlcbiAgICAgIGNvb3Jkc1NldC5jbGllbnQueCArPSBkZWx0YS54XG4gICAgICBjb29yZHNTZXQuY2xpZW50LnkgKz0gZGVsdGEueVxuICAgIH1cblxuICAgIGNvbnN0IHsgcmVjdERlbHRhIH0gPSB0aGlzLnJlc3VsdFxuICAgIGNvbnN0IHJlY3QgPSBhcmcucmVjdCB8fCBpbnRlcmFjdGlvbi5yZWN0XG5cbiAgICByZWN0LmxlZnQgKz0gcmVjdERlbHRhLmxlZnRcbiAgICByZWN0LnJpZ2h0ICs9IHJlY3REZWx0YS5yaWdodFxuICAgIHJlY3QudG9wICs9IHJlY3REZWx0YS50b3BcbiAgICByZWN0LmJvdHRvbSArPSByZWN0RGVsdGEuYm90dG9tXG5cbiAgICByZWN0LndpZHRoID0gcmVjdC5yaWdodCAtIHJlY3QubGVmdFxuICAgIHJlY3QuaGVpZ2h0ID0gcmVjdC5ib3R0b20gLSByZWN0LnRvcFxuICB9XG5cbiAgc2V0QW5kQXBwbHkoXG4gICAgYXJnOiBQYXJ0aWFsPERvQW55UGhhc2VBcmc+ICYge1xuICAgICAgcGhhc2U6IEV2ZW50UGhhc2VcbiAgICAgIHByZUVuZD86IGJvb2xlYW5cbiAgICAgIHNraXBNb2RpZmllcnM/OiBudW1iZXJcbiAgICAgIG1vZGlmaWVkQ29vcmRzPzogUG9pbnRcbiAgICB9LFxuICApOiB2b2lkIHwgZmFsc2Uge1xuICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IHRoaXNcbiAgICBjb25zdCB7IHBoYXNlLCBwcmVFbmQsIHNraXBNb2RpZmllcnMgfSA9IGFyZ1xuXG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zZXRBbGwoXG4gICAgICB0aGlzLmZpbGxBcmcoe1xuICAgICAgICBwcmVFbmQsXG4gICAgICAgIHBoYXNlLFxuICAgICAgICBwYWdlQ29vcmRzOiBhcmcubW9kaWZpZWRDb29yZHMgfHwgaW50ZXJhY3Rpb24uY29vcmRzLmN1ci5wYWdlLFxuICAgICAgfSksXG4gICAgKVxuXG4gICAgdGhpcy5yZXN1bHQgPSByZXN1bHRcblxuICAgIC8vIGRvbid0IGZpcmUgYW4gYWN0aW9uIG1vdmUgaWYgYSBtb2RpZmllciB3b3VsZCBrZWVwIHRoZSBldmVudCBpbiB0aGUgc2FtZVxuICAgIC8vIGNvcmRpbmF0ZXMgYXMgYmVmb3JlXG4gICAgaWYgKFxuICAgICAgIXJlc3VsdC5jaGFuZ2VkICYmXG4gICAgICAoIXNraXBNb2RpZmllcnMgfHwgc2tpcE1vZGlmaWVycyA8IHRoaXMuc3RhdGVzLmxlbmd0aCkgJiZcbiAgICAgIGludGVyYWN0aW9uLmludGVyYWN0aW5nKClcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmIChhcmcubW9kaWZpZWRDb29yZHMpIHtcbiAgICAgIGNvbnN0IHsgcGFnZSB9ID0gaW50ZXJhY3Rpb24uY29vcmRzLmN1clxuICAgICAgY29uc3QgYWRqdXN0bWVudCA9IHtcbiAgICAgICAgeDogYXJnLm1vZGlmaWVkQ29vcmRzLnggLSBwYWdlLngsXG4gICAgICAgIHk6IGFyZy5tb2RpZmllZENvb3Jkcy55IC0gcGFnZS55LFxuICAgICAgfVxuXG4gICAgICByZXN1bHQuY29vcmRzLnggKz0gYWRqdXN0bWVudC54XG4gICAgICByZXN1bHQuY29vcmRzLnkgKz0gYWRqdXN0bWVudC55XG4gICAgICByZXN1bHQuZGVsdGEueCArPSBhZGp1c3RtZW50LnhcbiAgICAgIHJlc3VsdC5kZWx0YS55ICs9IGFkanVzdG1lbnQueVxuICAgIH1cblxuICAgIHRoaXMuYXBwbHlUb0ludGVyYWN0aW9uKGFyZylcbiAgfVxuXG4gIGJlZm9yZUVuZChhcmc6IE9taXQ8RG9BbnlQaGFzZUFyZywgJ2lFdmVudCc+ICYgeyBzdGF0ZT86IE1vZGlmaWVyU3RhdGUgfSk6IHZvaWQgfCBmYWxzZSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdGlvbiwgZXZlbnQgfSA9IGFyZ1xuICAgIGNvbnN0IHN0YXRlcyA9IHRoaXMuc3RhdGVzXG5cbiAgICBpZiAoIXN0YXRlcyB8fCAhc3RhdGVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbGV0IGRvUHJlZW5kID0gZmFsc2VcblxuICAgIGZvciAoY29uc3Qgc3RhdGUgb2Ygc3RhdGVzKSB7XG4gICAgICBhcmcuc3RhdGUgPSBzdGF0ZVxuICAgICAgY29uc3QgeyBvcHRpb25zLCBtZXRob2RzIH0gPSBzdGF0ZVxuXG4gICAgICBjb25zdCBlbmRQb3NpdGlvbiA9IG1ldGhvZHMuYmVmb3JlRW5kICYmIG1ldGhvZHMuYmVmb3JlRW5kKGFyZyBhcyB1bmtub3duIGFzIE1vZGlmaWVyQXJnKVxuXG4gICAgICBpZiAoZW5kUG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5lbmRSZXN1bHQgPSBlbmRQb3NpdGlvblxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cblxuICAgICAgZG9QcmVlbmQgPSBkb1ByZWVuZCB8fCAoIWRvUHJlZW5kICYmIHRoaXMuc2hvdWxkRG8ob3B0aW9ucywgdHJ1ZSwgYXJnLnBoYXNlLCB0cnVlKSlcbiAgICB9XG5cbiAgICBpZiAoZG9QcmVlbmQpIHtcbiAgICAgIC8vIHRyaWdnZXIgYSBmaW5hbCBtb2RpZmllZCBtb3ZlIGJlZm9yZSBlbmRpbmdcbiAgICAgIGludGVyYWN0aW9uLm1vdmUoeyBldmVudCwgcHJlRW5kOiB0cnVlIH0pXG4gICAgfVxuICB9XG5cbiAgc3RvcChhcmc6IHsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uIH0pIHtcbiAgICBjb25zdCB7IGludGVyYWN0aW9uIH0gPSBhcmdcblxuICAgIGlmICghdGhpcy5zdGF0ZXMgfHwgIXRoaXMuc3RhdGVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgbW9kaWZpZXJBcmc6IFBhcnRpYWw8TW9kaWZpZXJBcmc+ID0gZXh0ZW5kKFxuICAgICAge1xuICAgICAgICBzdGF0ZXM6IHRoaXMuc3RhdGVzLFxuICAgICAgICBpbnRlcmFjdGFibGU6IGludGVyYWN0aW9uLmludGVyYWN0YWJsZSxcbiAgICAgICAgZWxlbWVudDogaW50ZXJhY3Rpb24uZWxlbWVudCxcbiAgICAgICAgcmVjdDogbnVsbCxcbiAgICAgIH0sXG4gICAgICBhcmcsXG4gICAgKVxuXG4gICAgdGhpcy5maWxsQXJnKG1vZGlmaWVyQXJnKVxuXG4gICAgZm9yIChjb25zdCBzdGF0ZSBvZiB0aGlzLnN0YXRlcykge1xuICAgICAgbW9kaWZpZXJBcmcuc3RhdGUgPSBzdGF0ZVxuXG4gICAgICBpZiAoc3RhdGUubWV0aG9kcy5zdG9wKSB7XG4gICAgICAgIHN0YXRlLm1ldGhvZHMuc3RvcChtb2RpZmllckFyZyBhcyBNb2RpZmllckFyZylcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlcyA9IG51bGxcbiAgICB0aGlzLmVuZFJlc3VsdCA9IG51bGxcbiAgfVxuXG4gIHByZXBhcmVTdGF0ZXMobW9kaWZpZXJMaXN0OiBNb2RpZmllcltdKSB7XG4gICAgdGhpcy5zdGF0ZXMgPSBbXVxuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG1vZGlmaWVyTGlzdC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGNvbnN0IHsgb3B0aW9ucywgbWV0aG9kcywgbmFtZSB9ID0gbW9kaWZpZXJMaXN0W2luZGV4XVxuXG4gICAgICB0aGlzLnN0YXRlcy5wdXNoKHtcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgbWV0aG9kcyxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIG5hbWUsXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0YXRlc1xuICB9XG5cbiAgcmVzdG9yZUludGVyYWN0aW9uQ29vcmRzKHsgaW50ZXJhY3Rpb246IHsgY29vcmRzLCByZWN0LCBtb2RpZmljYXRpb24gfSB9OiB7IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiB9KSB7XG4gICAgaWYgKCFtb2RpZmljYXRpb24ucmVzdWx0KSByZXR1cm5cblxuICAgIGNvbnN0IHsgc3RhcnREZWx0YSB9ID0gbW9kaWZpY2F0aW9uXG4gICAgY29uc3QgeyBkZWx0YTogY3VyRGVsdGEsIHJlY3REZWx0YSB9ID0gbW9kaWZpY2F0aW9uLnJlc3VsdFxuXG4gICAgY29uc3QgY29vcmRzQW5kRGVsdGFzID0gW1xuICAgICAgW2Nvb3Jkcy5zdGFydCwgc3RhcnREZWx0YV0sXG4gICAgICBbY29vcmRzLmN1ciwgY3VyRGVsdGFdLFxuICAgIF1cblxuICAgIGZvciAoY29uc3QgW2Nvb3Jkc1NldCwgZGVsdGFdIG9mIGNvb3Jkc0FuZERlbHRhcyBhcyBhbnkpIHtcbiAgICAgIGNvb3Jkc1NldC5wYWdlLnggLT0gZGVsdGEueFxuICAgICAgY29vcmRzU2V0LnBhZ2UueSAtPSBkZWx0YS55XG4gICAgICBjb29yZHNTZXQuY2xpZW50LnggLT0gZGVsdGEueFxuICAgICAgY29vcmRzU2V0LmNsaWVudC55IC09IGRlbHRhLnlcbiAgICB9XG5cbiAgICByZWN0LmxlZnQgLT0gcmVjdERlbHRhLmxlZnRcbiAgICByZWN0LnJpZ2h0IC09IHJlY3REZWx0YS5yaWdodFxuICAgIHJlY3QudG9wIC09IHJlY3REZWx0YS50b3BcbiAgICByZWN0LmJvdHRvbSAtPSByZWN0RGVsdGEuYm90dG9tXG4gIH1cblxuICBzaG91bGREbyhvcHRpb25zLCBwcmVFbmQ/OiBib29sZWFuLCBwaGFzZT86IHN0cmluZywgcmVxdWlyZUVuZE9ubHk/OiBib29sZWFuKSB7XG4gICAgaWYgKFxuICAgICAgLy8gaWdub3JlIGRpc2FibGVkIG1vZGlmaWVyc1xuICAgICAgIW9wdGlvbnMgfHxcbiAgICAgIG9wdGlvbnMuZW5hYmxlZCA9PT0gZmFsc2UgfHxcbiAgICAgIC8vIGNoZWNrIGlmIHdlIHJlcXVpcmUgZW5kT25seSBvcHRpb24gdG8gZmlyZSBtb3ZlIGJlZm9yZSBlbmRcbiAgICAgIChyZXF1aXJlRW5kT25seSAmJiAhb3B0aW9ucy5lbmRPbmx5KSB8fFxuICAgICAgLy8gZG9uJ3QgYXBwbHkgZW5kT25seSBtb2RpZmllcnMgd2hlbiBub3QgZW5kaW5nXG4gICAgICAob3B0aW9ucy5lbmRPbmx5ICYmICFwcmVFbmQpIHx8XG4gICAgICAvLyBjaGVjayBpZiBtb2RpZmllciBzaG91bGQgcnVuIGJlIGFwcGxpZWQgb24gc3RhcnRcbiAgICAgIChwaGFzZSA9PT0gJ3N0YXJ0JyAmJiAhb3B0aW9ucy5zZXRTdGFydClcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBjb3B5RnJvbShvdGhlcjogTW9kaWZpY2F0aW9uKSB7XG4gICAgdGhpcy5zdGFydE9mZnNldCA9IG90aGVyLnN0YXJ0T2Zmc2V0XG4gICAgdGhpcy5zdGFydERlbHRhID0gb3RoZXIuc3RhcnREZWx0YVxuICAgIHRoaXMuc3RhcnRFZGdlcyA9IG90aGVyLnN0YXJ0RWRnZXNcbiAgICB0aGlzLmVkZ2VzID0gb3RoZXIuZWRnZXNcbiAgICB0aGlzLnN0YXRlcyA9IG90aGVyLnN0YXRlcy5tYXAoKHMpID0+IGNsb25lKHMpIGFzIE1vZGlmaWVyU3RhdGUpXG4gICAgdGhpcy5yZXN1bHQgPSBjcmVhdGVSZXN1bHQoZXh0ZW5kKHt9LCBvdGhlci5yZXN1bHQuY29vcmRzKSwgZXh0ZW5kKHt9LCBvdGhlci5yZXN1bHQucmVjdCkpXG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiB0aGlzKSB7XG4gICAgICB0aGlzW3Byb3BdID0gbnVsbFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVSZXN1bHQoY29vcmRzPzogUG9pbnQsIHJlY3Q/OiBGdWxsUmVjdCk6IE1vZGlmaWNhdGlvblJlc3VsdCB7XG4gIHJldHVybiB7XG4gICAgcmVjdCxcbiAgICBjb29yZHMsXG4gICAgZGVsdGE6IHsgeDogMCwgeTogMCB9LFxuICAgIHJlY3REZWx0YToge1xuICAgICAgbGVmdDogMCxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgdG9wOiAwLFxuICAgICAgYm90dG9tOiAwLFxuICAgIH0sXG4gICAgZXZlbnRQcm9wczogW10sXG4gICAgY2hhbmdlZDogdHJ1ZSxcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRNb2RpZmllckxpc3QoaW50ZXJhY3Rpb24pIHtcbiAgY29uc3QgYWN0aW9uT3B0aW9ucyA9IGludGVyYWN0aW9uLmludGVyYWN0YWJsZS5vcHRpb25zW2ludGVyYWN0aW9uLnByZXBhcmVkLm5hbWVdXG4gIGNvbnN0IGFjdGlvbk1vZGlmaWVycyA9IGFjdGlvbk9wdGlvbnMubW9kaWZpZXJzXG5cbiAgaWYgKGFjdGlvbk1vZGlmaWVycyAmJiBhY3Rpb25Nb2RpZmllcnMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGFjdGlvbk1vZGlmaWVyc1xuICB9XG5cbiAgcmV0dXJuIFsnc25hcCcsICdzbmFwU2l6ZScsICdzbmFwRWRnZXMnLCAncmVzdHJpY3QnLCAncmVzdHJpY3RFZGdlcycsICdyZXN0cmljdFNpemUnXVxuICAgIC5tYXAoKHR5cGUpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBhY3Rpb25PcHRpb25zW3R5cGVdXG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIG9wdGlvbnMgJiZcbiAgICAgICAgb3B0aW9ucy5lbmFibGVkICYmIHtcbiAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgIG1ldGhvZHM6IG9wdGlvbnMuX21ldGhvZHMsXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9KVxuICAgIC5maWx0ZXIoKG0pID0+ICEhbSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlY3RPZmZzZXQocmVjdCwgY29vcmRzKSB7XG4gIHJldHVybiByZWN0XG4gICAgPyB7XG4gICAgICAgIGxlZnQ6IGNvb3Jkcy54IC0gcmVjdC5sZWZ0LFxuICAgICAgICB0b3A6IGNvb3Jkcy55IC0gcmVjdC50b3AsXG4gICAgICAgIHJpZ2h0OiByZWN0LnJpZ2h0IC0gY29vcmRzLngsXG4gICAgICAgIGJvdHRvbTogcmVjdC5ib3R0b20gLSBjb29yZHMueSxcbiAgICAgIH1cbiAgICA6IHtcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICByaWdodDogMCxcbiAgICAgICAgYm90dG9tOiAwLFxuICAgICAgfVxufVxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RFdmVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RFdmVudCdcbmltcG9ydCB0eXBlIEludGVyYWN0aW9uIGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5cbmltcG9ydCB7IE1vZGlmaWNhdGlvbiB9IGZyb20gJy4vTW9kaWZpY2F0aW9uJ1xuaW1wb3J0IHR5cGUgeyBNb2RpZmllciwgTW9kaWZpZXJNb2R1bGUsIE1vZGlmaWVyU3RhdGUgfSBmcm9tICcuL3R5cGVzJ1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbicge1xuICBpbnRlcmZhY2UgSW50ZXJhY3Rpb24ge1xuICAgIG1vZGlmaWNhdGlvbj86IE1vZGlmaWNhdGlvblxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0RXZlbnQnIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0RXZlbnQge1xuICAgIG1vZGlmaWVycz86IEFycmF5PHtcbiAgICAgIG5hbWU6IHN0cmluZ1xuICAgICAgW2tleTogc3RyaW5nXTogYW55XG4gICAgfT5cbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJyB7XG4gIGludGVyZmFjZSBQZXJBY3Rpb25EZWZhdWx0cyB7XG4gICAgbW9kaWZpZXJzPzogTW9kaWZpZXJbXVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlTW9kaWZpZXI8XG4gIERlZmF1bHRzIGV4dGVuZHMgeyBlbmFibGVkPzogYm9vbGVhbiB9LFxuICBTdGF0ZSBleHRlbmRzIE1vZGlmaWVyU3RhdGUsXG4gIE5hbWUgZXh0ZW5kcyBzdHJpbmcsXG4gIFJlc3VsdCxcbj4obW9kdWxlOiBNb2RpZmllck1vZHVsZTxEZWZhdWx0cywgU3RhdGUsIFJlc3VsdD4sIG5hbWU/OiBOYW1lKSB7XG4gIGNvbnN0IHsgZGVmYXVsdHMgfSA9IG1vZHVsZVxuICBjb25zdCBtZXRob2RzID0ge1xuICAgIHN0YXJ0OiBtb2R1bGUuc3RhcnQsXG4gICAgc2V0OiBtb2R1bGUuc2V0LFxuICAgIGJlZm9yZUVuZDogbW9kdWxlLmJlZm9yZUVuZCxcbiAgICBzdG9wOiBtb2R1bGUuc3RvcCxcbiAgfVxuXG4gIGNvbnN0IG1vZGlmaWVyID0gKF9vcHRpb25zPzogUGFydGlhbDxEZWZhdWx0cz4pID0+IHtcbiAgICBjb25zdCBvcHRpb25zID0gKF9vcHRpb25zIHx8IHt9KSBhcyBEZWZhdWx0c1xuXG4gICAgb3B0aW9ucy5lbmFibGVkID0gb3B0aW9ucy5lbmFibGVkICE9PSBmYWxzZVxuXG4gICAgLy8gYWRkIG1pc3NpbmcgZGVmYXVsdHMgdG8gb3B0aW9uc1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiBkZWZhdWx0cykge1xuICAgICAgaWYgKCEocHJvcCBpbiBvcHRpb25zKSkge1xuICAgICAgICA7KG9wdGlvbnMgYXMgYW55KVtwcm9wXSA9IGRlZmF1bHRzW3Byb3BdXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgbTogTW9kaWZpZXI8RGVmYXVsdHMsIFN0YXRlLCBOYW1lLCBSZXN1bHQ+ID0ge1xuICAgICAgb3B0aW9ucyxcbiAgICAgIG1ldGhvZHMsXG4gICAgICBuYW1lLFxuICAgICAgZW5hYmxlOiAoKSA9PiB7XG4gICAgICAgIG9wdGlvbnMuZW5hYmxlZCA9IHRydWVcbiAgICAgICAgcmV0dXJuIG1cbiAgICAgIH0sXG4gICAgICBkaXNhYmxlOiAoKSA9PiB7XG4gICAgICAgIG9wdGlvbnMuZW5hYmxlZCA9IGZhbHNlXG4gICAgICAgIHJldHVybiBtXG4gICAgICB9LFxuICAgIH1cblxuICAgIHJldHVybiBtXG4gIH1cblxuICBpZiAobmFtZSAmJiB0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBmb3IgYmFja3dyYWRzIGNvbXBhdGliaWxpdHlcbiAgICBtb2RpZmllci5fZGVmYXVsdHMgPSBkZWZhdWx0c1xuICAgIG1vZGlmaWVyLl9tZXRob2RzID0gbWV0aG9kc1xuICB9XG5cbiAgcmV0dXJuIG1vZGlmaWVyXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudE1vZGlmaWVycyh7XG4gIGlFdmVudCxcbiAgaW50ZXJhY3Rpb24sXG59OiB7XG4gIGlFdmVudDogSW50ZXJhY3RFdmVudDxhbnk+XG4gIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxhbnk+XG59KSB7XG4gIGNvbnN0IHJlc3VsdCA9IGludGVyYWN0aW9uLm1vZGlmaWNhdGlvbiEucmVzdWx0XG5cbiAgaWYgKHJlc3VsdCkge1xuICAgIGlFdmVudC5tb2RpZmllcnMgPSByZXN1bHQuZXZlbnRQcm9wc1xuICB9XG59XG5cbmNvbnN0IG1vZGlmaWVyc0Jhc2U6IFBsdWdpbiA9IHtcbiAgaWQ6ICdtb2RpZmllcnMvYmFzZScsXG4gIGJlZm9yZTogWydhY3Rpb25zJ10sXG4gIGluc3RhbGw6IChzY29wZSkgPT4ge1xuICAgIHNjb3BlLmRlZmF1bHRzLnBlckFjdGlvbi5tb2RpZmllcnMgPSBbXVxuICB9LFxuICBsaXN0ZW5lcnM6IHtcbiAgICAnaW50ZXJhY3Rpb25zOm5ldyc6ICh7IGludGVyYWN0aW9uIH0pID0+IHtcbiAgICAgIGludGVyYWN0aW9uLm1vZGlmaWNhdGlvbiA9IG5ldyBNb2RpZmljYXRpb24oaW50ZXJhY3Rpb24pXG4gICAgfSxcblxuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1zdGFydCc6IChhcmcpID0+IHtcbiAgICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IGFyZ1xuICAgICAgY29uc3QgbW9kaWZpY2F0aW9uID0gYXJnLmludGVyYWN0aW9uLm1vZGlmaWNhdGlvbiFcblxuICAgICAgbW9kaWZpY2F0aW9uLnN0YXJ0KGFyZywgaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LnBhZ2UpXG4gICAgICBpbnRlcmFjdGlvbi5lZGdlcyA9IG1vZGlmaWNhdGlvbi5lZGdlc1xuICAgICAgbW9kaWZpY2F0aW9uLmFwcGx5VG9JbnRlcmFjdGlvbihhcmcpXG4gICAgfSxcblxuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1tb3ZlJzogKGFyZykgPT4ge1xuICAgICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gYXJnXG4gICAgICBjb25zdCB7IG1vZGlmaWNhdGlvbiB9ID0gaW50ZXJhY3Rpb25cbiAgICAgIGNvbnN0IHJldCA9IG1vZGlmaWNhdGlvbi5zZXRBbmRBcHBseShhcmcpXG4gICAgICBpbnRlcmFjdGlvbi5lZGdlcyA9IG1vZGlmaWNhdGlvbi5lZGdlc1xuXG4gICAgICByZXR1cm4gcmV0XG4gICAgfSxcblxuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1lbmQnOiAoYXJnKSA9PiB7XG4gICAgICBjb25zdCB7IGludGVyYWN0aW9uIH0gPSBhcmdcbiAgICAgIGNvbnN0IHsgbW9kaWZpY2F0aW9uIH0gPSBpbnRlcmFjdGlvblxuICAgICAgY29uc3QgcmV0ID0gbW9kaWZpY2F0aW9uLmJlZm9yZUVuZChhcmcpXG4gICAgICBpbnRlcmFjdGlvbi5lZGdlcyA9IG1vZGlmaWNhdGlvbi5zdGFydEVkZ2VzXG5cbiAgICAgIHJldHVybiByZXRcbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tc3RhcnQnOiBhZGRFdmVudE1vZGlmaWVycyxcbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1tb3ZlJzogYWRkRXZlbnRNb2RpZmllcnMsXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tZW5kJzogYWRkRXZlbnRNb2RpZmllcnMsXG5cbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1zdGFydCc6IChhcmcpID0+IGFyZy5pbnRlcmFjdGlvbi5tb2RpZmljYXRpb24ucmVzdG9yZUludGVyYWN0aW9uQ29vcmRzKGFyZyksXG4gICAgJ2ludGVyYWN0aW9uczphZnRlci1hY3Rpb24tbW92ZSc6IChhcmcpID0+IGFyZy5pbnRlcmFjdGlvbi5tb2RpZmljYXRpb24ucmVzdG9yZUludGVyYWN0aW9uQ29vcmRzKGFyZyksXG5cbiAgICAnaW50ZXJhY3Rpb25zOnN0b3AnOiAoYXJnKSA9PiBhcmcuaW50ZXJhY3Rpb24ubW9kaWZpY2F0aW9uLnN0b3AoYXJnKSxcbiAgfSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgbW9kaWZpZXJzQmFzZVxuIiwgImltcG9ydCB0eXBlIHsgUG9pbnQsIExpc3RlbmVycywgT3JCb29sZWFuLCBFbGVtZW50LCBSZWN0IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuZXhwb3J0IGludGVyZmFjZSBEZWZhdWx0cyB7XG4gIGJhc2U6IEJhc2VEZWZhdWx0c1xuICBwZXJBY3Rpb246IFBlckFjdGlvbkRlZmF1bHRzXG4gIGFjdGlvbnM6IEFjdGlvbkRlZmF1bHRzXG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktaW50ZXJmYWNlXG5leHBvcnQgaW50ZXJmYWNlIEFjdGlvbkRlZmF1bHRzIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZURlZmF1bHRzIHtcbiAgcHJldmVudERlZmF1bHQ/OiAnYWx3YXlzJyB8ICduZXZlcicgfCAnYXV0bydcbiAgZGVsdGFTb3VyY2U/OiAncGFnZScgfCAnY2xpZW50J1xuICBjb250ZXh0PzogTm9kZVxuICBnZXRSZWN0PzogKGVsZW1lbnQ6IEVsZW1lbnQpID0+IFJlY3Rcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQZXJBY3Rpb25EZWZhdWx0cyB7XG4gIGVuYWJsZWQ/OiBib29sZWFuXG4gIG9yaWdpbj86IFBvaW50IHwgc3RyaW5nIHwgRWxlbWVudFxuICBsaXN0ZW5lcnM/OiBMaXN0ZW5lcnNcbiAgYWxsb3dGcm9tPzogc3RyaW5nIHwgRWxlbWVudFxuICBpZ25vcmVGcm9tPzogc3RyaW5nIHwgRWxlbWVudFxufVxuXG5leHBvcnQgdHlwZSBPcHRpb25zID0gUGFydGlhbDxCYXNlRGVmYXVsdHM+ICZcbiAgUGFydGlhbDxQZXJBY3Rpb25EZWZhdWx0cz4gJiB7XG4gICAgW1AgaW4ga2V5b2YgQWN0aW9uRGVmYXVsdHNdPzogUGFydGlhbDxBY3Rpb25EZWZhdWx0c1tQXT5cbiAgfVxuXG5leHBvcnQgaW50ZXJmYWNlIE9wdGlvbnNBcmcgZXh0ZW5kcyBCYXNlRGVmYXVsdHMsIE9yQm9vbGVhbjxQYXJ0aWFsPEFjdGlvbkRlZmF1bHRzPj4ge31cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRzOiBEZWZhdWx0cyA9IHtcbiAgYmFzZToge1xuICAgIHByZXZlbnREZWZhdWx0OiAnYXV0bycsXG4gICAgZGVsdGFTb3VyY2U6ICdwYWdlJyxcbiAgfSxcblxuICBwZXJBY3Rpb246IHtcbiAgICBlbmFibGVkOiBmYWxzZSxcbiAgICBvcmlnaW46IHsgeDogMCwgeTogMCB9LFxuICB9LFxuXG4gIGFjdGlvbnM6IHt9IGFzIEFjdGlvbkRlZmF1bHRzLFxufVxuIiwgImltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0IGdldE9yaWdpblhZIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2dldE9yaWdpblhZJ1xuaW1wb3J0IGh5cG90IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2h5cG90J1xuXG5pbXBvcnQgdHlwZSB7IFBvaW50LCBGdWxsUmVjdCwgUG9pbnRlckV2ZW50VHlwZSwgRWxlbWVudCwgQWN0aW9uTmFtZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmltcG9ydCB7IEJhc2VFdmVudCB9IGZyb20gJy4vQmFzZUV2ZW50J1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGlvbiB9IGZyb20gJy4vSW50ZXJhY3Rpb24nXG5pbXBvcnQgeyBkZWZhdWx0cyB9IGZyb20gJy4vb3B0aW9ucydcblxuZXhwb3J0IHR5cGUgRXZlbnRQaGFzZSA9IGtleW9mIFBoYXNlTWFwXG5cbmV4cG9ydCBpbnRlcmZhY2UgUGhhc2VNYXAge1xuICBzdGFydDogdHJ1ZVxuICBtb3ZlOiB0cnVlXG4gIGVuZDogdHJ1ZVxufVxuXG4vLyBkZWZpbmVkIG91dHNpZGUgb2YgY2xhc3MgZGVmaW5pdGlvbiB0byBhdm9pZCBhc3NpZ25tZW50IG9mIHVuZGVmaW5lZCBkdXJpbmdcbi8vIGNvbnN0cnVjdGlvblxuZXhwb3J0IGludGVyZmFjZSBJbnRlcmFjdEV2ZW50IHtcbiAgcGFnZVg6IG51bWJlclxuICBwYWdlWTogbnVtYmVyXG5cbiAgY2xpZW50WDogbnVtYmVyXG4gIGNsaWVudFk6IG51bWJlclxuXG4gIGR4OiBudW1iZXJcbiAgZHk6IG51bWJlclxuXG4gIHZlbG9jaXR5WDogbnVtYmVyXG4gIHZlbG9jaXR5WTogbnVtYmVyXG59XG5cbmV4cG9ydCBjbGFzcyBJbnRlcmFjdEV2ZW50PFxuICBUIGV4dGVuZHMgQWN0aW9uTmFtZSA9IG5ldmVyLFxuICBQIGV4dGVuZHMgRXZlbnRQaGFzZSA9IEV2ZW50UGhhc2UsXG4+IGV4dGVuZHMgQmFzZUV2ZW50PFQ+IHtcbiAgZGVjbGFyZSB0YXJnZXQ6IEVsZW1lbnRcbiAgZGVjbGFyZSBjdXJyZW50VGFyZ2V0OiBFbGVtZW50XG4gIHJlbGF0ZWRUYXJnZXQ6IEVsZW1lbnQgfCBudWxsID0gbnVsbFxuICBzY3JlZW5YPzogbnVtYmVyXG4gIHNjcmVlblk/OiBudW1iZXJcbiAgYnV0dG9uOiBudW1iZXJcbiAgYnV0dG9uczogbnVtYmVyXG4gIGN0cmxLZXk6IGJvb2xlYW5cbiAgc2hpZnRLZXk6IGJvb2xlYW5cbiAgYWx0S2V5OiBib29sZWFuXG4gIG1ldGFLZXk6IGJvb2xlYW5cbiAgcGFnZTogUG9pbnRcbiAgY2xpZW50OiBQb2ludFxuICBkZWx0YTogUG9pbnRcbiAgcmVjdDogRnVsbFJlY3RcbiAgeDA6IG51bWJlclxuICB5MDogbnVtYmVyXG4gIHQwOiBudW1iZXJcbiAgZHQ6IG51bWJlclxuICBkdXJhdGlvbjogbnVtYmVyXG4gIGNsaWVudFgwOiBudW1iZXJcbiAgY2xpZW50WTA6IG51bWJlclxuICB2ZWxvY2l0eTogUG9pbnRcbiAgc3BlZWQ6IG51bWJlclxuICBzd2lwZTogUmV0dXJuVHlwZTxJbnRlcmFjdEV2ZW50PFQ+WydnZXRTd2lwZSddPlxuICAvLyByZXNpemVcbiAgYXhlcz86ICd4JyB8ICd5JyB8ICd4eSdcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcmVFbmQ/OiBib29sZWFuXG5cbiAgY29uc3RydWN0b3IoXG4gICAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPFQ+LFxuICAgIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLFxuICAgIGFjdGlvbk5hbWU6IFQsXG4gICAgcGhhc2U6IFAsXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgICBwcmVFbmQ/OiBib29sZWFuLFxuICAgIHR5cGU/OiBzdHJpbmcsXG4gICkge1xuICAgIHN1cGVyKGludGVyYWN0aW9uKVxuXG4gICAgZWxlbWVudCA9IGVsZW1lbnQgfHwgaW50ZXJhY3Rpb24uZWxlbWVudFxuXG4gICAgY29uc3QgdGFyZ2V0ID0gaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlXG4gICAgY29uc3QgZGVsdGFTb3VyY2UgPSAoKCh0YXJnZXQgJiYgdGFyZ2V0Lm9wdGlvbnMpIHx8IGRlZmF1bHRzKSBhcyBhbnkpLmRlbHRhU291cmNlIGFzICdwYWdlJyB8ICdjbGllbnQnXG4gICAgY29uc3Qgb3JpZ2luID0gZ2V0T3JpZ2luWFkodGFyZ2V0LCBlbGVtZW50LCBhY3Rpb25OYW1lKVxuICAgIGNvbnN0IHN0YXJ0aW5nID0gcGhhc2UgPT09ICdzdGFydCdcbiAgICBjb25zdCBlbmRpbmcgPSBwaGFzZSA9PT0gJ2VuZCdcbiAgICBjb25zdCBwcmV2RXZlbnQgPSBzdGFydGluZyA/IHRoaXMgOiBpbnRlcmFjdGlvbi5wcmV2RXZlbnRcbiAgICBjb25zdCBjb29yZHMgPSBzdGFydGluZ1xuICAgICAgPyBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnRcbiAgICAgIDogZW5kaW5nXG4gICAgICAgID8geyBwYWdlOiBwcmV2RXZlbnQucGFnZSwgY2xpZW50OiBwcmV2RXZlbnQuY2xpZW50LCB0aW1lU3RhbXA6IGludGVyYWN0aW9uLmNvb3Jkcy5jdXIudGltZVN0YW1wIH1cbiAgICAgICAgOiBpbnRlcmFjdGlvbi5jb29yZHMuY3VyXG5cbiAgICB0aGlzLnBhZ2UgPSBleHRlbmQoe30sIGNvb3Jkcy5wYWdlKVxuICAgIHRoaXMuY2xpZW50ID0gZXh0ZW5kKHt9LCBjb29yZHMuY2xpZW50KVxuICAgIHRoaXMucmVjdCA9IGV4dGVuZCh7fSwgaW50ZXJhY3Rpb24ucmVjdClcbiAgICB0aGlzLnRpbWVTdGFtcCA9IGNvb3Jkcy50aW1lU3RhbXBcblxuICAgIGlmICghZW5kaW5nKSB7XG4gICAgICB0aGlzLnBhZ2UueCAtPSBvcmlnaW4ueFxuICAgICAgdGhpcy5wYWdlLnkgLT0gb3JpZ2luLnlcblxuICAgICAgdGhpcy5jbGllbnQueCAtPSBvcmlnaW4ueFxuICAgICAgdGhpcy5jbGllbnQueSAtPSBvcmlnaW4ueVxuICAgIH1cblxuICAgIHRoaXMuY3RybEtleSA9IGV2ZW50LmN0cmxLZXlcbiAgICB0aGlzLmFsdEtleSA9IGV2ZW50LmFsdEtleVxuICAgIHRoaXMuc2hpZnRLZXkgPSBldmVudC5zaGlmdEtleVxuICAgIHRoaXMubWV0YUtleSA9IGV2ZW50Lm1ldGFLZXlcbiAgICB0aGlzLmJ1dHRvbiA9IChldmVudCBhcyBNb3VzZUV2ZW50KS5idXR0b25cbiAgICB0aGlzLmJ1dHRvbnMgPSAoZXZlbnQgYXMgTW91c2VFdmVudCkuYnV0dG9uc1xuICAgIHRoaXMudGFyZ2V0ID0gZWxlbWVudFxuICAgIHRoaXMuY3VycmVudFRhcmdldCA9IGVsZW1lbnRcbiAgICB0aGlzLnByZUVuZCA9IHByZUVuZFxuICAgIHRoaXMudHlwZSA9IHR5cGUgfHwgYWN0aW9uTmFtZSArIChwaGFzZSB8fCAnJylcbiAgICB0aGlzLmludGVyYWN0YWJsZSA9IHRhcmdldFxuXG4gICAgdGhpcy50MCA9IHN0YXJ0aW5nID8gaW50ZXJhY3Rpb24ucG9pbnRlcnNbaW50ZXJhY3Rpb24ucG9pbnRlcnMubGVuZ3RoIC0gMV0uZG93blRpbWUgOiBwcmV2RXZlbnQudDBcblxuICAgIHRoaXMueDAgPSBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQucGFnZS54IC0gb3JpZ2luLnhcbiAgICB0aGlzLnkwID0gaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LnBhZ2UueSAtIG9yaWdpbi55XG4gICAgdGhpcy5jbGllbnRYMCA9IGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydC5jbGllbnQueCAtIG9yaWdpbi54XG4gICAgdGhpcy5jbGllbnRZMCA9IGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydC5jbGllbnQueSAtIG9yaWdpbi55XG5cbiAgICBpZiAoc3RhcnRpbmcgfHwgZW5kaW5nKSB7XG4gICAgICB0aGlzLmRlbHRhID0geyB4OiAwLCB5OiAwIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZWx0YSA9IHtcbiAgICAgICAgeDogdGhpc1tkZWx0YVNvdXJjZV0ueCAtIHByZXZFdmVudFtkZWx0YVNvdXJjZV0ueCxcbiAgICAgICAgeTogdGhpc1tkZWx0YVNvdXJjZV0ueSAtIHByZXZFdmVudFtkZWx0YVNvdXJjZV0ueSxcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmR0ID0gaW50ZXJhY3Rpb24uY29vcmRzLmRlbHRhLnRpbWVTdGFtcFxuICAgIHRoaXMuZHVyYXRpb24gPSB0aGlzLnRpbWVTdGFtcCAtIHRoaXMudDBcblxuICAgIC8vIHZlbG9jaXR5IGFuZCBzcGVlZCBpbiBwaXhlbHMgcGVyIHNlY29uZFxuICAgIHRoaXMudmVsb2NpdHkgPSBleHRlbmQoe30sIGludGVyYWN0aW9uLmNvb3Jkcy52ZWxvY2l0eVtkZWx0YVNvdXJjZV0pXG4gICAgdGhpcy5zcGVlZCA9IGh5cG90KHRoaXMudmVsb2NpdHkueCwgdGhpcy52ZWxvY2l0eS55KVxuXG4gICAgdGhpcy5zd2lwZSA9IGVuZGluZyB8fCBwaGFzZSA9PT0gJ2luZXJ0aWFzdGFydCcgPyB0aGlzLmdldFN3aXBlKCkgOiBudWxsXG4gIH1cblxuICBnZXRTd2lwZSgpIHtcbiAgICBjb25zdCBpbnRlcmFjdGlvbiA9IHRoaXMuX2ludGVyYWN0aW9uXG5cbiAgICBpZiAoaW50ZXJhY3Rpb24ucHJldkV2ZW50LnNwZWVkIDwgNjAwIHx8IHRoaXMudGltZVN0YW1wIC0gaW50ZXJhY3Rpb24ucHJldkV2ZW50LnRpbWVTdGFtcCA+IDE1MCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBsZXQgYW5nbGUgPSAoMTgwICogTWF0aC5hdGFuMihpbnRlcmFjdGlvbi5wcmV2RXZlbnQudmVsb2NpdHlZLCBpbnRlcmFjdGlvbi5wcmV2RXZlbnQudmVsb2NpdHlYKSkgLyBNYXRoLlBJXG4gICAgY29uc3Qgb3ZlcmxhcCA9IDIyLjVcblxuICAgIGlmIChhbmdsZSA8IDApIHtcbiAgICAgIGFuZ2xlICs9IDM2MFxuICAgIH1cblxuICAgIGNvbnN0IGxlZnQgPSAxMzUgLSBvdmVybGFwIDw9IGFuZ2xlICYmIGFuZ2xlIDwgMjI1ICsgb3ZlcmxhcFxuICAgIGNvbnN0IHVwID0gMjI1IC0gb3ZlcmxhcCA8PSBhbmdsZSAmJiBhbmdsZSA8IDMxNSArIG92ZXJsYXBcblxuICAgIGNvbnN0IHJpZ2h0ID0gIWxlZnQgJiYgKDMxNSAtIG92ZXJsYXAgPD0gYW5nbGUgfHwgYW5nbGUgPCA0NSArIG92ZXJsYXApXG4gICAgY29uc3QgZG93biA9ICF1cCAmJiA0NSAtIG92ZXJsYXAgPD0gYW5nbGUgJiYgYW5nbGUgPCAxMzUgKyBvdmVybGFwXG5cbiAgICByZXR1cm4ge1xuICAgICAgdXAsXG4gICAgICBkb3duLFxuICAgICAgbGVmdCxcbiAgICAgIHJpZ2h0LFxuICAgICAgYW5nbGUsXG4gICAgICBzcGVlZDogaW50ZXJhY3Rpb24ucHJldkV2ZW50LnNwZWVkLFxuICAgICAgdmVsb2NpdHk6IHtcbiAgICAgICAgeDogaW50ZXJhY3Rpb24ucHJldkV2ZW50LnZlbG9jaXR5WCxcbiAgICAgICAgeTogaW50ZXJhY3Rpb24ucHJldkV2ZW50LnZlbG9jaXR5WSxcbiAgICAgIH0sXG4gICAgfVxuICB9XG5cbiAgcHJldmVudERlZmF1bHQoKSB7fVxuXG4gIC8qKlxuICAgKiBEb24ndCBjYWxsIGxpc3RlbmVycyBvbiB0aGUgcmVtYWluaW5nIHRhcmdldHNcbiAgICovXG4gIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpIHtcbiAgICB0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIERvbid0IGNhbGwgYW55IG90aGVyIGxpc3RlbmVycyAoZXZlbiBvbiB0aGUgY3VycmVudCB0YXJnZXQpXG4gICAqL1xuICBzdG9wUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlXG4gIH1cbn1cblxuLy8gZ2V0dGVycyBhbmQgc2V0dGVycyBkZWZpbmVkIGhlcmUgdG8gc3VwcG9ydCB0eXBlc2NyaXB0IDMuNiBhbmQgYmVsb3cgd2hpY2hcbi8vIGRvbid0IHN1cHBvcnQgZ2V0dGVyIGFuZCBzZXR0ZXJzIGluIC5kLnRzIGZpbGVzXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhJbnRlcmFjdEV2ZW50LnByb3RvdHlwZSwge1xuICBwYWdlWDoge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhZ2UueFxuICAgIH0sXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICB0aGlzLnBhZ2UueCA9IHZhbHVlXG4gICAgfSxcbiAgfSxcbiAgcGFnZVk6IHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYWdlLnlcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgdGhpcy5wYWdlLnkgPSB2YWx1ZVxuICAgIH0sXG4gIH0sXG5cbiAgY2xpZW50WDoge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsaWVudC54XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMuY2xpZW50LnggPSB2YWx1ZVxuICAgIH0sXG4gIH0sXG4gIGNsaWVudFk6IHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbGllbnQueVxuICAgIH0sXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICB0aGlzLmNsaWVudC55ID0gdmFsdWVcbiAgICB9LFxuICB9LFxuXG4gIGR4OiB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGVsdGEueFxuICAgIH0sXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICB0aGlzLmRlbHRhLnggPSB2YWx1ZVxuICAgIH0sXG4gIH0sXG4gIGR5OiB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGVsdGEueVxuICAgIH0sXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICB0aGlzLmRlbHRhLnkgPSB2YWx1ZVxuICAgIH0sXG4gIH0sXG5cbiAgdmVsb2NpdHlYOiB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMudmVsb2NpdHkueFxuICAgIH0sXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICB0aGlzLnZlbG9jaXR5LnggPSB2YWx1ZVxuICAgIH0sXG4gIH0sXG4gIHZlbG9jaXR5WToge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZlbG9jaXR5LnlcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgdGhpcy52ZWxvY2l0eS55ID0gdmFsdWVcbiAgICB9LFxuICB9LFxufSlcbiIsICJpbXBvcnQgdHlwZSB7IFBvaW50ZXJFdmVudFR5cGUsIFBvaW50ZXJUeXBlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuZXhwb3J0IGNsYXNzIFBvaW50ZXJJbmZvIHtcbiAgaWQ6IG51bWJlclxuICBwb2ludGVyOiBQb2ludGVyVHlwZVxuICBldmVudDogUG9pbnRlckV2ZW50VHlwZVxuICBkb3duVGltZTogbnVtYmVyXG4gIGRvd25UYXJnZXQ6IE5vZGVcblxuICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBwb2ludGVyOiBQb2ludGVyVHlwZSwgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsIGRvd25UaW1lOiBudW1iZXIsIGRvd25UYXJnZXQ6IE5vZGUpIHtcbiAgICB0aGlzLmlkID0gaWRcbiAgICB0aGlzLnBvaW50ZXIgPSBwb2ludGVyXG4gICAgdGhpcy5ldmVudCA9IGV2ZW50XG4gICAgdGhpcy5kb3duVGltZSA9IGRvd25UaW1lXG4gICAgdGhpcy5kb3duVGFyZ2V0ID0gZG93blRhcmdldFxuICB9XG59XG4iLCAiaW1wb3J0ICogYXMgYXJyIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2FycidcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0IGh5cG90IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2h5cG90J1xuaW1wb3J0IHsgd2Fybk9uY2UsIGNvcHlBY3Rpb24gfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9taXNjJ1xuaW1wb3J0ICogYXMgcG9pbnRlclV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3BvaW50ZXJVdGlscydcbmltcG9ydCAqIGFzIHJlY3RVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yZWN0J1xuXG5pbXBvcnQgdHlwZSB7XG4gIEVsZW1lbnQsXG4gIEVkZ2VPcHRpb25zLFxuICBQb2ludGVyRXZlbnRUeXBlLFxuICBQb2ludGVyVHlwZSxcbiAgRnVsbFJlY3QsXG4gIENvb3Jkc1NldCxcbiAgQWN0aW9uTmFtZSxcbiAgQWN0aW9uUHJvcHMsXG59IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnLi9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IEV2ZW50UGhhc2UgfSBmcm9tICcuL0ludGVyYWN0RXZlbnQnXG5pbXBvcnQgeyBJbnRlcmFjdEV2ZW50IH0gZnJvbSAnLi9JbnRlcmFjdEV2ZW50J1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25EZWZhdWx0cyB9IGZyb20gJy4vb3B0aW9ucydcbmltcG9ydCB7IFBvaW50ZXJJbmZvIH0gZnJvbSAnLi9Qb2ludGVySW5mbydcbmltcG9ydCB0eXBlIHsgU2NvcGUgfSBmcm9tICcuL3Njb3BlJ1xuXG5leHBvcnQgZW51bSBfUHJveHlWYWx1ZXMge1xuICBpbnRlcmFjdGFibGUgPSAnJyxcbiAgZWxlbWVudCA9ICcnLFxuICBwcmVwYXJlZCA9ICcnLFxuICBwb2ludGVySXNEb3duID0gJycsXG4gIHBvaW50ZXJXYXNNb3ZlZCA9ICcnLFxuICBfcHJveHkgPSAnJyxcbn1cblxuZXhwb3J0IGVudW0gX1Byb3h5TWV0aG9kcyB7XG4gIHN0YXJ0ID0gJycsXG4gIG1vdmUgPSAnJyxcbiAgZW5kID0gJycsXG4gIHN0b3AgPSAnJyxcbiAgaW50ZXJhY3RpbmcgPSAnJyxcbn1cblxuZXhwb3J0IHR5cGUgUG9pbnRlckFyZ1Byb3BzPFQgZXh0ZW5kcyB7fSA9IHt9PiA9IHtcbiAgcG9pbnRlcjogUG9pbnRlclR5cGVcbiAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGVcbiAgZXZlbnRUYXJnZXQ6IE5vZGVcbiAgcG9pbnRlckluZGV4OiBudW1iZXJcbiAgcG9pbnRlckluZm86IFBvaW50ZXJJbmZvXG4gIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxuZXZlcj5cbn0gJiBUXG5cbmV4cG9ydCBpbnRlcmZhY2UgRG9QaGFzZUFyZzxUIGV4dGVuZHMgQWN0aW9uTmFtZSwgUCBleHRlbmRzIEV2ZW50UGhhc2U+IHtcbiAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGVcbiAgcGhhc2U6IEV2ZW50UGhhc2VcbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPFQ+XG4gIGlFdmVudDogSW50ZXJhY3RFdmVudDxULCBQPlxuICBwcmVFbmQ/OiBib29sZWFuXG4gIHR5cGU/OiBzdHJpbmdcbn1cblxuZXhwb3J0IHR5cGUgRG9BbnlQaGFzZUFyZyA9IERvUGhhc2VBcmc8QWN0aW9uTmFtZSwgRXZlbnRQaGFzZT5cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnIHtcbiAgaW50ZXJmYWNlIFNpZ25hbEFyZ3Mge1xuICAgICdpbnRlcmFjdGlvbnM6bmV3JzogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248QWN0aW9uTmFtZT4gfVxuICAgICdpbnRlcmFjdGlvbnM6ZG93bic6IFBvaW50ZXJBcmdQcm9wczx7XG4gICAgICB0eXBlOiAnZG93bidcbiAgICB9PlxuICAgICdpbnRlcmFjdGlvbnM6bW92ZSc6IFBvaW50ZXJBcmdQcm9wczx7XG4gICAgICB0eXBlOiAnbW92ZSdcbiAgICAgIGR4OiBudW1iZXJcbiAgICAgIGR5OiBudW1iZXJcbiAgICAgIGR1cGxpY2F0ZTogYm9vbGVhblxuICAgIH0+XG4gICAgJ2ludGVyYWN0aW9uczp1cCc6IFBvaW50ZXJBcmdQcm9wczx7XG4gICAgICB0eXBlOiAndXAnXG4gICAgICBjdXJFdmVudFRhcmdldDogRXZlbnRUYXJnZXRcbiAgICB9PlxuICAgICdpbnRlcmFjdGlvbnM6Y2FuY2VsJzogU2lnbmFsQXJnc1snaW50ZXJhY3Rpb25zOnVwJ10gJiB7XG4gICAgICB0eXBlOiAnY2FuY2VsJ1xuICAgICAgY3VyRXZlbnRUYXJnZXQ6IEV2ZW50VGFyZ2V0XG4gICAgfVxuICAgICdpbnRlcmFjdGlvbnM6dXBkYXRlLXBvaW50ZXInOiBQb2ludGVyQXJnUHJvcHM8e1xuICAgICAgZG93bjogYm9vbGVhblxuICAgIH0+XG4gICAgJ2ludGVyYWN0aW9uczpyZW1vdmUtcG9pbnRlcic6IFBvaW50ZXJBcmdQcm9wc1xuICAgICdpbnRlcmFjdGlvbnM6Ymx1cic6IHsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPG5ldmVyPjsgZXZlbnQ6IEV2ZW50OyB0eXBlOiAnYmx1cicgfVxuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1zdGFydCc6IE9taXQ8RG9BbnlQaGFzZUFyZywgJ2lFdmVudCc+XG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tc3RhcnQnOiBEb0FueVBoYXNlQXJnXG4gICAgJ2ludGVyYWN0aW9uczphZnRlci1hY3Rpb24tc3RhcnQnOiBEb0FueVBoYXNlQXJnXG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLW1vdmUnOiBPbWl0PERvQW55UGhhc2VBcmcsICdpRXZlbnQnPlxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLW1vdmUnOiBEb0FueVBoYXNlQXJnXG4gICAgJ2ludGVyYWN0aW9uczphZnRlci1hY3Rpb24tbW92ZSc6IERvQW55UGhhc2VBcmdcbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tZW5kJzogT21pdDxEb0FueVBoYXNlQXJnLCAnaUV2ZW50Jz5cbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1lbmQnOiBEb0FueVBoYXNlQXJnXG4gICAgJ2ludGVyYWN0aW9uczphZnRlci1hY3Rpb24tZW5kJzogRG9BbnlQaGFzZUFyZ1xuICAgICdpbnRlcmFjdGlvbnM6c3RvcCc6IHsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uIH1cbiAgfVxufVxuXG5leHBvcnQgdHlwZSBJbnRlcmFjdGlvblByb3h5PFQgZXh0ZW5kcyBBY3Rpb25OYW1lIHwgbnVsbCA9IG5ldmVyPiA9IFBpY2s8XG4gIEludGVyYWN0aW9uPFQ+LFxuICBFeGNsdWRlPGtleW9mIHR5cGVvZiBfUHJveHlWYWx1ZXMgfCBrZXlvZiB0eXBlb2YgX1Byb3h5TWV0aG9kcywgJ19wcm94eSc+XG4+XG5cbmxldCBpZENvdW50ZXIgPSAwXG5cbmV4cG9ydCBjbGFzcyBJbnRlcmFjdGlvbjxUIGV4dGVuZHMgQWN0aW9uTmFtZSB8IG51bGwgPSBBY3Rpb25OYW1lPiB7XG4gIC8qKiBjdXJyZW50IGludGVyYWN0YWJsZSBiZWluZyBpbnRlcmFjdGVkIHdpdGggKi9cbiAgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUgfCBudWxsID0gbnVsbFxuXG4gIC8qKiB0aGUgdGFyZ2V0IGVsZW1lbnQgb2YgdGhlIGludGVyYWN0YWJsZSAqL1xuICBlbGVtZW50OiBFbGVtZW50IHwgbnVsbCA9IG51bGxcbiAgcmVjdDogRnVsbFJlY3QgfCBudWxsID0gbnVsbFxuICAvKiogQGludGVybmFsICovXG4gIF9yZWN0cz86IHtcbiAgICBzdGFydDogRnVsbFJlY3RcbiAgICBjb3JyZWN0ZWQ6IEZ1bGxSZWN0XG4gICAgcHJldmlvdXM6IEZ1bGxSZWN0XG4gICAgZGVsdGE6IEZ1bGxSZWN0XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBlZGdlczogRWRnZU9wdGlvbnMgfCBudWxsID0gbnVsbFxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3Njb3BlRmlyZTogU2NvcGVbJ2ZpcmUnXVxuXG4gIC8vIGFjdGlvbiB0aGF0J3MgcmVhZHkgdG8gYmUgZmlyZWQgb24gbmV4dCBtb3ZlIGV2ZW50XG4gIHByZXBhcmVkOiBBY3Rpb25Qcm9wczxUPiA9IHtcbiAgICBuYW1lOiBudWxsLFxuICAgIGF4aXM6IG51bGwsXG4gICAgZWRnZXM6IG51bGwsXG4gIH1cblxuICBwb2ludGVyVHlwZTogc3RyaW5nXG5cbiAgLyoqIEBpbnRlcm5hbCBrZWVwIHRyYWNrIG9mIGFkZGVkIHBvaW50ZXJzICovXG4gIHBvaW50ZXJzOiBQb2ludGVySW5mb1tdID0gW11cblxuICAvKiogQGludGVybmFsIHBvaW50ZXJkb3duL21vdXNlZG93bi90b3VjaHN0YXJ0IGV2ZW50ICovXG4gIGRvd25FdmVudDogUG9pbnRlckV2ZW50VHlwZSB8IG51bGwgPSBudWxsXG5cbiAgLyoqIEBpbnRlcm5hbCAqLyBkb3duUG9pbnRlcjogUG9pbnRlclR5cGUgPSB7fSBhcyBQb2ludGVyVHlwZVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2xhdGVzdFBvaW50ZXI6IHtcbiAgICBwb2ludGVyOiBQb2ludGVyVHlwZVxuICAgIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlXG4gICAgZXZlbnRUYXJnZXQ6IE5vZGVcbiAgfSA9IHtcbiAgICBwb2ludGVyOiBudWxsLFxuICAgIGV2ZW50OiBudWxsLFxuICAgIGV2ZW50VGFyZ2V0OiBudWxsLFxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqLyBwcmV2RXZlbnQ6IEludGVyYWN0RXZlbnQ8VCwgRXZlbnRQaGFzZT4gPSBudWxsXG5cbiAgcG9pbnRlcklzRG93biA9IGZhbHNlXG4gIHBvaW50ZXJXYXNNb3ZlZCA9IGZhbHNlXG4gIC8qKiBAaW50ZXJuYWwgKi8gX2ludGVyYWN0aW5nID0gZmFsc2VcbiAgLyoqIEBpbnRlcm5hbCAqLyBfZW5kaW5nID0gZmFsc2VcbiAgLyoqIEBpbnRlcm5hbCAqLyBfc3RvcHBlZCA9IHRydWVcbiAgLyoqIEBpbnRlcm5hbCAqLyBfcHJveHk6IEludGVyYWN0aW9uUHJveHk8VD5cblxuICAvKiogQGludGVybmFsICovIHNpbXVsYXRpb24gPSBudWxsXG5cbiAgLyoqIEBpbnRlcm5hbCAqLyBnZXQgcG9pbnRlck1vdmVUb2xlcmFuY2UoKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuXG4gIGRvTW92ZSA9IHdhcm5PbmNlKGZ1bmN0aW9uICh0aGlzOiBJbnRlcmFjdGlvbiwgc2lnbmFsQXJnOiBhbnkpIHtcbiAgICB0aGlzLm1vdmUoc2lnbmFsQXJnKVxuICB9LCAnVGhlIGludGVyYWN0aW9uLmRvTW92ZSgpIG1ldGhvZCBoYXMgYmVlbiByZW5hbWVkIHRvIGludGVyYWN0aW9uLm1vdmUoKScpXG5cbiAgY29vcmRzOiBDb29yZHNTZXQgPSB7XG4gICAgLy8gU3RhcnRpbmcgSW50ZXJhY3RFdmVudCBwb2ludGVyIGNvb3JkaW5hdGVzXG4gICAgc3RhcnQ6IHBvaW50ZXJVdGlscy5uZXdDb29yZHMoKSxcbiAgICAvLyBQcmV2aW91cyBuYXRpdmUgcG9pbnRlciBtb3ZlIGV2ZW50IGNvb3JkaW5hdGVzXG4gICAgcHJldjogcG9pbnRlclV0aWxzLm5ld0Nvb3JkcygpLFxuICAgIC8vIGN1cnJlbnQgbmF0aXZlIHBvaW50ZXIgbW92ZSBldmVudCBjb29yZGluYXRlc1xuICAgIGN1cjogcG9pbnRlclV0aWxzLm5ld0Nvb3JkcygpLFxuICAgIC8vIENoYW5nZSBpbiBjb29yZGluYXRlcyBhbmQgdGltZSBvZiB0aGUgcG9pbnRlclxuICAgIGRlbHRhOiBwb2ludGVyVXRpbHMubmV3Q29vcmRzKCksXG4gICAgLy8gcG9pbnRlciB2ZWxvY2l0eVxuICAgIHZlbG9jaXR5OiBwb2ludGVyVXRpbHMubmV3Q29vcmRzKCksXG4gIH1cblxuICAvKiogQGludGVybmFsICovIHJlYWRvbmx5IF9pZDogbnVtYmVyID0gaWRDb3VudGVyKytcblxuICBjb25zdHJ1Y3Rvcih7IHBvaW50ZXJUeXBlLCBzY29wZUZpcmUgfTogeyBwb2ludGVyVHlwZT86IHN0cmluZzsgc2NvcGVGaXJlOiBTY29wZVsnZmlyZSddIH0pIHtcbiAgICB0aGlzLl9zY29wZUZpcmUgPSBzY29wZUZpcmVcbiAgICB0aGlzLnBvaW50ZXJUeXBlID0gcG9pbnRlclR5cGVcblxuICAgIGNvbnN0IHRoYXQgPSB0aGlzXG5cbiAgICB0aGlzLl9wcm94eSA9IHt9IGFzIEludGVyYWN0aW9uUHJveHk8VD5cblxuICAgIGZvciAoY29uc3Qga2V5IGluIF9Qcm94eVZhbHVlcykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuX3Byb3h5LCBrZXksIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGF0W2tleV1cbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gX1Byb3h5TWV0aG9kcykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuX3Byb3h5LCBrZXksIHtcbiAgICAgICAgdmFsdWU6ICguLi5hcmdzOiBhbnlbXSkgPT4gdGhhdFtrZXldKC4uLmFyZ3MpLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLl9zY29wZUZpcmUoJ2ludGVyYWN0aW9uczpuZXcnLCB7IGludGVyYWN0aW9uOiB0aGlzIH0pXG4gIH1cblxuICBwb2ludGVyRG93bihwb2ludGVyOiBQb2ludGVyVHlwZSwgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsIGV2ZW50VGFyZ2V0OiBOb2RlKSB7XG4gICAgY29uc3QgcG9pbnRlckluZGV4ID0gdGhpcy51cGRhdGVQb2ludGVyKHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCwgdHJ1ZSlcbiAgICBjb25zdCBwb2ludGVySW5mbyA9IHRoaXMucG9pbnRlcnNbcG9pbnRlckluZGV4XVxuXG4gICAgdGhpcy5fc2NvcGVGaXJlKCdpbnRlcmFjdGlvbnM6ZG93bicsIHtcbiAgICAgIHBvaW50ZXIsXG4gICAgICBldmVudCxcbiAgICAgIGV2ZW50VGFyZ2V0LFxuICAgICAgcG9pbnRlckluZGV4LFxuICAgICAgcG9pbnRlckluZm8sXG4gICAgICB0eXBlOiAnZG93bicsXG4gICAgICBpbnRlcmFjdGlvbjogdGhpcyBhcyB1bmtub3duIGFzIEludGVyYWN0aW9uPG5ldmVyPixcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIGBgYGpzXG4gICAqIGludGVyYWN0KHRhcmdldClcbiAgICogICAuZHJhZ2dhYmxlKHtcbiAgICogICAgIC8vIGRpc2FibGUgdGhlIGRlZmF1bHQgZHJhZyBzdGFydCBieSBkb3duLT5tb3ZlXG4gICAqICAgICBtYW51YWxTdGFydDogdHJ1ZVxuICAgKiAgIH0pXG4gICAqICAgLy8gc3RhcnQgZHJhZ2dpbmcgYWZ0ZXIgdGhlIHVzZXIgaG9sZHMgdGhlIHBvaW50ZXIgZG93blxuICAgKiAgIC5vbignaG9sZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgKiAgICAgdmFyIGludGVyYWN0aW9uID0gZXZlbnQuaW50ZXJhY3Rpb25cbiAgICpcbiAgICogICAgIGlmICghaW50ZXJhY3Rpb24uaW50ZXJhY3RpbmcoKSkge1xuICAgKiAgICAgICBpbnRlcmFjdGlvbi5zdGFydCh7IG5hbWU6ICdkcmFnJyB9LFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5pbnRlcmFjdGFibGUsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQpXG4gICAqICAgICB9XG4gICAqIH0pXG4gICAqIGBgYFxuICAgKlxuICAgKiBTdGFydCBhbiBhY3Rpb24gd2l0aCB0aGUgZ2l2ZW4gSW50ZXJhY3RhYmxlIGFuZCBFbGVtZW50IGFzIHRhcnRnZXRzLiBUaGVcbiAgICogYWN0aW9uIG11c3QgYmUgZW5hYmxlZCBmb3IgdGhlIHRhcmdldCBJbnRlcmFjdGFibGUgYW5kIGFuIGFwcHJvcHJpYXRlXG4gICAqIG51bWJlciBvZiBwb2ludGVycyBtdXN0IGJlIGhlbGQgZG93biAtIDEgZm9yIGRyYWcvcmVzaXplLCAyIGZvciBnZXN0dXJlLlxuICAgKlxuICAgKiBVc2UgaXQgd2l0aCBgaW50ZXJhY3RhYmxlLjxhY3Rpb24+YWJsZSh7IG1hbnVhbFN0YXJ0OiBmYWxzZSB9KWAgdG8gYWx3YXlzXG4gICAqIFtzdGFydCBhY3Rpb25zIG1hbnVhbGx5XShodHRwczovL2dpdGh1Yi5jb20vdGF5ZS9pbnRlcmFjdC5qcy9pc3N1ZXMvMTE0KVxuICAgKlxuICAgKiBAcGFyYW0gYWN0aW9uIC0gVGhlIGFjdGlvbiB0byBiZSBwZXJmb3JtZWQgLSBkcmFnLCByZXNpemUsIGV0Yy5cbiAgICogQHBhcmFtIHRhcmdldCAtIFRoZSBJbnRlcmFjdGFibGUgdG8gdGFyZ2V0XG4gICAqIEBwYXJhbSBlbGVtZW50IC0gVGhlIERPTSBFbGVtZW50IHRvIHRhcmdldFxuICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoZSBpbnRlcmFjdGlvbiB3YXMgc3VjY2Vzc2Z1bGx5IHN0YXJ0ZWRcbiAgICovXG4gIHN0YXJ0PEEgZXh0ZW5kcyBBY3Rpb25OYW1lPihhY3Rpb246IEFjdGlvblByb3BzPEE+LCBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSwgZWxlbWVudDogRWxlbWVudCk6IGJvb2xlYW4ge1xuICAgIGlmIChcbiAgICAgIHRoaXMuaW50ZXJhY3RpbmcoKSB8fFxuICAgICAgIXRoaXMucG9pbnRlcklzRG93biB8fFxuICAgICAgdGhpcy5wb2ludGVycy5sZW5ndGggPCAoYWN0aW9uLm5hbWUgPT09ICdnZXN0dXJlJyA/IDIgOiAxKSB8fFxuICAgICAgIWludGVyYWN0YWJsZS5vcHRpb25zW2FjdGlvbi5uYW1lIGFzIGtleW9mIEFjdGlvbkRlZmF1bHRzXS5lbmFibGVkXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb3B5QWN0aW9uKHRoaXMucHJlcGFyZWQsIGFjdGlvbilcblxuICAgIHRoaXMuaW50ZXJhY3RhYmxlID0gaW50ZXJhY3RhYmxlXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgIHRoaXMucmVjdCA9IGludGVyYWN0YWJsZS5nZXRSZWN0KGVsZW1lbnQpXG4gICAgdGhpcy5lZGdlcyA9IHRoaXMucHJlcGFyZWQuZWRnZXNcbiAgICAgID8gZXh0ZW5kKHt9LCB0aGlzLnByZXBhcmVkLmVkZ2VzKVxuICAgICAgOiB7IGxlZnQ6IHRydWUsIHJpZ2h0OiB0cnVlLCB0b3A6IHRydWUsIGJvdHRvbTogdHJ1ZSB9XG4gICAgdGhpcy5fc3RvcHBlZCA9IGZhbHNlXG4gICAgdGhpcy5faW50ZXJhY3RpbmcgPVxuICAgICAgdGhpcy5fZG9QaGFzZSh7XG4gICAgICAgIGludGVyYWN0aW9uOiB0aGlzLFxuICAgICAgICBldmVudDogdGhpcy5kb3duRXZlbnQsXG4gICAgICAgIHBoYXNlOiAnc3RhcnQnLFxuICAgICAgfSkgJiYgIXRoaXMuX3N0b3BwZWRcblxuICAgIHJldHVybiB0aGlzLl9pbnRlcmFjdGluZ1xuICB9XG5cbiAgcG9pbnRlck1vdmUocG9pbnRlcjogUG9pbnRlclR5cGUsIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLCBldmVudFRhcmdldDogTm9kZSkge1xuICAgIGlmICghdGhpcy5zaW11bGF0aW9uICYmICEodGhpcy5tb2RpZmljYXRpb24gJiYgdGhpcy5tb2RpZmljYXRpb24uZW5kUmVzdWx0KSkge1xuICAgICAgdGhpcy51cGRhdGVQb2ludGVyKHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCwgZmFsc2UpXG4gICAgfVxuXG4gICAgY29uc3QgZHVwbGljYXRlTW92ZSA9XG4gICAgICB0aGlzLmNvb3Jkcy5jdXIucGFnZS54ID09PSB0aGlzLmNvb3Jkcy5wcmV2LnBhZ2UueCAmJlxuICAgICAgdGhpcy5jb29yZHMuY3VyLnBhZ2UueSA9PT0gdGhpcy5jb29yZHMucHJldi5wYWdlLnkgJiZcbiAgICAgIHRoaXMuY29vcmRzLmN1ci5jbGllbnQueCA9PT0gdGhpcy5jb29yZHMucHJldi5jbGllbnQueCAmJlxuICAgICAgdGhpcy5jb29yZHMuY3VyLmNsaWVudC55ID09PSB0aGlzLmNvb3Jkcy5wcmV2LmNsaWVudC55XG5cbiAgICBsZXQgZHg6IG51bWJlclxuICAgIGxldCBkeTogbnVtYmVyXG5cbiAgICAvLyByZWdpc3RlciBtb3ZlbWVudCBncmVhdGVyIHRoYW4gcG9pbnRlck1vdmVUb2xlcmFuY2VcbiAgICBpZiAodGhpcy5wb2ludGVySXNEb3duICYmICF0aGlzLnBvaW50ZXJXYXNNb3ZlZCkge1xuICAgICAgZHggPSB0aGlzLmNvb3Jkcy5jdXIuY2xpZW50LnggLSB0aGlzLmNvb3Jkcy5zdGFydC5jbGllbnQueFxuICAgICAgZHkgPSB0aGlzLmNvb3Jkcy5jdXIuY2xpZW50LnkgLSB0aGlzLmNvb3Jkcy5zdGFydC5jbGllbnQueVxuXG4gICAgICB0aGlzLnBvaW50ZXJXYXNNb3ZlZCA9IGh5cG90KGR4LCBkeSkgPiB0aGlzLnBvaW50ZXJNb3ZlVG9sZXJhbmNlXG4gICAgfVxuXG4gICAgY29uc3QgcG9pbnRlckluZGV4ID0gdGhpcy5nZXRQb2ludGVySW5kZXgocG9pbnRlcilcbiAgICBjb25zdCBzaWduYWxBcmcgPSB7XG4gICAgICBwb2ludGVyLFxuICAgICAgcG9pbnRlckluZGV4LFxuICAgICAgcG9pbnRlckluZm86IHRoaXMucG9pbnRlcnNbcG9pbnRlckluZGV4XSxcbiAgICAgIGV2ZW50LFxuICAgICAgdHlwZTogJ21vdmUnIGFzIGNvbnN0LFxuICAgICAgZXZlbnRUYXJnZXQsXG4gICAgICBkeCxcbiAgICAgIGR5LFxuICAgICAgZHVwbGljYXRlOiBkdXBsaWNhdGVNb3ZlLFxuICAgICAgaW50ZXJhY3Rpb246IHRoaXMgYXMgdW5rbm93biBhcyBJbnRlcmFjdGlvbjxuZXZlcj4sXG4gICAgfVxuXG4gICAgaWYgKCFkdXBsaWNhdGVNb3ZlKSB7XG4gICAgICAvLyBzZXQgcG9pbnRlciBjb29yZGluYXRlLCB0aW1lIGNoYW5nZXMgYW5kIHZlbG9jaXR5XG4gICAgICBwb2ludGVyVXRpbHMuc2V0Q29vcmRWZWxvY2l0eSh0aGlzLmNvb3Jkcy52ZWxvY2l0eSwgdGhpcy5jb29yZHMuZGVsdGEpXG4gICAgfVxuXG4gICAgdGhpcy5fc2NvcGVGaXJlKCdpbnRlcmFjdGlvbnM6bW92ZScsIHNpZ25hbEFyZylcblxuICAgIGlmICghZHVwbGljYXRlTW92ZSAmJiAhdGhpcy5zaW11bGF0aW9uKSB7XG4gICAgICAvLyBpZiBpbnRlcmFjdGluZywgZmlyZSBhbiAnYWN0aW9uLW1vdmUnIHNpZ25hbCBldGNcbiAgICAgIGlmICh0aGlzLmludGVyYWN0aW5nKCkpIHtcbiAgICAgICAgc2lnbmFsQXJnLnR5cGUgPSBudWxsXG4gICAgICAgIHRoaXMubW92ZShzaWduYWxBcmcpXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnBvaW50ZXJXYXNNb3ZlZCkge1xuICAgICAgICBwb2ludGVyVXRpbHMuY29weUNvb3Jkcyh0aGlzLmNvb3Jkcy5wcmV2LCB0aGlzLmNvb3Jkcy5jdXIpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGBgYGpzXG4gICAqIGludGVyYWN0KHRhcmdldClcbiAgICogICAuZHJhZ2dhYmxlKHRydWUpXG4gICAqICAgLm9uKCdkcmFnbW92ZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgKiAgICAgaWYgKHNvbWVDb25kaXRpb24pIHtcbiAgICogICAgICAgLy8gY2hhbmdlIHRoZSBzbmFwIHNldHRpbmdzXG4gICAqICAgICAgIGV2ZW50LmludGVyYWN0YWJsZS5kcmFnZ2FibGUoeyBzbmFwOiB7IHRhcmdldHM6IFtdIH19KVxuICAgKiAgICAgICAvLyBmaXJlIGFub3RoZXIgbW92ZSBldmVudCB3aXRoIHJlLWNhbGN1bGF0ZWQgc25hcFxuICAgKiAgICAgICBldmVudC5pbnRlcmFjdGlvbi5tb3ZlKClcbiAgICogICAgIH1cbiAgICogICB9KVxuICAgKiBgYGBcbiAgICpcbiAgICogRm9yY2UgYSBtb3ZlIG9mIHRoZSBjdXJyZW50IGFjdGlvbiBhdCB0aGUgc2FtZSBjb29yZGluYXRlcy4gVXNlZnVsIGlmXG4gICAqIHNuYXAvcmVzdHJpY3QgaGFzIGJlZW4gY2hhbmdlZCBhbmQgeW91IHdhbnQgYSBtb3ZlbWVudCB3aXRoIHRoZSBuZXdcbiAgICogc2V0dGluZ3MuXG4gICAqL1xuICBtb3ZlKHNpZ25hbEFyZz86IGFueSkge1xuICAgIGlmICghc2lnbmFsQXJnIHx8ICFzaWduYWxBcmcuZXZlbnQpIHtcbiAgICAgIHBvaW50ZXJVdGlscy5zZXRaZXJvQ29vcmRzKHRoaXMuY29vcmRzLmRlbHRhKVxuICAgIH1cblxuICAgIHNpZ25hbEFyZyA9IGV4dGVuZChcbiAgICAgIHtcbiAgICAgICAgcG9pbnRlcjogdGhpcy5fbGF0ZXN0UG9pbnRlci5wb2ludGVyLFxuICAgICAgICBldmVudDogdGhpcy5fbGF0ZXN0UG9pbnRlci5ldmVudCxcbiAgICAgICAgZXZlbnRUYXJnZXQ6IHRoaXMuX2xhdGVzdFBvaW50ZXIuZXZlbnRUYXJnZXQsXG4gICAgICAgIGludGVyYWN0aW9uOiB0aGlzLFxuICAgICAgfSxcbiAgICAgIHNpZ25hbEFyZyB8fCB7fSxcbiAgICApXG5cbiAgICBzaWduYWxBcmcucGhhc2UgPSAnbW92ZSdcblxuICAgIHRoaXMuX2RvUGhhc2Uoc2lnbmFsQXJnKVxuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBFbmQgaW50ZXJhY3QgbW92ZSBldmVudHMgYW5kIHN0b3AgYXV0by1zY3JvbGwgdW5sZXNzIHNpbXVsYXRpb24gaXMgcnVubmluZ1xuICAgKi9cbiAgcG9pbnRlclVwKHBvaW50ZXI6IFBvaW50ZXJUeXBlLCBldmVudDogUG9pbnRlckV2ZW50VHlwZSwgZXZlbnRUYXJnZXQ6IE5vZGUsIGN1ckV2ZW50VGFyZ2V0OiBFdmVudFRhcmdldCkge1xuICAgIGxldCBwb2ludGVySW5kZXggPSB0aGlzLmdldFBvaW50ZXJJbmRleChwb2ludGVyKVxuXG4gICAgaWYgKHBvaW50ZXJJbmRleCA9PT0gLTEpIHtcbiAgICAgIHBvaW50ZXJJbmRleCA9IHRoaXMudXBkYXRlUG9pbnRlcihwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQsIGZhbHNlKVxuICAgIH1cblxuICAgIGNvbnN0IHR5cGUgPSAvY2FuY2VsJC9pLnRlc3QoZXZlbnQudHlwZSkgPyAnY2FuY2VsJyA6ICd1cCdcblxuICAgIHRoaXMuX3Njb3BlRmlyZShgaW50ZXJhY3Rpb25zOiR7dHlwZX1gIGFzICdpbnRlcmFjdGlvbnM6dXAnIHwgJ2ludGVyYWN0aW9uczpjYW5jZWwnLCB7XG4gICAgICBwb2ludGVyLFxuICAgICAgcG9pbnRlckluZGV4LFxuICAgICAgcG9pbnRlckluZm86IHRoaXMucG9pbnRlcnNbcG9pbnRlckluZGV4XSxcbiAgICAgIGV2ZW50LFxuICAgICAgZXZlbnRUYXJnZXQsXG4gICAgICB0eXBlOiB0eXBlIGFzIGFueSxcbiAgICAgIGN1ckV2ZW50VGFyZ2V0LFxuICAgICAgaW50ZXJhY3Rpb246IHRoaXMgYXMgdW5rbm93biBhcyBJbnRlcmFjdGlvbjxuZXZlcj4sXG4gICAgfSlcblxuICAgIGlmICghdGhpcy5zaW11bGF0aW9uKSB7XG4gICAgICB0aGlzLmVuZChldmVudClcbiAgICB9XG5cbiAgICB0aGlzLnJlbW92ZVBvaW50ZXIocG9pbnRlciwgZXZlbnQpXG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIGRvY3VtZW50Qmx1cihldmVudDogRXZlbnQpIHtcbiAgICB0aGlzLmVuZChldmVudCBhcyBhbnkpXG4gICAgdGhpcy5fc2NvcGVGaXJlKCdpbnRlcmFjdGlvbnM6Ymx1cicsIHtcbiAgICAgIGV2ZW50LFxuICAgICAgdHlwZTogJ2JsdXInLFxuICAgICAgaW50ZXJhY3Rpb246IHRoaXMgYXMgdW5rbm93biBhcyBJbnRlcmFjdGlvbjxuZXZlcj4sXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBgYGBqc1xuICAgKiBpbnRlcmFjdCh0YXJnZXQpXG4gICAqICAgLmRyYWdnYWJsZSh0cnVlKVxuICAgKiAgIC5vbignbW92ZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgKiAgICAgaWYgKGV2ZW50LnBhZ2VYID4gMTAwMCkge1xuICAgKiAgICAgICAvLyBlbmQgdGhlIGN1cnJlbnQgYWN0aW9uXG4gICAqICAgICAgIGV2ZW50LmludGVyYWN0aW9uLmVuZCgpXG4gICAqICAgICAgIC8vIHN0b3AgYWxsIGZ1cnRoZXIgbGlzdGVuZXJzIGZyb20gYmVpbmcgY2FsbGVkXG4gICAqICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpXG4gICAqICAgICB9XG4gICAqICAgfSlcbiAgICogYGBgXG4gICAqL1xuICBlbmQoZXZlbnQ/OiBQb2ludGVyRXZlbnRUeXBlKSB7XG4gICAgdGhpcy5fZW5kaW5nID0gdHJ1ZVxuICAgIGV2ZW50ID0gZXZlbnQgfHwgdGhpcy5fbGF0ZXN0UG9pbnRlci5ldmVudFxuICAgIGxldCBlbmRQaGFzZVJlc3VsdDogYm9vbGVhblxuXG4gICAgaWYgKHRoaXMuaW50ZXJhY3RpbmcoKSkge1xuICAgICAgZW5kUGhhc2VSZXN1bHQgPSB0aGlzLl9kb1BoYXNlKHtcbiAgICAgICAgZXZlbnQsXG4gICAgICAgIGludGVyYWN0aW9uOiB0aGlzLFxuICAgICAgICBwaGFzZTogJ2VuZCcsXG4gICAgICB9KVxuICAgIH1cblxuICAgIHRoaXMuX2VuZGluZyA9IGZhbHNlXG5cbiAgICBpZiAoZW5kUGhhc2VSZXN1bHQgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuc3RvcCgpXG4gICAgfVxuICB9XG5cbiAgY3VycmVudEFjdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5faW50ZXJhY3RpbmcgPyB0aGlzLnByZXBhcmVkLm5hbWUgOiBudWxsXG4gIH1cblxuICBpbnRlcmFjdGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5faW50ZXJhY3RpbmdcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgdGhpcy5fc2NvcGVGaXJlKCdpbnRlcmFjdGlvbnM6c3RvcCcsIHsgaW50ZXJhY3Rpb246IHRoaXMgfSlcblxuICAgIHRoaXMuaW50ZXJhY3RhYmxlID0gdGhpcy5lbGVtZW50ID0gbnVsbFxuXG4gICAgdGhpcy5faW50ZXJhY3RpbmcgPSBmYWxzZVxuICAgIHRoaXMuX3N0b3BwZWQgPSB0cnVlXG4gICAgdGhpcy5wcmVwYXJlZC5uYW1lID0gdGhpcy5wcmV2RXZlbnQgPSBudWxsXG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIGdldFBvaW50ZXJJbmRleChwb2ludGVyOiBhbnkpIHtcbiAgICBjb25zdCBwb2ludGVySWQgPSBwb2ludGVyVXRpbHMuZ2V0UG9pbnRlcklkKHBvaW50ZXIpXG5cbiAgICAvLyBtb3VzZSBhbmQgcGVuIGludGVyYWN0aW9ucyBtYXkgaGF2ZSBvbmx5IG9uZSBwb2ludGVyXG4gICAgcmV0dXJuIHRoaXMucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgdGhpcy5wb2ludGVyVHlwZSA9PT0gJ3BlbidcbiAgICAgID8gdGhpcy5wb2ludGVycy5sZW5ndGggLSAxXG4gICAgICA6IGFyci5maW5kSW5kZXgodGhpcy5wb2ludGVycywgKGN1clBvaW50ZXIpID0+IGN1clBvaW50ZXIuaWQgPT09IHBvaW50ZXJJZClcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0UG9pbnRlckluZm8ocG9pbnRlcjogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMucG9pbnRlcnNbdGhpcy5nZXRQb2ludGVySW5kZXgocG9pbnRlcildXG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHVwZGF0ZVBvaW50ZXIocG9pbnRlcjogUG9pbnRlclR5cGUsIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLCBldmVudFRhcmdldDogTm9kZSwgZG93bj86IGJvb2xlYW4pIHtcbiAgICBjb25zdCBpZCA9IHBvaW50ZXJVdGlscy5nZXRQb2ludGVySWQocG9pbnRlcilcbiAgICBsZXQgcG9pbnRlckluZGV4ID0gdGhpcy5nZXRQb2ludGVySW5kZXgocG9pbnRlcilcbiAgICBsZXQgcG9pbnRlckluZm8gPSB0aGlzLnBvaW50ZXJzW3BvaW50ZXJJbmRleF1cblxuICAgIGRvd24gPSBkb3duID09PSBmYWxzZSA/IGZhbHNlIDogZG93biB8fCAvKGRvd258c3RhcnQpJC9pLnRlc3QoZXZlbnQudHlwZSlcblxuICAgIGlmICghcG9pbnRlckluZm8pIHtcbiAgICAgIHBvaW50ZXJJbmZvID0gbmV3IFBvaW50ZXJJbmZvKGlkLCBwb2ludGVyLCBldmVudCwgbnVsbCwgbnVsbClcblxuICAgICAgcG9pbnRlckluZGV4ID0gdGhpcy5wb2ludGVycy5sZW5ndGhcbiAgICAgIHRoaXMucG9pbnRlcnMucHVzaChwb2ludGVySW5mbylcbiAgICB9IGVsc2Uge1xuICAgICAgcG9pbnRlckluZm8ucG9pbnRlciA9IHBvaW50ZXJcbiAgICB9XG5cbiAgICBwb2ludGVyVXRpbHMuc2V0Q29vcmRzKFxuICAgICAgdGhpcy5jb29yZHMuY3VyLFxuICAgICAgdGhpcy5wb2ludGVycy5tYXAoKHApID0+IHAucG9pbnRlciksXG4gICAgICB0aGlzLl9ub3coKSxcbiAgICApXG4gICAgcG9pbnRlclV0aWxzLnNldENvb3JkRGVsdGFzKHRoaXMuY29vcmRzLmRlbHRhLCB0aGlzLmNvb3Jkcy5wcmV2LCB0aGlzLmNvb3Jkcy5jdXIpXG5cbiAgICBpZiAoZG93bikge1xuICAgICAgdGhpcy5wb2ludGVySXNEb3duID0gdHJ1ZVxuXG4gICAgICBwb2ludGVySW5mby5kb3duVGltZSA9IHRoaXMuY29vcmRzLmN1ci50aW1lU3RhbXBcbiAgICAgIHBvaW50ZXJJbmZvLmRvd25UYXJnZXQgPSBldmVudFRhcmdldFxuICAgICAgcG9pbnRlclV0aWxzLnBvaW50ZXJFeHRlbmQodGhpcy5kb3duUG9pbnRlciwgcG9pbnRlcilcblxuICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW5nKCkpIHtcbiAgICAgICAgcG9pbnRlclV0aWxzLmNvcHlDb29yZHModGhpcy5jb29yZHMuc3RhcnQsIHRoaXMuY29vcmRzLmN1cilcbiAgICAgICAgcG9pbnRlclV0aWxzLmNvcHlDb29yZHModGhpcy5jb29yZHMucHJldiwgdGhpcy5jb29yZHMuY3VyKVxuXG4gICAgICAgIHRoaXMuZG93bkV2ZW50ID0gZXZlbnRcbiAgICAgICAgdGhpcy5wb2ludGVyV2FzTW92ZWQgPSBmYWxzZVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX3VwZGF0ZUxhdGVzdFBvaW50ZXIocG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0KVxuXG4gICAgdGhpcy5fc2NvcGVGaXJlKCdpbnRlcmFjdGlvbnM6dXBkYXRlLXBvaW50ZXInLCB7XG4gICAgICBwb2ludGVyLFxuICAgICAgZXZlbnQsXG4gICAgICBldmVudFRhcmdldCxcbiAgICAgIGRvd24sXG4gICAgICBwb2ludGVySW5mbyxcbiAgICAgIHBvaW50ZXJJbmRleCxcbiAgICAgIGludGVyYWN0aW9uOiB0aGlzIGFzIHVua25vd24gYXMgSW50ZXJhY3Rpb248bmV2ZXI+LFxuICAgIH0pXG5cbiAgICByZXR1cm4gcG9pbnRlckluZGV4XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHJlbW92ZVBvaW50ZXIocG9pbnRlcjogUG9pbnRlclR5cGUsIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlKSB7XG4gICAgY29uc3QgcG9pbnRlckluZGV4ID0gdGhpcy5nZXRQb2ludGVySW5kZXgocG9pbnRlcilcblxuICAgIGlmIChwb2ludGVySW5kZXggPT09IC0xKSByZXR1cm5cblxuICAgIGNvbnN0IHBvaW50ZXJJbmZvID0gdGhpcy5wb2ludGVyc1twb2ludGVySW5kZXhdXG5cbiAgICB0aGlzLl9zY29wZUZpcmUoJ2ludGVyYWN0aW9uczpyZW1vdmUtcG9pbnRlcicsIHtcbiAgICAgIHBvaW50ZXIsXG4gICAgICBldmVudCxcbiAgICAgIGV2ZW50VGFyZ2V0OiBudWxsLFxuICAgICAgcG9pbnRlckluZGV4LFxuICAgICAgcG9pbnRlckluZm8sXG4gICAgICBpbnRlcmFjdGlvbjogdGhpcyBhcyB1bmtub3duIGFzIEludGVyYWN0aW9uPG5ldmVyPixcbiAgICB9KVxuXG4gICAgdGhpcy5wb2ludGVycy5zcGxpY2UocG9pbnRlckluZGV4LCAxKVxuICAgIHRoaXMucG9pbnRlcklzRG93biA9IGZhbHNlXG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF91cGRhdGVMYXRlc3RQb2ludGVyKHBvaW50ZXI6IFBvaW50ZXJUeXBlLCBldmVudDogUG9pbnRlckV2ZW50VHlwZSwgZXZlbnRUYXJnZXQ6IE5vZGUpIHtcbiAgICB0aGlzLl9sYXRlc3RQb2ludGVyLnBvaW50ZXIgPSBwb2ludGVyXG4gICAgdGhpcy5fbGF0ZXN0UG9pbnRlci5ldmVudCA9IGV2ZW50XG4gICAgdGhpcy5fbGF0ZXN0UG9pbnRlci5ldmVudFRhcmdldCA9IGV2ZW50VGFyZ2V0XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX2xhdGVzdFBvaW50ZXIucG9pbnRlciA9IG51bGxcbiAgICB0aGlzLl9sYXRlc3RQb2ludGVyLmV2ZW50ID0gbnVsbFxuICAgIHRoaXMuX2xhdGVzdFBvaW50ZXIuZXZlbnRUYXJnZXQgPSBudWxsXG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9jcmVhdGVQcmVwYXJlZEV2ZW50PFAgZXh0ZW5kcyBFdmVudFBoYXNlPihcbiAgICBldmVudDogUG9pbnRlckV2ZW50VHlwZSxcbiAgICBwaGFzZTogUCxcbiAgICBwcmVFbmQ/OiBib29sZWFuLFxuICAgIHR5cGU/OiBzdHJpbmcsXG4gICkge1xuICAgIHJldHVybiBuZXcgSW50ZXJhY3RFdmVudDxULCBQPih0aGlzLCBldmVudCwgdGhpcy5wcmVwYXJlZC5uYW1lLCBwaGFzZSwgdGhpcy5lbGVtZW50LCBwcmVFbmQsIHR5cGUpXG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9maXJlRXZlbnQ8UCBleHRlbmRzIEV2ZW50UGhhc2U+KGlFdmVudDogSW50ZXJhY3RFdmVudDxULCBQPikge1xuICAgIHRoaXMuaW50ZXJhY3RhYmxlPy5maXJlKGlFdmVudClcblxuICAgIGlmICghdGhpcy5wcmV2RXZlbnQgfHwgaUV2ZW50LnRpbWVTdGFtcCA+PSB0aGlzLnByZXZFdmVudC50aW1lU3RhbXApIHtcbiAgICAgIHRoaXMucHJldkV2ZW50ID0gaUV2ZW50XG4gICAgfVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfZG9QaGFzZTxQIGV4dGVuZHMgRXZlbnRQaGFzZT4oXG4gICAgc2lnbmFsQXJnOiBPbWl0PERvUGhhc2VBcmc8VCwgUD4sICdpRXZlbnQnPiAmIHsgaUV2ZW50PzogSW50ZXJhY3RFdmVudDxULCBQPiB9LFxuICApIHtcbiAgICBjb25zdCB7IGV2ZW50LCBwaGFzZSwgcHJlRW5kLCB0eXBlIH0gPSBzaWduYWxBcmdcbiAgICBjb25zdCB7IHJlY3QgfSA9IHRoaXNcblxuICAgIGlmIChyZWN0ICYmIHBoYXNlID09PSAnbW92ZScpIHtcbiAgICAgIC8vIHVwZGF0ZSB0aGUgcmVjdCBjaGFuZ2VzIGR1ZSB0byBwb2ludGVyIG1vdmVcbiAgICAgIHJlY3RVdGlscy5hZGRFZGdlcyh0aGlzLmVkZ2VzLCByZWN0LCB0aGlzLmNvb3Jkcy5kZWx0YVt0aGlzLmludGVyYWN0YWJsZS5vcHRpb25zLmRlbHRhU291cmNlXSlcblxuICAgICAgcmVjdC53aWR0aCA9IHJlY3QucmlnaHQgLSByZWN0LmxlZnRcbiAgICAgIHJlY3QuaGVpZ2h0ID0gcmVjdC5ib3R0b20gLSByZWN0LnRvcFxuICAgIH1cblxuICAgIGNvbnN0IGJlZm9yZVJlc3VsdCA9IHRoaXMuX3Njb3BlRmlyZShgaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tJHtwaGFzZX1gIGFzIGFueSwgc2lnbmFsQXJnKVxuXG4gICAgaWYgKGJlZm9yZVJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IGlFdmVudCA9IChzaWduYWxBcmcuaUV2ZW50ID0gdGhpcy5fY3JlYXRlUHJlcGFyZWRFdmVudChldmVudCwgcGhhc2UsIHByZUVuZCwgdHlwZSkpXG5cbiAgICB0aGlzLl9zY29wZUZpcmUoYGludGVyYWN0aW9uczphY3Rpb24tJHtwaGFzZX1gIGFzIGFueSwgc2lnbmFsQXJnKVxuXG4gICAgaWYgKHBoYXNlID09PSAnc3RhcnQnKSB7XG4gICAgICB0aGlzLnByZXZFdmVudCA9IGlFdmVudFxuICAgIH1cblxuICAgIHRoaXMuX2ZpcmVFdmVudChpRXZlbnQpXG5cbiAgICB0aGlzLl9zY29wZUZpcmUoYGludGVyYWN0aW9uczphZnRlci1hY3Rpb24tJHtwaGFzZX1gIGFzIGFueSwgc2lnbmFsQXJnKVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX25vdygpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3coKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEludGVyYWN0aW9uXG5leHBvcnQgeyBQb2ludGVySW5mbyB9XG4iLCAiaW1wb3J0IHR5cGUgSW50ZXJhY3Rpb24gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB7IF9Qcm94eU1ldGhvZHMgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBQb2ludCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgKiBhcyByZWN0VXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcmVjdCdcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0aW9uIHtcbiAgICBvZmZzZXRCeT86IHR5cGVvZiBvZmZzZXRCeVxuICAgIG9mZnNldDoge1xuICAgICAgdG90YWw6IFBvaW50XG4gICAgICBwZW5kaW5nOiBQb2ludFxuICAgIH1cbiAgfVxuXG4gIGVudW0gX1Byb3h5TWV0aG9kcyB7XG4gICAgb2Zmc2V0QnkgPSAnJyxcbiAgfVxufVxuXG47KF9Qcm94eU1ldGhvZHMgYXMgYW55KS5vZmZzZXRCeSA9ICcnXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRUb3RhbChpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24pIHtcbiAgaWYgKCFpbnRlcmFjdGlvbi5wb2ludGVySXNEb3duKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBhZGRUb0Nvb3JkcyhpbnRlcmFjdGlvbi5jb29yZHMuY3VyLCBpbnRlcmFjdGlvbi5vZmZzZXQudG90YWwpXG5cbiAgaW50ZXJhY3Rpb24ub2Zmc2V0LnBlbmRpbmcueCA9IDBcbiAgaW50ZXJhY3Rpb24ub2Zmc2V0LnBlbmRpbmcueSA9IDBcbn1cblxuZnVuY3Rpb24gYmVmb3JlQWN0aW9uKHsgaW50ZXJhY3Rpb24gfTogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfSkge1xuICBhcHBseVBlbmRpbmcoaW50ZXJhY3Rpb24pXG59XG5cbmZ1bmN0aW9uIGJlZm9yZUVuZCh7IGludGVyYWN0aW9uIH06IHsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uIH0pOiBib29sZWFuIHwgdm9pZCB7XG4gIGNvbnN0IGhhZFBlbmRpbmcgPSBhcHBseVBlbmRpbmcoaW50ZXJhY3Rpb24pXG5cbiAgaWYgKCFoYWRQZW5kaW5nKSByZXR1cm5cblxuICBpbnRlcmFjdGlvbi5tb3ZlKHsgb2Zmc2V0OiB0cnVlIH0pXG4gIGludGVyYWN0aW9uLmVuZCgpXG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIGVuZCh7IGludGVyYWN0aW9uIH06IHsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uIH0pIHtcbiAgaW50ZXJhY3Rpb24ub2Zmc2V0LnRvdGFsLnggPSAwXG4gIGludGVyYWN0aW9uLm9mZnNldC50b3RhbC55ID0gMFxuICBpbnRlcmFjdGlvbi5vZmZzZXQucGVuZGluZy54ID0gMFxuICBpbnRlcmFjdGlvbi5vZmZzZXQucGVuZGluZy55ID0gMFxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlQZW5kaW5nKGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbikge1xuICBpZiAoIWhhc1BlbmRpbmcoaW50ZXJhY3Rpb24pKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBjb25zdCB7IHBlbmRpbmcgfSA9IGludGVyYWN0aW9uLm9mZnNldFxuXG4gIGFkZFRvQ29vcmRzKGludGVyYWN0aW9uLmNvb3Jkcy5jdXIsIHBlbmRpbmcpXG4gIGFkZFRvQ29vcmRzKGludGVyYWN0aW9uLmNvb3Jkcy5kZWx0YSwgcGVuZGluZylcbiAgcmVjdFV0aWxzLmFkZEVkZ2VzKGludGVyYWN0aW9uLmVkZ2VzLCBpbnRlcmFjdGlvbi5yZWN0LCBwZW5kaW5nKVxuXG4gIHBlbmRpbmcueCA9IDBcbiAgcGVuZGluZy55ID0gMFxuXG4gIHJldHVybiB0cnVlXG59XG5cbmZ1bmN0aW9uIG9mZnNldEJ5KHRoaXM6IEludGVyYWN0aW9uLCB7IHgsIHkgfTogUG9pbnQpIHtcbiAgdGhpcy5vZmZzZXQucGVuZGluZy54ICs9IHhcbiAgdGhpcy5vZmZzZXQucGVuZGluZy55ICs9IHlcblxuICB0aGlzLm9mZnNldC50b3RhbC54ICs9IHhcbiAgdGhpcy5vZmZzZXQudG90YWwueSArPSB5XG59XG5cbmZ1bmN0aW9uIGFkZFRvQ29vcmRzKHsgcGFnZSwgY2xpZW50IH0sIHsgeCwgeSB9OiBQb2ludCkge1xuICBwYWdlLnggKz0geFxuICBwYWdlLnkgKz0geVxuICBjbGllbnQueCArPSB4XG4gIGNsaWVudC55ICs9IHlcbn1cblxuZnVuY3Rpb24gaGFzUGVuZGluZyhpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24pIHtcbiAgcmV0dXJuICEhKGludGVyYWN0aW9uLm9mZnNldC5wZW5kaW5nLnggfHwgaW50ZXJhY3Rpb24ub2Zmc2V0LnBlbmRpbmcueSlcbn1cblxuY29uc3Qgb2Zmc2V0OiBQbHVnaW4gPSB7XG4gIGlkOiAnb2Zmc2V0JyxcbiAgYmVmb3JlOiBbJ21vZGlmaWVycycsICdwb2ludGVyLWV2ZW50cycsICdhY3Rpb25zJywgJ2luZXJ0aWEnXSxcbiAgaW5zdGFsbChzY29wZSkge1xuICAgIHNjb3BlLkludGVyYWN0aW9uLnByb3RvdHlwZS5vZmZzZXRCeSA9IG9mZnNldEJ5XG4gIH0sXG4gIGxpc3RlbmVyczoge1xuICAgICdpbnRlcmFjdGlvbnM6bmV3JzogKHsgaW50ZXJhY3Rpb24gfSkgPT4ge1xuICAgICAgaW50ZXJhY3Rpb24ub2Zmc2V0ID0ge1xuICAgICAgICB0b3RhbDogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgIHBlbmRpbmc6IHsgeDogMCwgeTogMCB9LFxuICAgICAgfVxuICAgIH0sXG4gICAgJ2ludGVyYWN0aW9uczp1cGRhdGUtcG9pbnRlcic6ICh7IGludGVyYWN0aW9uIH0pID0+IGFkZFRvdGFsKGludGVyYWN0aW9uKSxcbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tc3RhcnQnOiBiZWZvcmVBY3Rpb24sXG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLW1vdmUnOiBiZWZvcmVBY3Rpb24sXG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLWVuZCc6IGJlZm9yZUVuZCxcbiAgICAnaW50ZXJhY3Rpb25zOnN0b3AnOiBlbmQsXG4gIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IG9mZnNldFxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3Rpb24sIERvUGhhc2VBcmcgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSwgU2lnbmFsQXJncywgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgQWN0aW9uTmFtZSwgUG9pbnQsIFBvaW50ZXJFdmVudFR5cGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgLS0gZm9yIHR5cGVzY3JpcHQgbW9kdWxlIGF1Z21lbnRhdGlvbnMgKi9cbmltcG9ydCAnQGludGVyYWN0anMvbW9kaWZpZXJzL2Jhc2UnXG5pbXBvcnQgJ0BpbnRlcmFjdGpzL29mZnNldC9wbHVnaW4nXG5pbXBvcnQgKiBhcyBtb2RpZmllcnMgZnJvbSAnQGludGVyYWN0anMvbW9kaWZpZXJzL2Jhc2UnXG5pbXBvcnQgeyBNb2RpZmljYXRpb24gfSBmcm9tICdAaW50ZXJhY3Rqcy9tb2RpZmllcnMvTW9kaWZpY2F0aW9uJ1xuaW1wb3J0IHR5cGUgeyBNb2RpZmllckFyZyB9IGZyb20gJ0BpbnRlcmFjdGpzL21vZGlmaWVycy90eXBlcydcbmltcG9ydCBvZmZzZXQgZnJvbSAnQGludGVyYWN0anMvb2Zmc2V0L3BsdWdpbidcbi8qIGVzbGludC1lbmFibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgKi9cbmltcG9ydCAqIGFzIGRvbSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscydcbmltcG9ydCBoeXBvdCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9oeXBvdCdcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcbmltcG9ydCB7IGNvcHlDb29yZHMgfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9wb2ludGVyVXRpbHMnXG5pbXBvcnQgcmFmIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3JhZidcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RFdmVudCcge1xuICBpbnRlcmZhY2UgUGhhc2VNYXAge1xuICAgIHJlc3VtZT86IHRydWVcbiAgICBpbmVydGlhc3RhcnQ/OiB0cnVlXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0aW9uIHtcbiAgICBpbmVydGlhPzogSW5lcnRpYVN0YXRlXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucycge1xuICBpbnRlcmZhY2UgUGVyQWN0aW9uRGVmYXVsdHMge1xuICAgIGluZXJ0aWE/OiB7XG4gICAgICBlbmFibGVkPzogYm9vbGVhblxuICAgICAgcmVzaXN0YW5jZT86IG51bWJlciAvLyB0aGUgbGFtYmRhIGluIGV4cG9uZW50aWFsIGRlY2F5XG4gICAgICBtaW5TcGVlZD86IG51bWJlciAvLyB0YXJnZXQgc3BlZWQgbXVzdCBiZSBhYm92ZSB0aGlzIGZvciBpbmVydGlhIHRvIHN0YXJ0XG4gICAgICBlbmRTcGVlZD86IG51bWJlciAvLyB0aGUgc3BlZWQgYXQgd2hpY2ggaW5lcnRpYSBpcyBzbG93IGVub3VnaCB0byBzdG9wXG4gICAgICBhbGxvd1Jlc3VtZT86IHRydWUgLy8gYWxsb3cgcmVzdW1pbmcgYW4gYWN0aW9uIGluIGluZXJ0aWEgcGhhc2VcbiAgICAgIHNtb290aEVuZER1cmF0aW9uPzogbnVtYmVyIC8vIGFuaW1hdGUgdG8gc25hcC9yZXN0cmljdCBlbmRPbmx5IGlmIHRoZXJlJ3Mgbm8gaW5lcnRpYVxuICAgIH1cbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9zY29wZScge1xuICBpbnRlcmZhY2UgU2lnbmFsQXJncyB7XG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLWluZXJ0aWFzdGFydCc6IE9taXQ8RG9QaGFzZUFyZzxBY3Rpb25OYW1lLCAnaW5lcnRpYXN0YXJ0Jz4sICdpRXZlbnQnPlxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLWluZXJ0aWFzdGFydCc6IERvUGhhc2VBcmc8QWN0aW9uTmFtZSwgJ2luZXJ0aWFzdGFydCc+XG4gICAgJ2ludGVyYWN0aW9uczphZnRlci1hY3Rpb24taW5lcnRpYXN0YXJ0JzogRG9QaGFzZUFyZzxBY3Rpb25OYW1lLCAnaW5lcnRpYXN0YXJ0Jz5cbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tcmVzdW1lJzogT21pdDxEb1BoYXNlQXJnPEFjdGlvbk5hbWUsICdyZXN1bWUnPiwgJ2lFdmVudCc+XG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tcmVzdW1lJzogRG9QaGFzZUFyZzxBY3Rpb25OYW1lLCAncmVzdW1lJz5cbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1yZXN1bWUnOiBEb1BoYXNlQXJnPEFjdGlvbk5hbWUsICdyZXN1bWUnPlxuICB9XG59XG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgZGVmYXVsdHMgfSA9IHNjb3BlXG5cbiAgc2NvcGUudXNlUGx1Z2luKG9mZnNldClcbiAgc2NvcGUudXNlUGx1Z2luKG1vZGlmaWVycy5kZWZhdWx0KVxuICBzY29wZS5hY3Rpb25zLnBoYXNlcy5pbmVydGlhc3RhcnQgPSB0cnVlXG4gIHNjb3BlLmFjdGlvbnMucGhhc2VzLnJlc3VtZSA9IHRydWVcblxuICBkZWZhdWx0cy5wZXJBY3Rpb24uaW5lcnRpYSA9IHtcbiAgICBlbmFibGVkOiBmYWxzZSxcbiAgICByZXNpc3RhbmNlOiAxMCwgLy8gdGhlIGxhbWJkYSBpbiBleHBvbmVudGlhbCBkZWNheVxuICAgIG1pblNwZWVkOiAxMDAsIC8vIHRhcmdldCBzcGVlZCBtdXN0IGJlIGFib3ZlIHRoaXMgZm9yIGluZXJ0aWEgdG8gc3RhcnRcbiAgICBlbmRTcGVlZDogMTAsIC8vIHRoZSBzcGVlZCBhdCB3aGljaCBpbmVydGlhIGlzIHNsb3cgZW5vdWdoIHRvIHN0b3BcbiAgICBhbGxvd1Jlc3VtZTogdHJ1ZSwgLy8gYWxsb3cgcmVzdW1pbmcgYW4gYWN0aW9uIGluIGluZXJ0aWEgcGhhc2VcbiAgICBzbW9vdGhFbmREdXJhdGlvbjogMzAwLCAvLyBhbmltYXRlIHRvIHNuYXAvcmVzdHJpY3QgZW5kT25seSBpZiB0aGVyZSdzIG5vIGluZXJ0aWFcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW5lcnRpYVN0YXRlIHtcbiAgYWN0aXZlID0gZmFsc2VcbiAgaXNNb2RpZmllZCA9IGZhbHNlXG4gIHNtb290aEVuZCA9IGZhbHNlXG4gIGFsbG93UmVzdW1lID0gZmFsc2VcblxuICBtb2RpZmljYXRpb24hOiBNb2RpZmljYXRpb25cbiAgbW9kaWZpZXJDb3VudCA9IDBcbiAgbW9kaWZpZXJBcmchOiBNb2RpZmllckFyZ1xuXG4gIHN0YXJ0Q29vcmRzITogUG9pbnRcbiAgdDAgPSAwXG4gIHYwID0gMFxuXG4gIHRlID0gMFxuICB0YXJnZXRPZmZzZXQhOiBQb2ludFxuICBtb2RpZmllZE9mZnNldCE6IFBvaW50XG4gIGN1cnJlbnRPZmZzZXQhOiBQb2ludFxuXG4gIGxhbWJkYV92MD8gPSAwIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY2FtZWxjYXNlXG4gIG9uZV92ZV92MD8gPSAwIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY2FtZWxjYXNlXG4gIHRpbWVvdXQhOiBudW1iZXJcbiAgcmVhZG9ubHkgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uXG5cbiAgY29uc3RydWN0b3IoaW50ZXJhY3Rpb246IEludGVyYWN0aW9uKSB7XG4gICAgdGhpcy5pbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uXG4gIH1cblxuICBzdGFydChldmVudDogUG9pbnRlckV2ZW50VHlwZSkge1xuICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IHRoaXNcbiAgICBjb25zdCBvcHRpb25zID0gZ2V0T3B0aW9ucyhpbnRlcmFjdGlvbilcblxuICAgIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5lbmFibGVkKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCB7IGNsaWVudDogdmVsb2NpdHlDbGllbnQgfSA9IGludGVyYWN0aW9uLmNvb3Jkcy52ZWxvY2l0eVxuICAgIGNvbnN0IHBvaW50ZXJTcGVlZCA9IGh5cG90KHZlbG9jaXR5Q2xpZW50LngsIHZlbG9jaXR5Q2xpZW50LnkpXG4gICAgY29uc3QgbW9kaWZpY2F0aW9uID0gdGhpcy5tb2RpZmljYXRpb24gfHwgKHRoaXMubW9kaWZpY2F0aW9uID0gbmV3IE1vZGlmaWNhdGlvbihpbnRlcmFjdGlvbikpXG5cbiAgICBtb2RpZmljYXRpb24uY29weUZyb20oaW50ZXJhY3Rpb24ubW9kaWZpY2F0aW9uKVxuXG4gICAgdGhpcy50MCA9IGludGVyYWN0aW9uLl9ub3coKVxuICAgIHRoaXMuYWxsb3dSZXN1bWUgPSBvcHRpb25zLmFsbG93UmVzdW1lXG4gICAgdGhpcy52MCA9IHBvaW50ZXJTcGVlZFxuICAgIHRoaXMuY3VycmVudE9mZnNldCA9IHsgeDogMCwgeTogMCB9XG4gICAgdGhpcy5zdGFydENvb3JkcyA9IGludGVyYWN0aW9uLmNvb3Jkcy5jdXIucGFnZVxuXG4gICAgdGhpcy5tb2RpZmllckFyZyA9IG1vZGlmaWNhdGlvbi5maWxsQXJnKHtcbiAgICAgIHBhZ2VDb29yZHM6IHRoaXMuc3RhcnRDb29yZHMsXG4gICAgICBwcmVFbmQ6IHRydWUsXG4gICAgICBwaGFzZTogJ2luZXJ0aWFzdGFydCcsXG4gICAgfSlcblxuICAgIGNvbnN0IHRocm93biA9XG4gICAgICB0aGlzLnQwIC0gaW50ZXJhY3Rpb24uY29vcmRzLmN1ci50aW1lU3RhbXAgPCA1MCAmJlxuICAgICAgcG9pbnRlclNwZWVkID4gb3B0aW9ucy5taW5TcGVlZCAmJlxuICAgICAgcG9pbnRlclNwZWVkID4gb3B0aW9ucy5lbmRTcGVlZFxuXG4gICAgaWYgKHRocm93bikge1xuICAgICAgdGhpcy5zdGFydEluZXJ0aWEoKVxuICAgIH0gZWxzZSB7XG4gICAgICBtb2RpZmljYXRpb24ucmVzdWx0ID0gbW9kaWZpY2F0aW9uLnNldEFsbCh0aGlzLm1vZGlmaWVyQXJnKVxuXG4gICAgICBpZiAoIW1vZGlmaWNhdGlvbi5yZXN1bHQuY2hhbmdlZCkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdGFydFNtb290aEVuZCgpXG4gICAgfVxuXG4gICAgLy8gZm9yY2UgbW9kaWZpY2F0aW9uIGNoYW5nZVxuICAgIGludGVyYWN0aW9uLm1vZGlmaWNhdGlvbi5yZXN1bHQucmVjdCA9IG51bGxcblxuICAgIC8vIGJyaW5nIGluZXJ0aWFzdGFydCBldmVudCB0byB0aGUgdGFyZ2V0IGNvb3Jkc1xuICAgIGludGVyYWN0aW9uLm9mZnNldEJ5KHRoaXMudGFyZ2V0T2Zmc2V0KVxuICAgIGludGVyYWN0aW9uLl9kb1BoYXNlKHtcbiAgICAgIGludGVyYWN0aW9uLFxuICAgICAgZXZlbnQsXG4gICAgICBwaGFzZTogJ2luZXJ0aWFzdGFydCcsXG4gICAgfSlcbiAgICBpbnRlcmFjdGlvbi5vZmZzZXRCeSh7IHg6IC10aGlzLnRhcmdldE9mZnNldC54LCB5OiAtdGhpcy50YXJnZXRPZmZzZXQueSB9KVxuICAgIC8vIGZvcmNlIG1vZGlmaWNhdGlvbiBjaGFuZ2VcbiAgICBpbnRlcmFjdGlvbi5tb2RpZmljYXRpb24ucmVzdWx0LnJlY3QgPSBudWxsXG5cbiAgICB0aGlzLmFjdGl2ZSA9IHRydWVcbiAgICBpbnRlcmFjdGlvbi5zaW11bGF0aW9uID0gdGhpc1xuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHN0YXJ0SW5lcnRpYSgpIHtcbiAgICBjb25zdCBzdGFydFZlbG9jaXR5ID0gdGhpcy5pbnRlcmFjdGlvbi5jb29yZHMudmVsb2NpdHkuY2xpZW50XG4gICAgY29uc3Qgb3B0aW9ucyA9IGdldE9wdGlvbnModGhpcy5pbnRlcmFjdGlvbilcbiAgICBjb25zdCBsYW1iZGEgPSBvcHRpb25zLnJlc2lzdGFuY2VcbiAgICBjb25zdCBpbmVydGlhRHVyID0gLU1hdGgubG9nKG9wdGlvbnMuZW5kU3BlZWQgLyB0aGlzLnYwKSAvIGxhbWJkYVxuXG4gICAgdGhpcy50YXJnZXRPZmZzZXQgPSB7XG4gICAgICB4OiAoc3RhcnRWZWxvY2l0eS54IC0gaW5lcnRpYUR1cikgLyBsYW1iZGEsXG4gICAgICB5OiAoc3RhcnRWZWxvY2l0eS55IC0gaW5lcnRpYUR1cikgLyBsYW1iZGEsXG4gICAgfVxuXG4gICAgdGhpcy50ZSA9IGluZXJ0aWFEdXJcbiAgICB0aGlzLmxhbWJkYV92MCA9IGxhbWJkYSAvIHRoaXMudjBcbiAgICB0aGlzLm9uZV92ZV92MCA9IDEgLSBvcHRpb25zLmVuZFNwZWVkIC8gdGhpcy52MFxuXG4gICAgY29uc3QgeyBtb2RpZmljYXRpb24sIG1vZGlmaWVyQXJnIH0gPSB0aGlzXG5cbiAgICBtb2RpZmllckFyZy5wYWdlQ29vcmRzID0ge1xuICAgICAgeDogdGhpcy5zdGFydENvb3Jkcy54ICsgdGhpcy50YXJnZXRPZmZzZXQueCxcbiAgICAgIHk6IHRoaXMuc3RhcnRDb29yZHMueSArIHRoaXMudGFyZ2V0T2Zmc2V0LnksXG4gICAgfVxuXG4gICAgbW9kaWZpY2F0aW9uLnJlc3VsdCA9IG1vZGlmaWNhdGlvbi5zZXRBbGwobW9kaWZpZXJBcmcpXG5cbiAgICBpZiAobW9kaWZpY2F0aW9uLnJlc3VsdC5jaGFuZ2VkKSB7XG4gICAgICB0aGlzLmlzTW9kaWZpZWQgPSB0cnVlXG4gICAgICB0aGlzLm1vZGlmaWVkT2Zmc2V0ID0ge1xuICAgICAgICB4OiB0aGlzLnRhcmdldE9mZnNldC54ICsgbW9kaWZpY2F0aW9uLnJlc3VsdC5kZWx0YS54LFxuICAgICAgICB5OiB0aGlzLnRhcmdldE9mZnNldC55ICsgbW9kaWZpY2F0aW9uLnJlc3VsdC5kZWx0YS55LFxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMub25OZXh0RnJhbWUoKCkgPT4gdGhpcy5pbmVydGlhVGljaygpKVxuICB9XG5cbiAgc3RhcnRTbW9vdGhFbmQoKSB7XG4gICAgdGhpcy5zbW9vdGhFbmQgPSB0cnVlXG4gICAgdGhpcy5pc01vZGlmaWVkID0gdHJ1ZVxuICAgIHRoaXMudGFyZ2V0T2Zmc2V0ID0ge1xuICAgICAgeDogdGhpcy5tb2RpZmljYXRpb24ucmVzdWx0LmRlbHRhLngsXG4gICAgICB5OiB0aGlzLm1vZGlmaWNhdGlvbi5yZXN1bHQuZGVsdGEueSxcbiAgICB9XG5cbiAgICB0aGlzLm9uTmV4dEZyYW1lKCgpID0+IHRoaXMuc21vb3RoRW5kVGljaygpKVxuICB9XG5cbiAgb25OZXh0RnJhbWUodGlja0ZuOiAoKSA9PiB2b2lkKSB7XG4gICAgdGhpcy50aW1lb3V0ID0gcmFmLnJlcXVlc3QoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgICAgIHRpY2tGbigpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGluZXJ0aWFUaWNrKCkge1xuICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IHRoaXNcbiAgICBjb25zdCBvcHRpb25zID0gZ2V0T3B0aW9ucyhpbnRlcmFjdGlvbilcbiAgICBjb25zdCBsYW1iZGEgPSBvcHRpb25zLnJlc2lzdGFuY2VcbiAgICBjb25zdCB0ID0gKGludGVyYWN0aW9uLl9ub3coKSAtIHRoaXMudDApIC8gMTAwMFxuXG4gICAgaWYgKHQgPCB0aGlzLnRlKSB7XG4gICAgICBjb25zdCBwcm9ncmVzcyA9IDEgLSAoTWF0aC5leHAoLWxhbWJkYSAqIHQpIC0gdGhpcy5sYW1iZGFfdjApIC8gdGhpcy5vbmVfdmVfdjBcbiAgICAgIGxldCBuZXdPZmZzZXQ6IFBvaW50XG5cbiAgICAgIGlmICh0aGlzLmlzTW9kaWZpZWQpIHtcbiAgICAgICAgbmV3T2Zmc2V0ID0gZ2V0UXVhZHJhdGljQ3VydmVQb2ludChcbiAgICAgICAgICAwLFxuICAgICAgICAgIDAsXG4gICAgICAgICAgdGhpcy50YXJnZXRPZmZzZXQueCxcbiAgICAgICAgICB0aGlzLnRhcmdldE9mZnNldC55LFxuICAgICAgICAgIHRoaXMubW9kaWZpZWRPZmZzZXQueCxcbiAgICAgICAgICB0aGlzLm1vZGlmaWVkT2Zmc2V0LnksXG4gICAgICAgICAgcHJvZ3Jlc3MsXG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld09mZnNldCA9IHtcbiAgICAgICAgICB4OiB0aGlzLnRhcmdldE9mZnNldC54ICogcHJvZ3Jlc3MsXG4gICAgICAgICAgeTogdGhpcy50YXJnZXRPZmZzZXQueSAqIHByb2dyZXNzLFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRlbHRhID0geyB4OiBuZXdPZmZzZXQueCAtIHRoaXMuY3VycmVudE9mZnNldC54LCB5OiBuZXdPZmZzZXQueSAtIHRoaXMuY3VycmVudE9mZnNldC55IH1cblxuICAgICAgdGhpcy5jdXJyZW50T2Zmc2V0LnggKz0gZGVsdGEueFxuICAgICAgdGhpcy5jdXJyZW50T2Zmc2V0LnkgKz0gZGVsdGEueVxuXG4gICAgICBpbnRlcmFjdGlvbi5vZmZzZXRCeShkZWx0YSlcbiAgICAgIGludGVyYWN0aW9uLm1vdmUoKVxuXG4gICAgICB0aGlzLm9uTmV4dEZyYW1lKCgpID0+IHRoaXMuaW5lcnRpYVRpY2soKSlcbiAgICB9IGVsc2Uge1xuICAgICAgaW50ZXJhY3Rpb24ub2Zmc2V0Qnkoe1xuICAgICAgICB4OiB0aGlzLm1vZGlmaWVkT2Zmc2V0LnggLSB0aGlzLmN1cnJlbnRPZmZzZXQueCxcbiAgICAgICAgeTogdGhpcy5tb2RpZmllZE9mZnNldC55IC0gdGhpcy5jdXJyZW50T2Zmc2V0LnksXG4gICAgICB9KVxuXG4gICAgICB0aGlzLmVuZCgpXG4gICAgfVxuICB9XG5cbiAgc21vb3RoRW5kVGljaygpIHtcbiAgICBjb25zdCB7IGludGVyYWN0aW9uIH0gPSB0aGlzXG4gICAgY29uc3QgdCA9IGludGVyYWN0aW9uLl9ub3coKSAtIHRoaXMudDBcbiAgICBjb25zdCB7IHNtb290aEVuZER1cmF0aW9uOiBkdXJhdGlvbiB9ID0gZ2V0T3B0aW9ucyhpbnRlcmFjdGlvbilcblxuICAgIGlmICh0IDwgZHVyYXRpb24pIHtcbiAgICAgIGNvbnN0IG5ld09mZnNldCA9IHtcbiAgICAgICAgeDogZWFzZU91dFF1YWQodCwgMCwgdGhpcy50YXJnZXRPZmZzZXQueCwgZHVyYXRpb24pLFxuICAgICAgICB5OiBlYXNlT3V0UXVhZCh0LCAwLCB0aGlzLnRhcmdldE9mZnNldC55LCBkdXJhdGlvbiksXG4gICAgICB9XG4gICAgICBjb25zdCBkZWx0YSA9IHtcbiAgICAgICAgeDogbmV3T2Zmc2V0LnggLSB0aGlzLmN1cnJlbnRPZmZzZXQueCxcbiAgICAgICAgeTogbmV3T2Zmc2V0LnkgLSB0aGlzLmN1cnJlbnRPZmZzZXQueSxcbiAgICAgIH1cblxuICAgICAgdGhpcy5jdXJyZW50T2Zmc2V0LnggKz0gZGVsdGEueFxuICAgICAgdGhpcy5jdXJyZW50T2Zmc2V0LnkgKz0gZGVsdGEueVxuXG4gICAgICBpbnRlcmFjdGlvbi5vZmZzZXRCeShkZWx0YSlcbiAgICAgIGludGVyYWN0aW9uLm1vdmUoeyBza2lwTW9kaWZpZXJzOiB0aGlzLm1vZGlmaWVyQ291bnQgfSlcblxuICAgICAgdGhpcy5vbk5leHRGcmFtZSgoKSA9PiB0aGlzLnNtb290aEVuZFRpY2soKSlcbiAgICB9IGVsc2Uge1xuICAgICAgaW50ZXJhY3Rpb24ub2Zmc2V0Qnkoe1xuICAgICAgICB4OiB0aGlzLnRhcmdldE9mZnNldC54IC0gdGhpcy5jdXJyZW50T2Zmc2V0LngsXG4gICAgICAgIHk6IHRoaXMudGFyZ2V0T2Zmc2V0LnkgLSB0aGlzLmN1cnJlbnRPZmZzZXQueSxcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMuZW5kKClcbiAgICB9XG4gIH1cblxuICByZXN1bWUoeyBwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQgfTogU2lnbmFsQXJnc1snaW50ZXJhY3Rpb25zOmRvd24nXSkge1xuICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IHRoaXNcblxuICAgIC8vIHVuZG8gaW5lcnRpYSBjaGFuZ2VzIHRvIGludGVyYWN0aW9uIGNvb3Jkc1xuICAgIGludGVyYWN0aW9uLm9mZnNldEJ5KHtcbiAgICAgIHg6IC10aGlzLmN1cnJlbnRPZmZzZXQueCxcbiAgICAgIHk6IC10aGlzLmN1cnJlbnRPZmZzZXQueSxcbiAgICB9KVxuXG4gICAgLy8gdXBkYXRlIHBvaW50ZXIgYXQgcG9pbnRlciBkb3duIHBvc2l0aW9uXG4gICAgaW50ZXJhY3Rpb24udXBkYXRlUG9pbnRlcihwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQsIHRydWUpXG5cbiAgICAvLyBmaXJlIHJlc3VtZSBzaWduYWxzIGFuZCBldmVudFxuICAgIGludGVyYWN0aW9uLl9kb1BoYXNlKHtcbiAgICAgIGludGVyYWN0aW9uLFxuICAgICAgZXZlbnQsXG4gICAgICBwaGFzZTogJ3Jlc3VtZScsXG4gICAgfSlcbiAgICBjb3B5Q29vcmRzKGludGVyYWN0aW9uLmNvb3Jkcy5wcmV2LCBpbnRlcmFjdGlvbi5jb29yZHMuY3VyKVxuXG4gICAgdGhpcy5zdG9wKClcbiAgfVxuXG4gIGVuZCgpIHtcbiAgICB0aGlzLmludGVyYWN0aW9uLm1vdmUoKVxuICAgIHRoaXMuaW50ZXJhY3Rpb24uZW5kKClcbiAgICB0aGlzLnN0b3AoKVxuICB9XG5cbiAgc3RvcCgpIHtcbiAgICB0aGlzLmFjdGl2ZSA9IHRoaXMuc21vb3RoRW5kID0gZmFsc2VcbiAgICB0aGlzLmludGVyYWN0aW9uLnNpbXVsYXRpb24gPSBudWxsXG4gICAgcmFmLmNhbmNlbCh0aGlzLnRpbWVvdXQpXG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhcnQoeyBpbnRlcmFjdGlvbiwgZXZlbnQgfTogRG9QaGFzZUFyZzxBY3Rpb25OYW1lLCAnZW5kJz4pIHtcbiAgaWYgKCFpbnRlcmFjdGlvbi5faW50ZXJhY3RpbmcgfHwgaW50ZXJhY3Rpb24uc2ltdWxhdGlvbikge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBjb25zdCBzdGFydGVkID0gaW50ZXJhY3Rpb24uaW5lcnRpYS5zdGFydChldmVudClcblxuICAvLyBwcmV2ZW50IGFjdGlvbiBlbmQgaWYgaW5lcnRpYSBvciBzbW9vdGhFbmRcbiAgcmV0dXJuIHN0YXJ0ZWQgPyBmYWxzZSA6IG51bGxcbn1cblxuLy8gQ2hlY2sgaWYgdGhlIGRvd24gZXZlbnQgaGl0cyB0aGUgY3VycmVudCBpbmVydGlhIHRhcmdldFxuLy8gY29udHJvbCBzaG91bGQgYmUgcmV0dXJuIHRvIHRoZSB1c2VyXG5mdW5jdGlvbiByZXN1bWUoYXJnOiBTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6ZG93biddKSB7XG4gIGNvbnN0IHsgaW50ZXJhY3Rpb24sIGV2ZW50VGFyZ2V0IH0gPSBhcmdcbiAgY29uc3Qgc3RhdGUgPSBpbnRlcmFjdGlvbi5pbmVydGlhXG5cbiAgaWYgKCFzdGF0ZS5hY3RpdmUpIHJldHVyblxuXG4gIGxldCBlbGVtZW50ID0gZXZlbnRUYXJnZXQgYXMgTm9kZVxuXG4gIC8vIGNsaW1iIHVwIHRoZSBET00gdHJlZSBmcm9tIHRoZSBldmVudCB0YXJnZXRcbiAgd2hpbGUgKGlzLmVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAvLyBpZiBpbnRlcmFjdGlvbiBlbGVtZW50IGlzIHRoZSBjdXJyZW50IGluZXJ0aWEgdGFyZ2V0IGVsZW1lbnRcbiAgICBpZiAoZWxlbWVudCA9PT0gaW50ZXJhY3Rpb24uZWxlbWVudCkge1xuICAgICAgc3RhdGUucmVzdW1lKGFyZylcbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgZWxlbWVudCA9IGRvbS5wYXJlbnROb2RlKGVsZW1lbnQpXG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcCh7IGludGVyYWN0aW9uIH06IHsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uIH0pIHtcbiAgY29uc3Qgc3RhdGUgPSBpbnRlcmFjdGlvbi5pbmVydGlhXG5cbiAgaWYgKHN0YXRlLmFjdGl2ZSkge1xuICAgIHN0YXRlLnN0b3AoKVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldE9wdGlvbnMoeyBpbnRlcmFjdGFibGUsIHByZXBhcmVkIH06IEludGVyYWN0aW9uKSB7XG4gIHJldHVybiBpbnRlcmFjdGFibGUgJiYgaW50ZXJhY3RhYmxlLm9wdGlvbnMgJiYgcHJlcGFyZWQubmFtZSAmJiBpbnRlcmFjdGFibGUub3B0aW9uc1twcmVwYXJlZC5uYW1lXS5pbmVydGlhXG59XG5cbmNvbnN0IGluZXJ0aWE6IFBsdWdpbiA9IHtcbiAgaWQ6ICdpbmVydGlhJyxcbiAgYmVmb3JlOiBbJ21vZGlmaWVycycsICdhY3Rpb25zJ10sXG4gIGluc3RhbGwsXG4gIGxpc3RlbmVyczoge1xuICAgICdpbnRlcmFjdGlvbnM6bmV3JzogKHsgaW50ZXJhY3Rpb24gfSkgPT4ge1xuICAgICAgaW50ZXJhY3Rpb24uaW5lcnRpYSA9IG5ldyBJbmVydGlhU3RhdGUoaW50ZXJhY3Rpb24pXG4gICAgfSxcblxuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1lbmQnOiBzdGFydCxcbiAgICAnaW50ZXJhY3Rpb25zOmRvd24nOiByZXN1bWUsXG4gICAgJ2ludGVyYWN0aW9uczpzdG9wJzogc3RvcCxcblxuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1yZXN1bWUnOiAoYXJnKSA9PiB7XG4gICAgICBjb25zdCB7IG1vZGlmaWNhdGlvbiB9ID0gYXJnLmludGVyYWN0aW9uXG5cbiAgICAgIG1vZGlmaWNhdGlvbi5zdG9wKGFyZylcbiAgICAgIG1vZGlmaWNhdGlvbi5zdGFydChhcmcsIGFyZy5pbnRlcmFjdGlvbi5jb29yZHMuY3VyLnBhZ2UpXG4gICAgICBtb2RpZmljYXRpb24uYXBwbHlUb0ludGVyYWN0aW9uKGFyZylcbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLWluZXJ0aWFzdGFydCc6IChhcmcpID0+IGFyZy5pbnRlcmFjdGlvbi5tb2RpZmljYXRpb24uc2V0QW5kQXBwbHkoYXJnKSxcbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1yZXN1bWUnOiBtb2RpZmllcnMuYWRkRXZlbnRNb2RpZmllcnMsXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24taW5lcnRpYXN0YXJ0JzogbW9kaWZpZXJzLmFkZEV2ZW50TW9kaWZpZXJzLFxuICAgICdpbnRlcmFjdGlvbnM6YWZ0ZXItYWN0aW9uLWluZXJ0aWFzdGFydCc6IChhcmcpID0+XG4gICAgICBhcmcuaW50ZXJhY3Rpb24ubW9kaWZpY2F0aW9uLnJlc3RvcmVJbnRlcmFjdGlvbkNvb3JkcyhhcmcpLFxuICAgICdpbnRlcmFjdGlvbnM6YWZ0ZXItYWN0aW9uLXJlc3VtZSc6IChhcmcpID0+IGFyZy5pbnRlcmFjdGlvbi5tb2RpZmljYXRpb24ucmVzdG9yZUludGVyYWN0aW9uQ29vcmRzKGFyZyksXG4gIH0sXG59XG5cbi8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzU2MzQ1MjgvMjI4MDg4OFxuZnVuY3Rpb24gX2dldFFCZXppZXJWYWx1ZSh0OiBudW1iZXIsIHAxOiBudW1iZXIsIHAyOiBudW1iZXIsIHAzOiBudW1iZXIpIHtcbiAgY29uc3QgaVQgPSAxIC0gdFxuICByZXR1cm4gaVQgKiBpVCAqIHAxICsgMiAqIGlUICogdCAqIHAyICsgdCAqIHQgKiBwM1xufVxuXG5mdW5jdGlvbiBnZXRRdWFkcmF0aWNDdXJ2ZVBvaW50KFxuICBzdGFydFg6IG51bWJlcixcbiAgc3RhcnRZOiBudW1iZXIsXG4gIGNwWDogbnVtYmVyLFxuICBjcFk6IG51bWJlcixcbiAgZW5kWDogbnVtYmVyLFxuICBlbmRZOiBudW1iZXIsXG4gIHBvc2l0aW9uOiBudW1iZXIsXG4pIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBfZ2V0UUJlemllclZhbHVlKHBvc2l0aW9uLCBzdGFydFgsIGNwWCwgZW5kWCksXG4gICAgeTogX2dldFFCZXppZXJWYWx1ZShwb3NpdGlvbiwgc3RhcnRZLCBjcFksIGVuZFkpLFxuICB9XG59XG5cbi8vIGh0dHA6Ly9naXptYS5jb20vZWFzaW5nL1xuZnVuY3Rpb24gZWFzZU91dFF1YWQodDogbnVtYmVyLCBiOiBudW1iZXIsIGM6IG51bWJlciwgZDogbnVtYmVyKSB7XG4gIHQgLz0gZFxuICByZXR1cm4gLWMgKiB0ICogKHQgLSAyKSArIGJcbn1cblxuZXhwb3J0IGRlZmF1bHQgaW5lcnRpYVxuIiwgImltcG9ydCAqIGFzIGFyciBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9hcnInXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCB0eXBlIHsgTm9ybWFsaXplZExpc3RlbmVycyB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL25vcm1hbGl6ZUxpc3RlbmVycydcbmltcG9ydCBub3JtYWxpemUgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvbm9ybWFsaXplTGlzdGVuZXJzJ1xuXG5pbXBvcnQgdHlwZSB7IExpc3RlbmVyLCBMaXN0ZW5lcnNBcmcsIFJlY3QgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5mdW5jdGlvbiBmaXJlVW50aWxJbW1lZGlhdGVTdG9wcGVkKGV2ZW50OiBhbnksIGxpc3RlbmVyczogTGlzdGVuZXJbXSkge1xuICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIGxpc3RlbmVycykge1xuICAgIGlmIChldmVudC5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQpIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgbGlzdGVuZXIoZXZlbnQpXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEV2ZW50YWJsZSB7XG4gIG9wdGlvbnM6IGFueVxuICB0eXBlczogTm9ybWFsaXplZExpc3RlbmVycyA9IHt9XG4gIHByb3BhZ2F0aW9uU3RvcHBlZCA9IGZhbHNlXG4gIGltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IGZhbHNlXG4gIGdsb2JhbDogYW55XG5cbiAgY29uc3RydWN0b3Iob3B0aW9ucz86IHsgW2luZGV4OiBzdHJpbmddOiBhbnkgfSkge1xuICAgIHRoaXMub3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucyB8fCB7fSlcbiAgfVxuXG4gIGZpcmU8VCBleHRlbmRzIHsgdHlwZTogc3RyaW5nOyBwcm9wYWdhdGlvblN0b3BwZWQ/OiBib29sZWFuIH0+KGV2ZW50OiBUKSB7XG4gICAgbGV0IGxpc3RlbmVyczogTGlzdGVuZXJbXVxuICAgIGNvbnN0IGdsb2JhbCA9IHRoaXMuZ2xvYmFsXG5cbiAgICAvLyBJbnRlcmFjdGFibGUjb24oKSBsaXN0ZW5lcnNcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZSBuby1jb25kaXRpb25hbC1hc3NpZ25tZW50XG4gICAgaWYgKChsaXN0ZW5lcnMgPSB0aGlzLnR5cGVzW2V2ZW50LnR5cGVdKSkge1xuICAgICAgZmlyZVVudGlsSW1tZWRpYXRlU3RvcHBlZChldmVudCwgbGlzdGVuZXJzKVxuICAgIH1cblxuICAgIC8vIGludGVyYWN0Lm9uKCkgbGlzdGVuZXJzXG4gICAgaWYgKCFldmVudC5wcm9wYWdhdGlvblN0b3BwZWQgJiYgZ2xvYmFsICYmIChsaXN0ZW5lcnMgPSBnbG9iYWxbZXZlbnQudHlwZV0pKSB7XG4gICAgICBmaXJlVW50aWxJbW1lZGlhdGVTdG9wcGVkKGV2ZW50LCBsaXN0ZW5lcnMpXG4gICAgfVxuICB9XG5cbiAgb24odHlwZTogc3RyaW5nLCBsaXN0ZW5lcjogTGlzdGVuZXJzQXJnKSB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gbm9ybWFsaXplKHR5cGUsIGxpc3RlbmVyKVxuXG4gICAgZm9yICh0eXBlIGluIGxpc3RlbmVycykge1xuICAgICAgdGhpcy50eXBlc1t0eXBlXSA9IGFyci5tZXJnZSh0aGlzLnR5cGVzW3R5cGVdIHx8IFtdLCBsaXN0ZW5lcnNbdHlwZV0pXG4gICAgfVxuICB9XG5cbiAgb2ZmKHR5cGU6IHN0cmluZywgbGlzdGVuZXI6IExpc3RlbmVyc0FyZykge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IG5vcm1hbGl6ZSh0eXBlLCBsaXN0ZW5lcilcblxuICAgIGZvciAodHlwZSBpbiBsaXN0ZW5lcnMpIHtcbiAgICAgIGNvbnN0IGV2ZW50TGlzdCA9IHRoaXMudHlwZXNbdHlwZV1cblxuICAgICAgaWYgKCFldmVudExpc3QgfHwgIWV2ZW50TGlzdC5sZW5ndGgpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBzdWJMaXN0ZW5lciBvZiBsaXN0ZW5lcnNbdHlwZV0pIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBldmVudExpc3QuaW5kZXhPZihzdWJMaXN0ZW5lcilcblxuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgZXZlbnRMaXN0LnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldFJlY3QoX2VsZW1lbnQ6IEVsZW1lbnQpOiBSZWN0IHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG4iLCAiaW1wb3J0ICogYXMgYXJyIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2FycidcbmltcG9ydCAqIGFzIGRvbVV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuaW1wb3J0IHBFeHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcG9pbnRlckV4dGVuZCdcbmltcG9ydCAqIGFzIHBvaW50ZXJVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9wb2ludGVyVXRpbHMnXG5cbmltcG9ydCB0eXBlIHsgU2NvcGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBFbGVtZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuaW1wb3J0IHR5cGUgeyBOYXRpdmVFdmVudFRhcmdldCB9IGZyb20gJy4vTmF0aXZlVHlwZXMnXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJyB7XG4gIGludGVyZmFjZSBTY29wZSB7XG4gICAgZXZlbnRzOiBSZXR1cm5UeXBlPHR5cGVvZiBpbnN0YWxsPlxuICB9XG59XG5cbmludGVyZmFjZSBFdmVudE9wdGlvbnMge1xuICBjYXB0dXJlOiBib29sZWFuXG4gIHBhc3NpdmU6IGJvb2xlYW5cbn1cblxudHlwZSBQYXJ0aWFsRXZlbnRUYXJnZXQgPSBQYXJ0aWFsPE5hdGl2ZUV2ZW50VGFyZ2V0PlxuXG50eXBlIExpc3RlbmVyRW50cnkgPSB7IGZ1bmM6IChldmVudDogRXZlbnQgfCBGYWtlRXZlbnQpID0+IGFueTsgb3B0aW9uczogRXZlbnRPcHRpb25zIH1cblxuZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgdGFyZ2V0czogQXJyYXk8e1xuICAgIGV2ZW50VGFyZ2V0OiBQYXJ0aWFsRXZlbnRUYXJnZXRcbiAgICBldmVudHM6IHsgW3R5cGU6IHN0cmluZ106IExpc3RlbmVyRW50cnlbXSB9XG4gIH0+ID0gW11cblxuICBjb25zdCBkZWxlZ2F0ZWRFdmVudHM6IHtcbiAgICBbdHlwZTogc3RyaW5nXTogQXJyYXk8e1xuICAgICAgc2VsZWN0b3I6IHN0cmluZ1xuICAgICAgY29udGV4dDogTm9kZVxuICAgICAgbGlzdGVuZXJzOiBMaXN0ZW5lckVudHJ5W11cbiAgICB9PlxuICB9ID0ge31cbiAgY29uc3QgZG9jdW1lbnRzOiBEb2N1bWVudFtdID0gW11cblxuICBjb25zdCBldmVudHNNZXRob2RzID0ge1xuICAgIGFkZCxcbiAgICByZW1vdmUsXG5cbiAgICBhZGREZWxlZ2F0ZSxcbiAgICByZW1vdmVEZWxlZ2F0ZSxcblxuICAgIGRlbGVnYXRlTGlzdGVuZXIsXG4gICAgZGVsZWdhdGVVc2VDYXB0dXJlLFxuICAgIGRlbGVnYXRlZEV2ZW50cyxcbiAgICBkb2N1bWVudHMsXG5cbiAgICB0YXJnZXRzLFxuXG4gICAgc3VwcG9ydHNPcHRpb25zOiBmYWxzZSxcbiAgICBzdXBwb3J0c1Bhc3NpdmU6IGZhbHNlLFxuICB9XG5cbiAgLy8gY2hlY2sgaWYgYnJvd3NlciBzdXBwb3J0cyBwYXNzaXZlIGV2ZW50cyBhbmQgb3B0aW9ucyBhcmdcbiAgc2NvcGUuZG9jdW1lbnQ/LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCB7XG4gICAgZ2V0IGNhcHR1cmUoKSB7XG4gICAgICByZXR1cm4gKGV2ZW50c01ldGhvZHMuc3VwcG9ydHNPcHRpb25zID0gdHJ1ZSlcbiAgICB9LFxuICAgIGdldCBwYXNzaXZlKCkge1xuICAgICAgcmV0dXJuIChldmVudHNNZXRob2RzLnN1cHBvcnRzUGFzc2l2ZSA9IHRydWUpXG4gICAgfSxcbiAgfSlcblxuICBzY29wZS5ldmVudHMgPSBldmVudHNNZXRob2RzXG5cbiAgZnVuY3Rpb24gYWRkKFxuICAgIGV2ZW50VGFyZ2V0OiBQYXJ0aWFsRXZlbnRUYXJnZXQsXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGxpc3RlbmVyOiBMaXN0ZW5lckVudHJ5WydmdW5jJ10sXG4gICAgb3B0aW9uYWxBcmc/OiBib29sZWFuIHwgRXZlbnRPcHRpb25zLFxuICApIHtcbiAgICBpZiAoIWV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIpIHJldHVyblxuXG4gICAgY29uc3Qgb3B0aW9ucyA9IGdldE9wdGlvbnMob3B0aW9uYWxBcmcpXG4gICAgbGV0IHRhcmdldCA9IGFyci5maW5kKHRhcmdldHMsICh0KSA9PiB0LmV2ZW50VGFyZ2V0ID09PSBldmVudFRhcmdldClcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0YXJnZXQgPSB7XG4gICAgICAgIGV2ZW50VGFyZ2V0LFxuICAgICAgICBldmVudHM6IHt9LFxuICAgICAgfVxuXG4gICAgICB0YXJnZXRzLnB1c2godGFyZ2V0KVxuICAgIH1cblxuICAgIGlmICghdGFyZ2V0LmV2ZW50c1t0eXBlXSkge1xuICAgICAgdGFyZ2V0LmV2ZW50c1t0eXBlXSA9IFtdXG4gICAgfVxuXG4gICAgaWYgKCFhcnIuZmluZCh0YXJnZXQuZXZlbnRzW3R5cGVdLCAobCkgPT4gbC5mdW5jID09PSBsaXN0ZW5lciAmJiBvcHRpb25zTWF0Y2gobC5vcHRpb25zLCBvcHRpb25zKSkpIHtcbiAgICAgIGV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGxpc3RlbmVyIGFzIGFueSxcbiAgICAgICAgZXZlbnRzTWV0aG9kcy5zdXBwb3J0c09wdGlvbnMgPyBvcHRpb25zIDogb3B0aW9ucy5jYXB0dXJlLFxuICAgICAgKVxuICAgICAgdGFyZ2V0LmV2ZW50c1t0eXBlXS5wdXNoKHsgZnVuYzogbGlzdGVuZXIsIG9wdGlvbnMgfSlcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmUoXG4gICAgZXZlbnRUYXJnZXQ6IFBhcnRpYWxFdmVudFRhcmdldCxcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgbGlzdGVuZXI/OiAnYWxsJyB8IExpc3RlbmVyRW50cnlbJ2Z1bmMnXSxcbiAgICBvcHRpb25hbEFyZz86IGJvb2xlYW4gfCBFdmVudE9wdGlvbnMsXG4gICkge1xuICAgIGlmICghZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lciB8fCAhZXZlbnRUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcikgcmV0dXJuXG5cbiAgICBjb25zdCB0YXJnZXRJbmRleCA9IGFyci5maW5kSW5kZXgodGFyZ2V0cywgKHQpID0+IHQuZXZlbnRUYXJnZXQgPT09IGV2ZW50VGFyZ2V0KVxuICAgIGNvbnN0IHRhcmdldCA9IHRhcmdldHNbdGFyZ2V0SW5kZXhdXG5cbiAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0LmV2ZW50cykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09ICdhbGwnKSB7XG4gICAgICBmb3IgKHR5cGUgaW4gdGFyZ2V0LmV2ZW50cykge1xuICAgICAgICBpZiAodGFyZ2V0LmV2ZW50cy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkge1xuICAgICAgICAgIHJlbW92ZShldmVudFRhcmdldCwgdHlwZSwgJ2FsbCcpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGxldCB0eXBlSXNFbXB0eSA9IGZhbHNlXG4gICAgY29uc3QgdHlwZUxpc3RlbmVycyA9IHRhcmdldC5ldmVudHNbdHlwZV1cblxuICAgIGlmICh0eXBlTGlzdGVuZXJzKSB7XG4gICAgICBpZiAobGlzdGVuZXIgPT09ICdhbGwnKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSB0eXBlTGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgY29uc3QgZW50cnkgPSB0eXBlTGlzdGVuZXJzW2ldXG4gICAgICAgICAgcmVtb3ZlKGV2ZW50VGFyZ2V0LCB0eXBlLCBlbnRyeS5mdW5jLCBlbnRyeS5vcHRpb25zKVxuICAgICAgICB9XG4gICAgICAgIHJldHVyblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGdldE9wdGlvbnMob3B0aW9uYWxBcmcpXG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlTGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgZW50cnkgPSB0eXBlTGlzdGVuZXJzW2ldXG4gICAgICAgICAgaWYgKGVudHJ5LmZ1bmMgPT09IGxpc3RlbmVyICYmIG9wdGlvbnNNYXRjaChlbnRyeS5vcHRpb25zLCBvcHRpb25zKSkge1xuICAgICAgICAgICAgZXZlbnRUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgbGlzdGVuZXIgYXMgYW55LFxuICAgICAgICAgICAgICBldmVudHNNZXRob2RzLnN1cHBvcnRzT3B0aW9ucyA/IG9wdGlvbnMgOiBvcHRpb25zLmNhcHR1cmUsXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB0eXBlTGlzdGVuZXJzLnNwbGljZShpLCAxKVxuXG4gICAgICAgICAgICBpZiAodHlwZUxpc3RlbmVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgZGVsZXRlIHRhcmdldC5ldmVudHNbdHlwZV1cbiAgICAgICAgICAgICAgdHlwZUlzRW1wdHkgPSB0cnVlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVJc0VtcHR5ICYmICFPYmplY3Qua2V5cyh0YXJnZXQuZXZlbnRzKS5sZW5ndGgpIHtcbiAgICAgIHRhcmdldHMuc3BsaWNlKHRhcmdldEluZGV4LCAxKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZERlbGVnYXRlKFxuICAgIHNlbGVjdG9yOiBzdHJpbmcsXG4gICAgY29udGV4dDogTm9kZSxcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgbGlzdGVuZXI6IExpc3RlbmVyRW50cnlbJ2Z1bmMnXSxcbiAgICBvcHRpb25hbEFyZz86IGFueSxcbiAgKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGdldE9wdGlvbnMob3B0aW9uYWxBcmcpXG4gICAgaWYgKCFkZWxlZ2F0ZWRFdmVudHNbdHlwZV0pIHtcbiAgICAgIGRlbGVnYXRlZEV2ZW50c1t0eXBlXSA9IFtdXG5cbiAgICAgIC8vIGFkZCBkZWxlZ2F0ZSBsaXN0ZW5lciBmdW5jdGlvbnNcbiAgICAgIGZvciAoY29uc3QgZG9jIG9mIGRvY3VtZW50cykge1xuICAgICAgICBhZGQoZG9jLCB0eXBlLCBkZWxlZ2F0ZUxpc3RlbmVyKVxuICAgICAgICBhZGQoZG9jLCB0eXBlLCBkZWxlZ2F0ZVVzZUNhcHR1cmUsIHRydWUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZGVsZWdhdGVzID0gZGVsZWdhdGVkRXZlbnRzW3R5cGVdXG4gICAgbGV0IGRlbGVnYXRlID0gYXJyLmZpbmQoZGVsZWdhdGVzLCAoZCkgPT4gZC5zZWxlY3RvciA9PT0gc2VsZWN0b3IgJiYgZC5jb250ZXh0ID09PSBjb250ZXh0KVxuXG4gICAgaWYgKCFkZWxlZ2F0ZSkge1xuICAgICAgZGVsZWdhdGUgPSB7IHNlbGVjdG9yLCBjb250ZXh0LCBsaXN0ZW5lcnM6IFtdIH1cbiAgICAgIGRlbGVnYXRlcy5wdXNoKGRlbGVnYXRlKVxuICAgIH1cblxuICAgIGRlbGVnYXRlLmxpc3RlbmVycy5wdXNoKHsgZnVuYzogbGlzdGVuZXIsIG9wdGlvbnMgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZURlbGVnYXRlKFxuICAgIHNlbGVjdG9yOiBzdHJpbmcsXG4gICAgY29udGV4dDogRG9jdW1lbnQgfCBFbGVtZW50LFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBsaXN0ZW5lcj86IExpc3RlbmVyRW50cnlbJ2Z1bmMnXSxcbiAgICBvcHRpb25hbEFyZz86IGFueSxcbiAgKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGdldE9wdGlvbnMob3B0aW9uYWxBcmcpXG4gICAgY29uc3QgZGVsZWdhdGVzID0gZGVsZWdhdGVkRXZlbnRzW3R5cGVdXG4gICAgbGV0IG1hdGNoRm91bmQgPSBmYWxzZVxuICAgIGxldCBpbmRleDogbnVtYmVyXG5cbiAgICBpZiAoIWRlbGVnYXRlcykgcmV0dXJuXG5cbiAgICAvLyBjb3VudCBmcm9tIGxhc3QgaW5kZXggb2YgZGVsZWdhdGVkIHRvIDBcbiAgICBmb3IgKGluZGV4ID0gZGVsZWdhdGVzLmxlbmd0aCAtIDE7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgIGNvbnN0IGN1ciA9IGRlbGVnYXRlc1tpbmRleF1cbiAgICAgIC8vIGxvb2sgZm9yIG1hdGNoaW5nIHNlbGVjdG9yIGFuZCBjb250ZXh0IE5vZGVcbiAgICAgIGlmIChjdXIuc2VsZWN0b3IgPT09IHNlbGVjdG9yICYmIGN1ci5jb250ZXh0ID09PSBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHsgbGlzdGVuZXJzIH0gPSBjdXJcblxuICAgICAgICAvLyBlYWNoIGl0ZW0gb2YgdGhlIGxpc3RlbmVycyBhcnJheSBpcyBhbiBhcnJheTogW2Z1bmN0aW9uLCBjYXB0dXJlLCBwYXNzaXZlXVxuICAgICAgICBmb3IgKGxldCBpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgY29uc3QgZW50cnkgPSBsaXN0ZW5lcnNbaV1cblxuICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZSBsaXN0ZW5lciBmdW5jdGlvbnMgYW5kIGNhcHR1cmUgYW5kIHBhc3NpdmUgZmxhZ3MgbWF0Y2hcbiAgICAgICAgICBpZiAoZW50cnkuZnVuYyA9PT0gbGlzdGVuZXIgJiYgb3B0aW9uc01hdGNoKGVudHJ5Lm9wdGlvbnMsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgdGhlIGxpc3RlbmVyIGZyb20gdGhlIGFycmF5IG9mIGxpc3RlbmVyc1xuICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKVxuXG4gICAgICAgICAgICAvLyBpZiBhbGwgbGlzdGVuZXJzIGZvciB0aGlzIHRhcmdldCBoYXZlIGJlZW4gcmVtb3ZlZFxuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSB0YXJnZXQgZnJvbSB0aGUgZGVsZWdhdGVzIGFycmF5XG4gICAgICAgICAgICBpZiAoIWxpc3RlbmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgZGVsZWdhdGVzLnNwbGljZShpbmRleCwgMSlcblxuICAgICAgICAgICAgICAvLyByZW1vdmUgZGVsZWdhdGUgZnVuY3Rpb24gZnJvbSBjb250ZXh0XG4gICAgICAgICAgICAgIHJlbW92ZShjb250ZXh0LCB0eXBlLCBkZWxlZ2F0ZUxpc3RlbmVyKVxuICAgICAgICAgICAgICByZW1vdmUoY29udGV4dCwgdHlwZSwgZGVsZWdhdGVVc2VDYXB0dXJlLCB0cnVlKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBvbmx5IHJlbW92ZSBvbmUgbGlzdGVuZXJcbiAgICAgICAgICAgIG1hdGNoRm91bmQgPSB0cnVlXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXRjaEZvdW5kKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIGJvdW5kIHRvIHRoZSBpbnRlcmFjdGFibGUgY29udGV4dCB3aGVuIGEgRE9NIGV2ZW50XG4gIC8vIGxpc3RlbmVyIGlzIGFkZGVkIHRvIGEgc2VsZWN0b3IgaW50ZXJhY3RhYmxlXG4gIGZ1bmN0aW9uIGRlbGVnYXRlTGlzdGVuZXIoZXZlbnQ6IEV2ZW50IHwgRmFrZUV2ZW50LCBvcHRpb25hbEFyZz86IGFueSkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBnZXRPcHRpb25zKG9wdGlvbmFsQXJnKVxuICAgIGNvbnN0IGZha2VFdmVudCA9IG5ldyBGYWtlRXZlbnQoZXZlbnQgYXMgRXZlbnQpXG4gICAgY29uc3QgZGVsZWdhdGVzID0gZGVsZWdhdGVkRXZlbnRzW2V2ZW50LnR5cGVdXG4gICAgY29uc3QgW2V2ZW50VGFyZ2V0XSA9IHBvaW50ZXJVdGlscy5nZXRFdmVudFRhcmdldHMoZXZlbnQgYXMgRXZlbnQpXG4gICAgbGV0IGVsZW1lbnQ6IE5vZGUgPSBldmVudFRhcmdldFxuXG4gICAgLy8gY2xpbWIgdXAgZG9jdW1lbnQgdHJlZSBsb29raW5nIGZvciBzZWxlY3RvciBtYXRjaGVzXG4gICAgd2hpbGUgKGlzLmVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVsZWdhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGN1ciA9IGRlbGVnYXRlc1tpXVxuICAgICAgICBjb25zdCB7IHNlbGVjdG9yLCBjb250ZXh0IH0gPSBjdXJcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgZG9tVXRpbHMubWF0Y2hlc1NlbGVjdG9yKGVsZW1lbnQsIHNlbGVjdG9yKSAmJlxuICAgICAgICAgIGRvbVV0aWxzLm5vZGVDb250YWlucyhjb250ZXh0LCBldmVudFRhcmdldCkgJiZcbiAgICAgICAgICBkb21VdGlscy5ub2RlQ29udGFpbnMoY29udGV4dCwgZWxlbWVudClcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgeyBsaXN0ZW5lcnMgfSA9IGN1clxuXG4gICAgICAgICAgZmFrZUV2ZW50LmN1cnJlbnRUYXJnZXQgPSBlbGVtZW50XG5cbiAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGxpc3RlbmVycykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnNNYXRjaChlbnRyeS5vcHRpb25zLCBvcHRpb25zKSkge1xuICAgICAgICAgICAgICBlbnRyeS5mdW5jKGZha2VFdmVudClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZWxlbWVudCA9IGRvbVV0aWxzLnBhcmVudE5vZGUoZWxlbWVudClcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZWxlZ2F0ZVVzZUNhcHR1cmUodGhpczogRWxlbWVudCwgZXZlbnQ6IEV2ZW50IHwgRmFrZUV2ZW50KSB7XG4gICAgcmV0dXJuIGRlbGVnYXRlTGlzdGVuZXIuY2FsbCh0aGlzLCBldmVudCwgdHJ1ZSlcbiAgfVxuXG4gIC8vIGZvciB0eXBlIGluZmVycmVuY2VcbiAgcmV0dXJuIGV2ZW50c01ldGhvZHNcbn1cblxuY2xhc3MgRmFrZUV2ZW50IGltcGxlbWVudHMgUGFydGlhbDxFdmVudD4ge1xuICBjdXJyZW50VGFyZ2V0OiBOb2RlXG4gIG9yaWdpbmFsRXZlbnQ6IEV2ZW50XG4gIHR5cGU6IHN0cmluZ1xuXG4gIGNvbnN0cnVjdG9yKG9yaWdpbmFsRXZlbnQ6IEV2ZW50KSB7XG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudFxuICAgIC8vIGR1cGxpY2F0ZSB0aGUgZXZlbnQgc28gdGhhdCBjdXJyZW50VGFyZ2V0IGNhbiBiZSBjaGFuZ2VkXG4gICAgcEV4dGVuZCh0aGlzLCBvcmlnaW5hbEV2ZW50KVxuICB9XG5cbiAgcHJldmVudE9yaWdpbmFsRGVmYXVsdCgpIHtcbiAgICB0aGlzLm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKVxuICB9XG5cbiAgc3RvcFByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMub3JpZ2luYWxFdmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICB9XG5cbiAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMub3JpZ2luYWxFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldE9wdGlvbnMocGFyYW06IHsgW2luZGV4OiBzdHJpbmddOiBhbnkgfSB8IGJvb2xlYW4pOiB7IGNhcHR1cmU6IGJvb2xlYW47IHBhc3NpdmU6IGJvb2xlYW4gfSB7XG4gIGlmICghaXMub2JqZWN0KHBhcmFtKSkge1xuICAgIHJldHVybiB7IGNhcHR1cmU6ICEhcGFyYW0sIHBhc3NpdmU6IGZhbHNlIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgY2FwdHVyZTogISFwYXJhbS5jYXB0dXJlLFxuICAgIHBhc3NpdmU6ICEhcGFyYW0ucGFzc2l2ZSxcbiAgfVxufVxuXG5mdW5jdGlvbiBvcHRpb25zTWF0Y2goYTogUGFydGlhbDxFdmVudE9wdGlvbnM+IHwgYm9vbGVhbiwgYjogUGFydGlhbDxFdmVudE9wdGlvbnM+KSB7XG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZVxuXG4gIGlmICh0eXBlb2YgYSA9PT0gJ2Jvb2xlYW4nKSByZXR1cm4gISFiLmNhcHR1cmUgPT09IGEgJiYgISFiLnBhc3NpdmUgPT09IGZhbHNlXG5cbiAgcmV0dXJuICEhYS5jYXB0dXJlID09PSAhIWIuY2FwdHVyZSAmJiAhIWEucGFzc2l2ZSA9PT0gISFiLnBhc3NpdmVcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpZDogJ2V2ZW50cycsXG4gIGluc3RhbGwsXG59XG4iLCAiaW1wb3J0ICogYXMgZG9tIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuXG5pbXBvcnQgdHlwZSBJbnRlcmFjdGlvbiBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IFBvaW50ZXJUeXBlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuZXhwb3J0IGludGVyZmFjZSBTZWFyY2hEZXRhaWxzIHtcbiAgcG9pbnRlcjogUG9pbnRlclR5cGVcbiAgcG9pbnRlcklkOiBudW1iZXJcbiAgcG9pbnRlclR5cGU6IHN0cmluZ1xuICBldmVudFR5cGU6IHN0cmluZ1xuICBldmVudFRhcmdldDogRXZlbnRUYXJnZXRcbiAgY3VyRXZlbnRUYXJnZXQ6IEV2ZW50VGFyZ2V0XG4gIHNjb3BlOiBTY29wZVxufVxuXG5jb25zdCBmaW5kZXIgPSB7XG4gIG1ldGhvZE9yZGVyOiBbJ3NpbXVsYXRpb25SZXN1bWUnLCAnbW91c2VPclBlbicsICdoYXNQb2ludGVyJywgJ2lkbGUnXSBhcyBjb25zdCxcblxuICBzZWFyY2goZGV0YWlsczogU2VhcmNoRGV0YWlscykge1xuICAgIGZvciAoY29uc3QgbWV0aG9kIG9mIGZpbmRlci5tZXRob2RPcmRlcikge1xuICAgICAgY29uc3QgaW50ZXJhY3Rpb24gPSBmaW5kZXJbbWV0aG9kXShkZXRhaWxzKVxuXG4gICAgICBpZiAoaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGxcbiAgfSxcblxuICAvLyB0cnkgdG8gcmVzdW1lIHNpbXVsYXRpb24gd2l0aCBhIG5ldyBwb2ludGVyXG4gIHNpbXVsYXRpb25SZXN1bWUoeyBwb2ludGVyVHlwZSwgZXZlbnRUeXBlLCBldmVudFRhcmdldCwgc2NvcGUgfTogU2VhcmNoRGV0YWlscykge1xuICAgIGlmICghL2Rvd258c3RhcnQvaS50ZXN0KGV2ZW50VHlwZSkpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBpbnRlcmFjdGlvbiBvZiBzY29wZS5pbnRlcmFjdGlvbnMubGlzdCkge1xuICAgICAgbGV0IGVsZW1lbnQgPSBldmVudFRhcmdldCBhcyBOb2RlXG5cbiAgICAgIGlmIChcbiAgICAgICAgaW50ZXJhY3Rpb24uc2ltdWxhdGlvbiAmJlxuICAgICAgICBpbnRlcmFjdGlvbi5zaW11bGF0aW9uLmFsbG93UmVzdW1lICYmXG4gICAgICAgIGludGVyYWN0aW9uLnBvaW50ZXJUeXBlID09PSBwb2ludGVyVHlwZVxuICAgICAgKSB7XG4gICAgICAgIHdoaWxlIChlbGVtZW50KSB7XG4gICAgICAgICAgLy8gaWYgdGhlIGVsZW1lbnQgaXMgdGhlIGludGVyYWN0aW9uIGVsZW1lbnRcbiAgICAgICAgICBpZiAoZWxlbWVudCA9PT0gaW50ZXJhY3Rpb24uZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnQgPSBkb20ucGFyZW50Tm9kZShlbGVtZW50KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGxcbiAgfSxcblxuICAvLyBpZiBpdCdzIGEgbW91c2Ugb3IgcGVuIGludGVyYWN0aW9uXG4gIG1vdXNlT3JQZW4oeyBwb2ludGVySWQsIHBvaW50ZXJUeXBlLCBldmVudFR5cGUsIHNjb3BlIH06IFNlYXJjaERldGFpbHMpIHtcbiAgICBpZiAocG9pbnRlclR5cGUgIT09ICdtb3VzZScgJiYgcG9pbnRlclR5cGUgIT09ICdwZW4nKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGxldCBmaXJzdE5vbkFjdGl2ZVxuXG4gICAgZm9yIChjb25zdCBpbnRlcmFjdGlvbiBvZiBzY29wZS5pbnRlcmFjdGlvbnMubGlzdCkge1xuICAgICAgaWYgKGludGVyYWN0aW9uLnBvaW50ZXJUeXBlID09PSBwb2ludGVyVHlwZSkge1xuICAgICAgICAvLyBpZiBpdCdzIGEgZG93biBldmVudCwgc2tpcCBpbnRlcmFjdGlvbnMgd2l0aCBydW5uaW5nIHNpbXVsYXRpb25zXG4gICAgICAgIGlmIChpbnRlcmFjdGlvbi5zaW11bGF0aW9uICYmICFoYXNQb2ludGVySWQoaW50ZXJhY3Rpb24sIHBvaW50ZXJJZCkpIHtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlIGludGVyYWN0aW9uIGlzIGFjdGl2ZSwgcmV0dXJuIGl0IGltbWVkaWF0ZWx5XG4gICAgICAgIGlmIChpbnRlcmFjdGlvbi5pbnRlcmFjdGluZygpKSB7XG4gICAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uXG4gICAgICAgIH1cbiAgICAgICAgLy8gb3RoZXJ3aXNlIHNhdmUgaXQgYW5kIGxvb2sgZm9yIGFub3RoZXIgYWN0aXZlIGludGVyYWN0aW9uXG4gICAgICAgIGVsc2UgaWYgKCFmaXJzdE5vbkFjdGl2ZSkge1xuICAgICAgICAgIGZpcnN0Tm9uQWN0aXZlID0gaW50ZXJhY3Rpb25cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGlmIG5vIGFjdGl2ZSBtb3VzZSBpbnRlcmFjdGlvbiB3YXMgZm91bmQgdXNlIHRoZSBmaXJzdCBpbmFjdGl2ZSBtb3VzZVxuICAgIC8vIGludGVyYWN0aW9uXG4gICAgaWYgKGZpcnN0Tm9uQWN0aXZlKSB7XG4gICAgICByZXR1cm4gZmlyc3ROb25BY3RpdmVcbiAgICB9XG5cbiAgICAvLyBmaW5kIGFueSBtb3VzZSBvciBwZW4gaW50ZXJhY3Rpb24uXG4gICAgLy8gaWdub3JlIHRoZSBpbnRlcmFjdGlvbiBpZiB0aGUgZXZlbnRUeXBlIGlzIGEgKmRvd24sIGFuZCBhIHNpbXVsYXRpb25cbiAgICAvLyBpcyBhY3RpdmVcbiAgICBmb3IgKGNvbnN0IGludGVyYWN0aW9uIG9mIHNjb3BlLmludGVyYWN0aW9ucy5saXN0KSB7XG4gICAgICBpZiAoaW50ZXJhY3Rpb24ucG9pbnRlclR5cGUgPT09IHBvaW50ZXJUeXBlICYmICEoL2Rvd24vaS50ZXN0KGV2ZW50VHlwZSkgJiYgaW50ZXJhY3Rpb24uc2ltdWxhdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGxcbiAgfSxcblxuICAvLyBnZXQgaW50ZXJhY3Rpb24gdGhhdCBoYXMgdGhpcyBwb2ludGVyXG4gIGhhc1BvaW50ZXIoeyBwb2ludGVySWQsIHNjb3BlIH06IFNlYXJjaERldGFpbHMpIHtcbiAgICBmb3IgKGNvbnN0IGludGVyYWN0aW9uIG9mIHNjb3BlLmludGVyYWN0aW9ucy5saXN0KSB7XG4gICAgICBpZiAoaGFzUG9pbnRlcklkKGludGVyYWN0aW9uLCBwb2ludGVySWQpKSB7XG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvblxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsXG4gIH0sXG5cbiAgLy8gZ2V0IGZpcnN0IGlkbGUgaW50ZXJhY3Rpb24gd2l0aCBhIG1hdGNoaW5nIHBvaW50ZXJUeXBlXG4gIGlkbGUoeyBwb2ludGVyVHlwZSwgc2NvcGUgfTogU2VhcmNoRGV0YWlscykge1xuICAgIGZvciAoY29uc3QgaW50ZXJhY3Rpb24gb2Ygc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QpIHtcbiAgICAgIC8vIGlmIHRoZXJlJ3MgYWxyZWFkeSBhIHBvaW50ZXIgaGVsZCBkb3duXG4gICAgICBpZiAoaW50ZXJhY3Rpb24ucG9pbnRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGludGVyYWN0aW9uLmludGVyYWN0YWJsZVxuICAgICAgICAvLyBkb24ndCBhZGQgdGhpcyBwb2ludGVyIGlmIHRoZXJlIGlzIGEgdGFyZ2V0IGludGVyYWN0YWJsZSBhbmQgaXRcbiAgICAgICAgLy8gaXNuJ3QgZ2VzdHVyYWJsZVxuICAgICAgICBpZiAodGFyZ2V0ICYmICEodGFyZ2V0Lm9wdGlvbnMuZ2VzdHVyZSAmJiB0YXJnZXQub3B0aW9ucy5nZXN0dXJlLmVuYWJsZWQpKSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gbWF4aW11bSBvZiAyIHBvaW50ZXJzIHBlciBpbnRlcmFjdGlvblxuICAgICAgZWxzZSBpZiAoaW50ZXJhY3Rpb24ucG9pbnRlcnMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgaWYgKCFpbnRlcmFjdGlvbi5pbnRlcmFjdGluZygpICYmIHBvaW50ZXJUeXBlID09PSBpbnRlcmFjdGlvbi5wb2ludGVyVHlwZSkge1xuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbFxuICB9LFxufVxuXG5mdW5jdGlvbiBoYXNQb2ludGVySWQoaW50ZXJhY3Rpb246IEludGVyYWN0aW9uLCBwb2ludGVySWQ6IG51bWJlcikge1xuICByZXR1cm4gaW50ZXJhY3Rpb24ucG9pbnRlcnMuc29tZSgoeyBpZCB9KSA9PiBpZCA9PT0gcG9pbnRlcklkKVxufVxuXG5leHBvcnQgZGVmYXVsdCBmaW5kZXJcbiIsICJpbXBvcnQgYnJvd3NlciBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9icm93c2VyJ1xuaW1wb3J0IGRvbU9iamVjdHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tT2JqZWN0cydcbmltcG9ydCB7IG5vZGVDb250YWlucyB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0ICogYXMgcG9pbnRlclV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3BvaW50ZXJVdGlscydcblxuaW1wb3J0IHR5cGUgeyBTY29wZSwgU2lnbmFsQXJncywgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgQWN0aW9uTmFtZSwgTGlzdGVuZXIgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICcuL2ludGVyYWN0YWJsZVByZXZlbnREZWZhdWx0J1xuaW1wb3J0IGludGVyYWN0YWJsZVByZXZlbnREZWZhdWx0IGZyb20gJy4vaW50ZXJhY3RhYmxlUHJldmVudERlZmF1bHQnXG5pbXBvcnQgSW50ZXJhY3Rpb25CYXNlIGZyb20gJy4vSW50ZXJhY3Rpb24nXG4vKiBlc2xpbnQtZW5hYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzICovXG5pbXBvcnQgdHlwZSB7IFNlYXJjaERldGFpbHMgfSBmcm9tICcuL2ludGVyYWN0aW9uRmluZGVyJ1xuaW1wb3J0IGZpbmRlciBmcm9tICcuL2ludGVyYWN0aW9uRmluZGVyJ1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9zY29wZScge1xuICBpbnRlcmZhY2UgU2NvcGUge1xuICAgIEludGVyYWN0aW9uOiB0eXBlb2YgSW50ZXJhY3Rpb25CYXNlXG4gICAgaW50ZXJhY3Rpb25zOiB7XG4gICAgICBuZXc6IDxUIGV4dGVuZHMgQWN0aW9uTmFtZT4ob3B0aW9uczogYW55KSA9PiBJbnRlcmFjdGlvbkJhc2U8VD5cbiAgICAgIGxpc3Q6IEFycmF5PEludGVyYWN0aW9uQmFzZTxBY3Rpb25OYW1lPj5cbiAgICAgIGxpc3RlbmVyczogeyBbdHlwZTogc3RyaW5nXTogTGlzdGVuZXIgfVxuICAgICAgZG9jRXZlbnRzOiBBcnJheTx7IHR5cGU6IHN0cmluZzsgbGlzdGVuZXI6IExpc3RlbmVyIH0+XG4gICAgICBwb2ludGVyTW92ZVRvbGVyYW5jZTogbnVtYmVyXG4gICAgfVxuICAgIHByZXZUb3VjaFRpbWU6IG51bWJlclxuICB9XG5cbiAgaW50ZXJmYWNlIFNpZ25hbEFyZ3Mge1xuICAgICdpbnRlcmFjdGlvbnM6ZmluZCc6IHtcbiAgICAgIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbkJhc2VcbiAgICAgIHNlYXJjaERldGFpbHM6IFNlYXJjaERldGFpbHNcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgbWV0aG9kTmFtZXMgPSBbXG4gICdwb2ludGVyRG93bicsXG4gICdwb2ludGVyTW92ZScsXG4gICdwb2ludGVyVXAnLFxuICAndXBkYXRlUG9pbnRlcicsXG4gICdyZW1vdmVQb2ludGVyJyxcbiAgJ3dpbmRvd0JsdXInLFxuXVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCBsaXN0ZW5lcnMgPSB7fSBhcyBhbnlcblxuICBmb3IgKGNvbnN0IG1ldGhvZCBvZiBtZXRob2ROYW1lcykge1xuICAgIGxpc3RlbmVyc1ttZXRob2RdID0gZG9PbkludGVyYWN0aW9ucyhtZXRob2QsIHNjb3BlKVxuICB9XG5cbiAgY29uc3QgcEV2ZW50VHlwZXMgPSBicm93c2VyLnBFdmVudFR5cGVzXG4gIGxldCBkb2NFdmVudHM6IHR5cGVvZiBzY29wZS5pbnRlcmFjdGlvbnMuZG9jRXZlbnRzXG5cbiAgaWYgKGRvbU9iamVjdHMuUG9pbnRlckV2ZW50KSB7XG4gICAgZG9jRXZlbnRzID0gW1xuICAgICAgeyB0eXBlOiBwRXZlbnRUeXBlcy5kb3duLCBsaXN0ZW5lcjogcmVsZWFzZVBvaW50ZXJzT25SZW1vdmVkRWxzIH0sXG4gICAgICB7IHR5cGU6IHBFdmVudFR5cGVzLmRvd24sIGxpc3RlbmVyOiBsaXN0ZW5lcnMucG9pbnRlckRvd24gfSxcbiAgICAgIHsgdHlwZTogcEV2ZW50VHlwZXMubW92ZSwgbGlzdGVuZXI6IGxpc3RlbmVycy5wb2ludGVyTW92ZSB9LFxuICAgICAgeyB0eXBlOiBwRXZlbnRUeXBlcy51cCwgbGlzdGVuZXI6IGxpc3RlbmVycy5wb2ludGVyVXAgfSxcbiAgICAgIHsgdHlwZTogcEV2ZW50VHlwZXMuY2FuY2VsLCBsaXN0ZW5lcjogbGlzdGVuZXJzLnBvaW50ZXJVcCB9LFxuICAgIF1cbiAgfSBlbHNlIHtcbiAgICBkb2NFdmVudHMgPSBbXG4gICAgICB7IHR5cGU6ICdtb3VzZWRvd24nLCBsaXN0ZW5lcjogbGlzdGVuZXJzLnBvaW50ZXJEb3duIH0sXG4gICAgICB7IHR5cGU6ICdtb3VzZW1vdmUnLCBsaXN0ZW5lcjogbGlzdGVuZXJzLnBvaW50ZXJNb3ZlIH0sXG4gICAgICB7IHR5cGU6ICdtb3VzZXVwJywgbGlzdGVuZXI6IGxpc3RlbmVycy5wb2ludGVyVXAgfSxcblxuICAgICAgeyB0eXBlOiAndG91Y2hzdGFydCcsIGxpc3RlbmVyOiByZWxlYXNlUG9pbnRlcnNPblJlbW92ZWRFbHMgfSxcbiAgICAgIHsgdHlwZTogJ3RvdWNoc3RhcnQnLCBsaXN0ZW5lcjogbGlzdGVuZXJzLnBvaW50ZXJEb3duIH0sXG4gICAgICB7IHR5cGU6ICd0b3VjaG1vdmUnLCBsaXN0ZW5lcjogbGlzdGVuZXJzLnBvaW50ZXJNb3ZlIH0sXG4gICAgICB7IHR5cGU6ICd0b3VjaGVuZCcsIGxpc3RlbmVyOiBsaXN0ZW5lcnMucG9pbnRlclVwIH0sXG4gICAgICB7IHR5cGU6ICd0b3VjaGNhbmNlbCcsIGxpc3RlbmVyOiBsaXN0ZW5lcnMucG9pbnRlclVwIH0sXG4gICAgXVxuICB9XG5cbiAgZG9jRXZlbnRzLnB1c2goe1xuICAgIHR5cGU6ICdibHVyJyxcbiAgICBsaXN0ZW5lcihldmVudCkge1xuICAgICAgZm9yIChjb25zdCBpbnRlcmFjdGlvbiBvZiBzY29wZS5pbnRlcmFjdGlvbnMubGlzdCkge1xuICAgICAgICBpbnRlcmFjdGlvbi5kb2N1bWVudEJsdXIoZXZlbnQpXG4gICAgICB9XG4gICAgfSxcbiAgfSlcblxuICAvLyBmb3IgaWdub3JpbmcgYnJvd3NlcidzIHNpbXVsYXRlZCBtb3VzZSBldmVudHNcbiAgc2NvcGUucHJldlRvdWNoVGltZSA9IDBcblxuICBzY29wZS5JbnRlcmFjdGlvbiA9IGNsYXNzPFQgZXh0ZW5kcyBBY3Rpb25OYW1lPiBleHRlbmRzIEludGVyYWN0aW9uQmFzZTxUPiB7XG4gICAgZ2V0IHBvaW50ZXJNb3ZlVG9sZXJhbmNlKCkge1xuICAgICAgcmV0dXJuIHNjb3BlLmludGVyYWN0aW9ucy5wb2ludGVyTW92ZVRvbGVyYW5jZVxuICAgIH1cblxuICAgIHNldCBwb2ludGVyTW92ZVRvbGVyYW5jZSh2YWx1ZSkge1xuICAgICAgc2NvcGUuaW50ZXJhY3Rpb25zLnBvaW50ZXJNb3ZlVG9sZXJhbmNlID0gdmFsdWVcbiAgICB9XG5cbiAgICBfbm93KCkge1xuICAgICAgcmV0dXJuIHNjb3BlLm5vdygpXG4gICAgfVxuICB9XG5cbiAgc2NvcGUuaW50ZXJhY3Rpb25zID0ge1xuICAgIC8vIGFsbCBhY3RpdmUgYW5kIGlkbGUgaW50ZXJhY3Rpb25zXG4gICAgbGlzdDogW10sXG4gICAgbmV3PFQgZXh0ZW5kcyBBY3Rpb25OYW1lPihvcHRpb25zOiB7IHBvaW50ZXJUeXBlPzogc3RyaW5nOyBzY29wZUZpcmU/OiBTY29wZVsnZmlyZSddIH0pIHtcbiAgICAgIG9wdGlvbnMuc2NvcGVGaXJlID0gKG5hbWUsIGFyZykgPT4gc2NvcGUuZmlyZShuYW1lLCBhcmcpXG5cbiAgICAgIGNvbnN0IGludGVyYWN0aW9uID0gbmV3IHNjb3BlLkludGVyYWN0aW9uPFQ+KG9wdGlvbnMgYXMgUmVxdWlyZWQ8dHlwZW9mIG9wdGlvbnM+KVxuXG4gICAgICBzY29wZS5pbnRlcmFjdGlvbnMubGlzdC5wdXNoKGludGVyYWN0aW9uKVxuICAgICAgcmV0dXJuIGludGVyYWN0aW9uXG4gICAgfSxcbiAgICBsaXN0ZW5lcnMsXG4gICAgZG9jRXZlbnRzLFxuICAgIHBvaW50ZXJNb3ZlVG9sZXJhbmNlOiAxLFxuICB9XG5cbiAgZnVuY3Rpb24gcmVsZWFzZVBvaW50ZXJzT25SZW1vdmVkRWxzKCkge1xuICAgIC8vIGZvciBhbGwgaW5hY3RpdmUgdG91Y2ggaW50ZXJhY3Rpb25zIHdpdGggcG9pbnRlcnMgZG93blxuICAgIGZvciAoY29uc3QgaW50ZXJhY3Rpb24gb2Ygc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QpIHtcbiAgICAgIGlmICghaW50ZXJhY3Rpb24ucG9pbnRlcklzRG93biB8fCBpbnRlcmFjdGlvbi5wb2ludGVyVHlwZSAhPT0gJ3RvdWNoJyB8fCBpbnRlcmFjdGlvbi5faW50ZXJhY3RpbmcpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gaWYgYSBwb2ludGVyIGlzIGRvd24gb24gYW4gZWxlbWVudCB0aGF0IGlzIG5vIGxvbmdlciBpbiB0aGUgRE9NIHRyZWVcbiAgICAgIGZvciAoY29uc3QgcG9pbnRlciBvZiBpbnRlcmFjdGlvbi5wb2ludGVycykge1xuICAgICAgICBpZiAoIXNjb3BlLmRvY3VtZW50cy5zb21lKCh7IGRvYyB9KSA9PiBub2RlQ29udGFpbnMoZG9jLCBwb2ludGVyLmRvd25UYXJnZXQpKSkge1xuICAgICAgICAgIC8vIHJlbW92ZSB0aGUgcG9pbnRlciBmcm9tIHRoZSBpbnRlcmFjdGlvblxuICAgICAgICAgIGludGVyYWN0aW9uLnJlbW92ZVBvaW50ZXIocG9pbnRlci5wb2ludGVyLCBwb2ludGVyLmV2ZW50KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2NvcGUudXNlUGx1Z2luKGludGVyYWN0YWJsZVByZXZlbnREZWZhdWx0KVxufVxuXG5mdW5jdGlvbiBkb09uSW50ZXJhY3Rpb25zKG1ldGhvZDogc3RyaW5nLCBzY29wZTogU2NvcGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChldmVudDogRXZlbnQpIHtcbiAgICBjb25zdCBpbnRlcmFjdGlvbnMgPSBzY29wZS5pbnRlcmFjdGlvbnMubGlzdFxuXG4gICAgY29uc3QgcG9pbnRlclR5cGUgPSBwb2ludGVyVXRpbHMuZ2V0UG9pbnRlclR5cGUoZXZlbnQpXG4gICAgY29uc3QgW2V2ZW50VGFyZ2V0LCBjdXJFdmVudFRhcmdldF0gPSBwb2ludGVyVXRpbHMuZ2V0RXZlbnRUYXJnZXRzKGV2ZW50KVxuICAgIGNvbnN0IG1hdGNoZXM6IGFueVtdID0gW10gLy8gWyBbcG9pbnRlciwgaW50ZXJhY3Rpb25dLCAuLi5dXG5cbiAgICBpZiAoL150b3VjaC8udGVzdChldmVudC50eXBlKSkge1xuICAgICAgc2NvcGUucHJldlRvdWNoVGltZSA9IHNjb3BlLm5vdygpXG5cbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgIGZvciAoY29uc3QgY2hhbmdlZFRvdWNoIG9mIGV2ZW50LmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXIgPSBjaGFuZ2VkVG91Y2hcbiAgICAgICAgY29uc3QgcG9pbnRlcklkID0gcG9pbnRlclV0aWxzLmdldFBvaW50ZXJJZChwb2ludGVyKVxuICAgICAgICBjb25zdCBzZWFyY2hEZXRhaWxzOiBTZWFyY2hEZXRhaWxzID0ge1xuICAgICAgICAgIHBvaW50ZXIsXG4gICAgICAgICAgcG9pbnRlcklkLFxuICAgICAgICAgIHBvaW50ZXJUeXBlLFxuICAgICAgICAgIGV2ZW50VHlwZTogZXZlbnQudHlwZSxcbiAgICAgICAgICBldmVudFRhcmdldCxcbiAgICAgICAgICBjdXJFdmVudFRhcmdldCxcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbiA9IGdldEludGVyYWN0aW9uKHNlYXJjaERldGFpbHMpXG5cbiAgICAgICAgbWF0Y2hlcy5wdXNoKFtcbiAgICAgICAgICBzZWFyY2hEZXRhaWxzLnBvaW50ZXIsXG4gICAgICAgICAgc2VhcmNoRGV0YWlscy5ldmVudFRhcmdldCxcbiAgICAgICAgICBzZWFyY2hEZXRhaWxzLmN1ckV2ZW50VGFyZ2V0LFxuICAgICAgICAgIGludGVyYWN0aW9uLFxuICAgICAgICBdKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgaW52YWxpZFBvaW50ZXIgPSBmYWxzZVxuXG4gICAgICBpZiAoIWJyb3dzZXIuc3VwcG9ydHNQb2ludGVyRXZlbnQgJiYgL21vdXNlLy50ZXN0KGV2ZW50LnR5cGUpKSB7XG4gICAgICAgIC8vIGlnbm9yZSBtb3VzZSBldmVudHMgd2hpbGUgdG91Y2ggaW50ZXJhY3Rpb25zIGFyZSBhY3RpdmVcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnRlcmFjdGlvbnMubGVuZ3RoICYmICFpbnZhbGlkUG9pbnRlcjsgaSsrKSB7XG4gICAgICAgICAgaW52YWxpZFBvaW50ZXIgPSBpbnRlcmFjdGlvbnNbaV0ucG9pbnRlclR5cGUgIT09ICdtb3VzZScgJiYgaW50ZXJhY3Rpb25zW2ldLnBvaW50ZXJJc0Rvd25cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRyeSB0byBpZ25vcmUgbW91c2UgZXZlbnRzIHRoYXQgYXJlIHNpbXVsYXRlZCBieSB0aGUgYnJvd3NlclxuICAgICAgICAvLyBhZnRlciBhIHRvdWNoIGV2ZW50XG4gICAgICAgIGludmFsaWRQb2ludGVyID1cbiAgICAgICAgICBpbnZhbGlkUG9pbnRlciB8fFxuICAgICAgICAgIHNjb3BlLm5vdygpIC0gc2NvcGUucHJldlRvdWNoVGltZSA8IDUwMCB8fFxuICAgICAgICAgIC8vIG9uIGlPUyBhbmQgRmlyZWZveCBNb2JpbGUsIE1vdXNlRXZlbnQudGltZVN0YW1wIGlzIHplcm8gaWYgc2ltdWxhdGVkXG4gICAgICAgICAgZXZlbnQudGltZVN0YW1wID09PSAwXG4gICAgICB9XG5cbiAgICAgIGlmICghaW52YWxpZFBvaW50ZXIpIHtcbiAgICAgICAgY29uc3Qgc2VhcmNoRGV0YWlscyA9IHtcbiAgICAgICAgICBwb2ludGVyOiBldmVudCBhcyBQb2ludGVyRXZlbnQsXG4gICAgICAgICAgcG9pbnRlcklkOiBwb2ludGVyVXRpbHMuZ2V0UG9pbnRlcklkKGV2ZW50IGFzIFBvaW50ZXJFdmVudCksXG4gICAgICAgICAgcG9pbnRlclR5cGUsXG4gICAgICAgICAgZXZlbnRUeXBlOiBldmVudC50eXBlLFxuICAgICAgICAgIGN1ckV2ZW50VGFyZ2V0LFxuICAgICAgICAgIGV2ZW50VGFyZ2V0LFxuICAgICAgICAgIHNjb3BlLFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb24gPSBnZXRJbnRlcmFjdGlvbihzZWFyY2hEZXRhaWxzKVxuXG4gICAgICAgIG1hdGNoZXMucHVzaChbXG4gICAgICAgICAgc2VhcmNoRGV0YWlscy5wb2ludGVyLFxuICAgICAgICAgIHNlYXJjaERldGFpbHMuZXZlbnRUYXJnZXQsXG4gICAgICAgICAgc2VhcmNoRGV0YWlscy5jdXJFdmVudFRhcmdldCxcbiAgICAgICAgICBpbnRlcmFjdGlvbixcbiAgICAgICAgXSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG4gICAgZm9yIChjb25zdCBbcG9pbnRlciwgZXZlbnRUYXJnZXQsIGN1ckV2ZW50VGFyZ2V0LCBpbnRlcmFjdGlvbl0gb2YgbWF0Y2hlcykge1xuICAgICAgaW50ZXJhY3Rpb25bbWV0aG9kXShwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQsIGN1ckV2ZW50VGFyZ2V0KVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRJbnRlcmFjdGlvbihzZWFyY2hEZXRhaWxzOiBTZWFyY2hEZXRhaWxzKSB7XG4gIGNvbnN0IHsgcG9pbnRlclR5cGUsIHNjb3BlIH0gPSBzZWFyY2hEZXRhaWxzXG5cbiAgY29uc3QgZm91bmRJbnRlcmFjdGlvbiA9IGZpbmRlci5zZWFyY2goc2VhcmNoRGV0YWlscylcbiAgY29uc3Qgc2lnbmFsQXJnID0geyBpbnRlcmFjdGlvbjogZm91bmRJbnRlcmFjdGlvbiwgc2VhcmNoRGV0YWlscyB9XG5cbiAgc2NvcGUuZmlyZSgnaW50ZXJhY3Rpb25zOmZpbmQnLCBzaWduYWxBcmcpXG5cbiAgcmV0dXJuIHNpZ25hbEFyZy5pbnRlcmFjdGlvbiB8fCBzY29wZS5pbnRlcmFjdGlvbnMubmV3KHsgcG9pbnRlclR5cGUgfSlcbn1cblxuZnVuY3Rpb24gb25Eb2NTaWduYWw8VCBleHRlbmRzICdzY29wZTphZGQtZG9jdW1lbnQnIHwgJ3Njb3BlOnJlbW92ZS1kb2N1bWVudCc+KFxuICB7IGRvYywgc2NvcGUsIG9wdGlvbnMgfTogU2lnbmFsQXJnc1tUXSxcbiAgZXZlbnRNZXRob2ROYW1lOiAnYWRkJyB8ICdyZW1vdmUnLFxuKSB7XG4gIGNvbnN0IHtcbiAgICBpbnRlcmFjdGlvbnM6IHsgZG9jRXZlbnRzIH0sXG4gICAgZXZlbnRzLFxuICB9ID0gc2NvcGVcbiAgY29uc3QgZXZlbnRNZXRob2QgPSBldmVudHNbZXZlbnRNZXRob2ROYW1lXVxuXG4gIGlmIChzY29wZS5icm93c2VyLmlzSU9TICYmICFvcHRpb25zLmV2ZW50cykge1xuICAgIG9wdGlvbnMuZXZlbnRzID0geyBwYXNzaXZlOiBmYWxzZSB9XG4gIH1cblxuICAvLyBkZWxlZ2F0ZSBldmVudCBsaXN0ZW5lclxuICBmb3IgKGNvbnN0IGV2ZW50VHlwZSBpbiBldmVudHMuZGVsZWdhdGVkRXZlbnRzKSB7XG4gICAgZXZlbnRNZXRob2QoZG9jLCBldmVudFR5cGUsIGV2ZW50cy5kZWxlZ2F0ZUxpc3RlbmVyKVxuICAgIGV2ZW50TWV0aG9kKGRvYywgZXZlbnRUeXBlLCBldmVudHMuZGVsZWdhdGVVc2VDYXB0dXJlLCB0cnVlKVxuICB9XG5cbiAgY29uc3QgZXZlbnRPcHRpb25zID0gb3B0aW9ucyAmJiBvcHRpb25zLmV2ZW50c1xuXG4gIGZvciAoY29uc3QgeyB0eXBlLCBsaXN0ZW5lciB9IG9mIGRvY0V2ZW50cykge1xuICAgIGV2ZW50TWV0aG9kKGRvYywgdHlwZSwgbGlzdGVuZXIsIGV2ZW50T3B0aW9ucylcbiAgfVxufVxuXG5jb25zdCBpbnRlcmFjdGlvbnM6IFBsdWdpbiA9IHtcbiAgaWQ6ICdjb3JlL2ludGVyYWN0aW9ucycsXG4gIGluc3RhbGwsXG4gIGxpc3RlbmVyczoge1xuICAgICdzY29wZTphZGQtZG9jdW1lbnQnOiAoYXJnKSA9PiBvbkRvY1NpZ25hbChhcmcsICdhZGQnKSxcbiAgICAnc2NvcGU6cmVtb3ZlLWRvY3VtZW50JzogKGFyZykgPT4gb25Eb2NTaWduYWwoYXJnLCAncmVtb3ZlJyksXG4gICAgJ2ludGVyYWN0YWJsZTp1bnNldCc6ICh7IGludGVyYWN0YWJsZSB9LCBzY29wZSkgPT4ge1xuICAgICAgLy8gU3RvcCBhbmQgZGVzdHJveSByZWxhdGVkIGludGVyYWN0aW9ucyB3aGVuIGFuIEludGVyYWN0YWJsZSBpcyB1bnNldFxuICAgICAgZm9yIChsZXQgaSA9IHNjb3BlLmludGVyYWN0aW9ucy5saXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IGludGVyYWN0aW9uID0gc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3RbaV1cblxuICAgICAgICBpZiAoaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlICE9PSBpbnRlcmFjdGFibGUpIHtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgaW50ZXJhY3Rpb24uc3RvcCgpXG4gICAgICAgIHNjb3BlLmZpcmUoJ2ludGVyYWN0aW9uczpkZXN0cm95JywgeyBpbnRlcmFjdGlvbiB9KVxuICAgICAgICBpbnRlcmFjdGlvbi5kZXN0cm95KClcblxuICAgICAgICBpZiAoc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QubGVuZ3RoID4gMikge1xuICAgICAgICAgIHNjb3BlLmludGVyYWN0aW9ucy5saXN0LnNwbGljZShpLCAxKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgfSxcbiAgb25Eb2NTaWduYWwsXG4gIGRvT25JbnRlcmFjdGlvbnMsXG4gIG1ldGhvZE5hbWVzLFxufVxuXG5leHBvcnQgZGVmYXVsdCBpbnRlcmFjdGlvbnNcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBuby1kdXBlLWNsYXNzLW1lbWJlcnMgKi9cbmltcG9ydCAqIGFzIGFyciBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9hcnInXG5pbXBvcnQgYnJvd3NlciBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9icm93c2VyJ1xuaW1wb3J0IGNsb25lIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2Nsb25lJ1xuaW1wb3J0IHsgZ2V0RWxlbWVudFJlY3QsIG1hdGNoZXNVcFRvLCBub2RlQ29udGFpbnMsIHRyeVNlbGVjdG9yIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcbmltcG9ydCBpc05vbk5hdGl2ZUV2ZW50IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzTm9uTmF0aXZlRXZlbnQnXG5pbXBvcnQgbm9ybWFsaXplTGlzdGVuZXJzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL25vcm1hbGl6ZUxpc3RlbmVycydcbmltcG9ydCB7IGdldFdpbmRvdyB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3dpbmRvdydcblxuaW1wb3J0IHR5cGUgeyBTY29wZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7XG4gIEFjdGlvbk1hcCxcbiAgQWN0aW9uTWV0aG9kLFxuICBBY3Rpb25OYW1lLFxuICBBY3Rpb25zLFxuICBDb250ZXh0LFxuICBFbGVtZW50LFxuICBFdmVudFR5cGVzLFxuICBMaXN0ZW5lcnMsXG4gIExpc3RlbmVyc0FyZyxcbiAgT3JCb29sZWFuLFxuICBUYXJnZXQsXG59IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmltcG9ydCB7IEV2ZW50YWJsZSB9IGZyb20gJy4vRXZlbnRhYmxlJ1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25EZWZhdWx0cywgRGVmYXVsdHMsIE9wdGlvbnNBcmcsIFBlckFjdGlvbkRlZmF1bHRzLCBPcHRpb25zIH0gZnJvbSAnLi9vcHRpb25zJ1xuXG50eXBlIElnbm9yZVZhbHVlID0gc3RyaW5nIHwgRWxlbWVudCB8IGJvb2xlYW5cbnR5cGUgRGVsdGFTb3VyY2UgPSAncGFnZScgfCAnY2xpZW50J1xuXG5jb25zdCBlbnVtIE9uT2ZmTWV0aG9kIHtcbiAgT24sXG4gIE9mZixcbn1cblxuLyoqXG4gKiBgYGB0c1xuICogY29uc3QgaW50ZXJhY3RhYmxlID0gaW50ZXJhY3QoJy5jYXJkcycpXG4gKiAgIC5kcmFnZ2FibGUoe1xuICogICAgIGxpc3RlbmVyczogeyBtb3ZlOiBldmVudCA9PiBjb25zb2xlLmxvZyhldmVudC50eXBlLCBldmVudC5wYWdlWCwgZXZlbnQucGFnZVkpIH1cbiAqICAgfSlcbiAqICAgLnJlc2l6YWJsZSh7XG4gKiAgICAgbGlzdGVuZXJzOiB7IG1vdmU6IGV2ZW50ID0+IGNvbnNvbGUubG9nKGV2ZW50LnJlY3QpIH0sXG4gKiAgICAgbW9kaWZpZXJzOiBbaW50ZXJhY3QubW9kaWZpZXJzLnJlc3RyaWN0RWRnZXMoeyBvdXRlcjogJ3BhcmVudCcgfSldXG4gKiAgIH0pXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIEludGVyYWN0YWJsZSBpbXBsZW1lbnRzIFBhcnRpYWw8RXZlbnRhYmxlPiB7XG4gIC8qKiBAaW50ZXJuYWwgKi8gZ2V0IF9kZWZhdWx0cygpOiBEZWZhdWx0cyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhc2U6IHt9LFxuICAgICAgcGVyQWN0aW9uOiB7fSxcbiAgICAgIGFjdGlvbnM6IHt9IGFzIEFjdGlvbkRlZmF1bHRzLFxuICAgIH1cbiAgfVxuXG4gIHJlYWRvbmx5IHRhcmdldDogVGFyZ2V0XG4gIC8qKiBAaW50ZXJuYWwgKi8gcmVhZG9ubHkgb3B0aW9ucyE6IFJlcXVpcmVkPE9wdGlvbnM+XG4gIC8qKiBAaW50ZXJuYWwgKi8gcmVhZG9ubHkgX2FjdGlvbnM6IEFjdGlvbnNcbiAgLyoqIEBpbnRlcm5hbCAqLyByZWFkb25seSBldmVudHMgPSBuZXcgRXZlbnRhYmxlKClcbiAgLyoqIEBpbnRlcm5hbCAqLyByZWFkb25seSBfY29udGV4dDogQ29udGV4dFxuICAvKiogQGludGVybmFsICovIHJlYWRvbmx5IF93aW46IFdpbmRvd1xuICAvKiogQGludGVybmFsICovIHJlYWRvbmx5IF9kb2M6IERvY3VtZW50XG4gIC8qKiBAaW50ZXJuYWwgKi8gcmVhZG9ubHkgX3Njb3BlRXZlbnRzOiBTY29wZVsnZXZlbnRzJ11cblxuICBjb25zdHJ1Y3RvcihcbiAgICB0YXJnZXQ6IFRhcmdldCxcbiAgICBvcHRpb25zOiBhbnksXG4gICAgZGVmYXVsdENvbnRleHQ6IERvY3VtZW50IHwgRWxlbWVudCxcbiAgICBzY29wZUV2ZW50czogU2NvcGVbJ2V2ZW50cyddLFxuICApIHtcbiAgICB0aGlzLl9hY3Rpb25zID0gb3B0aW9ucy5hY3Rpb25zXG4gICAgdGhpcy50YXJnZXQgPSB0YXJnZXRcbiAgICB0aGlzLl9jb250ZXh0ID0gb3B0aW9ucy5jb250ZXh0IHx8IGRlZmF1bHRDb250ZXh0XG4gICAgdGhpcy5fd2luID0gZ2V0V2luZG93KHRyeVNlbGVjdG9yKHRhcmdldCkgPyB0aGlzLl9jb250ZXh0IDogdGFyZ2V0KVxuICAgIHRoaXMuX2RvYyA9IHRoaXMuX3dpbi5kb2N1bWVudFxuICAgIHRoaXMuX3Njb3BlRXZlbnRzID0gc2NvcGVFdmVudHNcblxuICAgIHRoaXMuc2V0KG9wdGlvbnMpXG4gIH1cblxuICBzZXRPbkV2ZW50cyhhY3Rpb25OYW1lOiBBY3Rpb25OYW1lLCBwaGFzZXM6IE5vbk51bGxhYmxlPGFueT4pIHtcbiAgICBpZiAoaXMuZnVuYyhwaGFzZXMub25zdGFydCkpIHtcbiAgICAgIHRoaXMub24oYCR7YWN0aW9uTmFtZX1zdGFydGAsIHBoYXNlcy5vbnN0YXJ0KVxuICAgIH1cbiAgICBpZiAoaXMuZnVuYyhwaGFzZXMub25tb3ZlKSkge1xuICAgICAgdGhpcy5vbihgJHthY3Rpb25OYW1lfW1vdmVgLCBwaGFzZXMub25tb3ZlKVxuICAgIH1cbiAgICBpZiAoaXMuZnVuYyhwaGFzZXMub25lbmQpKSB7XG4gICAgICB0aGlzLm9uKGAke2FjdGlvbk5hbWV9ZW5kYCwgcGhhc2VzLm9uZW5kKVxuICAgIH1cbiAgICBpZiAoaXMuZnVuYyhwaGFzZXMub25pbmVydGlhc3RhcnQpKSB7XG4gICAgICB0aGlzLm9uKGAke2FjdGlvbk5hbWV9aW5lcnRpYXN0YXJ0YCwgcGhhc2VzLm9uaW5lcnRpYXN0YXJ0KVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICB1cGRhdGVQZXJBY3Rpb25MaXN0ZW5lcnMoYWN0aW9uTmFtZTogQWN0aW9uTmFtZSwgcHJldjogTGlzdGVuZXJzIHwgdW5kZWZpbmVkLCBjdXI6IExpc3RlbmVycyB8IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGFjdGlvbkZpbHRlciA9ICh0aGlzLl9hY3Rpb25zLm1hcFthY3Rpb25OYW1lXSBhcyB7IGZpbHRlckV2ZW50VHlwZT86ICh0eXBlOiBzdHJpbmcpID0+IGJvb2xlYW4gfSlcbiAgICAgID8uZmlsdGVyRXZlbnRUeXBlXG4gICAgY29uc3QgZmlsdGVyID0gKHR5cGU6IHN0cmluZykgPT5cbiAgICAgIChhY3Rpb25GaWx0ZXIgPT0gbnVsbCB8fCBhY3Rpb25GaWx0ZXIodHlwZSkpICYmIGlzTm9uTmF0aXZlRXZlbnQodHlwZSwgdGhpcy5fYWN0aW9ucylcblxuICAgIGlmIChpcy5hcnJheShwcmV2KSB8fCBpcy5vYmplY3QocHJldikpIHtcbiAgICAgIHRoaXMuX29uT2ZmKE9uT2ZmTWV0aG9kLk9mZiwgYWN0aW9uTmFtZSwgcHJldiwgdW5kZWZpbmVkLCBmaWx0ZXIpXG4gICAgfVxuXG4gICAgaWYgKGlzLmFycmF5KGN1cikgfHwgaXMub2JqZWN0KGN1cikpIHtcbiAgICAgIHRoaXMuX29uT2ZmKE9uT2ZmTWV0aG9kLk9uLCBhY3Rpb25OYW1lLCBjdXIsIHVuZGVmaW5lZCwgZmlsdGVyKVxuICAgIH1cbiAgfVxuXG4gIHNldFBlckFjdGlvbihhY3Rpb25OYW1lOiBBY3Rpb25OYW1lLCBvcHRpb25zOiBPckJvb2xlYW48T3B0aW9ucz4pIHtcbiAgICBjb25zdCBkZWZhdWx0cyA9IHRoaXMuX2RlZmF1bHRzXG5cbiAgICAvLyBmb3IgYWxsIHRoZSBkZWZhdWx0IHBlci1hY3Rpb24gb3B0aW9uc1xuICAgIGZvciAoY29uc3Qgb3B0aW9uTmFtZV8gaW4gb3B0aW9ucykge1xuICAgICAgY29uc3Qgb3B0aW9uTmFtZSA9IG9wdGlvbk5hbWVfIGFzIGtleW9mIFBlckFjdGlvbkRlZmF1bHRzXG4gICAgICBjb25zdCBhY3Rpb25PcHRpb25zID0gdGhpcy5vcHRpb25zW2FjdGlvbk5hbWVdXG4gICAgICBjb25zdCBvcHRpb25WYWx1ZTogYW55ID0gb3B0aW9uc1tvcHRpb25OYW1lXVxuXG4gICAgICAvLyByZW1vdmUgb2xkIGV2ZW50IGxpc3RlbmVycyBhbmQgYWRkIG5ldyBvbmVzXG4gICAgICBpZiAob3B0aW9uTmFtZSA9PT0gJ2xpc3RlbmVycycpIHtcbiAgICAgICAgdGhpcy51cGRhdGVQZXJBY3Rpb25MaXN0ZW5lcnMoYWN0aW9uTmFtZSwgYWN0aW9uT3B0aW9ucy5saXN0ZW5lcnMsIG9wdGlvblZhbHVlIGFzIExpc3RlbmVycylcbiAgICAgIH1cblxuICAgICAgLy8gaWYgdGhlIG9wdGlvbiB2YWx1ZSBpcyBhbiBhcnJheVxuICAgICAgaWYgKGlzLmFycmF5KG9wdGlvblZhbHVlKSkge1xuICAgICAgICA7KGFjdGlvbk9wdGlvbnNbb3B0aW9uTmFtZV0gYXMgYW55KSA9IGFyci5mcm9tKG9wdGlvblZhbHVlKVxuICAgICAgfVxuICAgICAgLy8gaWYgdGhlIG9wdGlvbiB2YWx1ZSBpcyBhbiBvYmplY3RcbiAgICAgIGVsc2UgaWYgKGlzLnBsYWluT2JqZWN0KG9wdGlvblZhbHVlKSkge1xuICAgICAgICAvLyBjb3B5IHRoZSBvYmplY3RcbiAgICAgICAgOyhhY3Rpb25PcHRpb25zW29wdGlvbk5hbWVdIGFzIGFueSkgPSBleHRlbmQoXG4gICAgICAgICAgYWN0aW9uT3B0aW9uc1tvcHRpb25OYW1lXSB8fCAoe30gYXMgYW55KSxcbiAgICAgICAgICBjbG9uZShvcHRpb25WYWx1ZSksXG4gICAgICAgIClcblxuICAgICAgICAvLyBzZXQgYW5hYmxlZCBmaWVsZCB0byB0cnVlIGlmIGl0IGV4aXN0cyBpbiB0aGUgZGVmYXVsdHNcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGlzLm9iamVjdChkZWZhdWx0cy5wZXJBY3Rpb25bb3B0aW9uTmFtZV0pICYmXG4gICAgICAgICAgJ2VuYWJsZWQnIGluIChkZWZhdWx0cy5wZXJBY3Rpb25bb3B0aW9uTmFtZV0gYXMgYW55KVxuICAgICAgICApIHtcbiAgICAgICAgICA7KGFjdGlvbk9wdGlvbnNbb3B0aW9uTmFtZV0gYXMgYW55KS5lbmFibGVkID0gb3B0aW9uVmFsdWUuZW5hYmxlZCAhPT0gZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gaWYgdGhlIG9wdGlvbiB2YWx1ZSBpcyBhIGJvb2xlYW4gYW5kIHRoZSBkZWZhdWx0IGlzIGFuIG9iamVjdFxuICAgICAgZWxzZSBpZiAoaXMuYm9vbChvcHRpb25WYWx1ZSkgJiYgaXMub2JqZWN0KGRlZmF1bHRzLnBlckFjdGlvbltvcHRpb25OYW1lXSkpIHtcbiAgICAgICAgOyhhY3Rpb25PcHRpb25zW29wdGlvbk5hbWVdIGFzIGFueSkuZW5hYmxlZCA9IG9wdGlvblZhbHVlXG4gICAgICB9XG4gICAgICAvLyBpZiBpdCdzIGFueXRoaW5nIGVsc2UsIGRvIGEgcGxhaW4gYXNzaWdubWVudFxuICAgICAgZWxzZSB7XG4gICAgICAgIDsoYWN0aW9uT3B0aW9uc1tvcHRpb25OYW1lXSBhcyBhbnkpID0gb3B0aW9uVmFsdWVcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgZnVuY3Rpb24gdG8gZ2V0IGFuIEludGVyYWN0YWJsZXMgYm91bmRpbmcgcmVjdC4gQ2FuIGJlXG4gICAqIG92ZXJyaWRkZW4gdXNpbmcge0BsaW5rIEludGVyYWN0YWJsZS5yZWN0Q2hlY2tlcn0uXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gW2VsZW1lbnRdIFRoZSBlbGVtZW50IHRvIG1lYXN1cmUuXG4gICAqIEByZXR1cm4ge1JlY3R9IFRoZSBvYmplY3QncyBib3VuZGluZyByZWN0YW5nbGUuXG4gICAqL1xuICBnZXRSZWN0KGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICBlbGVtZW50ID0gZWxlbWVudCB8fCAoaXMuZWxlbWVudCh0aGlzLnRhcmdldCkgPyB0aGlzLnRhcmdldCA6IG51bGwpXG5cbiAgICBpZiAoaXMuc3RyaW5nKHRoaXMudGFyZ2V0KSkge1xuICAgICAgZWxlbWVudCA9IGVsZW1lbnQgfHwgdGhpcy5fY29udGV4dC5xdWVyeVNlbGVjdG9yKHRoaXMudGFyZ2V0KVxuICAgIH1cblxuICAgIHJldHVybiBnZXRFbGVtZW50UmVjdChlbGVtZW50KVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgb3Igc2V0cyB0aGUgZnVuY3Rpb24gdXNlZCB0byBjYWxjdWxhdGUgdGhlIGludGVyYWN0YWJsZSdzXG4gICAqIGVsZW1lbnQncyByZWN0YW5nbGVcbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NoZWNrZXJdIEEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyB0aGlzIEludGVyYWN0YWJsZSdzXG4gICAqIGJvdW5kaW5nIHJlY3RhbmdsZS4gU2VlIHtAbGluayBJbnRlcmFjdGFibGUuZ2V0UmVjdH1cbiAgICogQHJldHVybiB7ZnVuY3Rpb24gfCBvYmplY3R9IFRoZSBjaGVja2VyIGZ1bmN0aW9uIG9yIHRoaXMgSW50ZXJhY3RhYmxlXG4gICAqL1xuICByZWN0Q2hlY2tlcigpOiAoZWxlbWVudDogRWxlbWVudCkgPT4gYW55IHwgbnVsbFxuICByZWN0Q2hlY2tlcihjaGVja2VyOiAoZWxlbWVudDogRWxlbWVudCkgPT4gYW55KTogdGhpc1xuICByZWN0Q2hlY2tlcihjaGVja2VyPzogKGVsZW1lbnQ6IEVsZW1lbnQpID0+IGFueSkge1xuICAgIGlmIChpcy5mdW5jKGNoZWNrZXIpKSB7XG4gICAgICB0aGlzLmdldFJlY3QgPSAoZWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCByZWN0ID0gZXh0ZW5kKHt9LCBjaGVja2VyLmFwcGx5KHRoaXMsIGVsZW1lbnQpKVxuXG4gICAgICAgIGlmICghKCgnd2lkdGgnIGluIHJlY3QpIGFzIHVua25vd24pKSB7XG4gICAgICAgICAgcmVjdC53aWR0aCA9IHJlY3QucmlnaHQgLSByZWN0LmxlZnRcbiAgICAgICAgICByZWN0LmhlaWdodCA9IHJlY3QuYm90dG9tIC0gcmVjdC50b3BcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWN0XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgaWYgKGNoZWNrZXIgPT09IG51bGwpIHtcbiAgICAgIGRlbGV0ZSAodGhpcyBhcyBQYXJ0aWFsPHR5cGVvZiB0aGlzPikuZ2V0UmVjdFxuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmdldFJlY3RcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2JhY2tDb21wYXRPcHRpb24ob3B0aW9uTmFtZToga2V5b2YgT3B0aW9ucywgbmV3VmFsdWU6IGFueSkge1xuICAgIGlmICh0cnlTZWxlY3RvcihuZXdWYWx1ZSkgfHwgaXMub2JqZWN0KG5ld1ZhbHVlKSkge1xuICAgICAgOyh0aGlzLm9wdGlvbnNbb3B0aW9uTmFtZV0gYXMgYW55KSA9IG5ld1ZhbHVlXG5cbiAgICAgIGZvciAoY29uc3QgYWN0aW9uIGluIHRoaXMuX2FjdGlvbnMubWFwKSB7XG4gICAgICAgIDsodGhpcy5vcHRpb25zW2FjdGlvbiBhcyBrZXlvZiBBY3Rpb25NYXBdIGFzIGFueSlbb3B0aW9uTmFtZV0gPSBuZXdWYWx1ZVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm9wdGlvbnNbb3B0aW9uTmFtZV1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIG9yIHNldHMgdGhlIG9yaWdpbiBvZiB0aGUgSW50ZXJhY3RhYmxlJ3MgZWxlbWVudC4gIFRoZSB4IGFuZCB5XG4gICAqIG9mIHRoZSBvcmlnaW4gd2lsbCBiZSBzdWJ0cmFjdGVkIGZyb20gYWN0aW9uIGV2ZW50IGNvb3JkaW5hdGVzLlxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnQgfCBvYmplY3QgfCBzdHJpbmd9IFtvcmlnaW5dIEFuIEhUTUwgb3IgU1ZHIEVsZW1lbnQgd2hvc2VcbiAgICogcmVjdCB3aWxsIGJlIHVzZWQsIGFuIG9iamVjdCBlZy4geyB4OiAwLCB5OiAwIH0gb3Igc3RyaW5nICdwYXJlbnQnLCAnc2VsZidcbiAgICogb3IgYW55IENTUyBzZWxlY3RvclxuICAgKlxuICAgKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBjdXJyZW50IG9yaWdpbiBvciB0aGlzIEludGVyYWN0YWJsZVxuICAgKi9cbiAgb3JpZ2luKG5ld1ZhbHVlOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5fYmFja0NvbXBhdE9wdGlvbignb3JpZ2luJywgbmV3VmFsdWUpXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBvciBzZXRzIHRoZSBtb3VzZSBjb29yZGluYXRlIHR5cGVzIHVzZWQgdG8gY2FsY3VsYXRlIHRoZVxuICAgKiBtb3ZlbWVudCBvZiB0aGUgcG9pbnRlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtuZXdWYWx1ZV0gVXNlICdjbGllbnQnIGlmIHlvdSB3aWxsIGJlIHNjcm9sbGluZyB3aGlsZVxuICAgKiBpbnRlcmFjdGluZzsgVXNlICdwYWdlJyBpZiB5b3Ugd2FudCBhdXRvU2Nyb2xsIHRvIHdvcmtcbiAgICogQHJldHVybiB7c3RyaW5nIHwgb2JqZWN0fSBUaGUgY3VycmVudCBkZWx0YVNvdXJjZSBvciB0aGlzIEludGVyYWN0YWJsZVxuICAgKi9cbiAgZGVsdGFTb3VyY2UoKTogRGVsdGFTb3VyY2VcbiAgZGVsdGFTb3VyY2UobmV3VmFsdWU6IERlbHRhU291cmNlKTogdGhpc1xuICBkZWx0YVNvdXJjZShuZXdWYWx1ZT86IERlbHRhU291cmNlKSB7XG4gICAgaWYgKG5ld1ZhbHVlID09PSAncGFnZScgfHwgbmV3VmFsdWUgPT09ICdjbGllbnQnKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuZGVsdGFTb3VyY2UgPSBuZXdWYWx1ZVxuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZGVsdGFTb3VyY2VcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0QWxsRWxlbWVudHMoKTogRWxlbWVudFtdIHtcbiAgICBjb25zdCB7IHRhcmdldCB9ID0gdGhpc1xuXG4gICAgaWYgKGlzLnN0cmluZyh0YXJnZXQpKSB7XG4gICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9jb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwodGFyZ2V0KSlcbiAgICB9XG5cbiAgICBpZiAoaXMuZnVuYyh0YXJnZXQpICYmICh0YXJnZXQgYXMgYW55KS5nZXRBbGxFbGVtZW50cykge1xuICAgICAgcmV0dXJuICh0YXJnZXQgYXMgYW55KS5nZXRBbGxFbGVtZW50cygpXG4gICAgfVxuXG4gICAgcmV0dXJuIGlzLmVsZW1lbnQodGFyZ2V0KSA/IFt0YXJnZXRdIDogW11cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzZWxlY3RvciBjb250ZXh0IE5vZGUgb2YgdGhlIEludGVyYWN0YWJsZS4gVGhlIGRlZmF1bHQgaXNcbiAgICogYHdpbmRvdy5kb2N1bWVudGAuXG4gICAqXG4gICAqIEByZXR1cm4ge05vZGV9IFRoZSBjb250ZXh0IE5vZGUgb2YgdGhpcyBJbnRlcmFjdGFibGVcbiAgICovXG4gIGNvbnRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbnRleHRcbiAgfVxuXG4gIGluQ29udGV4dChlbGVtZW50OiBEb2N1bWVudCB8IE5vZGUpIHtcbiAgICByZXR1cm4gdGhpcy5fY29udGV4dCA9PT0gZWxlbWVudC5vd25lckRvY3VtZW50IHx8IG5vZGVDb250YWlucyh0aGlzLl9jb250ZXh0LCBlbGVtZW50KVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICB0ZXN0SWdub3JlQWxsb3coXG4gICAgdGhpczogSW50ZXJhY3RhYmxlLFxuICAgIG9wdGlvbnM6IHsgaWdub3JlRnJvbT86IElnbm9yZVZhbHVlOyBhbGxvd0Zyb20/OiBJZ25vcmVWYWx1ZSB9LFxuICAgIHRhcmdldE5vZGU6IE5vZGUsXG4gICAgZXZlbnRUYXJnZXQ6IE5vZGUsXG4gICkge1xuICAgIHJldHVybiAoXG4gICAgICAhdGhpcy50ZXN0SWdub3JlKG9wdGlvbnMuaWdub3JlRnJvbSwgdGFyZ2V0Tm9kZSwgZXZlbnRUYXJnZXQpICYmXG4gICAgICB0aGlzLnRlc3RBbGxvdyhvcHRpb25zLmFsbG93RnJvbSwgdGFyZ2V0Tm9kZSwgZXZlbnRUYXJnZXQpXG4gICAgKVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICB0ZXN0QWxsb3codGhpczogSW50ZXJhY3RhYmxlLCBhbGxvd0Zyb206IElnbm9yZVZhbHVlIHwgdW5kZWZpbmVkLCB0YXJnZXROb2RlOiBOb2RlLCBlbGVtZW50OiBOb2RlKSB7XG4gICAgaWYgKCFhbGxvd0Zyb20pIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgaWYgKCFpcy5lbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoaXMuc3RyaW5nKGFsbG93RnJvbSkpIHtcbiAgICAgIHJldHVybiBtYXRjaGVzVXBUbyhlbGVtZW50LCBhbGxvd0Zyb20sIHRhcmdldE5vZGUpXG4gICAgfSBlbHNlIGlmIChpcy5lbGVtZW50KGFsbG93RnJvbSkpIHtcbiAgICAgIHJldHVybiBub2RlQ29udGFpbnMoYWxsb3dGcm9tLCBlbGVtZW50KVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICB0ZXN0SWdub3JlKHRoaXM6IEludGVyYWN0YWJsZSwgaWdub3JlRnJvbTogSWdub3JlVmFsdWUgfCB1bmRlZmluZWQsIHRhcmdldE5vZGU6IE5vZGUsIGVsZW1lbnQ6IE5vZGUpIHtcbiAgICBpZiAoIWlnbm9yZUZyb20gfHwgIWlzLmVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmIChpcy5zdHJpbmcoaWdub3JlRnJvbSkpIHtcbiAgICAgIHJldHVybiBtYXRjaGVzVXBUbyhlbGVtZW50LCBpZ25vcmVGcm9tLCB0YXJnZXROb2RlKVxuICAgIH0gZWxzZSBpZiAoaXMuZWxlbWVudChpZ25vcmVGcm9tKSkge1xuICAgICAgcmV0dXJuIG5vZGVDb250YWlucyhpZ25vcmVGcm9tLCBlbGVtZW50KVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIGxpc3RlbmVycyBmb3IgdGhlIGdpdmVuIEludGVyYWN0RXZlbnQgdHlwZSBib3VuZCBnbG9iYWxseVxuICAgKiBhbmQgZGlyZWN0bHkgdG8gdGhpcyBJbnRlcmFjdGFibGVcbiAgICpcbiAgICogQHBhcmFtIHtJbnRlcmFjdEV2ZW50fSBpRXZlbnQgVGhlIEludGVyYWN0RXZlbnQgb2JqZWN0IHRvIGJlIGZpcmVkIG9uIHRoaXNcbiAgICogSW50ZXJhY3RhYmxlXG4gICAqIEByZXR1cm4ge0ludGVyYWN0YWJsZX0gdGhpcyBJbnRlcmFjdGFibGVcbiAgICovXG4gIGZpcmU8RSBleHRlbmRzIHsgdHlwZTogc3RyaW5nIH0+KGlFdmVudDogRSkge1xuICAgIHRoaXMuZXZlbnRzLmZpcmUoaUV2ZW50KVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX29uT2ZmKFxuICAgIG1ldGhvZDogT25PZmZNZXRob2QsXG4gICAgdHlwZUFyZzogRXZlbnRUeXBlcyxcbiAgICBsaXN0ZW5lckFyZz86IExpc3RlbmVyc0FyZyB8IG51bGwsXG4gICAgb3B0aW9ucz86IGFueSxcbiAgICBmaWx0ZXI/OiAodHlwZTogc3RyaW5nKSA9PiBib29sZWFuLFxuICApIHtcbiAgICBpZiAoaXMub2JqZWN0KHR5cGVBcmcpICYmICFpcy5hcnJheSh0eXBlQXJnKSkge1xuICAgICAgb3B0aW9ucyA9IGxpc3RlbmVyQXJnXG4gICAgICBsaXN0ZW5lckFyZyA9IG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSBub3JtYWxpemVMaXN0ZW5lcnModHlwZUFyZywgbGlzdGVuZXJBcmcsIGZpbHRlcilcblxuICAgIGZvciAobGV0IHR5cGUgaW4gbGlzdGVuZXJzKSB7XG4gICAgICBpZiAodHlwZSA9PT0gJ3doZWVsJykge1xuICAgICAgICB0eXBlID0gYnJvd3Nlci53aGVlbEV2ZW50XG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgbGlzdGVuZXJzW3R5cGVdKSB7XG4gICAgICAgIC8vIGlmIGl0IGlzIGFuIGFjdGlvbiBldmVudCB0eXBlXG4gICAgICAgIGlmIChpc05vbk5hdGl2ZUV2ZW50KHR5cGUsIHRoaXMuX2FjdGlvbnMpKSB7XG4gICAgICAgICAgdGhpcy5ldmVudHNbbWV0aG9kID09PSBPbk9mZk1ldGhvZC5PbiA/ICdvbicgOiAnb2ZmJ10odHlwZSwgbGlzdGVuZXIpXG4gICAgICAgIH1cbiAgICAgICAgLy8gZGVsZWdhdGVkIGV2ZW50XG4gICAgICAgIGVsc2UgaWYgKGlzLnN0cmluZyh0aGlzLnRhcmdldCkpIHtcbiAgICAgICAgICB0aGlzLl9zY29wZUV2ZW50c1ttZXRob2QgPT09IE9uT2ZmTWV0aG9kLk9uID8gJ2FkZERlbGVnYXRlJyA6ICdyZW1vdmVEZWxlZ2F0ZSddKFxuICAgICAgICAgICAgdGhpcy50YXJnZXQsXG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0LFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGxpc3RlbmVyLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyIGZyb20gdGhpcyBJbnRlcmFjdGFibGUncyBlbGVtZW50XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3Njb3BlRXZlbnRzW21ldGhvZCA9PT0gT25PZmZNZXRob2QuT24gPyAnYWRkJyA6ICdyZW1vdmUnXShcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGxpc3RlbmVyLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEJpbmRzIGEgbGlzdGVuZXIgZm9yIGFuIEludGVyYWN0RXZlbnQsIHBvaW50ZXJFdmVudCBvciBET00gZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgYXJyYXkgfCBvYmplY3R9IHR5cGVzIFRoZSB0eXBlcyBvZiBldmVudHMgdG8gbGlzdGVuXG4gICAqIGZvclxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uIHwgYXJyYXkgfCBvYmplY3R9IFtsaXN0ZW5lcl0gVGhlIGV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uKHMpXG4gICAqIEBwYXJhbSB7b2JqZWN0IHwgYm9vbGVhbn0gW29wdGlvbnNdIG9wdGlvbnMgb2JqZWN0IG9yIHVzZUNhcHR1cmUgZmxhZyBmb3JcbiAgICogYWRkRXZlbnRMaXN0ZW5lclxuICAgKiBAcmV0dXJuIHtJbnRlcmFjdGFibGV9IFRoaXMgSW50ZXJhY3RhYmxlXG4gICAqL1xuICBvbih0eXBlczogRXZlbnRUeXBlcywgbGlzdGVuZXI/OiBMaXN0ZW5lcnNBcmcsIG9wdGlvbnM/OiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5fb25PZmYoT25PZmZNZXRob2QuT24sIHR5cGVzLCBsaXN0ZW5lciwgb3B0aW9ucylcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFuIEludGVyYWN0RXZlbnQsIHBvaW50ZXJFdmVudCBvciBET00gZXZlbnQgbGlzdGVuZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgYXJyYXkgfCBvYmplY3R9IHR5cGVzIFRoZSB0eXBlcyBvZiBldmVudHMgdGhhdCB3ZXJlXG4gICAqIGxpc3RlbmVkIGZvclxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uIHwgYXJyYXkgfCBvYmplY3R9IFtsaXN0ZW5lcl0gVGhlIGV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uKHMpXG4gICAqIEBwYXJhbSB7b2JqZWN0IHwgYm9vbGVhbn0gW29wdGlvbnNdIG9wdGlvbnMgb2JqZWN0IG9yIHVzZUNhcHR1cmUgZmxhZyBmb3JcbiAgICogcmVtb3ZlRXZlbnRMaXN0ZW5lclxuICAgKiBAcmV0dXJuIHtJbnRlcmFjdGFibGV9IFRoaXMgSW50ZXJhY3RhYmxlXG4gICAqL1xuICBvZmYodHlwZXM6IHN0cmluZyB8IHN0cmluZ1tdIHwgRXZlbnRUeXBlcywgbGlzdGVuZXI/OiBMaXN0ZW5lcnNBcmcsIG9wdGlvbnM/OiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5fb25PZmYoT25PZmZNZXRob2QuT2ZmLCB0eXBlcywgbGlzdGVuZXIsIG9wdGlvbnMpXG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgdGhlIG9wdGlvbnMgb2YgdGhpcyBJbnRlcmFjdGFibGVcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgVGhlIG5ldyBzZXR0aW5ncyB0byBhcHBseVxuICAgKiBAcmV0dXJuIHtvYmplY3R9IFRoaXMgSW50ZXJhY3RhYmxlXG4gICAqL1xuICBzZXQob3B0aW9uczogT3B0aW9uc0FyZykge1xuICAgIGNvbnN0IGRlZmF1bHRzID0gdGhpcy5fZGVmYXVsdHNcblxuICAgIGlmICghaXMub2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICBvcHRpb25zID0ge31cbiAgICB9XG5cbiAgICA7KHRoaXMub3B0aW9ucyBhcyBSZXF1aXJlZDxPcHRpb25zPikgPSBjbG9uZShkZWZhdWx0cy5iYXNlKSBhcyBSZXF1aXJlZDxPcHRpb25zPlxuXG4gICAgZm9yIChjb25zdCBhY3Rpb25OYW1lXyBpbiB0aGlzLl9hY3Rpb25zLm1ldGhvZERpY3QpIHtcbiAgICAgIGNvbnN0IGFjdGlvbk5hbWUgPSBhY3Rpb25OYW1lXyBhcyBBY3Rpb25OYW1lXG4gICAgICBjb25zdCBtZXRob2ROYW1lID0gdGhpcy5fYWN0aW9ucy5tZXRob2REaWN0W2FjdGlvbk5hbWVdXG5cbiAgICAgIHRoaXMub3B0aW9uc1thY3Rpb25OYW1lXSA9IHt9XG4gICAgICB0aGlzLnNldFBlckFjdGlvbihhY3Rpb25OYW1lLCBleHRlbmQoZXh0ZW5kKHt9LCBkZWZhdWx0cy5wZXJBY3Rpb24pLCBkZWZhdWx0cy5hY3Rpb25zW2FjdGlvbk5hbWVdKSlcbiAgICAgIDsodGhpc1ttZXRob2ROYW1lXSBhcyBBY3Rpb25NZXRob2Q8dW5rbm93bj4pKG9wdGlvbnNbYWN0aW9uTmFtZV0pXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBzZXR0aW5nIGluIG9wdGlvbnMpIHtcbiAgICAgIGlmIChzZXR0aW5nID09PSAnZ2V0UmVjdCcpIHtcbiAgICAgICAgdGhpcy5yZWN0Q2hlY2tlcihvcHRpb25zLmdldFJlY3QpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGlmIChpcy5mdW5jKCh0aGlzIGFzIGFueSlbc2V0dGluZ10pKSB7XG4gICAgICAgIDsodGhpcyBhcyBhbnkpW3NldHRpbmddKG9wdGlvbnNbc2V0dGluZyBhcyBrZXlvZiB0eXBlb2Ygb3B0aW9uc10pXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhpcyBpbnRlcmFjdGFibGUgZnJvbSB0aGUgbGlzdCBvZiBpbnRlcmFjdGFibGVzIGFuZCByZW1vdmUgaXQnc1xuICAgKiBhY3Rpb24gY2FwYWJpbGl0aWVzIGFuZCBldmVudCBsaXN0ZW5lcnNcbiAgICovXG4gIHVuc2V0KCkge1xuICAgIGlmIChpcy5zdHJpbmcodGhpcy50YXJnZXQpKSB7XG4gICAgICAvLyByZW1vdmUgZGVsZWdhdGVkIGV2ZW50c1xuICAgICAgZm9yIChjb25zdCB0eXBlIGluIHRoaXMuX3Njb3BlRXZlbnRzLmRlbGVnYXRlZEV2ZW50cykge1xuICAgICAgICBjb25zdCBkZWxlZ2F0ZWQgPSB0aGlzLl9zY29wZUV2ZW50cy5kZWxlZ2F0ZWRFdmVudHNbdHlwZV1cblxuICAgICAgICBmb3IgKGxldCBpID0gZGVsZWdhdGVkLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgY29uc3QgeyBzZWxlY3RvciwgY29udGV4dCwgbGlzdGVuZXJzIH0gPSBkZWxlZ2F0ZWRbaV1cblxuICAgICAgICAgIGlmIChzZWxlY3RvciA9PT0gdGhpcy50YXJnZXQgJiYgY29udGV4dCA9PT0gdGhpcy5fY29udGV4dCkge1xuICAgICAgICAgICAgZGVsZWdhdGVkLnNwbGljZShpLCAxKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZvciAobGV0IGwgPSBsaXN0ZW5lcnMubGVuZ3RoIC0gMTsgbCA+PSAwOyBsLS0pIHtcbiAgICAgICAgICAgIHRoaXMuX3Njb3BlRXZlbnRzLnJlbW92ZURlbGVnYXRlKFxuICAgICAgICAgICAgICB0aGlzLnRhcmdldCxcbiAgICAgICAgICAgICAgdGhpcy5fY29udGV4dCxcbiAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgbGlzdGVuZXJzW2xdWzBdLFxuICAgICAgICAgICAgICBsaXN0ZW5lcnNbbF1bMV0sXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Njb3BlRXZlbnRzLnJlbW92ZSh0aGlzLnRhcmdldCwgJ2FsbCcpXG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0ICogYXMgYXJyIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2FycidcbmltcG9ydCAqIGFzIGRvbVV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5cbmltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IE9wdGlvbnNBcmcsIE9wdGlvbnMgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnXG5pbXBvcnQgdHlwZSB7IFNjb3BlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgVGFyZ2V0IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnIHtcbiAgaW50ZXJmYWNlIFNpZ25hbEFyZ3Mge1xuICAgICdpbnRlcmFjdGFibGU6bmV3Jzoge1xuICAgICAgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGVcbiAgICAgIHRhcmdldDogVGFyZ2V0XG4gICAgICBvcHRpb25zOiBPcHRpb25zQXJnXG4gICAgICB3aW46IFdpbmRvd1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW50ZXJhY3RhYmxlU2V0IHtcbiAgLy8gYWxsIHNldCBpbnRlcmFjdGFibGVzXG4gIGxpc3Q6IEludGVyYWN0YWJsZVtdID0gW11cblxuICBzZWxlY3Rvck1hcDoge1xuICAgIFtzZWxlY3Rvcjogc3RyaW5nXTogSW50ZXJhY3RhYmxlW11cbiAgfSA9IHt9XG5cbiAgc2NvcGU6IFNjb3BlXG5cbiAgY29uc3RydWN0b3Ioc2NvcGU6IFNjb3BlKSB7XG4gICAgdGhpcy5zY29wZSA9IHNjb3BlXG4gICAgc2NvcGUuYWRkTGlzdGVuZXJzKHtcbiAgICAgICdpbnRlcmFjdGFibGU6dW5zZXQnOiAoeyBpbnRlcmFjdGFibGUgfSkgPT4ge1xuICAgICAgICBjb25zdCB7IHRhcmdldCB9ID0gaW50ZXJhY3RhYmxlXG4gICAgICAgIGNvbnN0IGludGVyYWN0YWJsZXNPblRhcmdldDogSW50ZXJhY3RhYmxlW10gPSBpcy5zdHJpbmcodGFyZ2V0KVxuICAgICAgICAgID8gdGhpcy5zZWxlY3Rvck1hcFt0YXJnZXRdXG4gICAgICAgICAgOiAodGFyZ2V0IGFzIGFueSlbdGhpcy5zY29wZS5pZF1cblxuICAgICAgICBjb25zdCB0YXJnZXRJbmRleCA9IGFyci5maW5kSW5kZXgoaW50ZXJhY3RhYmxlc09uVGFyZ2V0LCAoaSkgPT4gaSA9PT0gaW50ZXJhY3RhYmxlKVxuICAgICAgICBpbnRlcmFjdGFibGVzT25UYXJnZXQuc3BsaWNlKHRhcmdldEluZGV4LCAxKVxuICAgICAgfSxcbiAgICB9KVxuICB9XG5cbiAgbmV3KHRhcmdldDogVGFyZ2V0LCBvcHRpb25zPzogYW55KTogSW50ZXJhY3RhYmxlIHtcbiAgICBvcHRpb25zID0gZXh0ZW5kKG9wdGlvbnMgfHwge30sIHtcbiAgICAgIGFjdGlvbnM6IHRoaXMuc2NvcGUuYWN0aW9ucyxcbiAgICB9KVxuICAgIGNvbnN0IGludGVyYWN0YWJsZSA9IG5ldyB0aGlzLnNjb3BlLkludGVyYWN0YWJsZSh0YXJnZXQsIG9wdGlvbnMsIHRoaXMuc2NvcGUuZG9jdW1lbnQsIHRoaXMuc2NvcGUuZXZlbnRzKVxuXG4gICAgdGhpcy5zY29wZS5hZGREb2N1bWVudChpbnRlcmFjdGFibGUuX2RvYylcbiAgICB0aGlzLmxpc3QucHVzaChpbnRlcmFjdGFibGUpXG5cbiAgICBpZiAoaXMuc3RyaW5nKHRhcmdldCkpIHtcbiAgICAgIGlmICghdGhpcy5zZWxlY3Rvck1hcFt0YXJnZXRdKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0b3JNYXBbdGFyZ2V0XSA9IFtdXG4gICAgICB9XG4gICAgICB0aGlzLnNlbGVjdG9yTWFwW3RhcmdldF0ucHVzaChpbnRlcmFjdGFibGUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghKGludGVyYWN0YWJsZS50YXJnZXQgYXMgYW55KVt0aGlzLnNjb3BlLmlkXSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCB0aGlzLnNjb3BlLmlkLCB7XG4gICAgICAgICAgdmFsdWU6IFtdLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgOyh0YXJnZXQgYXMgYW55KVt0aGlzLnNjb3BlLmlkXS5wdXNoKGludGVyYWN0YWJsZSlcbiAgICB9XG5cbiAgICB0aGlzLnNjb3BlLmZpcmUoJ2ludGVyYWN0YWJsZTpuZXcnLCB7XG4gICAgICB0YXJnZXQsXG4gICAgICBvcHRpb25zLFxuICAgICAgaW50ZXJhY3RhYmxlLFxuICAgICAgd2luOiB0aGlzLnNjb3BlLl93aW4sXG4gICAgfSlcblxuICAgIHJldHVybiBpbnRlcmFjdGFibGVcbiAgfVxuXG4gIGdldEV4aXN0aW5nKHRhcmdldDogVGFyZ2V0LCBvcHRpb25zPzogT3B0aW9ucykge1xuICAgIGNvbnN0IGNvbnRleHQgPSAob3B0aW9ucyAmJiBvcHRpb25zLmNvbnRleHQpIHx8IHRoaXMuc2NvcGUuZG9jdW1lbnRcbiAgICBjb25zdCBpc1NlbGVjdG9yID0gaXMuc3RyaW5nKHRhcmdldClcbiAgICBjb25zdCBpbnRlcmFjdGFibGVzT25UYXJnZXQ6IEludGVyYWN0YWJsZVtdID0gaXNTZWxlY3RvclxuICAgICAgPyB0aGlzLnNlbGVjdG9yTWFwW3RhcmdldCBhcyBzdHJpbmddXG4gICAgICA6ICh0YXJnZXQgYXMgYW55KVt0aGlzLnNjb3BlLmlkXVxuXG4gICAgaWYgKCFpbnRlcmFjdGFibGVzT25UYXJnZXQpIHJldHVybiB1bmRlZmluZWRcblxuICAgIHJldHVybiBhcnIuZmluZChcbiAgICAgIGludGVyYWN0YWJsZXNPblRhcmdldCxcbiAgICAgIChpbnRlcmFjdGFibGUpID0+XG4gICAgICAgIGludGVyYWN0YWJsZS5fY29udGV4dCA9PT0gY29udGV4dCAmJiAoaXNTZWxlY3RvciB8fCBpbnRlcmFjdGFibGUuaW5Db250ZXh0KHRhcmdldCBhcyBhbnkpKSxcbiAgICApXG4gIH1cblxuICBmb3JFYWNoTWF0Y2g8VD4obm9kZTogTm9kZSwgY2FsbGJhY2s6IChpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSkgPT4gVCk6IFQgfCB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IGludGVyYWN0YWJsZSBvZiB0aGlzLmxpc3QpIHtcbiAgICAgIGxldCByZXQ6IFRcblxuICAgICAgaWYgKFxuICAgICAgICAoaXMuc3RyaW5nKGludGVyYWN0YWJsZS50YXJnZXQpXG4gICAgICAgICAgPyAvLyB0YXJnZXQgaXMgYSBzZWxlY3RvciBhbmQgdGhlIGVsZW1lbnQgbWF0Y2hlc1xuICAgICAgICAgICAgaXMuZWxlbWVudChub2RlKSAmJiBkb21VdGlscy5tYXRjaGVzU2VsZWN0b3Iobm9kZSwgaW50ZXJhY3RhYmxlLnRhcmdldClcbiAgICAgICAgICA6IC8vIHRhcmdldCBpcyB0aGUgZWxlbWVudFxuICAgICAgICAgICAgbm9kZSA9PT0gaW50ZXJhY3RhYmxlLnRhcmdldCkgJiZcbiAgICAgICAgLy8gdGhlIGVsZW1lbnQgaXMgaW4gY29udGV4dFxuICAgICAgICBpbnRlcmFjdGFibGUuaW5Db250ZXh0KG5vZGUpXG4gICAgICApIHtcbiAgICAgICAgcmV0ID0gY2FsbGJhY2soaW50ZXJhY3RhYmxlKVxuICAgICAgfVxuXG4gICAgICBpZiAocmV0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJldFxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCBicm93c2VyIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2Jyb3dzZXInXG5pbXBvcnQgY2xvbmUgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvY2xvbmUnXG5pbXBvcnQgZG9tT2JqZWN0cyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9kb21PYmplY3RzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5pbXBvcnQgcmFmIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3JhZidcbmltcG9ydCAqIGFzIHdpbiBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy93aW5kb3cnXG5cbmltcG9ydCB0eXBlIEludGVyYWN0aW9uIGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5cbmltcG9ydCB7IEV2ZW50YWJsZSB9IGZyb20gJy4vRXZlbnRhYmxlJ1xuLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgLS0gZm9yIHR5cGVzY3JpcHQgbW9kdWxlIGF1Z21lbnRhdGlvbnMgKi9cbmltcG9ydCAnLi9ldmVudHMnXG5pbXBvcnQgJy4vaW50ZXJhY3Rpb25zJ1xuaW1wb3J0IGV2ZW50cyBmcm9tICcuL2V2ZW50cydcbmltcG9ydCB7IEludGVyYWN0YWJsZSBhcyBJbnRlcmFjdGFibGVCYXNlIH0gZnJvbSAnLi9JbnRlcmFjdGFibGUnXG5pbXBvcnQgeyBJbnRlcmFjdGFibGVTZXQgfSBmcm9tICcuL0ludGVyYWN0YWJsZVNldCdcbmltcG9ydCB7IEludGVyYWN0RXZlbnQgfSBmcm9tICcuL0ludGVyYWN0RXZlbnQnXG5pbXBvcnQgaW50ZXJhY3Rpb25zIGZyb20gJy4vaW50ZXJhY3Rpb25zJ1xuLyogZXNsaW50LWVuYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAqL1xuaW1wb3J0IHsgY3JlYXRlSW50ZXJhY3RTdGF0aWMgfSBmcm9tICcuL0ludGVyYWN0U3RhdGljJ1xuaW1wb3J0IHR5cGUgeyBPcHRpb25zQXJnIH0gZnJvbSAnLi9vcHRpb25zJ1xuaW1wb3J0IHsgZGVmYXVsdHMgfSBmcm9tICcuL29wdGlvbnMnXG5pbXBvcnQgdHlwZSB7IEFjdGlvbnMgfSBmcm9tICcuL3R5cGVzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFNpZ25hbEFyZ3Mge1xuICAnc2NvcGU6YWRkLWRvY3VtZW50JzogRG9jU2lnbmFsQXJnXG4gICdzY29wZTpyZW1vdmUtZG9jdW1lbnQnOiBEb2NTaWduYWxBcmdcbiAgJ2ludGVyYWN0YWJsZTp1bnNldCc6IHsgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGVCYXNlIH1cbiAgJ2ludGVyYWN0YWJsZTpzZXQnOiB7IGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlQmFzZTsgb3B0aW9uczogT3B0aW9uc0FyZyB9XG4gICdpbnRlcmFjdGlvbnM6ZGVzdHJveSc6IHsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uIH1cbn1cblxuZXhwb3J0IHR5cGUgTGlzdGVuZXJOYW1lID0ga2V5b2YgU2lnbmFsQXJnc1xuXG5leHBvcnQgdHlwZSBMaXN0ZW5lck1hcCA9IHtcbiAgW1AgaW4gTGlzdGVuZXJOYW1lXT86IChhcmc6IFNpZ25hbEFyZ3NbUF0sIHNjb3BlOiBTY29wZSwgc2lnbmFsTmFtZTogUCkgPT4gdm9pZCB8IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIERvY1NpZ25hbEFyZyB7XG4gIGRvYzogRG9jdW1lbnRcbiAgd2luZG93OiBXaW5kb3dcbiAgc2NvcGU6IFNjb3BlXG4gIG9wdGlvbnM6IFJlY29yZDxzdHJpbmcsIGFueT5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBQbHVnaW4ge1xuICBba2V5OiBzdHJpbmddOiBhbnlcbiAgaWQ/OiBzdHJpbmdcbiAgbGlzdGVuZXJzPzogTGlzdGVuZXJNYXBcbiAgYmVmb3JlPzogc3RyaW5nW11cbiAgaW5zdGFsbD8oc2NvcGU6IFNjb3BlLCBvcHRpb25zPzogYW55KTogdm9pZFxufVxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY2xhc3MgU2NvcGUge1xuICBpZCA9IGBfX2ludGVyYWN0X3Njb3BlXyR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKX1gXG4gIGlzSW5pdGlhbGl6ZWQgPSBmYWxzZVxuICBsaXN0ZW5lck1hcHM6IEFycmF5PHtcbiAgICBtYXA6IExpc3RlbmVyTWFwXG4gICAgaWQ/OiBzdHJpbmdcbiAgfT4gPSBbXVxuXG4gIGJyb3dzZXIgPSBicm93c2VyXG4gIGRlZmF1bHRzID0gY2xvbmUoZGVmYXVsdHMpIGFzIHR5cGVvZiBkZWZhdWx0c1xuICBFdmVudGFibGUgPSBFdmVudGFibGVcbiAgYWN0aW9uczogQWN0aW9ucyA9IHtcbiAgICBtYXA6IHt9LFxuICAgIHBoYXNlczoge1xuICAgICAgc3RhcnQ6IHRydWUsXG4gICAgICBtb3ZlOiB0cnVlLFxuICAgICAgZW5kOiB0cnVlLFxuICAgIH0sXG4gICAgbWV0aG9kRGljdDoge30gYXMgYW55LFxuICAgIHBoYXNlbGVzc1R5cGVzOiB7fSxcbiAgfVxuXG4gIGludGVyYWN0U3RhdGljID0gY3JlYXRlSW50ZXJhY3RTdGF0aWModGhpcylcbiAgSW50ZXJhY3RFdmVudCA9IEludGVyYWN0RXZlbnRcbiAgSW50ZXJhY3RhYmxlOiB0eXBlb2YgSW50ZXJhY3RhYmxlQmFzZVxuICBpbnRlcmFjdGFibGVzID0gbmV3IEludGVyYWN0YWJsZVNldCh0aGlzKVxuXG4gIC8vIG1haW4gd2luZG93XG4gIF93aW4hOiBXaW5kb3dcblxuICAvLyBtYWluIGRvY3VtZW50XG4gIGRvY3VtZW50ITogRG9jdW1lbnRcblxuICAvLyBtYWluIHdpbmRvd1xuICB3aW5kb3chOiBXaW5kb3dcblxuICAvLyBhbGwgZG9jdW1lbnRzIGJlaW5nIGxpc3RlbmVkIHRvXG4gIGRvY3VtZW50czogQXJyYXk8eyBkb2M6IERvY3VtZW50OyBvcHRpb25zOiBhbnkgfT4gPSBbXVxuXG4gIF9wbHVnaW5zOiB7XG4gICAgbGlzdDogUGx1Z2luW11cbiAgICBtYXA6IHsgW2lkOiBzdHJpbmddOiBQbHVnaW4gfVxuICB9ID0ge1xuICAgIGxpc3Q6IFtdLFxuICAgIG1hcDoge30sXG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zdCBzY29wZSA9IHRoaXNcblxuICAgIHRoaXMuSW50ZXJhY3RhYmxlID0gY2xhc3MgZXh0ZW5kcyBJbnRlcmFjdGFibGVCYXNlIHtcbiAgICAgIGdldCBfZGVmYXVsdHMoKSB7XG4gICAgICAgIHJldHVybiBzY29wZS5kZWZhdWx0c1xuICAgICAgfVxuXG4gICAgICBzZXQ8VCBleHRlbmRzIEludGVyYWN0YWJsZUJhc2U+KHRoaXM6IFQsIG9wdGlvbnM6IE9wdGlvbnNBcmcpIHtcbiAgICAgICAgc3VwZXIuc2V0KG9wdGlvbnMpXG5cbiAgICAgICAgc2NvcGUuZmlyZSgnaW50ZXJhY3RhYmxlOnNldCcsIHtcbiAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgIGludGVyYWN0YWJsZTogdGhpcyxcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgfVxuXG4gICAgICB1bnNldCh0aGlzOiBJbnRlcmFjdGFibGVCYXNlKSB7XG4gICAgICAgIHN1cGVyLnVuc2V0KClcblxuICAgICAgICBjb25zdCBpbmRleCA9IHNjb3BlLmludGVyYWN0YWJsZXMubGlzdC5pbmRleE9mKHRoaXMpXG4gICAgICAgIGlmIChpbmRleCA8IDApIHJldHVyblxuXG4gICAgICAgIHNjb3BlLmludGVyYWN0YWJsZXMubGlzdC5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgIHNjb3BlLmZpcmUoJ2ludGVyYWN0YWJsZTp1bnNldCcsIHsgaW50ZXJhY3RhYmxlOiB0aGlzIH0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYWRkTGlzdGVuZXJzKG1hcDogTGlzdGVuZXJNYXAsIGlkPzogc3RyaW5nKSB7XG4gICAgdGhpcy5saXN0ZW5lck1hcHMucHVzaCh7IGlkLCBtYXAgfSlcbiAgfVxuXG4gIGZpcmU8VCBleHRlbmRzIExpc3RlbmVyTmFtZT4obmFtZTogVCwgYXJnOiBTaWduYWxBcmdzW1RdKTogdm9pZCB8IGZhbHNlIHtcbiAgICBmb3IgKGNvbnN0IHtcbiAgICAgIG1hcDogeyBbbmFtZV06IGxpc3RlbmVyIH0sXG4gICAgfSBvZiB0aGlzLmxpc3RlbmVyTWFwcykge1xuICAgICAgaWYgKCEhbGlzdGVuZXIgJiYgbGlzdGVuZXIoYXJnIGFzIGFueSwgdGhpcywgbmFtZSBhcyBuZXZlcikgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uV2luZG93VW5sb2FkID0gKGV2ZW50OiBCZWZvcmVVbmxvYWRFdmVudCkgPT4gdGhpcy5yZW1vdmVEb2N1bWVudChldmVudC50YXJnZXQgYXMgRG9jdW1lbnQpXG5cbiAgaW5pdCh3aW5kb3c6IFdpbmRvdyB8IHR5cGVvZiBnbG9iYWxUaGlzKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNJbml0aWFsaXplZCA/IHRoaXMgOiBpbml0U2NvcGUodGhpcywgd2luZG93KVxuICB9XG5cbiAgcGx1Z2luSXNJbnN0YWxsZWQocGx1Z2luOiBQbHVnaW4pIHtcbiAgICBjb25zdCB7IGlkIH0gPSBwbHVnaW5cbiAgICByZXR1cm4gaWQgPyAhIXRoaXMuX3BsdWdpbnMubWFwW2lkXSA6IHRoaXMuX3BsdWdpbnMubGlzdC5pbmRleE9mKHBsdWdpbikgIT09IC0xXG4gIH1cblxuICB1c2VQbHVnaW4ocGx1Z2luOiBQbHVnaW4sIG9wdGlvbnM/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9KSB7XG4gICAgaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGx1Z2luSXNJbnN0YWxsZWQocGx1Z2luKSkge1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBpZiAocGx1Z2luLmlkKSB7XG4gICAgICB0aGlzLl9wbHVnaW5zLm1hcFtwbHVnaW4uaWRdID0gcGx1Z2luXG4gICAgfVxuICAgIHRoaXMuX3BsdWdpbnMubGlzdC5wdXNoKHBsdWdpbilcblxuICAgIGlmIChwbHVnaW4uaW5zdGFsbCkge1xuICAgICAgcGx1Z2luLmluc3RhbGwodGhpcywgb3B0aW9ucylcbiAgICB9XG5cbiAgICBpZiAocGx1Z2luLmxpc3RlbmVycyAmJiBwbHVnaW4uYmVmb3JlKSB7XG4gICAgICBsZXQgaW5kZXggPSAwXG4gICAgICBjb25zdCBsZW4gPSB0aGlzLmxpc3RlbmVyTWFwcy5sZW5ndGhcbiAgICAgIGNvbnN0IGJlZm9yZSA9IHBsdWdpbi5iZWZvcmUucmVkdWNlKChhY2MsIGlkKSA9PiB7XG4gICAgICAgIGFjY1tpZF0gPSB0cnVlXG4gICAgICAgIGFjY1twbHVnaW5JZFJvb3QoaWQpXSA9IHRydWVcbiAgICAgICAgcmV0dXJuIGFjY1xuICAgICAgfSwge30pXG5cbiAgICAgIGZvciAoOyBpbmRleCA8IGxlbjsgaW5kZXgrKykge1xuICAgICAgICBjb25zdCBvdGhlcklkID0gdGhpcy5saXN0ZW5lck1hcHNbaW5kZXhdLmlkXG5cbiAgICAgICAgaWYgKG90aGVySWQgJiYgKGJlZm9yZVtvdGhlcklkXSB8fCBiZWZvcmVbcGx1Z2luSWRSb290KG90aGVySWQpXSkpIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGlzdGVuZXJNYXBzLnNwbGljZShpbmRleCwgMCwgeyBpZDogcGx1Z2luLmlkLCBtYXA6IHBsdWdpbi5saXN0ZW5lcnMgfSlcbiAgICB9IGVsc2UgaWYgKHBsdWdpbi5saXN0ZW5lcnMpIHtcbiAgICAgIHRoaXMubGlzdGVuZXJNYXBzLnB1c2goeyBpZDogcGx1Z2luLmlkLCBtYXA6IHBsdWdpbi5saXN0ZW5lcnMgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgYWRkRG9jdW1lbnQoZG9jOiBEb2N1bWVudCwgb3B0aW9ucz86IGFueSk6IHZvaWQgfCBmYWxzZSB7XG4gICAgLy8gZG8gbm90aGluZyBpZiBkb2N1bWVudCBpcyBhbHJlYWR5IGtub3duXG4gICAgaWYgKHRoaXMuZ2V0RG9jSW5kZXgoZG9jKSAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IHdpbmRvdyA9IHdpbi5nZXRXaW5kb3coZG9jKVxuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBleHRlbmQoe30sIG9wdGlvbnMpIDoge31cblxuICAgIHRoaXMuZG9jdW1lbnRzLnB1c2goeyBkb2MsIG9wdGlvbnMgfSlcbiAgICB0aGlzLmV2ZW50cy5kb2N1bWVudHMucHVzaChkb2MpXG5cbiAgICAvLyBkb24ndCBhZGQgYW4gdW5sb2FkIGV2ZW50IGZvciB0aGUgbWFpbiBkb2N1bWVudFxuICAgIC8vIHNvIHRoYXQgdGhlIHBhZ2UgbWF5IGJlIGNhY2hlZCBpbiBicm93c2VyIGhpc3RvcnlcbiAgICBpZiAoZG9jICE9PSB0aGlzLmRvY3VtZW50KSB7XG4gICAgICB0aGlzLmV2ZW50cy5hZGQod2luZG93LCAndW5sb2FkJywgdGhpcy5vbldpbmRvd1VubG9hZClcbiAgICB9XG5cbiAgICB0aGlzLmZpcmUoJ3Njb3BlOmFkZC1kb2N1bWVudCcsIHsgZG9jLCB3aW5kb3csIHNjb3BlOiB0aGlzLCBvcHRpb25zIH0pXG4gIH1cblxuICByZW1vdmVEb2N1bWVudChkb2M6IERvY3VtZW50KSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmdldERvY0luZGV4KGRvYylcblxuICAgIGNvbnN0IHdpbmRvdyA9IHdpbi5nZXRXaW5kb3coZG9jKVxuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLmRvY3VtZW50c1tpbmRleF0ub3B0aW9uc1xuXG4gICAgdGhpcy5ldmVudHMucmVtb3ZlKHdpbmRvdywgJ3VubG9hZCcsIHRoaXMub25XaW5kb3dVbmxvYWQpXG5cbiAgICB0aGlzLmRvY3VtZW50cy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgdGhpcy5ldmVudHMuZG9jdW1lbnRzLnNwbGljZShpbmRleCwgMSlcblxuICAgIHRoaXMuZmlyZSgnc2NvcGU6cmVtb3ZlLWRvY3VtZW50JywgeyBkb2MsIHdpbmRvdywgc2NvcGU6IHRoaXMsIG9wdGlvbnMgfSlcbiAgfVxuXG4gIGdldERvY0luZGV4KGRvYzogRG9jdW1lbnQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZG9jdW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5kb2N1bWVudHNbaV0uZG9jID09PSBkb2MpIHtcbiAgICAgICAgcmV0dXJuIGlcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gLTFcbiAgfVxuXG4gIGdldERvY09wdGlvbnMoZG9jOiBEb2N1bWVudCkge1xuICAgIGNvbnN0IGRvY0luZGV4ID0gdGhpcy5nZXREb2NJbmRleChkb2MpXG5cbiAgICByZXR1cm4gZG9jSW5kZXggPT09IC0xID8gbnVsbCA6IHRoaXMuZG9jdW1lbnRzW2RvY0luZGV4XS5vcHRpb25zXG4gIH1cblxuICBub3coKSB7XG4gICAgcmV0dXJuICgoKHRoaXMud2luZG93IGFzIGFueSkuRGF0ZSBhcyB0eXBlb2YgRGF0ZSkgfHwgRGF0ZSkubm93KClcbiAgfVxufVxuXG4vLyBLZWVwIFNjb3BlIGNsYXNzIGludGVybmFsLCBidXQgZXhwb3NlIG1pbmltYWwgaW50ZXJmYWNlIHRvIGF2b2lkIGJyb2tlbiB0eXBlcyB3aGVuIFNjb3BlIGlzIHN0cmlwcGVkIG91dFxuZXhwb3J0IGludGVyZmFjZSBTY29wZSB7XG4gIGZpcmU8VCBleHRlbmRzIExpc3RlbmVyTmFtZT4obmFtZTogVCwgYXJnOiBTaWduYWxBcmdzW1RdKTogdm9pZCB8IGZhbHNlXG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0U2NvcGUoc2NvcGU6IFNjb3BlLCB3aW5kb3c6IFdpbmRvdyB8IHR5cGVvZiBnbG9iYWxUaGlzKSB7XG4gIHNjb3BlLmlzSW5pdGlhbGl6ZWQgPSB0cnVlXG5cbiAgaWYgKGlzLndpbmRvdyh3aW5kb3cpKSB7XG4gICAgd2luLmluaXQod2luZG93KVxuICB9XG5cbiAgZG9tT2JqZWN0cy5pbml0KHdpbmRvdylcbiAgYnJvd3Nlci5pbml0KHdpbmRvdylcbiAgcmFmLmluaXQod2luZG93KVxuXG4gIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgc2NvcGUud2luZG93ID0gd2luZG93XG4gIHNjb3BlLmRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50XG5cbiAgc2NvcGUudXNlUGx1Z2luKGludGVyYWN0aW9ucylcbiAgc2NvcGUudXNlUGx1Z2luKGV2ZW50cylcblxuICByZXR1cm4gc2NvcGVcbn1cblxuZnVuY3Rpb24gcGx1Z2luSWRSb290KGlkOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGlkICYmIGlkLnJlcGxhY2UoL1xcLy4qJC8sICcnKVxufVxuIiwgImltcG9ydCBicm93c2VyIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2Jyb3dzZXInXG5pbXBvcnQgKiBhcyBkb21VdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscydcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcbmltcG9ydCBpc05vbk5hdGl2ZUV2ZW50IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzTm9uTmF0aXZlRXZlbnQnXG5pbXBvcnQgeyB3YXJuT25jZSB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL21pc2MnXG5pbXBvcnQgKiBhcyBwb2ludGVyVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcG9pbnRlclV0aWxzJ1xuXG5pbXBvcnQgdHlwZSB7IFNjb3BlLCBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBDb250ZXh0LCBFdmVudFR5cGVzLCBMaXN0ZW5lciwgTGlzdGVuZXJzQXJnLCBUYXJnZXQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJy4vSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgeyBPcHRpb25zIH0gZnJvbSAnLi9vcHRpb25zJ1xuXG4vKipcbiAqIGBgYGpzXG4gKiBpbnRlcmFjdCgnI2RyYWdnYWJsZScpLmRyYWdnYWJsZSh0cnVlKVxuICpcbiAqIHZhciByZWN0YWJsZXMgPSBpbnRlcmFjdCgncmVjdCcpXG4gKiByZWN0YWJsZXNcbiAqICAgLmdlc3R1cmFibGUodHJ1ZSlcbiAqICAgLm9uKCdnZXN0dXJlbW92ZScsIGZ1bmN0aW9uIChldmVudCkge1xuICogICAgICAgLy8gLi4uXG4gKiAgIH0pXG4gKiBgYGBcbiAqXG4gKiBUaGUgbWV0aG9kcyBvZiB0aGlzIHZhcmlhYmxlIGNhbiBiZSB1c2VkIHRvIHNldCBlbGVtZW50cyBhcyBpbnRlcmFjdGFibGVzXG4gKiBhbmQgYWxzbyB0byBjaGFuZ2UgdmFyaW91cyBkZWZhdWx0IHNldHRpbmdzLlxuICpcbiAqIENhbGxpbmcgaXQgYXMgYSBmdW5jdGlvbiBhbmQgcGFzc2luZyBhbiBlbGVtZW50IG9yIGEgdmFsaWQgQ1NTIHNlbGVjdG9yXG4gKiBzdHJpbmcgcmV0dXJucyBhbiBJbnRlcmFjdGFibGUgb2JqZWN0IHdoaWNoIGhhcyB2YXJpb3VzIG1ldGhvZHMgdG8gY29uZmlndXJlXG4gKiBpdC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnQgfCBzdHJpbmd9IHRhcmdldCBUaGUgSFRNTCBvciBTVkcgRWxlbWVudCB0byBpbnRlcmFjdCB3aXRoXG4gKiBvciBDU1Mgc2VsZWN0b3JcbiAqIEByZXR1cm4ge0ludGVyYWN0YWJsZX1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbnRlcmFjdFN0YXRpYyB7XG4gICh0YXJnZXQ6IFRhcmdldCwgb3B0aW9ucz86IE9wdGlvbnMpOiBJbnRlcmFjdGFibGVcbiAgZ2V0UG9pbnRlckF2ZXJhZ2U6IHR5cGVvZiBwb2ludGVyVXRpbHMucG9pbnRlckF2ZXJhZ2VcbiAgZ2V0VG91Y2hCQm94OiB0eXBlb2YgcG9pbnRlclV0aWxzLnRvdWNoQkJveFxuICBnZXRUb3VjaERpc3RhbmNlOiB0eXBlb2YgcG9pbnRlclV0aWxzLnRvdWNoRGlzdGFuY2VcbiAgZ2V0VG91Y2hBbmdsZTogdHlwZW9mIHBvaW50ZXJVdGlscy50b3VjaEFuZ2xlXG4gIGdldEVsZW1lbnRSZWN0OiB0eXBlb2YgZG9tVXRpbHMuZ2V0RWxlbWVudFJlY3RcbiAgZ2V0RWxlbWVudENsaWVudFJlY3Q6IHR5cGVvZiBkb21VdGlscy5nZXRFbGVtZW50Q2xpZW50UmVjdFxuICBtYXRjaGVzU2VsZWN0b3I6IHR5cGVvZiBkb21VdGlscy5tYXRjaGVzU2VsZWN0b3JcbiAgY2xvc2VzdDogdHlwZW9mIGRvbVV0aWxzLmNsb3Nlc3RcbiAgLyoqIEBpbnRlcm5hbCAqLyBnbG9iYWxFdmVudHM6IGFueVxuICB2ZXJzaW9uOiBzdHJpbmdcbiAgLyoqIEBpbnRlcm5hbCAqLyBzY29wZTogU2NvcGVcbiAgLyoqXG4gICAqIFVzZSBhIHBsdWdpblxuICAgKi9cbiAgdXNlKFxuICAgIHBsdWdpbjogUGx1Z2luLFxuICAgIG9wdGlvbnM/OiB7XG4gICAgICBba2V5OiBzdHJpbmddOiBhbnlcbiAgICB9LFxuICApOiBhbnlcbiAgLyoqXG4gICAqIENoZWNrIGlmIGFuIGVsZW1lbnQgb3Igc2VsZWN0b3IgaGFzIGJlZW4gc2V0IHdpdGggdGhlIGBpbnRlcmFjdCh0YXJnZXQpYFxuICAgKiBmdW5jdGlvblxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBJbmRpY2F0ZXMgaWYgdGhlIGVsZW1lbnQgb3IgQ1NTIHNlbGVjdG9yIHdhcyBwcmV2aW91c2x5XG4gICAqIHBhc3NlZCB0byBpbnRlcmFjdFxuICAgKi9cbiAgaXNTZXQoXG4gICAgLyogVGhlIEVsZW1lbnQgb3Igc3RyaW5nIGJlaW5nIHNlYXJjaGVkIGZvciAqL1xuICAgIHRhcmdldDogVGFyZ2V0LFxuICAgIG9wdGlvbnM/OiBhbnksXG4gICk6IGJvb2xlYW5cbiAgb24odHlwZTogc3RyaW5nIHwgRXZlbnRUeXBlcywgbGlzdGVuZXI6IExpc3RlbmVyc0FyZywgb3B0aW9ucz86IG9iamVjdCk6IGFueVxuICBvZmYodHlwZTogRXZlbnRUeXBlcywgbGlzdGVuZXI6IGFueSwgb3B0aW9ucz86IG9iamVjdCk6IGFueVxuICBkZWJ1ZygpOiBhbnlcbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRoZSBicm93c2VyIHN1cHBvcnRzIHRvdWNoIGlucHV0XG4gICAqL1xuICBzdXBwb3J0c1RvdWNoKCk6IGJvb2xlYW5cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRoZSBicm93c2VyIHN1cHBvcnRzIFBvaW50ZXJFdmVudHNcbiAgICovXG4gIHN1cHBvcnRzUG9pbnRlckV2ZW50KCk6IGJvb2xlYW5cbiAgLyoqXG4gICAqIENhbmNlbHMgYWxsIGludGVyYWN0aW9ucyAoZW5kIGV2ZW50cyBhcmUgbm90IGZpcmVkKVxuICAgKi9cbiAgc3RvcCgpOiBJbnRlcmFjdFN0YXRpY1xuICAvKipcbiAgICogUmV0dXJucyBvciBzZXRzIHRoZSBkaXN0YW5jZSB0aGUgcG9pbnRlciBtdXN0IGJlIG1vdmVkIGJlZm9yZSBhbiBhY3Rpb25cbiAgICogc2VxdWVuY2Ugb2NjdXJzLiBUaGlzIGFsc28gYWZmZWN0cyB0b2xlcmFuY2UgZm9yIHRhcCBldmVudHMuXG4gICAqL1xuICBwb2ludGVyTW92ZVRvbGVyYW5jZShcbiAgICAvKiogVGhlIG1vdmVtZW50IGZyb20gdGhlIHN0YXJ0IHBvc2l0aW9uIG11c3QgYmUgZ3JlYXRlciB0aGFuIHRoaXMgdmFsdWUgKi9cbiAgICBuZXdWYWx1ZT86IG51bWJlcixcbiAgKTogSW50ZXJhY3RTdGF0aWMgfCBudW1iZXJcbiAgYWRkRG9jdW1lbnQoZG9jOiBEb2N1bWVudCwgb3B0aW9ucz86IG9iamVjdCk6IHZvaWRcbiAgcmVtb3ZlRG9jdW1lbnQoZG9jOiBEb2N1bWVudCk6IHZvaWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludGVyYWN0U3RhdGljKHNjb3BlOiBTY29wZSk6IEludGVyYWN0U3RhdGljIHtcbiAgY29uc3QgaW50ZXJhY3QgPSAoKHRhcmdldDogVGFyZ2V0LCBvcHRpb25zOiBPcHRpb25zKSA9PiB7XG4gICAgbGV0IGludGVyYWN0YWJsZSA9IHNjb3BlLmludGVyYWN0YWJsZXMuZ2V0RXhpc3RpbmcodGFyZ2V0LCBvcHRpb25zKVxuXG4gICAgaWYgKCFpbnRlcmFjdGFibGUpIHtcbiAgICAgIGludGVyYWN0YWJsZSA9IHNjb3BlLmludGVyYWN0YWJsZXMubmV3KHRhcmdldCwgb3B0aW9ucylcbiAgICAgIGludGVyYWN0YWJsZS5ldmVudHMuZ2xvYmFsID0gaW50ZXJhY3QuZ2xvYmFsRXZlbnRzXG4gICAgfVxuXG4gICAgcmV0dXJuIGludGVyYWN0YWJsZVxuICB9KSBhcyBJbnRlcmFjdFN0YXRpY1xuXG4gIC8vIGV4cG9zZSB0aGUgZnVuY3Rpb25zIHVzZWQgdG8gY2FsY3VsYXRlIG11bHRpLXRvdWNoIHByb3BlcnRpZXNcbiAgaW50ZXJhY3QuZ2V0UG9pbnRlckF2ZXJhZ2UgPSBwb2ludGVyVXRpbHMucG9pbnRlckF2ZXJhZ2VcbiAgaW50ZXJhY3QuZ2V0VG91Y2hCQm94ID0gcG9pbnRlclV0aWxzLnRvdWNoQkJveFxuICBpbnRlcmFjdC5nZXRUb3VjaERpc3RhbmNlID0gcG9pbnRlclV0aWxzLnRvdWNoRGlzdGFuY2VcbiAgaW50ZXJhY3QuZ2V0VG91Y2hBbmdsZSA9IHBvaW50ZXJVdGlscy50b3VjaEFuZ2xlXG5cbiAgaW50ZXJhY3QuZ2V0RWxlbWVudFJlY3QgPSBkb21VdGlscy5nZXRFbGVtZW50UmVjdFxuICBpbnRlcmFjdC5nZXRFbGVtZW50Q2xpZW50UmVjdCA9IGRvbVV0aWxzLmdldEVsZW1lbnRDbGllbnRSZWN0XG4gIGludGVyYWN0Lm1hdGNoZXNTZWxlY3RvciA9IGRvbVV0aWxzLm1hdGNoZXNTZWxlY3RvclxuICBpbnRlcmFjdC5jbG9zZXN0ID0gZG9tVXRpbHMuY2xvc2VzdFxuXG4gIGludGVyYWN0Lmdsb2JhbEV2ZW50cyA9IHt9IGFzIGFueVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICBpbnRlcmFjdC52ZXJzaW9uID0gcHJvY2Vzcy5lbnYubnBtX3BhY2thZ2VfdmVyc2lvblxuICBpbnRlcmFjdC5zY29wZSA9IHNjb3BlXG4gIGludGVyYWN0LnVzZSA9IGZ1bmN0aW9uIChwbHVnaW4sIG9wdGlvbnMpIHtcbiAgICB0aGlzLnNjb3BlLnVzZVBsdWdpbihwbHVnaW4sIG9wdGlvbnMpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgaW50ZXJhY3QuaXNTZXQgPSBmdW5jdGlvbiAodGFyZ2V0OiBUYXJnZXQsIG9wdGlvbnM/OiB7IGNvbnRleHQ/OiBDb250ZXh0IH0pOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLnNjb3BlLmludGVyYWN0YWJsZXMuZ2V0KHRhcmdldCwgb3B0aW9ucyAmJiBvcHRpb25zLmNvbnRleHQpXG4gIH1cblxuICBpbnRlcmFjdC5vbiA9IHdhcm5PbmNlKGZ1bmN0aW9uIG9uKHR5cGU6IHN0cmluZyB8IEV2ZW50VHlwZXMsIGxpc3RlbmVyOiBMaXN0ZW5lcnNBcmcsIG9wdGlvbnM/OiBvYmplY3QpIHtcbiAgICBpZiAoaXMuc3RyaW5nKHR5cGUpICYmIHR5cGUuc2VhcmNoKCcgJykgIT09IC0xKSB7XG4gICAgICB0eXBlID0gdHlwZS50cmltKCkuc3BsaXQoLyArLylcbiAgICB9XG5cbiAgICBpZiAoaXMuYXJyYXkodHlwZSkpIHtcbiAgICAgIGZvciAoY29uc3QgZXZlbnRUeXBlIG9mIHR5cGUgYXMgYW55W10pIHtcbiAgICAgICAgdGhpcy5vbihldmVudFR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGlmIChpcy5vYmplY3QodHlwZSkpIHtcbiAgICAgIGZvciAoY29uc3QgcHJvcCBpbiB0eXBlKSB7XG4gICAgICAgIHRoaXMub24ocHJvcCwgKHR5cGUgYXMgYW55KVtwcm9wXSwgbGlzdGVuZXIpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLy8gaWYgaXQgaXMgYW4gSW50ZXJhY3RFdmVudCB0eXBlLCBhZGQgbGlzdGVuZXIgdG8gZ2xvYmFsRXZlbnRzXG4gICAgaWYgKGlzTm9uTmF0aXZlRXZlbnQodHlwZSwgdGhpcy5zY29wZS5hY3Rpb25zKSkge1xuICAgICAgLy8gaWYgdGhpcyB0eXBlIG9mIGV2ZW50IHdhcyBuZXZlciBib3VuZFxuICAgICAgaWYgKCF0aGlzLmdsb2JhbEV2ZW50c1t0eXBlXSkge1xuICAgICAgICB0aGlzLmdsb2JhbEV2ZW50c1t0eXBlXSA9IFtsaXN0ZW5lcl1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZ2xvYmFsRXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpXG4gICAgICB9XG4gICAgfVxuICAgIC8vIElmIG5vbiBJbnRlcmFjdEV2ZW50IHR5cGUsIGFkZEV2ZW50TGlzdGVuZXIgdG8gZG9jdW1lbnRcbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc2NvcGUuZXZlbnRzLmFkZCh0aGlzLnNjb3BlLmRvY3VtZW50LCB0eXBlLCBsaXN0ZW5lciBhcyBMaXN0ZW5lciwgeyBvcHRpb25zIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfSwgJ1RoZSBpbnRlcmFjdC5vbigpIG1ldGhvZCBpcyBiZWluZyBkZXByZWNhdGVkJylcblxuICBpbnRlcmFjdC5vZmYgPSB3YXJuT25jZShmdW5jdGlvbiBvZmYodHlwZTogRXZlbnRUeXBlcywgbGlzdGVuZXI6IGFueSwgb3B0aW9ucz86IG9iamVjdCkge1xuICAgIGlmIChpcy5zdHJpbmcodHlwZSkgJiYgdHlwZS5zZWFyY2goJyAnKSAhPT0gLTEpIHtcbiAgICAgIHR5cGUgPSB0eXBlLnRyaW0oKS5zcGxpdCgvICsvKVxuICAgIH1cblxuICAgIGlmIChpcy5hcnJheSh0eXBlKSkge1xuICAgICAgZm9yIChjb25zdCBldmVudFR5cGUgb2YgdHlwZSkge1xuICAgICAgICB0aGlzLm9mZihldmVudFR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGlmIChpcy5vYmplY3QodHlwZSkpIHtcbiAgICAgIGZvciAoY29uc3QgcHJvcCBpbiB0eXBlKSB7XG4gICAgICAgIHRoaXMub2ZmKHByb3AsIHR5cGVbcHJvcF0sIGxpc3RlbmVyKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGlmIChpc05vbk5hdGl2ZUV2ZW50KHR5cGUsIHRoaXMuc2NvcGUuYWN0aW9ucykpIHtcbiAgICAgIGxldCBpbmRleDogbnVtYmVyXG5cbiAgICAgIGlmICh0eXBlIGluIHRoaXMuZ2xvYmFsRXZlbnRzICYmIChpbmRleCA9IHRoaXMuZ2xvYmFsRXZlbnRzW3R5cGVdLmluZGV4T2YobGlzdGVuZXIpKSAhPT0gLTEpIHtcbiAgICAgICAgdGhpcy5nbG9iYWxFdmVudHNbdHlwZV0uc3BsaWNlKGluZGV4LCAxKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNjb3BlLmV2ZW50cy5yZW1vdmUodGhpcy5zY29wZS5kb2N1bWVudCwgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfSwgJ1RoZSBpbnRlcmFjdC5vZmYoKSBtZXRob2QgaXMgYmVpbmcgZGVwcmVjYXRlZCcpXG5cbiAgaW50ZXJhY3QuZGVidWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2NvcGVcbiAgfVxuXG4gIGludGVyYWN0LnN1cHBvcnRzVG91Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGJyb3dzZXIuc3VwcG9ydHNUb3VjaFxuICB9XG5cbiAgaW50ZXJhY3Quc3VwcG9ydHNQb2ludGVyRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGJyb3dzZXIuc3VwcG9ydHNQb2ludGVyRXZlbnRcbiAgfVxuXG4gIGludGVyYWN0LnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yIChjb25zdCBpbnRlcmFjdGlvbiBvZiB0aGlzLnNjb3BlLmludGVyYWN0aW9ucy5saXN0KSB7XG4gICAgICBpbnRlcmFjdGlvbi5zdG9wKClcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgaW50ZXJhY3QucG9pbnRlck1vdmVUb2xlcmFuY2UgPSBmdW5jdGlvbiAobmV3VmFsdWU/OiBudW1iZXIpIHtcbiAgICBpZiAoaXMubnVtYmVyKG5ld1ZhbHVlKSkge1xuICAgICAgdGhpcy5zY29wZS5pbnRlcmFjdGlvbnMucG9pbnRlck1vdmVUb2xlcmFuY2UgPSBuZXdWYWx1ZVxuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnNjb3BlLmludGVyYWN0aW9ucy5wb2ludGVyTW92ZVRvbGVyYW5jZVxuICB9XG5cbiAgaW50ZXJhY3QuYWRkRG9jdW1lbnQgPSBmdW5jdGlvbiAoZG9jOiBEb2N1bWVudCwgb3B0aW9ucz86IG9iamVjdCkge1xuICAgIHRoaXMuc2NvcGUuYWRkRG9jdW1lbnQoZG9jLCBvcHRpb25zKVxuICB9XG5cbiAgaW50ZXJhY3QucmVtb3ZlRG9jdW1lbnQgPSBmdW5jdGlvbiAoZG9jOiBEb2N1bWVudCkge1xuICAgIHRoaXMuc2NvcGUucmVtb3ZlRG9jdW1lbnQoZG9jKVxuICB9XG5cbiAgcmV0dXJuIGludGVyYWN0XG59XG4iLCAiaW1wb3J0IHsgU2NvcGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuXG5jb25zdCBzY29wZSA9IG5ldyBTY29wZSgpXG5cbmNvbnN0IGludGVyYWN0ID0gc2NvcGUuaW50ZXJhY3RTdGF0aWNcblxuZXhwb3J0IGRlZmF1bHQgaW50ZXJhY3RcblxuY29uc3QgX2dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXNcbnNjb3BlLmluaXQoX2dsb2JhbClcbiIsICJleHBvcnQgZGVmYXVsdCAoKSA9PiB7fVxuIiwgImV4cG9ydCBkZWZhdWx0ICgpID0+IHt9XG4iLCAiaW1wb3J0IHR5cGUgeyBSZWN0LCBQb2ludCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgdHlwZSB7IFNuYXBGdW5jdGlvbiwgU25hcFRhcmdldCB9IGZyb20gJ0BpbnRlcmFjdGpzL21vZGlmaWVycy9zbmFwL3BvaW50ZXInXG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZE9wdGlvbnNCYXNlIHtcbiAgcmFuZ2U/OiBudW1iZXJcbiAgbGltaXRzPzogUmVjdFxuICBvZmZzZXQ/OiBQb2ludFxufVxuZXhwb3J0IGludGVyZmFjZSBHcmlkT3B0aW9uc1hZIGV4dGVuZHMgR3JpZE9wdGlvbnNCYXNlIHtcbiAgeDogbnVtYmVyXG4gIHk6IG51bWJlclxufVxuZXhwb3J0IGludGVyZmFjZSBHcmlkT3B0aW9uc1RvcExlZnQgZXh0ZW5kcyBHcmlkT3B0aW9uc0Jhc2Uge1xuICB0b3A/OiBudW1iZXJcbiAgbGVmdD86IG51bWJlclxufVxuZXhwb3J0IGludGVyZmFjZSBHcmlkT3B0aW9uc0JvdHRvbVJpZ2h0IGV4dGVuZHMgR3JpZE9wdGlvbnNCYXNlIHtcbiAgYm90dG9tPzogbnVtYmVyXG4gIHJpZ2h0PzogbnVtYmVyXG59XG5leHBvcnQgaW50ZXJmYWNlIEdyaWRPcHRpb25zV2lkdGhIZWlnaHQgZXh0ZW5kcyBHcmlkT3B0aW9uc0Jhc2Uge1xuICB3aWR0aD86IG51bWJlclxuICBoZWlnaHQ/OiBudW1iZXJcbn1cblxuZXhwb3J0IHR5cGUgR3JpZE9wdGlvbnMgPSBHcmlkT3B0aW9uc1hZIHwgR3JpZE9wdGlvbnNUb3BMZWZ0IHwgR3JpZE9wdGlvbnNCb3R0b21SaWdodCB8IEdyaWRPcHRpb25zV2lkdGhIZWlnaHRcblxuZXhwb3J0IGRlZmF1bHQgKGdyaWQ6IEdyaWRPcHRpb25zKSA9PiB7XG4gIGNvbnN0IGNvb3JkRmllbGRzID0gKFxuICAgIFtcbiAgICAgIFsneCcsICd5J10sXG4gICAgICBbJ2xlZnQnLCAndG9wJ10sXG4gICAgICBbJ3JpZ2h0JywgJ2JvdHRvbSddLFxuICAgICAgWyd3aWR0aCcsICdoZWlnaHQnXSxcbiAgICBdIGFzIGNvbnN0XG4gICkuZmlsdGVyKChbeEZpZWxkLCB5RmllbGRdKSA9PiB4RmllbGQgaW4gZ3JpZCB8fCB5RmllbGQgaW4gZ3JpZClcblxuICBjb25zdCBncmlkRnVuYzogU25hcEZ1bmN0aW9uICYge1xuICAgIGdyaWQ6IHR5cGVvZiBncmlkXG4gICAgY29vcmRGaWVsZHM6IHR5cGVvZiBjb29yZEZpZWxkc1xuICB9ID0gKHgsIHkpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICByYW5nZSxcbiAgICAgIGxpbWl0cyA9IHtcbiAgICAgICAgbGVmdDogLUluZmluaXR5LFxuICAgICAgICByaWdodDogSW5maW5pdHksXG4gICAgICAgIHRvcDogLUluZmluaXR5LFxuICAgICAgICBib3R0b206IEluZmluaXR5LFxuICAgICAgfSxcbiAgICAgIG9mZnNldCA9IHsgeDogMCwgeTogMCB9LFxuICAgIH0gPSBncmlkXG5cbiAgICBjb25zdCByZXN1bHQ6IFNuYXBUYXJnZXQgJiB7XG4gICAgICBncmlkOiB0eXBlb2YgZ3JpZFxuICAgIH0gPSB7IHJhbmdlLCBncmlkLCB4OiBudWxsIGFzIG51bWJlciwgeTogbnVsbCBhcyBudW1iZXIgfVxuXG4gICAgZm9yIChjb25zdCBbeEZpZWxkLCB5RmllbGRdIG9mIGNvb3JkRmllbGRzKSB7XG4gICAgICBjb25zdCBncmlkeCA9IE1hdGgucm91bmQoKHggLSBvZmZzZXQueCkgLyAoZ3JpZCBhcyBhbnkpW3hGaWVsZF0pXG4gICAgICBjb25zdCBncmlkeSA9IE1hdGgucm91bmQoKHkgLSBvZmZzZXQueSkgLyAoZ3JpZCBhcyBhbnkpW3lGaWVsZF0pXG5cbiAgICAgIHJlc3VsdFt4RmllbGRdID0gTWF0aC5tYXgobGltaXRzLmxlZnQsIE1hdGgubWluKGxpbWl0cy5yaWdodCwgZ3JpZHggKiAoZ3JpZCBhcyBhbnkpW3hGaWVsZF0gKyBvZmZzZXQueCkpXG4gICAgICByZXN1bHRbeUZpZWxkXSA9IE1hdGgubWF4KGxpbWl0cy50b3AsIE1hdGgubWluKGxpbWl0cy5ib3R0b20sIGdyaWR5ICogKGdyaWQgYXMgYW55KVt5RmllbGRdICsgb2Zmc2V0LnkpKVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIGdyaWRGdW5jLmdyaWQgPSBncmlkXG4gIGdyaWRGdW5jLmNvb3JkRmllbGRzID0gY29vcmRGaWVsZHNcblxuICByZXR1cm4gZ3JpZEZ1bmNcbn1cbiIsICJpbXBvcnQgdHlwZSB7IFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcblxuaW1wb3J0ICogYXMgYWxsU25hcHBlcnMgZnJvbSAnLi9hbGwnXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0U3RhdGljJyB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgSW50ZXJhY3RTdGF0aWMge1xuICAgIHNuYXBwZXJzOiB0eXBlb2YgYWxsU25hcHBlcnNcbiAgICBjcmVhdGVTbmFwR3JpZDogdHlwZW9mIGFsbFNuYXBwZXJzLmdyaWRcbiAgfVxufVxuXG5jb25zdCBzbmFwcGVyc1BsdWdpbjogUGx1Z2luID0ge1xuICBpZDogJ3NuYXBwZXJzJyxcbiAgaW5zdGFsbChzY29wZSkge1xuICAgIGNvbnN0IHsgaW50ZXJhY3RTdGF0aWM6IGludGVyYWN0IH0gPSBzY29wZVxuXG4gICAgaW50ZXJhY3Quc25hcHBlcnMgPSBleHRlbmQoaW50ZXJhY3Quc25hcHBlcnMgfHwge30sIGFsbFNuYXBwZXJzKVxuICAgIGludGVyYWN0LmNyZWF0ZVNuYXBHcmlkID0gaW50ZXJhY3Quc25hcHBlcnMuZ3JpZFxuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBzbmFwcGVyc1BsdWdpblxuIiwgIi8qKlxuICogQG1vZHVsZSBtb2RpZmllcnMvYXNwZWN0UmF0aW9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoaXMgbW9kaWZpZXIgZm9yY2VzIGVsZW1lbnRzIHRvIGJlIHJlc2l6ZWQgd2l0aCBhIHNwZWNpZmllZCBkeC9keSByYXRpby5cbiAqXG4gKiBgYGBqc1xuICogaW50ZXJhY3QodGFyZ2V0KS5yZXNpemFibGUoe1xuICogICBtb2RpZmllcnM6IFtcbiAqICAgICBpbnRlcmFjdC5tb2RpZmllcnMuc25hcFNpemUoe1xuICogICAgICAgdGFyZ2V0czogWyBpbnRlcmFjdC5zbmFwcGVycy5ncmlkKHsgeDogMjAsIHk6IDIwIH0pIF0sXG4gKiAgICAgfSksXG4gKiAgICAgaW50ZXJhY3QuYXNwZWN0UmF0aW8oeyByYXRpbzogJ3ByZXNlcnZlJyB9KSxcbiAqICAgXSxcbiAqIH0pO1xuICogYGBgXG4gKi9cblxuaW1wb3J0IHR5cGUgeyBQb2ludCwgUmVjdCwgRWRnZU9wdGlvbnMgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgeyBhZGRFZGdlcyB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3JlY3QnXG5cbmltcG9ydCB7IG1ha2VNb2RpZmllciB9IGZyb20gJy4vYmFzZSdcbmltcG9ydCB7IE1vZGlmaWNhdGlvbiB9IGZyb20gJy4vTW9kaWZpY2F0aW9uJ1xuaW1wb3J0IHR5cGUgeyBNb2RpZmllciwgTW9kaWZpZXJNb2R1bGUsIE1vZGlmaWVyU3RhdGUgfSBmcm9tICcuL3R5cGVzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIEFzcGVjdFJhdGlvT3B0aW9ucyB7XG4gIHJhdGlvPzogbnVtYmVyIHwgJ3ByZXNlcnZlJ1xuICBlcXVhbERlbHRhPzogYm9vbGVhblxuICBtb2RpZmllcnM/OiBNb2RpZmllcltdXG4gIGVuYWJsZWQ/OiBib29sZWFuXG59XG5cbmV4cG9ydCB0eXBlIEFzcGVjdFJhdGlvU3RhdGUgPSBNb2RpZmllclN0YXRlPFxuICBBc3BlY3RSYXRpb09wdGlvbnMsXG4gIHtcbiAgICBzdGFydENvb3JkczogUG9pbnRcbiAgICBzdGFydFJlY3Q6IFJlY3RcbiAgICBsaW5rZWRFZGdlczogRWRnZU9wdGlvbnNcbiAgICByYXRpbzogbnVtYmVyXG4gICAgZXF1YWxEZWx0YTogYm9vbGVhblxuICAgIHhJc1ByaW1hcnlBeGlzOiBib29sZWFuXG4gICAgZWRnZVNpZ246IHtcbiAgICAgIHg6IG51bWJlclxuICAgICAgeTogbnVtYmVyXG4gICAgfVxuICAgIHN1Yk1vZGlmaWNhdGlvbjogTW9kaWZpY2F0aW9uXG4gIH1cbj5cblxuY29uc3QgYXNwZWN0UmF0aW86IE1vZGlmaWVyTW9kdWxlPEFzcGVjdFJhdGlvT3B0aW9ucywgQXNwZWN0UmF0aW9TdGF0ZT4gPSB7XG4gIHN0YXJ0KGFyZykge1xuICAgIGNvbnN0IHsgc3RhdGUsIHJlY3QsIGVkZ2VzLCBwYWdlQ29vcmRzOiBjb29yZHMgfSA9IGFyZ1xuICAgIGxldCB7IHJhdGlvLCBlbmFibGVkIH0gPSBzdGF0ZS5vcHRpb25zXG4gICAgY29uc3QgeyBlcXVhbERlbHRhLCBtb2RpZmllcnMgfSA9IHN0YXRlLm9wdGlvbnNcblxuICAgIGlmIChyYXRpbyA9PT0gJ3ByZXNlcnZlJykge1xuICAgICAgcmF0aW8gPSByZWN0LndpZHRoIC8gcmVjdC5oZWlnaHRcbiAgICB9XG5cbiAgICBzdGF0ZS5zdGFydENvb3JkcyA9IGV4dGVuZCh7fSwgY29vcmRzKVxuICAgIHN0YXRlLnN0YXJ0UmVjdCA9IGV4dGVuZCh7fSwgcmVjdClcbiAgICBzdGF0ZS5yYXRpbyA9IHJhdGlvXG4gICAgc3RhdGUuZXF1YWxEZWx0YSA9IGVxdWFsRGVsdGFcblxuICAgIGNvbnN0IGxpbmtlZEVkZ2VzID0gKHN0YXRlLmxpbmtlZEVkZ2VzID0ge1xuICAgICAgdG9wOiBlZGdlcy50b3AgfHwgKGVkZ2VzLmxlZnQgJiYgIWVkZ2VzLmJvdHRvbSksXG4gICAgICBsZWZ0OiBlZGdlcy5sZWZ0IHx8IChlZGdlcy50b3AgJiYgIWVkZ2VzLnJpZ2h0KSxcbiAgICAgIGJvdHRvbTogZWRnZXMuYm90dG9tIHx8IChlZGdlcy5yaWdodCAmJiAhZWRnZXMudG9wKSxcbiAgICAgIHJpZ2h0OiBlZGdlcy5yaWdodCB8fCAoZWRnZXMuYm90dG9tICYmICFlZGdlcy5sZWZ0KSxcbiAgICB9KVxuXG4gICAgc3RhdGUueElzUHJpbWFyeUF4aXMgPSAhIShlZGdlcy5sZWZ0IHx8IGVkZ2VzLnJpZ2h0KVxuXG4gICAgaWYgKHN0YXRlLmVxdWFsRGVsdGEpIHtcbiAgICAgIGNvbnN0IHNpZ24gPSAobGlua2VkRWRnZXMubGVmdCA/IDEgOiAtMSkgKiAobGlua2VkRWRnZXMudG9wID8gMSA6IC0xKVxuICAgICAgc3RhdGUuZWRnZVNpZ24gPSB7XG4gICAgICAgIHg6IHNpZ24sXG4gICAgICAgIHk6IHNpZ24sXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLmVkZ2VTaWduID0ge1xuICAgICAgICB4OiBsaW5rZWRFZGdlcy5sZWZ0ID8gLTEgOiAxLFxuICAgICAgICB5OiBsaW5rZWRFZGdlcy50b3AgPyAtMSA6IDEsXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGVuYWJsZWQgIT09IGZhbHNlKSB7XG4gICAgICBleHRlbmQoZWRnZXMsIGxpbmtlZEVkZ2VzKVxuICAgIH1cblxuICAgIGlmICghbW9kaWZpZXJzPy5sZW5ndGgpIHJldHVyblxuXG4gICAgY29uc3Qgc3ViTW9kaWZpY2F0aW9uID0gbmV3IE1vZGlmaWNhdGlvbihhcmcuaW50ZXJhY3Rpb24pXG5cbiAgICBzdWJNb2RpZmljYXRpb24uY29weUZyb20oYXJnLmludGVyYWN0aW9uLm1vZGlmaWNhdGlvbilcbiAgICBzdWJNb2RpZmljYXRpb24ucHJlcGFyZVN0YXRlcyhtb2RpZmllcnMpXG5cbiAgICBzdGF0ZS5zdWJNb2RpZmljYXRpb24gPSBzdWJNb2RpZmljYXRpb25cbiAgICBzdWJNb2RpZmljYXRpb24uc3RhcnRBbGwoeyAuLi5hcmcgfSlcbiAgfSxcblxuICBzZXQoYXJnKSB7XG4gICAgY29uc3QgeyBzdGF0ZSwgcmVjdCwgY29vcmRzIH0gPSBhcmdcbiAgICBjb25zdCB7IGxpbmtlZEVkZ2VzIH0gPSBzdGF0ZVxuICAgIGNvbnN0IGluaXRpYWxDb29yZHMgPSBleHRlbmQoe30sIGNvb3JkcylcbiAgICBjb25zdCBhc3BlY3RNZXRob2QgPSBzdGF0ZS5lcXVhbERlbHRhID8gc2V0RXF1YWxEZWx0YSA6IHNldFJhdGlvXG5cbiAgICBleHRlbmQoYXJnLmVkZ2VzLCBsaW5rZWRFZGdlcylcbiAgICBhc3BlY3RNZXRob2Qoc3RhdGUsIHN0YXRlLnhJc1ByaW1hcnlBeGlzLCBjb29yZHMsIHJlY3QpXG5cbiAgICBpZiAoIXN0YXRlLnN1Yk1vZGlmaWNhdGlvbikge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBjb3JyZWN0ZWRSZWN0ID0gZXh0ZW5kKHt9LCByZWN0KVxuXG4gICAgYWRkRWRnZXMobGlua2VkRWRnZXMsIGNvcnJlY3RlZFJlY3QsIHtcbiAgICAgIHg6IGNvb3Jkcy54IC0gaW5pdGlhbENvb3Jkcy54LFxuICAgICAgeTogY29vcmRzLnkgLSBpbml0aWFsQ29vcmRzLnksXG4gICAgfSlcblxuICAgIGNvbnN0IHJlc3VsdCA9IHN0YXRlLnN1Yk1vZGlmaWNhdGlvbi5zZXRBbGwoe1xuICAgICAgLi4uYXJnLFxuICAgICAgcmVjdDogY29ycmVjdGVkUmVjdCxcbiAgICAgIGVkZ2VzOiBsaW5rZWRFZGdlcyxcbiAgICAgIHBhZ2VDb29yZHM6IGNvb3JkcyxcbiAgICAgIHByZXZDb29yZHM6IGNvb3JkcyxcbiAgICAgIHByZXZSZWN0OiBjb3JyZWN0ZWRSZWN0LFxuICAgIH0pXG5cbiAgICBjb25zdCB7IGRlbHRhIH0gPSByZXN1bHRcblxuICAgIGlmIChyZXN1bHQuY2hhbmdlZCkge1xuICAgICAgY29uc3QgeElzQ3JpdGljYWxBeGlzID0gTWF0aC5hYnMoZGVsdGEueCkgPiBNYXRoLmFicyhkZWx0YS55KVxuXG4gICAgICAvLyBkbyBhc3BlY3QgbW9kaWZpY2F0aW9uIGFnYWluIHdpdGggY3JpdGljYWwgZWRnZSBheGlzIGFzIHByaW1hcnlcbiAgICAgIGFzcGVjdE1ldGhvZChzdGF0ZSwgeElzQ3JpdGljYWxBeGlzLCByZXN1bHQuY29vcmRzLCByZXN1bHQucmVjdClcbiAgICAgIGV4dGVuZChjb29yZHMsIHJlc3VsdC5jb29yZHMpXG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdC5ldmVudFByb3BzXG4gIH0sXG5cbiAgZGVmYXVsdHM6IHtcbiAgICByYXRpbzogJ3ByZXNlcnZlJyxcbiAgICBlcXVhbERlbHRhOiBmYWxzZSxcbiAgICBtb2RpZmllcnM6IFtdLFxuICAgIGVuYWJsZWQ6IGZhbHNlLFxuICB9LFxufVxuXG5mdW5jdGlvbiBzZXRFcXVhbERlbHRhKHsgc3RhcnRDb29yZHMsIGVkZ2VTaWduIH06IEFzcGVjdFJhdGlvU3RhdGUsIHhJc1ByaW1hcnlBeGlzOiBib29sZWFuLCBjb29yZHM6IFBvaW50KSB7XG4gIGlmICh4SXNQcmltYXJ5QXhpcykge1xuICAgIGNvb3Jkcy55ID0gc3RhcnRDb29yZHMueSArIChjb29yZHMueCAtIHN0YXJ0Q29vcmRzLngpICogZWRnZVNpZ24ueVxuICB9IGVsc2Uge1xuICAgIGNvb3Jkcy54ID0gc3RhcnRDb29yZHMueCArIChjb29yZHMueSAtIHN0YXJ0Q29vcmRzLnkpICogZWRnZVNpZ24ueFxuICB9XG59XG5cbmZ1bmN0aW9uIHNldFJhdGlvKFxuICB7IHN0YXJ0UmVjdCwgc3RhcnRDb29yZHMsIHJhdGlvLCBlZGdlU2lnbiB9OiBBc3BlY3RSYXRpb1N0YXRlLFxuICB4SXNQcmltYXJ5QXhpczogYm9vbGVhbixcbiAgY29vcmRzOiBQb2ludCxcbiAgcmVjdDogUmVjdCxcbikge1xuICBpZiAoeElzUHJpbWFyeUF4aXMpIHtcbiAgICBjb25zdCBuZXdIZWlnaHQgPSByZWN0LndpZHRoIC8gcmF0aW9cblxuICAgIGNvb3Jkcy55ID0gc3RhcnRDb29yZHMueSArIChuZXdIZWlnaHQgLSBzdGFydFJlY3QuaGVpZ2h0KSAqIGVkZ2VTaWduLnlcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBuZXdXaWR0aCA9IHJlY3QuaGVpZ2h0ICogcmF0aW9cblxuICAgIGNvb3Jkcy54ID0gc3RhcnRDb29yZHMueCArIChuZXdXaWR0aCAtIHN0YXJ0UmVjdC53aWR0aCkgKiBlZGdlU2lnbi54XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFrZU1vZGlmaWVyKGFzcGVjdFJhdGlvLCAnYXNwZWN0UmF0aW8nKVxuZXhwb3J0IHsgYXNwZWN0UmF0aW8gfVxuIiwgImltcG9ydCB0eXBlIHsgTW9kaWZpZXJGdW5jdGlvbiB9IGZyb20gJy4vdHlwZXMnXG5cbmNvbnN0IG5vb3AgPSAoKCkgPT4ge30pIGFzIHVua25vd24gYXMgTW9kaWZpZXJGdW5jdGlvbjxhbnksIGFueSwgJ25vb3AnPlxuXG5ub29wLl9kZWZhdWx0cyA9IHt9XG5cbmV4cG9ydCBkZWZhdWx0IG5vb3BcbiIsICJpbXBvcnQgdHlwZSBJbnRlcmFjdGlvbiBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBSZWN0UmVzb2x2YWJsZSwgUmVjdCwgUG9pbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5pbXBvcnQgKiBhcyByZWN0VXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcmVjdCdcblxuaW1wb3J0IHsgbWFrZU1vZGlmaWVyIH0gZnJvbSAnLi4vYmFzZSdcbmltcG9ydCB0eXBlIHsgTW9kaWZpZXJBcmcsIE1vZGlmaWVyTW9kdWxlLCBNb2RpZmllclN0YXRlIH0gZnJvbSAnLi4vdHlwZXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzdHJpY3RPcHRpb25zIHtcbiAgLy8gd2hlcmUgdG8gZHJhZyBvdmVyXG4gIHJlc3RyaWN0aW9uOiBSZWN0UmVzb2x2YWJsZTxbbnVtYmVyLCBudW1iZXIsIEludGVyYWN0aW9uXT5cbiAgLy8gd2hhdCBwYXJ0IG9mIHNlbGYgaXMgYWxsb3dlZCB0byBkcmFnIG92ZXJcbiAgZWxlbWVudFJlY3Q6IFJlY3RcbiAgb2Zmc2V0OiBSZWN0XG4gIC8vIHJlc3RyaWN0IGp1c3QgYmVmb3JlIHRoZSBlbmQgZHJhZ1xuICBlbmRPbmx5OiBib29sZWFuXG4gIGVuYWJsZWQ/OiBib29sZWFuXG59XG5cbmV4cG9ydCB0eXBlIFJlc3RyaWN0U3RhdGUgPSBNb2RpZmllclN0YXRlPFxuICBSZXN0cmljdE9wdGlvbnMsXG4gIHtcbiAgICBvZmZzZXQ6IFJlY3RcbiAgfVxuPlxuXG5mdW5jdGlvbiBzdGFydCh7IHJlY3QsIHN0YXJ0T2Zmc2V0LCBzdGF0ZSwgaW50ZXJhY3Rpb24sIHBhZ2VDb29yZHMgfTogTW9kaWZpZXJBcmc8UmVzdHJpY3RTdGF0ZT4pIHtcbiAgY29uc3QgeyBvcHRpb25zIH0gPSBzdGF0ZVxuICBjb25zdCB7IGVsZW1lbnRSZWN0IH0gPSBvcHRpb25zXG4gIGNvbnN0IG9mZnNldDogUmVjdCA9IGV4dGVuZChcbiAgICB7XG4gICAgICBsZWZ0OiAwLFxuICAgICAgdG9wOiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgfSxcbiAgICBvcHRpb25zLm9mZnNldCB8fCB7fSxcbiAgKVxuXG4gIGlmIChyZWN0ICYmIGVsZW1lbnRSZWN0KSB7XG4gICAgY29uc3QgcmVzdHJpY3Rpb24gPSBnZXRSZXN0cmljdGlvblJlY3Qob3B0aW9ucy5yZXN0cmljdGlvbiwgaW50ZXJhY3Rpb24sIHBhZ2VDb29yZHMpXG5cbiAgICBpZiAocmVzdHJpY3Rpb24pIHtcbiAgICAgIGNvbnN0IHdpZHRoRGlmZiA9IHJlc3RyaWN0aW9uLnJpZ2h0IC0gcmVzdHJpY3Rpb24ubGVmdCAtIHJlY3Qud2lkdGhcbiAgICAgIGNvbnN0IGhlaWdodERpZmYgPSByZXN0cmljdGlvbi5ib3R0b20gLSByZXN0cmljdGlvbi50b3AgLSByZWN0LmhlaWdodFxuXG4gICAgICBpZiAod2lkdGhEaWZmIDwgMCkge1xuICAgICAgICBvZmZzZXQubGVmdCArPSB3aWR0aERpZmZcbiAgICAgICAgb2Zmc2V0LnJpZ2h0ICs9IHdpZHRoRGlmZlxuICAgICAgfVxuICAgICAgaWYgKGhlaWdodERpZmYgPCAwKSB7XG4gICAgICAgIG9mZnNldC50b3AgKz0gaGVpZ2h0RGlmZlxuICAgICAgICBvZmZzZXQuYm90dG9tICs9IGhlaWdodERpZmZcbiAgICAgIH1cbiAgICB9XG5cbiAgICBvZmZzZXQubGVmdCArPSBzdGFydE9mZnNldC5sZWZ0IC0gcmVjdC53aWR0aCAqIGVsZW1lbnRSZWN0LmxlZnRcbiAgICBvZmZzZXQudG9wICs9IHN0YXJ0T2Zmc2V0LnRvcCAtIHJlY3QuaGVpZ2h0ICogZWxlbWVudFJlY3QudG9wXG5cbiAgICBvZmZzZXQucmlnaHQgKz0gc3RhcnRPZmZzZXQucmlnaHQgLSByZWN0LndpZHRoICogKDEgLSBlbGVtZW50UmVjdC5yaWdodClcbiAgICBvZmZzZXQuYm90dG9tICs9IHN0YXJ0T2Zmc2V0LmJvdHRvbSAtIHJlY3QuaGVpZ2h0ICogKDEgLSBlbGVtZW50UmVjdC5ib3R0b20pXG4gIH1cblxuICBzdGF0ZS5vZmZzZXQgPSBvZmZzZXRcbn1cblxuZnVuY3Rpb24gc2V0KHsgY29vcmRzLCBpbnRlcmFjdGlvbiwgc3RhdGUgfTogTW9kaWZpZXJBcmc8UmVzdHJpY3RTdGF0ZT4pIHtcbiAgY29uc3QgeyBvcHRpb25zLCBvZmZzZXQgfSA9IHN0YXRlXG5cbiAgY29uc3QgcmVzdHJpY3Rpb24gPSBnZXRSZXN0cmljdGlvblJlY3Qob3B0aW9ucy5yZXN0cmljdGlvbiwgaW50ZXJhY3Rpb24sIGNvb3JkcylcblxuICBpZiAoIXJlc3RyaWN0aW9uKSByZXR1cm5cblxuICBjb25zdCByZWN0ID0gcmVjdFV0aWxzLnh5d2hUb1RsYnIocmVzdHJpY3Rpb24pXG5cbiAgY29vcmRzLnggPSBNYXRoLm1heChNYXRoLm1pbihyZWN0LnJpZ2h0IC0gb2Zmc2V0LnJpZ2h0LCBjb29yZHMueCksIHJlY3QubGVmdCArIG9mZnNldC5sZWZ0KVxuICBjb29yZHMueSA9IE1hdGgubWF4KE1hdGgubWluKHJlY3QuYm90dG9tIC0gb2Zmc2V0LmJvdHRvbSwgY29vcmRzLnkpLCByZWN0LnRvcCArIG9mZnNldC50b3ApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXN0cmljdGlvblJlY3QoXG4gIHZhbHVlOiBSZWN0UmVzb2x2YWJsZTxbbnVtYmVyLCBudW1iZXIsIEludGVyYWN0aW9uXT4sXG4gIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbixcbiAgY29vcmRzPzogUG9pbnQsXG4pIHtcbiAgaWYgKGlzLmZ1bmModmFsdWUpKSB7XG4gICAgcmV0dXJuIHJlY3RVdGlscy5yZXNvbHZlUmVjdExpa2UodmFsdWUsIGludGVyYWN0aW9uLmludGVyYWN0YWJsZSwgaW50ZXJhY3Rpb24uZWxlbWVudCwgW1xuICAgICAgY29vcmRzLngsXG4gICAgICBjb29yZHMueSxcbiAgICAgIGludGVyYWN0aW9uLFxuICAgIF0pXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlY3RVdGlscy5yZXNvbHZlUmVjdExpa2UodmFsdWUsIGludGVyYWN0aW9uLmludGVyYWN0YWJsZSwgaW50ZXJhY3Rpb24uZWxlbWVudClcbiAgfVxufVxuXG5jb25zdCBkZWZhdWx0czogUmVzdHJpY3RPcHRpb25zID0ge1xuICByZXN0cmljdGlvbjogbnVsbCxcbiAgZWxlbWVudFJlY3Q6IG51bGwsXG4gIG9mZnNldDogbnVsbCxcbiAgZW5kT25seTogZmFsc2UsXG4gIGVuYWJsZWQ6IGZhbHNlLFxufVxuXG5jb25zdCByZXN0cmljdDogTW9kaWZpZXJNb2R1bGU8UmVzdHJpY3RPcHRpb25zLCBSZXN0cmljdFN0YXRlPiA9IHtcbiAgc3RhcnQsXG4gIHNldCxcbiAgZGVmYXVsdHMsXG59XG5cbmV4cG9ydCBkZWZhdWx0IG1ha2VNb2RpZmllcihyZXN0cmljdCwgJ3Jlc3RyaWN0JylcbmV4cG9ydCB7IHJlc3RyaWN0IH1cbiIsICIvLyBUaGlzIG1vZGlmaWVyIGFkZHMgdGhlIG9wdGlvbnMucmVzaXplLnJlc3RyaWN0RWRnZXMgc2V0dGluZyB3aGljaCBzZXRzIG1pbiBhbmRcbi8vIG1heCBmb3IgdGhlIHRvcCwgbGVmdCwgYm90dG9tIGFuZCByaWdodCBlZGdlcyBvZiB0aGUgdGFyZ2V0IGJlaW5nIHJlc2l6ZWQuXG4vL1xuLy8gaW50ZXJhY3QodGFyZ2V0KS5yZXNpemUoe1xuLy8gICBlZGdlczogeyB0b3A6IHRydWUsIGxlZnQ6IHRydWUgfSxcbi8vICAgcmVzdHJpY3RFZGdlczoge1xuLy8gICAgIGlubmVyOiB7IHRvcDogMjAwLCBsZWZ0OiAyMDAsIHJpZ2h0OiA0MDAsIGJvdHRvbTogNDAwIH0sXG4vLyAgICAgb3V0ZXI6IHsgdG9wOiAgIDAsIGxlZnQ6ICAgMCwgcmlnaHQ6IDYwMCwgYm90dG9tOiA2MDAgfSxcbi8vICAgfSxcbi8vIH0pXG5cbmltcG9ydCB0eXBlIHsgUG9pbnQsIFJlY3QgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgKiBhcyByZWN0VXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcmVjdCdcblxuaW1wb3J0IHsgbWFrZU1vZGlmaWVyIH0gZnJvbSAnLi4vYmFzZSdcbmltcG9ydCB0eXBlIHsgTW9kaWZpZXJBcmcsIE1vZGlmaWVyU3RhdGUgfSBmcm9tICcuLi90eXBlcydcblxuaW1wb3J0IHR5cGUgeyBSZXN0cmljdE9wdGlvbnMgfSBmcm9tICcuL3BvaW50ZXInXG5pbXBvcnQgeyBnZXRSZXN0cmljdGlvblJlY3QgfSBmcm9tICcuL3BvaW50ZXInXG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzdHJpY3RFZGdlc09wdGlvbnMge1xuICBpbm5lcjogUmVzdHJpY3RPcHRpb25zWydyZXN0cmljdGlvbiddXG4gIG91dGVyOiBSZXN0cmljdE9wdGlvbnNbJ3Jlc3RyaWN0aW9uJ11cbiAgb2Zmc2V0PzogUmVzdHJpY3RPcHRpb25zWydvZmZzZXQnXVxuICBlbmRPbmx5OiBib29sZWFuXG4gIGVuYWJsZWQ/OiBib29sZWFuXG59XG5cbmV4cG9ydCB0eXBlIFJlc3RyaWN0RWRnZXNTdGF0ZSA9IE1vZGlmaWVyU3RhdGU8XG4gIFJlc3RyaWN0RWRnZXNPcHRpb25zLFxuICB7XG4gICAgaW5uZXI6IFJlY3RcbiAgICBvdXRlcjogUmVjdFxuICAgIG9mZnNldDogUmVzdHJpY3RFZGdlc09wdGlvbnNbJ29mZnNldCddXG4gIH1cbj5cblxuY29uc3Qgbm9Jbm5lciA9IHsgdG9wOiArSW5maW5pdHksIGxlZnQ6ICtJbmZpbml0eSwgYm90dG9tOiAtSW5maW5pdHksIHJpZ2h0OiAtSW5maW5pdHkgfVxuY29uc3Qgbm9PdXRlciA9IHsgdG9wOiAtSW5maW5pdHksIGxlZnQ6IC1JbmZpbml0eSwgYm90dG9tOiArSW5maW5pdHksIHJpZ2h0OiArSW5maW5pdHkgfVxuXG5mdW5jdGlvbiBzdGFydCh7IGludGVyYWN0aW9uLCBzdGFydE9mZnNldCwgc3RhdGUgfTogTW9kaWZpZXJBcmc8UmVzdHJpY3RFZGdlc1N0YXRlPikge1xuICBjb25zdCB7IG9wdGlvbnMgfSA9IHN0YXRlXG4gIGxldCBvZmZzZXQ6IFBvaW50XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBjb25zdCBvZmZzZXRSZWN0ID0gZ2V0UmVzdHJpY3Rpb25SZWN0KG9wdGlvbnMub2Zmc2V0LCBpbnRlcmFjdGlvbiwgaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LnBhZ2UpXG5cbiAgICBvZmZzZXQgPSByZWN0VXRpbHMucmVjdFRvWFkob2Zmc2V0UmVjdClcbiAgfVxuXG4gIG9mZnNldCA9IG9mZnNldCB8fCB7IHg6IDAsIHk6IDAgfVxuXG4gIHN0YXRlLm9mZnNldCA9IHtcbiAgICB0b3A6IG9mZnNldC55ICsgc3RhcnRPZmZzZXQudG9wLFxuICAgIGxlZnQ6IG9mZnNldC54ICsgc3RhcnRPZmZzZXQubGVmdCxcbiAgICBib3R0b206IG9mZnNldC55IC0gc3RhcnRPZmZzZXQuYm90dG9tLFxuICAgIHJpZ2h0OiBvZmZzZXQueCAtIHN0YXJ0T2Zmc2V0LnJpZ2h0LFxuICB9XG59XG5cbmZ1bmN0aW9uIHNldCh7IGNvb3JkcywgZWRnZXMsIGludGVyYWN0aW9uLCBzdGF0ZSB9OiBNb2RpZmllckFyZzxSZXN0cmljdEVkZ2VzU3RhdGU+KSB7XG4gIGNvbnN0IHsgb2Zmc2V0LCBvcHRpb25zIH0gPSBzdGF0ZVxuXG4gIGlmICghZWRnZXMpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IHBhZ2UgPSBleHRlbmQoe30sIGNvb3JkcylcbiAgY29uc3QgaW5uZXIgPSBnZXRSZXN0cmljdGlvblJlY3Qob3B0aW9ucy5pbm5lciwgaW50ZXJhY3Rpb24sIHBhZ2UpIHx8ICh7fSBhcyBSZWN0KVxuICBjb25zdCBvdXRlciA9IGdldFJlc3RyaWN0aW9uUmVjdChvcHRpb25zLm91dGVyLCBpbnRlcmFjdGlvbiwgcGFnZSkgfHwgKHt9IGFzIFJlY3QpXG5cbiAgZml4UmVjdChpbm5lciwgbm9Jbm5lcilcbiAgZml4UmVjdChvdXRlciwgbm9PdXRlcilcblxuICBpZiAoZWRnZXMudG9wKSB7XG4gICAgY29vcmRzLnkgPSBNYXRoLm1pbihNYXRoLm1heChvdXRlci50b3AgKyBvZmZzZXQudG9wLCBwYWdlLnkpLCBpbm5lci50b3AgKyBvZmZzZXQudG9wKVxuICB9IGVsc2UgaWYgKGVkZ2VzLmJvdHRvbSkge1xuICAgIGNvb3Jkcy55ID0gTWF0aC5tYXgoTWF0aC5taW4ob3V0ZXIuYm90dG9tICsgb2Zmc2V0LmJvdHRvbSwgcGFnZS55KSwgaW5uZXIuYm90dG9tICsgb2Zmc2V0LmJvdHRvbSlcbiAgfVxuICBpZiAoZWRnZXMubGVmdCkge1xuICAgIGNvb3Jkcy54ID0gTWF0aC5taW4oTWF0aC5tYXgob3V0ZXIubGVmdCArIG9mZnNldC5sZWZ0LCBwYWdlLngpLCBpbm5lci5sZWZ0ICsgb2Zmc2V0LmxlZnQpXG4gIH0gZWxzZSBpZiAoZWRnZXMucmlnaHQpIHtcbiAgICBjb29yZHMueCA9IE1hdGgubWF4KE1hdGgubWluKG91dGVyLnJpZ2h0ICsgb2Zmc2V0LnJpZ2h0LCBwYWdlLngpLCBpbm5lci5yaWdodCArIG9mZnNldC5yaWdodClcbiAgfVxufVxuXG5mdW5jdGlvbiBmaXhSZWN0KHJlY3Q6IFJlY3QsIGRlZmF1bHRzOiBSZWN0KSB7XG4gIGZvciAoY29uc3QgZWRnZSBvZiBbJ3RvcCcsICdsZWZ0JywgJ2JvdHRvbScsICdyaWdodCddKSB7XG4gICAgaWYgKCEoZWRnZSBpbiByZWN0KSkge1xuICAgICAgcmVjdFtlZGdlXSA9IGRlZmF1bHRzW2VkZ2VdXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlY3Rcbn1cblxuY29uc3QgZGVmYXVsdHM6IFJlc3RyaWN0RWRnZXNPcHRpb25zID0ge1xuICBpbm5lcjogbnVsbCxcbiAgb3V0ZXI6IG51bGwsXG4gIG9mZnNldDogbnVsbCxcbiAgZW5kT25seTogZmFsc2UsXG4gIGVuYWJsZWQ6IGZhbHNlLFxufVxuXG5jb25zdCByZXN0cmljdEVkZ2VzID0ge1xuICBub0lubmVyLFxuICBub091dGVyLFxuICBzdGFydCxcbiAgc2V0LFxuICBkZWZhdWx0cyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFrZU1vZGlmaWVyKHJlc3RyaWN0RWRnZXMsICdyZXN0cmljdEVkZ2VzJylcbmV4cG9ydCB7IHJlc3RyaWN0RWRnZXMgfVxuIiwgImltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuXG5pbXBvcnQgeyBtYWtlTW9kaWZpZXIgfSBmcm9tICcuLi9iYXNlJ1xuXG5pbXBvcnQgeyByZXN0cmljdCB9IGZyb20gJy4vcG9pbnRlcidcblxuY29uc3QgZGVmYXVsdHMgPSBleHRlbmQoXG4gIHtcbiAgICBnZXQgZWxlbWVudFJlY3QoKSB7XG4gICAgICByZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAsIGJvdHRvbTogMSwgcmlnaHQ6IDEgfVxuICAgIH0sXG4gICAgc2V0IGVsZW1lbnRSZWN0KF8pIHt9LFxuICB9LFxuICByZXN0cmljdC5kZWZhdWx0cyxcbilcblxuY29uc3QgcmVzdHJpY3RSZWN0ID0ge1xuICBzdGFydDogcmVzdHJpY3Quc3RhcnQsXG4gIHNldDogcmVzdHJpY3Quc2V0LFxuICBkZWZhdWx0cyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFrZU1vZGlmaWVyKHJlc3RyaWN0UmVjdCwgJ3Jlc3RyaWN0UmVjdCcpXG5leHBvcnQgeyByZXN0cmljdFJlY3QgfVxuIiwgImltcG9ydCB0eXBlIHsgUG9pbnQsIFJlY3QsIFNpemUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgKiBhcyByZWN0VXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcmVjdCdcblxuaW1wb3J0IHsgbWFrZU1vZGlmaWVyIH0gZnJvbSAnLi4vYmFzZSdcbmltcG9ydCB0eXBlIHsgTW9kaWZpZXJBcmcsIE1vZGlmaWVyU3RhdGUgfSBmcm9tICcuLi90eXBlcydcblxuaW1wb3J0IHR5cGUgeyBSZXN0cmljdEVkZ2VzU3RhdGUgfSBmcm9tICcuL2VkZ2VzJ1xuaW1wb3J0IHsgcmVzdHJpY3RFZGdlcyB9IGZyb20gJy4vZWRnZXMnXG5pbXBvcnQgdHlwZSB7IFJlc3RyaWN0T3B0aW9ucyB9IGZyb20gJy4vcG9pbnRlcidcbmltcG9ydCB7IGdldFJlc3RyaWN0aW9uUmVjdCB9IGZyb20gJy4vcG9pbnRlcidcblxuY29uc3Qgbm9NaW4gPSB7IHdpZHRoOiAtSW5maW5pdHksIGhlaWdodDogLUluZmluaXR5IH1cbmNvbnN0IG5vTWF4ID0geyB3aWR0aDogK0luZmluaXR5LCBoZWlnaHQ6ICtJbmZpbml0eSB9XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzdHJpY3RTaXplT3B0aW9ucyB7XG4gIG1pbj86IFNpemUgfCBQb2ludCB8IFJlc3RyaWN0T3B0aW9uc1sncmVzdHJpY3Rpb24nXVxuICBtYXg/OiBTaXplIHwgUG9pbnQgfCBSZXN0cmljdE9wdGlvbnNbJ3Jlc3RyaWN0aW9uJ11cbiAgZW5kT25seTogYm9vbGVhblxuICBlbmFibGVkPzogYm9vbGVhblxufVxuXG5mdW5jdGlvbiBzdGFydChhcmc6IE1vZGlmaWVyQXJnPFJlc3RyaWN0RWRnZXNTdGF0ZT4pIHtcbiAgcmV0dXJuIHJlc3RyaWN0RWRnZXMuc3RhcnQoYXJnKVxufVxuXG5leHBvcnQgdHlwZSBSZXN0cmljdFNpemVTdGF0ZSA9IFJlc3RyaWN0RWRnZXNTdGF0ZSAmXG4gIE1vZGlmaWVyU3RhdGU8XG4gICAgUmVzdHJpY3RTaXplT3B0aW9ucyAmIHsgaW5uZXI6IFJlY3Q7IG91dGVyOiBSZWN0IH0sXG4gICAge1xuICAgICAgbWluOiBSZWN0XG4gICAgICBtYXg6IFJlY3RcbiAgICB9XG4gID5cblxuZnVuY3Rpb24gc2V0KGFyZzogTW9kaWZpZXJBcmc8UmVzdHJpY3RTaXplU3RhdGU+KSB7XG4gIGNvbnN0IHsgaW50ZXJhY3Rpb24sIHN0YXRlLCByZWN0LCBlZGdlcyB9ID0gYXJnXG4gIGNvbnN0IHsgb3B0aW9ucyB9ID0gc3RhdGVcblxuICBpZiAoIWVkZ2VzKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBtaW5TaXplID1cbiAgICByZWN0VXRpbHMudGxiclRvWHl3aChnZXRSZXN0cmljdGlvblJlY3Qob3B0aW9ucy5taW4gYXMgYW55LCBpbnRlcmFjdGlvbiwgYXJnLmNvb3JkcykpIHx8IG5vTWluXG4gIGNvbnN0IG1heFNpemUgPVxuICAgIHJlY3RVdGlscy50bGJyVG9YeXdoKGdldFJlc3RyaWN0aW9uUmVjdChvcHRpb25zLm1heCBhcyBhbnksIGludGVyYWN0aW9uLCBhcmcuY29vcmRzKSkgfHwgbm9NYXhcblxuICBzdGF0ZS5vcHRpb25zID0ge1xuICAgIGVuZE9ubHk6IG9wdGlvbnMuZW5kT25seSxcbiAgICBpbm5lcjogZXh0ZW5kKHt9LCByZXN0cmljdEVkZ2VzLm5vSW5uZXIpLFxuICAgIG91dGVyOiBleHRlbmQoe30sIHJlc3RyaWN0RWRnZXMubm9PdXRlciksXG4gIH1cblxuICBpZiAoZWRnZXMudG9wKSB7XG4gICAgc3RhdGUub3B0aW9ucy5pbm5lci50b3AgPSByZWN0LmJvdHRvbSAtIG1pblNpemUuaGVpZ2h0XG4gICAgc3RhdGUub3B0aW9ucy5vdXRlci50b3AgPSByZWN0LmJvdHRvbSAtIG1heFNpemUuaGVpZ2h0XG4gIH0gZWxzZSBpZiAoZWRnZXMuYm90dG9tKSB7XG4gICAgc3RhdGUub3B0aW9ucy5pbm5lci5ib3R0b20gPSByZWN0LnRvcCArIG1pblNpemUuaGVpZ2h0XG4gICAgc3RhdGUub3B0aW9ucy5vdXRlci5ib3R0b20gPSByZWN0LnRvcCArIG1heFNpemUuaGVpZ2h0XG4gIH1cbiAgaWYgKGVkZ2VzLmxlZnQpIHtcbiAgICBzdGF0ZS5vcHRpb25zLmlubmVyLmxlZnQgPSByZWN0LnJpZ2h0IC0gbWluU2l6ZS53aWR0aFxuICAgIHN0YXRlLm9wdGlvbnMub3V0ZXIubGVmdCA9IHJlY3QucmlnaHQgLSBtYXhTaXplLndpZHRoXG4gIH0gZWxzZSBpZiAoZWRnZXMucmlnaHQpIHtcbiAgICBzdGF0ZS5vcHRpb25zLmlubmVyLnJpZ2h0ID0gcmVjdC5sZWZ0ICsgbWluU2l6ZS53aWR0aFxuICAgIHN0YXRlLm9wdGlvbnMub3V0ZXIucmlnaHQgPSByZWN0LmxlZnQgKyBtYXhTaXplLndpZHRoXG4gIH1cblxuICByZXN0cmljdEVkZ2VzLnNldChhcmcpXG5cbiAgc3RhdGUub3B0aW9ucyA9IG9wdGlvbnNcbn1cblxuY29uc3QgZGVmYXVsdHM6IFJlc3RyaWN0U2l6ZU9wdGlvbnMgPSB7XG4gIG1pbjogbnVsbCxcbiAgbWF4OiBudWxsLFxuICBlbmRPbmx5OiBmYWxzZSxcbiAgZW5hYmxlZDogZmFsc2UsXG59XG5cbmNvbnN0IHJlc3RyaWN0U2l6ZSA9IHtcbiAgc3RhcnQsXG4gIHNldCxcbiAgZGVmYXVsdHMsXG59XG5cbmV4cG9ydCBkZWZhdWx0IG1ha2VNb2RpZmllcihyZXN0cmljdFNpemUsICdyZXN0cmljdFNpemUnKVxuZXhwb3J0IHsgcmVzdHJpY3RTaXplIH1cbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0aW9uLCBJbnRlcmFjdGlvblByb3h5IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgQWN0aW9uTmFtZSwgUG9pbnQsIFJlY3RSZXNvbHZhYmxlLCBFbGVtZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0IGdldE9yaWdpblhZIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2dldE9yaWdpblhZJ1xuaW1wb3J0IGh5cG90IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2h5cG90J1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuaW1wb3J0IHsgcmVzb2x2ZVJlY3RMaWtlLCByZWN0VG9YWSB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3JlY3QnXG5cbmltcG9ydCB7IG1ha2VNb2RpZmllciB9IGZyb20gJy4uL2Jhc2UnXG5pbXBvcnQgdHlwZSB7IE1vZGlmaWVyQXJnLCBNb2RpZmllclN0YXRlIH0gZnJvbSAnLi4vdHlwZXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgT2Zmc2V0IHtcbiAgeDogbnVtYmVyXG4gIHk6IG51bWJlclxuICBpbmRleDogbnVtYmVyXG4gIHJlbGF0aXZlUG9pbnQ/OiBQb2ludCB8IG51bGxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTbmFwUG9zaXRpb24ge1xuICB4PzogbnVtYmVyXG4gIHk/OiBudW1iZXJcbiAgcmFuZ2U/OiBudW1iZXJcbiAgb2Zmc2V0PzogT2Zmc2V0XG4gIFtpbmRleDogc3RyaW5nXTogYW55XG59XG5cbmV4cG9ydCB0eXBlIFNuYXBGdW5jdGlvbiA9IChcbiAgeDogbnVtYmVyLFxuICB5OiBudW1iZXIsXG4gIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvblByb3h5PEFjdGlvbk5hbWU+LFxuICBvZmZzZXQ6IE9mZnNldCxcbiAgaW5kZXg6IG51bWJlcixcbikgPT4gU25hcFBvc2l0aW9uXG5leHBvcnQgdHlwZSBTbmFwVGFyZ2V0ID0gU25hcFBvc2l0aW9uIHwgU25hcEZ1bmN0aW9uXG5leHBvcnQgaW50ZXJmYWNlIFNuYXBPcHRpb25zIHtcbiAgdGFyZ2V0cz86IFNuYXBUYXJnZXRbXVxuICAvLyB0YXJnZXQgcmFuZ2VcbiAgcmFuZ2U/OiBudW1iZXJcbiAgLy8gc2VsZiBwb2ludHMgZm9yIHNuYXBwaW5nLiBbMCwwXSA9IHRvcCBsZWZ0LCBbMSwxXSA9IGJvdHRvbSByaWdodFxuICByZWxhdGl2ZVBvaW50cz86IFBvaW50W11cbiAgLy8gc3RhcnRDb29yZHMgPSBvZmZzZXQgc25hcHBpbmcgZnJvbSBkcmFnIHN0YXJ0IHBhZ2UgcG9zaXRpb25cbiAgb2Zmc2V0PzogUG9pbnQgfCBSZWN0UmVzb2x2YWJsZTxbSW50ZXJhY3Rpb25dPiB8ICdzdGFydENvb3JkcydcbiAgb2Zmc2V0V2l0aE9yaWdpbj86IGJvb2xlYW5cbiAgb3JpZ2luPzogUmVjdFJlc29sdmFibGU8W0VsZW1lbnRdPiB8IFBvaW50XG4gIGVuZE9ubHk/OiBib29sZWFuXG4gIGVuYWJsZWQ/OiBib29sZWFuXG59XG5cbmV4cG9ydCB0eXBlIFNuYXBTdGF0ZSA9IE1vZGlmaWVyU3RhdGU8XG4gIFNuYXBPcHRpb25zLFxuICB7XG4gICAgb2Zmc2V0cz86IE9mZnNldFtdXG4gICAgY2xvc2VzdD86IGFueVxuICAgIHRhcmdldEZpZWxkcz86IHN0cmluZ1tdW11cbiAgfVxuPlxuXG5mdW5jdGlvbiBzdGFydChhcmc6IE1vZGlmaWVyQXJnPFNuYXBTdGF0ZT4pIHtcbiAgY29uc3QgeyBpbnRlcmFjdGlvbiwgaW50ZXJhY3RhYmxlLCBlbGVtZW50LCByZWN0LCBzdGF0ZSwgc3RhcnRPZmZzZXQgfSA9IGFyZ1xuICBjb25zdCB7IG9wdGlvbnMgfSA9IHN0YXRlXG4gIGNvbnN0IG9yaWdpbiA9IG9wdGlvbnMub2Zmc2V0V2l0aE9yaWdpbiA/IGdldE9yaWdpbihhcmcpIDogeyB4OiAwLCB5OiAwIH1cblxuICBsZXQgc25hcE9mZnNldDogUG9pbnRcblxuICBpZiAob3B0aW9ucy5vZmZzZXQgPT09ICdzdGFydENvb3JkcycpIHtcbiAgICBzbmFwT2Zmc2V0ID0ge1xuICAgICAgeDogaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LnBhZ2UueCxcbiAgICAgIHk6IGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydC5wYWdlLnksXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IG9mZnNldFJlY3QgPSByZXNvbHZlUmVjdExpa2Uob3B0aW9ucy5vZmZzZXQgYXMgYW55LCBpbnRlcmFjdGFibGUsIGVsZW1lbnQsIFtpbnRlcmFjdGlvbl0pXG5cbiAgICBzbmFwT2Zmc2V0ID0gcmVjdFRvWFkob2Zmc2V0UmVjdCkgfHwgeyB4OiAwLCB5OiAwIH1cbiAgICBzbmFwT2Zmc2V0LnggKz0gb3JpZ2luLnhcbiAgICBzbmFwT2Zmc2V0LnkgKz0gb3JpZ2luLnlcbiAgfVxuXG4gIGNvbnN0IHsgcmVsYXRpdmVQb2ludHMgfSA9IG9wdGlvbnNcblxuICBzdGF0ZS5vZmZzZXRzID1cbiAgICByZWN0ICYmIHJlbGF0aXZlUG9pbnRzICYmIHJlbGF0aXZlUG9pbnRzLmxlbmd0aFxuICAgICAgPyByZWxhdGl2ZVBvaW50cy5tYXAoKHJlbGF0aXZlUG9pbnQsIGluZGV4KSA9PiAoe1xuICAgICAgICAgIGluZGV4LFxuICAgICAgICAgIHJlbGF0aXZlUG9pbnQsXG4gICAgICAgICAgeDogc3RhcnRPZmZzZXQubGVmdCAtIHJlY3Qud2lkdGggKiByZWxhdGl2ZVBvaW50LnggKyBzbmFwT2Zmc2V0LngsXG4gICAgICAgICAgeTogc3RhcnRPZmZzZXQudG9wIC0gcmVjdC5oZWlnaHQgKiByZWxhdGl2ZVBvaW50LnkgKyBzbmFwT2Zmc2V0LnksXG4gICAgICAgIH0pKVxuICAgICAgOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaW5kZXg6IDAsXG4gICAgICAgICAgICByZWxhdGl2ZVBvaW50OiBudWxsLFxuICAgICAgICAgICAgeDogc25hcE9mZnNldC54LFxuICAgICAgICAgICAgeTogc25hcE9mZnNldC55LFxuICAgICAgICAgIH0sXG4gICAgICAgIF1cbn1cblxuZnVuY3Rpb24gc2V0KGFyZzogTW9kaWZpZXJBcmc8U25hcFN0YXRlPikge1xuICBjb25zdCB7IGludGVyYWN0aW9uLCBjb29yZHMsIHN0YXRlIH0gPSBhcmdcbiAgY29uc3QgeyBvcHRpb25zLCBvZmZzZXRzIH0gPSBzdGF0ZVxuXG4gIGNvbnN0IG9yaWdpbiA9IGdldE9yaWdpblhZKGludGVyYWN0aW9uLmludGVyYWN0YWJsZSEsIGludGVyYWN0aW9uLmVsZW1lbnQhLCBpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lKVxuICBjb25zdCBwYWdlID0gZXh0ZW5kKHt9LCBjb29yZHMpXG4gIGNvbnN0IHRhcmdldHM6IFNuYXBQb3NpdGlvbltdID0gW11cblxuICBpZiAoIW9wdGlvbnMub2Zmc2V0V2l0aE9yaWdpbikge1xuICAgIHBhZ2UueCAtPSBvcmlnaW4ueFxuICAgIHBhZ2UueSAtPSBvcmlnaW4ueVxuICB9XG5cbiAgZm9yIChjb25zdCBvZmZzZXQgb2Ygb2Zmc2V0cyEpIHtcbiAgICBjb25zdCByZWxhdGl2ZVggPSBwYWdlLnggLSBvZmZzZXQueFxuICAgIGNvbnN0IHJlbGF0aXZlWSA9IHBhZ2UueSAtIG9mZnNldC55XG5cbiAgICBmb3IgKGxldCBpbmRleCA9IDAsIGxlbiA9IG9wdGlvbnMudGFyZ2V0cyEubGVuZ3RoOyBpbmRleCA8IGxlbjsgaW5kZXgrKykge1xuICAgICAgY29uc3Qgc25hcFRhcmdldCA9IG9wdGlvbnMudGFyZ2V0cyFbaW5kZXhdXG4gICAgICBsZXQgdGFyZ2V0OiBTbmFwUG9zaXRpb25cblxuICAgICAgaWYgKGlzLmZ1bmMoc25hcFRhcmdldCkpIHtcbiAgICAgICAgdGFyZ2V0ID0gc25hcFRhcmdldChyZWxhdGl2ZVgsIHJlbGF0aXZlWSwgaW50ZXJhY3Rpb24uX3Byb3h5LCBvZmZzZXQsIGluZGV4KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0ID0gc25hcFRhcmdldFxuICAgICAgfVxuXG4gICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICB0YXJnZXRzLnB1c2goe1xuICAgICAgICB4OiAoaXMubnVtYmVyKHRhcmdldC54KSA/IHRhcmdldC54IDogcmVsYXRpdmVYKSArIG9mZnNldC54LFxuICAgICAgICB5OiAoaXMubnVtYmVyKHRhcmdldC55KSA/IHRhcmdldC55IDogcmVsYXRpdmVZKSArIG9mZnNldC55LFxuXG4gICAgICAgIHJhbmdlOiBpcy5udW1iZXIodGFyZ2V0LnJhbmdlKSA/IHRhcmdldC5yYW5nZSA6IG9wdGlvbnMucmFuZ2UsXG4gICAgICAgIHNvdXJjZTogc25hcFRhcmdldCxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIG9mZnNldCxcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29uc3QgY2xvc2VzdCA9IHtcbiAgICB0YXJnZXQ6IG51bGwsXG4gICAgaW5SYW5nZTogZmFsc2UsXG4gICAgZGlzdGFuY2U6IDAsXG4gICAgcmFuZ2U6IDAsXG4gICAgZGVsdGE6IHsgeDogMCwgeTogMCB9LFxuICB9XG5cbiAgZm9yIChjb25zdCB0YXJnZXQgb2YgdGFyZ2V0cykge1xuICAgIGNvbnN0IHJhbmdlID0gdGFyZ2V0LnJhbmdlXG4gICAgY29uc3QgZHggPSB0YXJnZXQueCAtIHBhZ2UueFxuICAgIGNvbnN0IGR5ID0gdGFyZ2V0LnkgLSBwYWdlLnlcbiAgICBjb25zdCBkaXN0YW5jZSA9IGh5cG90KGR4LCBkeSlcbiAgICBsZXQgaW5SYW5nZSA9IGRpc3RhbmNlIDw9IHJhbmdlXG5cbiAgICAvLyBJbmZpbml0ZSB0YXJnZXRzIGNvdW50IGFzIGJlaW5nIG91dCBvZiByYW5nZVxuICAgIC8vIGNvbXBhcmVkIHRvIG5vbiBpbmZpbml0ZSBvbmVzIHRoYXQgYXJlIGluIHJhbmdlXG4gICAgaWYgKHJhbmdlID09PSBJbmZpbml0eSAmJiBjbG9zZXN0LmluUmFuZ2UgJiYgY2xvc2VzdC5yYW5nZSAhPT0gSW5maW5pdHkpIHtcbiAgICAgIGluUmFuZ2UgPSBmYWxzZVxuICAgIH1cblxuICAgIGlmIChcbiAgICAgICFjbG9zZXN0LnRhcmdldCB8fFxuICAgICAgKGluUmFuZ2VcbiAgICAgICAgPyAvLyBpcyB0aGUgY2xvc2VzdCB0YXJnZXQgaW4gcmFuZ2U/XG4gICAgICAgICAgY2xvc2VzdC5pblJhbmdlICYmIHJhbmdlICE9PSBJbmZpbml0eVxuICAgICAgICAgID8gLy8gdGhlIHBvaW50ZXIgaXMgcmVsYXRpdmVseSBkZWVwZXIgaW4gdGhpcyB0YXJnZXRcbiAgICAgICAgICAgIGRpc3RhbmNlIC8gcmFuZ2UgPCBjbG9zZXN0LmRpc3RhbmNlIC8gY2xvc2VzdC5yYW5nZVxuICAgICAgICAgIDogLy8gdGhpcyB0YXJnZXQgaGFzIEluZmluaXRlIHJhbmdlIGFuZCB0aGUgY2xvc2VzdCBkb2Vzbid0XG4gICAgICAgICAgICAocmFuZ2UgPT09IEluZmluaXR5ICYmIGNsb3Nlc3QucmFuZ2UgIT09IEluZmluaXR5KSB8fFxuICAgICAgICAgICAgLy8gT1IgdGhpcyB0YXJnZXQgaXMgY2xvc2VyIHRoYXQgdGhlIHByZXZpb3VzIGNsb3Nlc3RcbiAgICAgICAgICAgIGRpc3RhbmNlIDwgY2xvc2VzdC5kaXN0YW5jZVxuICAgICAgICA6IC8vIFRoZSBvdGhlciBpcyBub3QgaW4gcmFuZ2UgYW5kIHRoZSBwb2ludGVyIGlzIGNsb3NlciB0byB0aGlzIHRhcmdldFxuICAgICAgICAgICFjbG9zZXN0LmluUmFuZ2UgJiYgZGlzdGFuY2UgPCBjbG9zZXN0LmRpc3RhbmNlKVxuICAgICkge1xuICAgICAgY2xvc2VzdC50YXJnZXQgPSB0YXJnZXRcbiAgICAgIGNsb3Nlc3QuZGlzdGFuY2UgPSBkaXN0YW5jZVxuICAgICAgY2xvc2VzdC5yYW5nZSA9IHJhbmdlXG4gICAgICBjbG9zZXN0LmluUmFuZ2UgPSBpblJhbmdlXG4gICAgICBjbG9zZXN0LmRlbHRhLnggPSBkeFxuICAgICAgY2xvc2VzdC5kZWx0YS55ID0gZHlcbiAgICB9XG4gIH1cblxuICBpZiAoY2xvc2VzdC5pblJhbmdlKSB7XG4gICAgY29vcmRzLnggPSBjbG9zZXN0LnRhcmdldC54XG4gICAgY29vcmRzLnkgPSBjbG9zZXN0LnRhcmdldC55XG4gIH1cblxuICBzdGF0ZS5jbG9zZXN0ID0gY2xvc2VzdFxuICByZXR1cm4gY2xvc2VzdFxufVxuXG5mdW5jdGlvbiBnZXRPcmlnaW4oYXJnOiBQYXJ0aWFsPE1vZGlmaWVyQXJnPFNuYXBTdGF0ZT4+KSB7XG4gIGNvbnN0IHsgZWxlbWVudCB9ID0gYXJnLmludGVyYWN0aW9uXG4gIGNvbnN0IG9wdGlvbnNPcmlnaW4gPSByZWN0VG9YWShyZXNvbHZlUmVjdExpa2UoYXJnLnN0YXRlLm9wdGlvbnMub3JpZ2luIGFzIGFueSwgbnVsbCwgbnVsbCwgW2VsZW1lbnRdKSlcbiAgY29uc3Qgb3JpZ2luID0gb3B0aW9uc09yaWdpbiB8fCBnZXRPcmlnaW5YWShhcmcuaW50ZXJhY3RhYmxlLCBlbGVtZW50LCBhcmcuaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSlcblxuICByZXR1cm4gb3JpZ2luXG59XG5cbmNvbnN0IGRlZmF1bHRzOiBTbmFwT3B0aW9ucyA9IHtcbiAgcmFuZ2U6IEluZmluaXR5LFxuICB0YXJnZXRzOiBudWxsLFxuICBvZmZzZXQ6IG51bGwsXG4gIG9mZnNldFdpdGhPcmlnaW46IHRydWUsXG4gIG9yaWdpbjogbnVsbCxcbiAgcmVsYXRpdmVQb2ludHM6IG51bGwsXG4gIGVuZE9ubHk6IGZhbHNlLFxuICBlbmFibGVkOiBmYWxzZSxcbn1cbmNvbnN0IHNuYXAgPSB7XG4gIHN0YXJ0LFxuICBzZXQsXG4gIGRlZmF1bHRzLFxufVxuXG5leHBvcnQgZGVmYXVsdCBtYWtlTW9kaWZpZXIoc25hcCwgJ3NuYXAnKVxuZXhwb3J0IHsgc25hcCB9XG4iLCAiLy8gVGhpcyBtb2RpZmllciBhbGxvd3Mgc25hcHBpbmcgb2YgdGhlIHNpemUgb2YgdGFyZ2V0cyBkdXJpbmcgcmVzaXplXG4vLyBpbnRlcmFjdGlvbnMuXG5cbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuXG5pbXBvcnQgeyBtYWtlTW9kaWZpZXIgfSBmcm9tICcuLi9iYXNlJ1xuaW1wb3J0IHR5cGUgeyBNb2RpZmllckFyZyB9IGZyb20gJy4uL3R5cGVzJ1xuXG5pbXBvcnQgdHlwZSB7IFNuYXBPcHRpb25zLCBTbmFwU3RhdGUgfSBmcm9tICcuL3BvaW50ZXInXG5pbXBvcnQgeyBzbmFwIH0gZnJvbSAnLi9wb2ludGVyJ1xuXG5leHBvcnQgdHlwZSBTbmFwU2l6ZU9wdGlvbnMgPSBQaWNrPFNuYXBPcHRpb25zLCAndGFyZ2V0cycgfCAnb2Zmc2V0JyB8ICdlbmRPbmx5JyB8ICdyYW5nZScgfCAnZW5hYmxlZCc+XG5cbmZ1bmN0aW9uIHN0YXJ0KGFyZzogTW9kaWZpZXJBcmc8U25hcFN0YXRlPikge1xuICBjb25zdCB7IHN0YXRlLCBlZGdlcyB9ID0gYXJnXG4gIGNvbnN0IHsgb3B0aW9ucyB9ID0gc3RhdGVcblxuICBpZiAoIWVkZ2VzKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGFyZy5zdGF0ZSA9IHtcbiAgICBvcHRpb25zOiB7XG4gICAgICB0YXJnZXRzOiBudWxsLFxuICAgICAgcmVsYXRpdmVQb2ludHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHg6IGVkZ2VzLmxlZnQgPyAwIDogMSxcbiAgICAgICAgICB5OiBlZGdlcy50b3AgPyAwIDogMSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBvZmZzZXQ6IG9wdGlvbnMub2Zmc2V0IHx8ICdzZWxmJyxcbiAgICAgIG9yaWdpbjogeyB4OiAwLCB5OiAwIH0sXG4gICAgICByYW5nZTogb3B0aW9ucy5yYW5nZSxcbiAgICB9LFxuICB9XG5cbiAgc3RhdGUudGFyZ2V0RmllbGRzID0gc3RhdGUudGFyZ2V0RmllbGRzIHx8IFtcbiAgICBbJ3dpZHRoJywgJ2hlaWdodCddLFxuICAgIFsneCcsICd5J10sXG4gIF1cblxuICBzbmFwLnN0YXJ0KGFyZylcbiAgc3RhdGUub2Zmc2V0cyA9IGFyZy5zdGF0ZS5vZmZzZXRzXG5cbiAgYXJnLnN0YXRlID0gc3RhdGVcbn1cblxuZnVuY3Rpb24gc2V0KGFyZykge1xuICBjb25zdCB7IGludGVyYWN0aW9uLCBzdGF0ZSwgY29vcmRzIH0gPSBhcmdcbiAgY29uc3QgeyBvcHRpb25zLCBvZmZzZXRzIH0gPSBzdGF0ZVxuICBjb25zdCByZWxhdGl2ZSA9IHtcbiAgICB4OiBjb29yZHMueCAtIG9mZnNldHNbMF0ueCxcbiAgICB5OiBjb29yZHMueSAtIG9mZnNldHNbMF0ueSxcbiAgfVxuXG4gIHN0YXRlLm9wdGlvbnMgPSBleHRlbmQoe30sIG9wdGlvbnMpXG4gIHN0YXRlLm9wdGlvbnMudGFyZ2V0cyA9IFtdXG5cbiAgZm9yIChjb25zdCBzbmFwVGFyZ2V0IG9mIG9wdGlvbnMudGFyZ2V0cyB8fCBbXSkge1xuICAgIGxldCB0YXJnZXRcblxuICAgIGlmIChpcy5mdW5jKHNuYXBUYXJnZXQpKSB7XG4gICAgICB0YXJnZXQgPSBzbmFwVGFyZ2V0KHJlbGF0aXZlLngsIHJlbGF0aXZlLnksIGludGVyYWN0aW9uKVxuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXQgPSBzbmFwVGFyZ2V0XG4gICAgfVxuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBbeEZpZWxkLCB5RmllbGRdIG9mIHN0YXRlLnRhcmdldEZpZWxkcykge1xuICAgICAgaWYgKHhGaWVsZCBpbiB0YXJnZXQgfHwgeUZpZWxkIGluIHRhcmdldCkge1xuICAgICAgICB0YXJnZXQueCA9IHRhcmdldFt4RmllbGRdXG4gICAgICAgIHRhcmdldC55ID0gdGFyZ2V0W3lGaWVsZF1cblxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRlLm9wdGlvbnMudGFyZ2V0cy5wdXNoKHRhcmdldClcbiAgfVxuXG4gIGNvbnN0IHJldHVyblZhbHVlID0gc25hcC5zZXQoYXJnKVxuXG4gIHN0YXRlLm9wdGlvbnMgPSBvcHRpb25zXG5cbiAgcmV0dXJuIHJldHVyblZhbHVlXG59XG5cbmNvbnN0IGRlZmF1bHRzOiBTbmFwU2l6ZU9wdGlvbnMgPSB7XG4gIHJhbmdlOiBJbmZpbml0eSxcbiAgdGFyZ2V0czogbnVsbCxcbiAgb2Zmc2V0OiBudWxsLFxuICBlbmRPbmx5OiBmYWxzZSxcbiAgZW5hYmxlZDogZmFsc2UsXG59XG5cbmNvbnN0IHNuYXBTaXplID0ge1xuICBzdGFydCxcbiAgc2V0LFxuICBkZWZhdWx0cyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFrZU1vZGlmaWVyKHNuYXBTaXplLCAnc25hcFNpemUnKVxuZXhwb3J0IHsgc25hcFNpemUgfVxuIiwgIi8qKlxuICogQG1vZHVsZSBtb2RpZmllcnMvc25hcEVkZ2VzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIG1vZGlmaWVyIGFsbG93cyBzbmFwcGluZyBvZiB0aGUgZWRnZXMgb2YgdGFyZ2V0cyBkdXJpbmcgcmVzaXplXG4gKiBpbnRlcmFjdGlvbnMuXG4gKlxuICogYGBganNcbiAqIGludGVyYWN0KHRhcmdldCkucmVzaXphYmxlKHtcbiAqICAgc25hcEVkZ2VzOiB7XG4gKiAgICAgdGFyZ2V0czogW2ludGVyYWN0LnNuYXBwZXJzLmdyaWQoeyB4OiAxMDAsIHk6IDUwIH0pXSxcbiAqICAgfSxcbiAqIH0pXG4gKlxuICogaW50ZXJhY3QodGFyZ2V0KS5yZXNpemFibGUoe1xuICogICBzbmFwRWRnZXM6IHtcbiAqICAgICB0YXJnZXRzOiBbXG4gKiAgICAgICBpbnRlcmFjdC5zbmFwcGVycy5ncmlkKHtcbiAqICAgICAgICB0b3A6IDUwLFxuICogICAgICAgIGxlZnQ6IDUwLFxuICogICAgICAgIGJvdHRvbTogMTAwLFxuICogICAgICAgIHJpZ2h0OiAxMDAsXG4gKiAgICAgICB9KSxcbiAqICAgICBdLFxuICogICB9LFxuICogfSlcbiAqIGBgYFxuICovXG5cbmltcG9ydCBjbG9uZSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9jbG9uZSdcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuXG5pbXBvcnQgeyBtYWtlTW9kaWZpZXIgfSBmcm9tICcuLi9iYXNlJ1xuaW1wb3J0IHR5cGUgeyBNb2RpZmllckFyZywgTW9kaWZpZXJNb2R1bGUgfSBmcm9tICcuLi90eXBlcydcblxuaW1wb3J0IHR5cGUgeyBTbmFwT3B0aW9ucywgU25hcFN0YXRlIH0gZnJvbSAnLi9wb2ludGVyJ1xuaW1wb3J0IHsgc25hcFNpemUgfSBmcm9tICcuL3NpemUnXG5cbmV4cG9ydCB0eXBlIFNuYXBFZGdlc09wdGlvbnMgPSBQaWNrPFNuYXBPcHRpb25zLCAndGFyZ2V0cycgfCAncmFuZ2UnIHwgJ29mZnNldCcgfCAnZW5kT25seScgfCAnZW5hYmxlZCc+XG5cbmZ1bmN0aW9uIHN0YXJ0KGFyZzogTW9kaWZpZXJBcmc8U25hcFN0YXRlPikge1xuICBjb25zdCB7IGVkZ2VzIH0gPSBhcmdcblxuICBpZiAoIWVkZ2VzKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGFyZy5zdGF0ZS50YXJnZXRGaWVsZHMgPSBhcmcuc3RhdGUudGFyZ2V0RmllbGRzIHx8IFtcbiAgICBbZWRnZXMubGVmdCA/ICdsZWZ0JyA6ICdyaWdodCcsIGVkZ2VzLnRvcCA/ICd0b3AnIDogJ2JvdHRvbSddLFxuICBdXG5cbiAgcmV0dXJuIHNuYXBTaXplLnN0YXJ0KGFyZylcbn1cblxuY29uc3Qgc25hcEVkZ2VzOiBNb2RpZmllck1vZHVsZTxTbmFwRWRnZXNPcHRpb25zLCBTbmFwU3RhdGUsIFJldHVyblR5cGU8dHlwZW9mIHNuYXBTaXplLnNldD4+ID0ge1xuICBzdGFydCxcbiAgc2V0OiBzbmFwU2l6ZS5zZXQsXG4gIGRlZmF1bHRzOiBleHRlbmQoY2xvbmUoc25hcFNpemUuZGVmYXVsdHMpLCB7XG4gICAgdGFyZ2V0czogdW5kZWZpbmVkLFxuICAgIHJhbmdlOiB1bmRlZmluZWQsXG4gICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgfSBhcyBjb25zdCksXG59XG5cbmV4cG9ydCBkZWZhdWx0IG1ha2VNb2RpZmllcihzbmFwRWRnZXMsICdzbmFwRWRnZXMnKVxuZXhwb3J0IHsgc25hcEVkZ2VzIH1cbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBuL25vLWV4dHJhbmVvdXMtaW1wb3J0LCBpbXBvcnQvbm8tdW5yZXNvbHZlZCAqL1xuaW1wb3J0IGFzcGVjdFJhdGlvIGZyb20gJy4vYXNwZWN0UmF0aW8nXG5pbXBvcnQgYXZvaWQgZnJvbSAnLi9hdm9pZC9hdm9pZCdcbmltcG9ydCByZXN0cmljdEVkZ2VzIGZyb20gJy4vcmVzdHJpY3QvZWRnZXMnXG5pbXBvcnQgcmVzdHJpY3QgZnJvbSAnLi9yZXN0cmljdC9wb2ludGVyJ1xuaW1wb3J0IHJlc3RyaWN0UmVjdCBmcm9tICcuL3Jlc3RyaWN0L3JlY3QnXG5pbXBvcnQgcmVzdHJpY3RTaXplIGZyb20gJy4vcmVzdHJpY3Qvc2l6ZSdcbmltcG9ydCBydWJiZXJiYW5kIGZyb20gJy4vcnViYmVyYmFuZC9ydWJiZXJiYW5kJ1xuaW1wb3J0IHNuYXBFZGdlcyBmcm9tICcuL3NuYXAvZWRnZXMnXG5pbXBvcnQgc25hcCBmcm9tICcuL3NuYXAvcG9pbnRlcidcbmltcG9ydCBzbmFwU2l6ZSBmcm9tICcuL3NuYXAvc2l6ZSdcbmltcG9ydCBzcHJpbmcgZnJvbSAnLi9zcHJpbmcvc3ByaW5nJ1xuaW1wb3J0IHRyYW5zZm9ybSBmcm9tICcuL3RyYW5zZm9ybS90cmFuc2Zvcm0nXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYXNwZWN0UmF0aW8sXG4gIHJlc3RyaWN0RWRnZXMsXG4gIHJlc3RyaWN0LFxuICByZXN0cmljdFJlY3QsXG4gIHJlc3RyaWN0U2l6ZSxcbiAgc25hcEVkZ2VzLFxuICBzbmFwLFxuICBzbmFwU2l6ZSxcblxuICBzcHJpbmcsXG4gIGF2b2lkLFxuICB0cmFuc2Zvcm0sXG4gIHJ1YmJlcmJhbmQsXG59XG4iLCAiaW1wb3J0IHR5cGUgeyBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHNuYXBwZXJzIGZyb20gJ0BpbnRlcmFjdGpzL3NuYXBwZXJzL3BsdWdpbidcblxuLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgLS0gZm9yIHR5cGVzY3JpcHQgbW9kdWxlIGF1Z21lbnRhdGlvbnMgKi9cbmltcG9ydCAnLi9hbGwnXG5pbXBvcnQgJy4vYmFzZSdcblxuaW1wb3J0IGFsbCBmcm9tICcuL2FsbCdcbmltcG9ydCBiYXNlIGZyb20gJy4vYmFzZSdcbi8qIGVzbGludC1lbmFibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgKi9cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RTdGF0aWMnIHtcbiAgZXhwb3J0IGludGVyZmFjZSBJbnRlcmFjdFN0YXRpYyB7XG4gICAgbW9kaWZpZXJzOiB0eXBlb2YgYWxsXG4gIH1cbn1cblxuY29uc3QgbW9kaWZpZXJzOiBQbHVnaW4gPSB7XG4gIGlkOiAnbW9kaWZpZXJzJyxcbiAgaW5zdGFsbChzY29wZSkge1xuICAgIGNvbnN0IHsgaW50ZXJhY3RTdGF0aWM6IGludGVyYWN0IH0gPSBzY29wZVxuXG4gICAgc2NvcGUudXNlUGx1Z2luKGJhc2UpXG4gICAgc2NvcGUudXNlUGx1Z2luKHNuYXBwZXJzKVxuXG4gICAgaW50ZXJhY3QubW9kaWZpZXJzID0gYWxsXG5cbiAgICAvLyBmb3IgYmFja3dyYWRzIGNvbXBhdGliaWxpdHlcbiAgICBmb3IgKGNvbnN0IHR5cGUgaW4gYWxsKSB7XG4gICAgICBjb25zdCB7IF9kZWZhdWx0cywgX21ldGhvZHMgfSA9IGFsbFt0eXBlIGFzIGtleW9mIHR5cGVvZiBhbGxdXG5cbiAgICAgIDsoX2RlZmF1bHRzIGFzIGFueSkuX21ldGhvZHMgPSBfbWV0aG9kc1xuICAgICAgOyhzY29wZS5kZWZhdWx0cy5wZXJBY3Rpb24gYXMgYW55KVt0eXBlXSA9IF9kZWZhdWx0c1xuICAgIH1cbiAgfSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgbW9kaWZpZXJzXG4iLCAiaW1wb3J0IHsgQmFzZUV2ZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9CYXNlRXZlbnQnXG5pbXBvcnQgdHlwZSBJbnRlcmFjdGlvbiBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBQb2ludGVyRXZlbnRUeXBlLCBQb2ludGVyVHlwZSwgUG9pbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0ICogYXMgcG9pbnRlclV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3BvaW50ZXJVdGlscydcblxuZXhwb3J0IGNsYXNzIFBvaW50ZXJFdmVudDxUIGV4dGVuZHMgc3RyaW5nID0gYW55PiBleHRlbmRzIEJhc2VFdmVudDxuZXZlcj4ge1xuICBkZWNsYXJlIHR5cGU6IFRcbiAgZGVjbGFyZSBvcmlnaW5hbEV2ZW50OiBQb2ludGVyRXZlbnRUeXBlXG4gIGRlY2xhcmUgcG9pbnRlcklkOiBudW1iZXJcbiAgZGVjbGFyZSBwb2ludGVyVHlwZTogc3RyaW5nXG4gIGRlY2xhcmUgZG91YmxlOiBib29sZWFuXG4gIGRlY2xhcmUgcGFnZVg6IG51bWJlclxuICBkZWNsYXJlIHBhZ2VZOiBudW1iZXJcbiAgZGVjbGFyZSBjbGllbnRYOiBudW1iZXJcbiAgZGVjbGFyZSBjbGllbnRZOiBudW1iZXJcbiAgZGVjbGFyZSBkdDogbnVtYmVyXG4gIGRlY2xhcmUgZXZlbnRhYmxlOiBhbnk7XG4gIFtrZXk6IHN0cmluZ106IGFueVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHR5cGU6IFQsXG4gICAgcG9pbnRlcjogUG9pbnRlclR5cGUgfCBQb2ludGVyRXZlbnQ8YW55PixcbiAgICBldmVudDogUG9pbnRlckV2ZW50VHlwZSxcbiAgICBldmVudFRhcmdldDogTm9kZSxcbiAgICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248bmV2ZXI+LFxuICAgIHRpbWVTdGFtcDogbnVtYmVyLFxuICApIHtcbiAgICBzdXBlcihpbnRlcmFjdGlvbilcbiAgICBwb2ludGVyVXRpbHMucG9pbnRlckV4dGVuZCh0aGlzLCBldmVudClcblxuICAgIGlmIChldmVudCAhPT0gcG9pbnRlcikge1xuICAgICAgcG9pbnRlclV0aWxzLnBvaW50ZXJFeHRlbmQodGhpcywgcG9pbnRlcilcbiAgICB9XG5cbiAgICB0aGlzLnRpbWVTdGFtcCA9IHRpbWVTdGFtcFxuICAgIHRoaXMub3JpZ2luYWxFdmVudCA9IGV2ZW50XG4gICAgdGhpcy50eXBlID0gdHlwZVxuICAgIHRoaXMucG9pbnRlcklkID0gcG9pbnRlclV0aWxzLmdldFBvaW50ZXJJZChwb2ludGVyKVxuICAgIHRoaXMucG9pbnRlclR5cGUgPSBwb2ludGVyVXRpbHMuZ2V0UG9pbnRlclR5cGUocG9pbnRlcilcbiAgICB0aGlzLnRhcmdldCA9IGV2ZW50VGFyZ2V0XG4gICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbFxuXG4gICAgaWYgKHR5cGUgPT09ICd0YXAnKSB7XG4gICAgICBjb25zdCBwb2ludGVySW5kZXggPSBpbnRlcmFjdGlvbi5nZXRQb2ludGVySW5kZXgocG9pbnRlcilcbiAgICAgIHRoaXMuZHQgPSB0aGlzLnRpbWVTdGFtcCAtIGludGVyYWN0aW9uLnBvaW50ZXJzW3BvaW50ZXJJbmRleF0uZG93blRpbWVcblxuICAgICAgY29uc3QgaW50ZXJ2YWwgPSB0aGlzLnRpbWVTdGFtcCAtIGludGVyYWN0aW9uLnRhcFRpbWVcblxuICAgICAgdGhpcy5kb3VibGUgPVxuICAgICAgICAhIWludGVyYWN0aW9uLnByZXZUYXAgJiZcbiAgICAgICAgaW50ZXJhY3Rpb24ucHJldlRhcC50eXBlICE9PSAnZG91YmxldGFwJyAmJlxuICAgICAgICBpbnRlcmFjdGlvbi5wcmV2VGFwLnRhcmdldCA9PT0gdGhpcy50YXJnZXQgJiZcbiAgICAgICAgaW50ZXJ2YWwgPCA1MDBcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdkb3VibGV0YXAnKSB7XG4gICAgICB0aGlzLmR0ID0gKHBvaW50ZXIgYXMgUG9pbnRlckV2ZW50PCd0YXAnPikudGltZVN0YW1wIC0gaW50ZXJhY3Rpb24udGFwVGltZVxuICAgICAgdGhpcy5kb3VibGUgPSB0cnVlXG4gICAgfVxuICB9XG5cbiAgX3N1YnRyYWN0T3JpZ2luKHsgeDogb3JpZ2luWCwgeTogb3JpZ2luWSB9OiBQb2ludCkge1xuICAgIHRoaXMucGFnZVggLT0gb3JpZ2luWFxuICAgIHRoaXMucGFnZVkgLT0gb3JpZ2luWVxuICAgIHRoaXMuY2xpZW50WCAtPSBvcmlnaW5YXG4gICAgdGhpcy5jbGllbnRZIC09IG9yaWdpbllcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBfYWRkT3JpZ2luKHsgeDogb3JpZ2luWCwgeTogb3JpZ2luWSB9OiBQb2ludCkge1xuICAgIHRoaXMucGFnZVggKz0gb3JpZ2luWFxuICAgIHRoaXMucGFnZVkgKz0gb3JpZ2luWVxuICAgIHRoaXMuY2xpZW50WCArPSBvcmlnaW5YXG4gICAgdGhpcy5jbGllbnRZICs9IG9yaWdpbllcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogUHJldmVudCB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgdGhlIG9yaWdpbmFsIEV2ZW50XG4gICAqL1xuICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICB0aGlzLm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKVxuICB9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBFdmVudGFibGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0V2ZW50YWJsZSdcbmltcG9ydCB0eXBlIHsgSW50ZXJhY3Rpb24gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBQZXJBY3Rpb25EZWZhdWx0cyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucydcbmltcG9ydCB0eXBlIHsgU2NvcGUsIFNpZ25hbEFyZ3MsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IFBvaW50LCBQb2ludGVyVHlwZSwgUG9pbnRlckV2ZW50VHlwZSwgRWxlbWVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgKiBhcyBkb21VdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscydcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0IGdldE9yaWdpblhZIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2dldE9yaWdpblhZJ1xuXG5pbXBvcnQgeyBQb2ludGVyRXZlbnQgfSBmcm9tICcuL1BvaW50ZXJFdmVudCdcblxuZXhwb3J0IHR5cGUgRXZlbnRUYXJnZXRMaXN0ID0gQXJyYXk8e1xuICBub2RlOiBOb2RlXG4gIGV2ZW50YWJsZTogRXZlbnRhYmxlXG4gIHByb3BzOiB7IFtrZXk6IHN0cmluZ106IGFueSB9XG59PlxuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50ZXJFdmVudE9wdGlvbnMgZXh0ZW5kcyBQZXJBY3Rpb25EZWZhdWx0cyB7XG4gIGVuYWJsZWQ/OiB1bmRlZmluZWQgLy8gbm90IHVzZWRcbiAgaG9sZER1cmF0aW9uPzogbnVtYmVyXG4gIGlnbm9yZUZyb20/OiBhbnlcbiAgYWxsb3dGcm9tPzogYW55XG4gIG9yaWdpbj86IFBvaW50IHwgc3RyaW5nIHwgRWxlbWVudFxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9zY29wZScge1xuICBpbnRlcmZhY2UgU2NvcGUge1xuICAgIHBvaW50ZXJFdmVudHM6IHR5cGVvZiBwb2ludGVyRXZlbnRzXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0aW9uIHtcbiAgICBwcmV2VGFwPzogUG9pbnRlckV2ZW50PHN0cmluZz5cbiAgICB0YXBUaW1lPzogbnVtYmVyXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvUG9pbnRlckluZm8nIHtcbiAgaW50ZXJmYWNlIFBvaW50ZXJJbmZvIHtcbiAgICBob2xkPzoge1xuICAgICAgZHVyYXRpb246IG51bWJlclxuICAgICAgdGltZW91dDogYW55XG4gICAgfVxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnIHtcbiAgaW50ZXJmYWNlIEFjdGlvbkRlZmF1bHRzIHtcbiAgICBwb2ludGVyRXZlbnRzOiBPcHRpb25zXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnIHtcbiAgaW50ZXJmYWNlIFNpZ25hbEFyZ3Mge1xuICAgICdwb2ludGVyRXZlbnRzOm5ldyc6IHsgcG9pbnRlckV2ZW50OiBQb2ludGVyRXZlbnQ8YW55PiB9XG4gICAgJ3BvaW50ZXJFdmVudHM6ZmlyZWQnOiB7XG4gICAgICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248bnVsbD5cbiAgICAgIHBvaW50ZXI6IFBvaW50ZXJUeXBlIHwgUG9pbnRlckV2ZW50PGFueT5cbiAgICAgIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlIHwgUG9pbnRlckV2ZW50PGFueT5cbiAgICAgIGV2ZW50VGFyZ2V0OiBOb2RlXG4gICAgICBwb2ludGVyRXZlbnQ6IFBvaW50ZXJFdmVudDxhbnk+XG4gICAgICB0YXJnZXRzPzogRXZlbnRUYXJnZXRMaXN0XG4gICAgICB0eXBlOiBzdHJpbmdcbiAgICB9XG4gICAgJ3BvaW50ZXJFdmVudHM6Y29sbGVjdC10YXJnZXRzJzoge1xuICAgICAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPGFueT5cbiAgICAgIHBvaW50ZXI6IFBvaW50ZXJUeXBlIHwgUG9pbnRlckV2ZW50PGFueT5cbiAgICAgIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlIHwgUG9pbnRlckV2ZW50PGFueT5cbiAgICAgIGV2ZW50VGFyZ2V0OiBOb2RlXG4gICAgICB0YXJnZXRzPzogRXZlbnRUYXJnZXRMaXN0XG4gICAgICB0eXBlOiBzdHJpbmdcbiAgICAgIHBhdGg6IE5vZGVbXVxuICAgICAgbm9kZTogbnVsbFxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBkZWZhdWx0czogUG9pbnRlckV2ZW50T3B0aW9ucyA9IHtcbiAgaG9sZER1cmF0aW9uOiA2MDAsXG4gIGlnbm9yZUZyb206IG51bGwsXG4gIGFsbG93RnJvbTogbnVsbCxcbiAgb3JpZ2luOiB7IHg6IDAsIHk6IDAgfSxcbn1cblxuY29uc3QgcG9pbnRlckV2ZW50czogUGx1Z2luID0ge1xuICBpZDogJ3BvaW50ZXItZXZlbnRzL2Jhc2UnLFxuICBiZWZvcmU6IFsnaW5lcnRpYScsICdtb2RpZmllcnMnLCAnYXV0by1zdGFydCcsICdhY3Rpb25zJ10sXG4gIGluc3RhbGwsXG4gIGxpc3RlbmVyczoge1xuICAgICdpbnRlcmFjdGlvbnM6bmV3JzogYWRkSW50ZXJhY3Rpb25Qcm9wcyxcbiAgICAnaW50ZXJhY3Rpb25zOnVwZGF0ZS1wb2ludGVyJzogYWRkSG9sZEluZm8sXG4gICAgJ2ludGVyYWN0aW9uczptb3ZlJzogbW92ZUFuZENsZWFySG9sZCxcbiAgICAnaW50ZXJhY3Rpb25zOmRvd24nOiAoYXJnLCBzY29wZSkgPT4ge1xuICAgICAgZG93bkFuZFN0YXJ0SG9sZChhcmcsIHNjb3BlKVxuICAgICAgZmlyZShhcmcsIHNjb3BlKVxuICAgIH0sXG4gICAgJ2ludGVyYWN0aW9uczp1cCc6IChhcmcsIHNjb3BlKSA9PiB7XG4gICAgICBjbGVhckhvbGQoYXJnKVxuICAgICAgZmlyZShhcmcsIHNjb3BlKVxuICAgICAgdGFwQWZ0ZXJVcChhcmcsIHNjb3BlKVxuICAgIH0sXG4gICAgJ2ludGVyYWN0aW9uczpjYW5jZWwnOiAoYXJnLCBzY29wZSkgPT4ge1xuICAgICAgY2xlYXJIb2xkKGFyZylcbiAgICAgIGZpcmUoYXJnLCBzY29wZSlcbiAgICB9LFxuICB9LFxuICBQb2ludGVyRXZlbnQsXG4gIGZpcmUsXG4gIGNvbGxlY3RFdmVudFRhcmdldHMsXG4gIGRlZmF1bHRzLFxuICB0eXBlczoge1xuICAgIGRvd246IHRydWUsXG4gICAgbW92ZTogdHJ1ZSxcbiAgICB1cDogdHJ1ZSxcbiAgICBjYW5jZWw6IHRydWUsXG4gICAgdGFwOiB0cnVlLFxuICAgIGRvdWJsZXRhcDogdHJ1ZSxcbiAgICBob2xkOiB0cnVlLFxuICB9IGFzIHsgW3R5cGU6IHN0cmluZ106IHRydWUgfSxcbn1cblxuZnVuY3Rpb24gZmlyZTxUIGV4dGVuZHMgc3RyaW5nPihcbiAgYXJnOiB7XG4gICAgcG9pbnRlcjogUG9pbnRlclR5cGUgfCBQb2ludGVyRXZlbnQ8YW55PlxuICAgIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlIHwgUG9pbnRlckV2ZW50PGFueT5cbiAgICBldmVudFRhcmdldDogTm9kZVxuICAgIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxuZXZlcj5cbiAgICB0eXBlOiBUXG4gICAgdGFyZ2V0cz86IEV2ZW50VGFyZ2V0TGlzdFxuICB9LFxuICBzY29wZTogU2NvcGUsXG4pIHtcbiAgY29uc3QgeyBpbnRlcmFjdGlvbiwgcG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0LCB0eXBlLCB0YXJnZXRzID0gY29sbGVjdEV2ZW50VGFyZ2V0cyhhcmcsIHNjb3BlKSB9ID0gYXJnXG5cbiAgY29uc3QgcG9pbnRlckV2ZW50ID0gbmV3IFBvaW50ZXJFdmVudCh0eXBlLCBwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQsIGludGVyYWN0aW9uLCBzY29wZS5ub3coKSlcblxuICBzY29wZS5maXJlKCdwb2ludGVyRXZlbnRzOm5ldycsIHsgcG9pbnRlckV2ZW50IH0pXG5cbiAgY29uc3Qgc2lnbmFsQXJnID0ge1xuICAgIGludGVyYWN0aW9uLFxuICAgIHBvaW50ZXIsXG4gICAgZXZlbnQsXG4gICAgZXZlbnRUYXJnZXQsXG4gICAgdGFyZ2V0cyxcbiAgICB0eXBlLFxuICAgIHBvaW50ZXJFdmVudCxcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGFyZ2V0cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHRhcmdldCA9IHRhcmdldHNbaV1cblxuICAgIGZvciAoY29uc3QgcHJvcCBpbiB0YXJnZXQucHJvcHMgfHwge30pIHtcbiAgICAgIDsocG9pbnRlckV2ZW50IGFzIGFueSlbcHJvcF0gPSB0YXJnZXQucHJvcHNbcHJvcF1cbiAgICB9XG5cbiAgICBjb25zdCBvcmlnaW4gPSBnZXRPcmlnaW5YWSh0YXJnZXQuZXZlbnRhYmxlLCB0YXJnZXQubm9kZSlcblxuICAgIHBvaW50ZXJFdmVudC5fc3VidHJhY3RPcmlnaW4ob3JpZ2luKVxuICAgIHBvaW50ZXJFdmVudC5ldmVudGFibGUgPSB0YXJnZXQuZXZlbnRhYmxlXG4gICAgcG9pbnRlckV2ZW50LmN1cnJlbnRUYXJnZXQgPSB0YXJnZXQubm9kZVxuXG4gICAgdGFyZ2V0LmV2ZW50YWJsZS5maXJlKHBvaW50ZXJFdmVudClcblxuICAgIHBvaW50ZXJFdmVudC5fYWRkT3JpZ2luKG9yaWdpbilcblxuICAgIGlmIChcbiAgICAgIHBvaW50ZXJFdmVudC5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgfHxcbiAgICAgIChwb2ludGVyRXZlbnQucHJvcGFnYXRpb25TdG9wcGVkICYmXG4gICAgICAgIGkgKyAxIDwgdGFyZ2V0cy5sZW5ndGggJiZcbiAgICAgICAgdGFyZ2V0c1tpICsgMV0ubm9kZSAhPT0gcG9pbnRlckV2ZW50LmN1cnJlbnRUYXJnZXQpXG4gICAgKSB7XG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIHNjb3BlLmZpcmUoJ3BvaW50ZXJFdmVudHM6ZmlyZWQnLCBzaWduYWxBcmcpXG5cbiAgaWYgKHR5cGUgPT09ICd0YXAnKSB7XG4gICAgLy8gaWYgcG9pbnRlckV2ZW50IHNob3VsZCBtYWtlIGEgZG91YmxlIHRhcCwgY3JlYXRlIGFuZCBmaXJlIGEgZG91YmxldGFwXG4gICAgLy8gUG9pbnRlckV2ZW50IGFuZCB1c2UgdGhhdCBhcyB0aGUgcHJldlRhcFxuICAgIGNvbnN0IHByZXZUYXAgPSBwb2ludGVyRXZlbnQuZG91YmxlXG4gICAgICA/IGZpcmUoXG4gICAgICAgICAge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICAgICAgICBwb2ludGVyLFxuICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICBldmVudFRhcmdldCxcbiAgICAgICAgICAgIHR5cGU6ICdkb3VibGV0YXAnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgIClcbiAgICAgIDogcG9pbnRlckV2ZW50XG5cbiAgICBpbnRlcmFjdGlvbi5wcmV2VGFwID0gcHJldlRhcFxuICAgIGludGVyYWN0aW9uLnRhcFRpbWUgPSBwcmV2VGFwLnRpbWVTdGFtcFxuICB9XG5cbiAgcmV0dXJuIHBvaW50ZXJFdmVudFxufVxuXG5mdW5jdGlvbiBjb2xsZWN0RXZlbnRUYXJnZXRzPFQgZXh0ZW5kcyBzdHJpbmc+KFxuICB7XG4gICAgaW50ZXJhY3Rpb24sXG4gICAgcG9pbnRlcixcbiAgICBldmVudCxcbiAgICBldmVudFRhcmdldCxcbiAgICB0eXBlLFxuICB9OiB7XG4gICAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPGFueT5cbiAgICBwb2ludGVyOiBQb2ludGVyVHlwZSB8IFBvaW50ZXJFdmVudDxhbnk+XG4gICAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUgfCBQb2ludGVyRXZlbnQ8YW55PlxuICAgIGV2ZW50VGFyZ2V0OiBOb2RlXG4gICAgdHlwZTogVFxuICB9LFxuICBzY29wZTogU2NvcGUsXG4pIHtcbiAgY29uc3QgcG9pbnRlckluZGV4ID0gaW50ZXJhY3Rpb24uZ2V0UG9pbnRlckluZGV4KHBvaW50ZXIpXG4gIGNvbnN0IHBvaW50ZXJJbmZvID0gaW50ZXJhY3Rpb24ucG9pbnRlcnNbcG9pbnRlckluZGV4XVxuXG4gIC8vIGRvIG5vdCBmaXJlIGEgdGFwIGV2ZW50IGlmIHRoZSBwb2ludGVyIHdhcyBtb3ZlZCBiZWZvcmUgYmVpbmcgbGlmdGVkXG4gIGlmIChcbiAgICB0eXBlID09PSAndGFwJyAmJlxuICAgIChpbnRlcmFjdGlvbi5wb2ludGVyV2FzTW92ZWQgfHxcbiAgICAgIC8vIG9yIGlmIHRoZSBwb2ludGVydXAgdGFyZ2V0IGlzIGRpZmZlcmVudCB0byB0aGUgcG9pbnRlcmRvd24gdGFyZ2V0XG4gICAgICAhKHBvaW50ZXJJbmZvICYmIHBvaW50ZXJJbmZvLmRvd25UYXJnZXQgPT09IGV2ZW50VGFyZ2V0KSlcbiAgKSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICBjb25zdCBwYXRoID0gZG9tVXRpbHMuZ2V0UGF0aChldmVudFRhcmdldCBhcyBFbGVtZW50IHwgRG9jdW1lbnQpXG4gIGNvbnN0IHNpZ25hbEFyZyA9IHtcbiAgICBpbnRlcmFjdGlvbixcbiAgICBwb2ludGVyLFxuICAgIGV2ZW50LFxuICAgIGV2ZW50VGFyZ2V0LFxuICAgIHR5cGUsXG4gICAgcGF0aCxcbiAgICB0YXJnZXRzOiBbXSBhcyBFdmVudFRhcmdldExpc3QsXG4gICAgbm9kZTogbnVsbCxcbiAgfVxuXG4gIGZvciAoY29uc3Qgbm9kZSBvZiBwYXRoKSB7XG4gICAgc2lnbmFsQXJnLm5vZGUgPSBub2RlXG5cbiAgICBzY29wZS5maXJlKCdwb2ludGVyRXZlbnRzOmNvbGxlY3QtdGFyZ2V0cycsIHNpZ25hbEFyZylcbiAgfVxuXG4gIGlmICh0eXBlID09PSAnaG9sZCcpIHtcbiAgICBzaWduYWxBcmcudGFyZ2V0cyA9IHNpZ25hbEFyZy50YXJnZXRzLmZpbHRlcihcbiAgICAgICh0YXJnZXQpID0+XG4gICAgICAgIHRhcmdldC5ldmVudGFibGUub3B0aW9ucy5ob2xkRHVyYXRpb24gPT09IGludGVyYWN0aW9uLnBvaW50ZXJzW3BvaW50ZXJJbmRleF0/LmhvbGQ/LmR1cmF0aW9uLFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBzaWduYWxBcmcudGFyZ2V0c1xufVxuXG5mdW5jdGlvbiBhZGRJbnRlcmFjdGlvblByb3BzKHsgaW50ZXJhY3Rpb24gfSkge1xuICBpbnRlcmFjdGlvbi5wcmV2VGFwID0gbnVsbCAvLyB0aGUgbW9zdCByZWNlbnQgdGFwIGV2ZW50IG9uIHRoaXMgaW50ZXJhY3Rpb25cbiAgaW50ZXJhY3Rpb24udGFwVGltZSA9IDAgLy8gdGltZSBvZiB0aGUgbW9zdCByZWNlbnQgdGFwIGV2ZW50XG59XG5cbmZ1bmN0aW9uIGFkZEhvbGRJbmZvKHsgZG93biwgcG9pbnRlckluZm8gfTogU2lnbmFsQXJnc1snaW50ZXJhY3Rpb25zOnVwZGF0ZS1wb2ludGVyJ10pIHtcbiAgaWYgKCFkb3duICYmIHBvaW50ZXJJbmZvLmhvbGQpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHBvaW50ZXJJbmZvLmhvbGQgPSB7IGR1cmF0aW9uOiBJbmZpbml0eSwgdGltZW91dDogbnVsbCB9XG59XG5cbmZ1bmN0aW9uIGNsZWFySG9sZCh7IGludGVyYWN0aW9uLCBwb2ludGVySW5kZXggfSkge1xuICBjb25zdCBob2xkID0gaW50ZXJhY3Rpb24ucG9pbnRlcnNbcG9pbnRlckluZGV4XS5ob2xkXG5cbiAgaWYgKGhvbGQgJiYgaG9sZC50aW1lb3V0KSB7XG4gICAgY2xlYXJUaW1lb3V0KGhvbGQudGltZW91dClcbiAgICBob2xkLnRpbWVvdXQgPSBudWxsXG4gIH1cbn1cblxuZnVuY3Rpb24gbW92ZUFuZENsZWFySG9sZChhcmc6IFNpZ25hbEFyZ3NbJ2ludGVyYWN0aW9uczptb3ZlJ10sIHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IGludGVyYWN0aW9uLCBwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQsIGR1cGxpY2F0ZSB9ID0gYXJnXG5cbiAgaWYgKCFkdXBsaWNhdGUgJiYgKCFpbnRlcmFjdGlvbi5wb2ludGVySXNEb3duIHx8IGludGVyYWN0aW9uLnBvaW50ZXJXYXNNb3ZlZCkpIHtcbiAgICBpZiAoaW50ZXJhY3Rpb24ucG9pbnRlcklzRG93bikge1xuICAgICAgY2xlYXJIb2xkKGFyZylcbiAgICB9XG5cbiAgICBmaXJlKFxuICAgICAge1xuICAgICAgICBpbnRlcmFjdGlvbixcbiAgICAgICAgcG9pbnRlcixcbiAgICAgICAgZXZlbnQsXG4gICAgICAgIGV2ZW50VGFyZ2V0OiBldmVudFRhcmdldCBhcyBFbGVtZW50LFxuICAgICAgICB0eXBlOiAnbW92ZScsXG4gICAgICB9LFxuICAgICAgc2NvcGUsXG4gICAgKVxuICB9XG59XG5cbmZ1bmN0aW9uIGRvd25BbmRTdGFydEhvbGQoXG4gIHsgaW50ZXJhY3Rpb24sIHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCwgcG9pbnRlckluZGV4IH06IFNpZ25hbEFyZ3NbJ2ludGVyYWN0aW9uczpkb3duJ10sXG4gIHNjb3BlOiBTY29wZSxcbikge1xuICBjb25zdCB0aW1lciA9IGludGVyYWN0aW9uLnBvaW50ZXJzW3BvaW50ZXJJbmRleF0uaG9sZCFcbiAgY29uc3QgcGF0aCA9IGRvbVV0aWxzLmdldFBhdGgoZXZlbnRUYXJnZXQgYXMgRWxlbWVudCB8IERvY3VtZW50KVxuICBjb25zdCBzaWduYWxBcmcgPSB7XG4gICAgaW50ZXJhY3Rpb24sXG4gICAgcG9pbnRlcixcbiAgICBldmVudCxcbiAgICBldmVudFRhcmdldCxcbiAgICB0eXBlOiAnaG9sZCcsXG4gICAgdGFyZ2V0czogW10gYXMgRXZlbnRUYXJnZXRMaXN0LFxuICAgIHBhdGgsXG4gICAgbm9kZTogbnVsbCxcbiAgfVxuXG4gIGZvciAoY29uc3Qgbm9kZSBvZiBwYXRoKSB7XG4gICAgc2lnbmFsQXJnLm5vZGUgPSBub2RlXG5cbiAgICBzY29wZS5maXJlKCdwb2ludGVyRXZlbnRzOmNvbGxlY3QtdGFyZ2V0cycsIHNpZ25hbEFyZylcbiAgfVxuXG4gIGlmICghc2lnbmFsQXJnLnRhcmdldHMubGVuZ3RoKSByZXR1cm5cblxuICBsZXQgbWluRHVyYXRpb24gPSBJbmZpbml0eVxuXG4gIGZvciAoY29uc3QgdGFyZ2V0IG9mIHNpZ25hbEFyZy50YXJnZXRzKSB7XG4gICAgY29uc3QgaG9sZER1cmF0aW9uID0gdGFyZ2V0LmV2ZW50YWJsZS5vcHRpb25zLmhvbGREdXJhdGlvblxuXG4gICAgaWYgKGhvbGREdXJhdGlvbiA8IG1pbkR1cmF0aW9uKSB7XG4gICAgICBtaW5EdXJhdGlvbiA9IGhvbGREdXJhdGlvblxuICAgIH1cbiAgfVxuXG4gIHRpbWVyLmR1cmF0aW9uID0gbWluRHVyYXRpb25cbiAgdGltZXIudGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGZpcmUoXG4gICAgICB7XG4gICAgICAgIGludGVyYWN0aW9uLFxuICAgICAgICBldmVudFRhcmdldCxcbiAgICAgICAgcG9pbnRlcixcbiAgICAgICAgZXZlbnQsXG4gICAgICAgIHR5cGU6ICdob2xkJyxcbiAgICAgIH0sXG4gICAgICBzY29wZSxcbiAgICApXG4gIH0sIG1pbkR1cmF0aW9uKVxufVxuXG5mdW5jdGlvbiB0YXBBZnRlclVwKFxuICB7IGludGVyYWN0aW9uLCBwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQgfTogU2lnbmFsQXJnc1snaW50ZXJhY3Rpb25zOnVwJ10sXG4gIHNjb3BlOiBTY29wZSxcbikge1xuICBpZiAoIWludGVyYWN0aW9uLnBvaW50ZXJXYXNNb3ZlZCkge1xuICAgIGZpcmUoeyBpbnRlcmFjdGlvbiwgZXZlbnRUYXJnZXQsIHBvaW50ZXIsIGV2ZW50LCB0eXBlOiAndGFwJyB9LCBzY29wZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBzY29wZS5wb2ludGVyRXZlbnRzID0gcG9pbnRlckV2ZW50c1xuICBzY29wZS5kZWZhdWx0cy5hY3Rpb25zLnBvaW50ZXJFdmVudHMgPSBwb2ludGVyRXZlbnRzLmRlZmF1bHRzXG4gIGV4dGVuZChzY29wZS5hY3Rpb25zLnBoYXNlbGVzc1R5cGVzLCBwb2ludGVyRXZlbnRzLnR5cGVzKVxufVxuXG5leHBvcnQgZGVmYXVsdCBwb2ludGVyRXZlbnRzXG4iLCAiaW1wb3J0IHR5cGUgSW50ZXJhY3Rpb24gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgTGlzdGVuZXJNYXAsIFNjb3BlLCBTaWduYWxBcmdzLCBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAtLSBmb3IgdHlwZXNjcmlwdCBtb2R1bGUgYXVnbWVudGF0aW9ucyAqL1xuaW1wb3J0ICcuL2Jhc2UnXG5pbXBvcnQgYmFzZVBsdWdpbiBmcm9tICcuL2Jhc2UnXG4vKiBlc2xpbnQtZW5hYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzICovXG5pbXBvcnQgeyB0eXBlIFBvaW50ZXJFdmVudCB9IGZyb20gJy4vUG9pbnRlckV2ZW50J1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbicge1xuICBpbnRlcmZhY2UgSW50ZXJhY3Rpb24ge1xuICAgIGhvbGRJbnRlcnZhbEhhbmRsZT86IGFueVxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9wb2ludGVyLWV2ZW50cy9Qb2ludGVyRXZlbnQnIHtcbiAgaW50ZXJmYWNlIFBvaW50ZXJFdmVudDxUIGV4dGVuZHMgc3RyaW5nID0gYW55PiB7XG4gICAgY291bnQ/OiBudW1iZXJcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvcG9pbnRlci1ldmVudHMvYmFzZScge1xuICBpbnRlcmZhY2UgUG9pbnRlckV2ZW50T3B0aW9ucyB7XG4gICAgaG9sZFJlcGVhdEludGVydmFsPzogbnVtYmVyXG4gIH1cbn1cblxuZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgc2NvcGUudXNlUGx1Z2luKGJhc2VQbHVnaW4pXG5cbiAgY29uc3QgeyBwb2ludGVyRXZlbnRzIH0gPSBzY29wZVxuXG4gIC8vIGRvbid0IHJlcGVhdCBieSBkZWZhdWx0XG4gIHBvaW50ZXJFdmVudHMuZGVmYXVsdHMuaG9sZFJlcGVhdEludGVydmFsID0gMFxuICBwb2ludGVyRXZlbnRzLnR5cGVzLmhvbGRyZXBlYXQgPSBzY29wZS5hY3Rpb25zLnBoYXNlbGVzc1R5cGVzLmhvbGRyZXBlYXQgPSB0cnVlXG59XG5cbmZ1bmN0aW9uIG9uTmV3KHsgcG9pbnRlckV2ZW50IH06IHsgcG9pbnRlckV2ZW50OiBQb2ludGVyRXZlbnQ8YW55PiB9KSB7XG4gIGlmIChwb2ludGVyRXZlbnQudHlwZSAhPT0gJ2hvbGQnKSByZXR1cm5cblxuICBwb2ludGVyRXZlbnQuY291bnQgPSAocG9pbnRlckV2ZW50LmNvdW50IHx8IDApICsgMVxufVxuXG5mdW5jdGlvbiBvbkZpcmVkKFxuICB7IGludGVyYWN0aW9uLCBwb2ludGVyRXZlbnQsIGV2ZW50VGFyZ2V0LCB0YXJnZXRzIH06IFNpZ25hbEFyZ3NbJ3BvaW50ZXJFdmVudHM6ZmlyZWQnXSxcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGlmIChwb2ludGVyRXZlbnQudHlwZSAhPT0gJ2hvbGQnIHx8ICF0YXJnZXRzLmxlbmd0aCkgcmV0dXJuXG5cbiAgLy8gZ2V0IHRoZSByZXBlYXQgaW50ZXJ2YWwgZnJvbSB0aGUgZmlyc3QgZXZlbnRhYmxlXG4gIGNvbnN0IGludGVydmFsID0gdGFyZ2V0c1swXS5ldmVudGFibGUub3B0aW9ucy5ob2xkUmVwZWF0SW50ZXJ2YWxcblxuICAvLyBkb24ndCByZXBlYXQgaWYgdGhlIGludGVydmFsIGlzIDAgb3IgbGVzc1xuICBpZiAoaW50ZXJ2YWwgPD0gMCkgcmV0dXJuXG5cbiAgLy8gc2V0IGEgdGltZW91dCB0byBmaXJlIHRoZSBob2xkcmVwZWF0IGV2ZW50XG4gIGludGVyYWN0aW9uLmhvbGRJbnRlcnZhbEhhbmRsZSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIHNjb3BlLnBvaW50ZXJFdmVudHMuZmlyZShcbiAgICAgIHtcbiAgICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICAgIGV2ZW50VGFyZ2V0LFxuICAgICAgICB0eXBlOiAnaG9sZCcsXG4gICAgICAgIHBvaW50ZXI6IHBvaW50ZXJFdmVudCxcbiAgICAgICAgZXZlbnQ6IHBvaW50ZXJFdmVudCxcbiAgICAgIH0sXG4gICAgICBzY29wZSxcbiAgICApXG4gIH0sIGludGVydmFsKVxufVxuXG5mdW5jdGlvbiBlbmRIb2xkUmVwZWF0KHsgaW50ZXJhY3Rpb24gfTogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfSkge1xuICAvLyBzZXQgdGhlIGludGVyYWN0aW9uJ3MgaG9sZFN0b3BUaW1lIHByb3BlcnR5XG4gIC8vIHRvIHN0b3AgZnVydGhlciBob2xkUmVwZWF0IGV2ZW50c1xuICBpZiAoaW50ZXJhY3Rpb24uaG9sZEludGVydmFsSGFuZGxlKSB7XG4gICAgY2xlYXJJbnRlcnZhbChpbnRlcmFjdGlvbi5ob2xkSW50ZXJ2YWxIYW5kbGUpXG4gICAgaW50ZXJhY3Rpb24uaG9sZEludGVydmFsSGFuZGxlID0gbnVsbFxuICB9XG59XG5cbmNvbnN0IGhvbGRSZXBlYXQ6IFBsdWdpbiA9IHtcbiAgaWQ6ICdwb2ludGVyLWV2ZW50cy9ob2xkUmVwZWF0JyxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiBbJ21vdmUnLCAndXAnLCAnY2FuY2VsJywgJ2VuZGFsbCddLnJlZHVjZShcbiAgICAoYWNjLCBlbmRlclR5cGVzKSA9PiB7XG4gICAgICA7KGFjYyBhcyBhbnkpW2Bwb2ludGVyRXZlbnRzOiR7ZW5kZXJUeXBlc31gXSA9IGVuZEhvbGRSZXBlYXRcbiAgICAgIHJldHVybiBhY2NcbiAgICB9LFxuICAgIHtcbiAgICAgICdwb2ludGVyRXZlbnRzOm5ldyc6IG9uTmV3LFxuICAgICAgJ3BvaW50ZXJFdmVudHM6ZmlyZWQnOiBvbkZpcmVkLFxuICAgIH0gYXMgTGlzdGVuZXJNYXAsXG4gICksXG59XG5cbmV4cG9ydCBkZWZhdWx0IGhvbGRSZXBlYXRcbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSwgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgRWxlbWVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcblxuaW1wb3J0IHR5cGUgeyBQb2ludGVyRXZlbnRPcHRpb25zIH0gZnJvbSAnQGludGVyYWN0anMvcG9pbnRlci1ldmVudHMvYmFzZSdcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGFibGUge1xuICAgIHBvaW50ZXJFdmVudHMob3B0aW9uczogUGFydGlhbDxQb2ludGVyRXZlbnRPcHRpb25zPik6IHRoaXNcbiAgICAvKiogQGludGVybmFsICovXG4gICAgX19iYWNrQ29tcGF0T3B0aW9uOiAob3B0aW9uTmFtZTogc3RyaW5nLCBuZXdWYWx1ZTogYW55KSA9PiBhbnlcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IEludGVyYWN0YWJsZSB9ID0gc2NvcGVcblxuICBJbnRlcmFjdGFibGUucHJvdG90eXBlLnBvaW50ZXJFdmVudHMgPSBmdW5jdGlvbiAoXG4gICAgdGhpczogSW50ZXJhY3RhYmxlLFxuICAgIG9wdGlvbnM6IFBhcnRpYWw8UG9pbnRlckV2ZW50T3B0aW9ucz4sXG4gICkge1xuICAgIGV4dGVuZCh0aGlzLmV2ZW50cy5vcHRpb25zLCBvcHRpb25zKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGNvbnN0IF9fYmFja0NvbXBhdE9wdGlvbiA9IEludGVyYWN0YWJsZS5wcm90b3R5cGUuX2JhY2tDb21wYXRPcHRpb25cblxuICBJbnRlcmFjdGFibGUucHJvdG90eXBlLl9iYWNrQ29tcGF0T3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbk5hbWUsIG5ld1ZhbHVlKSB7XG4gICAgY29uc3QgcmV0ID0gX19iYWNrQ29tcGF0T3B0aW9uLmNhbGwodGhpcywgb3B0aW9uTmFtZSwgbmV3VmFsdWUpXG5cbiAgICBpZiAocmV0ID09PSB0aGlzKSB7XG4gICAgICB0aGlzLmV2ZW50cy5vcHRpb25zW29wdGlvbk5hbWVdID0gbmV3VmFsdWVcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0XG4gIH1cbn1cblxuY29uc3QgcGx1Z2luOiBQbHVnaW4gPSB7XG4gIGlkOiAncG9pbnRlci1ldmVudHMvaW50ZXJhY3RhYmxlVGFyZ2V0cycsXG4gIGluc3RhbGwsXG4gIGxpc3RlbmVyczoge1xuICAgICdwb2ludGVyRXZlbnRzOmNvbGxlY3QtdGFyZ2V0cyc6ICh7IHRhcmdldHMsIG5vZGUsIHR5cGUsIGV2ZW50VGFyZ2V0IH0sIHNjb3BlKSA9PiB7XG4gICAgICBzY29wZS5pbnRlcmFjdGFibGVzLmZvckVhY2hNYXRjaChub2RlLCAoaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUpID0+IHtcbiAgICAgICAgY29uc3QgZXZlbnRhYmxlID0gaW50ZXJhY3RhYmxlLmV2ZW50c1xuICAgICAgICBjb25zdCBvcHRpb25zID0gZXZlbnRhYmxlLm9wdGlvbnNcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgZXZlbnRhYmxlLnR5cGVzW3R5cGVdICYmXG4gICAgICAgICAgZXZlbnRhYmxlLnR5cGVzW3R5cGVdLmxlbmd0aCAmJlxuICAgICAgICAgIGludGVyYWN0YWJsZS50ZXN0SWdub3JlQWxsb3cob3B0aW9ucywgbm9kZSwgZXZlbnRUYXJnZXQpXG4gICAgICAgICkge1xuICAgICAgICAgIHRhcmdldHMucHVzaCh7XG4gICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgZXZlbnRhYmxlLFxuICAgICAgICAgICAgcHJvcHM6IHsgaW50ZXJhY3RhYmxlIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0YWJsZTpuZXcnOiAoeyBpbnRlcmFjdGFibGUgfSkgPT4ge1xuICAgICAgaW50ZXJhY3RhYmxlLmV2ZW50cy5nZXRSZWN0ID0gZnVuY3Rpb24gKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGludGVyYWN0YWJsZS5nZXRSZWN0KGVsZW1lbnQpXG4gICAgICB9XG4gICAgfSxcblxuICAgICdpbnRlcmFjdGFibGU6c2V0JzogKHsgaW50ZXJhY3RhYmxlLCBvcHRpb25zIH0sIHNjb3BlKSA9PiB7XG4gICAgICBleHRlbmQoaW50ZXJhY3RhYmxlLmV2ZW50cy5vcHRpb25zLCBzY29wZS5wb2ludGVyRXZlbnRzLmRlZmF1bHRzKVxuICAgICAgZXh0ZW5kKGludGVyYWN0YWJsZS5ldmVudHMub3B0aW9ucywgb3B0aW9ucy5wb2ludGVyRXZlbnRzIHx8IHt9KVxuICAgIH0sXG4gIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IHBsdWdpblxuIiwgImltcG9ydCB0eXBlIHsgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcblxuLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgLS0gZm9yIHR5cGVzY3JpcHQgbW9kdWxlIGF1Z21lbnRhdGlvbnMgKi9cbmltcG9ydCAnLi9iYXNlJ1xuaW1wb3J0ICcuL2hvbGRSZXBlYXQnXG5pbXBvcnQgJy4vaW50ZXJhY3RhYmxlVGFyZ2V0cydcblxuaW1wb3J0ICogYXMgcG9pbnRlckV2ZW50cyBmcm9tICcuL2Jhc2UnXG5pbXBvcnQgaG9sZFJlcGVhdCBmcm9tICcuL2hvbGRSZXBlYXQnXG5pbXBvcnQgaW50ZXJhY3RhYmxlVGFyZ2V0cyBmcm9tICcuL2ludGVyYWN0YWJsZVRhcmdldHMnXG4vKiBlc2xpbnQtZW5hYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzICovXG5cbmNvbnN0IHBsdWdpbjogUGx1Z2luID0ge1xuICBpZDogJ3BvaW50ZXItZXZlbnRzJyxcbiAgaW5zdGFsbChzY29wZSkge1xuICAgIHNjb3BlLnVzZVBsdWdpbihwb2ludGVyRXZlbnRzKVxuICAgIHNjb3BlLnVzZVBsdWdpbihob2xkUmVwZWF0KVxuICAgIHNjb3BlLnVzZVBsdWdpbihpbnRlcmFjdGFibGVUYXJnZXRzKVxuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBwbHVnaW5cbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgeyBEb0FueVBoYXNlQXJnLCBJbnRlcmFjdGlvbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFNjb3BlLCBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25OYW1lLCBBY3Rpb25Qcm9wcywgRWxlbWVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgKiBhcyBhcnIgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvYXJyJ1xuaW1wb3J0IHsgY29weUFjdGlvbiB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL21pc2MnXG5pbXBvcnQgKiBhcyBwb2ludGVyVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcG9pbnRlclV0aWxzJ1xuaW1wb3J0IHsgdGxiclRvWHl3aCB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3JlY3QnXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJyB7XG4gIGludGVyZmFjZSBTaWduYWxBcmdzIHtcbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tcmVmbG93JzogT21pdDxEb0FueVBoYXNlQXJnLCAnaUV2ZW50Jz5cbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1yZWZsb3cnOiBEb0FueVBoYXNlQXJnXG4gICAgJ2ludGVyYWN0aW9uczphZnRlci1hY3Rpb24tcmVmbG93JzogRG9BbnlQaGFzZUFyZ1xuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZScge1xuICBpbnRlcmZhY2UgSW50ZXJhY3RhYmxlIHtcbiAgICAvKipcbiAgICAgKiBgYGBqc1xuICAgICAqIGNvbnN0IGludGVyYWN0YWJsZSA9IGludGVyYWN0KHRhcmdldClcbiAgICAgKiBjb25zdCBkcmFnID0geyBuYW1lOiBkcmFnLCBheGlzOiAneCcgfVxuICAgICAqIGNvbnN0IHJlc2l6ZSA9IHsgbmFtZTogcmVzaXplLCBlZGdlczogeyBsZWZ0OiB0cnVlLCBib3R0b206IHRydWUgfVxuICAgICAqXG4gICAgICogaW50ZXJhY3RhYmxlLnJlZmxvdyhkcmFnKVxuICAgICAqIGludGVyYWN0YWJsZS5yZWZsb3cocmVzaXplKVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogU3RhcnQgYW4gYWN0aW9uIHNlcXVlbmNlIHRvIHJlLWFwcGx5IG1vZGlmaWVycywgY2hlY2sgZHJvcHMsIGV0Yy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IGFjdGlvbiBUaGUgYWN0aW9uIHRvIGJlZ2luXG4gICAgICogQHBhcmFtIHsgc3RyaW5nIH0gYWN0aW9uLm5hbWUgVGhlIG5hbWUgb2YgdGhlIGFjdGlvblxuICAgICAqIEByZXR1cm5zIHsgUHJvbWlzZSB9IEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBgSW50ZXJhY3RhYmxlYCB3aGVuIGFjdGlvbnMgb24gYWxsIHRhcmdldHMgaGF2ZSBlbmRlZFxuICAgICAqL1xuICAgIHJlZmxvdzxUIGV4dGVuZHMgQWN0aW9uTmFtZT4oYWN0aW9uOiBBY3Rpb25Qcm9wczxUPik6IFJldHVyblR5cGU8dHlwZW9mIGRvUmVmbG93PlxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGlvbiB7XG4gICAgX3JlZmxvd1Byb21pc2U6IFByb21pc2U8dm9pZD5cbiAgICBfcmVmbG93UmVzb2x2ZTogKC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdm9pZFxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0RXZlbnQnIHtcbiAgaW50ZXJmYWNlIFBoYXNlTWFwIHtcbiAgICByZWZsb3c/OiB0cnVlXG4gIH1cbn1cblxuZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBJbnRlcmFjdGFibGUgfSA9IHNjb3BlXG5cbiAgc2NvcGUuYWN0aW9ucy5waGFzZXMucmVmbG93ID0gdHJ1ZVxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUucmVmbG93ID0gZnVuY3Rpb24gKGFjdGlvbjogQWN0aW9uUHJvcHMpIHtcbiAgICByZXR1cm4gZG9SZWZsb3codGhpcywgYWN0aW9uLCBzY29wZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBkb1JlZmxvdzxUIGV4dGVuZHMgQWN0aW9uTmFtZT4oXG4gIGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlLFxuICBhY3Rpb246IEFjdGlvblByb3BzPFQ+LFxuICBzY29wZTogU2NvcGUsXG4pOiBQcm9taXNlPEludGVyYWN0YWJsZT4ge1xuICBjb25zdCBlbGVtZW50cyA9IGludGVyYWN0YWJsZS5nZXRBbGxFbGVtZW50cygpXG5cbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lIHZhcmlhYmxlLW5hbWVcbiAgY29uc3QgUHJvbWlzZSA9IChzY29wZS53aW5kb3cgYXMgYW55KS5Qcm9taXNlXG4gIGNvbnN0IHByb21pc2VzOiBBcnJheTxQcm9taXNlPG51bGw+PiB8IG51bGwgPSBQcm9taXNlID8gW10gOiBudWxsXG5cbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgY29uc3QgcmVjdCA9IGludGVyYWN0YWJsZS5nZXRSZWN0KGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQgfCBTVkdFbGVtZW50KVxuXG4gICAgaWYgKCFyZWN0KSB7XG4gICAgICBicmVha1xuICAgIH1cblxuICAgIGNvbnN0IHJ1bm5pbmdJbnRlcmFjdGlvbiA9IGFyci5maW5kKHNjb3BlLmludGVyYWN0aW9ucy5saXN0LCAoaW50ZXJhY3Rpb246IEludGVyYWN0aW9uKSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBpbnRlcmFjdGlvbi5pbnRlcmFjdGluZygpICYmXG4gICAgICAgIGludGVyYWN0aW9uLmludGVyYWN0YWJsZSA9PT0gaW50ZXJhY3RhYmxlICYmXG4gICAgICAgIGludGVyYWN0aW9uLmVsZW1lbnQgPT09IGVsZW1lbnQgJiZcbiAgICAgICAgaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSA9PT0gYWN0aW9uLm5hbWVcbiAgICAgIClcbiAgICB9KVxuICAgIGxldCByZWZsb3dQcm9taXNlOiBQcm9taXNlPG51bGw+XG5cbiAgICBpZiAocnVubmluZ0ludGVyYWN0aW9uKSB7XG4gICAgICBydW5uaW5nSW50ZXJhY3Rpb24ubW92ZSgpXG5cbiAgICAgIGlmIChwcm9taXNlcykge1xuICAgICAgICByZWZsb3dQcm9taXNlID1cbiAgICAgICAgICBydW5uaW5nSW50ZXJhY3Rpb24uX3JlZmxvd1Byb21pc2UgfHxcbiAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZTogYW55KSA9PiB7XG4gICAgICAgICAgICBydW5uaW5nSW50ZXJhY3Rpb24uX3JlZmxvd1Jlc29sdmUgPSByZXNvbHZlXG4gICAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgeHl3aCA9IHRsYnJUb1h5d2gocmVjdClcbiAgICAgIGNvbnN0IGNvb3JkcyA9IHtcbiAgICAgICAgcGFnZTogeyB4OiB4eXdoLngsIHk6IHh5d2gueSB9LFxuICAgICAgICBjbGllbnQ6IHsgeDogeHl3aC54LCB5OiB4eXdoLnkgfSxcbiAgICAgICAgdGltZVN0YW1wOiBzY29wZS5ub3coKSxcbiAgICAgIH1cblxuICAgICAgY29uc3QgZXZlbnQgPSBwb2ludGVyVXRpbHMuY29vcmRzVG9FdmVudChjb29yZHMpXG4gICAgICByZWZsb3dQcm9taXNlID0gc3RhcnRSZWZsb3c8VD4oc2NvcGUsIGludGVyYWN0YWJsZSwgZWxlbWVudCwgYWN0aW9uLCBldmVudClcbiAgICB9XG5cbiAgICBpZiAocHJvbWlzZXMpIHtcbiAgICAgIHByb21pc2VzLnB1c2gocmVmbG93UHJvbWlzZSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZXMgJiYgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4gaW50ZXJhY3RhYmxlKVxufVxuXG5mdW5jdGlvbiBzdGFydFJlZmxvdzxUIGV4dGVuZHMgQWN0aW9uTmFtZT4oXG4gIHNjb3BlOiBTY29wZSxcbiAgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUsXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXG4gIGFjdGlvbjogQWN0aW9uUHJvcHM8VD4sXG4gIGV2ZW50OiBhbnksXG4pIHtcbiAgY29uc3QgaW50ZXJhY3Rpb24gPSBzY29wZS5pbnRlcmFjdGlvbnMubmV3KHsgcG9pbnRlclR5cGU6ICdyZWZsb3cnIH0pXG4gIGNvbnN0IHNpZ25hbEFyZyA9IHtcbiAgICBpbnRlcmFjdGlvbixcbiAgICBldmVudCxcbiAgICBwb2ludGVyOiBldmVudCxcbiAgICBldmVudFRhcmdldDogZWxlbWVudCxcbiAgICBwaGFzZTogJ3JlZmxvdycsXG4gIH0gYXMgY29uc3RcblxuICBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUgPSBpbnRlcmFjdGFibGVcbiAgaW50ZXJhY3Rpb24uZWxlbWVudCA9IGVsZW1lbnRcbiAgaW50ZXJhY3Rpb24ucHJldkV2ZW50ID0gZXZlbnRcbiAgaW50ZXJhY3Rpb24udXBkYXRlUG9pbnRlcihldmVudCwgZXZlbnQsIGVsZW1lbnQsIHRydWUpXG4gIHBvaW50ZXJVdGlscy5zZXRaZXJvQ29vcmRzKGludGVyYWN0aW9uLmNvb3Jkcy5kZWx0YSlcblxuICBjb3B5QWN0aW9uKGludGVyYWN0aW9uLnByZXBhcmVkLCBhY3Rpb24pXG4gIGludGVyYWN0aW9uLl9kb1BoYXNlKHNpZ25hbEFyZylcblxuICBjb25zdCB7IFByb21pc2UgfSA9IHNjb3BlLndpbmRvdyBhcyB1bmtub3duIGFzIHsgUHJvbWlzZTogUHJvbWlzZUNvbnN0cnVjdG9yIH1cbiAgY29uc3QgcmVmbG93UHJvbWlzZSA9IFByb21pc2VcbiAgICA/IG5ldyBQcm9taXNlPHVuZGVmaW5lZD4oKHJlc29sdmUpID0+IHtcbiAgICAgICAgaW50ZXJhY3Rpb24uX3JlZmxvd1Jlc29sdmUgPSByZXNvbHZlXG4gICAgICB9KVxuICAgIDogdW5kZWZpbmVkXG5cbiAgaW50ZXJhY3Rpb24uX3JlZmxvd1Byb21pc2UgPSByZWZsb3dQcm9taXNlXG4gIGludGVyYWN0aW9uLnN0YXJ0KGFjdGlvbiwgaW50ZXJhY3RhYmxlLCBlbGVtZW50KVxuXG4gIGlmIChpbnRlcmFjdGlvbi5faW50ZXJhY3RpbmcpIHtcbiAgICBpbnRlcmFjdGlvbi5tb3ZlKHNpZ25hbEFyZylcbiAgICBpbnRlcmFjdGlvbi5lbmQoZXZlbnQpXG4gIH0gZWxzZSB7XG4gICAgaW50ZXJhY3Rpb24uc3RvcCgpXG4gICAgaW50ZXJhY3Rpb24uX3JlZmxvd1Jlc29sdmUoKVxuICB9XG5cbiAgaW50ZXJhY3Rpb24ucmVtb3ZlUG9pbnRlcihldmVudCwgZXZlbnQpXG5cbiAgcmV0dXJuIHJlZmxvd1Byb21pc2Vcbn1cblxuY29uc3QgcmVmbG93OiBQbHVnaW4gPSB7XG4gIGlkOiAncmVmbG93JyxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgLy8gcmVtb3ZlIGNvbXBsZXRlZCByZWZsb3cgaW50ZXJhY3Rpb25zXG4gICAgJ2ludGVyYWN0aW9uczpzdG9wJzogKHsgaW50ZXJhY3Rpb24gfSwgc2NvcGUpID0+IHtcbiAgICAgIGlmIChpbnRlcmFjdGlvbi5wb2ludGVyVHlwZSA9PT0gJ3JlZmxvdycpIHtcbiAgICAgICAgaWYgKGludGVyYWN0aW9uLl9yZWZsb3dSZXNvbHZlKSB7XG4gICAgICAgICAgaW50ZXJhY3Rpb24uX3JlZmxvd1Jlc29sdmUoKVxuICAgICAgICB9XG5cbiAgICAgICAgYXJyLnJlbW92ZShzY29wZS5pbnRlcmFjdGlvbnMubGlzdCwgaW50ZXJhY3Rpb24pXG4gICAgICB9XG4gICAgfSxcbiAgfSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVmbG93XG4iLCAiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby1leHRyYW5lb3VzLWRlcGVuZGVuY2llc1xuaW1wb3J0IGludGVyYWN0IGZyb20gJ0BpbnRlcmFjdGpzL2ludGVyYWN0anMnXG5cbmV4cG9ydCBkZWZhdWx0IGludGVyYWN0XG5cbmlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiAhIW1vZHVsZSkge1xuICB0cnkge1xuICAgIG1vZHVsZS5leHBvcnRzID0gaW50ZXJhY3RcbiAgfSBjYXRjaCB7fVxufVxuXG47KGludGVyYWN0IGFzIGFueSkuZGVmYXVsdCA9IGludGVyYWN0XG4iLCAiLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgLS0gZm9yIHR5cGVzY3JpcHQgbW9kdWxlIGF1Z21lbnRhdGlvbnMgKi9cbmltcG9ydCAnQGludGVyYWN0anMvYWN0aW9ucy9wbHVnaW4nXG5pbXBvcnQgJ0BpbnRlcmFjdGpzL2F1dG8tc2Nyb2xsL3BsdWdpbidcbmltcG9ydCAnQGludGVyYWN0anMvYXV0by1zdGFydC9wbHVnaW4nXG5pbXBvcnQgJ0BpbnRlcmFjdGpzL2NvcmUvaW50ZXJhY3RhYmxlUHJldmVudERlZmF1bHQnXG5pbXBvcnQgJ0BpbnRlcmFjdGpzL2Rldi10b29scy9wbHVnaW4nXG5pbXBvcnQgJ0BpbnRlcmFjdGpzL2luZXJ0aWEvcGx1Z2luJ1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9pbnRlcmFjdCdcbmltcG9ydCAnQGludGVyYWN0anMvbW9kaWZpZXJzL3BsdWdpbidcbmltcG9ydCAnQGludGVyYWN0anMvb2Zmc2V0L3BsdWdpbidcbmltcG9ydCAnQGludGVyYWN0anMvcG9pbnRlci1ldmVudHMvcGx1Z2luJ1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9yZWZsb3cvcGx1Z2luJ1xuXG5pbXBvcnQgYWN0aW9ucyBmcm9tICdAaW50ZXJhY3Rqcy9hY3Rpb25zL3BsdWdpbidcbmltcG9ydCBhdXRvU2Nyb2xsIGZyb20gJ0BpbnRlcmFjdGpzL2F1dG8tc2Nyb2xsL3BsdWdpbidcbmltcG9ydCBhdXRvU3RhcnQgZnJvbSAnQGludGVyYWN0anMvYXV0by1zdGFydC9wbHVnaW4nXG5pbXBvcnQgaW50ZXJhY3RhYmxlUHJldmVudERlZmF1bHQgZnJvbSAnQGludGVyYWN0anMvY29yZS9pbnRlcmFjdGFibGVQcmV2ZW50RGVmYXVsdCdcbmltcG9ydCBkZXZUb29scyBmcm9tICdAaW50ZXJhY3Rqcy9kZXYtdG9vbHMvcGx1Z2luJ1xuaW1wb3J0IGluZXJ0aWEgZnJvbSAnQGludGVyYWN0anMvaW5lcnRpYS9wbHVnaW4nXG5pbXBvcnQgaW50ZXJhY3QgZnJvbSAnQGludGVyYWN0anMvaW50ZXJhY3QnXG5pbXBvcnQgbW9kaWZpZXJzIGZyb20gJ0BpbnRlcmFjdGpzL21vZGlmaWVycy9wbHVnaW4nXG5pbXBvcnQgb2Zmc2V0IGZyb20gJ0BpbnRlcmFjdGpzL29mZnNldC9wbHVnaW4nXG5pbXBvcnQgcG9pbnRlckV2ZW50cyBmcm9tICdAaW50ZXJhY3Rqcy9wb2ludGVyLWV2ZW50cy9wbHVnaW4nXG5pbXBvcnQgcmVmbG93IGZyb20gJ0BpbnRlcmFjdGpzL3JlZmxvdy9wbHVnaW4nXG4vKiBlc2xpbnQtZW5hYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzICovXG5cbmludGVyYWN0LnVzZShpbnRlcmFjdGFibGVQcmV2ZW50RGVmYXVsdClcblxuaW50ZXJhY3QudXNlKG9mZnNldClcblxuLy8gcG9pbnRlckV2ZW50c1xuaW50ZXJhY3QudXNlKHBvaW50ZXJFdmVudHMpXG5cbi8vIGluZXJ0aWFcbmludGVyYWN0LnVzZShpbmVydGlhKVxuXG4vLyBzbmFwLCByZXNpemUsIGV0Yy5cbmludGVyYWN0LnVzZShtb2RpZmllcnMpXG5cbi8vIGF1dG9TdGFydCwgaG9sZFxuaW50ZXJhY3QudXNlKGF1dG9TdGFydClcblxuLy8gZHJhZyBhbmQgZHJvcCwgcmVzaXplLCBnZXN0dXJlXG5pbnRlcmFjdC51c2UoYWN0aW9ucylcblxuLy8gYXV0b1Njcm9sbFxuaW50ZXJhY3QudXNlKGF1dG9TY3JvbGwpXG5cbi8vIHJlZmxvd1xuaW50ZXJhY3QudXNlKHJlZmxvdylcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBpbnRlcmFjdC51c2UoZGV2VG9vbHMpXG59XG5cbmV4cG9ydCBkZWZhdWx0IGludGVyYWN0XG47KGludGVyYWN0IGFzIGFueSkuZGVmYXVsdCA9IGludGVyYWN0XG4iLCAiLypcblN0aW11bHVzIDMuMi4xXG5Db3B5cmlnaHQgXHUwMEE5IDIwMjMgQmFzZWNhbXAsIExMQ1xuICovXG5jbGFzcyBFdmVudExpc3RlbmVyIHtcbiAgICBjb25zdHJ1Y3RvcihldmVudFRhcmdldCwgZXZlbnROYW1lLCBldmVudE9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5ldmVudFRhcmdldCA9IGV2ZW50VGFyZ2V0O1xuICAgICAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcbiAgICAgICAgdGhpcy5ldmVudE9wdGlvbnMgPSBldmVudE9wdGlvbnM7XG4gICAgICAgIHRoaXMudW5vcmRlcmVkQmluZGluZ3MgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIGNvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50TmFtZSwgdGhpcywgdGhpcy5ldmVudE9wdGlvbnMpO1xuICAgIH1cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICB0aGlzLmV2ZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudE5hbWUsIHRoaXMsIHRoaXMuZXZlbnRPcHRpb25zKTtcbiAgICB9XG4gICAgYmluZGluZ0Nvbm5lY3RlZChiaW5kaW5nKSB7XG4gICAgICAgIHRoaXMudW5vcmRlcmVkQmluZGluZ3MuYWRkKGJpbmRpbmcpO1xuICAgIH1cbiAgICBiaW5kaW5nRGlzY29ubmVjdGVkKGJpbmRpbmcpIHtcbiAgICAgICAgdGhpcy51bm9yZGVyZWRCaW5kaW5ncy5kZWxldGUoYmluZGluZyk7XG4gICAgfVxuICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkRXZlbnQgPSBleHRlbmRFdmVudChldmVudCk7XG4gICAgICAgIGZvciAoY29uc3QgYmluZGluZyBvZiB0aGlzLmJpbmRpbmdzKSB7XG4gICAgICAgICAgICBpZiAoZXh0ZW5kZWRFdmVudC5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJpbmRpbmcuaGFuZGxlRXZlbnQoZXh0ZW5kZWRFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFzQmluZGluZ3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVub3JkZXJlZEJpbmRpbmdzLnNpemUgPiAwO1xuICAgIH1cbiAgICBnZXQgYmluZGluZ3MoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMudW5vcmRlcmVkQmluZGluZ3MpLnNvcnQoKGxlZnQsIHJpZ2h0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsZWZ0SW5kZXggPSBsZWZ0LmluZGV4LCByaWdodEluZGV4ID0gcmlnaHQuaW5kZXg7XG4gICAgICAgICAgICByZXR1cm4gbGVmdEluZGV4IDwgcmlnaHRJbmRleCA/IC0xIDogbGVmdEluZGV4ID4gcmlnaHRJbmRleCA/IDEgOiAwO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBleHRlbmRFdmVudChldmVudCkge1xuICAgIGlmIChcImltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZFwiIGluIGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBldmVudDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHsgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIH0gPSBldmVudDtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZXZlbnQsIHtcbiAgICAgICAgICAgIGltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogZmFsc2UsXG4gICAgICAgICAgICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jbGFzcyBEaXNwYXRjaGVyIHtcbiAgICBjb25zdHJ1Y3RvcihhcHBsaWNhdGlvbikge1xuICAgICAgICB0aGlzLmFwcGxpY2F0aW9uID0gYXBwbGljYXRpb247XG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lck1hcHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmZvckVhY2goKGV2ZW50TGlzdGVuZXIpID0+IGV2ZW50TGlzdGVuZXIuY29ubmVjdCgpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuZm9yRWFjaCgoZXZlbnRMaXN0ZW5lcikgPT4gZXZlbnRMaXN0ZW5lci5kaXNjb25uZWN0KCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBldmVudExpc3RlbmVycygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5ldmVudExpc3RlbmVyTWFwcy52YWx1ZXMoKSkucmVkdWNlKChsaXN0ZW5lcnMsIG1hcCkgPT4gbGlzdGVuZXJzLmNvbmNhdChBcnJheS5mcm9tKG1hcC52YWx1ZXMoKSkpLCBbXSk7XG4gICAgfVxuICAgIGJpbmRpbmdDb25uZWN0ZWQoYmluZGluZykge1xuICAgICAgICB0aGlzLmZldGNoRXZlbnRMaXN0ZW5lckZvckJpbmRpbmcoYmluZGluZykuYmluZGluZ0Nvbm5lY3RlZChiaW5kaW5nKTtcbiAgICB9XG4gICAgYmluZGluZ0Rpc2Nvbm5lY3RlZChiaW5kaW5nLCBjbGVhckV2ZW50TGlzdGVuZXJzID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5mZXRjaEV2ZW50TGlzdGVuZXJGb3JCaW5kaW5nKGJpbmRpbmcpLmJpbmRpbmdEaXNjb25uZWN0ZWQoYmluZGluZyk7XG4gICAgICAgIGlmIChjbGVhckV2ZW50TGlzdGVuZXJzKVxuICAgICAgICAgICAgdGhpcy5jbGVhckV2ZW50TGlzdGVuZXJzRm9yQmluZGluZyhiaW5kaW5nKTtcbiAgICB9XG4gICAgaGFuZGxlRXJyb3IoZXJyb3IsIG1lc3NhZ2UsIGRldGFpbCA9IHt9KSB7XG4gICAgICAgIHRoaXMuYXBwbGljYXRpb24uaGFuZGxlRXJyb3IoZXJyb3IsIGBFcnJvciAke21lc3NhZ2V9YCwgZGV0YWlsKTtcbiAgICB9XG4gICAgY2xlYXJFdmVudExpc3RlbmVyc0ZvckJpbmRpbmcoYmluZGluZykge1xuICAgICAgICBjb25zdCBldmVudExpc3RlbmVyID0gdGhpcy5mZXRjaEV2ZW50TGlzdGVuZXJGb3JCaW5kaW5nKGJpbmRpbmcpO1xuICAgICAgICBpZiAoIWV2ZW50TGlzdGVuZXIuaGFzQmluZGluZ3MoKSkge1xuICAgICAgICAgICAgZXZlbnRMaXN0ZW5lci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZU1hcHBlZEV2ZW50TGlzdGVuZXJGb3IoYmluZGluZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlTWFwcGVkRXZlbnRMaXN0ZW5lckZvcihiaW5kaW5nKSB7XG4gICAgICAgIGNvbnN0IHsgZXZlbnRUYXJnZXQsIGV2ZW50TmFtZSwgZXZlbnRPcHRpb25zIH0gPSBiaW5kaW5nO1xuICAgICAgICBjb25zdCBldmVudExpc3RlbmVyTWFwID0gdGhpcy5mZXRjaEV2ZW50TGlzdGVuZXJNYXBGb3JFdmVudFRhcmdldChldmVudFRhcmdldCk7XG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gdGhpcy5jYWNoZUtleShldmVudE5hbWUsIGV2ZW50T3B0aW9ucyk7XG4gICAgICAgIGV2ZW50TGlzdGVuZXJNYXAuZGVsZXRlKGNhY2hlS2V5KTtcbiAgICAgICAgaWYgKGV2ZW50TGlzdGVuZXJNYXAuc2l6ZSA9PSAwKVxuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyTWFwcy5kZWxldGUoZXZlbnRUYXJnZXQpO1xuICAgIH1cbiAgICBmZXRjaEV2ZW50TGlzdGVuZXJGb3JCaW5kaW5nKGJpbmRpbmcpIHtcbiAgICAgICAgY29uc3QgeyBldmVudFRhcmdldCwgZXZlbnROYW1lLCBldmVudE9wdGlvbnMgfSA9IGJpbmRpbmc7XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoRXZlbnRMaXN0ZW5lcihldmVudFRhcmdldCwgZXZlbnROYW1lLCBldmVudE9wdGlvbnMpO1xuICAgIH1cbiAgICBmZXRjaEV2ZW50TGlzdGVuZXIoZXZlbnRUYXJnZXQsIGV2ZW50TmFtZSwgZXZlbnRPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50TGlzdGVuZXJNYXAgPSB0aGlzLmZldGNoRXZlbnRMaXN0ZW5lck1hcEZvckV2ZW50VGFyZ2V0KGV2ZW50VGFyZ2V0KTtcbiAgICAgICAgY29uc3QgY2FjaGVLZXkgPSB0aGlzLmNhY2hlS2V5KGV2ZW50TmFtZSwgZXZlbnRPcHRpb25zKTtcbiAgICAgICAgbGV0IGV2ZW50TGlzdGVuZXIgPSBldmVudExpc3RlbmVyTWFwLmdldChjYWNoZUtleSk7XG4gICAgICAgIGlmICghZXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZXZlbnRMaXN0ZW5lciA9IHRoaXMuY3JlYXRlRXZlbnRMaXN0ZW5lcihldmVudFRhcmdldCwgZXZlbnROYW1lLCBldmVudE9wdGlvbnMpO1xuICAgICAgICAgICAgZXZlbnRMaXN0ZW5lck1hcC5zZXQoY2FjaGVLZXksIGV2ZW50TGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBldmVudExpc3RlbmVyO1xuICAgIH1cbiAgICBjcmVhdGVFdmVudExpc3RlbmVyKGV2ZW50VGFyZ2V0LCBldmVudE5hbWUsIGV2ZW50T3B0aW9ucykge1xuICAgICAgICBjb25zdCBldmVudExpc3RlbmVyID0gbmV3IEV2ZW50TGlzdGVuZXIoZXZlbnRUYXJnZXQsIGV2ZW50TmFtZSwgZXZlbnRPcHRpb25zKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgZXZlbnRMaXN0ZW5lci5jb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV2ZW50TGlzdGVuZXI7XG4gICAgfVxuICAgIGZldGNoRXZlbnRMaXN0ZW5lck1hcEZvckV2ZW50VGFyZ2V0KGV2ZW50VGFyZ2V0KSB7XG4gICAgICAgIGxldCBldmVudExpc3RlbmVyTWFwID0gdGhpcy5ldmVudExpc3RlbmVyTWFwcy5nZXQoZXZlbnRUYXJnZXQpO1xuICAgICAgICBpZiAoIWV2ZW50TGlzdGVuZXJNYXApIHtcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJNYXBzLnNldChldmVudFRhcmdldCwgZXZlbnRMaXN0ZW5lck1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV2ZW50TGlzdGVuZXJNYXA7XG4gICAgfVxuICAgIGNhY2hlS2V5KGV2ZW50TmFtZSwgZXZlbnRPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gW2V2ZW50TmFtZV07XG4gICAgICAgIE9iamVjdC5rZXlzKGV2ZW50T3B0aW9ucylcbiAgICAgICAgICAgIC5zb3J0KClcbiAgICAgICAgICAgIC5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIHBhcnRzLnB1c2goYCR7ZXZlbnRPcHRpb25zW2tleV0gPyBcIlwiIDogXCIhXCJ9JHtrZXl9YCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGFydHMuam9pbihcIjpcIik7XG4gICAgfVxufVxuXG5jb25zdCBkZWZhdWx0QWN0aW9uRGVzY3JpcHRvckZpbHRlcnMgPSB7XG4gICAgc3RvcCh7IGV2ZW50LCB2YWx1ZSB9KSB7XG4gICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIHByZXZlbnQoeyBldmVudCwgdmFsdWUgfSkge1xuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIHNlbGYoeyBldmVudCwgdmFsdWUsIGVsZW1lbnQgfSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50ID09PSBldmVudC50YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuY29uc3QgZGVzY3JpcHRvclBhdHRlcm4gPSAvXig/Oig/OihbXi5dKz8pXFwrKT8oLis/KSg/OlxcLiguKz8pKT8oPzpAKHdpbmRvd3xkb2N1bWVudCkpPy0+KT8oLis/KSg/OiMoW146XSs/KSkoPzo6KC4rKSk/JC87XG5mdW5jdGlvbiBwYXJzZUFjdGlvbkRlc2NyaXB0b3JTdHJpbmcoZGVzY3JpcHRvclN0cmluZykge1xuICAgIGNvbnN0IHNvdXJjZSA9IGRlc2NyaXB0b3JTdHJpbmcudHJpbSgpO1xuICAgIGNvbnN0IG1hdGNoZXMgPSBzb3VyY2UubWF0Y2goZGVzY3JpcHRvclBhdHRlcm4pIHx8IFtdO1xuICAgIGxldCBldmVudE5hbWUgPSBtYXRjaGVzWzJdO1xuICAgIGxldCBrZXlGaWx0ZXIgPSBtYXRjaGVzWzNdO1xuICAgIGlmIChrZXlGaWx0ZXIgJiYgIVtcImtleWRvd25cIiwgXCJrZXl1cFwiLCBcImtleXByZXNzXCJdLmluY2x1ZGVzKGV2ZW50TmFtZSkpIHtcbiAgICAgICAgZXZlbnROYW1lICs9IGAuJHtrZXlGaWx0ZXJ9YDtcbiAgICAgICAga2V5RmlsdGVyID0gXCJcIjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZXZlbnRUYXJnZXQ6IHBhcnNlRXZlbnRUYXJnZXQobWF0Y2hlc1s0XSksXG4gICAgICAgIGV2ZW50TmFtZSxcbiAgICAgICAgZXZlbnRPcHRpb25zOiBtYXRjaGVzWzddID8gcGFyc2VFdmVudE9wdGlvbnMobWF0Y2hlc1s3XSkgOiB7fSxcbiAgICAgICAgaWRlbnRpZmllcjogbWF0Y2hlc1s1XSxcbiAgICAgICAgbWV0aG9kTmFtZTogbWF0Y2hlc1s2XSxcbiAgICAgICAga2V5RmlsdGVyOiBtYXRjaGVzWzFdIHx8IGtleUZpbHRlcixcbiAgICB9O1xufVxuZnVuY3Rpb24gcGFyc2VFdmVudFRhcmdldChldmVudFRhcmdldE5hbWUpIHtcbiAgICBpZiAoZXZlbnRUYXJnZXROYW1lID09IFwid2luZG93XCIpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICB9XG4gICAgZWxzZSBpZiAoZXZlbnRUYXJnZXROYW1lID09IFwiZG9jdW1lbnRcIikge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgfVxufVxuZnVuY3Rpb24gcGFyc2VFdmVudE9wdGlvbnMoZXZlbnRPcHRpb25zKSB7XG4gICAgcmV0dXJuIGV2ZW50T3B0aW9uc1xuICAgICAgICAuc3BsaXQoXCI6XCIpXG4gICAgICAgIC5yZWR1Y2UoKG9wdGlvbnMsIHRva2VuKSA9PiBPYmplY3QuYXNzaWduKG9wdGlvbnMsIHsgW3Rva2VuLnJlcGxhY2UoL14hLywgXCJcIildOiAhL14hLy50ZXN0KHRva2VuKSB9KSwge30pO1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5RXZlbnRUYXJnZXQoZXZlbnRUYXJnZXQpIHtcbiAgICBpZiAoZXZlbnRUYXJnZXQgPT0gd2luZG93KSB7XG4gICAgICAgIHJldHVybiBcIndpbmRvd1wiO1xuICAgIH1cbiAgICBlbHNlIGlmIChldmVudFRhcmdldCA9PSBkb2N1bWVudCkge1xuICAgICAgICByZXR1cm4gXCJkb2N1bWVudFwiO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY2FtZWxpemUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvKD86W18tXSkoW2EtejAtOV0pL2csIChfLCBjaGFyKSA9PiBjaGFyLnRvVXBwZXJDYXNlKCkpO1xufVxuZnVuY3Rpb24gbmFtZXNwYWNlQ2FtZWxpemUodmFsdWUpIHtcbiAgICByZXR1cm4gY2FtZWxpemUodmFsdWUucmVwbGFjZSgvLS0vZywgXCItXCIpLnJlcGxhY2UoL19fL2csIFwiX1wiKSk7XG59XG5mdW5jdGlvbiBjYXBpdGFsaXplKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdmFsdWUuc2xpY2UoMSk7XG59XG5mdW5jdGlvbiBkYXNoZXJpemUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvKFtBLVpdKS9nLCAoXywgY2hhcikgPT4gYC0ke2NoYXIudG9Mb3dlckNhc2UoKX1gKTtcbn1cbmZ1bmN0aW9uIHRva2VuaXplKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLm1hdGNoKC9bXlxcc10rL2cpIHx8IFtdO1xufVxuXG5mdW5jdGlvbiBpc1NvbWV0aGluZyhvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0ICE9PSBudWxsICYmIG9iamVjdCAhPT0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gaGFzUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7XG59XG5cbmNvbnN0IGFsbE1vZGlmaWVycyA9IFtcIm1ldGFcIiwgXCJjdHJsXCIsIFwiYWx0XCIsIFwic2hpZnRcIl07XG5jbGFzcyBBY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGluZGV4LCBkZXNjcmlwdG9yLCBzY2hlbWEpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLmV2ZW50VGFyZ2V0ID0gZGVzY3JpcHRvci5ldmVudFRhcmdldCB8fCBlbGVtZW50O1xuICAgICAgICB0aGlzLmV2ZW50TmFtZSA9IGRlc2NyaXB0b3IuZXZlbnROYW1lIHx8IGdldERlZmF1bHRFdmVudE5hbWVGb3JFbGVtZW50KGVsZW1lbnQpIHx8IGVycm9yKFwibWlzc2luZyBldmVudCBuYW1lXCIpO1xuICAgICAgICB0aGlzLmV2ZW50T3B0aW9ucyA9IGRlc2NyaXB0b3IuZXZlbnRPcHRpb25zIHx8IHt9O1xuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBkZXNjcmlwdG9yLmlkZW50aWZpZXIgfHwgZXJyb3IoXCJtaXNzaW5nIGlkZW50aWZpZXJcIik7XG4gICAgICAgIHRoaXMubWV0aG9kTmFtZSA9IGRlc2NyaXB0b3IubWV0aG9kTmFtZSB8fCBlcnJvcihcIm1pc3NpbmcgbWV0aG9kIG5hbWVcIik7XG4gICAgICAgIHRoaXMua2V5RmlsdGVyID0gZGVzY3JpcHRvci5rZXlGaWx0ZXIgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgfVxuICAgIHN0YXRpYyBmb3JUb2tlbih0b2tlbiwgc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyh0b2tlbi5lbGVtZW50LCB0b2tlbi5pbmRleCwgcGFyc2VBY3Rpb25EZXNjcmlwdG9yU3RyaW5nKHRva2VuLmNvbnRlbnQpLCBzY2hlbWEpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgZXZlbnRGaWx0ZXIgPSB0aGlzLmtleUZpbHRlciA/IGAuJHt0aGlzLmtleUZpbHRlcn1gIDogXCJcIjtcbiAgICAgICAgY29uc3QgZXZlbnRUYXJnZXQgPSB0aGlzLmV2ZW50VGFyZ2V0TmFtZSA/IGBAJHt0aGlzLmV2ZW50VGFyZ2V0TmFtZX1gIDogXCJcIjtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuZXZlbnROYW1lfSR7ZXZlbnRGaWx0ZXJ9JHtldmVudFRhcmdldH0tPiR7dGhpcy5pZGVudGlmaWVyfSMke3RoaXMubWV0aG9kTmFtZX1gO1xuICAgIH1cbiAgICBzaG91bGRJZ25vcmVLZXlib2FyZEV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5rZXlGaWx0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaWx0ZXJzID0gdGhpcy5rZXlGaWx0ZXIuc3BsaXQoXCIrXCIpO1xuICAgICAgICBpZiAodGhpcy5rZXlGaWx0ZXJEaXNzYXRpc2ZpZWQoZXZlbnQsIGZpbHRlcnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGFuZGFyZEZpbHRlciA9IGZpbHRlcnMuZmlsdGVyKChrZXkpID0+ICFhbGxNb2RpZmllcnMuaW5jbHVkZXMoa2V5KSlbMF07XG4gICAgICAgIGlmICghc3RhbmRhcmRGaWx0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhc1Byb3BlcnR5KHRoaXMua2V5TWFwcGluZ3MsIHN0YW5kYXJkRmlsdGVyKSkge1xuICAgICAgICAgICAgZXJyb3IoYGNvbnRhaW5zIHVua25vd24ga2V5IGZpbHRlcjogJHt0aGlzLmtleUZpbHRlcn1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5rZXlNYXBwaW5nc1tzdGFuZGFyZEZpbHRlcl0udG9Mb3dlckNhc2UoKSAhPT0gZXZlbnQua2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHNob3VsZElnbm9yZU1vdXNlRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmtleUZpbHRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpbHRlcnMgPSBbdGhpcy5rZXlGaWx0ZXJdO1xuICAgICAgICBpZiAodGhpcy5rZXlGaWx0ZXJEaXNzYXRpc2ZpZWQoZXZlbnQsIGZpbHRlcnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGdldCBwYXJhbXMoKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHt9O1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gbmV3IFJlZ0V4cChgXmRhdGEtJHt0aGlzLmlkZW50aWZpZXJ9LSguKyktcGFyYW0kYCwgXCJpXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IHsgbmFtZSwgdmFsdWUgfSBvZiBBcnJheS5mcm9tKHRoaXMuZWxlbWVudC5hdHRyaWJ1dGVzKSkge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBuYW1lLm1hdGNoKHBhdHRlcm4pO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gbWF0Y2ggJiYgbWF0Y2hbMV07XG4gICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zW2NhbWVsaXplKGtleSldID0gdHlwZWNhc3QodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfVxuICAgIGdldCBldmVudFRhcmdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmdpZnlFdmVudFRhcmdldCh0aGlzLmV2ZW50VGFyZ2V0KTtcbiAgICB9XG4gICAgZ2V0IGtleU1hcHBpbmdzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2hlbWEua2V5TWFwcGluZ3M7XG4gICAgfVxuICAgIGtleUZpbHRlckRpc3NhdGlzZmllZChldmVudCwgZmlsdGVycykge1xuICAgICAgICBjb25zdCBbbWV0YSwgY3RybCwgYWx0LCBzaGlmdF0gPSBhbGxNb2RpZmllcnMubWFwKChtb2RpZmllcikgPT4gZmlsdGVycy5pbmNsdWRlcyhtb2RpZmllcikpO1xuICAgICAgICByZXR1cm4gZXZlbnQubWV0YUtleSAhPT0gbWV0YSB8fCBldmVudC5jdHJsS2V5ICE9PSBjdHJsIHx8IGV2ZW50LmFsdEtleSAhPT0gYWx0IHx8IGV2ZW50LnNoaWZ0S2V5ICE9PSBzaGlmdDtcbiAgICB9XG59XG5jb25zdCBkZWZhdWx0RXZlbnROYW1lcyA9IHtcbiAgICBhOiAoKSA9PiBcImNsaWNrXCIsXG4gICAgYnV0dG9uOiAoKSA9PiBcImNsaWNrXCIsXG4gICAgZm9ybTogKCkgPT4gXCJzdWJtaXRcIixcbiAgICBkZXRhaWxzOiAoKSA9PiBcInRvZ2dsZVwiLFxuICAgIGlucHV0OiAoZSkgPT4gKGUuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSA9PSBcInN1Ym1pdFwiID8gXCJjbGlja1wiIDogXCJpbnB1dFwiKSxcbiAgICBzZWxlY3Q6ICgpID0+IFwiY2hhbmdlXCIsXG4gICAgdGV4dGFyZWE6ICgpID0+IFwiaW5wdXRcIixcbn07XG5mdW5jdGlvbiBnZXREZWZhdWx0RXZlbnROYW1lRm9yRWxlbWVudChlbGVtZW50KSB7XG4gICAgY29uc3QgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICh0YWdOYW1lIGluIGRlZmF1bHRFdmVudE5hbWVzKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0RXZlbnROYW1lc1t0YWdOYW1lXShlbGVtZW50KTtcbiAgICB9XG59XG5mdW5jdGlvbiBlcnJvcihtZXNzYWdlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xufVxuZnVuY3Rpb24gdHlwZWNhc3QodmFsdWUpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChvX08pIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn1cblxuY2xhc3MgQmluZGluZyB7XG4gICAgY29uc3RydWN0b3IoY29udGV4dCwgYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuYWN0aW9uID0gYWN0aW9uO1xuICAgIH1cbiAgICBnZXQgaW5kZXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbi5pbmRleDtcbiAgICB9XG4gICAgZ2V0IGV2ZW50VGFyZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3Rpb24uZXZlbnRUYXJnZXQ7XG4gICAgfVxuICAgIGdldCBldmVudE9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbi5ldmVudE9wdGlvbnM7XG4gICAgfVxuICAgIGdldCBpZGVudGlmaWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmlkZW50aWZpZXI7XG4gICAgfVxuICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGFjdGlvbkV2ZW50ID0gdGhpcy5wcmVwYXJlQWN0aW9uRXZlbnQoZXZlbnQpO1xuICAgICAgICBpZiAodGhpcy53aWxsQmVJbnZva2VkQnlFdmVudChldmVudCkgJiYgdGhpcy5hcHBseUV2ZW50TW9kaWZpZXJzKGFjdGlvbkV2ZW50KSkge1xuICAgICAgICAgICAgdGhpcy5pbnZva2VXaXRoRXZlbnQoYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBldmVudE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbi5ldmVudE5hbWU7XG4gICAgfVxuICAgIGdldCBtZXRob2QoKSB7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMuY29udHJvbGxlclt0aGlzLm1ldGhvZE5hbWVdO1xuICAgICAgICBpZiAodHlwZW9mIG1ldGhvZCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXRob2Q7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBY3Rpb24gXCIke3RoaXMuYWN0aW9ufVwiIHJlZmVyZW5jZXMgdW5kZWZpbmVkIG1ldGhvZCBcIiR7dGhpcy5tZXRob2ROYW1lfVwiYCk7XG4gICAgfVxuICAgIGFwcGx5RXZlbnRNb2RpZmllcnMoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50IH0gPSB0aGlzLmFjdGlvbjtcbiAgICAgICAgY29uc3QgeyBhY3Rpb25EZXNjcmlwdG9yRmlsdGVycyB9ID0gdGhpcy5jb250ZXh0LmFwcGxpY2F0aW9uO1xuICAgICAgICBjb25zdCB7IGNvbnRyb2xsZXIgfSA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgbGV0IHBhc3NlcyA9IHRydWU7XG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmV2ZW50T3B0aW9ucykpIHtcbiAgICAgICAgICAgIGlmIChuYW1lIGluIGFjdGlvbkRlc2NyaXB0b3JGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyID0gYWN0aW9uRGVzY3JpcHRvckZpbHRlcnNbbmFtZV07XG4gICAgICAgICAgICAgICAgcGFzc2VzID0gcGFzc2VzICYmIGZpbHRlcih7IG5hbWUsIHZhbHVlLCBldmVudCwgZWxlbWVudCwgY29udHJvbGxlciB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXNzZXM7XG4gICAgfVxuICAgIHByZXBhcmVBY3Rpb25FdmVudChldmVudCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihldmVudCwgeyBwYXJhbXM6IHRoaXMuYWN0aW9uLnBhcmFtcyB9KTtcbiAgICB9XG4gICAgaW52b2tlV2l0aEV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHsgdGFyZ2V0LCBjdXJyZW50VGFyZ2V0IH0gPSBldmVudDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMubWV0aG9kLmNhbGwodGhpcy5jb250cm9sbGVyLCBldmVudCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQubG9nRGVidWdBY3Rpdml0eSh0aGlzLm1ldGhvZE5hbWUsIHsgZXZlbnQsIHRhcmdldCwgY3VycmVudFRhcmdldCwgYWN0aW9uOiB0aGlzLm1ldGhvZE5hbWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCB7IGlkZW50aWZpZXIsIGNvbnRyb2xsZXIsIGVsZW1lbnQsIGluZGV4IH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgZGV0YWlsID0geyBpZGVudGlmaWVyLCBjb250cm9sbGVyLCBlbGVtZW50LCBpbmRleCwgZXZlbnQgfTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5oYW5kbGVFcnJvcihlcnJvciwgYGludm9raW5nIGFjdGlvbiBcIiR7dGhpcy5hY3Rpb259XCJgLCBkZXRhaWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdpbGxCZUludm9rZWRCeUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGV2ZW50VGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBLZXlib2FyZEV2ZW50ICYmIHRoaXMuYWN0aW9uLnNob3VsZElnbm9yZUtleWJvYXJkRXZlbnQoZXZlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCAmJiB0aGlzLmFjdGlvbi5zaG91bGRJZ25vcmVNb3VzZUV2ZW50KGV2ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQgPT09IGV2ZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudFRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQgJiYgdGhpcy5lbGVtZW50LmNvbnRhaW5zKGV2ZW50VGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuY29udGFpbnNFbGVtZW50KGV2ZW50VGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmNvbnRhaW5zRWxlbWVudCh0aGlzLmFjdGlvbi5lbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgY29udHJvbGxlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5jb250cm9sbGVyO1xuICAgIH1cbiAgICBnZXQgbWV0aG9kTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uLm1ldGhvZE5hbWU7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5lbGVtZW50O1xuICAgIH1cbiAgICBnZXQgc2NvcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc2NvcGU7XG4gICAgfVxufVxuXG5jbGFzcyBFbGVtZW50T2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGRlbGVnYXRlKSB7XG4gICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlckluaXQgPSB7IGF0dHJpYnV0ZXM6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9O1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICB0aGlzLmVsZW1lbnRzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB0aGlzLnByb2Nlc3NNdXRhdGlvbnMobXV0YXRpb25zKSk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMuZWxlbWVudCwgdGhpcy5tdXRhdGlvbk9ic2VydmVySW5pdCk7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXVzZShjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMuZWxlbWVudCwgdGhpcy5tdXRhdGlvbk9ic2VydmVySW5pdCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci50YWtlUmVjb3JkcygpO1xuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBuZXcgU2V0KHRoaXMubWF0Y2hFbGVtZW50c0luVHJlZSgpKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBBcnJheS5mcm9tKHRoaXMuZWxlbWVudHMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVzLmhhcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIEFycmF5LmZyb20obWF0Y2hlcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NNdXRhdGlvbihtdXRhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJvY2Vzc011dGF0aW9uKG11dGF0aW9uKSB7XG4gICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09IFwiYXR0cmlidXRlc1wiKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NBdHRyaWJ1dGVDaGFuZ2UobXV0YXRpb24udGFyZ2V0LCBtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtdXRhdGlvbi50eXBlID09IFwiY2hpbGRMaXN0XCIpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1JlbW92ZWROb2RlcyhtdXRhdGlvbi5yZW1vdmVkTm9kZXMpO1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzQWRkZWROb2RlcyhtdXRhdGlvbi5hZGRlZE5vZGVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzQXR0cmlidXRlQ2hhbmdlKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMuaGFzKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5lbGVtZW50QXR0cmlidXRlQ2hhbmdlZCAmJiB0aGlzLm1hdGNoRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZWxlbWVudEF0dHJpYnV0ZUNoYW5nZWQoZWxlbWVudCwgYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5tYXRjaEVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzUmVtb3ZlZE5vZGVzKG5vZGVzKSB7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBBcnJheS5mcm9tKG5vZGVzKSkge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudEZyb21Ob2RlKG5vZGUpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NUcmVlKGVsZW1lbnQsIHRoaXMucmVtb3ZlRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJvY2Vzc0FkZGVkTm9kZXMobm9kZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIEFycmF5LmZyb20obm9kZXMpKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50RnJvbU5vZGUobm9kZSk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCAmJiB0aGlzLmVsZW1lbnRJc0FjdGl2ZShlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc1RyZWUoZWxlbWVudCwgdGhpcy5hZGRFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXRjaEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5tYXRjaEVsZW1lbnQoZWxlbWVudCk7XG4gICAgfVxuICAgIG1hdGNoRWxlbWVudHNJblRyZWUodHJlZSA9IHRoaXMuZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5tYXRjaEVsZW1lbnRzSW5UcmVlKHRyZWUpO1xuICAgIH1cbiAgICBwcm9jZXNzVHJlZSh0cmVlLCBwcm9jZXNzb3IpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMubWF0Y2hFbGVtZW50c0luVHJlZSh0cmVlKSkge1xuICAgICAgICAgICAgcHJvY2Vzc29yLmNhbGwodGhpcywgZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudEZyb21Ob2RlKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRJc0FjdGl2ZShlbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50LmlzQ29ubmVjdGVkICE9IHRoaXMuZWxlbWVudC5pc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5jb250YWlucyhlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnRzLmhhcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudElzQWN0aXZlKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5hZGQoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuZWxlbWVudE1hdGNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5lbGVtZW50TWF0Y2hlZChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzLmhhcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5kZWxldGUoZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5lbGVtZW50VW5tYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5lbGVtZW50VW5tYXRjaGVkKGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBBdHRyaWJ1dGVPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgYXR0cmlidXRlTmFtZSwgZGVsZWdhdGUpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlTmFtZTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICB0aGlzLmVsZW1lbnRPYnNlcnZlciA9IG5ldyBFbGVtZW50T2JzZXJ2ZXIoZWxlbWVudCwgdGhpcyk7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50T2JzZXJ2ZXIuZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IHNlbGVjdG9yKCkge1xuICAgICAgICByZXR1cm4gYFske3RoaXMuYXR0cmlidXRlTmFtZX1dYDtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudE9ic2VydmVyLnN0YXJ0KCk7XG4gICAgfVxuICAgIHBhdXNlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudE9ic2VydmVyLnBhdXNlKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50T2JzZXJ2ZXIuc3RvcCgpO1xuICAgIH1cbiAgICByZWZyZXNoKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnRPYnNlcnZlci5yZWZyZXNoKCk7XG4gICAgfVxuICAgIGdldCBzdGFydGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50T2JzZXJ2ZXIuc3RhcnRlZDtcbiAgICB9XG4gICAgbWF0Y2hFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuaGFzQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlTmFtZSk7XG4gICAgfVxuICAgIG1hdGNoRWxlbWVudHNJblRyZWUodHJlZSkge1xuICAgICAgICBjb25zdCBtYXRjaCA9IHRoaXMubWF0Y2hFbGVtZW50KHRyZWUpID8gW3RyZWVdIDogW107XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBBcnJheS5mcm9tKHRyZWUucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNlbGVjdG9yKSk7XG4gICAgICAgIHJldHVybiBtYXRjaC5jb25jYXQobWF0Y2hlcyk7XG4gICAgfVxuICAgIGVsZW1lbnRNYXRjaGVkKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuZWxlbWVudE1hdGNoZWRBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZWxlbWVudE1hdGNoZWRBdHRyaWJ1dGUoZWxlbWVudCwgdGhpcy5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50VW5tYXRjaGVkKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuZWxlbWVudFVubWF0Y2hlZEF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5lbGVtZW50VW5tYXRjaGVkQXR0cmlidXRlKGVsZW1lbnQsIHRoaXMuYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudEF0dHJpYnV0ZUNoYW5nZWQoZWxlbWVudCwgYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5lbGVtZW50QXR0cmlidXRlVmFsdWVDaGFuZ2VkICYmIHRoaXMuYXR0cmlidXRlTmFtZSA9PSBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLmVsZW1lbnRBdHRyaWJ1dGVWYWx1ZUNoYW5nZWQoZWxlbWVudCwgYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFkZChtYXAsIGtleSwgdmFsdWUpIHtcbiAgICBmZXRjaChtYXAsIGtleSkuYWRkKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGRlbChtYXAsIGtleSwgdmFsdWUpIHtcbiAgICBmZXRjaChtYXAsIGtleSkuZGVsZXRlKHZhbHVlKTtcbiAgICBwcnVuZShtYXAsIGtleSk7XG59XG5mdW5jdGlvbiBmZXRjaChtYXAsIGtleSkge1xuICAgIGxldCB2YWx1ZXMgPSBtYXAuZ2V0KGtleSk7XG4gICAgaWYgKCF2YWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzID0gbmV3IFNldCgpO1xuICAgICAgICBtYXAuc2V0KGtleSwgdmFsdWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlcztcbn1cbmZ1bmN0aW9uIHBydW5lKG1hcCwga2V5KSB7XG4gICAgY29uc3QgdmFsdWVzID0gbWFwLmdldChrZXkpO1xuICAgIGlmICh2YWx1ZXMgIT0gbnVsbCAmJiB2YWx1ZXMuc2l6ZSA9PSAwKSB7XG4gICAgICAgIG1hcC5kZWxldGUoa2V5KTtcbiAgICB9XG59XG5cbmNsYXNzIE11bHRpbWFwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy52YWx1ZXNCeUtleSA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgZ2V0IGtleXMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMudmFsdWVzQnlLZXkua2V5cygpKTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlcygpIHtcbiAgICAgICAgY29uc3Qgc2V0cyA9IEFycmF5LmZyb20odGhpcy52YWx1ZXNCeUtleS52YWx1ZXMoKSk7XG4gICAgICAgIHJldHVybiBzZXRzLnJlZHVjZSgodmFsdWVzLCBzZXQpID0+IHZhbHVlcy5jb25jYXQoQXJyYXkuZnJvbShzZXQpKSwgW10pO1xuICAgIH1cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgY29uc3Qgc2V0cyA9IEFycmF5LmZyb20odGhpcy52YWx1ZXNCeUtleS52YWx1ZXMoKSk7XG4gICAgICAgIHJldHVybiBzZXRzLnJlZHVjZSgoc2l6ZSwgc2V0KSA9PiBzaXplICsgc2V0LnNpemUsIDApO1xuICAgIH1cbiAgICBhZGQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBhZGQodGhpcy52YWx1ZXNCeUtleSwga2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIGRlbGV0ZShrZXksIHZhbHVlKSB7XG4gICAgICAgIGRlbCh0aGlzLnZhbHVlc0J5S2V5LCBrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgaGFzKGtleSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gdGhpcy52YWx1ZXNCeUtleS5nZXQoa2V5KTtcbiAgICAgICAgcmV0dXJuIHZhbHVlcyAhPSBudWxsICYmIHZhbHVlcy5oYXModmFsdWUpO1xuICAgIH1cbiAgICBoYXNLZXkoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlc0J5S2V5LmhhcyhrZXkpO1xuICAgIH1cbiAgICBoYXNWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBzZXRzID0gQXJyYXkuZnJvbSh0aGlzLnZhbHVlc0J5S2V5LnZhbHVlcygpKTtcbiAgICAgICAgcmV0dXJuIHNldHMuc29tZSgoc2V0KSA9PiBzZXQuaGFzKHZhbHVlKSk7XG4gICAgfVxuICAgIGdldFZhbHVlc0ZvcktleShrZXkpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gdGhpcy52YWx1ZXNCeUtleS5nZXQoa2V5KTtcbiAgICAgICAgcmV0dXJuIHZhbHVlcyA/IEFycmF5LmZyb20odmFsdWVzKSA6IFtdO1xuICAgIH1cbiAgICBnZXRLZXlzRm9yVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy52YWx1ZXNCeUtleSlcbiAgICAgICAgICAgIC5maWx0ZXIoKFtfa2V5LCB2YWx1ZXNdKSA9PiB2YWx1ZXMuaGFzKHZhbHVlKSlcbiAgICAgICAgICAgIC5tYXAoKFtrZXksIF92YWx1ZXNdKSA9PiBrZXkpO1xuICAgIH1cbn1cblxuY2xhc3MgSW5kZXhlZE11bHRpbWFwIGV4dGVuZHMgTXVsdGltYXAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmtleXNCeVZhbHVlID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBnZXQgdmFsdWVzKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmtleXNCeVZhbHVlLmtleXMoKSk7XG4gICAgfVxuICAgIGFkZChrZXksIHZhbHVlKSB7XG4gICAgICAgIHN1cGVyLmFkZChrZXksIHZhbHVlKTtcbiAgICAgICAgYWRkKHRoaXMua2V5c0J5VmFsdWUsIHZhbHVlLCBrZXkpO1xuICAgIH1cbiAgICBkZWxldGUoa2V5LCB2YWx1ZSkge1xuICAgICAgICBzdXBlci5kZWxldGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIGRlbCh0aGlzLmtleXNCeVZhbHVlLCB2YWx1ZSwga2V5KTtcbiAgICB9XG4gICAgaGFzVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5c0J5VmFsdWUuaGFzKHZhbHVlKTtcbiAgICB9XG4gICAgZ2V0S2V5c0ZvclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHNldCA9IHRoaXMua2V5c0J5VmFsdWUuZ2V0KHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHNldCA/IEFycmF5LmZyb20oc2V0KSA6IFtdO1xuICAgIH1cbn1cblxuY2xhc3MgU2VsZWN0b3JPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgc2VsZWN0b3IsIGRlbGVnYXRlLCBkZXRhaWxzKSB7XG4gICAgICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgICAgIHRoaXMuZGV0YWlscyA9IGRldGFpbHM7XG4gICAgICAgIHRoaXMuZWxlbWVudE9ic2VydmVyID0gbmV3IEVsZW1lbnRPYnNlcnZlcihlbGVtZW50LCB0aGlzKTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICB0aGlzLm1hdGNoZXNCeUVsZW1lbnQgPSBuZXcgTXVsdGltYXAoKTtcbiAgICB9XG4gICAgZ2V0IHN0YXJ0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRPYnNlcnZlci5zdGFydGVkO1xuICAgIH1cbiAgICBnZXQgc2VsZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RvcjtcbiAgICB9XG4gICAgc2V0IHNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50T2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICB9XG4gICAgcGF1c2UoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5lbGVtZW50T2JzZXJ2ZXIucGF1c2UoY2FsbGJhY2spO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnRPYnNlcnZlci5zdG9wKCk7XG4gICAgfVxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudE9ic2VydmVyLnJlZnJlc2goKTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRPYnNlcnZlci5lbGVtZW50O1xuICAgIH1cbiAgICBtYXRjaEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCB7IHNlbGVjdG9yIH0gPSB0aGlzO1xuICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBlbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuc2VsZWN0b3JNYXRjaEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlcyAmJiB0aGlzLmRlbGVnYXRlLnNlbGVjdG9yTWF0Y2hFbGVtZW50KGVsZW1lbnQsIHRoaXMuZGV0YWlscyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXRjaEVsZW1lbnRzSW5UcmVlKHRyZWUpIHtcbiAgICAgICAgY29uc3QgeyBzZWxlY3RvciB9ID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IHRoaXMubWF0Y2hFbGVtZW50KHRyZWUpID8gW3RyZWVdIDogW107XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gQXJyYXkuZnJvbSh0cmVlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKS5maWx0ZXIoKG1hdGNoKSA9PiB0aGlzLm1hdGNoRWxlbWVudChtYXRjaCkpO1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoLmNvbmNhdChtYXRjaGVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50TWF0Y2hlZChlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHsgc2VsZWN0b3IgfSA9IHRoaXM7XG4gICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rvck1hdGNoZWQoZWxlbWVudCwgc2VsZWN0b3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRVbm1hdGNoZWQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBzZWxlY3RvcnMgPSB0aGlzLm1hdGNoZXNCeUVsZW1lbnQuZ2V0S2V5c0ZvclZhbHVlKGVsZW1lbnQpO1xuICAgICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIHNlbGVjdG9ycykge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RvclVubWF0Y2hlZChlbGVtZW50LCBzZWxlY3Rvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudEF0dHJpYnV0ZUNoYW5nZWQoZWxlbWVudCwgX2F0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgY29uc3QgeyBzZWxlY3RvciB9ID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gdGhpcy5tYXRjaEVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVkQmVmb3JlID0gdGhpcy5tYXRjaGVzQnlFbGVtZW50LmhhcyhzZWxlY3RvciwgZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAobWF0Y2hlcyAmJiAhbWF0Y2hlZEJlZm9yZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0b3JNYXRjaGVkKGVsZW1lbnQsIHNlbGVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFtYXRjaGVzICYmIG1hdGNoZWRCZWZvcmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yVW5tYXRjaGVkKGVsZW1lbnQsIHNlbGVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZWxlY3Rvck1hdGNoZWQoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS5zZWxlY3Rvck1hdGNoZWQoZWxlbWVudCwgc2VsZWN0b3IsIHRoaXMuZGV0YWlscyk7XG4gICAgICAgIHRoaXMubWF0Y2hlc0J5RWxlbWVudC5hZGQoc2VsZWN0b3IsIGVsZW1lbnQpO1xuICAgIH1cbiAgICBzZWxlY3RvclVubWF0Y2hlZChlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgICAgICB0aGlzLmRlbGVnYXRlLnNlbGVjdG9yVW5tYXRjaGVkKGVsZW1lbnQsIHNlbGVjdG9yLCB0aGlzLmRldGFpbHMpO1xuICAgICAgICB0aGlzLm1hdGNoZXNCeUVsZW1lbnQuZGVsZXRlKHNlbGVjdG9yLCBlbGVtZW50KTtcbiAgICB9XG59XG5cbmNsYXNzIFN0cmluZ01hcE9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBkZWxlZ2F0ZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0cmluZ01hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4gdGhpcy5wcm9jZXNzTXV0YXRpb25zKG11dGF0aW9ucykpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmVsZW1lbnQsIHsgYXR0cmlidXRlczogdHJ1ZSwgYXR0cmlidXRlT2xkVmFsdWU6IHRydWUgfSk7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIudGFrZVJlY29yZHMoKTtcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWZyZXNoKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZU5hbWUgb2YgdGhpcy5rbm93bkF0dHJpYnV0ZU5hbWVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHByb2Nlc3NNdXRhdGlvbnMobXV0YXRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzTXV0YXRpb24obXV0YXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHByb2Nlc3NNdXRhdGlvbihtdXRhdGlvbikge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gbXV0YXRpb24uYXR0cmlidXRlTmFtZTtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCBtdXRhdGlvbi5vbGRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVmcmVzaEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCBvbGRWYWx1ZSkge1xuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmRlbGVnYXRlLmdldFN0cmluZ01hcEtleUZvckF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgaWYgKGtleSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RyaW5nTWFwLmhhcyhhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyaW5nTWFwS2V5QWRkZWQoa2V5LCBhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0cmluZ01hcC5nZXQoYXR0cmlidXRlTmFtZSkgIT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmluZ01hcFZhbHVlQ2hhbmdlZCh2YWx1ZSwga2V5LCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy5zdHJpbmdNYXAuZ2V0KGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyaW5nTWFwLmRlbGV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAob2xkVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyaW5nTWFwS2V5UmVtb3ZlZChrZXksIGF0dHJpYnV0ZU5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyaW5nTWFwLnNldChhdHRyaWJ1dGVOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RyaW5nTWFwS2V5QWRkZWQoa2V5LCBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlLnN0cmluZ01hcEtleUFkZGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLnN0cmluZ01hcEtleUFkZGVkKGtleSwgYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RyaW5nTWFwVmFsdWVDaGFuZ2VkKHZhbHVlLCBrZXksIG9sZFZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlLnN0cmluZ01hcFZhbHVlQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5zdHJpbmdNYXBWYWx1ZUNoYW5nZWQodmFsdWUsIGtleSwgb2xkVmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0cmluZ01hcEtleVJlbW92ZWQoa2V5LCBhdHRyaWJ1dGVOYW1lLCBvbGRWYWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5zdHJpbmdNYXBLZXlSZW1vdmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLnN0cmluZ01hcEtleVJlbW92ZWQoa2V5LCBhdHRyaWJ1dGVOYW1lLCBvbGRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGtub3duQXR0cmlidXRlTmFtZXMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQodGhpcy5jdXJyZW50QXR0cmlidXRlTmFtZXMuY29uY2F0KHRoaXMucmVjb3JkZWRBdHRyaWJ1dGVOYW1lcykpKTtcbiAgICB9XG4gICAgZ2V0IGN1cnJlbnRBdHRyaWJ1dGVOYW1lcygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5lbGVtZW50LmF0dHJpYnV0ZXMpLm1hcCgoYXR0cmlidXRlKSA9PiBhdHRyaWJ1dGUubmFtZSk7XG4gICAgfVxuICAgIGdldCByZWNvcmRlZEF0dHJpYnV0ZU5hbWVzKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnN0cmluZ01hcC5rZXlzKCkpO1xuICAgIH1cbn1cblxuY2xhc3MgVG9rZW5MaXN0T2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIGRlbGVnYXRlKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlT2JzZXJ2ZXIgPSBuZXcgQXR0cmlidXRlT2JzZXJ2ZXIoZWxlbWVudCwgYXR0cmlidXRlTmFtZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgdGhpcy50b2tlbnNCeUVsZW1lbnQgPSBuZXcgTXVsdGltYXAoKTtcbiAgICB9XG4gICAgZ2V0IHN0YXJ0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZU9ic2VydmVyLnN0YXJ0ZWQ7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZU9ic2VydmVyLnN0YXJ0KCk7XG4gICAgfVxuICAgIHBhdXNlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlT2JzZXJ2ZXIucGF1c2UoY2FsbGJhY2spO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZU9ic2VydmVyLnN0b3AoKTtcbiAgICB9XG4gICAgcmVmcmVzaCgpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYnNlcnZlci5yZWZyZXNoKCk7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVPYnNlcnZlci5lbGVtZW50O1xuICAgIH1cbiAgICBnZXQgYXR0cmlidXRlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlT2JzZXJ2ZXIuYXR0cmlidXRlTmFtZTtcbiAgICB9XG4gICAgZWxlbWVudE1hdGNoZWRBdHRyaWJ1dGUoZWxlbWVudCkge1xuICAgICAgICB0aGlzLnRva2Vuc01hdGNoZWQodGhpcy5yZWFkVG9rZW5zRm9yRWxlbWVudChlbGVtZW50KSk7XG4gICAgfVxuICAgIGVsZW1lbnRBdHRyaWJ1dGVWYWx1ZUNoYW5nZWQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBbdW5tYXRjaGVkVG9rZW5zLCBtYXRjaGVkVG9rZW5zXSA9IHRoaXMucmVmcmVzaFRva2Vuc0ZvckVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgIHRoaXMudG9rZW5zVW5tYXRjaGVkKHVubWF0Y2hlZFRva2Vucyk7XG4gICAgICAgIHRoaXMudG9rZW5zTWF0Y2hlZChtYXRjaGVkVG9rZW5zKTtcbiAgICB9XG4gICAgZWxlbWVudFVubWF0Y2hlZEF0dHJpYnV0ZShlbGVtZW50KSB7XG4gICAgICAgIHRoaXMudG9rZW5zVW5tYXRjaGVkKHRoaXMudG9rZW5zQnlFbGVtZW50LmdldFZhbHVlc0ZvcktleShlbGVtZW50KSk7XG4gICAgfVxuICAgIHRva2Vuc01hdGNoZWQodG9rZW5zKSB7XG4gICAgICAgIHRva2Vucy5mb3JFYWNoKCh0b2tlbikgPT4gdGhpcy50b2tlbk1hdGNoZWQodG9rZW4pKTtcbiAgICB9XG4gICAgdG9rZW5zVW5tYXRjaGVkKHRva2Vucykge1xuICAgICAgICB0b2tlbnMuZm9yRWFjaCgodG9rZW4pID0+IHRoaXMudG9rZW5Vbm1hdGNoZWQodG9rZW4pKTtcbiAgICB9XG4gICAgdG9rZW5NYXRjaGVkKHRva2VuKSB7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUudG9rZW5NYXRjaGVkKHRva2VuKTtcbiAgICAgICAgdGhpcy50b2tlbnNCeUVsZW1lbnQuYWRkKHRva2VuLmVsZW1lbnQsIHRva2VuKTtcbiAgICB9XG4gICAgdG9rZW5Vbm1hdGNoZWQodG9rZW4pIHtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS50b2tlblVubWF0Y2hlZCh0b2tlbik7XG4gICAgICAgIHRoaXMudG9rZW5zQnlFbGVtZW50LmRlbGV0ZSh0b2tlbi5lbGVtZW50LCB0b2tlbik7XG4gICAgfVxuICAgIHJlZnJlc2hUb2tlbnNGb3JFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNUb2tlbnMgPSB0aGlzLnRva2Vuc0J5RWxlbWVudC5nZXRWYWx1ZXNGb3JLZXkoZWxlbWVudCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUb2tlbnMgPSB0aGlzLnJlYWRUb2tlbnNGb3JFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICBjb25zdCBmaXJzdERpZmZlcmluZ0luZGV4ID0gemlwKHByZXZpb3VzVG9rZW5zLCBjdXJyZW50VG9rZW5zKS5maW5kSW5kZXgoKFtwcmV2aW91c1Rva2VuLCBjdXJyZW50VG9rZW5dKSA9PiAhdG9rZW5zQXJlRXF1YWwocHJldmlvdXNUb2tlbiwgY3VycmVudFRva2VuKSk7XG4gICAgICAgIGlmIChmaXJzdERpZmZlcmluZ0luZGV4ID09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gW1tdLCBbXV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW3ByZXZpb3VzVG9rZW5zLnNsaWNlKGZpcnN0RGlmZmVyaW5nSW5kZXgpLCBjdXJyZW50VG9rZW5zLnNsaWNlKGZpcnN0RGlmZmVyaW5nSW5kZXgpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWFkVG9rZW5zRm9yRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSB0aGlzLmF0dHJpYnV0ZU5hbWU7XG4gICAgICAgIGNvbnN0IHRva2VuU3RyaW5nID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkgfHwgXCJcIjtcbiAgICAgICAgcmV0dXJuIHBhcnNlVG9rZW5TdHJpbmcodG9rZW5TdHJpbmcsIGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHBhcnNlVG9rZW5TdHJpbmcodG9rZW5TdHJpbmcsIGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICByZXR1cm4gdG9rZW5TdHJpbmdcbiAgICAgICAgLnRyaW0oKVxuICAgICAgICAuc3BsaXQoL1xccysvKVxuICAgICAgICAuZmlsdGVyKChjb250ZW50KSA9PiBjb250ZW50Lmxlbmd0aClcbiAgICAgICAgLm1hcCgoY29udGVudCwgaW5kZXgpID0+ICh7IGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIGNvbnRlbnQsIGluZGV4IH0pKTtcbn1cbmZ1bmN0aW9uIHppcChsZWZ0LCByaWdodCkge1xuICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KGxlZnQubGVuZ3RoLCByaWdodC5sZW5ndGgpO1xuICAgIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoIH0sIChfLCBpbmRleCkgPT4gW2xlZnRbaW5kZXhdLCByaWdodFtpbmRleF1dKTtcbn1cbmZ1bmN0aW9uIHRva2Vuc0FyZUVxdWFsKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIGxlZnQgJiYgcmlnaHQgJiYgbGVmdC5pbmRleCA9PSByaWdodC5pbmRleCAmJiBsZWZ0LmNvbnRlbnQgPT0gcmlnaHQuY29udGVudDtcbn1cblxuY2xhc3MgVmFsdWVMaXN0T2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIGRlbGVnYXRlKSB7XG4gICAgICAgIHRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIgPSBuZXcgVG9rZW5MaXN0T2JzZXJ2ZXIoZWxlbWVudCwgYXR0cmlidXRlTmFtZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgdGhpcy5wYXJzZVJlc3VsdHNCeVRva2VuID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgdGhpcy52YWx1ZXNCeVRva2VuQnlFbGVtZW50ID0gbmV3IFdlYWtNYXAoKTtcbiAgICB9XG4gICAgZ2V0IHN0YXJ0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRva2VuTGlzdE9ic2VydmVyLnN0YXJ0ZWQ7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnRva2VuTGlzdE9ic2VydmVyLnN0YXJ0KCk7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIuc3RvcCgpO1xuICAgIH1cbiAgICByZWZyZXNoKCkge1xuICAgICAgICB0aGlzLnRva2VuTGlzdE9ic2VydmVyLnJlZnJlc2goKTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRva2VuTGlzdE9ic2VydmVyLmVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBhdHRyaWJ1dGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlbkxpc3RPYnNlcnZlci5hdHRyaWJ1dGVOYW1lO1xuICAgIH1cbiAgICB0b2tlbk1hdGNoZWQodG9rZW4pIHtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50IH0gPSB0b2tlbjtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gdGhpcy5mZXRjaFBhcnNlUmVzdWx0Rm9yVG9rZW4odG9rZW4pO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZmV0Y2hWYWx1ZXNCeVRva2VuRm9yRWxlbWVudChlbGVtZW50KS5zZXQodG9rZW4sIHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZWxlbWVudE1hdGNoZWRWYWx1ZShlbGVtZW50LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9rZW5Vbm1hdGNoZWQodG9rZW4pIHtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50IH0gPSB0b2tlbjtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gdGhpcy5mZXRjaFBhcnNlUmVzdWx0Rm9yVG9rZW4odG9rZW4pO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZmV0Y2hWYWx1ZXNCeVRva2VuRm9yRWxlbWVudChlbGVtZW50KS5kZWxldGUodG9rZW4pO1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5lbGVtZW50VW5tYXRjaGVkVmFsdWUoZWxlbWVudCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZldGNoUGFyc2VSZXN1bHRGb3JUb2tlbih0b2tlbikge1xuICAgICAgICBsZXQgcGFyc2VSZXN1bHQgPSB0aGlzLnBhcnNlUmVzdWx0c0J5VG9rZW4uZ2V0KHRva2VuKTtcbiAgICAgICAgaWYgKCFwYXJzZVJlc3VsdCkge1xuICAgICAgICAgICAgcGFyc2VSZXN1bHQgPSB0aGlzLnBhcnNlVG9rZW4odG9rZW4pO1xuICAgICAgICAgICAgdGhpcy5wYXJzZVJlc3VsdHNCeVRva2VuLnNldCh0b2tlbiwgcGFyc2VSZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZVJlc3VsdDtcbiAgICB9XG4gICAgZmV0Y2hWYWx1ZXNCeVRva2VuRm9yRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIGxldCB2YWx1ZXNCeVRva2VuID0gdGhpcy52YWx1ZXNCeVRva2VuQnlFbGVtZW50LmdldChlbGVtZW50KTtcbiAgICAgICAgaWYgKCF2YWx1ZXNCeVRva2VuKSB7XG4gICAgICAgICAgICB2YWx1ZXNCeVRva2VuID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNCeVRva2VuQnlFbGVtZW50LnNldChlbGVtZW50LCB2YWx1ZXNCeVRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWVzQnlUb2tlbjtcbiAgICB9XG4gICAgcGFyc2VUb2tlbih0b2tlbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmRlbGVnYXRlLnBhcnNlVmFsdWVGb3JUb2tlbih0b2tlbik7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgQmluZGluZ09ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBkZWxlZ2F0ZSkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgICAgIHRoaXMuYmluZGluZ3NCeUFjdGlvbiA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy52YWx1ZUxpc3RPYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy52YWx1ZUxpc3RPYnNlcnZlciA9IG5ldyBWYWx1ZUxpc3RPYnNlcnZlcih0aGlzLmVsZW1lbnQsIHRoaXMuYWN0aW9uQXR0cmlidXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVMaXN0T2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZUxpc3RPYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy52YWx1ZUxpc3RPYnNlcnZlci5zdG9wKCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy52YWx1ZUxpc3RPYnNlcnZlcjtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdEFsbEFjdGlvbnMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5lbGVtZW50O1xuICAgIH1cbiAgICBnZXQgaWRlbnRpZmllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5pZGVudGlmaWVyO1xuICAgIH1cbiAgICBnZXQgYWN0aW9uQXR0cmlidXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2hlbWEuYWN0aW9uQXR0cmlidXRlO1xuICAgIH1cbiAgICBnZXQgc2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnNjaGVtYTtcbiAgICB9XG4gICAgZ2V0IGJpbmRpbmdzKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmJpbmRpbmdzQnlBY3Rpb24udmFsdWVzKCkpO1xuICAgIH1cbiAgICBjb25uZWN0QWN0aW9uKGFjdGlvbikge1xuICAgICAgICBjb25zdCBiaW5kaW5nID0gbmV3IEJpbmRpbmcodGhpcy5jb250ZXh0LCBhY3Rpb24pO1xuICAgICAgICB0aGlzLmJpbmRpbmdzQnlBY3Rpb24uc2V0KGFjdGlvbiwgYmluZGluZyk7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUuYmluZGluZ0Nvbm5lY3RlZChiaW5kaW5nKTtcbiAgICB9XG4gICAgZGlzY29ubmVjdEFjdGlvbihhY3Rpb24pIHtcbiAgICAgICAgY29uc3QgYmluZGluZyA9IHRoaXMuYmluZGluZ3NCeUFjdGlvbi5nZXQoYWN0aW9uKTtcbiAgICAgICAgaWYgKGJpbmRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZ3NCeUFjdGlvbi5kZWxldGUoYWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuYmluZGluZ0Rpc2Nvbm5lY3RlZChiaW5kaW5nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNjb25uZWN0QWxsQWN0aW9ucygpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5ncy5mb3JFYWNoKChiaW5kaW5nKSA9PiB0aGlzLmRlbGVnYXRlLmJpbmRpbmdEaXNjb25uZWN0ZWQoYmluZGluZywgdHJ1ZSkpO1xuICAgICAgICB0aGlzLmJpbmRpbmdzQnlBY3Rpb24uY2xlYXIoKTtcbiAgICB9XG4gICAgcGFyc2VWYWx1ZUZvclRva2VuKHRva2VuKSB7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IEFjdGlvbi5mb3JUb2tlbih0b2tlbiwgdGhpcy5zY2hlbWEpO1xuICAgICAgICBpZiAoYWN0aW9uLmlkZW50aWZpZXIgPT0gdGhpcy5pZGVudGlmaWVyKSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRNYXRjaGVkVmFsdWUoZWxlbWVudCwgYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdEFjdGlvbihhY3Rpb24pO1xuICAgIH1cbiAgICBlbGVtZW50VW5tYXRjaGVkVmFsdWUoZWxlbWVudCwgYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdEFjdGlvbihhY3Rpb24pO1xuICAgIH1cbn1cblxuY2xhc3MgVmFsdWVPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoY29udGV4dCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5yZWNlaXZlciA9IHJlY2VpdmVyO1xuICAgICAgICB0aGlzLnN0cmluZ01hcE9ic2VydmVyID0gbmV3IFN0cmluZ01hcE9ic2VydmVyKHRoaXMuZWxlbWVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMudmFsdWVEZXNjcmlwdG9yTWFwID0gdGhpcy5jb250cm9sbGVyLnZhbHVlRGVzY3JpcHRvck1hcDtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuc3RyaW5nTWFwT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgICAgdGhpcy5pbnZva2VDaGFuZ2VkQ2FsbGJhY2tzRm9yRGVmYXVsdFZhbHVlcygpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLnN0cmluZ01hcE9ic2VydmVyLnN0b3AoKTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IGNvbnRyb2xsZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuY29udHJvbGxlcjtcbiAgICB9XG4gICAgZ2V0U3RyaW5nTWFwS2V5Rm9yQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZU5hbWUgaW4gdGhpcy52YWx1ZURlc2NyaXB0b3JNYXApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlRGVzY3JpcHRvck1hcFthdHRyaWJ1dGVOYW1lXS5uYW1lO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0cmluZ01hcEtleUFkZGVkKGtleSwgYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gdGhpcy52YWx1ZURlc2NyaXB0b3JNYXBbYXR0cmlidXRlTmFtZV07XG4gICAgICAgIGlmICghdGhpcy5oYXNWYWx1ZShrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLmludm9rZUNoYW5nZWRDYWxsYmFjayhrZXksIGRlc2NyaXB0b3Iud3JpdGVyKHRoaXMucmVjZWl2ZXJba2V5XSksIGRlc2NyaXB0b3Iud3JpdGVyKGRlc2NyaXB0b3IuZGVmYXVsdFZhbHVlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RyaW5nTWFwVmFsdWVDaGFuZ2VkKHZhbHVlLCBuYW1lLCBvbGRWYWx1ZSkge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gdGhpcy52YWx1ZURlc2NyaXB0b3JOYW1lTWFwW25hbWVdO1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChvbGRWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgb2xkVmFsdWUgPSBkZXNjcmlwdG9yLndyaXRlcihkZXNjcmlwdG9yLmRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnZva2VDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICB9XG4gICAgc3RyaW5nTWFwS2V5UmVtb3ZlZChrZXksIGF0dHJpYnV0ZU5hbWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB0aGlzLnZhbHVlRGVzY3JpcHRvck5hbWVNYXBba2V5XTtcbiAgICAgICAgaWYgKHRoaXMuaGFzVmFsdWUoa2V5KSkge1xuICAgICAgICAgICAgdGhpcy5pbnZva2VDaGFuZ2VkQ2FsbGJhY2soa2V5LCBkZXNjcmlwdG9yLndyaXRlcih0aGlzLnJlY2VpdmVyW2tleV0pLCBvbGRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmludm9rZUNoYW5nZWRDYWxsYmFjayhrZXksIGRlc2NyaXB0b3Iud3JpdGVyKGRlc2NyaXB0b3IuZGVmYXVsdFZhbHVlKSwgb2xkVmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGludm9rZUNoYW5nZWRDYWxsYmFja3NGb3JEZWZhdWx0VmFsdWVzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHsga2V5LCBuYW1lLCBkZWZhdWx0VmFsdWUsIHdyaXRlciB9IG9mIHRoaXMudmFsdWVEZXNjcmlwdG9ycykge1xuICAgICAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSAhPSB1bmRlZmluZWQgJiYgIXRoaXMuY29udHJvbGxlci5kYXRhLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnZva2VDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgd3JpdGVyKGRlZmF1bHRWYWx1ZSksIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW52b2tlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIHJhd1ZhbHVlLCByYXdPbGRWYWx1ZSkge1xuICAgICAgICBjb25zdCBjaGFuZ2VkTWV0aG9kTmFtZSA9IGAke25hbWV9Q2hhbmdlZGA7XG4gICAgICAgIGNvbnN0IGNoYW5nZWRNZXRob2QgPSB0aGlzLnJlY2VpdmVyW2NoYW5nZWRNZXRob2ROYW1lXTtcbiAgICAgICAgaWYgKHR5cGVvZiBjaGFuZ2VkTWV0aG9kID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHRoaXMudmFsdWVEZXNjcmlwdG9yTmFtZU1hcFtuYW1lXTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkZXNjcmlwdG9yLnJlYWRlcihyYXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgbGV0IG9sZFZhbHVlID0gcmF3T2xkVmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHJhd09sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlID0gZGVzY3JpcHRvci5yZWFkZXIocmF3T2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGFuZ2VkTWV0aG9kLmNhbGwodGhpcy5yZWNlaXZlciwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFR5cGVFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlID0gYFN0aW11bHVzIFZhbHVlIFwiJHt0aGlzLmNvbnRleHQuaWRlbnRpZmllcn0uJHtkZXNjcmlwdG9yLm5hbWV9XCIgLSAke2Vycm9yLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHZhbHVlRGVzY3JpcHRvcnMoKSB7XG4gICAgICAgIGNvbnN0IHsgdmFsdWVEZXNjcmlwdG9yTWFwIH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModmFsdWVEZXNjcmlwdG9yTWFwKS5tYXAoKGtleSkgPT4gdmFsdWVEZXNjcmlwdG9yTWFwW2tleV0pO1xuICAgIH1cbiAgICBnZXQgdmFsdWVEZXNjcmlwdG9yTmFtZU1hcCgpIHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvcnMgPSB7fTtcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy52YWx1ZURlc2NyaXB0b3JNYXApLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHRoaXMudmFsdWVEZXNjcmlwdG9yTWFwW2tleV07XG4gICAgICAgICAgICBkZXNjcmlwdG9yc1tkZXNjcmlwdG9yLm5hbWVdID0gZGVzY3JpcHRvcjtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZXNjcmlwdG9ycztcbiAgICB9XG4gICAgaGFzVmFsdWUoYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gdGhpcy52YWx1ZURlc2NyaXB0b3JOYW1lTWFwW2F0dHJpYnV0ZU5hbWVdO1xuICAgICAgICBjb25zdCBoYXNNZXRob2ROYW1lID0gYGhhcyR7Y2FwaXRhbGl6ZShkZXNjcmlwdG9yLm5hbWUpfWA7XG4gICAgICAgIHJldHVybiB0aGlzLnJlY2VpdmVyW2hhc01ldGhvZE5hbWVdO1xuICAgIH1cbn1cblxuY2xhc3MgVGFyZ2V0T2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIGRlbGVnYXRlKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgdGhpcy50YXJnZXRzQnlOYW1lID0gbmV3IE11bHRpbWFwKCk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIgPSBuZXcgVG9rZW5MaXN0T2JzZXJ2ZXIodGhpcy5lbGVtZW50LCB0aGlzLmF0dHJpYnV0ZU5hbWUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy50b2tlbkxpc3RPYnNlcnZlci5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLnRva2VuTGlzdE9ic2VydmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3RBbGxUYXJnZXRzKCk7XG4gICAgICAgICAgICB0aGlzLnRva2VuTGlzdE9ic2VydmVyLnN0b3AoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnRva2VuTGlzdE9ic2VydmVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRva2VuTWF0Y2hlZCh7IGVsZW1lbnQsIGNvbnRlbnQ6IG5hbWUgfSkge1xuICAgICAgICBpZiAodGhpcy5zY29wZS5jb250YWluc0VsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdFRhcmdldChlbGVtZW50LCBuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b2tlblVubWF0Y2hlZCh7IGVsZW1lbnQsIGNvbnRlbnQ6IG5hbWUgfSkge1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RUYXJnZXQoZWxlbWVudCwgbmFtZSk7XG4gICAgfVxuICAgIGNvbm5lY3RUYXJnZXQoZWxlbWVudCwgbmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy50YXJnZXRzQnlOYW1lLmhhcyhuYW1lLCBlbGVtZW50KSkge1xuICAgICAgICAgICAgdGhpcy50YXJnZXRzQnlOYW1lLmFkZChuYW1lLCBlbGVtZW50KTtcbiAgICAgICAgICAgIChfYSA9IHRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wYXVzZSgoKSA9PiB0aGlzLmRlbGVnYXRlLnRhcmdldENvbm5lY3RlZChlbGVtZW50LCBuYW1lKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzY29ubmVjdFRhcmdldChlbGVtZW50LCBuYW1lKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0c0J5TmFtZS5oYXMobmFtZSwgZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0c0J5TmFtZS5kZWxldGUobmFtZSwgZWxlbWVudCk7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLnRva2VuTGlzdE9ic2VydmVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGF1c2UoKCkgPT4gdGhpcy5kZWxlZ2F0ZS50YXJnZXREaXNjb25uZWN0ZWQoZWxlbWVudCwgbmFtZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RBbGxUYXJnZXRzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgdGhpcy50YXJnZXRzQnlOYW1lLmtleXMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLnRhcmdldHNCeU5hbWUuZ2V0VmFsdWVzRm9yS2V5KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0VGFyZ2V0KGVsZW1lbnQsIG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBhdHRyaWJ1dGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gYGRhdGEtJHt0aGlzLmNvbnRleHQuaWRlbnRpZmllcn0tdGFyZ2V0YDtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IHNjb3BlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnNjb3BlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVhZEluaGVyaXRhYmxlU3RhdGljQXJyYXlWYWx1ZXMoY29uc3RydWN0b3IsIHByb3BlcnR5TmFtZSkge1xuICAgIGNvbnN0IGFuY2VzdG9ycyA9IGdldEFuY2VzdG9yc0ZvckNvbnN0cnVjdG9yKGNvbnN0cnVjdG9yKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShhbmNlc3RvcnMucmVkdWNlKCh2YWx1ZXMsIGNvbnN0cnVjdG9yKSA9PiB7XG4gICAgICAgIGdldE93blN0YXRpY0FycmF5VmFsdWVzKGNvbnN0cnVjdG9yLCBwcm9wZXJ0eU5hbWUpLmZvckVhY2goKG5hbWUpID0+IHZhbHVlcy5hZGQobmFtZSkpO1xuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH0sIG5ldyBTZXQoKSkpO1xufVxuZnVuY3Rpb24gcmVhZEluaGVyaXRhYmxlU3RhdGljT2JqZWN0UGFpcnMoY29uc3RydWN0b3IsIHByb3BlcnR5TmFtZSkge1xuICAgIGNvbnN0IGFuY2VzdG9ycyA9IGdldEFuY2VzdG9yc0ZvckNvbnN0cnVjdG9yKGNvbnN0cnVjdG9yKTtcbiAgICByZXR1cm4gYW5jZXN0b3JzLnJlZHVjZSgocGFpcnMsIGNvbnN0cnVjdG9yKSA9PiB7XG4gICAgICAgIHBhaXJzLnB1c2goLi4uZ2V0T3duU3RhdGljT2JqZWN0UGFpcnMoY29uc3RydWN0b3IsIHByb3BlcnR5TmFtZSkpO1xuICAgICAgICByZXR1cm4gcGFpcnM7XG4gICAgfSwgW10pO1xufVxuZnVuY3Rpb24gZ2V0QW5jZXN0b3JzRm9yQ29uc3RydWN0b3IoY29uc3RydWN0b3IpIHtcbiAgICBjb25zdCBhbmNlc3RvcnMgPSBbXTtcbiAgICB3aGlsZSAoY29uc3RydWN0b3IpIHtcbiAgICAgICAgYW5jZXN0b3JzLnB1c2goY29uc3RydWN0b3IpO1xuICAgICAgICBjb25zdHJ1Y3RvciA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjb25zdHJ1Y3Rvcik7XG4gICAgfVxuICAgIHJldHVybiBhbmNlc3RvcnMucmV2ZXJzZSgpO1xufVxuZnVuY3Rpb24gZ2V0T3duU3RhdGljQXJyYXlWYWx1ZXMoY29uc3RydWN0b3IsIHByb3BlcnR5TmFtZSkge1xuICAgIGNvbnN0IGRlZmluaXRpb24gPSBjb25zdHJ1Y3Rvcltwcm9wZXJ0eU5hbWVdO1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGRlZmluaXRpb24pID8gZGVmaW5pdGlvbiA6IFtdO1xufVxuZnVuY3Rpb24gZ2V0T3duU3RhdGljT2JqZWN0UGFpcnMoY29uc3RydWN0b3IsIHByb3BlcnR5TmFtZSkge1xuICAgIGNvbnN0IGRlZmluaXRpb24gPSBjb25zdHJ1Y3Rvcltwcm9wZXJ0eU5hbWVdO1xuICAgIHJldHVybiBkZWZpbml0aW9uID8gT2JqZWN0LmtleXMoZGVmaW5pdGlvbikubWFwKChrZXkpID0+IFtrZXksIGRlZmluaXRpb25ba2V5XV0pIDogW107XG59XG5cbmNsYXNzIE91dGxldE9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBkZWxlZ2F0ZSkge1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICB0aGlzLm91dGxldHNCeU5hbWUgPSBuZXcgTXVsdGltYXAoKTtcbiAgICAgICAgdGhpcy5vdXRsZXRFbGVtZW50c0J5TmFtZSA9IG5ldyBNdWx0aW1hcCgpO1xuICAgICAgICB0aGlzLnNlbGVjdG9yT2JzZXJ2ZXJNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlT2JzZXJ2ZXJNYXAgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5vdXRsZXREZWZpbml0aW9ucy5mb3JFYWNoKChvdXRsZXROYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXR1cFNlbGVjdG9yT2JzZXJ2ZXJGb3JPdXRsZXQob3V0bGV0TmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXR1cEF0dHJpYnV0ZU9ic2VydmVyRm9yT3V0bGV0KG91dGxldE5hbWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kZXBlbmRlbnRDb250ZXh0cy5mb3JFYWNoKChjb250ZXh0KSA9PiBjb250ZXh0LnJlZnJlc2goKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVmcmVzaCgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rvck9ic2VydmVyTWFwLmZvckVhY2goKG9ic2VydmVyKSA9PiBvYnNlcnZlci5yZWZyZXNoKCkpO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZU9ic2VydmVyTWFwLmZvckVhY2goKG9ic2VydmVyKSA9PiBvYnNlcnZlci5yZWZyZXNoKCkpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdEFsbE91dGxldHMoKTtcbiAgICAgICAgICAgIHRoaXMuc3RvcFNlbGVjdG9yT2JzZXJ2ZXJzKCk7XG4gICAgICAgICAgICB0aGlzLnN0b3BBdHRyaWJ1dGVPYnNlcnZlcnMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdG9wU2VsZWN0b3JPYnNlcnZlcnMoKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdG9yT2JzZXJ2ZXJNYXAuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0b3JPYnNlcnZlck1hcC5mb3JFYWNoKChvYnNlcnZlcikgPT4gb2JzZXJ2ZXIuc3RvcCgpKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0b3JPYnNlcnZlck1hcC5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0b3BBdHRyaWJ1dGVPYnNlcnZlcnMoKSB7XG4gICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZU9ic2VydmVyTWFwLnNpemUgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZU9ic2VydmVyTWFwLmZvckVhY2goKG9ic2VydmVyKSA9PiBvYnNlcnZlci5zdG9wKCkpO1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYnNlcnZlck1hcC5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNlbGVjdG9yTWF0Y2hlZChlbGVtZW50LCBfc2VsZWN0b3IsIHsgb3V0bGV0TmFtZSB9KSB7XG4gICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMuZ2V0T3V0bGV0KGVsZW1lbnQsIG91dGxldE5hbWUpO1xuICAgICAgICBpZiAob3V0bGV0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RPdXRsZXQob3V0bGV0LCBlbGVtZW50LCBvdXRsZXROYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZWxlY3RvclVubWF0Y2hlZChlbGVtZW50LCBfc2VsZWN0b3IsIHsgb3V0bGV0TmFtZSB9KSB7XG4gICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMuZ2V0T3V0bGV0RnJvbU1hcChlbGVtZW50LCBvdXRsZXROYW1lKTtcbiAgICAgICAgaWYgKG91dGxldCkge1xuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0T3V0bGV0KG91dGxldCwgZWxlbWVudCwgb3V0bGV0TmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2VsZWN0b3JNYXRjaEVsZW1lbnQoZWxlbWVudCwgeyBvdXRsZXROYW1lIH0pIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yKG91dGxldE5hbWUpO1xuICAgICAgICBjb25zdCBoYXNPdXRsZXQgPSB0aGlzLmhhc091dGxldChlbGVtZW50LCBvdXRsZXROYW1lKTtcbiAgICAgICAgY29uc3QgaGFzT3V0bGV0Q29udHJvbGxlciA9IGVsZW1lbnQubWF0Y2hlcyhgWyR7dGhpcy5zY2hlbWEuY29udHJvbGxlckF0dHJpYnV0ZX1+PSR7b3V0bGV0TmFtZX1dYCk7XG4gICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIGhhc091dGxldCAmJiBoYXNPdXRsZXRDb250cm9sbGVyICYmIGVsZW1lbnQubWF0Y2hlcyhzZWxlY3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudE1hdGNoZWRBdHRyaWJ1dGUoX2VsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgY29uc3Qgb3V0bGV0TmFtZSA9IHRoaXMuZ2V0T3V0bGV0TmFtZUZyb21PdXRsZXRBdHRyaWJ1dGVOYW1lKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICBpZiAob3V0bGV0TmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTZWxlY3Rvck9ic2VydmVyRm9yT3V0bGV0KG91dGxldE5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRBdHRyaWJ1dGVWYWx1ZUNoYW5nZWQoX2VsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgY29uc3Qgb3V0bGV0TmFtZSA9IHRoaXMuZ2V0T3V0bGV0TmFtZUZyb21PdXRsZXRBdHRyaWJ1dGVOYW1lKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICBpZiAob3V0bGV0TmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTZWxlY3Rvck9ic2VydmVyRm9yT3V0bGV0KG91dGxldE5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRVbm1hdGNoZWRBdHRyaWJ1dGUoX2VsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgY29uc3Qgb3V0bGV0TmFtZSA9IHRoaXMuZ2V0T3V0bGV0TmFtZUZyb21PdXRsZXRBdHRyaWJ1dGVOYW1lKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICBpZiAob3V0bGV0TmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTZWxlY3Rvck9ic2VydmVyRm9yT3V0bGV0KG91dGxldE5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbm5lY3RPdXRsZXQob3V0bGV0LCBlbGVtZW50LCBvdXRsZXROYW1lKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLm91dGxldEVsZW1lbnRzQnlOYW1lLmhhcyhvdXRsZXROYW1lLCBlbGVtZW50KSkge1xuICAgICAgICAgICAgdGhpcy5vdXRsZXRzQnlOYW1lLmFkZChvdXRsZXROYW1lLCBvdXRsZXQpO1xuICAgICAgICAgICAgdGhpcy5vdXRsZXRFbGVtZW50c0J5TmFtZS5hZGQob3V0bGV0TmFtZSwgZWxlbWVudCk7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLnNlbGVjdG9yT2JzZXJ2ZXJNYXAuZ2V0KG91dGxldE5hbWUpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGF1c2UoKCkgPT4gdGhpcy5kZWxlZ2F0ZS5vdXRsZXRDb25uZWN0ZWQob3V0bGV0LCBlbGVtZW50LCBvdXRsZXROYW1lKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzY29ubmVjdE91dGxldChvdXRsZXQsIGVsZW1lbnQsIG91dGxldE5hbWUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5vdXRsZXRFbGVtZW50c0J5TmFtZS5oYXMob3V0bGV0TmFtZSwgZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMub3V0bGV0c0J5TmFtZS5kZWxldGUob3V0bGV0TmFtZSwgb3V0bGV0KTtcbiAgICAgICAgICAgIHRoaXMub3V0bGV0RWxlbWVudHNCeU5hbWUuZGVsZXRlKG91dGxldE5hbWUsIGVsZW1lbnQpO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5zZWxlY3Rvck9ic2VydmVyTWFwXG4gICAgICAgICAgICAgICAgLmdldChvdXRsZXROYW1lKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhdXNlKCgpID0+IHRoaXMuZGVsZWdhdGUub3V0bGV0RGlzY29ubmVjdGVkKG91dGxldCwgZWxlbWVudCwgb3V0bGV0TmFtZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RBbGxPdXRsZXRzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IG91dGxldE5hbWUgb2YgdGhpcy5vdXRsZXRFbGVtZW50c0J5TmFtZS5rZXlzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcy5vdXRsZXRFbGVtZW50c0J5TmFtZS5nZXRWYWx1ZXNGb3JLZXkob3V0bGV0TmFtZSkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG91dGxldCBvZiB0aGlzLm91dGxldHNCeU5hbWUuZ2V0VmFsdWVzRm9yS2V5KG91dGxldE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdE91dGxldChvdXRsZXQsIGVsZW1lbnQsIG91dGxldE5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVTZWxlY3Rvck9ic2VydmVyRm9yT3V0bGV0KG91dGxldE5hbWUpIHtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLnNlbGVjdG9yT2JzZXJ2ZXJNYXAuZ2V0KG91dGxldE5hbWUpO1xuICAgICAgICBpZiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLnNlbGVjdG9yID0gdGhpcy5zZWxlY3RvcihvdXRsZXROYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXR1cFNlbGVjdG9yT2JzZXJ2ZXJGb3JPdXRsZXQob3V0bGV0TmFtZSkge1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMuc2VsZWN0b3Iob3V0bGV0TmFtZSk7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yT2JzZXJ2ZXIgPSBuZXcgU2VsZWN0b3JPYnNlcnZlcihkb2N1bWVudC5ib2R5LCBzZWxlY3RvciwgdGhpcywgeyBvdXRsZXROYW1lIH0pO1xuICAgICAgICB0aGlzLnNlbGVjdG9yT2JzZXJ2ZXJNYXAuc2V0KG91dGxldE5hbWUsIHNlbGVjdG9yT2JzZXJ2ZXIpO1xuICAgICAgICBzZWxlY3Rvck9ic2VydmVyLnN0YXJ0KCk7XG4gICAgfVxuICAgIHNldHVwQXR0cmlidXRlT2JzZXJ2ZXJGb3JPdXRsZXQob3V0bGV0TmFtZSkge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gdGhpcy5hdHRyaWJ1dGVOYW1lRm9yT3V0bGV0TmFtZShvdXRsZXROYW1lKTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlT2JzZXJ2ZXIgPSBuZXcgQXR0cmlidXRlT2JzZXJ2ZXIodGhpcy5zY29wZS5lbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCB0aGlzKTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYnNlcnZlck1hcC5zZXQob3V0bGV0TmFtZSwgYXR0cmlidXRlT2JzZXJ2ZXIpO1xuICAgICAgICBhdHRyaWJ1dGVPYnNlcnZlci5zdGFydCgpO1xuICAgIH1cbiAgICBzZWxlY3RvcihvdXRsZXROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLm91dGxldHMuZ2V0U2VsZWN0b3JGb3JPdXRsZXROYW1lKG91dGxldE5hbWUpO1xuICAgIH1cbiAgICBhdHRyaWJ1dGVOYW1lRm9yT3V0bGV0TmFtZShvdXRsZXROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLnNjaGVtYS5vdXRsZXRBdHRyaWJ1dGVGb3JTY29wZSh0aGlzLmlkZW50aWZpZXIsIG91dGxldE5hbWUpO1xuICAgIH1cbiAgICBnZXRPdXRsZXROYW1lRnJvbU91dGxldEF0dHJpYnV0ZU5hbWUoYXR0cmlidXRlTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdXRsZXREZWZpbml0aW9ucy5maW5kKChvdXRsZXROYW1lKSA9PiB0aGlzLmF0dHJpYnV0ZU5hbWVGb3JPdXRsZXROYW1lKG91dGxldE5hbWUpID09PSBhdHRyaWJ1dGVOYW1lKTtcbiAgICB9XG4gICAgZ2V0IG91dGxldERlcGVuZGVuY2llcygpIHtcbiAgICAgICAgY29uc3QgZGVwZW5kZW5jaWVzID0gbmV3IE11bHRpbWFwKCk7XG4gICAgICAgIHRoaXMucm91dGVyLm1vZHVsZXMuZm9yRWFjaCgobW9kdWxlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb25zdHJ1Y3RvciA9IG1vZHVsZS5kZWZpbml0aW9uLmNvbnRyb2xsZXJDb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldHMgPSByZWFkSW5oZXJpdGFibGVTdGF0aWNBcnJheVZhbHVlcyhjb25zdHJ1Y3RvciwgXCJvdXRsZXRzXCIpO1xuICAgICAgICAgICAgb3V0bGV0cy5mb3JFYWNoKChvdXRsZXQpID0+IGRlcGVuZGVuY2llcy5hZGQob3V0bGV0LCBtb2R1bGUuaWRlbnRpZmllcikpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlcGVuZGVuY2llcztcbiAgICB9XG4gICAgZ2V0IG91dGxldERlZmluaXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdXRsZXREZXBlbmRlbmNpZXMuZ2V0S2V5c0ZvclZhbHVlKHRoaXMuaWRlbnRpZmllcik7XG4gICAgfVxuICAgIGdldCBkZXBlbmRlbnRDb250cm9sbGVySWRlbnRpZmllcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91dGxldERlcGVuZGVuY2llcy5nZXRWYWx1ZXNGb3JLZXkodGhpcy5pZGVudGlmaWVyKTtcbiAgICB9XG4gICAgZ2V0IGRlcGVuZGVudENvbnRleHRzKCkge1xuICAgICAgICBjb25zdCBpZGVudGlmaWVycyA9IHRoaXMuZGVwZW5kZW50Q29udHJvbGxlcklkZW50aWZpZXJzO1xuICAgICAgICByZXR1cm4gdGhpcy5yb3V0ZXIuY29udGV4dHMuZmlsdGVyKChjb250ZXh0KSA9PiBpZGVudGlmaWVycy5pbmNsdWRlcyhjb250ZXh0LmlkZW50aWZpZXIpKTtcbiAgICB9XG4gICAgaGFzT3V0bGV0KGVsZW1lbnQsIG91dGxldE5hbWUpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5nZXRPdXRsZXQoZWxlbWVudCwgb3V0bGV0TmFtZSkgfHwgISF0aGlzLmdldE91dGxldEZyb21NYXAoZWxlbWVudCwgb3V0bGV0TmFtZSk7XG4gICAgfVxuICAgIGdldE91dGxldChlbGVtZW50LCBvdXRsZXROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGxpY2F0aW9uLmdldENvbnRyb2xsZXJGb3JFbGVtZW50QW5kSWRlbnRpZmllcihlbGVtZW50LCBvdXRsZXROYW1lKTtcbiAgICB9XG4gICAgZ2V0T3V0bGV0RnJvbU1hcChlbGVtZW50LCBvdXRsZXROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91dGxldHNCeU5hbWUuZ2V0VmFsdWVzRm9yS2V5KG91dGxldE5hbWUpLmZpbmQoKG91dGxldCkgPT4gb3V0bGV0LmVsZW1lbnQgPT09IGVsZW1lbnQpO1xuICAgIH1cbiAgICBnZXQgc2NvcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc2NvcGU7XG4gICAgfVxuICAgIGdldCBzY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc2NoZW1hO1xuICAgIH1cbiAgICBnZXQgaWRlbnRpZmllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5pZGVudGlmaWVyO1xuICAgIH1cbiAgICBnZXQgYXBwbGljYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuYXBwbGljYXRpb247XG4gICAgfVxuICAgIGdldCByb3V0ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGxpY2F0aW9uLnJvdXRlcjtcbiAgICB9XG59XG5cbmNsYXNzIENvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKG1vZHVsZSwgc2NvcGUpIHtcbiAgICAgICAgdGhpcy5sb2dEZWJ1Z0FjdGl2aXR5ID0gKGZ1bmN0aW9uTmFtZSwgZGV0YWlsID0ge30pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaWRlbnRpZmllciwgY29udHJvbGxlciwgZWxlbWVudCB9ID0gdGhpcztcbiAgICAgICAgICAgIGRldGFpbCA9IE9iamVjdC5hc3NpZ24oeyBpZGVudGlmaWVyLCBjb250cm9sbGVyLCBlbGVtZW50IH0sIGRldGFpbCk7XG4gICAgICAgICAgICB0aGlzLmFwcGxpY2F0aW9uLmxvZ0RlYnVnQWN0aXZpdHkodGhpcy5pZGVudGlmaWVyLCBmdW5jdGlvbk5hbWUsIGRldGFpbCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubW9kdWxlID0gbW9kdWxlO1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBtb2R1bGUuY29udHJvbGxlckNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICB0aGlzLmJpbmRpbmdPYnNlcnZlciA9IG5ldyBCaW5kaW5nT2JzZXJ2ZXIodGhpcywgdGhpcy5kaXNwYXRjaGVyKTtcbiAgICAgICAgdGhpcy52YWx1ZU9ic2VydmVyID0gbmV3IFZhbHVlT2JzZXJ2ZXIodGhpcywgdGhpcy5jb250cm9sbGVyKTtcbiAgICAgICAgdGhpcy50YXJnZXRPYnNlcnZlciA9IG5ldyBUYXJnZXRPYnNlcnZlcih0aGlzLCB0aGlzKTtcbiAgICAgICAgdGhpcy5vdXRsZXRPYnNlcnZlciA9IG5ldyBPdXRsZXRPYnNlcnZlcih0aGlzLCB0aGlzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5pbml0aWFsaXplKCk7XG4gICAgICAgICAgICB0aGlzLmxvZ0RlYnVnQWN0aXZpdHkoXCJpbml0aWFsaXplXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvciwgXCJpbml0aWFsaXppbmcgY29udHJvbGxlclwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25uZWN0KCkge1xuICAgICAgICB0aGlzLmJpbmRpbmdPYnNlcnZlci5zdGFydCgpO1xuICAgICAgICB0aGlzLnZhbHVlT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgICAgdGhpcy50YXJnZXRPYnNlcnZlci5zdGFydCgpO1xuICAgICAgICB0aGlzLm91dGxldE9ic2VydmVyLnN0YXJ0KCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5sb2dEZWJ1Z0FjdGl2aXR5KFwiY29ubmVjdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIFwiY29ubmVjdGluZyBjb250cm9sbGVyXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIHRoaXMub3V0bGV0T2JzZXJ2ZXIucmVmcmVzaCgpO1xuICAgIH1cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMubG9nRGVidWdBY3Rpdml0eShcImRpc2Nvbm5lY3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yLCBcImRpc2Nvbm5lY3RpbmcgY29udHJvbGxlclwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm91dGxldE9ic2VydmVyLnN0b3AoKTtcbiAgICAgICAgdGhpcy50YXJnZXRPYnNlcnZlci5zdG9wKCk7XG4gICAgICAgIHRoaXMudmFsdWVPYnNlcnZlci5zdG9wKCk7XG4gICAgICAgIHRoaXMuYmluZGluZ09ic2VydmVyLnN0b3AoKTtcbiAgICB9XG4gICAgZ2V0IGFwcGxpY2F0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2R1bGUuYXBwbGljYXRpb247XG4gICAgfVxuICAgIGdldCBpZGVudGlmaWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2R1bGUuaWRlbnRpZmllcjtcbiAgICB9XG4gICAgZ2V0IHNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbGljYXRpb24uc2NoZW1hO1xuICAgIH1cbiAgICBnZXQgZGlzcGF0Y2hlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbGljYXRpb24uZGlzcGF0Y2hlcjtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBwYXJlbnRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICAgIGhhbmRsZUVycm9yKGVycm9yLCBtZXNzYWdlLCBkZXRhaWwgPSB7fSkge1xuICAgICAgICBjb25zdCB7IGlkZW50aWZpZXIsIGNvbnRyb2xsZXIsIGVsZW1lbnQgfSA9IHRoaXM7XG4gICAgICAgIGRldGFpbCA9IE9iamVjdC5hc3NpZ24oeyBpZGVudGlmaWVyLCBjb250cm9sbGVyLCBlbGVtZW50IH0sIGRldGFpbCk7XG4gICAgICAgIHRoaXMuYXBwbGljYXRpb24uaGFuZGxlRXJyb3IoZXJyb3IsIGBFcnJvciAke21lc3NhZ2V9YCwgZGV0YWlsKTtcbiAgICB9XG4gICAgdGFyZ2V0Q29ubmVjdGVkKGVsZW1lbnQsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5pbnZva2VDb250cm9sbGVyTWV0aG9kKGAke25hbWV9VGFyZ2V0Q29ubmVjdGVkYCwgZWxlbWVudCk7XG4gICAgfVxuICAgIHRhcmdldERpc2Nvbm5lY3RlZChlbGVtZW50LCBuYW1lKSB7XG4gICAgICAgIHRoaXMuaW52b2tlQ29udHJvbGxlck1ldGhvZChgJHtuYW1lfVRhcmdldERpc2Nvbm5lY3RlZGAsIGVsZW1lbnQpO1xuICAgIH1cbiAgICBvdXRsZXRDb25uZWN0ZWQob3V0bGV0LCBlbGVtZW50LCBuYW1lKSB7XG4gICAgICAgIHRoaXMuaW52b2tlQ29udHJvbGxlck1ldGhvZChgJHtuYW1lc3BhY2VDYW1lbGl6ZShuYW1lKX1PdXRsZXRDb25uZWN0ZWRgLCBvdXRsZXQsIGVsZW1lbnQpO1xuICAgIH1cbiAgICBvdXRsZXREaXNjb25uZWN0ZWQob3V0bGV0LCBlbGVtZW50LCBuYW1lKSB7XG4gICAgICAgIHRoaXMuaW52b2tlQ29udHJvbGxlck1ldGhvZChgJHtuYW1lc3BhY2VDYW1lbGl6ZShuYW1lKX1PdXRsZXREaXNjb25uZWN0ZWRgLCBvdXRsZXQsIGVsZW1lbnQpO1xuICAgIH1cbiAgICBpbnZva2VDb250cm9sbGVyTWV0aG9kKG1ldGhvZE5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IHRoaXMuY29udHJvbGxlcjtcbiAgICAgICAgaWYgKHR5cGVvZiBjb250cm9sbGVyW21ldGhvZE5hbWVdID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgY29udHJvbGxlclttZXRob2ROYW1lXSguLi5hcmdzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gYmxlc3MoY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gc2hhZG93KGNvbnN0cnVjdG9yLCBnZXRCbGVzc2VkUHJvcGVydGllcyhjb25zdHJ1Y3RvcikpO1xufVxuZnVuY3Rpb24gc2hhZG93KGNvbnN0cnVjdG9yLCBwcm9wZXJ0aWVzKSB7XG4gICAgY29uc3Qgc2hhZG93Q29uc3RydWN0b3IgPSBleHRlbmQoY29uc3RydWN0b3IpO1xuICAgIGNvbnN0IHNoYWRvd1Byb3BlcnRpZXMgPSBnZXRTaGFkb3dQcm9wZXJ0aWVzKGNvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvcGVydGllcyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc2hhZG93Q29uc3RydWN0b3IucHJvdG90eXBlLCBzaGFkb3dQcm9wZXJ0aWVzKTtcbiAgICByZXR1cm4gc2hhZG93Q29uc3RydWN0b3I7XG59XG5mdW5jdGlvbiBnZXRCbGVzc2VkUHJvcGVydGllcyhjb25zdHJ1Y3Rvcikge1xuICAgIGNvbnN0IGJsZXNzaW5ncyA9IHJlYWRJbmhlcml0YWJsZVN0YXRpY0FycmF5VmFsdWVzKGNvbnN0cnVjdG9yLCBcImJsZXNzaW5nc1wiKTtcbiAgICByZXR1cm4gYmxlc3NpbmdzLnJlZHVjZSgoYmxlc3NlZFByb3BlcnRpZXMsIGJsZXNzaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBibGVzc2luZyhjb25zdHJ1Y3Rvcik7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSBibGVzc2VkUHJvcGVydGllc1trZXldIHx8IHt9O1xuICAgICAgICAgICAgYmxlc3NlZFByb3BlcnRpZXNba2V5XSA9IE9iamVjdC5hc3NpZ24oZGVzY3JpcHRvciwgcHJvcGVydGllc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmxlc3NlZFByb3BlcnRpZXM7XG4gICAgfSwge30pO1xufVxuZnVuY3Rpb24gZ2V0U2hhZG93UHJvcGVydGllcyhwcm90b3R5cGUsIHByb3BlcnRpZXMpIHtcbiAgICByZXR1cm4gZ2V0T3duS2V5cyhwcm9wZXJ0aWVzKS5yZWR1Y2UoKHNoYWRvd1Byb3BlcnRpZXMsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gZ2V0U2hhZG93ZWREZXNjcmlwdG9yKHByb3RvdHlwZSwgcHJvcGVydGllcywga2V5KTtcbiAgICAgICAgaWYgKGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc2hhZG93UHJvcGVydGllcywgeyBba2V5XTogZGVzY3JpcHRvciB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2hhZG93UHJvcGVydGllcztcbiAgICB9LCB7fSk7XG59XG5mdW5jdGlvbiBnZXRTaGFkb3dlZERlc2NyaXB0b3IocHJvdG90eXBlLCBwcm9wZXJ0aWVzLCBrZXkpIHtcbiAgICBjb25zdCBzaGFkb3dpbmdEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90b3R5cGUsIGtleSk7XG4gICAgY29uc3Qgc2hhZG93ZWRCeVZhbHVlID0gc2hhZG93aW5nRGVzY3JpcHRvciAmJiBcInZhbHVlXCIgaW4gc2hhZG93aW5nRGVzY3JpcHRvcjtcbiAgICBpZiAoIXNoYWRvd2VkQnlWYWx1ZSkge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm9wZXJ0aWVzLCBrZXkpLnZhbHVlO1xuICAgICAgICBpZiAoc2hhZG93aW5nRGVzY3JpcHRvcikge1xuICAgICAgICAgICAgZGVzY3JpcHRvci5nZXQgPSBzaGFkb3dpbmdEZXNjcmlwdG9yLmdldCB8fCBkZXNjcmlwdG9yLmdldDtcbiAgICAgICAgICAgIGRlc2NyaXB0b3Iuc2V0ID0gc2hhZG93aW5nRGVzY3JpcHRvci5zZXQgfHwgZGVzY3JpcHRvci5zZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgfVxufVxuY29uc3QgZ2V0T3duS2V5cyA9ICgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gKG9iamVjdCkgPT4gWy4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iamVjdCksIC4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KV07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG4gICAgfVxufSkoKTtcbmNvbnN0IGV4dGVuZCA9ICgoKSA9PiB7XG4gICAgZnVuY3Rpb24gZXh0ZW5kV2l0aFJlZmxlY3QoY29uc3RydWN0b3IpIHtcbiAgICAgICAgZnVuY3Rpb24gZXh0ZW5kZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5jb25zdHJ1Y3QoY29uc3RydWN0b3IsIGFyZ3VtZW50cywgbmV3LnRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgZXh0ZW5kZWQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShjb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBleHRlbmRlZCB9LFxuICAgICAgICB9KTtcbiAgICAgICAgUmVmbGVjdC5zZXRQcm90b3R5cGVPZihleHRlbmRlZCwgY29uc3RydWN0b3IpO1xuICAgICAgICByZXR1cm4gZXh0ZW5kZWQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RSZWZsZWN0RXh0ZW5zaW9uKCkge1xuICAgICAgICBjb25zdCBhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5hLmNhbGwodGhpcyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGIgPSBleHRlbmRXaXRoUmVmbGVjdChhKTtcbiAgICAgICAgYi5wcm90b3R5cGUuYSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBiKCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHRlc3RSZWZsZWN0RXh0ZW5zaW9uKCk7XG4gICAgICAgIHJldHVybiBleHRlbmRXaXRoUmVmbGVjdDtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiAoY29uc3RydWN0b3IpID0+IGNsYXNzIGV4dGVuZGVkIGV4dGVuZHMgY29uc3RydWN0b3Ige1xuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG5cbmZ1bmN0aW9uIGJsZXNzRGVmaW5pdGlvbihkZWZpbml0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWRlbnRpZmllcjogZGVmaW5pdGlvbi5pZGVudGlmaWVyLFxuICAgICAgICBjb250cm9sbGVyQ29uc3RydWN0b3I6IGJsZXNzKGRlZmluaXRpb24uY29udHJvbGxlckNvbnN0cnVjdG9yKSxcbiAgICB9O1xufVxuXG5jbGFzcyBNb2R1bGUge1xuICAgIGNvbnN0cnVjdG9yKGFwcGxpY2F0aW9uLCBkZWZpbml0aW9uKSB7XG4gICAgICAgIHRoaXMuYXBwbGljYXRpb24gPSBhcHBsaWNhdGlvbjtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uID0gYmxlc3NEZWZpbml0aW9uKGRlZmluaXRpb24pO1xuICAgICAgICB0aGlzLmNvbnRleHRzQnlTY29wZSA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkQ29udGV4dHMgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIGdldCBpZGVudGlmaWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWZpbml0aW9uLmlkZW50aWZpZXI7XG4gICAgfVxuICAgIGdldCBjb250cm9sbGVyQ29uc3RydWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmluaXRpb24uY29udHJvbGxlckNvbnN0cnVjdG9yO1xuICAgIH1cbiAgICBnZXQgY29udGV4dHMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuY29ubmVjdGVkQ29udGV4dHMpO1xuICAgIH1cbiAgICBjb25uZWN0Q29udGV4dEZvclNjb3BlKHNjb3BlKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmZldGNoQ29udGV4dEZvclNjb3BlKHNjb3BlKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDb250ZXh0cy5hZGQoY29udGV4dCk7XG4gICAgICAgIGNvbnRleHQuY29ubmVjdCgpO1xuICAgIH1cbiAgICBkaXNjb25uZWN0Q29udGV4dEZvclNjb3BlKHNjb3BlKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRzQnlTY29wZS5nZXQoc2NvcGUpO1xuICAgICAgICBpZiAoY29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWRDb250ZXh0cy5kZWxldGUoY29udGV4dCk7XG4gICAgICAgICAgICBjb250ZXh0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmZXRjaENvbnRleHRGb3JTY29wZShzY29wZSkge1xuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMuY29udGV4dHNCeVNjb3BlLmdldChzY29wZSk7XG4gICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgICAgY29udGV4dCA9IG5ldyBDb250ZXh0KHRoaXMsIHNjb3BlKTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dHNCeVNjb3BlLnNldChzY29wZSwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxufVxuXG5jbGFzcyBDbGFzc01hcCB7XG4gICAgY29uc3RydWN0b3Ioc2NvcGUpIHtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIH1cbiAgICBoYXMobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmhhcyh0aGlzLmdldERhdGFLZXkobmFtZSkpO1xuICAgIH1cbiAgICBnZXQobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGwobmFtZSlbMF07XG4gICAgfVxuICAgIGdldEFsbChuYW1lKSB7XG4gICAgICAgIGNvbnN0IHRva2VuU3RyaW5nID0gdGhpcy5kYXRhLmdldCh0aGlzLmdldERhdGFLZXkobmFtZSkpIHx8IFwiXCI7XG4gICAgICAgIHJldHVybiB0b2tlbml6ZSh0b2tlblN0cmluZyk7XG4gICAgfVxuICAgIGdldEF0dHJpYnV0ZU5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmdldEF0dHJpYnV0ZU5hbWVGb3JLZXkodGhpcy5nZXREYXRhS2V5KG5hbWUpKTtcbiAgICB9XG4gICAgZ2V0RGF0YUtleShuYW1lKSB7XG4gICAgICAgIHJldHVybiBgJHtuYW1lfS1jbGFzc2A7XG4gICAgfVxuICAgIGdldCBkYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5kYXRhO1xuICAgIH1cbn1cblxuY2xhc3MgRGF0YU1hcCB7XG4gICAgY29uc3RydWN0b3Ioc2NvcGUpIHtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IGlkZW50aWZpZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmlkZW50aWZpZXI7XG4gICAgfVxuICAgIGdldChrZXkpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlTmFtZUZvcktleShrZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICB9XG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlTmFtZUZvcktleShrZXkpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KGtleSk7XG4gICAgfVxuICAgIGhhcyhrZXkpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlTmFtZUZvcktleShrZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50Lmhhc0F0dHJpYnV0ZShuYW1lKTtcbiAgICB9XG4gICAgZGVsZXRlKGtleSkge1xuICAgICAgICBpZiAodGhpcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlTmFtZUZvcktleShrZXkpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldEF0dHJpYnV0ZU5hbWVGb3JLZXkoa2V5KSB7XG4gICAgICAgIHJldHVybiBgZGF0YS0ke3RoaXMuaWRlbnRpZmllcn0tJHtkYXNoZXJpemUoa2V5KX1gO1xuICAgIH1cbn1cblxuY2xhc3MgR3VpZGUge1xuICAgIGNvbnN0cnVjdG9yKGxvZ2dlcikge1xuICAgICAgICB0aGlzLndhcm5lZEtleXNCeU9iamVjdCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICAgIH1cbiAgICB3YXJuKG9iamVjdCwga2V5LCBtZXNzYWdlKSB7XG4gICAgICAgIGxldCB3YXJuZWRLZXlzID0gdGhpcy53YXJuZWRLZXlzQnlPYmplY3QuZ2V0KG9iamVjdCk7XG4gICAgICAgIGlmICghd2FybmVkS2V5cykge1xuICAgICAgICAgICAgd2FybmVkS2V5cyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIHRoaXMud2FybmVkS2V5c0J5T2JqZWN0LnNldChvYmplY3QsIHdhcm5lZEtleXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghd2FybmVkS2V5cy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgd2FybmVkS2V5cy5hZGQoa2V5KTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4obWVzc2FnZSwgb2JqZWN0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gYXR0cmlidXRlVmFsdWVDb250YWluc1Rva2VuKGF0dHJpYnV0ZU5hbWUsIHRva2VuKSB7XG4gICAgcmV0dXJuIGBbJHthdHRyaWJ1dGVOYW1lfX49XCIke3Rva2VufVwiXWA7XG59XG5cbmNsYXNzIFRhcmdldFNldCB7XG4gICAgY29uc3RydWN0b3Ioc2NvcGUpIHtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IGlkZW50aWZpZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmlkZW50aWZpZXI7XG4gICAgfVxuICAgIGdldCBzY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLnNjaGVtYTtcbiAgICB9XG4gICAgaGFzKHRhcmdldE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZCh0YXJnZXROYW1lKSAhPSBudWxsO1xuICAgIH1cbiAgICBmaW5kKC4uLnRhcmdldE5hbWVzKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXROYW1lcy5yZWR1Y2UoKHRhcmdldCwgdGFyZ2V0TmFtZSkgPT4gdGFyZ2V0IHx8IHRoaXMuZmluZFRhcmdldCh0YXJnZXROYW1lKSB8fCB0aGlzLmZpbmRMZWdhY3lUYXJnZXQodGFyZ2V0TmFtZSksIHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIGZpbmRBbGwoLi4udGFyZ2V0TmFtZXMpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldE5hbWVzLnJlZHVjZSgodGFyZ2V0cywgdGFyZ2V0TmFtZSkgPT4gW1xuICAgICAgICAgICAgLi4udGFyZ2V0cyxcbiAgICAgICAgICAgIC4uLnRoaXMuZmluZEFsbFRhcmdldHModGFyZ2V0TmFtZSksXG4gICAgICAgICAgICAuLi50aGlzLmZpbmRBbGxMZWdhY3lUYXJnZXRzKHRhcmdldE5hbWUpLFxuICAgICAgICBdLCBbXSk7XG4gICAgfVxuICAgIGZpbmRUYXJnZXQodGFyZ2V0TmFtZSkge1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMuZ2V0U2VsZWN0b3JGb3JUYXJnZXROYW1lKHRhcmdldE5hbWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5maW5kRWxlbWVudChzZWxlY3Rvcik7XG4gICAgfVxuICAgIGZpbmRBbGxUYXJnZXRzKHRhcmdldE5hbWUpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLmdldFNlbGVjdG9yRm9yVGFyZ2V0TmFtZSh0YXJnZXROYW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuZmluZEFsbEVsZW1lbnRzKHNlbGVjdG9yKTtcbiAgICB9XG4gICAgZ2V0U2VsZWN0b3JGb3JUYXJnZXROYW1lKHRhcmdldE5hbWUpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlTmFtZSA9IHRoaXMuc2NoZW1hLnRhcmdldEF0dHJpYnV0ZUZvclNjb3BlKHRoaXMuaWRlbnRpZmllcik7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVWYWx1ZUNvbnRhaW5zVG9rZW4oYXR0cmlidXRlTmFtZSwgdGFyZ2V0TmFtZSk7XG4gICAgfVxuICAgIGZpbmRMZWdhY3lUYXJnZXQodGFyZ2V0TmFtZSkge1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMuZ2V0TGVnYWN5U2VsZWN0b3JGb3JUYXJnZXROYW1lKHRhcmdldE5hbWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5kZXByZWNhdGUodGhpcy5zY29wZS5maW5kRWxlbWVudChzZWxlY3RvciksIHRhcmdldE5hbWUpO1xuICAgIH1cbiAgICBmaW5kQWxsTGVnYWN5VGFyZ2V0cyh0YXJnZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5nZXRMZWdhY3lTZWxlY3RvckZvclRhcmdldE5hbWUodGFyZ2V0TmFtZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmZpbmRBbGxFbGVtZW50cyhzZWxlY3RvcikubWFwKChlbGVtZW50KSA9PiB0aGlzLmRlcHJlY2F0ZShlbGVtZW50LCB0YXJnZXROYW1lKSk7XG4gICAgfVxuICAgIGdldExlZ2FjeVNlbGVjdG9yRm9yVGFyZ2V0TmFtZSh0YXJnZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldERlc2NyaXB0b3IgPSBgJHt0aGlzLmlkZW50aWZpZXJ9LiR7dGFyZ2V0TmFtZX1gO1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlVmFsdWVDb250YWluc1Rva2VuKHRoaXMuc2NoZW1hLnRhcmdldEF0dHJpYnV0ZSwgdGFyZ2V0RGVzY3JpcHRvcik7XG4gICAgfVxuICAgIGRlcHJlY2F0ZShlbGVtZW50LCB0YXJnZXROYW1lKSB7XG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IGlkZW50aWZpZXIgfSA9IHRoaXM7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gdGhpcy5zY2hlbWEudGFyZ2V0QXR0cmlidXRlO1xuICAgICAgICAgICAgY29uc3QgcmV2aXNlZEF0dHJpYnV0ZU5hbWUgPSB0aGlzLnNjaGVtYS50YXJnZXRBdHRyaWJ1dGVGb3JTY29wZShpZGVudGlmaWVyKTtcbiAgICAgICAgICAgIHRoaXMuZ3VpZGUud2FybihlbGVtZW50LCBgdGFyZ2V0OiR7dGFyZ2V0TmFtZX1gLCBgUGxlYXNlIHJlcGxhY2UgJHthdHRyaWJ1dGVOYW1lfT1cIiR7aWRlbnRpZmllcn0uJHt0YXJnZXROYW1lfVwiIHdpdGggJHtyZXZpc2VkQXR0cmlidXRlTmFtZX09XCIke3RhcmdldE5hbWV9XCIuIGAgK1xuICAgICAgICAgICAgICAgIGBUaGUgJHthdHRyaWJ1dGVOYW1lfSBhdHRyaWJ1dGUgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHZlcnNpb24gb2YgU3RpbXVsdXMuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBndWlkZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuZ3VpZGU7XG4gICAgfVxufVxuXG5jbGFzcyBPdXRsZXRTZXQge1xuICAgIGNvbnN0cnVjdG9yKHNjb3BlLCBjb250cm9sbGVyRWxlbWVudCkge1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgICAgIHRoaXMuY29udHJvbGxlckVsZW1lbnQgPSBjb250cm9sbGVyRWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBpZGVudGlmaWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5pZGVudGlmaWVyO1xuICAgIH1cbiAgICBnZXQgc2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5zY2hlbWE7XG4gICAgfVxuICAgIGhhcyhvdXRsZXROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmQob3V0bGV0TmFtZSkgIT0gbnVsbDtcbiAgICB9XG4gICAgZmluZCguLi5vdXRsZXROYW1lcykge1xuICAgICAgICByZXR1cm4gb3V0bGV0TmFtZXMucmVkdWNlKChvdXRsZXQsIG91dGxldE5hbWUpID0+IG91dGxldCB8fCB0aGlzLmZpbmRPdXRsZXQob3V0bGV0TmFtZSksIHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIGZpbmRBbGwoLi4ub3V0bGV0TmFtZXMpIHtcbiAgICAgICAgcmV0dXJuIG91dGxldE5hbWVzLnJlZHVjZSgob3V0bGV0cywgb3V0bGV0TmFtZSkgPT4gWy4uLm91dGxldHMsIC4uLnRoaXMuZmluZEFsbE91dGxldHMob3V0bGV0TmFtZSldLCBbXSk7XG4gICAgfVxuICAgIGdldFNlbGVjdG9yRm9yT3V0bGV0TmFtZShvdXRsZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSB0aGlzLnNjaGVtYS5vdXRsZXRBdHRyaWJ1dGVGb3JTY29wZSh0aGlzLmlkZW50aWZpZXIsIG91dGxldE5hbWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyRWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgfVxuICAgIGZpbmRPdXRsZXQob3V0bGV0TmFtZSkge1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMuZ2V0U2VsZWN0b3JGb3JPdXRsZXROYW1lKG91dGxldE5hbWUpO1xuICAgICAgICBpZiAoc2VsZWN0b3IpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maW5kRWxlbWVudChzZWxlY3Rvciwgb3V0bGV0TmFtZSk7XG4gICAgfVxuICAgIGZpbmRBbGxPdXRsZXRzKG91dGxldE5hbWUpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLmdldFNlbGVjdG9yRm9yT3V0bGV0TmFtZShvdXRsZXROYW1lKTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdG9yID8gdGhpcy5maW5kQWxsRWxlbWVudHMoc2VsZWN0b3IsIG91dGxldE5hbWUpIDogW107XG4gICAgfVxuICAgIGZpbmRFbGVtZW50KHNlbGVjdG9yLCBvdXRsZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5zY29wZS5xdWVyeUVsZW1lbnRzKHNlbGVjdG9yKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzLmZpbHRlcigoZWxlbWVudCkgPT4gdGhpcy5tYXRjaGVzRWxlbWVudChlbGVtZW50LCBzZWxlY3Rvciwgb3V0bGV0TmFtZSkpWzBdO1xuICAgIH1cbiAgICBmaW5kQWxsRWxlbWVudHMoc2VsZWN0b3IsIG91dGxldE5hbWUpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLnNjb3BlLnF1ZXJ5RWxlbWVudHMoc2VsZWN0b3IpO1xuICAgICAgICByZXR1cm4gZWxlbWVudHMuZmlsdGVyKChlbGVtZW50KSA9PiB0aGlzLm1hdGNoZXNFbGVtZW50KGVsZW1lbnQsIHNlbGVjdG9yLCBvdXRsZXROYW1lKSk7XG4gICAgfVxuICAgIG1hdGNoZXNFbGVtZW50KGVsZW1lbnQsIHNlbGVjdG9yLCBvdXRsZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXJBdHRyaWJ1dGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSh0aGlzLnNjb3BlLnNjaGVtYS5jb250cm9sbGVyQXR0cmlidXRlKSB8fCBcIlwiO1xuICAgICAgICByZXR1cm4gZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKSAmJiBjb250cm9sbGVyQXR0cmlidXRlLnNwbGl0KFwiIFwiKS5pbmNsdWRlcyhvdXRsZXROYW1lKTtcbiAgICB9XG59XG5cbmNsYXNzIFNjb3BlIHtcbiAgICBjb25zdHJ1Y3RvcihzY2hlbWEsIGVsZW1lbnQsIGlkZW50aWZpZXIsIGxvZ2dlcikge1xuICAgICAgICB0aGlzLnRhcmdldHMgPSBuZXcgVGFyZ2V0U2V0KHRoaXMpO1xuICAgICAgICB0aGlzLmNsYXNzZXMgPSBuZXcgQ2xhc3NNYXAodGhpcyk7XG4gICAgICAgIHRoaXMuZGF0YSA9IG5ldyBEYXRhTWFwKHRoaXMpO1xuICAgICAgICB0aGlzLmNvbnRhaW5zRWxlbWVudCA9IChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5jbG9zZXN0KHRoaXMuY29udHJvbGxlclNlbGVjdG9yKSA9PT0gdGhpcy5lbGVtZW50O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5pZGVudGlmaWVyID0gaWRlbnRpZmllcjtcbiAgICAgICAgdGhpcy5ndWlkZSA9IG5ldyBHdWlkZShsb2dnZXIpO1xuICAgICAgICB0aGlzLm91dGxldHMgPSBuZXcgT3V0bGV0U2V0KHRoaXMuZG9jdW1lbnRTY29wZSwgZWxlbWVudCk7XG4gICAgfVxuICAgIGZpbmRFbGVtZW50KHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikgPyB0aGlzLmVsZW1lbnQgOiB0aGlzLnF1ZXJ5RWxlbWVudHMoc2VsZWN0b3IpLmZpbmQodGhpcy5jb250YWluc0VsZW1lbnQpO1xuICAgIH1cbiAgICBmaW5kQWxsRWxlbWVudHMoc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIC4uLih0aGlzLmVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikgPyBbdGhpcy5lbGVtZW50XSA6IFtdKSxcbiAgICAgICAgICAgIC4uLnRoaXMucXVlcnlFbGVtZW50cyhzZWxlY3RvcikuZmlsdGVyKHRoaXMuY29udGFpbnNFbGVtZW50KSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgcXVlcnlFbGVtZW50cyhzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xuICAgIH1cbiAgICBnZXQgY29udHJvbGxlclNlbGVjdG9yKCkge1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlVmFsdWVDb250YWluc1Rva2VuKHRoaXMuc2NoZW1hLmNvbnRyb2xsZXJBdHRyaWJ1dGUsIHRoaXMuaWRlbnRpZmllcik7XG4gICAgfVxuICAgIGdldCBpc0RvY3VtZW50U2NvcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IGRvY3VtZW50U2NvcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRG9jdW1lbnRTY29wZVxuICAgICAgICAgICAgPyB0aGlzXG4gICAgICAgICAgICA6IG5ldyBTY29wZSh0aGlzLnNjaGVtYSwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB0aGlzLmlkZW50aWZpZXIsIHRoaXMuZ3VpZGUubG9nZ2VyKTtcbiAgICB9XG59XG5cbmNsYXNzIFNjb3BlT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHNjaGVtYSwgZGVsZWdhdGUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgdGhpcy52YWx1ZUxpc3RPYnNlcnZlciA9IG5ldyBWYWx1ZUxpc3RPYnNlcnZlcih0aGlzLmVsZW1lbnQsIHRoaXMuY29udHJvbGxlckF0dHJpYnV0ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuc2NvcGVzQnlJZGVudGlmaWVyQnlFbGVtZW50ID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgdGhpcy5zY29wZVJlZmVyZW5jZUNvdW50cyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnZhbHVlTGlzdE9ic2VydmVyLnN0YXJ0KCk7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMudmFsdWVMaXN0T2JzZXJ2ZXIuc3RvcCgpO1xuICAgIH1cbiAgICBnZXQgY29udHJvbGxlckF0dHJpYnV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NoZW1hLmNvbnRyb2xsZXJBdHRyaWJ1dGU7XG4gICAgfVxuICAgIHBhcnNlVmFsdWVGb3JUb2tlbih0b2tlbikge1xuICAgICAgICBjb25zdCB7IGVsZW1lbnQsIGNvbnRlbnQ6IGlkZW50aWZpZXIgfSA9IHRva2VuO1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVZhbHVlRm9yRWxlbWVudEFuZElkZW50aWZpZXIoZWxlbWVudCwgaWRlbnRpZmllcik7XG4gICAgfVxuICAgIHBhcnNlVmFsdWVGb3JFbGVtZW50QW5kSWRlbnRpZmllcihlbGVtZW50LCBpZGVudGlmaWVyKSB7XG4gICAgICAgIGNvbnN0IHNjb3Blc0J5SWRlbnRpZmllciA9IHRoaXMuZmV0Y2hTY29wZXNCeUlkZW50aWZpZXJGb3JFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICBsZXQgc2NvcGUgPSBzY29wZXNCeUlkZW50aWZpZXIuZ2V0KGlkZW50aWZpZXIpO1xuICAgICAgICBpZiAoIXNjb3BlKSB7XG4gICAgICAgICAgICBzY29wZSA9IHRoaXMuZGVsZWdhdGUuY3JlYXRlU2NvcGVGb3JFbGVtZW50QW5kSWRlbnRpZmllcihlbGVtZW50LCBpZGVudGlmaWVyKTtcbiAgICAgICAgICAgIHNjb3Blc0J5SWRlbnRpZmllci5zZXQoaWRlbnRpZmllciwgc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzY29wZTtcbiAgICB9XG4gICAgZWxlbWVudE1hdGNoZWRWYWx1ZShlbGVtZW50LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCByZWZlcmVuY2VDb3VudCA9ICh0aGlzLnNjb3BlUmVmZXJlbmNlQ291bnRzLmdldCh2YWx1ZSkgfHwgMCkgKyAxO1xuICAgICAgICB0aGlzLnNjb3BlUmVmZXJlbmNlQ291bnRzLnNldCh2YWx1ZSwgcmVmZXJlbmNlQ291bnQpO1xuICAgICAgICBpZiAocmVmZXJlbmNlQ291bnQgPT0gMSkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5zY29wZUNvbm5lY3RlZCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudFVubWF0Y2hlZFZhbHVlKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJlZmVyZW5jZUNvdW50ID0gdGhpcy5zY29wZVJlZmVyZW5jZUNvdW50cy5nZXQodmFsdWUpO1xuICAgICAgICBpZiAocmVmZXJlbmNlQ291bnQpIHtcbiAgICAgICAgICAgIHRoaXMuc2NvcGVSZWZlcmVuY2VDb3VudHMuc2V0KHZhbHVlLCByZWZlcmVuY2VDb3VudCAtIDEpO1xuICAgICAgICAgICAgaWYgKHJlZmVyZW5jZUNvdW50ID09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLnNjb3BlRGlzY29ubmVjdGVkKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmZXRjaFNjb3Blc0J5SWRlbnRpZmllckZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBsZXQgc2NvcGVzQnlJZGVudGlmaWVyID0gdGhpcy5zY29wZXNCeUlkZW50aWZpZXJCeUVsZW1lbnQuZ2V0KGVsZW1lbnQpO1xuICAgICAgICBpZiAoIXNjb3Blc0J5SWRlbnRpZmllcikge1xuICAgICAgICAgICAgc2NvcGVzQnlJZGVudGlmaWVyID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgdGhpcy5zY29wZXNCeUlkZW50aWZpZXJCeUVsZW1lbnQuc2V0KGVsZW1lbnQsIHNjb3Blc0J5SWRlbnRpZmllcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNjb3Blc0J5SWRlbnRpZmllcjtcbiAgICB9XG59XG5cbmNsYXNzIFJvdXRlciB7XG4gICAgY29uc3RydWN0b3IoYXBwbGljYXRpb24pIHtcbiAgICAgICAgdGhpcy5hcHBsaWNhdGlvbiA9IGFwcGxpY2F0aW9uO1xuICAgICAgICB0aGlzLnNjb3BlT2JzZXJ2ZXIgPSBuZXcgU2NvcGVPYnNlcnZlcih0aGlzLmVsZW1lbnQsIHRoaXMuc2NoZW1hLCB0aGlzKTtcbiAgICAgICAgdGhpcy5zY29wZXNCeUlkZW50aWZpZXIgPSBuZXcgTXVsdGltYXAoKTtcbiAgICAgICAgdGhpcy5tb2R1bGVzQnlJZGVudGlmaWVyID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbGljYXRpb24uZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IHNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbGljYXRpb24uc2NoZW1hO1xuICAgIH1cbiAgICBnZXQgbG9nZ2VyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBsaWNhdGlvbi5sb2dnZXI7XG4gICAgfVxuICAgIGdldCBjb250cm9sbGVyQXR0cmlidXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2hlbWEuY29udHJvbGxlckF0dHJpYnV0ZTtcbiAgICB9XG4gICAgZ2V0IG1vZHVsZXMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMubW9kdWxlc0J5SWRlbnRpZmllci52YWx1ZXMoKSk7XG4gICAgfVxuICAgIGdldCBjb250ZXh0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kdWxlcy5yZWR1Y2UoKGNvbnRleHRzLCBtb2R1bGUpID0+IGNvbnRleHRzLmNvbmNhdChtb2R1bGUuY29udGV4dHMpLCBbXSk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnNjb3BlT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5zY29wZU9ic2VydmVyLnN0b3AoKTtcbiAgICB9XG4gICAgbG9hZERlZmluaXRpb24oZGVmaW5pdGlvbikge1xuICAgICAgICB0aGlzLnVubG9hZElkZW50aWZpZXIoZGVmaW5pdGlvbi5pZGVudGlmaWVyKTtcbiAgICAgICAgY29uc3QgbW9kdWxlID0gbmV3IE1vZHVsZSh0aGlzLmFwcGxpY2F0aW9uLCBkZWZpbml0aW9uKTtcbiAgICAgICAgdGhpcy5jb25uZWN0TW9kdWxlKG1vZHVsZSk7XG4gICAgICAgIGNvbnN0IGFmdGVyTG9hZCA9IGRlZmluaXRpb24uY29udHJvbGxlckNvbnN0cnVjdG9yLmFmdGVyTG9hZDtcbiAgICAgICAgaWYgKGFmdGVyTG9hZCkge1xuICAgICAgICAgICAgYWZ0ZXJMb2FkLmNhbGwoZGVmaW5pdGlvbi5jb250cm9sbGVyQ29uc3RydWN0b3IsIGRlZmluaXRpb24uaWRlbnRpZmllciwgdGhpcy5hcHBsaWNhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5sb2FkSWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IHRoaXMubW9kdWxlc0J5SWRlbnRpZmllci5nZXQoaWRlbnRpZmllcik7XG4gICAgICAgIGlmIChtb2R1bGUpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdE1vZHVsZShtb2R1bGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldENvbnRleHRGb3JFbGVtZW50QW5kSWRlbnRpZmllcihlbGVtZW50LCBpZGVudGlmaWVyKSB7XG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IHRoaXMubW9kdWxlc0J5SWRlbnRpZmllci5nZXQoaWRlbnRpZmllcik7XG4gICAgICAgIGlmIChtb2R1bGUpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGUuY29udGV4dHMuZmluZCgoY29udGV4dCkgPT4gY29udGV4dC5lbGVtZW50ID09IGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByb3Bvc2VUb0Nvbm5lY3RTY29wZUZvckVsZW1lbnRBbmRJZGVudGlmaWVyKGVsZW1lbnQsIGlkZW50aWZpZXIpIHtcbiAgICAgICAgY29uc3Qgc2NvcGUgPSB0aGlzLnNjb3BlT2JzZXJ2ZXIucGFyc2VWYWx1ZUZvckVsZW1lbnRBbmRJZGVudGlmaWVyKGVsZW1lbnQsIGlkZW50aWZpZXIpO1xuICAgICAgICBpZiAoc2NvcGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2NvcGVPYnNlcnZlci5lbGVtZW50TWF0Y2hlZFZhbHVlKHNjb3BlLmVsZW1lbnQsIHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYENvdWxkbid0IGZpbmQgb3IgY3JlYXRlIHNjb3BlIGZvciBpZGVudGlmaWVyOiBcIiR7aWRlbnRpZmllcn1cIiBhbmQgZWxlbWVudDpgLCBlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVFcnJvcihlcnJvciwgbWVzc2FnZSwgZGV0YWlsKSB7XG4gICAgICAgIHRoaXMuYXBwbGljYXRpb24uaGFuZGxlRXJyb3IoZXJyb3IsIG1lc3NhZ2UsIGRldGFpbCk7XG4gICAgfVxuICAgIGNyZWF0ZVNjb3BlRm9yRWxlbWVudEFuZElkZW50aWZpZXIoZWxlbWVudCwgaWRlbnRpZmllcikge1xuICAgICAgICByZXR1cm4gbmV3IFNjb3BlKHRoaXMuc2NoZW1hLCBlbGVtZW50LCBpZGVudGlmaWVyLCB0aGlzLmxvZ2dlcik7XG4gICAgfVxuICAgIHNjb3BlQ29ubmVjdGVkKHNjb3BlKSB7XG4gICAgICAgIHRoaXMuc2NvcGVzQnlJZGVudGlmaWVyLmFkZChzY29wZS5pZGVudGlmaWVyLCBzY29wZSk7XG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IHRoaXMubW9kdWxlc0J5SWRlbnRpZmllci5nZXQoc2NvcGUuaWRlbnRpZmllcik7XG4gICAgICAgIGlmIChtb2R1bGUpIHtcbiAgICAgICAgICAgIG1vZHVsZS5jb25uZWN0Q29udGV4dEZvclNjb3BlKHNjb3BlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzY29wZURpc2Nvbm5lY3RlZChzY29wZSkge1xuICAgICAgICB0aGlzLnNjb3Blc0J5SWRlbnRpZmllci5kZWxldGUoc2NvcGUuaWRlbnRpZmllciwgc2NvcGUpO1xuICAgICAgICBjb25zdCBtb2R1bGUgPSB0aGlzLm1vZHVsZXNCeUlkZW50aWZpZXIuZ2V0KHNjb3BlLmlkZW50aWZpZXIpO1xuICAgICAgICBpZiAobW9kdWxlKSB7XG4gICAgICAgICAgICBtb2R1bGUuZGlzY29ubmVjdENvbnRleHRGb3JTY29wZShzY29wZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29ubmVjdE1vZHVsZShtb2R1bGUpIHtcbiAgICAgICAgdGhpcy5tb2R1bGVzQnlJZGVudGlmaWVyLnNldChtb2R1bGUuaWRlbnRpZmllciwgbW9kdWxlKTtcbiAgICAgICAgY29uc3Qgc2NvcGVzID0gdGhpcy5zY29wZXNCeUlkZW50aWZpZXIuZ2V0VmFsdWVzRm9yS2V5KG1vZHVsZS5pZGVudGlmaWVyKTtcbiAgICAgICAgc2NvcGVzLmZvckVhY2goKHNjb3BlKSA9PiBtb2R1bGUuY29ubmVjdENvbnRleHRGb3JTY29wZShzY29wZSkpO1xuICAgIH1cbiAgICBkaXNjb25uZWN0TW9kdWxlKG1vZHVsZSkge1xuICAgICAgICB0aGlzLm1vZHVsZXNCeUlkZW50aWZpZXIuZGVsZXRlKG1vZHVsZS5pZGVudGlmaWVyKTtcbiAgICAgICAgY29uc3Qgc2NvcGVzID0gdGhpcy5zY29wZXNCeUlkZW50aWZpZXIuZ2V0VmFsdWVzRm9yS2V5KG1vZHVsZS5pZGVudGlmaWVyKTtcbiAgICAgICAgc2NvcGVzLmZvckVhY2goKHNjb3BlKSA9PiBtb2R1bGUuZGlzY29ubmVjdENvbnRleHRGb3JTY29wZShzY29wZSkpO1xuICAgIH1cbn1cblxuY29uc3QgZGVmYXVsdFNjaGVtYSA9IHtcbiAgICBjb250cm9sbGVyQXR0cmlidXRlOiBcImRhdGEtY29udHJvbGxlclwiLFxuICAgIGFjdGlvbkF0dHJpYnV0ZTogXCJkYXRhLWFjdGlvblwiLFxuICAgIHRhcmdldEF0dHJpYnV0ZTogXCJkYXRhLXRhcmdldFwiLFxuICAgIHRhcmdldEF0dHJpYnV0ZUZvclNjb3BlOiAoaWRlbnRpZmllcikgPT4gYGRhdGEtJHtpZGVudGlmaWVyfS10YXJnZXRgLFxuICAgIG91dGxldEF0dHJpYnV0ZUZvclNjb3BlOiAoaWRlbnRpZmllciwgb3V0bGV0KSA9PiBgZGF0YS0ke2lkZW50aWZpZXJ9LSR7b3V0bGV0fS1vdXRsZXRgLFxuICAgIGtleU1hcHBpbmdzOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBlbnRlcjogXCJFbnRlclwiLCB0YWI6IFwiVGFiXCIsIGVzYzogXCJFc2NhcGVcIiwgc3BhY2U6IFwiIFwiLCB1cDogXCJBcnJvd1VwXCIsIGRvd246IFwiQXJyb3dEb3duXCIsIGxlZnQ6IFwiQXJyb3dMZWZ0XCIsIHJpZ2h0OiBcIkFycm93UmlnaHRcIiwgaG9tZTogXCJIb21lXCIsIGVuZDogXCJFbmRcIiwgcGFnZV91cDogXCJQYWdlVXBcIiwgcGFnZV9kb3duOiBcIlBhZ2VEb3duXCIgfSwgb2JqZWN0RnJvbUVudHJpZXMoXCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiLnNwbGl0KFwiXCIpLm1hcCgoYykgPT4gW2MsIGNdKSkpLCBvYmplY3RGcm9tRW50cmllcyhcIjAxMjM0NTY3ODlcIi5zcGxpdChcIlwiKS5tYXAoKG4pID0+IFtuLCBuXSkpKSxcbn07XG5mdW5jdGlvbiBvYmplY3RGcm9tRW50cmllcyhhcnJheSkge1xuICAgIHJldHVybiBhcnJheS5yZWR1Y2UoKG1lbW8sIFtrLCB2XSkgPT4gKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbWVtbyksIHsgW2tdOiB2IH0pKSwge30pO1xufVxuXG5jbGFzcyBBcHBsaWNhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgc2NoZW1hID0gZGVmYXVsdFNjaGVtYSkge1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGNvbnNvbGU7XG4gICAgICAgIHRoaXMuZGVidWcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sb2dEZWJ1Z0FjdGl2aXR5ID0gKGlkZW50aWZpZXIsIGZ1bmN0aW9uTmFtZSwgZGV0YWlsID0ge30pID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dGb3JtYXR0ZWRNZXNzYWdlKGlkZW50aWZpZXIsIGZ1bmN0aW9uTmFtZSwgZGV0YWlsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlciA9IG5ldyBEaXNwYXRjaGVyKHRoaXMpO1xuICAgICAgICB0aGlzLnJvdXRlciA9IG5ldyBSb3V0ZXIodGhpcyk7XG4gICAgICAgIHRoaXMuYWN0aW9uRGVzY3JpcHRvckZpbHRlcnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0QWN0aW9uRGVzY3JpcHRvckZpbHRlcnMpO1xuICAgIH1cbiAgICBzdGF0aWMgc3RhcnQoZWxlbWVudCwgc2NoZW1hKSB7XG4gICAgICAgIGNvbnN0IGFwcGxpY2F0aW9uID0gbmV3IHRoaXMoZWxlbWVudCwgc2NoZW1hKTtcbiAgICAgICAgYXBwbGljYXRpb24uc3RhcnQoKTtcbiAgICAgICAgcmV0dXJuIGFwcGxpY2F0aW9uO1xuICAgIH1cbiAgICBhc3luYyBzdGFydCgpIHtcbiAgICAgICAgYXdhaXQgZG9tUmVhZHkoKTtcbiAgICAgICAgdGhpcy5sb2dEZWJ1Z0FjdGl2aXR5KFwiYXBwbGljYXRpb25cIiwgXCJzdGFydGluZ1wiKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnN0YXJ0KCk7XG4gICAgICAgIHRoaXMucm91dGVyLnN0YXJ0KCk7XG4gICAgICAgIHRoaXMubG9nRGVidWdBY3Rpdml0eShcImFwcGxpY2F0aW9uXCIsIFwic3RhcnRcIik7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMubG9nRGVidWdBY3Rpdml0eShcImFwcGxpY2F0aW9uXCIsIFwic3RvcHBpbmdcIik7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5zdG9wKCk7XG4gICAgICAgIHRoaXMucm91dGVyLnN0b3AoKTtcbiAgICAgICAgdGhpcy5sb2dEZWJ1Z0FjdGl2aXR5KFwiYXBwbGljYXRpb25cIiwgXCJzdG9wXCIpO1xuICAgIH1cbiAgICByZWdpc3RlcihpZGVudGlmaWVyLCBjb250cm9sbGVyQ29uc3RydWN0b3IpIHtcbiAgICAgICAgdGhpcy5sb2FkKHsgaWRlbnRpZmllciwgY29udHJvbGxlckNvbnN0cnVjdG9yIH0pO1xuICAgIH1cbiAgICByZWdpc3RlckFjdGlvbk9wdGlvbihuYW1lLCBmaWx0ZXIpIHtcbiAgICAgICAgdGhpcy5hY3Rpb25EZXNjcmlwdG9yRmlsdGVyc1tuYW1lXSA9IGZpbHRlcjtcbiAgICB9XG4gICAgbG9hZChoZWFkLCAuLi5yZXN0KSB7XG4gICAgICAgIGNvbnN0IGRlZmluaXRpb25zID0gQXJyYXkuaXNBcnJheShoZWFkKSA/IGhlYWQgOiBbaGVhZCwgLi4ucmVzdF07XG4gICAgICAgIGRlZmluaXRpb25zLmZvckVhY2goKGRlZmluaXRpb24pID0+IHtcbiAgICAgICAgICAgIGlmIChkZWZpbml0aW9uLmNvbnRyb2xsZXJDb25zdHJ1Y3Rvci5zaG91bGRMb2FkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb3V0ZXIubG9hZERlZmluaXRpb24oZGVmaW5pdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1bmxvYWQoaGVhZCwgLi4ucmVzdCkge1xuICAgICAgICBjb25zdCBpZGVudGlmaWVycyA9IEFycmF5LmlzQXJyYXkoaGVhZCkgPyBoZWFkIDogW2hlYWQsIC4uLnJlc3RdO1xuICAgICAgICBpZGVudGlmaWVycy5mb3JFYWNoKChpZGVudGlmaWVyKSA9PiB0aGlzLnJvdXRlci51bmxvYWRJZGVudGlmaWVyKGlkZW50aWZpZXIpKTtcbiAgICB9XG4gICAgZ2V0IGNvbnRyb2xsZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3V0ZXIuY29udGV4dHMubWFwKChjb250ZXh0KSA9PiBjb250ZXh0LmNvbnRyb2xsZXIpO1xuICAgIH1cbiAgICBnZXRDb250cm9sbGVyRm9yRWxlbWVudEFuZElkZW50aWZpZXIoZWxlbWVudCwgaWRlbnRpZmllcikge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5yb3V0ZXIuZ2V0Q29udGV4dEZvckVsZW1lbnRBbmRJZGVudGlmaWVyKGVsZW1lbnQsIGlkZW50aWZpZXIpO1xuICAgICAgICByZXR1cm4gY29udGV4dCA/IGNvbnRleHQuY29udHJvbGxlciA6IG51bGw7XG4gICAgfVxuICAgIGhhbmRsZUVycm9yKGVycm9yLCBtZXNzYWdlLCBkZXRhaWwpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihgJXNcXG5cXG4lb1xcblxcbiVvYCwgbWVzc2FnZSwgZXJyb3IsIGRldGFpbCk7XG4gICAgICAgIChfYSA9IHdpbmRvdy5vbmVycm9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh3aW5kb3csIG1lc3NhZ2UsIFwiXCIsIDAsIDAsIGVycm9yKTtcbiAgICB9XG4gICAgbG9nRm9ybWF0dGVkTWVzc2FnZShpZGVudGlmaWVyLCBmdW5jdGlvbk5hbWUsIGRldGFpbCA9IHt9KSB7XG4gICAgICAgIGRldGFpbCA9IE9iamVjdC5hc3NpZ24oeyBhcHBsaWNhdGlvbjogdGhpcyB9LCBkZXRhaWwpO1xuICAgICAgICB0aGlzLmxvZ2dlci5ncm91cENvbGxhcHNlZChgJHtpZGVudGlmaWVyfSAjJHtmdW5jdGlvbk5hbWV9YCk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcImRldGFpbHM6XCIsIE9iamVjdC5hc3NpZ24oe30sIGRldGFpbCkpO1xuICAgICAgICB0aGlzLmxvZ2dlci5ncm91cEVuZCgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRvbVJlYWR5KCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSBcImxvYWRpbmdcIikge1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBDbGFzc1Byb3BlcnRpZXNCbGVzc2luZyhjb25zdHJ1Y3Rvcikge1xuICAgIGNvbnN0IGNsYXNzZXMgPSByZWFkSW5oZXJpdGFibGVTdGF0aWNBcnJheVZhbHVlcyhjb25zdHJ1Y3RvciwgXCJjbGFzc2VzXCIpO1xuICAgIHJldHVybiBjbGFzc2VzLnJlZHVjZSgocHJvcGVydGllcywgY2xhc3NEZWZpbml0aW9uKSA9PiB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHByb3BlcnRpZXMsIHByb3BlcnRpZXNGb3JDbGFzc0RlZmluaXRpb24oY2xhc3NEZWZpbml0aW9uKSk7XG4gICAgfSwge30pO1xufVxuZnVuY3Rpb24gcHJvcGVydGllc0ZvckNsYXNzRGVmaW5pdGlvbihrZXkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBbYCR7a2V5fUNsYXNzYF06IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNsYXNzZXMgfSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzZXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsYXNzZXMuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBjbGFzc2VzLmdldEF0dHJpYnV0ZU5hbWUoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIGF0dHJpYnV0ZSBcIiR7YXR0cmlidXRlfVwiYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW2Ake2tleX1DbGFzc2VzYF06IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGFzc2VzLmdldEFsbChrZXkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW2BoYXMke2NhcGl0YWxpemUoa2V5KX1DbGFzc2BdOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xhc3Nlcy5oYXMoa2V5KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gT3V0bGV0UHJvcGVydGllc0JsZXNzaW5nKGNvbnN0cnVjdG9yKSB7XG4gICAgY29uc3Qgb3V0bGV0cyA9IHJlYWRJbmhlcml0YWJsZVN0YXRpY0FycmF5VmFsdWVzKGNvbnN0cnVjdG9yLCBcIm91dGxldHNcIik7XG4gICAgcmV0dXJuIG91dGxldHMucmVkdWNlKChwcm9wZXJ0aWVzLCBvdXRsZXREZWZpbml0aW9uKSA9PiB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHByb3BlcnRpZXMsIHByb3BlcnRpZXNGb3JPdXRsZXREZWZpbml0aW9uKG91dGxldERlZmluaXRpb24pKTtcbiAgICB9LCB7fSk7XG59XG5mdW5jdGlvbiBnZXRPdXRsZXRDb250cm9sbGVyKGNvbnRyb2xsZXIsIGVsZW1lbnQsIGlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gY29udHJvbGxlci5hcHBsaWNhdGlvbi5nZXRDb250cm9sbGVyRm9yRWxlbWVudEFuZElkZW50aWZpZXIoZWxlbWVudCwgaWRlbnRpZmllcik7XG59XG5mdW5jdGlvbiBnZXRDb250cm9sbGVyQW5kRW5zdXJlQ29ubmVjdGVkU2NvcGUoY29udHJvbGxlciwgZWxlbWVudCwgb3V0bGV0TmFtZSkge1xuICAgIGxldCBvdXRsZXRDb250cm9sbGVyID0gZ2V0T3V0bGV0Q29udHJvbGxlcihjb250cm9sbGVyLCBlbGVtZW50LCBvdXRsZXROYW1lKTtcbiAgICBpZiAob3V0bGV0Q29udHJvbGxlcilcbiAgICAgICAgcmV0dXJuIG91dGxldENvbnRyb2xsZXI7XG4gICAgY29udHJvbGxlci5hcHBsaWNhdGlvbi5yb3V0ZXIucHJvcG9zZVRvQ29ubmVjdFNjb3BlRm9yRWxlbWVudEFuZElkZW50aWZpZXIoZWxlbWVudCwgb3V0bGV0TmFtZSk7XG4gICAgb3V0bGV0Q29udHJvbGxlciA9IGdldE91dGxldENvbnRyb2xsZXIoY29udHJvbGxlciwgZWxlbWVudCwgb3V0bGV0TmFtZSk7XG4gICAgaWYgKG91dGxldENvbnRyb2xsZXIpXG4gICAgICAgIHJldHVybiBvdXRsZXRDb250cm9sbGVyO1xufVxuZnVuY3Rpb24gcHJvcGVydGllc0Zvck91dGxldERlZmluaXRpb24obmFtZSkge1xuICAgIGNvbnN0IGNhbWVsaXplZE5hbWUgPSBuYW1lc3BhY2VDYW1lbGl6ZShuYW1lKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBbYCR7Y2FtZWxpemVkTmFtZX1PdXRsZXRgXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dGxldEVsZW1lbnQgPSB0aGlzLm91dGxldHMuZmluZChuYW1lKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMub3V0bGV0cy5nZXRTZWxlY3RvckZvck91dGxldE5hbWUobmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKG91dGxldEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0bGV0Q29udHJvbGxlciA9IGdldENvbnRyb2xsZXJBbmRFbnN1cmVDb25uZWN0ZWRTY29wZSh0aGlzLCBvdXRsZXRFbGVtZW50LCBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG91dGxldENvbnRyb2xsZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3V0bGV0Q29udHJvbGxlcjtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgcHJvdmlkZWQgb3V0bGV0IGVsZW1lbnQgaXMgbWlzc2luZyBhbiBvdXRsZXQgY29udHJvbGxlciBcIiR7bmFtZX1cIiBpbnN0YW5jZSBmb3IgaG9zdCBjb250cm9sbGVyIFwiJHt0aGlzLmlkZW50aWZpZXJ9XCJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIG91dGxldCBlbGVtZW50IFwiJHtuYW1lfVwiIGZvciBob3N0IGNvbnRyb2xsZXIgXCIke3RoaXMuaWRlbnRpZmllcn1cIi4gU3RpbXVsdXMgY291bGRuJ3QgZmluZCBhIG1hdGNoaW5nIG91dGxldCBlbGVtZW50IHVzaW5nIHNlbGVjdG9yIFwiJHtzZWxlY3Rvcn1cIi5gKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFtgJHtjYW1lbGl6ZWROYW1lfU91dGxldHNgXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dGxldHMgPSB0aGlzLm91dGxldHMuZmluZEFsbChuYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAob3V0bGV0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvdXRsZXRzXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKChvdXRsZXRFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvdXRsZXRDb250cm9sbGVyID0gZ2V0Q29udHJvbGxlckFuZEVuc3VyZUNvbm5lY3RlZFNjb3BlKHRoaXMsIG91dGxldEVsZW1lbnQsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG91dGxldENvbnRyb2xsZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dGxldENvbnRyb2xsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFRoZSBwcm92aWRlZCBvdXRsZXQgZWxlbWVudCBpcyBtaXNzaW5nIGFuIG91dGxldCBjb250cm9sbGVyIFwiJHtuYW1lfVwiIGluc3RhbmNlIGZvciBob3N0IGNvbnRyb2xsZXIgXCIke3RoaXMuaWRlbnRpZmllcn1cImAsIG91dGxldEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoY29udHJvbGxlcikgPT4gY29udHJvbGxlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFtgJHtjYW1lbGl6ZWROYW1lfU91dGxldEVsZW1lbnRgXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dGxldEVsZW1lbnQgPSB0aGlzLm91dGxldHMuZmluZChuYW1lKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMub3V0bGV0cy5nZXRTZWxlY3RvckZvck91dGxldE5hbWUobmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKG91dGxldEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dGxldEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3Npbmcgb3V0bGV0IGVsZW1lbnQgXCIke25hbWV9XCIgZm9yIGhvc3QgY29udHJvbGxlciBcIiR7dGhpcy5pZGVudGlmaWVyfVwiLiBTdGltdWx1cyBjb3VsZG4ndCBmaW5kIGEgbWF0Y2hpbmcgb3V0bGV0IGVsZW1lbnQgdXNpbmcgc2VsZWN0b3IgXCIke3NlbGVjdG9yfVwiLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFtgJHtjYW1lbGl6ZWROYW1lfU91dGxldEVsZW1lbnRzYF06IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vdXRsZXRzLmZpbmRBbGwobmFtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBbYGhhcyR7Y2FwaXRhbGl6ZShjYW1lbGl6ZWROYW1lKX1PdXRsZXRgXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm91dGxldHMuaGFzKG5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBUYXJnZXRQcm9wZXJ0aWVzQmxlc3NpbmcoY29uc3RydWN0b3IpIHtcbiAgICBjb25zdCB0YXJnZXRzID0gcmVhZEluaGVyaXRhYmxlU3RhdGljQXJyYXlWYWx1ZXMoY29uc3RydWN0b3IsIFwidGFyZ2V0c1wiKTtcbiAgICByZXR1cm4gdGFyZ2V0cy5yZWR1Y2UoKHByb3BlcnRpZXMsIHRhcmdldERlZmluaXRpb24pID0+IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocHJvcGVydGllcywgcHJvcGVydGllc0ZvclRhcmdldERlZmluaXRpb24odGFyZ2V0RGVmaW5pdGlvbikpO1xuICAgIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIHByb3BlcnRpZXNGb3JUYXJnZXREZWZpbml0aW9uKG5hbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBbYCR7bmFtZX1UYXJnZXRgXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMudGFyZ2V0cy5maW5kKG5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyB0YXJnZXQgZWxlbWVudCBcIiR7bmFtZX1cIiBmb3IgXCIke3RoaXMuaWRlbnRpZmllcn1cIiBjb250cm9sbGVyYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW2Ake25hbWV9VGFyZ2V0c2BdOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0cy5maW5kQWxsKG5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW2BoYXMke2NhcGl0YWxpemUobmFtZSl9VGFyZ2V0YF06IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRzLmhhcyhuYW1lKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gVmFsdWVQcm9wZXJ0aWVzQmxlc3NpbmcoY29uc3RydWN0b3IpIHtcbiAgICBjb25zdCB2YWx1ZURlZmluaXRpb25QYWlycyA9IHJlYWRJbmhlcml0YWJsZVN0YXRpY09iamVjdFBhaXJzKGNvbnN0cnVjdG9yLCBcInZhbHVlc1wiKTtcbiAgICBjb25zdCBwcm9wZXJ0eURlc2NyaXB0b3JNYXAgPSB7XG4gICAgICAgIHZhbHVlRGVzY3JpcHRvck1hcDoge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZURlZmluaXRpb25QYWlycy5yZWR1Y2UoKHJlc3VsdCwgdmFsdWVEZWZpbml0aW9uUGFpcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZURlc2NyaXB0b3IgPSBwYXJzZVZhbHVlRGVmaW5pdGlvblBhaXIodmFsdWVEZWZpbml0aW9uUGFpciwgdGhpcy5pZGVudGlmaWVyKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTmFtZSA9IHRoaXMuZGF0YS5nZXRBdHRyaWJ1dGVOYW1lRm9yS2V5KHZhbHVlRGVzY3JpcHRvci5rZXkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihyZXN1bHQsIHsgW2F0dHJpYnV0ZU5hbWVdOiB2YWx1ZURlc2NyaXB0b3IgfSk7XG4gICAgICAgICAgICAgICAgfSwge30pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiB2YWx1ZURlZmluaXRpb25QYWlycy5yZWR1Y2UoKHByb3BlcnRpZXMsIHZhbHVlRGVmaW5pdGlvblBhaXIpID0+IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocHJvcGVydGllcywgcHJvcGVydGllc0ZvclZhbHVlRGVmaW5pdGlvblBhaXIodmFsdWVEZWZpbml0aW9uUGFpcikpO1xuICAgIH0sIHByb3BlcnR5RGVzY3JpcHRvck1hcCk7XG59XG5mdW5jdGlvbiBwcm9wZXJ0aWVzRm9yVmFsdWVEZWZpbml0aW9uUGFpcih2YWx1ZURlZmluaXRpb25QYWlyLCBjb250cm9sbGVyKSB7XG4gICAgY29uc3QgZGVmaW5pdGlvbiA9IHBhcnNlVmFsdWVEZWZpbml0aW9uUGFpcih2YWx1ZURlZmluaXRpb25QYWlyLCBjb250cm9sbGVyKTtcbiAgICBjb25zdCB7IGtleSwgbmFtZSwgcmVhZGVyOiByZWFkLCB3cml0ZXI6IHdyaXRlIH0gPSBkZWZpbml0aW9uO1xuICAgIHJldHVybiB7XG4gICAgICAgIFtuYW1lXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5kYXRhLmdldChrZXkpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmaW5pdGlvbi5kZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zZXQoa2V5LCB3cml0ZSh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFtgaGFzJHtjYXBpdGFsaXplKG5hbWUpfWBdOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5oYXMoa2V5KSB8fCBkZWZpbml0aW9uLmhhc0N1c3RvbURlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlVmFsdWVEZWZpbml0aW9uUGFpcihbdG9rZW4sIHR5cGVEZWZpbml0aW9uXSwgY29udHJvbGxlcikge1xuICAgIHJldHVybiB2YWx1ZURlc2NyaXB0b3JGb3JUb2tlbkFuZFR5cGVEZWZpbml0aW9uKHtcbiAgICAgICAgY29udHJvbGxlcixcbiAgICAgICAgdG9rZW4sXG4gICAgICAgIHR5cGVEZWZpbml0aW9uLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gcGFyc2VWYWx1ZVR5cGVDb25zdGFudChjb25zdGFudCkge1xuICAgIHN3aXRjaCAoY29uc3RhbnQpIHtcbiAgICAgICAgY2FzZSBBcnJheTpcbiAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgICAgIHJldHVybiBcImJvb2xlYW5cIjtcbiAgICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgICAgICByZXR1cm4gXCJudW1iZXJcIjtcbiAgICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICAgICAgICByZXR1cm4gXCJvYmplY3RcIjtcbiAgICAgICAgY2FzZSBTdHJpbmc6XG4gICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICB9XG59XG5mdW5jdGlvbiBwYXJzZVZhbHVlVHlwZURlZmF1bHQoZGVmYXVsdFZhbHVlKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJib29sZWFuXCI7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIHJldHVybiBcIm51bWJlclwiO1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGVmYXVsdFZhbHVlKSlcbiAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRlZmF1bHRWYWx1ZSkgPT09IFwiW29iamVjdCBPYmplY3RdXCIpXG4gICAgICAgIHJldHVybiBcIm9iamVjdFwiO1xufVxuZnVuY3Rpb24gcGFyc2VWYWx1ZVR5cGVPYmplY3QocGF5bG9hZCkge1xuICAgIGNvbnN0IHsgY29udHJvbGxlciwgdG9rZW4sIHR5cGVPYmplY3QgfSA9IHBheWxvYWQ7XG4gICAgY29uc3QgaGFzVHlwZSA9IGlzU29tZXRoaW5nKHR5cGVPYmplY3QudHlwZSk7XG4gICAgY29uc3QgaGFzRGVmYXVsdCA9IGlzU29tZXRoaW5nKHR5cGVPYmplY3QuZGVmYXVsdCk7XG4gICAgY29uc3QgZnVsbE9iamVjdCA9IGhhc1R5cGUgJiYgaGFzRGVmYXVsdDtcbiAgICBjb25zdCBvbmx5VHlwZSA9IGhhc1R5cGUgJiYgIWhhc0RlZmF1bHQ7XG4gICAgY29uc3Qgb25seURlZmF1bHQgPSAhaGFzVHlwZSAmJiBoYXNEZWZhdWx0O1xuICAgIGNvbnN0IHR5cGVGcm9tT2JqZWN0ID0gcGFyc2VWYWx1ZVR5cGVDb25zdGFudCh0eXBlT2JqZWN0LnR5cGUpO1xuICAgIGNvbnN0IHR5cGVGcm9tRGVmYXVsdFZhbHVlID0gcGFyc2VWYWx1ZVR5cGVEZWZhdWx0KHBheWxvYWQudHlwZU9iamVjdC5kZWZhdWx0KTtcbiAgICBpZiAob25seVR5cGUpXG4gICAgICAgIHJldHVybiB0eXBlRnJvbU9iamVjdDtcbiAgICBpZiAob25seURlZmF1bHQpXG4gICAgICAgIHJldHVybiB0eXBlRnJvbURlZmF1bHRWYWx1ZTtcbiAgICBpZiAodHlwZUZyb21PYmplY3QgIT09IHR5cGVGcm9tRGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHByb3BlcnR5UGF0aCA9IGNvbnRyb2xsZXIgPyBgJHtjb250cm9sbGVyfS4ke3Rva2VufWAgOiB0b2tlbjtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgc3BlY2lmaWVkIGRlZmF1bHQgdmFsdWUgZm9yIHRoZSBTdGltdWx1cyBWYWx1ZSBcIiR7cHJvcGVydHlQYXRofVwiIG11c3QgbWF0Y2ggdGhlIGRlZmluZWQgdHlwZSBcIiR7dHlwZUZyb21PYmplY3R9XCIuIFRoZSBwcm92aWRlZCBkZWZhdWx0IHZhbHVlIG9mIFwiJHt0eXBlT2JqZWN0LmRlZmF1bHR9XCIgaXMgb2YgdHlwZSBcIiR7dHlwZUZyb21EZWZhdWx0VmFsdWV9XCIuYCk7XG4gICAgfVxuICAgIGlmIChmdWxsT2JqZWN0KVxuICAgICAgICByZXR1cm4gdHlwZUZyb21PYmplY3Q7XG59XG5mdW5jdGlvbiBwYXJzZVZhbHVlVHlwZURlZmluaXRpb24ocGF5bG9hZCkge1xuICAgIGNvbnN0IHsgY29udHJvbGxlciwgdG9rZW4sIHR5cGVEZWZpbml0aW9uIH0gPSBwYXlsb2FkO1xuICAgIGNvbnN0IHR5cGVPYmplY3QgPSB7IGNvbnRyb2xsZXIsIHRva2VuLCB0eXBlT2JqZWN0OiB0eXBlRGVmaW5pdGlvbiB9O1xuICAgIGNvbnN0IHR5cGVGcm9tT2JqZWN0ID0gcGFyc2VWYWx1ZVR5cGVPYmplY3QodHlwZU9iamVjdCk7XG4gICAgY29uc3QgdHlwZUZyb21EZWZhdWx0VmFsdWUgPSBwYXJzZVZhbHVlVHlwZURlZmF1bHQodHlwZURlZmluaXRpb24pO1xuICAgIGNvbnN0IHR5cGVGcm9tQ29uc3RhbnQgPSBwYXJzZVZhbHVlVHlwZUNvbnN0YW50KHR5cGVEZWZpbml0aW9uKTtcbiAgICBjb25zdCB0eXBlID0gdHlwZUZyb21PYmplY3QgfHwgdHlwZUZyb21EZWZhdWx0VmFsdWUgfHwgdHlwZUZyb21Db25zdGFudDtcbiAgICBpZiAodHlwZSlcbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgY29uc3QgcHJvcGVydHlQYXRoID0gY29udHJvbGxlciA/IGAke2NvbnRyb2xsZXJ9LiR7dHlwZURlZmluaXRpb259YCA6IHRva2VuO1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biB2YWx1ZSB0eXBlIFwiJHtwcm9wZXJ0eVBhdGh9XCIgZm9yIFwiJHt0b2tlbn1cIiB2YWx1ZWApO1xufVxuZnVuY3Rpb24gZGVmYXVsdFZhbHVlRm9yRGVmaW5pdGlvbih0eXBlRGVmaW5pdGlvbikge1xuICAgIGNvbnN0IGNvbnN0YW50ID0gcGFyc2VWYWx1ZVR5cGVDb25zdGFudCh0eXBlRGVmaW5pdGlvbik7XG4gICAgaWYgKGNvbnN0YW50KVxuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlc0J5VHlwZVtjb25zdGFudF07XG4gICAgY29uc3QgaGFzRGVmYXVsdCA9IGhhc1Byb3BlcnR5KHR5cGVEZWZpbml0aW9uLCBcImRlZmF1bHRcIik7XG4gICAgY29uc3QgaGFzVHlwZSA9IGhhc1Byb3BlcnR5KHR5cGVEZWZpbml0aW9uLCBcInR5cGVcIik7XG4gICAgY29uc3QgdHlwZU9iamVjdCA9IHR5cGVEZWZpbml0aW9uO1xuICAgIGlmIChoYXNEZWZhdWx0KVxuICAgICAgICByZXR1cm4gdHlwZU9iamVjdC5kZWZhdWx0O1xuICAgIGlmIChoYXNUeXBlKSB7XG4gICAgICAgIGNvbnN0IHsgdHlwZSB9ID0gdHlwZU9iamVjdDtcbiAgICAgICAgY29uc3QgY29uc3RhbnRGcm9tVHlwZSA9IHBhcnNlVmFsdWVUeXBlQ29uc3RhbnQodHlwZSk7XG4gICAgICAgIGlmIChjb25zdGFudEZyb21UeXBlKVxuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZXNCeVR5cGVbY29uc3RhbnRGcm9tVHlwZV07XG4gICAgfVxuICAgIHJldHVybiB0eXBlRGVmaW5pdGlvbjtcbn1cbmZ1bmN0aW9uIHZhbHVlRGVzY3JpcHRvckZvclRva2VuQW5kVHlwZURlZmluaXRpb24ocGF5bG9hZCkge1xuICAgIGNvbnN0IHsgdG9rZW4sIHR5cGVEZWZpbml0aW9uIH0gPSBwYXlsb2FkO1xuICAgIGNvbnN0IGtleSA9IGAke2Rhc2hlcml6ZSh0b2tlbil9LXZhbHVlYDtcbiAgICBjb25zdCB0eXBlID0gcGFyc2VWYWx1ZVR5cGVEZWZpbml0aW9uKHBheWxvYWQpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIGtleSxcbiAgICAgICAgbmFtZTogY2FtZWxpemUoa2V5KSxcbiAgICAgICAgZ2V0IGRlZmF1bHRWYWx1ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWVGb3JEZWZpbml0aW9uKHR5cGVEZWZpbml0aW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGhhc0N1c3RvbURlZmF1bHRWYWx1ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVZhbHVlVHlwZURlZmF1bHQodHlwZURlZmluaXRpb24pICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHJlYWRlcjogcmVhZGVyc1t0eXBlXSxcbiAgICAgICAgd3JpdGVyOiB3cml0ZXJzW3R5cGVdIHx8IHdyaXRlcnMuZGVmYXVsdCxcbiAgICB9O1xufVxuY29uc3QgZGVmYXVsdFZhbHVlc0J5VHlwZSA9IHtcbiAgICBnZXQgYXJyYXkoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9LFxuICAgIGJvb2xlYW46IGZhbHNlLFxuICAgIG51bWJlcjogMCxcbiAgICBnZXQgb2JqZWN0KCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBzdHJpbmc6IFwiXCIsXG59O1xuY29uc3QgcmVhZGVycyA9IHtcbiAgICBhcnJheSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBhcnJheSA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBleHBlY3RlZCB2YWx1ZSBvZiB0eXBlIFwiYXJyYXlcIiBidXQgaW5zdGVhZCBnb3QgdmFsdWUgXCIke3ZhbHVlfVwiIG9mIHR5cGUgXCIke3BhcnNlVmFsdWVUeXBlRGVmYXVsdChhcnJheSl9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfSxcbiAgICBib29sZWFuKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAhKHZhbHVlID09IFwiMFwiIHx8IFN0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKSA9PSBcImZhbHNlXCIpO1xuICAgIH0sXG4gICAgbnVtYmVyKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIodmFsdWUucmVwbGFjZSgvXy9nLCBcIlwiKSk7XG4gICAgfSxcbiAgICBvYmplY3QodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb2JqZWN0ID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgIGlmIChvYmplY3QgPT09IG51bGwgfHwgdHlwZW9mIG9iamVjdCAhPSBcIm9iamVjdFwiIHx8IEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgZXhwZWN0ZWQgdmFsdWUgb2YgdHlwZSBcIm9iamVjdFwiIGJ1dCBpbnN0ZWFkIGdvdCB2YWx1ZSBcIiR7dmFsdWV9XCIgb2YgdHlwZSBcIiR7cGFyc2VWYWx1ZVR5cGVEZWZhdWx0KG9iamVjdCl9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0sXG4gICAgc3RyaW5nKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxufTtcbmNvbnN0IHdyaXRlcnMgPSB7XG4gICAgZGVmYXVsdDogd3JpdGVTdHJpbmcsXG4gICAgYXJyYXk6IHdyaXRlSlNPTixcbiAgICBvYmplY3Q6IHdyaXRlSlNPTixcbn07XG5mdW5jdGlvbiB3cml0ZUpTT04odmFsdWUpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xufVxuZnVuY3Rpb24gd3JpdGVTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gYCR7dmFsdWV9YDtcbn1cblxuY2xhc3MgQ29udHJvbGxlciB7XG4gICAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IHNob3VsZExvYWQoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBzdGF0aWMgYWZ0ZXJMb2FkKF9pZGVudGlmaWVyLCBfYXBwbGljYXRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBnZXQgYXBwbGljYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuYXBwbGljYXRpb247XG4gICAgfVxuICAgIGdldCBzY29wZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5zY29wZTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBpZGVudGlmaWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5pZGVudGlmaWVyO1xuICAgIH1cbiAgICBnZXQgdGFyZ2V0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUudGFyZ2V0cztcbiAgICB9XG4gICAgZ2V0IG91dGxldHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLm91dGxldHM7XG4gICAgfVxuICAgIGdldCBjbGFzc2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5jbGFzc2VzO1xuICAgIH1cbiAgICBnZXQgZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuZGF0YTtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICB9XG4gICAgY29ubmVjdCgpIHtcbiAgICB9XG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICB9XG4gICAgZGlzcGF0Y2goZXZlbnROYW1lLCB7IHRhcmdldCA9IHRoaXMuZWxlbWVudCwgZGV0YWlsID0ge30sIHByZWZpeCA9IHRoaXMuaWRlbnRpZmllciwgYnViYmxlcyA9IHRydWUsIGNhbmNlbGFibGUgPSB0cnVlLCB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IHByZWZpeCA/IGAke3ByZWZpeH06JHtldmVudE5hbWV9YCA6IGV2ZW50TmFtZTtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQodHlwZSwgeyBkZXRhaWwsIGJ1YmJsZXMsIGNhbmNlbGFibGUgfSk7XG4gICAgICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH1cbn1cbkNvbnRyb2xsZXIuYmxlc3NpbmdzID0gW1xuICAgIENsYXNzUHJvcGVydGllc0JsZXNzaW5nLFxuICAgIFRhcmdldFByb3BlcnRpZXNCbGVzc2luZyxcbiAgICBWYWx1ZVByb3BlcnRpZXNCbGVzc2luZyxcbiAgICBPdXRsZXRQcm9wZXJ0aWVzQmxlc3NpbmcsXG5dO1xuQ29udHJvbGxlci50YXJnZXRzID0gW107XG5Db250cm9sbGVyLm91dGxldHMgPSBbXTtcbkNvbnRyb2xsZXIudmFsdWVzID0ge307XG5cbmV4cG9ydCB7IEFwcGxpY2F0aW9uLCBBdHRyaWJ1dGVPYnNlcnZlciwgQ29udGV4dCwgQ29udHJvbGxlciwgRWxlbWVudE9ic2VydmVyLCBJbmRleGVkTXVsdGltYXAsIE11bHRpbWFwLCBTZWxlY3Rvck9ic2VydmVyLCBTdHJpbmdNYXBPYnNlcnZlciwgVG9rZW5MaXN0T2JzZXJ2ZXIsIFZhbHVlTGlzdE9ic2VydmVyLCBhZGQsIGRlZmF1bHRTY2hlbWEsIGRlbCwgZmV0Y2gsIHBydW5lIH07XG4iLCAiaW1wb3J0IHsgQXBwbGljYXRpb24gfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcblxuY29uc3QgYXBwbGljYXRpb24gPSBBcHBsaWNhdGlvbi5zdGFydCgpXG5cbi8vIENvbmZpZ3VyZSBTdGltdWx1cyBkZXZlbG9wbWVudCBleHBlcmllbmNlXG5hcHBsaWNhdGlvbi5kZWJ1ZyA9IGZhbHNlXG53aW5kb3cuU3RpbXVsdXMgICA9IGFwcGxpY2F0aW9uXG5cbmV4cG9ydCB7IGFwcGxpY2F0aW9uIH1cbiIsICJpbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIGNvbm5lY3QoKSB7XG4gICAgdGhpcy5lbGVtZW50LnRleHRDb250ZW50ID0gXCJIZWxsbyBXb3JsZCFcIlxuICB9XG59XG5cbiIsICJcbiAgICAgICAgaW1wb3J0ICogYXMgbW9kdWxlMCBmcm9tICcuL2hlbGxvX2NvbnRyb2xsZXIuanMnXG4gICAgICAgIGNvbnN0IG1vZHVsZXMgPSBbe25hbWU6ICdoZWxsbycsIG1vZHVsZTogbW9kdWxlMCwgZmlsZW5hbWU6ICdoZWxsb19jb250cm9sbGVyLmpzJ31dXG4gICAgICAgIGV4cG9ydCBkZWZhdWx0IG1vZHVsZXM7XG4gICAgICAiLCAiaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcIml0ZW1cIiwgXCJjb250ZW50XCJdXG5cbiAgdG9nZ2xlKGV2ZW50KSB7XG4gICAgY29uc3QgY2xpY2tlZEl0ZW0gPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXVpLWFjY29yZGlvbi10YXJnZXQ9XCJpdGVtXCJdJylcbiAgICBjb25zdCBjbGlja2VkSW5kZXggPSB0aGlzLml0ZW1UYXJnZXRzLmluZGV4T2YoY2xpY2tlZEl0ZW0pXG5cbiAgICB0aGlzLml0ZW1UYXJnZXRzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPT09IGNsaWNrZWRJbmRleCkge1xuICAgICAgICB0aGlzLnRvZ2dsZUl0ZW0oaXRlbSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2xvc2VJdGVtKGl0ZW0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHRvZ2dsZUl0ZW0oaXRlbSkge1xuICAgIGNvbnN0IGlzT3BlbiA9IGl0ZW0uZGF0YXNldC51aUFjY29yZGlvbk9wZW5WYWx1ZSA9PT0gJ3RydWUnXG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgdGhpcy5jbG9zZUl0ZW0oaXRlbSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vcGVuSXRlbShpdGVtKVxuICAgIH1cbiAgfVxuXG4gIG9wZW5JdGVtKGl0ZW0pIHtcbiAgICBjb25zdCBjb250ZW50ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCdbZGF0YS11aS1hY2NvcmRpb24tdGFyZ2V0PVwiY29udGVudFwiXScpXG4gICAgY29uc3QgYnV0dG9uID0gaXRlbS5xdWVyeVNlbGVjdG9yKCdidXR0b24nKVxuXG4gICAgaXRlbS5kYXRhc2V0LnVpQWNjb3JkaW9uT3BlblZhbHVlID0gJ3RydWUnXG4gICAgY29udGVudC5kYXRhc2V0LnVpQWNjb3JkaW9uT3BlblZhbHVlID0gJ3RydWUnXG4gICAgY29udGVudC5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpXG4gICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICd0cnVlJylcbiAgfVxuXG4gIGNsb3NlSXRlbShpdGVtKSB7XG4gICAgY29uc3QgY29udGVudCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignW2RhdGEtdWktYWNjb3JkaW9uLXRhcmdldD1cImNvbnRlbnRcIl0nKVxuICAgIGNvbnN0IGJ1dHRvbiA9IGl0ZW0ucXVlcnlTZWxlY3RvcignYnV0dG9uJylcblxuICAgIGl0ZW0uZGF0YXNldC51aUFjY29yZGlvbk9wZW5WYWx1ZSA9ICdmYWxzZSdcbiAgICBjb250ZW50LmRhdGFzZXQudWlBY2NvcmRpb25PcGVuVmFsdWUgPSAnZmFsc2UnXG4gICAgY29udGVudC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKVxuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKVxuICB9XG59IiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4vLyBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcInN0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4vLyAgIGNvbm5lY3QoKSB7XG4vLyAgIH1cbi8vXG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJzdGltdWx1c1wiO1xuLy9cbi8vIGV4cG9ydCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vL1xuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiLy8gYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvdWlfYWxlcnRfZGlhbG9nX2NvbnRyb2xsZXIuanNcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcbmltcG9ydCB7IHVzZUNsaWNrT3V0c2lkZSB9IGZyb20gJ3N0aW11bHVzLXVzZSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJvdmVybGF5XCIsIFwiY29udGVudFwiXVxuICBzdGF0aWMgdmFsdWVzID0ge1xuICAgIGNsb3NlT25DbGlja091dHNpZGU6IEJvb2xlYW5cbiAgfVxuXG4gIGNvbm5lY3QoKSB7XG4gICAgaWYgKHRoaXMuY2xvc2VPbkNsaWNrT3V0c2lkZVZhbHVlKSB7XG4gICAgICB1c2VDbGlja091dHNpZGUodGhpcywgeyBlbGVtZW50OiB0aGlzLmNvbnRlbnRUYXJnZXQgfSlcbiAgICB9XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMub3ZlcmxheVRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgdGhpcy5jb250ZW50VGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMub3ZlcmxheVRhcmdldC5kYXRhc2V0LnVpQWxlcnREaWFsb2dTdGF0ZSA9IFwib3BlblwiXG4gICAgICB0aGlzLmNvbnRlbnRUYXJnZXQuZGF0YXNldC51aUFsZXJ0RGlhbG9nU3RhdGUgPSBcIm9wZW5cIlxuICAgIH0sIDEwKSAvLyBTbWFsbCBkZWxheSB0byBlbnN1cmUgdGhlIGRpc3BsYXkgY2hhbmdlIGhhcyB0YWtlbiBlZmZlY3RcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMub3ZlcmxheVRhcmdldC5kYXRhc2V0LnVpQWxlcnREaWFsb2dTdGF0ZSA9IFwiY2xvc2VkXCJcbiAgICB0aGlzLmNvbnRlbnRUYXJnZXQuZGF0YXNldC51aUFsZXJ0RGlhbG9nU3RhdGUgPSBcImNsb3NlZFwiXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLm92ZXJsYXlUYXJnZXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgICB0aGlzLmNvbnRlbnRUYXJnZXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgfSwgMzApIC8vIEFkanVzdCB0aGlzIHRpbWVvdXQgdG8gbWF0Y2ggeW91ciBhbmltYXRpb24gZHVyYXRpb25cbiAgfVxuXG4gIGNhbmNlbChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB0aGlzLmNsb3NlKClcbiAgfVxuXG4gIGNsaWNrT3V0c2lkZShldmVudCkge1xuICAgIGlmICh0aGlzLmNsb3NlT25DbGlja091dHNpZGVWYWx1ZSkge1xuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfVxuICB9XG59IiwgIi8qXG4gKiBzdGltdWx1cy11c2UgMC41Mi4xXG4gKi9cbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCI7XG5cbmNvbnN0IG1ldGhvZCA9IChjb250cm9sbGVyLCBtZXRob2ROYW1lKSA9PiB7XG4gIGNvbnN0IG1ldGhvZCA9IGNvbnRyb2xsZXJbbWV0aG9kTmFtZV07XG4gIGlmICh0eXBlb2YgbWV0aG9kID09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBtZXRob2Q7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7fTtcbiAgfVxufTtcblxuY29uc3QgY29tcG9zZUV2ZW50TmFtZSA9IChuYW1lLCBjb250cm9sbGVyLCBldmVudFByZWZpeCkgPT4ge1xuICBsZXQgY29tcG9zZWROYW1lID0gbmFtZTtcbiAgaWYgKGV2ZW50UHJlZml4ID09PSB0cnVlKSB7XG4gICAgY29tcG9zZWROYW1lID0gYCR7Y29udHJvbGxlci5pZGVudGlmaWVyfToke25hbWV9YDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXZlbnRQcmVmaXggPT09IFwic3RyaW5nXCIpIHtcbiAgICBjb21wb3NlZE5hbWUgPSBgJHtldmVudFByZWZpeH06JHtuYW1lfWA7XG4gIH1cbiAgcmV0dXJuIGNvbXBvc2VkTmFtZTtcbn07XG5cbmNvbnN0IGV4dGVuZGVkRXZlbnQgPSAodHlwZSwgZXZlbnQsIGRldGFpbCkgPT4ge1xuICBjb25zdCB7YnViYmxlczogYnViYmxlcywgY2FuY2VsYWJsZTogY2FuY2VsYWJsZSwgY29tcG9zZWQ6IGNvbXBvc2VkfSA9IGV2ZW50IHx8IHtcbiAgICBidWJibGVzOiB0cnVlLFxuICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgY29tcG9zZWQ6IHRydWVcbiAgfTtcbiAgaWYgKGV2ZW50KSB7XG4gICAgT2JqZWN0LmFzc2lnbihkZXRhaWwsIHtcbiAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50XG4gICAgfSk7XG4gIH1cbiAgY29uc3QgY3VzdG9tRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQodHlwZSwge1xuICAgIGJ1YmJsZXM6IGJ1YmJsZXMsXG4gICAgY2FuY2VsYWJsZTogY2FuY2VsYWJsZSxcbiAgICBjb21wb3NlZDogY29tcG9zZWQsXG4gICAgZGV0YWlsOiBkZXRhaWxcbiAgfSk7XG4gIHJldHVybiBjdXN0b21FdmVudDtcbn07XG5cbmZ1bmN0aW9uIGlzRWxlbWVudEluVmlld3BvcnQoZWwpIHtcbiAgY29uc3QgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcbiAgY29uc3Qgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gIGNvbnN0IHZlcnRJblZpZXcgPSByZWN0LnRvcCA8PSB3aW5kb3dIZWlnaHQgJiYgcmVjdC50b3AgKyByZWN0LmhlaWdodCA+IDA7XG4gIGNvbnN0IGhvckluVmlldyA9IHJlY3QubGVmdCA8PSB3aW5kb3dXaWR0aCAmJiByZWN0LmxlZnQgKyByZWN0LndpZHRoID4gMDtcbiAgcmV0dXJuIHZlcnRJblZpZXcgJiYgaG9ySW5WaWV3O1xufVxuXG5mdW5jdGlvbiBjYW1lbGl6ZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUucmVwbGFjZSgvKD86W18tXSkoW2EtejAtOV0pL2csICgoXywgY2hhcikgPT4gY2hhci50b1VwcGVyQ2FzZSgpKSk7XG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovIGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgfVxuICByZXR1cm4gdDtcbn1cblxuY29uc3QgZGVmYXVsdE9wdGlvbnMkOCA9IHtcbiAgZGVidWc6IGZhbHNlLFxuICBsb2dnZXI6IGNvbnNvbGUsXG4gIGRpc3BhdGNoRXZlbnQ6IHRydWUsXG4gIGV2ZW50UHJlZml4OiB0cnVlXG59O1xuXG5jbGFzcyBTdGltdWx1c1VzZSB7XG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHRoaXMubG9nID0gKGZ1bmN0aW9uTmFtZSwgYXJncykgPT4ge1xuICAgICAgaWYgKCF0aGlzLmRlYnVnKSByZXR1cm47XG4gICAgICB0aGlzLmxvZ2dlci5ncm91cENvbGxhcHNlZChgJWMke3RoaXMuY29udHJvbGxlci5pZGVudGlmaWVyfSAlYyMke2Z1bmN0aW9uTmFtZX1gLCBcImNvbG9yOiAjM0I4MkY2XCIsIFwiY29sb3I6IHVuc2V0XCIpO1xuICAgICAgdGhpcy5sb2dnZXIubG9nKE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBjb250cm9sbGVySWQ6IHRoaXMuY29udHJvbGxlcklkXG4gICAgICB9LCBhcmdzKSk7XG4gICAgICB0aGlzLmxvZ2dlci5ncm91cEVuZCgpO1xuICAgIH07XG4gICAgdGhpcy53YXJuID0gbWVzc2FnZSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKGAlYyR7dGhpcy5jb250cm9sbGVyLmlkZW50aWZpZXJ9ICVjJHttZXNzYWdlfWAsIFwiY29sb3I6ICMzQjgyRjY7IGZvbnQtd2VpZ2h0OiBib2xkXCIsIFwiY29sb3I6IHVuc2V0XCIpO1xuICAgIH07XG4gICAgdGhpcy5kaXNwYXRjaCA9IChldmVudE5hbWUsIGRldGFpbHMgPSB7fSkgPT4ge1xuICAgICAgaWYgKHRoaXMuZGlzcGF0Y2hFdmVudCkge1xuICAgICAgICBjb25zdCB7ZXZlbnQ6IGV2ZW50fSA9IGRldGFpbHMsIGV2ZW50RGV0YWlscyA9IF9fcmVzdChkZXRhaWxzLCBbIFwiZXZlbnRcIiBdKTtcbiAgICAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSB0aGlzLmV4dGVuZGVkRXZlbnQoZXZlbnROYW1lLCBldmVudCB8fCBudWxsLCBldmVudERldGFpbHMpO1xuICAgICAgICB0aGlzLnRhcmdldEVsZW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XG4gICAgICAgIHRoaXMubG9nKFwiZGlzcGF0Y2hFdmVudFwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBldmVudE5hbWU6IGN1c3RvbUV2ZW50LnR5cGVcbiAgICAgICAgfSwgZXZlbnREZXRhaWxzKSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNhbGwgPSAobWV0aG9kTmFtZSwgYXJncyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCBtZXRob2QgPSB0aGlzLmNvbnRyb2xsZXJbbWV0aG9kTmFtZV07XG4gICAgICBpZiAodHlwZW9mIG1ldGhvZCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG1ldGhvZC5jYWxsKHRoaXMuY29udHJvbGxlciwgYXJncyk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmV4dGVuZGVkRXZlbnQgPSAobmFtZSwgZXZlbnQsIGRldGFpbCkgPT4ge1xuICAgICAgY29uc3Qge2J1YmJsZXM6IGJ1YmJsZXMsIGNhbmNlbGFibGU6IGNhbmNlbGFibGUsIGNvbXBvc2VkOiBjb21wb3NlZH0gPSBldmVudCB8fCB7XG4gICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICAgIGNvbXBvc2VkOiB0cnVlXG4gICAgICB9O1xuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oZGV0YWlsLCB7XG4gICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudCh0aGlzLmNvbXBvc2VFdmVudE5hbWUobmFtZSksIHtcbiAgICAgICAgYnViYmxlczogYnViYmxlcyxcbiAgICAgICAgY2FuY2VsYWJsZTogY2FuY2VsYWJsZSxcbiAgICAgICAgY29tcG9zZWQ6IGNvbXBvc2VkLFxuICAgICAgICBkZXRhaWw6IGRldGFpbFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gY3VzdG9tRXZlbnQ7XG4gICAgfTtcbiAgICB0aGlzLmNvbXBvc2VFdmVudE5hbWUgPSBuYW1lID0+IHtcbiAgICAgIGxldCBjb21wb3NlZE5hbWUgPSBuYW1lO1xuICAgICAgaWYgKHRoaXMuZXZlbnRQcmVmaXggPT09IHRydWUpIHtcbiAgICAgICAgY29tcG9zZWROYW1lID0gYCR7dGhpcy5jb250cm9sbGVyLmlkZW50aWZpZXJ9OiR7bmFtZX1gO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5ldmVudFByZWZpeCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb21wb3NlZE5hbWUgPSBgJHt0aGlzLmV2ZW50UHJlZml4fToke25hbWV9YDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb21wb3NlZE5hbWU7XG4gICAgfTtcbiAgICB0aGlzLmRlYnVnID0gKF9iID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmRlYnVnKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb250cm9sbGVyLmFwcGxpY2F0aW9uLnN0aW11bHVzVXNlRGVidWcpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRlZmF1bHRPcHRpb25zJDguZGVidWc7XG4gICAgdGhpcy5sb2dnZXIgPSAoX2MgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubG9nZ2VyKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBkZWZhdWx0T3B0aW9ucyQ4LmxvZ2dlcjtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIHRoaXMuY29udHJvbGxlcklkID0gY29udHJvbGxlci5lbGVtZW50LmlkIHx8IGNvbnRyb2xsZXIuZWxlbWVudC5kYXRhc2V0LmlkO1xuICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZWxlbWVudCkgfHwgY29udHJvbGxlci5lbGVtZW50O1xuICAgIGNvbnN0IHtkaXNwYXRjaEV2ZW50OiBkaXNwYXRjaEV2ZW50LCBldmVudFByZWZpeDogZXZlbnRQcmVmaXh9ID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMkOCwgb3B0aW9ucyk7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICBkaXNwYXRjaEV2ZW50OiBkaXNwYXRjaEV2ZW50LFxuICAgICAgZXZlbnRQcmVmaXg6IGV2ZW50UHJlZml4XG4gICAgfSk7XG4gICAgdGhpcy5jb250cm9sbGVySW5pdGlhbGl6ZSA9IGNvbnRyb2xsZXIuaW5pdGlhbGl6ZS5iaW5kKGNvbnRyb2xsZXIpO1xuICAgIHRoaXMuY29udHJvbGxlckNvbm5lY3QgPSBjb250cm9sbGVyLmNvbm5lY3QuYmluZChjb250cm9sbGVyKTtcbiAgICB0aGlzLmNvbnRyb2xsZXJEaXNjb25uZWN0ID0gY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQoY29udHJvbGxlcik7XG4gIH1cbn1cblxuY29uc3QgZGVmYXVsdE9wdGlvbnMkNyA9IHtcbiAgZXZlbnRQcmVmaXg6IHRydWUsXG4gIGJ1YmJsZXM6IHRydWUsXG4gIGNhbmNlbGFibGU6IHRydWVcbn07XG5cbmNsYXNzIFVzZURpc3BhdGNoIGV4dGVuZHMgU3RpbXVsdXNVc2Uge1xuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyLCBvcHRpb25zID0ge30pIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgc3VwZXIoY29udHJvbGxlciwgb3B0aW9ucyk7XG4gICAgdGhpcy5kaXNwYXRjaCA9IChldmVudE5hbWUsIGRldGFpbCA9IHt9KSA9PiB7XG4gICAgICBjb25zdCB7Y29udHJvbGxlcjogY29udHJvbGxlciwgdGFyZ2V0RWxlbWVudDogdGFyZ2V0RWxlbWVudCwgZXZlbnRQcmVmaXg6IGV2ZW50UHJlZml4LCBidWJibGVzOiBidWJibGVzLCBjYW5jZWxhYmxlOiBjYW5jZWxhYmxlLCBsb2c6IGxvZywgd2Fybjogd2Fybn0gPSB0aGlzO1xuICAgICAgT2JqZWN0LmFzc2lnbihkZXRhaWwsIHtcbiAgICAgICAgY29udHJvbGxlcjogY29udHJvbGxlclxuICAgICAgfSk7XG4gICAgICBjb25zdCBldmVudE5hbWVXaXRoUHJlZml4ID0gY29tcG9zZUV2ZW50TmFtZShldmVudE5hbWUsIHRoaXMuY29udHJvbGxlciwgZXZlbnRQcmVmaXgpO1xuICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoZXZlbnROYW1lV2l0aFByZWZpeCwge1xuICAgICAgICBkZXRhaWw6IGRldGFpbCxcbiAgICAgICAgYnViYmxlczogYnViYmxlcyxcbiAgICAgICAgY2FuY2VsYWJsZTogY2FuY2VsYWJsZVxuICAgICAgfSk7XG4gICAgICB0YXJnZXRFbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgd2FybihcImB1c2VEaXNwYXRjaCgpYCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRoZSBidWlsdC1pbiBgdGhpcy5kaXNwYXRjaCgpYCBmdW5jdGlvbiBmcm9tIFN0aW11bHVzLiBZb3UgY2FuIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBvbiBob3cgdG8gdXBncmFkZSBhdDogaHR0cHM6Ly9zdGltdWx1cy11c2UuZ2l0aHViLmlvL3N0aW11bHVzLXVzZS8jL3VzZS1kaXNwYXRjaFwiKTtcbiAgICAgIGxvZyhcImRpc3BhdGNoXCIsIHtcbiAgICAgICAgZXZlbnROYW1lOiBldmVudE5hbWVXaXRoUHJlZml4LFxuICAgICAgICBkZXRhaWw6IGRldGFpbCxcbiAgICAgICAgYnViYmxlczogYnViYmxlcyxcbiAgICAgICAgY2FuY2VsYWJsZTogY2FuY2VsYWJsZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZXZlbnQ7XG4gICAgfTtcbiAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSAoX2EgPSBvcHRpb25zLmVsZW1lbnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNvbnRyb2xsZXIuZWxlbWVudDtcbiAgICB0aGlzLmV2ZW50UHJlZml4ID0gKF9iID0gb3B0aW9ucy5ldmVudFByZWZpeCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZGVmYXVsdE9wdGlvbnMkNy5ldmVudFByZWZpeDtcbiAgICB0aGlzLmJ1YmJsZXMgPSAoX2MgPSBvcHRpb25zLmJ1YmJsZXMpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGRlZmF1bHRPcHRpb25zJDcuYnViYmxlcztcbiAgICB0aGlzLmNhbmNlbGFibGUgPSAoX2QgPSBvcHRpb25zLmNhbmNlbGFibGUpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGRlZmF1bHRPcHRpb25zJDcuY2FuY2VsYWJsZTtcbiAgICB0aGlzLmVuaGFuY2VDb250cm9sbGVyKCk7XG4gIH1cbiAgZW5oYW5jZUNvbnRyb2xsZXIoKSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLmNvbnRyb2xsZXIsIHtcbiAgICAgIGRpc3BhdGNoOiB0aGlzLmRpc3BhdGNoXG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgdXNlRGlzcGF0Y2ggPSAoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiBuZXcgVXNlRGlzcGF0Y2goY29udHJvbGxlciwgb3B0aW9ucyk7XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zJDYgPSB7XG4gIG92ZXJ3cml0ZURpc3BhdGNoOiB0cnVlXG59O1xuXG5jb25zdCB1c2VBcHBsaWNhdGlvbiA9IChjb250cm9sbGVyLCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3Qge292ZXJ3cml0ZURpc3BhdGNoOiBvdmVyd3JpdGVEaXNwYXRjaH0gPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucyQ2LCBvcHRpb25zKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnRyb2xsZXIsIFwiaXNQcmV2aWV3XCIsIHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZShcImRhdGEtdHVyYm9saW5rcy1wcmV2aWV3XCIpIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLXByZXZpZXdcIik7XG4gICAgfVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnRyb2xsZXIsIFwiaXNDb25uZWN0ZWRcIiwge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiAhIUFycmF5LmZyb20odGhpcy5jb250ZXh0Lm1vZHVsZS5jb25uZWN0ZWRDb250ZXh0cykuZmluZCgoYyA9PiBjID09PSB0aGlzLmNvbnRleHQpKTtcbiAgICB9XG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29udHJvbGxlciwgXCJjc3JmVG9rZW5cIiwge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1ldGFWYWx1ZShcImNzcmYtdG9rZW5cIik7XG4gICAgfVxuICB9KTtcbiAgaWYgKG92ZXJ3cml0ZURpc3BhdGNoKSB7XG4gICAgdXNlRGlzcGF0Y2goY29udHJvbGxlciwgb3B0aW9ucyk7XG4gIH1cbiAgT2JqZWN0LmFzc2lnbihjb250cm9sbGVyLCB7XG4gICAgbWV0YVZhbHVlKG5hbWUpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoYG1ldGFbbmFtZT1cIiR7bmFtZX1cIl1gKTtcbiAgICAgIHJldHVybiBlbGVtZW50ICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKTtcbiAgICB9XG4gIH0pO1xufTtcblxuY2xhc3MgQXBwbGljYXRpb25Db250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICBzdXBlcihjb250ZXh0KTtcbiAgICB0aGlzLmlzUHJldmlldyA9IGZhbHNlO1xuICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNzcmZUb2tlbiA9IFwiXCI7XG4gICAgdXNlQXBwbGljYXRpb24odGhpcywgdGhpcy5vcHRpb25zKTtcbiAgfVxufVxuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyQ1ID0ge1xuICBldmVudHM6IFsgXCJjbGlja1wiLCBcInRvdWNoZW5kXCIgXSxcbiAgb25seVZpc2libGU6IHRydWUsXG4gIGRpc3BhdGNoRXZlbnQ6IHRydWUsXG4gIGV2ZW50UHJlZml4OiB0cnVlXG59O1xuXG5jb25zdCB1c2VDbGlja091dHNpZGUgPSAoY29tcG9zYWJsZUNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBjb250cm9sbGVyID0gY29tcG9zYWJsZUNvbnRyb2xsZXI7XG4gIGNvbnN0IHtvbmx5VmlzaWJsZTogb25seVZpc2libGUsIGRpc3BhdGNoRXZlbnQ6IGRpc3BhdGNoRXZlbnQsIGV2ZW50czogZXZlbnRzLCBldmVudFByZWZpeDogZXZlbnRQcmVmaXh9ID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMkNSwgb3B0aW9ucyk7XG4gIGNvbnN0IG9uRXZlbnQgPSBldmVudCA9PiB7XG4gICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZWxlbWVudCkgfHwgY29udHJvbGxlci5lbGVtZW50O1xuICAgIGlmICh0YXJnZXRFbGVtZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHwgIWlzRWxlbWVudEluVmlld3BvcnQodGFyZ2V0RWxlbWVudCkgJiYgb25seVZpc2libGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNvbnRyb2xsZXIuY2xpY2tPdXRzaWRlKSB7XG4gICAgICBjb250cm9sbGVyLmNsaWNrT3V0c2lkZShldmVudCk7XG4gICAgfVxuICAgIGlmIChkaXNwYXRjaEV2ZW50KSB7XG4gICAgICBjb25zdCBldmVudE5hbWUgPSBjb21wb3NlRXZlbnROYW1lKFwiY2xpY2s6b3V0c2lkZVwiLCBjb250cm9sbGVyLCBldmVudFByZWZpeCk7XG4gICAgICBjb25zdCBjbGlja091dHNpZGVFdmVudCA9IGV4dGVuZGVkRXZlbnQoZXZlbnROYW1lLCBldmVudCwge1xuICAgICAgICBjb250cm9sbGVyOiBjb250cm9sbGVyXG4gICAgICB9KTtcbiAgICAgIHRhcmdldEVsZW1lbnQuZGlzcGF0Y2hFdmVudChjbGlja091dHNpZGVFdmVudCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBvYnNlcnZlID0gKCkgPT4ge1xuICAgIGV2ZW50cyA9PT0gbnVsbCB8fCBldmVudHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV2ZW50cy5mb3JFYWNoKChldmVudCA9PiB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgb25FdmVudCwgdHJ1ZSk7XG4gICAgfSkpO1xuICB9O1xuICBjb25zdCB1bm9ic2VydmUgPSAoKSA9PiB7XG4gICAgZXZlbnRzID09PSBudWxsIHx8IGV2ZW50cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXZlbnRzLmZvckVhY2goKGV2ZW50ID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBvbkV2ZW50LCB0cnVlKTtcbiAgICB9KSk7XG4gIH07XG4gIGNvbnN0IGNvbnRyb2xsZXJEaXNjb25uZWN0ID0gY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQoY29udHJvbGxlcik7XG4gIE9iamVjdC5hc3NpZ24oY29udHJvbGxlciwge1xuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICB1bm9ic2VydmUoKTtcbiAgICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gICAgfVxuICB9KTtcbiAgb2JzZXJ2ZSgpO1xuICByZXR1cm4gWyBvYnNlcnZlLCB1bm9ic2VydmUgXTtcbn07XG5cbmNsYXNzIENsaWNrT3V0c2lkZUNvbXBvc2FibGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7fVxuXG5jbGFzcyBDbGlja091dHNpZGVDb250cm9sbGVyIGV4dGVuZHMgQ2xpY2tPdXRzaWRlQ29tcG9zYWJsZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgc3VwZXIoY29udGV4dCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKSA9PiB7XG4gICAgICBjb25zdCBbb2JzZXJ2ZSwgdW5vYnNlcnZlXSA9IHVzZUNsaWNrT3V0c2lkZSh0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgIHVub2JzZXJ2ZTogdW5vYnNlcnZlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn1cblxuY2xhc3MgRGVib3VuY2VDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7fVxuXG5EZWJvdW5jZUNvbnRyb2xsZXIuZGVib3VuY2VzID0gW107XG5cbmNvbnN0IGRlZmF1bHRXYWl0JDEgPSAyMDA7XG5cbmNvbnN0IGRlYm91bmNlID0gKGZuLCB3YWl0ID0gZGVmYXVsdFdhaXQkMSkgPT4ge1xuICBsZXQgdGltZW91dElkID0gbnVsbDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5mcm9tKGFyZ3VtZW50cyk7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXM7XG4gICAgY29uc3QgcGFyYW1zID0gYXJncy5tYXAoKGFyZyA9PiBhcmcucGFyYW1zKSk7XG4gICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICBhcmdzLmZvckVhY2goKChhcmcsIGluZGV4KSA9PiBhcmcucGFyYW1zID0gcGFyYW1zW2luZGV4XSkpO1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIH07XG4gICAgaWYgKHRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgfVxuICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHdhaXQpO1xuICB9O1xufTtcblxuY29uc3QgdXNlRGVib3VuY2UgPSAoY29tcG9zYWJsZUNvbnRyb2xsZXIsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgY29udHJvbGxlciA9IGNvbXBvc2FibGVDb250cm9sbGVyO1xuICBjb25zdCBjb25zdHJ1Y3RvciA9IGNvbnRyb2xsZXIuY29uc3RydWN0b3I7XG4gIGNvbnN0cnVjdG9yLmRlYm91bmNlcy5mb3JFYWNoKChmdW5jID0+IHtcbiAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnRyb2xsZXJbZnVuY10gPSBkZWJvdW5jZShjb250cm9sbGVyW2Z1bmNdLCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMud2FpdCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgY29uc3Qge25hbWU6IG5hbWUsIHdhaXQ6IHdhaXR9ID0gZnVuYztcbiAgICAgIGlmICghbmFtZSkgcmV0dXJuO1xuICAgICAgY29udHJvbGxlcltuYW1lXSA9IGRlYm91bmNlKGNvbnRyb2xsZXJbbmFtZV0sIHdhaXQgfHwgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy53YWl0KSk7XG4gICAgfVxuICB9KSk7XG59O1xuXG5jbGFzcyBVc2VIb3ZlciBleHRlbmRzIFN0aW11bHVzVXNlIHtcbiAgY29uc3RydWN0b3IoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoY29udHJvbGxlciwgb3B0aW9ucyk7XG4gICAgdGhpcy5vYnNlcnZlID0gKCkgPT4ge1xuICAgICAgdGhpcy50YXJnZXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIHRoaXMub25FbnRlcik7XG4gICAgICB0aGlzLnRhcmdldEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5vbkxlYXZlKTtcbiAgICB9O1xuICAgIHRoaXMudW5vYnNlcnZlID0gKCkgPT4ge1xuICAgICAgdGhpcy50YXJnZXRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIHRoaXMub25FbnRlcik7XG4gICAgICB0aGlzLnRhcmdldEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5vbkxlYXZlKTtcbiAgICB9O1xuICAgIHRoaXMub25FbnRlciA9IGV2ZW50ID0+IHtcbiAgICAgIHRoaXMuY2FsbChcIm1vdXNlRW50ZXJcIiwgZXZlbnQpO1xuICAgICAgdGhpcy5sb2coXCJtb3VzZUVudGVyXCIsIHtcbiAgICAgICAgaG92ZXI6IHRydWVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kaXNwYXRjaChcIm1vdXNlRW50ZXJcIiwge1xuICAgICAgICBob3ZlcjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5vbkxlYXZlID0gZXZlbnQgPT4ge1xuICAgICAgdGhpcy5jYWxsKFwibW91c2VMZWF2ZVwiLCBldmVudCk7XG4gICAgICB0aGlzLmxvZyhcIm1vdXNlTGVhdmVcIiwge1xuICAgICAgICBob3ZlcjogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kaXNwYXRjaChcIm1vdXNlTGVhdmVcIiwge1xuICAgICAgICBob3ZlcjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB0aGlzLmVuaGFuY2VDb250cm9sbGVyKCk7XG4gICAgdGhpcy5vYnNlcnZlKCk7XG4gIH1cbiAgZW5oYW5jZUNvbnRyb2xsZXIoKSB7XG4gICAgY29uc3QgY29udHJvbGxlckRpc2Nvbm5lY3QgPSB0aGlzLmNvbnRyb2xsZXIuZGlzY29ubmVjdC5iaW5kKHRoaXMuY29udHJvbGxlcik7XG4gICAgY29uc3QgZGlzY29ubmVjdCA9ICgpID0+IHtcbiAgICAgIHRoaXMudW5vYnNlcnZlKCk7XG4gICAgICBjb250cm9sbGVyRGlzY29ubmVjdCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLmNvbnRyb2xsZXIsIHtcbiAgICAgIGRpc2Nvbm5lY3Q6IGRpc2Nvbm5lY3RcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCB1c2VIb3ZlciA9IChjb21wb3NhYmxlQ29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgVXNlSG92ZXIoY29udHJvbGxlciwgb3B0aW9ucyk7XG4gIHJldHVybiBbIG9ic2VydmVyLm9ic2VydmUsIG9ic2VydmVyLnVub2JzZXJ2ZSBdO1xufTtcblxuY2xhc3MgSG92ZXJDb21wb3NhYmxlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge31cblxuY2xhc3MgSG92ZXJDb250cm9sbGVyIGV4dGVuZHMgSG92ZXJDb21wb3NhYmxlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICBzdXBlcihjb250ZXh0KTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpID0+IHtcbiAgICAgIGNvbnN0IFtvYnNlcnZlLCB1bm9ic2VydmVdID0gdXNlSG92ZXIodGhpcywgdGhpcy5vcHRpb25zKTtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywge1xuICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICB1bm9ic2VydmU6IHVub2JzZXJ2ZVxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9XG59XG5cbmNvbnN0IGRlZmF1bHRFdmVudHMgPSBbIFwibW91c2Vtb3ZlXCIsIFwibW91c2Vkb3duXCIsIFwicmVzaXplXCIsIFwia2V5ZG93blwiLCBcInRvdWNoc3RhcnRcIiwgXCJ3aGVlbFwiIF07XG5cbmNvbnN0IG9uZU1pbnV0ZSA9IDZlNDtcblxuY29uc3QgZGVmYXVsdE9wdGlvbnMkNCA9IHtcbiAgbXM6IG9uZU1pbnV0ZSxcbiAgaW5pdGlhbFN0YXRlOiBmYWxzZSxcbiAgZXZlbnRzOiBkZWZhdWx0RXZlbnRzLFxuICBkaXNwYXRjaEV2ZW50OiB0cnVlLFxuICBldmVudFByZWZpeDogdHJ1ZVxufTtcblxuY29uc3QgdXNlSWRsZSA9IChjb21wb3NhYmxlQ29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3Qge21zOiBtcywgaW5pdGlhbFN0YXRlOiBpbml0aWFsU3RhdGUsIGV2ZW50czogZXZlbnRzLCBkaXNwYXRjaEV2ZW50OiBkaXNwYXRjaEV2ZW50LCBldmVudFByZWZpeDogZXZlbnRQcmVmaXh9ID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMkNCwgb3B0aW9ucyk7XG4gIGxldCBpc0lkbGUgPSBpbml0aWFsU3RhdGU7XG4gIGxldCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKCkgPT4ge1xuICAgIGlzSWRsZSA9IHRydWU7XG4gICAgZGlzcGF0Y2hBd2F5KCk7XG4gIH0pLCBtcyk7XG4gIGNvbnN0IGRpc3BhdGNoQXdheSA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCBldmVudE5hbWUgPSBjb21wb3NlRXZlbnROYW1lKFwiYXdheVwiLCBjb250cm9sbGVyLCBldmVudFByZWZpeCk7XG4gICAgY29udHJvbGxlci5pc0lkbGUgPSB0cnVlO1xuICAgIG1ldGhvZChjb250cm9sbGVyLCBcImF3YXlcIikuY2FsbChjb250cm9sbGVyLCBldmVudCk7XG4gICAgaWYgKGRpc3BhdGNoRXZlbnQpIHtcbiAgICAgIGNvbnN0IGNsaWNrT3V0c2lkZUV2ZW50ID0gZXh0ZW5kZWRFdmVudChldmVudE5hbWUsIGV2ZW50IHx8IG51bGwsIHtcbiAgICAgICAgY29udHJvbGxlcjogY29udHJvbGxlclxuICAgICAgfSk7XG4gICAgICBjb250cm9sbGVyLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChjbGlja091dHNpZGVFdmVudCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBkaXNwYXRjaEJhY2sgPSBldmVudCA9PiB7XG4gICAgY29uc3QgZXZlbnROYW1lID0gY29tcG9zZUV2ZW50TmFtZShcImJhY2tcIiwgY29udHJvbGxlciwgZXZlbnRQcmVmaXgpO1xuICAgIGNvbnRyb2xsZXIuaXNJZGxlID0gZmFsc2U7XG4gICAgbWV0aG9kKGNvbnRyb2xsZXIsIFwiYmFja1wiKS5jYWxsKGNvbnRyb2xsZXIsIGV2ZW50KTtcbiAgICBpZiAoZGlzcGF0Y2hFdmVudCkge1xuICAgICAgY29uc3QgY2xpY2tPdXRzaWRlRXZlbnQgPSBleHRlbmRlZEV2ZW50KGV2ZW50TmFtZSwgZXZlbnQgfHwgbnVsbCwge1xuICAgICAgICBjb250cm9sbGVyOiBjb250cm9sbGVyXG4gICAgICB9KTtcbiAgICAgIGNvbnRyb2xsZXIuZWxlbWVudC5kaXNwYXRjaEV2ZW50KGNsaWNrT3V0c2lkZUV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9uRXZlbnQgPSBldmVudCA9PiB7XG4gICAgaWYgKGlzSWRsZSkgZGlzcGF0Y2hCYWNrKGV2ZW50KTtcbiAgICBpc0lkbGUgPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgIGlzSWRsZSA9IHRydWU7XG4gICAgICBkaXNwYXRjaEF3YXkoZXZlbnQpO1xuICAgIH0pLCBtcyk7XG4gIH07XG4gIGNvbnN0IG9uVmlzaWJpbGl0eSA9IGV2ZW50ID0+IHtcbiAgICBpZiAoIWRvY3VtZW50LmhpZGRlbikgb25FdmVudChldmVudCk7XG4gIH07XG4gIGlmIChpc0lkbGUpIHtcbiAgICBkaXNwYXRjaEF3YXkoKTtcbiAgfSBlbHNlIHtcbiAgICBkaXNwYXRjaEJhY2soKTtcbiAgfVxuICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IGNvbnRyb2xsZXIuZGlzY29ubmVjdC5iaW5kKGNvbnRyb2xsZXIpO1xuICBjb25zdCBvYnNlcnZlID0gKCkgPT4ge1xuICAgIGV2ZW50cy5mb3JFYWNoKChldmVudCA9PiB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgb25FdmVudCk7XG4gICAgfSkpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIG9uVmlzaWJpbGl0eSk7XG4gIH07XG4gIGNvbnN0IHVub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgZXZlbnRzLmZvckVhY2goKGV2ZW50ID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBvbkV2ZW50KTtcbiAgICB9KSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgb25WaXNpYmlsaXR5KTtcbiAgfTtcbiAgT2JqZWN0LmFzc2lnbihjb250cm9sbGVyLCB7XG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgIHVub2JzZXJ2ZSgpO1xuICAgICAgY29udHJvbGxlckRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gIH0pO1xuICBvYnNlcnZlKCk7XG4gIHJldHVybiBbIG9ic2VydmUsIHVub2JzZXJ2ZSBdO1xufTtcblxuY2xhc3MgSWRsZUNvbXBvc2FibGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5pc0lkbGUgPSBmYWxzZTtcbiAgfVxufVxuXG5jbGFzcyBJZGxlQ29udHJvbGxlciBleHRlbmRzIElkbGVDb21wb3NhYmxlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICBzdXBlcihjb250ZXh0KTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpID0+IHtcbiAgICAgIGNvbnN0IFtvYnNlcnZlLCB1bm9ic2VydmVdID0gdXNlSWRsZSh0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgIHVub2JzZXJ2ZTogdW5vYnNlcnZlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn1cblxuY29uc3QgZGVmYXVsdE9wdGlvbnMkMyA9IHtcbiAgZGlzcGF0Y2hFdmVudDogdHJ1ZSxcbiAgZXZlbnRQcmVmaXg6IHRydWUsXG4gIHZpc2libGVBdHRyaWJ1dGU6IFwiaXNWaXNpYmxlXCJcbn07XG5cbmNvbnN0IHVzZUludGVyc2VjdGlvbiA9IChjb21wb3NhYmxlQ29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3Qge2Rpc3BhdGNoRXZlbnQ6IGRpc3BhdGNoRXZlbnQsIGV2ZW50UHJlZml4OiBldmVudFByZWZpeCwgdmlzaWJsZUF0dHJpYnV0ZTogdmlzaWJsZUF0dHJpYnV0ZX0gPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucyQzLCBvcHRpb25zKTtcbiAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZWxlbWVudCkgfHwgY29udHJvbGxlci5lbGVtZW50O1xuICBpZiAoIWNvbnRyb2xsZXIuaW50ZXJzZWN0aW9uRWxlbWVudHMpIGNvbnRyb2xsZXIuaW50ZXJzZWN0aW9uRWxlbWVudHMgPSBbXTtcbiAgY29udHJvbGxlci5pbnRlcnNlY3Rpb25FbGVtZW50cy5wdXNoKHRhcmdldEVsZW1lbnQpO1xuICBjb25zdCBjYWxsYmFjayA9IGVudHJpZXMgPT4ge1xuICAgIGNvbnN0IFtlbnRyeV0gPSBlbnRyaWVzO1xuICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgZGlzcGF0Y2hBcHBlYXIoZW50cnkpO1xuICAgIH0gZWxzZSBpZiAodGFyZ2V0RWxlbWVudC5oYXNBdHRyaWJ1dGUodmlzaWJsZUF0dHJpYnV0ZSkpIHtcbiAgICAgIGRpc3BhdGNoRGlzYXBwZWFyKGVudHJ5KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGNhbGxiYWNrLCBvcHRpb25zKTtcbiAgY29uc3QgZGlzcGF0Y2hBcHBlYXIgPSBlbnRyeSA9PiB7XG4gICAgdGFyZ2V0RWxlbWVudC5zZXRBdHRyaWJ1dGUodmlzaWJsZUF0dHJpYnV0ZSwgXCJ0cnVlXCIpO1xuICAgIG1ldGhvZChjb250cm9sbGVyLCBcImFwcGVhclwiKS5jYWxsKGNvbnRyb2xsZXIsIGVudHJ5LCBvYnNlcnZlcik7XG4gICAgaWYgKGRpc3BhdGNoRXZlbnQpIHtcbiAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IGNvbXBvc2VFdmVudE5hbWUoXCJhcHBlYXJcIiwgY29udHJvbGxlciwgZXZlbnRQcmVmaXgpO1xuICAgICAgY29uc3QgYXBwZWFyRXZlbnQgPSBleHRlbmRlZEV2ZW50KGV2ZW50TmFtZSwgbnVsbCwge1xuICAgICAgICBjb250cm9sbGVyOiBjb250cm9sbGVyLFxuICAgICAgICBlbnRyeTogZW50cnksXG4gICAgICAgIG9ic2VydmVyOiBvYnNlcnZlclxuICAgICAgfSk7XG4gICAgICB0YXJnZXRFbGVtZW50LmRpc3BhdGNoRXZlbnQoYXBwZWFyRXZlbnQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZGlzcGF0Y2hEaXNhcHBlYXIgPSBlbnRyeSA9PiB7XG4gICAgdGFyZ2V0RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUodmlzaWJsZUF0dHJpYnV0ZSk7XG4gICAgbWV0aG9kKGNvbnRyb2xsZXIsIFwiZGlzYXBwZWFyXCIpLmNhbGwoY29udHJvbGxlciwgZW50cnksIG9ic2VydmVyKTtcbiAgICBpZiAoZGlzcGF0Y2hFdmVudCkge1xuICAgICAgY29uc3QgZXZlbnROYW1lID0gY29tcG9zZUV2ZW50TmFtZShcImRpc2FwcGVhclwiLCBjb250cm9sbGVyLCBldmVudFByZWZpeCk7XG4gICAgICBjb25zdCBkaXNhcHBlYXJFdmVudCA9IGV4dGVuZGVkRXZlbnQoZXZlbnROYW1lLCBudWxsLCB7XG4gICAgICAgIGNvbnRyb2xsZXI6IGNvbnRyb2xsZXIsXG4gICAgICAgIGVudHJ5OiBlbnRyeSxcbiAgICAgICAgb2JzZXJ2ZXI6IG9ic2VydmVyXG4gICAgICB9KTtcbiAgICAgIHRhcmdldEVsZW1lbnQuZGlzcGF0Y2hFdmVudChkaXNhcHBlYXJFdmVudCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IGNvbnRyb2xsZXIuZGlzY29ubmVjdC5iaW5kKGNvbnRyb2xsZXIpO1xuICBjb25zdCBkaXNjb25uZWN0ID0gKCkgPT4ge1xuICAgIHVub2JzZXJ2ZSgpO1xuICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gIH07XG4gIGNvbnN0IG9ic2VydmUgPSAoKSA9PiB7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXRFbGVtZW50KTtcbiAgfTtcbiAgY29uc3QgdW5vYnNlcnZlID0gKCkgPT4ge1xuICAgIG9ic2VydmVyLnVub2JzZXJ2ZSh0YXJnZXRFbGVtZW50KTtcbiAgfTtcbiAgY29uc3Qgbm9uZVZpc2libGUgPSAoKSA9PiBjb250cm9sbGVyLmludGVyc2VjdGlvbkVsZW1lbnRzLmZpbHRlcigoZWxlbWVudCA9PiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSh2aXNpYmxlQXR0cmlidXRlKSkpLmxlbmd0aCA9PT0gMDtcbiAgY29uc3Qgb25lVmlzaWJsZSA9ICgpID0+IGNvbnRyb2xsZXIuaW50ZXJzZWN0aW9uRWxlbWVudHMuZmlsdGVyKChlbGVtZW50ID0+IGVsZW1lbnQuaGFzQXR0cmlidXRlKHZpc2libGVBdHRyaWJ1dGUpKSkubGVuZ3RoID09PSAxO1xuICBjb25zdCBhdExlYXN0T25lVmlzaWJsZSA9ICgpID0+IGNvbnRyb2xsZXIuaW50ZXJzZWN0aW9uRWxlbWVudHMuc29tZSgoZWxlbWVudCA9PiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSh2aXNpYmxlQXR0cmlidXRlKSkpO1xuICBjb25zdCBhbGxWaXNpYmxlID0gKCkgPT4gY29udHJvbGxlci5pbnRlcnNlY3Rpb25FbGVtZW50cy5ldmVyeSgoZWxlbWVudCA9PiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSh2aXNpYmxlQXR0cmlidXRlKSkpO1xuICBjb25zdCBpc1Zpc2libGUgPSBhbGxWaXNpYmxlO1xuICBPYmplY3QuYXNzaWduKGNvbnRyb2xsZXIsIHtcbiAgICBpc1Zpc2libGU6IGlzVmlzaWJsZSxcbiAgICBub25lVmlzaWJsZTogbm9uZVZpc2libGUsXG4gICAgb25lVmlzaWJsZTogb25lVmlzaWJsZSxcbiAgICBhdExlYXN0T25lVmlzaWJsZTogYXRMZWFzdE9uZVZpc2libGUsXG4gICAgYWxsVmlzaWJsZTogYWxsVmlzaWJsZSxcbiAgICBkaXNjb25uZWN0OiBkaXNjb25uZWN0XG4gIH0pO1xuICBvYnNlcnZlKCk7XG4gIHJldHVybiBbIG9ic2VydmUsIHVub2JzZXJ2ZSBdO1xufTtcblxuY2xhc3MgSW50ZXJzZWN0aW9uQ29tcG9zYWJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHt9XG5cbmNsYXNzIEludGVyc2VjdGlvbkNvbnRyb2xsZXIgZXh0ZW5kcyBJbnRlcnNlY3Rpb25Db21wb3NhYmxlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICBzdXBlcihjb250ZXh0KTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpID0+IHtcbiAgICAgIGNvbnN0IFtvYnNlcnZlLCB1bm9ic2VydmVdID0gdXNlSW50ZXJzZWN0aW9uKHRoaXMsIHRoaXMub3B0aW9ucyk7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgdW5vYnNlcnZlOiB1bm9ic2VydmVcbiAgICAgIH0pO1xuICAgIH0pKTtcbiAgfVxufVxuXG5jb25zdCB1c2VMYXp5TG9hZCA9IChjb250cm9sbGVyLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGNhbGxiYWNrID0gZW50cmllcyA9PiB7XG4gICAgY29uc3QgW2VudHJ5XSA9IGVudHJpZXM7XG4gICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nICYmICFjb250cm9sbGVyLmlzTG9hZGVkKSB7XG4gICAgICBoYW5kbGVBcHBlYXIoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZUFwcGVhciA9IGVudHJ5ID0+IHtcbiAgICBjb25zdCBzcmMgPSBjb250cm9sbGVyLmRhdGEuZ2V0KFwic3JjXCIpO1xuICAgIGlmICghc3JjKSByZXR1cm47XG4gICAgY29uc3QgaW1hZ2VFbGVtZW50ID0gY29udHJvbGxlci5lbGVtZW50O1xuICAgIGNvbnRyb2xsZXIuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICBtZXRob2QoY29udHJvbGxlciwgXCJsb2FkaW5nXCIpLmNhbGwoY29udHJvbGxlciwgc3JjKTtcbiAgICBpbWFnZUVsZW1lbnQub25sb2FkID0gKCkgPT4ge1xuICAgICAgaGFuZGxlTG9hZGVkKHNyYyk7XG4gICAgfTtcbiAgICBpbWFnZUVsZW1lbnQuc3JjID0gc3JjO1xuICB9O1xuICBjb25zdCBoYW5kbGVMb2FkZWQgPSBzcmMgPT4ge1xuICAgIGNvbnRyb2xsZXIuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgY29udHJvbGxlci5pc0xvYWRlZCA9IHRydWU7XG4gICAgbWV0aG9kKGNvbnRyb2xsZXIsIFwibG9hZGVkXCIpLmNhbGwoY29udHJvbGxlciwgc3JjKTtcbiAgfTtcbiAgY29uc3QgY29udHJvbGxlckRpc2Nvbm5lY3QgPSBjb250cm9sbGVyLmRpc2Nvbm5lY3QuYmluZChjb250cm9sbGVyKTtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoY2FsbGJhY2ssIG9wdGlvbnMpO1xuICBjb25zdCBvYnNlcnZlID0gKCkgPT4ge1xuICAgIG9ic2VydmVyLm9ic2VydmUoY29udHJvbGxlci5lbGVtZW50KTtcbiAgfTtcbiAgY29uc3QgdW5vYnNlcnZlID0gKCkgPT4ge1xuICAgIG9ic2VydmVyLnVub2JzZXJ2ZShjb250cm9sbGVyLmVsZW1lbnQpO1xuICB9O1xuICBPYmplY3QuYXNzaWduKGNvbnRyb2xsZXIsIHtcbiAgICBpc1Zpc2libGU6IGZhbHNlLFxuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICB1bm9ic2VydmUoKTtcbiAgICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gICAgfVxuICB9KTtcbiAgb2JzZXJ2ZSgpO1xuICByZXR1cm4gWyBvYnNlcnZlLCB1bm9ic2VydmUgXTtcbn07XG5cbmNsYXNzIExhenlMb2FkQ29tcG9zYWJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIHRoaXMuaXNMb2FkZWQgPSBmYWxzZTtcbiAgfVxufVxuXG5jbGFzcyBMYXp5TG9hZENvbnRyb2xsZXIgZXh0ZW5kcyBMYXp5TG9hZENvbXBvc2FibGVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIHJvb3RNYXJnaW46IFwiMTAlXCJcbiAgICB9O1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgY29uc3QgW29ic2VydmUsIHVub2JzZXJ2ZV0gPSB1c2VMYXp5TG9hZCh0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgIHVub2JzZXJ2ZTogdW5vYnNlcnZlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn1cblxuY29uc3QgZGVmYXVsdE9wdGlvbnMkMiA9IHtcbiAgbWVkaWFRdWVyaWVzOiB7fSxcbiAgZGlzcGF0Y2hFdmVudDogdHJ1ZSxcbiAgZXZlbnRQcmVmaXg6IHRydWUsXG4gIGRlYnVnOiBmYWxzZVxufTtcblxuY2xhc3MgVXNlTWF0Y2hNZWRpYSBleHRlbmRzIFN0aW11bHVzVXNlIHtcbiAgY29uc3RydWN0b3IoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIHN1cGVyKGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICAgIHRoaXMubWF0Y2hlcyA9IFtdO1xuICAgIHRoaXMuY2FsbGJhY2sgPSBldmVudCA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gT2JqZWN0LmtleXModGhpcy5tZWRpYVF1ZXJpZXMpLmZpbmQoKG5hbWUgPT4gdGhpcy5tZWRpYVF1ZXJpZXNbbmFtZV0gPT09IGV2ZW50Lm1lZGlhKSk7XG4gICAgICBpZiAoIW5hbWUpIHJldHVybjtcbiAgICAgIGNvbnN0IHttZWRpYTogbWVkaWEsIG1hdGNoZXM6IG1hdGNoZXN9ID0gZXZlbnQ7XG4gICAgICB0aGlzLmNoYW5nZWQoe1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBtZWRpYTogbWVkaWEsXG4gICAgICAgIG1hdGNoZXM6IG1hdGNoZXMsXG4gICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLmNoYW5nZWQgPSBwYXlsb2FkID0+IHtcbiAgICAgIGNvbnN0IHtuYW1lOiBuYW1lfSA9IHBheWxvYWQ7XG4gICAgICBpZiAocGF5bG9hZC5ldmVudCkge1xuICAgICAgICB0aGlzLmNhbGwoY2FtZWxpemUoYCR7bmFtZX1fY2hhbmdlZGApLCBwYXlsb2FkKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaChgJHtuYW1lfTpjaGFuZ2VkYCwgcGF5bG9hZCk7XG4gICAgICAgIHRoaXMubG9nKGBtZWRpYSBxdWVyeSBcIiR7bmFtZX1cIiBjaGFuZ2VkYCwgcGF5bG9hZCk7XG4gICAgICB9XG4gICAgICBpZiAocGF5bG9hZC5tYXRjaGVzKSB7XG4gICAgICAgIHRoaXMuY2FsbChjYW1lbGl6ZShgaXNfJHtuYW1lfWApLCBwYXlsb2FkKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaChgaXM6JHtuYW1lfWAsIHBheWxvYWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jYWxsKGNhbWVsaXplKGBub3RfJHtuYW1lfWApLCBwYXlsb2FkKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaChgbm90OiR7bmFtZX1gLCBwYXlsb2FkKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMubWVkaWFRdWVyaWVzKS5mb3JFYWNoKChuYW1lID0+IHtcbiAgICAgICAgY29uc3QgbWVkaWEgPSB0aGlzLm1lZGlhUXVlcmllc1tuYW1lXTtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubWF0Y2hNZWRpYShtZWRpYSk7XG4gICAgICAgIG1hdGNoLmFkZExpc3RlbmVyKHRoaXMuY2FsbGJhY2spO1xuICAgICAgICB0aGlzLm1hdGNoZXMucHVzaChtYXRjaCk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCh7XG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICBtZWRpYTogbWVkaWEsXG4gICAgICAgICAgbWF0Y2hlczogbWF0Y2gubWF0Y2hlc1xuICAgICAgICB9KTtcbiAgICAgIH0pKTtcbiAgICB9O1xuICAgIHRoaXMudW5vYnNlcnZlID0gKCkgPT4ge1xuICAgICAgdGhpcy5tYXRjaGVzLmZvckVhY2goKG1hdGNoID0+IG1hdGNoLnJlbW92ZUxpc3RlbmVyKHRoaXMuY2FsbGJhY2spKSk7XG4gICAgfTtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIHRoaXMubWVkaWFRdWVyaWVzID0gKF9hID0gb3B0aW9ucy5tZWRpYVF1ZXJpZXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRlZmF1bHRPcHRpb25zJDIubWVkaWFRdWVyaWVzO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudCA9IChfYiA9IG9wdGlvbnMuZGlzcGF0Y2hFdmVudCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZGVmYXVsdE9wdGlvbnMkMi5kaXNwYXRjaEV2ZW50O1xuICAgIHRoaXMuZXZlbnRQcmVmaXggPSAoX2MgPSBvcHRpb25zLmV2ZW50UHJlZml4KSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBkZWZhdWx0T3B0aW9ucyQyLmV2ZW50UHJlZml4O1xuICAgIHRoaXMuZGVidWcgPSAoX2QgPSBvcHRpb25zLmRlYnVnKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBkZWZhdWx0T3B0aW9ucyQyLmRlYnVnO1xuICAgIGlmICghd2luZG93Lm1hdGNoTWVkaWEpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJ3aW5kb3cubWF0Y2hNZWRpYSgpIGlzIG5vdCBhdmFpbGFibGVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZW5oYW5jZUNvbnRyb2xsZXIoKTtcbiAgICB0aGlzLm9ic2VydmUoKTtcbiAgfVxuICBlbmhhbmNlQ29udHJvbGxlcigpIHtcbiAgICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IHRoaXMuY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQodGhpcy5jb250cm9sbGVyKTtcbiAgICBjb25zdCBkaXNjb25uZWN0ID0gKCkgPT4ge1xuICAgICAgdGhpcy51bm9ic2VydmUoKTtcbiAgICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMuY29udHJvbGxlciwge1xuICAgICAgZGlzY29ubmVjdDogZGlzY29ubmVjdFxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IHVzZU1hdGNoTWVkaWEgPSAoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IFVzZU1hdGNoTWVkaWEoY29udHJvbGxlciwgb3B0aW9ucyk7XG4gIHJldHVybiBbIG9ic2VydmVyLm9ic2VydmUsIG9ic2VydmVyLnVub2JzZXJ2ZSBdO1xufTtcblxuY29uc3QgbWVtb2l6ZSA9IChjb250cm9sbGVyLCBuYW1lLCB2YWx1ZSkgPT4ge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29udHJvbGxlciwgbmFtZSwge1xuICAgIHZhbHVlOiB2YWx1ZVxuICB9KTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuY29uc3QgdXNlTWVtbyA9IGNvbnRyb2xsZXIgPT4ge1xuICB2YXIgX2E7XG4gIChfYSA9IGNvbnRyb2xsZXIuY29uc3RydWN0b3IubWVtb3MpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKChnZXR0ZXIgPT4ge1xuICAgIG1lbW9pemUoY29udHJvbGxlciwgZ2V0dGVyLCBjb250cm9sbGVyW2dldHRlcl0pO1xuICB9KSk7XG59O1xuXG5jb25zdCBkZWZpbmVNZXRhR2V0dGVyID0gKGNvbnRyb2xsZXIsIG1ldGFOYW1lLCBzdWZmaXgpID0+IHtcbiAgY29uc3QgZ2V0dGVyTmFtZSA9IHN1ZmZpeCA/IGAke2NhbWVsaXplKG1ldGFOYW1lKX1NZXRhYCA6IGNhbWVsaXplKG1ldGFOYW1lKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnRyb2xsZXIsIGdldHRlck5hbWUsIHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdHlwZUNhc3QobWV0YVZhbHVlKG1ldGFOYW1lKSk7XG4gICAgfVxuICB9KTtcbn07XG5cbmZ1bmN0aW9uIG1ldGFWYWx1ZShuYW1lKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoYG1ldGFbbmFtZT1cIiR7bmFtZX1cIl1gKTtcbiAgcmV0dXJuIGVsZW1lbnQgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpO1xufVxuXG5mdW5jdGlvbiB0eXBlQ2FzdCh2YWx1ZSkge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlKTtcbiAgfSBjYXRjaCAob19PKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5cbmNvbnN0IHVzZU1ldGEgPSAoY29udHJvbGxlciwgb3B0aW9ucyA9IHtcbiAgc3VmZml4OiB0cnVlXG59KSA9PiB7XG4gIGNvbnN0IG1ldGFOYW1lcyA9IGNvbnRyb2xsZXIuY29uc3RydWN0b3IubWV0YU5hbWVzO1xuICBjb25zdCBzdWZmaXggPSBvcHRpb25zLnN1ZmZpeDtcbiAgbWV0YU5hbWVzID09PSBudWxsIHx8IG1ldGFOYW1lcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWV0YU5hbWVzLmZvckVhY2goKG1ldGFOYW1lID0+IHtcbiAgICBkZWZpbmVNZXRhR2V0dGVyKGNvbnRyb2xsZXIsIG1ldGFOYW1lLCBzdWZmaXgpO1xuICB9KSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb250cm9sbGVyLCBcIm1ldGFzXCIsIHtcbiAgICBnZXQoKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgIG1ldGFOYW1lcyA9PT0gbnVsbCB8fCBtZXRhTmFtZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1ldGFOYW1lcy5mb3JFYWNoKChtZXRhTmFtZSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdHlwZUNhc3QobWV0YVZhbHVlKG1ldGFOYW1lKSk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgcmVzdWx0W2NhbWVsaXplKG1ldGFOYW1lKV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH0pO1xufTtcblxuY2xhc3MgVXNlTXV0YXRpb24gZXh0ZW5kcyBTdGltdWx1c1VzZSB7XG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICAgIHRoaXMub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnRhcmdldEVsZW1lbnQsIHRoaXMub3B0aW9ucyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYXBwbGljYXRpb24uaGFuZGxlRXJyb3IoZXJyb3IsIFwiQXQgYSBtaW5pbXVtLCBvbmUgb2YgY2hpbGRMaXN0LCBhdHRyaWJ1dGVzLCBhbmQvb3IgY2hhcmFjdGVyRGF0YSBtdXN0IGJlIHRydWVcIiwge30pO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy51bm9ic2VydmUgPSAoKSA9PiB7XG4gICAgICB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICAgIHRoaXMubXV0YXRpb24gPSBlbnRyaWVzID0+IHtcbiAgICAgIHRoaXMuY2FsbChcIm11dGF0ZVwiLCBlbnRyaWVzKTtcbiAgICAgIHRoaXMubG9nKFwibXV0YXRlXCIsIHtcbiAgICAgICAgZW50cmllczogZW50cmllc1xuICAgICAgfSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKFwibXV0YXRlXCIsIHtcbiAgICAgICAgZW50cmllczogZW50cmllc1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmVsZW1lbnQpIHx8IGNvbnRyb2xsZXIuZWxlbWVudDtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMubXV0YXRpb24pO1xuICAgIHRoaXMuZW5oYW5jZUNvbnRyb2xsZXIoKTtcbiAgICB0aGlzLm9ic2VydmUoKTtcbiAgfVxuICBlbmhhbmNlQ29udHJvbGxlcigpIHtcbiAgICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IHRoaXMuY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQodGhpcy5jb250cm9sbGVyKTtcbiAgICBjb25zdCBkaXNjb25uZWN0ID0gKCkgPT4ge1xuICAgICAgdGhpcy51bm9ic2VydmUoKTtcbiAgICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMuY29udHJvbGxlciwge1xuICAgICAgZGlzY29ubmVjdDogZGlzY29ubmVjdFxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IHVzZU11dGF0aW9uID0gKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBvYnNlcnZlciA9IG5ldyBVc2VNdXRhdGlvbihjb250cm9sbGVyLCBvcHRpb25zKTtcbiAgcmV0dXJuIFsgb2JzZXJ2ZXIub2JzZXJ2ZSwgb2JzZXJ2ZXIudW5vYnNlcnZlIF07XG59O1xuXG5jbGFzcyBNdXRhdGlvbkNvbXBvc2FibGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7fVxuXG5jbGFzcyBNdXRhdGlvbkNvbnRyb2xsZXIgZXh0ZW5kcyBNdXRhdGlvbkNvbXBvc2FibGVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgY29uc3QgW29ic2VydmUsIHVub2JzZXJ2ZV0gPSB1c2VNdXRhdGlvbih0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgIHVub2JzZXJ2ZTogdW5vYnNlcnZlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn1cblxuY29uc3QgZGVmYXVsdE9wdGlvbnMkMSA9IHtcbiAgZGlzcGF0Y2hFdmVudDogdHJ1ZSxcbiAgZXZlbnRQcmVmaXg6IHRydWVcbn07XG5cbmNvbnN0IHVzZVJlc2l6ZSA9IChjb21wb3NhYmxlQ29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3Qge2Rpc3BhdGNoRXZlbnQ6IGRpc3BhdGNoRXZlbnQsIGV2ZW50UHJlZml4OiBldmVudFByZWZpeH0gPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucyQxLCBvcHRpb25zKTtcbiAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZWxlbWVudCkgfHwgY29udHJvbGxlci5lbGVtZW50O1xuICBjb25zdCBjYWxsYmFjayA9IGVudHJpZXMgPT4ge1xuICAgIGNvbnN0IFtlbnRyeV0gPSBlbnRyaWVzO1xuICAgIG1ldGhvZChjb250cm9sbGVyLCBcInJlc2l6ZVwiKS5jYWxsKGNvbnRyb2xsZXIsIGVudHJ5LmNvbnRlbnRSZWN0KTtcbiAgICBpZiAoZGlzcGF0Y2hFdmVudCkge1xuICAgICAgY29uc3QgZXZlbnROYW1lID0gY29tcG9zZUV2ZW50TmFtZShcInJlc2l6ZVwiLCBjb250cm9sbGVyLCBldmVudFByZWZpeCk7XG4gICAgICBjb25zdCBhcHBlYXJFdmVudCA9IGV4dGVuZGVkRXZlbnQoZXZlbnROYW1lLCBudWxsLCB7XG4gICAgICAgIGNvbnRyb2xsZXI6IGNvbnRyb2xsZXIsXG4gICAgICAgIGVudHJ5OiBlbnRyeVxuICAgICAgfSk7XG4gICAgICB0YXJnZXRFbGVtZW50LmRpc3BhdGNoRXZlbnQoYXBwZWFyRXZlbnQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgY29udHJvbGxlckRpc2Nvbm5lY3QgPSBjb250cm9sbGVyLmRpc2Nvbm5lY3QuYmluZChjb250cm9sbGVyKTtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoY2FsbGJhY2spO1xuICBjb25zdCBvYnNlcnZlID0gKCkgPT4ge1xuICAgIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0RWxlbWVudCk7XG4gIH07XG4gIGNvbnN0IHVub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICBvYnNlcnZlci51bm9ic2VydmUodGFyZ2V0RWxlbWVudCk7XG4gIH07XG4gIE9iamVjdC5hc3NpZ24oY29udHJvbGxlciwge1xuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICB1bm9ic2VydmUoKTtcbiAgICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gICAgfVxuICB9KTtcbiAgb2JzZXJ2ZSgpO1xuICByZXR1cm4gWyBvYnNlcnZlLCB1bm9ic2VydmUgXTtcbn07XG5cbmNsYXNzIFJlc2l6ZUNvbXBvc2FibGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7fVxuXG5jbGFzcyBSZXNpemVDb250cm9sbGVyIGV4dGVuZHMgUmVzaXplQ29tcG9zYWJsZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgc3VwZXIoY29udGV4dCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKSA9PiB7XG4gICAgICBjb25zdCBbb2JzZXJ2ZSwgdW5vYnNlcnZlXSA9IHVzZVJlc2l6ZSh0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgIHVub2JzZXJ2ZTogdW5vYnNlcnZlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn1cblxuY2xhc3MgVXNlVGFyZ2V0TXV0YXRpb24gZXh0ZW5kcyBTdGltdWx1c1VzZSB7XG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICAgIHRoaXMub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnRhcmdldEVsZW1lbnQsIHtcbiAgICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZSxcbiAgICAgICAgYXR0cmlidXRlRmlsdGVyOiBbIHRoaXMudGFyZ2V0U2VsZWN0b3IsIHRoaXMuc2NvcGVkVGFyZ2V0U2VsZWN0b3IgXVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLnVub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICAgIHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH07XG4gICAgdGhpcy5tdXRhdGlvbiA9IGVudHJpZXMgPT4ge1xuICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBlbnRyaWVzKSB7XG4gICAgICAgIHN3aXRjaCAobXV0YXRpb24udHlwZSkge1xuICAgICAgICAgY2FzZSBcImF0dHJpYnV0ZXNcIjpcbiAgICAgICAgICBsZXQgbmV3VmFsdWUgPSBtdXRhdGlvbi50YXJnZXQuZ2V0QXR0cmlidXRlKG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgIGxldCBvbGRWYWx1ZSA9IG11dGF0aW9uLm9sZFZhbHVlO1xuICAgICAgICAgIGlmIChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09PSB0aGlzLnRhcmdldFNlbGVjdG9yIHx8IG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUgPT09IHRoaXMuc2NvcGVkVGFyZ2V0U2VsZWN0b3IpIHtcbiAgICAgICAgICAgIGxldCBvbGRUYXJnZXRzID0gdGhpcy50YXJnZXRzVXNlZEJ5VGhpc0NvbnRyb2xsZXIob2xkVmFsdWUpO1xuICAgICAgICAgICAgbGV0IG5ld1RhcmdldHMgPSB0aGlzLnRhcmdldHNVc2VkQnlUaGlzQ29udHJvbGxlcihuZXdWYWx1ZSk7XG4gICAgICAgICAgICBsZXQgcmVtb3ZlZFRhcmdldHMgPSBvbGRUYXJnZXRzLmZpbHRlcigodGFyZ2V0ID0+ICFuZXdUYXJnZXRzLmluY2x1ZGVzKHRhcmdldCkpKTtcbiAgICAgICAgICAgIGxldCBhZGRlZFRhcmdldHMgPSBuZXdUYXJnZXRzLmZpbHRlcigodGFyZ2V0ID0+ICFvbGRUYXJnZXRzLmluY2x1ZGVzKHRhcmdldCkpKTtcbiAgICAgICAgICAgIHJlbW92ZWRUYXJnZXRzLmZvckVhY2goKHRhcmdldCA9PiB0aGlzLnRhcmdldFJlbW92ZWQodGhpcy5zdHJpcElkZW50aWZpZXJQcmVmaXgodGFyZ2V0KSwgbXV0YXRpb24udGFyZ2V0LCBcImF0dHJpYnV0ZUNoYW5nZVwiKSkpO1xuICAgICAgICAgICAgYWRkZWRUYXJnZXRzLmZvckVhY2goKHRhcmdldCA9PiB0aGlzLnRhcmdldEFkZGVkKHRoaXMuc3RyaXBJZGVudGlmaWVyUHJlZml4KHRhcmdldCksIG11dGF0aW9uLnRhcmdldCwgXCJhdHRyaWJ1dGVDaGFuZ2VcIikpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgIGNhc2UgXCJjaGFyYWN0ZXJEYXRhXCI6XG4gICAgICAgICAgbGV0IG5vZHVsZSA9IHRoaXMuZmluZFRhcmdldEluQW5jZXN0cnkobXV0YXRpb24udGFyZ2V0KTtcbiAgICAgICAgICBpZiAobm9kdWxlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHN1cHBvcnRlZFRhcmdldHMgPSB0aGlzLnRhcmdldHNVc2VkQnlUaGlzQ29udHJvbGxlckZyb21Ob2RlKG5vZHVsZSk7XG4gICAgICAgICAgICBzdXBwb3J0ZWRUYXJnZXRzLmZvckVhY2goKHRhcmdldCA9PiB7XG4gICAgICAgICAgICAgIHRoaXMudGFyZ2V0Q2hhbmdlZCh0aGlzLnN0cmlwSWRlbnRpZmllclByZWZpeCh0YXJnZXQpLCBub2R1bGUsIFwiZG9tTXV0YXRpb25cIik7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICBjYXNlIFwiY2hpbGRMaXN0XCI6XG4gICAgICAgICAgbGV0IHthZGRlZE5vZGVzOiBhZGRlZE5vZGVzLCByZW1vdmVkTm9kZXM6IHJlbW92ZWROb2Rlc30gPSBtdXRhdGlvbjtcbiAgICAgICAgICBhZGRlZE5vZGVzLmZvckVhY2goKG5vZGUgPT4gdGhpcy5wcm9jZXNzTm9kZURPTU11dGF0aW9uKG5vZGUsIHRoaXMudGFyZ2V0QWRkZWQpKSk7XG4gICAgICAgICAgcmVtb3ZlZE5vZGVzLmZvckVhY2goKG5vZGUgPT4gdGhpcy5wcm9jZXNzTm9kZURPTU11dGF0aW9uKG5vZGUsIHRoaXMudGFyZ2V0UmVtb3ZlZCkpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IGNvbnRyb2xsZXIuZWxlbWVudDtcbiAgICB0aGlzLmlkZW50aWZpZXIgPSBjb250cm9sbGVyLnNjb3BlLmlkZW50aWZpZXI7XG4gICAgdGhpcy5pZGVudGlmaWVyUHJlZml4ID0gYCR7dGhpcy5pZGVudGlmaWVyfS5gO1xuICAgIHRoaXMudGFyZ2V0U2VsZWN0b3IgPSBjb250cm9sbGVyLnNjb3BlLnNjaGVtYS50YXJnZXRBdHRyaWJ1dGU7XG4gICAgdGhpcy5zY29wZWRUYXJnZXRTZWxlY3RvciA9IGBkYXRhLSR7dGhpcy5pZGVudGlmaWVyfS10YXJnZXRgO1xuICAgIHRoaXMudGFyZ2V0cyA9IG9wdGlvbnMudGFyZ2V0cyB8fCBjb250cm9sbGVyLmNvbnN0cnVjdG9yLnRhcmdldHM7XG4gICAgdGhpcy5wcmVmaXhlZFRhcmdldHMgPSB0aGlzLnRhcmdldHMubWFwKCh0YXJnZXQgPT4gYCR7dGhpcy5pZGVudGlmaWVyUHJlZml4fSR7dGFyZ2V0fWApKTtcbiAgICB0aGlzLm9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5tdXRhdGlvbik7XG4gICAgdGhpcy5lbmhhbmNlQ29udHJvbGxlcigpO1xuICAgIHRoaXMub2JzZXJ2ZSgpO1xuICB9XG4gIHByb2Nlc3NOb2RlRE9NTXV0YXRpb24obm9kZSwgaW5pdGlhbENoYW5nZU1vZGVBc3N1bXB0aW9uKSB7XG4gICAgbGV0IG5vZHVsZSA9IG5vZGU7XG4gICAgbGV0IGNoYW5nZSA9IGluaXRpYWxDaGFuZ2VNb2RlQXNzdW1wdGlvbjtcbiAgICBsZXQgc3VwcG9ydGVkVGFyZ2V0cyA9IFtdO1xuICAgIGlmIChub2R1bGUubm9kZU5hbWUgPT0gXCIjdGV4dFwiIHx8IHRoaXMudGFyZ2V0c1VzZWRCeVRoaXNDb250cm9sbGVyRnJvbU5vZGUobm9kdWxlKS5sZW5ndGggPT0gMCkge1xuICAgICAgY2hhbmdlID0gdGhpcy50YXJnZXRDaGFuZ2VkO1xuICAgICAgbm9kdWxlID0gdGhpcy5maW5kVGFyZ2V0SW5BbmNlc3RyeShub2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VwcG9ydGVkVGFyZ2V0cyA9IHRoaXMudGFyZ2V0c1VzZWRCeVRoaXNDb250cm9sbGVyRnJvbU5vZGUobm9kdWxlKTtcbiAgICB9XG4gICAgaWYgKG5vZHVsZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0ZWRUYXJnZXRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICBzdXBwb3J0ZWRUYXJnZXRzID0gdGhpcy50YXJnZXRzVXNlZEJ5VGhpc0NvbnRyb2xsZXJGcm9tTm9kZShub2R1bGUpO1xuICAgIH1cbiAgICBzdXBwb3J0ZWRUYXJnZXRzLmZvckVhY2goKHRhcmdldCA9PiB7XG4gICAgICBjaGFuZ2UuY2FsbCh0aGlzLCB0aGlzLnN0cmlwSWRlbnRpZmllclByZWZpeCh0YXJnZXQpLCBub2R1bGUsIFwiZG9tTXV0YXRpb25cIik7XG4gICAgfSkpO1xuICB9XG4gIGZpbmRUYXJnZXRJbkFuY2VzdHJ5KG5vZGUpIHtcbiAgICBsZXQgbm9kdWxlID0gbm9kZTtcbiAgICBsZXQgc3VwcG9ydGVkVGFyZ2V0cyA9IFtdO1xuICAgIGlmIChub2R1bGUubm9kZU5hbWUgIT0gXCIjdGV4dFwiKSB7XG4gICAgICBzdXBwb3J0ZWRUYXJnZXRzID0gdGhpcy50YXJnZXRzVXNlZEJ5VGhpc0NvbnRyb2xsZXJGcm9tTm9kZShub2R1bGUpO1xuICAgIH1cbiAgICB3aGlsZSAobm9kdWxlLnBhcmVudE5vZGUgIT09IG51bGwgJiYgbm9kdWxlLnBhcmVudE5vZGUgIT0gdGhpcy50YXJnZXRFbGVtZW50ICYmIHN1cHBvcnRlZFRhcmdldHMubGVuZ3RoID09IDApIHtcbiAgICAgIG5vZHVsZSA9IG5vZHVsZS5wYXJlbnROb2RlO1xuICAgICAgaWYgKG5vZHVsZS5ub2RlTmFtZSAhPT0gXCIjdGV4dFwiKSB7XG4gICAgICAgIGxldCBzdXBwb3J0ZWRUYXJnZXRzID0gdGhpcy50YXJnZXRzVXNlZEJ5VGhpc0NvbnRyb2xsZXJGcm9tTm9kZShub2R1bGUpO1xuICAgICAgICBpZiAoc3VwcG9ydGVkVGFyZ2V0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIG5vZHVsZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAobm9kdWxlLm5vZGVOYW1lID09IFwiI3RleHRcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChub2R1bGUucGFyZW50Tm9kZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKG5vZHVsZS5wYXJlbnROb2RlID09IHRoaXMudGFyZ2V0RWxlbWVudCkge1xuICAgICAgaWYgKHRoaXMudGFyZ2V0c1VzZWRCeVRoaXNDb250cm9sbGVyRnJvbU5vZGUobm9kdWxlKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBub2R1bGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdGFyZ2V0QWRkZWQobmFtZSwgbm9kZSwgdHJpZ2dlcikge1xuICAgIGxldCB0YXJnZXRDYWxsYmFjayA9IGAke25hbWV9VGFyZ2V0QWRkZWRgO1xuICAgIHRoaXMuY29udHJvbGxlclt0YXJnZXRDYWxsYmFja10gJiYgbWV0aG9kKHRoaXMuY29udHJvbGxlciwgdGFyZ2V0Q2FsbGJhY2spLmNhbGwodGhpcy5jb250cm9sbGVyLCBub2RlKTtcbiAgICB0aGlzLmxvZyhcInRhcmdldEFkZGVkXCIsIHtcbiAgICAgIHRhcmdldDogbmFtZSxcbiAgICAgIG5vZGU6IG5vZGUsXG4gICAgICB0cmlnZ2VyOiB0cmlnZ2VyXG4gICAgfSk7XG4gIH1cbiAgdGFyZ2V0UmVtb3ZlZChuYW1lLCBub2RlLCB0cmlnZ2VyKSB7XG4gICAgbGV0IHRhcmdldENhbGxiYWNrID0gYCR7bmFtZX1UYXJnZXRSZW1vdmVkYDtcbiAgICB0aGlzLmNvbnRyb2xsZXJbdGFyZ2V0Q2FsbGJhY2tdICYmIG1ldGhvZCh0aGlzLmNvbnRyb2xsZXIsIHRhcmdldENhbGxiYWNrKS5jYWxsKHRoaXMuY29udHJvbGxlciwgbm9kZSk7XG4gICAgdGhpcy5sb2coXCJ0YXJnZXRSZW1vdmVkXCIsIHtcbiAgICAgIHRhcmdldDogbmFtZSxcbiAgICAgIG5vZGU6IG5vZGUsXG4gICAgICB0cmlnZ2VyOiB0cmlnZ2VyXG4gICAgfSk7XG4gIH1cbiAgdGFyZ2V0Q2hhbmdlZChuYW1lLCBub2RlLCB0cmlnZ2VyKSB7XG4gICAgbGV0IHRhcmdldENhbGxiYWNrID0gYCR7bmFtZX1UYXJnZXRDaGFuZ2VkYDtcbiAgICB0aGlzLmNvbnRyb2xsZXJbdGFyZ2V0Q2FsbGJhY2tdICYmIG1ldGhvZCh0aGlzLmNvbnRyb2xsZXIsIHRhcmdldENhbGxiYWNrKS5jYWxsKHRoaXMuY29udHJvbGxlciwgbm9kZSk7XG4gICAgdGhpcy5sb2coXCJ0YXJnZXRDaGFuZ2VkXCIsIHtcbiAgICAgIHRhcmdldDogbmFtZSxcbiAgICAgIG5vZGU6IG5vZGUsXG4gICAgICB0cmlnZ2VyOiB0cmlnZ2VyXG4gICAgfSk7XG4gIH1cbiAgdGFyZ2V0c1VzZWRCeVRoaXNDb250cm9sbGVyRnJvbU5vZGUobm9kZSkge1xuICAgIGlmIChub2RlLm5vZGVOYW1lID09IFwiI3RleHRcIiB8fCBub2RlLm5vZGVOYW1lID09IFwiI2NvbW1lbnRcIikge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBsZXQgbm9kZUVsZW1lbnQgPSBub2RlO1xuICAgIHJldHVybiB0aGlzLnRhcmdldHNVc2VkQnlUaGlzQ29udHJvbGxlcihub2RlRWxlbWVudC5nZXRBdHRyaWJ1dGUodGhpcy5zY29wZWRUYXJnZXRTZWxlY3RvcikgfHwgbm9kZUVsZW1lbnQuZ2V0QXR0cmlidXRlKHRoaXMudGFyZ2V0U2VsZWN0b3IpKTtcbiAgfVxuICB0YXJnZXRzVXNlZEJ5VGhpc0NvbnRyb2xsZXIodGFyZ2V0U3RyKSB7XG4gICAgdGFyZ2V0U3RyID0gdGFyZ2V0U3RyIHx8IFwiXCI7XG4gICAgbGV0IHRhcmdldHNUb0NoZWNrID0gdGhpcy5zdHJpcElkZW50aWZpZXJQcmVmaXgodGFyZ2V0U3RyKS5zcGxpdChcIiBcIik7XG4gICAgcmV0dXJuIHRoaXMudGFyZ2V0cy5maWx0ZXIoKG4gPT4gdGFyZ2V0c1RvQ2hlY2suaW5kZXhPZihuKSAhPT0gLTEpKTtcbiAgfVxuICBzdHJpcElkZW50aWZpZXJQcmVmaXgodGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRhcmdldC5yZXBsYWNlKG5ldyBSZWdFeHAodGhpcy5pZGVudGlmaWVyUHJlZml4LCBcImdcIiksIFwiXCIpO1xuICB9XG4gIGVuaGFuY2VDb250cm9sbGVyKCkge1xuICAgIGNvbnN0IGNvbnRyb2xsZXJEaXNjb25uZWN0ID0gdGhpcy5jb250cm9sbGVyLmRpc2Nvbm5lY3QuYmluZCh0aGlzLmNvbnRyb2xsZXIpO1xuICAgIGNvbnN0IGRpc2Nvbm5lY3QgPSAoKSA9PiB7XG4gICAgICB0aGlzLnVub2JzZXJ2ZSgpO1xuICAgICAgY29udHJvbGxlckRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb250cm9sbGVyLCB7XG4gICAgICBkaXNjb25uZWN0OiBkaXNjb25uZWN0XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgdXNlVGFyZ2V0TXV0YXRpb24gPSAoY29tcG9zYWJsZUNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBjb250cm9sbGVyID0gY29tcG9zYWJsZUNvbnRyb2xsZXI7XG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IFVzZVRhcmdldE11dGF0aW9uKGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICByZXR1cm4gWyBvYnNlcnZlci5vYnNlcnZlLCBvYnNlcnZlci51bm9ic2VydmUgXTtcbn07XG5cbmNsYXNzIFRhcmdldE11dGF0aW9uQ29tcG9zYWJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHt9XG5cbmNsYXNzIFRhcmdldE11dGF0aW9uQ29udHJvbGxlciBleHRlbmRzIFRhcmdldE11dGF0aW9uQ29tcG9zYWJsZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgc3VwZXIoY29udGV4dCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKSA9PiB7XG4gICAgICBjb25zdCBbb2JzZXJ2ZSwgdW5vYnNlcnZlXSA9IHVzZVRhcmdldE11dGF0aW9uKHRoaXMsIHRoaXMub3B0aW9ucyk7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgdW5vYnNlcnZlOiB1bm9ic2VydmVcbiAgICAgIH0pO1xuICAgIH0pKTtcbiAgfVxufVxuXG5jbGFzcyBUaHJvdHRsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHt9XG5cblRocm90dGxlQ29udHJvbGxlci50aHJvdHRsZXMgPSBbXTtcblxuY29uc3QgZGVmYXVsdFdhaXQgPSAyMDA7XG5cbmZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQgPSBkZWZhdWx0V2FpdCkge1xuICBsZXQgaW5UaHJvdHRsZTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXM7XG4gICAgaWYgKCFpblRocm90dGxlKSB7XG4gICAgICBpblRocm90dGxlID0gdHJ1ZTtcbiAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBzZXRUaW1lb3V0KCgoKSA9PiBpblRocm90dGxlID0gZmFsc2UpLCB3YWl0KTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IHVzZVRocm90dGxlID0gKGNvbXBvc2FibGVDb250cm9sbGVyLCBvcHRpb25zID0ge30pID0+IHtcbiAgdmFyIF9hO1xuICBjb25zdCBjb250cm9sbGVyID0gY29tcG9zYWJsZUNvbnRyb2xsZXI7XG4gIGNvbnN0IGNvbnN0cnVjdG9yID0gY29udHJvbGxlci5jb25zdHJ1Y3RvcjtcbiAgKF9hID0gY29uc3RydWN0b3IudGhyb3R0bGVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaCgoZnVuYyA9PiB7XG4gICAgaWYgKHR5cGVvZiBmdW5jID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb250cm9sbGVyW2Z1bmNdID0gdGhyb3R0bGUoY29udHJvbGxlcltmdW5jXSwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLndhaXQpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGNvbnN0IHtuYW1lOiBuYW1lLCB3YWl0OiB3YWl0fSA9IGZ1bmM7XG4gICAgICBpZiAoIW5hbWUpIHJldHVybjtcbiAgICAgIGNvbnRyb2xsZXJbbmFtZV0gPSB0aHJvdHRsZShjb250cm9sbGVyW25hbWVdLCB3YWl0IHx8IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMud2FpdCkpO1xuICAgIH1cbiAgfSkpO1xufTtcblxuY29uc3QgYWxwaW5lTmFtZXMgPSB7XG4gIGVudGVyRnJvbUNsYXNzOiBcImVudGVyXCIsXG4gIGVudGVyQWN0aXZlQ2xhc3M6IFwiZW50ZXJTdGFydFwiLFxuICBlbnRlclRvQ2xhc3M6IFwiZW50ZXJFbmRcIixcbiAgbGVhdmVGcm9tQ2xhc3M6IFwibGVhdmVcIixcbiAgbGVhdmVBY3RpdmVDbGFzczogXCJsZWF2ZVN0YXJ0XCIsXG4gIGxlYXZlVG9DbGFzczogXCJsZWF2ZUVuZFwiXG59O1xuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgdHJhbnNpdGlvbmVkOiBmYWxzZSxcbiAgaGlkZGVuQ2xhc3M6IFwiaGlkZGVuXCIsXG4gIHByZXNlcnZlT3JpZ2luYWxDbGFzczogdHJ1ZSxcbiAgcmVtb3ZlVG9DbGFzc2VzOiB0cnVlXG59O1xuXG5jb25zdCB1c2VUcmFuc2l0aW9uID0gKGNvbXBvc2FibGVDb250cm9sbGVyLCBvcHRpb25zID0ge30pID0+IHtcbiAgdmFyIF9hLCBfYiwgX2M7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3QgdGFyZ2V0TmFtZSA9IGNvbnRyb2xsZXIuZWxlbWVudC5kYXRhc2V0LnRyYW5zaXRpb25UYXJnZXQ7XG4gIGxldCB0YXJnZXRGcm9tQXR0cmlidXRlO1xuICBpZiAodGFyZ2V0TmFtZSkge1xuICAgIHRhcmdldEZyb21BdHRyaWJ1dGUgPSBjb250cm9sbGVyW2Ake3RhcmdldE5hbWV9VGFyZ2V0YF07XG4gIH1cbiAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZWxlbWVudCkgfHwgdGFyZ2V0RnJvbUF0dHJpYnV0ZSB8fCBjb250cm9sbGVyLmVsZW1lbnQ7XG4gIGlmICghKHRhcmdldEVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCB0YXJnZXRFbGVtZW50IGluc3RhbmNlb2YgU1ZHRWxlbWVudCkpIHJldHVybjtcbiAgY29uc3QgZGF0YXNldCA9IHRhcmdldEVsZW1lbnQuZGF0YXNldDtcbiAgY29uc3QgbGVhdmVBZnRlciA9IHBhcnNlSW50KGRhdGFzZXQubGVhdmVBZnRlciB8fCBcIlwiKSB8fCBvcHRpb25zLmxlYXZlQWZ0ZXIgfHwgMDtcbiAgY29uc3Qge3RyYW5zaXRpb25lZDogdHJhbnNpdGlvbmVkLCBoaWRkZW5DbGFzczogaGlkZGVuQ2xhc3MsIHByZXNlcnZlT3JpZ2luYWxDbGFzczogcHJlc2VydmVPcmlnaW5hbENsYXNzLCByZW1vdmVUb0NsYXNzZXM6IHJlbW92ZVRvQ2xhc3Nlc30gPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG4gIGNvbnN0IGNvbnRyb2xsZXJFbnRlciA9IChfYSA9IGNvbnRyb2xsZXIuZW50ZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5iaW5kKGNvbnRyb2xsZXIpO1xuICBjb25zdCBjb250cm9sbGVyTGVhdmUgPSAoX2IgPSBjb250cm9sbGVyLmxlYXZlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYmluZChjb250cm9sbGVyKTtcbiAgY29uc3QgY29udHJvbGxlclRvZ2dsZVRyYW5zaXRpb24gPSAoX2MgPSBjb250cm9sbGVyLnRvZ2dsZVRyYW5zaXRpb24pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5iaW5kKGNvbnRyb2xsZXIpO1xuICBhc3luYyBmdW5jdGlvbiBlbnRlcihldmVudCkge1xuICAgIGlmIChjb250cm9sbGVyLnRyYW5zaXRpb25lZCkgcmV0dXJuO1xuICAgIGNvbnRyb2xsZXIudHJhbnNpdGlvbmVkID0gdHJ1ZTtcbiAgICBjb250cm9sbGVyRW50ZXIgJiYgY29udHJvbGxlckVudGVyKGV2ZW50KTtcbiAgICBjb25zdCBlbnRlckZyb21DbGFzc2VzID0gZ2V0QXR0cmlidXRlKFwiZW50ZXJGcm9tXCIsIG9wdGlvbnMsIGRhdGFzZXQpO1xuICAgIGNvbnN0IGVudGVyQWN0aXZlQ2xhc3NlcyA9IGdldEF0dHJpYnV0ZShcImVudGVyQWN0aXZlXCIsIG9wdGlvbnMsIGRhdGFzZXQpO1xuICAgIGNvbnN0IGVudGVyVG9DbGFzc2VzID0gZ2V0QXR0cmlidXRlKFwiZW50ZXJUb1wiLCBvcHRpb25zLCBkYXRhc2V0KTtcbiAgICBjb25zdCBsZWF2ZVRvQ2xhc3NlcyA9IGdldEF0dHJpYnV0ZShcImxlYXZlVG9cIiwgb3B0aW9ucywgZGF0YXNldCk7XG4gICAgaWYgKCEhaGlkZGVuQ2xhc3MpIHtcbiAgICAgIHRhcmdldEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShoaWRkZW5DbGFzcyk7XG4gICAgfVxuICAgIGlmICghcmVtb3ZlVG9DbGFzc2VzKSB7XG4gICAgICByZW1vdmVDbGFzc2VzKHRhcmdldEVsZW1lbnQsIGxlYXZlVG9DbGFzc2VzKTtcbiAgICB9XG4gICAgYXdhaXQgdHJhbnNpdGlvbih0YXJnZXRFbGVtZW50LCBlbnRlckZyb21DbGFzc2VzLCBlbnRlckFjdGl2ZUNsYXNzZXMsIGVudGVyVG9DbGFzc2VzLCBoaWRkZW5DbGFzcywgcHJlc2VydmVPcmlnaW5hbENsYXNzLCByZW1vdmVUb0NsYXNzZXMpO1xuICAgIGlmIChsZWF2ZUFmdGVyID4gMCkge1xuICAgICAgc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgICBsZWF2ZShldmVudCk7XG4gICAgICB9KSwgbGVhdmVBZnRlcik7XG4gICAgfVxuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGxlYXZlKGV2ZW50KSB7XG4gICAgaWYgKCFjb250cm9sbGVyLnRyYW5zaXRpb25lZCkgcmV0dXJuO1xuICAgIGNvbnRyb2xsZXIudHJhbnNpdGlvbmVkID0gZmFsc2U7XG4gICAgY29udHJvbGxlckxlYXZlICYmIGNvbnRyb2xsZXJMZWF2ZShldmVudCk7XG4gICAgY29uc3QgbGVhdmVGcm9tQ2xhc3NlcyA9IGdldEF0dHJpYnV0ZShcImxlYXZlRnJvbVwiLCBvcHRpb25zLCBkYXRhc2V0KTtcbiAgICBjb25zdCBsZWF2ZUFjdGl2ZUNsYXNzZXMgPSBnZXRBdHRyaWJ1dGUoXCJsZWF2ZUFjdGl2ZVwiLCBvcHRpb25zLCBkYXRhc2V0KTtcbiAgICBjb25zdCBsZWF2ZVRvQ2xhc3NlcyA9IGdldEF0dHJpYnV0ZShcImxlYXZlVG9cIiwgb3B0aW9ucywgZGF0YXNldCk7XG4gICAgY29uc3QgZW50ZXJUb0NsYXNzZXMgPSBnZXRBdHRyaWJ1dGUoXCJlbnRlclRvXCIsIG9wdGlvbnMsIGRhdGFzZXQpO1xuICAgIGlmICghcmVtb3ZlVG9DbGFzc2VzKSB7XG4gICAgICByZW1vdmVDbGFzc2VzKHRhcmdldEVsZW1lbnQsIGVudGVyVG9DbGFzc2VzKTtcbiAgICB9XG4gICAgYXdhaXQgdHJhbnNpdGlvbih0YXJnZXRFbGVtZW50LCBsZWF2ZUZyb21DbGFzc2VzLCBsZWF2ZUFjdGl2ZUNsYXNzZXMsIGxlYXZlVG9DbGFzc2VzLCBoaWRkZW5DbGFzcywgcHJlc2VydmVPcmlnaW5hbENsYXNzLCByZW1vdmVUb0NsYXNzZXMpO1xuICAgIGlmICghIWhpZGRlbkNsYXNzKSB7XG4gICAgICB0YXJnZXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoaGlkZGVuQ2xhc3MpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB0b2dnbGVUcmFuc2l0aW9uKGV2ZW50KSB7XG4gICAgY29udHJvbGxlclRvZ2dsZVRyYW5zaXRpb24gJiYgY29udHJvbGxlclRvZ2dsZVRyYW5zaXRpb24oZXZlbnQpO1xuICAgIGlmIChjb250cm9sbGVyLnRyYW5zaXRpb25lZCkge1xuICAgICAgbGVhdmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW50ZXIoKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gdHJhbnNpdGlvbihlbGVtZW50LCBpbml0aWFsQ2xhc3NlcywgYWN0aXZlQ2xhc3NlcywgZW5kQ2xhc3NlcywgaGlkZGVuQ2xhc3MsIHByZXNlcnZlT3JpZ2luYWxDbGFzcywgcmVtb3ZlRW5kQ2xhc3Nlcykge1xuICAgIGNvbnN0IHN0YXNoZWRDbGFzc2VzID0gW107XG4gICAgaWYgKHByZXNlcnZlT3JpZ2luYWxDbGFzcykge1xuICAgICAgaW5pdGlhbENsYXNzZXMuZm9yRWFjaCgoY2xzID0+IGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNscykgJiYgY2xzICE9PSBoaWRkZW5DbGFzcyAmJiBzdGFzaGVkQ2xhc3Nlcy5wdXNoKGNscykpKTtcbiAgICAgIGFjdGl2ZUNsYXNzZXMuZm9yRWFjaCgoY2xzID0+IGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNscykgJiYgY2xzICE9PSBoaWRkZW5DbGFzcyAmJiBzdGFzaGVkQ2xhc3Nlcy5wdXNoKGNscykpKTtcbiAgICAgIGVuZENsYXNzZXMuZm9yRWFjaCgoY2xzID0+IGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNscykgJiYgY2xzICE9PSBoaWRkZW5DbGFzcyAmJiBzdGFzaGVkQ2xhc3Nlcy5wdXNoKGNscykpKTtcbiAgICB9XG4gICAgYWRkQ2xhc3NlcyhlbGVtZW50LCBpbml0aWFsQ2xhc3Nlcyk7XG4gICAgcmVtb3ZlQ2xhc3NlcyhlbGVtZW50LCBzdGFzaGVkQ2xhc3Nlcyk7XG4gICAgYWRkQ2xhc3NlcyhlbGVtZW50LCBhY3RpdmVDbGFzc2VzKTtcbiAgICBhd2FpdCBuZXh0QW5pbWF0aW9uRnJhbWUoKTtcbiAgICByZW1vdmVDbGFzc2VzKGVsZW1lbnQsIGluaXRpYWxDbGFzc2VzKTtcbiAgICBhZGRDbGFzc2VzKGVsZW1lbnQsIGVuZENsYXNzZXMpO1xuICAgIGF3YWl0IGFmdGVyVHJhbnNpdGlvbihlbGVtZW50KTtcbiAgICByZW1vdmVDbGFzc2VzKGVsZW1lbnQsIGFjdGl2ZUNsYXNzZXMpO1xuICAgIGlmIChyZW1vdmVFbmRDbGFzc2VzKSB7XG4gICAgICByZW1vdmVDbGFzc2VzKGVsZW1lbnQsIGVuZENsYXNzZXMpO1xuICAgIH1cbiAgICBhZGRDbGFzc2VzKGVsZW1lbnQsIHN0YXNoZWRDbGFzc2VzKTtcbiAgfVxuICBmdW5jdGlvbiBpbml0aWFsU3RhdGUoKSB7XG4gICAgY29udHJvbGxlci50cmFuc2l0aW9uZWQgPSB0cmFuc2l0aW9uZWQ7XG4gICAgaWYgKHRyYW5zaXRpb25lZCkge1xuICAgICAgaWYgKCEhaGlkZGVuQ2xhc3MpIHtcbiAgICAgICAgdGFyZ2V0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGhpZGRlbkNsYXNzKTtcbiAgICAgIH1cbiAgICAgIGVudGVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghIWhpZGRlbkNsYXNzKSB7XG4gICAgICAgIHRhcmdldEVsZW1lbnQuY2xhc3NMaXN0LmFkZChoaWRkZW5DbGFzcyk7XG4gICAgICB9XG4gICAgICBsZWF2ZSgpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBhZGRDbGFzc2VzKGVsZW1lbnQsIGNsYXNzZXMpIHtcbiAgICBpZiAoY2xhc3Nlcy5sZW5ndGggPiAwKSB7XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlcyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMoZWxlbWVudCwgY2xhc3Nlcykge1xuICAgIGlmIChjbGFzc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc2VzKTtcbiAgICB9XG4gIH1cbiAgaW5pdGlhbFN0YXRlKCk7XG4gIE9iamVjdC5hc3NpZ24oY29udHJvbGxlciwge1xuICAgIGVudGVyOiBlbnRlcixcbiAgICBsZWF2ZTogbGVhdmUsXG4gICAgdG9nZ2xlVHJhbnNpdGlvbjogdG9nZ2xlVHJhbnNpdGlvblxuICB9KTtcbiAgcmV0dXJuIFsgZW50ZXIsIGxlYXZlLCB0b2dnbGVUcmFuc2l0aW9uIF07XG59O1xuXG5mdW5jdGlvbiBnZXRBdHRyaWJ1dGUobmFtZSwgb3B0aW9ucywgZGF0YXNldCkge1xuICBjb25zdCBkYXRhc2V0TmFtZSA9IGB0cmFuc2l0aW9uJHtuYW1lWzBdLnRvVXBwZXJDYXNlKCl9JHtuYW1lLnN1YnN0cigxKX1gO1xuICBjb25zdCBkYXRhc2V0QWxwaW5lTmFtZSA9IGFscGluZU5hbWVzW25hbWVdO1xuICBjb25zdCBjbGFzc2VzID0gb3B0aW9uc1tuYW1lXSB8fCBkYXRhc2V0W2RhdGFzZXROYW1lXSB8fCBkYXRhc2V0W2RhdGFzZXRBbHBpbmVOYW1lXSB8fCBcIiBcIjtcbiAgcmV0dXJuIGlzRW1wdHkoY2xhc3NlcykgPyBbXSA6IGNsYXNzZXMuc3BsaXQoXCIgXCIpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBhZnRlclRyYW5zaXRpb24oZWxlbWVudCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUgPT4ge1xuICAgIGNvbnN0IGR1cmF0aW9uID0gTnVtYmVyKGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkudHJhbnNpdGlvbkR1cmF0aW9uLnNwbGl0KFwiLFwiKVswXS5yZXBsYWNlKFwic1wiLCBcIlwiKSkgKiAxZTM7XG4gICAgc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgcmVzb2x2ZShkdXJhdGlvbik7XG4gICAgfSksIGR1cmF0aW9uKTtcbiAgfSkpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBuZXh0QW5pbWF0aW9uRnJhbWUoKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSA9PiB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKSA9PiB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVzb2x2ZSk7XG4gICAgfSkpO1xuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGlzRW1wdHkoc3RyKSB7XG4gIHJldHVybiBzdHIubGVuZ3RoID09PSAwIHx8ICFzdHIudHJpbSgpO1xufVxuXG5jbGFzcyBUcmFuc2l0aW9uQ29tcG9zYWJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnRyYW5zaXRpb25lZCA9IGZhbHNlO1xuICB9XG59XG5cbmNsYXNzIFRyYW5zaXRpb25Db250cm9sbGVyIGV4dGVuZHMgVHJhbnNpdGlvbkNvbXBvc2FibGVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgdXNlVHJhbnNpdGlvbih0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgIH0pKTtcbiAgfVxufVxuXG5jbGFzcyBVc2VWaXNpYmlsaXR5IGV4dGVuZHMgU3RpbXVsdXNVc2Uge1xuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyLCBvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihjb250cm9sbGVyLCBvcHRpb25zKTtcbiAgICB0aGlzLm9ic2VydmUgPSAoKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xsZXIuaXNWaXNpYmxlID0gIWRvY3VtZW50LmhpZGRlbjtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgICB0aGlzLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2UoKTtcbiAgICB9O1xuICAgIHRoaXMudW5vYnNlcnZlID0gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdGhpcy5oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICB9O1xuICAgIHRoaXMuYmVjb21lc0ludmlzaWJsZSA9IGV2ZW50ID0+IHtcbiAgICAgIHRoaXMuY29udHJvbGxlci5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgIHRoaXMuY2FsbChcImludmlzaWJsZVwiLCBldmVudCk7XG4gICAgICB0aGlzLmxvZyhcImludmlzaWJsZVwiLCB7XG4gICAgICAgIGlzVmlzaWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kaXNwYXRjaChcImludmlzaWJsZVwiLCB7XG4gICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgaXNWaXNpYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLmJlY29tZXNWaXNpYmxlID0gZXZlbnQgPT4ge1xuICAgICAgdGhpcy5jb250cm9sbGVyLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICB0aGlzLmNhbGwoXCJ2aXNpYmxlXCIsIGV2ZW50KTtcbiAgICAgIHRoaXMubG9nKFwidmlzaWJsZVwiLCB7XG4gICAgICAgIGlzVmlzaWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKFwidmlzaWJsZVwiLCB7XG4gICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgaXNWaXNpYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgdGhpcy5iZWNvbWVzSW52aXNpYmxlKGV2ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYmVjb21lc1Zpc2libGUoZXZlbnQpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB0aGlzLmVuaGFuY2VDb250cm9sbGVyKCk7XG4gICAgdGhpcy5vYnNlcnZlKCk7XG4gIH1cbiAgZW5oYW5jZUNvbnRyb2xsZXIoKSB7XG4gICAgY29uc3QgY29udHJvbGxlckRpc2Nvbm5lY3QgPSB0aGlzLmNvbnRyb2xsZXJEaXNjb25uZWN0O1xuICAgIGNvbnN0IGRpc2Nvbm5lY3QgPSAoKSA9PiB7XG4gICAgICB0aGlzLnVub2JzZXJ2ZSgpO1xuICAgICAgY29udHJvbGxlckRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb250cm9sbGVyLCB7XG4gICAgICBkaXNjb25uZWN0OiBkaXNjb25uZWN0XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgdXNlVmlzaWJpbGl0eSA9IChjb21wb3NhYmxlQ29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgVXNlVmlzaWJpbGl0eShjb250cm9sbGVyLCBvcHRpb25zKTtcbiAgcmV0dXJuIFsgb2JzZXJ2ZXIub2JzZXJ2ZSwgb2JzZXJ2ZXIudW5vYnNlcnZlIF07XG59O1xuXG5jbGFzcyBWaXNpYmlsaXR5Q29tcG9zYWJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlO1xuICB9XG59XG5cbmNsYXNzIFZpc2liaWxpdHlDb250cm9sbGVyIGV4dGVuZHMgVmlzaWJpbGl0eUNvbXBvc2FibGVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgY29uc3QgW29ic2VydmUsIHVub2JzZXJ2ZV0gPSB1c2VWaXNpYmlsaXR5KHRoaXMsIHRoaXMub3B0aW9ucyk7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgdW5vYnNlcnZlOiB1bm9ic2VydmVcbiAgICAgIH0pO1xuICAgIH0pKTtcbiAgfVxufVxuXG5jbGFzcyBVc2VXaW5kb3dGb2N1cyBleHRlbmRzIFN0aW11bHVzVXNlIHtcbiAgY29uc3RydWN0b3IoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoY29udHJvbGxlciwgb3B0aW9ucyk7XG4gICAgdGhpcy5vYnNlcnZlID0gKCkgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50Lmhhc0ZvY3VzKCkpIHtcbiAgICAgICAgdGhpcy5iZWNvbWVzRm9jdXNlZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5iZWNvbWVzVW5mb2N1c2VkKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKCgpID0+IHtcbiAgICAgICAgdGhpcy5oYW5kbGVXaW5kb3dGb2N1c0NoYW5nZSgpO1xuICAgICAgfSksIHRoaXMuaW50ZXJ2YWxEdXJhdGlvbik7XG4gICAgfTtcbiAgICB0aGlzLnVub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gICAgfTtcbiAgICB0aGlzLmJlY29tZXNVbmZvY3VzZWQgPSBldmVudCA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xsZXIuaGFzRm9jdXMgPSBmYWxzZTtcbiAgICAgIHRoaXMuY2FsbChcInVuZm9jdXNcIiwgZXZlbnQpO1xuICAgICAgdGhpcy5sb2coXCJ1bmZvY3VzXCIsIHtcbiAgICAgICAgaGFzRm9jdXM6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goXCJ1bmZvY3VzXCIsIHtcbiAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICBoYXNGb2N1czogZmFsc2VcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5iZWNvbWVzRm9jdXNlZCA9IGV2ZW50ID0+IHtcbiAgICAgIHRoaXMuY29udHJvbGxlci5oYXNGb2N1cyA9IHRydWU7XG4gICAgICB0aGlzLmNhbGwoXCJmb2N1c1wiLCBldmVudCk7XG4gICAgICB0aGlzLmxvZyhcImZvY3VzXCIsIHtcbiAgICAgICAgaGFzRm9jdXM6IHRydWVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kaXNwYXRjaChcImZvY3VzXCIsIHtcbiAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICBoYXNGb2N1czogdHJ1ZVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLmhhbmRsZVdpbmRvd0ZvY3VzQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50Lmhhc0ZvY3VzKCkgJiYgIXRoaXMuY29udHJvbGxlci5oYXNGb2N1cykge1xuICAgICAgICB0aGlzLmJlY29tZXNGb2N1c2VkKGV2ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoIWRvY3VtZW50Lmhhc0ZvY3VzKCkgJiYgdGhpcy5jb250cm9sbGVyLmhhc0ZvY3VzKSB7XG4gICAgICAgIHRoaXMuYmVjb21lc1VuZm9jdXNlZChldmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIHRoaXMuaW50ZXJ2YWxEdXJhdGlvbiA9IG9wdGlvbnMuaW50ZXJ2YWwgfHwgMjAwO1xuICAgIHRoaXMuZW5oYW5jZUNvbnRyb2xsZXIoKTtcbiAgICB0aGlzLm9ic2VydmUoKTtcbiAgfVxuICBlbmhhbmNlQ29udHJvbGxlcigpIHtcbiAgICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IHRoaXMuY29udHJvbGxlckRpc2Nvbm5lY3Q7XG4gICAgY29uc3QgZGlzY29ubmVjdCA9ICgpID0+IHtcbiAgICAgIHRoaXMudW5vYnNlcnZlKCk7XG4gICAgICBjb250cm9sbGVyRGlzY29ubmVjdCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLmNvbnRyb2xsZXIsIHtcbiAgICAgIGRpc2Nvbm5lY3Q6IGRpc2Nvbm5lY3RcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCB1c2VXaW5kb3dGb2N1cyA9IChjb21wb3NhYmxlQ29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgVXNlV2luZG93Rm9jdXMoY29udHJvbGxlciwgb3B0aW9ucyk7XG4gIHJldHVybiBbIG9ic2VydmVyLm9ic2VydmUsIG9ic2VydmVyLnVub2JzZXJ2ZSBdO1xufTtcblxuY2xhc3MgV2luZG93Rm9jdXNDb21wb3NhYmxlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuaGFzRm9jdXMgPSBmYWxzZTtcbiAgfVxufVxuXG5jbGFzcyBXaW5kb3dGb2N1c0NvbnRyb2xsZXIgZXh0ZW5kcyBXaW5kb3dGb2N1c0NvbXBvc2FibGVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgY29uc3QgW29ic2VydmUsIHVub2JzZXJ2ZV0gPSB1c2VXaW5kb3dGb2N1cyh0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgIHVub2JzZXJ2ZTogdW5vYnNlcnZlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn1cblxuY29uc3QgdXNlV2luZG93UmVzaXplID0gY29tcG9zYWJsZUNvbnRyb2xsZXIgPT4ge1xuICBjb25zdCBjb250cm9sbGVyID0gY29tcG9zYWJsZUNvbnRyb2xsZXI7XG4gIGNvbnN0IGNhbGxiYWNrID0gZXZlbnQgPT4ge1xuICAgIGNvbnN0IHtpbm5lcldpZHRoOiBpbm5lcldpZHRoLCBpbm5lckhlaWdodDogaW5uZXJIZWlnaHR9ID0gd2luZG93O1xuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICBoZWlnaHQ6IGlubmVySGVpZ2h0IHx8IEluZmluaXR5LFxuICAgICAgd2lkdGg6IGlubmVyV2lkdGggfHwgSW5maW5pdHksXG4gICAgICBldmVudDogZXZlbnRcbiAgICB9O1xuICAgIG1ldGhvZChjb250cm9sbGVyLCBcIndpbmRvd1Jlc2l6ZVwiKS5jYWxsKGNvbnRyb2xsZXIsIHBheWxvYWQpO1xuICB9O1xuICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IGNvbnRyb2xsZXIuZGlzY29ubmVjdC5iaW5kKGNvbnRyb2xsZXIpO1xuICBjb25zdCBvYnNlcnZlID0gKCkgPT4ge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGNhbGxiYWNrKTtcbiAgICBjYWxsYmFjaygpO1xuICB9O1xuICBjb25zdCB1bm9ic2VydmUgPSAoKSA9PiB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgY2FsbGJhY2spO1xuICB9O1xuICBPYmplY3QuYXNzaWduKGNvbnRyb2xsZXIsIHtcbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgdW5vYnNlcnZlKCk7XG4gICAgICBjb250cm9sbGVyRGlzY29ubmVjdCgpO1xuICAgIH1cbiAgfSk7XG4gIG9ic2VydmUoKTtcbiAgcmV0dXJuIFsgb2JzZXJ2ZSwgdW5vYnNlcnZlIF07XG59O1xuXG5jbGFzcyBXaW5kb3dSZXNpemVDb21wb3NhYmxlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge31cblxuY2xhc3MgV2luZG93UmVzaXplQ29udHJvbGxlciBleHRlbmRzIFdpbmRvd1Jlc2l6ZUNvbXBvc2FibGVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgY29uc3QgW29ic2VydmUsIHVub2JzZXJ2ZV0gPSB1c2VXaW5kb3dSZXNpemUodGhpcyk7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgdW5vYnNlcnZlOiB1bm9ic2VydmVcbiAgICAgIH0pO1xuICAgIH0pKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VIb3RrZXlzKCkge1xuICB0aHJvdyBcIltzdGltdWx1cy11c2VdIE5vdGljZTogVGhlIGltcG9ydCBmb3IgYHVzZUhvdGtleXMoKWAgaGFzIGJlZW4gbW92ZWQgZnJvbSBgc3RpbXVsdXMtdXNlYCB0byBgc3RpbXVsdXMtdXNlL2hvdGtleXNgLiBcXG5QbGVhc2UgY2hhbmdlIHRoZSBpbXBvcnQgYWNjb3JkaW5nbHkgYW5kIGFkZCBgaG90a2V5LWpzYCBhcyBhIGRlcGVuZGVuY3kgdG8geW91ciBwcm9qZWN0LiBcXG5cXG5Gb3IgbW9yZSBpbmZvcm1hdGlvbiBzZWU6IGh0dHBzOi8vc3RpbXVsdXMtdXNlLmdpdGh1Yi5pby9zdGltdWx1cy11c2UvIy91c2UtaG90a2V5cz9pZD1pbXBvcnRpbmctdGhlLWJlaGF2aW9yXCI7XG59XG5cbmV4cG9ydCB7IEFwcGxpY2F0aW9uQ29udHJvbGxlciwgQ2xpY2tPdXRzaWRlQ29udHJvbGxlciwgSG92ZXJDb250cm9sbGVyLCBJZGxlQ29udHJvbGxlciwgSW50ZXJzZWN0aW9uQ29udHJvbGxlciwgTGF6eUxvYWRDb250cm9sbGVyLCBNdXRhdGlvbkNvbnRyb2xsZXIsIFJlc2l6ZUNvbnRyb2xsZXIsIFRhcmdldE11dGF0aW9uQ29udHJvbGxlciwgVHJhbnNpdGlvbkNvbnRyb2xsZXIsIFVzZUhvdmVyLCBVc2VNdXRhdGlvbiwgVXNlVGFyZ2V0TXV0YXRpb24sIFVzZVZpc2liaWxpdHksIFVzZVdpbmRvd0ZvY3VzLCBWaXNpYmlsaXR5Q29udHJvbGxlciwgV2luZG93Rm9jdXNDb250cm9sbGVyLCBXaW5kb3dSZXNpemVDb250cm9sbGVyLCBkZWJvdW5jZSwgdXNlQXBwbGljYXRpb24sIHVzZUNsaWNrT3V0c2lkZSwgdXNlRGVib3VuY2UsIHVzZURpc3BhdGNoLCB1c2VIb3RrZXlzLCB1c2VIb3ZlciwgdXNlSWRsZSwgdXNlSW50ZXJzZWN0aW9uLCB1c2VMYXp5TG9hZCwgdXNlTWF0Y2hNZWRpYSwgdXNlTWVtbywgdXNlTWV0YSwgdXNlTXV0YXRpb24sIHVzZVJlc2l6ZSwgdXNlVGFyZ2V0TXV0YXRpb24sIHVzZVRocm90dGxlLCB1c2VUcmFuc2l0aW9uLCB1c2VWaXNpYmlsaXR5LCB1c2VXaW5kb3dGb2N1cywgdXNlV2luZG93UmVzaXplIH07XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwic3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy9cbi8vICAgZGlzY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gfVxuIiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4vLyBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcInN0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4vLyAgIGNvbm5lY3QoKSB7XG4vLyAgIH1cbi8vXG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJzdGltdWx1c1wiO1xuLy9cbi8vIGV4cG9ydCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vL1xuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwic3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy9cbi8vICAgZGlzY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gfVxuIiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4vLyBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcInN0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4vLyAgIGNvbm5lY3QoKSB7XG4vLyAgIH1cbi8vXG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpX2NhbGVuZGFyX2NvbnRyb2xsZXIuanNcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcbmltcG9ydCB7IGZvcm1hdCwgYWRkTW9udGhzLCBzdGFydE9mTW9udGgsIGVuZE9mTW9udGgsIGVhY2hEYXlPZkludGVydmFsLCBpc1NhbWVNb250aCwgaXNUb2RheSwgaXNTYW1lRGF5LCBzdGFydE9mV2VlaywgZW5kT2ZXZWVrIH0gZnJvbSBcImRhdGUtZm5zXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJ0aXRsZVwiLCBcImNhbGVuZGFyXCIsIFwiZGF5VGVtcGxhdGVcIiwgXCJpbnB1dFwiXVxuICBzdGF0aWMgdmFsdWVzID0ge1xuICAgIGZvcm1hdDogU3RyaW5nLFxuICAgIHZpZXdEYXRlOiBTdHJpbmcsXG4gICAgc2VsZWN0ZWREYXRlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogbnVsbCB9LFxuICAgIGlucHV0SWQ6IFN0cmluZ1xuICB9XG5cbiAgY29ubmVjdCgpIHtcbiAgICB0aGlzLnZpZXdEYXRlID0gbmV3IERhdGUodGhpcy52aWV3RGF0ZVZhbHVlKVxuICAgIHRoaXMuc2VsZWN0ZWREYXRlID0gdGhpcy5zZWxlY3RlZERhdGVWYWx1ZSA/IG5ldyBEYXRlKHRoaXMuc2VsZWN0ZWREYXRlVmFsdWUpIDogbnVsbFxuICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoKVxuICB9XG5cbiAgcmVuZGVyQ2FsZW5kYXIoKSB7XG4gICAgdGhpcy50aXRsZVRhcmdldC50ZXh0Q29udGVudCA9IGZvcm1hdCh0aGlzLnZpZXdEYXRlLCBcIk1NTU0geXl5eVwiKVxuICAgIGNvbnN0IHN0YXJ0ID0gc3RhcnRPZldlZWsoc3RhcnRPZk1vbnRoKHRoaXMudmlld0RhdGUpKVxuICAgIGNvbnN0IGVuZCA9IGVuZE9mV2VlayhlbmRPZk1vbnRoKHRoaXMudmlld0RhdGUpKVxuICAgIGNvbnN0IGRheXMgPSBlYWNoRGF5T2ZJbnRlcnZhbCh7IHN0YXJ0LCBlbmQgfSlcblxuICAgIGNvbnN0IGNhbGVuZGFyQ29udGFpbmVyID0gdGhpcy5jYWxlbmRhclRhcmdldFxuICAgIC8vIENsZWFyIGV4aXN0aW5nIGRheSBlbGVtZW50cywgYnV0IGtlZXAgdGhlIHdlZWtkYXkgaGVhZGVyc1xuICAgIGNvbnN0IHdlZWtkYXlIZWFkZXJzID0gY2FsZW5kYXJDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnZGl2Om50aC1jaGlsZCgtbis3KScpXG4gICAgY2FsZW5kYXJDb250YWluZXIuaW5uZXJIVE1MID0gJydcbiAgICB3ZWVrZGF5SGVhZGVycy5mb3JFYWNoKGhlYWRlciA9PiBjYWxlbmRhckNvbnRhaW5lci5hcHBlbmRDaGlsZChoZWFkZXIpKVxuXG4gICAgZGF5cy5mb3JFYWNoKGRheSA9PiB7XG4gICAgICBjb25zdCBkYXlFbGVtZW50ID0gdGhpcy5jcmVhdGVEYXlFbGVtZW50KGRheSlcbiAgICAgIGNhbGVuZGFyQ29udGFpbmVyLmFwcGVuZENoaWxkKGRheUVsZW1lbnQpXG4gICAgfSlcblxuICAgIHRoaXMudXBkYXRlSW5wdXQoKVxuICB9XG5cbiAgY3JlYXRlRGF5RWxlbWVudChkYXkpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMuZGF5VGVtcGxhdGVUYXJnZXQuY29udGVudC5jbG9uZU5vZGUodHJ1ZSlcbiAgICBjb25zdCBidXR0b24gPSB0ZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uXCIpXG4gICAgXG4gICAgYnV0dG9uLnRleHRDb250ZW50ID0gZm9ybWF0KGRheSwgXCJkXCIpXG4gICAgYnV0dG9uLmRhdGFzZXQuZGF5ID0gZGF5LnRvSVNPU3RyaW5nKClcblxuICAgIGxldCBidXR0b25DbGFzcyA9IFwiaG92ZXI6YmctYWNjZW50IGhvdmVyOnRleHQtYWNjZW50LWZvcmVncm91bmRcIlxuICAgIFxuICAgIGlmICghaXNTYW1lTW9udGgoZGF5LCB0aGlzLnZpZXdEYXRlKSkge1xuICAgICAgYnV0dG9uQ2xhc3MgKz0gXCIgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCJcbiAgICB9IGVsc2UgaWYgKGlzVG9kYXkoZGF5KSkge1xuICAgICAgYnV0dG9uQ2xhc3MgKz0gXCIgYmctYWNjZW50IHRleHQtYWNjZW50LWZvcmVncm91bmRcIlxuICAgIH1cblxuICAgIGlmICh0aGlzLnNlbGVjdGVkRGF0ZSAmJiBpc1NhbWVEYXkoZGF5LCB0aGlzLnNlbGVjdGVkRGF0ZSkpIHtcbiAgICAgIGJ1dHRvbkNsYXNzICs9IFwiIGJnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmRcIlxuICAgIH1cblxuICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBidXR0b24uY2xhc3NOYW1lLnJlcGxhY2UoXCJ7e2J1dHRvbkNsYXNzfX1cIiwgYnV0dG9uQ2xhc3MpXG4gICAgXG4gICAgcmV0dXJuIHRlbXBsYXRlXG4gIH1cblxuICBwcmV2TW9udGgoKSB7XG4gICAgdGhpcy52aWV3RGF0ZSA9IGFkZE1vbnRocyh0aGlzLnZpZXdEYXRlLCAtMSlcbiAgICB0aGlzLnJlbmRlckNhbGVuZGFyKClcbiAgfVxuXG4gIG5leHRNb250aCgpIHtcbiAgICB0aGlzLnZpZXdEYXRlID0gYWRkTW9udGhzKHRoaXMudmlld0RhdGUsIDEpXG4gICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpXG4gIH1cblxuICBzZWxlY3REYXkoZXZlbnQpIHtcbiAgICBjb25zdCBzZWxlY3RlZERheSA9IG5ldyBEYXRlKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5kYXkpXG4gICAgdGhpcy5zZWxlY3RlZERhdGUgPSBzZWxlY3RlZERheVxuICAgIHRoaXMuc2VsZWN0ZWREYXRlVmFsdWUgPSBzZWxlY3RlZERheS50b0lTT1N0cmluZygpXG4gICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpXG4gIH1cblxuICB1cGRhdGVJbnB1dCgpIHtcbiAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlucHV0SWRWYWx1ZSlcbiAgICBpZiAoaW5wdXRFbGVtZW50ICYmIHRoaXMuc2VsZWN0ZWREYXRlKSB7XG4gICAgICBpbnB1dEVsZW1lbnQudmFsdWUgPSBmb3JtYXQodGhpcy5zZWxlY3RlZERhdGUsIHRoaXMuZm9ybWF0VmFsdWUpXG4gICAgfVxuICB9XG59IiwgIi8qKlxuICogQG5hbWUgdG9EYXRlXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBpdHMgY2xvbmUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyLCBpdCBpcyB0cmVhdGVkIGFzIGEgdGltZXN0YW1wLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBub25lIG9mIHRoZSBhYm92ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgSW52YWxpZCBEYXRlLlxuICpcbiAqICoqTm90ZSoqOiAqYWxsKiBEYXRlIGFyZ3VtZW50cyBwYXNzZWQgdG8gYW55ICpkYXRlLWZucyogZnVuY3Rpb24gaXMgcHJvY2Vzc2VkIGJ5IGB0b0RhdGVgLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBhcmd1bWVudCAtIFRoZSB2YWx1ZSB0byBjb252ZXJ0XG4gKlxuICogQHJldHVybnMgVGhlIHBhcnNlZCBkYXRlIGluIHRoZSBsb2NhbCB0aW1lIHpvbmVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ2xvbmUgdGhlIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSB0b0RhdGUobmV3IERhdGUoMjAxNCwgMSwgMTEsIDExLCAzMCwgMzApKVxuICogLy89PiBUdWUgRmViIDExIDIwMTQgMTE6MzA6MzBcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udmVydCB0aGUgdGltZXN0YW1wIHRvIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSB0b0RhdGUoMTM5MjA5ODQzMDAwMClcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0RhdGUoYXJndW1lbnQpIHtcbiAgY29uc3QgYXJnU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KTtcblxuICAvLyBDbG9uZSB0aGUgZGF0ZVxuICBpZiAoXG4gICAgYXJndW1lbnQgaW5zdGFuY2VvZiBEYXRlIHx8XG4gICAgKHR5cGVvZiBhcmd1bWVudCA9PT0gXCJvYmplY3RcIiAmJiBhcmdTdHIgPT09IFwiW29iamVjdCBEYXRlXVwiKVxuICApIHtcbiAgICAvLyBQcmV2ZW50IHRoZSBkYXRlIHRvIGxvc2UgdGhlIG1pbGxpc2Vjb25kcyB3aGVuIHBhc3NlZCB0byBuZXcgRGF0ZSgpIGluIElFMTBcbiAgICByZXR1cm4gbmV3IGFyZ3VtZW50LmNvbnN0cnVjdG9yKCthcmd1bWVudCk7XG4gIH0gZWxzZSBpZiAoXG4gICAgdHlwZW9mIGFyZ3VtZW50ID09PSBcIm51bWJlclwiIHx8XG4gICAgYXJnU3RyID09PSBcIltvYmplY3QgTnVtYmVyXVwiIHx8XG4gICAgdHlwZW9mIGFyZ3VtZW50ID09PSBcInN0cmluZ1wiIHx8XG4gICAgYXJnU3RyID09PSBcIltvYmplY3QgU3RyaW5nXVwiXG4gICkge1xuICAgIC8vIFRPRE86IENhbiB3ZSBnZXQgcmlkIG9mIGFzP1xuICAgIHJldHVybiBuZXcgRGF0ZShhcmd1bWVudCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVE9ETzogQ2FuIHdlIGdldCByaWQgb2YgYXM/XG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIH1cbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCB0b0RhdGU7XG4iLCAiLyoqXG4gKiBAbmFtZSBjb25zdHJ1Y3RGcm9tXG4gKiBAY2F0ZWdvcnkgR2VuZXJpYyBIZWxwZXJzXG4gKiBAc3VtbWFyeSBDb25zdHJ1Y3RzIGEgZGF0ZSB1c2luZyB0aGUgcmVmZXJlbmNlIGRhdGUgYW5kIHRoZSB2YWx1ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGZ1bmN0aW9uIGNvbnN0cnVjdHMgYSBuZXcgZGF0ZSB1c2luZyB0aGUgY29uc3RydWN0b3IgZnJvbSB0aGUgcmVmZXJlbmNlXG4gKiBkYXRlIGFuZCB0aGUgZ2l2ZW4gdmFsdWUuIEl0IGhlbHBzIHRvIGJ1aWxkIGdlbmVyaWMgZnVuY3Rpb25zIHRoYXQgYWNjZXB0XG4gKiBkYXRlIGV4dGVuc2lvbnMuXG4gKlxuICogSXQgZGVmYXVsdHMgdG8gYERhdGVgIGlmIHRoZSBwYXNzZWQgcmVmZXJlbmNlIGRhdGUgaXMgYSBudW1iZXIgb3IgYSBzdHJpbmcuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgcmVmZXJlbmNlIGRhdGUgdG8gdGFrZSBjb25zdHJ1Y3RvciBmcm9tXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY3JlYXRlIHRoZSBkYXRlXG4gKlxuICogQHJldHVybnMgRGF0ZSBpbml0aWFsaXplZCB1c2luZyB0aGUgZ2l2ZW4gZGF0ZSBhbmQgdmFsdWVcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgY29uc3RydWN0RnJvbSB9IGZyb20gJ2RhdGUtZm5zJ1xuICpcbiAqIC8vIEEgZnVuY3Rpb24gdGhhdCBjbG9uZXMgYSBkYXRlIHByZXNlcnZpbmcgdGhlIG9yaWdpbmFsIHR5cGVcbiAqIGZ1bmN0aW9uIGNsb25lRGF0ZTxEYXRlVHlwZSBleHRlbmRzIERhdGUoZGF0ZTogRGF0ZVR5cGUpOiBEYXRlVHlwZSB7XG4gKiAgIHJldHVybiBjb25zdHJ1Y3RGcm9tKFxuICogICAgIGRhdGUsIC8vIFVzZSBjb250cnVzdG9yIGZyb20gdGhlIGdpdmVuIGRhdGVcbiAqICAgICBkYXRlLmdldFRpbWUoKSAvLyBVc2UgdGhlIGRhdGUgdmFsdWUgdG8gY3JlYXRlIGEgbmV3IGRhdGVcbiAqICAgKVxuICogfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uc3RydWN0RnJvbShkYXRlLCB2YWx1ZSkge1xuICBpZiAoZGF0ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICByZXR1cm4gbmV3IGRhdGUuY29uc3RydWN0b3IodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSk7XG4gIH1cbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBjb25zdHJ1Y3RGcm9tO1xuIiwgImltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcbmltcG9ydCB7IGNvbnN0cnVjdEZyb20gfSBmcm9tIFwiLi9jb25zdHJ1Y3RGcm9tLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGFkZE1vbnRoc1xuICogQGNhdGVnb3J5IE1vbnRoIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEFkZCB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBtb250aHMgdG8gdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBZGQgdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgbW9udGhzIHRvIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIGRhdGUgdG8gYmUgY2hhbmdlZFxuICogQHBhcmFtIGFtb3VudCAtIFRoZSBhbW91bnQgb2YgbW9udGhzIHRvIGJlIGFkZGVkLlxuICpcbiAqIEByZXR1cm5zIFRoZSBuZXcgZGF0ZSB3aXRoIHRoZSBtb250aHMgYWRkZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQWRkIDUgbW9udGhzIHRvIDEgU2VwdGVtYmVyIDIwMTQ6XG4gKiBjb25zdCByZXN1bHQgPSBhZGRNb250aHMobmV3IERhdGUoMjAxNCwgOCwgMSksIDUpXG4gKiAvLz0+IFN1biBGZWIgMDEgMjAxNSAwMDowMDowMFxuICpcbiAqIC8vIEFkZCBvbmUgbW9udGggdG8gMzAgSmFudWFyeSAyMDIzOlxuICogY29uc3QgcmVzdWx0ID0gYWRkTW9udGhzKG5ldyBEYXRlKDIwMjMsIDAsIDMwKSwgMSlcbiAqIC8vPT4gVHVlIEZlYiAyOCAyMDIzIDAwOjAwOjAwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRNb250aHMoZGF0ZSwgYW1vdW50KSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICBpZiAoaXNOYU4oYW1vdW50KSkgcmV0dXJuIGNvbnN0cnVjdEZyb20oZGF0ZSwgTmFOKTtcbiAgaWYgKCFhbW91bnQpIHtcbiAgICAvLyBJZiAwIG1vbnRocywgbm8tb3AgdG8gYXZvaWQgY2hhbmdpbmcgdGltZXMgaW4gdGhlIGhvdXIgYmVmb3JlIGVuZCBvZiBEU1RcbiAgICByZXR1cm4gX2RhdGU7XG4gIH1cbiAgY29uc3QgZGF5T2ZNb250aCA9IF9kYXRlLmdldERhdGUoKTtcblxuICAvLyBUaGUgSlMgRGF0ZSBvYmplY3Qgc3VwcG9ydHMgZGF0ZSBtYXRoIGJ5IGFjY2VwdGluZyBvdXQtb2YtYm91bmRzIHZhbHVlcyBmb3JcbiAgLy8gbW9udGgsIGRheSwgZXRjLiBGb3IgZXhhbXBsZSwgbmV3IERhdGUoMjAyMCwgMCwgMCkgcmV0dXJucyAzMSBEZWMgMjAxOSBhbmRcbiAgLy8gbmV3IERhdGUoMjAyMCwgMTMsIDEpIHJldHVybnMgMSBGZWIgMjAyMS4gIFRoaXMgaXMgKmFsbW9zdCogdGhlIGJlaGF2aW9yIHdlXG4gIC8vIHdhbnQgZXhjZXB0IHRoYXQgZGF0ZXMgd2lsbCB3cmFwIGFyb3VuZCB0aGUgZW5kIG9mIGEgbW9udGgsIG1lYW5pbmcgdGhhdFxuICAvLyBuZXcgRGF0ZSgyMDIwLCAxMywgMzEpIHdpbGwgcmV0dXJuIDMgTWFyIDIwMjEgbm90IDI4IEZlYiAyMDIxIGFzIGRlc2lyZWQuIFNvXG4gIC8vIHdlJ2xsIGRlZmF1bHQgdG8gdGhlIGVuZCBvZiB0aGUgZGVzaXJlZCBtb250aCBieSBhZGRpbmcgMSB0byB0aGUgZGVzaXJlZFxuICAvLyBtb250aCBhbmQgdXNpbmcgYSBkYXRlIG9mIDAgdG8gYmFjayB1cCBvbmUgZGF5IHRvIHRoZSBlbmQgb2YgdGhlIGRlc2lyZWRcbiAgLy8gbW9udGguXG4gIGNvbnN0IGVuZE9mRGVzaXJlZE1vbnRoID0gY29uc3RydWN0RnJvbShkYXRlLCBfZGF0ZS5nZXRUaW1lKCkpO1xuICBlbmRPZkRlc2lyZWRNb250aC5zZXRNb250aChfZGF0ZS5nZXRNb250aCgpICsgYW1vdW50ICsgMSwgMCk7XG4gIGNvbnN0IGRheXNJbk1vbnRoID0gZW5kT2ZEZXNpcmVkTW9udGguZ2V0RGF0ZSgpO1xuICBpZiAoZGF5T2ZNb250aCA+PSBkYXlzSW5Nb250aCkge1xuICAgIC8vIElmIHdlJ3JlIGFscmVhZHkgYXQgdGhlIGVuZCBvZiB0aGUgbW9udGgsIHRoZW4gdGhpcyBpcyB0aGUgY29ycmVjdCBkYXRlXG4gICAgLy8gYW5kIHdlJ3JlIGRvbmUuXG4gICAgcmV0dXJuIGVuZE9mRGVzaXJlZE1vbnRoO1xuICB9IGVsc2Uge1xuICAgIC8vIE90aGVyd2lzZSwgd2Ugbm93IGtub3cgdGhhdCBzZXR0aW5nIHRoZSBvcmlnaW5hbCBkYXktb2YtbW9udGggdmFsdWUgd29uJ3RcbiAgICAvLyBjYXVzZSBhbiBvdmVyZmxvdywgc28gc2V0IHRoZSBkZXNpcmVkIGRheS1vZi1tb250aC4gTm90ZSB0aGF0IHdlIGNhbid0XG4gICAgLy8ganVzdCBzZXQgdGhlIGRhdGUgb2YgYGVuZE9mRGVzaXJlZE1vbnRoYCBiZWNhdXNlIHRoYXQgb2JqZWN0IG1heSBoYXZlIGhhZFxuICAgIC8vIGl0cyB0aW1lIGNoYW5nZWQgaW4gdGhlIHVudXN1YWwgY2FzZSB3aGVyZSB3aGVyZSBhIERTVCB0cmFuc2l0aW9uIHdhcyBvblxuICAgIC8vIHRoZSBsYXN0IGRheSBvZiB0aGUgbW9udGggYW5kIGl0cyBsb2NhbCB0aW1lIHdhcyBpbiB0aGUgaG91ciBza2lwcGVkIG9yXG4gICAgLy8gcmVwZWF0ZWQgbmV4dCB0byBhIERTVCB0cmFuc2l0aW9uLiAgU28gd2UgdXNlIGBkYXRlYCBpbnN0ZWFkIHdoaWNoIGlzXG4gICAgLy8gZ3VhcmFudGVlZCB0byBzdGlsbCBoYXZlIHRoZSBvcmlnaW5hbCB0aW1lLlxuICAgIF9kYXRlLnNldEZ1bGxZZWFyKFxuICAgICAgZW5kT2ZEZXNpcmVkTW9udGguZ2V0RnVsbFllYXIoKSxcbiAgICAgIGVuZE9mRGVzaXJlZE1vbnRoLmdldE1vbnRoKCksXG4gICAgICBkYXlPZk1vbnRoLFxuICAgICk7XG4gICAgcmV0dXJuIF9kYXRlO1xuICB9XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgYWRkTW9udGhzO1xuIiwgIi8qKlxuICogQG1vZHVsZSBjb25zdGFudHNcbiAqIEBzdW1tYXJ5IFVzZWZ1bCBjb25zdGFudHNcbiAqIEBkZXNjcmlwdGlvblxuICogQ29sbGVjdGlvbiBvZiB1c2VmdWwgZGF0ZSBjb25zdGFudHMuXG4gKlxuICogVGhlIGNvbnN0YW50cyBjb3VsZCBiZSBpbXBvcnRlZCBmcm9tIGBkYXRlLWZucy9jb25zdGFudHNgOlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBtYXhUaW1lLCBtaW5UaW1lIH0gZnJvbSBcIi4vY29uc3RhbnRzL2RhdGUtZm5zL2NvbnN0YW50c1wiO1xuICpcbiAqIGZ1bmN0aW9uIGlzQWxsb3dlZFRpbWUodGltZSkge1xuICogICByZXR1cm4gdGltZSA8PSBtYXhUaW1lICYmIHRpbWUgPj0gbWluVGltZTtcbiAqIH1cbiAqIGBgYFxuICovXG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBkYXlzSW5XZWVrXG4gKiBAc3VtbWFyeSBEYXlzIGluIDEgd2Vlay5cbiAqL1xuZXhwb3J0IGNvbnN0IGRheXNJbldlZWsgPSA3O1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgZGF5c0luWWVhclxuICogQHN1bW1hcnkgRGF5cyBpbiAxIHllYXIuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIb3cgbWFueSBkYXlzIGluIGEgeWVhci5cbiAqXG4gKiBPbmUgeWVhcnMgZXF1YWxzIDM2NS4yNDI1IGRheXMgYWNjb3JkaW5nIHRvIHRoZSBmb3JtdWxhOlxuICpcbiAqID4gTGVhcCB5ZWFyIG9jY3VyZXMgZXZlcnkgNCB5ZWFycywgZXhjZXB0IGZvciB5ZWFycyB0aGF0IGFyZSBkaXZpc2FibGUgYnkgMTAwIGFuZCBub3QgZGl2aXNhYmxlIGJ5IDQwMC5cbiAqID4gMSBtZWFuIHllYXIgPSAoMzY1KzEvNC0xLzEwMCsxLzQwMCkgZGF5cyA9IDM2NS4yNDI1IGRheXNcbiAqL1xuZXhwb3J0IGNvbnN0IGRheXNJblllYXIgPSAzNjUuMjQyNTtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIG1heFRpbWVcbiAqIEBzdW1tYXJ5IE1heGltdW0gYWxsb3dlZCB0aW1lLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBtYXhUaW1lIH0gZnJvbSBcIi4vY29uc3RhbnRzL2RhdGUtZm5zL2NvbnN0YW50c1wiO1xuICpcbiAqIGNvbnN0IGlzVmFsaWQgPSA4NjQwMDAwMDAwMDAwMDAxIDw9IG1heFRpbWU7XG4gKiAvLz0+IGZhbHNlXG4gKlxuICogbmV3IERhdGUoODY0MDAwMDAwMDAwMDAwMSk7XG4gKiAvLz0+IEludmFsaWQgRGF0ZVxuICovXG5leHBvcnQgY29uc3QgbWF4VGltZSA9IE1hdGgucG93KDEwLCA4KSAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtaW5UaW1lXG4gKiBAc3VtbWFyeSBNaW5pbXVtIGFsbG93ZWQgdGltZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgbWluVGltZSB9IGZyb20gXCIuL2NvbnN0YW50cy9kYXRlLWZucy9jb25zdGFudHNcIjtcbiAqXG4gKiBjb25zdCBpc1ZhbGlkID0gLTg2NDAwMDAwMDAwMDAwMDEgPj0gbWluVGltZTtcbiAqIC8vPT4gZmFsc2VcbiAqXG4gKiBuZXcgRGF0ZSgtODY0MDAwMDAwMDAwMDAwMSlcbiAqIC8vPT4gSW52YWxpZCBEYXRlXG4gKi9cbmV4cG9ydCBjb25zdCBtaW5UaW1lID0gLW1heFRpbWU7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtaWxsaXNlY29uZHNJbldlZWtcbiAqIEBzdW1tYXJ5IE1pbGxpc2Vjb25kcyBpbiAxIHdlZWsuXG4gKi9cbmV4cG9ydCBjb25zdCBtaWxsaXNlY29uZHNJbldlZWsgPSA2MDQ4MDAwMDA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtaWxsaXNlY29uZHNJbkRheVxuICogQHN1bW1hcnkgTWlsbGlzZWNvbmRzIGluIDEgZGF5LlxuICovXG5leHBvcnQgY29uc3QgbWlsbGlzZWNvbmRzSW5EYXkgPSA4NjQwMDAwMDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIG1pbGxpc2Vjb25kc0luTWludXRlXG4gKiBAc3VtbWFyeSBNaWxsaXNlY29uZHMgaW4gMSBtaW51dGVcbiAqL1xuZXhwb3J0IGNvbnN0IG1pbGxpc2Vjb25kc0luTWludXRlID0gNjAwMDA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtaWxsaXNlY29uZHNJbkhvdXJcbiAqIEBzdW1tYXJ5IE1pbGxpc2Vjb25kcyBpbiAxIGhvdXJcbiAqL1xuZXhwb3J0IGNvbnN0IG1pbGxpc2Vjb25kc0luSG91ciA9IDM2MDAwMDA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtaWxsaXNlY29uZHNJblNlY29uZFxuICogQHN1bW1hcnkgTWlsbGlzZWNvbmRzIGluIDEgc2Vjb25kXG4gKi9cbmV4cG9ydCBjb25zdCBtaWxsaXNlY29uZHNJblNlY29uZCA9IDEwMDA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtaW51dGVzSW5ZZWFyXG4gKiBAc3VtbWFyeSBNaW51dGVzIGluIDEgeWVhci5cbiAqL1xuZXhwb3J0IGNvbnN0IG1pbnV0ZXNJblllYXIgPSA1MjU2MDA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtaW51dGVzSW5Nb250aFxuICogQHN1bW1hcnkgTWludXRlcyBpbiAxIG1vbnRoLlxuICovXG5leHBvcnQgY29uc3QgbWludXRlc0luTW9udGggPSA0MzIwMDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIG1pbnV0ZXNJbkRheVxuICogQHN1bW1hcnkgTWludXRlcyBpbiAxIGRheS5cbiAqL1xuZXhwb3J0IGNvbnN0IG1pbnV0ZXNJbkRheSA9IDE0NDA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtaW51dGVzSW5Ib3VyXG4gKiBAc3VtbWFyeSBNaW51dGVzIGluIDEgaG91ci5cbiAqL1xuZXhwb3J0IGNvbnN0IG1pbnV0ZXNJbkhvdXIgPSA2MDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIG1vbnRoc0luUXVhcnRlclxuICogQHN1bW1hcnkgTW9udGhzIGluIDEgcXVhcnRlci5cbiAqL1xuZXhwb3J0IGNvbnN0IG1vbnRoc0luUXVhcnRlciA9IDM7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtb250aHNJblllYXJcbiAqIEBzdW1tYXJ5IE1vbnRocyBpbiAxIHllYXIuXG4gKi9cbmV4cG9ydCBjb25zdCBtb250aHNJblllYXIgPSAxMjtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIHF1YXJ0ZXJzSW5ZZWFyXG4gKiBAc3VtbWFyeSBRdWFydGVycyBpbiAxIHllYXJcbiAqL1xuZXhwb3J0IGNvbnN0IHF1YXJ0ZXJzSW5ZZWFyID0gNDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIHNlY29uZHNJbkhvdXJcbiAqIEBzdW1tYXJ5IFNlY29uZHMgaW4gMSBob3VyLlxuICovXG5leHBvcnQgY29uc3Qgc2Vjb25kc0luSG91ciA9IDM2MDA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBzZWNvbmRzSW5NaW51dGVcbiAqIEBzdW1tYXJ5IFNlY29uZHMgaW4gMSBtaW51dGUuXG4gKi9cbmV4cG9ydCBjb25zdCBzZWNvbmRzSW5NaW51dGUgPSA2MDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIHNlY29uZHNJbkRheVxuICogQHN1bW1hcnkgU2Vjb25kcyBpbiAxIGRheS5cbiAqL1xuZXhwb3J0IGNvbnN0IHNlY29uZHNJbkRheSA9IHNlY29uZHNJbkhvdXIgKiAyNDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIHNlY29uZHNJbldlZWtcbiAqIEBzdW1tYXJ5IFNlY29uZHMgaW4gMSB3ZWVrLlxuICovXG5leHBvcnQgY29uc3Qgc2Vjb25kc0luV2VlayA9IHNlY29uZHNJbkRheSAqIDc7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBzZWNvbmRzSW5ZZWFyXG4gKiBAc3VtbWFyeSBTZWNvbmRzIGluIDEgeWVhci5cbiAqL1xuZXhwb3J0IGNvbnN0IHNlY29uZHNJblllYXIgPSBzZWNvbmRzSW5EYXkgKiBkYXlzSW5ZZWFyO1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgc2Vjb25kc0luTW9udGhcbiAqIEBzdW1tYXJ5IFNlY29uZHMgaW4gMSBtb250aFxuICovXG5leHBvcnQgY29uc3Qgc2Vjb25kc0luTW9udGggPSBzZWNvbmRzSW5ZZWFyIC8gMTI7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBzZWNvbmRzSW5RdWFydGVyXG4gKiBAc3VtbWFyeSBTZWNvbmRzIGluIDEgcXVhcnRlci5cbiAqL1xuZXhwb3J0IGNvbnN0IHNlY29uZHNJblF1YXJ0ZXIgPSBzZWNvbmRzSW5Nb250aCAqIDM7XG4iLCAibGV0IGRlZmF1bHRPcHRpb25zID0ge307XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0T3B0aW9ucygpIHtcbiAgcmV0dXJuIGRlZmF1bHRPcHRpb25zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0RGVmYXVsdE9wdGlvbnMobmV3T3B0aW9ucykge1xuICBkZWZhdWx0T3B0aW9ucyA9IG5ld09wdGlvbnM7XG59XG4iLCAiaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tIFwiLi9fbGliL2RlZmF1bHRPcHRpb25zLm1qc1wiO1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgc3RhcnRPZldlZWt9IGZ1bmN0aW9uIG9wdGlvbnMuXG4gKi9cblxuLyoqXG4gKiBAbmFtZSBzdGFydE9mV2Vla1xuICogQGNhdGVnb3J5IFdlZWsgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBzdGFydCBvZiBhIHdlZWsgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhIHdlZWsgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBvcmlnaW5hbCBkYXRlXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9iamVjdCB3aXRoIG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJucyBUaGUgc3RhcnQgb2YgYSB3ZWVrXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhIHdlZWsgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApKVxuICogLy89PiBTdW4gQXVnIDMxIDIwMTQgMDA6MDA6MDBcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgdGhlIHdlZWsgc3RhcnRzIG9uIE1vbmRheSwgdGhlIHN0YXJ0IG9mIHRoZSB3ZWVrIGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZldlZWsobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSwgeyB3ZWVrU3RhcnRzT246IDEgfSlcbiAqIC8vPT4gTW9uIFNlcCAwMSAyMDE0IDAwOjAwOjAwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydE9mV2VlayhkYXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zID0gZ2V0RGVmYXVsdE9wdGlvbnMoKTtcbiAgY29uc3Qgd2Vla1N0YXJ0c09uID1cbiAgICBvcHRpb25zPy53ZWVrU3RhcnRzT24gPz9cbiAgICBvcHRpb25zPy5sb2NhbGU/Lm9wdGlvbnM/LndlZWtTdGFydHNPbiA/P1xuICAgIGRlZmF1bHRPcHRpb25zLndlZWtTdGFydHNPbiA/P1xuICAgIGRlZmF1bHRPcHRpb25zLmxvY2FsZT8ub3B0aW9ucz8ud2Vla1N0YXJ0c09uID8/XG4gICAgMDtcblxuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgY29uc3QgZGF5ID0gX2RhdGUuZ2V0RGF5KCk7XG4gIGNvbnN0IGRpZmYgPSAoZGF5IDwgd2Vla1N0YXJ0c09uID8gNyA6IDApICsgZGF5IC0gd2Vla1N0YXJ0c09uO1xuXG4gIF9kYXRlLnNldERhdGUoX2RhdGUuZ2V0RGF0ZSgpIC0gZGlmZik7XG4gIF9kYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gX2RhdGU7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgc3RhcnRPZldlZWs7XG4iLCAiaW1wb3J0IHsgc3RhcnRPZldlZWsgfSBmcm9tIFwiLi9zdGFydE9mV2Vlay5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBzdGFydE9mSVNPV2Vla1xuICogQGNhdGVnb3J5IElTTyBXZWVrIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgc3RhcnQgb2YgYW4gSVNPIHdlZWsgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhbiBJU08gd2VlayBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyOiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGVcbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBvcmlnaW5hbCBkYXRlXG4gKlxuICogQHJldHVybnMgVGhlIHN0YXJ0IG9mIGFuIElTTyB3ZWVrXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhbiBJU08gd2VlayBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZJU09XZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IE1vbiBTZXAgMDEgMjAxNCAwMDowMDowMFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZklTT1dlZWsoZGF0ZSkge1xuICByZXR1cm4gc3RhcnRPZldlZWsoZGF0ZSwgeyB3ZWVrU3RhcnRzT246IDEgfSk7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgc3RhcnRPZklTT1dlZWs7XG4iLCAiaW1wb3J0IHsgY29uc3RydWN0RnJvbSB9IGZyb20gXCIuL2NvbnN0cnVjdEZyb20ubWpzXCI7XG5pbXBvcnQgeyBzdGFydE9mSVNPV2VlayB9IGZyb20gXCIuL3N0YXJ0T2ZJU09XZWVrLm1qc1wiO1xuaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGdldElTT1dlZWtZZWFyXG4gKiBAY2F0ZWdvcnkgSVNPIFdlZWstTnVtYmVyaW5nIFllYXIgSGVscGVyc1xuICogQHN1bW1hcnkgR2V0IHRoZSBJU08gd2Vlay1udW1iZXJpbmcgeWVhciBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdldCB0aGUgSVNPIHdlZWstbnVtYmVyaW5nIHllYXIgb2YgdGhlIGdpdmVuIGRhdGUsXG4gKiB3aGljaCBhbHdheXMgc3RhcnRzIDMgZGF5cyBiZWZvcmUgdGhlIHllYXIncyBmaXJzdCBUaHVyc2RheS5cbiAqXG4gKiBJU08gd2Vlay1udW1iZXJpbmcgeWVhcjogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgZ2l2ZW4gZGF0ZVxuICpcbiAqIEByZXR1cm5zIFRoZSBJU08gd2Vlay1udW1iZXJpbmcgeWVhclxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBXaGljaCBJU08td2VlayBudW1iZXJpbmcgeWVhciBpcyAyIEphbnVhcnkgMjAwNT9cbiAqIGNvbnN0IHJlc3VsdCA9IGdldElTT1dlZWtZZWFyKG5ldyBEYXRlKDIwMDUsIDAsIDIpKVxuICogLy89PiAyMDA0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJU09XZWVrWWVhcihkYXRlKSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICBjb25zdCB5ZWFyID0gX2RhdGUuZ2V0RnVsbFllYXIoKTtcblxuICBjb25zdCBmb3VydGhPZkphbnVhcnlPZk5leHRZZWFyID0gY29uc3RydWN0RnJvbShkYXRlLCAwKTtcbiAgZm91cnRoT2ZKYW51YXJ5T2ZOZXh0WWVhci5zZXRGdWxsWWVhcih5ZWFyICsgMSwgMCwgNCk7XG4gIGZvdXJ0aE9mSmFudWFyeU9mTmV4dFllYXIuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIGNvbnN0IHN0YXJ0T2ZOZXh0WWVhciA9IHN0YXJ0T2ZJU09XZWVrKGZvdXJ0aE9mSmFudWFyeU9mTmV4dFllYXIpO1xuXG4gIGNvbnN0IGZvdXJ0aE9mSmFudWFyeU9mVGhpc1llYXIgPSBjb25zdHJ1Y3RGcm9tKGRhdGUsIDApO1xuICBmb3VydGhPZkphbnVhcnlPZlRoaXNZZWFyLnNldEZ1bGxZZWFyKHllYXIsIDAsIDQpO1xuICBmb3VydGhPZkphbnVhcnlPZlRoaXNZZWFyLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICBjb25zdCBzdGFydE9mVGhpc1llYXIgPSBzdGFydE9mSVNPV2Vlayhmb3VydGhPZkphbnVhcnlPZlRoaXNZZWFyKTtcblxuICBpZiAoX2RhdGUuZ2V0VGltZSgpID49IHN0YXJ0T2ZOZXh0WWVhci5nZXRUaW1lKCkpIHtcbiAgICByZXR1cm4geWVhciArIDE7XG4gIH0gZWxzZSBpZiAoX2RhdGUuZ2V0VGltZSgpID49IHN0YXJ0T2ZUaGlzWWVhci5nZXRUaW1lKCkpIHtcbiAgICByZXR1cm4geWVhcjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geWVhciAtIDE7XG4gIH1cbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBnZXRJU09XZWVrWWVhcjtcbiIsICJpbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgc3RhcnRPZkRheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgZGF5IGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSBkYXkgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBvcmlnaW5hbCBkYXRlXG4gKlxuICogQHJldHVybnMgVGhlIHN0YXJ0IG9mIGEgZGF5XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhIGRheSBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZEYXkobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSlcbiAqIC8vPT4gVHVlIFNlcCAwMiAyMDE0IDAwOjAwOjAwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydE9mRGF5KGRhdGUpIHtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIF9kYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gX2RhdGU7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgc3RhcnRPZkRheTtcbiIsICJpbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi4vdG9EYXRlLm1qc1wiO1xuXG4vKipcbiAqIEdvb2dsZSBDaHJvbWUgYXMgb2YgNjcuMC4zMzk2Ljg3IGludHJvZHVjZWQgdGltZXpvbmVzIHdpdGggb2Zmc2V0IHRoYXQgaW5jbHVkZXMgc2Vjb25kcy5cbiAqIFRoZXkgdXN1YWxseSBhcHBlYXIgZm9yIGRhdGVzIHRoYXQgZGVub3RlIHRpbWUgYmVmb3JlIHRoZSB0aW1lem9uZXMgd2VyZSBpbnRyb2R1Y2VkXG4gKiAoZS5nLiBmb3IgJ0V1cm9wZS9QcmFndWUnIHRpbWV6b25lIHRoZSBvZmZzZXQgaXMgR01UKzAwOjU3OjQ0IGJlZm9yZSAxIE9jdG9iZXIgMTg5MVxuICogYW5kIEdNVCswMTowMDowMCBhZnRlciB0aGF0IGRhdGUpXG4gKlxuICogRGF0ZSNnZXRUaW1lem9uZU9mZnNldCByZXR1cm5zIHRoZSBvZmZzZXQgaW4gbWludXRlcyBhbmQgd291bGQgcmV0dXJuIDU3IGZvciB0aGUgZXhhbXBsZSBhYm92ZSxcbiAqIHdoaWNoIHdvdWxkIGxlYWQgdG8gaW5jb3JyZWN0IGNhbGN1bGF0aW9ucy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHRpbWV6b25lIG9mZnNldCBpbiBtaWxsaXNlY29uZHMgdGhhdCB0YWtlcyBzZWNvbmRzIGluIGFjY291bnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzKGRhdGUpIHtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIGNvbnN0IHV0Y0RhdGUgPSBuZXcgRGF0ZShcbiAgICBEYXRlLlVUQyhcbiAgICAgIF9kYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICBfZGF0ZS5nZXRNb250aCgpLFxuICAgICAgX2RhdGUuZ2V0RGF0ZSgpLFxuICAgICAgX2RhdGUuZ2V0SG91cnMoKSxcbiAgICAgIF9kYXRlLmdldE1pbnV0ZXMoKSxcbiAgICAgIF9kYXRlLmdldFNlY29uZHMoKSxcbiAgICAgIF9kYXRlLmdldE1pbGxpc2Vjb25kcygpLFxuICAgICksXG4gICk7XG4gIHV0Y0RhdGUuc2V0VVRDRnVsbFllYXIoX2RhdGUuZ2V0RnVsbFllYXIoKSk7XG4gIHJldHVybiArZGF0ZSAtICt1dGNEYXRlO1xufVxuIiwgImltcG9ydCB7IG1pbGxpc2Vjb25kc0luRGF5IH0gZnJvbSBcIi4vY29uc3RhbnRzLm1qc1wiO1xuaW1wb3J0IHsgc3RhcnRPZkRheSB9IGZyb20gXCIuL3N0YXJ0T2ZEYXkubWpzXCI7XG5pbXBvcnQgeyBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzIH0gZnJvbSBcIi4vX2xpYi9nZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5c1xuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBHZXQgdGhlIG51bWJlciBvZiBjYWxlbmRhciBkYXlzIGJldHdlZW4gdGhlIGdpdmVuIGRhdGVzLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogR2V0IHRoZSBudW1iZXIgb2YgY2FsZW5kYXIgZGF5cyBiZXR3ZWVuIHRoZSBnaXZlbiBkYXRlcy4gVGhpcyBtZWFucyB0aGF0IHRoZSB0aW1lcyBhcmUgcmVtb3ZlZFxuICogZnJvbSB0aGUgZGF0ZXMgYW5kIHRoZW4gdGhlIGRpZmZlcmVuY2UgaW4gZGF5cyBpcyBjYWxjdWxhdGVkLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlTGVmdCAtIFRoZSBsYXRlciBkYXRlXG4gKiBAcGFyYW0gZGF0ZVJpZ2h0IC0gVGhlIGVhcmxpZXIgZGF0ZVxuICpcbiAqIEByZXR1cm5zIFRoZSBudW1iZXIgb2YgY2FsZW5kYXIgZGF5c1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBIb3cgbWFueSBjYWxlbmRhciBkYXlzIGFyZSBiZXR3ZWVuXG4gKiAvLyAyIEp1bHkgMjAxMSAyMzowMDowMCBhbmQgMiBKdWx5IDIwMTIgMDA6MDA6MDA/XG4gKiBjb25zdCByZXN1bHQgPSBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMoXG4gKiAgIG5ldyBEYXRlKDIwMTIsIDYsIDIsIDAsIDApLFxuICogICBuZXcgRGF0ZSgyMDExLCA2LCAyLCAyMywgMClcbiAqIClcbiAqIC8vPT4gMzY2XG4gKiAvLyBIb3cgbWFueSBjYWxlbmRhciBkYXlzIGFyZSBiZXR3ZWVuXG4gKiAvLyAyIEp1bHkgMjAxMSAyMzo1OTowMCBhbmQgMyBKdWx5IDIwMTEgMDA6MDE6MDA/XG4gKiBjb25zdCByZXN1bHQgPSBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMoXG4gKiAgIG5ldyBEYXRlKDIwMTEsIDYsIDMsIDAsIDEpLFxuICogICBuZXcgRGF0ZSgyMDExLCA2LCAyLCAyMywgNTkpXG4gKiApXG4gKiAvLz0+IDFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyhkYXRlTGVmdCwgZGF0ZVJpZ2h0KSB7XG4gIGNvbnN0IHN0YXJ0T2ZEYXlMZWZ0ID0gc3RhcnRPZkRheShkYXRlTGVmdCk7XG4gIGNvbnN0IHN0YXJ0T2ZEYXlSaWdodCA9IHN0YXJ0T2ZEYXkoZGF0ZVJpZ2h0KTtcblxuICBjb25zdCB0aW1lc3RhbXBMZWZ0ID1cbiAgICArc3RhcnRPZkRheUxlZnQgLSBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzKHN0YXJ0T2ZEYXlMZWZ0KTtcbiAgY29uc3QgdGltZXN0YW1wUmlnaHQgPVxuICAgICtzdGFydE9mRGF5UmlnaHQgLSBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzKHN0YXJ0T2ZEYXlSaWdodCk7XG5cbiAgLy8gUm91bmQgdGhlIG51bWJlciBvZiBkYXlzIHRvIHRoZSBuZWFyZXN0IGludGVnZXIgYmVjYXVzZSB0aGUgbnVtYmVyIG9mXG4gIC8vIG1pbGxpc2Vjb25kcyBpbiBhIGRheSBpcyBub3QgY29uc3RhbnQgKGUuZy4gaXQncyBkaWZmZXJlbnQgaW4gdGhlIHdlZWsgb2ZcbiAgLy8gdGhlIGRheWxpZ2h0IHNhdmluZyB0aW1lIGNsb2NrIHNoaWZ0KS5cbiAgcmV0dXJuIE1hdGgucm91bmQoKHRpbWVzdGFtcExlZnQgLSB0aW1lc3RhbXBSaWdodCkgLyBtaWxsaXNlY29uZHNJbkRheSk7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzO1xuIiwgImltcG9ydCB7IGdldElTT1dlZWtZZWFyIH0gZnJvbSBcIi4vZ2V0SVNPV2Vla1llYXIubWpzXCI7XG5pbXBvcnQgeyBzdGFydE9mSVNPV2VlayB9IGZyb20gXCIuL3N0YXJ0T2ZJU09XZWVrLm1qc1wiO1xuaW1wb3J0IHsgY29uc3RydWN0RnJvbSB9IGZyb20gXCIuL2NvbnN0cnVjdEZyb20ubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgc3RhcnRPZklTT1dlZWtZZWFyXG4gKiBAY2F0ZWdvcnkgSVNPIFdlZWstTnVtYmVyaW5nIFllYXIgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBzdGFydCBvZiBhbiBJU08gd2Vlay1udW1iZXJpbmcgeWVhciBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIHN0YXJ0IG9mIGFuIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyLFxuICogd2hpY2ggYWx3YXlzIHN0YXJ0cyAzIGRheXMgYmVmb3JlIHRoZSB5ZWFyJ3MgZmlyc3QgVGh1cnNkYXkuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyOiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGVcbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBvcmlnaW5hbCBkYXRlXG4gKlxuICogQHJldHVybnMgVGhlIHN0YXJ0IG9mIGFuIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhbiBJU08gd2Vlay1udW1iZXJpbmcgeWVhciBmb3IgMiBKdWx5IDIwMDU6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mSVNPV2Vla1llYXIobmV3IERhdGUoMjAwNSwgNiwgMikpXG4gKiAvLz0+IE1vbiBKYW4gMDMgMjAwNSAwMDowMDowMFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZklTT1dlZWtZZWFyKGRhdGUpIHtcbiAgY29uc3QgeWVhciA9IGdldElTT1dlZWtZZWFyKGRhdGUpO1xuICBjb25zdCBmb3VydGhPZkphbnVhcnkgPSBjb25zdHJ1Y3RGcm9tKGRhdGUsIDApO1xuICBmb3VydGhPZkphbnVhcnkuc2V0RnVsbFllYXIoeWVhciwgMCwgNCk7XG4gIGZvdXJ0aE9mSmFudWFyeS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIHN0YXJ0T2ZJU09XZWVrKGZvdXJ0aE9mSmFudWFyeSk7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgc3RhcnRPZklTT1dlZWtZZWFyO1xuIiwgImltcG9ydCB7IGNvbnN0cnVjdEZyb20gfSBmcm9tIFwiLi9jb25zdHJ1Y3RGcm9tLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGNvbnN0cnVjdE5vd1xuICogQGNhdGVnb3J5IEdlbmVyaWMgSGVscGVyc1xuICogQHN1bW1hcnkgQ29uc3RydWN0cyBhIG5ldyBjdXJyZW50IGRhdGUgdXNpbmcgdGhlIHBhc3NlZCB2YWx1ZSBjb25zdHJ1Y3Rvci5cbiAqIEBwdXJlIGZhbHNlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgZnVuY3Rpb24gY29uc3RydWN0cyBhIG5ldyBjdXJyZW50IGRhdGUgdXNpbmcgdGhlIGNvbnN0cnVjdG9yIGZyb21cbiAqIHRoZSByZWZlcmVuY2UgZGF0ZS4gSXQgaGVscHMgdG8gYnVpbGQgZ2VuZXJpYyBmdW5jdGlvbnMgdGhhdCBhY2NlcHQgZGF0ZVxuICogZXh0ZW5zaW9ucyBhbmQgdXNlIHRoZSBjdXJyZW50IGRhdGUuXG4gKlxuICogSXQgZGVmYXVsdHMgdG8gYERhdGVgIGlmIHRoZSBwYXNzZWQgcmVmZXJlbmNlIGRhdGUgaXMgYSBudW1iZXIgb3IgYSBzdHJpbmcuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgcmVmZXJlbmNlIGRhdGUgdG8gdGFrZSBjb25zdHJ1Y3RvciBmcm9tXG4gKlxuICogQHJldHVybnMgQ3VycmVudCBkYXRlIGluaXRpYWxpemVkIHVzaW5nIHRoZSBnaXZlbiBkYXRlIGNvbnN0cnVjdG9yXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGNvbnN0cnVjdE5vdywgaXNTYW1lRGF5IH0gZnJvbSAnZGF0ZS1mbnMnXG4gKlxuICogZnVuY3Rpb24gaXNUb2RheTxEYXRlVHlwZSBleHRlbmRzIERhdGU+KFxuICogICBkYXRlOiBEYXRlVHlwZSB8IG51bWJlciB8IHN0cmluZyxcbiAqICk6IGJvb2xlYW4ge1xuICogICAvLyBJZiB3ZSB3ZXJlIHRvIHVzZSBgbmV3IERhdGUoKWAgZGlyZWN0bHksIHRoZSBmdW5jdGlvbiB3b3VsZCAgYmVoYXZlXG4gKiAgIC8vIGRpZmZlcmVudGx5IGluIGRpZmZlcmVudCB0aW1lem9uZXMgYW5kIHJldHVybiBmYWxzZSBmb3IgdGhlIHNhbWUgZGF0ZS5cbiAqICAgcmV0dXJuIGlzU2FtZURheShkYXRlLCBjb25zdHJ1Y3ROb3coZGF0ZSkpO1xuICogfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uc3RydWN0Tm93KGRhdGUpIHtcbiAgcmV0dXJuIGNvbnN0cnVjdEZyb20oZGF0ZSwgRGF0ZS5ub3coKSk7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgY29uc3RydWN0Tm93O1xuIiwgImltcG9ydCB7IHN0YXJ0T2ZEYXkgfSBmcm9tIFwiLi9zdGFydE9mRGF5Lm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGlzU2FtZURheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIGRheSAoYW5kIHllYXIgYW5kIG1vbnRoKT9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgZGF5IChhbmQgeWVhciBhbmQgbW9udGgpP1xuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlTGVmdCAtIFRoZSBmaXJzdCBkYXRlIHRvIGNoZWNrXG4gKiBAcGFyYW0gZGF0ZVJpZ2h0IC0gVGhlIHNlY29uZCBkYXRlIHRvIGNoZWNrXG5cbiAqIEByZXR1cm5zIFRoZSBkYXRlcyBhcmUgaW4gdGhlIHNhbWUgZGF5IChhbmQgeWVhciBhbmQgbW9udGgpXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSA0IFNlcHRlbWJlciAwNjowMDowMCBhbmQgNCBTZXB0ZW1iZXIgMTg6MDA6MDAgaW4gdGhlIHNhbWUgZGF5P1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDQsIDYsIDApLCBuZXcgRGF0ZSgyMDE0LCA4LCA0LCAxOCwgMCkpXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDQgU2VwdGVtYmVyIGFuZCA0IE9jdG9iZXIgaW4gdGhlIHNhbWUgZGF5P1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDQpLCBuZXcgRGF0ZSgyMDE0LCA5LCA0KSlcbiAqIC8vPT4gZmFsc2VcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDQgU2VwdGVtYmVyLCAyMDE0IGFuZCA0IFNlcHRlbWJlciwgMjAxNSBpbiB0aGUgc2FtZSBkYXk/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVEYXkobmV3IERhdGUoMjAxNCwgOCwgNCksIG5ldyBEYXRlKDIwMTUsIDgsIDQpKVxuICogLy89PiBmYWxzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTYW1lRGF5KGRhdGVMZWZ0LCBkYXRlUmlnaHQpIHtcbiAgY29uc3QgZGF0ZUxlZnRTdGFydE9mRGF5ID0gc3RhcnRPZkRheShkYXRlTGVmdCk7XG4gIGNvbnN0IGRhdGVSaWdodFN0YXJ0T2ZEYXkgPSBzdGFydE9mRGF5KGRhdGVSaWdodCk7XG5cbiAgcmV0dXJuICtkYXRlTGVmdFN0YXJ0T2ZEYXkgPT09ICtkYXRlUmlnaHRTdGFydE9mRGF5O1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGlzU2FtZURheTtcbiIsICIvKipcbiAqIEBuYW1lIGlzRGF0ZVxuICogQGNhdGVnb3J5IENvbW1vbiBIZWxwZXJzXG4gKiBAc3VtbWFyeSBJcyB0aGUgZ2l2ZW4gdmFsdWUgYSBkYXRlP1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlLiBUaGUgZnVuY3Rpb24gd29ya3MgZm9yIGRhdGVzIHRyYW5zZmVycmVkIGFjcm9zcyBpZnJhbWVzLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVja1xuICpcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgZGF0ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBGb3IgYSB2YWxpZCBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gaXNEYXRlKG5ldyBEYXRlKCkpXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRm9yIGFuIGludmFsaWQgZGF0ZTpcbiAqIGNvbnN0IHJlc3VsdCA9IGlzRGF0ZShuZXcgRGF0ZShOYU4pKVxuICogLy89PiB0cnVlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEZvciBzb21lIHZhbHVlOlxuICogY29uc3QgcmVzdWx0ID0gaXNEYXRlKCcyMDE0LTAyLTMxJylcbiAqIC8vPT4gZmFsc2VcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRm9yIGFuIG9iamVjdDpcbiAqIGNvbnN0IHJlc3VsdCA9IGlzRGF0ZSh7fSlcbiAqIC8vPT4gZmFsc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0ZSh2YWx1ZSkge1xuICByZXR1cm4gKFxuICAgIHZhbHVlIGluc3RhbmNlb2YgRGF0ZSB8fFxuICAgICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBEYXRlXVwiKVxuICApO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGlzRGF0ZTtcbiIsICJpbXBvcnQgeyBpc0RhdGUgfSBmcm9tIFwiLi9pc0RhdGUubWpzXCI7XG5pbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgaXNWYWxpZFxuICogQGNhdGVnb3J5IENvbW1vbiBIZWxwZXJzXG4gKiBAc3VtbWFyeSBJcyB0aGUgZ2l2ZW4gZGF0ZSB2YWxpZD9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybnMgZmFsc2UgaWYgYXJndW1lbnQgaXMgSW52YWxpZCBEYXRlIGFuZCB0cnVlIG90aGVyd2lzZS5cbiAqIEFyZ3VtZW50IGlzIGNvbnZlcnRlZCB0byBEYXRlIHVzaW5nIGB0b0RhdGVgLiBTZWUgW3RvRGF0ZV0oaHR0cHM6Ly9kYXRlLWZucy5vcmcvZG9jcy90b0RhdGUpXG4gKiBJbnZhbGlkIERhdGUgaXMgYSBEYXRlLCB3aG9zZSB0aW1lIHZhbHVlIGlzIE5hTi5cbiAqXG4gKiBUaW1lIHZhbHVlIG9mIERhdGU6IGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTUuOS4xLjFcbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBkYXRlIHRvIGNoZWNrXG4gKlxuICogQHJldHVybnMgVGhlIGRhdGUgaXMgdmFsaWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRm9yIHRoZSB2YWxpZCBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gaXNWYWxpZChuZXcgRGF0ZSgyMDE0LCAxLCAzMSkpXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRm9yIHRoZSB2YWx1ZSwgY29udmVydGFibGUgaW50byBhIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSBpc1ZhbGlkKDEzOTM4MDQ4MDAwMDApXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRm9yIHRoZSBpbnZhbGlkIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSBpc1ZhbGlkKG5ldyBEYXRlKCcnKSlcbiAqIC8vPT4gZmFsc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWQoZGF0ZSkge1xuICBpZiAoIWlzRGF0ZShkYXRlKSAmJiB0eXBlb2YgZGF0ZSAhPT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgcmV0dXJuICFpc05hTihOdW1iZXIoX2RhdGUpKTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBpc1ZhbGlkO1xuIiwgImltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBlbmRPZk1vbnRoXG4gKiBAY2F0ZWdvcnkgTW9udGggSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBlbmQgb2YgYSBtb250aCBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIGVuZCBvZiBhIG1vbnRoIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSByZXN1bHQgd2lsbCBiZSBpbiB0aGUgbG9jYWwgdGltZXpvbmUuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgb3JpZ2luYWwgZGF0ZVxuICpcbiAqIEByZXR1cm5zIFRoZSBlbmQgb2YgYSBtb250aFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgZW5kIG9mIGEgbW9udGggZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBlbmRPZk1vbnRoKG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IFR1ZSBTZXAgMzAgMjAxNCAyMzo1OTo1OS45OTlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZE9mTW9udGgoZGF0ZSkge1xuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgY29uc3QgbW9udGggPSBfZGF0ZS5nZXRNb250aCgpO1xuICBfZGF0ZS5zZXRGdWxsWWVhcihfZGF0ZS5nZXRGdWxsWWVhcigpLCBtb250aCArIDEsIDApO1xuICBfZGF0ZS5zZXRIb3VycygyMywgNTksIDU5LCA5OTkpO1xuICByZXR1cm4gX2RhdGU7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgZW5kT2ZNb250aDtcbiIsICJpbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5cbi8qKlxuICogVGhlIHtAbGluayBlYWNoRGF5T2ZJbnRlcnZhbH0gZnVuY3Rpb24gb3B0aW9ucy5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIGVhY2hEYXlPZkludGVydmFsXG4gKiBAY2F0ZWdvcnkgSW50ZXJ2YWwgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBhcnJheSBvZiBkYXRlcyB3aXRoaW4gdGhlIHNwZWNpZmllZCB0aW1lIGludGVydmFsLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBhcnJheSBvZiBkYXRlcyB3aXRoaW4gdGhlIHNwZWNpZmllZCB0aW1lIGludGVydmFsLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBpbnRlcnZhbCAtIFRoZSBpbnRlcnZhbC5cbiAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb2JqZWN0IHdpdGggb3B0aW9ucy5cbiAqXG4gKiBAcmV0dXJucyBUaGUgYXJyYXkgd2l0aCBzdGFydHMgb2YgZGF5cyBmcm9tIHRoZSBkYXkgb2YgdGhlIGludGVydmFsIHN0YXJ0IHRvIHRoZSBkYXkgb2YgdGhlIGludGVydmFsIGVuZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBFYWNoIGRheSBiZXR3ZWVuIDYgT2N0b2JlciAyMDE0IGFuZCAxMCBPY3RvYmVyIDIwMTQ6XG4gKiBjb25zdCByZXN1bHQgPSBlYWNoRGF5T2ZJbnRlcnZhbCh7XG4gKiAgIHN0YXJ0OiBuZXcgRGF0ZSgyMDE0LCA5LCA2KSxcbiAqICAgZW5kOiBuZXcgRGF0ZSgyMDE0LCA5LCAxMClcbiAqIH0pXG4gKiAvLz0+IFtcbiAqIC8vICAgTW9uIE9jdCAwNiAyMDE0IDAwOjAwOjAwLFxuICogLy8gICBUdWUgT2N0IDA3IDIwMTQgMDA6MDA6MDAsXG4gKiAvLyAgIFdlZCBPY3QgMDggMjAxNCAwMDowMDowMCxcbiAqIC8vICAgVGh1IE9jdCAwOSAyMDE0IDAwOjAwOjAwLFxuICogLy8gICBGcmkgT2N0IDEwIDIwMTQgMDA6MDA6MDBcbiAqIC8vIF1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhY2hEYXlPZkludGVydmFsKGludGVydmFsLCBvcHRpb25zKSB7XG4gIGNvbnN0IHN0YXJ0RGF0ZSA9IHRvRGF0ZShpbnRlcnZhbC5zdGFydCk7XG4gIGNvbnN0IGVuZERhdGUgPSB0b0RhdGUoaW50ZXJ2YWwuZW5kKTtcblxuICBsZXQgcmV2ZXJzZWQgPSArc3RhcnREYXRlID4gK2VuZERhdGU7XG4gIGNvbnN0IGVuZFRpbWUgPSByZXZlcnNlZCA/ICtzdGFydERhdGUgOiArZW5kRGF0ZTtcbiAgY29uc3QgY3VycmVudERhdGUgPSByZXZlcnNlZCA/IGVuZERhdGUgOiBzdGFydERhdGU7XG4gIGN1cnJlbnREYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuXG4gIGxldCBzdGVwID0gb3B0aW9ucz8uc3RlcCA/PyAxO1xuICBpZiAoIXN0ZXApIHJldHVybiBbXTtcbiAgaWYgKHN0ZXAgPCAwKSB7XG4gICAgc3RlcCA9IC1zdGVwO1xuICAgIHJldmVyc2VkID0gIXJldmVyc2VkO1xuICB9XG5cbiAgY29uc3QgZGF0ZXMgPSBbXTtcblxuICB3aGlsZSAoK2N1cnJlbnREYXRlIDw9IGVuZFRpbWUpIHtcbiAgICBkYXRlcy5wdXNoKHRvRGF0ZShjdXJyZW50RGF0ZSkpO1xuICAgIGN1cnJlbnREYXRlLnNldERhdGUoY3VycmVudERhdGUuZ2V0RGF0ZSgpICsgc3RlcCk7XG4gICAgY3VycmVudERhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIH1cblxuICByZXR1cm4gcmV2ZXJzZWQgPyBkYXRlcy5yZXZlcnNlKCkgOiBkYXRlcztcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBlYWNoRGF5T2ZJbnRlcnZhbDtcbiIsICJpbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgc3RhcnRPZk1vbnRoXG4gKiBAY2F0ZWdvcnkgTW9udGggSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBzdGFydCBvZiBhIG1vbnRoIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSBtb250aCBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIG9yaWdpbmFsIGRhdGVcbiAqXG4gKiBAcmV0dXJucyBUaGUgc3RhcnQgb2YgYSBtb250aFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYSBtb250aCBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZNb250aChuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApKVxuICogLy89PiBNb24gU2VwIDAxIDIwMTQgMDA6MDA6MDBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0T2ZNb250aChkYXRlKSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICBfZGF0ZS5zZXREYXRlKDEpO1xuICBfZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIF9kYXRlO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IHN0YXJ0T2ZNb250aDtcbiIsICJpbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5pbXBvcnQgeyBjb25zdHJ1Y3RGcm9tIH0gZnJvbSBcIi4vY29uc3RydWN0RnJvbS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBzdGFydE9mWWVhclxuICogQGNhdGVnb3J5IFllYXIgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBzdGFydCBvZiBhIHllYXIgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhIHllYXIgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBvcmlnaW5hbCBkYXRlXG4gKlxuICogQHJldHVybnMgVGhlIHN0YXJ0IG9mIGEgeWVhclxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYSB5ZWFyIGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZlllYXIobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwMCkpXG4gKiAvLz0+IFdlZCBKYW4gMDEgMjAxNCAwMDowMDowMFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZlllYXIoZGF0ZSkge1xuICBjb25zdCBjbGVhbkRhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIGNvbnN0IF9kYXRlID0gY29uc3RydWN0RnJvbShkYXRlLCAwKTtcbiAgX2RhdGUuc2V0RnVsbFllYXIoY2xlYW5EYXRlLmdldEZ1bGxZZWFyKCksIDAsIDEpO1xuICBfZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIF9kYXRlO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IHN0YXJ0T2ZZZWFyO1xuIiwgImltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcbmltcG9ydCB7IGdldERlZmF1bHRPcHRpb25zIH0gZnJvbSBcIi4vX2xpYi9kZWZhdWx0T3B0aW9ucy5tanNcIjtcblxuLyoqXG4gKiBUaGUge0BsaW5rIGVuZE9mV2Vla30gZnVuY3Rpb24gb3B0aW9ucy5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIGVuZE9mV2Vla1xuICogQGNhdGVnb3J5IFdlZWsgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBlbmQgb2YgYSB3ZWVrIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgZW5kIG9mIGEgd2VlayBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIG9yaWdpbmFsIGRhdGVcbiAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb2JqZWN0IHdpdGggb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIFRoZSBlbmQgb2YgYSB3ZWVrXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBlbmQgb2YgYSB3ZWVrIGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gZW5kT2ZXZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IFNhdCBTZXAgMDYgMjAxNCAyMzo1OTo1OS45OTlcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgdGhlIHdlZWsgc3RhcnRzIG9uIE1vbmRheSwgdGhlIGVuZCBvZiB0aGUgd2VlayBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IGVuZE9mV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApLCB7IHdlZWtTdGFydHNPbjogMSB9KVxuICogLy89PiBTdW4gU2VwIDA3IDIwMTQgMjM6NTk6NTkuOTk5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRPZldlZWsoZGF0ZSwgb3B0aW9ucykge1xuICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zKCk7XG4gIGNvbnN0IHdlZWtTdGFydHNPbiA9XG4gICAgb3B0aW9ucz8ud2Vla1N0YXJ0c09uID8/XG4gICAgb3B0aW9ucz8ubG9jYWxlPy5vcHRpb25zPy53ZWVrU3RhcnRzT24gPz9cbiAgICBkZWZhdWx0T3B0aW9ucy53ZWVrU3RhcnRzT24gPz9cbiAgICBkZWZhdWx0T3B0aW9ucy5sb2NhbGU/Lm9wdGlvbnM/LndlZWtTdGFydHNPbiA/P1xuICAgIDA7XG5cbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIGNvbnN0IGRheSA9IF9kYXRlLmdldERheSgpO1xuICBjb25zdCBkaWZmID0gKGRheSA8IHdlZWtTdGFydHNPbiA/IC03IDogMCkgKyA2IC0gKGRheSAtIHdlZWtTdGFydHNPbik7XG5cbiAgX2RhdGUuc2V0RGF0ZShfZGF0ZS5nZXREYXRlKCkgKyBkaWZmKTtcbiAgX2RhdGUuc2V0SG91cnMoMjMsIDU5LCA1OSwgOTk5KTtcbiAgcmV0dXJuIF9kYXRlO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGVuZE9mV2VlaztcbiIsICJjb25zdCBmb3JtYXREaXN0YW5jZUxvY2FsZSA9IHtcbiAgbGVzc1RoYW5YU2Vjb25kczoge1xuICAgIG9uZTogXCJsZXNzIHRoYW4gYSBzZWNvbmRcIixcbiAgICBvdGhlcjogXCJsZXNzIHRoYW4ge3tjb3VudH19IHNlY29uZHNcIixcbiAgfSxcblxuICB4U2Vjb25kczoge1xuICAgIG9uZTogXCIxIHNlY29uZFwiLFxuICAgIG90aGVyOiBcInt7Y291bnR9fSBzZWNvbmRzXCIsXG4gIH0sXG5cbiAgaGFsZkFNaW51dGU6IFwiaGFsZiBhIG1pbnV0ZVwiLFxuXG4gIGxlc3NUaGFuWE1pbnV0ZXM6IHtcbiAgICBvbmU6IFwibGVzcyB0aGFuIGEgbWludXRlXCIsXG4gICAgb3RoZXI6IFwibGVzcyB0aGFuIHt7Y291bnR9fSBtaW51dGVzXCIsXG4gIH0sXG5cbiAgeE1pbnV0ZXM6IHtcbiAgICBvbmU6IFwiMSBtaW51dGVcIixcbiAgICBvdGhlcjogXCJ7e2NvdW50fX0gbWludXRlc1wiLFxuICB9LFxuXG4gIGFib3V0WEhvdXJzOiB7XG4gICAgb25lOiBcImFib3V0IDEgaG91clwiLFxuICAgIG90aGVyOiBcImFib3V0IHt7Y291bnR9fSBob3Vyc1wiLFxuICB9LFxuXG4gIHhIb3Vyczoge1xuICAgIG9uZTogXCIxIGhvdXJcIixcbiAgICBvdGhlcjogXCJ7e2NvdW50fX0gaG91cnNcIixcbiAgfSxcblxuICB4RGF5czoge1xuICAgIG9uZTogXCIxIGRheVwiLFxuICAgIG90aGVyOiBcInt7Y291bnR9fSBkYXlzXCIsXG4gIH0sXG5cbiAgYWJvdXRYV2Vla3M6IHtcbiAgICBvbmU6IFwiYWJvdXQgMSB3ZWVrXCIsXG4gICAgb3RoZXI6IFwiYWJvdXQge3tjb3VudH19IHdlZWtzXCIsXG4gIH0sXG5cbiAgeFdlZWtzOiB7XG4gICAgb25lOiBcIjEgd2Vla1wiLFxuICAgIG90aGVyOiBcInt7Y291bnR9fSB3ZWVrc1wiLFxuICB9LFxuXG4gIGFib3V0WE1vbnRoczoge1xuICAgIG9uZTogXCJhYm91dCAxIG1vbnRoXCIsXG4gICAgb3RoZXI6IFwiYWJvdXQge3tjb3VudH19IG1vbnRoc1wiLFxuICB9LFxuXG4gIHhNb250aHM6IHtcbiAgICBvbmU6IFwiMSBtb250aFwiLFxuICAgIG90aGVyOiBcInt7Y291bnR9fSBtb250aHNcIixcbiAgfSxcblxuICBhYm91dFhZZWFyczoge1xuICAgIG9uZTogXCJhYm91dCAxIHllYXJcIixcbiAgICBvdGhlcjogXCJhYm91dCB7e2NvdW50fX0geWVhcnNcIixcbiAgfSxcblxuICB4WWVhcnM6IHtcbiAgICBvbmU6IFwiMSB5ZWFyXCIsXG4gICAgb3RoZXI6IFwie3tjb3VudH19IHllYXJzXCIsXG4gIH0sXG5cbiAgb3ZlclhZZWFyczoge1xuICAgIG9uZTogXCJvdmVyIDEgeWVhclwiLFxuICAgIG90aGVyOiBcIm92ZXIge3tjb3VudH19IHllYXJzXCIsXG4gIH0sXG5cbiAgYWxtb3N0WFllYXJzOiB7XG4gICAgb25lOiBcImFsbW9zdCAxIHllYXJcIixcbiAgICBvdGhlcjogXCJhbG1vc3Qge3tjb3VudH19IHllYXJzXCIsXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgZm9ybWF0RGlzdGFuY2UgPSAodG9rZW4sIGNvdW50LCBvcHRpb25zKSA9PiB7XG4gIGxldCByZXN1bHQ7XG5cbiAgY29uc3QgdG9rZW5WYWx1ZSA9IGZvcm1hdERpc3RhbmNlTG9jYWxlW3Rva2VuXTtcbiAgaWYgKHR5cGVvZiB0b2tlblZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmVzdWx0ID0gdG9rZW5WYWx1ZTtcbiAgfSBlbHNlIGlmIChjb3VudCA9PT0gMSkge1xuICAgIHJlc3VsdCA9IHRva2VuVmFsdWUub25lO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9IHRva2VuVmFsdWUub3RoZXIucmVwbGFjZShcInt7Y291bnR9fVwiLCBjb3VudC50b1N0cmluZygpKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zPy5hZGRTdWZmaXgpIHtcbiAgICBpZiAob3B0aW9ucy5jb21wYXJpc29uICYmIG9wdGlvbnMuY29tcGFyaXNvbiA+IDApIHtcbiAgICAgIHJldHVybiBcImluIFwiICsgcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgXCIgYWdvXCI7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkRm9ybWF0TG9uZ0ZuKGFyZ3MpIHtcbiAgcmV0dXJuIChvcHRpb25zID0ge30pID0+IHtcbiAgICAvLyBUT0RPOiBSZW1vdmUgU3RyaW5nKClcbiAgICBjb25zdCB3aWR0aCA9IG9wdGlvbnMud2lkdGggPyBTdHJpbmcob3B0aW9ucy53aWR0aCkgOiBhcmdzLmRlZmF1bHRXaWR0aDtcbiAgICBjb25zdCBmb3JtYXQgPSBhcmdzLmZvcm1hdHNbd2lkdGhdIHx8IGFyZ3MuZm9ybWF0c1thcmdzLmRlZmF1bHRXaWR0aF07XG4gICAgcmV0dXJuIGZvcm1hdDtcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBidWlsZEZvcm1hdExvbmdGbiB9IGZyb20gXCIuLi8uLi9fbGliL2J1aWxkRm9ybWF0TG9uZ0ZuLm1qc1wiO1xuXG5jb25zdCBkYXRlRm9ybWF0cyA9IHtcbiAgZnVsbDogXCJFRUVFLCBNTU1NIGRvLCB5XCIsXG4gIGxvbmc6IFwiTU1NTSBkbywgeVwiLFxuICBtZWRpdW06IFwiTU1NIGQsIHlcIixcbiAgc2hvcnQ6IFwiTU0vZGQveXl5eVwiLFxufTtcblxuY29uc3QgdGltZUZvcm1hdHMgPSB7XG4gIGZ1bGw6IFwiaDptbTpzcyBhIHp6enpcIixcbiAgbG9uZzogXCJoOm1tOnNzIGEgelwiLFxuICBtZWRpdW06IFwiaDptbTpzcyBhXCIsXG4gIHNob3J0OiBcImg6bW0gYVwiLFxufTtcblxuY29uc3QgZGF0ZVRpbWVGb3JtYXRzID0ge1xuICBmdWxsOiBcInt7ZGF0ZX19ICdhdCcge3t0aW1lfX1cIixcbiAgbG9uZzogXCJ7e2RhdGV9fSAnYXQnIHt7dGltZX19XCIsXG4gIG1lZGl1bTogXCJ7e2RhdGV9fSwge3t0aW1lfX1cIixcbiAgc2hvcnQ6IFwie3tkYXRlfX0sIHt7dGltZX19XCIsXG59O1xuXG5leHBvcnQgY29uc3QgZm9ybWF0TG9uZyA9IHtcbiAgZGF0ZTogYnVpbGRGb3JtYXRMb25nRm4oe1xuICAgIGZvcm1hdHM6IGRhdGVGb3JtYXRzLFxuICAgIGRlZmF1bHRXaWR0aDogXCJmdWxsXCIsXG4gIH0pLFxuXG4gIHRpbWU6IGJ1aWxkRm9ybWF0TG9uZ0ZuKHtcbiAgICBmb3JtYXRzOiB0aW1lRm9ybWF0cyxcbiAgICBkZWZhdWx0V2lkdGg6IFwiZnVsbFwiLFxuICB9KSxcblxuICBkYXRlVGltZTogYnVpbGRGb3JtYXRMb25nRm4oe1xuICAgIGZvcm1hdHM6IGRhdGVUaW1lRm9ybWF0cyxcbiAgICBkZWZhdWx0V2lkdGg6IFwiZnVsbFwiLFxuICB9KSxcbn07XG4iLCAiY29uc3QgZm9ybWF0UmVsYXRpdmVMb2NhbGUgPSB7XG4gIGxhc3RXZWVrOiBcIidsYXN0JyBlZWVlICdhdCcgcFwiLFxuICB5ZXN0ZXJkYXk6IFwiJ3llc3RlcmRheSBhdCcgcFwiLFxuICB0b2RheTogXCIndG9kYXkgYXQnIHBcIixcbiAgdG9tb3Jyb3c6IFwiJ3RvbW9ycm93IGF0JyBwXCIsXG4gIG5leHRXZWVrOiBcImVlZWUgJ2F0JyBwXCIsXG4gIG90aGVyOiBcIlBcIixcbn07XG5cbmV4cG9ydCBjb25zdCBmb3JtYXRSZWxhdGl2ZSA9ICh0b2tlbiwgX2RhdGUsIF9iYXNlRGF0ZSwgX29wdGlvbnMpID0+XG4gIGZvcm1hdFJlbGF0aXZlTG9jYWxlW3Rva2VuXTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuXG4vKipcbiAqIFRoZSBsb2NhbGl6ZSBmdW5jdGlvbiBhcmd1bWVudCBjYWxsYmFjayB3aGljaCBhbGxvd3MgdG8gY29udmVydCByYXcgdmFsdWUgdG9cbiAqIHRoZSBhY3R1YWwgdHlwZS5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY29udmVydFxuICpcbiAqIEByZXR1cm5zIFRoZSBjb252ZXJ0ZWQgdmFsdWVcbiAqL1xuXG4vKipcbiAqIFRoZSBtYXAgb2YgbG9jYWxpemVkIHZhbHVlcyBmb3IgZWFjaCB3aWR0aC5cbiAqL1xuXG4vKipcbiAqIFRoZSBpbmRleCB0eXBlIG9mIHRoZSBsb2NhbGUgdW5pdCB2YWx1ZS4gSXQgdHlwZXMgY29udmVyc2lvbiBvZiB1bml0cyBvZlxuICogdmFsdWVzIHRoYXQgZG9uJ3Qgc3RhcnQgYXQgMCAoaS5lLiBxdWFydGVycykuXG4gKi9cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgdW5pdCB2YWx1ZSB0byB0aGUgdHVwbGUgb2YgdmFsdWVzLlxuICovXG5cbi8qKlxuICogVGhlIHR1cGxlIG9mIGxvY2FsaXplZCBlcmEgdmFsdWVzLiBUaGUgZmlyc3QgZWxlbWVudCByZXByZXNlbnRzIEJDLFxuICogdGhlIHNlY29uZCBlbGVtZW50IHJlcHJlc2VudHMgQUQuXG4gKi9cblxuLyoqXG4gKiBUaGUgdHVwbGUgb2YgbG9jYWxpemVkIHF1YXJ0ZXIgdmFsdWVzLiBUaGUgZmlyc3QgZWxlbWVudCByZXByZXNlbnRzIFExLlxuICovXG5cbi8qKlxuICogVGhlIHR1cGxlIG9mIGxvY2FsaXplZCBkYXkgdmFsdWVzLiBUaGUgZmlyc3QgZWxlbWVudCByZXByZXNlbnRzIFN1bmRheS5cbiAqL1xuXG4vKipcbiAqIFRoZSB0dXBsZSBvZiBsb2NhbGl6ZWQgbW9udGggdmFsdWVzLiBUaGUgZmlyc3QgZWxlbWVudCByZXByZXNlbnRzIEphbnVhcnkuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTG9jYWxpemVGbihhcmdzKSB7XG4gIHJldHVybiAodmFsdWUsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gb3B0aW9ucz8uY29udGV4dCA/IFN0cmluZyhvcHRpb25zLmNvbnRleHQpIDogXCJzdGFuZGFsb25lXCI7XG5cbiAgICBsZXQgdmFsdWVzQXJyYXk7XG4gICAgaWYgKGNvbnRleHQgPT09IFwiZm9ybWF0dGluZ1wiICYmIGFyZ3MuZm9ybWF0dGluZ1ZhbHVlcykge1xuICAgICAgY29uc3QgZGVmYXVsdFdpZHRoID0gYXJncy5kZWZhdWx0Rm9ybWF0dGluZ1dpZHRoIHx8IGFyZ3MuZGVmYXVsdFdpZHRoO1xuICAgICAgY29uc3Qgd2lkdGggPSBvcHRpb25zPy53aWR0aCA/IFN0cmluZyhvcHRpb25zLndpZHRoKSA6IGRlZmF1bHRXaWR0aDtcblxuICAgICAgdmFsdWVzQXJyYXkgPVxuICAgICAgICBhcmdzLmZvcm1hdHRpbmdWYWx1ZXNbd2lkdGhdIHx8IGFyZ3MuZm9ybWF0dGluZ1ZhbHVlc1tkZWZhdWx0V2lkdGhdO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkZWZhdWx0V2lkdGggPSBhcmdzLmRlZmF1bHRXaWR0aDtcbiAgICAgIGNvbnN0IHdpZHRoID0gb3B0aW9ucz8ud2lkdGggPyBTdHJpbmcob3B0aW9ucy53aWR0aCkgOiBhcmdzLmRlZmF1bHRXaWR0aDtcblxuICAgICAgdmFsdWVzQXJyYXkgPSBhcmdzLnZhbHVlc1t3aWR0aF0gfHwgYXJncy52YWx1ZXNbZGVmYXVsdFdpZHRoXTtcbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSBhcmdzLmFyZ3VtZW50Q2FsbGJhY2sgPyBhcmdzLmFyZ3VtZW50Q2FsbGJhY2sodmFsdWUpIDogdmFsdWU7XG5cbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gRm9yIHNvbWUgcmVhc29uIFR5cGVTY3JpcHQganVzdCBkb24ndCB3YW50IHRvIG1hdGNoIGl0LCBubyBtYXR0ZXIgaG93IGhhcmQgd2UgdHJ5LiBJIGNoYWxsZW5nZSB5b3UgdG8gdHJ5IHRvIHJlbW92ZSBpdCFcbiAgICByZXR1cm4gdmFsdWVzQXJyYXlbaW5kZXhdO1xuICB9O1xufVxuIiwgImltcG9ydCB7IGJ1aWxkTG9jYWxpemVGbiB9IGZyb20gXCIuLi8uLi9fbGliL2J1aWxkTG9jYWxpemVGbi5tanNcIjtcblxuY29uc3QgZXJhVmFsdWVzID0ge1xuICBuYXJyb3c6IFtcIkJcIiwgXCJBXCJdLFxuICBhYmJyZXZpYXRlZDogW1wiQkNcIiwgXCJBRFwiXSxcbiAgd2lkZTogW1wiQmVmb3JlIENocmlzdFwiLCBcIkFubm8gRG9taW5pXCJdLFxufTtcblxuY29uc3QgcXVhcnRlclZhbHVlcyA9IHtcbiAgbmFycm93OiBbXCIxXCIsIFwiMlwiLCBcIjNcIiwgXCI0XCJdLFxuICBhYmJyZXZpYXRlZDogW1wiUTFcIiwgXCJRMlwiLCBcIlEzXCIsIFwiUTRcIl0sXG4gIHdpZGU6IFtcIjFzdCBxdWFydGVyXCIsIFwiMm5kIHF1YXJ0ZXJcIiwgXCIzcmQgcXVhcnRlclwiLCBcIjR0aCBxdWFydGVyXCJdLFxufTtcblxuLy8gTm90ZTogaW4gRW5nbGlzaCwgdGhlIG5hbWVzIG9mIGRheXMgb2YgdGhlIHdlZWsgYW5kIG1vbnRocyBhcmUgY2FwaXRhbGl6ZWQuXG4vLyBJZiB5b3UgYXJlIG1ha2luZyBhIG5ldyBsb2NhbGUgYmFzZWQgb24gdGhpcyBvbmUsIGNoZWNrIGlmIHRoZSBzYW1lIGlzIHRydWUgZm9yIHRoZSBsYW5ndWFnZSB5b3UncmUgd29ya2luZyBvbi5cbi8vIEdlbmVyYWxseSwgZm9ybWF0dGVkIGRhdGVzIHNob3VsZCBsb29rIGxpa2UgdGhleSBhcmUgaW4gdGhlIG1pZGRsZSBvZiBhIHNlbnRlbmNlLFxuLy8gZS5nLiBpbiBTcGFuaXNoIGxhbmd1YWdlIHRoZSB3ZWVrZGF5cyBhbmQgbW9udGhzIHNob3VsZCBiZSBpbiB0aGUgbG93ZXJjYXNlLlxuY29uc3QgbW9udGhWYWx1ZXMgPSB7XG4gIG5hcnJvdzogW1wiSlwiLCBcIkZcIiwgXCJNXCIsIFwiQVwiLCBcIk1cIiwgXCJKXCIsIFwiSlwiLCBcIkFcIiwgXCJTXCIsIFwiT1wiLCBcIk5cIiwgXCJEXCJdLFxuICBhYmJyZXZpYXRlZDogW1xuICAgIFwiSmFuXCIsXG4gICAgXCJGZWJcIixcbiAgICBcIk1hclwiLFxuICAgIFwiQXByXCIsXG4gICAgXCJNYXlcIixcbiAgICBcIkp1blwiLFxuICAgIFwiSnVsXCIsXG4gICAgXCJBdWdcIixcbiAgICBcIlNlcFwiLFxuICAgIFwiT2N0XCIsXG4gICAgXCJOb3ZcIixcbiAgICBcIkRlY1wiLFxuICBdLFxuXG4gIHdpZGU6IFtcbiAgICBcIkphbnVhcnlcIixcbiAgICBcIkZlYnJ1YXJ5XCIsXG4gICAgXCJNYXJjaFwiLFxuICAgIFwiQXByaWxcIixcbiAgICBcIk1heVwiLFxuICAgIFwiSnVuZVwiLFxuICAgIFwiSnVseVwiLFxuICAgIFwiQXVndXN0XCIsXG4gICAgXCJTZXB0ZW1iZXJcIixcbiAgICBcIk9jdG9iZXJcIixcbiAgICBcIk5vdmVtYmVyXCIsXG4gICAgXCJEZWNlbWJlclwiLFxuICBdLFxufTtcblxuY29uc3QgZGF5VmFsdWVzID0ge1xuICBuYXJyb3c6IFtcIlNcIiwgXCJNXCIsIFwiVFwiLCBcIldcIiwgXCJUXCIsIFwiRlwiLCBcIlNcIl0sXG4gIHNob3J0OiBbXCJTdVwiLCBcIk1vXCIsIFwiVHVcIiwgXCJXZVwiLCBcIlRoXCIsIFwiRnJcIiwgXCJTYVwiXSxcbiAgYWJicmV2aWF0ZWQ6IFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXSxcbiAgd2lkZTogW1xuICAgIFwiU3VuZGF5XCIsXG4gICAgXCJNb25kYXlcIixcbiAgICBcIlR1ZXNkYXlcIixcbiAgICBcIldlZG5lc2RheVwiLFxuICAgIFwiVGh1cnNkYXlcIixcbiAgICBcIkZyaWRheVwiLFxuICAgIFwiU2F0dXJkYXlcIixcbiAgXSxcbn07XG5cbmNvbnN0IGRheVBlcmlvZFZhbHVlcyA9IHtcbiAgbmFycm93OiB7XG4gICAgYW06IFwiYVwiLFxuICAgIHBtOiBcInBcIixcbiAgICBtaWRuaWdodDogXCJtaVwiLFxuICAgIG5vb246IFwiblwiLFxuICAgIG1vcm5pbmc6IFwibW9ybmluZ1wiLFxuICAgIGFmdGVybm9vbjogXCJhZnRlcm5vb25cIixcbiAgICBldmVuaW5nOiBcImV2ZW5pbmdcIixcbiAgICBuaWdodDogXCJuaWdodFwiLFxuICB9LFxuICBhYmJyZXZpYXRlZDoge1xuICAgIGFtOiBcIkFNXCIsXG4gICAgcG06IFwiUE1cIixcbiAgICBtaWRuaWdodDogXCJtaWRuaWdodFwiLFxuICAgIG5vb246IFwibm9vblwiLFxuICAgIG1vcm5pbmc6IFwibW9ybmluZ1wiLFxuICAgIGFmdGVybm9vbjogXCJhZnRlcm5vb25cIixcbiAgICBldmVuaW5nOiBcImV2ZW5pbmdcIixcbiAgICBuaWdodDogXCJuaWdodFwiLFxuICB9LFxuICB3aWRlOiB7XG4gICAgYW06IFwiYS5tLlwiLFxuICAgIHBtOiBcInAubS5cIixcbiAgICBtaWRuaWdodDogXCJtaWRuaWdodFwiLFxuICAgIG5vb246IFwibm9vblwiLFxuICAgIG1vcm5pbmc6IFwibW9ybmluZ1wiLFxuICAgIGFmdGVybm9vbjogXCJhZnRlcm5vb25cIixcbiAgICBldmVuaW5nOiBcImV2ZW5pbmdcIixcbiAgICBuaWdodDogXCJuaWdodFwiLFxuICB9LFxufTtcblxuY29uc3QgZm9ybWF0dGluZ0RheVBlcmlvZFZhbHVlcyA9IHtcbiAgbmFycm93OiB7XG4gICAgYW06IFwiYVwiLFxuICAgIHBtOiBcInBcIixcbiAgICBtaWRuaWdodDogXCJtaVwiLFxuICAgIG5vb246IFwiblwiLFxuICAgIG1vcm5pbmc6IFwiaW4gdGhlIG1vcm5pbmdcIixcbiAgICBhZnRlcm5vb246IFwiaW4gdGhlIGFmdGVybm9vblwiLFxuICAgIGV2ZW5pbmc6IFwiaW4gdGhlIGV2ZW5pbmdcIixcbiAgICBuaWdodDogXCJhdCBuaWdodFwiLFxuICB9LFxuICBhYmJyZXZpYXRlZDoge1xuICAgIGFtOiBcIkFNXCIsXG4gICAgcG06IFwiUE1cIixcbiAgICBtaWRuaWdodDogXCJtaWRuaWdodFwiLFxuICAgIG5vb246IFwibm9vblwiLFxuICAgIG1vcm5pbmc6IFwiaW4gdGhlIG1vcm5pbmdcIixcbiAgICBhZnRlcm5vb246IFwiaW4gdGhlIGFmdGVybm9vblwiLFxuICAgIGV2ZW5pbmc6IFwiaW4gdGhlIGV2ZW5pbmdcIixcbiAgICBuaWdodDogXCJhdCBuaWdodFwiLFxuICB9LFxuICB3aWRlOiB7XG4gICAgYW06IFwiYS5tLlwiLFxuICAgIHBtOiBcInAubS5cIixcbiAgICBtaWRuaWdodDogXCJtaWRuaWdodFwiLFxuICAgIG5vb246IFwibm9vblwiLFxuICAgIG1vcm5pbmc6IFwiaW4gdGhlIG1vcm5pbmdcIixcbiAgICBhZnRlcm5vb246IFwiaW4gdGhlIGFmdGVybm9vblwiLFxuICAgIGV2ZW5pbmc6IFwiaW4gdGhlIGV2ZW5pbmdcIixcbiAgICBuaWdodDogXCJhdCBuaWdodFwiLFxuICB9LFxufTtcblxuY29uc3Qgb3JkaW5hbE51bWJlciA9IChkaXJ0eU51bWJlciwgX29wdGlvbnMpID0+IHtcbiAgY29uc3QgbnVtYmVyID0gTnVtYmVyKGRpcnR5TnVtYmVyKTtcblxuICAvLyBJZiBvcmRpbmFsIG51bWJlcnMgZGVwZW5kIG9uIGNvbnRleHQsIGZvciBleGFtcGxlLFxuICAvLyBpZiB0aGV5IGFyZSBkaWZmZXJlbnQgZm9yIGRpZmZlcmVudCBncmFtbWF0aWNhbCBnZW5kZXJzLFxuICAvLyB1c2UgYG9wdGlvbnMudW5pdGAuXG4gIC8vXG4gIC8vIGB1bml0YCBjYW4gYmUgJ3llYXInLCAncXVhcnRlcicsICdtb250aCcsICd3ZWVrJywgJ2RhdGUnLCAnZGF5T2ZZZWFyJyxcbiAgLy8gJ2RheScsICdob3VyJywgJ21pbnV0ZScsICdzZWNvbmQnLlxuXG4gIGNvbnN0IHJlbTEwMCA9IG51bWJlciAlIDEwMDtcbiAgaWYgKHJlbTEwMCA+IDIwIHx8IHJlbTEwMCA8IDEwKSB7XG4gICAgc3dpdGNoIChyZW0xMDAgJSAxMCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gbnVtYmVyICsgXCJzdFwiO1xuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gbnVtYmVyICsgXCJuZFwiO1xuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gbnVtYmVyICsgXCJyZFwiO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVtYmVyICsgXCJ0aFwiO1xufTtcblxuZXhwb3J0IGNvbnN0IGxvY2FsaXplID0ge1xuICBvcmRpbmFsTnVtYmVyLFxuXG4gIGVyYTogYnVpbGRMb2NhbGl6ZUZuKHtcbiAgICB2YWx1ZXM6IGVyYVZhbHVlcyxcbiAgICBkZWZhdWx0V2lkdGg6IFwid2lkZVwiLFxuICB9KSxcblxuICBxdWFydGVyOiBidWlsZExvY2FsaXplRm4oe1xuICAgIHZhbHVlczogcXVhcnRlclZhbHVlcyxcbiAgICBkZWZhdWx0V2lkdGg6IFwid2lkZVwiLFxuICAgIGFyZ3VtZW50Q2FsbGJhY2s6IChxdWFydGVyKSA9PiBxdWFydGVyIC0gMSxcbiAgfSksXG5cbiAgbW9udGg6IGJ1aWxkTG9jYWxpemVGbih7XG4gICAgdmFsdWVzOiBtb250aFZhbHVlcyxcbiAgICBkZWZhdWx0V2lkdGg6IFwid2lkZVwiLFxuICB9KSxcblxuICBkYXk6IGJ1aWxkTG9jYWxpemVGbih7XG4gICAgdmFsdWVzOiBkYXlWYWx1ZXMsXG4gICAgZGVmYXVsdFdpZHRoOiBcIndpZGVcIixcbiAgfSksXG5cbiAgZGF5UGVyaW9kOiBidWlsZExvY2FsaXplRm4oe1xuICAgIHZhbHVlczogZGF5UGVyaW9kVmFsdWVzLFxuICAgIGRlZmF1bHRXaWR0aDogXCJ3aWRlXCIsXG4gICAgZm9ybWF0dGluZ1ZhbHVlczogZm9ybWF0dGluZ0RheVBlcmlvZFZhbHVlcyxcbiAgICBkZWZhdWx0Rm9ybWF0dGluZ1dpZHRoOiBcIndpZGVcIixcbiAgfSksXG59O1xuIiwgImV4cG9ydCBmdW5jdGlvbiBidWlsZE1hdGNoRm4oYXJncykge1xuICByZXR1cm4gKHN0cmluZywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgY29uc3Qgd2lkdGggPSBvcHRpb25zLndpZHRoO1xuXG4gICAgY29uc3QgbWF0Y2hQYXR0ZXJuID1cbiAgICAgICh3aWR0aCAmJiBhcmdzLm1hdGNoUGF0dGVybnNbd2lkdGhdKSB8fFxuICAgICAgYXJncy5tYXRjaFBhdHRlcm5zW2FyZ3MuZGVmYXVsdE1hdGNoV2lkdGhdO1xuICAgIGNvbnN0IG1hdGNoUmVzdWx0ID0gc3RyaW5nLm1hdGNoKG1hdGNoUGF0dGVybik7XG5cbiAgICBpZiAoIW1hdGNoUmVzdWx0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgbWF0Y2hlZFN0cmluZyA9IG1hdGNoUmVzdWx0WzBdO1xuXG4gICAgY29uc3QgcGFyc2VQYXR0ZXJucyA9XG4gICAgICAod2lkdGggJiYgYXJncy5wYXJzZVBhdHRlcm5zW3dpZHRoXSkgfHxcbiAgICAgIGFyZ3MucGFyc2VQYXR0ZXJuc1thcmdzLmRlZmF1bHRQYXJzZVdpZHRoXTtcblxuICAgIGNvbnN0IGtleSA9IEFycmF5LmlzQXJyYXkocGFyc2VQYXR0ZXJucylcbiAgICAgID8gZmluZEluZGV4KHBhcnNlUGF0dGVybnMsIChwYXR0ZXJuKSA9PiBwYXR0ZXJuLnRlc3QobWF0Y2hlZFN0cmluZykpXG4gICAgICA6IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55IC0tIEkgY2hhbGxhbmdlIHlvdSB0byBmaXggdGhlIHR5cGVcbiAgICAgICAgZmluZEtleShwYXJzZVBhdHRlcm5zLCAocGF0dGVybikgPT4gcGF0dGVybi50ZXN0KG1hdGNoZWRTdHJpbmcpKTtcblxuICAgIGxldCB2YWx1ZTtcblxuICAgIHZhbHVlID0gYXJncy52YWx1ZUNhbGxiYWNrID8gYXJncy52YWx1ZUNhbGxiYWNrKGtleSkgOiBrZXk7XG4gICAgdmFsdWUgPSBvcHRpb25zLnZhbHVlQ2FsbGJhY2tcbiAgICAgID8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgLS0gSSBjaGFsbGFuZ2UgeW91IHRvIGZpeCB0aGUgdHlwZVxuICAgICAgICBvcHRpb25zLnZhbHVlQ2FsbGJhY2sodmFsdWUpXG4gICAgICA6IHZhbHVlO1xuXG4gICAgY29uc3QgcmVzdCA9IHN0cmluZy5zbGljZShtYXRjaGVkU3RyaW5nLmxlbmd0aCk7XG5cbiAgICByZXR1cm4geyB2YWx1ZSwgcmVzdCB9O1xuICB9O1xufVxuXG5mdW5jdGlvbiBmaW5kS2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgIGlmIChcbiAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiZcbiAgICAgIHByZWRpY2F0ZShvYmplY3Rba2V5XSlcbiAgICApIHtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlKSB7XG4gIGZvciAobGV0IGtleSA9IDA7IGtleSA8IGFycmF5Lmxlbmd0aDsga2V5KyspIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2tleV0pKSB7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBidWlsZE1hdGNoUGF0dGVybkZuKGFyZ3MpIHtcbiAgcmV0dXJuIChzdHJpbmcsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IG1hdGNoUmVzdWx0ID0gc3RyaW5nLm1hdGNoKGFyZ3MubWF0Y2hQYXR0ZXJuKTtcbiAgICBpZiAoIW1hdGNoUmVzdWx0KSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBtYXRjaGVkU3RyaW5nID0gbWF0Y2hSZXN1bHRbMF07XG5cbiAgICBjb25zdCBwYXJzZVJlc3VsdCA9IHN0cmluZy5tYXRjaChhcmdzLnBhcnNlUGF0dGVybik7XG4gICAgaWYgKCFwYXJzZVJlc3VsdCkgcmV0dXJuIG51bGw7XG4gICAgbGV0IHZhbHVlID0gYXJncy52YWx1ZUNhbGxiYWNrXG4gICAgICA/IGFyZ3MudmFsdWVDYWxsYmFjayhwYXJzZVJlc3VsdFswXSlcbiAgICAgIDogcGFyc2VSZXN1bHRbMF07XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAtLSBJIGNoYWxsYW5nZSB5b3UgdG8gZml4IHRoZSB0eXBlXG4gICAgdmFsdWUgPSBvcHRpb25zLnZhbHVlQ2FsbGJhY2sgPyBvcHRpb25zLnZhbHVlQ2FsbGJhY2sodmFsdWUpIDogdmFsdWU7XG5cbiAgICBjb25zdCByZXN0ID0gc3RyaW5nLnNsaWNlKG1hdGNoZWRTdHJpbmcubGVuZ3RoKTtcblxuICAgIHJldHVybiB7IHZhbHVlLCByZXN0IH07XG4gIH07XG59XG4iLCAiaW1wb3J0IHsgYnVpbGRNYXRjaEZuIH0gZnJvbSBcIi4uLy4uL19saWIvYnVpbGRNYXRjaEZuLm1qc1wiO1xuaW1wb3J0IHsgYnVpbGRNYXRjaFBhdHRlcm5GbiB9IGZyb20gXCIuLi8uLi9fbGliL2J1aWxkTWF0Y2hQYXR0ZXJuRm4ubWpzXCI7XG5cbmNvbnN0IG1hdGNoT3JkaW5hbE51bWJlclBhdHRlcm4gPSAvXihcXGQrKSh0aHxzdHxuZHxyZCk/L2k7XG5jb25zdCBwYXJzZU9yZGluYWxOdW1iZXJQYXR0ZXJuID0gL1xcZCsvaTtcblxuY29uc3QgbWF0Y2hFcmFQYXR0ZXJucyA9IHtcbiAgbmFycm93OiAvXihifGEpL2ksXG4gIGFiYnJldmlhdGVkOiAvXihiXFwuP1xccz9jXFwuP3xiXFwuP1xccz9jXFwuP1xccz9lXFwuP3xhXFwuP1xccz9kXFwuP3xjXFwuP1xccz9lXFwuPykvaSxcbiAgd2lkZTogL14oYmVmb3JlIGNocmlzdHxiZWZvcmUgY29tbW9uIGVyYXxhbm5vIGRvbWluaXxjb21tb24gZXJhKS9pLFxufTtcbmNvbnN0IHBhcnNlRXJhUGF0dGVybnMgPSB7XG4gIGFueTogWy9eYi9pLCAvXihhfGMpL2ldLFxufTtcblxuY29uc3QgbWF0Y2hRdWFydGVyUGF0dGVybnMgPSB7XG4gIG5hcnJvdzogL15bMTIzNF0vaSxcbiAgYWJicmV2aWF0ZWQ6IC9ecVsxMjM0XS9pLFxuICB3aWRlOiAvXlsxMjM0XSh0aHxzdHxuZHxyZCk/IHF1YXJ0ZXIvaSxcbn07XG5jb25zdCBwYXJzZVF1YXJ0ZXJQYXR0ZXJucyA9IHtcbiAgYW55OiBbLzEvaSwgLzIvaSwgLzMvaSwgLzQvaV0sXG59O1xuXG5jb25zdCBtYXRjaE1vbnRoUGF0dGVybnMgPSB7XG4gIG5hcnJvdzogL15bamZtYXNvbmRdL2ksXG4gIGFiYnJldmlhdGVkOiAvXihqYW58ZmVifG1hcnxhcHJ8bWF5fGp1bnxqdWx8YXVnfHNlcHxvY3R8bm92fGRlYykvaSxcbiAgd2lkZTogL14oamFudWFyeXxmZWJydWFyeXxtYXJjaHxhcHJpbHxtYXl8anVuZXxqdWx5fGF1Z3VzdHxzZXB0ZW1iZXJ8b2N0b2Jlcnxub3ZlbWJlcnxkZWNlbWJlcikvaSxcbn07XG5jb25zdCBwYXJzZU1vbnRoUGF0dGVybnMgPSB7XG4gIG5hcnJvdzogW1xuICAgIC9eai9pLFxuICAgIC9eZi9pLFxuICAgIC9ebS9pLFxuICAgIC9eYS9pLFxuICAgIC9ebS9pLFxuICAgIC9eai9pLFxuICAgIC9eai9pLFxuICAgIC9eYS9pLFxuICAgIC9ecy9pLFxuICAgIC9eby9pLFxuICAgIC9ebi9pLFxuICAgIC9eZC9pLFxuICBdLFxuXG4gIGFueTogW1xuICAgIC9eamEvaSxcbiAgICAvXmYvaSxcbiAgICAvXm1hci9pLFxuICAgIC9eYXAvaSxcbiAgICAvXm1heS9pLFxuICAgIC9eanVuL2ksXG4gICAgL15qdWwvaSxcbiAgICAvXmF1L2ksXG4gICAgL15zL2ksXG4gICAgL15vL2ksXG4gICAgL15uL2ksXG4gICAgL15kL2ksXG4gIF0sXG59O1xuXG5jb25zdCBtYXRjaERheVBhdHRlcm5zID0ge1xuICBuYXJyb3c6IC9eW3NtdHdmXS9pLFxuICBzaG9ydDogL14oc3V8bW98dHV8d2V8dGh8ZnJ8c2EpL2ksXG4gIGFiYnJldmlhdGVkOiAvXihzdW58bW9ufHR1ZXx3ZWR8dGh1fGZyaXxzYXQpL2ksXG4gIHdpZGU6IC9eKHN1bmRheXxtb25kYXl8dHVlc2RheXx3ZWRuZXNkYXl8dGh1cnNkYXl8ZnJpZGF5fHNhdHVyZGF5KS9pLFxufTtcbmNvbnN0IHBhcnNlRGF5UGF0dGVybnMgPSB7XG4gIG5hcnJvdzogWy9ecy9pLCAvXm0vaSwgL150L2ksIC9edy9pLCAvXnQvaSwgL15mL2ksIC9ecy9pXSxcbiAgYW55OiBbL15zdS9pLCAvXm0vaSwgL150dS9pLCAvXncvaSwgL150aC9pLCAvXmYvaSwgL15zYS9pXSxcbn07XG5cbmNvbnN0IG1hdGNoRGF5UGVyaW9kUGF0dGVybnMgPSB7XG4gIG5hcnJvdzogL14oYXxwfG1pfG58KGluIHRoZXxhdCkgKG1vcm5pbmd8YWZ0ZXJub29ufGV2ZW5pbmd8bmlnaHQpKS9pLFxuICBhbnk6IC9eKFthcF1cXC4/XFxzP21cXC4/fG1pZG5pZ2h0fG5vb258KGluIHRoZXxhdCkgKG1vcm5pbmd8YWZ0ZXJub29ufGV2ZW5pbmd8bmlnaHQpKS9pLFxufTtcbmNvbnN0IHBhcnNlRGF5UGVyaW9kUGF0dGVybnMgPSB7XG4gIGFueToge1xuICAgIGFtOiAvXmEvaSxcbiAgICBwbTogL15wL2ksXG4gICAgbWlkbmlnaHQ6IC9ebWkvaSxcbiAgICBub29uOiAvXm5vL2ksXG4gICAgbW9ybmluZzogL21vcm5pbmcvaSxcbiAgICBhZnRlcm5vb246IC9hZnRlcm5vb24vaSxcbiAgICBldmVuaW5nOiAvZXZlbmluZy9pLFxuICAgIG5pZ2h0OiAvbmlnaHQvaSxcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBtYXRjaCA9IHtcbiAgb3JkaW5hbE51bWJlcjogYnVpbGRNYXRjaFBhdHRlcm5Gbih7XG4gICAgbWF0Y2hQYXR0ZXJuOiBtYXRjaE9yZGluYWxOdW1iZXJQYXR0ZXJuLFxuICAgIHBhcnNlUGF0dGVybjogcGFyc2VPcmRpbmFsTnVtYmVyUGF0dGVybixcbiAgICB2YWx1ZUNhbGxiYWNrOiAodmFsdWUpID0+IHBhcnNlSW50KHZhbHVlLCAxMCksXG4gIH0pLFxuXG4gIGVyYTogYnVpbGRNYXRjaEZuKHtcbiAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaEVyYVBhdHRlcm5zLFxuICAgIGRlZmF1bHRNYXRjaFdpZHRoOiBcIndpZGVcIixcbiAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZUVyYVBhdHRlcm5zLFxuICAgIGRlZmF1bHRQYXJzZVdpZHRoOiBcImFueVwiLFxuICB9KSxcblxuICBxdWFydGVyOiBidWlsZE1hdGNoRm4oe1xuICAgIG1hdGNoUGF0dGVybnM6IG1hdGNoUXVhcnRlclBhdHRlcm5zLFxuICAgIGRlZmF1bHRNYXRjaFdpZHRoOiBcIndpZGVcIixcbiAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZVF1YXJ0ZXJQYXR0ZXJucyxcbiAgICBkZWZhdWx0UGFyc2VXaWR0aDogXCJhbnlcIixcbiAgICB2YWx1ZUNhbGxiYWNrOiAoaW5kZXgpID0+IGluZGV4ICsgMSxcbiAgfSksXG5cbiAgbW9udGg6IGJ1aWxkTWF0Y2hGbih7XG4gICAgbWF0Y2hQYXR0ZXJuczogbWF0Y2hNb250aFBhdHRlcm5zLFxuICAgIGRlZmF1bHRNYXRjaFdpZHRoOiBcIndpZGVcIixcbiAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZU1vbnRoUGF0dGVybnMsXG4gICAgZGVmYXVsdFBhcnNlV2lkdGg6IFwiYW55XCIsXG4gIH0pLFxuXG4gIGRheTogYnVpbGRNYXRjaEZuKHtcbiAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaERheVBhdHRlcm5zLFxuICAgIGRlZmF1bHRNYXRjaFdpZHRoOiBcIndpZGVcIixcbiAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZURheVBhdHRlcm5zLFxuICAgIGRlZmF1bHRQYXJzZVdpZHRoOiBcImFueVwiLFxuICB9KSxcblxuICBkYXlQZXJpb2Q6IGJ1aWxkTWF0Y2hGbih7XG4gICAgbWF0Y2hQYXR0ZXJuczogbWF0Y2hEYXlQZXJpb2RQYXR0ZXJucyxcbiAgICBkZWZhdWx0TWF0Y2hXaWR0aDogXCJhbnlcIixcbiAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZURheVBlcmlvZFBhdHRlcm5zLFxuICAgIGRlZmF1bHRQYXJzZVdpZHRoOiBcImFueVwiLFxuICB9KSxcbn07XG4iLCAiaW1wb3J0IHsgZm9ybWF0RGlzdGFuY2UgfSBmcm9tIFwiLi9lbi1VUy9fbGliL2Zvcm1hdERpc3RhbmNlLm1qc1wiO1xuaW1wb3J0IHsgZm9ybWF0TG9uZyB9IGZyb20gXCIuL2VuLVVTL19saWIvZm9ybWF0TG9uZy5tanNcIjtcbmltcG9ydCB7IGZvcm1hdFJlbGF0aXZlIH0gZnJvbSBcIi4vZW4tVVMvX2xpYi9mb3JtYXRSZWxhdGl2ZS5tanNcIjtcbmltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSBcIi4vZW4tVVMvX2xpYi9sb2NhbGl6ZS5tanNcIjtcbmltcG9ydCB7IG1hdGNoIH0gZnJvbSBcIi4vZW4tVVMvX2xpYi9tYXRjaC5tanNcIjtcblxuLyoqXG4gKiBAY2F0ZWdvcnkgTG9jYWxlc1xuICogQHN1bW1hcnkgRW5nbGlzaCBsb2NhbGUgKFVuaXRlZCBTdGF0ZXMpLlxuICogQGxhbmd1YWdlIEVuZ2xpc2hcbiAqIEBpc28tNjM5LTIgZW5nXG4gKiBAYXV0aG9yIFNhc2hhIEtvc3MgW0Brb3Nzbm9jb3JwXShodHRwczovL2dpdGh1Yi5jb20va29zc25vY29ycClcbiAqIEBhdXRob3IgTGVzaGEgS29zcyBbQGxlc2hha29zc10oaHR0cHM6Ly9naXRodWIuY29tL2xlc2hha29zcylcbiAqL1xuZXhwb3J0IGNvbnN0IGVuVVMgPSB7XG4gIGNvZGU6IFwiZW4tVVNcIixcbiAgZm9ybWF0RGlzdGFuY2U6IGZvcm1hdERpc3RhbmNlLFxuICBmb3JtYXRMb25nOiBmb3JtYXRMb25nLFxuICBmb3JtYXRSZWxhdGl2ZTogZm9ybWF0UmVsYXRpdmUsXG4gIGxvY2FsaXplOiBsb2NhbGl6ZSxcbiAgbWF0Y2g6IG1hdGNoLFxuICBvcHRpb25zOiB7XG4gICAgd2Vla1N0YXJ0c09uOiAwIC8qIFN1bmRheSAqLyxcbiAgICBmaXJzdFdlZWtDb250YWluc0RhdGU6IDEsXG4gIH0sXG59O1xuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGVuVVM7XG4iLCAiaW1wb3J0IHsgZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzIH0gZnJvbSBcIi4vZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzLm1qc1wiO1xuaW1wb3J0IHsgc3RhcnRPZlllYXIgfSBmcm9tIFwiLi9zdGFydE9mWWVhci5tanNcIjtcbmltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBnZXREYXlPZlllYXJcbiAqIEBjYXRlZ29yeSBEYXkgSGVscGVyc1xuICogQHN1bW1hcnkgR2V0IHRoZSBkYXkgb2YgdGhlIHllYXIgb2YgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBHZXQgdGhlIGRheSBvZiB0aGUgeWVhciBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBnaXZlbiBkYXRlXG4gKlxuICogQHJldHVybnMgVGhlIGRheSBvZiB5ZWFyXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoaWNoIGRheSBvZiB0aGUgeWVhciBpcyAyIEp1bHkgMjAxND9cbiAqIGNvbnN0IHJlc3VsdCA9IGdldERheU9mWWVhcihuZXcgRGF0ZSgyMDE0LCA2LCAyKSlcbiAqIC8vPT4gMTgzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXlPZlllYXIoZGF0ZSkge1xuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgY29uc3QgZGlmZiA9IGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyhfZGF0ZSwgc3RhcnRPZlllYXIoX2RhdGUpKTtcbiAgY29uc3QgZGF5T2ZZZWFyID0gZGlmZiArIDE7XG4gIHJldHVybiBkYXlPZlllYXI7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgZ2V0RGF5T2ZZZWFyO1xuIiwgImltcG9ydCB7IG1pbGxpc2Vjb25kc0luV2VlayB9IGZyb20gXCIuL2NvbnN0YW50cy5tanNcIjtcbmltcG9ydCB7IHN0YXJ0T2ZJU09XZWVrIH0gZnJvbSBcIi4vc3RhcnRPZklTT1dlZWsubWpzXCI7XG5pbXBvcnQgeyBzdGFydE9mSVNPV2Vla1llYXIgfSBmcm9tIFwiLi9zdGFydE9mSVNPV2Vla1llYXIubWpzXCI7XG5pbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgZ2V0SVNPV2Vla1xuICogQGNhdGVnb3J5IElTTyBXZWVrIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEdldCB0aGUgSVNPIHdlZWsgb2YgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBHZXQgdGhlIElTTyB3ZWVrIG9mIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyOiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGVcbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBnaXZlbiBkYXRlXG4gKlxuICogQHJldHVybnMgVGhlIElTTyB3ZWVrXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoaWNoIHdlZWsgb2YgdGhlIElTTy13ZWVrIG51bWJlcmluZyB5ZWFyIGlzIDIgSmFudWFyeSAyMDA1P1xuICogY29uc3QgcmVzdWx0ID0gZ2V0SVNPV2VlayhuZXcgRGF0ZSgyMDA1LCAwLCAyKSlcbiAqIC8vPT4gNTNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldElTT1dlZWsoZGF0ZSkge1xuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgY29uc3QgZGlmZiA9ICtzdGFydE9mSVNPV2VlayhfZGF0ZSkgLSArc3RhcnRPZklTT1dlZWtZZWFyKF9kYXRlKTtcblxuICAvLyBSb3VuZCB0aGUgbnVtYmVyIG9mIHdlZWtzIHRvIHRoZSBuZWFyZXN0IGludGVnZXIgYmVjYXVzZSB0aGUgbnVtYmVyIG9mXG4gIC8vIG1pbGxpc2Vjb25kcyBpbiBhIHdlZWsgaXMgbm90IGNvbnN0YW50IChlLmcuIGl0J3MgZGlmZmVyZW50IGluIHRoZSB3ZWVrIG9mXG4gIC8vIHRoZSBkYXlsaWdodCBzYXZpbmcgdGltZSBjbG9jayBzaGlmdCkuXG4gIHJldHVybiBNYXRoLnJvdW5kKGRpZmYgLyBtaWxsaXNlY29uZHNJbldlZWspICsgMTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBnZXRJU09XZWVrO1xuIiwgImltcG9ydCB7IGNvbnN0cnVjdEZyb20gfSBmcm9tIFwiLi9jb25zdHJ1Y3RGcm9tLm1qc1wiO1xuaW1wb3J0IHsgc3RhcnRPZldlZWsgfSBmcm9tIFwiLi9zdGFydE9mV2Vlay5tanNcIjtcbmltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcbmltcG9ydCB7IGdldERlZmF1bHRPcHRpb25zIH0gZnJvbSBcIi4vX2xpYi9kZWZhdWx0T3B0aW9ucy5tanNcIjtcblxuLyoqXG4gKiBUaGUge0BsaW5rIGdldFdlZWtZZWFyfSBmdW5jdGlvbiBvcHRpb25zLlxuICovXG5cbi8qKlxuICogQG5hbWUgZ2V0V2Vla1llYXJcbiAqIEBjYXRlZ29yeSBXZWVrLU51bWJlcmluZyBZZWFyIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEdldCB0aGUgbG9jYWwgd2Vlay1udW1iZXJpbmcgeWVhciBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdldCB0aGUgbG9jYWwgd2Vlay1udW1iZXJpbmcgeWVhciBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSBleGFjdCBjYWxjdWxhdGlvbiBkZXBlbmRzIG9uIHRoZSB2YWx1ZXMgb2ZcbiAqIGBvcHRpb25zLndlZWtTdGFydHNPbmAgKHdoaWNoIGlzIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrKVxuICogYW5kIGBvcHRpb25zLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZWAgKHdoaWNoIGlzIHRoZSBkYXkgb2YgSmFudWFyeSwgd2hpY2ggaXMgYWx3YXlzIGluXG4gKiB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgd2Vlay1udW1iZXJpbmcgeWVhcilcbiAqXG4gKiBXZWVrIG51bWJlcmluZzogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvV2VlayNUaGVfSVNPX3dlZWtfZGF0ZV9zeXN0ZW1cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBnaXZlbiBkYXRlXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9iamVjdCB3aXRoIG9wdGlvbnMuXG4gKlxuICogQHJldHVybnMgVGhlIGxvY2FsIHdlZWstbnVtYmVyaW5nIHllYXJcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gV2hpY2ggd2VlayBudW1iZXJpbmcgeWVhciBpcyAyNiBEZWNlbWJlciAyMDA0IHdpdGggdGhlIGRlZmF1bHQgc2V0dGluZ3M/XG4gKiBjb25zdCByZXN1bHQgPSBnZXRXZWVrWWVhcihuZXcgRGF0ZSgyMDA0LCAxMSwgMjYpKVxuICogLy89PiAyMDA1XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoaWNoIHdlZWsgbnVtYmVyaW5nIHllYXIgaXMgMjYgRGVjZW1iZXIgMjAwNCBpZiB3ZWVrIHN0YXJ0cyBvbiBTYXR1cmRheT9cbiAqIGNvbnN0IHJlc3VsdCA9IGdldFdlZWtZZWFyKG5ldyBEYXRlKDIwMDQsIDExLCAyNiksIHsgd2Vla1N0YXJ0c09uOiA2IH0pXG4gKiAvLz0+IDIwMDRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gV2hpY2ggd2VlayBudW1iZXJpbmcgeWVhciBpcyAyNiBEZWNlbWJlciAyMDA0IGlmIHRoZSBmaXJzdCB3ZWVrIGNvbnRhaW5zIDQgSmFudWFyeT9cbiAqIGNvbnN0IHJlc3VsdCA9IGdldFdlZWtZZWFyKG5ldyBEYXRlKDIwMDQsIDExLCAyNiksIHsgZmlyc3RXZWVrQ29udGFpbnNEYXRlOiA0IH0pXG4gKiAvLz0+IDIwMDRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdlZWtZZWFyKGRhdGUsIG9wdGlvbnMpIHtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIGNvbnN0IHllYXIgPSBfZGF0ZS5nZXRGdWxsWWVhcigpO1xuXG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zID0gZ2V0RGVmYXVsdE9wdGlvbnMoKTtcbiAgY29uc3QgZmlyc3RXZWVrQ29udGFpbnNEYXRlID1cbiAgICBvcHRpb25zPy5maXJzdFdlZWtDb250YWluc0RhdGUgPz9cbiAgICBvcHRpb25zPy5sb2NhbGU/Lm9wdGlvbnM/LmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA/P1xuICAgIGRlZmF1bHRPcHRpb25zLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA/P1xuICAgIGRlZmF1bHRPcHRpb25zLmxvY2FsZT8ub3B0aW9ucz8uZmlyc3RXZWVrQ29udGFpbnNEYXRlID8/XG4gICAgMTtcblxuICBjb25zdCBmaXJzdFdlZWtPZk5leHRZZWFyID0gY29uc3RydWN0RnJvbShkYXRlLCAwKTtcbiAgZmlyc3RXZWVrT2ZOZXh0WWVhci5zZXRGdWxsWWVhcih5ZWFyICsgMSwgMCwgZmlyc3RXZWVrQ29udGFpbnNEYXRlKTtcbiAgZmlyc3RXZWVrT2ZOZXh0WWVhci5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgY29uc3Qgc3RhcnRPZk5leHRZZWFyID0gc3RhcnRPZldlZWsoZmlyc3RXZWVrT2ZOZXh0WWVhciwgb3B0aW9ucyk7XG5cbiAgY29uc3QgZmlyc3RXZWVrT2ZUaGlzWWVhciA9IGNvbnN0cnVjdEZyb20oZGF0ZSwgMCk7XG4gIGZpcnN0V2Vla09mVGhpc1llYXIuc2V0RnVsbFllYXIoeWVhciwgMCwgZmlyc3RXZWVrQ29udGFpbnNEYXRlKTtcbiAgZmlyc3RXZWVrT2ZUaGlzWWVhci5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgY29uc3Qgc3RhcnRPZlRoaXNZZWFyID0gc3RhcnRPZldlZWsoZmlyc3RXZWVrT2ZUaGlzWWVhciwgb3B0aW9ucyk7XG5cbiAgaWYgKF9kYXRlLmdldFRpbWUoKSA+PSBzdGFydE9mTmV4dFllYXIuZ2V0VGltZSgpKSB7XG4gICAgcmV0dXJuIHllYXIgKyAxO1xuICB9IGVsc2UgaWYgKF9kYXRlLmdldFRpbWUoKSA+PSBzdGFydE9mVGhpc1llYXIuZ2V0VGltZSgpKSB7XG4gICAgcmV0dXJuIHllYXI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHllYXIgLSAxO1xuICB9XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgZ2V0V2Vla1llYXI7XG4iLCAiaW1wb3J0IHsgY29uc3RydWN0RnJvbSB9IGZyb20gXCIuL2NvbnN0cnVjdEZyb20ubWpzXCI7XG5pbXBvcnQgeyBnZXRXZWVrWWVhciB9IGZyb20gXCIuL2dldFdlZWtZZWFyLm1qc1wiO1xuaW1wb3J0IHsgc3RhcnRPZldlZWsgfSBmcm9tIFwiLi9zdGFydE9mV2Vlay5tanNcIjtcbmltcG9ydCB7IGdldERlZmF1bHRPcHRpb25zIH0gZnJvbSBcIi4vX2xpYi9kZWZhdWx0T3B0aW9ucy5tanNcIjtcblxuLyoqXG4gKiBUaGUge0BsaW5rIHN0YXJ0T2ZXZWVrWWVhcn0gZnVuY3Rpb24gb3B0aW9ucy5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIHN0YXJ0T2ZXZWVrWWVhclxuICogQGNhdGVnb3J5IFdlZWstTnVtYmVyaW5nIFllYXIgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBzdGFydCBvZiBhIGxvY2FsIHdlZWstbnVtYmVyaW5nIHllYXIgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhIGxvY2FsIHdlZWstbnVtYmVyaW5nIHllYXIuXG4gKiBUaGUgZXhhY3QgY2FsY3VsYXRpb24gZGVwZW5kcyBvbiB0aGUgdmFsdWVzIG9mXG4gKiBgb3B0aW9ucy53ZWVrU3RhcnRzT25gICh3aGljaCBpcyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2VlaylcbiAqIGFuZCBgb3B0aW9ucy5maXJzdFdlZWtDb250YWluc0RhdGVgICh3aGljaCBpcyB0aGUgZGF5IG9mIEphbnVhcnksIHdoaWNoIGlzIGFsd2F5cyBpblxuICogdGhlIGZpcnN0IHdlZWsgb2YgdGhlIHdlZWstbnVtYmVyaW5nIHllYXIpXG4gKlxuICogV2VlayBudW1iZXJpbmc6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1dlZWsjVGhlX0lTT193ZWVrX2RhdGVfc3lzdGVtXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgb3JpZ2luYWwgZGF0ZVxuICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvYmplY3Qgd2l0aCBvcHRpb25zXG4gKlxuICogQHJldHVybnMgVGhlIHN0YXJ0IG9mIGEgd2Vlay1udW1iZXJpbmcgeWVhclxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYW4gYSB3ZWVrLW51bWJlcmluZyB5ZWFyIGZvciAyIEp1bHkgMjAwNSB3aXRoIGRlZmF1bHQgc2V0dGluZ3M6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mV2Vla1llYXIobmV3IERhdGUoMjAwNSwgNiwgMikpXG4gKiAvLz0+IFN1biBEZWMgMjYgMjAwNCAwMDowMDowMFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYSB3ZWVrLW51bWJlcmluZyB5ZWFyIGZvciAyIEp1bHkgMjAwNVxuICogLy8gaWYgTW9uZGF5IGlzIHRoZSBmaXJzdCBkYXkgb2Ygd2Vla1xuICogLy8gYW5kIDQgSmFudWFyeSBpcyBhbHdheXMgaW4gdGhlIGZpcnN0IHdlZWsgb2YgdGhlIHllYXI6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mV2Vla1llYXIobmV3IERhdGUoMjAwNSwgNiwgMiksIHtcbiAqICAgd2Vla1N0YXJ0c09uOiAxLFxuICogICBmaXJzdFdlZWtDb250YWluc0RhdGU6IDRcbiAqIH0pXG4gKiAvLz0+IE1vbiBKYW4gMDMgMjAwNSAwMDowMDowMFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZldlZWtZZWFyKGRhdGUsIG9wdGlvbnMpIHtcbiAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucygpO1xuICBjb25zdCBmaXJzdFdlZWtDb250YWluc0RhdGUgPVxuICAgIG9wdGlvbnM/LmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA/P1xuICAgIG9wdGlvbnM/LmxvY2FsZT8ub3B0aW9ucz8uZmlyc3RXZWVrQ29udGFpbnNEYXRlID8/XG4gICAgZGVmYXVsdE9wdGlvbnMuZmlyc3RXZWVrQ29udGFpbnNEYXRlID8/XG4gICAgZGVmYXVsdE9wdGlvbnMubG9jYWxlPy5vcHRpb25zPy5maXJzdFdlZWtDb250YWluc0RhdGUgPz9cbiAgICAxO1xuXG4gIGNvbnN0IHllYXIgPSBnZXRXZWVrWWVhcihkYXRlLCBvcHRpb25zKTtcbiAgY29uc3QgZmlyc3RXZWVrID0gY29uc3RydWN0RnJvbShkYXRlLCAwKTtcbiAgZmlyc3RXZWVrLnNldEZ1bGxZZWFyKHllYXIsIDAsIGZpcnN0V2Vla0NvbnRhaW5zRGF0ZSk7XG4gIGZpcnN0V2Vlay5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgY29uc3QgX2RhdGUgPSBzdGFydE9mV2VlayhmaXJzdFdlZWssIG9wdGlvbnMpO1xuICByZXR1cm4gX2RhdGU7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgc3RhcnRPZldlZWtZZWFyO1xuIiwgImltcG9ydCB7IG1pbGxpc2Vjb25kc0luV2VlayB9IGZyb20gXCIuL2NvbnN0YW50cy5tanNcIjtcbmltcG9ydCB7IHN0YXJ0T2ZXZWVrIH0gZnJvbSBcIi4vc3RhcnRPZldlZWsubWpzXCI7XG5pbXBvcnQgeyBzdGFydE9mV2Vla1llYXIgfSBmcm9tIFwiLi9zdGFydE9mV2Vla1llYXIubWpzXCI7XG5pbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5cbi8qKlxuICogVGhlIHtAbGluayBnZXRXZWVrfSBmdW5jdGlvbiBvcHRpb25zLlxuICovXG5cbi8qKlxuICogQG5hbWUgZ2V0V2Vla1xuICogQGNhdGVnb3J5IFdlZWsgSGVscGVyc1xuICogQHN1bW1hcnkgR2V0IHRoZSBsb2NhbCB3ZWVrIGluZGV4IG9mIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogR2V0IHRoZSBsb2NhbCB3ZWVrIGluZGV4IG9mIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIGV4YWN0IGNhbGN1bGF0aW9uIGRlcGVuZHMgb24gdGhlIHZhbHVlcyBvZlxuICogYG9wdGlvbnMud2Vla1N0YXJ0c09uYCAod2hpY2ggaXMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWspXG4gKiBhbmQgYG9wdGlvbnMuZmlyc3RXZWVrQ29udGFpbnNEYXRlYCAod2hpY2ggaXMgdGhlIGRheSBvZiBKYW51YXJ5LCB3aGljaCBpcyBhbHdheXMgaW5cbiAqIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB3ZWVrLW51bWJlcmluZyB5ZWFyKVxuICpcbiAqIFdlZWsgbnVtYmVyaW5nOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9XZWVrI1RoZV9JU09fd2Vla19kYXRlX3N5c3RlbVxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIGdpdmVuIGRhdGVcbiAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb2JqZWN0IHdpdGggb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIFRoZSB3ZWVrXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoaWNoIHdlZWsgb2YgdGhlIGxvY2FsIHdlZWsgbnVtYmVyaW5nIHllYXIgaXMgMiBKYW51YXJ5IDIwMDUgd2l0aCBkZWZhdWx0IG9wdGlvbnM/XG4gKiBjb25zdCByZXN1bHQgPSBnZXRXZWVrKG5ldyBEYXRlKDIwMDUsIDAsIDIpKVxuICogLy89PiAyXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoaWNoIHdlZWsgb2YgdGhlIGxvY2FsIHdlZWsgbnVtYmVyaW5nIHllYXIgaXMgMiBKYW51YXJ5IDIwMDUsXG4gKiAvLyBpZiBNb25kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2VlayxcbiAqIC8vIGFuZCB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgeWVhciBhbHdheXMgY29udGFpbnMgNCBKYW51YXJ5P1xuICogY29uc3QgcmVzdWx0ID0gZ2V0V2VlayhuZXcgRGF0ZSgyMDA1LCAwLCAyKSwge1xuICogICB3ZWVrU3RhcnRzT246IDEsXG4gKiAgIGZpcnN0V2Vla0NvbnRhaW5zRGF0ZTogNFxuICogfSlcbiAqIC8vPT4gNTNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2VlayhkYXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICBjb25zdCBkaWZmID0gK3N0YXJ0T2ZXZWVrKF9kYXRlLCBvcHRpb25zKSAtICtzdGFydE9mV2Vla1llYXIoX2RhdGUsIG9wdGlvbnMpO1xuXG4gIC8vIFJvdW5kIHRoZSBudW1iZXIgb2Ygd2Vla3MgdG8gdGhlIG5lYXJlc3QgaW50ZWdlciBiZWNhdXNlIHRoZSBudW1iZXIgb2ZcbiAgLy8gbWlsbGlzZWNvbmRzIGluIGEgd2VlayBpcyBub3QgY29uc3RhbnQgKGUuZy4gaXQncyBkaWZmZXJlbnQgaW4gdGhlIHdlZWsgb2ZcbiAgLy8gdGhlIGRheWxpZ2h0IHNhdmluZyB0aW1lIGNsb2NrIHNoaWZ0KS5cbiAgcmV0dXJuIE1hdGgucm91bmQoZGlmZiAvIG1pbGxpc2Vjb25kc0luV2VlaykgKyAxO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGdldFdlZWs7XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGFkZExlYWRpbmdaZXJvcyhudW1iZXIsIHRhcmdldExlbmd0aCkge1xuICBjb25zdCBzaWduID0gbnVtYmVyIDwgMCA/IFwiLVwiIDogXCJcIjtcbiAgY29uc3Qgb3V0cHV0ID0gTWF0aC5hYnMobnVtYmVyKS50b1N0cmluZygpLnBhZFN0YXJ0KHRhcmdldExlbmd0aCwgXCIwXCIpO1xuICByZXR1cm4gc2lnbiArIG91dHB1dDtcbn1cbiIsICJpbXBvcnQgeyBhZGRMZWFkaW5nWmVyb3MgfSBmcm9tIFwiLi4vYWRkTGVhZGluZ1plcm9zLm1qc1wiO1xuXG4vKlxuICogfCAgICAgfCBVbml0ICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgfCBVbml0ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICogfCAgYSAgfCBBTSwgUE0gICAgICAgICAgICAgICAgICAgICAgICAgfCAgQSogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCAgZCAgfCBEYXkgb2YgbW9udGggICAgICAgICAgICAgICAgICAgfCAgRCAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCAgaCAgfCBIb3VyIFsxLTEyXSAgICAgICAgICAgICAgICAgICAgfCAgSCAgfCBIb3VyIFswLTIzXSAgICAgICAgICAgICAgICAgICAgfFxuICogfCAgbSAgfCBNaW51dGUgICAgICAgICAgICAgICAgICAgICAgICAgfCAgTSAgfCBNb250aCAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCAgcyAgfCBTZWNvbmQgICAgICAgICAgICAgICAgICAgICAgICAgfCAgUyAgfCBGcmFjdGlvbiBvZiBzZWNvbmQgICAgICAgICAgICAgfFxuICogfCAgeSAgfCBZZWFyIChhYnMpICAgICAgICAgICAgICAgICAgICAgfCAgWSAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICpcbiAqIExldHRlcnMgbWFya2VkIGJ5ICogYXJlIG5vdCBpbXBsZW1lbnRlZCBidXQgcmVzZXJ2ZWQgYnkgVW5pY29kZSBzdGFuZGFyZC5cbiAqL1xuXG5leHBvcnQgY29uc3QgbGlnaHRGb3JtYXR0ZXJzID0ge1xuICAvLyBZZWFyXG4gIHkoZGF0ZSwgdG9rZW4pIHtcbiAgICAvLyBGcm9tIGh0dHA6Ly93d3cudW5pY29kZS5vcmcvcmVwb3J0cy90cjM1L3RyMzUtMzEvdHIzNS1kYXRlcy5odG1sI0RhdGVfRm9ybWF0X3Rva2Vuc1xuICAgIC8vIHwgWWVhciAgICAgfCAgICAgeSB8IHl5IHwgICB5eXkgfCAgeXl5eSB8IHl5eXl5IHxcbiAgICAvLyB8LS0tLS0tLS0tLXwtLS0tLS0tfC0tLS18LS0tLS0tLXwtLS0tLS0tfC0tLS0tLS18XG4gICAgLy8gfCBBRCAxICAgICB8ICAgICAxIHwgMDEgfCAgIDAwMSB8ICAwMDAxIHwgMDAwMDEgfFxuICAgIC8vIHwgQUQgMTIgICAgfCAgICAxMiB8IDEyIHwgICAwMTIgfCAgMDAxMiB8IDAwMDEyIHxcbiAgICAvLyB8IEFEIDEyMyAgIHwgICAxMjMgfCAyMyB8ICAgMTIzIHwgIDAxMjMgfCAwMDEyMyB8XG4gICAgLy8gfCBBRCAxMjM0ICB8ICAxMjM0IHwgMzQgfCAgMTIzNCB8ICAxMjM0IHwgMDEyMzQgfFxuICAgIC8vIHwgQUQgMTIzNDUgfCAxMjM0NSB8IDQ1IHwgMTIzNDUgfCAxMjM0NSB8IDEyMzQ1IHxcblxuICAgIGNvbnN0IHNpZ25lZFllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgLy8gUmV0dXJucyAxIGZvciAxIEJDICh3aGljaCBpcyB5ZWFyIDAgaW4gSmF2YVNjcmlwdClcbiAgICBjb25zdCB5ZWFyID0gc2lnbmVkWWVhciA+IDAgPyBzaWduZWRZZWFyIDogMSAtIHNpZ25lZFllYXI7XG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyh0b2tlbiA9PT0gXCJ5eVwiID8geWVhciAlIDEwMCA6IHllYXIsIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gTW9udGhcbiAgTShkYXRlLCB0b2tlbikge1xuICAgIGNvbnN0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xuICAgIHJldHVybiB0b2tlbiA9PT0gXCJNXCIgPyBTdHJpbmcobW9udGggKyAxKSA6IGFkZExlYWRpbmdaZXJvcyhtb250aCArIDEsIDIpO1xuICB9LFxuXG4gIC8vIERheSBvZiB0aGUgbW9udGhcbiAgZChkYXRlLCB0b2tlbikge1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoZGF0ZS5nZXREYXRlKCksIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gQU0gb3IgUE1cbiAgYShkYXRlLCB0b2tlbikge1xuICAgIGNvbnN0IGRheVBlcmlvZEVudW1WYWx1ZSA9IGRhdGUuZ2V0SG91cnMoKSAvIDEyID49IDEgPyBcInBtXCIgOiBcImFtXCI7XG5cbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICBjYXNlIFwiYVwiOlxuICAgICAgY2FzZSBcImFhXCI6XG4gICAgICAgIHJldHVybiBkYXlQZXJpb2RFbnVtVmFsdWUudG9VcHBlckNhc2UoKTtcbiAgICAgIGNhc2UgXCJhYWFcIjpcbiAgICAgICAgcmV0dXJuIGRheVBlcmlvZEVudW1WYWx1ZTtcbiAgICAgIGNhc2UgXCJhYWFhYVwiOlxuICAgICAgICByZXR1cm4gZGF5UGVyaW9kRW51bVZhbHVlWzBdO1xuICAgICAgY2FzZSBcImFhYWFcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBkYXlQZXJpb2RFbnVtVmFsdWUgPT09IFwiYW1cIiA/IFwiYS5tLlwiIDogXCJwLm0uXCI7XG4gICAgfVxuICB9LFxuXG4gIC8vIEhvdXIgWzEtMTJdXG4gIGgoZGF0ZSwgdG9rZW4pIHtcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGRhdGUuZ2V0SG91cnMoKSAlIDEyIHx8IDEyLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIEhvdXIgWzAtMjNdXG4gIEgoZGF0ZSwgdG9rZW4pIHtcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGRhdGUuZ2V0SG91cnMoKSwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBNaW51dGVcbiAgbShkYXRlLCB0b2tlbikge1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoZGF0ZS5nZXRNaW51dGVzKCksIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gU2Vjb25kXG4gIHMoZGF0ZSwgdG9rZW4pIHtcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGRhdGUuZ2V0U2Vjb25kcygpLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIEZyYWN0aW9uIG9mIHNlY29uZFxuICBTKGRhdGUsIHRva2VuKSB7XG4gICAgY29uc3QgbnVtYmVyT2ZEaWdpdHMgPSB0b2tlbi5sZW5ndGg7XG4gICAgY29uc3QgbWlsbGlzZWNvbmRzID0gZGF0ZS5nZXRNaWxsaXNlY29uZHMoKTtcbiAgICBjb25zdCBmcmFjdGlvbmFsU2Vjb25kcyA9IE1hdGgudHJ1bmMoXG4gICAgICBtaWxsaXNlY29uZHMgKiBNYXRoLnBvdygxMCwgbnVtYmVyT2ZEaWdpdHMgLSAzKSxcbiAgICApO1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoZnJhY3Rpb25hbFNlY29uZHMsIHRva2VuLmxlbmd0aCk7XG4gIH0sXG59O1xuIiwgImltcG9ydCB7IGdldERheU9mWWVhciB9IGZyb20gXCIuLi8uLi9nZXREYXlPZlllYXIubWpzXCI7XG5pbXBvcnQgeyBnZXRJU09XZWVrIH0gZnJvbSBcIi4uLy4uL2dldElTT1dlZWsubWpzXCI7XG5pbXBvcnQgeyBnZXRJU09XZWVrWWVhciB9IGZyb20gXCIuLi8uLi9nZXRJU09XZWVrWWVhci5tanNcIjtcbmltcG9ydCB7IGdldFdlZWsgfSBmcm9tIFwiLi4vLi4vZ2V0V2Vlay5tanNcIjtcbmltcG9ydCB7IGdldFdlZWtZZWFyIH0gZnJvbSBcIi4uLy4uL2dldFdlZWtZZWFyLm1qc1wiO1xuaW1wb3J0IHsgYWRkTGVhZGluZ1plcm9zIH0gZnJvbSBcIi4uL2FkZExlYWRpbmdaZXJvcy5tanNcIjtcbmltcG9ydCB7IGxpZ2h0Rm9ybWF0dGVycyB9IGZyb20gXCIuL2xpZ2h0Rm9ybWF0dGVycy5tanNcIjtcblxuY29uc3QgZGF5UGVyaW9kRW51bSA9IHtcbiAgYW06IFwiYW1cIixcbiAgcG06IFwicG1cIixcbiAgbWlkbmlnaHQ6IFwibWlkbmlnaHRcIixcbiAgbm9vbjogXCJub29uXCIsXG4gIG1vcm5pbmc6IFwibW9ybmluZ1wiLFxuICBhZnRlcm5vb246IFwiYWZ0ZXJub29uXCIsXG4gIGV2ZW5pbmc6IFwiZXZlbmluZ1wiLFxuICBuaWdodDogXCJuaWdodFwiLFxufTtcblxuLypcbiAqIHwgICAgIHwgVW5pdCAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgIHwgVW5pdCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwtLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwgIGEgIHwgQU0sIFBNICAgICAgICAgICAgICAgICAgICAgICAgIHwgIEEqIHwgTWlsbGlzZWNvbmRzIGluIGRheSAgICAgICAgICAgIHxcbiAqIHwgIGIgIHwgQU0sIFBNLCBub29uLCBtaWRuaWdodCAgICAgICAgIHwgIEIgIHwgRmxleGlibGUgZGF5IHBlcmlvZCAgICAgICAgICAgIHxcbiAqIHwgIGMgIHwgU3RhbmQtYWxvbmUgbG9jYWwgZGF5IG9mIHdlZWsgIHwgIEMqIHwgTG9jYWxpemVkIGhvdXIgdy8gZGF5IHBlcmlvZCAgIHxcbiAqIHwgIGQgIHwgRGF5IG9mIG1vbnRoICAgICAgICAgICAgICAgICAgIHwgIEQgIHwgRGF5IG9mIHllYXIgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIGUgIHwgTG9jYWwgZGF5IG9mIHdlZWsgICAgICAgICAgICAgIHwgIEUgIHwgRGF5IG9mIHdlZWsgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIGYgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgIEYqIHwgRGF5IG9mIHdlZWsgaW4gbW9udGggICAgICAgICAgIHxcbiAqIHwgIGcqIHwgTW9kaWZpZWQgSnVsaWFuIGRheSAgICAgICAgICAgIHwgIEcgIHwgRXJhICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIGggIHwgSG91ciBbMS0xMl0gICAgICAgICAgICAgICAgICAgIHwgIEggIHwgSG91ciBbMC0yM10gICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIGkhIHwgSVNPIGRheSBvZiB3ZWVrICAgICAgICAgICAgICAgIHwgIEkhIHwgSVNPIHdlZWsgb2YgeWVhciAgICAgICAgICAgICAgIHxcbiAqIHwgIGoqIHwgTG9jYWxpemVkIGhvdXIgdy8gZGF5IHBlcmlvZCAgIHwgIEoqIHwgTG9jYWxpemVkIGhvdXIgdy9vIGRheSBwZXJpb2QgIHxcbiAqIHwgIGsgIHwgSG91ciBbMS0yNF0gICAgICAgICAgICAgICAgICAgIHwgIEsgIHwgSG91ciBbMC0xMV0gICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIGwqIHwgKGRlcHJlY2F0ZWQpICAgICAgICAgICAgICAgICAgIHwgIEwgIHwgU3RhbmQtYWxvbmUgbW9udGggICAgICAgICAgICAgIHxcbiAqIHwgIG0gIHwgTWludXRlICAgICAgICAgICAgICAgICAgICAgICAgIHwgIE0gIHwgTW9udGggICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIG4gIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgIE4gIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIG8hIHwgT3JkaW5hbCBudW1iZXIgbW9kaWZpZXIgICAgICAgIHwgIE8gIHwgVGltZXpvbmUgKEdNVCkgICAgICAgICAgICAgICAgIHxcbiAqIHwgIHAhIHwgTG9uZyBsb2NhbGl6ZWQgdGltZSAgICAgICAgICAgIHwgIFAhIHwgTG9uZyBsb2NhbGl6ZWQgZGF0ZSAgICAgICAgICAgIHxcbiAqIHwgIHEgIHwgU3RhbmQtYWxvbmUgcXVhcnRlciAgICAgICAgICAgIHwgIFEgIHwgUXVhcnRlciAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIHIqIHwgUmVsYXRlZCBHcmVnb3JpYW4geWVhciAgICAgICAgIHwgIFIhIHwgSVNPIHdlZWstbnVtYmVyaW5nIHllYXIgICAgICAgIHxcbiAqIHwgIHMgIHwgU2Vjb25kICAgICAgICAgICAgICAgICAgICAgICAgIHwgIFMgIHwgRnJhY3Rpb24gb2Ygc2Vjb25kICAgICAgICAgICAgIHxcbiAqIHwgIHQhIHwgU2Vjb25kcyB0aW1lc3RhbXAgICAgICAgICAgICAgIHwgIFQhIHwgTWlsbGlzZWNvbmRzIHRpbWVzdGFtcCAgICAgICAgIHxcbiAqIHwgIHUgIHwgRXh0ZW5kZWQgeWVhciAgICAgICAgICAgICAgICAgIHwgIFUqIHwgQ3ljbGljIHllYXIgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIHYqIHwgVGltZXpvbmUgKGdlbmVyaWMgbm9uLWxvY2F0LikgIHwgIFYqIHwgVGltZXpvbmUgKGxvY2F0aW9uKSAgICAgICAgICAgIHxcbiAqIHwgIHcgIHwgTG9jYWwgd2VlayBvZiB5ZWFyICAgICAgICAgICAgIHwgIFcqIHwgV2VlayBvZiBtb250aCAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIHggIHwgVGltZXpvbmUgKElTTy04NjAxIHcvbyBaKSAgICAgIHwgIFggIHwgVGltZXpvbmUgKElTTy04NjAxKSAgICAgICAgICAgIHxcbiAqIHwgIHkgIHwgWWVhciAoYWJzKSAgICAgICAgICAgICAgICAgICAgIHwgIFkgIHwgTG9jYWwgd2Vlay1udW1iZXJpbmcgeWVhciAgICAgIHxcbiAqIHwgIHogIHwgVGltZXpvbmUgKHNwZWNpZmljIG5vbi1sb2NhdC4pIHwgIFoqIHwgVGltZXpvbmUgKGFsaWFzZXMpICAgICAgICAgICAgIHxcbiAqXG4gKiBMZXR0ZXJzIG1hcmtlZCBieSAqIGFyZSBub3QgaW1wbGVtZW50ZWQgYnV0IHJlc2VydmVkIGJ5IFVuaWNvZGUgc3RhbmRhcmQuXG4gKlxuICogTGV0dGVycyBtYXJrZWQgYnkgISBhcmUgbm9uLXN0YW5kYXJkLCBidXQgaW1wbGVtZW50ZWQgYnkgZGF0ZS1mbnM6XG4gKiAtIGBvYCBtb2RpZmllcyB0aGUgcHJldmlvdXMgdG9rZW4gdG8gdHVybiBpdCBpbnRvIGFuIG9yZGluYWwgKHNlZSBgZm9ybWF0YCBkb2NzKVxuICogLSBgaWAgaXMgSVNPIGRheSBvZiB3ZWVrLiBGb3IgYGlgIGFuZCBgaWlgIGlzIHJldHVybnMgbnVtZXJpYyBJU08gd2VlayBkYXlzLFxuICogICBpLmUuIDcgZm9yIFN1bmRheSwgMSBmb3IgTW9uZGF5LCBldGMuXG4gKiAtIGBJYCBpcyBJU08gd2VlayBvZiB5ZWFyLCBhcyBvcHBvc2VkIHRvIGB3YCB3aGljaCBpcyBsb2NhbCB3ZWVrIG9mIHllYXIuXG4gKiAtIGBSYCBpcyBJU08gd2Vlay1udW1iZXJpbmcgeWVhciwgYXMgb3Bwb3NlZCB0byBgWWAgd2hpY2ggaXMgbG9jYWwgd2Vlay1udW1iZXJpbmcgeWVhci5cbiAqICAgYFJgIGlzIHN1cHBvc2VkIHRvIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBgSWAgYW5kIGBpYFxuICogICBmb3IgdW5pdmVyc2FsIElTTyB3ZWVrLW51bWJlcmluZyBkYXRlLCB3aGVyZWFzXG4gKiAgIGBZYCBpcyBzdXBwb3NlZCB0byBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYHdgIGFuZCBgZWBcbiAqICAgZm9yIHdlZWstbnVtYmVyaW5nIGRhdGUgc3BlY2lmaWMgdG8gdGhlIGxvY2FsZS5cbiAqIC0gYFBgIGlzIGxvbmcgbG9jYWxpemVkIGRhdGUgZm9ybWF0XG4gKiAtIGBwYCBpcyBsb25nIGxvY2FsaXplZCB0aW1lIGZvcm1hdFxuICovXG5cbmV4cG9ydCBjb25zdCBmb3JtYXR0ZXJzID0ge1xuICAvLyBFcmFcbiAgRzogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGNvbnN0IGVyYSA9IGRhdGUuZ2V0RnVsbFllYXIoKSA+IDAgPyAxIDogMDtcbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyBBRCwgQkNcbiAgICAgIGNhc2UgXCJHXCI6XG4gICAgICBjYXNlIFwiR0dcIjpcbiAgICAgIGNhc2UgXCJHR0dcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmVyYShlcmEsIHsgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIiB9KTtcbiAgICAgIC8vIEEsIEJcbiAgICAgIGNhc2UgXCJHR0dHR1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZXJhKGVyYSwgeyB3aWR0aDogXCJuYXJyb3dcIiB9KTtcbiAgICAgIC8vIEFubm8gRG9taW5pLCBCZWZvcmUgQ2hyaXN0XG4gICAgICBjYXNlIFwiR0dHR1wiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmVyYShlcmEsIHsgd2lkdGg6IFwid2lkZVwiIH0pO1xuICAgIH1cbiAgfSxcblxuICAvLyBZZWFyXG4gIHk6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICAvLyBPcmRpbmFsIG51bWJlclxuICAgIGlmICh0b2tlbiA9PT0gXCJ5b1wiKSB7XG4gICAgICBjb25zdCBzaWduZWRZZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgLy8gUmV0dXJucyAxIGZvciAxIEJDICh3aGljaCBpcyB5ZWFyIDAgaW4gSmF2YVNjcmlwdClcbiAgICAgIGNvbnN0IHllYXIgPSBzaWduZWRZZWFyID4gMCA/IHNpZ25lZFllYXIgOiAxIC0gc2lnbmVkWWVhcjtcbiAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKHllYXIsIHsgdW5pdDogXCJ5ZWFyXCIgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpZ2h0Rm9ybWF0dGVycy55KGRhdGUsIHRva2VuKTtcbiAgfSxcblxuICAvLyBMb2NhbCB3ZWVrLW51bWJlcmluZyB5ZWFyXG4gIFk6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzaWduZWRXZWVrWWVhciA9IGdldFdlZWtZZWFyKGRhdGUsIG9wdGlvbnMpO1xuICAgIC8vIFJldHVybnMgMSBmb3IgMSBCQyAod2hpY2ggaXMgeWVhciAwIGluIEphdmFTY3JpcHQpXG4gICAgY29uc3Qgd2Vla1llYXIgPSBzaWduZWRXZWVrWWVhciA+IDAgPyBzaWduZWRXZWVrWWVhciA6IDEgLSBzaWduZWRXZWVrWWVhcjtcblxuICAgIC8vIFR3byBkaWdpdCB5ZWFyXG4gICAgaWYgKHRva2VuID09PSBcIllZXCIpIHtcbiAgICAgIGNvbnN0IHR3b0RpZ2l0WWVhciA9IHdlZWtZZWFyICUgMTAwO1xuICAgICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyh0d29EaWdpdFllYXIsIDIpO1xuICAgIH1cblxuICAgIC8vIE9yZGluYWwgbnVtYmVyXG4gICAgaWYgKHRva2VuID09PSBcIllvXCIpIHtcbiAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKHdlZWtZZWFyLCB7IHVuaXQ6IFwieWVhclwiIH0pO1xuICAgIH1cblxuICAgIC8vIFBhZGRpbmdcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKHdlZWtZZWFyLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyXG4gIFI6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbikge1xuICAgIGNvbnN0IGlzb1dlZWtZZWFyID0gZ2V0SVNPV2Vla1llYXIoZGF0ZSk7XG5cbiAgICAvLyBQYWRkaW5nXG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhpc29XZWVrWWVhciwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBFeHRlbmRlZCB5ZWFyLiBUaGlzIGlzIGEgc2luZ2xlIG51bWJlciBkZXNpZ25hdGluZyB0aGUgeWVhciBvZiB0aGlzIGNhbGVuZGFyIHN5c3RlbS5cbiAgLy8gVGhlIG1haW4gZGlmZmVyZW5jZSBiZXR3ZWVuIGB5YCBhbmQgYHVgIGxvY2FsaXplcnMgYXJlIEIuQy4geWVhcnM6XG4gIC8vIHwgWWVhciB8IGB5YCB8IGB1YCB8XG4gIC8vIHwtLS0tLS18LS0tLS18LS0tLS18XG4gIC8vIHwgQUMgMSB8ICAgMSB8ICAgMSB8XG4gIC8vIHwgQkMgMSB8ICAgMSB8ICAgMCB8XG4gIC8vIHwgQkMgMiB8ICAgMiB8ICAtMSB8XG4gIC8vIEFsc28gYHl5YCBhbHdheXMgcmV0dXJucyB0aGUgbGFzdCB0d28gZGlnaXRzIG9mIGEgeWVhcixcbiAgLy8gd2hpbGUgYHV1YCBwYWRzIHNpbmdsZSBkaWdpdCB5ZWFycyB0byAyIGNoYXJhY3RlcnMgYW5kIHJldHVybnMgb3RoZXIgeWVhcnMgdW5jaGFuZ2VkLlxuICB1OiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4pIHtcbiAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoeWVhciwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBRdWFydGVyXG4gIFE6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBjb25zdCBxdWFydGVyID0gTWF0aC5jZWlsKChkYXRlLmdldE1vbnRoKCkgKyAxKSAvIDMpO1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIC8vIDEsIDIsIDMsIDRcbiAgICAgIGNhc2UgXCJRXCI6XG4gICAgICAgIHJldHVybiBTdHJpbmcocXVhcnRlcik7XG4gICAgICAvLyAwMSwgMDIsIDAzLCAwNFxuICAgICAgY2FzZSBcIlFRXCI6XG4gICAgICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MocXVhcnRlciwgMik7XG4gICAgICAvLyAxc3QsIDJuZCwgM3JkLCA0dGhcbiAgICAgIGNhc2UgXCJRb1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihxdWFydGVyLCB7IHVuaXQ6IFwicXVhcnRlclwiIH0pO1xuICAgICAgLy8gUTEsIFEyLCBRMywgUTRcbiAgICAgIGNhc2UgXCJRUVFcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLnF1YXJ0ZXIocXVhcnRlciwge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gMSwgMiwgMywgNCAobmFycm93IHF1YXJ0ZXI7IGNvdWxkIGJlIG5vdCBudW1lcmljYWwpXG4gICAgICBjYXNlIFwiUVFRUVFcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLnF1YXJ0ZXIocXVhcnRlciwge1xuICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIDFzdCBxdWFydGVyLCAybmQgcXVhcnRlciwgLi4uXG4gICAgICBjYXNlIFwiUVFRUVwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLnF1YXJ0ZXIocXVhcnRlciwge1xuICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIFN0YW5kLWFsb25lIHF1YXJ0ZXJcbiAgcTogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGNvbnN0IHF1YXJ0ZXIgPSBNYXRoLmNlaWwoKGRhdGUuZ2V0TW9udGgoKSArIDEpIC8gMyk7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gMSwgMiwgMywgNFxuICAgICAgY2FzZSBcInFcIjpcbiAgICAgICAgcmV0dXJuIFN0cmluZyhxdWFydGVyKTtcbiAgICAgIC8vIDAxLCAwMiwgMDMsIDA0XG4gICAgICBjYXNlIFwicXFcIjpcbiAgICAgICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhxdWFydGVyLCAyKTtcbiAgICAgIC8vIDFzdCwgMm5kLCAzcmQsIDR0aFxuICAgICAgY2FzZSBcInFvXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKHF1YXJ0ZXIsIHsgdW5pdDogXCJxdWFydGVyXCIgfSk7XG4gICAgICAvLyBRMSwgUTIsIFEzLCBRNFxuICAgICAgY2FzZSBcInFxcVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUucXVhcnRlcihxdWFydGVyLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyAxLCAyLCAzLCA0IChuYXJyb3cgcXVhcnRlcjsgY291bGQgYmUgbm90IG51bWVyaWNhbClcbiAgICAgIGNhc2UgXCJxcXFxcVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUucXVhcnRlcihxdWFydGVyLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gMXN0IHF1YXJ0ZXIsIDJuZCBxdWFydGVyLCAuLi5cbiAgICAgIGNhc2UgXCJxcXFxXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUucXVhcnRlcihxdWFydGVyLCB7XG4gICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gTW9udGhcbiAgTTogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGNvbnN0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIGNhc2UgXCJNXCI6XG4gICAgICBjYXNlIFwiTU1cIjpcbiAgICAgICAgcmV0dXJuIGxpZ2h0Rm9ybWF0dGVycy5NKGRhdGUsIHRva2VuKTtcbiAgICAgIC8vIDFzdCwgMm5kLCAuLi4sIDEydGhcbiAgICAgIGNhc2UgXCJNb1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihtb250aCArIDEsIHsgdW5pdDogXCJtb250aFwiIH0pO1xuICAgICAgLy8gSmFuLCBGZWIsIC4uLiwgRGVjXG4gICAgICBjYXNlIFwiTU1NXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5tb250aChtb250aCwge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gSiwgRiwgLi4uLCBEXG4gICAgICBjYXNlIFwiTU1NTU1cIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLm1vbnRoKG1vbnRoLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gSmFudWFyeSwgRmVicnVhcnksIC4uLiwgRGVjZW1iZXJcbiAgICAgIGNhc2UgXCJNTU1NXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUubW9udGgobW9udGgsIHsgd2lkdGg6IFwid2lkZVwiLCBjb250ZXh0OiBcImZvcm1hdHRpbmdcIiB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gU3RhbmQtYWxvbmUgbW9udGhcbiAgTDogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGNvbnN0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIC8vIDEsIDIsIC4uLiwgMTJcbiAgICAgIGNhc2UgXCJMXCI6XG4gICAgICAgIHJldHVybiBTdHJpbmcobW9udGggKyAxKTtcbiAgICAgIC8vIDAxLCAwMiwgLi4uLCAxMlxuICAgICAgY2FzZSBcIkxMXCI6XG4gICAgICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MobW9udGggKyAxLCAyKTtcbiAgICAgIC8vIDFzdCwgMm5kLCAuLi4sIDEydGhcbiAgICAgIGNhc2UgXCJMb1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihtb250aCArIDEsIHsgdW5pdDogXCJtb250aFwiIH0pO1xuICAgICAgLy8gSmFuLCBGZWIsIC4uLiwgRGVjXG4gICAgICBjYXNlIFwiTExMXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5tb250aChtb250aCwge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gSiwgRiwgLi4uLCBEXG4gICAgICBjYXNlIFwiTExMTExcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLm1vbnRoKG1vbnRoLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gSmFudWFyeSwgRmVicnVhcnksIC4uLiwgRGVjZW1iZXJcbiAgICAgIGNhc2UgXCJMTExMXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUubW9udGgobW9udGgsIHsgd2lkdGg6IFwid2lkZVwiLCBjb250ZXh0OiBcInN0YW5kYWxvbmVcIiB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gTG9jYWwgd2VlayBvZiB5ZWFyXG4gIHc6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB3ZWVrID0gZ2V0V2VlayhkYXRlLCBvcHRpb25zKTtcblxuICAgIGlmICh0b2tlbiA9PT0gXCJ3b1wiKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcih3ZWVrLCB7IHVuaXQ6IFwid2Vla1wiIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3Mod2VlaywgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBJU08gd2VlayBvZiB5ZWFyXG4gIEk6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBjb25zdCBpc29XZWVrID0gZ2V0SVNPV2VlayhkYXRlKTtcblxuICAgIGlmICh0b2tlbiA9PT0gXCJJb1wiKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihpc29XZWVrLCB7IHVuaXQ6IFwid2Vla1wiIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoaXNvV2VlaywgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBEYXkgb2YgdGhlIG1vbnRoXG4gIGQ6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBpZiAodG9rZW4gPT09IFwiZG9cIikge1xuICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoZGF0ZS5nZXREYXRlKCksIHsgdW5pdDogXCJkYXRlXCIgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpZ2h0Rm9ybWF0dGVycy5kKGRhdGUsIHRva2VuKTtcbiAgfSxcblxuICAvLyBEYXkgb2YgeWVhclxuICBEOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgY29uc3QgZGF5T2ZZZWFyID0gZ2V0RGF5T2ZZZWFyKGRhdGUpO1xuXG4gICAgaWYgKHRva2VuID09PSBcIkRvXCIpIHtcbiAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGRheU9mWWVhciwgeyB1bml0OiBcImRheU9mWWVhclwiIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoZGF5T2ZZZWFyLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIERheSBvZiB3ZWVrXG4gIEU6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBjb25zdCBkYXlPZldlZWsgPSBkYXRlLmdldERheSgpO1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIC8vIFR1ZVxuICAgICAgY2FzZSBcIkVcIjpcbiAgICAgIGNhc2UgXCJFRVwiOlxuICAgICAgY2FzZSBcIkVFRVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gVFxuICAgICAgY2FzZSBcIkVFRUVFXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gVHVcbiAgICAgIGNhc2UgXCJFRUVFRUVcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJzaG9ydFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIFR1ZXNkYXlcbiAgICAgIGNhc2UgXCJFRUVFXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIExvY2FsIGRheSBvZiB3ZWVrXG4gIGU6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBkYXlPZldlZWsgPSBkYXRlLmdldERheSgpO1xuICAgIGNvbnN0IGxvY2FsRGF5T2ZXZWVrID0gKGRheU9mV2VlayAtIG9wdGlvbnMud2Vla1N0YXJ0c09uICsgOCkgJSA3IHx8IDc7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gTnVtZXJpY2FsIHZhbHVlIChOdGggZGF5IG9mIHdlZWsgd2l0aCBjdXJyZW50IGxvY2FsZSBvciB3ZWVrU3RhcnRzT24pXG4gICAgICBjYXNlIFwiZVwiOlxuICAgICAgICByZXR1cm4gU3RyaW5nKGxvY2FsRGF5T2ZXZWVrKTtcbiAgICAgIC8vIFBhZGRlZCBudW1lcmljYWwgdmFsdWVcbiAgICAgIGNhc2UgXCJlZVwiOlxuICAgICAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGxvY2FsRGF5T2ZXZWVrLCAyKTtcbiAgICAgIC8vIDFzdCwgMm5kLCAuLi4sIDd0aFxuICAgICAgY2FzZSBcImVvXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGxvY2FsRGF5T2ZXZWVrLCB7IHVuaXQ6IFwiZGF5XCIgfSk7XG4gICAgICBjYXNlIFwiZWVlXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBUXG4gICAgICBjYXNlIFwiZWVlZWVcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBUdVxuICAgICAgY2FzZSBcImVlZWVlZVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcInNob3J0XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gVHVlc2RheVxuICAgICAgY2FzZSBcImVlZWVcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gU3RhbmQtYWxvbmUgbG9jYWwgZGF5IG9mIHdlZWtcbiAgYzogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGRheU9mV2VlayA9IGRhdGUuZ2V0RGF5KCk7XG4gICAgY29uc3QgbG9jYWxEYXlPZldlZWsgPSAoZGF5T2ZXZWVrIC0gb3B0aW9ucy53ZWVrU3RhcnRzT24gKyA4KSAlIDcgfHwgNztcbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyBOdW1lcmljYWwgdmFsdWUgKHNhbWUgYXMgaW4gYGVgKVxuICAgICAgY2FzZSBcImNcIjpcbiAgICAgICAgcmV0dXJuIFN0cmluZyhsb2NhbERheU9mV2Vlayk7XG4gICAgICAvLyBQYWRkZWQgbnVtZXJpY2FsIHZhbHVlXG4gICAgICBjYXNlIFwiY2NcIjpcbiAgICAgICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhsb2NhbERheU9mV2VlaywgdG9rZW4ubGVuZ3RoKTtcbiAgICAgIC8vIDFzdCwgMm5kLCAuLi4sIDd0aFxuICAgICAgY2FzZSBcImNvXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGxvY2FsRGF5T2ZXZWVrLCB7IHVuaXQ6IFwiZGF5XCIgfSk7XG4gICAgICBjYXNlIFwiY2NjXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBUXG4gICAgICBjYXNlIFwiY2NjY2NcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBUdVxuICAgICAgY2FzZSBcImNjY2NjY1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcInNob3J0XCIsXG4gICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gVHVlc2RheVxuICAgICAgY2FzZSBcImNjY2NcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gSVNPIGRheSBvZiB3ZWVrXG4gIGk6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBjb25zdCBkYXlPZldlZWsgPSBkYXRlLmdldERheSgpO1xuICAgIGNvbnN0IGlzb0RheU9mV2VlayA9IGRheU9mV2VlayA9PT0gMCA/IDcgOiBkYXlPZldlZWs7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gMlxuICAgICAgY2FzZSBcImlcIjpcbiAgICAgICAgcmV0dXJuIFN0cmluZyhpc29EYXlPZldlZWspO1xuICAgICAgLy8gMDJcbiAgICAgIGNhc2UgXCJpaVwiOlxuICAgICAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGlzb0RheU9mV2VlaywgdG9rZW4ubGVuZ3RoKTtcbiAgICAgIC8vIDJuZFxuICAgICAgY2FzZSBcImlvXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGlzb0RheU9mV2VlaywgeyB1bml0OiBcImRheVwiIH0pO1xuICAgICAgLy8gVHVlXG4gICAgICBjYXNlIFwiaWlpXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBUXG4gICAgICBjYXNlIFwiaWlpaWlcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBUdVxuICAgICAgY2FzZSBcImlpaWlpaVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcInNob3J0XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gVHVlc2RheVxuICAgICAgY2FzZSBcImlpaWlcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gQU0gb3IgUE1cbiAgYTogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGNvbnN0IGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuICAgIGNvbnN0IGRheVBlcmlvZEVudW1WYWx1ZSA9IGhvdXJzIC8gMTIgPj0gMSA/IFwicG1cIiA6IFwiYW1cIjtcblxuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIGNhc2UgXCJhXCI6XG4gICAgICBjYXNlIFwiYWFcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIGNhc2UgXCJhYWFcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplXG4gICAgICAgICAgLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50b0xvd2VyQ2FzZSgpO1xuICAgICAgY2FzZSBcImFhYWFhXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgY2FzZSBcImFhYWFcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gQU0sIFBNLCBtaWRuaWdodCwgbm9vblxuICBiOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgY29uc3QgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgbGV0IGRheVBlcmlvZEVudW1WYWx1ZTtcbiAgICBpZiAoaG91cnMgPT09IDEyKSB7XG4gICAgICBkYXlQZXJpb2RFbnVtVmFsdWUgPSBkYXlQZXJpb2RFbnVtLm5vb247XG4gICAgfSBlbHNlIGlmIChob3VycyA9PT0gMCkge1xuICAgICAgZGF5UGVyaW9kRW51bVZhbHVlID0gZGF5UGVyaW9kRW51bS5taWRuaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgZGF5UGVyaW9kRW51bVZhbHVlID0gaG91cnMgLyAxMiA+PSAxID8gXCJwbVwiIDogXCJhbVwiO1xuICAgIH1cblxuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIGNhc2UgXCJiXCI6XG4gICAgICBjYXNlIFwiYmJcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIGNhc2UgXCJiYmJcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplXG4gICAgICAgICAgLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50b0xvd2VyQ2FzZSgpO1xuICAgICAgY2FzZSBcImJiYmJiXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgY2FzZSBcImJiYmJcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gaW4gdGhlIG1vcm5pbmcsIGluIHRoZSBhZnRlcm5vb24sIGluIHRoZSBldmVuaW5nLCBhdCBuaWdodFxuICBCOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgY29uc3QgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgbGV0IGRheVBlcmlvZEVudW1WYWx1ZTtcbiAgICBpZiAoaG91cnMgPj0gMTcpIHtcbiAgICAgIGRheVBlcmlvZEVudW1WYWx1ZSA9IGRheVBlcmlvZEVudW0uZXZlbmluZztcbiAgICB9IGVsc2UgaWYgKGhvdXJzID49IDEyKSB7XG4gICAgICBkYXlQZXJpb2RFbnVtVmFsdWUgPSBkYXlQZXJpb2RFbnVtLmFmdGVybm9vbjtcbiAgICB9IGVsc2UgaWYgKGhvdXJzID49IDQpIHtcbiAgICAgIGRheVBlcmlvZEVudW1WYWx1ZSA9IGRheVBlcmlvZEVudW0ubW9ybmluZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGF5UGVyaW9kRW51bVZhbHVlID0gZGF5UGVyaW9kRW51bS5uaWdodDtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICBjYXNlIFwiQlwiOlxuICAgICAgY2FzZSBcIkJCXCI6XG4gICAgICBjYXNlIFwiQkJCXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICBjYXNlIFwiQkJCQkJcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICBjYXNlIFwiQkJCQlwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICAvLyBIb3VyIFsxLTEyXVxuICBoOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgaWYgKHRva2VuID09PSBcImhvXCIpIHtcbiAgICAgIGxldCBob3VycyA9IGRhdGUuZ2V0SG91cnMoKSAlIDEyO1xuICAgICAgaWYgKGhvdXJzID09PSAwKSBob3VycyA9IDEyO1xuICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoaG91cnMsIHsgdW5pdDogXCJob3VyXCIgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpZ2h0Rm9ybWF0dGVycy5oKGRhdGUsIHRva2VuKTtcbiAgfSxcblxuICAvLyBIb3VyIFswLTIzXVxuICBIOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgaWYgKHRva2VuID09PSBcIkhvXCIpIHtcbiAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGRhdGUuZ2V0SG91cnMoKSwgeyB1bml0OiBcImhvdXJcIiB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbGlnaHRGb3JtYXR0ZXJzLkgoZGF0ZSwgdG9rZW4pO1xuICB9LFxuXG4gIC8vIEhvdXIgWzAtMTFdXG4gIEs6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBjb25zdCBob3VycyA9IGRhdGUuZ2V0SG91cnMoKSAlIDEyO1xuXG4gICAgaWYgKHRva2VuID09PSBcIktvXCIpIHtcbiAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGhvdXJzLCB7IHVuaXQ6IFwiaG91clwiIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoaG91cnMsIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gSG91ciBbMS0yNF1cbiAgazogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGxldCBob3VycyA9IGRhdGUuZ2V0SG91cnMoKTtcbiAgICBpZiAoaG91cnMgPT09IDApIGhvdXJzID0gMjQ7XG5cbiAgICBpZiAodG9rZW4gPT09IFwia29cIikge1xuICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoaG91cnMsIHsgdW5pdDogXCJob3VyXCIgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhob3VycywgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBNaW51dGVcbiAgbTogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGlmICh0b2tlbiA9PT0gXCJtb1wiKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihkYXRlLmdldE1pbnV0ZXMoKSwgeyB1bml0OiBcIm1pbnV0ZVwiIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBsaWdodEZvcm1hdHRlcnMubShkYXRlLCB0b2tlbik7XG4gIH0sXG5cbiAgLy8gU2Vjb25kXG4gIHM6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBpZiAodG9rZW4gPT09IFwic29cIikge1xuICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoZGF0ZS5nZXRTZWNvbmRzKCksIHsgdW5pdDogXCJzZWNvbmRcIiB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbGlnaHRGb3JtYXR0ZXJzLnMoZGF0ZSwgdG9rZW4pO1xuICB9LFxuXG4gIC8vIEZyYWN0aW9uIG9mIHNlY29uZFxuICBTOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4pIHtcbiAgICByZXR1cm4gbGlnaHRGb3JtYXR0ZXJzLlMoZGF0ZSwgdG9rZW4pO1xuICB9LFxuXG4gIC8vIFRpbWV6b25lIChJU08tODYwMS4gSWYgb2Zmc2V0IGlzIDAsIG91dHB1dCBpcyBhbHdheXMgYCdaJ2ApXG4gIFg6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgX2xvY2FsaXplKSB7XG4gICAgY29uc3QgdGltZXpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG5cbiAgICBpZiAodGltZXpvbmVPZmZzZXQgPT09IDApIHtcbiAgICAgIHJldHVybiBcIlpcIjtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyBIb3VycyBhbmQgb3B0aW9uYWwgbWludXRlc1xuICAgICAgY2FzZSBcIlhcIjpcbiAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lV2l0aE9wdGlvbmFsTWludXRlcyh0aW1lem9uZU9mZnNldCk7XG5cbiAgICAgIC8vIEhvdXJzLCBtaW51dGVzIGFuZCBvcHRpb25hbCBzZWNvbmRzIHdpdGhvdXQgYDpgIGRlbGltaXRlclxuICAgICAgLy8gTm90ZTogbmVpdGhlciBJU08tODYwMSBub3IgSmF2YVNjcmlwdCBzdXBwb3J0cyBzZWNvbmRzIGluIHRpbWV6b25lIG9mZnNldHNcbiAgICAgIC8vIHNvIHRoaXMgdG9rZW4gYWx3YXlzIGhhcyB0aGUgc2FtZSBvdXRwdXQgYXMgYFhYYFxuICAgICAgY2FzZSBcIlhYWFhcIjpcbiAgICAgIGNhc2UgXCJYWFwiOiAvLyBIb3VycyBhbmQgbWludXRlcyB3aXRob3V0IGA6YCBkZWxpbWl0ZXJcbiAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0KTtcblxuICAgICAgLy8gSG91cnMsIG1pbnV0ZXMgYW5kIG9wdGlvbmFsIHNlY29uZHMgd2l0aCBgOmAgZGVsaW1pdGVyXG4gICAgICAvLyBOb3RlOiBuZWl0aGVyIElTTy04NjAxIG5vciBKYXZhU2NyaXB0IHN1cHBvcnRzIHNlY29uZHMgaW4gdGltZXpvbmUgb2Zmc2V0c1xuICAgICAgLy8gc28gdGhpcyB0b2tlbiBhbHdheXMgaGFzIHRoZSBzYW1lIG91dHB1dCBhcyBgWFhYYFxuICAgICAgY2FzZSBcIlhYWFhYXCI6XG4gICAgICBjYXNlIFwiWFhYXCI6IC8vIEhvdXJzIGFuZCBtaW51dGVzIHdpdGggYDpgIGRlbGltaXRlclxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0LCBcIjpcIik7XG4gICAgfVxuICB9LFxuXG4gIC8vIFRpbWV6b25lIChJU08tODYwMS4gSWYgb2Zmc2V0IGlzIDAsIG91dHB1dCBpcyBgJyswMDowMCdgIG9yIGVxdWl2YWxlbnQpXG4gIHg6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgX2xvY2FsaXplKSB7XG4gICAgY29uc3QgdGltZXpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG5cbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyBIb3VycyBhbmQgb3B0aW9uYWwgbWludXRlc1xuICAgICAgY2FzZSBcInhcIjpcbiAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lV2l0aE9wdGlvbmFsTWludXRlcyh0aW1lem9uZU9mZnNldCk7XG5cbiAgICAgIC8vIEhvdXJzLCBtaW51dGVzIGFuZCBvcHRpb25hbCBzZWNvbmRzIHdpdGhvdXQgYDpgIGRlbGltaXRlclxuICAgICAgLy8gTm90ZTogbmVpdGhlciBJU08tODYwMSBub3IgSmF2YVNjcmlwdCBzdXBwb3J0cyBzZWNvbmRzIGluIHRpbWV6b25lIG9mZnNldHNcbiAgICAgIC8vIHNvIHRoaXMgdG9rZW4gYWx3YXlzIGhhcyB0aGUgc2FtZSBvdXRwdXQgYXMgYHh4YFxuICAgICAgY2FzZSBcInh4eHhcIjpcbiAgICAgIGNhc2UgXCJ4eFwiOiAvLyBIb3VycyBhbmQgbWludXRlcyB3aXRob3V0IGA6YCBkZWxpbWl0ZXJcbiAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0KTtcblxuICAgICAgLy8gSG91cnMsIG1pbnV0ZXMgYW5kIG9wdGlvbmFsIHNlY29uZHMgd2l0aCBgOmAgZGVsaW1pdGVyXG4gICAgICAvLyBOb3RlOiBuZWl0aGVyIElTTy04NjAxIG5vciBKYXZhU2NyaXB0IHN1cHBvcnRzIHNlY29uZHMgaW4gdGltZXpvbmUgb2Zmc2V0c1xuICAgICAgLy8gc28gdGhpcyB0b2tlbiBhbHdheXMgaGFzIHRoZSBzYW1lIG91dHB1dCBhcyBgeHh4YFxuICAgICAgY2FzZSBcInh4eHh4XCI6XG4gICAgICBjYXNlIFwieHh4XCI6IC8vIEhvdXJzIGFuZCBtaW51dGVzIHdpdGggYDpgIGRlbGltaXRlclxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0LCBcIjpcIik7XG4gICAgfVxuICB9LFxuXG4gIC8vIFRpbWV6b25lIChHTVQpXG4gIE86IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgX2xvY2FsaXplKSB7XG4gICAgY29uc3QgdGltZXpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG5cbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyBTaG9ydFxuICAgICAgY2FzZSBcIk9cIjpcbiAgICAgIGNhc2UgXCJPT1wiOlxuICAgICAgY2FzZSBcIk9PT1wiOlxuICAgICAgICByZXR1cm4gXCJHTVRcIiArIGZvcm1hdFRpbWV6b25lU2hvcnQodGltZXpvbmVPZmZzZXQsIFwiOlwiKTtcbiAgICAgIC8vIExvbmdcbiAgICAgIGNhc2UgXCJPT09PXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gXCJHTVRcIiArIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0LCBcIjpcIik7XG4gICAgfVxuICB9LFxuXG4gIC8vIFRpbWV6b25lIChzcGVjaWZpYyBub24tbG9jYXRpb24pXG4gIHo6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgX2xvY2FsaXplKSB7XG4gICAgY29uc3QgdGltZXpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG5cbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyBTaG9ydFxuICAgICAgY2FzZSBcInpcIjpcbiAgICAgIGNhc2UgXCJ6elwiOlxuICAgICAgY2FzZSBcInp6elwiOlxuICAgICAgICByZXR1cm4gXCJHTVRcIiArIGZvcm1hdFRpbWV6b25lU2hvcnQodGltZXpvbmVPZmZzZXQsIFwiOlwiKTtcbiAgICAgIC8vIExvbmdcbiAgICAgIGNhc2UgXCJ6enp6XCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gXCJHTVRcIiArIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0LCBcIjpcIik7XG4gICAgfVxuICB9LFxuXG4gIC8vIFNlY29uZHMgdGltZXN0YW1wXG4gIHQ6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgX2xvY2FsaXplKSB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC50cnVuYyhkYXRlLmdldFRpbWUoKSAvIDEwMDApO1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3ModGltZXN0YW1wLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIE1pbGxpc2Vjb25kcyB0aW1lc3RhbXBcbiAgVDogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBfbG9jYWxpemUpIHtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBkYXRlLmdldFRpbWUoKTtcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKHRpbWVzdGFtcCwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGZvcm1hdFRpbWV6b25lU2hvcnQob2Zmc2V0LCBkZWxpbWl0ZXIgPSBcIlwiKSB7XG4gIGNvbnN0IHNpZ24gPSBvZmZzZXQgPiAwID8gXCItXCIgOiBcIitcIjtcbiAgY29uc3QgYWJzT2Zmc2V0ID0gTWF0aC5hYnMob2Zmc2V0KTtcbiAgY29uc3QgaG91cnMgPSBNYXRoLnRydW5jKGFic09mZnNldCAvIDYwKTtcbiAgY29uc3QgbWludXRlcyA9IGFic09mZnNldCAlIDYwO1xuICBpZiAobWludXRlcyA9PT0gMCkge1xuICAgIHJldHVybiBzaWduICsgU3RyaW5nKGhvdXJzKTtcbiAgfVxuICByZXR1cm4gc2lnbiArIFN0cmluZyhob3VycykgKyBkZWxpbWl0ZXIgKyBhZGRMZWFkaW5nWmVyb3MobWludXRlcywgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFRpbWV6b25lV2l0aE9wdGlvbmFsTWludXRlcyhvZmZzZXQsIGRlbGltaXRlcikge1xuICBpZiAob2Zmc2V0ICUgNjAgPT09IDApIHtcbiAgICBjb25zdCBzaWduID0gb2Zmc2V0ID4gMCA/IFwiLVwiIDogXCIrXCI7XG4gICAgcmV0dXJuIHNpZ24gKyBhZGRMZWFkaW5nWmVyb3MoTWF0aC5hYnMob2Zmc2V0KSAvIDYwLCAyKTtcbiAgfVxuICByZXR1cm4gZm9ybWF0VGltZXpvbmUob2Zmc2V0LCBkZWxpbWl0ZXIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRUaW1lem9uZShvZmZzZXQsIGRlbGltaXRlciA9IFwiXCIpIHtcbiAgY29uc3Qgc2lnbiA9IG9mZnNldCA+IDAgPyBcIi1cIiA6IFwiK1wiO1xuICBjb25zdCBhYnNPZmZzZXQgPSBNYXRoLmFicyhvZmZzZXQpO1xuICBjb25zdCBob3VycyA9IGFkZExlYWRpbmdaZXJvcyhNYXRoLnRydW5jKGFic09mZnNldCAvIDYwKSwgMik7XG4gIGNvbnN0IG1pbnV0ZXMgPSBhZGRMZWFkaW5nWmVyb3MoYWJzT2Zmc2V0ICUgNjAsIDIpO1xuICByZXR1cm4gc2lnbiArIGhvdXJzICsgZGVsaW1pdGVyICsgbWludXRlcztcbn1cbiIsICJjb25zdCBkYXRlTG9uZ0Zvcm1hdHRlciA9IChwYXR0ZXJuLCBmb3JtYXRMb25nKSA9PiB7XG4gIHN3aXRjaCAocGF0dGVybikge1xuICAgIGNhc2UgXCJQXCI6XG4gICAgICByZXR1cm4gZm9ybWF0TG9uZy5kYXRlKHsgd2lkdGg6IFwic2hvcnRcIiB9KTtcbiAgICBjYXNlIFwiUFBcIjpcbiAgICAgIHJldHVybiBmb3JtYXRMb25nLmRhdGUoeyB3aWR0aDogXCJtZWRpdW1cIiB9KTtcbiAgICBjYXNlIFwiUFBQXCI6XG4gICAgICByZXR1cm4gZm9ybWF0TG9uZy5kYXRlKHsgd2lkdGg6IFwibG9uZ1wiIH0pO1xuICAgIGNhc2UgXCJQUFBQXCI6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmb3JtYXRMb25nLmRhdGUoeyB3aWR0aDogXCJmdWxsXCIgfSk7XG4gIH1cbn07XG5cbmNvbnN0IHRpbWVMb25nRm9ybWF0dGVyID0gKHBhdHRlcm4sIGZvcm1hdExvbmcpID0+IHtcbiAgc3dpdGNoIChwYXR0ZXJuKSB7XG4gICAgY2FzZSBcInBcIjpcbiAgICAgIHJldHVybiBmb3JtYXRMb25nLnRpbWUoeyB3aWR0aDogXCJzaG9ydFwiIH0pO1xuICAgIGNhc2UgXCJwcFwiOlxuICAgICAgcmV0dXJuIGZvcm1hdExvbmcudGltZSh7IHdpZHRoOiBcIm1lZGl1bVwiIH0pO1xuICAgIGNhc2UgXCJwcHBcIjpcbiAgICAgIHJldHVybiBmb3JtYXRMb25nLnRpbWUoeyB3aWR0aDogXCJsb25nXCIgfSk7XG4gICAgY2FzZSBcInBwcHBcIjpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZvcm1hdExvbmcudGltZSh7IHdpZHRoOiBcImZ1bGxcIiB9KTtcbiAgfVxufTtcblxuY29uc3QgZGF0ZVRpbWVMb25nRm9ybWF0dGVyID0gKHBhdHRlcm4sIGZvcm1hdExvbmcpID0+IHtcbiAgY29uc3QgbWF0Y2hSZXN1bHQgPSBwYXR0ZXJuLm1hdGNoKC8oUCspKHArKT8vKSB8fCBbXTtcbiAgY29uc3QgZGF0ZVBhdHRlcm4gPSBtYXRjaFJlc3VsdFsxXTtcbiAgY29uc3QgdGltZVBhdHRlcm4gPSBtYXRjaFJlc3VsdFsyXTtcblxuICBpZiAoIXRpbWVQYXR0ZXJuKSB7XG4gICAgcmV0dXJuIGRhdGVMb25nRm9ybWF0dGVyKHBhdHRlcm4sIGZvcm1hdExvbmcpO1xuICB9XG5cbiAgbGV0IGRhdGVUaW1lRm9ybWF0O1xuXG4gIHN3aXRjaCAoZGF0ZVBhdHRlcm4pIHtcbiAgICBjYXNlIFwiUFwiOlxuICAgICAgZGF0ZVRpbWVGb3JtYXQgPSBmb3JtYXRMb25nLmRhdGVUaW1lKHsgd2lkdGg6IFwic2hvcnRcIiB9KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJQUFwiOlxuICAgICAgZGF0ZVRpbWVGb3JtYXQgPSBmb3JtYXRMb25nLmRhdGVUaW1lKHsgd2lkdGg6IFwibWVkaXVtXCIgfSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiUFBQXCI6XG4gICAgICBkYXRlVGltZUZvcm1hdCA9IGZvcm1hdExvbmcuZGF0ZVRpbWUoeyB3aWR0aDogXCJsb25nXCIgfSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiUFBQUFwiOlxuICAgIGRlZmF1bHQ6XG4gICAgICBkYXRlVGltZUZvcm1hdCA9IGZvcm1hdExvbmcuZGF0ZVRpbWUoeyB3aWR0aDogXCJmdWxsXCIgfSk7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIHJldHVybiBkYXRlVGltZUZvcm1hdFxuICAgIC5yZXBsYWNlKFwie3tkYXRlfX1cIiwgZGF0ZUxvbmdGb3JtYXR0ZXIoZGF0ZVBhdHRlcm4sIGZvcm1hdExvbmcpKVxuICAgIC5yZXBsYWNlKFwie3t0aW1lfX1cIiwgdGltZUxvbmdGb3JtYXR0ZXIodGltZVBhdHRlcm4sIGZvcm1hdExvbmcpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBsb25nRm9ybWF0dGVycyA9IHtcbiAgcDogdGltZUxvbmdGb3JtYXR0ZXIsXG4gIFA6IGRhdGVUaW1lTG9uZ0Zvcm1hdHRlcixcbn07XG4iLCAiY29uc3QgZGF5T2ZZZWFyVG9rZW5SRSA9IC9eRCskLztcbmNvbnN0IHdlZWtZZWFyVG9rZW5SRSA9IC9eWSskLztcblxuY29uc3QgdGhyb3dUb2tlbnMgPSBbXCJEXCIsIFwiRERcIiwgXCJZWVwiLCBcIllZWVlcIl07XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb3RlY3RlZERheU9mWWVhclRva2VuKHRva2VuKSB7XG4gIHJldHVybiBkYXlPZlllYXJUb2tlblJFLnRlc3QodG9rZW4pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQcm90ZWN0ZWRXZWVrWWVhclRva2VuKHRva2VuKSB7XG4gIHJldHVybiB3ZWVrWWVhclRva2VuUkUudGVzdCh0b2tlbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3YXJuT3JUaHJvd1Byb3RlY3RlZEVycm9yKHRva2VuLCBmb3JtYXQsIGlucHV0KSB7XG4gIGNvbnN0IF9tZXNzYWdlID0gbWVzc2FnZSh0b2tlbiwgZm9ybWF0LCBpbnB1dCk7XG4gIGNvbnNvbGUud2FybihfbWVzc2FnZSk7XG4gIGlmICh0aHJvd1Rva2Vucy5pbmNsdWRlcyh0b2tlbikpIHRocm93IG5ldyBSYW5nZUVycm9yKF9tZXNzYWdlKTtcbn1cblxuZnVuY3Rpb24gbWVzc2FnZSh0b2tlbiwgZm9ybWF0LCBpbnB1dCkge1xuICBjb25zdCBzdWJqZWN0ID0gdG9rZW5bMF0gPT09IFwiWVwiID8gXCJ5ZWFyc1wiIDogXCJkYXlzIG9mIHRoZSBtb250aFwiO1xuICByZXR1cm4gYFVzZSBcXGAke3Rva2VuLnRvTG93ZXJDYXNlKCl9XFxgIGluc3RlYWQgb2YgXFxgJHt0b2tlbn1cXGAgKGluIFxcYCR7Zm9ybWF0fVxcYCkgZm9yIGZvcm1hdHRpbmcgJHtzdWJqZWN0fSB0byB0aGUgaW5wdXQgXFxgJHtpbnB1dH1cXGA7IHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdW5pY29kZVRva2Vucy5tZGA7XG59XG4iLCAiaW1wb3J0IHsgZGVmYXVsdExvY2FsZSB9IGZyb20gXCIuL19saWIvZGVmYXVsdExvY2FsZS5tanNcIjtcbmltcG9ydCB7IGdldERlZmF1bHRPcHRpb25zIH0gZnJvbSBcIi4vX2xpYi9kZWZhdWx0T3B0aW9ucy5tanNcIjtcbmltcG9ydCB7IGZvcm1hdHRlcnMgfSBmcm9tIFwiLi9fbGliL2Zvcm1hdC9mb3JtYXR0ZXJzLm1qc1wiO1xuaW1wb3J0IHsgbG9uZ0Zvcm1hdHRlcnMgfSBmcm9tIFwiLi9fbGliL2Zvcm1hdC9sb25nRm9ybWF0dGVycy5tanNcIjtcbmltcG9ydCB7XG4gIGlzUHJvdGVjdGVkRGF5T2ZZZWFyVG9rZW4sXG4gIGlzUHJvdGVjdGVkV2Vla1llYXJUb2tlbixcbiAgd2Fybk9yVGhyb3dQcm90ZWN0ZWRFcnJvcixcbn0gZnJvbSBcIi4vX2xpYi9wcm90ZWN0ZWRUb2tlbnMubWpzXCI7XG5pbXBvcnQgeyBpc1ZhbGlkIH0gZnJvbSBcIi4vaXNWYWxpZC5tanNcIjtcbmltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcblxuLy8gUmV4cG9ydHMgb2YgaW50ZXJuYWwgZm9yIGxpYnJhcmllcyB0byB1c2UuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9pc3N1ZXMvMzYzOCNpc3N1ZWNvbW1lbnQtMTg3NzA4Mjg3NFxuZXhwb3J0IHsgZm9ybWF0dGVycywgbG9uZ0Zvcm1hdHRlcnMgfTtcblxuLy8gVGhpcyBSZWdFeHAgY29uc2lzdHMgb2YgdGhyZWUgcGFydHMgc2VwYXJhdGVkIGJ5IGB8YDpcbi8vIC0gW3lZUXFNTHdJZERlY2loSEtrbXNdbyBtYXRjaGVzIGFueSBhdmFpbGFibGUgb3JkaW5hbCBudW1iZXIgdG9rZW5cbi8vICAgKG9uZSBvZiB0aGUgY2VydGFpbiBsZXR0ZXJzIGZvbGxvd2VkIGJ5IGBvYClcbi8vIC0gKFxcdylcXDEqIG1hdGNoZXMgYW55IHNlcXVlbmNlcyBvZiB0aGUgc2FtZSBsZXR0ZXJcbi8vIC0gJycgbWF0Y2hlcyB0d28gcXVvdGUgY2hhcmFjdGVycyBpbiBhIHJvd1xuLy8gLSAnKCcnfFteJ10pKygnfCQpIG1hdGNoZXMgYW55dGhpbmcgc3Vycm91bmRlZCBieSB0d28gcXVvdGUgY2hhcmFjdGVycyAoJyksXG4vLyAgIGV4Y2VwdCBhIHNpbmdsZSBxdW90ZSBzeW1ib2wsIHdoaWNoIGVuZHMgdGhlIHNlcXVlbmNlLlxuLy8gICBUd28gcXVvdGUgY2hhcmFjdGVycyBkbyBub3QgZW5kIHRoZSBzZXF1ZW5jZS5cbi8vICAgSWYgdGhlcmUgaXMgbm8gbWF0Y2hpbmcgc2luZ2xlIHF1b3RlXG4vLyAgIHRoZW4gdGhlIHNlcXVlbmNlIHdpbGwgY29udGludWUgdW50aWwgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLlxuLy8gLSAuIG1hdGNoZXMgYW55IHNpbmdsZSBjaGFyYWN0ZXIgdW5tYXRjaGVkIGJ5IHByZXZpb3VzIHBhcnRzIG9mIHRoZSBSZWdFeHBzXG5jb25zdCBmb3JtYXR0aW5nVG9rZW5zUmVnRXhwID1cbiAgL1t5WVFxTUx3SWREZWNpaEhLa21zXW98KFxcdylcXDEqfCcnfCcoJyd8W14nXSkrKCd8JCl8Li9nO1xuXG4vLyBUaGlzIFJlZ0V4cCBjYXRjaGVzIHN5bWJvbHMgZXNjYXBlZCBieSBxdW90ZXMsIGFuZCBhbHNvXG4vLyBzZXF1ZW5jZXMgb2Ygc3ltYm9scyBQLCBwLCBhbmQgdGhlIGNvbWJpbmF0aW9ucyBsaWtlIGBQUFBQUFBQcHBwcHBgXG5jb25zdCBsb25nRm9ybWF0dGluZ1Rva2Vuc1JlZ0V4cCA9IC9QK3ArfFArfHArfCcnfCcoJyd8W14nXSkrKCd8JCl8Li9nO1xuXG5jb25zdCBlc2NhcGVkU3RyaW5nUmVnRXhwID0gL14nKFteXSo/KSc/JC87XG5jb25zdCBkb3VibGVRdW90ZVJlZ0V4cCA9IC8nJy9nO1xuY29uc3QgdW5lc2NhcGVkTGF0aW5DaGFyYWN0ZXJSZWdFeHAgPSAvW2EtekEtWl0vO1xuXG5leHBvcnQgeyBmb3JtYXQgYXMgZm9ybWF0RGF0ZSB9O1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgZm9ybWF0fSBmdW5jdGlvbiBvcHRpb25zLlxuICovXG5cbi8qKlxuICogQG5hbWUgZm9ybWF0XG4gKiBAYWxpYXMgZm9ybWF0RGF0ZVxuICogQGNhdGVnb3J5IENvbW1vbiBIZWxwZXJzXG4gKiBAc3VtbWFyeSBGb3JtYXQgdGhlIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIGZvcm1hdHRlZCBkYXRlIHN0cmluZyBpbiB0aGUgZ2l2ZW4gZm9ybWF0LiBUaGUgcmVzdWx0IG1heSB2YXJ5IGJ5IGxvY2FsZS5cbiAqXG4gKiA+IFx1MjZBMFx1RkUwRiBQbGVhc2Ugbm90ZSB0aGF0IHRoZSBgZm9ybWF0YCB0b2tlbnMgZGlmZmVyIGZyb20gTW9tZW50LmpzIGFuZCBvdGhlciBsaWJyYXJpZXMuXG4gKiA+IFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdW5pY29kZVRva2Vucy5tZFxuICpcbiAqIFRoZSBjaGFyYWN0ZXJzIHdyYXBwZWQgYmV0d2VlbiB0d28gc2luZ2xlIHF1b3RlcyBjaGFyYWN0ZXJzICgnKSBhcmUgZXNjYXBlZC5cbiAqIFR3byBzaW5nbGUgcXVvdGVzIGluIGEgcm93LCB3aGV0aGVyIGluc2lkZSBvciBvdXRzaWRlIGEgcXVvdGVkIHNlcXVlbmNlLCByZXByZXNlbnQgYSAncmVhbCcgc2luZ2xlIHF1b3RlLlxuICogKHNlZSB0aGUgbGFzdCBleGFtcGxlKVxuICpcbiAqIEZvcm1hdCBvZiB0aGUgc3RyaW5nIGlzIGJhc2VkIG9uIFVuaWNvZGUgVGVjaG5pY2FsIFN0YW5kYXJkICMzNTpcbiAqIGh0dHBzOi8vd3d3LnVuaWNvZGUub3JnL3JlcG9ydHMvdHIzNS90cjM1LWRhdGVzLmh0bWwjRGF0ZV9GaWVsZF9TeW1ib2xfVGFibGVcbiAqIHdpdGggYSBmZXcgYWRkaXRpb25zIChzZWUgbm90ZSA3IGJlbG93IHRoZSB0YWJsZSkuXG4gKlxuICogQWNjZXB0ZWQgcGF0dGVybnM6XG4gKiB8IFVuaXQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBQYXR0ZXJuIHwgUmVzdWx0IGV4YW1wbGVzICAgICAgICAgICAgICAgICAgIHwgTm90ZXMgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLXxcbiAqIHwgRXJhICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEcuLkdHRyAgfCBBRCwgQkMgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBHR0dHICAgIHwgQW5ubyBEb21pbmksIEJlZm9yZSBDaHJpc3QgICAgICAgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgR0dHR0cgICB8IEEsIEIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgQ2FsZW5kYXIgeWVhciAgICAgICAgICAgICAgICAgICB8IHkgICAgICAgfCA0NCwgMSwgMTkwMCwgMjAxNyAgICAgICAgICAgICAgICAgfCA1ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB5byAgICAgIHwgNDR0aCwgMXN0LCAwdGgsIDE3dGggICAgICAgICAgICAgIHwgNSw3ICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgeXkgICAgICB8IDQ0LCAwMSwgMDAsIDE3ICAgICAgICAgICAgICAgICAgICB8IDUgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHl5eSAgICAgfCAwNDQsIDAwMSwgMTkwMCwgMjAxNyAgICAgICAgICAgICAgfCA1ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB5eXl5ICAgIHwgMDA0NCwgMDAwMSwgMTkwMCwgMjAxNyAgICAgICAgICAgIHwgNSAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgeXl5eXkgICB8IC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IDMsNSAgIHxcbiAqIHwgTG9jYWwgd2Vlay1udW1iZXJpbmcgeWVhciAgICAgICB8IFkgICAgICAgfCA0NCwgMSwgMTkwMCwgMjAxNyAgICAgICAgICAgICAgICAgfCA1ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBZbyAgICAgIHwgNDR0aCwgMXN0LCAxOTAwdGgsIDIwMTd0aCAgICAgICAgIHwgNSw3ICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgWVkgICAgICB8IDQ0LCAwMSwgMDAsIDE3ICAgICAgICAgICAgICAgICAgICB8IDUsOCAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFlZWSAgICAgfCAwNDQsIDAwMSwgMTkwMCwgMjAxNyAgICAgICAgICAgICAgfCA1ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBZWVlZICAgIHwgMDA0NCwgMDAwMSwgMTkwMCwgMjAxNyAgICAgICAgICAgIHwgNSw4ICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgWVlZWVkgICB8IC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IDMsNSAgIHxcbiAqIHwgSVNPIHdlZWstbnVtYmVyaW5nIHllYXIgICAgICAgICB8IFIgICAgICAgfCAtNDMsIDAsIDEsIDE5MDAsIDIwMTcgICAgICAgICAgICAgfCA1LDcgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBSUiAgICAgIHwgLTQzLCAwMCwgMDEsIDE5MDAsIDIwMTcgICAgICAgICAgIHwgNSw3ICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUlJSICAgICB8IC0wNDMsIDAwMCwgMDAxLCAxOTAwLCAyMDE3ICAgICAgICB8IDUsNyAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFJSUlIgICAgfCAtMDA0MywgMDAwMCwgMDAwMSwgMTkwMCwgMjAxNyAgICAgfCA1LDcgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBSUlJSUiAgIHwgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgMyw1LDcgfFxuICogfCBFeHRlbmRlZCB5ZWFyICAgICAgICAgICAgICAgICAgIHwgdSAgICAgICB8IC00MywgMCwgMSwgMTkwMCwgMjAxNyAgICAgICAgICAgICB8IDUgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHV1ICAgICAgfCAtNDMsIDAxLCAxOTAwLCAyMDE3ICAgICAgICAgICAgICAgfCA1ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB1dXUgICAgIHwgLTA0MywgMDAxLCAxOTAwLCAyMDE3ICAgICAgICAgICAgIHwgNSAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgdXV1dSAgICB8IC0wMDQzLCAwMDAxLCAxOTAwLCAyMDE3ICAgICAgICAgICB8IDUgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHV1dXV1ICAgfCAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAzLDUgICB8XG4gKiB8IFF1YXJ0ZXIgKGZvcm1hdHRpbmcpICAgICAgICAgICAgfCBRICAgICAgIHwgMSwgMiwgMywgNCAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUW8gICAgICB8IDFzdCwgMm5kLCAzcmQsIDR0aCAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFFRICAgICAgfCAwMSwgMDIsIDAzLCAwNCAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBRUVEgICAgIHwgUTEsIFEyLCBRMywgUTQgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUVFRUSAgICB8IDFzdCBxdWFydGVyLCAybmQgcXVhcnRlciwgLi4uICAgICB8IDIgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFFRUVFRICAgfCAxLCAyLCAzLCA0ICAgICAgICAgICAgICAgICAgICAgICAgfCA0ICAgICB8XG4gKiB8IFF1YXJ0ZXIgKHN0YW5kLWFsb25lKSAgICAgICAgICAgfCBxICAgICAgIHwgMSwgMiwgMywgNCAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgcW8gICAgICB8IDFzdCwgMm5kLCAzcmQsIDR0aCAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHFxICAgICAgfCAwMSwgMDIsIDAzLCAwNCAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBxcXEgICAgIHwgUTEsIFEyLCBRMywgUTQgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgcXFxcSAgICB8IDFzdCBxdWFydGVyLCAybmQgcXVhcnRlciwgLi4uICAgICB8IDIgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHFxcXFxICAgfCAxLCAyLCAzLCA0ICAgICAgICAgICAgICAgICAgICAgICAgfCA0ICAgICB8XG4gKiB8IE1vbnRoIChmb3JtYXR0aW5nKSAgICAgICAgICAgICAgfCBNICAgICAgIHwgMSwgMiwgLi4uLCAxMiAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgTW8gICAgICB8IDFzdCwgMm5kLCAuLi4sIDEydGggICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IE1NICAgICAgfCAwMSwgMDIsIC4uLiwgMTIgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBNTU0gICAgIHwgSmFuLCBGZWIsIC4uLiwgRGVjICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgTU1NTSAgICB8IEphbnVhcnksIEZlYnJ1YXJ5LCAuLi4sIERlY2VtYmVyICB8IDIgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IE1NTU1NICAgfCBKLCBGLCAuLi4sIEQgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8IE1vbnRoIChzdGFuZC1hbG9uZSkgICAgICAgICAgICAgfCBMICAgICAgIHwgMSwgMiwgLi4uLCAxMiAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgTG8gICAgICB8IDFzdCwgMm5kLCAuLi4sIDEydGggICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IExMICAgICAgfCAwMSwgMDIsIC4uLiwgMTIgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBMTEwgICAgIHwgSmFuLCBGZWIsIC4uLiwgRGVjICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgTExMTCAgICB8IEphbnVhcnksIEZlYnJ1YXJ5LCAuLi4sIERlY2VtYmVyICB8IDIgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IExMTExMICAgfCBKLCBGLCAuLi4sIEQgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8IExvY2FsIHdlZWsgb2YgeWVhciAgICAgICAgICAgICAgfCB3ICAgICAgIHwgMSwgMiwgLi4uLCA1MyAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgd28gICAgICB8IDFzdCwgMm5kLCAuLi4sIDUzdGggICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHd3ICAgICAgfCAwMSwgMDIsIC4uLiwgNTMgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8IElTTyB3ZWVrIG9mIHllYXIgICAgICAgICAgICAgICAgfCBJICAgICAgIHwgMSwgMiwgLi4uLCA1MyAgICAgICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgSW8gICAgICB8IDFzdCwgMm5kLCAuLi4sIDUzdGggICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IElJICAgICAgfCAwMSwgMDIsIC4uLiwgNTMgICAgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8IERheSBvZiBtb250aCAgICAgICAgICAgICAgICAgICAgfCBkICAgICAgIHwgMSwgMiwgLi4uLCAzMSAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZG8gICAgICB8IDFzdCwgMm5kLCAuLi4sIDMxc3QgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGRkICAgICAgfCAwMSwgMDIsIC4uLiwgMzEgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8IERheSBvZiB5ZWFyICAgICAgICAgICAgICAgICAgICAgfCBEICAgICAgIHwgMSwgMiwgLi4uLCAzNjUsIDM2NiAgICAgICAgICAgICAgIHwgOSAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgRG8gICAgICB8IDFzdCwgMm5kLCAuLi4sIDM2NXRoLCAzNjZ0aCAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEREICAgICAgfCAwMSwgMDIsIC4uLiwgMzY1LCAzNjYgICAgICAgICAgICAgfCA5ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBEREQgICAgIHwgMDAxLCAwMDIsIC4uLiwgMzY1LCAzNjYgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgRERERCAgICB8IC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IDMgICAgIHxcbiAqIHwgRGF5IG9mIHdlZWsgKGZvcm1hdHRpbmcpICAgICAgICB8IEUuLkVFRSAgfCBNb24sIFR1ZSwgV2VkLCAuLi4sIFN1biAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBFRUVFICAgIHwgTW9uZGF5LCBUdWVzZGF5LCAuLi4sIFN1bmRheSAgICAgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgRUVFRUUgICB8IE0sIFQsIFcsIFQsIEYsIFMsIFMgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEVFRUVFRSAgfCBNbywgVHUsIFdlLCBUaCwgRnIsIFNhLCBTdSAgICAgICAgfCAgICAgICB8XG4gKiB8IElTTyBkYXkgb2Ygd2VlayAoZm9ybWF0dGluZykgICAgfCBpICAgICAgIHwgMSwgMiwgMywgLi4uLCA3ICAgICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgaW8gICAgICB8IDFzdCwgMm5kLCAuLi4sIDd0aCAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGlpICAgICAgfCAwMSwgMDIsIC4uLiwgMDcgICAgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBpaWkgICAgIHwgTW9uLCBUdWUsIFdlZCwgLi4uLCBTdW4gICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgaWlpaSAgICB8IE1vbmRheSwgVHVlc2RheSwgLi4uLCBTdW5kYXkgICAgICB8IDIsNyAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGlpaWlpICAgfCBNLCBULCBXLCBULCBGLCBTLCBTICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBpaWlpaWkgIHwgTW8sIFR1LCBXZSwgVGgsIEZyLCBTYSwgU3UgICAgICAgIHwgNyAgICAgfFxuICogfCBMb2NhbCBkYXkgb2Ygd2VlayAoZm9ybWF0dGluZykgIHwgZSAgICAgICB8IDIsIDMsIDQsIC4uLiwgMSAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGVvICAgICAgfCAybmQsIDNyZCwgLi4uLCAxc3QgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBlZSAgICAgIHwgMDIsIDAzLCAuLi4sIDAxICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZWVlICAgICB8IE1vbiwgVHVlLCBXZWQsIC4uLiwgU3VuICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGVlZWUgICAgfCBNb25kYXksIFR1ZXNkYXksIC4uLiwgU3VuZGF5ICAgICAgfCAyICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBlZWVlZSAgIHwgTSwgVCwgVywgVCwgRiwgUywgUyAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZWVlZWVlICB8IE1vLCBUdSwgV2UsIFRoLCBGciwgU2EsIFN1ICAgICAgICB8ICAgICAgIHxcbiAqIHwgTG9jYWwgZGF5IG9mIHdlZWsgKHN0YW5kLWFsb25lKSB8IGMgICAgICAgfCAyLCAzLCA0LCAuLi4sIDEgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBjbyAgICAgIHwgMm5kLCAzcmQsIC4uLiwgMXN0ICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgY2MgICAgICB8IDAyLCAwMywgLi4uLCAwMSAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGNjYyAgICAgfCBNb24sIFR1ZSwgV2VkLCAuLi4sIFN1biAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBjY2NjICAgIHwgTW9uZGF5LCBUdWVzZGF5LCAuLi4sIFN1bmRheSAgICAgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgY2NjY2MgICB8IE0sIFQsIFcsIFQsIEYsIFMsIFMgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGNjY2NjYyAgfCBNbywgVHUsIFdlLCBUaCwgRnIsIFNhLCBTdSAgICAgICAgfCAgICAgICB8XG4gKiB8IEFNLCBQTSAgICAgICAgICAgICAgICAgICAgICAgICAgfCBhLi5hYSAgIHwgQU0sIFBNICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYWFhICAgICB8IGFtLCBwbSAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGFhYWEgICAgfCBhLm0uLCBwLm0uICAgICAgICAgICAgICAgICAgICAgICAgfCAyICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBhYWFhYSAgIHwgYSwgcCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCBBTSwgUE0sIG5vb24sIG1pZG5pZ2h0ICAgICAgICAgIHwgYi4uYmIgICB8IEFNLCBQTSwgbm9vbiwgbWlkbmlnaHQgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGJiYiAgICAgfCBhbSwgcG0sIG5vb24sIG1pZG5pZ2h0ICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBiYmJiICAgIHwgYS5tLiwgcC5tLiwgbm9vbiwgbWlkbmlnaHQgICAgICAgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYmJiYmIgICB8IGEsIHAsIG4sIG1pICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgRmxleGlibGUgZGF5IHBlcmlvZCAgICAgICAgICAgICB8IEIuLkJCQiAgfCBhdCBuaWdodCwgaW4gdGhlIG1vcm5pbmcsIC4uLiAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBCQkJCICAgIHwgYXQgbmlnaHQsIGluIHRoZSBtb3JuaW5nLCAuLi4gICAgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgQkJCQkIgICB8IGF0IG5pZ2h0LCBpbiB0aGUgbW9ybmluZywgLi4uICAgICB8ICAgICAgIHxcbiAqIHwgSG91ciBbMS0xMl0gICAgICAgICAgICAgICAgICAgICB8IGggICAgICAgfCAxLCAyLCAuLi4sIDExLCAxMiAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBobyAgICAgIHwgMXN0LCAybmQsIC4uLiwgMTF0aCwgMTJ0aCAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgaGggICAgICB8IDAxLCAwMiwgLi4uLCAxMSwgMTIgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgSG91ciBbMC0yM10gICAgICAgICAgICAgICAgICAgICB8IEggICAgICAgfCAwLCAxLCAyLCAuLi4sIDIzICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBIbyAgICAgIHwgMHRoLCAxc3QsIDJuZCwgLi4uLCAyM3JkICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgSEggICAgICB8IDAwLCAwMSwgMDIsIC4uLiwgMjMgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgSG91ciBbMC0xMV0gICAgICAgICAgICAgICAgICAgICB8IEsgICAgICAgfCAxLCAyLCAuLi4sIDExLCAwICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBLbyAgICAgIHwgMXN0LCAybmQsIC4uLiwgMTF0aCwgMHRoICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgS0sgICAgICB8IDAxLCAwMiwgLi4uLCAxMSwgMDAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgSG91ciBbMS0yNF0gICAgICAgICAgICAgICAgICAgICB8IGsgICAgICAgfCAyNCwgMSwgMiwgLi4uLCAyMyAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBrbyAgICAgIHwgMjR0aCwgMXN0LCAybmQsIC4uLiwgMjNyZCAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwga2sgICAgICB8IDI0LCAwMSwgMDIsIC4uLiwgMjMgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgTWludXRlICAgICAgICAgICAgICAgICAgICAgICAgICB8IG0gICAgICAgfCAwLCAxLCAuLi4sIDU5ICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBtbyAgICAgIHwgMHRoLCAxc3QsIC4uLiwgNTl0aCAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgbW0gICAgICB8IDAwLCAwMSwgLi4uLCA1OSAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgU2Vjb25kICAgICAgICAgICAgICAgICAgICAgICAgICB8IHMgICAgICAgfCAwLCAxLCAuLi4sIDU5ICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBzbyAgICAgIHwgMHRoLCAxc3QsIC4uLiwgNTl0aCAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgc3MgICAgICB8IDAwLCAwMSwgLi4uLCA1OSAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgRnJhY3Rpb24gb2Ygc2Vjb25kICAgICAgICAgICAgICB8IFMgICAgICAgfCAwLCAxLCAuLi4sIDkgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBTUyAgICAgIHwgMDAsIDAxLCAuLi4sIDk5ICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgU1NTICAgICB8IDAwMCwgMDAxLCAuLi4sIDk5OSAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFNTU1MgICAgfCAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAzICAgICB8XG4gKiB8IFRpbWV6b25lIChJU08tODYwMSB3LyBaKSAgICAgICAgfCBYICAgICAgIHwgLTA4LCArMDUzMCwgWiAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgWFggICAgICB8IC0wODAwLCArMDUzMCwgWiAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFhYWCAgICAgfCAtMDg6MDAsICswNTozMCwgWiAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBYWFhYICAgIHwgLTA4MDAsICswNTMwLCBaLCArMTIzNDU2ICAgICAgICAgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgWFhYWFggICB8IC0wODowMCwgKzA1OjMwLCBaLCArMTI6MzQ6NTYgICAgICB8ICAgICAgIHxcbiAqIHwgVGltZXpvbmUgKElTTy04NjAxIHcvbyBaKSAgICAgICB8IHggICAgICAgfCAtMDgsICswNTMwLCArMDAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB4eCAgICAgIHwgLTA4MDAsICswNTMwLCArMDAwMCAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgeHh4ICAgICB8IC0wODowMCwgKzA1OjMwLCArMDA6MDAgICAgICAgICAgICB8IDIgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHh4eHggICAgfCAtMDgwMCwgKzA1MzAsICswMDAwLCArMTIzNDU2ICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB4eHh4eCAgIHwgLTA4OjAwLCArMDU6MzAsICswMDowMCwgKzEyOjM0OjU2IHwgICAgICAgfFxuICogfCBUaW1lem9uZSAoR01UKSAgICAgICAgICAgICAgICAgIHwgTy4uLk9PTyB8IEdNVC04LCBHTVQrNTozMCwgR01UKzAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IE9PT08gICAgfCBHTVQtMDg6MDAsIEdNVCswNTozMCwgR01UKzAwOjAwICAgfCAyICAgICB8XG4gKiB8IFRpbWV6b25lIChzcGVjaWZpYyBub24tbG9jYXQuKSAgfCB6Li4uenp6IHwgR01ULTgsIEdNVCs1OjMwLCBHTVQrMCAgICAgICAgICAgIHwgNiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgenp6eiAgICB8IEdNVC0wODowMCwgR01UKzA1OjMwLCBHTVQrMDA6MDAgICB8IDIsNiAgIHxcbiAqIHwgU2Vjb25kcyB0aW1lc3RhbXAgICAgICAgICAgICAgICB8IHQgICAgICAgfCA1MTI5Njk1MjAgICAgICAgICAgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB0dCAgICAgIHwgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgMyw3ICAgfFxuICogfCBNaWxsaXNlY29uZHMgdGltZXN0YW1wICAgICAgICAgIHwgVCAgICAgICB8IDUxMjk2OTUyMDkwMCAgICAgICAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFRUICAgICAgfCAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAzLDcgICB8XG4gKiB8IExvbmcgbG9jYWxpemVkIGRhdGUgICAgICAgICAgICAgfCBQICAgICAgIHwgMDQvMjkvMTQ1MyAgICAgICAgICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUFAgICAgICB8IEFwciAyOSwgMTQ1MyAgICAgICAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFBQUCAgICAgfCBBcHJpbCAyOXRoLCAxNDUzICAgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBQUFBQICAgIHwgRnJpZGF5LCBBcHJpbCAyOXRoLCAxNDUzICAgICAgICAgIHwgMiw3ICAgfFxuICogfCBMb25nIGxvY2FsaXplZCB0aW1lICAgICAgICAgICAgIHwgcCAgICAgICB8IDEyOjAwIEFNICAgICAgICAgICAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHBwICAgICAgfCAxMjowMDowMCBBTSAgICAgICAgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBwcHAgICAgIHwgMTI6MDA6MDAgQU0gR01UKzIgICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgcHBwcCAgICB8IDEyOjAwOjAwIEFNIEdNVCswMjowMCAgICAgICAgICAgICB8IDIsNyAgIHxcbiAqIHwgQ29tYmluYXRpb24gb2YgZGF0ZSBhbmQgdGltZSAgICB8IFBwICAgICAgfCAwNC8yOS8xNDUzLCAxMjowMCBBTSAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBQUHBwICAgIHwgQXByIDI5LCAxNDUzLCAxMjowMDowMCBBTSAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUFBQcHBwICB8IEFwcmlsIDI5dGgsIDE0NTMgYXQgLi4uICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFBQUFBwcHBwfCBGcmlkYXksIEFwcmlsIDI5dGgsIDE0NTMgYXQgLi4uICAgfCAyLDcgICB8XG4gKiBOb3RlczpcbiAqIDEuIFwiRm9ybWF0dGluZ1wiIHVuaXRzIChlLmcuIGZvcm1hdHRpbmcgcXVhcnRlcikgaW4gdGhlIGRlZmF1bHQgZW4tVVMgbG9jYWxlXG4gKiAgICBhcmUgdGhlIHNhbWUgYXMgXCJzdGFuZC1hbG9uZVwiIHVuaXRzLCBidXQgYXJlIGRpZmZlcmVudCBpbiBzb21lIGxhbmd1YWdlcy5cbiAqICAgIFwiRm9ybWF0dGluZ1wiIHVuaXRzIGFyZSBkZWNsaW5lZCBhY2NvcmRpbmcgdG8gdGhlIHJ1bGVzIG9mIHRoZSBsYW5ndWFnZVxuICogICAgaW4gdGhlIGNvbnRleHQgb2YgYSBkYXRlLiBcIlN0YW5kLWFsb25lXCIgdW5pdHMgYXJlIGFsd2F5cyBub21pbmF0aXZlIHNpbmd1bGFyOlxuICpcbiAqICAgIGBmb3JtYXQobmV3IERhdGUoMjAxNywgMTAsIDYpLCAnZG8gTExMTCcsIHtsb2NhbGU6IGNzfSkgLy89PiAnNi4gbGlzdG9wYWQnYFxuICpcbiAqICAgIGBmb3JtYXQobmV3IERhdGUoMjAxNywgMTAsIDYpLCAnZG8gTU1NTScsIHtsb2NhbGU6IGNzfSkgLy89PiAnNi4gbGlzdG9wYWR1J2BcbiAqXG4gKiAyLiBBbnkgc2VxdWVuY2Ugb2YgdGhlIGlkZW50aWNhbCBsZXR0ZXJzIGlzIGEgcGF0dGVybiwgdW5sZXNzIGl0IGlzIGVzY2FwZWQgYnlcbiAqICAgIHRoZSBzaW5nbGUgcXVvdGUgY2hhcmFjdGVycyAoc2VlIGJlbG93KS5cbiAqICAgIElmIHRoZSBzZXF1ZW5jZSBpcyBsb25nZXIgdGhhbiBsaXN0ZWQgaW4gdGFibGUgKGUuZy4gYEVFRUVFRUVFRUVFYClcbiAqICAgIHRoZSBvdXRwdXQgd2lsbCBiZSB0aGUgc2FtZSBhcyBkZWZhdWx0IHBhdHRlcm4gZm9yIHRoaXMgdW5pdCwgdXN1YWxseVxuICogICAgdGhlIGxvbmdlc3Qgb25lIChpbiBjYXNlIG9mIElTTyB3ZWVrZGF5cywgYEVFRUVgKS4gRGVmYXVsdCBwYXR0ZXJucyBmb3IgdW5pdHNcbiAqICAgIGFyZSBtYXJrZWQgd2l0aCBcIjJcIiBpbiB0aGUgbGFzdCBjb2x1bW4gb2YgdGhlIHRhYmxlLlxuICpcbiAqICAgIGBmb3JtYXQobmV3IERhdGUoMjAxNywgMTAsIDYpLCAnTU1NJykgLy89PiAnTm92J2BcbiAqXG4gKiAgICBgZm9ybWF0KG5ldyBEYXRlKDIwMTcsIDEwLCA2KSwgJ01NTU0nKSAvLz0+ICdOb3ZlbWJlcidgXG4gKlxuICogICAgYGZvcm1hdChuZXcgRGF0ZSgyMDE3LCAxMCwgNiksICdNTU1NTScpIC8vPT4gJ04nYFxuICpcbiAqICAgIGBmb3JtYXQobmV3IERhdGUoMjAxNywgMTAsIDYpLCAnTU1NTU1NJykgLy89PiAnTm92ZW1iZXInYFxuICpcbiAqICAgIGBmb3JtYXQobmV3IERhdGUoMjAxNywgMTAsIDYpLCAnTU1NTU1NTScpIC8vPT4gJ05vdmVtYmVyJ2BcbiAqXG4gKiAzLiBTb21lIHBhdHRlcm5zIGNvdWxkIGJlIHVubGltaXRlZCBsZW5ndGggKHN1Y2ggYXMgYHl5eXl5eXl5YCkuXG4gKiAgICBUaGUgb3V0cHV0IHdpbGwgYmUgcGFkZGVkIHdpdGggemVyb3MgdG8gbWF0Y2ggdGhlIGxlbmd0aCBvZiB0aGUgcGF0dGVybi5cbiAqXG4gKiAgICBgZm9ybWF0KG5ldyBEYXRlKDIwMTcsIDEwLCA2KSwgJ3l5eXl5eXl5JykgLy89PiAnMDAwMDIwMTcnYFxuICpcbiAqIDQuIGBRUVFRUWAgYW5kIGBxcXFxcWAgY291bGQgYmUgbm90IHN0cmljdGx5IG51bWVyaWNhbCBpbiBzb21lIGxvY2FsZXMuXG4gKiAgICBUaGVzZSB0b2tlbnMgcmVwcmVzZW50IHRoZSBzaG9ydGVzdCBmb3JtIG9mIHRoZSBxdWFydGVyLlxuICpcbiAqIDUuIFRoZSBtYWluIGRpZmZlcmVuY2UgYmV0d2VlbiBgeWAgYW5kIGB1YCBwYXR0ZXJucyBhcmUgQi5DLiB5ZWFyczpcbiAqXG4gKiAgICB8IFllYXIgfCBgeWAgfCBgdWAgfFxuICogICAgfC0tLS0tLXwtLS0tLXwtLS0tLXxcbiAqICAgIHwgQUMgMSB8ICAgMSB8ICAgMSB8XG4gKiAgICB8IEJDIDEgfCAgIDEgfCAgIDAgfFxuICogICAgfCBCQyAyIHwgICAyIHwgIC0xIHxcbiAqXG4gKiAgICBBbHNvIGB5eWAgYWx3YXlzIHJldHVybnMgdGhlIGxhc3QgdHdvIGRpZ2l0cyBvZiBhIHllYXIsXG4gKiAgICB3aGlsZSBgdXVgIHBhZHMgc2luZ2xlIGRpZ2l0IHllYXJzIHRvIDIgY2hhcmFjdGVycyBhbmQgcmV0dXJucyBvdGhlciB5ZWFycyB1bmNoYW5nZWQ6XG4gKlxuICogICAgfCBZZWFyIHwgYHl5YCB8IGB1dWAgfFxuICogICAgfC0tLS0tLXwtLS0tLS18LS0tLS0tfFxuICogICAgfCAxICAgIHwgICAwMSB8ICAgMDEgfFxuICogICAgfCAxNCAgIHwgICAxNCB8ICAgMTQgfFxuICogICAgfCAzNzYgIHwgICA3NiB8ICAzNzYgfFxuICogICAgfCAxNDUzIHwgICA1MyB8IDE0NTMgfFxuICpcbiAqICAgIFRoZSBzYW1lIGRpZmZlcmVuY2UgaXMgdHJ1ZSBmb3IgbG9jYWwgYW5kIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFycyAoYFlgIGFuZCBgUmApLFxuICogICAgZXhjZXB0IGxvY2FsIHdlZWstbnVtYmVyaW5nIHllYXJzIGFyZSBkZXBlbmRlbnQgb24gYG9wdGlvbnMud2Vla1N0YXJ0c09uYFxuICogICAgYW5kIGBvcHRpb25zLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZWAgKGNvbXBhcmUgW2dldElTT1dlZWtZZWFyXShodHRwczovL2RhdGUtZm5zLm9yZy9kb2NzL2dldElTT1dlZWtZZWFyKVxuICogICAgYW5kIFtnZXRXZWVrWWVhcl0oaHR0cHM6Ly9kYXRlLWZucy5vcmcvZG9jcy9nZXRXZWVrWWVhcikpLlxuICpcbiAqIDYuIFNwZWNpZmljIG5vbi1sb2NhdGlvbiB0aW1lem9uZXMgYXJlIGN1cnJlbnRseSB1bmF2YWlsYWJsZSBpbiBgZGF0ZS1mbnNgLFxuICogICAgc28gcmlnaHQgbm93IHRoZXNlIHRva2VucyBmYWxsIGJhY2sgdG8gR01UIHRpbWV6b25lcy5cbiAqXG4gKiA3LiBUaGVzZSBwYXR0ZXJucyBhcmUgbm90IGluIHRoZSBVbmljb2RlIFRlY2huaWNhbCBTdGFuZGFyZCAjMzU6XG4gKiAgICAtIGBpYDogSVNPIGRheSBvZiB3ZWVrXG4gKiAgICAtIGBJYDogSVNPIHdlZWsgb2YgeWVhclxuICogICAgLSBgUmA6IElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyXG4gKiAgICAtIGB0YDogc2Vjb25kcyB0aW1lc3RhbXBcbiAqICAgIC0gYFRgOiBtaWxsaXNlY29uZHMgdGltZXN0YW1wXG4gKiAgICAtIGBvYDogb3JkaW5hbCBudW1iZXIgbW9kaWZpZXJcbiAqICAgIC0gYFBgOiBsb25nIGxvY2FsaXplZCBkYXRlXG4gKiAgICAtIGBwYDogbG9uZyBsb2NhbGl6ZWQgdGltZVxuICpcbiAqIDguIGBZWWAgYW5kIGBZWVlZYCB0b2tlbnMgcmVwcmVzZW50IHdlZWstbnVtYmVyaW5nIHllYXJzIGJ1dCB0aGV5IGFyZSBvZnRlbiBjb25mdXNlZCB3aXRoIHllYXJzLlxuICogICAgWW91IHNob3VsZCBlbmFibGUgYG9wdGlvbnMudXNlQWRkaXRpb25hbFdlZWtZZWFyVG9rZW5zYCB0byB1c2UgdGhlbS4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91bmljb2RlVG9rZW5zLm1kXG4gKlxuICogOS4gYERgIGFuZCBgRERgIHRva2VucyByZXByZXNlbnQgZGF5cyBvZiB0aGUgeWVhciBidXQgdGhleSBhcmUgb2Z0ZW4gY29uZnVzZWQgd2l0aCBkYXlzIG9mIHRoZSBtb250aC5cbiAqICAgIFlvdSBzaG91bGQgZW5hYmxlIGBvcHRpb25zLnVzZUFkZGl0aW9uYWxEYXlPZlllYXJUb2tlbnNgIHRvIHVzZSB0aGVtLiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VuaWNvZGVUb2tlbnMubWRcbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBvcmlnaW5hbCBkYXRlXG4gKiBAcGFyYW0gZm9ybWF0IC0gVGhlIHN0cmluZyBvZiB0b2tlbnNcbiAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb2JqZWN0IHdpdGggb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIFRoZSBmb3JtYXR0ZWQgZGF0ZSBzdHJpbmdcbiAqXG4gKiBAdGhyb3dzIGBkYXRlYCBtdXN0IG5vdCBiZSBJbnZhbGlkIERhdGVcbiAqIEB0aHJvd3MgYG9wdGlvbnMubG9jYWxlYCBtdXN0IGNvbnRhaW4gYGxvY2FsaXplYCBwcm9wZXJ0eVxuICogQHRocm93cyBgb3B0aW9ucy5sb2NhbGVgIG11c3QgY29udGFpbiBgZm9ybWF0TG9uZ2AgcHJvcGVydHlcbiAqIEB0aHJvd3MgdXNlIGB5eXl5YCBpbnN0ZWFkIG9mIGBZWVlZYCBmb3IgZm9ybWF0dGluZyB5ZWFycyB1c2luZyBbZm9ybWF0IHByb3ZpZGVkXSB0byB0aGUgaW5wdXQgW2lucHV0IHByb3ZpZGVkXTsgc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91bmljb2RlVG9rZW5zLm1kXG4gKiBAdGhyb3dzIHVzZSBgeXlgIGluc3RlYWQgb2YgYFlZYCBmb3IgZm9ybWF0dGluZyB5ZWFycyB1c2luZyBbZm9ybWF0IHByb3ZpZGVkXSB0byB0aGUgaW5wdXQgW2lucHV0IHByb3ZpZGVkXTsgc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91bmljb2RlVG9rZW5zLm1kXG4gKiBAdGhyb3dzIHVzZSBgZGAgaW5zdGVhZCBvZiBgRGAgZm9yIGZvcm1hdHRpbmcgZGF5cyBvZiB0aGUgbW9udGggdXNpbmcgW2Zvcm1hdCBwcm92aWRlZF0gdG8gdGhlIGlucHV0IFtpbnB1dCBwcm92aWRlZF07IHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdW5pY29kZVRva2Vucy5tZFxuICogQHRocm93cyB1c2UgYGRkYCBpbnN0ZWFkIG9mIGBERGAgZm9yIGZvcm1hdHRpbmcgZGF5cyBvZiB0aGUgbW9udGggdXNpbmcgW2Zvcm1hdCBwcm92aWRlZF0gdG8gdGhlIGlucHV0IFtpbnB1dCBwcm92aWRlZF07IHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdW5pY29kZVRva2Vucy5tZFxuICogQHRocm93cyBmb3JtYXQgc3RyaW5nIGNvbnRhaW5zIGFuIHVuZXNjYXBlZCBsYXRpbiBhbHBoYWJldCBjaGFyYWN0ZXJcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gUmVwcmVzZW50IDExIEZlYnJ1YXJ5IDIwMTQgaW4gbWlkZGxlLWVuZGlhbiBmb3JtYXQ6XG4gKiBjb25zdCByZXN1bHQgPSBmb3JtYXQobmV3IERhdGUoMjAxNCwgMSwgMTEpLCAnTU0vZGQveXl5eScpXG4gKiAvLz0+ICcwMi8xMS8yMDE0J1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBSZXByZXNlbnQgMiBKdWx5IDIwMTQgaW4gRXNwZXJhbnRvOlxuICogaW1wb3J0IHsgZW9Mb2NhbGUgfSBmcm9tICdkYXRlLWZucy9sb2NhbGUvZW8nXG4gKiBjb25zdCByZXN1bHQgPSBmb3JtYXQobmV3IERhdGUoMjAxNCwgNiwgMiksIFwiZG8gJ2RlJyBNTU1NIHl5eXlcIiwge1xuICogICBsb2NhbGU6IGVvTG9jYWxlXG4gKiB9KVxuICogLy89PiAnMi1hIGRlIGp1bGlvIDIwMTQnXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEVzY2FwZSBzdHJpbmcgYnkgc2luZ2xlIHF1b3RlIGNoYXJhY3RlcnM6XG4gKiBjb25zdCByZXN1bHQgPSBmb3JtYXQobmV3IERhdGUoMjAxNCwgNiwgMiwgMTUpLCBcImggJ28nJ2Nsb2NrJ1wiKVxuICogLy89PiBcIjMgbydjbG9ja1wiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXQoZGF0ZSwgZm9ybWF0U3RyLCBvcHRpb25zKSB7XG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zID0gZ2V0RGVmYXVsdE9wdGlvbnMoKTtcbiAgY29uc3QgbG9jYWxlID0gb3B0aW9ucz8ubG9jYWxlID8/IGRlZmF1bHRPcHRpb25zLmxvY2FsZSA/PyBkZWZhdWx0TG9jYWxlO1xuXG4gIGNvbnN0IGZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA9XG4gICAgb3B0aW9ucz8uZmlyc3RXZWVrQ29udGFpbnNEYXRlID8/XG4gICAgb3B0aW9ucz8ubG9jYWxlPy5vcHRpb25zPy5maXJzdFdlZWtDb250YWluc0RhdGUgPz9cbiAgICBkZWZhdWx0T3B0aW9ucy5maXJzdFdlZWtDb250YWluc0RhdGUgPz9cbiAgICBkZWZhdWx0T3B0aW9ucy5sb2NhbGU/Lm9wdGlvbnM/LmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA/P1xuICAgIDE7XG5cbiAgY29uc3Qgd2Vla1N0YXJ0c09uID1cbiAgICBvcHRpb25zPy53ZWVrU3RhcnRzT24gPz9cbiAgICBvcHRpb25zPy5sb2NhbGU/Lm9wdGlvbnM/LndlZWtTdGFydHNPbiA/P1xuICAgIGRlZmF1bHRPcHRpb25zLndlZWtTdGFydHNPbiA/P1xuICAgIGRlZmF1bHRPcHRpb25zLmxvY2FsZT8ub3B0aW9ucz8ud2Vla1N0YXJ0c09uID8/XG4gICAgMDtcblxuICBjb25zdCBvcmlnaW5hbERhdGUgPSB0b0RhdGUoZGF0ZSk7XG5cbiAgaWYgKCFpc1ZhbGlkKG9yaWdpbmFsRGF0ZSkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgdGltZSB2YWx1ZVwiKTtcbiAgfVxuXG4gIGxldCBwYXJ0cyA9IGZvcm1hdFN0clxuICAgIC5tYXRjaChsb25nRm9ybWF0dGluZ1Rva2Vuc1JlZ0V4cClcbiAgICAubWFwKChzdWJzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IGZpcnN0Q2hhcmFjdGVyID0gc3Vic3RyaW5nWzBdO1xuICAgICAgaWYgKGZpcnN0Q2hhcmFjdGVyID09PSBcInBcIiB8fCBmaXJzdENoYXJhY3RlciA9PT0gXCJQXCIpIHtcbiAgICAgICAgY29uc3QgbG9uZ0Zvcm1hdHRlciA9IGxvbmdGb3JtYXR0ZXJzW2ZpcnN0Q2hhcmFjdGVyXTtcbiAgICAgICAgcmV0dXJuIGxvbmdGb3JtYXR0ZXIoc3Vic3RyaW5nLCBsb2NhbGUuZm9ybWF0TG9uZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3Vic3RyaW5nO1xuICAgIH0pXG4gICAgLmpvaW4oXCJcIilcbiAgICAubWF0Y2goZm9ybWF0dGluZ1Rva2Vuc1JlZ0V4cClcbiAgICAubWFwKChzdWJzdHJpbmcpID0+IHtcbiAgICAgIC8vIFJlcGxhY2UgdHdvIHNpbmdsZSBxdW90ZSBjaGFyYWN0ZXJzIHdpdGggb25lIHNpbmdsZSBxdW90ZSBjaGFyYWN0ZXJcbiAgICAgIGlmIChzdWJzdHJpbmcgPT09IFwiJydcIikge1xuICAgICAgICByZXR1cm4geyBpc1Rva2VuOiBmYWxzZSwgdmFsdWU6IFwiJ1wiIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGZpcnN0Q2hhcmFjdGVyID0gc3Vic3RyaW5nWzBdO1xuICAgICAgaWYgKGZpcnN0Q2hhcmFjdGVyID09PSBcIidcIikge1xuICAgICAgICByZXR1cm4geyBpc1Rva2VuOiBmYWxzZSwgdmFsdWU6IGNsZWFuRXNjYXBlZFN0cmluZyhzdWJzdHJpbmcpIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChmb3JtYXR0ZXJzW2ZpcnN0Q2hhcmFjdGVyXSkge1xuICAgICAgICByZXR1cm4geyBpc1Rva2VuOiB0cnVlLCB2YWx1ZTogc3Vic3RyaW5nIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChmaXJzdENoYXJhY3Rlci5tYXRjaCh1bmVzY2FwZWRMYXRpbkNoYXJhY3RlclJlZ0V4cCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXG4gICAgICAgICAgXCJGb3JtYXQgc3RyaW5nIGNvbnRhaW5zIGFuIHVuZXNjYXBlZCBsYXRpbiBhbHBoYWJldCBjaGFyYWN0ZXIgYFwiICtcbiAgICAgICAgICAgIGZpcnN0Q2hhcmFjdGVyICtcbiAgICAgICAgICAgIFwiYFwiLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBpc1Rva2VuOiBmYWxzZSwgdmFsdWU6IHN1YnN0cmluZyB9O1xuICAgIH0pO1xuXG4gIC8vIGludm9rZSBsb2NhbGl6ZSBwcmVwcm9jZXNzb3IgKG9ubHkgZm9yIGZyZW5jaCBsb2NhbGVzIGF0IHRoZSBtb21lbnQpXG4gIGlmIChsb2NhbGUubG9jYWxpemUucHJlcHJvY2Vzc29yKSB7XG4gICAgcGFydHMgPSBsb2NhbGUubG9jYWxpemUucHJlcHJvY2Vzc29yKG9yaWdpbmFsRGF0ZSwgcGFydHMpO1xuICB9XG5cbiAgY29uc3QgZm9ybWF0dGVyT3B0aW9ucyA9IHtcbiAgICBmaXJzdFdlZWtDb250YWluc0RhdGUsXG4gICAgd2Vla1N0YXJ0c09uLFxuICAgIGxvY2FsZSxcbiAgfTtcblxuICByZXR1cm4gcGFydHNcbiAgICAubWFwKChwYXJ0KSA9PiB7XG4gICAgICBpZiAoIXBhcnQuaXNUb2tlbikgcmV0dXJuIHBhcnQudmFsdWU7XG5cbiAgICAgIGNvbnN0IHRva2VuID0gcGFydC52YWx1ZTtcblxuICAgICAgaWYgKFxuICAgICAgICAoIW9wdGlvbnM/LnVzZUFkZGl0aW9uYWxXZWVrWWVhclRva2VucyAmJlxuICAgICAgICAgIGlzUHJvdGVjdGVkV2Vla1llYXJUb2tlbih0b2tlbikpIHx8XG4gICAgICAgICghb3B0aW9ucz8udXNlQWRkaXRpb25hbERheU9mWWVhclRva2VucyAmJlxuICAgICAgICAgIGlzUHJvdGVjdGVkRGF5T2ZZZWFyVG9rZW4odG9rZW4pKVxuICAgICAgKSB7XG4gICAgICAgIHdhcm5PclRocm93UHJvdGVjdGVkRXJyb3IodG9rZW4sIGZvcm1hdFN0ciwgU3RyaW5nKGRhdGUpKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZm9ybWF0dGVyID0gZm9ybWF0dGVyc1t0b2tlblswXV07XG4gICAgICByZXR1cm4gZm9ybWF0dGVyKG9yaWdpbmFsRGF0ZSwgdG9rZW4sIGxvY2FsZS5sb2NhbGl6ZSwgZm9ybWF0dGVyT3B0aW9ucyk7XG4gICAgfSlcbiAgICAuam9pbihcIlwiKTtcbn1cblxuZnVuY3Rpb24gY2xlYW5Fc2NhcGVkU3RyaW5nKGlucHV0KSB7XG4gIGNvbnN0IG1hdGNoZWQgPSBpbnB1dC5tYXRjaChlc2NhcGVkU3RyaW5nUmVnRXhwKTtcblxuICBpZiAoIW1hdGNoZWQpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICByZXR1cm4gbWF0Y2hlZFsxXS5yZXBsYWNlKGRvdWJsZVF1b3RlUmVnRXhwLCBcIidcIik7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgZm9ybWF0O1xuIiwgImltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBpc1NhbWVNb250aFxuICogQGNhdGVnb3J5IE1vbnRoIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgbW9udGggKGFuZCB5ZWFyKT9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgbW9udGggKGFuZCB5ZWFyKT9cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZUxlZnQgLSBUaGUgZmlyc3QgZGF0ZSB0byBjaGVja1xuICogQHBhcmFtIGRhdGVSaWdodCAtIFRoZSBzZWNvbmQgZGF0ZSB0byBjaGVja1xuICpcbiAqIEByZXR1cm5zIFRoZSBkYXRlcyBhcmUgaW4gdGhlIHNhbWUgbW9udGggKGFuZCB5ZWFyKVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgMiBTZXB0ZW1iZXIgMjAxNCBhbmQgMjUgU2VwdGVtYmVyIDIwMTQgaW4gdGhlIHNhbWUgbW9udGg/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVNb250aChuZXcgRGF0ZSgyMDE0LCA4LCAyKSwgbmV3IERhdGUoMjAxNCwgOCwgMjUpKVxuICogLy89PiB0cnVlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSAyIFNlcHRlbWJlciAyMDE0IGFuZCAyNSBTZXB0ZW1iZXIgMjAxNSBpbiB0aGUgc2FtZSBtb250aD9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZU1vbnRoKG5ldyBEYXRlKDIwMTQsIDgsIDIpLCBuZXcgRGF0ZSgyMDE1LCA4LCAyNSkpXG4gKiAvLz0+IGZhbHNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVNb250aChkYXRlTGVmdCwgZGF0ZVJpZ2h0KSB7XG4gIGNvbnN0IF9kYXRlTGVmdCA9IHRvRGF0ZShkYXRlTGVmdCk7XG4gIGNvbnN0IF9kYXRlUmlnaHQgPSB0b0RhdGUoZGF0ZVJpZ2h0KTtcbiAgcmV0dXJuIChcbiAgICBfZGF0ZUxlZnQuZ2V0RnVsbFllYXIoKSA9PT0gX2RhdGVSaWdodC5nZXRGdWxsWWVhcigpICYmXG4gICAgX2RhdGVMZWZ0LmdldE1vbnRoKCkgPT09IF9kYXRlUmlnaHQuZ2V0TW9udGgoKVxuICApO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGlzU2FtZU1vbnRoO1xuIiwgImltcG9ydCB7IGNvbnN0cnVjdE5vdyB9IGZyb20gXCIuL2NvbnN0cnVjdE5vdy5tanNcIjtcbmltcG9ydCB7IGlzU2FtZURheSB9IGZyb20gXCIuL2lzU2FtZURheS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBpc1RvZGF5XG4gKiBAY2F0ZWdvcnkgRGF5IEhlbHBlcnNcbiAqIEBzdW1tYXJ5IElzIHRoZSBnaXZlbiBkYXRlIHRvZGF5P1xuICogQHB1cmUgZmFsc2VcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIElzIHRoZSBnaXZlbiBkYXRlIHRvZGF5P1xuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIGRhdGUgdG8gY2hlY2tcbiAqXG4gKiBAcmV0dXJucyBUaGUgZGF0ZSBpcyB0b2RheVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0b2RheSBpcyA2IE9jdG9iZXIgMjAxNCwgaXMgNiBPY3RvYmVyIDE0OjAwOjAwIHRvZGF5P1xuICogY29uc3QgcmVzdWx0ID0gaXNUb2RheShuZXcgRGF0ZSgyMDE0LCA5LCA2LCAxNCwgMCkpXG4gKiAvLz0+IHRydWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVG9kYXkoZGF0ZSkge1xuICByZXR1cm4gaXNTYW1lRGF5KGRhdGUsIGNvbnN0cnVjdE5vdyhkYXRlKSk7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgaXNUb2RheTtcbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJzdGltdWx1c1wiO1xuLy9cbi8vIGV4cG9ydCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vL1xuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBhcHAvamF2YXNjcmlwdC9jb250cm9sbGVycy91aV9jYXJvdXNlbF9jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5pbXBvcnQgeyB1c2VUcmFuc2l0aW9uIH0gZnJvbSAnc3RpbXVsdXMtdXNlJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcInNsaWRlXCIsIFwicHJldmlvdXNCdXR0b25cIiwgXCJuZXh0QnV0dG9uXCJdXG4gIHN0YXRpYyB2YWx1ZXMgPSB7XG4gICAgY3VycmVudEluZGV4OiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9LFxuICAgIGF1dG9QbGF5OiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gICAgaW50ZXJ2YWw6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiA1MDAwIH0gLy8gNSBzZWNvbmRzXG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIHVzZVRyYW5zaXRpb24odGhpcywge1xuICAgICAgZWxlbWVudDogKCkgPT4gdGhpcy5zbGlkZVRhcmdldHNbdGhpcy5jdXJyZW50SW5kZXhWYWx1ZV0sXG4gICAgICBlbnRlckFjdGl2ZTogJ3RyYW5zaXRpb24gZWFzZS1vdXQgZHVyYXRpb24tMzAwJyxcbiAgICAgIGVudGVyRnJvbTogJ29wYWNpdHktMCcsXG4gICAgICBlbnRlclRvOiAnb3BhY2l0eS0xMDAnLFxuICAgICAgbGVhdmVBY3RpdmU6ICd0cmFuc2l0aW9uIGVhc2UtaW4gZHVyYXRpb24tMzAwJyxcbiAgICAgIGxlYXZlRnJvbTogJ29wYWNpdHktMTAwJyxcbiAgICAgIGxlYXZlVG86ICdvcGFjaXR5LTAnLFxuICAgIH0pXG5cbiAgICB0aGlzLnVwZGF0ZVNsaWRlUG9zaXRpb24oKVxuICAgIHRoaXMudXBkYXRlQnV0dG9uU3RhdGVzKClcblxuICAgIGlmICh0aGlzLmF1dG9QbGF5VmFsdWUpIHtcbiAgICAgIHRoaXMuc3RhcnRBdXRvUGxheSgpXG4gICAgfVxuICB9XG5cbiAgZGlzY29ubmVjdCgpIHtcbiAgICB0aGlzLnN0b3BBdXRvUGxheSgpXG4gIH1cblxuICBuZXh0KCkge1xuICAgIHRoaXMuY3VycmVudEluZGV4VmFsdWUgPSAodGhpcy5jdXJyZW50SW5kZXhWYWx1ZSArIDEpICUgdGhpcy5zbGlkZVRhcmdldHMubGVuZ3RoXG4gICAgdGhpcy51cGRhdGVTbGlkZVBvc2l0aW9uKClcbiAgICB0aGlzLnVwZGF0ZUJ1dHRvblN0YXRlcygpXG4gIH1cblxuICBwcmV2aW91cygpIHtcbiAgICB0aGlzLmN1cnJlbnRJbmRleFZhbHVlID0gKHRoaXMuY3VycmVudEluZGV4VmFsdWUgLSAxICsgdGhpcy5zbGlkZVRhcmdldHMubGVuZ3RoKSAlIHRoaXMuc2xpZGVUYXJnZXRzLmxlbmd0aFxuICAgIHRoaXMudXBkYXRlU2xpZGVQb3NpdGlvbigpXG4gICAgdGhpcy51cGRhdGVCdXR0b25TdGF0ZXMoKVxuICB9XG5cbiAgdXBkYXRlU2xpZGVQb3NpdGlvbigpIHtcbiAgICBjb25zdCBvZmZzZXQgPSB0aGlzLmN1cnJlbnRJbmRleFZhbHVlICogLTEwMFxuICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZmxleCcpLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke29mZnNldH0lLCAwcHgsIDBweClgXG4gIH1cblxuICB1cGRhdGVCdXR0b25TdGF0ZXMoKSB7XG4gICAgaWYgKHRoaXMuaGFzUHJldmlvdXNCdXR0b25UYXJnZXQgJiYgdGhpcy5oYXNOZXh0QnV0dG9uVGFyZ2V0KSB7XG4gICAgICB0aGlzLnByZXZpb3VzQnV0dG9uVGFyZ2V0LmRpc2FibGVkID0gdGhpcy5jdXJyZW50SW5kZXhWYWx1ZSA9PT0gMFxuICAgICAgdGhpcy5uZXh0QnV0dG9uVGFyZ2V0LmRpc2FibGVkID0gdGhpcy5jdXJyZW50SW5kZXhWYWx1ZSA9PT0gdGhpcy5zbGlkZVRhcmdldHMubGVuZ3RoIC0gMVxuICAgIH1cbiAgfVxuXG4gIHN0YXJ0QXV0b1BsYXkoKSB7XG4gICAgdGhpcy5hdXRvUGxheUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5uZXh0KClcbiAgICB9LCB0aGlzLmludGVydmFsVmFsdWUpXG4gIH1cblxuICBzdG9wQXV0b1BsYXkoKSB7XG4gICAgaWYgKHRoaXMuYXV0b1BsYXlJbnRlcnZhbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9QbGF5SW50ZXJ2YWwpXG4gICAgfVxuICB9XG59IiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvdWktY29sbGFwc2libGUtY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcImNvbnRlbnRcIl1cbiAgc3RhdGljIHZhbHVlcyA9IHtcbiAgICBvcGVuOiBCb29sZWFuXG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIHRoaXMudXBkYXRlVmlzaWJpbGl0eSgpXG4gIH1cblxuICB0b2dnbGUoKSB7XG4gICAgdGhpcy5vcGVuVmFsdWUgPSAhdGhpcy5vcGVuVmFsdWVcbiAgfVxuXG4gIG9wZW5WYWx1ZUNoYW5nZWQoKSB7XG4gICAgdGhpcy51cGRhdGVWaXNpYmlsaXR5KClcbiAgfVxuXG4gIHVwZGF0ZVZpc2liaWxpdHkoKSB7XG4gICAgaWYgKHRoaXMub3BlblZhbHVlKSB7XG4gICAgICB0aGlzLmNvbnRlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbnRlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKVxuICAgIH1cbiAgfVxufSIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpX2NvbW1hbmRfY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuaW1wb3J0IHsgdXNlSG90a2V5cyB9IGZyb20gJ3N0aW11bHVzLXVzZS9ob3RrZXlzJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcImlucHV0XCIsIFwibGlzdFwiLCBcIml0ZW1cIl1cbiAgc3RhdGljIHZhbHVlcyA9IHtcbiAgICBob3RrZXlzOiBPYmplY3RcbiAgfVxuXG4gIGNvbm5lY3QoKSB7XG4gICAgdXNlSG90a2V5cyh0aGlzLCB7XG4gICAgICAuLi50aGlzLmhvdGtleXNWYWx1ZSxcbiAgICAgICdBcnJvd1VwJzogKGV2ZW50KSA9PiB0aGlzLm5hdmlnYXRlSXRlbXMoZXZlbnQsIC0xKSxcbiAgICAgICdBcnJvd0Rvd24nOiAoZXZlbnQpID0+IHRoaXMubmF2aWdhdGVJdGVtcyhldmVudCwgMSksXG4gICAgICAnRW50ZXInOiAoZXZlbnQpID0+IHRoaXMuc2VsZWN0SXRlbShldmVudClcbiAgICB9KVxuICAgIFxuICAgIHRoaXMuY3VycmVudEluZGV4ID0gLTFcbiAgfVxuXG4gIG5hdmlnYXRlSXRlbXMoZXZlbnQsIGRpcmVjdGlvbikge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB0aGlzLmN1cnJlbnRJbmRleCArPSBkaXJlY3Rpb25cbiAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPCAwKSB0aGlzLmN1cnJlbnRJbmRleCA9IHRoaXMuaXRlbVRhcmdldHMubGVuZ3RoIC0gMVxuICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA+PSB0aGlzLml0ZW1UYXJnZXRzLmxlbmd0aCkgdGhpcy5jdXJyZW50SW5kZXggPSAwXG4gICAgdGhpcy5oaWdobGlnaHRJdGVtKClcbiAgfVxuXG4gIGhpZ2hsaWdodEl0ZW0oKSB7XG4gICAgdGhpcy5pdGVtVGFyZ2V0cy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID09PSB0aGlzLmN1cnJlbnRJbmRleCkge1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsICd0cnVlJylcbiAgICAgICAgaXRlbS5zY3JvbGxJbnRvVmlldyh7IGJsb2NrOiAnbmVhcmVzdCcgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ2ZhbHNlJylcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgc2VsZWN0SXRlbShldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBjb25zdCBzZWxlY3RlZEl0ZW0gPSB0aGlzLml0ZW1UYXJnZXRzW3RoaXMuY3VycmVudEluZGV4XVxuICAgIGlmIChzZWxlY3RlZEl0ZW0pIHtcbiAgICAgIGNvbnNvbGUubG9nKCdTZWxlY3RlZDonLCBzZWxlY3RlZEl0ZW0uZGF0YXNldC52YWx1ZSlcbiAgICAgIC8vIEltcGxlbWVudCB5b3VyIHNlbGVjdGlvbiBsb2dpYyBoZXJlXG4gICAgfVxuICB9XG5cbiAgc2VhcmNoKCkge1xuICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5pbnB1dFRhcmdldC52YWx1ZS50b0xvd2VyQ2FzZSgpXG4gICAgdGhpcy5pdGVtVGFyZ2V0cy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgY29uc3QgbWF0Y2hlcyA9IGl0ZW0udGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeSlcbiAgICAgIGl0ZW0uc3R5bGUuZGlzcGxheSA9IG1hdGNoZXMgPyAnJyA6ICdub25lJ1xuICAgIH0pXG4gIH1cbn0iLCAiLyoqISBcbiAqIGhvdGtleXMtanMgdjMuMTMuNyBcbiAqIEEgc2ltcGxlIG1pY3JvLWxpYnJhcnkgZm9yIGRlZmluaW5nIGFuZCBkaXNwYXRjaGluZyBrZXlib2FyZCBzaG9ydGN1dHMuIEl0IGhhcyBubyBkZXBlbmRlbmNpZXMuIFxuICogXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjQga2Vubnkgd29uZyA8d293b2hvb0BxcS5jb20+IFxuICogaHR0cHM6Ly9naXRodWIuY29tL2pheXdjamxvdmUvaG90a2V5cy1qcy5naXQgXG4gKiBcbiAqIEB3ZWJzaXRlOiBodHRwczovL2pheXdjamxvdmUuZ2l0aHViLmlvL2hvdGtleXMtanNcbiBcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBcbiAqL1xuXG5jb25zdCBpc2ZmID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgPyBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignZmlyZWZveCcpID4gMCA6IGZhbHNlO1xuXG4vLyBcdTdFRDFcdTVCOUFcdTRFOEJcdTRFRjZcbmZ1bmN0aW9uIGFkZEV2ZW50KG9iamVjdCwgZXZlbnQsIG1ldGhvZCwgdXNlQ2FwdHVyZSkge1xuICBpZiAob2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICBvYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbWV0aG9kLCB1c2VDYXB0dXJlKTtcbiAgfSBlbHNlIGlmIChvYmplY3QuYXR0YWNoRXZlbnQpIHtcbiAgICBvYmplY3QuYXR0YWNoRXZlbnQoXCJvblwiLmNvbmNhdChldmVudCksIG1ldGhvZCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50KG9iamVjdCwgZXZlbnQsIG1ldGhvZCwgdXNlQ2FwdHVyZSkge1xuICBpZiAob2JqZWN0LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICBvYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbWV0aG9kLCB1c2VDYXB0dXJlKTtcbiAgfSBlbHNlIGlmIChvYmplY3QuZGV0YWNoRXZlbnQpIHtcbiAgICBvYmplY3QuZGV0YWNoRXZlbnQoXCJvblwiLmNvbmNhdChldmVudCksIG1ldGhvZCk7XG4gIH1cbn1cblxuLy8gXHU0RkVFXHU5OTcwXHU5NTJFXHU4RjZDXHU2MzYyXHU2MjEwXHU1QkY5XHU1RTk0XHU3Njg0XHU5NTJFXHU3ODAxXG5mdW5jdGlvbiBnZXRNb2RzKG1vZGlmaWVyLCBrZXkpIHtcbiAgY29uc3QgbW9kcyA9IGtleS5zbGljZSgwLCBrZXkubGVuZ3RoIC0gMSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kcy5sZW5ndGg7IGkrKykgbW9kc1tpXSA9IG1vZGlmaWVyW21vZHNbaV0udG9Mb3dlckNhc2UoKV07XG4gIHJldHVybiBtb2RzO1xufVxuXG4vLyBcdTU5MDRcdTc0MDZcdTRGMjBcdTc2ODRrZXlcdTVCNTdcdTdCMjZcdTRFMzJcdThGNkNcdTYzNjJcdTYyMTBcdTY1NzBcdTdFQzRcbmZ1bmN0aW9uIGdldEtleXMoa2V5KSB7XG4gIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykga2V5ID0gJyc7XG4gIGtleSA9IGtleS5yZXBsYWNlKC9cXHMvZywgJycpOyAvLyBcdTUzMzlcdTkxNERcdTRFRkJcdTRGNTVcdTdBN0FcdTc2N0RcdTVCNTdcdTdCMjYsXHU1MzA1XHU2MkVDXHU3QTdBXHU2ODNDXHUzMDAxXHU1MjM2XHU4ODY4XHU3QjI2XHUzMDAxXHU2MzYyXHU5ODc1XHU3QjI2XHU3QjQ5XHU3QjQ5XG4gIGNvbnN0IGtleXMgPSBrZXkuc3BsaXQoJywnKTsgLy8gXHU1NDBDXHU2NUY2XHU4QkJFXHU3RjZFXHU1OTFBXHU0RTJBXHU1RkVCXHU2Mzc3XHU5NTJFXHVGRjBDXHU0RUU1JywnXHU1MjA2XHU1MjcyXG4gIGxldCBpbmRleCA9IGtleXMubGFzdEluZGV4T2YoJycpO1xuXG4gIC8vIFx1NUZFQlx1NjM3N1x1OTUyRVx1NTNFRlx1ODBGRFx1NTMwNVx1NTQyQicsJ1x1RkYwQ1x1OTcwMFx1NzI3OVx1NkI4QVx1NTkwNFx1NzQwNlxuICBmb3IgKDsgaW5kZXggPj0gMDspIHtcbiAgICBrZXlzW2luZGV4IC0gMV0gKz0gJywnO1xuICAgIGtleXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICBpbmRleCA9IGtleXMubGFzdEluZGV4T2YoJycpO1xuICB9XG4gIHJldHVybiBrZXlzO1xufVxuXG4vLyBcdTZCRDRcdThGODNcdTRGRUVcdTk5NzBcdTk1MkVcdTc2ODRcdTY1NzBcdTdFQzRcbmZ1bmN0aW9uIGNvbXBhcmVBcnJheShhMSwgYTIpIHtcbiAgY29uc3QgYXJyMSA9IGExLmxlbmd0aCA+PSBhMi5sZW5ndGggPyBhMSA6IGEyO1xuICBjb25zdCBhcnIyID0gYTEubGVuZ3RoID49IGEyLmxlbmd0aCA/IGEyIDogYTE7XG4gIGxldCBpc0luZGV4ID0gdHJ1ZTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIxLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFycjIuaW5kZXhPZihhcnIxW2ldKSA9PT0gLTEpIGlzSW5kZXggPSBmYWxzZTtcbiAgfVxuICByZXR1cm4gaXNJbmRleDtcbn1cblxuLy8gU3BlY2lhbCBLZXlzXG5jb25zdCBfa2V5TWFwID0ge1xuICBiYWNrc3BhY2U6IDgsXG4gICdcdTIzMkInOiA4LFxuICB0YWI6IDksXG4gIGNsZWFyOiAxMixcbiAgZW50ZXI6IDEzLFxuICAnXHUyMUE5JzogMTMsXG4gIHJldHVybjogMTMsXG4gIGVzYzogMjcsXG4gIGVzY2FwZTogMjcsXG4gIHNwYWNlOiAzMixcbiAgbGVmdDogMzcsXG4gIHVwOiAzOCxcbiAgcmlnaHQ6IDM5LFxuICBkb3duOiA0MCxcbiAgZGVsOiA0NixcbiAgZGVsZXRlOiA0NixcbiAgaW5zOiA0NSxcbiAgaW5zZXJ0OiA0NSxcbiAgaG9tZTogMzYsXG4gIGVuZDogMzUsXG4gIHBhZ2V1cDogMzMsXG4gIHBhZ2Vkb3duOiAzNCxcbiAgY2Fwc2xvY2s6IDIwLFxuICBudW1fMDogOTYsXG4gIG51bV8xOiA5NyxcbiAgbnVtXzI6IDk4LFxuICBudW1fMzogOTksXG4gIG51bV80OiAxMDAsXG4gIG51bV81OiAxMDEsXG4gIG51bV82OiAxMDIsXG4gIG51bV83OiAxMDMsXG4gIG51bV84OiAxMDQsXG4gIG51bV85OiAxMDUsXG4gIG51bV9tdWx0aXBseTogMTA2LFxuICBudW1fYWRkOiAxMDcsXG4gIG51bV9lbnRlcjogMTA4LFxuICBudW1fc3VidHJhY3Q6IDEwOSxcbiAgbnVtX2RlY2ltYWw6IDExMCxcbiAgbnVtX2RpdmlkZTogMTExLFxuICAnXHUyMUVBJzogMjAsXG4gICcsJzogMTg4LFxuICAnLic6IDE5MCxcbiAgJy8nOiAxOTEsXG4gICdgJzogMTkyLFxuICAnLSc6IGlzZmYgPyAxNzMgOiAxODksXG4gICc9JzogaXNmZiA/IDYxIDogMTg3LFxuICAnOyc6IGlzZmYgPyA1OSA6IDE4NixcbiAgJ1xcJyc6IDIyMixcbiAgJ1snOiAyMTksXG4gICddJzogMjIxLFxuICAnXFxcXCc6IDIyMFxufTtcblxuLy8gTW9kaWZpZXIgS2V5c1xuY29uc3QgX21vZGlmaWVyID0ge1xuICAvLyBzaGlmdEtleVxuICAnXHUyMUU3JzogMTYsXG4gIHNoaWZ0OiAxNixcbiAgLy8gYWx0S2V5XG4gICdcdTIzMjUnOiAxOCxcbiAgYWx0OiAxOCxcbiAgb3B0aW9uOiAxOCxcbiAgLy8gY3RybEtleVxuICAnXHUyMzAzJzogMTcsXG4gIGN0cmw6IDE3LFxuICBjb250cm9sOiAxNyxcbiAgLy8gbWV0YUtleVxuICAnXHUyMzE4JzogOTEsXG4gIGNtZDogOTEsXG4gIGNvbW1hbmQ6IDkxXG59O1xuY29uc3QgbW9kaWZpZXJNYXAgPSB7XG4gIDE2OiAnc2hpZnRLZXknLFxuICAxODogJ2FsdEtleScsXG4gIDE3OiAnY3RybEtleScsXG4gIDkxOiAnbWV0YUtleScsXG4gIHNoaWZ0S2V5OiAxNixcbiAgY3RybEtleTogMTcsXG4gIGFsdEtleTogMTgsXG4gIG1ldGFLZXk6IDkxXG59O1xuY29uc3QgX21vZHMgPSB7XG4gIDE2OiBmYWxzZSxcbiAgMTg6IGZhbHNlLFxuICAxNzogZmFsc2UsXG4gIDkxOiBmYWxzZVxufTtcbmNvbnN0IF9oYW5kbGVycyA9IHt9O1xuXG4vLyBGMX5GMTIgc3BlY2lhbCBrZXlcbmZvciAobGV0IGsgPSAxOyBrIDwgMjA7IGsrKykge1xuICBfa2V5TWFwW1wiZlwiLmNvbmNhdChrKV0gPSAxMTEgKyBrO1xufVxuXG5sZXQgX2Rvd25LZXlzID0gW107IC8vIFx1OEJCMFx1NUY1NVx1NjQ0MVx1NEUwQlx1NzY4NFx1N0VEMVx1NUI5QVx1OTUyRVxubGV0IHdpbkxpc3RlbmRGb2N1cyA9IG51bGw7IC8vIHdpbmRvd1x1NjYyRlx1NTQyNlx1NURGMlx1N0VDRlx1NzZEMVx1NTQyQ1x1NEU4NmZvY3VzXHU0RThCXHU0RUY2XG5sZXQgX3Njb3BlID0gJ2FsbCc7IC8vIFx1OUVEOFx1OEJBNFx1NzBFRFx1OTUyRVx1ODMwM1x1NTZGNFxuY29uc3QgZWxlbWVudEV2ZW50TWFwID0gbmV3IE1hcCgpOyAvLyBcdTVERjJcdTdFRDFcdTVCOUFcdTRFOEJcdTRFRjZcdTc2ODRcdTgyODJcdTcwQjlcdThCQjBcdTVGNTVcblxuLy8gXHU4RkQ0XHU1NkRFXHU5NTJFXHU3ODAxXG5jb25zdCBjb2RlID0geCA9PiBfa2V5TWFwW3gudG9Mb3dlckNhc2UoKV0gfHwgX21vZGlmaWVyW3gudG9Mb3dlckNhc2UoKV0gfHwgeC50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBnZXRLZXkgPSB4ID0+IE9iamVjdC5rZXlzKF9rZXlNYXApLmZpbmQoayA9PiBfa2V5TWFwW2tdID09PSB4KTtcbmNvbnN0IGdldE1vZGlmaWVyID0geCA9PiBPYmplY3Qua2V5cyhfbW9kaWZpZXIpLmZpbmQoayA9PiBfbW9kaWZpZXJba10gPT09IHgpO1xuXG4vLyBcdThCQkVcdTdGNkVcdTgzQjdcdTUzRDZcdTVGNTNcdTUyNERcdTgzMDNcdTU2RjRcdUZGMDhcdTlFRDhcdThCQTRcdTRFM0EnXHU2MjQwXHU2NzA5J1x1RkYwOVxuZnVuY3Rpb24gc2V0U2NvcGUoc2NvcGUpIHtcbiAgX3Njb3BlID0gc2NvcGUgfHwgJ2FsbCc7XG59XG4vLyBcdTgzQjdcdTUzRDZcdTVGNTNcdTUyNERcdTgzMDNcdTU2RjRcbmZ1bmN0aW9uIGdldFNjb3BlKCkge1xuICByZXR1cm4gX3Njb3BlIHx8ICdhbGwnO1xufVxuLy8gXHU4M0I3XHU1M0Q2XHU2NDQxXHU0RTBCXHU3RUQxXHU1QjlBXHU5NTJFXHU3Njg0XHU5NTJFXHU1MDNDXG5mdW5jdGlvbiBnZXRQcmVzc2VkS2V5Q29kZXMoKSB7XG4gIHJldHVybiBfZG93bktleXMuc2xpY2UoMCk7XG59XG5mdW5jdGlvbiBnZXRQcmVzc2VkS2V5U3RyaW5nKCkge1xuICByZXR1cm4gX2Rvd25LZXlzLm1hcChjID0+IGdldEtleShjKSB8fCBnZXRNb2RpZmllcihjKSB8fCBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpKTtcbn1cbmZ1bmN0aW9uIGdldEFsbEtleUNvZGVzKCkge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgT2JqZWN0LmtleXMoX2hhbmRsZXJzKS5mb3JFYWNoKGsgPT4ge1xuICAgIF9oYW5kbGVyc1trXS5mb3JFYWNoKF9yZWYgPT4ge1xuICAgICAgbGV0IHtcbiAgICAgICAga2V5LFxuICAgICAgICBzY29wZSxcbiAgICAgICAgbW9kcyxcbiAgICAgICAgc2hvcnRjdXRcbiAgICAgIH0gPSBfcmVmO1xuICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICBzY29wZSxcbiAgICAgICAgc2hvcnRjdXQsXG4gICAgICAgIG1vZHMsXG4gICAgICAgIGtleXM6IGtleS5zcGxpdCgnKycpLm1hcCh2ID0+IGNvZGUodikpXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIFx1ODg2OFx1NTM1NVx1NjNBN1x1NEVGNlx1NjNBN1x1NEVGNlx1NTIyNFx1NjVBRCBcdThGRDRcdTU2REUgQm9vbGVhblxuLy8gaG90a2V5IGlzIGVmZmVjdGl2ZSBvbmx5IHdoZW4gZmlsdGVyIHJldHVybiB0cnVlXG5mdW5jdGlvbiBmaWx0ZXIoZXZlbnQpIHtcbiAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IHx8IGV2ZW50LnNyY0VsZW1lbnQ7XG4gIGNvbnN0IHtcbiAgICB0YWdOYW1lXG4gIH0gPSB0YXJnZXQ7XG4gIGxldCBmbGFnID0gdHJ1ZTtcbiAgY29uc3QgaXNJbnB1dCA9IHRhZ05hbWUgPT09ICdJTlBVVCcgJiYgIVsnY2hlY2tib3gnLCAncmFkaW8nLCAncmFuZ2UnLCAnYnV0dG9uJywgJ2ZpbGUnLCAncmVzZXQnLCAnc3VibWl0JywgJ2NvbG9yJ10uaW5jbHVkZXModGFyZ2V0LnR5cGUpO1xuICAvLyBpZ25vcmU6IGlzQ29udGVudEVkaXRhYmxlID09PSAndHJ1ZScsIDxpbnB1dD4gYW5kIDx0ZXh0YXJlYT4gd2hlbiByZWFkT25seSBzdGF0ZSBpcyBmYWxzZSwgPHNlbGVjdD5cbiAgaWYgKHRhcmdldC5pc0NvbnRlbnRFZGl0YWJsZSB8fCAoaXNJbnB1dCB8fCB0YWdOYW1lID09PSAnVEVYVEFSRUEnIHx8IHRhZ05hbWUgPT09ICdTRUxFQ1QnKSAmJiAhdGFyZ2V0LnJlYWRPbmx5KSB7XG4gICAgZmxhZyA9IGZhbHNlO1xuICB9XG4gIHJldHVybiBmbGFnO1xufVxuXG4vLyBcdTUyMjRcdTY1QURcdTY0NDFcdTRFMEJcdTc2ODRcdTk1MkVcdTY2MkZcdTU0MjZcdTRFM0FcdTY3RDBcdTRFMkFcdTk1MkVcdUZGMENcdThGRDRcdTU2REV0cnVlXHU2MjE2XHU4MDA1ZmFsc2VcbmZ1bmN0aW9uIGlzUHJlc3NlZChrZXlDb2RlKSB7XG4gIGlmICh0eXBlb2Yga2V5Q29kZSA9PT0gJ3N0cmluZycpIHtcbiAgICBrZXlDb2RlID0gY29kZShrZXlDb2RlKTsgLy8gXHU4RjZDXHU2MzYyXHU2MjEwXHU5NTJFXHU3ODAxXG4gIH1cbiAgcmV0dXJuIF9kb3duS2V5cy5pbmRleE9mKGtleUNvZGUpICE9PSAtMTtcbn1cblxuLy8gXHU1RkFBXHU3M0FGXHU1MjIwXHU5NjY0aGFuZGxlcnNcdTRFMkRcdTc2ODRcdTYyNDBcdTY3MDkgc2NvcGUoXHU4MzAzXHU1NkY0KVxuZnVuY3Rpb24gZGVsZXRlU2NvcGUoc2NvcGUsIG5ld1Njb3BlKSB7XG4gIGxldCBoYW5kbGVycztcbiAgbGV0IGk7XG5cbiAgLy8gXHU2Q0ExXHU2NzA5XHU2MzA3XHU1QjlBc2NvcGVcdUZGMENcdTgzQjdcdTUzRDZzY29wZVxuICBpZiAoIXNjb3BlKSBzY29wZSA9IGdldFNjb3BlKCk7XG4gIGZvciAoY29uc3Qga2V5IGluIF9oYW5kbGVycykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX2hhbmRsZXJzLCBrZXkpKSB7XG4gICAgICBoYW5kbGVycyA9IF9oYW5kbGVyc1trZXldO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGhhbmRsZXJzLmxlbmd0aDspIHtcbiAgICAgICAgaWYgKGhhbmRsZXJzW2ldLnNjb3BlID09PSBzY29wZSkge1xuICAgICAgICAgIGNvbnN0IGRlbGV0ZUl0ZW1zID0gaGFuZGxlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGRlbGV0ZUl0ZW1zLmZvckVhY2goX3JlZjIgPT4ge1xuICAgICAgICAgICAgbGV0IHtcbiAgICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgfSA9IF9yZWYyO1xuICAgICAgICAgICAgcmV0dXJuIHJlbW92ZUtleUV2ZW50KGVsZW1lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFx1NTk4Mlx1Njc5Q3Njb3BlXHU4OEFCXHU1MjIwXHU5NjY0XHVGRjBDXHU1QzA2c2NvcGVcdTkxQ0RcdTdGNkVcdTRFM0FhbGxcbiAgaWYgKGdldFNjb3BlKCkgPT09IHNjb3BlKSBzZXRTY29wZShuZXdTY29wZSB8fCAnYWxsJyk7XG59XG5cbi8vIFx1NkUwNVx1OTY2NFx1NEZFRVx1OTk3MFx1OTUyRVxuZnVuY3Rpb24gY2xlYXJNb2RpZmllcihldmVudCkge1xuICBsZXQga2V5ID0gZXZlbnQua2V5Q29kZSB8fCBldmVudC53aGljaCB8fCBldmVudC5jaGFyQ29kZTtcbiAgY29uc3QgaSA9IF9kb3duS2V5cy5pbmRleE9mKGtleSk7XG5cbiAgLy8gXHU0RUNFXHU1MjE3XHU4ODY4XHU0RTJEXHU2RTA1XHU5NjY0XHU2MzA5XHU1MzhCXHU4RkM3XHU3Njg0XHU5NTJFXG4gIGlmIChpID49IDApIHtcbiAgICBfZG93bktleXMuc3BsaWNlKGksIDEpO1xuICB9XG4gIC8vIFx1NzI3OVx1NkI4QVx1NTkwNFx1NzQwNiBjbW1hbmQgXHU5NTJFXHVGRjBDXHU1NzI4IGNtbWFuZCBcdTdFQzRcdTU0MDhcdTVGRUJcdTYzNzdcdTk1MkUga2V5dXAgXHU1M0VBXHU2MjY3XHU4ODRDXHU0RTAwXHU2QjIxXHU3Njg0XHU5NUVFXHU5ODk4XG4gIGlmIChldmVudC5rZXkgJiYgZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgPT09ICdtZXRhJykge1xuICAgIF9kb3duS2V5cy5zcGxpY2UoMCwgX2Rvd25LZXlzLmxlbmd0aCk7XG4gIH1cblxuICAvLyBcdTRGRUVcdTk5NzBcdTk1MkUgc2hpZnRLZXkgYWx0S2V5IGN0cmxLZXkgKGNvbW1hbmR8fG1ldGFLZXkpIFx1NkUwNVx1OTY2NFxuICBpZiAoa2V5ID09PSA5MyB8fCBrZXkgPT09IDIyNCkga2V5ID0gOTE7XG4gIGlmIChrZXkgaW4gX21vZHMpIHtcbiAgICBfbW9kc1trZXldID0gZmFsc2U7XG5cbiAgICAvLyBcdTVDMDZcdTRGRUVcdTk5NzBcdTk1MkVcdTkxQ0RcdTdGNkVcdTRFM0FmYWxzZVxuICAgIGZvciAoY29uc3QgayBpbiBfbW9kaWZpZXIpIGlmIChfbW9kaWZpZXJba10gPT09IGtleSkgaG90a2V5c1trXSA9IGZhbHNlO1xuICB9XG59XG5mdW5jdGlvbiB1bmJpbmQoa2V5c0luZm8pIHtcbiAgLy8gdW5iaW5kKCksIHVuYmluZCBhbGwga2V5c1xuICBpZiAodHlwZW9mIGtleXNJbmZvID09PSAndW5kZWZpbmVkJykge1xuICAgIE9iamVjdC5rZXlzKF9oYW5kbGVycykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgQXJyYXkuaXNBcnJheShfaGFuZGxlcnNba2V5XSkgJiYgX2hhbmRsZXJzW2tleV0uZm9yRWFjaChpbmZvID0+IGVhY2hVbmJpbmQoaW5mbykpO1xuICAgICAgZGVsZXRlIF9oYW5kbGVyc1trZXldO1xuICAgIH0pO1xuICAgIHJlbW92ZUtleUV2ZW50KG51bGwpO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoa2V5c0luZm8pKSB7XG4gICAgLy8gc3VwcG9ydCBsaWtlIDogdW5iaW5kKFt7a2V5OiAnY3RybCthJywgc2NvcGU6ICdzMSd9LCB7a2V5OiAnY3RybC1hJywgc2NvcGU6ICdzMicsIHNwbGl0S2V5OiAnLSd9XSlcbiAgICBrZXlzSW5mby5mb3JFYWNoKGluZm8gPT4ge1xuICAgICAgaWYgKGluZm8ua2V5KSBlYWNoVW5iaW5kKGluZm8pO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBrZXlzSW5mbyA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBzdXBwb3J0IGxpa2UgdW5iaW5kKHtrZXk6ICdjdHJsK2EsIGN0cmwrYicsIHNjb3BlOidhYmMnfSlcbiAgICBpZiAoa2V5c0luZm8ua2V5KSBlYWNoVW5iaW5kKGtleXNJbmZvKTtcbiAgfSBlbHNlIGlmICh0eXBlb2Yga2V5c0luZm8gPT09ICdzdHJpbmcnKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIC8vIHN1cHBvcnQgb2xkIG1ldGhvZFxuICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBsZXQgW3Njb3BlLCBtZXRob2RdID0gYXJncztcbiAgICBpZiAodHlwZW9mIHNjb3BlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBtZXRob2QgPSBzY29wZTtcbiAgICAgIHNjb3BlID0gJyc7XG4gICAgfVxuICAgIGVhY2hVbmJpbmQoe1xuICAgICAga2V5OiBrZXlzSW5mbyxcbiAgICAgIHNjb3BlLFxuICAgICAgbWV0aG9kLFxuICAgICAgc3BsaXRLZXk6ICcrJ1xuICAgIH0pO1xuICB9XG59XG5cbi8vIFx1ODlFM1x1OTY2NFx1N0VEMVx1NUI5QVx1NjdEMFx1NEUyQVx1ODMwM1x1NTZGNFx1NzY4NFx1NUZFQlx1NjM3N1x1OTUyRVxuY29uc3QgZWFjaFVuYmluZCA9IF9yZWYzID0+IHtcbiAgbGV0IHtcbiAgICBrZXksXG4gICAgc2NvcGUsXG4gICAgbWV0aG9kLFxuICAgIHNwbGl0S2V5ID0gJysnXG4gIH0gPSBfcmVmMztcbiAgY29uc3QgbXVsdGlwbGVLZXlzID0gZ2V0S2V5cyhrZXkpO1xuICBtdWx0aXBsZUtleXMuZm9yRWFjaChvcmlnaW5LZXkgPT4ge1xuICAgIGNvbnN0IHVuYmluZEtleXMgPSBvcmlnaW5LZXkuc3BsaXQoc3BsaXRLZXkpO1xuICAgIGNvbnN0IGxlbiA9IHVuYmluZEtleXMubGVuZ3RoO1xuICAgIGNvbnN0IGxhc3RLZXkgPSB1bmJpbmRLZXlzW2xlbiAtIDFdO1xuICAgIGNvbnN0IGtleUNvZGUgPSBsYXN0S2V5ID09PSAnKicgPyAnKicgOiBjb2RlKGxhc3RLZXkpO1xuICAgIGlmICghX2hhbmRsZXJzW2tleUNvZGVdKSByZXR1cm47XG4gICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU0RjIwXHU1MTY1XHU4MzAzXHU1NkY0XHVGRjBDXHU2Q0ExXHU2NzA5XHU1QzMxXHU4M0I3XHU1M0Q2XHU4MzAzXHU1NkY0XG4gICAgaWYgKCFzY29wZSkgc2NvcGUgPSBnZXRTY29wZSgpO1xuICAgIGNvbnN0IG1vZHMgPSBsZW4gPiAxID8gZ2V0TW9kcyhfbW9kaWZpZXIsIHVuYmluZEtleXMpIDogW107XG4gICAgY29uc3QgdW5iaW5kRWxlbWVudHMgPSBbXTtcbiAgICBfaGFuZGxlcnNba2V5Q29kZV0gPSBfaGFuZGxlcnNba2V5Q29kZV0uZmlsdGVyKHJlY29yZCA9PiB7XG4gICAgICAvLyBcdTkwMUFcdThGQzdcdTUxRkRcdTY1NzBcdTUyMjRcdTY1QURcdUZGMENcdTY2MkZcdTU0MjZcdTg5RTNcdTk2NjRcdTdFRDFcdTVCOUFcdUZGMENcdTUxRkRcdTY1NzBcdTc2RjhcdTdCNDlcdTc2RjRcdTYzQTVcdThGRDRcdTU2REVcbiAgICAgIGNvbnN0IGlzTWF0Y2hpbmdNZXRob2QgPSBtZXRob2QgPyByZWNvcmQubWV0aG9kID09PSBtZXRob2QgOiB0cnVlO1xuICAgICAgY29uc3QgaXNVbmJpbmQgPSBpc01hdGNoaW5nTWV0aG9kICYmIHJlY29yZC5zY29wZSA9PT0gc2NvcGUgJiYgY29tcGFyZUFycmF5KHJlY29yZC5tb2RzLCBtb2RzKTtcbiAgICAgIGlmIChpc1VuYmluZCkgdW5iaW5kRWxlbWVudHMucHVzaChyZWNvcmQuZWxlbWVudCk7XG4gICAgICByZXR1cm4gIWlzVW5iaW5kO1xuICAgIH0pO1xuICAgIHVuYmluZEVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiByZW1vdmVLZXlFdmVudChlbGVtZW50KSk7XG4gIH0pO1xufTtcblxuLy8gXHU1QkY5XHU3NkQxXHU1NDJDXHU1QkY5XHU1RTk0XHU1RkVCXHU2Mzc3XHU5NTJFXHU3Njg0XHU1NkRFXHU4QzAzXHU1MUZEXHU2NTcwXHU4RkRCXHU4ODRDXHU1OTA0XHU3NDA2XG5mdW5jdGlvbiBldmVudEhhbmRsZXIoZXZlbnQsIGhhbmRsZXIsIHNjb3BlLCBlbGVtZW50KSB7XG4gIGlmIChoYW5kbGVyLmVsZW1lbnQgIT09IGVsZW1lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IG1vZGlmaWVyc01hdGNoO1xuXG4gIC8vIFx1NzcwQlx1NUI4M1x1NjYyRlx1NTQyNlx1NTcyOFx1NUY1M1x1NTI0RFx1ODMwM1x1NTZGNFxuICBpZiAoaGFuZGxlci5zY29wZSA9PT0gc2NvcGUgfHwgaGFuZGxlci5zY29wZSA9PT0gJ2FsbCcpIHtcbiAgICAvLyBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTUzMzlcdTkxNERcdTRGRUVcdTk5NzBcdTdCMjZcdUZGMDhcdTU5ODJcdTY3OUNcdTY3MDlcdThGRDRcdTU2REV0cnVlXHVGRjA5XG4gICAgbW9kaWZpZXJzTWF0Y2ggPSBoYW5kbGVyLm1vZHMubGVuZ3RoID4gMDtcbiAgICBmb3IgKGNvbnN0IHkgaW4gX21vZHMpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX21vZHMsIHkpKSB7XG4gICAgICAgIGlmICghX21vZHNbeV0gJiYgaGFuZGxlci5tb2RzLmluZGV4T2YoK3kpID4gLTEgfHwgX21vZHNbeV0gJiYgaGFuZGxlci5tb2RzLmluZGV4T2YoK3kpID09PSAtMSkge1xuICAgICAgICAgIG1vZGlmaWVyc01hdGNoID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBcdThDMDNcdTc1MjhcdTU5MDRcdTc0MDZcdTdBMEJcdTVFOEZcdUZGMENcdTU5ODJcdTY3OUNcdTY2MkZcdTRGRUVcdTk5NzBcdTk1MkVcdTRFMERcdTUwNUFcdTU5MDRcdTc0MDZcbiAgICBpZiAoaGFuZGxlci5tb2RzLmxlbmd0aCA9PT0gMCAmJiAhX21vZHNbMTZdICYmICFfbW9kc1sxOF0gJiYgIV9tb2RzWzE3XSAmJiAhX21vZHNbOTFdIHx8IG1vZGlmaWVyc01hdGNoIHx8IGhhbmRsZXIuc2hvcnRjdXQgPT09ICcqJykge1xuICAgICAgaGFuZGxlci5rZXlzID0gW107XG4gICAgICBoYW5kbGVyLmtleXMgPSBoYW5kbGVyLmtleXMuY29uY2F0KF9kb3duS2V5cyk7XG4gICAgICBpZiAoaGFuZGxlci5tZXRob2QoZXZlbnQsIGhhbmRsZXIpID09PSBmYWxzZSkge1xuICAgICAgICBpZiAoZXZlbnQucHJldmVudERlZmF1bHQpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7ZWxzZSBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKGV2ZW50LmNhbmNlbEJ1YmJsZSkgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gXHU1OTA0XHU3NDA2a2V5ZG93blx1NEU4Qlx1NEVGNlxuZnVuY3Rpb24gZGlzcGF0Y2goZXZlbnQsIGVsZW1lbnQpIHtcbiAgY29uc3QgYXN0ZXJpc2sgPSBfaGFuZGxlcnNbJyonXTtcbiAgbGV0IGtleSA9IGV2ZW50LmtleUNvZGUgfHwgZXZlbnQud2hpY2ggfHwgZXZlbnQuY2hhckNvZGU7XG5cbiAgLy8gXHU4ODY4XHU1MzU1XHU2M0E3XHU0RUY2XHU4RkM3XHU2RUU0IFx1OUVEOFx1OEJBNFx1ODg2OFx1NTM1NVx1NjNBN1x1NEVGNlx1NEUwRFx1ODlFNlx1NTNEMVx1NUZFQlx1NjM3N1x1OTUyRVxuICBpZiAoIWhvdGtleXMuZmlsdGVyLmNhbGwodGhpcywgZXZlbnQpKSByZXR1cm47XG5cbiAgLy8gR2Vja28oRmlyZWZveClcdTc2ODRjb21tYW5kXHU5NTJFXHU1MDNDMjI0XHVGRjBDXHU1NzI4V2Via2l0KENocm9tZSlcdTRFMkRcdTRGRERcdTYzMDFcdTRFMDBcdTgxRjRcbiAgLy8gV2Via2l0XHU1REU2XHU1M0YzIGNvbW1hbmQgXHU5NTJFXHU1MDNDXHU0RTBEXHU0RTAwXHU2ODM3XG4gIGlmIChrZXkgPT09IDkzIHx8IGtleSA9PT0gMjI0KSBrZXkgPSA5MTtcblxuICAvKipcbiAgICogQ29sbGVjdCBib3VuZCBrZXlzXG4gICAqIElmIGFuIElucHV0IE1ldGhvZCBFZGl0b3IgaXMgcHJvY2Vzc2luZyBrZXkgaW5wdXQgYW5kIHRoZSBldmVudCBpcyBrZXlkb3duLCByZXR1cm4gMjI5LlxuICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNTA0MzkzNC9pcy1pdC1vay10by1pZ25vcmUta2V5ZG93bi1ldmVudHMtd2l0aC1rZXljb2RlLTIyOVxuICAgKiBodHRwOi8vbGlzdHMudzMub3JnL0FyY2hpdmVzL1B1YmxpYy93d3ctZG9tLzIwMTBKdWxTZXAvYXR0LTAxODIva2V5Q29kZS1zcGVjLmh0bWxcbiAgICovXG4gIGlmIChfZG93bktleXMuaW5kZXhPZihrZXkpID09PSAtMSAmJiBrZXkgIT09IDIyOSkgX2Rvd25LZXlzLnB1c2goa2V5KTtcbiAgLyoqXG4gICAqIEplc3QgdGVzdCBjYXNlcyBhcmUgcmVxdWlyZWQuXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICovXG4gIFsnY3RybEtleScsICdhbHRLZXknLCAnc2hpZnRLZXknLCAnbWV0YUtleSddLmZvckVhY2goa2V5TmFtZSA9PiB7XG4gICAgY29uc3Qga2V5TnVtID0gbW9kaWZpZXJNYXBba2V5TmFtZV07XG4gICAgaWYgKGV2ZW50W2tleU5hbWVdICYmIF9kb3duS2V5cy5pbmRleE9mKGtleU51bSkgPT09IC0xKSB7XG4gICAgICBfZG93bktleXMucHVzaChrZXlOdW0pO1xuICAgIH0gZWxzZSBpZiAoIWV2ZW50W2tleU5hbWVdICYmIF9kb3duS2V5cy5pbmRleE9mKGtleU51bSkgPiAtMSkge1xuICAgICAgX2Rvd25LZXlzLnNwbGljZShfZG93bktleXMuaW5kZXhPZihrZXlOdW0pLCAxKTtcbiAgICB9IGVsc2UgaWYgKGtleU5hbWUgPT09ICdtZXRhS2V5JyAmJiBldmVudFtrZXlOYW1lXSAmJiBfZG93bktleXMubGVuZ3RoID09PSAzKSB7XG4gICAgICAvKipcbiAgICAgICAqIEZpeCBpZiBDb21tYW5kIGlzIHByZXNzZWQ6XG4gICAgICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgKi9cbiAgICAgIGlmICghKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQuYWx0S2V5KSkge1xuICAgICAgICBfZG93bktleXMgPSBfZG93bktleXMuc2xpY2UoX2Rvd25LZXlzLmluZGV4T2Yoa2V5TnVtKSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgaWYgKGtleSBpbiBfbW9kcykge1xuICAgIF9tb2RzW2tleV0gPSB0cnVlO1xuXG4gICAgLy8gXHU1QzA2XHU3Mjc5XHU2QjhBXHU1QjU3XHU3QjI2XHU3Njg0a2V5XHU2Q0U4XHU1MThDXHU1MjMwIGhvdGtleXMgXHU0RTBBXG4gICAgZm9yIChjb25zdCBrIGluIF9tb2RpZmllcikge1xuICAgICAgaWYgKF9tb2RpZmllcltrXSA9PT0ga2V5KSBob3RrZXlzW2tdID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFhc3RlcmlzaykgcmV0dXJuO1xuICB9XG5cbiAgLy8gXHU1QzA2IG1vZGlmaWVyTWFwIFx1OTFDQ1x1OTc2Mlx1NzY4NFx1NEZFRVx1OTk3MFx1OTUyRVx1N0VEMVx1NUI5QVx1NTIzMCBldmVudCBcdTRFMkRcbiAgZm9yIChjb25zdCBlIGluIF9tb2RzKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfbW9kcywgZSkpIHtcbiAgICAgIF9tb2RzW2VdID0gZXZlbnRbbW9kaWZpZXJNYXBbZV1dO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2pheXdjamxvdmUvaG90a2V5cy9wdWxsLzEyOVxuICAgKiBUaGlzIHNvbHZlcyB0aGUgaXNzdWUgaW4gRmlyZWZveCBvbiBXaW5kb3dzIHdoZXJlIGhvdGtleXMgY29ycmVzcG9uZGluZyB0byBzcGVjaWFsIGNoYXJhY3RlcnMgd291bGQgbm90IHRyaWdnZXIuXG4gICAqIEFuIGV4YW1wbGUgb2YgdGhpcyBpcyBjdHJsK2FsdCttIG9uIGEgU3dlZGlzaCBrZXlib2FyZCB3aGljaCBpcyB1c2VkIHRvIHR5cGUgXHUwM0JDLlxuICAgKiBCcm93c2VyIHN1cHBvcnQ6IGh0dHBzOi8vY2FuaXVzZS5jb20vI2ZlYXQ9a2V5Ym9hcmRldmVudC1nZXRtb2RpZmllcnN0YXRlXG4gICAqL1xuICBpZiAoZXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZSAmJiAhKGV2ZW50LmFsdEtleSAmJiAhZXZlbnQuY3RybEtleSkgJiYgZXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZSgnQWx0R3JhcGgnKSkge1xuICAgIGlmIChfZG93bktleXMuaW5kZXhPZigxNykgPT09IC0xKSB7XG4gICAgICBfZG93bktleXMucHVzaCgxNyk7XG4gICAgfVxuICAgIGlmIChfZG93bktleXMuaW5kZXhPZigxOCkgPT09IC0xKSB7XG4gICAgICBfZG93bktleXMucHVzaCgxOCk7XG4gICAgfVxuICAgIF9tb2RzWzE3XSA9IHRydWU7XG4gICAgX21vZHNbMThdID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIFx1ODNCN1x1NTNENlx1ODMwM1x1NTZGNCBcdTlFRDhcdThCQTRcdTRFM0EgYGFsbGBcbiAgY29uc3Qgc2NvcGUgPSBnZXRTY29wZSgpO1xuICAvLyBcdTVCRjlcdTRFRkJcdTRGNTVcdTVGRUJcdTYzNzdcdTk1MkVcdTkwRkRcdTk3MDBcdTg5ODFcdTUwNUFcdTc2ODRcdTU5MDRcdTc0MDZcbiAgaWYgKGFzdGVyaXNrKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhc3Rlcmlzay5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFzdGVyaXNrW2ldLnNjb3BlID09PSBzY29wZSAmJiAoZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nICYmIGFzdGVyaXNrW2ldLmtleWRvd24gfHwgZXZlbnQudHlwZSA9PT0gJ2tleXVwJyAmJiBhc3Rlcmlza1tpXS5rZXl1cCkpIHtcbiAgICAgICAgZXZlbnRIYW5kbGVyKGV2ZW50LCBhc3Rlcmlza1tpXSwgc2NvcGUsIGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBrZXkgXHU0RTBEXHU1NzI4IF9oYW5kbGVycyBcdTRFMkRcdThGRDRcdTU2REVcbiAgaWYgKCEoa2V5IGluIF9oYW5kbGVycykpIHJldHVybjtcbiAgY29uc3QgaGFuZGxlcktleSA9IF9oYW5kbGVyc1trZXldO1xuICBjb25zdCBrZXlMZW4gPSBoYW5kbGVyS2V5Lmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlMZW47IGkrKykge1xuICAgIGlmIChldmVudC50eXBlID09PSAna2V5ZG93bicgJiYgaGFuZGxlcktleVtpXS5rZXlkb3duIHx8IGV2ZW50LnR5cGUgPT09ICdrZXl1cCcgJiYgaGFuZGxlcktleVtpXS5rZXl1cCkge1xuICAgICAgaWYgKGhhbmRsZXJLZXlbaV0ua2V5KSB7XG4gICAgICAgIGNvbnN0IHJlY29yZCA9IGhhbmRsZXJLZXlbaV07XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBzcGxpdEtleVxuICAgICAgICB9ID0gcmVjb3JkO1xuICAgICAgICBjb25zdCBrZXlTaG9ydGN1dCA9IHJlY29yZC5rZXkuc3BsaXQoc3BsaXRLZXkpO1xuICAgICAgICBjb25zdCBfZG93bktleXNDdXJyZW50ID0gW107IC8vIFx1OEJCMFx1NUY1NVx1NUY1M1x1NTI0RFx1NjMwOVx1OTUyRVx1OTUyRVx1NTAzQ1xuICAgICAgICBmb3IgKGxldCBhID0gMDsgYSA8IGtleVNob3J0Y3V0Lmxlbmd0aDsgYSsrKSB7XG4gICAgICAgICAgX2Rvd25LZXlzQ3VycmVudC5wdXNoKGNvZGUoa2V5U2hvcnRjdXRbYV0pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2Rvd25LZXlzQ3VycmVudC5zb3J0KCkuam9pbignJykgPT09IF9kb3duS2V5cy5zb3J0KCkuam9pbignJykpIHtcbiAgICAgICAgICAvLyBcdTYyN0VcdTUyMzBcdTU5MDRcdTc0MDZcdTUxODVcdTVCQjlcbiAgICAgICAgICBldmVudEhhbmRsZXIoZXZlbnQsIHJlY29yZCwgc2NvcGUsIGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBob3RrZXlzKGtleSwgb3B0aW9uLCBtZXRob2QpIHtcbiAgX2Rvd25LZXlzID0gW107XG4gIGNvbnN0IGtleXMgPSBnZXRLZXlzKGtleSk7IC8vIFx1OTcwMFx1ODk4MVx1NTkwNFx1NzQwNlx1NzY4NFx1NUZFQlx1NjM3N1x1OTUyRVx1NTIxN1x1ODg2OFxuICBsZXQgbW9kcyA9IFtdO1xuICBsZXQgc2NvcGUgPSAnYWxsJzsgLy8gc2NvcGVcdTlFRDhcdThCQTRcdTRFM0FhbGxcdUZGMENcdTYyNDBcdTY3MDlcdTgzMDNcdTU2RjRcdTkwRkRcdTY3MDlcdTY1NDhcbiAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudDsgLy8gXHU1RkVCXHU2Mzc3XHU5NTJFXHU0RThCXHU0RUY2XHU3RUQxXHU1QjlBXHU4MjgyXHU3MEI5XG4gIGxldCBpID0gMDtcbiAgbGV0IGtleXVwID0gZmFsc2U7XG4gIGxldCBrZXlkb3duID0gdHJ1ZTtcbiAgbGV0IHNwbGl0S2V5ID0gJysnO1xuICBsZXQgY2FwdHVyZSA9IGZhbHNlO1xuICBsZXQgc2luZ2xlID0gZmFsc2U7IC8vIFx1NTM1NVx1NEUyQWNhbGxiYWNrXG5cbiAgLy8gXHU1QkY5XHU0RTNBXHU4QkJFXHU1QjlBXHU4MzAzXHU1NkY0XHU3Njg0XHU1MjI0XHU2NUFEXG4gIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb3B0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgbWV0aG9kID0gb3B0aW9uO1xuICB9XG4gIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob3B0aW9uKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICBpZiAob3B0aW9uLnNjb3BlKSBzY29wZSA9IG9wdGlvbi5zY29wZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGlmIChvcHRpb24uZWxlbWVudCkgZWxlbWVudCA9IG9wdGlvbi5lbGVtZW50OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgaWYgKG9wdGlvbi5rZXl1cCkga2V5dXAgPSBvcHRpb24ua2V5dXA7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBpZiAob3B0aW9uLmtleWRvd24gIT09IHVuZGVmaW5lZCkga2V5ZG93biA9IG9wdGlvbi5rZXlkb3duOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgaWYgKG9wdGlvbi5jYXB0dXJlICE9PSB1bmRlZmluZWQpIGNhcHR1cmUgPSBvcHRpb24uY2FwdHVyZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGlmICh0eXBlb2Ygb3B0aW9uLnNwbGl0S2V5ID09PSAnc3RyaW5nJykgc3BsaXRLZXkgPSBvcHRpb24uc3BsaXRLZXk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBpZiAob3B0aW9uLnNpbmdsZSA9PT0gdHJ1ZSkgc2luZ2xlID0gdHJ1ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICB9XG4gIGlmICh0eXBlb2Ygb3B0aW9uID09PSAnc3RyaW5nJykgc2NvcGUgPSBvcHRpb247XG5cbiAgLy8gXHU1OTgyXHU2NzlDXHU1M0VBXHU1MTQxXHU4QkI4XHU1MzU1XHU0RTJBY2FsbGJhY2tcdUZGMENcdTUxNDh1bmJpbmRcbiAgaWYgKHNpbmdsZSkgdW5iaW5kKGtleSwgc2NvcGUpO1xuXG4gIC8vIFx1NUJGOVx1NEU4RVx1NkJDRlx1NEUyQVx1NUZFQlx1NjM3N1x1OTUyRVx1OEZEQlx1ODg0Q1x1NTkwNFx1NzQwNlxuICBmb3IgKDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBrZXlzW2ldLnNwbGl0KHNwbGl0S2V5KTsgLy8gXHU2MzA5XHU5NTJFXHU1MjE3XHU4ODY4XG4gICAgbW9kcyA9IFtdO1xuXG4gICAgLy8gXHU1OTgyXHU2NzlDXHU2NjJGXHU3RUM0XHU1NDA4XHU1RkVCXHU2Mzc3XHU5NTJFXHU1M0Q2XHU1Rjk3XHU3RUM0XHU1NDA4XHU1RkVCXHU2Mzc3XHU5NTJFXG4gICAgaWYgKGtleS5sZW5ndGggPiAxKSBtb2RzID0gZ2V0TW9kcyhfbW9kaWZpZXIsIGtleSk7XG5cbiAgICAvLyBcdTVDMDZcdTk3NUVcdTRGRUVcdTk5NzBcdTk1MkVcdThGNkNcdTUzMTZcdTRFM0FcdTk1MkVcdTc4MDFcbiAgICBrZXkgPSBrZXlba2V5Lmxlbmd0aCAtIDFdO1xuICAgIGtleSA9IGtleSA9PT0gJyonID8gJyonIDogY29kZShrZXkpOyAvLyAqXHU4ODY4XHU3OTNBXHU1MzM5XHU5MTREXHU2MjQwXHU2NzA5XHU1RkVCXHU2Mzc3XHU5NTJFXG5cbiAgICAvLyBcdTUyMjRcdTY1QURrZXlcdTY2MkZcdTU0MjZcdTU3MjhfaGFuZGxlcnNcdTRFMkRcdUZGMENcdTRFMERcdTU3MjhcdTVDMzFcdThENEJcdTRFMDBcdTRFMkFcdTdBN0FcdTY1NzBcdTdFQzRcbiAgICBpZiAoIShrZXkgaW4gX2hhbmRsZXJzKSkgX2hhbmRsZXJzW2tleV0gPSBbXTtcbiAgICBfaGFuZGxlcnNba2V5XS5wdXNoKHtcbiAgICAgIGtleXVwLFxuICAgICAga2V5ZG93bixcbiAgICAgIHNjb3BlLFxuICAgICAgbW9kcyxcbiAgICAgIHNob3J0Y3V0OiBrZXlzW2ldLFxuICAgICAgbWV0aG9kLFxuICAgICAga2V5OiBrZXlzW2ldLFxuICAgICAgc3BsaXRLZXksXG4gICAgICBlbGVtZW50XG4gICAgfSk7XG4gIH1cbiAgLy8gXHU1NzI4XHU1MTY4XHU1QzQwZG9jdW1lbnRcdTRFMEFcdThCQkVcdTdGNkVcdTVGRUJcdTYzNzdcdTk1MkVcbiAgaWYgKHR5cGVvZiBlbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cpIHtcbiAgICBpZiAoIWVsZW1lbnRFdmVudE1hcC5oYXMoZWxlbWVudCkpIHtcbiAgICAgIGNvbnN0IGtleWRvd25MaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IGV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB3aW5kb3cuZXZlbnQ7XG4gICAgICAgIHJldHVybiBkaXNwYXRjaChldmVudCwgZWxlbWVudCk7XG4gICAgICB9O1xuICAgICAgY29uc3Qga2V5dXBMaXN0ZW5yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgZXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHdpbmRvdy5ldmVudDtcbiAgICAgICAgZGlzcGF0Y2goZXZlbnQsIGVsZW1lbnQpO1xuICAgICAgICBjbGVhck1vZGlmaWVyKGV2ZW50KTtcbiAgICAgIH07XG4gICAgICBlbGVtZW50RXZlbnRNYXAuc2V0KGVsZW1lbnQsIHtcbiAgICAgICAga2V5ZG93bkxpc3RlbmVyLFxuICAgICAgICBrZXl1cExpc3RlbnIsXG4gICAgICAgIGNhcHR1cmVcbiAgICAgIH0pO1xuICAgICAgYWRkRXZlbnQoZWxlbWVudCwgJ2tleWRvd24nLCBrZXlkb3duTGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgICAgYWRkRXZlbnQoZWxlbWVudCwgJ2tleXVwJywga2V5dXBMaXN0ZW5yLCBjYXB0dXJlKTtcbiAgICB9XG4gICAgaWYgKCF3aW5MaXN0ZW5kRm9jdXMpIHtcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICBfZG93bktleXMgPSBbXTtcbiAgICAgIH07XG4gICAgICB3aW5MaXN0ZW5kRm9jdXMgPSB7XG4gICAgICAgIGxpc3RlbmVyLFxuICAgICAgICBjYXB0dXJlXG4gICAgICB9O1xuICAgICAgYWRkRXZlbnQod2luZG93LCAnZm9jdXMnLCBsaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB0cmlnZ2VyKHNob3J0Y3V0KSB7XG4gIGxldCBzY29wZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2FsbCc7XG4gIE9iamVjdC5rZXlzKF9oYW5kbGVycykuZm9yRWFjaChrZXkgPT4ge1xuICAgIGNvbnN0IGRhdGFMaXN0ID0gX2hhbmRsZXJzW2tleV0uZmlsdGVyKGl0ZW0gPT4gaXRlbS5zY29wZSA9PT0gc2NvcGUgJiYgaXRlbS5zaG9ydGN1dCA9PT0gc2hvcnRjdXQpO1xuICAgIGRhdGFMaXN0LmZvckVhY2goZGF0YSA9PiB7XG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLm1ldGhvZCkge1xuICAgICAgICBkYXRhLm1ldGhvZCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxuLy8gXHU5NTAwXHU2QkMxXHU0RThCXHU0RUY2LHVuYmluZFx1NEU0Qlx1NTQwRVx1NTIyNFx1NjVBRGVsZW1lbnRcdTRFMEFcdTY2MkZcdTU0MjZcdThGRDhcdTY3MDlcdTk1MkVcdTc2RDhcdTVGRUJcdTYzNzdcdTk1MkVcdUZGMENcdTU5ODJcdTY3OUNcdTZDQTFcdTY3MDlcdTc5RkJcdTk2NjRcdTc2RDFcdTU0MkNcbmZ1bmN0aW9uIHJlbW92ZUtleUV2ZW50KGVsZW1lbnQpIHtcbiAgY29uc3QgdmFsdWVzID0gT2JqZWN0LnZhbHVlcyhfaGFuZGxlcnMpLmZsYXQoKTtcbiAgY29uc3QgZmluZGluZGV4ID0gdmFsdWVzLmZpbmRJbmRleChfcmVmNCA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGVsZW1lbnQ6IGVsXG4gICAgfSA9IF9yZWY0O1xuICAgIHJldHVybiBlbCA9PT0gZWxlbWVudDtcbiAgfSk7XG4gIGlmIChmaW5kaW5kZXggPCAwKSB7XG4gICAgY29uc3Qge1xuICAgICAga2V5ZG93bkxpc3RlbmVyLFxuICAgICAga2V5dXBMaXN0ZW5yLFxuICAgICAgY2FwdHVyZVxuICAgIH0gPSBlbGVtZW50RXZlbnRNYXAuZ2V0KGVsZW1lbnQpIHx8IHt9O1xuICAgIGlmIChrZXlkb3duTGlzdGVuZXIgJiYga2V5dXBMaXN0ZW5yKSB7XG4gICAgICByZW1vdmVFdmVudChlbGVtZW50LCAna2V5dXAnLCBrZXl1cExpc3RlbnIsIGNhcHR1cmUpO1xuICAgICAgcmVtb3ZlRXZlbnQoZWxlbWVudCwgJ2tleWRvd24nLCBrZXlkb3duTGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgICAgZWxlbWVudEV2ZW50TWFwLmRlbGV0ZShlbGVtZW50KTtcbiAgICB9XG4gIH1cbiAgaWYgKHZhbHVlcy5sZW5ndGggPD0gMCB8fCBlbGVtZW50RXZlbnRNYXAuc2l6ZSA8PSAwKSB7XG4gICAgLy8gXHU3OUZCXHU5NjY0XHU2MjQwXHU2NzA5XHU3Njg0XHU1MTQzXHU3RDIwXHU0RTBBXHU3Njg0XHU3NkQxXHU1NDJDXG4gICAgY29uc3QgZXZlbnRLZXlzID0gT2JqZWN0LmtleXMoZWxlbWVudEV2ZW50TWFwKTtcbiAgICBldmVudEtleXMuZm9yRWFjaChlbCA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGtleWRvd25MaXN0ZW5lcixcbiAgICAgICAga2V5dXBMaXN0ZW5yLFxuICAgICAgICBjYXB0dXJlXG4gICAgICB9ID0gZWxlbWVudEV2ZW50TWFwLmdldChlbCkgfHwge307XG4gICAgICBpZiAoa2V5ZG93bkxpc3RlbmVyICYmIGtleXVwTGlzdGVucikge1xuICAgICAgICByZW1vdmVFdmVudChlbCwgJ2tleXVwJywga2V5dXBMaXN0ZW5yLCBjYXB0dXJlKTtcbiAgICAgICAgcmVtb3ZlRXZlbnQoZWwsICdrZXlkb3duJywga2V5ZG93bkxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICAgICAgZWxlbWVudEV2ZW50TWFwLmRlbGV0ZShlbCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gXHU2RTA1XHU3QTdBIGVsZW1lbnRFdmVudE1hcFxuICAgIGVsZW1lbnRFdmVudE1hcC5jbGVhcigpO1xuICAgIC8vIFx1NkUwNVx1N0E3QSBfaGFuZGxlcnNcbiAgICBPYmplY3Qua2V5cyhfaGFuZGxlcnMpLmZvckVhY2goa2V5ID0+IGRlbGV0ZSBfaGFuZGxlcnNba2V5XSk7XG4gICAgLy8gXHU3OUZCXHU5NjY0d2luZG93XHU0RTBBXHU3Njg0Zm9jdXNcdTc2RDFcdTU0MkNcbiAgICBpZiAod2luTGlzdGVuZEZvY3VzKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGxpc3RlbmVyLFxuICAgICAgICBjYXB0dXJlXG4gICAgICB9ID0gd2luTGlzdGVuZEZvY3VzO1xuICAgICAgcmVtb3ZlRXZlbnQod2luZG93LCAnZm9jdXMnLCBsaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgICB3aW5MaXN0ZW5kRm9jdXMgPSBudWxsO1xuICAgIH1cbiAgfVxufVxuY29uc3QgX2FwaSA9IHtcbiAgZ2V0UHJlc3NlZEtleVN0cmluZyxcbiAgc2V0U2NvcGUsXG4gIGdldFNjb3BlLFxuICBkZWxldGVTY29wZSxcbiAgZ2V0UHJlc3NlZEtleUNvZGVzLFxuICBnZXRBbGxLZXlDb2RlcyxcbiAgaXNQcmVzc2VkLFxuICBmaWx0ZXIsXG4gIHRyaWdnZXIsXG4gIHVuYmluZCxcbiAga2V5TWFwOiBfa2V5TWFwLFxuICBtb2RpZmllcjogX21vZGlmaWVyLFxuICBtb2RpZmllck1hcFxufTtcbmZvciAoY29uc3QgYSBpbiBfYXBpKSB7XG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX2FwaSwgYSkpIHtcbiAgICBob3RrZXlzW2FdID0gX2FwaVthXTtcbiAgfVxufVxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIGNvbnN0IF9ob3RrZXlzID0gd2luZG93LmhvdGtleXM7XG4gIGhvdGtleXMubm9Db25mbGljdCA9IGRlZXAgPT4ge1xuICAgIGlmIChkZWVwICYmIHdpbmRvdy5ob3RrZXlzID09PSBob3RrZXlzKSB7XG4gICAgICB3aW5kb3cuaG90a2V5cyA9IF9ob3RrZXlzO1xuICAgIH1cbiAgICByZXR1cm4gaG90a2V5cztcbiAgfTtcbiAgd2luZG93LmhvdGtleXMgPSBob3RrZXlzO1xufVxuXG5leHBvcnQgeyBob3RrZXlzIGFzIGRlZmF1bHQgfTtcbiIsICIvKlxuICogc3RpbXVsdXMtdXNlIDAuNTIuMVxuICovXG5pbXBvcnQgaG90a2V5cyBmcm9tIFwiaG90a2V5cy1qc1wiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cblxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqLyBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSkgdFtwW2ldXSA9IHNbcFtpXV07XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICBkZWJ1ZzogZmFsc2UsXG4gIGxvZ2dlcjogY29uc29sZSxcbiAgZGlzcGF0Y2hFdmVudDogdHJ1ZSxcbiAgZXZlbnRQcmVmaXg6IHRydWVcbn07XG5cbmNsYXNzIFN0aW11bHVzVXNlIHtcbiAgY29uc3RydWN0b3IoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgdGhpcy5sb2cgPSAoZnVuY3Rpb25OYW1lLCBhcmdzKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuZGVidWcpIHJldHVybjtcbiAgICAgIHRoaXMubG9nZ2VyLmdyb3VwQ29sbGFwc2VkKGAlYyR7dGhpcy5jb250cm9sbGVyLmlkZW50aWZpZXJ9ICVjIyR7ZnVuY3Rpb25OYW1lfWAsIFwiY29sb3I6ICMzQjgyRjZcIiwgXCJjb2xvcjogdW5zZXRcIik7XG4gICAgICB0aGlzLmxvZ2dlci5sb2coT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGNvbnRyb2xsZXJJZDogdGhpcy5jb250cm9sbGVySWRcbiAgICAgIH0sIGFyZ3MpKTtcbiAgICAgIHRoaXMubG9nZ2VyLmdyb3VwRW5kKCk7XG4gICAgfTtcbiAgICB0aGlzLndhcm4gPSBtZXNzYWdlID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oYCVjJHt0aGlzLmNvbnRyb2xsZXIuaWRlbnRpZmllcn0gJWMke21lc3NhZ2V9YCwgXCJjb2xvcjogIzNCODJGNjsgZm9udC13ZWlnaHQ6IGJvbGRcIiwgXCJjb2xvcjogdW5zZXRcIik7XG4gICAgfTtcbiAgICB0aGlzLmRpc3BhdGNoID0gKGV2ZW50TmFtZSwgZGV0YWlscyA9IHt9KSA9PiB7XG4gICAgICBpZiAodGhpcy5kaXNwYXRjaEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHtldmVudDogZXZlbnR9ID0gZGV0YWlscywgZXZlbnREZXRhaWxzID0gX19yZXN0KGRldGFpbHMsIFsgXCJldmVudFwiIF0pO1xuICAgICAgICBjb25zdCBjdXN0b21FdmVudCA9IHRoaXMuZXh0ZW5kZWRFdmVudChldmVudE5hbWUsIGV2ZW50IHx8IG51bGwsIGV2ZW50RGV0YWlscyk7XG4gICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcbiAgICAgICAgdGhpcy5sb2coXCJkaXNwYXRjaEV2ZW50XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgIGV2ZW50TmFtZTogY3VzdG9tRXZlbnQudHlwZVxuICAgICAgICB9LCBldmVudERldGFpbHMpKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuY2FsbCA9IChtZXRob2ROYW1lLCBhcmdzID0ge30pID0+IHtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMuY29udHJvbGxlclttZXRob2ROYW1lXTtcbiAgICAgIGlmICh0eXBlb2YgbWV0aG9kID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gbWV0aG9kLmNhbGwodGhpcy5jb250cm9sbGVyLCBhcmdzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZXh0ZW5kZWRFdmVudCA9IChuYW1lLCBldmVudCwgZGV0YWlsKSA9PiB7XG4gICAgICBjb25zdCB7YnViYmxlczogYnViYmxlcywgY2FuY2VsYWJsZTogY2FuY2VsYWJsZSwgY29tcG9zZWQ6IGNvbXBvc2VkfSA9IGV2ZW50IHx8IHtcbiAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgY29tcG9zZWQ6IHRydWVcbiAgICAgIH07XG4gICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihkZXRhaWwsIHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KHRoaXMuY29tcG9zZUV2ZW50TmFtZShuYW1lKSwge1xuICAgICAgICBidWJibGVzOiBidWJibGVzLFxuICAgICAgICBjYW5jZWxhYmxlOiBjYW5jZWxhYmxlLFxuICAgICAgICBjb21wb3NlZDogY29tcG9zZWQsXG4gICAgICAgIGRldGFpbDogZGV0YWlsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjdXN0b21FdmVudDtcbiAgICB9O1xuICAgIHRoaXMuY29tcG9zZUV2ZW50TmFtZSA9IG5hbWUgPT4ge1xuICAgICAgbGV0IGNvbXBvc2VkTmFtZSA9IG5hbWU7XG4gICAgICBpZiAodGhpcy5ldmVudFByZWZpeCA9PT0gdHJ1ZSkge1xuICAgICAgICBjb21wb3NlZE5hbWUgPSBgJHt0aGlzLmNvbnRyb2xsZXIuaWRlbnRpZmllcn06JHtuYW1lfWA7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLmV2ZW50UHJlZml4ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbXBvc2VkTmFtZSA9IGAke3RoaXMuZXZlbnRQcmVmaXh9OiR7bmFtZX1gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbXBvc2VkTmFtZTtcbiAgICB9O1xuICAgIHRoaXMuZGVidWcgPSAoX2IgPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZGVidWcpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNvbnRyb2xsZXIuYXBwbGljYXRpb24uc3RpbXVsdXNVc2VEZWJ1ZykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZGVmYXVsdE9wdGlvbnMuZGVidWc7XG4gICAgdGhpcy5sb2dnZXIgPSAoX2MgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubG9nZ2VyKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBkZWZhdWx0T3B0aW9ucy5sb2dnZXI7XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB0aGlzLmNvbnRyb2xsZXJJZCA9IGNvbnRyb2xsZXIuZWxlbWVudC5pZCB8fCBjb250cm9sbGVyLmVsZW1lbnQuZGF0YXNldC5pZDtcbiAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmVsZW1lbnQpIHx8IGNvbnRyb2xsZXIuZWxlbWVudDtcbiAgICBjb25zdCB7ZGlzcGF0Y2hFdmVudDogZGlzcGF0Y2hFdmVudCwgZXZlbnRQcmVmaXg6IGV2ZW50UHJlZml4fSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgIGRpc3BhdGNoRXZlbnQ6IGRpc3BhdGNoRXZlbnQsXG4gICAgICBldmVudFByZWZpeDogZXZlbnRQcmVmaXhcbiAgICB9KTtcbiAgICB0aGlzLmNvbnRyb2xsZXJJbml0aWFsaXplID0gY29udHJvbGxlci5pbml0aWFsaXplLmJpbmQoY29udHJvbGxlcik7XG4gICAgdGhpcy5jb250cm9sbGVyQ29ubmVjdCA9IGNvbnRyb2xsZXIuY29ubmVjdC5iaW5kKGNvbnRyb2xsZXIpO1xuICAgIHRoaXMuY29udHJvbGxlckRpc2Nvbm5lY3QgPSBjb250cm9sbGVyLmRpc2Nvbm5lY3QuYmluZChjb250cm9sbGVyKTtcbiAgfVxufVxuXG5jbGFzcyBVc2VIb3RrZXlzIGV4dGVuZHMgU3RpbXVsdXNVc2Uge1xuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyLCBob3RrZXlzT3B0aW9ucykge1xuICAgIHN1cGVyKGNvbnRyb2xsZXIsIGhvdGtleXNPcHRpb25zKTtcbiAgICB0aGlzLmJpbmQgPSAoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IFtob3RrZXksIGRlZmluaXRpb25dIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuaG90a2V5c09wdGlvbnMuaG90a2V5cykpIHtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IGRlZmluaXRpb24uaGFuZGxlci5iaW5kKHRoaXMuY29udHJvbGxlcik7XG4gICAgICAgIGhvdGtleXMoaG90a2V5LCBkZWZpbml0aW9uLm9wdGlvbnMsIChlID0+IGhhbmRsZXIoZSwgZSkpKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMudW5iaW5kID0gKCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBob3RrZXkgaW4gdGhpcy5ob3RrZXlzT3B0aW9ucy5ob3RrZXlzKSB7XG4gICAgICAgIGhvdGtleXMudW5iaW5kKGhvdGtleSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIHRoaXMuaG90a2V5c09wdGlvbnMgPSBob3RrZXlzT3B0aW9ucztcbiAgICB0aGlzLmVuaGFuY2VDb250cm9sbGVyKCk7XG4gICAgdGhpcy5iaW5kKCk7XG4gIH1cbiAgZW5oYW5jZUNvbnRyb2xsZXIoKSB7XG4gICAgaWYgKHRoaXMuaG90a2V5c09wdGlvbnMuZmlsdGVyKSB7XG4gICAgICBob3RrZXlzLmZpbHRlciA9IHRoaXMuaG90a2V5c09wdGlvbnMuZmlsdGVyO1xuICAgIH1cbiAgICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IHRoaXMuY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQodGhpcy5jb250cm9sbGVyKTtcbiAgICBjb25zdCBkaXNjb25uZWN0ID0gKCkgPT4ge1xuICAgICAgdGhpcy51bmJpbmQoKTtcbiAgICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMuY29udHJvbGxlciwge1xuICAgICAgZGlzY29ubmVjdDogZGlzY29ubmVjdFxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IGNvbnZlcnRTaW1wbGVIb3RrZXlEZWZpbml0aW9uID0gZGVmaW5pdGlvbiA9PiAoe1xuICBoYW5kbGVyOiBkZWZpbml0aW9uWzBdLFxuICBvcHRpb25zOiB7XG4gICAgZWxlbWVudDogZGVmaW5pdGlvblsxXVxuICB9XG59KTtcblxuY29uc3QgY29lcmNlT3B0aW9ucyA9IG9wdGlvbnMgPT4ge1xuICBpZiAoIW9wdGlvbnMuaG90a2V5cykge1xuICAgIGNvbnN0IGhvdGtleXMgPSB7fTtcbiAgICBPYmplY3QuZW50cmllcyhvcHRpb25zKS5mb3JFYWNoKCgoW2hvdGtleSwgZGVmaW5pdGlvbl0pID0+IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShob3RrZXlzLCBob3RrZXksIHtcbiAgICAgICAgdmFsdWU6IGNvbnZlcnRTaW1wbGVIb3RrZXlEZWZpbml0aW9uKGRlZmluaXRpb24pLFxuICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0pKTtcbiAgICBvcHRpb25zID0ge1xuICAgICAgaG90a2V5czogaG90a2V5c1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5jb25zdCB1c2VIb3RrZXlzID0gKGNvbnRyb2xsZXIsIG9wdGlvbnMpID0+IG5ldyBVc2VIb3RrZXlzKGNvbnRyb2xsZXIsIGNvZXJjZU9wdGlvbnMob3B0aW9ucykpO1xuXG5leHBvcnQgeyB1c2VIb3RrZXlzIH07XG4iLCAiLy8gYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvdWktY29udGV4dC1tZW51LWNvbnRyb2xsZXIuanNcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcbmltcG9ydCB7IGNvbXB1dGVQb3NpdGlvbiwgZmxpcCwgc2hpZnQsIG9mZnNldCB9IGZyb20gJ0BmbG9hdGluZy11aS9kb20nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIHN0YXRpYyB0YXJnZXRzID0gW1wibWVudVwiLCBcInN1Ym1lbnVUcmlnZ2VyXCIsIFwic3VibWVudVwiXVxuICBzdGF0aWMgdmFsdWVzID0ge1xuICAgIHNpZGU6IFN0cmluZyxcbiAgICBhbGlnbjogU3RyaW5nXG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgdGhpcy5zaG93TWVudS5iaW5kKHRoaXMpKVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhpZGVNZW51LmJpbmQodGhpcykpXG4gIH1cblxuICBkaXNjb25uZWN0KCkge1xuICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgdGhpcy5zaG93TWVudS5iaW5kKHRoaXMpKVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhpZGVNZW51LmJpbmQodGhpcykpXG4gIH1cblxuICBzaG93TWVudShldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB0aGlzLm1lbnVUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKVxuICAgIHRoaXMubWVudVRhcmdldC5kYXRhc2V0LnN0YXRlID0gXCJvcGVuXCJcbiAgICBcbiAgICBjb21wdXRlUG9zaXRpb24oXG4gICAgICB7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFkgfSxcbiAgICAgIHRoaXMubWVudVRhcmdldCxcbiAgICAgIHtcbiAgICAgICAgcGxhY2VtZW50OiBgJHt0aGlzLnNpZGVWYWx1ZX0tJHt0aGlzLmFsaWduVmFsdWV9YCxcbiAgICAgICAgbWlkZGxld2FyZTogW1xuICAgICAgICAgIG9mZnNldCg1KSxcbiAgICAgICAgICBmbGlwKCksXG4gICAgICAgICAgc2hpZnQoe3BhZGRpbmc6IDV9KVxuICAgICAgICBdXG4gICAgICB9XG4gICAgKS50aGVuKCh7eCwgeX0pID0+IHtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5tZW51VGFyZ2V0LnN0eWxlLCB7XG4gICAgICAgIGxlZnQ6IGAke3h9cHhgLFxuICAgICAgICB0b3A6IGAke3l9cHhgLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBoaWRlTWVudShldmVudCkge1xuICAgIGlmICghdGhpcy5tZW51VGFyZ2V0LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgIHRoaXMubWVudVRhcmdldC5kYXRhc2V0LnN0YXRlID0gXCJjbG9zZWRcIlxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMubWVudVRhcmdldC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpXG4gICAgICB9LCAyMDApXG4gICAgfVxuICB9XG5cbiAgc2hvd1N1Ym1lbnUoZXZlbnQpIHtcbiAgICBjb25zdCBzdWJtZW51ID0gZXZlbnQuY3VycmVudFRhcmdldC5xdWVyeVNlbGVjdG9yKCdbZGF0YS11aS1jb250ZXh0LW1lbnUtdGFyZ2V0PVwic3VibWVudVwiXScpXG4gICAgaWYgKHN1Ym1lbnUpIHtcbiAgICAgIHN1Ym1lbnUuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKVxuICAgICAgY29tcHV0ZVBvc2l0aW9uKGV2ZW50LmN1cnJlbnRUYXJnZXQsIHN1Ym1lbnUsIHtcbiAgICAgICAgcGxhY2VtZW50OiAncmlnaHQtc3RhcnQnLFxuICAgICAgICBtaWRkbGV3YXJlOiBbXG4gICAgICAgICAgb2Zmc2V0KDUpLFxuICAgICAgICAgIGZsaXAoKSxcbiAgICAgICAgICBzaGlmdCh7cGFkZGluZzogNX0pXG4gICAgICAgIF1cbiAgICAgIH0pLnRoZW4oKHt4LCB5fSkgPT4ge1xuICAgICAgICBPYmplY3QuYXNzaWduKHN1Ym1lbnUuc3R5bGUsIHtcbiAgICAgICAgICBsZWZ0OiBgJHt4fXB4YCxcbiAgICAgICAgICB0b3A6IGAke3l9cHhgLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGhpZGVTdWJtZW51KGV2ZW50KSB7XG4gICAgY29uc3Qgc3VibWVudSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignW2RhdGEtdWktY29udGV4dC1tZW51LXRhcmdldD1cInN1Ym1lbnVcIl0nKVxuICAgIGlmIChzdWJtZW51KSB7XG4gICAgICBzdWJtZW51LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIilcbiAgICB9XG4gIH1cbn0iLCAiLyoqXG4gKiBDdXN0b20gcG9zaXRpb25pbmcgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvdmlydHVhbC1lbGVtZW50c1xuICovXG5cbmNvbnN0IHNpZGVzID0gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXTtcbmNvbnN0IGFsaWdubWVudHMgPSBbJ3N0YXJ0JywgJ2VuZCddO1xuY29uc3QgcGxhY2VtZW50cyA9IC8qI19fUFVSRV9fKi9zaWRlcy5yZWR1Y2UoKGFjYywgc2lkZSkgPT4gYWNjLmNvbmNhdChzaWRlLCBzaWRlICsgXCItXCIgKyBhbGlnbm1lbnRzWzBdLCBzaWRlICsgXCItXCIgKyBhbGlnbm1lbnRzWzFdKSwgW10pO1xuY29uc3QgbWluID0gTWF0aC5taW47XG5jb25zdCBtYXggPSBNYXRoLm1heDtcbmNvbnN0IHJvdW5kID0gTWF0aC5yb3VuZDtcbmNvbnN0IGZsb29yID0gTWF0aC5mbG9vcjtcbmNvbnN0IGNyZWF0ZUNvb3JkcyA9IHYgPT4gKHtcbiAgeDogdixcbiAgeTogdlxufSk7XG5jb25zdCBvcHBvc2l0ZVNpZGVNYXAgPSB7XG4gIGxlZnQ6ICdyaWdodCcsXG4gIHJpZ2h0OiAnbGVmdCcsXG4gIGJvdHRvbTogJ3RvcCcsXG4gIHRvcDogJ2JvdHRvbSdcbn07XG5jb25zdCBvcHBvc2l0ZUFsaWdubWVudE1hcCA9IHtcbiAgc3RhcnQ6ICdlbmQnLFxuICBlbmQ6ICdzdGFydCdcbn07XG5mdW5jdGlvbiBjbGFtcChzdGFydCwgdmFsdWUsIGVuZCkge1xuICByZXR1cm4gbWF4KHN0YXJ0LCBtaW4odmFsdWUsIGVuZCkpO1xufVxuZnVuY3Rpb24gZXZhbHVhdGUodmFsdWUsIHBhcmFtKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgPyB2YWx1ZShwYXJhbSkgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGdldFNpZGUocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbn1cbmZ1bmN0aW9uIGdldEFsaWdubWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5zcGxpdCgnLScpWzFdO1xufVxuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVBeGlzKGF4aXMpIHtcbiAgcmV0dXJuIGF4aXMgPT09ICd4JyA/ICd5JyA6ICd4Jztcbn1cbmZ1bmN0aW9uIGdldEF4aXNMZW5ndGgoYXhpcykge1xuICByZXR1cm4gYXhpcyA9PT0gJ3knID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xufVxuZnVuY3Rpb24gZ2V0U2lkZUF4aXMocGxhY2VtZW50KSB7XG4gIHJldHVybiBbJ3RvcCcsICdib3R0b20nXS5pbmNsdWRlcyhnZXRTaWRlKHBsYWNlbWVudCkpID8gJ3knIDogJ3gnO1xufVxuZnVuY3Rpb24gZ2V0QWxpZ25tZW50QXhpcyhwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIGdldE9wcG9zaXRlQXhpcyhnZXRTaWRlQXhpcyhwbGFjZW1lbnQpKTtcbn1cbmZ1bmN0aW9uIGdldEFsaWdubWVudFNpZGVzKHBsYWNlbWVudCwgcmVjdHMsIHJ0bCkge1xuICBpZiAocnRsID09PSB2b2lkIDApIHtcbiAgICBydGwgPSBmYWxzZTtcbiAgfVxuICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQocGxhY2VtZW50KTtcbiAgY29uc3QgYWxpZ25tZW50QXhpcyA9IGdldEFsaWdubWVudEF4aXMocGxhY2VtZW50KTtcbiAgY29uc3QgbGVuZ3RoID0gZ2V0QXhpc0xlbmd0aChhbGlnbm1lbnRBeGlzKTtcbiAgbGV0IG1haW5BbGlnbm1lbnRTaWRlID0gYWxpZ25tZW50QXhpcyA9PT0gJ3gnID8gYWxpZ25tZW50ID09PSAocnRsID8gJ2VuZCcgOiAnc3RhcnQnKSA/ICdyaWdodCcgOiAnbGVmdCcgOiBhbGlnbm1lbnQgPT09ICdzdGFydCcgPyAnYm90dG9tJyA6ICd0b3AnO1xuICBpZiAocmVjdHMucmVmZXJlbmNlW2xlbmd0aF0gPiByZWN0cy5mbG9hdGluZ1tsZW5ndGhdKSB7XG4gICAgbWFpbkFsaWdubWVudFNpZGUgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChtYWluQWxpZ25tZW50U2lkZSk7XG4gIH1cbiAgcmV0dXJuIFttYWluQWxpZ25tZW50U2lkZSwgZ2V0T3Bwb3NpdGVQbGFjZW1lbnQobWFpbkFsaWdubWVudFNpZGUpXTtcbn1cbmZ1bmN0aW9uIGdldEV4cGFuZGVkUGxhY2VtZW50cyhwbGFjZW1lbnQpIHtcbiAgY29uc3Qgb3Bwb3NpdGVQbGFjZW1lbnQgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuICByZXR1cm4gW2dldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50KHBsYWNlbWVudCksIG9wcG9zaXRlUGxhY2VtZW50LCBnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudChvcHBvc2l0ZVBsYWNlbWVudCldO1xufVxuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVBbGlnbm1lbnRQbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvc3RhcnR8ZW5kL2csIGFsaWdubWVudCA9PiBvcHBvc2l0ZUFsaWdubWVudE1hcFthbGlnbm1lbnRdKTtcbn1cbmZ1bmN0aW9uIGdldFNpZGVMaXN0KHNpZGUsIGlzU3RhcnQsIHJ0bCkge1xuICBjb25zdCBsciA9IFsnbGVmdCcsICdyaWdodCddO1xuICBjb25zdCBybCA9IFsncmlnaHQnLCAnbGVmdCddO1xuICBjb25zdCB0YiA9IFsndG9wJywgJ2JvdHRvbSddO1xuICBjb25zdCBidCA9IFsnYm90dG9tJywgJ3RvcCddO1xuICBzd2l0Y2ggKHNpZGUpIHtcbiAgICBjYXNlICd0b3AnOlxuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICBpZiAocnRsKSByZXR1cm4gaXNTdGFydCA/IHJsIDogbHI7XG4gICAgICByZXR1cm4gaXNTdGFydCA/IGxyIDogcmw7XG4gICAgY2FzZSAnbGVmdCc6XG4gICAgY2FzZSAncmlnaHQnOlxuICAgICAgcmV0dXJuIGlzU3RhcnQgPyB0YiA6IGJ0O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gW107XG4gIH1cbn1cbmZ1bmN0aW9uIGdldE9wcG9zaXRlQXhpc1BsYWNlbWVudHMocGxhY2VtZW50LCBmbGlwQWxpZ25tZW50LCBkaXJlY3Rpb24sIHJ0bCkge1xuICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQocGxhY2VtZW50KTtcbiAgbGV0IGxpc3QgPSBnZXRTaWRlTGlzdChnZXRTaWRlKHBsYWNlbWVudCksIGRpcmVjdGlvbiA9PT0gJ3N0YXJ0JywgcnRsKTtcbiAgaWYgKGFsaWdubWVudCkge1xuICAgIGxpc3QgPSBsaXN0Lm1hcChzaWRlID0+IHNpZGUgKyBcIi1cIiArIGFsaWdubWVudCk7XG4gICAgaWYgKGZsaXBBbGlnbm1lbnQpIHtcbiAgICAgIGxpc3QgPSBsaXN0LmNvbmNhdChsaXN0Lm1hcChnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudCkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbGlzdDtcbn1cbmZ1bmN0aW9uIGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnJlcGxhY2UoL2xlZnR8cmlnaHR8Ym90dG9tfHRvcC9nLCBzaWRlID0+IG9wcG9zaXRlU2lkZU1hcFtzaWRlXSk7XG59XG5mdW5jdGlvbiBleHBhbmRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IDAsXG4gICAgcmlnaHQ6IDAsXG4gICAgYm90dG9tOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgLi4ucGFkZGluZ1xuICB9O1xufVxuZnVuY3Rpb24gZ2V0UGFkZGluZ09iamVjdChwYWRkaW5nKSB7XG4gIHJldHVybiB0eXBlb2YgcGFkZGluZyAhPT0gJ251bWJlcicgPyBleHBhbmRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpIDoge1xuICAgIHRvcDogcGFkZGluZyxcbiAgICByaWdodDogcGFkZGluZyxcbiAgICBib3R0b206IHBhZGRpbmcsXG4gICAgbGVmdDogcGFkZGluZ1xuICB9O1xufVxuZnVuY3Rpb24gcmVjdFRvQ2xpZW50UmVjdChyZWN0KSB7XG4gIGNvbnN0IHtcbiAgICB4LFxuICAgIHksXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0XG4gIH0gPSByZWN0O1xuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICB0b3A6IHksXG4gICAgbGVmdDogeCxcbiAgICByaWdodDogeCArIHdpZHRoLFxuICAgIGJvdHRvbTogeSArIGhlaWdodCxcbiAgICB4LFxuICAgIHlcbiAgfTtcbn1cblxuZXhwb3J0IHsgYWxpZ25tZW50cywgY2xhbXAsIGNyZWF0ZUNvb3JkcywgZXZhbHVhdGUsIGV4cGFuZFBhZGRpbmdPYmplY3QsIGZsb29yLCBnZXRBbGlnbm1lbnQsIGdldEFsaWdubWVudEF4aXMsIGdldEFsaWdubWVudFNpZGVzLCBnZXRBeGlzTGVuZ3RoLCBnZXRFeHBhbmRlZFBsYWNlbWVudHMsIGdldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50LCBnZXRPcHBvc2l0ZUF4aXMsIGdldE9wcG9zaXRlQXhpc1BsYWNlbWVudHMsIGdldE9wcG9zaXRlUGxhY2VtZW50LCBnZXRQYWRkaW5nT2JqZWN0LCBnZXRTaWRlLCBnZXRTaWRlQXhpcywgbWF4LCBtaW4sIHBsYWNlbWVudHMsIHJlY3RUb0NsaWVudFJlY3QsIHJvdW5kLCBzaWRlcyB9O1xuIiwgImltcG9ydCB7IGdldFNpZGVBeGlzLCBnZXRBbGlnbm1lbnRBeGlzLCBnZXRBeGlzTGVuZ3RoLCBnZXRTaWRlLCBnZXRBbGlnbm1lbnQsIGV2YWx1YXRlLCBnZXRQYWRkaW5nT2JqZWN0LCByZWN0VG9DbGllbnRSZWN0LCBtaW4sIGNsYW1wLCBwbGFjZW1lbnRzLCBnZXRBbGlnbm1lbnRTaWRlcywgZ2V0T3Bwb3NpdGVBbGlnbm1lbnRQbGFjZW1lbnQsIGdldE9wcG9zaXRlUGxhY2VtZW50LCBnZXRFeHBhbmRlZFBsYWNlbWVudHMsIGdldE9wcG9zaXRlQXhpc1BsYWNlbWVudHMsIHNpZGVzLCBtYXgsIGdldE9wcG9zaXRlQXhpcyB9IGZyb20gJ0BmbG9hdGluZy11aS91dGlscyc7XG5leHBvcnQgeyByZWN0VG9DbGllbnRSZWN0IH0gZnJvbSAnQGZsb2F0aW5nLXVpL3V0aWxzJztcblxuZnVuY3Rpb24gY29tcHV0ZUNvb3Jkc0Zyb21QbGFjZW1lbnQoX3JlZiwgcGxhY2VtZW50LCBydGwpIHtcbiAgbGV0IHtcbiAgICByZWZlcmVuY2UsXG4gICAgZmxvYXRpbmdcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHNpZGVBeGlzID0gZ2V0U2lkZUF4aXMocGxhY2VtZW50KTtcbiAgY29uc3QgYWxpZ25tZW50QXhpcyA9IGdldEFsaWdubWVudEF4aXMocGxhY2VtZW50KTtcbiAgY29uc3QgYWxpZ25MZW5ndGggPSBnZXRBeGlzTGVuZ3RoKGFsaWdubWVudEF4aXMpO1xuICBjb25zdCBzaWRlID0gZ2V0U2lkZShwbGFjZW1lbnQpO1xuICBjb25zdCBpc1ZlcnRpY2FsID0gc2lkZUF4aXMgPT09ICd5JztcbiAgY29uc3QgY29tbW9uWCA9IHJlZmVyZW5jZS54ICsgcmVmZXJlbmNlLndpZHRoIC8gMiAtIGZsb2F0aW5nLndpZHRoIC8gMjtcbiAgY29uc3QgY29tbW9uWSA9IHJlZmVyZW5jZS55ICsgcmVmZXJlbmNlLmhlaWdodCAvIDIgLSBmbG9hdGluZy5oZWlnaHQgLyAyO1xuICBjb25zdCBjb21tb25BbGlnbiA9IHJlZmVyZW5jZVthbGlnbkxlbmd0aF0gLyAyIC0gZmxvYXRpbmdbYWxpZ25MZW5ndGhdIC8gMjtcbiAgbGV0IGNvb3JkcztcbiAgc3dpdGNoIChzaWRlKSB7XG4gICAgY2FzZSAndG9wJzpcbiAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgeDogY29tbW9uWCxcbiAgICAgICAgeTogcmVmZXJlbmNlLnkgLSBmbG9hdGluZy5oZWlnaHRcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdib3R0b20nOlxuICAgICAgY29vcmRzID0ge1xuICAgICAgICB4OiBjb21tb25YLFxuICAgICAgICB5OiByZWZlcmVuY2UueSArIHJlZmVyZW5jZS5oZWlnaHRcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdyaWdodCc6XG4gICAgICBjb29yZHMgPSB7XG4gICAgICAgIHg6IHJlZmVyZW5jZS54ICsgcmVmZXJlbmNlLndpZHRoLFxuICAgICAgICB5OiBjb21tb25ZXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbGVmdCc6XG4gICAgICBjb29yZHMgPSB7XG4gICAgICAgIHg6IHJlZmVyZW5jZS54IC0gZmxvYXRpbmcud2lkdGgsXG4gICAgICAgIHk6IGNvbW1vbllcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29vcmRzID0ge1xuICAgICAgICB4OiByZWZlcmVuY2UueCxcbiAgICAgICAgeTogcmVmZXJlbmNlLnlcbiAgICAgIH07XG4gIH1cbiAgc3dpdGNoIChnZXRBbGlnbm1lbnQocGxhY2VtZW50KSkge1xuICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgIGNvb3Jkc1thbGlnbm1lbnRBeGlzXSAtPSBjb21tb25BbGlnbiAqIChydGwgJiYgaXNWZXJ0aWNhbCA/IC0xIDogMSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdlbmQnOlxuICAgICAgY29vcmRzW2FsaWdubWVudEF4aXNdICs9IGNvbW1vbkFsaWduICogKHJ0bCAmJiBpc1ZlcnRpY2FsID8gLTEgOiAxKTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIHJldHVybiBjb29yZHM7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGB4YCBhbmQgYHlgIGNvb3JkaW5hdGVzIHRoYXQgd2lsbCBwbGFjZSB0aGUgZmxvYXRpbmcgZWxlbWVudFxuICogbmV4dCB0byBhIGdpdmVuIHJlZmVyZW5jZSBlbGVtZW50LlxuICpcbiAqIFRoaXMgZXhwb3J0IGRvZXMgbm90IGhhdmUgYW55IGBwbGF0Zm9ybWAgaW50ZXJmYWNlIGxvZ2ljLiBZb3Ugd2lsbCBuZWVkIHRvXG4gKiB3cml0ZSBvbmUgZm9yIHRoZSBwbGF0Zm9ybSB5b3UgYXJlIHVzaW5nIEZsb2F0aW5nIFVJIHdpdGguXG4gKi9cbmNvbnN0IGNvbXB1dGVQb3NpdGlvbiA9IGFzeW5jIChyZWZlcmVuY2UsIGZsb2F0aW5nLCBjb25maWcpID0+IHtcbiAgY29uc3Qge1xuICAgIHBsYWNlbWVudCA9ICdib3R0b20nLFxuICAgIHN0cmF0ZWd5ID0gJ2Fic29sdXRlJyxcbiAgICBtaWRkbGV3YXJlID0gW10sXG4gICAgcGxhdGZvcm1cbiAgfSA9IGNvbmZpZztcbiAgY29uc3QgdmFsaWRNaWRkbGV3YXJlID0gbWlkZGxld2FyZS5maWx0ZXIoQm9vbGVhbik7XG4gIGNvbnN0IHJ0bCA9IGF3YWl0IChwbGF0Zm9ybS5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uaXNSVEwoZmxvYXRpbmcpKTtcbiAgbGV0IHJlY3RzID0gYXdhaXQgcGxhdGZvcm0uZ2V0RWxlbWVudFJlY3RzKHtcbiAgICByZWZlcmVuY2UsXG4gICAgZmxvYXRpbmcsXG4gICAgc3RyYXRlZ3lcbiAgfSk7XG4gIGxldCB7XG4gICAgeCxcbiAgICB5XG4gIH0gPSBjb21wdXRlQ29vcmRzRnJvbVBsYWNlbWVudChyZWN0cywgcGxhY2VtZW50LCBydGwpO1xuICBsZXQgc3RhdGVmdWxQbGFjZW1lbnQgPSBwbGFjZW1lbnQ7XG4gIGxldCBtaWRkbGV3YXJlRGF0YSA9IHt9O1xuICBsZXQgcmVzZXRDb3VudCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsaWRNaWRkbGV3YXJlLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZSxcbiAgICAgIGZuXG4gICAgfSA9IHZhbGlkTWlkZGxld2FyZVtpXTtcbiAgICBjb25zdCB7XG4gICAgICB4OiBuZXh0WCxcbiAgICAgIHk6IG5leHRZLFxuICAgICAgZGF0YSxcbiAgICAgIHJlc2V0XG4gICAgfSA9IGF3YWl0IGZuKHtcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgaW5pdGlhbFBsYWNlbWVudDogcGxhY2VtZW50LFxuICAgICAgcGxhY2VtZW50OiBzdGF0ZWZ1bFBsYWNlbWVudCxcbiAgICAgIHN0cmF0ZWd5LFxuICAgICAgbWlkZGxld2FyZURhdGEsXG4gICAgICByZWN0cyxcbiAgICAgIHBsYXRmb3JtLFxuICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgcmVmZXJlbmNlLFxuICAgICAgICBmbG9hdGluZ1xuICAgICAgfVxuICAgIH0pO1xuICAgIHggPSBuZXh0WCAhPSBudWxsID8gbmV4dFggOiB4O1xuICAgIHkgPSBuZXh0WSAhPSBudWxsID8gbmV4dFkgOiB5O1xuICAgIG1pZGRsZXdhcmVEYXRhID0ge1xuICAgICAgLi4ubWlkZGxld2FyZURhdGEsXG4gICAgICBbbmFtZV06IHtcbiAgICAgICAgLi4ubWlkZGxld2FyZURhdGFbbmFtZV0sXG4gICAgICAgIC4uLmRhdGFcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChyZXNldCAmJiByZXNldENvdW50IDw9IDUwKSB7XG4gICAgICByZXNldENvdW50Kys7XG4gICAgICBpZiAodHlwZW9mIHJlc2V0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAocmVzZXQucGxhY2VtZW50KSB7XG4gICAgICAgICAgc3RhdGVmdWxQbGFjZW1lbnQgPSByZXNldC5wbGFjZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc2V0LnJlY3RzKSB7XG4gICAgICAgICAgcmVjdHMgPSByZXNldC5yZWN0cyA9PT0gdHJ1ZSA/IGF3YWl0IHBsYXRmb3JtLmdldEVsZW1lbnRSZWN0cyh7XG4gICAgICAgICAgICByZWZlcmVuY2UsXG4gICAgICAgICAgICBmbG9hdGluZyxcbiAgICAgICAgICAgIHN0cmF0ZWd5XG4gICAgICAgICAgfSkgOiByZXNldC5yZWN0cztcbiAgICAgICAgfVxuICAgICAgICAoe1xuICAgICAgICAgIHgsXG4gICAgICAgICAgeVxuICAgICAgICB9ID0gY29tcHV0ZUNvb3Jkc0Zyb21QbGFjZW1lbnQocmVjdHMsIHN0YXRlZnVsUGxhY2VtZW50LCBydGwpKTtcbiAgICAgIH1cbiAgICAgIGkgPSAtMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB4LFxuICAgIHksXG4gICAgcGxhY2VtZW50OiBzdGF0ZWZ1bFBsYWNlbWVudCxcbiAgICBzdHJhdGVneSxcbiAgICBtaWRkbGV3YXJlRGF0YVxuICB9O1xufTtcblxuLyoqXG4gKiBSZXNvbHZlcyB3aXRoIGFuIG9iamVjdCBvZiBvdmVyZmxvdyBzaWRlIG9mZnNldHMgdGhhdCBkZXRlcm1pbmUgaG93IG11Y2ggdGhlXG4gKiBlbGVtZW50IGlzIG92ZXJmbG93aW5nIGEgZ2l2ZW4gY2xpcHBpbmcgYm91bmRhcnkgb24gZWFjaCBzaWRlLlxuICogLSBwb3NpdGl2ZSA9IG92ZXJmbG93aW5nIHRoZSBib3VuZGFyeSBieSB0aGF0IG51bWJlciBvZiBwaXhlbHNcbiAqIC0gbmVnYXRpdmUgPSBob3cgbWFueSBwaXhlbHMgbGVmdCBiZWZvcmUgaXQgd2lsbCBvdmVyZmxvd1xuICogLSAwID0gbGllcyBmbHVzaCB3aXRoIHRoZSBib3VuZGFyeVxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2RldGVjdE92ZXJmbG93XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGRldGVjdE92ZXJmbG93KHN0YXRlLCBvcHRpb25zKSB7XG4gIHZhciBfYXdhaXQkcGxhdGZvcm0kaXNFbGU7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgY29uc3Qge1xuICAgIHgsXG4gICAgeSxcbiAgICBwbGF0Zm9ybSxcbiAgICByZWN0cyxcbiAgICBlbGVtZW50cyxcbiAgICBzdHJhdGVneVxuICB9ID0gc3RhdGU7XG4gIGNvbnN0IHtcbiAgICBib3VuZGFyeSA9ICdjbGlwcGluZ0FuY2VzdG9ycycsXG4gICAgcm9vdEJvdW5kYXJ5ID0gJ3ZpZXdwb3J0JyxcbiAgICBlbGVtZW50Q29udGV4dCA9ICdmbG9hdGluZycsXG4gICAgYWx0Qm91bmRhcnkgPSBmYWxzZSxcbiAgICBwYWRkaW5nID0gMFxuICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICBjb25zdCBwYWRkaW5nT2JqZWN0ID0gZ2V0UGFkZGluZ09iamVjdChwYWRkaW5nKTtcbiAgY29uc3QgYWx0Q29udGV4dCA9IGVsZW1lbnRDb250ZXh0ID09PSAnZmxvYXRpbmcnID8gJ3JlZmVyZW5jZScgOiAnZmxvYXRpbmcnO1xuICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbYWx0Qm91bmRhcnkgPyBhbHRDb250ZXh0IDogZWxlbWVudENvbnRleHRdO1xuICBjb25zdCBjbGlwcGluZ0NsaWVudFJlY3QgPSByZWN0VG9DbGllbnRSZWN0KGF3YWl0IHBsYXRmb3JtLmdldENsaXBwaW5nUmVjdCh7XG4gICAgZWxlbWVudDogKChfYXdhaXQkcGxhdGZvcm0kaXNFbGUgPSBhd2FpdCAocGxhdGZvcm0uaXNFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc0VsZW1lbnQoZWxlbWVudCkpKSAhPSBudWxsID8gX2F3YWl0JHBsYXRmb3JtJGlzRWxlIDogdHJ1ZSkgPyBlbGVtZW50IDogZWxlbWVudC5jb250ZXh0RWxlbWVudCB8fCAoYXdhaXQgKHBsYXRmb3JtLmdldERvY3VtZW50RWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnRzLmZsb2F0aW5nKSkpLFxuICAgIGJvdW5kYXJ5LFxuICAgIHJvb3RCb3VuZGFyeSxcbiAgICBzdHJhdGVneVxuICB9KSk7XG4gIGNvbnN0IHJlY3QgPSBlbGVtZW50Q29udGV4dCA9PT0gJ2Zsb2F0aW5nJyA/IHtcbiAgICB4LFxuICAgIHksXG4gICAgd2lkdGg6IHJlY3RzLmZsb2F0aW5nLndpZHRoLFxuICAgIGhlaWdodDogcmVjdHMuZmxvYXRpbmcuaGVpZ2h0XG4gIH0gOiByZWN0cy5yZWZlcmVuY2U7XG4gIGNvbnN0IG9mZnNldFBhcmVudCA9IGF3YWl0IChwbGF0Zm9ybS5nZXRPZmZzZXRQYXJlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmdldE9mZnNldFBhcmVudChlbGVtZW50cy5mbG9hdGluZykpO1xuICBjb25zdCBvZmZzZXRTY2FsZSA9IChhd2FpdCAocGxhdGZvcm0uaXNFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc0VsZW1lbnQob2Zmc2V0UGFyZW50KSkpID8gKGF3YWl0IChwbGF0Zm9ybS5nZXRTY2FsZSA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uZ2V0U2NhbGUob2Zmc2V0UGFyZW50KSkpIHx8IHtcbiAgICB4OiAxLFxuICAgIHk6IDFcbiAgfSA6IHtcbiAgICB4OiAxLFxuICAgIHk6IDFcbiAgfTtcbiAgY29uc3QgZWxlbWVudENsaWVudFJlY3QgPSByZWN0VG9DbGllbnRSZWN0KHBsYXRmb3JtLmNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0ID8gYXdhaXQgcGxhdGZvcm0uY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3Qoe1xuICAgIGVsZW1lbnRzLFxuICAgIHJlY3QsXG4gICAgb2Zmc2V0UGFyZW50LFxuICAgIHN0cmF0ZWd5XG4gIH0pIDogcmVjdCk7XG4gIHJldHVybiB7XG4gICAgdG9wOiAoY2xpcHBpbmdDbGllbnRSZWN0LnRvcCAtIGVsZW1lbnRDbGllbnRSZWN0LnRvcCArIHBhZGRpbmdPYmplY3QudG9wKSAvIG9mZnNldFNjYWxlLnksXG4gICAgYm90dG9tOiAoZWxlbWVudENsaWVudFJlY3QuYm90dG9tIC0gY2xpcHBpbmdDbGllbnRSZWN0LmJvdHRvbSArIHBhZGRpbmdPYmplY3QuYm90dG9tKSAvIG9mZnNldFNjYWxlLnksXG4gICAgbGVmdDogKGNsaXBwaW5nQ2xpZW50UmVjdC5sZWZ0IC0gZWxlbWVudENsaWVudFJlY3QubGVmdCArIHBhZGRpbmdPYmplY3QubGVmdCkgLyBvZmZzZXRTY2FsZS54LFxuICAgIHJpZ2h0OiAoZWxlbWVudENsaWVudFJlY3QucmlnaHQgLSBjbGlwcGluZ0NsaWVudFJlY3QucmlnaHQgKyBwYWRkaW5nT2JqZWN0LnJpZ2h0KSAvIG9mZnNldFNjYWxlLnhcbiAgfTtcbn1cblxuLyoqXG4gKiBQcm92aWRlcyBkYXRhIHRvIHBvc2l0aW9uIGFuIGlubmVyIGVsZW1lbnQgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgc28gdGhhdCBpdFxuICogYXBwZWFycyBjZW50ZXJlZCB0byB0aGUgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvYXJyb3dcbiAqL1xuY29uc3QgYXJyb3cgPSBvcHRpb25zID0+ICh7XG4gIG5hbWU6ICdhcnJvdycsXG4gIG9wdGlvbnMsXG4gIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgY29uc3Qge1xuICAgICAgeCxcbiAgICAgIHksXG4gICAgICBwbGFjZW1lbnQsXG4gICAgICByZWN0cyxcbiAgICAgIHBsYXRmb3JtLFxuICAgICAgZWxlbWVudHMsXG4gICAgICBtaWRkbGV3YXJlRGF0YVxuICAgIH0gPSBzdGF0ZTtcbiAgICAvLyBTaW5jZSBgZWxlbWVudGAgaXMgcmVxdWlyZWQsIHdlIGRvbid0IFBhcnRpYWw8PiB0aGUgdHlwZS5cbiAgICBjb25zdCB7XG4gICAgICBlbGVtZW50LFxuICAgICAgcGFkZGluZyA9IDBcbiAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpIHx8IHt9O1xuICAgIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY29uc3QgcGFkZGluZ09iamVjdCA9IGdldFBhZGRpbmdPYmplY3QocGFkZGluZyk7XG4gICAgY29uc3QgY29vcmRzID0ge1xuICAgICAgeCxcbiAgICAgIHlcbiAgICB9O1xuICAgIGNvbnN0IGF4aXMgPSBnZXRBbGlnbm1lbnRBeGlzKHBsYWNlbWVudCk7XG4gICAgY29uc3QgbGVuZ3RoID0gZ2V0QXhpc0xlbmd0aChheGlzKTtcbiAgICBjb25zdCBhcnJvd0RpbWVuc2lvbnMgPSBhd2FpdCBwbGF0Zm9ybS5nZXREaW1lbnNpb25zKGVsZW1lbnQpO1xuICAgIGNvbnN0IGlzWUF4aXMgPSBheGlzID09PSAneSc7XG4gICAgY29uc3QgbWluUHJvcCA9IGlzWUF4aXMgPyAndG9wJyA6ICdsZWZ0JztcbiAgICBjb25zdCBtYXhQcm9wID0gaXNZQXhpcyA/ICdib3R0b20nIDogJ3JpZ2h0JztcbiAgICBjb25zdCBjbGllbnRQcm9wID0gaXNZQXhpcyA/ICdjbGllbnRIZWlnaHQnIDogJ2NsaWVudFdpZHRoJztcbiAgICBjb25zdCBlbmREaWZmID0gcmVjdHMucmVmZXJlbmNlW2xlbmd0aF0gKyByZWN0cy5yZWZlcmVuY2VbYXhpc10gLSBjb29yZHNbYXhpc10gLSByZWN0cy5mbG9hdGluZ1tsZW5ndGhdO1xuICAgIGNvbnN0IHN0YXJ0RGlmZiA9IGNvb3Jkc1theGlzXSAtIHJlY3RzLnJlZmVyZW5jZVtheGlzXTtcbiAgICBjb25zdCBhcnJvd09mZnNldFBhcmVudCA9IGF3YWl0IChwbGF0Zm9ybS5nZXRPZmZzZXRQYXJlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmdldE9mZnNldFBhcmVudChlbGVtZW50KSk7XG4gICAgbGV0IGNsaWVudFNpemUgPSBhcnJvd09mZnNldFBhcmVudCA/IGFycm93T2Zmc2V0UGFyZW50W2NsaWVudFByb3BdIDogMDtcblxuICAgIC8vIERPTSBwbGF0Zm9ybSBjYW4gcmV0dXJuIGB3aW5kb3dgIGFzIHRoZSBgb2Zmc2V0UGFyZW50YC5cbiAgICBpZiAoIWNsaWVudFNpemUgfHwgIShhd2FpdCAocGxhdGZvcm0uaXNFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc0VsZW1lbnQoYXJyb3dPZmZzZXRQYXJlbnQpKSkpIHtcbiAgICAgIGNsaWVudFNpemUgPSBlbGVtZW50cy5mbG9hdGluZ1tjbGllbnRQcm9wXSB8fCByZWN0cy5mbG9hdGluZ1tsZW5ndGhdO1xuICAgIH1cbiAgICBjb25zdCBjZW50ZXJUb1JlZmVyZW5jZSA9IGVuZERpZmYgLyAyIC0gc3RhcnREaWZmIC8gMjtcblxuICAgIC8vIElmIHRoZSBwYWRkaW5nIGlzIGxhcmdlIGVub3VnaCB0aGF0IGl0IGNhdXNlcyB0aGUgYXJyb3cgdG8gbm8gbG9uZ2VyIGJlXG4gICAgLy8gY2VudGVyZWQsIG1vZGlmeSB0aGUgcGFkZGluZyBzbyB0aGF0IGl0IGlzIGNlbnRlcmVkLlxuICAgIGNvbnN0IGxhcmdlc3RQb3NzaWJsZVBhZGRpbmcgPSBjbGllbnRTaXplIC8gMiAtIGFycm93RGltZW5zaW9uc1tsZW5ndGhdIC8gMiAtIDE7XG4gICAgY29uc3QgbWluUGFkZGluZyA9IG1pbihwYWRkaW5nT2JqZWN0W21pblByb3BdLCBsYXJnZXN0UG9zc2libGVQYWRkaW5nKTtcbiAgICBjb25zdCBtYXhQYWRkaW5nID0gbWluKHBhZGRpbmdPYmplY3RbbWF4UHJvcF0sIGxhcmdlc3RQb3NzaWJsZVBhZGRpbmcpO1xuXG4gICAgLy8gTWFrZSBzdXJlIHRoZSBhcnJvdyBkb2Vzbid0IG92ZXJmbG93IHRoZSBmbG9hdGluZyBlbGVtZW50IGlmIHRoZSBjZW50ZXJcbiAgICAvLyBwb2ludCBpcyBvdXRzaWRlIHRoZSBmbG9hdGluZyBlbGVtZW50J3MgYm91bmRzLlxuICAgIGNvbnN0IG1pbiQxID0gbWluUGFkZGluZztcbiAgICBjb25zdCBtYXggPSBjbGllbnRTaXplIC0gYXJyb3dEaW1lbnNpb25zW2xlbmd0aF0gLSBtYXhQYWRkaW5nO1xuICAgIGNvbnN0IGNlbnRlciA9IGNsaWVudFNpemUgLyAyIC0gYXJyb3dEaW1lbnNpb25zW2xlbmd0aF0gLyAyICsgY2VudGVyVG9SZWZlcmVuY2U7XG4gICAgY29uc3Qgb2Zmc2V0ID0gY2xhbXAobWluJDEsIGNlbnRlciwgbWF4KTtcblxuICAgIC8vIElmIHRoZSByZWZlcmVuY2UgaXMgc21hbGwgZW5vdWdoIHRoYXQgdGhlIGFycm93J3MgcGFkZGluZyBjYXVzZXMgaXQgdG9cbiAgICAvLyB0byBwb2ludCB0byBub3RoaW5nIGZvciBhbiBhbGlnbmVkIHBsYWNlbWVudCwgYWRqdXN0IHRoZSBvZmZzZXQgb2YgdGhlXG4gICAgLy8gZmxvYXRpbmcgZWxlbWVudCBpdHNlbGYuIFRvIGVuc3VyZSBgc2hpZnQoKWAgY29udGludWVzIHRvIHRha2UgYWN0aW9uLFxuICAgIC8vIGEgc2luZ2xlIHJlc2V0IGlzIHBlcmZvcm1lZCB3aGVuIHRoaXMgaXMgdHJ1ZS5cbiAgICBjb25zdCBzaG91bGRBZGRPZmZzZXQgPSAhbWlkZGxld2FyZURhdGEuYXJyb3cgJiYgZ2V0QWxpZ25tZW50KHBsYWNlbWVudCkgIT0gbnVsbCAmJiBjZW50ZXIgIT09IG9mZnNldCAmJiByZWN0cy5yZWZlcmVuY2VbbGVuZ3RoXSAvIDIgLSAoY2VudGVyIDwgbWluJDEgPyBtaW5QYWRkaW5nIDogbWF4UGFkZGluZykgLSBhcnJvd0RpbWVuc2lvbnNbbGVuZ3RoXSAvIDIgPCAwO1xuICAgIGNvbnN0IGFsaWdubWVudE9mZnNldCA9IHNob3VsZEFkZE9mZnNldCA/IGNlbnRlciA8IG1pbiQxID8gY2VudGVyIC0gbWluJDEgOiBjZW50ZXIgLSBtYXggOiAwO1xuICAgIHJldHVybiB7XG4gICAgICBbYXhpc106IGNvb3Jkc1theGlzXSArIGFsaWdubWVudE9mZnNldCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgW2F4aXNdOiBvZmZzZXQsXG4gICAgICAgIGNlbnRlck9mZnNldDogY2VudGVyIC0gb2Zmc2V0IC0gYWxpZ25tZW50T2Zmc2V0LFxuICAgICAgICAuLi4oc2hvdWxkQWRkT2Zmc2V0ICYmIHtcbiAgICAgICAgICBhbGlnbm1lbnRPZmZzZXRcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICByZXNldDogc2hvdWxkQWRkT2Zmc2V0XG4gICAgfTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGdldFBsYWNlbWVudExpc3QoYWxpZ25tZW50LCBhdXRvQWxpZ25tZW50LCBhbGxvd2VkUGxhY2VtZW50cykge1xuICBjb25zdCBhbGxvd2VkUGxhY2VtZW50c1NvcnRlZEJ5QWxpZ25tZW50ID0gYWxpZ25tZW50ID8gWy4uLmFsbG93ZWRQbGFjZW1lbnRzLmZpbHRlcihwbGFjZW1lbnQgPT4gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCkgPT09IGFsaWdubWVudCksIC4uLmFsbG93ZWRQbGFjZW1lbnRzLmZpbHRlcihwbGFjZW1lbnQgPT4gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCkgIT09IGFsaWdubWVudCldIDogYWxsb3dlZFBsYWNlbWVudHMuZmlsdGVyKHBsYWNlbWVudCA9PiBnZXRTaWRlKHBsYWNlbWVudCkgPT09IHBsYWNlbWVudCk7XG4gIHJldHVybiBhbGxvd2VkUGxhY2VtZW50c1NvcnRlZEJ5QWxpZ25tZW50LmZpbHRlcihwbGFjZW1lbnQgPT4ge1xuICAgIGlmIChhbGlnbm1lbnQpIHtcbiAgICAgIHJldHVybiBnZXRBbGlnbm1lbnQocGxhY2VtZW50KSA9PT0gYWxpZ25tZW50IHx8IChhdXRvQWxpZ25tZW50ID8gZ2V0T3Bwb3NpdGVBbGlnbm1lbnRQbGFjZW1lbnQocGxhY2VtZW50KSAhPT0gcGxhY2VtZW50IDogZmFsc2UpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59XG4vKipcbiAqIE9wdGltaXplcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBieSBjaG9vc2luZyB0aGUgcGxhY2VtZW50XG4gKiB0aGF0IGhhcyB0aGUgbW9zdCBzcGFjZSBhdmFpbGFibGUgYXV0b21hdGljYWxseSwgd2l0aG91dCBuZWVkaW5nIHRvIHNwZWNpZnkgYVxuICogcHJlZmVycmVkIHBsYWNlbWVudC4gQWx0ZXJuYXRpdmUgdG8gYGZsaXBgLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2F1dG9QbGFjZW1lbnRcbiAqL1xuY29uc3QgYXV0b1BsYWNlbWVudCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnYXV0b1BsYWNlbWVudCcsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgdmFyIF9taWRkbGV3YXJlRGF0YSRhdXRvUCwgX21pZGRsZXdhcmVEYXRhJGF1dG9QMiwgX3BsYWNlbWVudHNUaGF0Rml0T25FO1xuICAgICAgY29uc3Qge1xuICAgICAgICByZWN0cyxcbiAgICAgICAgbWlkZGxld2FyZURhdGEsXG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgcGxhdGZvcm0sXG4gICAgICAgIGVsZW1lbnRzXG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNyb3NzQXhpcyA9IGZhbHNlLFxuICAgICAgICBhbGlnbm1lbnQsXG4gICAgICAgIGFsbG93ZWRQbGFjZW1lbnRzID0gcGxhY2VtZW50cyxcbiAgICAgICAgYXV0b0FsaWdubWVudCA9IHRydWUsXG4gICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9uc1xuICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgIGNvbnN0IHBsYWNlbWVudHMkMSA9IGFsaWdubWVudCAhPT0gdW5kZWZpbmVkIHx8IGFsbG93ZWRQbGFjZW1lbnRzID09PSBwbGFjZW1lbnRzID8gZ2V0UGxhY2VtZW50TGlzdChhbGlnbm1lbnQgfHwgbnVsbCwgYXV0b0FsaWdubWVudCwgYWxsb3dlZFBsYWNlbWVudHMpIDogYWxsb3dlZFBsYWNlbWVudHM7XG4gICAgICBjb25zdCBvdmVyZmxvdyA9IGF3YWl0IGRldGVjdE92ZXJmbG93KHN0YXRlLCBkZXRlY3RPdmVyZmxvd09wdGlvbnMpO1xuICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gKChfbWlkZGxld2FyZURhdGEkYXV0b1AgPSBtaWRkbGV3YXJlRGF0YS5hdXRvUGxhY2VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX21pZGRsZXdhcmVEYXRhJGF1dG9QLmluZGV4KSB8fCAwO1xuICAgICAgY29uc3QgY3VycmVudFBsYWNlbWVudCA9IHBsYWNlbWVudHMkMVtjdXJyZW50SW5kZXhdO1xuICAgICAgaWYgKGN1cnJlbnRQbGFjZW1lbnQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICBjb25zdCBhbGlnbm1lbnRTaWRlcyA9IGdldEFsaWdubWVudFNpZGVzKGN1cnJlbnRQbGFjZW1lbnQsIHJlY3RzLCBhd2FpdCAocGxhdGZvcm0uaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzUlRMKGVsZW1lbnRzLmZsb2F0aW5nKSkpO1xuXG4gICAgICAvLyBNYWtlIGBjb21wdXRlQ29vcmRzYCBzdGFydCBmcm9tIHRoZSByaWdodCBwbGFjZS5cbiAgICAgIGlmIChwbGFjZW1lbnQgIT09IGN1cnJlbnRQbGFjZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnRzJDFbMF1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb25zdCBjdXJyZW50T3ZlcmZsb3dzID0gW292ZXJmbG93W2dldFNpZGUoY3VycmVudFBsYWNlbWVudCldLCBvdmVyZmxvd1thbGlnbm1lbnRTaWRlc1swXV0sIG92ZXJmbG93W2FsaWdubWVudFNpZGVzWzFdXV07XG4gICAgICBjb25zdCBhbGxPdmVyZmxvd3MgPSBbLi4uKCgoX21pZGRsZXdhcmVEYXRhJGF1dG9QMiA9IG1pZGRsZXdhcmVEYXRhLmF1dG9QbGFjZW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkYXV0b1AyLm92ZXJmbG93cykgfHwgW10pLCB7XG4gICAgICAgIHBsYWNlbWVudDogY3VycmVudFBsYWNlbWVudCxcbiAgICAgICAgb3ZlcmZsb3dzOiBjdXJyZW50T3ZlcmZsb3dzXG4gICAgICB9XTtcbiAgICAgIGNvbnN0IG5leHRQbGFjZW1lbnQgPSBwbGFjZW1lbnRzJDFbY3VycmVudEluZGV4ICsgMV07XG5cbiAgICAgIC8vIFRoZXJlIGFyZSBtb3JlIHBsYWNlbWVudHMgdG8gY2hlY2suXG4gICAgICBpZiAobmV4dFBsYWNlbWVudCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGluZGV4OiBjdXJyZW50SW5kZXggKyAxLFxuICAgICAgICAgICAgb3ZlcmZsb3dzOiBhbGxPdmVyZmxvd3NcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICBwbGFjZW1lbnQ6IG5leHRQbGFjZW1lbnRcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb25zdCBwbGFjZW1lbnRzU29ydGVkQnlNb3N0U3BhY2UgPSBhbGxPdmVyZmxvd3MubWFwKGQgPT4ge1xuICAgICAgICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQoZC5wbGFjZW1lbnQpO1xuICAgICAgICByZXR1cm4gW2QucGxhY2VtZW50LCBhbGlnbm1lbnQgJiYgY3Jvc3NBeGlzID9cbiAgICAgICAgLy8gQ2hlY2sgYWxvbmcgdGhlIG1haW5BeGlzIGFuZCBtYWluIGNyb3NzQXhpcyBzaWRlLlxuICAgICAgICBkLm92ZXJmbG93cy5zbGljZSgwLCAyKS5yZWR1Y2UoKGFjYywgdikgPT4gYWNjICsgdiwgMCkgOlxuICAgICAgICAvLyBDaGVjayBvbmx5IHRoZSBtYWluQXhpcy5cbiAgICAgICAgZC5vdmVyZmxvd3NbMF0sIGQub3ZlcmZsb3dzXTtcbiAgICAgIH0pLnNvcnQoKGEsIGIpID0+IGFbMV0gLSBiWzFdKTtcbiAgICAgIGNvbnN0IHBsYWNlbWVudHNUaGF0Rml0T25FYWNoU2lkZSA9IHBsYWNlbWVudHNTb3J0ZWRCeU1vc3RTcGFjZS5maWx0ZXIoZCA9PiBkWzJdLnNsaWNlKDAsXG4gICAgICAvLyBBbGlnbmVkIHBsYWNlbWVudHMgc2hvdWxkIG5vdCBjaGVjayB0aGVpciBvcHBvc2l0ZSBjcm9zc0F4aXNcbiAgICAgIC8vIHNpZGUuXG4gICAgICBnZXRBbGlnbm1lbnQoZFswXSkgPyAyIDogMykuZXZlcnkodiA9PiB2IDw9IDApKTtcbiAgICAgIGNvbnN0IHJlc2V0UGxhY2VtZW50ID0gKChfcGxhY2VtZW50c1RoYXRGaXRPbkUgPSBwbGFjZW1lbnRzVGhhdEZpdE9uRWFjaFNpZGVbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfcGxhY2VtZW50c1RoYXRGaXRPbkVbMF0pIHx8IHBsYWNlbWVudHNTb3J0ZWRCeU1vc3RTcGFjZVswXVswXTtcbiAgICAgIGlmIChyZXNldFBsYWNlbWVudCAhPT0gcGxhY2VtZW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgaW5kZXg6IGN1cnJlbnRJbmRleCArIDEsXG4gICAgICAgICAgICBvdmVyZmxvd3M6IGFsbE92ZXJmbG93c1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICAgIHBsYWNlbWVudDogcmVzZXRQbGFjZW1lbnRcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgZmxpcHBpbmcgdGhlIGBwbGFjZW1lbnRgXG4gKiBpbiBvcmRlciB0byBrZWVwIGl0IGluIHZpZXcgd2hlbiB0aGUgcHJlZmVycmVkIHBsYWNlbWVudChzKSB3aWxsIG92ZXJmbG93IHRoZVxuICogY2xpcHBpbmcgYm91bmRhcnkuIEFsdGVybmF0aXZlIHRvIGBhdXRvUGxhY2VtZW50YC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9mbGlwXG4gKi9cbmNvbnN0IGZsaXAgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogJ2ZsaXAnLFxuICAgIG9wdGlvbnMsXG4gICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgIHZhciBfbWlkZGxld2FyZURhdGEkYXJyb3csIF9taWRkbGV3YXJlRGF0YSRmbGlwO1xuICAgICAgY29uc3Qge1xuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIG1pZGRsZXdhcmVEYXRhLFxuICAgICAgICByZWN0cyxcbiAgICAgICAgaW5pdGlhbFBsYWNlbWVudCxcbiAgICAgICAgcGxhdGZvcm0sXG4gICAgICAgIGVsZW1lbnRzXG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG1haW5BeGlzOiBjaGVja01haW5BeGlzID0gdHJ1ZSxcbiAgICAgICAgY3Jvc3NBeGlzOiBjaGVja0Nyb3NzQXhpcyA9IHRydWUsXG4gICAgICAgIGZhbGxiYWNrUGxhY2VtZW50czogc3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzLFxuICAgICAgICBmYWxsYmFja1N0cmF0ZWd5ID0gJ2Jlc3RGaXQnLFxuICAgICAgICBmYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uID0gJ25vbmUnLFxuICAgICAgICBmbGlwQWxpZ25tZW50ID0gdHJ1ZSxcbiAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zXG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuXG4gICAgICAvLyBJZiBhIHJlc2V0IGJ5IHRoZSBhcnJvdyB3YXMgY2F1c2VkIGR1ZSB0byBhbiBhbGlnbm1lbnQgb2Zmc2V0IGJlaW5nXG4gICAgICAvLyBhZGRlZCwgd2Ugc2hvdWxkIHNraXAgYW55IGxvZ2ljIG5vdyBzaW5jZSBgZmxpcCgpYCBoYXMgYWxyZWFkeSBkb25lIGl0c1xuICAgICAgLy8gd29yay5cbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mbG9hdGluZy11aS9mbG9hdGluZy11aS9pc3N1ZXMvMjU0OSNpc3N1ZWNvbW1lbnQtMTcxOTYwMTY0M1xuICAgICAgaWYgKChfbWlkZGxld2FyZURhdGEkYXJyb3cgPSBtaWRkbGV3YXJlRGF0YS5hcnJvdykgIT0gbnVsbCAmJiBfbWlkZGxld2FyZURhdGEkYXJyb3cuYWxpZ25tZW50T2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNpZGUgPSBnZXRTaWRlKHBsYWNlbWVudCk7XG4gICAgICBjb25zdCBpbml0aWFsU2lkZUF4aXMgPSBnZXRTaWRlQXhpcyhpbml0aWFsUGxhY2VtZW50KTtcbiAgICAgIGNvbnN0IGlzQmFzZVBsYWNlbWVudCA9IGdldFNpZGUoaW5pdGlhbFBsYWNlbWVudCkgPT09IGluaXRpYWxQbGFjZW1lbnQ7XG4gICAgICBjb25zdCBydGwgPSBhd2FpdCAocGxhdGZvcm0uaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzUlRMKGVsZW1lbnRzLmZsb2F0aW5nKSk7XG4gICAgICBjb25zdCBmYWxsYmFja1BsYWNlbWVudHMgPSBzcGVjaWZpZWRGYWxsYmFja1BsYWNlbWVudHMgfHwgKGlzQmFzZVBsYWNlbWVudCB8fCAhZmxpcEFsaWdubWVudCA/IFtnZXRPcHBvc2l0ZVBsYWNlbWVudChpbml0aWFsUGxhY2VtZW50KV0gOiBnZXRFeHBhbmRlZFBsYWNlbWVudHMoaW5pdGlhbFBsYWNlbWVudCkpO1xuICAgICAgY29uc3QgaGFzRmFsbGJhY2tBeGlzU2lkZURpcmVjdGlvbiA9IGZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24gIT09ICdub25lJztcbiAgICAgIGlmICghc3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzICYmIGhhc0ZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24pIHtcbiAgICAgICAgZmFsbGJhY2tQbGFjZW1lbnRzLnB1c2goLi4uZ2V0T3Bwb3NpdGVBeGlzUGxhY2VtZW50cyhpbml0aWFsUGxhY2VtZW50LCBmbGlwQWxpZ25tZW50LCBmYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uLCBydGwpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBsYWNlbWVudHMgPSBbaW5pdGlhbFBsYWNlbWVudCwgLi4uZmFsbGJhY2tQbGFjZW1lbnRzXTtcbiAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIGRldGVjdE92ZXJmbG93T3B0aW9ucyk7XG4gICAgICBjb25zdCBvdmVyZmxvd3MgPSBbXTtcbiAgICAgIGxldCBvdmVyZmxvd3NEYXRhID0gKChfbWlkZGxld2FyZURhdGEkZmxpcCA9IG1pZGRsZXdhcmVEYXRhLmZsaXApID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkZmxpcC5vdmVyZmxvd3MpIHx8IFtdO1xuICAgICAgaWYgKGNoZWNrTWFpbkF4aXMpIHtcbiAgICAgICAgb3ZlcmZsb3dzLnB1c2gob3ZlcmZsb3dbc2lkZV0pO1xuICAgICAgfVxuICAgICAgaWYgKGNoZWNrQ3Jvc3NBeGlzKSB7XG4gICAgICAgIGNvbnN0IHNpZGVzID0gZ2V0QWxpZ25tZW50U2lkZXMocGxhY2VtZW50LCByZWN0cywgcnRsKTtcbiAgICAgICAgb3ZlcmZsb3dzLnB1c2gob3ZlcmZsb3dbc2lkZXNbMF1dLCBvdmVyZmxvd1tzaWRlc1sxXV0pO1xuICAgICAgfVxuICAgICAgb3ZlcmZsb3dzRGF0YSA9IFsuLi5vdmVyZmxvd3NEYXRhLCB7XG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgb3ZlcmZsb3dzXG4gICAgICB9XTtcblxuICAgICAgLy8gT25lIG9yIG1vcmUgc2lkZXMgaXMgb3ZlcmZsb3dpbmcuXG4gICAgICBpZiAoIW92ZXJmbG93cy5ldmVyeShzaWRlID0+IHNpZGUgPD0gMCkpIHtcbiAgICAgICAgdmFyIF9taWRkbGV3YXJlRGF0YSRmbGlwMiwgX292ZXJmbG93c0RhdGEkZmlsdGVyO1xuICAgICAgICBjb25zdCBuZXh0SW5kZXggPSAoKChfbWlkZGxld2FyZURhdGEkZmxpcDIgPSBtaWRkbGV3YXJlRGF0YS5mbGlwKSA9PSBudWxsID8gdm9pZCAwIDogX21pZGRsZXdhcmVEYXRhJGZsaXAyLmluZGV4KSB8fCAwKSArIDE7XG4gICAgICAgIGNvbnN0IG5leHRQbGFjZW1lbnQgPSBwbGFjZW1lbnRzW25leHRJbmRleF07XG4gICAgICAgIGlmIChuZXh0UGxhY2VtZW50KSB7XG4gICAgICAgICAgLy8gVHJ5IG5leHQgcGxhY2VtZW50IGFuZCByZS1ydW4gdGhlIGxpZmVjeWNsZS5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBpbmRleDogbmV4dEluZGV4LFxuICAgICAgICAgICAgICBvdmVyZmxvd3M6IG92ZXJmbG93c0RhdGFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgICBwbGFjZW1lbnQ6IG5leHRQbGFjZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlyc3QsIGZpbmQgdGhlIGNhbmRpZGF0ZXMgdGhhdCBmaXQgb24gdGhlIG1haW5BeGlzIHNpZGUgb2Ygb3ZlcmZsb3csXG4gICAgICAgIC8vIHRoZW4gZmluZCB0aGUgcGxhY2VtZW50IHRoYXQgZml0cyB0aGUgYmVzdCBvbiB0aGUgbWFpbiBjcm9zc0F4aXMgc2lkZS5cbiAgICAgICAgbGV0IHJlc2V0UGxhY2VtZW50ID0gKF9vdmVyZmxvd3NEYXRhJGZpbHRlciA9IG92ZXJmbG93c0RhdGEuZmlsdGVyKGQgPT4gZC5vdmVyZmxvd3NbMF0gPD0gMCkuc29ydCgoYSwgYikgPT4gYS5vdmVyZmxvd3NbMV0gLSBiLm92ZXJmbG93c1sxXSlbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfb3ZlcmZsb3dzRGF0YSRmaWx0ZXIucGxhY2VtZW50O1xuXG4gICAgICAgIC8vIE90aGVyd2lzZSBmYWxsYmFjay5cbiAgICAgICAgaWYgKCFyZXNldFBsYWNlbWVudCkge1xuICAgICAgICAgIHN3aXRjaCAoZmFsbGJhY2tTdHJhdGVneSkge1xuICAgICAgICAgICAgY2FzZSAnYmVzdEZpdCc6XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgX292ZXJmbG93c0RhdGEkZmlsdGVyMjtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGFjZW1lbnQgPSAoX292ZXJmbG93c0RhdGEkZmlsdGVyMiA9IG92ZXJmbG93c0RhdGEuZmlsdGVyKGQgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGhhc0ZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFNpZGVBeGlzID0gZ2V0U2lkZUF4aXMoZC5wbGFjZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFNpZGVBeGlzID09PSBpbml0aWFsU2lkZUF4aXMgfHxcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgYmlhcyB0byB0aGUgYHlgIHNpZGUgYXhpcyBkdWUgdG8gaG9yaXpvbnRhbFxuICAgICAgICAgICAgICAgICAgICAvLyByZWFkaW5nIGRpcmVjdGlvbnMgZmF2b3JpbmcgZ3JlYXRlciB3aWR0aC5cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNpZGVBeGlzID09PSAneSc7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KS5tYXAoZCA9PiBbZC5wbGFjZW1lbnQsIGQub3ZlcmZsb3dzLmZpbHRlcihvdmVyZmxvdyA9PiBvdmVyZmxvdyA+IDApLnJlZHVjZSgoYWNjLCBvdmVyZmxvdykgPT4gYWNjICsgb3ZlcmZsb3csIDApXSkuc29ydCgoYSwgYikgPT4gYVsxXSAtIGJbMV0pWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX292ZXJmbG93c0RhdGEkZmlsdGVyMlswXTtcbiAgICAgICAgICAgICAgICBpZiAocGxhY2VtZW50KSB7XG4gICAgICAgICAgICAgICAgICByZXNldFBsYWNlbWVudCA9IHBsYWNlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2luaXRpYWxQbGFjZW1lbnQnOlxuICAgICAgICAgICAgICByZXNldFBsYWNlbWVudCA9IGluaXRpYWxQbGFjZW1lbnQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGxhY2VtZW50ICE9PSByZXNldFBsYWNlbWVudCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgICBwbGFjZW1lbnQ6IHJlc2V0UGxhY2VtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGdldFNpZGVPZmZzZXRzKG92ZXJmbG93LCByZWN0KSB7XG4gIHJldHVybiB7XG4gICAgdG9wOiBvdmVyZmxvdy50b3AgLSByZWN0LmhlaWdodCxcbiAgICByaWdodDogb3ZlcmZsb3cucmlnaHQgLSByZWN0LndpZHRoLFxuICAgIGJvdHRvbTogb3ZlcmZsb3cuYm90dG9tIC0gcmVjdC5oZWlnaHQsXG4gICAgbGVmdDogb3ZlcmZsb3cubGVmdCAtIHJlY3Qud2lkdGhcbiAgfTtcbn1cbmZ1bmN0aW9uIGlzQW55U2lkZUZ1bGx5Q2xpcHBlZChvdmVyZmxvdykge1xuICByZXR1cm4gc2lkZXMuc29tZShzaWRlID0+IG92ZXJmbG93W3NpZGVdID49IDApO1xufVxuLyoqXG4gKiBQcm92aWRlcyBkYXRhIHRvIGhpZGUgdGhlIGZsb2F0aW5nIGVsZW1lbnQgaW4gYXBwbGljYWJsZSBzaXR1YXRpb25zLCBzdWNoIGFzXG4gKiB3aGVuIGl0IGlzIG5vdCBpbiB0aGUgc2FtZSBjbGlwcGluZyBjb250ZXh0IGFzIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9oaWRlXG4gKi9cbmNvbnN0IGhpZGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogJ2hpZGUnLFxuICAgIG9wdGlvbnMsXG4gICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcmVjdHNcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc3RyYXRlZ3kgPSAncmVmZXJlbmNlSGlkZGVuJyxcbiAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zXG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICAgICAgc3dpdGNoIChzdHJhdGVneSkge1xuICAgICAgICBjYXNlICdyZWZlcmVuY2VIaWRkZW4nOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIHtcbiAgICAgICAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zLFxuICAgICAgICAgICAgICBlbGVtZW50Q29udGV4dDogJ3JlZmVyZW5jZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0cyA9IGdldFNpZGVPZmZzZXRzKG92ZXJmbG93LCByZWN0cy5yZWZlcmVuY2UpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHJlZmVyZW5jZUhpZGRlbk9mZnNldHM6IG9mZnNldHMsXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlSGlkZGVuOiBpc0FueVNpZGVGdWxseUNsaXBwZWQob2Zmc2V0cylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2VzY2FwZWQnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIHtcbiAgICAgICAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zLFxuICAgICAgICAgICAgICBhbHRCb3VuZGFyeTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXRzID0gZ2V0U2lkZU9mZnNldHMob3ZlcmZsb3csIHJlY3RzLmZsb2F0aW5nKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBlc2NhcGVkT2Zmc2V0czogb2Zmc2V0cyxcbiAgICAgICAgICAgICAgICBlc2NhcGVkOiBpc0FueVNpZGVGdWxseUNsaXBwZWQob2Zmc2V0cylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG5mdW5jdGlvbiBnZXRCb3VuZGluZ1JlY3QocmVjdHMpIHtcbiAgY29uc3QgbWluWCA9IG1pbiguLi5yZWN0cy5tYXAocmVjdCA9PiByZWN0LmxlZnQpKTtcbiAgY29uc3QgbWluWSA9IG1pbiguLi5yZWN0cy5tYXAocmVjdCA9PiByZWN0LnRvcCkpO1xuICBjb25zdCBtYXhYID0gbWF4KC4uLnJlY3RzLm1hcChyZWN0ID0+IHJlY3QucmlnaHQpKTtcbiAgY29uc3QgbWF4WSA9IG1heCguLi5yZWN0cy5tYXAocmVjdCA9PiByZWN0LmJvdHRvbSkpO1xuICByZXR1cm4ge1xuICAgIHg6IG1pblgsXG4gICAgeTogbWluWSxcbiAgICB3aWR0aDogbWF4WCAtIG1pblgsXG4gICAgaGVpZ2h0OiBtYXhZIC0gbWluWVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0UmVjdHNCeUxpbmUocmVjdHMpIHtcbiAgY29uc3Qgc29ydGVkUmVjdHMgPSByZWN0cy5zbGljZSgpLnNvcnQoKGEsIGIpID0+IGEueSAtIGIueSk7XG4gIGNvbnN0IGdyb3VwcyA9IFtdO1xuICBsZXQgcHJldlJlY3QgPSBudWxsO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNvcnRlZFJlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcmVjdCA9IHNvcnRlZFJlY3RzW2ldO1xuICAgIGlmICghcHJldlJlY3QgfHwgcmVjdC55IC0gcHJldlJlY3QueSA+IHByZXZSZWN0LmhlaWdodCAvIDIpIHtcbiAgICAgIGdyb3Vwcy5wdXNoKFtyZWN0XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdyb3Vwc1tncm91cHMubGVuZ3RoIC0gMV0ucHVzaChyZWN0KTtcbiAgICB9XG4gICAgcHJldlJlY3QgPSByZWN0O1xuICB9XG4gIHJldHVybiBncm91cHMubWFwKHJlY3QgPT4gcmVjdFRvQ2xpZW50UmVjdChnZXRCb3VuZGluZ1JlY3QocmVjdCkpKTtcbn1cbi8qKlxuICogUHJvdmlkZXMgaW1wcm92ZWQgcG9zaXRpb25pbmcgZm9yIGlubGluZSByZWZlcmVuY2UgZWxlbWVudHMgdGhhdCBjYW4gc3BhblxuICogb3ZlciBtdWx0aXBsZSBsaW5lcywgc3VjaCBhcyBoeXBlcmxpbmtzIG9yIHJhbmdlIHNlbGVjdGlvbnMuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvaW5saW5lXG4gKi9cbmNvbnN0IGlubGluZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnaW5saW5lJyxcbiAgICBvcHRpb25zLFxuICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgZWxlbWVudHMsXG4gICAgICAgIHJlY3RzLFxuICAgICAgICBwbGF0Zm9ybSxcbiAgICAgICAgc3RyYXRlZ3lcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIC8vIEEgTW91c2VFdmVudCdzIGNsaWVudHtYLFl9IGNvb3JkcyBjYW4gYmUgdXAgdG8gMiBwaXhlbHMgb2ZmIGFcbiAgICAgIC8vIENsaWVudFJlY3QncyBib3VuZHMsIGRlc3BpdGUgdGhlIGV2ZW50IGxpc3RlbmVyIGJlaW5nIHRyaWdnZXJlZC4gQVxuICAgICAgLy8gcGFkZGluZyBvZiAyIHNlZW1zIHRvIGhhbmRsZSB0aGlzIGlzc3VlLlxuICAgICAgY29uc3Qge1xuICAgICAgICBwYWRkaW5nID0gMixcbiAgICAgICAgeCxcbiAgICAgICAgeVxuICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgIGNvbnN0IG5hdGl2ZUNsaWVudFJlY3RzID0gQXJyYXkuZnJvbSgoYXdhaXQgKHBsYXRmb3JtLmdldENsaWVudFJlY3RzID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5nZXRDbGllbnRSZWN0cyhlbGVtZW50cy5yZWZlcmVuY2UpKSkgfHwgW10pO1xuICAgICAgY29uc3QgY2xpZW50UmVjdHMgPSBnZXRSZWN0c0J5TGluZShuYXRpdmVDbGllbnRSZWN0cyk7XG4gICAgICBjb25zdCBmYWxsYmFjayA9IHJlY3RUb0NsaWVudFJlY3QoZ2V0Qm91bmRpbmdSZWN0KG5hdGl2ZUNsaWVudFJlY3RzKSk7XG4gICAgICBjb25zdCBwYWRkaW5nT2JqZWN0ID0gZ2V0UGFkZGluZ09iamVjdChwYWRkaW5nKTtcbiAgICAgIGZ1bmN0aW9uIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIHtcbiAgICAgICAgLy8gVGhlcmUgYXJlIHR3byByZWN0cyBhbmQgdGhleSBhcmUgZGlzam9pbmVkLlxuICAgICAgICBpZiAoY2xpZW50UmVjdHMubGVuZ3RoID09PSAyICYmIGNsaWVudFJlY3RzWzBdLmxlZnQgPiBjbGllbnRSZWN0c1sxXS5yaWdodCAmJiB4ICE9IG51bGwgJiYgeSAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gRmluZCB0aGUgZmlyc3QgcmVjdCBpbiB3aGljaCB0aGUgcG9pbnQgaXMgZnVsbHkgaW5zaWRlLlxuICAgICAgICAgIHJldHVybiBjbGllbnRSZWN0cy5maW5kKHJlY3QgPT4geCA+IHJlY3QubGVmdCAtIHBhZGRpbmdPYmplY3QubGVmdCAmJiB4IDwgcmVjdC5yaWdodCArIHBhZGRpbmdPYmplY3QucmlnaHQgJiYgeSA+IHJlY3QudG9wIC0gcGFkZGluZ09iamVjdC50b3AgJiYgeSA8IHJlY3QuYm90dG9tICsgcGFkZGluZ09iamVjdC5ib3R0b20pIHx8IGZhbGxiYWNrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlcmUgYXJlIDIgb3IgbW9yZSBjb25uZWN0ZWQgcmVjdHMuXG4gICAgICAgIGlmIChjbGllbnRSZWN0cy5sZW5ndGggPj0gMikge1xuICAgICAgICAgIGlmIChnZXRTaWRlQXhpcyhwbGFjZW1lbnQpID09PSAneScpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0UmVjdCA9IGNsaWVudFJlY3RzWzBdO1xuICAgICAgICAgICAgY29uc3QgbGFzdFJlY3QgPSBjbGllbnRSZWN0c1tjbGllbnRSZWN0cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGNvbnN0IGlzVG9wID0gZ2V0U2lkZShwbGFjZW1lbnQpID09PSAndG9wJztcbiAgICAgICAgICAgIGNvbnN0IHRvcCA9IGZpcnN0UmVjdC50b3A7XG4gICAgICAgICAgICBjb25zdCBib3R0b20gPSBsYXN0UmVjdC5ib3R0b207XG4gICAgICAgICAgICBjb25zdCBsZWZ0ID0gaXNUb3AgPyBmaXJzdFJlY3QubGVmdCA6IGxhc3RSZWN0LmxlZnQ7XG4gICAgICAgICAgICBjb25zdCByaWdodCA9IGlzVG9wID8gZmlyc3RSZWN0LnJpZ2h0IDogbGFzdFJlY3QucmlnaHQ7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHJpZ2h0IC0gbGVmdDtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGJvdHRvbSAtIHRvcDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgICAgYm90dG9tLFxuICAgICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgICByaWdodCxcbiAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgeDogbGVmdCxcbiAgICAgICAgICAgICAgeTogdG9wXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBpc0xlZnRTaWRlID0gZ2V0U2lkZShwbGFjZW1lbnQpID09PSAnbGVmdCc7XG4gICAgICAgICAgY29uc3QgbWF4UmlnaHQgPSBtYXgoLi4uY2xpZW50UmVjdHMubWFwKHJlY3QgPT4gcmVjdC5yaWdodCkpO1xuICAgICAgICAgIGNvbnN0IG1pbkxlZnQgPSBtaW4oLi4uY2xpZW50UmVjdHMubWFwKHJlY3QgPT4gcmVjdC5sZWZ0KSk7XG4gICAgICAgICAgY29uc3QgbWVhc3VyZVJlY3RzID0gY2xpZW50UmVjdHMuZmlsdGVyKHJlY3QgPT4gaXNMZWZ0U2lkZSA/IHJlY3QubGVmdCA9PT0gbWluTGVmdCA6IHJlY3QucmlnaHQgPT09IG1heFJpZ2h0KTtcbiAgICAgICAgICBjb25zdCB0b3AgPSBtZWFzdXJlUmVjdHNbMF0udG9wO1xuICAgICAgICAgIGNvbnN0IGJvdHRvbSA9IG1lYXN1cmVSZWN0c1ttZWFzdXJlUmVjdHMubGVuZ3RoIC0gMV0uYm90dG9tO1xuICAgICAgICAgIGNvbnN0IGxlZnQgPSBtaW5MZWZ0O1xuICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gbWF4UmlnaHQ7XG4gICAgICAgICAgY29uc3Qgd2lkdGggPSByaWdodCAtIGxlZnQ7XG4gICAgICAgICAgY29uc3QgaGVpZ2h0ID0gYm90dG9tIC0gdG9wO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3AsXG4gICAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgcmlnaHQsXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIHg6IGxlZnQsXG4gICAgICAgICAgICB5OiB0b3BcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxsYmFjaztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc2V0UmVjdHMgPSBhd2FpdCBwbGF0Zm9ybS5nZXRFbGVtZW50UmVjdHMoe1xuICAgICAgICByZWZlcmVuY2U6IHtcbiAgICAgICAgICBnZXRCb3VuZGluZ0NsaWVudFJlY3RcbiAgICAgICAgfSxcbiAgICAgICAgZmxvYXRpbmc6IGVsZW1lbnRzLmZsb2F0aW5nLFxuICAgICAgICBzdHJhdGVneVxuICAgICAgfSk7XG4gICAgICBpZiAocmVjdHMucmVmZXJlbmNlLnggIT09IHJlc2V0UmVjdHMucmVmZXJlbmNlLnggfHwgcmVjdHMucmVmZXJlbmNlLnkgIT09IHJlc2V0UmVjdHMucmVmZXJlbmNlLnkgfHwgcmVjdHMucmVmZXJlbmNlLndpZHRoICE9PSByZXNldFJlY3RzLnJlZmVyZW5jZS53aWR0aCB8fCByZWN0cy5yZWZlcmVuY2UuaGVpZ2h0ICE9PSByZXNldFJlY3RzLnJlZmVyZW5jZS5oZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgcmVjdHM6IHJlc2V0UmVjdHNcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9O1xufTtcblxuLy8gRm9yIHR5cGUgYmFja3dhcmRzLWNvbXBhdGliaWxpdHksIHRoZSBgT2Zmc2V0T3B0aW9uc2AgdHlwZSB3YXMgYWxzb1xuLy8gRGVyaXZhYmxlLlxuXG5hc3luYyBmdW5jdGlvbiBjb252ZXJ0VmFsdWVUb0Nvb3JkcyhzdGF0ZSwgb3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgcGxhY2VtZW50LFxuICAgIHBsYXRmb3JtLFxuICAgIGVsZW1lbnRzXG4gIH0gPSBzdGF0ZTtcbiAgY29uc3QgcnRsID0gYXdhaXQgKHBsYXRmb3JtLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc1JUTChlbGVtZW50cy5mbG9hdGluZykpO1xuICBjb25zdCBzaWRlID0gZ2V0U2lkZShwbGFjZW1lbnQpO1xuICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQocGxhY2VtZW50KTtcbiAgY29uc3QgaXNWZXJ0aWNhbCA9IGdldFNpZGVBeGlzKHBsYWNlbWVudCkgPT09ICd5JztcbiAgY29uc3QgbWFpbkF4aXNNdWx0aSA9IFsnbGVmdCcsICd0b3AnXS5pbmNsdWRlcyhzaWRlKSA/IC0xIDogMTtcbiAgY29uc3QgY3Jvc3NBeGlzTXVsdGkgPSBydGwgJiYgaXNWZXJ0aWNhbCA/IC0xIDogMTtcbiAgY29uc3QgcmF3VmFsdWUgPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICBsZXQge1xuICAgIG1haW5BeGlzLFxuICAgIGNyb3NzQXhpcyxcbiAgICBhbGlnbm1lbnRBeGlzXG4gIH0gPSB0eXBlb2YgcmF3VmFsdWUgPT09ICdudW1iZXInID8ge1xuICAgIG1haW5BeGlzOiByYXdWYWx1ZSxcbiAgICBjcm9zc0F4aXM6IDAsXG4gICAgYWxpZ25tZW50QXhpczogbnVsbFxuICB9IDoge1xuICAgIG1haW5BeGlzOiAwLFxuICAgIGNyb3NzQXhpczogMCxcbiAgICBhbGlnbm1lbnRBeGlzOiBudWxsLFxuICAgIC4uLnJhd1ZhbHVlXG4gIH07XG4gIGlmIChhbGlnbm1lbnQgJiYgdHlwZW9mIGFsaWdubWVudEF4aXMgPT09ICdudW1iZXInKSB7XG4gICAgY3Jvc3NBeGlzID0gYWxpZ25tZW50ID09PSAnZW5kJyA/IGFsaWdubWVudEF4aXMgKiAtMSA6IGFsaWdubWVudEF4aXM7XG4gIH1cbiAgcmV0dXJuIGlzVmVydGljYWwgPyB7XG4gICAgeDogY3Jvc3NBeGlzICogY3Jvc3NBeGlzTXVsdGksXG4gICAgeTogbWFpbkF4aXMgKiBtYWluQXhpc011bHRpXG4gIH0gOiB7XG4gICAgeDogbWFpbkF4aXMgKiBtYWluQXhpc011bHRpLFxuICAgIHk6IGNyb3NzQXhpcyAqIGNyb3NzQXhpc011bHRpXG4gIH07XG59XG5cbi8qKlxuICogTW9kaWZpZXMgdGhlIHBsYWNlbWVudCBieSB0cmFuc2xhdGluZyB0aGUgZmxvYXRpbmcgZWxlbWVudCBhbG9uZyB0aGVcbiAqIHNwZWNpZmllZCBheGVzLlxuICogQSBudW1iZXIgKHNob3J0aGFuZCBmb3IgYG1haW5BeGlzYCBvciBkaXN0YW5jZSksIG9yIGFuIGF4ZXMgY29uZmlndXJhdGlvblxuICogb2JqZWN0IG1heSBiZSBwYXNzZWQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3Mvb2Zmc2V0XG4gKi9cbmNvbnN0IG9mZnNldCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0gMDtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdvZmZzZXQnLFxuICAgIG9wdGlvbnMsXG4gICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgIHZhciBfbWlkZGxld2FyZURhdGEkb2Zmc2UsIF9taWRkbGV3YXJlRGF0YSRhcnJvdztcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBtaWRkbGV3YXJlRGF0YVxuICAgICAgfSA9IHN0YXRlO1xuICAgICAgY29uc3QgZGlmZkNvb3JkcyA9IGF3YWl0IGNvbnZlcnRWYWx1ZVRvQ29vcmRzKHN0YXRlLCBvcHRpb25zKTtcblxuICAgICAgLy8gSWYgdGhlIHBsYWNlbWVudCBpcyB0aGUgc2FtZSBhbmQgdGhlIGFycm93IGNhdXNlZCBhbiBhbGlnbm1lbnQgb2Zmc2V0XG4gICAgICAvLyB0aGVuIHdlIGRvbid0IG5lZWQgdG8gY2hhbmdlIHRoZSBwb3NpdGlvbmluZyBjb29yZGluYXRlcy5cbiAgICAgIGlmIChwbGFjZW1lbnQgPT09ICgoX21pZGRsZXdhcmVEYXRhJG9mZnNlID0gbWlkZGxld2FyZURhdGEub2Zmc2V0KSA9PSBudWxsID8gdm9pZCAwIDogX21pZGRsZXdhcmVEYXRhJG9mZnNlLnBsYWNlbWVudCkgJiYgKF9taWRkbGV3YXJlRGF0YSRhcnJvdyA9IG1pZGRsZXdhcmVEYXRhLmFycm93KSAhPSBudWxsICYmIF9taWRkbGV3YXJlRGF0YSRhcnJvdy5hbGlnbm1lbnRPZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCArIGRpZmZDb29yZHMueCxcbiAgICAgICAgeTogeSArIGRpZmZDb29yZHMueSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIC4uLmRpZmZDb29yZHMsXG4gICAgICAgICAgcGxhY2VtZW50XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgc2hpZnRpbmcgaXQgaW4gb3JkZXIgdG9cbiAqIGtlZXAgaXQgaW4gdmlldyB3aGVuIGl0IHdpbGwgb3ZlcmZsb3cgdGhlIGNsaXBwaW5nIGJvdW5kYXJ5LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL3NoaWZ0XG4gKi9cbmNvbnN0IHNoaWZ0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdzaGlmdCcsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICBwbGFjZW1lbnRcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbWFpbkF4aXM6IGNoZWNrTWFpbkF4aXMgPSB0cnVlLFxuICAgICAgICBjcm9zc0F4aXM6IGNoZWNrQ3Jvc3NBeGlzID0gZmFsc2UsXG4gICAgICAgIGxpbWl0ZXIgPSB7XG4gICAgICAgICAgZm46IF9yZWYgPT4ge1xuICAgICAgICAgICAgbGV0IHtcbiAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgeVxuICAgICAgICAgICAgfSA9IF9yZWY7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB4LFxuICAgICAgICAgICAgICB5XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zXG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICAgICAgY29uc3QgY29vcmRzID0ge1xuICAgICAgICB4LFxuICAgICAgICB5XG4gICAgICB9O1xuICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwgZGV0ZWN0T3ZlcmZsb3dPcHRpb25zKTtcbiAgICAgIGNvbnN0IGNyb3NzQXhpcyA9IGdldFNpZGVBeGlzKGdldFNpZGUocGxhY2VtZW50KSk7XG4gICAgICBjb25zdCBtYWluQXhpcyA9IGdldE9wcG9zaXRlQXhpcyhjcm9zc0F4aXMpO1xuICAgICAgbGV0IG1haW5BeGlzQ29vcmQgPSBjb29yZHNbbWFpbkF4aXNdO1xuICAgICAgbGV0IGNyb3NzQXhpc0Nvb3JkID0gY29vcmRzW2Nyb3NzQXhpc107XG4gICAgICBpZiAoY2hlY2tNYWluQXhpcykge1xuICAgICAgICBjb25zdCBtaW5TaWRlID0gbWFpbkF4aXMgPT09ICd5JyA/ICd0b3AnIDogJ2xlZnQnO1xuICAgICAgICBjb25zdCBtYXhTaWRlID0gbWFpbkF4aXMgPT09ICd5JyA/ICdib3R0b20nIDogJ3JpZ2h0JztcbiAgICAgICAgY29uc3QgbWluID0gbWFpbkF4aXNDb29yZCArIG92ZXJmbG93W21pblNpZGVdO1xuICAgICAgICBjb25zdCBtYXggPSBtYWluQXhpc0Nvb3JkIC0gb3ZlcmZsb3dbbWF4U2lkZV07XG4gICAgICAgIG1haW5BeGlzQ29vcmQgPSBjbGFtcChtaW4sIG1haW5BeGlzQ29vcmQsIG1heCk7XG4gICAgICB9XG4gICAgICBpZiAoY2hlY2tDcm9zc0F4aXMpIHtcbiAgICAgICAgY29uc3QgbWluU2lkZSA9IGNyb3NzQXhpcyA9PT0gJ3knID8gJ3RvcCcgOiAnbGVmdCc7XG4gICAgICAgIGNvbnN0IG1heFNpZGUgPSBjcm9zc0F4aXMgPT09ICd5JyA/ICdib3R0b20nIDogJ3JpZ2h0JztcbiAgICAgICAgY29uc3QgbWluID0gY3Jvc3NBeGlzQ29vcmQgKyBvdmVyZmxvd1ttaW5TaWRlXTtcbiAgICAgICAgY29uc3QgbWF4ID0gY3Jvc3NBeGlzQ29vcmQgLSBvdmVyZmxvd1ttYXhTaWRlXTtcbiAgICAgICAgY3Jvc3NBeGlzQ29vcmQgPSBjbGFtcChtaW4sIGNyb3NzQXhpc0Nvb3JkLCBtYXgpO1xuICAgICAgfVxuICAgICAgY29uc3QgbGltaXRlZENvb3JkcyA9IGxpbWl0ZXIuZm4oe1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgW21haW5BeGlzXTogbWFpbkF4aXNDb29yZCxcbiAgICAgICAgW2Nyb3NzQXhpc106IGNyb3NzQXhpc0Nvb3JkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmxpbWl0ZWRDb29yZHMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB4OiBsaW1pdGVkQ29vcmRzLnggLSB4LFxuICAgICAgICAgIHk6IGxpbWl0ZWRDb29yZHMueSAtIHlcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuLyoqXG4gKiBCdWlsdC1pbiBgbGltaXRlcmAgdGhhdCB3aWxsIHN0b3AgYHNoaWZ0KClgIGF0IGEgY2VydGFpbiBwb2ludC5cbiAqL1xuY29uc3QgbGltaXRTaGlmdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBvcHRpb25zLFxuICAgIGZuKHN0YXRlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgcmVjdHMsXG4gICAgICAgIG1pZGRsZXdhcmVEYXRhXG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG9mZnNldCA9IDAsXG4gICAgICAgIG1haW5BeGlzOiBjaGVja01haW5BeGlzID0gdHJ1ZSxcbiAgICAgICAgY3Jvc3NBeGlzOiBjaGVja0Nyb3NzQXhpcyA9IHRydWVcbiAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gICAgICBjb25zdCBjb29yZHMgPSB7XG4gICAgICAgIHgsXG4gICAgICAgIHlcbiAgICAgIH07XG4gICAgICBjb25zdCBjcm9zc0F4aXMgPSBnZXRTaWRlQXhpcyhwbGFjZW1lbnQpO1xuICAgICAgY29uc3QgbWFpbkF4aXMgPSBnZXRPcHBvc2l0ZUF4aXMoY3Jvc3NBeGlzKTtcbiAgICAgIGxldCBtYWluQXhpc0Nvb3JkID0gY29vcmRzW21haW5BeGlzXTtcbiAgICAgIGxldCBjcm9zc0F4aXNDb29yZCA9IGNvb3Jkc1tjcm9zc0F4aXNdO1xuICAgICAgY29uc3QgcmF3T2Zmc2V0ID0gZXZhbHVhdGUob2Zmc2V0LCBzdGF0ZSk7XG4gICAgICBjb25zdCBjb21wdXRlZE9mZnNldCA9IHR5cGVvZiByYXdPZmZzZXQgPT09ICdudW1iZXInID8ge1xuICAgICAgICBtYWluQXhpczogcmF3T2Zmc2V0LFxuICAgICAgICBjcm9zc0F4aXM6IDBcbiAgICAgIH0gOiB7XG4gICAgICAgIG1haW5BeGlzOiAwLFxuICAgICAgICBjcm9zc0F4aXM6IDAsXG4gICAgICAgIC4uLnJhd09mZnNldFxuICAgICAgfTtcbiAgICAgIGlmIChjaGVja01haW5BeGlzKSB7XG4gICAgICAgIGNvbnN0IGxlbiA9IG1haW5BeGlzID09PSAneScgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gICAgICAgIGNvbnN0IGxpbWl0TWluID0gcmVjdHMucmVmZXJlbmNlW21haW5BeGlzXSAtIHJlY3RzLmZsb2F0aW5nW2xlbl0gKyBjb21wdXRlZE9mZnNldC5tYWluQXhpcztcbiAgICAgICAgY29uc3QgbGltaXRNYXggPSByZWN0cy5yZWZlcmVuY2VbbWFpbkF4aXNdICsgcmVjdHMucmVmZXJlbmNlW2xlbl0gLSBjb21wdXRlZE9mZnNldC5tYWluQXhpcztcbiAgICAgICAgaWYgKG1haW5BeGlzQ29vcmQgPCBsaW1pdE1pbikge1xuICAgICAgICAgIG1haW5BeGlzQ29vcmQgPSBsaW1pdE1pbjtcbiAgICAgICAgfSBlbHNlIGlmIChtYWluQXhpc0Nvb3JkID4gbGltaXRNYXgpIHtcbiAgICAgICAgICBtYWluQXhpc0Nvb3JkID0gbGltaXRNYXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjaGVja0Nyb3NzQXhpcykge1xuICAgICAgICB2YXIgX21pZGRsZXdhcmVEYXRhJG9mZnNlLCBfbWlkZGxld2FyZURhdGEkb2Zmc2UyO1xuICAgICAgICBjb25zdCBsZW4gPSBtYWluQXhpcyA9PT0gJ3knID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuICAgICAgICBjb25zdCBpc09yaWdpblNpZGUgPSBbJ3RvcCcsICdsZWZ0J10uaW5jbHVkZXMoZ2V0U2lkZShwbGFjZW1lbnQpKTtcbiAgICAgICAgY29uc3QgbGltaXRNaW4gPSByZWN0cy5yZWZlcmVuY2VbY3Jvc3NBeGlzXSAtIHJlY3RzLmZsb2F0aW5nW2xlbl0gKyAoaXNPcmlnaW5TaWRlID8gKChfbWlkZGxld2FyZURhdGEkb2Zmc2UgPSBtaWRkbGV3YXJlRGF0YS5vZmZzZXQpID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkb2Zmc2VbY3Jvc3NBeGlzXSkgfHwgMCA6IDApICsgKGlzT3JpZ2luU2lkZSA/IDAgOiBjb21wdXRlZE9mZnNldC5jcm9zc0F4aXMpO1xuICAgICAgICBjb25zdCBsaW1pdE1heCA9IHJlY3RzLnJlZmVyZW5jZVtjcm9zc0F4aXNdICsgcmVjdHMucmVmZXJlbmNlW2xlbl0gKyAoaXNPcmlnaW5TaWRlID8gMCA6ICgoX21pZGRsZXdhcmVEYXRhJG9mZnNlMiA9IG1pZGRsZXdhcmVEYXRhLm9mZnNldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRvZmZzZTJbY3Jvc3NBeGlzXSkgfHwgMCkgLSAoaXNPcmlnaW5TaWRlID8gY29tcHV0ZWRPZmZzZXQuY3Jvc3NBeGlzIDogMCk7XG4gICAgICAgIGlmIChjcm9zc0F4aXNDb29yZCA8IGxpbWl0TWluKSB7XG4gICAgICAgICAgY3Jvc3NBeGlzQ29vcmQgPSBsaW1pdE1pbjtcbiAgICAgICAgfSBlbHNlIGlmIChjcm9zc0F4aXNDb29yZCA+IGxpbWl0TWF4KSB7XG4gICAgICAgICAgY3Jvc3NBeGlzQ29vcmQgPSBsaW1pdE1heDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgW21haW5BeGlzXTogbWFpbkF4aXNDb29yZCxcbiAgICAgICAgW2Nyb3NzQXhpc106IGNyb3NzQXhpc0Nvb3JkXG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0aGF0IGFsbG93cyB5b3UgdG8gY2hhbmdlIHRoZSBzaXplIG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IFx1MjAxNFxuICogZm9yIGluc3RhbmNlLCBwcmV2ZW50IGl0IGZyb20gb3ZlcmZsb3dpbmcgdGhlIGNsaXBwaW5nIGJvdW5kYXJ5IG9yIG1hdGNoIHRoZVxuICogd2lkdGggb2YgdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL3NpemVcbiAqL1xuY29uc3Qgc2l6ZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnc2l6ZScsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIHJlY3RzLFxuICAgICAgICBwbGF0Zm9ybSxcbiAgICAgICAgZWxlbWVudHNcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgYXBwbHkgPSAoKSA9PiB7fSxcbiAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zXG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwgZGV0ZWN0T3ZlcmZsb3dPcHRpb25zKTtcbiAgICAgIGNvbnN0IHNpZGUgPSBnZXRTaWRlKHBsYWNlbWVudCk7XG4gICAgICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQocGxhY2VtZW50KTtcbiAgICAgIGNvbnN0IGlzWUF4aXMgPSBnZXRTaWRlQXhpcyhwbGFjZW1lbnQpID09PSAneSc7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHRcbiAgICAgIH0gPSByZWN0cy5mbG9hdGluZztcbiAgICAgIGxldCBoZWlnaHRTaWRlO1xuICAgICAgbGV0IHdpZHRoU2lkZTtcbiAgICAgIGlmIChzaWRlID09PSAndG9wJyB8fCBzaWRlID09PSAnYm90dG9tJykge1xuICAgICAgICBoZWlnaHRTaWRlID0gc2lkZTtcbiAgICAgICAgd2lkdGhTaWRlID0gYWxpZ25tZW50ID09PSAoKGF3YWl0IChwbGF0Zm9ybS5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uaXNSVEwoZWxlbWVudHMuZmxvYXRpbmcpKSkgPyAnc3RhcnQnIDogJ2VuZCcpID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpZHRoU2lkZSA9IHNpZGU7XG4gICAgICAgIGhlaWdodFNpZGUgPSBhbGlnbm1lbnQgPT09ICdlbmQnID8gJ3RvcCcgOiAnYm90dG9tJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1heGltdW1DbGlwcGluZ0hlaWdodCA9IGhlaWdodCAtIG92ZXJmbG93LnRvcCAtIG92ZXJmbG93LmJvdHRvbTtcbiAgICAgIGNvbnN0IG1heGltdW1DbGlwcGluZ1dpZHRoID0gd2lkdGggLSBvdmVyZmxvdy5sZWZ0IC0gb3ZlcmZsb3cucmlnaHQ7XG4gICAgICBjb25zdCBvdmVyZmxvd0F2YWlsYWJsZUhlaWdodCA9IG1pbihoZWlnaHQgLSBvdmVyZmxvd1toZWlnaHRTaWRlXSwgbWF4aW11bUNsaXBwaW5nSGVpZ2h0KTtcbiAgICAgIGNvbnN0IG92ZXJmbG93QXZhaWxhYmxlV2lkdGggPSBtaW4od2lkdGggLSBvdmVyZmxvd1t3aWR0aFNpZGVdLCBtYXhpbXVtQ2xpcHBpbmdXaWR0aCk7XG4gICAgICBjb25zdCBub1NoaWZ0ID0gIXN0YXRlLm1pZGRsZXdhcmVEYXRhLnNoaWZ0O1xuICAgICAgbGV0IGF2YWlsYWJsZUhlaWdodCA9IG92ZXJmbG93QXZhaWxhYmxlSGVpZ2h0O1xuICAgICAgbGV0IGF2YWlsYWJsZVdpZHRoID0gb3ZlcmZsb3dBdmFpbGFibGVXaWR0aDtcbiAgICAgIGlmIChpc1lBeGlzKSB7XG4gICAgICAgIGF2YWlsYWJsZVdpZHRoID0gYWxpZ25tZW50IHx8IG5vU2hpZnQgPyBtaW4ob3ZlcmZsb3dBdmFpbGFibGVXaWR0aCwgbWF4aW11bUNsaXBwaW5nV2lkdGgpIDogbWF4aW11bUNsaXBwaW5nV2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhdmFpbGFibGVIZWlnaHQgPSBhbGlnbm1lbnQgfHwgbm9TaGlmdCA/IG1pbihvdmVyZmxvd0F2YWlsYWJsZUhlaWdodCwgbWF4aW11bUNsaXBwaW5nSGVpZ2h0KSA6IG1heGltdW1DbGlwcGluZ0hlaWdodDtcbiAgICAgIH1cbiAgICAgIGlmIChub1NoaWZ0ICYmICFhbGlnbm1lbnQpIHtcbiAgICAgICAgY29uc3QgeE1pbiA9IG1heChvdmVyZmxvdy5sZWZ0LCAwKTtcbiAgICAgICAgY29uc3QgeE1heCA9IG1heChvdmVyZmxvdy5yaWdodCwgMCk7XG4gICAgICAgIGNvbnN0IHlNaW4gPSBtYXgob3ZlcmZsb3cudG9wLCAwKTtcbiAgICAgICAgY29uc3QgeU1heCA9IG1heChvdmVyZmxvdy5ib3R0b20sIDApO1xuICAgICAgICBpZiAoaXNZQXhpcykge1xuICAgICAgICAgIGF2YWlsYWJsZVdpZHRoID0gd2lkdGggLSAyICogKHhNaW4gIT09IDAgfHwgeE1heCAhPT0gMCA/IHhNaW4gKyB4TWF4IDogbWF4KG92ZXJmbG93LmxlZnQsIG92ZXJmbG93LnJpZ2h0KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXZhaWxhYmxlSGVpZ2h0ID0gaGVpZ2h0IC0gMiAqICh5TWluICE9PSAwIHx8IHlNYXggIT09IDAgPyB5TWluICsgeU1heCA6IG1heChvdmVyZmxvdy50b3AsIG92ZXJmbG93LmJvdHRvbSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhd2FpdCBhcHBseSh7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBhdmFpbGFibGVXaWR0aCxcbiAgICAgICAgYXZhaWxhYmxlSGVpZ2h0XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG5leHREaW1lbnNpb25zID0gYXdhaXQgcGxhdGZvcm0uZ2V0RGltZW5zaW9ucyhlbGVtZW50cy5mbG9hdGluZyk7XG4gICAgICBpZiAod2lkdGggIT09IG5leHREaW1lbnNpb25zLndpZHRoIHx8IGhlaWdodCAhPT0gbmV4dERpbWVuc2lvbnMuaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICAgIHJlY3RzOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfTtcbn07XG5cbmV4cG9ydCB7IGFycm93LCBhdXRvUGxhY2VtZW50LCBjb21wdXRlUG9zaXRpb24sIGRldGVjdE92ZXJmbG93LCBmbGlwLCBoaWRlLCBpbmxpbmUsIGxpbWl0U2hpZnQsIG9mZnNldCwgc2hpZnQsIHNpemUgfTtcbiIsICJmdW5jdGlvbiBnZXROb2RlTmFtZShub2RlKSB7XG4gIGlmIChpc05vZGUobm9kZSkpIHtcbiAgICByZXR1cm4gKG5vZGUubm9kZU5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gIH1cbiAgLy8gTW9ja2VkIG5vZGVzIGluIHRlc3RpbmcgZW52aXJvbm1lbnRzIG1heSBub3QgYmUgaW5zdGFuY2VzIG9mIE5vZGUuIEJ5XG4gIC8vIHJldHVybmluZyBgI2RvY3VtZW50YCBhbiBpbmZpbml0ZSBsb29wIHdvbid0IG9jY3VyLlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmxvYXRpbmctdWkvZmxvYXRpbmctdWkvaXNzdWVzLzIzMTdcbiAgcmV0dXJuICcjZG9jdW1lbnQnO1xufVxuZnVuY3Rpb24gZ2V0V2luZG93KG5vZGUpIHtcbiAgdmFyIF9ub2RlJG93bmVyRG9jdW1lbnQ7XG4gIHJldHVybiAobm9kZSA9PSBudWxsIHx8IChfbm9kZSRvd25lckRvY3VtZW50ID0gbm9kZS5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX25vZGUkb3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykgfHwgd2luZG93O1xufVxuZnVuY3Rpb24gZ2V0RG9jdW1lbnRFbGVtZW50KG5vZGUpIHtcbiAgdmFyIF9yZWY7XG4gIHJldHVybiAoX3JlZiA9IChpc05vZGUobm9kZSkgPyBub2RlLm93bmVyRG9jdW1lbnQgOiBub2RlLmRvY3VtZW50KSB8fCB3aW5kb3cuZG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfcmVmLmRvY3VtZW50RWxlbWVudDtcbn1cbmZ1bmN0aW9uIGlzTm9kZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBOb2RlIHx8IHZhbHVlIGluc3RhbmNlb2YgZ2V0V2luZG93KHZhbHVlKS5Ob2RlO1xufVxuZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgdmFsdWUgaW5zdGFuY2VvZiBnZXRXaW5kb3codmFsdWUpLkVsZW1lbnQ7XG59XG5mdW5jdGlvbiBpc0hUTUxFbGVtZW50KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8IHZhbHVlIGluc3RhbmNlb2YgZ2V0V2luZG93KHZhbHVlKS5IVE1MRWxlbWVudDtcbn1cbmZ1bmN0aW9uIGlzU2hhZG93Um9vdCh2YWx1ZSkge1xuICAvLyBCcm93c2VycyB3aXRob3V0IGBTaGFkb3dSb290YCBzdXBwb3J0LlxuICBpZiAodHlwZW9mIFNoYWRvd1Jvb3QgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QgfHwgdmFsdWUgaW5zdGFuY2VvZiBnZXRXaW5kb3codmFsdWUpLlNoYWRvd1Jvb3Q7XG59XG5mdW5jdGlvbiBpc092ZXJmbG93RWxlbWVudChlbGVtZW50KSB7XG4gIGNvbnN0IHtcbiAgICBvdmVyZmxvdyxcbiAgICBvdmVyZmxvd1gsXG4gICAgb3ZlcmZsb3dZLFxuICAgIGRpc3BsYXlcbiAgfSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gIHJldHVybiAvYXV0b3xzY3JvbGx8b3ZlcmxheXxoaWRkZW58Y2xpcC8udGVzdChvdmVyZmxvdyArIG92ZXJmbG93WSArIG92ZXJmbG93WCkgJiYgIVsnaW5saW5lJywgJ2NvbnRlbnRzJ10uaW5jbHVkZXMoZGlzcGxheSk7XG59XG5mdW5jdGlvbiBpc1RhYmxlRWxlbWVudChlbGVtZW50KSB7XG4gIHJldHVybiBbJ3RhYmxlJywgJ3RkJywgJ3RoJ10uaW5jbHVkZXMoZ2V0Tm9kZU5hbWUoZWxlbWVudCkpO1xufVxuZnVuY3Rpb24gaXNUb3BMYXllcihlbGVtZW50KSB7XG4gIHJldHVybiBbJzpwb3BvdmVyLW9wZW4nLCAnOm1vZGFsJ10uc29tZShzZWxlY3RvciA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBlbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gaXNDb250YWluaW5nQmxvY2soZWxlbWVudCkge1xuICBjb25zdCB3ZWJraXQgPSBpc1dlYktpdCgpO1xuICBjb25zdCBjc3MgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9Db250YWluaW5nX2Jsb2NrI2lkZW50aWZ5aW5nX3RoZV9jb250YWluaW5nX2Jsb2NrXG4gIHJldHVybiBjc3MudHJhbnNmb3JtICE9PSAnbm9uZScgfHwgY3NzLnBlcnNwZWN0aXZlICE9PSAnbm9uZScgfHwgKGNzcy5jb250YWluZXJUeXBlID8gY3NzLmNvbnRhaW5lclR5cGUgIT09ICdub3JtYWwnIDogZmFsc2UpIHx8ICF3ZWJraXQgJiYgKGNzcy5iYWNrZHJvcEZpbHRlciA/IGNzcy5iYWNrZHJvcEZpbHRlciAhPT0gJ25vbmUnIDogZmFsc2UpIHx8ICF3ZWJraXQgJiYgKGNzcy5maWx0ZXIgPyBjc3MuZmlsdGVyICE9PSAnbm9uZScgOiBmYWxzZSkgfHwgWyd0cmFuc2Zvcm0nLCAncGVyc3BlY3RpdmUnLCAnZmlsdGVyJ10uc29tZSh2YWx1ZSA9PiAoY3NzLndpbGxDaGFuZ2UgfHwgJycpLmluY2x1ZGVzKHZhbHVlKSkgfHwgWydwYWludCcsICdsYXlvdXQnLCAnc3RyaWN0JywgJ2NvbnRlbnQnXS5zb21lKHZhbHVlID0+IChjc3MuY29udGFpbiB8fCAnJykuaW5jbHVkZXModmFsdWUpKTtcbn1cbmZ1bmN0aW9uIGdldENvbnRhaW5pbmdCbG9jayhlbGVtZW50KSB7XG4gIGxldCBjdXJyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUoZWxlbWVudCk7XG4gIHdoaWxlIChpc0hUTUxFbGVtZW50KGN1cnJlbnROb2RlKSAmJiAhaXNMYXN0VHJhdmVyc2FibGVOb2RlKGN1cnJlbnROb2RlKSkge1xuICAgIGlmIChpc1RvcExheWVyKGN1cnJlbnROb2RlKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChpc0NvbnRhaW5pbmdCbG9jayhjdXJyZW50Tm9kZSkpIHtcbiAgICAgIHJldHVybiBjdXJyZW50Tm9kZTtcbiAgICB9XG4gICAgY3VycmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKGN1cnJlbnROb2RlKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzV2ViS2l0KCkge1xuICBpZiAodHlwZW9mIENTUyA9PT0gJ3VuZGVmaW5lZCcgfHwgIUNTUy5zdXBwb3J0cykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gQ1NTLnN1cHBvcnRzKCctd2Via2l0LWJhY2tkcm9wLWZpbHRlcicsICdub25lJyk7XG59XG5mdW5jdGlvbiBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUobm9kZSkge1xuICByZXR1cm4gWydodG1sJywgJ2JvZHknLCAnI2RvY3VtZW50J10uaW5jbHVkZXMoZ2V0Tm9kZU5hbWUobm9kZSkpO1xufVxuZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSB7XG4gIHJldHVybiBnZXRXaW5kb3coZWxlbWVudCkuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbn1cbmZ1bmN0aW9uIGdldE5vZGVTY3JvbGwoZWxlbWVudCkge1xuICBpZiAoaXNFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNjcm9sbExlZnQ6IGVsZW1lbnQuc2Nyb2xsTGVmdCxcbiAgICAgIHNjcm9sbFRvcDogZWxlbWVudC5zY3JvbGxUb3BcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgc2Nyb2xsTGVmdDogZWxlbWVudC5zY3JvbGxYLFxuICAgIHNjcm9sbFRvcDogZWxlbWVudC5zY3JvbGxZXG4gIH07XG59XG5mdW5jdGlvbiBnZXRQYXJlbnROb2RlKG5vZGUpIHtcbiAgaWYgKGdldE5vZGVOYW1lKG5vZGUpID09PSAnaHRtbCcpIHtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICBjb25zdCByZXN1bHQgPVxuICAvLyBTdGVwIGludG8gdGhlIHNoYWRvdyBET00gb2YgdGhlIHBhcmVudCBvZiBhIHNsb3R0ZWQgbm9kZS5cbiAgbm9kZS5hc3NpZ25lZFNsb3QgfHxcbiAgLy8gRE9NIEVsZW1lbnQgZGV0ZWN0ZWQuXG4gIG5vZGUucGFyZW50Tm9kZSB8fFxuICAvLyBTaGFkb3dSb290IGRldGVjdGVkLlxuICBpc1NoYWRvd1Jvb3Qobm9kZSkgJiYgbm9kZS5ob3N0IHx8XG4gIC8vIEZhbGxiYWNrLlxuICBnZXREb2N1bWVudEVsZW1lbnQobm9kZSk7XG4gIHJldHVybiBpc1NoYWRvd1Jvb3QocmVzdWx0KSA/IHJlc3VsdC5ob3N0IDogcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0TmVhcmVzdE92ZXJmbG93QW5jZXN0b3Iobm9kZSkge1xuICBjb25zdCBwYXJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShub2RlKTtcbiAgaWYgKGlzTGFzdFRyYXZlcnNhYmxlTm9kZShwYXJlbnROb2RlKSkge1xuICAgIHJldHVybiBub2RlLm93bmVyRG9jdW1lbnQgPyBub2RlLm93bmVyRG9jdW1lbnQuYm9keSA6IG5vZGUuYm9keTtcbiAgfVxuICBpZiAoaXNIVE1MRWxlbWVudChwYXJlbnROb2RlKSAmJiBpc092ZXJmbG93RWxlbWVudChwYXJlbnROb2RlKSkge1xuICAgIHJldHVybiBwYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBnZXROZWFyZXN0T3ZlcmZsb3dBbmNlc3RvcihwYXJlbnROb2RlKTtcbn1cbmZ1bmN0aW9uIGdldE92ZXJmbG93QW5jZXN0b3JzKG5vZGUsIGxpc3QsIHRyYXZlcnNlSWZyYW1lcykge1xuICB2YXIgX25vZGUkb3duZXJEb2N1bWVudDI7XG4gIGlmIChsaXN0ID09PSB2b2lkIDApIHtcbiAgICBsaXN0ID0gW107XG4gIH1cbiAgaWYgKHRyYXZlcnNlSWZyYW1lcyA9PT0gdm9pZCAwKSB7XG4gICAgdHJhdmVyc2VJZnJhbWVzID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBzY3JvbGxhYmxlQW5jZXN0b3IgPSBnZXROZWFyZXN0T3ZlcmZsb3dBbmNlc3Rvcihub2RlKTtcbiAgY29uc3QgaXNCb2R5ID0gc2Nyb2xsYWJsZUFuY2VzdG9yID09PSAoKF9ub2RlJG93bmVyRG9jdW1lbnQyID0gbm9kZS5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX25vZGUkb3duZXJEb2N1bWVudDIuYm9keSk7XG4gIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhzY3JvbGxhYmxlQW5jZXN0b3IpO1xuICBpZiAoaXNCb2R5KSB7XG4gICAgcmV0dXJuIGxpc3QuY29uY2F0KHdpbiwgd2luLnZpc3VhbFZpZXdwb3J0IHx8IFtdLCBpc092ZXJmbG93RWxlbWVudChzY3JvbGxhYmxlQW5jZXN0b3IpID8gc2Nyb2xsYWJsZUFuY2VzdG9yIDogW10sIHdpbi5mcmFtZUVsZW1lbnQgJiYgdHJhdmVyc2VJZnJhbWVzID8gZ2V0T3ZlcmZsb3dBbmNlc3RvcnMod2luLmZyYW1lRWxlbWVudCkgOiBbXSk7XG4gIH1cbiAgcmV0dXJuIGxpc3QuY29uY2F0KHNjcm9sbGFibGVBbmNlc3RvciwgZ2V0T3ZlcmZsb3dBbmNlc3RvcnMoc2Nyb2xsYWJsZUFuY2VzdG9yLCBbXSwgdHJhdmVyc2VJZnJhbWVzKSk7XG59XG5cbmV4cG9ydCB7IGdldENvbXB1dGVkU3R5bGUsIGdldENvbnRhaW5pbmdCbG9jaywgZ2V0RG9jdW1lbnRFbGVtZW50LCBnZXROZWFyZXN0T3ZlcmZsb3dBbmNlc3RvciwgZ2V0Tm9kZU5hbWUsIGdldE5vZGVTY3JvbGwsIGdldE92ZXJmbG93QW5jZXN0b3JzLCBnZXRQYXJlbnROb2RlLCBnZXRXaW5kb3csIGlzQ29udGFpbmluZ0Jsb2NrLCBpc0VsZW1lbnQsIGlzSFRNTEVsZW1lbnQsIGlzTGFzdFRyYXZlcnNhYmxlTm9kZSwgaXNOb2RlLCBpc092ZXJmbG93RWxlbWVudCwgaXNTaGFkb3dSb290LCBpc1RhYmxlRWxlbWVudCwgaXNUb3BMYXllciwgaXNXZWJLaXQgfTtcbiIsICJpbXBvcnQgeyByZWN0VG9DbGllbnRSZWN0LCBkZXRlY3RPdmVyZmxvdyBhcyBkZXRlY3RPdmVyZmxvdyQxLCBvZmZzZXQgYXMgb2Zmc2V0JDEsIGF1dG9QbGFjZW1lbnQgYXMgYXV0b1BsYWNlbWVudCQxLCBzaGlmdCBhcyBzaGlmdCQxLCBmbGlwIGFzIGZsaXAkMSwgc2l6ZSBhcyBzaXplJDEsIGhpZGUgYXMgaGlkZSQxLCBhcnJvdyBhcyBhcnJvdyQxLCBpbmxpbmUgYXMgaW5saW5lJDEsIGxpbWl0U2hpZnQgYXMgbGltaXRTaGlmdCQxLCBjb21wdXRlUG9zaXRpb24gYXMgY29tcHV0ZVBvc2l0aW9uJDEgfSBmcm9tICdAZmxvYXRpbmctdWkvY29yZSc7XG5pbXBvcnQgeyByb3VuZCwgY3JlYXRlQ29vcmRzLCBtYXgsIG1pbiwgZmxvb3IgfSBmcm9tICdAZmxvYXRpbmctdWkvdXRpbHMnO1xuaW1wb3J0IHsgZ2V0Q29tcHV0ZWRTdHlsZSwgaXNIVE1MRWxlbWVudCwgaXNFbGVtZW50LCBnZXRXaW5kb3csIGlzV2ViS2l0LCBnZXREb2N1bWVudEVsZW1lbnQsIGlzVG9wTGF5ZXIsIGdldE5vZGVOYW1lLCBpc092ZXJmbG93RWxlbWVudCwgZ2V0Tm9kZVNjcm9sbCwgZ2V0T3ZlcmZsb3dBbmNlc3RvcnMsIGdldFBhcmVudE5vZGUsIGlzTGFzdFRyYXZlcnNhYmxlTm9kZSwgaXNDb250YWluaW5nQmxvY2ssIGlzVGFibGVFbGVtZW50LCBnZXRDb250YWluaW5nQmxvY2sgfSBmcm9tICdAZmxvYXRpbmctdWkvdXRpbHMvZG9tJztcbmV4cG9ydCB7IGdldE92ZXJmbG93QW5jZXN0b3JzIH0gZnJvbSAnQGZsb2F0aW5nLXVpL3V0aWxzL2RvbSc7XG5cbmZ1bmN0aW9uIGdldENzc0RpbWVuc2lvbnMoZWxlbWVudCkge1xuICBjb25zdCBjc3MgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAvLyBJbiB0ZXN0aW5nIGVudmlyb25tZW50cywgdGhlIGB3aWR0aGAgYW5kIGBoZWlnaHRgIHByb3BlcnRpZXMgYXJlIGVtcHR5XG4gIC8vIHN0cmluZ3MgZm9yIFNWRyBlbGVtZW50cywgcmV0dXJuaW5nIE5hTi4gRmFsbGJhY2sgdG8gYDBgIGluIHRoaXMgY2FzZS5cbiAgbGV0IHdpZHRoID0gcGFyc2VGbG9hdChjc3Mud2lkdGgpIHx8IDA7XG4gIGxldCBoZWlnaHQgPSBwYXJzZUZsb2F0KGNzcy5oZWlnaHQpIHx8IDA7XG4gIGNvbnN0IGhhc09mZnNldCA9IGlzSFRNTEVsZW1lbnQoZWxlbWVudCk7XG4gIGNvbnN0IG9mZnNldFdpZHRoID0gaGFzT2Zmc2V0ID8gZWxlbWVudC5vZmZzZXRXaWR0aCA6IHdpZHRoO1xuICBjb25zdCBvZmZzZXRIZWlnaHQgPSBoYXNPZmZzZXQgPyBlbGVtZW50Lm9mZnNldEhlaWdodCA6IGhlaWdodDtcbiAgY29uc3Qgc2hvdWxkRmFsbGJhY2sgPSByb3VuZCh3aWR0aCkgIT09IG9mZnNldFdpZHRoIHx8IHJvdW5kKGhlaWdodCkgIT09IG9mZnNldEhlaWdodDtcbiAgaWYgKHNob3VsZEZhbGxiYWNrKSB7XG4gICAgd2lkdGggPSBvZmZzZXRXaWR0aDtcbiAgICBoZWlnaHQgPSBvZmZzZXRIZWlnaHQ7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgJDogc2hvdWxkRmFsbGJhY2tcbiAgfTtcbn1cblxuZnVuY3Rpb24gdW53cmFwRWxlbWVudChlbGVtZW50KSB7XG4gIHJldHVybiAhaXNFbGVtZW50KGVsZW1lbnQpID8gZWxlbWVudC5jb250ZXh0RWxlbWVudCA6IGVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGdldFNjYWxlKGVsZW1lbnQpIHtcbiAgY29uc3QgZG9tRWxlbWVudCA9IHVud3JhcEVsZW1lbnQoZWxlbWVudCk7XG4gIGlmICghaXNIVE1MRWxlbWVudChkb21FbGVtZW50KSkge1xuICAgIHJldHVybiBjcmVhdGVDb29yZHMoMSk7XG4gIH1cbiAgY29uc3QgcmVjdCA9IGRvbUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgJFxuICB9ID0gZ2V0Q3NzRGltZW5zaW9ucyhkb21FbGVtZW50KTtcbiAgbGV0IHggPSAoJCA/IHJvdW5kKHJlY3Qud2lkdGgpIDogcmVjdC53aWR0aCkgLyB3aWR0aDtcbiAgbGV0IHkgPSAoJCA/IHJvdW5kKHJlY3QuaGVpZ2h0KSA6IHJlY3QuaGVpZ2h0KSAvIGhlaWdodDtcblxuICAvLyAwLCBOYU4sIG9yIEluZmluaXR5IHNob3VsZCBhbHdheXMgZmFsbGJhY2sgdG8gMS5cblxuICBpZiAoIXggfHwgIU51bWJlci5pc0Zpbml0ZSh4KSkge1xuICAgIHggPSAxO1xuICB9XG4gIGlmICgheSB8fCAhTnVtYmVyLmlzRmluaXRlKHkpKSB7XG4gICAgeSA9IDE7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB4LFxuICAgIHlcbiAgfTtcbn1cblxuY29uc3Qgbm9PZmZzZXRzID0gLyojX19QVVJFX18qL2NyZWF0ZUNvb3JkcygwKTtcbmZ1bmN0aW9uIGdldFZpc3VhbE9mZnNldHMoZWxlbWVudCkge1xuICBjb25zdCB3aW4gPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gIGlmICghaXNXZWJLaXQoKSB8fCAhd2luLnZpc3VhbFZpZXdwb3J0KSB7XG4gICAgcmV0dXJuIG5vT2Zmc2V0cztcbiAgfVxuICByZXR1cm4ge1xuICAgIHg6IHdpbi52aXN1YWxWaWV3cG9ydC5vZmZzZXRMZWZ0LFxuICAgIHk6IHdpbi52aXN1YWxWaWV3cG9ydC5vZmZzZXRUb3BcbiAgfTtcbn1cbmZ1bmN0aW9uIHNob3VsZEFkZFZpc3VhbE9mZnNldHMoZWxlbWVudCwgaXNGaXhlZCwgZmxvYXRpbmdPZmZzZXRQYXJlbnQpIHtcbiAgaWYgKGlzRml4ZWQgPT09IHZvaWQgMCkge1xuICAgIGlzRml4ZWQgPSBmYWxzZTtcbiAgfVxuICBpZiAoIWZsb2F0aW5nT2Zmc2V0UGFyZW50IHx8IGlzRml4ZWQgJiYgZmxvYXRpbmdPZmZzZXRQYXJlbnQgIT09IGdldFdpbmRvdyhlbGVtZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gaXNGaXhlZDtcbn1cblxuZnVuY3Rpb24gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIGluY2x1ZGVTY2FsZSwgaXNGaXhlZFN0cmF0ZWd5LCBvZmZzZXRQYXJlbnQpIHtcbiAgaWYgKGluY2x1ZGVTY2FsZSA9PT0gdm9pZCAwKSB7XG4gICAgaW5jbHVkZVNjYWxlID0gZmFsc2U7XG4gIH1cbiAgaWYgKGlzRml4ZWRTdHJhdGVneSA9PT0gdm9pZCAwKSB7XG4gICAgaXNGaXhlZFN0cmF0ZWd5ID0gZmFsc2U7XG4gIH1cbiAgY29uc3QgY2xpZW50UmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IGRvbUVsZW1lbnQgPSB1bndyYXBFbGVtZW50KGVsZW1lbnQpO1xuICBsZXQgc2NhbGUgPSBjcmVhdGVDb29yZHMoMSk7XG4gIGlmIChpbmNsdWRlU2NhbGUpIHtcbiAgICBpZiAob2Zmc2V0UGFyZW50KSB7XG4gICAgICBpZiAoaXNFbGVtZW50KG9mZnNldFBhcmVudCkpIHtcbiAgICAgICAgc2NhbGUgPSBnZXRTY2FsZShvZmZzZXRQYXJlbnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzY2FsZSA9IGdldFNjYWxlKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxuICBjb25zdCB2aXN1YWxPZmZzZXRzID0gc2hvdWxkQWRkVmlzdWFsT2Zmc2V0cyhkb21FbGVtZW50LCBpc0ZpeGVkU3RyYXRlZ3ksIG9mZnNldFBhcmVudCkgPyBnZXRWaXN1YWxPZmZzZXRzKGRvbUVsZW1lbnQpIDogY3JlYXRlQ29vcmRzKDApO1xuICBsZXQgeCA9IChjbGllbnRSZWN0LmxlZnQgKyB2aXN1YWxPZmZzZXRzLngpIC8gc2NhbGUueDtcbiAgbGV0IHkgPSAoY2xpZW50UmVjdC50b3AgKyB2aXN1YWxPZmZzZXRzLnkpIC8gc2NhbGUueTtcbiAgbGV0IHdpZHRoID0gY2xpZW50UmVjdC53aWR0aCAvIHNjYWxlLng7XG4gIGxldCBoZWlnaHQgPSBjbGllbnRSZWN0LmhlaWdodCAvIHNjYWxlLnk7XG4gIGlmIChkb21FbGVtZW50KSB7XG4gICAgY29uc3Qgd2luID0gZ2V0V2luZG93KGRvbUVsZW1lbnQpO1xuICAgIGNvbnN0IG9mZnNldFdpbiA9IG9mZnNldFBhcmVudCAmJiBpc0VsZW1lbnQob2Zmc2V0UGFyZW50KSA/IGdldFdpbmRvdyhvZmZzZXRQYXJlbnQpIDogb2Zmc2V0UGFyZW50O1xuICAgIGxldCBjdXJyZW50V2luID0gd2luO1xuICAgIGxldCBjdXJyZW50SUZyYW1lID0gY3VycmVudFdpbi5mcmFtZUVsZW1lbnQ7XG4gICAgd2hpbGUgKGN1cnJlbnRJRnJhbWUgJiYgb2Zmc2V0UGFyZW50ICYmIG9mZnNldFdpbiAhPT0gY3VycmVudFdpbikge1xuICAgICAgY29uc3QgaWZyYW1lU2NhbGUgPSBnZXRTY2FsZShjdXJyZW50SUZyYW1lKTtcbiAgICAgIGNvbnN0IGlmcmFtZVJlY3QgPSBjdXJyZW50SUZyYW1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgY3NzID0gZ2V0Q29tcHV0ZWRTdHlsZShjdXJyZW50SUZyYW1lKTtcbiAgICAgIGNvbnN0IGxlZnQgPSBpZnJhbWVSZWN0LmxlZnQgKyAoY3VycmVudElGcmFtZS5jbGllbnRMZWZ0ICsgcGFyc2VGbG9hdChjc3MucGFkZGluZ0xlZnQpKSAqIGlmcmFtZVNjYWxlLng7XG4gICAgICBjb25zdCB0b3AgPSBpZnJhbWVSZWN0LnRvcCArIChjdXJyZW50SUZyYW1lLmNsaWVudFRvcCArIHBhcnNlRmxvYXQoY3NzLnBhZGRpbmdUb3ApKSAqIGlmcmFtZVNjYWxlLnk7XG4gICAgICB4ICo9IGlmcmFtZVNjYWxlLng7XG4gICAgICB5ICo9IGlmcmFtZVNjYWxlLnk7XG4gICAgICB3aWR0aCAqPSBpZnJhbWVTY2FsZS54O1xuICAgICAgaGVpZ2h0ICo9IGlmcmFtZVNjYWxlLnk7XG4gICAgICB4ICs9IGxlZnQ7XG4gICAgICB5ICs9IHRvcDtcbiAgICAgIGN1cnJlbnRXaW4gPSBnZXRXaW5kb3coY3VycmVudElGcmFtZSk7XG4gICAgICBjdXJyZW50SUZyYW1lID0gY3VycmVudFdpbi5mcmFtZUVsZW1lbnQ7XG4gICAgfVxuICB9XG4gIHJldHVybiByZWN0VG9DbGllbnRSZWN0KHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeCxcbiAgICB5XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0T2Zmc2V0UGFyZW50UmVsYXRpdmVSZWN0VG9WaWV3cG9ydFJlbGF0aXZlUmVjdChfcmVmKSB7XG4gIGxldCB7XG4gICAgZWxlbWVudHMsXG4gICAgcmVjdCxcbiAgICBvZmZzZXRQYXJlbnQsXG4gICAgc3RyYXRlZ3lcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IGlzRml4ZWQgPSBzdHJhdGVneSA9PT0gJ2ZpeGVkJztcbiAgY29uc3QgZG9jdW1lbnRFbGVtZW50ID0gZ2V0RG9jdW1lbnRFbGVtZW50KG9mZnNldFBhcmVudCk7XG4gIGNvbnN0IHRvcExheWVyID0gZWxlbWVudHMgPyBpc1RvcExheWVyKGVsZW1lbnRzLmZsb2F0aW5nKSA6IGZhbHNlO1xuICBpZiAob2Zmc2V0UGFyZW50ID09PSBkb2N1bWVudEVsZW1lbnQgfHwgdG9wTGF5ZXIgJiYgaXNGaXhlZCkge1xuICAgIHJldHVybiByZWN0O1xuICB9XG4gIGxldCBzY3JvbGwgPSB7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBzY3JvbGxUb3A6IDBcbiAgfTtcbiAgbGV0IHNjYWxlID0gY3JlYXRlQ29vcmRzKDEpO1xuICBjb25zdCBvZmZzZXRzID0gY3JlYXRlQ29vcmRzKDApO1xuICBjb25zdCBpc09mZnNldFBhcmVudEFuRWxlbWVudCA9IGlzSFRNTEVsZW1lbnQob2Zmc2V0UGFyZW50KTtcbiAgaWYgKGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50IHx8ICFpc09mZnNldFBhcmVudEFuRWxlbWVudCAmJiAhaXNGaXhlZCkge1xuICAgIGlmIChnZXROb2RlTmFtZShvZmZzZXRQYXJlbnQpICE9PSAnYm9keScgfHwgaXNPdmVyZmxvd0VsZW1lbnQoZG9jdW1lbnRFbGVtZW50KSkge1xuICAgICAgc2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChvZmZzZXRQYXJlbnQpO1xuICAgIH1cbiAgICBpZiAoaXNIVE1MRWxlbWVudChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICBjb25zdCBvZmZzZXRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KG9mZnNldFBhcmVudCk7XG4gICAgICBzY2FsZSA9IGdldFNjYWxlKG9mZnNldFBhcmVudCk7XG4gICAgICBvZmZzZXRzLnggPSBvZmZzZXRSZWN0LnggKyBvZmZzZXRQYXJlbnQuY2xpZW50TGVmdDtcbiAgICAgIG9mZnNldHMueSA9IG9mZnNldFJlY3QueSArIG9mZnNldFBhcmVudC5jbGllbnRUb3A7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHJlY3Qud2lkdGggKiBzY2FsZS54LFxuICAgIGhlaWdodDogcmVjdC5oZWlnaHQgKiBzY2FsZS55LFxuICAgIHg6IHJlY3QueCAqIHNjYWxlLnggLSBzY3JvbGwuc2Nyb2xsTGVmdCAqIHNjYWxlLnggKyBvZmZzZXRzLngsXG4gICAgeTogcmVjdC55ICogc2NhbGUueSAtIHNjcm9sbC5zY3JvbGxUb3AgKiBzY2FsZS55ICsgb2Zmc2V0cy55XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldENsaWVudFJlY3RzKGVsZW1lbnQpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oZWxlbWVudC5nZXRDbGllbnRSZWN0cygpKTtcbn1cblxuZnVuY3Rpb24gZ2V0V2luZG93U2Nyb2xsQmFyWChlbGVtZW50KSB7XG4gIC8vIElmIDxodG1sPiBoYXMgYSBDU1Mgd2lkdGggZ3JlYXRlciB0aGFuIHRoZSB2aWV3cG9ydCwgdGhlbiB0aGlzIHdpbGwgYmVcbiAgLy8gaW5jb3JyZWN0IGZvciBSVEwuXG4gIHJldHVybiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpKS5sZWZ0ICsgZ2V0Tm9kZVNjcm9sbChlbGVtZW50KS5zY3JvbGxMZWZ0O1xufVxuXG4vLyBHZXRzIHRoZSBlbnRpcmUgc2l6ZSBvZiB0aGUgc2Nyb2xsYWJsZSBkb2N1bWVudCBhcmVhLCBldmVuIGV4dGVuZGluZyBvdXRzaWRlXG4vLyBvZiB0aGUgYDxodG1sPmAgYW5kIGA8Ym9keT5gIHJlY3QgYm91bmRzIGlmIGhvcml6b250YWxseSBzY3JvbGxhYmxlLlxuZnVuY3Rpb24gZ2V0RG9jdW1lbnRSZWN0KGVsZW1lbnQpIHtcbiAgY29uc3QgaHRtbCA9IGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KTtcbiAgY29uc3Qgc2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChlbGVtZW50KTtcbiAgY29uc3QgYm9keSA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5O1xuICBjb25zdCB3aWR0aCA9IG1heChodG1sLnNjcm9sbFdpZHRoLCBodG1sLmNsaWVudFdpZHRoLCBib2R5LnNjcm9sbFdpZHRoLCBib2R5LmNsaWVudFdpZHRoKTtcbiAgY29uc3QgaGVpZ2h0ID0gbWF4KGh0bWwuc2Nyb2xsSGVpZ2h0LCBodG1sLmNsaWVudEhlaWdodCwgYm9keS5zY3JvbGxIZWlnaHQsIGJvZHkuY2xpZW50SGVpZ2h0KTtcbiAgbGV0IHggPSAtc2Nyb2xsLnNjcm9sbExlZnQgKyBnZXRXaW5kb3dTY3JvbGxCYXJYKGVsZW1lbnQpO1xuICBjb25zdCB5ID0gLXNjcm9sbC5zY3JvbGxUb3A7XG4gIGlmIChnZXRDb21wdXRlZFN0eWxlKGJvZHkpLmRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICB4ICs9IG1heChodG1sLmNsaWVudFdpZHRoLCBib2R5LmNsaWVudFdpZHRoKSAtIHdpZHRoO1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHgsXG4gICAgeVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRWaWV3cG9ydFJlY3QoZWxlbWVudCwgc3RyYXRlZ3kpIHtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KGVsZW1lbnQpO1xuICBjb25zdCBodG1sID0gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpO1xuICBjb25zdCB2aXN1YWxWaWV3cG9ydCA9IHdpbi52aXN1YWxWaWV3cG9ydDtcbiAgbGV0IHdpZHRoID0gaHRtbC5jbGllbnRXaWR0aDtcbiAgbGV0IGhlaWdodCA9IGh0bWwuY2xpZW50SGVpZ2h0O1xuICBsZXQgeCA9IDA7XG4gIGxldCB5ID0gMDtcbiAgaWYgKHZpc3VhbFZpZXdwb3J0KSB7XG4gICAgd2lkdGggPSB2aXN1YWxWaWV3cG9ydC53aWR0aDtcbiAgICBoZWlnaHQgPSB2aXN1YWxWaWV3cG9ydC5oZWlnaHQ7XG4gICAgY29uc3QgdmlzdWFsVmlld3BvcnRCYXNlZCA9IGlzV2ViS2l0KCk7XG4gICAgaWYgKCF2aXN1YWxWaWV3cG9ydEJhc2VkIHx8IHZpc3VhbFZpZXdwb3J0QmFzZWQgJiYgc3RyYXRlZ3kgPT09ICdmaXhlZCcpIHtcbiAgICAgIHggPSB2aXN1YWxWaWV3cG9ydC5vZmZzZXRMZWZ0O1xuICAgICAgeSA9IHZpc3VhbFZpZXdwb3J0Lm9mZnNldFRvcDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeCxcbiAgICB5XG4gIH07XG59XG5cbi8vIFJldHVybnMgdGhlIGlubmVyIGNsaWVudCByZWN0LCBzdWJ0cmFjdGluZyBzY3JvbGxiYXJzIGlmIHByZXNlbnQuXG5mdW5jdGlvbiBnZXRJbm5lckJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50LCBzdHJhdGVneSkge1xuICBjb25zdCBjbGllbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIHRydWUsIHN0cmF0ZWd5ID09PSAnZml4ZWQnKTtcbiAgY29uc3QgdG9wID0gY2xpZW50UmVjdC50b3AgKyBlbGVtZW50LmNsaWVudFRvcDtcbiAgY29uc3QgbGVmdCA9IGNsaWVudFJlY3QubGVmdCArIGVsZW1lbnQuY2xpZW50TGVmdDtcbiAgY29uc3Qgc2NhbGUgPSBpc0hUTUxFbGVtZW50KGVsZW1lbnQpID8gZ2V0U2NhbGUoZWxlbWVudCkgOiBjcmVhdGVDb29yZHMoMSk7XG4gIGNvbnN0IHdpZHRoID0gZWxlbWVudC5jbGllbnRXaWR0aCAqIHNjYWxlLng7XG4gIGNvbnN0IGhlaWdodCA9IGVsZW1lbnQuY2xpZW50SGVpZ2h0ICogc2NhbGUueTtcbiAgY29uc3QgeCA9IGxlZnQgKiBzY2FsZS54O1xuICBjb25zdCB5ID0gdG9wICogc2NhbGUueTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeCxcbiAgICB5XG4gIH07XG59XG5mdW5jdGlvbiBnZXRDbGllbnRSZWN0RnJvbUNsaXBwaW5nQW5jZXN0b3IoZWxlbWVudCwgY2xpcHBpbmdBbmNlc3Rvciwgc3RyYXRlZ3kpIHtcbiAgbGV0IHJlY3Q7XG4gIGlmIChjbGlwcGluZ0FuY2VzdG9yID09PSAndmlld3BvcnQnKSB7XG4gICAgcmVjdCA9IGdldFZpZXdwb3J0UmVjdChlbGVtZW50LCBzdHJhdGVneSk7XG4gIH0gZWxzZSBpZiAoY2xpcHBpbmdBbmNlc3RvciA9PT0gJ2RvY3VtZW50Jykge1xuICAgIHJlY3QgPSBnZXREb2N1bWVudFJlY3QoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpKTtcbiAgfSBlbHNlIGlmIChpc0VsZW1lbnQoY2xpcHBpbmdBbmNlc3RvcikpIHtcbiAgICByZWN0ID0gZ2V0SW5uZXJCb3VuZGluZ0NsaWVudFJlY3QoY2xpcHBpbmdBbmNlc3Rvciwgc3RyYXRlZ3kpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHZpc3VhbE9mZnNldHMgPSBnZXRWaXN1YWxPZmZzZXRzKGVsZW1lbnQpO1xuICAgIHJlY3QgPSB7XG4gICAgICAuLi5jbGlwcGluZ0FuY2VzdG9yLFxuICAgICAgeDogY2xpcHBpbmdBbmNlc3Rvci54IC0gdmlzdWFsT2Zmc2V0cy54LFxuICAgICAgeTogY2xpcHBpbmdBbmNlc3Rvci55IC0gdmlzdWFsT2Zmc2V0cy55XG4gICAgfTtcbiAgfVxuICByZXR1cm4gcmVjdFRvQ2xpZW50UmVjdChyZWN0KTtcbn1cbmZ1bmN0aW9uIGhhc0ZpeGVkUG9zaXRpb25BbmNlc3RvcihlbGVtZW50LCBzdG9wTm9kZSkge1xuICBjb25zdCBwYXJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShlbGVtZW50KTtcbiAgaWYgKHBhcmVudE5vZGUgPT09IHN0b3BOb2RlIHx8ICFpc0VsZW1lbnQocGFyZW50Tm9kZSkgfHwgaXNMYXN0VHJhdmVyc2FibGVOb2RlKHBhcmVudE5vZGUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKHBhcmVudE5vZGUpLnBvc2l0aW9uID09PSAnZml4ZWQnIHx8IGhhc0ZpeGVkUG9zaXRpb25BbmNlc3RvcihwYXJlbnROb2RlLCBzdG9wTm9kZSk7XG59XG5cbi8vIEEgXCJjbGlwcGluZyBhbmNlc3RvclwiIGlzIGFuIGBvdmVyZmxvd2AgZWxlbWVudCB3aXRoIHRoZSBjaGFyYWN0ZXJpc3RpYyBvZlxuLy8gY2xpcHBpbmcgKG9yIGhpZGluZykgY2hpbGQgZWxlbWVudHMuIFRoaXMgcmV0dXJucyBhbGwgY2xpcHBpbmcgYW5jZXN0b3JzXG4vLyBvZiB0aGUgZ2l2ZW4gZWxlbWVudCB1cCB0aGUgdHJlZS5cbmZ1bmN0aW9uIGdldENsaXBwaW5nRWxlbWVudEFuY2VzdG9ycyhlbGVtZW50LCBjYWNoZSkge1xuICBjb25zdCBjYWNoZWRSZXN1bHQgPSBjYWNoZS5nZXQoZWxlbWVudCk7XG4gIGlmIChjYWNoZWRSZXN1bHQpIHtcbiAgICByZXR1cm4gY2FjaGVkUmVzdWx0O1xuICB9XG4gIGxldCByZXN1bHQgPSBnZXRPdmVyZmxvd0FuY2VzdG9ycyhlbGVtZW50LCBbXSwgZmFsc2UpLmZpbHRlcihlbCA9PiBpc0VsZW1lbnQoZWwpICYmIGdldE5vZGVOYW1lKGVsKSAhPT0gJ2JvZHknKTtcbiAgbGV0IGN1cnJlbnRDb250YWluaW5nQmxvY2tDb21wdXRlZFN0eWxlID0gbnVsbDtcbiAgY29uc3QgZWxlbWVudElzRml4ZWQgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uID09PSAnZml4ZWQnO1xuICBsZXQgY3VycmVudE5vZGUgPSBlbGVtZW50SXNGaXhlZCA/IGdldFBhcmVudE5vZGUoZWxlbWVudCkgOiBlbGVtZW50O1xuXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9Db250YWluaW5nX2Jsb2NrI2lkZW50aWZ5aW5nX3RoZV9jb250YWluaW5nX2Jsb2NrXG4gIHdoaWxlIChpc0VsZW1lbnQoY3VycmVudE5vZGUpICYmICFpc0xhc3RUcmF2ZXJzYWJsZU5vZGUoY3VycmVudE5vZGUpKSB7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoY3VycmVudE5vZGUpO1xuICAgIGNvbnN0IGN1cnJlbnROb2RlSXNDb250YWluaW5nID0gaXNDb250YWluaW5nQmxvY2soY3VycmVudE5vZGUpO1xuICAgIGlmICghY3VycmVudE5vZGVJc0NvbnRhaW5pbmcgJiYgY29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgICAgY3VycmVudENvbnRhaW5pbmdCbG9ja0NvbXB1dGVkU3R5bGUgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCBzaG91bGREcm9wQ3VycmVudE5vZGUgPSBlbGVtZW50SXNGaXhlZCA/ICFjdXJyZW50Tm9kZUlzQ29udGFpbmluZyAmJiAhY3VycmVudENvbnRhaW5pbmdCbG9ja0NvbXB1dGVkU3R5bGUgOiAhY3VycmVudE5vZGVJc0NvbnRhaW5pbmcgJiYgY29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycgJiYgISFjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSAmJiBbJ2Fic29sdXRlJywgJ2ZpeGVkJ10uaW5jbHVkZXMoY3VycmVudENvbnRhaW5pbmdCbG9ja0NvbXB1dGVkU3R5bGUucG9zaXRpb24pIHx8IGlzT3ZlcmZsb3dFbGVtZW50KGN1cnJlbnROb2RlKSAmJiAhY3VycmVudE5vZGVJc0NvbnRhaW5pbmcgJiYgaGFzRml4ZWRQb3NpdGlvbkFuY2VzdG9yKGVsZW1lbnQsIGN1cnJlbnROb2RlKTtcbiAgICBpZiAoc2hvdWxkRHJvcEN1cnJlbnROb2RlKSB7XG4gICAgICAvLyBEcm9wIG5vbi1jb250YWluaW5nIGJsb2Nrcy5cbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5maWx0ZXIoYW5jZXN0b3IgPT4gYW5jZXN0b3IgIT09IGN1cnJlbnROb2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmVjb3JkIGxhc3QgY29udGFpbmluZyBibG9jayBmb3IgbmV4dCBpdGVyYXRpb24uXG4gICAgICBjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSA9IGNvbXB1dGVkU3R5bGU7XG4gICAgfVxuICAgIGN1cnJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShjdXJyZW50Tm9kZSk7XG4gIH1cbiAgY2FjaGUuc2V0KGVsZW1lbnQsIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIEdldHMgdGhlIG1heGltdW0gYXJlYSB0aGF0IHRoZSBlbGVtZW50IGlzIHZpc2libGUgaW4gZHVlIHRvIGFueSBudW1iZXIgb2Zcbi8vIGNsaXBwaW5nIGFuY2VzdG9ycy5cbmZ1bmN0aW9uIGdldENsaXBwaW5nUmVjdChfcmVmKSB7XG4gIGxldCB7XG4gICAgZWxlbWVudCxcbiAgICBib3VuZGFyeSxcbiAgICByb290Qm91bmRhcnksXG4gICAgc3RyYXRlZ3lcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IGVsZW1lbnRDbGlwcGluZ0FuY2VzdG9ycyA9IGJvdW5kYXJ5ID09PSAnY2xpcHBpbmdBbmNlc3RvcnMnID8gaXNUb3BMYXllcihlbGVtZW50KSA/IFtdIDogZ2V0Q2xpcHBpbmdFbGVtZW50QW5jZXN0b3JzKGVsZW1lbnQsIHRoaXMuX2MpIDogW10uY29uY2F0KGJvdW5kYXJ5KTtcbiAgY29uc3QgY2xpcHBpbmdBbmNlc3RvcnMgPSBbLi4uZWxlbWVudENsaXBwaW5nQW5jZXN0b3JzLCByb290Qm91bmRhcnldO1xuICBjb25zdCBmaXJzdENsaXBwaW5nQW5jZXN0b3IgPSBjbGlwcGluZ0FuY2VzdG9yc1swXTtcbiAgY29uc3QgY2xpcHBpbmdSZWN0ID0gY2xpcHBpbmdBbmNlc3RvcnMucmVkdWNlKChhY2NSZWN0LCBjbGlwcGluZ0FuY2VzdG9yKSA9PiB7XG4gICAgY29uc3QgcmVjdCA9IGdldENsaWVudFJlY3RGcm9tQ2xpcHBpbmdBbmNlc3RvcihlbGVtZW50LCBjbGlwcGluZ0FuY2VzdG9yLCBzdHJhdGVneSk7XG4gICAgYWNjUmVjdC50b3AgPSBtYXgocmVjdC50b3AsIGFjY1JlY3QudG9wKTtcbiAgICBhY2NSZWN0LnJpZ2h0ID0gbWluKHJlY3QucmlnaHQsIGFjY1JlY3QucmlnaHQpO1xuICAgIGFjY1JlY3QuYm90dG9tID0gbWluKHJlY3QuYm90dG9tLCBhY2NSZWN0LmJvdHRvbSk7XG4gICAgYWNjUmVjdC5sZWZ0ID0gbWF4KHJlY3QubGVmdCwgYWNjUmVjdC5sZWZ0KTtcbiAgICByZXR1cm4gYWNjUmVjdDtcbiAgfSwgZ2V0Q2xpZW50UmVjdEZyb21DbGlwcGluZ0FuY2VzdG9yKGVsZW1lbnQsIGZpcnN0Q2xpcHBpbmdBbmNlc3Rvciwgc3RyYXRlZ3kpKTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogY2xpcHBpbmdSZWN0LnJpZ2h0IC0gY2xpcHBpbmdSZWN0LmxlZnQsXG4gICAgaGVpZ2h0OiBjbGlwcGluZ1JlY3QuYm90dG9tIC0gY2xpcHBpbmdSZWN0LnRvcCxcbiAgICB4OiBjbGlwcGluZ1JlY3QubGVmdCxcbiAgICB5OiBjbGlwcGluZ1JlY3QudG9wXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldERpbWVuc2lvbnMoZWxlbWVudCkge1xuICBjb25zdCB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0XG4gIH0gPSBnZXRDc3NEaW1lbnNpb25zKGVsZW1lbnQpO1xuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodFxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRSZWN0UmVsYXRpdmVUb09mZnNldFBhcmVudChlbGVtZW50LCBvZmZzZXRQYXJlbnQsIHN0cmF0ZWd5KSB7XG4gIGNvbnN0IGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ID0gaXNIVE1MRWxlbWVudChvZmZzZXRQYXJlbnQpO1xuICBjb25zdCBkb2N1bWVudEVsZW1lbnQgPSBnZXREb2N1bWVudEVsZW1lbnQob2Zmc2V0UGFyZW50KTtcbiAgY29uc3QgaXNGaXhlZCA9IHN0cmF0ZWd5ID09PSAnZml4ZWQnO1xuICBjb25zdCByZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIHRydWUsIGlzRml4ZWQsIG9mZnNldFBhcmVudCk7XG4gIGxldCBzY3JvbGwgPSB7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBzY3JvbGxUb3A6IDBcbiAgfTtcbiAgY29uc3Qgb2Zmc2V0cyA9IGNyZWF0ZUNvb3JkcygwKTtcbiAgaWYgKGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50IHx8ICFpc09mZnNldFBhcmVudEFuRWxlbWVudCAmJiAhaXNGaXhlZCkge1xuICAgIGlmIChnZXROb2RlTmFtZShvZmZzZXRQYXJlbnQpICE9PSAnYm9keScgfHwgaXNPdmVyZmxvd0VsZW1lbnQoZG9jdW1lbnRFbGVtZW50KSkge1xuICAgICAgc2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChvZmZzZXRQYXJlbnQpO1xuICAgIH1cbiAgICBpZiAoaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IG9mZnNldFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50LCB0cnVlLCBpc0ZpeGVkLCBvZmZzZXRQYXJlbnQpO1xuICAgICAgb2Zmc2V0cy54ID0gb2Zmc2V0UmVjdC54ICsgb2Zmc2V0UGFyZW50LmNsaWVudExlZnQ7XG4gICAgICBvZmZzZXRzLnkgPSBvZmZzZXRSZWN0LnkgKyBvZmZzZXRQYXJlbnQuY2xpZW50VG9wO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICBvZmZzZXRzLnggPSBnZXRXaW5kb3dTY3JvbGxCYXJYKGRvY3VtZW50RWxlbWVudCk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHggPSByZWN0LmxlZnQgKyBzY3JvbGwuc2Nyb2xsTGVmdCAtIG9mZnNldHMueDtcbiAgY29uc3QgeSA9IHJlY3QudG9wICsgc2Nyb2xsLnNjcm9sbFRvcCAtIG9mZnNldHMueTtcbiAgcmV0dXJuIHtcbiAgICB4LFxuICAgIHksXG4gICAgd2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodFxuICB9O1xufVxuXG5mdW5jdGlvbiBpc1N0YXRpY1Bvc2l0aW9uZWQoZWxlbWVudCkge1xuICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbiA9PT0gJ3N0YXRpYyc7XG59XG5cbmZ1bmN0aW9uIGdldFRydWVPZmZzZXRQYXJlbnQoZWxlbWVudCwgcG9seWZpbGwpIHtcbiAgaWYgKCFpc0hUTUxFbGVtZW50KGVsZW1lbnQpIHx8IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkucG9zaXRpb24gPT09ICdmaXhlZCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAocG9seWZpbGwpIHtcbiAgICByZXR1cm4gcG9seWZpbGwoZWxlbWVudCk7XG4gIH1cbiAgcmV0dXJuIGVsZW1lbnQub2Zmc2V0UGFyZW50O1xufVxuXG4vLyBHZXRzIHRoZSBjbG9zZXN0IGFuY2VzdG9yIHBvc2l0aW9uZWQgZWxlbWVudC4gSGFuZGxlcyBzb21lIGVkZ2UgY2FzZXMsXG4vLyBzdWNoIGFzIHRhYmxlIGFuY2VzdG9ycyBhbmQgY3Jvc3MgYnJvd3NlciBidWdzLlxuZnVuY3Rpb24gZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQsIHBvbHlmaWxsKSB7XG4gIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhlbGVtZW50KTtcbiAgaWYgKGlzVG9wTGF5ZXIoZWxlbWVudCkpIHtcbiAgICByZXR1cm4gd2luO1xuICB9XG4gIGlmICghaXNIVE1MRWxlbWVudChlbGVtZW50KSkge1xuICAgIGxldCBzdmdPZmZzZXRQYXJlbnQgPSBnZXRQYXJlbnROb2RlKGVsZW1lbnQpO1xuICAgIHdoaWxlIChzdmdPZmZzZXRQYXJlbnQgJiYgIWlzTGFzdFRyYXZlcnNhYmxlTm9kZShzdmdPZmZzZXRQYXJlbnQpKSB7XG4gICAgICBpZiAoaXNFbGVtZW50KHN2Z09mZnNldFBhcmVudCkgJiYgIWlzU3RhdGljUG9zaXRpb25lZChzdmdPZmZzZXRQYXJlbnQpKSB7XG4gICAgICAgIHJldHVybiBzdmdPZmZzZXRQYXJlbnQ7XG4gICAgICB9XG4gICAgICBzdmdPZmZzZXRQYXJlbnQgPSBnZXRQYXJlbnROb2RlKHN2Z09mZnNldFBhcmVudCk7XG4gICAgfVxuICAgIHJldHVybiB3aW47XG4gIH1cbiAgbGV0IG9mZnNldFBhcmVudCA9IGdldFRydWVPZmZzZXRQYXJlbnQoZWxlbWVudCwgcG9seWZpbGwpO1xuICB3aGlsZSAob2Zmc2V0UGFyZW50ICYmIGlzVGFibGVFbGVtZW50KG9mZnNldFBhcmVudCkgJiYgaXNTdGF0aWNQb3NpdGlvbmVkKG9mZnNldFBhcmVudCkpIHtcbiAgICBvZmZzZXRQYXJlbnQgPSBnZXRUcnVlT2Zmc2V0UGFyZW50KG9mZnNldFBhcmVudCwgcG9seWZpbGwpO1xuICB9XG4gIGlmIChvZmZzZXRQYXJlbnQgJiYgaXNMYXN0VHJhdmVyc2FibGVOb2RlKG9mZnNldFBhcmVudCkgJiYgaXNTdGF0aWNQb3NpdGlvbmVkKG9mZnNldFBhcmVudCkgJiYgIWlzQ29udGFpbmluZ0Jsb2NrKG9mZnNldFBhcmVudCkpIHtcbiAgICByZXR1cm4gd2luO1xuICB9XG4gIHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZ2V0Q29udGFpbmluZ0Jsb2NrKGVsZW1lbnQpIHx8IHdpbjtcbn1cblxuY29uc3QgZ2V0RWxlbWVudFJlY3RzID0gYXN5bmMgZnVuY3Rpb24gKGRhdGEpIHtcbiAgY29uc3QgZ2V0T2Zmc2V0UGFyZW50Rm4gPSB0aGlzLmdldE9mZnNldFBhcmVudCB8fCBnZXRPZmZzZXRQYXJlbnQ7XG4gIGNvbnN0IGdldERpbWVuc2lvbnNGbiA9IHRoaXMuZ2V0RGltZW5zaW9ucztcbiAgY29uc3QgZmxvYXRpbmdEaW1lbnNpb25zID0gYXdhaXQgZ2V0RGltZW5zaW9uc0ZuKGRhdGEuZmxvYXRpbmcpO1xuICByZXR1cm4ge1xuICAgIHJlZmVyZW5jZTogZ2V0UmVjdFJlbGF0aXZlVG9PZmZzZXRQYXJlbnQoZGF0YS5yZWZlcmVuY2UsIGF3YWl0IGdldE9mZnNldFBhcmVudEZuKGRhdGEuZmxvYXRpbmcpLCBkYXRhLnN0cmF0ZWd5KSxcbiAgICBmbG9hdGluZzoge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICB3aWR0aDogZmxvYXRpbmdEaW1lbnNpb25zLndpZHRoLFxuICAgICAgaGVpZ2h0OiBmbG9hdGluZ0RpbWVuc2lvbnMuaGVpZ2h0XG4gICAgfVxuICB9O1xufTtcblxuZnVuY3Rpb24gaXNSVEwoZWxlbWVudCkge1xuICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5kaXJlY3Rpb24gPT09ICdydGwnO1xufVxuXG5jb25zdCBwbGF0Zm9ybSA9IHtcbiAgY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3QsXG4gIGdldERvY3VtZW50RWxlbWVudCxcbiAgZ2V0Q2xpcHBpbmdSZWN0LFxuICBnZXRPZmZzZXRQYXJlbnQsXG4gIGdldEVsZW1lbnRSZWN0cyxcbiAgZ2V0Q2xpZW50UmVjdHMsXG4gIGdldERpbWVuc2lvbnMsXG4gIGdldFNjYWxlLFxuICBpc0VsZW1lbnQsXG4gIGlzUlRMXG59O1xuXG4vLyBodHRwczovL3NhbXRob3IuYXUvMjAyMS9vYnNlcnZpbmctZG9tL1xuZnVuY3Rpb24gb2JzZXJ2ZU1vdmUoZWxlbWVudCwgb25Nb3ZlKSB7XG4gIGxldCBpbyA9IG51bGw7XG4gIGxldCB0aW1lb3V0SWQ7XG4gIGNvbnN0IHJvb3QgPSBnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCk7XG4gIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgdmFyIF9pbztcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAoX2lvID0gaW8pID09IG51bGwgfHwgX2lvLmRpc2Nvbm5lY3QoKTtcbiAgICBpbyA9IG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gcmVmcmVzaChza2lwLCB0aHJlc2hvbGQpIHtcbiAgICBpZiAoc2tpcCA9PT0gdm9pZCAwKSB7XG4gICAgICBza2lwID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0aHJlc2hvbGQgPT09IHZvaWQgMCkge1xuICAgICAgdGhyZXNob2xkID0gMTtcbiAgICB9XG4gICAgY2xlYW51cCgpO1xuICAgIGNvbnN0IHtcbiAgICAgIGxlZnQsXG4gICAgICB0b3AsXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodFxuICAgIH0gPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmICghc2tpcCkge1xuICAgICAgb25Nb3ZlKCk7XG4gICAgfVxuICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbnNldFRvcCA9IGZsb29yKHRvcCk7XG4gICAgY29uc3QgaW5zZXRSaWdodCA9IGZsb29yKHJvb3QuY2xpZW50V2lkdGggLSAobGVmdCArIHdpZHRoKSk7XG4gICAgY29uc3QgaW5zZXRCb3R0b20gPSBmbG9vcihyb290LmNsaWVudEhlaWdodCAtICh0b3AgKyBoZWlnaHQpKTtcbiAgICBjb25zdCBpbnNldExlZnQgPSBmbG9vcihsZWZ0KTtcbiAgICBjb25zdCByb290TWFyZ2luID0gLWluc2V0VG9wICsgXCJweCBcIiArIC1pbnNldFJpZ2h0ICsgXCJweCBcIiArIC1pbnNldEJvdHRvbSArIFwicHggXCIgKyAtaW5zZXRMZWZ0ICsgXCJweFwiO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICByb290TWFyZ2luLFxuICAgICAgdGhyZXNob2xkOiBtYXgoMCwgbWluKDEsIHRocmVzaG9sZCkpIHx8IDFcbiAgICB9O1xuICAgIGxldCBpc0ZpcnN0VXBkYXRlID0gdHJ1ZTtcbiAgICBmdW5jdGlvbiBoYW5kbGVPYnNlcnZlKGVudHJpZXMpIHtcbiAgICAgIGNvbnN0IHJhdGlvID0gZW50cmllc1swXS5pbnRlcnNlY3Rpb25SYXRpbztcbiAgICAgIGlmIChyYXRpbyAhPT0gdGhyZXNob2xkKSB7XG4gICAgICAgIGlmICghaXNGaXJzdFVwZGF0ZSkge1xuICAgICAgICAgIHJldHVybiByZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyYXRpbykge1xuICAgICAgICAgIC8vIElmIHRoZSByZWZlcmVuY2UgaXMgY2xpcHBlZCwgdGhlIHJhdGlvIGlzIDAuIFRocm90dGxlIHRoZSByZWZyZXNoXG4gICAgICAgICAgLy8gdG8gcHJldmVudCBhbiBpbmZpbml0ZSBsb29wIG9mIHVwZGF0ZXMuXG4gICAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICByZWZyZXNoKGZhbHNlLCAxZS03KTtcbiAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWZyZXNoKGZhbHNlLCByYXRpbyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlzRmlyc3RVcGRhdGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBPbGRlciBicm93c2VycyBkb24ndCBzdXBwb3J0IGEgYGRvY3VtZW50YCBhcyB0aGUgcm9vdCBhbmQgd2lsbCB0aHJvdyBhblxuICAgIC8vIGVycm9yLlxuICAgIHRyeSB7XG4gICAgICBpbyA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVPYnNlcnZlLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC8vIEhhbmRsZSA8aWZyYW1lPnNcbiAgICAgICAgcm9vdDogcm9vdC5vd25lckRvY3VtZW50XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpbyA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVPYnNlcnZlLCBvcHRpb25zKTtcbiAgICB9XG4gICAgaW8ub2JzZXJ2ZShlbGVtZW50KTtcbiAgfVxuICByZWZyZXNoKHRydWUpO1xuICByZXR1cm4gY2xlYW51cDtcbn1cblxuLyoqXG4gKiBBdXRvbWF0aWNhbGx5IHVwZGF0ZXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IHdoZW4gbmVjZXNzYXJ5LlxuICogU2hvdWxkIG9ubHkgYmUgY2FsbGVkIHdoZW4gdGhlIGZsb2F0aW5nIGVsZW1lbnQgaXMgbW91bnRlZCBvbiB0aGUgRE9NIG9yXG4gKiB2aXNpYmxlIG9uIHRoZSBzY3JlZW4uXG4gKiBAcmV0dXJucyBjbGVhbnVwIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGludm9rZWQgd2hlbiB0aGUgZmxvYXRpbmcgZWxlbWVudCBpc1xuICogcmVtb3ZlZCBmcm9tIHRoZSBET00gb3IgaGlkZGVuIGZyb20gdGhlIHNjcmVlbi5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9hdXRvVXBkYXRlXG4gKi9cbmZ1bmN0aW9uIGF1dG9VcGRhdGUocmVmZXJlbmNlLCBmbG9hdGluZywgdXBkYXRlLCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgY29uc3Qge1xuICAgIGFuY2VzdG9yU2Nyb2xsID0gdHJ1ZSxcbiAgICBhbmNlc3RvclJlc2l6ZSA9IHRydWUsXG4gICAgZWxlbWVudFJlc2l6ZSA9IHR5cGVvZiBSZXNpemVPYnNlcnZlciA9PT0gJ2Z1bmN0aW9uJyxcbiAgICBsYXlvdXRTaGlmdCA9IHR5cGVvZiBJbnRlcnNlY3Rpb25PYnNlcnZlciA9PT0gJ2Z1bmN0aW9uJyxcbiAgICBhbmltYXRpb25GcmFtZSA9IGZhbHNlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCByZWZlcmVuY2VFbCA9IHVud3JhcEVsZW1lbnQocmVmZXJlbmNlKTtcbiAgY29uc3QgYW5jZXN0b3JzID0gYW5jZXN0b3JTY3JvbGwgfHwgYW5jZXN0b3JSZXNpemUgPyBbLi4uKHJlZmVyZW5jZUVsID8gZ2V0T3ZlcmZsb3dBbmNlc3RvcnMocmVmZXJlbmNlRWwpIDogW10pLCAuLi5nZXRPdmVyZmxvd0FuY2VzdG9ycyhmbG9hdGluZyldIDogW107XG4gIGFuY2VzdG9ycy5mb3JFYWNoKGFuY2VzdG9yID0+IHtcbiAgICBhbmNlc3RvclNjcm9sbCAmJiBhbmNlc3Rvci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB1cGRhdGUsIHtcbiAgICAgIHBhc3NpdmU6IHRydWVcbiAgICB9KTtcbiAgICBhbmNlc3RvclJlc2l6ZSAmJiBhbmNlc3Rvci5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGUpO1xuICB9KTtcbiAgY29uc3QgY2xlYW51cElvID0gcmVmZXJlbmNlRWwgJiYgbGF5b3V0U2hpZnQgPyBvYnNlcnZlTW92ZShyZWZlcmVuY2VFbCwgdXBkYXRlKSA6IG51bGw7XG4gIGxldCByZW9ic2VydmVGcmFtZSA9IC0xO1xuICBsZXQgcmVzaXplT2JzZXJ2ZXIgPSBudWxsO1xuICBpZiAoZWxlbWVudFJlc2l6ZSkge1xuICAgIHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKF9yZWYgPT4ge1xuICAgICAgbGV0IFtmaXJzdEVudHJ5XSA9IF9yZWY7XG4gICAgICBpZiAoZmlyc3RFbnRyeSAmJiBmaXJzdEVudHJ5LnRhcmdldCA9PT0gcmVmZXJlbmNlRWwgJiYgcmVzaXplT2JzZXJ2ZXIpIHtcbiAgICAgICAgLy8gUHJldmVudCB1cGRhdGUgbG9vcHMgd2hlbiB1c2luZyB0aGUgYHNpemVgIG1pZGRsZXdhcmUuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mbG9hdGluZy11aS9mbG9hdGluZy11aS9pc3N1ZXMvMTc0MFxuICAgICAgICByZXNpemVPYnNlcnZlci51bm9ic2VydmUoZmxvYXRpbmcpO1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyZW9ic2VydmVGcmFtZSk7XG4gICAgICAgIHJlb2JzZXJ2ZUZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICB2YXIgX3Jlc2l6ZU9ic2VydmVyO1xuICAgICAgICAgIChfcmVzaXplT2JzZXJ2ZXIgPSByZXNpemVPYnNlcnZlcikgPT0gbnVsbCB8fCBfcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShmbG9hdGluZyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdXBkYXRlKCk7XG4gICAgfSk7XG4gICAgaWYgKHJlZmVyZW5jZUVsICYmICFhbmltYXRpb25GcmFtZSkge1xuICAgICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShyZWZlcmVuY2VFbCk7XG4gICAgfVxuICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZmxvYXRpbmcpO1xuICB9XG4gIGxldCBmcmFtZUlkO1xuICBsZXQgcHJldlJlZlJlY3QgPSBhbmltYXRpb25GcmFtZSA/IGdldEJvdW5kaW5nQ2xpZW50UmVjdChyZWZlcmVuY2UpIDogbnVsbDtcbiAgaWYgKGFuaW1hdGlvbkZyYW1lKSB7XG4gICAgZnJhbWVMb29wKCk7XG4gIH1cbiAgZnVuY3Rpb24gZnJhbWVMb29wKCkge1xuICAgIGNvbnN0IG5leHRSZWZSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHJlZmVyZW5jZSk7XG4gICAgaWYgKHByZXZSZWZSZWN0ICYmIChuZXh0UmVmUmVjdC54ICE9PSBwcmV2UmVmUmVjdC54IHx8IG5leHRSZWZSZWN0LnkgIT09IHByZXZSZWZSZWN0LnkgfHwgbmV4dFJlZlJlY3Qud2lkdGggIT09IHByZXZSZWZSZWN0LndpZHRoIHx8IG5leHRSZWZSZWN0LmhlaWdodCAhPT0gcHJldlJlZlJlY3QuaGVpZ2h0KSkge1xuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICAgIHByZXZSZWZSZWN0ID0gbmV4dFJlZlJlY3Q7XG4gICAgZnJhbWVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZUxvb3ApO1xuICB9XG4gIHVwZGF0ZSgpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHZhciBfcmVzaXplT2JzZXJ2ZXIyO1xuICAgIGFuY2VzdG9ycy5mb3JFYWNoKGFuY2VzdG9yID0+IHtcbiAgICAgIGFuY2VzdG9yU2Nyb2xsICYmIGFuY2VzdG9yLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHVwZGF0ZSk7XG4gICAgICBhbmNlc3RvclJlc2l6ZSAmJiBhbmNlc3Rvci5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGUpO1xuICAgIH0pO1xuICAgIGNsZWFudXBJbyA9PSBudWxsIHx8IGNsZWFudXBJbygpO1xuICAgIChfcmVzaXplT2JzZXJ2ZXIyID0gcmVzaXplT2JzZXJ2ZXIpID09IG51bGwgfHwgX3Jlc2l6ZU9ic2VydmVyMi5kaXNjb25uZWN0KCk7XG4gICAgcmVzaXplT2JzZXJ2ZXIgPSBudWxsO1xuICAgIGlmIChhbmltYXRpb25GcmFtZSkge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWVJZCk7XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIFJlc29sdmVzIHdpdGggYW4gb2JqZWN0IG9mIG92ZXJmbG93IHNpZGUgb2Zmc2V0cyB0aGF0IGRldGVybWluZSBob3cgbXVjaCB0aGVcbiAqIGVsZW1lbnQgaXMgb3ZlcmZsb3dpbmcgYSBnaXZlbiBjbGlwcGluZyBib3VuZGFyeSBvbiBlYWNoIHNpZGUuXG4gKiAtIHBvc2l0aXZlID0gb3ZlcmZsb3dpbmcgdGhlIGJvdW5kYXJ5IGJ5IHRoYXQgbnVtYmVyIG9mIHBpeGVsc1xuICogLSBuZWdhdGl2ZSA9IGhvdyBtYW55IHBpeGVscyBsZWZ0IGJlZm9yZSBpdCB3aWxsIG92ZXJmbG93XG4gKiAtIDAgPSBsaWVzIGZsdXNoIHdpdGggdGhlIGJvdW5kYXJ5XG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvZGV0ZWN0T3ZlcmZsb3dcbiAqL1xuY29uc3QgZGV0ZWN0T3ZlcmZsb3cgPSBkZXRlY3RPdmVyZmxvdyQxO1xuXG4vKipcbiAqIE1vZGlmaWVzIHRoZSBwbGFjZW1lbnQgYnkgdHJhbnNsYXRpbmcgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYWxvbmcgdGhlXG4gKiBzcGVjaWZpZWQgYXhlcy5cbiAqIEEgbnVtYmVyIChzaG9ydGhhbmQgZm9yIGBtYWluQXhpc2Agb3IgZGlzdGFuY2UpLCBvciBhbiBheGVzIGNvbmZpZ3VyYXRpb25cbiAqIG9iamVjdCBtYXkgYmUgcGFzc2VkLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL29mZnNldFxuICovXG5jb25zdCBvZmZzZXQgPSBvZmZzZXQkMTtcblxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgY2hvb3NpbmcgdGhlIHBsYWNlbWVudFxuICogdGhhdCBoYXMgdGhlIG1vc3Qgc3BhY2UgYXZhaWxhYmxlIGF1dG9tYXRpY2FsbHksIHdpdGhvdXQgbmVlZGluZyB0byBzcGVjaWZ5IGFcbiAqIHByZWZlcnJlZCBwbGFjZW1lbnQuIEFsdGVybmF0aXZlIHRvIGBmbGlwYC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9hdXRvUGxhY2VtZW50XG4gKi9cbmNvbnN0IGF1dG9QbGFjZW1lbnQgPSBhdXRvUGxhY2VtZW50JDE7XG5cbi8qKlxuICogT3B0aW1pemVzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IGJ5IHNoaWZ0aW5nIGl0IGluIG9yZGVyIHRvXG4gKiBrZWVwIGl0IGluIHZpZXcgd2hlbiBpdCB3aWxsIG92ZXJmbG93IHRoZSBjbGlwcGluZyBib3VuZGFyeS5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9zaGlmdFxuICovXG5jb25zdCBzaGlmdCA9IHNoaWZ0JDE7XG5cbi8qKlxuICogT3B0aW1pemVzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IGJ5IGZsaXBwaW5nIHRoZSBgcGxhY2VtZW50YFxuICogaW4gb3JkZXIgdG8ga2VlcCBpdCBpbiB2aWV3IHdoZW4gdGhlIHByZWZlcnJlZCBwbGFjZW1lbnQocykgd2lsbCBvdmVyZmxvdyB0aGVcbiAqIGNsaXBwaW5nIGJvdW5kYXJ5LiBBbHRlcm5hdGl2ZSB0byBgYXV0b1BsYWNlbWVudGAuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvZmxpcFxuICovXG5jb25zdCBmbGlwID0gZmxpcCQxO1xuXG4vKipcbiAqIFByb3ZpZGVzIGRhdGEgdGhhdCBhbGxvd3MgeW91IHRvIGNoYW5nZSB0aGUgc2l6ZSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBcdTIwMTRcbiAqIGZvciBpbnN0YW5jZSwgcHJldmVudCBpdCBmcm9tIG92ZXJmbG93aW5nIHRoZSBjbGlwcGluZyBib3VuZGFyeSBvciBtYXRjaCB0aGVcbiAqIHdpZHRoIG9mIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9zaXplXG4gKi9cbmNvbnN0IHNpemUgPSBzaXplJDE7XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0byBoaWRlIHRoZSBmbG9hdGluZyBlbGVtZW50IGluIGFwcGxpY2FibGUgc2l0dWF0aW9ucywgc3VjaCBhc1xuICogd2hlbiBpdCBpcyBub3QgaW4gdGhlIHNhbWUgY2xpcHBpbmcgY29udGV4dCBhcyB0aGUgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvaGlkZVxuICovXG5jb25zdCBoaWRlID0gaGlkZSQxO1xuXG4vKipcbiAqIFByb3ZpZGVzIGRhdGEgdG8gcG9zaXRpb24gYW4gaW5uZXIgZWxlbWVudCBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBzbyB0aGF0IGl0XG4gKiBhcHBlYXJzIGNlbnRlcmVkIHRvIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9hcnJvd1xuICovXG5jb25zdCBhcnJvdyA9IGFycm93JDE7XG5cbi8qKlxuICogUHJvdmlkZXMgaW1wcm92ZWQgcG9zaXRpb25pbmcgZm9yIGlubGluZSByZWZlcmVuY2UgZWxlbWVudHMgdGhhdCBjYW4gc3BhblxuICogb3ZlciBtdWx0aXBsZSBsaW5lcywgc3VjaCBhcyBoeXBlcmxpbmtzIG9yIHJhbmdlIHNlbGVjdGlvbnMuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvaW5saW5lXG4gKi9cbmNvbnN0IGlubGluZSA9IGlubGluZSQxO1xuXG4vKipcbiAqIEJ1aWx0LWluIGBsaW1pdGVyYCB0aGF0IHdpbGwgc3RvcCBgc2hpZnQoKWAgYXQgYSBjZXJ0YWluIHBvaW50LlxuICovXG5jb25zdCBsaW1pdFNoaWZ0ID0gbGltaXRTaGlmdCQxO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBgeGAgYW5kIGB5YCBjb29yZGluYXRlcyB0aGF0IHdpbGwgcGxhY2UgdGhlIGZsb2F0aW5nIGVsZW1lbnRcbiAqIG5leHQgdG8gYSBnaXZlbiByZWZlcmVuY2UgZWxlbWVudC5cbiAqL1xuY29uc3QgY29tcHV0ZVBvc2l0aW9uID0gKHJlZmVyZW5jZSwgZmxvYXRpbmcsIG9wdGlvbnMpID0+IHtcbiAgLy8gVGhpcyBjYWNoZXMgdGhlIGV4cGVuc2l2ZSBgZ2V0Q2xpcHBpbmdFbGVtZW50QW5jZXN0b3JzYCBmdW5jdGlvbiBzbyB0aGF0XG4gIC8vIG11bHRpcGxlIGxpZmVjeWNsZSByZXNldHMgcmUtdXNlIHRoZSBzYW1lIHJlc3VsdC4gSXQgb25seSBsaXZlcyBmb3IgYVxuICAvLyBzaW5nbGUgY2FsbC4gSWYgb3RoZXIgZnVuY3Rpb25zIGJlY29tZSBleHBlbnNpdmUsIHdlIGNhbiBhZGQgdGhlbSBhcyB3ZWxsLlxuICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHtcbiAgICBwbGF0Zm9ybSxcbiAgICAuLi5vcHRpb25zXG4gIH07XG4gIGNvbnN0IHBsYXRmb3JtV2l0aENhY2hlID0ge1xuICAgIC4uLm1lcmdlZE9wdGlvbnMucGxhdGZvcm0sXG4gICAgX2M6IGNhY2hlXG4gIH07XG4gIHJldHVybiBjb21wdXRlUG9zaXRpb24kMShyZWZlcmVuY2UsIGZsb2F0aW5nLCB7XG4gICAgLi4ubWVyZ2VkT3B0aW9ucyxcbiAgICBwbGF0Zm9ybTogcGxhdGZvcm1XaXRoQ2FjaGVcbiAgfSk7XG59O1xuXG5leHBvcnQgeyBhcnJvdywgYXV0b1BsYWNlbWVudCwgYXV0b1VwZGF0ZSwgY29tcHV0ZVBvc2l0aW9uLCBkZXRlY3RPdmVyZmxvdywgZmxpcCwgaGlkZSwgaW5saW5lLCBsaW1pdFNoaWZ0LCBvZmZzZXQsIHBsYXRmb3JtLCBzaGlmdCwgc2l6ZSB9O1xuIiwgIi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpX2FsZXJ0X2RpYWxvZ19jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5pbXBvcnQgeyB1c2VDbGlja091dHNpZGUgfSBmcm9tICdzdGltdWx1cy11c2UnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIHN0YXRpYyB0YXJnZXRzID0gW1wib3ZlcmxheVwiLCBcImNvbnRlbnRcIl1cbiAgc3RhdGljIHZhbHVlcyA9IHtcbiAgICBjbG9zZU9uQ2xpY2tPdXRzaWRlOiBCb29sZWFuXG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIGlmICh0aGlzLmNsb3NlT25DbGlja091dHNpZGVWYWx1ZSkge1xuICAgICAgdXNlQ2xpY2tPdXRzaWRlKHRoaXMsIHsgZWxlbWVudDogdGhpcy5jb250ZW50VGFyZ2V0IH0pXG4gICAgfVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLm92ZXJsYXlUYXJnZXQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxuICAgIHRoaXMuY29udGVudFRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLm92ZXJsYXlUYXJnZXQuZGF0YXNldC51aURpYWxvZ1N0YXRlID0gXCJvcGVuXCJcbiAgICAgIHRoaXMuY29udGVudFRhcmdldC5kYXRhc2V0LnVpRGlhbG9nU3RhdGUgPSBcIm9wZW5cIlxuICAgIH0sIDEwKSAvLyBTbWFsbCBkZWxheSB0byBlbnN1cmUgdGhlIGRpc3BsYXkgY2hhbmdlIGhhcyB0YWtlbiBlZmZlY3RcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMub3ZlcmxheVRhcmdldC5kYXRhc2V0LnVpRGlhbG9nU3RhdGUgPSBcImNsb3NlZFwiXG4gICAgdGhpcy5jb250ZW50VGFyZ2V0LmRhdGFzZXQudWlEaWFsb2dTdGF0ZSA9IFwiY2xvc2VkXCJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMub3ZlcmxheVRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcbiAgICAgIHRoaXMuY29udGVudFRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcbiAgICB9LCAzMCkgLy8gQWRqdXN0IHRoaXMgdGltZW91dCB0byBtYXRjaCB5b3VyIGFuaW1hdGlvbiBkdXJhdGlvblxuICB9XG5cbiAgY2FuY2VsKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIHRoaXMuY2xvc2UoKVxuICB9XG5cbiAgY2xpY2tPdXRzaWRlKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuY2xvc2VPbkNsaWNrT3V0c2lkZVZhbHVlKSB7XG4gICAgICB0aGlzLmNsb3NlKClcbiAgICB9XG4gIH1cbn0iLCAiaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuaW1wb3J0IHsgY29tcHV0ZVBvc2l0aW9uLCBmbGlwLCBzaGlmdCwgb2Zmc2V0IH0gZnJvbSAnQGZsb2F0aW5nLXVpL2RvbSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJ0cmlnZ2VyXCIsIFwibWVudVwiXVxuICBzdGF0aWMgY2xhc3NlcyA9IFtcImFjdGl2ZVwiXVxuXG4gIGNvbm5lY3QoKSB7XG4gICAgdGhpcy5jbG9zZU1lbnUgPSB0aGlzLmNsb3NlTWVudS5iaW5kKHRoaXMpXG4gIH1cblxuICB0b2dnbGUoKSB7XG4gICAgaWYgKHRoaXMubWVudVRhcmdldC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5hY3RpdmVDbGFzcykpIHtcbiAgICAgIHRoaXMuY2xvc2VNZW51KClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vcGVuTWVudSgpXG4gICAgfVxuICB9XG5cbiAgb3Blbk1lbnUoKSB7XG4gICAgdGhpcy5tZW51VGFyZ2V0LmNsYXNzTGlzdC5hZGQodGhpcy5hY3RpdmVDbGFzcylcbiAgICB0aGlzLm1lbnVUYXJnZXQucmVtb3ZlQXR0cmlidXRlKFwiaGlkZGVuXCIpXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2VNZW51KVxuXG4gICAgdGhpcy51cGRhdGVQb3NpdGlvbigpXG4gIH1cblxuICBjbG9zZU1lbnUoZXZlbnQpIHtcbiAgICBpZiAoIWV2ZW50IHx8ICF0aGlzLmVsZW1lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgdGhpcy5tZW51VGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5hY3RpdmVDbGFzcylcbiAgICAgIHRoaXMubWVudVRhcmdldC5zZXRBdHRyaWJ1dGUoXCJoaWRkZW5cIiwgXCJcIilcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlTWVudSlcbiAgICB9XG4gIH1cblxuICB1cGRhdGVQb3NpdGlvbigpIHtcbiAgICBjb21wdXRlUG9zaXRpb24odGhpcy50cmlnZ2VyVGFyZ2V0LCB0aGlzLm1lbnVUYXJnZXQsIHtcbiAgICAgIHBsYWNlbWVudDogJ2JvdHRvbS1zdGFydCcsXG4gICAgICBtaWRkbGV3YXJlOiBbXG4gICAgICAgIG9mZnNldCg2KSxcbiAgICAgICAgZmxpcCgpLFxuICAgICAgICBzaGlmdCh7cGFkZGluZzogNX0pXG4gICAgICBdXG4gICAgfSkudGhlbigoe3gsIHl9KSA9PiB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMubWVudVRhcmdldC5zdHlsZSwge1xuICAgICAgICBsZWZ0OiBgJHt4fXB4YCxcbiAgICAgICAgdG9wOiBgJHt5fXB4YCxcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufSIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICIvLyBhcHAvamF2YXNjcmlwdC9jb250cm9sbGVycy91aV9pbnB1dF9vdHBfY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcImlucHV0XCIsIFwiZGlnaXRcIl1cbiAgc3RhdGljIHZhbHVlcyA9IHtcbiAgICBncm91cHM6IEFycmF5XG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIHRoaXMuaW5wdXRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLmhhbmRsZUlucHV0LmJpbmQodGhpcykpXG4gICAgdGhpcy5pbnB1dFRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlkb3duLmJpbmQodGhpcykpXG4gICAgdGhpcy5pbnB1dFRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuaGFuZGxlRm9jdXMuYmluZCh0aGlzKSlcbiAgICB0aGlzLmlucHV0VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLmhhbmRsZUJsdXIuYmluZCh0aGlzKSlcbiAgfVxuXG4gIGhhbmRsZUlucHV0KGV2ZW50KSB7XG4gICAgY29uc3QgaW5wdXQgPSBldmVudC50YXJnZXRcbiAgICBjb25zdCB2YWx1ZSA9IGlucHV0LnZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJykuc2xpY2UoMCwgdGhpcy50b3RhbERpZ2l0cylcbiAgICBpbnB1dC52YWx1ZSA9IHZhbHVlXG4gICAgdGhpcy51cGRhdGVEaWdpdHModmFsdWUpXG4gICAgdGhpcy5mb2N1c0RpZ2l0KHZhbHVlLmxlbmd0aClcbiAgfVxuXG4gIGhhbmRsZUtleWRvd24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnQmFja3NwYWNlJyAmJiBldmVudC50YXJnZXQudmFsdWUgPT09ICcnKSB7XG4gICAgICB0aGlzLmZvY3VzUHJldmlvdXNJbnB1dCgpXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlRm9jdXMoKSB7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZvY3VzZWQnKVxuICAgIHRoaXMuZm9jdXNEaWdpdCh0aGlzLmlucHV0VGFyZ2V0LnZhbHVlLmxlbmd0aClcbiAgfVxuXG4gIGhhbmRsZUJsdXIoKSB7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2ZvY3VzZWQnKVxuICAgIHRoaXMuZGlnaXRUYXJnZXRzLmZvckVhY2goZGlnaXQgPT4ge1xuICAgICAgZGlnaXQuY2xhc3NMaXN0LnJlbW92ZSgncmluZy0yJywgJ3JpbmctcmluZycsICdyaW5nLW9mZnNldC1iYWNrZ3JvdW5kJylcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlRGlnaXRzKHZhbHVlKSB7XG4gICAgdGhpcy5kaWdpdFRhcmdldHMuZm9yRWFjaCgoZGlnaXQsIGluZGV4KSA9PiB7XG4gICAgICBkaWdpdC50ZXh0Q29udGVudCA9IHZhbHVlW2luZGV4XSB8fCAnJ1xuICAgICAgZGlnaXQuY2xhc3NMaXN0LnRvZ2dsZSgnZmlsbGVkJywgISF2YWx1ZVtpbmRleF0pXG4gICAgfSlcbiAgfVxuXG4gIGZvY3VzRGlnaXQoaW5kZXgpIHtcbiAgICB0aGlzLmRpZ2l0VGFyZ2V0cy5mb3JFYWNoKChkaWdpdCwgaSkgPT4ge1xuICAgICAgaWYgKGkgPT09IGluZGV4KSB7XG4gICAgICAgIGRpZ2l0LmNsYXNzTGlzdC5hZGQoJ3JpbmctMicsICdyaW5nLXJpbmcnLCAncmluZy1vZmZzZXQtYmFja2dyb3VuZCcpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaWdpdC5jbGFzc0xpc3QucmVtb3ZlKCdyaW5nLTInLCAncmluZy1yaW5nJywgJ3Jpbmctb2Zmc2V0LWJhY2tncm91bmQnKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmb2N1c1ByZXZpb3VzSW5wdXQoKSB7XG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5pbnB1dFRhcmdldC52YWx1ZVxuICAgIGlmIChjdXJyZW50VmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5pbnB1dFRhcmdldC52YWx1ZSA9IGN1cnJlbnRWYWx1ZS5zbGljZSgwLCAtMSlcbiAgICAgIHRoaXMudXBkYXRlRGlnaXRzKHRoaXMuaW5wdXRUYXJnZXQudmFsdWUpXG4gICAgICB0aGlzLmZvY3VzRGlnaXQodGhpcy5pbnB1dFRhcmdldC52YWx1ZS5sZW5ndGgpXG4gICAgfVxuICB9XG5cbiAgZ2V0IHRvdGFsRGlnaXRzKCkge1xuICAgIHJldHVybiB0aGlzLmdyb3Vwc1ZhbHVlLnJlZHVjZSgoc3VtLCBncm91cCkgPT4gc3VtICsgZ3JvdXAsIDApXG4gIH1cbn0iLCAiLy8gYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvdWlfbWVudWJhcl9jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5pbXBvcnQgeyBjb21wdXRlUG9zaXRpb24sIGZsaXAsIHNoaWZ0LCBvZmZzZXQsIGF1dG9VcGRhdGUgfSBmcm9tICdAZmxvYXRpbmctdWkvZG9tJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcIm1lbnVJdGVtXCIsIFwic3VibWVudVRlbXBsYXRlXCJdXG5cbiAgY29ubmVjdCgpIHtcbiAgICB0aGlzLmFjdGl2ZVN1Ym1lbnVzID0gbmV3IFNldCgpXG4gICAgdGhpcy5jbGVhbnVwID0gbnVsbFxuICAgIHRoaXMuc3VibWVudXMgPSBuZXcgTWFwKClcbiAgICB0aGlzLmhpZGVUaW1lb3V0ID0gbnVsbFxuICAgIFxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpKVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMuaGFuZGxlTW91c2VPdmVyLmJpbmQodGhpcykpXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLmhhbmRsZU1vdXNlT3V0LmJpbmQodGhpcykpXG4gIH1cblxuICBkaXNjb25uZWN0KCkge1xuICAgIHRoaXMuY2xlYW51cEFsbFN1Ym1lbnVzKClcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSlcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLmhhbmRsZU1vdXNlT3Zlci5iaW5kKHRoaXMpKVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5oYW5kbGVNb3VzZU91dC5iaW5kKHRoaXMpKVxuICB9XG5cbiAgaGFuZGxlQ2xpY2soZXZlbnQpIHtcbiAgICBjb25zdCBtZW51SXRlbSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS11aS1tZW51YmFyLWl0ZW1dLCBbZGF0YS11aS1tZW51YmFyLXN1Ym1lbnUtaXRlbV0nKVxuICAgIGlmIChtZW51SXRlbSkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgIGlmIChtZW51SXRlbS5jbG9zZXN0KCdbZGF0YS11aS1tZW51YmFyLXRvcC1sZXZlbF0nKSB8fCBtZW51SXRlbS5jbG9zZXN0KCdbZGF0YS11aS1tZW51YmFyLXN1Ym1lbnVdJykpIHtcbiAgICAgICAgdGhpcy50b2dnbGVNZW51KG1lbnVJdGVtKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS11aS1tZW51YmFyLXN1Ym1lbnVdJykpIHtcbiAgICAgIHRoaXMuY2xvc2VBbGxTdWJtZW51cygpXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlTW91c2VPdmVyKGV2ZW50KSB7XG4gICAgY29uc3Qgc3VibWVudUl0ZW0gPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtdWktbWVudWJhci1zdWJtZW51LWl0ZW1dJylcbiAgICBpZiAoc3VibWVudUl0ZW0gJiYgc3VibWVudUl0ZW0uY2xvc2VzdCgnW2RhdGEtdWktbWVudWJhci10b3AtbGV2ZWxdJykpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhpZGVUaW1lb3V0KVxuICAgICAgdGhpcy5zaG93U3VibWVudShzdWJtZW51SXRlbSlcbiAgICB9XG4gIH1cblxuICBoYW5kbGVNb3VzZU91dChldmVudCkge1xuICAgIGNvbnN0IHN1Ym1lbnVJdGVtID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXVpLW1lbnViYXItc3VibWVudS1pdGVtXScpXG4gICAgaWYgKHN1Ym1lbnVJdGVtICYmIHN1Ym1lbnVJdGVtLmNsb3Nlc3QoJ1tkYXRhLXVpLW1lbnViYXItdG9wLWxldmVsXScpKSB7XG4gICAgICB0aGlzLmhpZGVTdWJtZW51V2l0aERlbGF5KHN1Ym1lbnVJdGVtKVxuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZU1lbnUobWVudUl0ZW0pIHtcbiAgICBjb25zdCBpbmRleCA9IG1lbnVJdGVtLmRhdGFzZXQudWlNZW51YmFySXRlbSB8fCBtZW51SXRlbS5kYXRhc2V0LnVpTWVudWJhclN1Ym1lbnVJdGVtXG4gICAgY29uc3QgaGFzU3VibWVudSA9IG1lbnVJdGVtLmRhdGFzZXQuaGFzU3VibWVudSA9PT0gJ3RydWUnXG5cbiAgICBpZiAoaGFzU3VibWVudSkge1xuICAgICAgaWYgKHRoaXMuYWN0aXZlU3VibWVudXMuaGFzKGluZGV4KSkge1xuICAgICAgICB0aGlzLmNsb3NlU3VibWVudSh0aGlzLnN1Ym1lbnVzLmdldChpbmRleCkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNob3dTdWJtZW51KG1lbnVJdGVtKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhgQ2xpY2tlZCBtZW51IGl0ZW06ICR7bWVudUl0ZW0udGV4dENvbnRlbnQudHJpbSgpfWApXG4gICAgICB0aGlzLmNsb3NlQWxsU3VibWVudXMoKVxuICAgIH1cbiAgfVxuXG4gIHNob3dTdWJtZW51KG1lbnVJdGVtKSB7XG4gICAgY29uc3QgaW5kZXggPSBtZW51SXRlbS5kYXRhc2V0LnVpTWVudWJhckl0ZW0gfHwgbWVudUl0ZW0uZGF0YXNldC51aU1lbnViYXJTdWJtZW51SXRlbVxuICAgIGNvbnN0IGhhc1N1Ym1lbnUgPSBtZW51SXRlbS5kYXRhc2V0Lmhhc1N1Ym1lbnUgPT09ICd0cnVlJ1xuXG4gICAgaWYgKGhhc1N1Ym1lbnUpIHtcbiAgICAgIC8vIENsb3NlIHNpYmxpbmcgc3VibWVudXNcbiAgICAgIHRoaXMuY2xvc2VTaWJsaW5nU3VibWVudXMobWVudUl0ZW0pXG5cbiAgICAgIGlmICghdGhpcy5zdWJtZW51cy5oYXMoaW5kZXgpKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlU3VibWVudShtZW51SXRlbSwgaW5kZXgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9wZW5TdWJtZW51KG1lbnVJdGVtLCB0aGlzLnN1Ym1lbnVzLmdldChpbmRleCkpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGlkZVN1Ym1lbnVXaXRoRGVsYXkobWVudUl0ZW0pIHtcbiAgICB0aGlzLmhpZGVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBzdWJtZW51SW5kZXggPSBtZW51SXRlbS5kYXRhc2V0LnVpTWVudWJhckl0ZW0gfHwgbWVudUl0ZW0uZGF0YXNldC51aU1lbnViYXJTdWJtZW51SXRlbVxuICAgICAgaWYgKHN1Ym1lbnVJbmRleCAmJiB0aGlzLnN1Ym1lbnVzLmhhcyhzdWJtZW51SW5kZXgpKSB7XG4gICAgICAgIGNvbnN0IHN1Ym1lbnUgPSB0aGlzLnN1Ym1lbnVzLmdldChzdWJtZW51SW5kZXgpXG4gICAgICAgIGlmICghc3VibWVudS5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgICAgIHRoaXMuY2xvc2VTdWJtZW51KHN1Ym1lbnUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAzMDApXG4gIH1cblxuICBjcmVhdGVTdWJtZW51KG1lbnVJdGVtLCBpbmRleCkge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5zdWJtZW51VGVtcGxhdGVUYXJnZXRcbiAgICBjb25zdCBzdWJtZW51Q29udGVudCA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtc3VibWVudS1mb3I9XCIke2luZGV4fVwiXWApXG4gICAgXG4gICAgaWYgKHN1Ym1lbnVDb250ZW50KSB7XG4gICAgICBjb25zdCBzdWJtZW51ID0gc3VibWVudUNvbnRlbnQuY2xvbmVOb2RlKHRydWUpXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN1Ym1lbnUpXG4gICAgICB0aGlzLnN1Ym1lbnVzLnNldChpbmRleCwgc3VibWVudSlcbiAgICAgIHRoaXMub3BlblN1Ym1lbnUobWVudUl0ZW0sIHN1Ym1lbnUpXG4gICAgfVxuICB9XG5cbiAgb3BlblN1Ym1lbnUobWVudUl0ZW0sIHN1Ym1lbnUpIHtcbiAgICBtZW51SXRlbS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIFwidHJ1ZVwiKVxuICAgIG1lbnVJdGVtLmRhdGFzZXQuc3RhdGUgPSBcIm9wZW5cIlxuICAgIHN1Ym1lbnUuZGF0YXNldC5zdGF0ZSA9IFwib3BlblwiXG4gICAgc3VibWVudS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgXG4gICAgY29uc3QgaW5kZXggPSBtZW51SXRlbS5kYXRhc2V0LnVpTWVudWJhckl0ZW0gfHwgbWVudUl0ZW0uZGF0YXNldC51aU1lbnViYXJTdWJtZW51SXRlbVxuICAgIHRoaXMuYWN0aXZlU3VibWVudXMuYWRkKGluZGV4KVxuXG4gICAgdGhpcy5jbGVhbnVwID0gYXV0b1VwZGF0ZShtZW51SXRlbSwgc3VibWVudSwgKCkgPT4ge1xuICAgICAgdGhpcy5wb3NpdGlvblN1Ym1lbnUobWVudUl0ZW0sIHN1Ym1lbnUpXG4gICAgfSlcbiAgfVxuXG4gIGNsb3NlU3VibWVudShzdWJtZW51KSB7XG4gICAgY29uc3QgaW5kZXggPSBzdWJtZW51LmRhdGFzZXQuc3VibWVudUZvclxuICAgIGNvbnN0IG1lbnVJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdWktbWVudWJhci1pdGVtPVwiJHtpbmRleH1cIl0sIFtkYXRhLXVpLW1lbnViYXItc3VibWVudS1pdGVtPVwiJHtpbmRleH1cIl1gKVxuICAgIFxuICAgIGlmIChtZW51SXRlbSkge1xuICAgICAgbWVudUl0ZW0uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpXG4gICAgICBtZW51SXRlbS5kYXRhc2V0LnN0YXRlID0gXCJjbG9zZWRcIlxuICAgIH1cbiAgICBzdWJtZW51LmRhdGFzZXQuc3RhdGUgPSBcImNsb3NlZFwiXG4gICAgc3VibWVudS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcbiAgICBcbiAgICB0aGlzLmFjdGl2ZVN1Ym1lbnVzLmRlbGV0ZShpbmRleClcbiAgICBcbiAgICBpZiAodGhpcy5jbGVhbnVwKSB7XG4gICAgICB0aGlzLmNsZWFudXAoKVxuICAgICAgdGhpcy5jbGVhbnVwID0gbnVsbFxuICAgIH1cblxuICAgIC8vIENsb3NlIGFsbCBjaGlsZCBzdWJtZW51c1xuICAgIHN1Ym1lbnUucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdWktbWVudWJhci1zdWJtZW51LWl0ZW1dJykuZm9yRWFjaChjaGlsZEl0ZW0gPT4ge1xuICAgICAgY29uc3QgY2hpbGRJbmRleCA9IGNoaWxkSXRlbS5kYXRhc2V0LnVpTWVudWJhclN1Ym1lbnVJdGVtXG4gICAgICBpZiAodGhpcy5zdWJtZW51cy5oYXMoY2hpbGRJbmRleCkpIHtcbiAgICAgICAgdGhpcy5jbG9zZVN1Ym1lbnUodGhpcy5zdWJtZW51cy5nZXQoY2hpbGRJbmRleCkpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNsb3NlU2libGluZ1N1Ym1lbnVzKG1lbnVJdGVtKSB7XG4gICAgY29uc3QgcGFyZW50U3VibWVudSA9IG1lbnVJdGVtLmNsb3Nlc3QoJ1tkYXRhLXVpLW1lbnViYXItc3VibWVudV0nKVxuICAgIGNvbnN0IHNpYmxpbmdJdGVtcyA9IHBhcmVudFN1Ym1lbnUgXG4gICAgICA/IHBhcmVudFN1Ym1lbnUucXVlcnlTZWxlY3RvckFsbCgnOnNjb3BlID4gW2RhdGEtdWktbWVudWJhci1zdWJtZW51LWl0ZW1dJylcbiAgICAgIDogdGhpcy5tZW51SXRlbVRhcmdldHNcblxuICAgIHNpYmxpbmdJdGVtcy5mb3JFYWNoKHNpYmxpbmcgPT4ge1xuICAgICAgaWYgKHNpYmxpbmcgIT09IG1lbnVJdGVtKSB7XG4gICAgICAgIGNvbnN0IHNpYmxpbmdJbmRleCA9IHNpYmxpbmcuZGF0YXNldC51aU1lbnViYXJJdGVtIHx8IHNpYmxpbmcuZGF0YXNldC51aU1lbnViYXJTdWJtZW51SXRlbVxuICAgICAgICBpZiAodGhpcy5hY3RpdmVTdWJtZW51cy5oYXMoc2libGluZ0luZGV4KSkge1xuICAgICAgICAgIHRoaXMuY2xvc2VTdWJtZW51KHRoaXMuc3VibWVudXMuZ2V0KHNpYmxpbmdJbmRleCkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY2xvc2VBbGxTdWJtZW51cygpIHtcbiAgICB0aGlzLmFjdGl2ZVN1Ym1lbnVzLmZvckVhY2goaW5kZXggPT4ge1xuICAgICAgaWYgKHRoaXMuc3VibWVudXMuaGFzKGluZGV4KSkge1xuICAgICAgICB0aGlzLmNsb3NlU3VibWVudSh0aGlzLnN1Ym1lbnVzLmdldChpbmRleCkpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNsZWFudXBBbGxTdWJtZW51cygpIHtcbiAgICB0aGlzLnN1Ym1lbnVzLmZvckVhY2goc3VibWVudSA9PiB7XG4gICAgICBpZiAoc3VibWVudS5wYXJlbnROb2RlKSB7XG4gICAgICAgIHN1Ym1lbnUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdWJtZW51KVxuICAgICAgfVxuICAgIH0pXG4gICAgdGhpcy5zdWJtZW51cy5jbGVhcigpXG4gICAgdGhpcy5hY3RpdmVTdWJtZW51cy5jbGVhcigpXG4gICAgaWYgKHRoaXMuY2xlYW51cCkge1xuICAgICAgdGhpcy5jbGVhbnVwKClcbiAgICAgIHRoaXMuY2xlYW51cCA9IG51bGxcbiAgICB9XG4gIH1cblxuICBwb3NpdGlvblN1Ym1lbnUobWVudUl0ZW0sIHN1Ym1lbnUpIHtcbiAgICBjb25zdCBwYXJlbnRTdWJtZW51ID0gbWVudUl0ZW0uY2xvc2VzdCgnW2RhdGEtdWktbWVudWJhci1zdWJtZW51XScpXG4gICAgY29uc3QgcGxhY2VtZW50ID0gcGFyZW50U3VibWVudSA/ICdyaWdodC1zdGFydCcgOiAnYm90dG9tLXN0YXJ0J1xuXG4gICAgY29tcHV0ZVBvc2l0aW9uKG1lbnVJdGVtLCBzdWJtZW51LCB7XG4gICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgIG1pZGRsZXdhcmU6IFtcbiAgICAgICAgb2Zmc2V0KDQpLFxuICAgICAgICBmbGlwKCksXG4gICAgICAgIHNoaWZ0KHtwYWRkaW5nOiA1fSlcbiAgICAgIF1cbiAgICB9KS50aGVuKCh7eCwgeX0pID0+IHtcbiAgICAgIE9iamVjdC5hc3NpZ24oc3VibWVudS5zdHlsZSwge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgbGVmdDogYCR7eH1weGAsXG4gICAgICAgIHRvcDogYCR7eX1weGAsXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn0iLCAiLy8gYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvdWlfcG9wb3Zlcl9jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5pbXBvcnQgeyBjb21wdXRlUG9zaXRpb24sIGZsaXAsIHNoaWZ0LCBvZmZzZXQsIGFycm93IH0gZnJvbSAnQGZsb2F0aW5nLXVpL2RvbSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJ0cmlnZ2VyXCIsIFwiY29udGVudFRlbXBsYXRlXCIsIFwiYXJyb3dcIl1cbiAgc3RhdGljIHZhbHVlcyA9IHtcbiAgICBwbGFjZW1lbnQ6IFN0cmluZyxcbiAgICBvZmZzZXQ6IE51bWJlcixcbiAgICBhcnJvdzogQm9vbGVhbixcbiAgICB0cmlnZ2VyVHlwZTogU3RyaW5nXG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlXG4gICAgdGhpcy5jbGlja091dHNpZGVIYW5kbGVyID0gdGhpcy5jbGlja091dHNpZGUuYmluZCh0aGlzKVxuICAgIFxuICAgIGlmICh0aGlzLnRyaWdnZXJUeXBlVmFsdWUgPT09ICdob3ZlcicpIHtcbiAgICAgIHRoaXMudHJpZ2dlclRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5zaG93LmJpbmQodGhpcykpXG4gICAgICB0aGlzLnRyaWdnZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuaGlkZS5iaW5kKHRoaXMpKVxuICAgIH1cbiAgfVxuXG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrT3V0c2lkZUhhbmRsZXIpXG4gICAgaWYgKHRoaXMudHJpZ2dlclR5cGVWYWx1ZSA9PT0gJ2hvdmVyJykge1xuICAgICAgdGhpcy50cmlnZ2VyVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLnNob3cuYmluZCh0aGlzKSlcbiAgICAgIHRoaXMudHJpZ2dlclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5oaWRlLmJpbmQodGhpcykpXG4gICAgfVxuICAgIGlmICh0aGlzLnBvcG92ZXJDb250ZW50KSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMucG9wb3ZlckNvbnRlbnQpXG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICB0aGlzLnZpc2libGUgPyB0aGlzLmhpZGUoKSA6IHRoaXMuc2hvdygpXG4gIH1cblxuICBzaG93KCkge1xuICAgIGlmICghdGhpcy5wb3BvdmVyQ29udGVudCkge1xuICAgICAgdGhpcy5wb3BvdmVyQ29udGVudCA9IHRoaXMuY29udGVudFRlbXBsYXRlVGFyZ2V0LmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xvbmVOb2RlKHRydWUpXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucG9wb3ZlckNvbnRlbnQpXG4gICAgfVxuICAgIHRoaXMucG9wb3ZlckNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICB0aGlzLnBvcG92ZXJDb250ZW50LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJyAvLyBIaWRlIGNvbnRlbnQgd2hpbGUgcG9zaXRpb25pbmdcbiAgICBcbiAgICAvLyBVc2Ugc2V0VGltZW91dCB0byBlbnN1cmUgY29udGVudCBpcyByZW5kZXJlZCBiZWZvcmUgcG9zaXRpb25pbmdcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMucG9zaXRpb25Qb3BvdmVyKClcbiAgICAgIHRoaXMucG9wb3ZlckNvbnRlbnQuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJyAvLyBTaG93IGNvbnRlbnQgYWZ0ZXIgcG9zaXRpb25pbmdcbiAgICB9LCAwKVxuXG4gICAgdGhpcy52aXNpYmxlID0gdHJ1ZVxuICAgIGlmICh0aGlzLnRyaWdnZXJUeXBlVmFsdWUgPT09ICdjbGljaycpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja091dHNpZGVIYW5kbGVyKVxuICAgIH1cbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgaWYgKHRoaXMucG9wb3ZlckNvbnRlbnQpIHtcbiAgICAgIHRoaXMucG9wb3ZlckNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIH1cbiAgICB0aGlzLnZpc2libGUgPSBmYWxzZVxuICAgIGlmICh0aGlzLnRyaWdnZXJUeXBlVmFsdWUgPT09ICdjbGljaycpIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja091dHNpZGVIYW5kbGVyKVxuICAgIH1cbiAgfVxuXG4gIGNsaWNrT3V0c2lkZShldmVudCkge1xuICAgIGlmICghdGhpcy5lbGVtZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgJiYgIXRoaXMucG9wb3ZlckNvbnRlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgdGhpcy5oaWRlKClcbiAgICB9XG4gIH1cblxuICBwb3NpdGlvblBvcG92ZXIoKSB7XG4gICAgY29uc3QgbWlkZGxld2FyZSA9IFtcbiAgICAgIG9mZnNldCh0aGlzLm9mZnNldFZhbHVlKSxcbiAgICAgIGZsaXAoKSxcbiAgICAgIHNoaWZ0KHtwYWRkaW5nOiA1fSksXG4gICAgXVxuXG4gICAgaWYgKHRoaXMuYXJyb3dWYWx1ZSkge1xuICAgICAgY29uc3QgYXJyb3dFbGVtZW50ID0gdGhpcy5wb3BvdmVyQ29udGVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS11aS1wb3BvdmVyLXRhcmdldD1cImFycm93XCJdJylcbiAgICAgIGlmIChhcnJvd0VsZW1lbnQpIHtcbiAgICAgICAgbWlkZGxld2FyZS5wdXNoKGFycm93KHsgZWxlbWVudDogYXJyb3dFbGVtZW50IH0pKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbXB1dGVQb3NpdGlvbih0aGlzLnRyaWdnZXJUYXJnZXQsIHRoaXMucG9wb3ZlckNvbnRlbnQsIHtcbiAgICAgIHBsYWNlbWVudDogdGhpcy5wbGFjZW1lbnRWYWx1ZSxcbiAgICAgIG1pZGRsZXdhcmU6IG1pZGRsZXdhcmUsXG4gICAgfSkudGhlbigoe3gsIHksIHBsYWNlbWVudCwgbWlkZGxld2FyZURhdGF9KSA9PiB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMucG9wb3ZlckNvbnRlbnQuc3R5bGUsIHtcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIGxlZnQ6IGAke3h9cHhgLFxuICAgICAgICB0b3A6IGAke3l9cHhgLFxuICAgICAgICB6SW5kZXg6IDEwMDAsXG4gICAgICB9KVxuXG4gICAgICBcbiAgICAgIGlmICh0aGlzLmFycm93VmFsdWUpIHtcbiAgICAgICAgY29uc3QgYXJyb3dFbGVtZW50ID0gdGhpcy5wb3BvdmVyQ29udGVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS11aS1wb3BvdmVyLXRhcmdldD1cImFycm93XCJdJylcbiAgICAgICAgaWYgKGFycm93RWxlbWVudCkge1xuICAgICAgICAgIGNvbnN0IHt4OiBhcnJvd1gsIHk6IGFycm93WX0gPSBtaWRkbGV3YXJlRGF0YS5hcnJvd1xuXG4gICAgICAgICAgY29uc3Qgc3RhdGljU2lkZSA9IHtcbiAgICAgICAgICAgIHRvcDogJ2JvdHRvbScsXG4gICAgICAgICAgICByaWdodDogJ2xlZnQnLFxuICAgICAgICAgICAgYm90dG9tOiAndG9wJyxcbiAgICAgICAgICAgIGxlZnQ6ICdyaWdodCcsXG4gICAgICAgICAgfVtwbGFjZW1lbnQuc3BsaXQoJy0nKVswXV1cblxuICAgICAgICAgIE9iamVjdC5hc3NpZ24oYXJyb3dFbGVtZW50LnN0eWxlLCB7XG4gICAgICAgICAgICBsZWZ0OiBhcnJvd1ggIT0gbnVsbCA/IGAke2Fycm93WH1weGAgOiAnJyxcbiAgICAgICAgICAgIHRvcDogYXJyb3dZICE9IG51bGwgPyBgJHthcnJvd1l9cHhgIDogJycsXG4gICAgICAgICAgICByaWdodDogJycsXG4gICAgICAgICAgICBib3R0b206ICcnLFxuICAgICAgICAgICAgW3N0YXRpY1NpZGVdOiAnLTRweCcsXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn0iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwic3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy9cbi8vICAgZGlzY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gfVxuIiwgIi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpX3Jlc2l6YWJsZV9jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5pbXBvcnQgaW50ZXJhY3QgZnJvbSBcImludGVyYWN0anNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdmFsdWVzID0ge1xuICAgIGRpcmVjdGlvbjogU3RyaW5nLFxuICAgIHBhbmVsczogQXJyYXlcbiAgfVxuXG4gIGNvbm5lY3QoKSB7XG4gICAgdGhpcy5pbml0aWFsaXplUmVzaXphYmxlKClcbiAgfVxuXG4gIGluaXRpYWxpemVSZXNpemFibGUoKSB7XG4gICAgY29uc3QgaXNIb3Jpem9udGFsID0gdGhpcy5kaXJlY3Rpb25WYWx1ZSA9PT0gXCJob3Jpem9udGFsXCJcbiAgICBjb25zdCBoYW5kbGVzID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhbmVsLXJlc2l6ZS1oYW5kbGUtZW5hYmxlZD1cInRydWVcIl0nKVxuXG4gICAgaGFuZGxlcy5mb3JFYWNoKChoYW5kbGUsIGluZGV4KSA9PiB7XG4gICAgICBpbnRlcmFjdChoYW5kbGUpLmRyYWdnYWJsZSh7XG4gICAgICAgIGF4aXM6IGlzSG9yaXpvbnRhbCA/IFwieFwiIDogXCJ5XCIsXG4gICAgICAgIGxpc3RlbmVyczoge1xuICAgICAgICAgIG1vdmU6IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJldlBhbmVsID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXBhbmVsLWlkPVwiJHt0aGlzLmVsZW1lbnQuaWR9LXBhbmVsLSR7aW5kZXh9XCJdYClcbiAgICAgICAgICAgIGNvbnN0IG5leHRQYW5lbCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wYW5lbC1pZD1cIiR7dGhpcy5lbGVtZW50LmlkfS1wYW5lbC0ke2luZGV4ICsgMX1cIl1gKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBwcmV2U2l6ZSA9IHBhcnNlRmxvYXQocHJldlBhbmVsLmRhdGFzZXQucGFuZWxTaXplKVxuICAgICAgICAgICAgY29uc3QgbmV4dFNpemUgPSBwYXJzZUZsb2F0KG5leHRQYW5lbC5kYXRhc2V0LnBhbmVsU2l6ZSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgdG90YWxTaXplID0gcHJldlNpemUgKyBuZXh0U2l6ZVxuICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBpc0hvcml6b250YWwgPyBcbiAgICAgICAgICAgICAgKGV2ZW50LmR4IC8gdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoKSAqIHRvdGFsU2l6ZSA6XG4gICAgICAgICAgICAgIChldmVudC5keSAvIHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQpICogdG90YWxTaXplXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IG5ld1ByZXZTaXplID0gTWF0aC5tYXgoMTAsIE1hdGgubWluKDkwLCBwcmV2U2l6ZSArIGRlbHRhKSlcbiAgICAgICAgICAgIGNvbnN0IG5ld05leHRTaXplID0gdG90YWxTaXplIC0gbmV3UHJldlNpemVcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcHJldlBhbmVsLnN0eWxlLmZsZXggPSBgJHtuZXdQcmV2U2l6ZX0gMSAwJWBcbiAgICAgICAgICAgIG5leHRQYW5lbC5zdHlsZS5mbGV4ID0gYCR7bmV3TmV4dFNpemV9IDEgMCVgXG4gICAgICAgICAgICBwcmV2UGFuZWwuZGF0YXNldC5wYW5lbFNpemUgPSBuZXdQcmV2U2l6ZS50b1N0cmluZygpXG4gICAgICAgICAgICBuZXh0UGFuZWwuZGF0YXNldC5wYW5lbFNpemUgPSBuZXdOZXh0U2l6ZS50b1N0cmluZygpXG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBhcmlhIHZhbHVlc1xuICAgICAgICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIG5ld1ByZXZTaXplLnRvRml4ZWQoMCkpXG4gICAgICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbWF4JywgJzkwJylcbiAgICAgICAgICAgIGhhbmRsZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVtaW4nLCAnMTAnKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9XG59IiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvdWktc2hlZXQtY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuaW1wb3J0IHsgdXNlVHJhbnNpdGlvbiB9IGZyb20gXCJzdGltdWx1cy11c2VcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcIm92ZXJsYXlcIiwgXCJjb250ZW50XCJdXG5cbiAgY29ubmVjdCgpIHtcbiAgICB1c2VUcmFuc2l0aW9uKHRoaXMsIHtcbiAgICAgIGVsZW1lbnQ6IHRoaXMuY29udGVudFRhcmdldCxcbiAgICAgIGVudGVyQWN0aXZlOiAndHJhbnNpdGlvbiBlYXNlLW91dCBkdXJhdGlvbi0zMDAnLFxuICAgICAgZW50ZXJGcm9tOiB0aGlzLmdldEVudGVyRnJvbUNsYXNzKCksXG4gICAgICBlbnRlclRvOiB0aGlzLmdldEVudGVyVG9DbGFzcygpLFxuICAgICAgbGVhdmVBY3RpdmU6ICd0cmFuc2l0aW9uIGVhc2UtaW4gZHVyYXRpb24tMjAwJyxcbiAgICAgIGxlYXZlRnJvbTogdGhpcy5nZXRFbnRlclRvQ2xhc3MoKSxcbiAgICAgIGxlYXZlVG86IHRoaXMuZ2V0RW50ZXJGcm9tQ2xhc3MoKSxcbiAgICB9KVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLm92ZXJsYXlUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcbiAgICB0aGlzLmNvbnRlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcbiAgICB0aGlzLmVudGVyKClcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMubGVhdmUoKVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5vdmVybGF5VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgICB0aGlzLmNvbnRlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICB9LCAyMDApIC8vIE1hdGNoIHRoaXMgd2l0aCB0aGUgdHJhbnNpdGlvbiBkdXJhdGlvblxuICB9XG5cbiAgY2xpY2tPdXRzaWRlKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmNvbnRlbnRUYXJnZXQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfVxuICB9XG5cbiAgXG4gIGdldEVudGVyRnJvbUNsYXNzKCkge1xuICAgIGNvbnN0IHNpZGUgPSB0aGlzLmNvbnRlbnRUYXJnZXQuZGF0YXNldC5zaWRlXG4gICAgc3dpdGNoIChzaWRlKSB7XG4gICAgICBjYXNlICd0b3AnOiByZXR1cm4gJy10cmFuc2xhdGUteS1mdWxsJ1xuICAgICAgY2FzZSAncmlnaHQnOiByZXR1cm4gJ3RyYW5zbGF0ZS14LWZ1bGwnXG4gICAgICBjYXNlICdib3R0b20nOiByZXR1cm4gJ3RyYW5zbGF0ZS15LWZ1bGwnXG4gICAgICBjYXNlICdsZWZ0JzogcmV0dXJuICctdHJhbnNsYXRlLXgtZnVsbCdcbiAgICAgIGRlZmF1bHQ6IHJldHVybiAndHJhbnNsYXRlLXgtZnVsbCdcbiAgICB9XG4gIH1cblxuICBnZXRFbnRlclRvQ2xhc3MoKSB7XG4gICAgcmV0dXJuICd0cmFuc2xhdGUteS0wIHRyYW5zbGF0ZS14LTAnXG4gIH1cbn0iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbiBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiO1xuLy9cbiBleHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuICAgY29ubmVjdCgpIHtcbiAgIH1cbiAgIGRpc2Nvbm5lY3QoKSB7XG4gICB9XG4gfVxuIiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4vLyBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcInN0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4vLyAgIGNvbm5lY3QoKSB7XG4vLyAgIH1cbi8vXG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJzdGltdWx1c1wiO1xuLy9cbi8vIGV4cG9ydCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vL1xuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBhcHAvamF2YXNjcmlwdC9jb250cm9sbGVycy91aV90b2FzdF9jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5pbXBvcnQgeyBlbnRlciwgbGVhdmUgfSBmcm9tICdlbC10cmFuc2l0aW9uJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcImNvbnRhaW5lclwiLCBcIml0ZW1cIl1cbiAgc3RhdGljIHZhbHVlcyA9IHtcbiAgICB0aGVtZTogU3RyaW5nLFxuICAgIHBvc2l0aW9uWTogU3RyaW5nLFxuICAgIHBvc2l0aW9uWDogU3RyaW5nXG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIHRoaXMuc2V0dXBDdXN0b21FdmVudCgpXG4gICAgdGhpcy5zZXR1cFR1cmJvU3RyZWFtTGlzdGVuZXIoKVxuICB9XG5cbiAgc2V0dXBDdXN0b21FdmVudCgpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd1aTp0b2FzdCcsIHRoaXMuaGFuZGxlQ3VzdG9tVG9hc3QuYmluZCh0aGlzKSlcbiAgfVxuXG4gIHNldHVwVHVyYm9TdHJlYW1MaXN0ZW5lcigpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0dXJibzpiZWZvcmUtc3RyZWFtLXJlbmRlcicsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdHVyYm9TdHJlYW0gPSBldmVudC50YXJnZXRcbiAgICAgIGlmICh0dXJib1N0cmVhbS5hY3Rpb24gPT09ICdhcHBlbmQnICYmIHR1cmJvU3RyZWFtLnRhcmdldCA9PT0gJ3RvYXN0cycpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICB0aGlzLmFwcGVuZFRvYXN0KHR1cmJvU3RyZWFtLnRlbXBsYXRlQ29udGVudC5xdWVyeVNlbGVjdG9yKCdsaScpKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVDdXN0b21Ub2FzdChldmVudCkge1xuICAgIGNvbnN0IHsgdGl0bGUsIGNvbnRlbnQsIHR5cGUgfSA9IGV2ZW50LmRldGFpbFxuICAgIHRoaXMuYXBwZW5kVG9hc3QodGhpcy5jcmVhdGVUb2FzdEVsZW1lbnQodGl0bGUsIGNvbnRlbnQsIHR5cGUpKVxuICB9XG5cbiAgY3JlYXRlVG9hc3RFbGVtZW50KHRpdGxlLCBjb250ZW50LCB0eXBlKSB7XG4gICAgY29uc3QgdG9hc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpXG4gICAgdG9hc3QuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBkYXRhLWNvbnRlbnQ9XCJcIj5cbiAgICAgICAgPGRpdiBkYXRhLXRpdGxlPVwiXCI+JHt0aXRsZX08L2Rpdj5cbiAgICAgICAgPGRpdj4ke2NvbnRlbnR9PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgXG4gICAgdG9hc3QuY2xhc3NOYW1lID0gXCJtYi0yIHAtNCByb3VuZGVkLW1kIHNoYWRvdy1tZCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgdHJhbnNmb3JtIHRyYW5zbGF0ZS15LWZ1bGwgb3BhY2l0eS0wLVwiXG4gICAgLy8gdGhpcy5pdGVtVGFyZ2V0c1swXS5jbGFzc05hbWVcbiAgICB0b2FzdC5kYXRhc2V0LnVpVG9hc3RUYXJnZXQgPSBcIml0ZW1cIlxuICAgIHRvYXN0LmRhdGFzZXQuYWN0aW9uID0gXCJjbGljay0+dWktdG9hc3QjZGlzbWlzc1wiXG4gICAgcmV0dXJuIHRvYXN0XG4gIH1cblxuICBhcHBlbmRUb2FzdCh0b2FzdEVsZW1lbnQpIHtcbiAgICB0aGlzLmNvbnRhaW5lclRhcmdldC5hcHBlbmRDaGlsZCh0b2FzdEVsZW1lbnQpXG4gICAgZW50ZXIodG9hc3RFbGVtZW50KVxuICAgIC8vIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5kaXNtaXNzKHsgdGFyZ2V0OiB0b2FzdEVsZW1lbnQgfSksIDUwMDApXG4gIH1cblxuICBkaXNtaXNzKGV2ZW50KSB7XG4gICAgY29uc3QgdG9hc3QgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtdWktdG9hc3QtdGFyZ2V0PVwiaXRlbVwiXScpXG4gICAgbGVhdmUodG9hc3QpLnRoZW4oKCkgPT4ge1xuICAgICAgdG9hc3QucmVtb3ZlKClcbiAgICB9KVxuICB9XG59IiwgImV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbnRlcihlbGVtZW50LCB0cmFuc2l0aW9uTmFtZSA9IG51bGwpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgYXdhaXQgdHJhbnNpdGlvbignZW50ZXInLCBlbGVtZW50LCB0cmFuc2l0aW9uTmFtZSlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxlYXZlKGVsZW1lbnQsIHRyYW5zaXRpb25OYW1lID0gbnVsbCkge1xuICAgIGF3YWl0IHRyYW5zaXRpb24oJ2xlYXZlJywgZWxlbWVudCwgdHJhbnNpdGlvbk5hbWUpXG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9nZ2xlKGVsZW1lbnQsIHRyYW5zaXRpb25OYW1lID0gbnVsbCkge1xuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgYXdhaXQgZW50ZXIoZWxlbWVudCwgdHJhbnNpdGlvbk5hbWUpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgbGVhdmUoZWxlbWVudCwgdHJhbnNpdGlvbk5hbWUpXG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiB0cmFuc2l0aW9uKGRpcmVjdGlvbiwgZWxlbWVudCwgYW5pbWF0aW9uKSB7XG4gICAgY29uc3QgZGF0YXNldCA9IGVsZW1lbnQuZGF0YXNldFxuICAgIGNvbnN0IGFuaW1hdGlvbkNsYXNzID0gYW5pbWF0aW9uID8gYCR7YW5pbWF0aW9ufS0ke2RpcmVjdGlvbn1gIDogZGlyZWN0aW9uXG4gICAgbGV0IHRyYW5zaXRpb24gPSBgdHJhbnNpdGlvbiR7ZGlyZWN0aW9uLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZGlyZWN0aW9uLnNsaWNlKDEpfWBcbiAgICBjb25zdCBnZW5lc2lzID0gZGF0YXNldFt0cmFuc2l0aW9uXSA/IGRhdGFzZXRbdHJhbnNpdGlvbl0uc3BsaXQoXCIgXCIpIDogW2FuaW1hdGlvbkNsYXNzXVxuICAgIGNvbnN0IHN0YXJ0ID0gZGF0YXNldFtgJHt0cmFuc2l0aW9ufVN0YXJ0YF0gPyBkYXRhc2V0W2Ake3RyYW5zaXRpb259U3RhcnRgXS5zcGxpdChcIiBcIikgOiBbYCR7YW5pbWF0aW9uQ2xhc3N9LXN0YXJ0YF1cbiAgICBjb25zdCBlbmQgPSBkYXRhc2V0W2Ake3RyYW5zaXRpb259RW5kYF0gPyBkYXRhc2V0W2Ake3RyYW5zaXRpb259RW5kYF0uc3BsaXQoXCIgXCIpIDogW2Ake2FuaW1hdGlvbkNsYXNzfS1lbmRgXVxuXG4gICAgYWRkQ2xhc3NlcyhlbGVtZW50LCBnZW5lc2lzKVxuICAgIGFkZENsYXNzZXMoZWxlbWVudCwgc3RhcnQpXG4gICAgYXdhaXQgbmV4dEZyYW1lKClcbiAgICByZW1vdmVDbGFzc2VzKGVsZW1lbnQsIHN0YXJ0KVxuICAgIGFkZENsYXNzZXMoZWxlbWVudCwgZW5kKTtcbiAgICBhd2FpdCBhZnRlclRyYW5zaXRpb24oZWxlbWVudClcbiAgICByZW1vdmVDbGFzc2VzKGVsZW1lbnQsIGVuZClcbiAgICByZW1vdmVDbGFzc2VzKGVsZW1lbnQsIGdlbmVzaXMpXG59XG5cbmZ1bmN0aW9uIGFkZENsYXNzZXMoZWxlbWVudCwgY2xhc3Nlcykge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzKVxufVxuXG5mdW5jdGlvbiByZW1vdmVDbGFzc2VzKGVsZW1lbnQsIGNsYXNzZXMpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoLi4uY2xhc3Nlcylcbn1cblxuZnVuY3Rpb24gbmV4dEZyYW1lKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZXNvbHZlKVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYWZ0ZXJUcmFuc2l0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIC8vIHNhZmFyaSByZXR1cm4gc3RyaW5nIHdpdGggY29tbWEgc2VwYXJhdGUgdmFsdWVzXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkRHVyYXRpb24gPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnRyYW5zaXRpb25EdXJhdGlvbi5zcGxpdChcIixcIilbMF1cbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBOdW1iZXIoY29tcHV0ZWREdXJhdGlvbi5yZXBsYWNlKCdzJywgJycpKSAqIDEwMDA7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgIH0sIGR1cmF0aW9uKVxuICAgIH0pO1xufSIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpLXRvZ2dsZS1jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIHN0YXRpYyB0YXJnZXRzID0gW1wiYnV0dG9uXCJdXG4gIHN0YXRpYyB2YWx1ZXMgPSB7XG4gICAgcHJlc3NlZDogQm9vbGVhblxuICB9XG5cbiAgY29ubmVjdCgpIHtcbiAgICB0aGlzLnVwZGF0ZVByZXNzZWQoKVxuICB9XG5cbiAgdG9nZ2xlKCkge1xuICAgIHRoaXMucHJlc3NlZFZhbHVlID0gIXRoaXMucHJlc3NlZFZhbHVlXG4gICAgdGhpcy51cGRhdGVQcmVzc2VkKClcbiAgfVxuXG4gIHVwZGF0ZVByZXNzZWQoKSB7XG4gICAgdGhpcy5idXR0b25UYXJnZXQuc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsIHRoaXMucHJlc3NlZFZhbHVlKVxuICAgIHRoaXMuYnV0dG9uVGFyZ2V0LmRhdGFzZXQuc3RhdGUgPSB0aGlzLnByZXNzZWRWYWx1ZSA/IFwib25cIiA6IFwib2ZmXCJcbiAgfVxufSIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcbmltcG9ydCB7IGNvbXB1dGVQb3NpdGlvbiwgYXV0b1VwZGF0ZSwgZmxpcCwgc2hpZnQsIG9mZnNldCwgYXJyb3cgfSBmcm9tICdAZmxvYXRpbmctdWkvZG9tJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcInRyaWdnZXJcIiwgXCJjb250ZW50XCIsIFwiYXJyb3dcIl1cbiAgc3RhdGljIHZhbHVlcyA9IHsgXG4gICAgZGVsYXk6IE51bWJlcixcbiAgICBwbGFjZW1lbnQ6IFN0cmluZ1xuICB9XG5cbiAgY29ubmVjdCgpIHtcbiAgICB0aGlzLnNob3dUb29sdGlwQm91bmQgPSB0aGlzLnNob3dUb29sdGlwLmJpbmQodGhpcylcbiAgICB0aGlzLmhpZGVUb29sdGlwQm91bmQgPSB0aGlzLmhpZGVUb29sdGlwLmJpbmQodGhpcylcblxuICAgIHRoaXMudHJpZ2dlclRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCB0aGlzLnNob3dUb29sdGlwQm91bmQpXG4gICAgdGhpcy50cmlnZ2VyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMuaGlkZVRvb2x0aXBCb3VuZClcbiAgICB0aGlzLnRyaWdnZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIHRoaXMuc2hvd1Rvb2x0aXBCb3VuZClcbiAgICB0aGlzLnRyaWdnZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgdGhpcy5oaWRlVG9vbHRpcEJvdW5kKVxuXG4gICAgdGhpcy5jbGVhbnVwID0gYXV0b1VwZGF0ZShcbiAgICAgIHRoaXMudHJpZ2dlclRhcmdldCxcbiAgICAgIHRoaXMuY29udGVudFRhcmdldCxcbiAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24uYmluZCh0aGlzKVxuICAgIClcbiAgfVxuXG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgdGhpcy50cmlnZ2VyVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIHRoaXMuc2hvd1Rvb2x0aXBCb3VuZClcbiAgICB0aGlzLnRyaWdnZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5oaWRlVG9vbHRpcEJvdW5kKVxuICAgIHRoaXMudHJpZ2dlclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgdGhpcy5zaG93VG9vbHRpcEJvdW5kKVxuICAgIHRoaXMudHJpZ2dlclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmx1clwiLCB0aGlzLmhpZGVUb29sdGlwQm91bmQpXG5cbiAgICBpZiAodGhpcy5jbGVhbnVwKSB7XG4gICAgICB0aGlzLmNsZWFudXAoKVxuICAgIH1cbiAgfVxuXG4gIHNob3dUb29sdGlwKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmhpZGVUaW1lb3V0KVxuICAgIHRoaXMuc2hvd1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuY29udGVudFRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpXG4gICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKClcbiAgICB9LCB0aGlzLmRlbGF5VmFsdWUpXG4gIH1cblxuICBoaWRlVG9vbHRpcCgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5zaG93VGltZW91dClcbiAgICB0aGlzLmhpZGVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmNvbnRlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKVxuICAgIH0sIDQwKVxuICB9XG5cbiAgdXBkYXRlUG9zaXRpb24oKSB7XG4gICAgY29tcHV0ZVBvc2l0aW9uKHRoaXMudHJpZ2dlclRhcmdldCwgdGhpcy5jb250ZW50VGFyZ2V0LCB7XG4gICAgICBwbGFjZW1lbnQ6IHRoaXMucGxhY2VtZW50VmFsdWUsXG4gICAgICBtaWRkbGV3YXJlOiBbXG4gICAgICAgIG9mZnNldCg2KSxcbiAgICAgICAgZmxpcCgpLFxuICAgICAgICBzaGlmdCh7IHBhZGRpbmc6IDUgfSksXG4gICAgICAgIGFycm93KHsgZWxlbWVudDogdGhpcy5hcnJvd1RhcmdldCB9KSxcbiAgICAgIF0sXG4gICAgfSkudGhlbigoeyB4LCB5LCBwbGFjZW1lbnQsIG1pZGRsZXdhcmVEYXRhIH0pID0+IHtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb250ZW50VGFyZ2V0LnN0eWxlLCB7XG4gICAgICAgIGxlZnQ6IGAke3h9cHhgLFxuICAgICAgICB0b3A6IGAke3l9cHhgLFxuICAgICAgfSlcblxuICAgICAgY29uc3QgeyB4OiBhcnJvd1gsIHk6IGFycm93WSB9ID0gbWlkZGxld2FyZURhdGEuYXJyb3dcblxuICAgICAgY29uc3Qgc3RhdGljU2lkZSA9IHtcbiAgICAgICAgdG9wOiAnYm90dG9tJyxcbiAgICAgICAgcmlnaHQ6ICdsZWZ0JyxcbiAgICAgICAgYm90dG9tOiAndG9wJyxcbiAgICAgICAgbGVmdDogJ3JpZ2h0JyxcbiAgICAgIH1bcGxhY2VtZW50LnNwbGl0KCctJylbMF1dXG5cbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5hcnJvd1RhcmdldC5zdHlsZSwge1xuICAgICAgICBsZWZ0OiBhcnJvd1ggIT0gbnVsbCA/IGAke2Fycm93WH1weGAgOiAnJyxcbiAgICAgICAgdG9wOiBhcnJvd1kgIT0gbnVsbCA/IGAke2Fycm93WX1weGAgOiAnJyxcbiAgICAgICAgcmlnaHQ6ICcnLFxuICAgICAgICBib3R0b206ICcnLFxuICAgICAgICBbc3RhdGljU2lkZV06ICctNHB4JyxcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufSIsICJcbiAgICAgICAgaW1wb3J0ICogYXMgbW9kdWxlMCBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2FjY29yZGlvbi9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMSBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2FjY29yZGlvbl9pdGVtL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUyIGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYWxlcnQvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTMgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hbGVydF9kaWFsb2cvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTQgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hc3BlY3RfcmF0aW8vaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTUgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hdmF0YXIvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTYgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9iYWRnZS9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlNyBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2JyZWFkY3J1bWIvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTggZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9icmVhZGNydW1iX2l0ZW0vaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTkgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9idXR0b24vaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTEwIGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY2FsZW5kYXIvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTExIGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY2FyZC9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMTIgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jYXJvdXNlbC9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMTMgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jb2xsYXBzaWJsZS9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMTQgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jb21tYW5kL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUxNSBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2NvbnRleHRfbWVudS9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMTYgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9kaWFsb2cvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTE3IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvZHJvcGRvd25fbWVudS9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMTggZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9kcm9wZG93bl9tZW51X2l0ZW0vaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTE5IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvaW5wdXRfb3RwL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUyMCBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL21lbnViYXIvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTIxIGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvcG9wb3Zlci9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMjIgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9wcm9ncmVzcy9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMjMgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9yZXNpemFibGUvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTI0IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvc2hlZXQvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTI1IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvc2tlbGV0b24vaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTI2IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvdGFibGUvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTI3IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvdGFicy9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMjggZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90b2FzdC9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMjkgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90b2FzdF9pdGVtL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUzMCBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3RvZ2dsZS9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMzEgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90b29sdGlwL2luZGV4LmpzJ1xuICAgICAgICBjb25zdCBtb2R1bGVzID0gW3tuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tYWNjb3JkaW9uLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMCwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hY2NvcmRpb24vaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWFjY29yZGlvbi1pdGVtLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMSwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hY2NvcmRpb25faXRlbS9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tYWxlcnQtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUyLCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2FsZXJ0L2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1hbGVydC1kaWFsb2ctLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUzLCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2FsZXJ0X2RpYWxvZy9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tYXNwZWN0LXJhdGlvLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlNCwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hc3BlY3RfcmF0aW8vaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWF2YXRhci0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTUsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYXZhdGFyL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1iYWRnZS0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTYsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYmFkZ2UvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWJyZWFkY3J1bWItLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGU3LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2JyZWFkY3J1bWIvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWJyZWFkY3J1bWItaXRlbS0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTgsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYnJlYWRjcnVtYl9pdGVtL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1idXR0b24tLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGU5LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2J1dHRvbi9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tY2FsZW5kYXItLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUxMCwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jYWxlbmRhci9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tY2FyZC0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTExLCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2NhcmQvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWNhcm91c2VsLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMTIsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY2Fyb3VzZWwvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWNvbGxhcHNpYmxlLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMTMsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY29sbGFwc2libGUvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWNvbW1hbmQtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUxNCwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jb21tYW5kL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1jb250ZXh0LW1lbnUtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUxNSwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jb250ZXh0X21lbnUvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWRpYWxvZy0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTE2LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2RpYWxvZy9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tZHJvcGRvd24tbWVudS0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTE3LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2Ryb3Bkb3duX21lbnUvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWRyb3Bkb3duLW1lbnUtaXRlbS0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTE4LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2Ryb3Bkb3duX21lbnVfaXRlbS9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0taW5wdXQtb3RwLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMTksIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvaW5wdXRfb3RwL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1tZW51YmFyLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMjAsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvbWVudWJhci9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tcG9wb3Zlci0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTIxLCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3BvcG92ZXIvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXByb2dyZXNzLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMjIsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvcHJvZ3Jlc3MvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXJlc2l6YWJsZS0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTIzLCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3Jlc2l6YWJsZS9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tc2hlZXQtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUyNCwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9zaGVldC9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tc2tlbGV0b24tLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUyNSwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9za2VsZXRvbi9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tdGFibGUtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUyNiwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90YWJsZS9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tdGFicy0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTI3LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3RhYnMvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXRvYXN0LS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMjgsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvdG9hc3QvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXRvYXN0LWl0ZW0tLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUyOSwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90b2FzdF9pdGVtL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS10b2dnbGUtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUzMCwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90b2dnbGUvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXRvb2x0aXAtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUzMSwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90b29sdGlwL2luZGV4LmpzJ31dXG4gICAgICAgIGV4cG9ydCBkZWZhdWx0IG1vZHVsZXM7XG4gICAgICAiLCAiLy8gVGhpcyBmaWxlIGlzIGF1dG8tZ2VuZXJhdGVkIGJ5IC4vYmluL3JhaWxzIHN0aW11bHVzOm1hbmlmZXN0OnVwZGF0ZVxuLy8gUnVuIHRoYXQgY29tbWFuZCB3aGVuZXZlciB5b3UgYWRkIGEgbmV3IGNvbnRyb2xsZXIgb3IgY3JlYXRlIHRoZW0gd2l0aFxuLy8gLi9iaW4vcmFpbHMgZ2VuZXJhdGUgc3RpbXVsdXMgY29udHJvbGxlck5hbWVcblxuaW1wb3J0IHsgYXBwbGljYXRpb24gfSBmcm9tIFwiLi9hcHBsaWNhdGlvblwiXG5cbmltcG9ydCBjb250cm9sbGVycyBmcm9tICcuLyoqLypfY29udHJvbGxlci5qcyc7XG5cbi8vIGltcG9ydCAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvaW5kZXguanMnXG5cblxuY29udHJvbGxlcnMuZm9yRWFjaCgoY29udHJvbGxlcikgPT4ge1xuICBhcHBsaWNhdGlvbi5yZWdpc3Rlcihjb250cm9sbGVyLm5hbWUsIGNvbnRyb2xsZXIubW9kdWxlLmRlZmF1bHQpO1xufSk7XG5cblxuaW1wb3J0IHVpQ29udHJvbGxlcnMgZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpLyoqLyppbmRleC5qc1wiXG5cblxuY29uc29sZS5sb2codWlDb250cm9sbGVycylcblxudWlDb250cm9sbGVycy5mb3JFYWNoKChjb250cm9sbGVyKSA9PiB7XG4gIGlmKGNvbnRyb2xsZXIubW9kdWxlLmRlZmF1bHQpe1xuICAgIC8vIC4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXNrZWxldG9uXG4gICAgbGV0IG5hbWUgPSBjb250cm9sbGVyLm5hbWUucmVwbGFjZShcIi0taW5kZXguanNcIiwgXCJcIilcbiAgICBuYW1lID0gbmFtZS5yZXBsYWNlKFwiLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tXCIsIFwiXCIpXG4gICAgbmFtZSA9IGB1aS0ke25hbWV9YFxuICAgIGNvbnNvbGUubG9nKFwiQURESU5ERyBDT05UUk9MTEVSXCIsIG5hbWUpXG4gICAgYXBwbGljYXRpb24ucmVnaXN0ZXIobmFtZSwgY29udHJvbGxlci5tb2R1bGUuZGVmYXVsdCk7XG4gIH1cblxufSk7XG5cbmNvbnNvbGUubG9nKGFwcGxpY2F0aW9uKVxuXG5cblxuXG5cblxuXG5cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsWUFBQUEsSUFBQSxTQUFnQkMsSUFBQUE7QUFBVSxpQkFBQSxFQUFBLENBQVFBLE1BQUFBLENBQVNBLEdBQU1DLFdBQVdELGNBQWlCQSxHQUFNQztRQUFNLEdDRTlFQyxJQUFBQSxRQUVQQyxJQUFBQTtBQUdHLGlCQUFTQyxFQUFLQyxJQUFBQTtBQUduQkgsY0FBYUc7QUFHYixjQUFNQyxLQUFLRCxHQUFPRSxTQUFTQyxlQUFlLEVBQUE7QUFHdENGLFVBQUFBLEdBQUdHLGtCQUFrQkosR0FBT0UsWUFBbUMsY0FBQSxPQUFoQkYsR0FBT0ssUUFBdUJMLEdBQU9LLEtBQUtKLEVBQUFBLE1BQVFBLE9BRW5HRCxLQUFTQSxHQUFPSyxLQUFLTCxFQUFBQSxJQUd2QkYsSUFBTUU7UUFDUjtBQU1PLGlCQUFTTSxFQUFVQyxJQUFBQTtBQUN4QixpQkFBSWIsRUFBU2EsRUFBQUEsSUFDSkEsTUFHUUEsR0FBS0gsaUJBQWlCRyxJQUV2QkMsZUFBZVYsRUFBSUU7UUFDckM7QUFac0IsdUJBQUEsT0FBWEEsVUFBNEJBLFVBQ3JDRCxFQUFLQyxNQUFBQTtBQ3RCUCxZQUlNUyxJQUFTLFNBQUNkLElBQUFBO0FBQVUsaUJBQUEsQ0FBQSxDQUEwQ0EsTUFBMEIsYUFBakJlLEVBQU9mLEVBQUFBO1FBQWtCLEdBRWhHZ0IsSUFBTyxTQUFDaEIsSUFBQUE7QUFBVSxpQkFBd0QsY0FBQSxPQUFWQTtRQUFvQixHQTBCM0VpQixJQUFBLEVBQ2JaLFFBakNhLFNBQUNMLElBQUFBO0FBQVUsaUJBQXNCQSxPQUFVRyxLQUFjSixFQUFTQyxFQUFBQTtRQUFNLEdBa0NyRmtCLFNBaENjLFNBQUNsQixJQUFBQTtBQUFVLGlCQUFnQ2MsRUFBT2QsRUFBQUEsS0FBNkIsT0FBbkJBLEdBQU1tQjtRQUFlLEdBaUMvRkwsUUFBQUEsR0FDQUUsTUFBQUEsR0FDQUksUUE3QmEsU0FBQ3BCLElBQUFBO0FBQVUsaUJBQXVDLFlBQUEsT0FBVkE7UUFBa0IsR0E4QnZFcUIsTUE1QlcsU0FBQ3JCLElBQUFBO0FBQVUsaUJBQXdDLGFBQUEsT0FBVkE7UUFBbUIsR0E2QnZFc0IsUUEzQmEsU0FBQ3RCLElBQUFBO0FBQVUsaUJBQXVDLFlBQUEsT0FBVkE7UUFBa0IsR0E0QnZFdUIsU0ExQmMsU0FBQ3ZCLElBQUFBO0FBQ2YsY0FBQSxDQUFLQSxNQUEwQixhQUFqQmUsRUFBT2YsRUFBQUEsRUFDbkIsUUFBQTtBQUdGLGNBQU13QixLQUFVckIsRUFBY0gsRUFBQUEsS0FBVUc7QUFFeEMsaUJBQU8sa0JBQWtCc0IsS0FBbUJWLGVBQUFBLE9BQVBXLFVBQU9YLGNBQUFBLEVBQVBXLE9BQUFBLENBQUFBLElBQ2pDMUIsY0FBaUIwQixXQUFXMUIsY0FBaUJ3QixHQUFRRSxVQUNsQyxNQUFuQjFCLEdBQU1tQixZQUE0QyxZQUFBLE9BQW5CbkIsR0FBTTJCO1FBQzNDLEdBaUJFQyxhQWZpQyxTQUFDNUIsSUFBQUE7QUFBVSxpQkFDNUNjLEVBQU9kLEVBQUFBLEtBQUFBLENBQUFBLENBQVlBLEdBQU02QixlQUFlLG9CQUFvQkosS0FBS3pCLEdBQU02QixZQUFZQyxTQUFBQSxDQUFBQTtRQUFXLEdBZTlGQyxPQWJZLFNBQW9CL0IsSUFBQUE7QUFBVSxpQkFDMUNjLEVBQU9kLEVBQUFBLEtBQUFBLFdBQWlCQSxHQUFNZ0MsVUFBMEJoQixFQUFLaEIsR0FBTWlDLE1BQUFBO1FBQU8sRUFBQTtBQ21ENUUsaUJBQVNDLEVBQVVDLElBQUFBO0FBQWtCLGNBQWZDLEtBQVdELEdBQVhDO0FBQ3BCLGNBQWtDLFdBQTlCQSxHQUFZQyxTQUFTQyxNQUF6QjtBQUVBLGdCQUFNQyxLQUFPSCxHQUFZQyxTQUFTRTtBQUVyQixvQkFBVEEsTUFDRkgsR0FBWUksT0FBT0MsSUFBSUMsS0FBS0MsSUFBSVAsR0FBWUksT0FBT0ksTUFBTUYsS0FBS0MsR0FDOURQLEdBQVlJLE9BQU9DLElBQUlJLE9BQU9GLElBQUlQLEdBQVlJLE9BQU9JLE1BQU1DLE9BQU9GLEdBRWxFUCxHQUFZSSxPQUFPTSxTQUFTRCxPQUFPRixJQUFJLEdBQ3ZDUCxHQUFZSSxPQUFPTSxTQUFTSixLQUFLQyxJQUFJLEtBQ25CLFFBQVRKLE9BQ1RILEdBQVlJLE9BQU9DLElBQUlDLEtBQUtLLElBQUlYLEdBQVlJLE9BQU9JLE1BQU1GLEtBQUtLLEdBQzlEWCxHQUFZSSxPQUFPQyxJQUFJSSxPQUFPRSxJQUFJWCxHQUFZSSxPQUFPSSxNQUFNQyxPQUFPRSxHQUVsRVgsR0FBWUksT0FBT00sU0FBU0QsT0FBT0UsSUFBSSxHQUN2Q1gsR0FBWUksT0FBT00sU0FBU0osS0FBS0ssSUFBSTtVQWZHO1FBaUI1QztBQUVBLGlCQUFTQyxFQUFJQyxJQUFBQTtBQUEwQixjQUF2QkMsS0FBTUQsR0FBTkMsUUFBUWQsS0FBV2EsR0FBWGI7QUFDdEIsY0FBa0MsV0FBOUJBLEdBQVlDLFNBQVNDLE1BQXpCO0FBRUEsZ0JBQU1DLEtBQU9ILEdBQVlDLFNBQVNFO0FBRWxDLGdCQUFhLFFBQVRBLE1BQXlCLFFBQVRBLElBQWM7QUFDaEMsa0JBQU1ZLEtBQW9CLFFBQVRaLEtBQWUsTUFBTTtBQUV0Q1csY0FBQUEsR0FBT1IsS0FBS1MsRUFBQUEsSUFBWWYsR0FBWUksT0FBT0ksTUFBTUYsS0FBS1MsRUFBQUEsR0FDdERELEdBQU9MLE9BQU9NLEVBQUFBLElBQVlmLEdBQVlJLE9BQU9JLE1BQU1DLE9BQU9NLEVBQUFBLEdBQzFERCxHQUFPRSxNQUFNRCxFQUFBQSxJQUFZO1lBQzNCO1VBVjBDO1FBVzVDO0FBRUEsWUE0Qk1FLElBQWUsRUFDbkJDLElBQUksZ0JBQ0pDLFNBM0VGLFNBQWlCQyxJQUFBQTtBQUNmLGNBQVFDLEtBQW9DRCxHQUFwQ0MsU0FBU0MsS0FBMkJGLEdBQTNCRSxjQUFjQyxLQUFhSCxHQUFiRztBQUUvQkQsVUFBQUEsR0FBYUUsVUFBVUMsWUFBWVIsRUFBS1EsV0FFeENKLEdBQVFLLElBQUlULE9BQU9BLEdBQ25CSSxHQUFRTSxXQUFXVixPQUFPLGFBRTFCTSxHQUFTRixRQUFRSixPQUFPQSxFQUFLTTtRQUMvQixHQW1FRUssV0FBVyxFQUNULG1DQUFtQzlCLEdBQ25DLDhCQUE4QkEsR0FHOUIsNEJBQTRCYyxHQUM1QixvQkFBb0IsU0FBQ2lCLElBQUFBO0FBQ25CLGNBQVE3QixLQUF1QzZCLEdBQXZDN0IsYUFBYThCLEtBQTBCRCxHQUExQkMsY0FBY0MsS0FBWUYsR0FBWkUsU0FDN0JDLEtBQWNGLEdBQWFHLFFBQVFoQjtBQUV6QyxjQUNJZSxNQUFlQSxHQUFZRSxZQUFBQSxDQUU1QmxDLEdBQVltQyxpQkFBQUEsQ0FDWCxnQkFBZ0I5QyxLQUFLVyxHQUFZb0MsV0FBQUEsS0FDc0IsTUFBdERMLEtBQVVELEdBQWFHLFFBQVFoQixLQUFLb0IsZUFVekMsUUFMQVIsR0FBSVMsU0FBUyxFQUNYcEMsTUFBTSxRQUNOQyxNQUErQixZQUF6QjZCLEdBQVlPLFdBQXVCUCxHQUFZUSxZQUFZUixHQUFZTyxTQUFBQSxHQUFBQTtRQUlqRixFQUFBLEdBRUZkLFdBM0QyQyxTQUUzQ1EsSUFBQUE7QUFFQSxpQkFBSXBELEVBQUdILE9BQU91RCxFQUFBQSxLQUNaUSxLQUFLUixRQUFRaEIsS0FBS2lCLFVBQUFBLFVBQVVELEdBQVFDLFNBQ3BDTyxLQUFLQyxhQUFhLFFBQVFULEVBQUFBLEdBQzFCUSxLQUFLRSxZQUFZLFFBQVFWLEVBQUFBLEdBRXJCLG1CQUFtQjVDLEtBQUs0QyxHQUFRTSxRQUFBQSxNQUNsQ0UsS0FBS1IsUUFBUWhCLEtBQUtzQixXQUFXTixHQUFRTSxXQUVuQyxhQUFhbEQsS0FBSzRDLEdBQVFPLFNBQUFBLE1BQzVCQyxLQUFLUixRQUFRaEIsS0FBS3VCLFlBQVlQLEdBQVFPLFlBR2pDQyxRQUdMNUQsRUFBR0ksS0FBS2dELEVBQUFBLEtBQ1ZRLEtBQUtSLFFBQVFoQixLQUFLaUIsVUFBVUQsSUFFckJRLFFBR0ZBLEtBQUtSLFFBQVFoQjtRQUN0QixHQWtDRW5CLFlBQUFBLEdBQ0FjLE1BQUFBLEdBQ0FXLFVBQVUsRUFDUmlCLFdBQVcsTUFDWEQsVUFBVSxLQUFBLEdBR1pLLFdBQVMsV0FBQTtBQUNQLGlCQUFPO1FBQ1IsR0FFREMsaUJBQWlCLFNBQUNDLElBQUFBO0FBQVksaUJBQTZCLE1BQXhCQSxHQUFLQyxPQUFPLE1BQUE7UUFBYSxFQUFBLEdBRzlEQyxJQUFlL0IsR0NoTVRnQyxJQVlGLEVBQ0ZqRixNQWlCRixTQUFjQyxJQUFBQTtBQUNaLGNBQU1GLEtBQU1FO0FBRVpnRixZQUFXOUUsV0FBV0osR0FBSUksVUFDMUI4RSxFQUFXQyxtQkFBbUJuRixHQUFJbUYsb0JBQW9CQyxHQUN0REYsRUFBV0csYUFBYXJGLEdBQUlxRixjQUFjRCxHQUMxQ0YsRUFBV0ksZ0JBQWdCdEYsR0FBSXNGLGlCQUFpQkYsR0FDaERGLEVBQVdLLHFCQUFxQnZGLEdBQUl1RixzQkFBc0JILEdBQzFERixFQUFXM0QsVUFBVXZCLEdBQUl1QixXQUFXNkQsR0FDcENGLEVBQVdNLGNBQWN4RixHQUFJd0YsZUFBZU4sRUFBVzNELFNBRXZEMkQsRUFBV08sUUFBUXpGLEdBQUl5RixPQUN2QlAsRUFBV1EsUUFBUTFGLEdBQUkwRixTQUFTTixHQUNoQ0YsRUFBV1MsZUFBZTNGLEdBQUkyRixnQkFBZ0IzRixHQUFJNEY7UUFDcEQsR0E5QkV4RixVQUFVLE1BQ1YrRSxrQkFBa0IsTUFDbEJFLFlBQVksTUFDWkMsZUFBZSxNQUNmQyxvQkFBb0IsTUFDcEJoRSxTQUFTLE1BQ1RpRSxhQUFhLE1BQ2JDLE9BQU8sTUFDUEMsT0FBTyxNQUNQQyxjQUFjLEtBQUE7QUFHaEIsaUJBQVNQLElBQUFBO1FBQVM7QUFFbEIsWUFBQVMsSUFBZVg7QUN6QmYsWUFBTVksSUFBVSxFQUNkN0YsTUFtQkYsU0FBY0MsSUFBQUE7QUFDWixjQUFNcUIsS0FBVTJELEVBQVczRCxTQUNyQndFLEtBQWdDN0YsR0FBTzZGLGFBQWEsQ0FBQTtBQUcxREQsWUFBUUUsZ0JBQ04sa0JBQWtCOUYsTUFDakJZLEVBQUdELEtBQUtYLEdBQU8rRixhQUFBQSxLQUFrQmYsRUFBVzlFLG9CQUFvQkYsR0FBTytGLGVBSTFFSCxFQUFRSSx1QkFBQUEsVUFBd0JILEdBQWtCSSxrQkFBQUEsQ0FBQUEsQ0FBOEJqQixFQUFXUyxjQUUzRkcsRUFBUU0sUUFBUSxpQkFBaUI5RSxLQUFLeUUsR0FBVU0sUUFBQUEsR0FHaERQLEVBQVFRLFNBQVMsaUJBQWlCaEYsS0FBS3lFLEdBQVVNLFFBQUFBLEtBQWEsWUFBWS9FLEtBQUt5RSxHQUFVUSxVQUFBQSxHQUV6RlQsRUFBUVUsUUFBUSxTQUFTbEYsS0FBS3lFLEdBQVVVLFNBQUFBLEdBR3hDWCxFQUFRWSxnQkFDZ0IsWUFBdEJYLEdBQVVZLFdBQXVCYixFQUFRRSxpQkFBaUIsU0FBUzFFLEtBQUt5RSxHQUFVVSxTQUFBQSxHQUdwRlgsRUFBUWMsMEJBQ04sYUFBYXJGLEdBQVFrQyxZQUNqQixZQUNBLDJCQUEyQmxDLEdBQVFrQyxZQUNqQywwQkFDQSx3QkFBd0JsQyxHQUFRa0MsWUFDOUIsdUJBQ0Esc0JBQXNCbEMsR0FBUWtDLFlBQzVCLHFCQUNBLHFCQUdacUMsRUFBUWUsY0FBY2YsRUFBUUksdUJBQzFCaEIsRUFBV1MsaUJBQWlCekYsR0FBTzBGLGlCQUNqQyxFQUNFa0IsSUFBSSxlQUNKQyxNQUFNLGlCQUNOQyxNQUFNLGFBQ05DLEtBQUssWUFDTHBFLE1BQU0saUJBQ05xRSxRQUFRLGtCQUFBLElBRVYsRUFDRUosSUFBSSxhQUNKQyxNQUFNLGVBQ05DLE1BQU0sZUFDTkMsS0FBSyxjQUNMcEUsTUFBTSxlQUNOcUUsUUFBUSxnQkFBQSxJQUVaLE1BR0pwQixFQUFRcUIsYUFBYWpDLEVBQVc5RSxZQUFZLGtCQUFrQjhFLEVBQVc5RSxXQUFXLGVBQWU7UUFDckcsR0E3RUU0RixlQUFlLE1BQ2ZFLHNCQUFzQixNQUN0QkksUUFBUSxNQUNSRixPQUFPLE1BQ1BJLE9BQU8sTUFDUEUsZUFBZSxNQUNmRSx5QkFBeUIsTUFDekJDLGFBQWEsTUFRYk0sWUFBWSxLQUFBO0FBZ0VkLFlBQUFDLElBQWV0QjtBQzdFUixpQkFBU3VCLEVBQWFDLElBQWNDLElBQUFBO0FBQ3pDLGNBQUlELEdBQU9FLFNBQ1QsUUFBT0YsR0FBT0UsU0FBU0QsRUFBQUE7QUFHekIsaUJBQU9BLE1BQU87QUFDWixnQkFBSUEsT0FBVUQsR0FDWixRQUFBO0FBR0ZDLFlBQUFBLEtBQVNBLEdBQWVFO1VBQzFCO0FBRUEsaUJBQUE7UUFDRjtBQUVPLGlCQUFTQyxFQUFRdEcsSUFBZXVHLElBQUFBO0FBQ3JDLGlCQUFPN0csRUFBR00sUUFBUUEsRUFBQUEsS0FBVTtBQUMxQixnQkFBSXdHLEVBQWdCeEcsSUFBU3VHLEVBQUFBLEVBQzNCLFFBQU92RztBQUdUQSxZQUFBQSxLQUFVcUcsRUFBV3JHLEVBQUFBO1VBQ3ZCO0FBRUEsaUJBQU87UUFDVDtBQUVPLGlCQUFTcUcsRUFBV2hILElBQUFBO0FBQ3pCLGNBQUk2RyxLQUFTN0csR0FBS2dIO0FBRWxCLGNBQUkzRyxFQUFHQyxRQUFRdUcsRUFBQUEsR0FBUztBQUd0QixvQkFBUUEsS0FBVUEsR0FBZU8sU0FBUy9HLEVBQUdDLFFBQVF1RyxFQUFBQSxJQUFBQTtBQUlyRCxtQkFBT0E7VUFDVDtBQUVBLGlCQUFPQTtRQUNUO0FBRU8saUJBQVNNLEVBQWdCeEcsSUFBa0J1RyxJQUFBQTtBQU1oRCxpQkFKSTNILE1BQWVBLE1BQ2pCMkgsS0FBV0EsR0FBU0csUUFBUSxhQUFhLEdBQUEsSUFHcEMxRyxHQUFRMEUsRUFBUWMsdUJBQUFBLEVBQXlCZSxFQUFBQTtRQUNsRDtBQUVBLFlBQU1JLElBQVksU0FBQzVILElBQUFBO0FBQWdDLGlCQUFLQSxHQUFHc0gsY0FBZXRILEdBQWtCMEg7UUFBSTtBQXVHaEcsaUJBQVNHLEVBQWV2SCxJQUFZd0gsSUFBQUE7QUFLbEMsbUJBRklDLElBRkVDLEtBQWtCLENBQUEsR0FDcEJiLEtBQWU3RyxLQUdYeUgsS0FBZUgsRUFBVVQsRUFBQUEsTUFBWUEsT0FBV1csTUFBU0MsT0FBaUJaLEdBQU9oSCxnQkFDdkY2SCxDQUFBQSxHQUFRQyxRQUFRZCxFQUFBQSxHQUNoQkEsS0FBU1k7QUFHWCxpQkFBT0M7UUFDVDtBQVNPLGlCQUFTRSxFQUFZakgsSUFBa0J1RyxJQUFrQk0sSUFBQUE7QUFDOUQsaUJBQU9uSCxFQUFHTSxRQUFRQSxFQUFBQSxLQUFVO0FBQzFCLGdCQUFJd0csRUFBZ0J4RyxJQUFTdUcsRUFBQUEsRUFDM0IsUUFBQTtBQUtGLGlCQUZBdkcsS0FBVXFHLEVBQVdyRyxFQUFBQSxPQUVMNkcsR0FDZCxRQUFPTCxFQUFnQnhHLElBQVN1RyxFQUFBQTtVQUVwQztBQUVBLGlCQUFBO1FBQ0Y7QUFFTyxpQkFBU1csRUFBaUJsSCxJQUFBQTtBQUMvQixpQkFBUUEsR0FBZ0JtSCwyQkFBMkJuSDtRQUNyRDtBQVVPLGlCQUFTb0gsRUFBcUJwSCxJQUFBQTtBQUNuQyxjQUFNcUgsS0FDSnJILGNBQW1COEQsRUFBV0csYUFBYWpFLEdBQVFzSCxzQkFBQUEsSUFBMEJ0SCxHQUFRdUgsZUFBQUEsRUFBaUIsQ0FBQTtBQUV4RyxpQkFDRUYsTUFBYyxFQUNaRyxNQUFNSCxHQUFXRyxNQUNqQkMsT0FBT0osR0FBV0ksT0FDbEJDLEtBQUtMLEdBQVdLLEtBQ2hCQyxRQUFRTixHQUFXTSxRQUNuQkMsT0FBT1AsR0FBV08sU0FBU1AsR0FBV0ksUUFBUUosR0FBV0csTUFDekRLLFFBQVFSLEdBQVdRLFVBQVVSLEdBQVdNLFNBQVNOLEdBQVdLLElBQUFBO1FBR2xFO0FBRU8saUJBQVNJLEVBQWU5SCxJQUFBQTtBQUM3QixjQXpCMEIrSCxJQXlCcEJWLEtBQWFELEVBQXFCcEgsRUFBQUE7QUFFeEMsY0FBQSxDQUFLMEUsRUFBUVEsVUFBVW1DLElBQVk7QUFDakMsZ0JBQU1XLEtBMUJELEVBQ0x4RyxJQUZGdUcsTUFEMEJBLEtBNEJHbkosRUFBY29CLEVBQUFBLE1BM0JScEIsR0FFZnFKLFdBQVdGLEdBQWUvSSxTQUFTa0osZ0JBQWdCQyxZQUNyRS9HLEdBQUcyRyxHQUFlSyxXQUFXTCxHQUFlL0ksU0FBU2tKLGdCQUFnQkcsVUFBQUE7QUEwQnJFaEIsWUFBQUEsR0FBV0csUUFBUVEsR0FBT3hHLEdBQzFCNkYsR0FBV0ksU0FBU08sR0FBT3hHLEdBQzNCNkYsR0FBV0ssT0FBT00sR0FBTzVHLEdBQ3pCaUcsR0FBV00sVUFBVUssR0FBTzVHO1VBQzlCO0FBRUEsaUJBQU9pRztRQUNUO0FBRU8saUJBQVNpQixFQUFRakosSUFBQUE7QUFHdEIsbUJBRk1rSixLQUFPLENBQUEsR0FFTmxKLEtBQ0xrSixDQUFBQSxHQUFLQyxLQUFLbkosRUFBQUEsR0FDVkEsS0FBT2dILEVBQVdoSCxFQUFBQTtBQUdwQixpQkFBT2tKO1FBQ1Q7QUFFTyxpQkFBU0UsRUFBWUMsSUFBQUE7QUFDMUIsaUJBQUEsQ0FBQSxDQUFLaEosRUFBR0ssT0FBTzJJLEVBQUFBLE1BS2Y1RSxFQUFXOUUsU0FBUzJKLGNBQWNELEVBQUFBLEdBQUFBO1FBRXBDO0FDclFlLGlCQUFTRSxFQUE0QkMsSUFBc0JDLElBQUFBO0FBQ3hFLG1CQUFXQyxNQUFRRCxHQUNmRCxDQUFBQSxHQUFzQkUsRUFBQUEsSUFBUUQsR0FBT0MsRUFBQUE7QUFLekMsaUJBRllGO1FBR2Q7QUNNTyxpQkFBU0csRUFBc0JOLElBQVlPLElBQW9CakosSUFBQUE7QUFDcEUsaUJBQWMsYUFBVjBJLEtBQ0tyQyxFQUFXckcsRUFBQUEsSUFHTixXQUFWMEksS0FDS08sR0FBT0MsUUFBUWxKLEVBQUFBLElBR2pCc0csRUFBUXRHLElBQVMwSSxFQUFBQTtRQUMxQjtBQUVPLGlCQUFTUyxFQUNkVCxJQUNBTyxJQUNBakosSUFDQW9KLElBQUFBO0FBRUEsY0FBSUMsS0FBbUJYO0FBV3ZCLGlCQVZJaEosRUFBR0ssT0FBT3NKLEVBQUFBLElBQ1pBLEtBQWNMLEVBQXNCSyxJQUFhSixJQUFRakosRUFBQUEsSUFDaEROLEVBQUdELEtBQUs0SixFQUFBQSxNQUNqQkEsS0FBY0EsR0FBV0MsTUFBQUEsUUFBSUYsRUFBQUEsSUFHM0IxSixFQUFHTSxRQUFRcUosRUFBQUEsTUFDYkEsS0FBY3ZCLEVBQWV1QixFQUFBQSxJQUd4QkE7UUFDVDtBQVVPLGlCQUFTRSxFQUFTQyxJQUFBQTtBQUN2QixpQkFDRUEsTUFBUSxFQUNOaEksR0FBRyxPQUFPZ0ksS0FBT0EsR0FBS2hJLElBQUlnSSxHQUFLaEMsTUFDL0JwRyxHQUFHLE9BQU9vSSxLQUFPQSxHQUFLcEksSUFBSW9JLEdBQUs5QixJQUFBQTtRQUdyQztBQWVPLGlCQUFTK0IsRUFBV0QsSUFBQUE7QUFVekIsaUJBQUEsQ0FUSUEsTUFBVSxPQUFPQSxNQUFRLE9BQU9BLFFBQ2xDQSxLQUFPWixFQUFPLENBQUEsR0FBSVksRUFBQUEsR0FFYmhJLElBQUlnSSxHQUFLaEMsUUFBUSxHQUN0QmdDLEdBQUtwSSxJQUFJb0ksR0FBSzlCLE9BQU8sR0FDckI4QixHQUFLNUIsUUFBUTRCLEdBQUs1QixVQUFVNEIsR0FBSy9CLFNBQVMsS0FBSytCLEdBQUtoSSxHQUNwRGdJLEdBQUszQixTQUFTMkIsR0FBSzNCLFdBQVcyQixHQUFLN0IsVUFBVSxLQUFLNkIsR0FBS3BJLElBR2xEb0k7UUFDVDtBQUVPLGlCQUFTRSxFQUFTQyxJQUFvQkgsSUFBWTNILElBQUFBO0FBQ25EOEgsVUFBQUEsR0FBTW5DLFNBQ1JnQyxHQUFLaEMsUUFBUTNGLEdBQU1MLElBRWpCbUksR0FBTWxDLFVBQ1IrQixHQUFLL0IsU0FBUzVGLEdBQU1MLElBRWxCbUksR0FBTWpDLFFBQ1I4QixHQUFLOUIsT0FBTzdGLEdBQU1ULElBRWhCdUksR0FBTWhDLFdBQ1I2QixHQUFLN0IsVUFBVTlGLEdBQU1ULElBR3ZCb0ksR0FBSzVCLFFBQVE0QixHQUFLL0IsUUFBUStCLEdBQUtoQyxNQUMvQmdDLEdBQUszQixTQUFTMkIsR0FBSzdCLFNBQVM2QixHQUFLOUI7UUFDbkM7QUNwR2UsaUJBQVNrQyxFQUN0QlgsSUFDQWpKLElBQ0E2SixJQUFBQTtBQUVBLGNBQU1DLEtBQWdCRCxNQUFlWixHQUFPbkcsUUFBZ0IrRyxFQUFBQTtBQU01RCxpQkFBT04sRUFGWUosRUFIRVcsTUFBaUJBLEdBQWNDLFVBQ3JCZCxHQUFPbkcsUUFBUWlILFFBRUhkLElBQVFqSixJQUFTLENBQUNpSixNQUFVakosRUFBQUEsQ0FBQUEsQ0FBQUEsS0FFeEMsRUFBRXdCLEdBQUcsR0FBR0osR0FBRyxFQUFBO1FBQzVDO0FDVGUsaUJBQVM0SSxFQUN0QnJHLElBQ0FsQixJQUFBQTtBQUdxQixjQUZyQndILEtBQU1DLFVBQUF6SixTQUFBLEtBQUEsV0FBQXlKLFVBQUEsQ0FBQSxJQUFBQSxVQUFBLENBQUEsSUFBRyxTQUFDQyxJQUFBQTtBQUFxQixtQkFBQTtVQUFTLEdBQ3hDQyxLQUE0QkYsVUFBQXpKLFNBQUF5SixJQUFBQSxVQUFBQSxDQUFBQSxJQUFBQTtBQVE1QixjQU5BRSxLQUFTQSxNQUFVLENBQUEsR0FFZjFLLEVBQUdLLE9BQU80RCxFQUFBQSxLQUFBQSxPQUFTQSxHQUFLQyxPQUFPLEdBQUEsTUFDakNELEtBQU8wRyxFQUFNMUcsRUFBQUEsSUFHWGpFLEVBQUdjLE1BQU1tRCxFQUFBQSxFQUVYLFFBREFBLEdBQUsyRyxRQUFRLFNBQUNDLElBQUFBO0FBQUMsbUJBQUtQLEVBQVVPLElBQUc5SCxJQUFXd0gsSUFBUUcsRUFBQUE7VUFBQUEsQ0FBQUEsR0FDN0NBO0FBVVQsY0FMSTFLLEVBQUdILE9BQU9vRSxFQUFBQSxNQUNabEIsS0FBWWtCLElBQ1pBLEtBQU8sS0FHTGpFLEVBQUdELEtBQUtnRCxFQUFBQSxLQUFjd0gsR0FBT3RHLEVBQUFBLEVBQy9CeUcsQ0FBQUEsR0FBT3pHLEVBQUFBLElBQVF5RyxHQUFPekcsRUFBQUEsS0FBUyxDQUFBLEdBQy9CeUcsR0FBT3pHLEVBQUFBLEVBQU02RSxLQUFLL0YsRUFBQUE7bUJBQ1QvQyxFQUFHYyxNQUFNaUMsRUFBQUEsRUFBWSxVQUFBK0gsS0FBQSxHQUFBQyxLQUNkaEksSUFBUytILEtBQUFDLEdBQUFoSyxRQUFBK0osTUFBRTtBQUF0QixnQkFBTUUsS0FBQ0QsR0FBQUQsRUFBQUE7QUFDVlIsY0FBVXJHLElBQU0rRyxJQUFHVCxJQUFRRyxFQUFBQTtVQUM3QjttQkFDUzFLLEVBQUdILE9BQU9rRCxFQUFBQSxFQUNuQixVQUFXa0ksTUFBVWxJLElBQVc7QUFHOUJ1SCxjQUZzQkssRUFBTU0sRUFBQUEsRUFBUXBJLElBQUksU0FBQ3FJLElBQUFBO0FBQUMscUJBQUEsR0FBQUMsT0FBUWxILEVBQUFBLEVBQUlrSCxPQUFHRCxFQUFBQTtZQUFDLENBQUEsR0FFakNuSSxHQUFVa0ksRUFBQUEsR0FBU1YsSUFBUUcsRUFBQUE7VUFDdEQ7QUFHRixpQkFBT0E7UUFDVDtBQUVBLGlCQUFTQyxFQUFNMUcsSUFBQUE7QUFDYixpQkFBT0EsR0FBS21ILEtBQUFBLEVBQU9ULE1BQU0sSUFBQTtRQUMzQjtBQ3BEQSxZQUFBVSxJQUFlLFNBQUN2SixJQUFXSixJQUFBQTtBQUFTLGlCQUFLNEosS0FBS0MsS0FBS3pKLEtBQUlBLEtBQUlKLEtBQUlBLEVBQUFBO1FBQUUsR0NBM0Q4SixJQUFrQixDQUFDLFVBQVUsS0FBQTtBQUVwQixpQkFBU0MsR0FBaUJ0QyxJQUEyQ0MsSUFBQUE7QUFDbEZELFVBQUFBLEdBQUt1QyxVQUFMdkMsR0FBS3VDLFFBQVUsQ0FBRTtBQUFPLGNBQUFDLEtBQUEsU0FBQXRDLElBQUFBO0FBSXRCLGdCQUFJbUMsRUFBZ0JJLEtBQUssU0FBQ1gsSUFBQUE7QUFBTSxxQkFBOEIsTUFBekI1QixHQUFLd0MsUUFBUVosRUFBQUE7WUFBQUEsQ0FBQUEsRUFBYyxRQUFBO0FBRXRDLDBCQUFBLE9BQWY5QixHQUFLRSxFQUFBQSxLQUFpQyxZQUFUQSxNQUN0Q3lDLE9BQU9DLGVBQWU1QyxJQUFNRSxJQUFNLEVBQ2hDMkMsS0FBRyxXQUFBO0FBQ0QscUJBQUkzQyxNQUFRRixHQUFLdUMsUUFBY3ZDLEdBQUt1QyxNQUFNckMsRUFBQUEsSUFFbENGLEdBQUt1QyxNQUFNckMsRUFBQUEsSUFBUUQsR0FBT0MsRUFBQUE7WUFDbkMsR0FDRDRDLEtBQUcsU0FBQ2pELElBQUFBO0FBQ0ZHLGNBQUFBLEdBQUt1QyxNQUFNckMsRUFBQUEsSUFBUUw7WUFDcEIsR0FDRGtELGNBQUFBLEtBQWMsQ0FBQTtVQUFBO0FBZHBCLG1CQUFXN0MsTUFBUUQsR0FBTXVDLENBQUFBLEdBQUF0QyxFQUFBQTtBQWtCekIsaUJBQU9GO1FBQ1Q7QUNkTyxpQkFBU2dELEdBQVdoRCxJQUF1QmlELElBQUFBO0FBQ2hEakQsVUFBQUEsR0FBSzFILE9BQU8wSCxHQUFLMUgsUUFBUyxDQUFBLEdBQzFCMEgsR0FBSzFILEtBQUtLLElBQUlzSyxHQUFJM0ssS0FBS0ssR0FDdkJxSCxHQUFLMUgsS0FBS0MsSUFBSTBLLEdBQUkzSyxLQUFLQyxHQUV2QnlILEdBQUt2SCxTQUFTdUgsR0FBS3ZILFVBQVcsQ0FBQSxHQUM5QnVILEdBQUt2SCxPQUFPRSxJQUFJc0ssR0FBSXhLLE9BQU9FLEdBQzNCcUgsR0FBS3ZILE9BQU9GLElBQUkwSyxHQUFJeEssT0FBT0YsR0FFM0J5SCxHQUFLa0QsWUFBWUQsR0FBSUM7UUFDdkI7QUFvQk8saUJBQVNDLEdBQWNDLElBQUFBO0FBQzVCQSxVQUFBQSxHQUFVOUssS0FBS0ssSUFBSSxHQUNuQnlLLEdBQVU5SyxLQUFLQyxJQUFJLEdBQ25CNkssR0FBVTNLLE9BQU9FLElBQUksR0FDckJ5SyxHQUFVM0ssT0FBT0YsSUFBSTtRQUN2QjtBQUVPLGlCQUFTOEssR0FBZ0JDLElBQUFBO0FBQzlCLGlCQUFPQSxjQUFtQkMsRUFBSS9ILFNBQVM4SCxjQUFtQkMsRUFBSTlIO1FBQ2hFO0FBR08saUJBQVMrSCxHQUFNMUksSUFBY3dJLElBQXNDRyxJQUFBQTtBQU94RSxpQkFMQTNJLEtBQU9BLE1BQVEsU0FEZjJJLEtBQUtBLE1BQU8sQ0FBQSxHQUdUOUssSUFBSTJLLEdBQVN4SSxLQUFPLEdBQUEsR0FDdkIySSxHQUFHbEwsSUFBSStLLEdBQVN4SSxLQUFPLEdBQUEsR0FFaEIySTtRQUNUO0FBRU8saUJBQVNDLEdBQVVKLElBQXNDaEwsSUFBQUE7QUFhOUQsaUJBWkFBLEtBQU9BLE1BQVEsRUFBRUssR0FBRyxHQUFHSixHQUFHLEVBQUEsR0FHdEJzRCxFQUFRWSxpQkFBaUI0RyxHQUFnQkMsRUFBQUEsS0FDM0NFLEdBQU0sVUFBVUYsSUFBU2hMLEVBQUFBLEdBRXpCQSxHQUFLSyxLQUFLMUMsT0FBT21KLFNBQ2pCOUcsR0FBS0MsS0FBS3RDLE9BQU9zSixXQUVqQmlFLEdBQU0sUUFBUUYsSUFBU2hMLEVBQUFBLEdBR2xCQTtRQUNUO0FBZU8saUJBQVNxTCxHQUFhTCxJQUFBQTtBQUMzQixpQkFBT3pNLEVBQUdHLE9BQU9zTSxHQUFRTSxTQUFBQSxJQUFhTixHQUFRTSxZQUFhTixHQUFRTztRQUNyRTtBQUVPLGlCQUFTQyxHQUFVOUQsSUFBdUIrRCxJQUFpQmIsSUFBQUE7QUFDaEUsY0FBTUksS0FBVVMsR0FBU25NLFNBQVMsSUFBSW9NLEdBQWVELEVBQUFBLElBQVlBLEdBQVMsQ0FBQTtBQUUxRUwsYUFBVUosSUFBU3RELEdBQUsxSCxJQUFBQSxHQXBCbkIsU0FBcUJnTCxJQUFzQjdLLElBQUFBO0FBQ2hEQSxZQUFBQSxLQUFTQSxNQUFXLENBQUEsR0FFaEJvRCxFQUFRWSxpQkFBaUI0RyxHQUFnQkMsRUFBQUEsSUFFM0NFLEdBQU0sVUFBVUYsSUFBUzdLLEVBQUFBLElBRXpCK0ssR0FBTSxVQUFVRixJQUFTN0ssRUFBQUE7VUFJN0IsRUFVYzZLLElBQVN0RCxHQUFLdkgsTUFBQUEsR0FFMUJ1SCxHQUFLa0QsWUFBWUE7UUFDbkI7QUFFTyxpQkFBU2UsR0FBYUMsSUFBQUE7QUFDM0IsY0FBTUMsS0FBeUIsQ0FBQTtBQXVCL0IsaUJBcEJJdE4sRUFBR2MsTUFBTXVNLEVBQUFBLEtBQ1hDLEdBQVEsQ0FBQSxJQUFLRCxHQUFNLENBQUEsR0FDbkJDLEdBQVEsQ0FBQSxJQUFLRCxHQUFNLENBQUEsS0FJQSxlQUFmQSxHQUFNcEosT0FDcUIsTUFBekJvSixHQUFNQyxRQUFRdk0sVUFDaEJ1TSxHQUFRLENBQUEsSUFBS0QsR0FBTUMsUUFBUSxDQUFBLEdBQzNCQSxHQUFRLENBQUEsSUFBS0QsR0FBTUUsZUFBZSxDQUFBLEtBQ0EsTUFBekJGLEdBQU1DLFFBQVF2TSxXQUN2QnVNLEdBQVEsQ0FBQSxJQUFLRCxHQUFNRSxlQUFlLENBQUEsR0FDbENELEdBQVEsQ0FBQSxJQUFLRCxHQUFNRSxlQUFlLENBQUEsTUFHcENELEdBQVEsQ0FBQSxJQUFLRCxHQUFNQyxRQUFRLENBQUEsR0FDM0JBLEdBQVEsQ0FBQSxJQUFLRCxHQUFNQyxRQUFRLENBQUEsSUFJeEJBO1FBQ1Q7QUFFTyxpQkFBU0gsR0FBZUQsSUFBQUE7QUFRNUIsbUJBUEtNLEtBQVUsRUFDZEMsT0FBTyxHQUNQQyxPQUFPLEdBQ1BDLFNBQVMsR0FDVEMsU0FBUyxHQUNUQyxTQUFTLEdBQ1RDLFNBQVMsRUFBQSxHQUNWaEQsS0FBQUEsR0FBQUEsS0FJcUJvQyxHQUFRbk0sUUFBQStKLE1BQUU7QUFBM0IsZ0JBQU0yQixLQUFXUyxHQUFRcEMsRUFBQUE7QUFDNUIscUJBQVd6QixNQUFRbUUsR0FDakJBLENBQUFBLEdBQVFuRSxFQUFBQSxLQUFzQm9ELEdBQVFwRCxFQUFBQTtVQUUxQztBQUNBLG1CQUFXQSxNQUFRbUUsR0FDakJBLENBQUFBLEdBQVFuRSxFQUFBQSxLQUFzQjZELEdBQVNuTTtBQUd6QyxpQkFBT3lNO1FBQ1Q7QUFFTyxpQkFBU08sR0FBVVYsSUFBQUE7QUFDeEIsY0FBQSxDQUFLQSxHQUFNdE0sT0FDVCxRQUFPO0FBR1QsY0FBTXVNLEtBQVVGLEdBQWFDLEVBQUFBLEdBQ3ZCVyxLQUFPMUMsS0FBSzJDLElBQUlYLEdBQVEsQ0FBQSxFQUFHRyxPQUFPSCxHQUFRLENBQUEsRUFBR0csS0FBQUEsR0FDN0NTLEtBQU81QyxLQUFLMkMsSUFBSVgsR0FBUSxDQUFBLEVBQUdJLE9BQU9KLEdBQVEsQ0FBQSxFQUFHSSxLQUFBQSxHQUM3Q1MsS0FBTzdDLEtBQUs4QyxJQUFJZCxHQUFRLENBQUEsRUFBR0csT0FBT0gsR0FBUSxDQUFBLEVBQUdHLEtBQUFBLEdBQzdDWSxLQUFPL0MsS0FBSzhDLElBQUlkLEdBQVEsQ0FBQSxFQUFHSSxPQUFPSixHQUFRLENBQUEsRUFBR0ksS0FBQUE7QUFFbkQsaUJBQU8sRUFDTDVMLEdBQUdrTSxJQUNIdE0sR0FBR3dNLElBQ0hwRyxNQUFNa0csSUFDTmhHLEtBQUtrRyxJQUNMbkcsT0FBT29HLElBQ1BsRyxRQUFRb0csSUFDUm5HLE9BQU9pRyxLQUFPSCxJQUNkN0YsUUFBUWtHLEtBQU9ILEdBQUFBO1FBRW5CO0FBRU8saUJBQVNJLEdBQWNqQixJQUFtQ2tCLElBQUFBO0FBQy9ELGNBQU1DLEtBQVdELEtBQWMsS0FDekJFLEtBQVdGLEtBQWMsS0FDekJqQixLQUFVRixHQUFhQyxFQUFBQSxHQUV2QnFCLEtBQUtwQixHQUFRLENBQUEsRUFBR2tCLEVBQUFBLElBQVdsQixHQUFRLENBQUEsRUFBR2tCLEVBQUFBLEdBQ3RDRyxLQUFLckIsR0FBUSxDQUFBLEVBQUdtQixFQUFBQSxJQUFXbkIsR0FBUSxDQUFBLEVBQUdtQixFQUFBQTtBQUU1QyxpQkFBT3BELEVBQU1xRCxJQUFJQyxFQUFBQTtRQUNuQjtBQUVPLGlCQUFTQyxHQUFXdkIsSUFBbUNrQixJQUFBQTtBQUM1RCxjQUFNQyxLQUFXRCxLQUFjLEtBQ3pCRSxLQUFXRixLQUFjLEtBQ3pCakIsS0FBVUYsR0FBYUMsRUFBQUEsR0FDdkJxQixLQUFLcEIsR0FBUSxDQUFBLEVBQUdrQixFQUFBQSxJQUFXbEIsR0FBUSxDQUFBLEVBQUdrQixFQUFBQSxHQUN0Q0csS0FBS3JCLEdBQVEsQ0FBQSxFQUFHbUIsRUFBQUEsSUFBV25CLEdBQVEsQ0FBQSxFQUFHbUIsRUFBQUE7QUFHNUMsaUJBRmUsTUFBTW5ELEtBQUt1RCxNQUFNRixJQUFJRCxFQUFBQSxJQUFPcEQsS0FBS3dEO1FBR2xEO0FBRU8saUJBQVNDLEdBQWV0QyxJQUFBQTtBQUM3QixpQkFBT3pNLEVBQUdLLE9BQU9vTSxHQUFRbEosV0FBQUEsSUFDckJrSixHQUFRbEosY0FDUnZELEVBQUdHLE9BQU9zTSxHQUFRbEosV0FBQUEsSUFDaEIsQ0FBQSxRQUFDeUwsUUFBc0IsU0FBUyxPQUFPLE9BQUEsRUFBU3ZDLEdBQVFsSixXQUFBQSxJQUd4RCxRQUFRL0MsS0FBS2lNLEdBQVF4SSxRQUFRLEVBQUEsS0FBT3dJLGNBQW1CQyxFQUFJOUgsUUFDekQsVUFDQTtRQUNWO0FBR08saUJBQVNxSyxHQUFnQjVCLElBQUFBO0FBQzlCLGNBQU14RSxLQUFPN0ksRUFBR0QsS0FBS3NOLEdBQU02QixZQUFBQSxJQUN0QjdCLEdBQU02QixhQUFBQSxJQUNON0IsR0FBeUN4RTtBQUU5QyxpQkFBTyxDQUNMc0csRUFBMEJ0RyxLQUFPQSxHQUFLLENBQUEsSUFBTXdFLEdBQU05RCxNQUFBQSxHQUNsRDRGLEVBQTBCOUIsR0FBTStCLGFBQUFBLENBQUFBO1FBRXBDO0FDMU5BLFlBQWFDLEtBQVMsV0FBQTtBQVdwQixtQkFBQUEsR0FBWWxPLElBQUFBO0FBQTZCbU8sY0FBQUEsTUFBQUQsRUFBQUEsR0FOekN6TCxLQUdBMkwsOEJBQUFBLE9BQW1DM0wsS0FDbkM0TCxxQkFBQUEsT0FHRTVMLEtBQUs2TCxlQUFldE87VUFDdEI7QUFnQkMsaUJBaEJBdU8sRUFBQUwsSUFBQSxDQUFBLEVBQUFNLEtBQUEsa0JBQUEzRyxPQUVELFdBQUE7VUFBa0IsRUFBQSxHQUVsQixFQUFBMkcsS0FBQSxtQkFBQTNHLE9BR0EsV0FBQTtBQUNFcEYsaUJBQUs0TCxxQkFBQUE7VUFDUCxFQUFBLEdBRUEsRUFBQUcsS0FBQSw0QkFBQTNHLE9BR0EsV0FBQTtBQUNFcEYsaUJBQUsyTCw4QkFBOEIzTCxLQUFLNEwscUJBQUFBO1VBQzFDLEVBQUEsQ0FBQSxDQUFBLEdBQUNIO1FBQUEsRUE3Qm1CO0FBd0N0QnZELGVBQU9DLGVBQWVzRCxHQUFVMU0sV0FBVyxlQUFlLEVBQ3hEcUosS0FBRyxXQUFBO0FBQ0QsaUJBQU9wSSxLQUFLNkwsYUFBYUc7UUFDMUIsR0FDRDNELEtBQUcsV0FBQTtRQUFtQixFQUFBLENBQUE7QUM1Q2pCLFlBRU00RCxLQUFRLFNBQU90RyxJQUFzQkgsSUFBQUE7QUFBZ0IsbUJBQUEwQixLQUFBQSxHQUFBQSxLQUM3QzFCLEdBQU1ySSxRQUFBK0osTUFBRTtBQUF0QixnQkFBTWdGLEtBQVExRyxHQUFNMEIsRUFBQUE7QUFDdkJ2QixZQUFBQSxHQUFPVCxLQUFLZ0gsRUFBQUE7VUFDZDtBQUVBLGlCQUFPdkc7UUFDVCxHQUVhd0csS0FBTyxTQUFVM0csSUFBQUE7QUFBb0IsaUJBQUt5RyxHQUFNLENBQUEsR0FBV3pHLEVBQUFBO1FBQWMsR0FFekU0RyxLQUFZLFNBQUlsUCxJQUFZZixJQUFBQTtBQUN2QyxtQkFBU2tRLEtBQUksR0FBR0EsS0FBSW5QLEdBQU1DLFFBQVFrUCxLQUNoQyxLQUFJbFEsR0FBS2UsR0FBTW1QLEVBQUFBLEdBQUlBLElBQUduUCxFQUFBQSxFQUNwQixRQUFPbVA7QUFJWCxpQkFBQTtRQUNGLEdBRWFDLEtBQU8sU0FBVXBQLElBQVlmLElBQUFBO0FBQWUsaUJBQW9CZSxHQUFNa1AsR0FBVWxQLElBQU9mLEVBQUFBLENBQUFBO1FBQU0sR0NsQjdGb1EsS0FBQUEsU0FBU0MsSUFBQUE7QUFBQUMsWUFBQUYsSUFBQUMsRUFBQUE7QUFBQSxjQUFBRSxLQUFBQyxFQUFBSixFQUFBQTtBQVlwQixtQkFBQUEsR0FBWUssSUFBc0JDLElBQWtDeE0sSUFBQUE7QUFBYyxnQkFBQXlNO0FBQUFwQixjQUFBQSxNQUFBYSxFQUFBQSxJQUNoRk8sS0FBQUosR0FBQUssS0FBTUYsTUFBQUEsR0FBVWhCLFlBQUFBLEdBWGxCbUIsV0FBQUEsUUFBUUYsR0FDUkQsWUFBQUEsUUFBU0MsR0FDVEcsZ0JBQUFBLFFBQWFILEdBQ2I5TixZQUFBQSxRQUFTOE4sR0FDVGxCLHFCQUFBQSxPQUEwQmtCLEdBQzFCbkIsOEJBQUFBO0FBUUUsZ0JBQUFyTyxLQUF1QyxnQkFBVCtDLEtBQXVCdU0sR0FBVU0sT0FBT04sR0FBVWhQLEtBQXhFbEIsS0FBT1ksR0FBUFosU0FBU3NRLEtBQVExUCxHQUFSMFA7QUFTbUIsbUJBUHBDRixHQUFLek0sT0FBT0EsSUFDWnlNLEdBQUtuSCxTQUFTakosSUFDZG9RLEdBQUt0QixnQkFBZ0I5TyxJQUNyQm9RLEdBQUtFLFdBQVdBLElBQ2hCRixHQUFLRCxZQUFZQSxJQUNqQkMsR0FBS0csZ0JBQWdCSixHQUFVbEgsUUFDL0JtSCxHQUFLOU4sWUFBWTZOLEdBQVV4TixjQUMzQnlOLEdBQUtyRSxZQUFZb0UsR0FBVXBFLFdBQVNxRTtVQUN0QztBQXVEQyxpQkFyRERoQixFQUFBUyxJQUFBLENBQUEsRUFBQVIsS0FBQSxVQUFBM0csT0FPQSxXQUFBO0FBQVMsZ0JBQUErSCxLQUFBbk4sTUFDQzRNLEtBQWM1TSxLQUFLNkwsYUFBbkJlO0FBRVIsZ0JBQ2dCLG1CQUFkNU0sS0FBS0ssUUFDSEwsS0FBS2dOLFlBQVlKLEdBQVVoUCxJQUFJb1AsYUFBYWhOLEtBQUtnTixZQUFZSixHQUFVaFAsSUFBSWxCLFlBQVlzRCxLQUFLMkYsT0FhaEcsS0FSQWlILEdBQVVNLEtBQUtGLFdBQVdoTixLQUFLZ04sVUFDL0JKLEdBQVVNLEtBQUt4USxVQUFVc0QsS0FBSzJGLFFBRTlCaUgsR0FBVVEsV0FBQUEsTUFDVlIsR0FBVVMsT0FBT0MsUUFBUSxNQUV6QnROLEtBQUt1Tix5QkFBQUEsR0FFYSxtQkFBZHZOLEtBQUtLLE1BQXlCO0FBQ2hDLGtCQUFNbU4sS0FBY1osR0FBVVksYUFDeEJDLEtBQVFDLEdBQ1pGLElBQ0EsU0FBQXBQLElBQUFBO0FBQUEsb0JBQUc0TyxLQUFRNU8sR0FBUjRPLFVBQVV0USxLQUFPMEIsR0FBUDFCO0FBQU8sdUJBQU9zUSxPQUFhRyxHQUFLSCxZQUFZdFEsT0FBWXlRLEdBQUt4SDtjQUFNLENBQUE7QUFHbEZpSCxjQUFBQSxHQUFVWSxZQUFZcFEsT0FBT3FRLElBQU8sQ0FBQTtBQUVwQyxrQkFBTUUsS0FBa0IsSUFBSXBCLEdBQVVLLElBQVc1TSxLQUFLNk0sV0FBVyxnQkFBQTtBQUVqRWMsY0FBQUEsR0FBZ0JYLFdBQVdoTixLQUFLZ04sVUFDaENXLEdBQWdCaEksU0FBUzNGLEtBQUsyRixRQUU5QjNGLEtBQUtnTixTQUFTWSxLQUFLRCxFQUFBQTtZQUNyQixNQUNFM04sTUFBS2dOLFNBQVNZLEtBQUssSUFBSXJCLEdBQVVLLElBQVc1TSxLQUFLNk0sV0FBVyxXQUFBLENBQUE7VUFFaEUsRUFBQSxHQUFDLEVBQUFkLEtBQUEsa0JBQUEzRyxPQUVELFdBQUE7VUFBa0IsRUFBQSxHQUFDLEVBQUEyRyxLQUFBLG1CQUFBM0csT0FFbkIsV0FBQTtBQUNFcEYsaUJBQUs0TCxxQkFBQUE7VUFDUCxFQUFBLEdBQUMsRUFBQUcsS0FBQSw0QkFBQTNHLE9BRUQsV0FBQTtBQUNFcEYsaUJBQUsyTCw4QkFBOEIzTCxLQUFLNEwscUJBQUFBO1VBQzFDLEVBQUEsQ0FBQSxDQUFBLEdBQUNXO1FBQUEsRUFoRjRCZCxFQUFBQTtBQzZSL0IsaUJBQVNvQyxHQUFxQkwsSUFBMkIvRCxJQUFBQTtBQUN2RCxtQkFBQXFFLEtBQUFDLEdBQUFBLEtBQ29DUCxHQUFZUSxNQUFBQSxHQUFPRixLQUFBQyxHQUFBNVEsUUFBQTJRLE1BQUU7QUFBcEQsZ0JBQUFHLEtBQUFGLEdBQUFELEVBQUFBLEdBQVFkLEtBQVFpQixHQUFSakIsVUFBVXRRLEtBQU91UixHQUFQdlI7QUFDckIrTSxZQUFBQSxHQUFNdUQsV0FBV0EsSUFHakJ2RCxHQUFNOUQsU0FBU2pKLElBQ2ZzUSxHQUFTWSxLQUFLbkUsRUFBQUEsR0FDZEEsR0FBTW1DLHFCQUFxQm5DLEdBQU1rQyw4QkFBQUE7VUFDbkM7UUFDRjtBQUtBLGlCQUFTdUMsR0FBZXZQLElBQWN3UCxJQUFBQTtBQUVvQixtQkFBbERYLEtBbkRSLFNBQXlCbFEsSUFBMkI4USxJQUFBQTtBQUdsRCxxQkFGTUMsS0FBc0IsQ0FBQSxHQUU1Qm5ILEtBQUEsR0FBQW9ILEtBSHVDaFIsR0FBYmlSLGNBSVdDLE1BQUl0SCxLQUFBb0gsR0FBQW5SLFFBQUErSixNQUFFO0FBQXRDLGtCQUFNOEYsS0FBUXNCLEdBQUFwSCxFQUFBQTtBQUNqQixrQkFBSzhGLEdBQVN4TixRQUFRaVAsS0FBS2hQLFNBQTNCO0FBSUEsb0JBQU1pUCxLQUFTMUIsR0FBU3hOLFFBQVFpUCxLQUFLQztBQUdyQyxvQkFBQSxFQUNHdFMsRUFBR00sUUFBUWdTLEVBQUFBLEtBQVdBLE9BQVdOLE1BQ2pDaFMsRUFBR0ssT0FBT2lTLEVBQUFBLEtBQUFBLENBQVluRCxFQUF5QjZDLElBQWtCTSxFQUFBQSxLQUNqRXRTLEVBQUdELEtBQUt1UyxFQUFBQSxLQUFBQSxDQUFZQSxHQUFPLEVBQUUxQixVQUFBQSxJQUFVb0Isa0JBQUFBLEdBQUFBLENBQUFBLEdBR3pDLFVBQUFPLEtBQUFDLEdBQUFBLEtBRTZCNUIsR0FBUzZCLGVBQUFBLEdBQWdCRixLQUFBQyxHQUFBelIsUUFBQXdSLE1BQUU7QUFBcEQsc0JBQU1HLEtBQWVGLEdBQUFELEVBQUFBO0FBQ3BCRyxrQkFBQUEsT0FBb0JWLE1BQ3RCQyxHQUFNbkosS0FBSyxFQUNUOEgsVUFBQUEsSUFDQXRRLFNBQVNvUyxJQUNUNUksTUFBTThHLEdBQVNwSCxRQUFRa0osRUFBQUEsRUFBQUEsQ0FBQUE7Z0JBRzdCO2NBckJBO1lBc0JGO0FBRUEsbUJBQU9UO1VBQ1QsRUFtQnVDMVAsSUFBT3dQLEVBQUFBLEdBQVlZLEtBQUFBLEdBQUFBLEtBRS9CdkIsR0FBV3JRLFFBQUE0UixNQUFFO0FBQWpDLGdCQUFNQyxLQUFjeEIsR0FBV3VCLEVBQUFBO0FBQ2xDQyxZQUFBQSxHQUFXOUksT0FBTzhJLEdBQVdoQyxTQUFTcEgsUUFBUW9KLEdBQVd0UyxPQUFBQTtVQUMzRDtBQUVBLGlCQUFPOFE7UUFDVDtBQUVBLGlCQUFTeUIsR0FBTzdRLElBRWR5TyxJQUNBcUMsSUFBQUE7QUFJQSxtQkFORXRDLEtBQVN4TyxHQUFUd08sV0FBeUI1TixLQUFTWixHQUF2QmlCLGNBQWtDOE8sS0FBVy9QLEdBQXBCMUIsU0FJaEN5UyxLQUF3QixDQUFBLEdBRTlCQyxLQUFBLEdBQUFDLEtBQzJEekMsR0FBVVksYUFBVzRCLEtBQUFDLEdBQUFsUyxRQUFBaVMsTUFBRTtBQUE3RSxnQkFBQUUsS0FBQUQsR0FBQUQsRUFBQUEsR0FBUXBDLEtBQVFzQyxHQUFSdEMsVUFBbUI4QixLQUFlUSxHQUF4QjVTLFNBQTBCd0osS0FBSW9KLEdBQUpwSixNQUN6Q3FKLEtBQVV2QyxHQUFTd0MsVUFDdkIzQyxJQUNBcUMsSUFDQWxRLElBQ0FtUCxJQUNBVyxJQUNBNUksRUFBQUE7QUFFRmlKLFlBQUFBLEdBQVdqSyxLQUFLcUssS0FBVVQsS0FBa0IsSUFBQTtVQUM3QztBQUdELGNBQU1XLEtYclJELFNBQStCQyxJQUFBQTtBQUlwQyxxQkFGSUMsSUErR3NCQyxJQUFrQkMsSUFoSHhDQyxLQUE2QixDQUFBLEdBR3hCekQsS0FBSSxHQUFHQSxLQUFJcUQsR0FBU3ZTLFFBQVFrUCxNQUFLO0FBQ3hDLGtCQUFNMEQsS0FBY0wsR0FBU3JELEVBQUFBLEdBQ3ZCMkQsS0FBb0JOLEdBQVNDLEVBQUFBO0FBR25DLGtCQUFLSSxNQUFlMUQsT0FBTXNELEdBSTFCLEtBQUtLLElBQUw7QUFLQSxvQkFBTUMsS0FBb0I1TSxFQUFVME0sRUFBQUEsR0FDOUJHLEtBQW9CN00sRUFBVTJNLEVBQUFBO0FBSXBDLG9CQUFJQyxPQUFzQkYsR0FBWW5VLGNBSWpDLEtBQUlzVSxPQUFzQkgsR0FBWW5VLGNBTTNDLEtBQUlxVSxPQUFzQkMsSUFBMUI7QUFTQUosa0JBQUFBLEtBQXFCQSxHQUFtQjNTLFNBQVMyUyxLQUFxQnhNLEVBQWUwTSxFQUFBQTtBQUVyRixzQkFBSUcsS0FBQUE7QUFHSixzQkFDRUgsY0FBdUJ4UCxFQUFXTSxlQUNsQ2lQLGNBQXVCdlAsRUFBV0csY0FBQUEsRUFDaENvUCxjQUF1QnZQLEVBQVdJLGdCQUNwQztBQUVBLHdCQUFJbVAsT0FBZ0JHLEdBQ2xCO0FBR0ZDLG9CQUFBQSxLQUFnQkosR0FBWUs7a0JBQzlCLE1BQ0VELENBQUFBLEtBQWdCSjtBQU9sQiwyQkFKTU0sS0FBcUIvTSxFQUFlNk0sSUFBZUgsR0FBWXBVLGFBQUFBLEdBQ2pFMFUsS0FBYyxHQUloQkQsR0FBbUJDLEVBQUFBLEtBQ25CRCxHQUFtQkMsRUFBQUEsTUFBaUJSLEdBQW1CUSxFQUFBQSxJQUV2REEsQ0FBQUE7QUFHRixzQkFBTTdNLEtBQVUsQ0FDZDRNLEdBQW1CQyxLQUFjLENBQUEsR0FDakNELEdBQW1CQyxFQUFBQSxHQUNuQlIsR0FBbUJRLEVBQUFBLENBQUFBO0FBR3JCLHNCQUFJN00sR0FBUSxDQUFBLEVBR1YsVUFGSVosS0FBUVksR0FBUSxDQUFBLEVBQUc4TSxXQUVoQjFOLE1BQU87QUFDWix3QkFBSUEsT0FBVVksR0FBUSxDQUFBLEdBQUk7QUFDeEJrTSxzQkFBQUEsS0FBbUJ0RCxJQUNuQnlELEtBQXFCTztBQUVyQjtvQkFDRDtBQUFNLHdCQUFJeE4sT0FBVVksR0FBUSxDQUFBLEVBQzNCO0FBR0ZaLG9CQUFBQSxLQUFRQSxHQUFNMk47a0JBQ2hCO2dCQXRERixNQTBFMENYLENBQUFBLEtBL0VKRyxJQUFBQSxRQWdGbENTLFNBQWNDLFNBQVNwVixFQURIc1UsS0EvRUNHLEVBQUFBLEVBZ0Y0QlksaUJBQWlCZixFQUFBQSxFQUFZZ0IsUUFBUSxFQUFBLEtBQU8sT0FDaEZGLFNBQVNwVixFQUFjdVUsRUFBQUEsRUFBV2MsaUJBQWlCZCxFQUFBQSxFQUFXZSxRQUFRLEVBQUEsS0FBTyxPQWhGMUZqQixLQUFtQnREO29CQVByQnNELENBQUFBLEtBQW1CdEQ7Y0FackIsTUFGRXNELENBQUFBLEtBQW1CdEQ7WUFpRnZCO0FBRUEsbUJBQU9zRDtVQUNULEVXbUxtRFIsRUFBQUE7QUFFakQsaUJBQU92QyxHQUFXWSxZQUFZaUMsRUFBQUEsS0FBYztRQUM5QztBQUVBLGlCQUFTb0IsR0FBY3RULElBQTBCdVQsSUFBZWpFLElBQUFBO0FBQzlELGNBQU1ELEtBQVlyUCxHQUFZcVAsV0FDeEJtRSxLQUErQyxFQUNuRHpELE9BQU8sTUFDUDBELE9BQU8sTUFDUEMsVUFBVSxNQUNWQyxZQUFZLE1BQ1ovUyxNQUFNLE1BQ05zUSxNQUFNLEtBQUE7QUFnQlIsaUJBYnVCLGdCQUFuQjVCLEdBQVV4TSxTQUNaMFEsR0FBV0UsV0FBVyxJQUFJMUUsR0FBVUssSUFBV0MsSUFBVyxjQUFBLEdBRTFEa0UsR0FBV0UsU0FBU3RMLFNBQVMsTUFDN0JvTCxHQUFXRSxTQUFTakUsV0FBVyxPQUVWLGNBQW5CSCxHQUFVeE0sU0FDWjBRLEdBQVdHLGFBQWEsSUFBSTNFLEdBQVVLLElBQVdDLElBQVcsZ0JBQUEsR0FFNURrRSxHQUFXRyxXQUFXdkwsU0FBUyxNQUMvQm9MLEdBQVdHLFdBQVdsRSxXQUFXLE9BRy9CSixHQUFVUSxhQUlWUixHQUFVaFAsSUFBSWxCLFlBQVlrUSxHQUFVTSxLQUFLeFEsWUFFdkNrUSxHQUFVTSxLQUFLRixhQUNqQitELEdBQVdDLFFBQVEsSUFBSXpFLEdBQVVLLElBQVdDLElBQVcsV0FBQSxHQUV2REEsR0FBVXNFLFlBQVlKLEdBQVdDLE1BQU1yTCxTQUFTaUgsR0FBVU0sS0FBS3hRLFNBQy9EbVEsR0FBVXVFLGVBQWVMLEdBQVdDLE1BQU1oRSxXQUFXSixHQUFVTSxLQUFLRixXQUdsRUosR0FBVWhQLElBQUlvUCxhQUNoQitELEdBQVd6RCxRQUFRLElBQUlmLEdBQVVLLElBQVdDLElBQVcsV0FBQSxHQUV2REEsR0FBVXdFLFlBQVl6RSxHQUFVaFAsSUFBSWxCLFNBQ3BDbVEsR0FBVUcsV0FBV0osR0FBVWhQLElBQUlvUCxZQUloQixjQUFuQkgsR0FBVXhNLFFBQXNCdU0sR0FBVWhQLElBQUlvUCxhQUNoRCtELEdBQVd0QyxPQUFPLElBQUlsQyxHQUFVSyxJQUFXQyxJQUFXLE1BQUEsR0FFdERBLEdBQVVHLFdBQVdKLEdBQVVoUCxJQUFJb1AsVUFDbkNILEdBQVVJLGdCQUFnQkwsR0FBVWhQLElBQUlsQixVQUVuQixlQUFuQm1RLEdBQVV4TSxRQUF1QnVNLEdBQVVoUCxJQUFJb1AsYUFDakQrRCxHQUFXNVMsT0FBTyxJQUFJb08sR0FBVUssSUFBV0MsSUFBVyxVQUFBLEdBRXREQSxHQUFVRyxXQUFXSixHQUFVaFAsSUFBSW9QLFlBN0I1QitEO1FBaUNYO0FBTUEsaUJBQVNPLEdBQWUvVCxJQUEwQjhQLElBQUFBO0FBQ2hELGNBQU1ULEtBQVlyUCxHQUFZcVAsV0FDdEJZLEtBQTJCWixHQUEzQlksYUFBYTVQLEtBQWNnUCxHQUFkaFAsS0FBS3NQLEtBQVNOLEdBQVRNO0FBRXRCRyxVQUFBQSxHQUFPMkQsU0FDVDlELEdBQUtGLFNBQVNZLEtBQUtQLEdBQU8yRCxLQUFBQSxHQUV4QjNELEdBQU9DLFNBQ1QxUCxHQUFJb1AsU0FBU1ksS0FBS1AsR0FBT0MsS0FBQUEsR0FFdkJELEdBQU9sUCxRQUNUUCxHQUFJb1AsU0FBU1ksS0FBS1AsR0FBT2xQLElBQUFBLEdBRXZCa1AsR0FBT29CLFFBQ1Q3USxHQUFJb1AsU0FBU1ksS0FBS1AsR0FBT29CLElBQUFBLEdBR3ZCcEIsR0FBTzZELGNBQ1RyRCxHQUFxQkwsSUFBYUgsR0FBTzZELFVBQUFBLEdBRzNDdEUsR0FBVU0sS0FBS0YsV0FBV3BQLEdBQUlvUCxVQUM5QkosR0FBVU0sS0FBS3hRLFVBQVVrQixHQUFJbEI7UUFDL0I7QUFFQSxpQkFBUzZVLEdBQWNDLElBQWlFN1MsSUFBQUE7QUFBYyxjQUE1RXBCLEtBQVdpVSxHQUFYalUsYUFBYWMsS0FBTW1ULEdBQU5uVCxRQUFRb0wsS0FBSytILEdBQUwvSDtBQUM3QyxjQUFvQixlQUFoQnBMLEdBQU9nQyxRQUF1QyxjQUFoQmhDLEdBQU9nQyxNQUF6QztBQUlBLGdCQUFNdU0sS0FBWXJQLEdBQVlxUDtBQUUxQmpPLFlBQUFBLEdBQU04UyxnQkFDUjdFLEdBQVVZLGNBQWNVLEdBQWV2UCxJQUFPcEIsR0FBWWIsT0FBQUE7QUFHNUQsZ0JBQU1tUSxLQUFZeE8sSUFDWnFULEtBQWF6QyxHQUFRMVIsSUFBYXNQLElBQVdwRCxFQUFBQTtBQUduRG1ELFlBQUFBLEdBQVVRLFdBQ1JSLEdBQVVRLFlBQUFBLENBQUFBLENBQ1JzRSxNQUNGQSxHQUFXMUUsYUFBYUosR0FBVWhQLElBQUlvUCxZQUN0QzBFLEdBQVdoVixZQUFZa1EsR0FBVWhQLElBQUlsQixTQUV2Q2tRLEdBQVVoUCxJQUFJb1AsV0FBVzBFLE1BQWNBLEdBQVcxRSxVQUNsREosR0FBVWhQLElBQUlsQixVQUFVZ1YsTUFBY0EsR0FBV2hWLFNBRWpEa1EsR0FBVVMsU0FBU3dELEdBQWN0VCxJQUFha00sR0FBT29ELEVBQUFBO1VBckJyRDtRQXNCRjtBQXFKQSxZQUFNNEIsS0FBZSxFQUNuQmhRLElBQUksZ0JBQ0pDLFNBaFpGLFNBQWlCQyxJQUFBQTtBQUNmLGNBQVFDLEtBQThERCxHQUE5REMsU0FBeUIrUyxLQUFxQ2hULEdBQXJEaVQsZ0JBQTBCL1MsS0FBMkJGLEdBQTNCRSxjQUFjQyxLQUFhSCxHQUFiRztBQUV6REgsVUFBQUEsR0FBTWtULFVBQVVyVCxDQUFBQSxHQUVoQkssR0FBYUUsVUFBVWlPLFdBQVcsU0FBOEJ4TixJQUFBQTtBQUM5RCxtQkF1UEosU0FBd0JILElBQTRCRyxJQUFBQTtBQUNsRCxrQkFBSXBELEVBQUdILE9BQU91RCxFQUFBQSxHQUFVO0FBR3RCLG9CQUZBSCxHQUFhRyxRQUFRaVAsS0FBS2hQLFVBQUFBLFVBQVVELEdBQVFDLFNBRXhDRCxHQUFRTCxXQUFXO0FBQ3JCLHNCQUFNMlMsS0FBYUMsRUFBbUJ2UyxHQUFRTCxTQUFBQSxHQUV4QzZTLEtBQVk5SixPQUFPK0osS0FBS0gsRUFBQUEsRUFBWUksT0FBTyxTQUFDQyxJQUFLOVIsSUFBQUE7QUFTckQsMkJBRkE4UixHQU5zQixpQkFBaUJ2VixLQUFLeUQsRUFBQUEsSUFBS2tILE9BQUFBLE9BQ3RDbEgsRUFBQUEsSUFDUCw4QkFBOEJ6RCxLQUFLeUQsRUFBQUEsSUFBQUEsT0FBS2tILE9BQy9CbEgsRUFBQUEsSUFDUEEsRUFBQUEsSUFFZXlSLEdBQVd6UixFQUFBQSxHQUV6QjhSO2tCQUNSLEdBQUUsQ0FBRSxDQUFBLEdBRUNDLEtBQWdCL1MsR0FBYUcsUUFBUWlQLEtBQUt0UDtBQUNoRGlULGtCQUFBQSxNQUFpQi9TLEdBQWFnVCxJQUFJRCxFQUFBQSxHQUVsQy9TLEdBQWFpVCxHQUFHTixFQUFBQSxHQUNoQjNTLEdBQWFHLFFBQVFpUCxLQUFLdFAsWUFBWTZTO2dCQUN4QztBQWlDQSx1QkEvQkk1VixFQUFHRCxLQUFLcUQsR0FBUStTLE1BQUFBLEtBQ2xCbFQsR0FBYWlULEdBQUcsUUFBUTlTLEdBQVErUyxNQUFBQSxHQUU5Qm5XLEVBQUdELEtBQUtxRCxHQUFRZ1QsY0FBQUEsS0FDbEJuVCxHQUFhaVQsR0FBRyxnQkFBZ0I5UyxHQUFRZ1QsY0FBQUEsR0FFdENwVyxFQUFHRCxLQUFLcUQsR0FBUWlULGdCQUFBQSxLQUNsQnBULEdBQWFpVCxHQUFHLGtCQUFrQjlTLEdBQVFpVCxnQkFBQUEsR0FFeENyVyxFQUFHRCxLQUFLcUQsR0FBUWtULFdBQUFBLEtBQ2xCclQsR0FBYWlULEdBQUcsYUFBYTlTLEdBQVFrVCxXQUFBQSxHQUVuQ3RXLEVBQUdELEtBQUtxRCxHQUFRbVQsV0FBQUEsS0FDbEJ0VCxHQUFhaVQsR0FBRyxhQUFhOVMsR0FBUW1ULFdBQUFBLEdBRW5DdlcsRUFBR0QsS0FBS3FELEdBQVFvVCxVQUFBQSxLQUNsQnZULEdBQWFpVCxHQUFHLFlBQVk5UyxHQUFRb1QsVUFBQUEsR0FHbEMscUJBQXFCaFcsS0FBSzRDLEdBQVFxVCxPQUFBQSxJQUNwQ3hULEdBQWFHLFFBQVFpUCxLQUFLb0UsVUFBVXJULEdBQVFxVCxVQUNuQ3pXLEVBQUdHLE9BQU9pRCxHQUFRcVQsT0FBQUEsTUFDM0J4VCxHQUFhRyxRQUFRaVAsS0FBS29FLFVBQVVuTCxLQUFLOEMsSUFBSTlDLEtBQUsyQyxJQUFJLEdBQUc3SyxHQUFRcVQsT0FBQUEsR0FBVSxDQUFBLElBRXpFLFlBQVlyVCxPQUNkSCxHQUFhRyxRQUFRaVAsS0FBS0MsU0FBU2xQLEdBQVFrUCxTQUV6QyxhQUFhbFAsT0FDZkgsR0FBYUcsUUFBUWlQLEtBQUtxRSxVQUFVdFQsR0FBUXNULFVBR3ZDelQ7Y0FDVDtBQUVBLGtCQUFJakQsRUFBR0ksS0FBS2dELEVBQUFBLEVBR1YsUUFGQUgsR0FBYUcsUUFBUWlQLEtBQUtoUCxVQUFVRCxJQUU3Qkg7QUFHVCxxQkFBT0EsR0FBYUcsUUFBUWlQO1lBQzlCLEVBMVQwQnpPLE1BQU1SLEVBQUFBO1VBQUFBLEdBRzlCWCxHQUFhRSxVQUFVeVEsWUFBWSxTQUVqQzNDLElBQ0FwRCxJQUNBekssSUFDQW9QLElBQ0EyRSxJQUNBN00sSUFBQUE7QUFFQSxtQkFnVEosU0FDRTdHLElBQ0F3TixJQUNBcEQsSUFDQXpLLElBQ0FvUCxJQUNBMkUsSUFDQTdNLElBQUFBO0FBRUEsa0JBQUk4TSxLQUFBQTtBQUlKLGtCQUFBLEVBQU05TSxLQUFPQSxNQUFRN0csR0FBYXVHLFFBQVFtTixFQUFBQSxHQUN4QyxRQUFBLENBQUEsQ0FBTzFULEdBQWFHLFFBQVFpUCxLQUFLcUUsV0FDN0J6VCxHQUFhRyxRQUFRaVAsS0FBS3FFLFFBQ3hCakcsSUFDQXBELElBQ0F1SixJQUNBM1QsSUFDQTBULElBQ0EvVCxJQUNBb1AsRUFBQUE7QUFLUixrQkFBTTZFLEtBQWM1VCxHQUFhRyxRQUFRaVAsS0FBS29FO0FBRTlDLGtCQUFvQixjQUFoQkksSUFBMkI7QUFDN0Isb0JBQU14TSxLQUFTSCxFQUFZdEgsSUFBV29QLElBQWtCLE1BQUEsR0FDbER2USxLQUFPcVYsR0FBdUJyRyxFQUFBQTtBQUVwQ2hQLGdCQUFBQSxHQUFLSyxLQUFLdUksR0FBT3ZJLEdBQ2pCTCxHQUFLQyxLQUFLMkksR0FBTzNJO0FBRWpCLG9CQUFNcVYsS0FBYXRWLEdBQUtLLElBQUlnSSxHQUFLaEMsUUFBUXJHLEdBQUtLLElBQUlnSSxHQUFLL0IsT0FDakRpUCxLQUFXdlYsR0FBS0MsSUFBSW9JLEdBQUs5QixPQUFPdkcsR0FBS0MsSUFBSW9JLEdBQUs3QjtBQUVwRDJPLGdCQUFBQSxLQUFVRyxNQUFjQztjQUMxQjtBQUVBLGtCQUFNQyxLQUFXclUsR0FBVTRHLFFBQVF3SSxFQUFBQTtBQUVuQyxrQkFBSWlGLE1BQTRCLGFBQWhCSixJQUEwQjtBQUN4QyxvQkFBTUssS0FBS0QsR0FBU25QLE9BQU9tUCxHQUFTL08sUUFBUSxHQUN0Q2lQLEtBQUtGLEdBQVNqUCxNQUFNaVAsR0FBUzlPLFNBQVM7QUFFNUN5TyxnQkFBQUEsS0FBVU0sTUFBTXBOLEdBQUtoQyxRQUFRb1AsTUFBTXBOLEdBQUsvQixTQUFTb1AsTUFBTXJOLEdBQUs5QixPQUFPbVAsTUFBTXJOLEdBQUs3QjtjQUNoRjtBQUVBLGtCQUFJZ1AsTUFBWWpYLEVBQUdHLE9BQU8wVyxFQUFBQSxHQUFjO0FBT3RDRCxnQkFBQUEsS0FMRXRMLEtBQUs4QyxJQUFJLEdBQUc5QyxLQUFLMkMsSUFBSW5FLEdBQUsvQixPQUFPa1AsR0FBU2xQLEtBQUFBLElBQVN1RCxLQUFLOEMsSUFBSXRFLEdBQUtoQyxNQUFNbVAsR0FBU25QLElBQUFBLENBQUFBLElBQ2hGd0QsS0FBSzhDLElBQUksR0FBRzlDLEtBQUsyQyxJQUFJbkUsR0FBSzdCLFFBQVFnUCxHQUFTaFAsTUFBQUEsSUFBVXFELEtBQUs4QyxJQUFJdEUsR0FBSzlCLEtBQUtpUCxHQUFTalAsR0FBQUEsQ0FBQUEsS0FFL0NpUCxHQUFTL08sUUFBUStPLEdBQVM5TyxXQUVwQzBPO2NBQzVCO0FBRUk1VCxjQUFBQSxHQUFhRyxRQUFRaVAsS0FBS3FFLFlBQzVCRSxLQUFVM1QsR0FBYUcsUUFBUWlQLEtBQUtxRSxRQUNsQ2pHLElBQ0FwRCxJQUNBdUosSUFDQTNULElBQ0EwVCxJQUNBL1QsSUFDQW9QLEVBQUFBO0FBSUoscUJBQU80RTtZQUNULEVBMVgyQmhULE1BQU02TSxJQUFXcEQsSUFBT3pLLElBQVdvUCxJQUFrQjJFLElBQWE3TSxFQUFBQTtVQUFBQSxHQUczRnlMLEdBQVNGLGNBQWMsU0FBVStCLElBQUFBO0FBQy9CLG1CQUFJcFgsRUFBR0ksS0FBS2dYLEVBQUFBLEtBS1Y3VSxHQUFNOFMsY0FBYytCLElBRWI3QixNQUVGaFQsR0FBTThTO1VBQUFBLEdBR2ZuTSxFQUFPMUcsR0FBUTZVLGdCQUFnQixFQUM3QkMsV0FBQUEsTUFDQUMsV0FBQUEsTUFDQUMsY0FBQUEsTUFDQUMsZ0JBQUFBLE1BQ0FDLFVBQUFBLE1BQ0FyRixNQUFBQSxLQUFNLENBQUEsR0FFUjdQLEdBQVFNLFdBQVd1UCxPQUFPLFlBRTFCOVAsR0FBTThTLGNBQUFBLE9BRU4zUyxHQUFTRixRQUFRNlAsT0FBT0EsR0FBSzNQO1FBQy9CLEdBa1dFSyxXQUFXLEVBQ1Qsb0NBQW9DLFNBQUE0VSxJQUFBQTtBQUFxQixjQUFsQnhXLEtBQVd3VyxHQUFYeFc7QUFDSCxxQkFBOUJBLEdBQVlDLFNBQVNDLFNBSXpCRixHQUFZcVAsWUFBWSxFQUN0QmhQLEtBQUssRUFDSG9QLFVBQVUsTUFDVnRRLFNBQVMsS0FBQSxHQUVYd1EsTUFBTSxFQUNKRixVQUFVLE1BQ1Z0USxTQUFTLEtBQUEsR0FFWDBRLFVBQVUsTUFDVkMsUUFBUSxNQUNSRyxhQUFhLENBQUEsRUFBQTtRQUVoQixHQUVELG1DQUFtQyxTQUFBd0csSUFFakNyVixJQUFBQTtBQUNHLGNBRkRwQixLQUFXeVcsR0FBWHpXLGFBQTRCc1AsTUFBVm1ILEdBQUx2SyxPQUF3QnVLLEdBQWpCM1Y7QUFHdEIsY0FBa0MsV0FBOUJkLEdBQVlDLFNBQVNDLE1BQXpCO0FBSUEsZ0JBQU1tUCxLQUFZclAsR0FBWXFQO0FBRzlCQSxZQUFBQSxHQUFVWSxjQUFjLENBQUEsR0FDeEJaLEdBQVVTLFNBQVMsQ0FBQSxHQUNuQlQsR0FBVVksY0FBY1UsR0FBZXZQLElBQU9wQixHQUFZYixPQUFBQSxHQUMxRGtRLEdBQVVTLFNBQVN3RCxHQUFjdFQsSUFBYWtNLEdBQU9vRCxFQUFBQSxHQUVqREQsR0FBVVMsT0FBTzRELGFBQ25CcEQsR0FBcUJqQixHQUFVWSxhQUFhWixHQUFVUyxPQUFPNEQsUUFBQUEsR0FDN0R0UyxHQUFNaVAsS0FBSyxzQkFBc0IsRUFBRXJRLGFBQUFBLElBQWFzUCxXQUFBQSxHQUFBQSxDQUFBQTtVQVpsRDtRQWNELEdBRUQsNEJBQTRCMEUsSUFFNUIsa0NBQWtDLFNBQUEwQyxJQUVoQ3RWLElBQUFBO0FBQ0csY0FGRHBCLEtBQVcwVyxHQUFYMVcsYUFBcUJzUCxLQUFTb0gsR0FBakI1VjtBQUdmLGNBQWtDLFdBQTlCZCxHQUFZQyxTQUFTQyxNQUF6QjtBQUlBLGdCQUFNbVAsS0FBWXJQLEdBQVlxUDtBQUM5QjBFLGVBQWUvVCxJQUFhcVAsR0FBVVMsTUFBQUEsR0FFdEMxTyxHQUFNaVAsS0FBSyxxQkFBcUIsRUFBRXJRLGFBQUFBLElBQWFzUCxXQUFBQSxHQUFBQSxDQUFBQSxHQUMvQ0QsR0FBVVMsU0FBUyxDQUFBO1VBTm5CO1FBT0QsR0FFRCwyQkFBMkIsU0FBQ2pPLElBQXFDVCxJQUFBQTtBQUMvRCxjQUFzQyxXQUFsQ1MsR0FBSTdCLFlBQVlDLFNBQVNDLE1BQTdCO0FBSUEsZ0JBQVFGLEtBQW1DNkIsR0FBbkM3QixhQUFxQnNQLEtBQWN6TixHQUF0QmY7QUFFckJrVCxlQUFlblMsSUFBS1QsRUFBQUEsR0FDcEIyUyxHQUFlL1QsSUFBYUEsR0FBWXFQLFVBQVdTLE1BQUFBLEdBQ25EMU8sR0FBTWlQLEtBQUssb0JBQW9CLEVBQUVyUSxhQUFBQSxJQUFhc1AsV0FBQUEsR0FBQUEsQ0FBQUE7VUFOOUM7UUFPRCxHQUVELHFCQUFxQixTQUFBcUgsSUFBQUE7QUFBcUIsY0FBbEIzVyxLQUFXMlcsR0FBWDNXO0FBQ3RCLGNBQWtDLFdBQTlCQSxHQUFZQyxTQUFTQyxNQUF6QjtBQUlBLGdCQUFRbVAsS0FBY3JQLEdBQWRxUDtBQUVKQSxZQUFBQSxPQUNGQSxHQUFVWSxjQUFjLE1BQ3hCWixHQUFVUyxTQUFTLE1BQ25CVCxHQUFVaFAsSUFBSW9QLFdBQVcsTUFDekJKLEdBQVVoUCxJQUFJbEIsVUFBVSxNQUN4QmtRLEdBQVVNLEtBQUtGLFdBQVcsTUFDMUJKLEdBQVVNLEtBQUt4USxVQUFVLE1BQ3pCa1EsR0FBVVEsV0FBQUE7VUFYWjtRQWFGLEVBQUEsR0FFRmMsZ0JBQUFBLElBQ0FlLFNBQUFBLElBQ0E0QixlQUFBQSxJQUNBUyxnQkFBQUEsSUFFQWxSLGlCQUFpQixTQUFDQyxJQUFBQTtBQUFZLGlCQUE2QixNQUF4QkEsR0FBS0MsT0FBTyxNQUFBLEtBQXlDLE1BQXhCRCxHQUFLQyxPQUFPLE1BQUE7UUFBYSxHQUV6RnhCLFVBQVUsRUFDUlcsU0FBQUEsT0FDQWlQLFFBQVEsTUFDUm1FLFNBQVMsVUFBQSxFQUFBLEdBSWJzQixLQUFlMUY7QUMxbEJmLGlCQUFTMkYsR0FBa0I5VyxJQUFBQTtBQUFtRCxjQUFoREMsS0FBV0QsR0FBWEMsYUFBYWMsS0FBTWYsR0FBTmUsUUFBUWdXLEtBQUsvVyxHQUFMK1c7QUFDakQsY0FBa0MsY0FBOUI5VyxHQUFZQyxTQUFTQyxNQUF6QjtBQUVBLGdCQUFNNkwsS0FBVy9MLEdBQVkrTCxTQUFTckssSUFBSSxTQUFDcUksSUFBQUE7QUFBQyxxQkFBS0EsR0FBRXVCO1lBQUFBLENBQUFBLEdBQzdDeUwsS0FBcUIsWUFBVkQsSUFDWEUsS0FBbUIsVUFBVkYsSUFDVDFKLEtBQWNwTixHQUFZOEIsYUFBYUcsUUFBUW1MO0FBSXJELGdCQUZBdE0sR0FBT3FMLFVBQVUsQ0FBQ0osR0FBUyxDQUFBLEdBQUlBLEdBQVMsQ0FBQSxDQUFBLEdBRXBDZ0wsR0FDRmpXLENBQUFBLEdBQU9tVyxXQUFXdEIsR0FBMkI1SixJQUFVcUIsRUFBQUEsR0FDdkR0TSxHQUFPb1csTUFBTXZCLEdBQXVCNUosRUFBQUEsR0FDcENqTCxHQUFPcVcsUUFBUSxHQUNmclcsR0FBT3NXLEtBQUssR0FDWnRXLEdBQU91VyxRQUFRMUIsR0FBd0I1SixJQUFVcUIsRUFBQUEsR0FDakR0TSxHQUFPd1csS0FBSyxHQUVadFgsR0FBWXVYLFFBQVFDLGdCQUFnQjFXLEdBQU9tVyxVQUMzQ2pYLEdBQVl1WCxRQUFRRSxhQUFhM1csR0FBT3VXO3FCQUMvQkwsTUFBVWhYLEdBQVkrTCxTQUFTbk0sU0FBUyxHQUFHO0FBQ3BELGtCQUFNOFgsS0FBWTFYLEdBQVkwWDtBQUU5QjVXLGNBQUFBLEdBQU9tVyxXQUFXUyxHQUFVVCxVQUM1Qm5XLEdBQU9vVyxNQUFNUSxHQUFVUixLQUN2QnBXLEdBQU9xVyxRQUFRTyxHQUFVUCxPQUN6QnJXLEdBQU9zVyxLQUFLLEdBQ1p0VyxHQUFPdVcsUUFBUUssR0FBVUwsT0FDekJ2VyxHQUFPd1csS0FBSztZQUNkLE1BQ0V4VyxDQUFBQSxHQUFPbVcsV0FBV3RCLEdBQTJCNUosSUFBVXFCLEVBQUFBLEdBQ3ZEdE0sR0FBT29XLE1BQU12QixHQUF1QjVKLEVBQUFBLEdBQ3BDakwsR0FBT3FXLFFBQVFyVyxHQUFPbVcsV0FBV2pYLEdBQVl1WCxRQUFRQyxlQUNyRDFXLEdBQU91VyxRQUFRMUIsR0FBd0I1SixJQUFVcUIsRUFBQUEsR0FFakR0TSxHQUFPc1csS0FBS3RXLEdBQU9xVyxRQUFRblgsR0FBWXVYLFFBQVFKLE9BQy9DclcsR0FBT3dXLEtBQUt4VyxHQUFPdVcsUUFBUXJYLEdBQVl1WCxRQUFRRjtBQUdqRHJYLFlBQUFBLEdBQVl1WCxRQUFRTixXQUFXblcsR0FBT21XLFVBQ3RDalgsR0FBWXVYLFFBQVFGLFFBQVF2VyxHQUFPdVcsT0FFL0J4WSxFQUFHRyxPQUFPOEIsR0FBT3FXLEtBQUFBLEtBQVVyVyxHQUFPcVcsVUFBVVEsSUFBQUEsS0FBQUEsQ0FBYUMsTUFBTTlXLEdBQU9xVyxLQUFBQSxNQUN4RW5YLEdBQVl1WCxRQUFRSixRQUFRclcsR0FBT3FXO1VBMUNRO1FBNEMvQztBQUVBLFlBQU1JLEtBQWtCLEVBQ3RCclcsSUFBSSxtQkFDSjJXLFFBQVEsQ0FBQyxnQkFBZ0IsZ0JBQUEsR0FDekIxVyxTQWhGRixTQUFpQkMsSUFBQUE7QUFDZixjQUFRQyxLQUFvQ0QsR0FBcENDLFNBQVNDLEtBQTJCRixHQUEzQkUsY0FBY0MsS0FBYUgsR0FBYkc7QUFFL0JELFVBQUFBLEdBQWFFLFVBQVVzVyxhQUFhLFNBRWxDN1YsSUFBQUE7QUFFQSxtQkFBSXBELEVBQUdILE9BQU91RCxFQUFBQSxLQUNaUSxLQUFLUixRQUFRc1YsUUFBUXJWLFVBQUFBLFVBQVVELEdBQVFDLFNBQ3ZDTyxLQUFLQyxhQUFhLFdBQVdULEVBQUFBLEdBQzdCUSxLQUFLRSxZQUFZLFdBQVdWLEVBQUFBLEdBRXJCUSxRQUdMNUQsRUFBR0ksS0FBS2dELEVBQUFBLEtBQ1ZRLEtBQUtSLFFBQVFzVixRQUFRclYsVUFBVUQsSUFFeEJRLFFBR0ZBLEtBQUtSLFFBQVFzVjtVQUFBQSxHQUd0QmxXLEdBQVFLLElBQUk2VixVQUFVQSxJQUN0QmxXLEdBQVFNLFdBQVc0VixVQUFVLGNBRTdCaFcsR0FBU0YsUUFBUWtXLFVBQVVBLEdBQVFoVztRQUNyQyxHQXFERUssV0FBVyxFQUNULDZCQUE2QmlWLElBQzdCLDRCQUE0QkEsSUFDNUIsMkJBQTJCQSxJQUUzQixvQkFBb0IsU0FBQWhXLElBQUFBO0FBQWNBLFVBQUFBLEdBQVhiLFlBQ1R1WCxVQUFVLEVBQ3BCRixPQUFPLEdBQ1BKLFVBQVUsR0FDVkUsT0FBTyxHQUNQTSxZQUFZLEdBQ1pELGVBQWUsRUFBQTtRQUVsQixHQUVELG9CQUFvQixTQUFDM1YsSUFBQUE7QUFDbkIsY0FBQSxFQUFJQSxHQUFJN0IsWUFBWStMLFNBQVNuTSxTQUFTLElBQXRDO0FBSUEsZ0JBQU1tWSxLQUFpQmxXLEdBQUlDLGFBQWFHLFFBQVFzVjtBQUVoRCxnQkFBTVEsTUFBa0JBLEdBQWU3VixRQU12QyxRQUZBTCxHQUFJUyxTQUFTLEVBQUVwQyxNQUFNLFVBQUEsR0FBQTtVQVJyQjtRQVdGLEVBQUEsR0FHRnFCLFVBQVUsQ0FBRSxHQUVacUIsV0FBUyxXQUFBO0FBQ1AsaUJBQU87UUFDUixHQUVEQyxpQkFBaUIsU0FBQ0MsSUFBQUE7QUFBWSxpQkFBZ0MsTUFBM0JBLEdBQUtDLE9BQU8sU0FBQTtRQUFnQixFQUFBLEdBR2pFaVYsS0FBZVQ7QUN5QmYsaUJBQVNVLEdBQ1AvWCxJQUNBMkgsSUFDQXZILElBQ0FuQixJQUNBK1ksSUFDQXZQLElBQ0F3UCxJQUFBQTtBQUdBLGNBQUEsQ0FBS3RRLEdBQ0gsUUFBQTtBQUlGLGNBQUEsU0FBSUEsSUFBZ0I7QUFFbEIsZ0JBQU1kLEtBQVFsSSxFQUFHRyxPQUFPMkosR0FBSzVCLEtBQUFBLElBQVM0QixHQUFLNUIsUUFBUTRCLEdBQUsvQixRQUFRK0IsR0FBS2hDLE1BQy9ESyxLQUFTbkksRUFBR0csT0FBTzJKLEdBQUszQixNQUFBQSxJQUFVMkIsR0FBSzNCLFNBQVMyQixHQUFLN0IsU0FBUzZCLEdBQUs5QjtBQW9CekUsZ0JBakJBc1IsS0FBU2hPLEtBQUsyQyxJQUFJcUwsSUFBUWhPLEtBQUtpTyxLQUFjLFdBQVRsWSxNQUE0QixZQUFUQSxLQUFtQjZHLEtBQVFDLE1BQVUsQ0FBQSxDQUFBLEdBRXhGRCxLQUFRLE1BQ0csV0FBVDdHLEtBQ0ZBLEtBQU8sVUFDVyxZQUFUQSxPQUNUQSxLQUFPLFVBR1A4RyxLQUFTLE1BQ0UsVUFBVDlHLEtBQ0ZBLEtBQU8sV0FDVyxhQUFUQSxPQUNUQSxLQUFPLFNBSUUsV0FBVEEsSUFBaUI7QUFDbkIsa0JBQU1tWSxLQUFPdFIsTUFBUyxJQUFJNEIsR0FBS2hDLE9BQU9nQyxHQUFLL0I7QUFDM0MscUJBQU90RyxHQUFLSyxJQUFJMFgsS0FBT0Y7WUFDekI7QUFDQSxnQkFBYSxVQUFUalksSUFBZ0I7QUFDbEIsa0JBQU1tWSxLQUFPclIsTUFBVSxJQUFJMkIsR0FBSzlCLE1BQU04QixHQUFLN0I7QUFDM0MscUJBQU94RyxHQUFLQyxJQUFJOFgsS0FBT0Y7WUFDekI7QUFFQSxnQkFBYSxZQUFUalksR0FDRixRQUFPSSxHQUFLSyxLQUFLb0csTUFBUyxJQUFJNEIsR0FBSy9CLFFBQVErQixHQUFLaEMsUUFBUXdSO0FBRTFELGdCQUFhLGFBQVRqWSxHQUNGLFFBQU9JLEdBQUtDLEtBQUt5RyxNQUFVLElBQUkyQixHQUFLN0IsU0FBUzZCLEdBQUs5QixPQUFPc1I7VUFFN0Q7QUFHQSxpQkFBQSxDQUFBLENBQUt0WixFQUFHTSxRQUFRQSxFQUFBQSxNQUlUTixFQUFHTSxRQUFRMEksRUFBQUEsSUFFZEEsT0FBVTFJLEtBRVZvTSxFQUFnQnBNLElBQVMwSSxJQUFPcVEsRUFBQUE7UUFDdEM7QUE4SEEsaUJBQVNJLEdBQWU5QixJQUFBQTtBQU1yQixjQUxEMVYsS0FBTTBWLEdBQU4xVixRQUNBZCxLQUFXd1csR0FBWHhXO0FBS0EsY0FBa0MsYUFBOUJBLEdBQVlDLFNBQVNDLFFBQXNCRixHQUFZdVksWUFBM0Q7QUFFQSxnQkFDTUMsS0FBYzFYO0FBREpkLFlBQUFBLEdBQVk4QixhQUFhRyxRQUc3QndXLE9BQU9DLFVBQ2MsUUFBM0IxWSxHQUFZdVksYUFDZEMsR0FBWXhYLE1BQU1MLElBQUk2WCxHQUFZeFgsTUFBTVQsSUFFeENpWSxHQUFZeFgsTUFBTVQsSUFBSWlZLEdBQVl4WCxNQUFNTCxHQUUxQzZYLEdBQVlHLE9BQU8sU0FFbkJILEdBQVlHLE9BQU8zWSxHQUFZdVksWUFFQSxRQUEzQnZZLEdBQVl1WSxhQUNkQyxHQUFZeFgsTUFBTVQsSUFBSSxJQUNjLFFBQTNCUCxHQUFZdVksZUFDckJDLEdBQVl4WCxNQUFNTCxJQUFJO1VBbEI2QztRQXFCekU7QUFFQSxZQ2xjSWlZLElBQ0EzVCxJRGljRXdULEtBQWlCLEVBQ3JCdlgsSUFBSSxrQkFDSjJXLFFBQVEsQ0FBQyxjQUFBLEdBQ1QxVyxTQXBWRixTQUFpQkMsSUFBQUE7QUFDZixjQUNFQyxLQUlFRCxHQUpGQyxTQUNBd0MsS0FHRXpDLEdBSEZ5QyxTQUNBdkMsS0FFRUYsR0FGRkUsY0FDQUMsS0FDRUgsR0FERkc7QUFLRmtYLGFBQU9JLFVBK0tULFNBQXFCaFYsSUFBQUE7QUFDbkIsbUJBQU9BLEdBQVFVLFFBQ1gsRUFDRTVELEdBQUcsWUFDSEosR0FBRyxZQUNIa0wsSUFBSSxhQUVKNUUsS0FBSyxZQUNMRixNQUFNLFlBQ05HLFFBQVEsWUFDUkYsT0FBTyxZQUNQa1MsU0FBUyxhQUNUQyxhQUFhLGFBQ2JDLFVBQVUsYUFDVkMsWUFBWSxZQUFBLElBRWQsRUFDRXRZLEdBQUcsYUFDSEosR0FBRyxhQUNIa0wsSUFBSSxlQUVKNUUsS0FBSyxhQUNMRixNQUFNLGFBQ05HLFFBQVEsYUFDUkYsT0FBTyxhQUNQa1MsU0FBUyxlQUNUQyxhQUFhLGVBQ2JDLFVBQVUsZUFDVkMsWUFBWSxjQUFBO1VBRXBCLEVBN00rQnBWLEVBQUFBLEdBQzdCNFUsR0FBT1MsZ0JBQWdCclYsR0FBUUUsaUJBQWlCRixHQUFRSSx1QkFBdUIsS0FBSyxJQUVwRjNDLEdBQWFFLFVBQVUyWCxZQUFZLFNBQThCbFgsSUFBQUE7QUFDL0QsbUJBMEVKLFNBQW1CSCxJQUE0QkcsSUFBZ0RiLElBQUFBO0FBQzdGLGtCQUFJdkMsRUFBR0gsT0FBT3VELEVBQUFBLEVBaUJaLFFBaEJBSCxHQUFhRyxRQUFRd1csT0FBT3ZXLFVBQUFBLFVBQVVELEdBQVFDLFNBQzlDSixHQUFhWSxhQUFhLFVBQVVULEVBQUFBLEdBQ3BDSCxHQUFhYSxZQUFZLFVBQVVWLEVBQUFBLEdBRS9CcEQsRUFBR0ssT0FBTytDLEdBQVE5QixJQUFBQSxLQUFTLGVBQWVkLEtBQUs0QyxHQUFROUIsSUFBQUEsSUFDekQyQixHQUFhRyxRQUFRd1csT0FBT3RZLE9BQU84QixHQUFROUIsT0FDakIsU0FBakI4QixHQUFROUIsU0FDakIyQixHQUFhRyxRQUFRd1csT0FBT3RZLE9BQU9pQixHQUFNRyxTQUFTRixRQUFRb1gsT0FBT3RZLE9BRy9EdEIsRUFBR0ksS0FBS2dELEdBQVFtWCxtQkFBQUEsSUFDbEJ0WCxHQUFhRyxRQUFRd1csT0FBT1csc0JBQXNCblgsR0FBUW1YLHNCQUNqRHZhLEVBQUdJLEtBQUtnRCxHQUFReVcsTUFBQUEsTUFDekI1VyxHQUFhRyxRQUFRd1csT0FBT0MsU0FBU3pXLEdBQVF5VyxTQUd4QzVXO0FBRVQsa0JBQUlqRCxFQUFHSSxLQUFLZ0QsRUFBQUEsRUFHVixRQUZBSCxHQUFhRyxRQUFRd1csT0FBT3ZXLFVBQVVELElBRS9CSDtBQUVULHFCQUFPQSxHQUFhRyxRQUFRd1c7WUFDOUIsRUFwR3FCaFcsTUFBTVIsSUFBU2IsRUFBQUE7VUFBQUEsR0FHbENDLEdBQVFLLElBQUkrVyxTQUFTQSxJQUNyQnBYLEdBQVFNLFdBQVc4VyxTQUFTLGFBRTVCbFgsR0FBU0YsUUFBUW9YLFNBQVNBLEdBQU9sWDtRQUNuQyxHQWdVRUssV0FBVyxFQUNULG9CQUFvQixTQUFBNlUsSUFBQUE7QUFBY0EsVUFBQUEsR0FBWHpXLFlBQ1R1WSxhQUFhO1FBQzFCLEdBRUQsNkJBQTZCLFNBQUMxVyxJQUFBQTtBQUFBQSxXQWhJbEMsU0FBYzlCLElBQUFBO0FBQXlGLGdCQUF0RmUsS0FBTWYsR0FBTmUsUUFBUWQsS0FBV0QsR0FBWEM7QUFDdkIsZ0JBQWtDLGFBQTlCQSxHQUFZQyxTQUFTQyxRQUFzQkYsR0FBWUMsU0FBUzZJLE9BQXBFO0FBSUEsa0JBQU0wUCxLQUFjMVgsSUFDZDZILEtBQU8zSSxHQUFZMkk7QUFFekIzSSxjQUFBQSxHQUFZcVosU0FBUyxFQUNuQjdZLE9BQU91SCxFQUFPLENBQUUsR0FBRVksRUFBQUEsR0FDbEI4TCxXQUFXMU0sRUFBTyxDQUFFLEdBQUVZLEVBQUFBLEdBQ3RCMlEsVUFBVXZSLEVBQU8sQ0FBRSxHQUFFWSxFQUFBQSxHQUNyQjNILE9BQU8sRUFDTDJGLE1BQU0sR0FDTkMsT0FBTyxHQUNQRyxPQUFPLEdBQ1BGLEtBQUssR0FDTEMsUUFBUSxHQUNSRSxRQUFRLEVBQUEsRUFBQSxHQUlad1IsR0FBWTFQLFFBQVE5SSxHQUFZQyxTQUFTNkksT0FDekMwUCxHQUFZN1AsT0FBTzNJLEdBQVlxWixPQUFPNUUsV0FDdEMrRCxHQUFZZSxZQUFZdlosR0FBWXFaLE9BQU9yWTtZQXJCM0M7VUFzQkYsRUF3R1lhLEVBQUFBLEdBQ055VyxHQUFnQnpXLEVBQUFBO1FBQ2pCLEdBQ0QsNEJBQTRCLFNBQUNBLElBQUFBO0FBQUFBLFdBekdqQyxTQUFhaEIsSUFBQUE7QUFBeUYsZ0JBQXRGQyxLQUFNRCxHQUFOQyxRQUFRZCxLQUFXYSxHQUFYYjtBQUN0QixnQkFBa0MsYUFBOUJBLEdBQVlDLFNBQVNDLFFBQXNCRixHQUFZQyxTQUFTNkksT0FBcEU7QUFFQSxrQkFBTTBQLEtBQWMxWCxJQUVkMFksS0FEZ0J4WixHQUFZOEIsYUFBYUcsUUFBUXdXLE9BQzFCZSxRQUN2QkMsS0FBd0IsaUJBQVhELE1BQXNDLGFBQVhBLElBRXhDRSxLQUFVMVosR0FBWTJJLE1BQzVCZ1IsS0FBb0UzWixHQUFZcVosUUFBakVPLEtBQVNELEdBQWhCblosT0FBa0JpVSxLQUFTa0YsR0FBVGxGLFdBQWtCOEUsS0FBU0ksR0FBaEIzWSxPQUFrQnNZLEtBQVFLLEdBQVJMO0FBSXZELGtCQUZBdlIsRUFBT3VSLElBQVU3RSxFQUFBQSxHQUViZ0YsSUFBQUE7QUFJRixvQkFGQTFSLEVBQU8wTSxJQUFXaUYsRUFBQUEsR0FFSCxpQkFBWEYsSUFBeUI7QUFFM0Isc0JBQUkvRSxHQUFVNU4sTUFBTTROLEdBQVUzTixRQUFRO0FBQ3BDLHdCQUFNK1MsS0FBT3BGLEdBQVU1TjtBQUV2QjROLG9CQUFBQSxHQUFVNU4sTUFBTTROLEdBQVUzTixRQUMxQjJOLEdBQVUzTixTQUFTK1M7a0JBQ3JCO0FBQ0Esc0JBQUlwRixHQUFVOU4sT0FBTzhOLEdBQVU3TixPQUFPO0FBQ3BDLHdCQUFNaVQsS0FBT3BGLEdBQVU5TjtBQUV2QjhOLG9CQUFBQSxHQUFVOU4sT0FBTzhOLEdBQVU3TixPQUMzQjZOLEdBQVU3TixRQUFRaVQ7a0JBQ3BCO2dCQUNGO2NBQUEsTUFHQXBGLENBQUFBLEdBQVU1TixNQUFNc0QsS0FBSzJDLElBQUk0TSxHQUFRN1MsS0FBSytTLEdBQVU5UyxNQUFBQSxHQUNoRDJOLEdBQVUzTixTQUFTcUQsS0FBSzhDLElBQUl5TSxHQUFRNVMsUUFBUThTLEdBQVUvUyxHQUFBQSxHQUN0RDROLEdBQVU5TixPQUFPd0QsS0FBSzJDLElBQUk0TSxHQUFRL1MsTUFBTWlULEdBQVVoVCxLQUFBQSxHQUNsRDZOLEdBQVU3TixRQUFRdUQsS0FBSzhDLElBQUl5TSxHQUFROVMsT0FBT2dULEdBQVVqVCxJQUFBQTtBQU10RCx1QkFBVzBSLE1BSFg1RCxHQUFVMU4sUUFBUTBOLEdBQVU3TixRQUFRNk4sR0FBVTlOLE1BQzlDOE4sR0FBVXpOLFNBQVN5TixHQUFVM04sU0FBUzJOLEdBQVU1TixLQUU3QjROLEdBQ2pCOEUsQ0FBQUEsR0FBVWxCLEVBQUFBLElBQVE1RCxHQUFVNEQsRUFBQUEsSUFBUWlCLEdBQVNqQixFQUFBQTtBQUcvQ0csY0FBQUEsR0FBWTFQLFFBQVE5SSxHQUFZQyxTQUFTNkksT0FDekMwUCxHQUFZN1AsT0FBTzhMLElBQ25CK0QsR0FBWWUsWUFBWUE7WUFoRG1EO1VBaUQ3RSxFQXdEVzFYLEVBQUFBLEdBQ0x5VyxHQUFnQnpXLEVBQUFBO1FBQ2pCLEdBQ0QsMkJBekRKLFNBQVlvUyxJQUFBQTtBQUF5RixjQUF0Rm5ULEtBQU1tVCxHQUFOblQsUUFBUWQsS0FBV2lVLEdBQVhqVTtBQUNyQixjQUFrQyxhQUE5QkEsR0FBWUMsU0FBU0MsUUFBc0JGLEdBQVlDLFNBQVM2SSxPQUFwRTtBQUVBLGdCQUFNMFAsS0FBYzFYO0FBRXBCMFgsWUFBQUEsR0FBWTFQLFFBQVE5SSxHQUFZQyxTQUFTNkksT0FDekMwUCxHQUFZN1AsT0FBTzNJLEdBQVlxWixPQUFPNUUsV0FDdEMrRCxHQUFZZSxZQUFZdlosR0FBWXFaLE9BQU9yWTtVQU5nQztRQU83RSxHQWtESSxvQkE1VUosU0FBdUJhLElBQUFBO0FBQ3JCLGNBQVE3QixLQUFzRDZCLEdBQXREN0IsYUFBYThCLEtBQXlDRCxHQUF6Q0MsY0FBYzNDLEtBQTJCMEMsR0FBM0IxQyxTQUFTd0osS0FBa0I5RyxHQUFsQjhHLE1BQU01RyxLQUFZRixHQUFaRTtBQUVsRCxjQUFLNEcsSUFBTDtBQUlBLGdCQUFNckksS0FBT3lILEVBQU8sQ0FBRSxHQUFFL0gsR0FBWUksT0FBT0MsSUFBSUMsSUFBQUEsR0FDekN3WixLQUFnQmhZLEdBQWFHLFFBQVF3VztBQUUzQyxnQkFDSXFCLE1BQWlCQSxHQUFjNVgsWUFBQUEsQ0FFaENsQyxHQUFZbUMsaUJBQUFBLENBQ1gsZ0JBQWdCOUMsS0FBS1csR0FBWW9DLFdBQUFBLEtBQ1UsTUFBMUNMLEtBQVUrWCxHQUFjelgsZ0JBTDdCO0FBV0Esa0JBQUl4RCxFQUFHSCxPQUFPb2IsR0FBY2hSLEtBQUFBLEdBQVE7QUFDbEMsb0JBQU1pUixLQUFjLEVBQ2xCcFQsTUFBQUEsT0FDQUMsT0FBQUEsT0FDQUMsS0FBQUEsT0FDQUMsUUFBQUEsTUFBUTtBQUdWLHlCQUFXdVIsTUFBUTBCLEdBQ2pCQSxDQUFBQSxHQUFZMUIsRUFBQUEsSUFBUUosR0FDbEJJLElBQ0F5QixHQUFjaFIsTUFBTXVQLEVBQUFBLEdBQ3BCL1gsSUFDQU4sR0FBWWdhLGVBQWVDLGFBQzNCOWEsSUFDQXdKLElBQ0FtUixHQUFjM0IsVUFBVU0sR0FBT1MsYUFBQUE7QUFJbkNhLGdCQUFBQSxHQUFZcFQsT0FBT29ULEdBQVlwVCxRQUFBQSxDQUFTb1QsR0FBWW5ULE9BQ3BEbVQsR0FBWWxULE1BQU1rVCxHQUFZbFQsT0FBQUEsQ0FBUWtULEdBQVlqVCxTQUU5Q2lULEdBQVlwVCxRQUFRb1QsR0FBWW5ULFNBQVNtVCxHQUFZbFQsT0FBT2tULEdBQVlqVCxZQUMxRWpGLEdBQUlTLFNBQVMsRUFDWHBDLE1BQU0sVUFDTjRJLE9BQU9pUixHQUFBQTtjQUdiLE9BQU87QUFDTCxvQkFBTW5ULEtBQStCLFFBQXZCa1QsR0FBYzNaLFFBQWdCRyxHQUFLSyxJQUFJZ0ksR0FBSy9CLFFBQVE2UixHQUFPUyxlQUNuRXBTLEtBQWdDLFFBQXZCZ1QsR0FBYzNaLFFBQWdCRyxHQUFLQyxJQUFJb0ksR0FBSzdCLFNBQVMyUixHQUFPUztBQUFBQSxpQkFFdkV0UyxNQUFTRSxRQUNYakYsR0FBSVMsU0FBUyxFQUNYcEMsTUFBTSxVQUNOeVksT0FBTy9SLEtBQVEsTUFBTSxPQUFPRSxLQUFTLE1BQU0sSUFBQTtjQUdqRDtBQUVBLHFCQUFBLENBQU9qRixHQUFJUyxVQUFBQTtZQTVDWDtVQWJBO1FBMERGLEVBQUEsR0FnUkVmLFVBQVUsRUFDUm1YLFFBQUFBLE9BQ0FVLHFCQUFBQSxPQUNBalosTUFBTSxNQUdOZ1ksUUFBUStCLEtBTVJwUixPQUFPLE1BTVAwUSxRQUFRLE9BQUEsR0FHVlgsU0FBUyxNQUVUalcsV0FBUyxTQUFBOFQsSUFBQUE7QUFBcUMsY0FBbEM1TixLQUFLNE4sR0FBTDVOLE9BQU8zSSxLQUFJdVcsR0FBSnZXLE1BQU1ELEtBQUl3VyxHQUFKeFcsTUFDakIyWSxLQUFVSixHQUFPSSxTQUNuQnRQLEtBQWlCO0FBRXJCLGNBQUlwSixHQUNGb0osQ0FBQUEsS0FBU3NQLEdBQVEzWSxLQUFPQyxFQUFBQTttQkFDZjJJLElBQU87QUFDRSxxQkFBZHFSLEtBQVksSUFBRXhRLEtBQUFBLEdBQUF5USxLQUVDLENBQUMsT0FBTyxVQUFVLFFBQVEsT0FBQSxHQUFRelEsS0FBQXlRLEdBQUF4YSxRQUFBK0osTUFBRTtBQUFsRCxrQkFBTTBPLEtBQUkrQixHQUFBelEsRUFBQUE7QUFDVGIsY0FBQUEsR0FBTXVQLEVBQUFBLE1BQ1I4QixNQUFhOUI7WUFFakI7QUFFQTlPLFlBQUFBLEtBQVNzUCxHQUFRc0IsRUFBQUE7VUFDbkI7QUFFQSxpQkFBTzVRO1FBQ1IsR0FFRDFHLGlCQUFpQixTQUFDQyxJQUFBQTtBQUFZLGlCQUErQixNQUExQkEsR0FBS0MsT0FBTyxRQUFBO1FBQWUsR0FFOURtVyxlQUFlLEtBQUEsR0FHakJtQixLQUFlNUIsSUUzZkFwWCxLQUFBLEVBQ2JILElBQUksV0FDSkMsU0FBTyxTQUFDQyxJQUFBQTtBQUNOQSxVQUFBQSxHQUFNa1QsVUFBVWlELEVBQUFBLEdBQ2hCblcsR0FBTWtULFVBQVVtRSxFQUFBQSxHQUNoQnJYLEdBQU1rVCxVQUFVclQsQ0FBQUEsR0FDaEJHLEdBQU1rVCxVQUFVcEQsRUFBQUE7UUFDbEIsRUFBQSxHRHJCRW9KLEtBQVc7QUF1Q0EsWUFBQUMsS0FBQSxFQUNiM0IsU0FBUyxTQUFDNEIsSUFBQUE7QUFBOEIsaUJBQUs1QixHQUFRNEIsRUFBQUE7UUFBUyxHQUM5RHZWLFFBQVEsU0FBQ3dWLElBQUFBO0FBQWEsaUJBQUt4VixHQUFPd1YsRUFBQUE7UUFBTSxHQUN4Q3pjLE1BdENGLFNBQWMwYyxJQUFBQTtBQUlaLGNBSEE5QixLQUFVOEIsR0FBT0MsdUJBQ2pCMVYsS0FBU3lWLEdBQU9FLHNCQUFBQSxDQUVYaEMsR0FDeUMsVUFBdENpQyxLQUFVLENBQUMsTUFBTSxPQUFPLFVBQVUsR0FBQSxHQUFJbFIsS0FBQUEsR0FBQUEsS0FFdkJrUixHQUFPamIsUUFBQStKLE1BQUU7QUFBekIsZ0JBQU1tUixLQUFVRCxHQUFPbFIsRUFBQUE7QUFDMUJpUCxpQkFBVThCLEdBQU0sR0FBQTFRLE9BQUk4USxJQUF5RCx1QkFBQSxDQUFBLEdBQzdFN1YsS0FDRXlWLEdBQU0xUSxHQUFBQSxPQUFJOFEsSUFBdUQsc0JBQUEsQ0FBQSxLQUNqRUosR0FBTSxHQUFBMVEsT0FBSThRLElBQThELDZCQUFBLENBQUE7VUFDNUU7QUFHRmxDLGVBQVVBLE1BQVdBLEdBQVFtQyxLQUFLTCxFQUFBQSxHQUNsQ3pWLEtBQVNBLE1BQVVBLEdBQU84VixLQUFLTCxFQUFBQSxHQUUxQjlCLE9BQ0hBLEtBQVUsU0FBQzRCLElBQUFBO0FBQ1QsZ0JBQU1RLEtBQVdDLEtBQUtDLElBQUFBLEdBQ2hCQyxLQUFhaFIsS0FBSzhDLElBQUksR0FBRyxNQUFNK04sS0FBV1YsR0FBQUEsR0FDMUNHLEtBQVFDLEdBQU9VLFdBQVcsV0FBQTtBQUU5QlosY0FBQUEsR0FBU1EsS0FBV0csRUFBQUE7WUFDckIsR0FBRUEsRUFBQUE7QUFHSCxtQkFEQWIsS0FBV1UsS0FBV0csSUFDZlY7VUFBQUEsR0FHVHhWLEtBQVMsU0FBQ3dWLElBQUFBO0FBQUssbUJBQUtZLGFBQWFaLEVBQUFBO1VBQU07UUFFM0MsRUFBQTtBRVVBLFlBQU1hLEtBQWEsRUFDakIvWixVQUFVLEVBQ1JXLFNBQUFBLE9BQ0FpVyxRQUFRLElBR1JvRCxXQUFXLE1BR1hDLE9BQU8sSUFBQSxHQUdUTixLQUFLRCxLQUFLQyxLQUVWbGIsYUFBYSxNQUNiOE8sR0FBRyxHQUdIbk8sR0FBRyxHQUNISixHQUFHLEdBRUhrYixhQUFBQSxPQUNBQyxVQUFVLEdBQ1Z2RCxRQUFRLEdBQ1JxRCxPQUFPLEdBRVBoYixPQUFLLFNBQUNSLElBQUFBO0FBQ0pzYixhQUFXRyxjQUFBQSxNQUNYbEIsR0FBSXRWLE9BQU9xVyxHQUFXeE0sQ0FBQUEsR0FFdEI5TyxHQUFZc2IsYUFBYUEsSUFDekJBLEdBQVd0YixjQUFjQSxJQUN6QnNiLEdBQVdJLFdBQVdKLEdBQVdKLElBQUFBLEdBQ2pDSSxHQUFXeE0sSUFBSXlMLEdBQUkzQixRQUFRMEMsR0FBV25VLE1BQUFBO1FBQ3ZDLEdBRUR3VSxNQUFJLFdBQUE7QUFDRkwsYUFBV0csY0FBQUEsT0FDUEgsR0FBV3RiLGdCQUNic2IsR0FBV3RiLFlBQVlzYixhQUFhLE9BRXRDZixHQUFJdFYsT0FBT3FXLEdBQVd4TSxDQUFBQTtRQUN2QixHQUdEM0gsUUFBTSxXQUFBO0FBQ0osY0FBUW5ILEtBQWdCc2IsR0FBaEJ0YixhQUNBOEIsS0FBMEI5QixHQUExQjhCLGNBQWMzQyxLQUFZYSxHQUFaYixTQUNoQjZKLEtBQWFoSixHQUFZQyxTQUFTQyxNQUNsQytCLEtBQVVILEdBQWFHLFFBQVErRyxFQUFBQSxFQUFZc1MsWUFDM0NDLEtBQVlLLEdBQWEzWixHQUFRc1osV0FBV3paLElBQWMzQyxFQUFBQSxHQUMxRCtiLEtBQU1JLEdBQVdKLElBQUFBLEdBRWpCVyxNQUFNWCxLQUFNSSxHQUFXSSxZQUFZLEtBRW5DSSxLQUFJN1osR0FBUXVaLFFBQVFLO0FBRTFCLGNBQUlDLE1BQUssR0FBRztBQUNWLGdCQUFNQyxLQUFXLEVBQ2ZwYixHQUFHMmEsR0FBVzNhLElBQUltYixJQUNsQnZiLEdBQUcrYSxHQUFXL2EsSUFBSXViLEdBQUFBO0FBR3BCLGdCQUFJQyxHQUFTcGIsS0FBS29iLEdBQVN4YixHQUFHO0FBQzVCLGtCQUFNeWIsS0FBYUMsR0FBVVYsRUFBQUE7QUFFekIxYyxnQkFBR1osT0FBT3NkLEVBQUFBLElBQ1pBLEdBQVVRLFNBQVNBLEdBQVNwYixHQUFHb2IsR0FBU3hiLENBQUFBLElBQy9CZ2IsT0FDVEEsR0FBVWpVLGNBQWN5VSxHQUFTcGIsR0FDakM0YSxHQUFVL1QsYUFBYXVVLEdBQVN4YjtBQUdsQyxrQkFBTTJiLEtBQVlELEdBQVVWLEVBQUFBLEdBQ3RCdmEsS0FBUSxFQUNaTCxHQUFHdWIsR0FBVXZiLElBQUlxYixHQUFXcmIsR0FDNUJKLEdBQUcyYixHQUFVM2IsSUFBSXliLEdBQVd6YixFQUFBQTtBQUFBQSxlQUcxQlMsR0FBTUwsS0FBS0ssR0FBTVQsTUFDbkJ1QixHQUFhdU8sS0FBSyxFQUNoQnZOLE1BQU0sY0FDTnNGLFFBQVFqSixJQUNSMkMsY0FBQUEsSUFDQWQsT0FBQUEsSUFDQWhCLGFBQUFBLElBQ0F1YixXQUFBQSxHQUFBQSxDQUFBQTtZQUdOO0FBRUFELGVBQVdJLFdBQVdSO1VBQ3hCO0FBRUlJLGFBQVdHLGdCQUNibEIsR0FBSXRWLE9BQU9xVyxHQUFXeE0sQ0FBQUEsR0FDdEJ3TSxHQUFXeE0sSUFBSXlMLEdBQUkzQixRQUFRMEMsR0FBV25VLE1BQUFBO1FBRXpDLEdBQ0RnVixPQUFLQSxTQUFDcmEsSUFBNEJrSCxJQUFBQTtBQUF3QixjQUFBb1Q7QUFHeEQsaUJBQXFDLFNBQXJDQSxLQUZnQnRhLEdBQWFHLFFBRWQrRyxFQUFBQSxFQUFZc1MsY0FBQUEsU0FBcEJjLEdBQWdDbGE7UUFDeEMsR0FDRG1hLG1CQUFpQixTQUFBdGMsSUFBQUE7QUFNZCxjQUxEQyxLQUFXRCxHQUFYQyxhQUNBc0wsS0FBT3ZMLEdBQVB1TDtBQUtBLGNBQ0l0TCxHQUFZc2MsWUFBQUEsS0FBaUJoQixHQUFXYSxNQUFNbmMsR0FBWThCLGNBQWM5QixHQUFZQyxTQUFTQyxJQUFBQSxFQUtqRyxLQUFJRixHQUFZdWMsV0FDZGpCLElBQVczYSxJQUFJMmEsR0FBVy9hLElBQUk7ZUFEaEM7QUFLQSxnQkFBSXNHLElBQ0FELElBQ0FFLElBQ0FILElBRUk3RSxLQUEwQjlCLEdBQTFCOEIsY0FBYzNDLEtBQVlhLEdBQVpiLFNBQ2hCNkosS0FBYWhKLEdBQVlDLFNBQVNDLE1BQ2xDK0IsS0FBVUgsR0FBYUcsUUFBUStHLEVBQUFBLEVBQVlzUyxZQUMzQ0MsS0FBWUssR0FBYTNaLEdBQVFzWixXQUFXelosSUFBYzNDLEVBQUFBO0FBRWhFLGdCQUFJTixFQUFHWixPQUFPc2QsRUFBQUEsRUFDWjVVLENBQUFBLEtBQU8yRSxHQUFRa0IsVUFBVThPLEdBQVduRCxRQUNwQ3RSLEtBQU15RSxHQUFRbUIsVUFBVTZPLEdBQVduRCxRQUNuQ3ZSLEtBQVEwRSxHQUFRa0IsVUFBVStPLEdBQVVpQixhQUFhbEIsR0FBV25ELFFBQzVEclIsS0FBU3dFLEdBQVFtQixVQUFVOE8sR0FBVWtCLGNBQWNuQixHQUFXbkQ7aUJBQ3pEO0FBQ0wsa0JBQU14UCxLQUFPcUYsRUFBOEJ1TixFQUFBQTtBQUUzQzVVLGNBQUFBLEtBQU8yRSxHQUFRa0IsVUFBVTdELEdBQUtoQyxPQUFPMlUsR0FBV25ELFFBQ2hEdFIsS0FBTXlFLEdBQVFtQixVQUFVOUQsR0FBSzlCLE1BQU15VSxHQUFXbkQsUUFDOUN2UixLQUFRMEUsR0FBUWtCLFVBQVU3RCxHQUFLL0IsUUFBUTBVLEdBQVduRCxRQUNsRHJSLEtBQVN3RSxHQUFRbUIsVUFBVTlELEdBQUs3QixTQUFTd1UsR0FBV25EO1lBQ3REO0FBRUFtRCxlQUFXM2EsSUFBSWlHLEtBQVEsSUFBSUQsS0FBQUEsS0FBWSxHQUN2QzJVLEdBQVcvYSxJQUFJdUcsS0FBUyxJQUFJRCxLQUFBQSxLQUFXLEdBRWxDeVUsR0FBV0csZ0JBRWRILEdBQVduRCxTQUFTbFcsR0FBUWtXLFFBQzVCbUQsR0FBV0UsUUFBUXZaLEdBQVF1WixPQUUzQkYsR0FBVzlhLE1BQU1SLEVBQUFBO1VBbENuQjtRQW9DRixFQUFBO0FBR0ssaUJBQVM0YixHQUFhL1QsSUFBWS9GLElBQTRCM0MsSUFBQUE7QUFDbkUsa0JBQ0dOLEVBQUdLLE9BQU8ySSxFQUFBQSxJQUFTTSxFQUFzQk4sSUFBTy9GLElBQWMzQyxFQUFBQSxJQUFXMEksT0FBVXRKLEVBQVVZLEVBQUFBO1FBRWxHO0FBRU8saUJBQVM4YyxHQUFVVixJQUFBQTtBQUt4QixpQkFKSTFjLEVBQUdaLE9BQU9zZCxFQUFBQSxNQUNaQSxLQUFZdGQsT0FBT0UsU0FBU3VlLE9BR3ZCLEVBQUUvYixHQUFHNGEsR0FBVWpVLFlBQVkvRyxHQUFHZ2IsR0FBVS9ULFVBQUFBO1FBQ2pEO0FBdUNBLFlBQU1tVixLQUEyQixFQUMvQnpiLElBQUksZUFDSkMsU0E5TkYsU0FBaUJDLElBQUFBO0FBQ2YsY0FBUUcsS0FBc0JILEdBQXRCRyxVQUFVRixLQUFZRCxHQUFaQztBQUVsQkQsVUFBQUEsR0FBTWthLGFBQWFBLElBQ25CQSxHQUFXSixNQUFNLFdBQUE7QUFBQSxtQkFBTTlaLEdBQU04WixJQUFBQTtVQUFLLEdBRWxDN1osR0FBUTZVLGVBQWUwRyxhQUFBQSxNQUN2QnJiLEdBQVNzYixVQUFVdkIsYUFBYUEsR0FBVy9aO1FBQzdDLEdBdU5FSyxXQUFXLEVBQ1Qsb0JBQW9CLFNBQUFxUyxJQUFBQTtBQUFjQSxVQUFBQSxHQUFYalUsWUFDVHNiLGFBQWE7UUFDMUIsR0FFRCx3QkFBd0IsU0FBQTlFLElBQUFBO0FBQWNBLFVBQUFBLEdBQVh4VyxZQUNic2IsYUFBYSxNQUN6QkEsR0FBV0ssS0FBQUEsR0FDUEwsR0FBV3RiLGdCQUNic2IsR0FBV3RiLGNBQWM7UUFFNUIsR0FFRCxxQkFBcUJzYixHQUFXSyxNQUVoQyw0QkFBNEIsU0FBQzlaLElBQUFBO0FBQVEsaUJBQUt5WixHQUFXZSxrQkFBa0J4YSxFQUFBQTtRQUFJLEVBQUEsRUFBQSxHQUkvRWliLEtBQWVIO0FDblJSLGlCQUFTSSxHQUFxQkMsSUFBaUNDLElBQUFBO0FBQ3BFLGNBQUlDLEtBQUFBO0FBRUosaUJBQU8sV0FBQTtBQU1MLG1CQUxLQSxPQUNEamYsRUFBZWtmLFFBQVFDLEtBQUtILEVBQUFBLEdBQzlCQyxLQUFBQSxPQUdLRixHQUFPdlUsTUFBTWhHLE1BQU00RyxTQUFBQTtVQUFBQTtRQUU5QjtBQUVPLGlCQUFTZ1UsR0FBaUNyVixJQUF3QmlELElBQUFBO0FBS3ZFLGlCQUpBakQsR0FBSzlILE9BQU8rSyxHQUFJL0ssTUFDaEI4SCxHQUFLN0gsT0FBTzhLLEdBQUk5SyxNQUNoQjZILEdBQUtjLFFBQVFtQyxHQUFJbkMsT0FFVmQ7UUFDVDtBQ2dLQSxpQkFBU3NWLEdBQWdDckgsSUFBQUE7QUFDdkMsaUJBQUlwWCxFQUFHSSxLQUFLZ1gsRUFBQUEsS0FDVnhULEtBQUtSLFFBQVFxYixjQUFjckgsSUFFcEJ4VCxRQUdRLFNBQWJ3VCxNQUFBQSxPQUNLeFQsS0FBS1IsUUFBUXFiLGFBRWI3YSxRQUdGQSxLQUFLUixRQUFRcWI7UUFDdEI7QUFFQSxpQkFBU0MsR0FBa0NoSSxJQUFBQTtBQUN6QyxpQkFBSTFXLEVBQUdELEtBQUsyVyxFQUFBQSxLQUNWOVMsS0FBS1IsUUFBUXNiLGdCQUFnQmhJLElBRXRCOVMsUUFHTyxTQUFaOFMsTUFBQUEsT0FDSzlTLEtBQUtSLFFBQVFzYixlQUViOWEsUUFHRkEsS0FBS1IsUUFBUXNiO1FBQ3RCO0FBRWUsWUFBQUMsS0FBQSxFQUNidGMsSUFBSSxrQ0FDSkMsU0FsR0YsU0FBaUJDLElBQUFBO0FBQ2YsY0FDRUUsS0FDRUYsR0FERkU7QUFHRkEsVUFBQUEsR0FBYUUsVUFBVWljLFlBQVksU0FFakNuUyxJQUNBWSxJQUNBbE0sSUFDQWIsSUFBQUE7QUFFQSxnQkFBTW1ELEtBc0JWLFNBQ0VSLElBQ0FvSyxJQUNBbE0sSUFDQWIsSUFDQWlDLElBQUFBO0FBRUEsa0JBQU11SCxLQUFPN0csR0FBYXVHLFFBQVFsSixFQUFBQSxHQUM1QjRDLEtBQ0htSyxHQUFxQm5LLFdBQ3RCLEVBQ0UsR0FBRyxHQUNILEdBQUcsR0FDSCxHQUFHLEdBQ0gsR0FBRyxHQUFBLEVBQ0ZtSyxHQUFxQndSLE1BQUFBLEdBQ3BCN2IsS0FBTSxFQUNWUyxRQUFRLE1BQ1JSLGNBQUFBLElBQ0E5QixhQUFBQSxJQUNBYixTQUFBQSxJQUNBd0osTUFBQUEsSUFDQTVHLFNBQUFBLEdBQUFBO0FBS0YscUJBRkFYLEdBQU1pUCxLQUFLLG9CQUFvQnhPLEVBQUFBLEdBRXhCQSxHQUFJUztZQUNiLEVBbER3Q0csTUFBTXlKLElBQU9sTSxJQUFhYixJQUFTaUMsRUFBQUE7QUFFdkUsbUJBQUlxQixLQUFLUixRQUFRc2IsZ0JBQ1I5YSxLQUFLUixRQUFRc2IsY0FBY2pTLElBQVNZLElBQU81SixJQUFRRyxNQUFNdEQsSUFBU2EsRUFBQUEsSUFHcEVzQztVQUFBQSxHQUdUaEIsR0FBYUUsVUFBVW1jLGFBQWFaLEdBQVMsU0FBOEI5RyxJQUFBQTtBQUN6RSxtQkFBT3hULEtBQUttYixrQkFBa0IsY0FBYzNILEVBQUFBO1VBQzdDLEdBQUUsbUdBQUEsR0FFSDNVLEdBQWFFLFVBQVVxYyxZQUFZZCxHQUFTLFNBQThCOUcsSUFBQUE7QUFDeEUsbUJBQU94VCxLQUFLbWIsa0JBQWtCLGFBQWEzSCxFQUFBQTtVQUM1QyxHQUFFLGlHQUFBLEdBRUgzVSxHQUFhRSxVQUFVK2IsZ0JBQWdCQSxJQUV2Q2pjLEdBQWFFLFVBQVU4YixjQUFjQTtRQUN2QyxFQUFBO0FDMkJBLGlCQUFTUSxHQUNQeGIsSUFDQVIsSUFDQTNDLElBQ0E4YSxJQUNBN1ksSUFBQUE7QUFFQSxpQkFDRVUsR0FBYWljLGdCQUFnQmpjLEdBQWFHLFFBQVFLLEdBQU9wQyxJQUFBQSxHQUFPZixJQUFTOGEsRUFBQUEsS0FDekVuWSxHQUFhRyxRQUFRSyxHQUFPcEMsSUFBQUEsRUFBTWdDLFdBQ2xDOGIsR0FBdUJsYyxJQUFjM0MsSUFBU21ELElBQVFsQixFQUFBQSxJQUUvQ2tCLEtBR0Y7UUFDVDtBQUVBLGlCQUFTMmIsR0FDUGplLElBQ0FzTCxJQUNBWSxJQUNBZ1MsSUFDQUMsSUFDQWxFLElBQ0E3WSxJQUFBQTtBQUVBLG1CQUFTME4sS0FBSSxHQUFHc1AsS0FBTUYsR0FBUXRlLFFBQVFrUCxLQUFJc1AsSUFBS3RQLE1BQUs7QUFDbEQsZ0JBQU11UCxLQUFRSCxHQUFRcFAsRUFBQUEsR0FDaEJ3UCxLQUFlSCxHQUFjclAsRUFBQUEsR0FDN0J5UCxLQUFjRixHQUFNWixVQUFVblMsSUFBU1ksSUFBT2xNLElBQWFzZSxFQUFBQTtBQUVqRSxnQkFBS0MsSUFBTDtBQUlBLGtCQUFNamMsS0FBU3diLEdBQTJCUyxJQUFhRixJQUFPQyxJQUFjckUsSUFBYTdZLEVBQUFBO0FBRXpGLGtCQUFJa0IsR0FDRixRQUFPLEVBQ0xBLFFBQUFBLElBQ0FSLGNBQWN1YyxJQUNkbGYsU0FBU21mLEdBQUFBO1lBUmI7VUFXRjtBQUVBLGlCQUFPLEVBQUVoYyxRQUFRLE1BQU1SLGNBQWMsTUFBTTNDLFNBQVMsS0FBQTtRQUN0RDtBQUVBLGlCQUFTcWYsR0FDUHhlLElBQ0FzTCxJQUNBWSxJQUNBK04sSUFDQTdZLElBQUFBO0FBRUEsY0FBSThjLEtBQTBCLENBQUEsR0FDMUJDLEtBQTJCLENBQUEsR0FFM0JoZixLQUFVOGE7QUFFZCxtQkFBU3dFLEdBQVkzYyxJQUFBQTtBQUNuQm9jLFlBQUFBLEdBQVF2VyxLQUFLN0YsRUFBQUEsR0FDYnFjLEdBQWN4VyxLQUFLeEksRUFBQUE7VUFDckI7QUFFQSxpQkFBT04sRUFBR00sUUFBUUEsRUFBQUEsS0FBVTtBQUMxQitlLFlBQUFBLEtBQVUsQ0FBQSxHQUNWQyxLQUFnQixDQUFBLEdBRWhCL2MsR0FBTTRQLGNBQWMwTixhQUFhdmYsSUFBU3NmLEVBQUFBO0FBRTFDLGdCQUFNRSxLQUFhVixHQUNqQmplLElBQ0FzTCxJQUNBWSxJQUNBZ1MsSUFDQUMsSUFDQWxFLElBQ0E3WSxFQUFBQTtBQUdGLGdCQUFJdWQsR0FBV3JjLFVBQUFBLENBQVdxYyxHQUFXN2MsYUFBYUcsUUFBUTBjLEdBQVdyYyxPQUFPcEMsSUFBQUEsRUFBTTBlLFlBQ2hGLFFBQU9EO0FBR1R4ZixZQUFBQSxLQUFVNk8sRUFBb0I3TyxFQUFBQTtVQUNoQztBQUVBLGlCQUFPLEVBQUVtRCxRQUFRLE1BQU1SLGNBQWMsTUFBTTNDLFNBQVMsS0FBQTtRQUN0RDtBQUVBLGlCQUFTMGYsR0FDUDdlLElBQXdCd1csSUFVeEJwVixJQUFBQTtBQUNBLGNBVEVrQixLQUFNa1UsR0FBTmxVLFFBQ0FSLEtBQVkwVSxHQUFaMVUsY0FDQTNDLEtBQU9xWCxHQUFQclg7QUFRRm1ELFVBQUFBLEtBQVNBLE1BQVUsRUFBRXBDLE1BQU0sS0FBQSxHQUUzQkYsR0FBWThCLGVBQWVBLElBQzNCOUIsR0FBWWIsVUFBVUEsSUFDdEJrZSxHQUFXcmQsR0FBWUMsVUFBVXFDLEVBQUFBLEdBRWpDdEMsR0FBWTJJLE9BQU83RyxNQUFnQlEsR0FBT3BDLE9BQU80QixHQUFhdUcsUUFBUWxKLEVBQUFBLElBQVcsTUFFakYyZixHQUFxQjllLElBQWFvQixFQUFBQSxHQUVsQ0EsR0FBTWlQLEtBQUssc0JBQXNCLEVBQUVyUSxhQUFBQSxHQUFBQSxDQUFBQTtRQUNyQztBQUVBLGlCQUFTZ2UsR0FDUGxjLElBQ0EzQyxJQUNBbUQsSUFDQWxCLElBQUFBO0FBRUEsY0FBTWEsS0FBVUgsR0FBYUcsU0FDdkI4YyxLQUFhOWMsR0FBUUssR0FBT3BDLElBQUFBLEVBQU0rTSxLQUNsQytSLEtBQWdCL2MsR0FBUUssR0FBT3BDLElBQUFBLEVBQU04ZSxlQUNyQ0MsS0FBZTdkLEdBQU04ZCxVQUFVQyxpQkFDakNDLEtBQXFCLEdBQ3JCQyxLQUFvQixHQUNwQkMsS0FBZTtBQUduQixjQUFBLEVBQU1QLE1BQWNDLE1BQWlCQyxJQUNuQyxRQUFBO0FBQ0QsbUJBQUF0VixLQUFBNFYsR0FBQUEsS0FFeUJuZSxHQUFNb2UsYUFBYXZPLE1BQUl0SCxLQUFBNFYsR0FBQTNmLFFBQUErSixNQUFFO0FBQTlDLGdCQUFNM0osS0FBV3VmLEdBQUE1VixFQUFBQSxHQUNkOFYsS0FBY3pmLEdBQVlDLFNBQVNDO0FBRXpDLGdCQUFLRixHQUFZc2MsWUFBQUEsR0FBakI7QUFNQSxrQkFBQSxFQUZBOEMsTUFFMEJILEdBQ3hCLFFBQUE7QUFHRixrQkFBSWpmLEdBQVk4QixpQkFBaUJBLElBQWpDO0FBTUEscUJBRkF1ZCxNQUFxQkksT0FBZ0JuZCxHQUFPcEMsT0FBTyxJQUFJLE1BRTlCNmUsR0FDdkIsUUFBQTtBQUdGLG9CQUFJL2UsR0FBWWIsWUFBWUEsT0FDMUJtZ0IsTUFFSUcsT0FBZ0JuZCxHQUFPcEMsUUFBUW9mLE1BQWdCTixJQUNqRCxRQUFBO2NBWko7WUFWQTtVQXlCRjtBQUVBLGlCQUFPQyxLQUFlO1FBQ3hCO0FBRUEsaUJBQVNFLEdBQWdCbEosSUFBZTdVLElBQUFBO0FBQ3RDLGlCQUFJdkMsRUFBR0csT0FBT2lYLEVBQUFBLEtBQ1o3VSxHQUFNOGQsVUFBVUMsa0JBQWtCbEosSUFFM0J4VCxRQUdGckIsR0FBTThkLFVBQVVDO1FBQ3pCO0FBRUEsaUJBQVNPLEdBQVV2Z0IsSUFBa0J3Z0IsSUFBZ0J2ZSxJQUFBQTtBQUNuRCxjQUF1QndlLEtBQXNCeGUsR0FBTThkLFVBQTNDVztBQUVKRCxVQUFBQSxNQUFxQkEsT0FBc0J6Z0IsT0FDN0N5Z0IsR0FBa0JFLE1BQU1ILFNBQVMsS0FHbkN4Z0IsR0FBUWQsY0FBY2dKLGdCQUFnQnlZLE1BQU1ILFNBQVNBLElBQ3JEeGdCLEdBQVEyZ0IsTUFBTUgsU0FBU0EsSUFDdkJ2ZSxHQUFNOGQsVUFBVVcsZ0JBQWdCRixLQUFTeGdCLEtBQVU7UUFDckQ7QUFFQSxpQkFBUzJmLEdBQTJDOWUsSUFBNkJvQixJQUFBQTtBQUMvRSxjQUFRVSxLQUFvQzlCLEdBQXBDOEIsY0FBYzNDLEtBQXNCYSxHQUF0QmIsU0FBU2MsS0FBYUQsR0FBYkM7QUFFL0IsY0FBa0MsWUFBNUJELEdBQVlvQyxlQUEyQk4sTUFBZ0JBLEdBQWFHLFFBQVFxYixhQUFsRjtBQVNBLGdCQUFJcUMsS0FBUztBQUViLGdCQUFJMWYsR0FBU0MsTUFBTTtBQUNqQixrQkFBTTZmLEtBQWdCamUsR0FBYUcsUUFBUWhDLEdBQVNDLElBQUFBLEVBQU02ZjtBQUd4REosY0FBQUEsS0FERTlnQixFQUFHRCxLQUFLbWhCLEVBQUFBLElBQ0RBLEdBQWM5ZixJQUFVNkIsSUFBYzNDLElBQVNhLEdBQVlnZ0IsWUFBQUEsSUFFM0Q1ZSxHQUFNQyxRQUFRSyxJQUFJekIsR0FBU0MsSUFBQUEsRUFBTTBDLFVBQVUzQyxFQUFBQTtZQUV4RDtBQUVBeWYsZUFBVTFmLEdBQVliLFNBQVN3Z0IsTUFBVSxJQUFJdmUsRUFBQUE7VUFkN0MsTUFMTUEsQ0FBQUEsR0FBTThkLFVBQVVXLGlCQUNsQkgsR0FBVXRlLEdBQU04ZCxVQUFVVyxlQUFlLElBQUl6ZSxFQUFBQTtRQW1CbkQ7QUFFQSxZQUFNOGQsS0FBb0IsRUFDeEJoZSxJQUFJLG1CQUNKMlcsUUFBUSxDQUFDLFNBQUEsR0FDVDFXLFNBNVRGLFNBQWlCQyxJQUFBQTtBQUNmLGNBQXdCZ1QsS0FBdUJoVCxHQUF2Q2lULGdCQUEwQjlTLEtBQWFILEdBQWJHO0FBRWxDSCxVQUFBQSxHQUFNa1QsVUFBVWtKLEVBQUFBLEdBRWhCamMsR0FBUzBlLEtBQUsxQyxnQkFBZ0IsTUFDOUJoYyxHQUFTMGUsS0FBSzNDLGNBQUFBLE1BRWR2VixFQUFPeEcsR0FBU3NiLFdBQVcsRUFDekIrQixhQUFBQSxPQUNBM1IsS0FBSzBLLElBQUFBLEdBQ0xxSCxlQUFlLEdBQ2ZuQixXQUFXLE1BQ1hGLFlBQVksTUFJWnRiLGNBQWMsRUFBQSxDQUFBLEdBR2hCK1IsR0FBUytLLGtCQUFrQixTQUFDbEosSUFBQUE7QUFBZ0IsbUJBQUtrSixHQUFnQmxKLElBQVU3VSxFQUFBQTtVQUFNLEdBRWpGQSxHQUFNOGQsWUFBWSxFQUVoQkMsaUJBQWlCeEgsSUFBQUEsR0FDakJxRyx3QkFBQUEsSUFDQTZCLGVBQWUsS0FBQTtRQUVuQixHQWlTRWplLFdBQVcsRUFDVCxxQkFoU0osU0FBc0I3QixJQUVwQnFCLElBQUFBO0FBQ0EsY0FGRXBCLEtBQVdELEdBQVhDLGFBQWFzTCxLQUFPdkwsR0FBUHVMLFNBQVNZLEtBQUtuTSxHQUFMbU0sT0FBTytOLEtBQVdsYSxHQUFYa2E7QUFHM0JqYSxVQUFBQSxHQUFZc2MsWUFBQUEsS0FHaEJ1QyxHQUFRN2UsSUFEV3dlLEdBQWN4ZSxJQUFhc0wsSUFBU1ksSUFBTytOLElBQWE3WSxFQUFBQSxHQUMxQ0EsRUFBQUE7UUFDbkMsR0F5UkkscUJBQXFCLFNBQUNTLElBQUtULElBQUFBO0FBQUFBLFdBdlIvQixTQUFzQlAsSUFFcEJPLElBQUFBO0FBQ0EsZ0JBRkVwQixLQUFXYSxHQUFYYixhQUFhc0wsS0FBT3pLLEdBQVB5SyxTQUFTWSxLQUFLckwsR0FBTHFMLE9BQU8rTixLQUFXcFosR0FBWG9aO0FBR0Msd0JBQTVCamEsR0FBWW9DLGVBQTJCcEMsR0FBWW1DLGlCQUFpQm5DLEdBQVlzYyxZQUFBQSxLQUdwRnVDLEdBQVE3ZSxJQURXd2UsR0FBY3hlLElBQWFzTCxJQUFTWSxJQUFPK04sSUFBd0I3WSxFQUFBQSxHQUNyREEsRUFBQUE7VUFDbkMsRUFnUm9CUyxJQUFLVCxFQUFBQSxHQTlRekIsU0FBcUJTLElBQXNDVCxJQUFBQTtBQUN6RCxnQkFBUXBCLEtBQWdCNkIsR0FBaEI3QjtBQUVSLGdCQUNHQSxHQUFZbUMsaUJBQUFBLENBQ2JuQyxHQUFZc2MsWUFBQUEsS0FDWHRjLEdBQVlrZ0IsbUJBQ1psZ0IsR0FBWUMsU0FBU0MsTUFKeEI7QUFTQWtCLGNBQUFBLEdBQU1pUCxLQUFLLDBCQUEwQnhPLEVBQUFBO0FBRXJDLGtCQUFRQyxLQUFpQjlCLEdBQWpCOEIsY0FDRmtILEtBQWNoSixHQUF3Q0MsU0FBU0M7QUFFakU4SSxjQUFBQSxNQUFjbEgsT0FHZEEsR0FBYUcsUUFBUStHLEVBQUFBLEVBQVk0VixlQUFBQSxDQUNoQ1osR0FBdUJsYyxJQUFjOUIsR0FBWWIsU0FBU2EsR0FBWUMsVUFBVW1CLEVBQUFBLElBRWpGcEIsR0FBWTJiLEtBQUFBLEtBRVozYixHQUFZUSxNQUFNUixHQUFZQyxVQUFVNkIsSUFBYzlCLEdBQVliLE9BQUFBLEdBQ2xFMmYsR0FBcUI5ZSxJQUFhb0IsRUFBQUE7WUFoQnRDO1VBbUJGLEVBa1BrQlMsSUFBS1QsRUFBQUE7UUFDbEIsR0FDRCxxQkFsUEosU0FBMEI2UyxJQUFnRDdTLElBQUFBO0FBQWMsY0FBM0RwQixLQUFXaVUsR0FBWGpVLGFBQ25COEIsS0FBaUI5QixHQUFqQjhCO0FBRUpBLFVBQUFBLE1BQWdCQSxHQUFhRyxRQUFRcWIsZUFDdkNvQyxHQUFVMWYsR0FBWWIsU0FBUyxJQUFJaUMsRUFBQUE7UUFFdkMsRUFBQSxHQThPRStkLGlCQUFBQSxJQUNBbkIsd0JBQUFBLElBQ0FGLGdCQUFBQSxHQUFBQSxHQUdGcUMsS0FBZWpCO0FDL1VBLFlBQUFrQixLQUFBLEVBQ2JsZixJQUFJLHVCQUNKVSxXQUFXLEVBQUUsMEJBM0VmLFNBQW9CN0IsSUFBd0VxQixJQUFBQTtBQUFjLGNBQW5GcEIsS0FBV0QsR0FBWEMsYUFBYWlhLEtBQVdsYSxHQUFYa2EsYUFBYTFNLEtBQUV4TixHQUFGd04sSUFBSUMsS0FBRXpOLEdBQUZ5TjtBQUNuRCxjQUFrQyxXQUE5QnhOLEdBQVlDLFNBQVNDLE1BQXpCO0FBR0EsZ0JBQU1tZ0IsS0FBT2xXLEtBQUtpTyxJQUFJN0ssRUFBQUEsR0FDaEIrUyxLQUFPblcsS0FBS2lPLElBQUk1SyxFQUFBQSxHQUNoQitTLEtBQWdCdmdCLEdBQVk4QixhQUFhRyxRQUFRaEIsTUFDakR1QixLQUFZK2QsR0FBYy9kLFdBQzFCZ2UsS0FBY0gsS0FBT0MsS0FBTyxNQUFNRCxLQUFPQyxLQUFPLE1BQU07QUFRNUQsZ0JBTkF0Z0IsR0FBWUMsU0FBU0UsT0FDUSxZQUEzQm9nQixHQUFjaGUsV0FDVGllLEdBQVksQ0FBQSxJQUNiRCxHQUFjaGUsVUFHQSxTQUFoQmllLE1BQXNDLFNBQWRoZSxNQUFzQkEsT0FBY2dlLElBQWE7QUFFekV4Z0IsY0FBQUEsR0FBd0NDLFNBQVNDLE9BQU87QUE4QjFELHVCQTNCSWYsS0FBVThhLElBRVJ3RyxLQUFlLFNBQVUzZSxJQUFBQTtBQUM3QixvQkFBSUEsT0FBaUI5QixHQUFZOEIsY0FBakM7QUFFQSxzQkFBTUcsS0FBVWpDLEdBQVk4QixhQUFhRyxRQUFRaEI7QUFFakQsc0JBQUEsQ0FBS2dCLEdBQVEyYyxlQUFlOWMsR0FBYWljLGdCQUFnQjliLElBQVM5QyxJQUFTOGEsRUFBQUEsR0FBYztBQUN2Rix3QkFBTTNYLEtBQVNSLEdBQWEyYixVQUMxQnpkLEdBQVkwZ0IsYUFDWjFnQixHQUFZMmdCLFdBQ1ozZ0IsSUFDQWIsRUFBQUE7QUFHRix3QkFDRW1ELE1BQ2dCLFdBQWhCQSxHQUFPcEMsUUF5QmpCLFNBQXdCc0MsSUFBbUJWLElBQUFBO0FBQ3pDLDBCQUFBLENBQUtBLEdBQ0gsUUFBQTtBQUdGLDBCQUFNOGUsS0FBVzllLEdBQWFHLFFBQVFoQixLQUFLdUI7QUFFM0MsNkJBQXFCLFNBQWRBLE1BQW1DLFNBQWJvZSxNQUFxQkEsT0FBYXBlO29CQUNqRSxFQWhDeUJnZSxJQUFhMWUsRUFBQUEsS0FDNUJvZCxHQUFVcEIsZUFBZXhiLElBQVFSLElBQWMzQyxJQUFTOGEsSUFBYTdZLEVBQUFBLEVBRXJFLFFBQU9VO2tCQUVYO2dCQXBCK0M7Y0FBQSxHQXdCMUNqRCxFQUFHTSxRQUFRQSxFQUFBQSxLQUFVO0FBQzFCLG9CQUFNMkMsS0FBZVYsR0FBTTRQLGNBQWMwTixhQUFhdmYsSUFBU3NoQixFQUFBQTtBQUUvRCxvQkFBSTNlLElBQWM7QUFDZDlCLGtCQUFBQSxHQUF3Q0MsU0FBU0MsT0FBTyxRQUMxREYsR0FBWThCLGVBQWVBLElBQzNCOUIsR0FBWWIsVUFBVUE7QUFDdEI7Z0JBQ0Y7QUFFQUEsZ0JBQUFBLEtBQVVxRyxFQUFXckcsRUFBQUE7Y0FDdkI7WUFDRjtVQTNEMEM7UUE0RDVDLEVBQUEsRUFBQTtBQ3hDQSxpQkFBUzBoQixHQUFnQjdnQixJQUFBQTtBQUN2QixjQUFNZ0osS0FBYWhKLEdBQVlDLFlBQVlELEdBQVlDLFNBQVNDO0FBRWhFLGNBQUEsQ0FBSzhJLEdBQ0gsUUFBTztBQUdULGNBQU0vRyxLQUFVakMsR0FBWThCLGFBQWFHO0FBRXpDLGlCQUFPQSxHQUFRK0csRUFBQUEsRUFBWThYLFFBQVE3ZSxHQUFRK0csRUFBQUEsRUFBWStYO1FBQ3pEO0FBRUEsWUFBTUQsS0FBZSxFQUNuQjVmLElBQUksbUJBQ0pDLFNBdkJGLFNBQWlCQyxJQUFBQTtBQUNmLGNBQVFHLEtBQWFILEdBQWJHO0FBRVJILFVBQUFBLEdBQU1rVCxVQUFVME0sRUFBQUEsR0FFaEJ6ZixHQUFTc2IsVUFBVWlFLE9BQU8sR0FDMUJ2ZixHQUFTc2IsVUFBVWtFLFFBQVE7UUFDN0IsR0FpQkVuZixXQUFXLEVBQ1Qsb0JBQW9CLFNBQUE3QixJQUFBQTtBQUFjQSxVQUFBQSxHQUFYQyxZQUNUaWhCLHFCQUFxQjtRQUNsQyxHQUVELHNCQUFzQixTQUFBcGdCLElBQUFBO0FBQXFCLGNBQWxCYixLQUFXYSxHQUFYYixhQUNqQjhnQixLQUFPRCxHQUFnQjdnQixFQUFBQTtBQUV6QjhnQixVQUFBQSxLQUFPLE1BQ1Q5Z0IsR0FBWWloQixxQkFBcUI3RixXQUFXLFdBQUE7QUFDMUNwYixZQUFBQSxHQUFZUSxNQUFNUixHQUFZQyxVQUFVRCxHQUFZOEIsY0FBYzlCLEdBQVliLE9BQUFBO1VBQy9FLEdBQUUyaEIsRUFBQUE7UUFFTixHQUVELHFCQUFxQixTQUFBN00sSUFBQUE7QUFBZ0MsY0FBN0JqVSxLQUFXaVUsR0FBWGpVLGFBQWFraEIsS0FBU2pOLEdBQVRpTjtBQUMvQmxoQixVQUFBQSxHQUFZaWhCLHNCQUFzQmpoQixHQUFZa2dCLG1CQUFBQSxDQUFvQmdCLE9BQ3BFN0YsYUFBYXJiLEdBQVlpaEIsa0JBQUFBLEdBQ3pCamhCLEdBQVlpaEIscUJBQXFCO1FBRXBDLEdBR0QsMEJBQTBCLFNBQUF6SyxJQUFBQTtBQUFxQixjQUFsQnhXLEtBQVd3VyxHQUFYeFc7QUFDTjZnQixhQUFnQjdnQixFQUFBQSxJQUVsQixNQUNqQkEsR0FBWUMsU0FBU0MsT0FBTztRQUVoQyxFQUFBLEdBRUYyZ0IsaUJBQUFBLEdBQUFBLEdBRUZNLEtBQWVMLElDbEVBNUIsS0FBQSxFQUNiaGUsSUFBSSxjQUNKQyxTQUFPLFNBQUNDLElBQUFBO0FBQ05BLFVBQUFBLEdBQU1rVCxVQUFVNEssRUFBQUEsR0FDaEI5ZCxHQUFNa1QsVUFBVXdNLEVBQUFBLEdBQ2hCMWYsR0FBTWtULFVBQVU4TCxFQUFBQTtRQUNsQixFQUFBLEdDWUlnQixLQUFpQixTQUE0Q25MLElBQUFBO0FBQ2pFLGlCQUFJLHdCQUF3QjVXLEtBQUs0VyxFQUFBQSxLQUMvQnhULEtBQUtSLFFBQVFtZixpQkFBaUJuTCxJQUN2QnhULFFBR0w1RCxFQUFHSSxLQUFLZ1gsRUFBQUEsS0FDVnhULEtBQUtSLFFBQVFtZixpQkFBaUJuTCxLQUFXLFdBQVcsU0FDN0N4VCxRQUdGQSxLQUFLUixRQUFRbWY7UUFDdEI7QUEwQ0EsaUJBQVNDLEdBQWtCdGhCLElBQUFBO0FBQWdGLGNBQTdFQyxLQUFXRCxHQUFYQyxhQUFha00sS0FBS25NLEdBQUxtTTtBQUNyQ2xNLFVBQUFBLEdBQVk4QixnQkFDZDlCLEdBQVk4QixhQUFhd2YsdUJBQXVCcFYsRUFBQUE7UUFFcEQ7QUE0QmUsWUFBQXFWLEtBQUEsRUFDYnJnQixJQUFJLG1DQUNKQyxTQTVCSyxTQUFpQkMsSUFBQUE7QUFDdEIsY0FBUUUsS0FBaUJGLEdBQWpCRTtBQUVSQSxVQUFBQSxHQUFhRSxVQUFVNGYsaUJBQWlCQSxJQUV4QzlmLEdBQWFFLFVBQVU4Zix5QkFBeUIsU0FBVXBWLElBQUFBO0FBQ3hELG1CQXBESixTQUFnQ3BLLElBQTRCVixJQUFjOEssSUFBQUE7QUFDeEUsa0JBQU1zVixLQUFVMWYsR0FBYUcsUUFBUW1mO0FBRXJDLGtCQUFnQixZQUFaSSxHQUVKLEtBQWdCLGFBQVpBLElBQUo7QUFVQSxvQkFBSXBnQixHQUFNME8sT0FBTzJSLG1CQUFtQixzQkFBc0JwaUIsS0FBSzZNLEdBQU1wSixJQUFBQSxHQUFPO0FBQzFFLHNCQUFNNGUsS0FBTW5qQixFQUFVMk4sR0FBTTlELE1BQUFBLEVBQVFqSyxVQUM5QndqQixLQUFhdmdCLEdBQU13Z0IsY0FBY0YsRUFBQUE7QUFFdkMsc0JBQUEsQ0FBTUMsTUFBQUEsQ0FBY0EsR0FBVzdSLFVBQUFBLFVBQVc2UixHQUFXN1IsT0FBTytSLFFBQzFEO2dCQUVKO0FBR0ksdURBQXVDeGlCLEtBQUs2TSxHQUFNcEosSUFBQUEsS0FNcERqRSxFQUFHTSxRQUFRK00sR0FBTTlELE1BQUFBLEtBQ2pCekMsRUFBZ0J1RyxHQUFNOUQsUUFBUSx1RUFBQSxLQUtoQzhELEdBQU1rVixlQUFBQTtjQTdCTixNQUZFbFYsQ0FBQUEsR0FBTWtWLGVBQUFBO1lBZ0NWLEVBY2tDM2UsTUFBTXJCLElBQU84SyxFQUFBQTtVQUFBQSxHQUk3QzlLLEdBQU1vZSxhQUFhc0MsVUFBVW5hLEtBQUssRUFDaEM3RSxNQUFNLGFBQ05pZixVQUFRLFNBQUM3VixJQUFBQTtBQUFPLHFCQUFBdkMsS0FBQTRWLEdBQUFBLEtBQ1luZSxHQUFNb2UsYUFBYXZPLE1BQUl0SCxLQUFBNFYsR0FBQTNmLFFBQUErSixNQUFFO0FBQTlDLGtCQUFNM0osS0FBV3VmLEdBQUE1VixFQUFBQTtBQUNwQixrQkFDRTNKLEdBQVliLFlBQ1hhLEdBQVliLFlBQVkrTSxHQUFNOUQsVUFBVWhELEVBQWFwRixHQUFZYixTQUFTK00sR0FBTTlELE1BQUFBLEdBR2pGLFFBQUEsS0FEQXBJLEdBQVk4QixhQUFhd2YsdUJBQXVCcFYsRUFBQUE7WUFHcEQ7VUFDRixFQUFBLENBQUE7UUFFSixHQUtFdEssV0FBVyxDQUFDLFFBQVEsUUFBUSxNQUFNLFFBQUEsRUFBVStTLE9BQU8sU0FBQ0MsSUFBS29OLElBQUFBO0FBRXZELGlCQURBcE4sR0FBQUEsZ0JBQUc1SyxPQUFpQmdZLEVBQUFBLENBQUFBLElBQWVYLElBQzVCek07UUFDUixHQUFFLENBQUEsQ0FBQSxFQUFBO0FDeEhVLGlCQUFTcU4sR0FBaUJuZixJQUFjekIsSUFBQUE7QUFDckQsY0FBSUEsR0FBUTZVLGVBQWVwVCxFQUFBQSxFQUN6QixRQUFBO0FBR0YsbUJBQVc1QyxNQUFRbUIsR0FBUUssSUFDekIsS0FBMkIsTUFBdkJvQixHQUFLNEgsUUFBUXhLLEVBQUFBLEtBQWU0QyxHQUFLb2YsT0FBT2hpQixHQUFLTixNQUFBQSxLQUFXeUIsR0FBUThnQixPQUNsRSxRQUFBO0FBSUosaUJBQUE7UUFDRjtBQ1ZlLGlCQUFTQyxHQUF3Qm5hLElBQUFBO0FBQzlDLGNBQU1ELEtBQU8sQ0FBQTtBQUViLG1CQUFXRSxNQUFRRCxJQUFRO0FBQ3pCLGdCQUFNSixLQUFRSSxHQUFPQyxFQUFBQTtBQUVqQnJKLGNBQUdXLFlBQVlxSSxFQUFBQSxJQUNqQkcsR0FBS0UsRUFBQUEsSUFBUWthLEdBQU12YSxFQUFBQSxJQUNWaEosRUFBR2MsTUFBTWtJLEVBQUFBLElBQ2xCRyxHQUFLRSxFQUFBQSxJQUFRaUksR0FBU3RJLEVBQUFBLElBRXRCRyxHQUFLRSxFQUFBQSxJQUFRTDtVQUVqQjtBQUVBLGlCQUFPRztRQUNUO0FDT0EsWUFBYXFhLEtBQVksV0FBQTtBQVV2QixtQkFBQUEsR0FBWXJpQixJQUFBQTtBQUEwQm1PLGNBQUFBLE1BQUFrVSxFQUFBQSxHQUFBNWYsS0FUdEM2ZixTQUEwQixDQUFBLEdBQUU3ZixLQUM1QjhmLGNBQW9CLEVBQUU1YixNQUFNLEdBQUdDLE9BQU8sR0FBR0MsS0FBSyxHQUFHQyxRQUFRLEVBQUEsR0FBR3JFLEtBQzVEK2YsYUFBQUEsUUFBVS9mLEtBQ1Y4RyxTQUFBQSxRQUFNOUcsS0FDTmdnQixZQUFBQSxRQUFTaGdCLEtBQ1RpZ0IsYUFBQUEsUUFBVWpnQixLQUNWcUcsUUFBQUEsUUFBS3JHLEtBQ0l6QyxjQUFBQSxRQUdQeUMsS0FBS3pDLGNBQWNBLElBQ25CeUMsS0FBSzhHLFNBQVNvWixHQUFBQSxHQUNkbGdCLEtBQUtxRyxRQUFRLEVBQ1huQyxNQUFBQSxPQUNBQyxPQUFBQSxPQUNBQyxLQUFBQSxPQUNBQyxRQUFBQSxNQUFRO1VBRVo7QUE4VEMsaUJBOVRBeUgsRUFBQThULElBQUEsQ0FBQSxFQUFBN1QsS0FBQSxTQUFBM0csT0FFRCxTQUFBOUgsSUFBd0M2aUIsSUFBQUE7QUFBbUIsZ0JBc1cvQmphLElBQU12SSxJQXRXMUIwVyxLQUFLL1csR0FBTCtXLE9BQ0U5VyxLQUFnQnlDLEtBQWhCekMsYUFDRjZpQixLQTZVVixTQUF5QjdpQixJQUFBQTtBQUN2QixrQkFBTWlKLEtBQWdCakosR0FBWThCLGFBQWFHLFFBQVFqQyxHQUFZQyxTQUFTQyxJQUFBQSxHQUN0RTRpQixLQUFrQjdaLEdBQWM4WjtBQUV0QyxrQkFBSUQsTUFBbUJBLEdBQWdCbGpCLE9BQ3JDLFFBQU9rakI7QUFHVCxxQkFBTyxDQUFDLFFBQVEsWUFBWSxhQUFhLFlBQVksaUJBQWlCLGNBQUEsRUFDbkVwaEIsSUFBSSxTQUFDb0IsSUFBQUE7QUFDSixvQkFBTWIsS0FBVWdILEdBQWNuRyxFQUFBQTtBQUU5Qix1QkFDRWIsTUFDQUEsR0FBUUMsV0FBVyxFQUNqQkQsU0FBQUEsSUFDQStnQixTQUFTL2dCLEdBQVFnaEIsU0FBQUE7Y0FHdkIsQ0FBQSxFQUNDN1osT0FBTyxTQUFDOFosSUFBQUE7QUFBQyx1QkFBQSxDQUFBLENBQU9BO2NBQUFBLENBQUFBO1lBQ3JCLEVBbFd5Q2xqQixFQUFBQTtBQUNyQ3lDLGlCQUFLMGdCLGNBQWNOLEVBQUFBLEdBRW5CcGdCLEtBQUtpZ0IsYUFBYTNhLEVBQU8sQ0FBRSxHQUFFL0gsR0FBWThJLEtBQUFBLEdBQ3pDckcsS0FBS3FHLFFBQVFmLEVBQU8sQ0FBRSxHQUFFdEYsS0FBS2lnQixVQUFBQSxHQUM3QmpnQixLQUFLOGYsZUErVnFCNVosS0EvVk8zSSxHQUFZMkksTUErVmJ2SSxLQS9WbUJ3aUIsSUFnVzlDamEsS0FDSCxFQUNFaEMsTUFBTXZHLEdBQU9PLElBQUlnSSxHQUFLaEMsTUFDdEJFLEtBQUt6RyxHQUFPRyxJQUFJb0ksR0FBSzlCLEtBQ3JCRCxPQUFPK0IsR0FBSy9CLFFBQVF4RyxHQUFPTyxHQUMzQm1HLFFBQVE2QixHQUFLN0IsU0FBUzFHLEdBQU9HLEVBQUFBLElBRS9CLEVBQ0VvRyxNQUFNLEdBQ05FLEtBQUssR0FDTEQsT0FBTyxHQUNQRSxRQUFRLEVBQUEsSUExV1pyRSxLQUFLK2YsYUFBYSxFQUFFN2hCLEdBQUcsR0FBR0osR0FBRyxFQUFBO0FBRTdCLGdCQUFNc0IsS0FBTVksS0FBSzJnQixRQUFRLEVBQ3ZCdE0sT0FBQUEsSUFDQThMLFlBQUFBLElBQ0FTLFFBQUFBLE1BQVEsQ0FBQTtBQVFWLG1CQUxBNWdCLEtBQUs4RyxTQUFTb1osR0FBQUEsR0FDZGxnQixLQUFLNmdCLFNBQVN6aEIsRUFBQUEsR0FFRVksS0FBSzhHLFNBQVM5RyxLQUFLOGdCLE9BQU8xaEIsRUFBQUE7VUFHNUMsRUFBQSxHQUFDLEVBQUEyTSxLQUFBLFdBQUEzRyxPQUVELFNBQVFoRyxJQUFBQTtBQUNOLGdCQUFRN0IsS0FBZ0J5QyxLQUFoQnpDO0FBU1IsbUJBUEE2QixHQUFJN0IsY0FBY0EsSUFDbEI2QixHQUFJQyxlQUFlOUIsR0FBWThCLGNBQy9CRCxHQUFJMUMsVUFBVWEsR0FBWWIsU0FDMUIwQyxHQUFJOEcsU0FBSjlHLEdBQUk4RyxPQUFTM0ksR0FBWTJJLE9BQ3pCOUcsR0FBSWlILFVBQUpqSCxHQUFJaUgsUUFBVXJHLEtBQUtpZ0IsYUFDbkI3Z0IsR0FBSTBnQixjQUFjOWYsS0FBSzhmLGFBRWhCMWdCO1VBQ1QsRUFBQSxHQUFDLEVBQUEyTSxLQUFBLFlBQUEzRyxPQUVELFNBQVNoRyxJQUFBQTtBQUF1QyxxQkFBQThILEtBQUEsR0FBQTZaLEtBQzFCL2dCLEtBQUs2ZixRQUFNM1ksS0FBQTZaLEdBQUE1akIsUUFBQStKLE1BQUU7QUFBNUIsa0JBQU04WixLQUFLRCxHQUFBN1osRUFBQUE7QUFDVjhaLGNBQUFBLEdBQU1ULFFBQVF4aUIsVUFDaEJxQixHQUFJNGhCLFFBQVFBLElBQ1pBLEdBQU1ULFFBQVF4aUIsTUFBTXFCLEVBQUFBO1lBRXhCO1VBQ0YsRUFBQSxHQUFDLEVBQUEyTSxLQUFBLFVBQUEzRyxPQUVELFNBQU9oRyxJQUFBQTtBQUNMLGdCQUFRaVYsS0FBK0VqVixHQUEvRWlWLE9BQU91TSxLQUF3RXhoQixHQUF4RXdoQixRQUFRSyxLQUFnRTdoQixHQUFoRTZoQixlQUFxQkMsS0FBMkM5aEIsR0FBakQ4RyxNQUE2QmliLEtBQW9CL2hCLEdBQTNCaUg7QUFFNURqSCxZQUFBQSxHQUFJekIsU0FBUzJILEVBQU8sQ0FBRSxHQUFFbEcsR0FBSStnQixVQUFBQSxHQUM1Qi9nQixHQUFJOEcsT0FBT1osRUFBTyxDQUFFLEdBQUU0YixFQUFBQSxHQUN0QjloQixHQUFJaUgsUUFBUWYsRUFBTyxDQUFFLEdBQUU2YixFQUFBQTtBQUk2QixxQkFGOUN0QixLQUFTb0IsS0FBZ0JqaEIsS0FBSzZmLE9BQU83UixNQUFNaVQsRUFBQUEsSUFBaUJqaEIsS0FBSzZmLFFBRWpFdUIsS0FBWWxCLEdBQWE5Z0IsR0FBSXpCLFFBQVF5QixHQUFJOEcsSUFBQUEsR0FBS3lJLEtBQUFBLEdBQUFBLEtBRWhDa1IsR0FBTTFpQixRQUFBd1IsTUFBRTtBQUFBLGtCQUFBMFMsSUFBakJMLEtBQVNuQixHQUFNbFIsRUFBQUEsR0FDaEJuUCxLQUFZd2hCLEdBQVp4aEIsU0FDRjhoQixLQUFxQmhjLEVBQU8sQ0FBRSxHQUFFbEcsR0FBSXpCLE1BQUFBLEdBQ3RDb0ksS0FBYztBQUVELHVCQUFic2IsS0FBQUwsR0FBTVQsWUFBTmMsR0FBZWhaLE9BQU9ySSxLQUFLdWhCLFNBQVMvaEIsSUFBU29oQixJQUFRdk0sRUFBQUEsTUFDdkRqVixHQUFJNGhCLFFBQVFBLElBQ1pqYixLQUFjaWIsR0FBTVQsUUFBUWxZLElBQUlqSixFQUFBQSxHQUVoQ29pQixFQUFtQnBpQixHQUFJaUgsT0FBT2pILEdBQUk4RyxNQUFNLEVBQ3RDaEksR0FBR2tCLEdBQUl6QixPQUFPTyxJQUFJb2pCLEdBQW1CcGpCLEdBQ3JDSixHQUFHc0IsR0FBSXpCLE9BQU9HLElBQUl3akIsR0FBbUJ4akIsRUFBQUEsQ0FBQUEsSUFJekNzakIsR0FBVUssV0FBV3ZjLEtBQUthLEVBQUFBO1lBQzVCO0FBRUFULGNBQU90RixLQUFLcUcsT0FBT2pILEdBQUlpSCxLQUFBQSxHQUV2QithLEdBQVU3aUIsTUFBTUwsSUFBSWtCLEdBQUl6QixPQUFPTyxJQUFJa0IsR0FBSStnQixXQUFXamlCLEdBQ2xEa2pCLEdBQVU3aUIsTUFBTVQsSUFBSXNCLEdBQUl6QixPQUFPRyxJQUFJc0IsR0FBSStnQixXQUFXcmlCLEdBRWxEc2pCLEdBQVVNLFVBQVV4ZCxPQUFPOUUsR0FBSThHLEtBQUtoQyxPQUFPZ2QsR0FBZWhkLE1BQzFEa2QsR0FBVU0sVUFBVXZkLFFBQVEvRSxHQUFJOEcsS0FBSy9CLFFBQVErYyxHQUFlL2MsT0FDNURpZCxHQUFVTSxVQUFVdGQsTUFBTWhGLEdBQUk4RyxLQUFLOUIsTUFBTThjLEdBQWU5YyxLQUN4RGdkLEdBQVVNLFVBQVVyZCxTQUFTakYsR0FBSThHLEtBQUs3QixTQUFTNmMsR0FBZTdjO0FBRTlELGdCQUFNc2QsS0FBYTNoQixLQUFLOEcsT0FBT25KLFFBQ3pCaWtCLEtBQVc1aEIsS0FBSzhHLE9BQU9aO0FBRTdCLGdCQUFJeWIsTUFBY0MsSUFBVTtBQUMxQixrQkFBTUMsS0FDSlQsR0FBVWxiLEtBQUtoQyxTQUFTMGQsR0FBUzFkLFFBQ2pDa2QsR0FBVWxiLEtBQUsvQixVQUFVeWQsR0FBU3pkLFNBQ2xDaWQsR0FBVWxiLEtBQUs5QixRQUFRd2QsR0FBU3hkLE9BQ2hDZ2QsR0FBVWxiLEtBQUs3QixXQUFXdWQsR0FBU3ZkO0FBRXJDK2MsY0FBQUEsR0FBVVUsVUFDUkQsTUFBZUYsR0FBV3pqQixNQUFNa2pCLEdBQVV6akIsT0FBT08sS0FBS3lqQixHQUFXN2pCLE1BQU1zakIsR0FBVXpqQixPQUFPRztZQUM1RjtBQUVBLG1CQUFPc2pCO1VBQ1QsRUFBQSxHQUFDLEVBQUFyVixLQUFBLHNCQUFBM0csT0FFRCxTQUFtQmhHLElBQUFBO0FBQ2pCLGdCQUFRN0IsS0FBZ0J5QyxLQUFoQnpDLGFBQ0E4VyxLQUFValYsR0FBVmlWLE9BQ0YwTixLQUFZeGtCLEdBQVlJLE9BQU9DLEtBQy9Cb2tCLEtBQWN6a0IsR0FBWUksT0FBT0ksT0FDL0IrSSxLQUF1QjlHLEtBQXZCOEcsUUFBUWlaLEtBQWUvZixLQUFmK2YsWUFDVmtDLEtBQVduYixHQUFPdkk7QUFFVix3QkFBVjhWLE1BQ0YvTyxFQUFPdEYsS0FBSytmLFlBQVlqWixHQUFPdkksS0FBQUE7QUFDaEMscUJBQUF1UCxLQUFBMEQsR0FBQUEsS0FFZ0MsQ0FDL0IsQ0FBQ3dRLElBQWFqQyxFQUFBQSxHQUNkLENBQUNnQyxJQUFXRSxFQUFBQSxDQUFBQSxHQUNiblUsS0FBQTBELEdBQUFyVSxRQUFBMlEsTUFBVztBQUhQLGtCQUFBb1UsS0FBQTFRLEdBQUExRCxFQUFBQSxHQUFPcVUsS0FBU0QsR0FBQSxDQUFBLEdBQUUzakIsS0FBSzJqQixHQUFBLENBQUE7QUFJMUJDLGNBQUFBLEdBQVV0a0IsS0FBS0ssS0FBS0ssR0FBTUwsR0FDMUJpa0IsR0FBVXRrQixLQUFLQyxLQUFLUyxHQUFNVCxHQUMxQnFrQixHQUFVbmtCLE9BQU9FLEtBQUtLLEdBQU1MLEdBQzVCaWtCLEdBQVVua0IsT0FBT0YsS0FBS1MsR0FBTVQ7WUFDOUI7QUFFQSxnQkFBUTRqQixLQUFjMWhCLEtBQUs4RyxPQUFuQjRhLFdBQ0Z4YixLQUFPOUcsR0FBSThHLFFBQVEzSSxHQUFZMkk7QUFFckNBLFlBQUFBLEdBQUtoQyxRQUFRd2QsR0FBVXhkLE1BQ3ZCZ0MsR0FBSy9CLFNBQVN1ZCxHQUFVdmQsT0FDeEIrQixHQUFLOUIsT0FBT3NkLEdBQVV0ZCxLQUN0QjhCLEdBQUs3QixVQUFVcWQsR0FBVXJkLFFBRXpCNkIsR0FBSzVCLFFBQVE0QixHQUFLL0IsUUFBUStCLEdBQUtoQyxNQUMvQmdDLEdBQUszQixTQUFTMkIsR0FBSzdCLFNBQVM2QixHQUFLOUI7VUFDbkMsRUFBQSxHQUFDLEVBQUEySCxLQUFBLGVBQUEzRyxPQUVELFNBQ0VoRyxJQUFBQTtBQU9BLGdCQUFRN0IsS0FBZ0J5QyxLQUFoQnpDLGFBQ0E4VyxLQUFpQ2pWLEdBQWpDaVYsT0FBT3VNLEtBQTBCeGhCLEdBQTFCd2hCLFFBQVFLLEtBQWtCN2hCLEdBQWxCNmhCLGVBRWpCbmEsS0FBUzlHLEtBQUs4Z0IsT0FDbEI5Z0IsS0FBSzJnQixRQUFRLEVBQ1hDLFFBQUFBLElBQ0F2TSxPQUFBQSxJQUNBOEwsWUFBWS9nQixHQUFJZ2pCLGtCQUFrQjdrQixHQUFZSSxPQUFPQyxJQUFJQyxLQUFBQSxDQUFBQSxDQUFBQTtBQVE3RCxnQkFKQW1DLEtBQUs4RyxTQUFTQSxJQUFBQSxDQUtYQSxHQUFPZ2IsWUFBQUEsQ0FDTmIsTUFBaUJBLEtBQWdCamhCLEtBQUs2ZixPQUFPMWlCLFdBQy9DSSxHQUFZc2MsWUFBQUEsRUFFWixRQUFBO0FBR0YsZ0JBQUl6YSxHQUFJZ2pCLGdCQUFnQjtBQUN0QixrQkFBUXZrQixLQUFTTixHQUFZSSxPQUFPQyxJQUE1QkMsTUFDRndrQixLQUFhLEVBQ2pCbmtCLEdBQUdrQixHQUFJZ2pCLGVBQWVsa0IsSUFBSUwsR0FBS0ssR0FDL0JKLEdBQUdzQixHQUFJZ2pCLGVBQWV0a0IsSUFBSUQsR0FBS0MsRUFBQUE7QUFHakNnSixjQUFBQSxHQUFPbkosT0FBT08sS0FBS21rQixHQUFXbmtCLEdBQzlCNEksR0FBT25KLE9BQU9HLEtBQUt1a0IsR0FBV3ZrQixHQUM5QmdKLEdBQU92SSxNQUFNTCxLQUFLbWtCLEdBQVdua0IsR0FDN0I0SSxHQUFPdkksTUFBTVQsS0FBS3VrQixHQUFXdmtCO1lBQy9CO0FBRUFrQyxpQkFBS3NpQixtQkFBbUJsakIsRUFBQUE7VUFDMUIsRUFBQSxHQUFDLEVBQUEyTSxLQUFBLGFBQUEzRyxPQUVELFNBQVVoRyxJQUFBQTtBQUNSLGdCQUFRN0IsS0FBdUI2QixHQUF2QjdCLGFBQWFrTSxLQUFVckssR0FBVnFLLE9BQ2ZvVyxLQUFTN2YsS0FBSzZmO0FBRXBCLGdCQUFLQSxNQUFXQSxHQUFPMWlCLFFBQXZCO0FBSW9CLHVCQUFoQm9sQixLQUFBQSxPQUFnQnhULEtBQUFBLEdBQUFBLEtBRUE4USxHQUFNMWlCLFFBQUE0UixNQUFFO0FBQXZCLG9CQUFNaVMsS0FBU25CLEdBQU05USxFQUFBQTtBQUN4QjNQLGdCQUFBQSxHQUFJNGhCLFFBQVFBO0FBQ1osb0JBQVF4aEIsS0FBcUJ3aEIsR0FBckJ4aEIsU0FBUytnQixLQUFZUyxHQUFaVCxTQUVYaUMsS0FBY2pDLEdBQVFrQyxhQUFhbEMsR0FBUWtDLFVBQVVyakIsRUFBQUE7QUFFM0Qsb0JBQUlvakIsR0FFRixRQURBeGlCLEtBQUtnZ0IsWUFBWXdDLElBQUFBO0FBSW5CRCxnQkFBQUEsS0FBV0EsTUFBQUEsQ0FBY0EsTUFBWXZpQixLQUFLdWhCLFNBQVMvaEIsSUFBQUEsTUFBZUosR0FBSWlWLE9BQUFBLElBQU87Y0FDL0U7QUFFSWtPLGNBQUFBLE1BRUZobEIsR0FBWVksS0FBSyxFQUFFc0wsT0FBQUEsSUFBT21YLFFBQUFBLEtBQVEsQ0FBQTtZQXBCcEM7VUFzQkYsRUFBQSxHQUFDLEVBQUE3VSxLQUFBLFFBQUEzRyxPQUVELFNBQUtoRyxJQUFBQTtBQUNILGdCQUFRN0IsS0FBZ0I2QixHQUFoQjdCO0FBRVIsZ0JBQUt5QyxLQUFLNmYsVUFBVzdmLEtBQUs2ZixPQUFPMWlCLFFBQWpDO0FBSUEsa0JBQU11bEIsS0FBb0NwZCxFQUN4QyxFQUNFdWEsUUFBUTdmLEtBQUs2ZixRQUNieGdCLGNBQWM5QixHQUFZOEIsY0FDMUIzQyxTQUFTYSxHQUFZYixTQUNyQndKLE1BQU0sS0FBQSxHQUVSOUcsRUFBQUE7QUFHRlksbUJBQUsyZ0IsUUFBUStCLEVBQUFBO0FBQVksdUJBQUF0VCxLQUFBLEdBQUF1VCxLQUVMM2lCLEtBQUs2ZixRQUFNelEsS0FBQXVULEdBQUF4bEIsUUFBQWlTLE1BQUU7QUFBNUIsb0JBQU00UixLQUFLMkIsR0FBQXZULEVBQUFBO0FBQ2RzVCxnQkFBQUEsR0FBWTFCLFFBQVFBLElBRWhCQSxHQUFNVCxRQUFRckgsUUFDaEI4SCxHQUFNVCxRQUFRckgsS0FBS3dKLEVBQUFBO2NBRXZCO0FBRUExaUIsbUJBQUs2ZixTQUFTLE1BQ2Q3ZixLQUFLZ2dCLFlBQVk7WUF2QmpCO1VBd0JGLEVBQUEsR0FBQyxFQUFBalUsS0FBQSxpQkFBQTNHLE9BRUQsU0FBY2diLElBQUFBO0FBQ1pwZ0IsaUJBQUs2ZixTQUFTLENBQUE7QUFFZCxxQkFBU3BTLEtBQVEsR0FBR0EsS0FBUTJTLEdBQWFqakIsUUFBUXNRLE1BQVM7QUFDeEQsa0JBQUFtVixLQUFtQ3hDLEdBQWEzUyxFQUFBQSxHQUF4Q2pPLEtBQU9vakIsR0FBUHBqQixTQUFTK2dCLEtBQU9xQyxHQUFQckMsU0FBUzlpQixLQUFJbWxCLEdBQUpubEI7QUFFMUJ1QyxtQkFBSzZmLE9BQU8zYSxLQUFLLEVBQ2YxRixTQUFBQSxJQUNBK2dCLFNBQUFBLElBQ0E5UyxPQUFBQSxJQUNBaFEsTUFBQUEsR0FBQUEsQ0FBQUE7WUFFSjtBQUVBLG1CQUFPdUMsS0FBSzZmO1VBQ2QsRUFBQSxHQUFDLEVBQUE5VCxLQUFBLDRCQUFBM0csT0FFRCxTQUFBMk8sSUFBQUE7QUFBd0csZ0JBQUE4TyxLQUFBOU8sR0FBN0V4VyxhQUFlSSxLQUFNa2xCLEdBQU5sbEIsUUFBUXVJLEtBQUkyYyxHQUFKM2MsTUFBTTRjLEtBQVlELEdBQVpDO0FBQ3RELGdCQUFLQSxHQUFhaGMsUUFBbEI7QUFRQyx1QkFOT2laLEtBQWUrQyxHQUFmL0MsWUFDUmdELEtBQXVDRCxHQUFhaGMsUUFBckNtYixLQUFRYyxHQUFmeGtCLE9BQWlCbWpCLEtBQVNxQixHQUFUckIsV0FLeEJzQixLQUFBLEdBQUEvTyxLQUh1QixDQUN0QixDQUFDdFcsR0FBT0ksT0FBT2dpQixFQUFBQSxHQUNmLENBQUNwaUIsR0FBT0MsS0FBS3FrQixFQUFBQSxDQUFBQSxHQUdpQ2UsS0FBQS9PLEdBQUE5VyxRQUFBNmxCLE1BQVM7QUFBcEQsb0JBQUFDLEtBQUFoUCxHQUFBK08sRUFBQUEsR0FBT2IsS0FBU2MsR0FBQSxDQUFBLEdBQUUxa0IsS0FBSzBrQixHQUFBLENBQUE7QUFDMUJkLGdCQUFBQSxHQUFVdGtCLEtBQUtLLEtBQUtLLEdBQU1MLEdBQzFCaWtCLEdBQVV0a0IsS0FBS0MsS0FBS1MsR0FBTVQsR0FDMUJxa0IsR0FBVW5rQixPQUFPRSxLQUFLSyxHQUFNTCxHQUM1QmlrQixHQUFVbmtCLE9BQU9GLEtBQUtTLEdBQU1UO2NBQzlCO0FBRUFvSSxjQUFBQSxHQUFLaEMsUUFBUXdkLEdBQVV4ZCxNQUN2QmdDLEdBQUsvQixTQUFTdWQsR0FBVXZkLE9BQ3hCK0IsR0FBSzlCLE9BQU9zZCxHQUFVdGQsS0FDdEI4QixHQUFLN0IsVUFBVXFkLEdBQVVyZDtZQXBCQztVQXFCNUIsRUFBQSxHQUFDLEVBQUEwSCxLQUFBLFlBQUEzRyxPQUVELFNBQVM1RixJQUFTb2hCLElBQWtCdk0sSUFBZ0I2TyxJQUFBQTtBQUNsRCxtQkFBQSxFQUFBLENBRUcxakIsTUFBQUEsVUFDREEsR0FBUUMsV0FFUHlqQixNQUFBQSxDQUFtQjFqQixHQUFRMmpCLFdBRTNCM2pCLEdBQVEyakIsV0FBQUEsQ0FBWXZDLE1BRVYsWUFBVnZNLE1BQUFBLENBQXNCN1UsR0FBUTRqQjtVQU1uQyxFQUFBLEdBQUMsRUFBQXJYLEtBQUEsWUFBQTNHLE9BRUQsU0FBU2llLElBQUFBO0FBQ1ByakIsaUJBQUs4ZixjQUFjdUQsR0FBTXZELGFBQ3pCOWYsS0FBSytmLGFBQWFzRCxHQUFNdEQsWUFDeEIvZixLQUFLaWdCLGFBQWFvRCxHQUFNcEQsWUFDeEJqZ0IsS0FBS3FHLFFBQVFnZCxHQUFNaGQsT0FDbkJyRyxLQUFLNmYsU0FBU3dELEdBQU14RCxPQUFPNWdCLElBQUksU0FBQ29hLElBQUFBO0FBQUMscUJBQUtzRyxHQUFNdEcsRUFBQUE7WUFBRSxDQUFBLEdBQzlDclosS0FBSzhHLFNBQVNvWixHQUFhNWEsRUFBTyxDQUFFLEdBQUUrZCxHQUFNdmMsT0FBT25KLE1BQUFBLEdBQVMySCxFQUFPLENBQUEsR0FBSStkLEdBQU12YyxPQUFPWixJQUFBQSxDQUFBQTtVQUN0RixFQUFBLEdBQUMsRUFBQTZGLEtBQUEsV0FBQTNHLE9BRUQsV0FBQTtBQUNFLHFCQUFXSyxNQUFRekYsS0FDakJBLE1BQUt5RixFQUFBQSxJQUFRO1VBRWpCLEVBQUEsQ0FBQSxDQUFBLEdBQUNtYTtRQUFBLEVBalZzQjtBQW9WekIsaUJBQVNNLEdBQWF2aUIsSUFBZ0J1SSxJQUFBQTtBQUNwQyxpQkFBTyxFQUNMQSxNQUFBQSxJQUNBdkksUUFBQUEsSUFDQVksT0FBTyxFQUFFTCxHQUFHLEdBQUdKLEdBQUcsRUFBQSxHQUNsQjRqQixXQUFXLEVBQ1R4ZCxNQUFNLEdBQ05DLE9BQU8sR0FDUEMsS0FBSyxHQUNMQyxRQUFRLEVBQUEsR0FFVm9kLFlBQVksQ0FBQSxHQUNaSyxTQUFBQSxLQUFTO1FBRWI7QUNqV08saUJBQVN3QixHQUtkQyxJQUFpRDlsQixJQUFBQTtBQUNqRCxjQUFRcUIsS0FBYXlrQixHQUFiemtCLFVBQ0Z5aEIsS0FBVSxFQUNkeGlCLE9BQU93bEIsR0FBT3hsQixPQUNkc0ssS0FBS2tiLEdBQU9sYixLQUNab2EsV0FBV2MsR0FBT2QsV0FDbEJ2SixNQUFNcUssR0FBT3JLLEtBQUFBLEdBR1RzSyxLQUFXLFNBQUNDLElBQUFBO0FBQ2hCLGdCQUFNamtCLEtBQVdpa0IsTUFBWSxDQUFBO0FBSzdCLHFCQUFXaGUsTUFIWGpHLEdBQVFDLFVBQUFBLFVBQVVELEdBQVFDLFNBR1BYLEdBQ1gyRyxDQUFBQSxNQUFRakcsT0FDVkEsR0FBZ0JpRyxFQUFBQSxJQUFRM0csR0FBUzJHLEVBQUFBO0FBSXZDLGdCQUFNZ2IsS0FBNkMsRUFDakRqaEIsU0FBQUEsSUFDQStnQixTQUFBQSxJQUNBOWlCLE1BQUFBLElBQ0FpbUIsUUFBUSxXQUFBO0FBRU4scUJBREFsa0IsR0FBUUMsVUFBQUEsTUFDRGdoQjtZQUNSLEdBQ0RrRCxTQUFTLFdBQUE7QUFFUCxxQkFEQW5rQixHQUFRQyxVQUFBQSxPQUNEZ2hCO1lBQ1QsRUFBQTtBQUdGLG1CQUFPQTtVQUFBQTtBQVNULGlCQU5JaGpCLE1BQXdCLFlBQUEsT0FBVEEsT0FFakIrbEIsR0FBU0ksWUFBWTlrQixJQUNyQjBrQixHQUFTaEQsV0FBV0QsS0FHZmlEO1FBQ1Q7QUFFTyxpQkFBU0ssR0FBaUJ2bUIsSUFBQUE7QUFNOUIsY0FMRGUsS0FBTWYsR0FBTmUsUUFNTXlJLEtBTEt4SixHQUFYQyxZQUsyQnVsQixhQUFjaGM7QUFFckNBLFVBQUFBLE9BQ0Z6SSxHQUFPaWlCLFlBQVl4WixHQUFPMmE7UUFFOUI7QUFFQSxZQUFNcUMsS0FBd0IsRUFDNUJybEIsSUFBSSxrQkFDSjJXLFFBQVEsQ0FBQyxTQUFBLEdBQ1QxVyxTQUFTLFNBQUNDLElBQUFBO0FBQ1JBLFVBQUFBLEdBQU1HLFNBQVNzYixVQUFVa0csWUFBWSxDQUFBO1FBQ3RDLEdBQ0RuaEIsV0FBVyxFQUNULG9CQUFvQixTQUFBZixJQUFBQTtBQUFxQixjQUFsQmIsS0FBV2EsR0FBWGI7QUFDckJBLFVBQUFBLEdBQVl1bEIsZUFBZSxJQUFJbEQsR0FBYXJpQixFQUFBQTtRQUM3QyxHQUVELG9DQUFvQyxTQUFDNkIsSUFBQUE7QUFDbkMsY0FBUTdCLEtBQWdCNkIsR0FBaEI3QixhQUNGdWxCLEtBQWUxakIsR0FBSTdCLFlBQVl1bEI7QUFFckNBLFVBQUFBLEdBQWEva0IsTUFBTXFCLElBQUs3QixHQUFZSSxPQUFPSSxNQUFNRixJQUFBQSxHQUNqRE4sR0FBWThJLFFBQVF5YyxHQUFhemMsT0FDakN5YyxHQUFhUixtQkFBbUJsakIsRUFBQUE7UUFDakMsR0FFRCxtQ0FBbUMsU0FBQ0EsSUFBQUE7QUFDbEMsY0FBUTdCLEtBQWdCNkIsR0FBaEI3QixhQUNBdWxCLEtBQWlCdmxCLEdBQWpCdWxCLGNBQ0ZpQixLQUFNakIsR0FBYWtCLFlBQVk1a0IsRUFBQUE7QUFHckMsaUJBRkE3QixHQUFZOEksUUFBUXljLEdBQWF6YyxPQUUxQjBkO1FBQ1IsR0FFRCxrQ0FBa0MsU0FBQzNrQixJQUFBQTtBQUNqQyxjQUFRN0IsS0FBZ0I2QixHQUFoQjdCLGFBQ0F1bEIsS0FBaUJ2bEIsR0FBakJ1bEIsY0FDRmlCLEtBQU1qQixHQUFhTCxVQUFVcmpCLEVBQUFBO0FBR25DLGlCQUZBN0IsR0FBWThJLFFBQVF5YyxHQUFhN0MsWUFFMUI4RDtRQUNSLEdBRUQsNkJBQTZCRixJQUM3Qiw0QkFBNEJBLElBQzVCLDJCQUEyQkEsSUFFM0IsbUNBQW1DLFNBQUN6a0IsSUFBQUE7QUFBRyxpQkFBS0EsR0FBSTdCLFlBQVl1bEIsYUFBYW1CLHlCQUF5QjdrQixFQUFBQTtRQUFJLEdBQ3RHLGtDQUFrQyxTQUFDQSxJQUFBQTtBQUFHLGlCQUFLQSxHQUFJN0IsWUFBWXVsQixhQUFhbUIseUJBQXlCN2tCLEVBQUFBO1FBQUksR0FFckcscUJBQXFCLFNBQUNBLElBQUFBO0FBQUcsaUJBQUtBLEdBQUk3QixZQUFZdWxCLGFBQWE1SixLQUFLOVosRUFBQUE7UUFBSSxFQUFBLEVBQUEsR0FJeEVvZSxLQUFlc0csSUM5R0ZobEIsS0FBcUIsRUFDaEMwZSxNQUFNLEVBQ0ptQixnQkFBZ0IsUUFDaEJoVSxhQUFhLE9BQUEsR0FHZnlQLFdBQVcsRUFDVDNhLFNBQUFBLE9BQ0FnSCxRQUFRLEVBQUV2SSxHQUFHLEdBQUdKLEdBQUcsRUFBQSxFQUFBLEdBR3JCYyxTQUFTLENBQUMsRUFBQSxHQ1ZDc2xCLEtBQUFBLFNBQWExWCxJQUFBQTtBQUFBQyxZQUFBeVgsSUFBQTFYLEVBQUFBO0FBQUEsY0FBQUUsS0FBQUMsRUFBQXVYLEVBQUFBO0FBa0N4QixtQkFBQUEsR0FDRTNtQixJQUNBa00sSUFDQWxELElBQ0E4TixJQUNBM1gsSUFDQWtrQixJQUNBdmdCLElBQUFBO0FBQ0EsZ0JBQUF5TTtBQUFBcEIsY0FBQUEsTUFBQXdZLEVBQUFBLElBQ0FwWCxLQUFBSixHQUFBSyxLQUFBQSxNQUFNeFAsRUFBQUEsR0FyQ1IwUCxnQkFBZ0MsTUFBSUgsR0FDcEM3QyxVQUFBQSxRQUFPNkMsR0FDUDVDLFVBQUFBLFFBQU80QyxHQUNQbU8sU0FBQUEsUUFBTW5PLEdBQ054TixVQUFBQSxRQUFPd04sR0FDUHFYLFVBQUFBLFFBQU9yWCxHQUNQc1gsV0FBQUEsUUFBUXRYLEdBQ1J1WCxTQUFBQSxRQUFNdlgsR0FDTndYLFVBQUFBLFFBQU94WCxHQUNQalAsT0FBQUEsUUFBSWlQLEdBQ0o5TyxTQUFBQSxRQUFNOE8sR0FDTnZPLFFBQUFBLFFBQUt1TyxHQUNMNUcsT0FBQUEsUUFBSTRHLEdBQ0p5WCxLQUFBQSxRQUFFelgsR0FDRjBYLEtBQUFBLFFBQUUxWCxHQUNGMlgsS0FBQUEsUUFBRTNYLEdBQ0ZzTSxLQUFBQSxRQUFFdE0sR0FDRjRYLFdBQUFBLFFBQVE1WCxHQUNSNlgsV0FBQUEsUUFBUTdYLEdBQ1I4WCxXQUFBQSxRQUFROVgsR0FDUjdPLFdBQUFBLFFBQVE2TyxHQUNSaU0sUUFBQUEsUUFBS2pNLEdBQ0wrWCxRQUFBQSxRQUNBL1gsR0FDQW9KLE9BQUFBLFFBQ0FwSixHQUNBOFQsU0FBQUEsUUFhRWxrQixLQUFVQSxNQUFXYSxHQUFZYjtBQUVqQyxnQkFBTWlKLEtBQVNwSSxHQUFZOEIsY0FDckJzTCxNQUFpQmhGLE1BQVVBLEdBQU9uRyxXQUFZVixJQUFrQjZMLGFBQ2hFbEUsS0FBU0gsRUFBWVgsSUFBUWpKLElBQVM2SixFQUFBQSxHQUN0QytOLEtBQXFCLFlBQVZELElBQ1hFLEtBQW1CLFVBQVZGLElBQ1RZLEtBQVlYLEtBQVF3USxFQUFBaFksRUFBQUEsSUFBVXZQLEdBQVkwWCxXQUMxQ3RYLEtBQVMyVyxLQUNYL1csR0FBWUksT0FBT0ksUUFDbkJ3VyxLQUNFLEVBQUUxVyxNQUFNb1gsR0FBVXBYLE1BQU1HLFFBQVFpWCxHQUFValgsUUFBUXlLLFdBQVdsTCxHQUFZSSxPQUFPQyxJQUFJNkssVUFBQUEsSUFDcEZsTCxHQUFZSSxPQUFPQztBQWtEK0MsbUJBaER4RWtQLEdBQUtqUCxPQUFPeUgsRUFBTyxDQUFFLEdBQUUzSCxHQUFPRSxJQUFBQSxHQUM5QmlQLEdBQUs5TyxTQUFTc0gsRUFBTyxDQUFFLEdBQUUzSCxHQUFPSyxNQUFBQSxHQUNoQzhPLEdBQUs1RyxPQUFPWixFQUFPLENBQUUsR0FBRS9ILEdBQVkySSxJQUFBQSxHQUNuQzRHLEdBQUtyRSxZQUFZOUssR0FBTzhLLFdBRW5COEwsT0FDSHpILEdBQUtqUCxLQUFLSyxLQUFLdUksR0FBT3ZJLEdBQ3RCNE8sR0FBS2pQLEtBQUtDLEtBQUsySSxHQUFPM0ksR0FFdEJnUCxHQUFLOU8sT0FBT0UsS0FBS3VJLEdBQU92SSxHQUN4QjRPLEdBQUs5TyxPQUFPRixLQUFLMkksR0FBTzNJLElBRzFCZ1AsR0FBS3FYLFVBQVUxYSxHQUFNMGEsU0FDckJyWCxHQUFLdVgsU0FBUzVhLEdBQU00YSxRQUNwQnZYLEdBQUtzWCxXQUFXM2EsR0FBTTJhLFVBQ3RCdFgsR0FBS3dYLFVBQVU3YSxHQUFNNmEsU0FDckJ4WCxHQUFLbU8sU0FBVXhSLEdBQXFCd1IsUUFDcENuTyxHQUFLeE4sVUFBV21LLEdBQXFCbkssU0FDckN3TixHQUFLbkgsU0FBU2pKLElBQ2RvUSxHQUFLdEIsZ0JBQWdCOU8sSUFDckJvUSxHQUFLOFQsU0FBU0EsSUFDZDlULEdBQUt6TSxPQUFPQSxNQUFRa0csTUFBYzhOLE1BQVMsS0FDM0N2SCxHQUFLek4sZUFBZXNHLElBRXBCbUgsR0FBSzJYLEtBQUtuUSxLQUFXL1csR0FBWStMLFNBQVMvTCxHQUFZK0wsU0FBU25NLFNBQVMsQ0FBQSxFQUFHNG5CLFdBQVc5UCxHQUFVd1AsSUFFaEczWCxHQUFLeVgsS0FBS2huQixHQUFZSSxPQUFPSSxNQUFNRixLQUFLSyxJQUFJdUksR0FBT3ZJLEdBQ25ENE8sR0FBSzBYLEtBQUtqbkIsR0FBWUksT0FBT0ksTUFBTUYsS0FBS0MsSUFBSTJJLEdBQU8zSSxHQUNuRGdQLEdBQUs2WCxXQUFXcG5CLEdBQVlJLE9BQU9JLE1BQU1DLE9BQU9FLElBQUl1SSxHQUFPdkksR0FDM0Q0TyxHQUFLOFgsV0FBV3JuQixHQUFZSSxPQUFPSSxNQUFNQyxPQUFPRixJQUFJMkksR0FBTzNJLEdBR3pEZ1AsR0FBS3ZPLFFBREgrVixNQUFZQyxLQUNELEVBQUVyVyxHQUFHLEdBQUdKLEdBQUcsRUFBQSxJQUVYLEVBQ1hJLEdBQUc0TyxHQUFLbkMsRUFBQUEsRUFBYXpNLElBQUkrVyxHQUFVdEssRUFBQUEsRUFBYXpNLEdBQ2hESixHQUFHZ1AsR0FBS25DLEVBQUFBLEVBQWE3TSxJQUFJbVgsR0FBVXRLLEVBQUFBLEVBQWE3TSxFQUFBQSxHQUlwRGdQLEdBQUtzTSxLQUFLN2IsR0FBWUksT0FBT1ksTUFBTWtLLFdBQ25DcUUsR0FBSzRYLFdBQVc1WCxHQUFLckUsWUFBWXFFLEdBQUsyWCxJQUd0QzNYLEdBQUs3TyxXQUFXcUgsRUFBTyxDQUFFLEdBQUUvSCxHQUFZSSxPQUFPTSxTQUFTME0sRUFBQUEsQ0FBQUEsR0FDdkRtQyxHQUFLaU0sUUFBUXRSLEVBQU1xRixHQUFLN08sU0FBU0MsR0FBRzRPLEdBQUs3TyxTQUFTSCxDQUFBQSxHQUVsRGdQLEdBQUsrWCxRQUFRdFEsTUFBb0IsbUJBQVZGLEtBQTJCdkgsR0FBS2tZLFNBQUFBLElBQWEsTUFBSWxZO1VBQzFFO0FBa0RDLGlCQWxEQWhCLEVBQUFvWSxJQUFBLENBQUEsRUFBQW5ZLEtBQUEsWUFBQTNHLE9BRUQsV0FBQTtBQUNFLGdCQUFNN0gsS0FBY3lDLEtBQUs2TDtBQUV6QixnQkFBSXRPLEdBQVkwWCxVQUFVOEQsUUFBUSxPQUFPL1ksS0FBS3lJLFlBQVlsTCxHQUFZMFgsVUFBVXhNLFlBQVksSUFDMUYsUUFBTztBQUdULGdCQUFJbU0sS0FBUyxNQUFNbE4sS0FBS3VELE1BQU0xTixHQUFZMFgsVUFBVWdRLFdBQVcxbkIsR0FBWTBYLFVBQVVpUSxTQUFBQSxJQUFjeGQsS0FBS3dEO0FBR3BHMEosWUFBQUEsS0FBUSxNQUNWQSxNQUFTO0FBR1gsZ0JBQU0xUSxLQUFPLFNBQWlCMFEsTUFBU0EsS0FBUSxPQUN6Q3hTLEtBQUssU0FBaUJ3UyxNQUFTQSxLQUFRO0FBSzdDLG1CQUFPLEVBQ0x4UyxJQUFBQSxJQUNBQyxNQUFBQSxDQUpZRCxNQUFNLFFBQWdCd1MsTUFBU0EsS0FBUSxPQUtuRDFRLE1BQUFBLElBQ0FDLE9BQUFBLENBUGFELE9BQVMsU0FBaUIwUSxNQUFTQSxLQUFRLE9BUXhEQSxPQUFBQSxJQUNBbUUsT0FBT3hiLEdBQVkwWCxVQUFVOEQsT0FDN0I5YSxVQUFVLEVBQ1JDLEdBQUdYLEdBQVkwWCxVQUFVaVEsV0FDekJwbkIsR0FBR1AsR0FBWTBYLFVBQVVnUSxVQUFBQSxFQUFBQTtVQUcvQixFQUFBLEdBQUMsRUFBQWxaLEtBQUEsa0JBQUEzRyxPQUVELFdBQUE7VUFBa0IsRUFBQSxHQUVsQixFQUFBMkcsS0FBQSw0QkFBQTNHLE9BR0EsV0FBQTtBQUNFcEYsaUJBQUsyTCw4QkFBOEIzTCxLQUFLNEwscUJBQUFBO1VBQzFDLEVBQUEsR0FFQSxFQUFBRyxLQUFBLG1CQUFBM0csT0FHQSxXQUFBO0FBQ0VwRixpQkFBSzRMLHFCQUFBQTtVQUNQLEVBQUEsQ0FBQSxDQUFBLEdBQUNzWTtRQUFBLEVBM0pPelksRUFBQUE7QUFnS1Z2RCxlQUFPaWQsaUJBQWlCakIsR0FBY25sQixXQUFXLEVBQy9DOEssT0FBTyxFQUNMekIsS0FBRyxXQUFBO0FBQ0QsaUJBQU9wSSxLQUFLbkMsS0FBS0s7UUFDbEIsR0FDRG1LLEtBQUcsU0FBQ2pELElBQUFBO0FBQ0ZwRixlQUFLbkMsS0FBS0ssSUFBSWtIO1FBQ2hCLEVBQUEsR0FFRjBFLE9BQU8sRUFDTDFCLEtBQUcsV0FBQTtBQUNELGlCQUFPcEksS0FBS25DLEtBQUtDO1FBQ2xCLEdBQ0R1SyxLQUFHLFNBQUNqRCxJQUFBQTtBQUNGcEYsZUFBS25DLEtBQUtDLElBQUlzSDtRQUNoQixFQUFBLEdBR0YyRSxTQUFTLEVBQ1AzQixLQUFHLFdBQUE7QUFDRCxpQkFBT3BJLEtBQUtoQyxPQUFPRTtRQUNwQixHQUNEbUssS0FBRyxTQUFDakQsSUFBQUE7QUFDRnBGLGVBQUtoQyxPQUFPRSxJQUFJa0g7UUFDbEIsRUFBQSxHQUVGNEUsU0FBUyxFQUNQNUIsS0FBRyxXQUFBO0FBQ0QsaUJBQU9wSSxLQUFLaEMsT0FBT0Y7UUFDcEIsR0FDRHVLLEtBQUcsU0FBQ2pELElBQUFBO0FBQ0ZwRixlQUFLaEMsT0FBT0YsSUFBSXNIO1FBQ2xCLEVBQUEsR0FHRjBGLElBQUksRUFDRjFDLEtBQUcsV0FBQTtBQUNELGlCQUFPcEksS0FBS3pCLE1BQU1MO1FBQ25CLEdBQ0RtSyxLQUFHLFNBQUNqRCxJQUFBQTtBQUNGcEYsZUFBS3pCLE1BQU1MLElBQUlrSDtRQUNqQixFQUFBLEdBRUYyRixJQUFJLEVBQ0YzQyxLQUFHLFdBQUE7QUFDRCxpQkFBT3BJLEtBQUt6QixNQUFNVDtRQUNuQixHQUNEdUssS0FBRyxTQUFDakQsSUFBQUE7QUFDRnBGLGVBQUt6QixNQUFNVCxJQUFJc0g7UUFDakIsRUFBQSxHQUdGOGYsV0FBVyxFQUNUOWMsS0FBRyxXQUFBO0FBQ0QsaUJBQU9wSSxLQUFLL0IsU0FBU0M7UUFDdEIsR0FDRG1LLEtBQUcsU0FBQ2pELElBQUFBO0FBQ0ZwRixlQUFLL0IsU0FBU0MsSUFBSWtIO1FBQ3BCLEVBQUEsR0FFRjZmLFdBQVcsRUFDVDdjLEtBQUcsV0FBQTtBQUNELGlCQUFPcEksS0FBSy9CLFNBQVNIO1FBQ3RCLEdBQ0R1SyxLQUFHLFNBQUNqRCxJQUFBQTtBQUNGcEYsZUFBSy9CLFNBQVNILElBQUlzSDtRQUNwQixFQUFBLEVBQUEsQ0FBQTtBQ3JRSixZQUFhZ2dCLEtBQVd0WixFQU90QixTQUFBc1osR0FBWTNtQixJQUFZb0ssSUFBc0JZLElBQXlCc2IsSUFBa0JNLElBQUFBO0FBQWtCM1osWUFBQUEsTUFBQTBaLEVBQUFBLEdBQUFwbEIsS0FOM0d2QixLQUFBQSxRQUFFdUIsS0FDRjZJLFVBQUFBLFFBQU83SSxLQUNQeUosUUFBQUEsUUFBS3pKLEtBQ0wra0IsV0FBQUEsUUFBUS9rQixLQUNScWxCLGFBQUFBLFFBR0VybEIsS0FBS3ZCLEtBQUtBLElBQ1Z1QixLQUFLNkksVUFBVUEsSUFDZjdJLEtBQUt5SixRQUFRQSxJQUNiekosS0FBSytrQixXQUFXQSxJQUNoQi9rQixLQUFLcWxCLGFBQWFBO1FBQ3BCLENBQUEsR0NVVUMsS0FBQUEsU0FBQUEsSUFBQUE7QUFBWSxpQkFBWkEsR0FBWSxlQUFBLElBQVpBLEdBQVksVUFBQSxJQUFaQSxHQUFZLFdBQUEsSUFBWkEsR0FBWSxnQkFBQSxJQUFaQSxHQUFZLGtCQUFBLElBQVpBLEdBQVksU0FBQSxJQUFaQTtRQUFZLEVBQUEsQ0FBQSxDQUFBLEdBU1pDLEtBQUFBLFNBQUFBLElBQUFBO0FBQWEsaUJBQWJBLEdBQWEsUUFBQSxJQUFiQSxHQUFhLE9BQUEsSUFBYkEsR0FBYSxNQUFBLElBQWJBLEdBQWEsT0FBQSxJQUFiQSxHQUFhLGNBQUEsSUFBYkE7UUFBYSxFQUFBLENBQUEsQ0FBQSxHQXVFckJDLEtBQVksR0FFSEMsS0FBVyxXQUFBO0FBa0Z0QixtQkFBQUEsR0FBQW5vQixJQUFBQTtBQUE0RixnQkFBQXdQLEtBQUE5TSxNQUE5RUwsS0FBV3JDLEdBQVhxQyxhQUFhK2xCLEtBQVNwb0IsR0FBVG9vQjtBQUFTaGEsY0FBQUEsTUFBQStaLEVBQUFBLEdBakZwQ3psQixLQUNBWCxlQUFvQyxNQUVwQ1csS0FDQXRELFVBQTBCLE1BQUlzRCxLQUM5QmtHLE9BQXdCLE1BQ3hCbEcsS0FDQTRXLFNBQUFBLFFBTUE1VyxLQUNBcUcsUUFBNEIsTUFFNUJyRyxLQUNBMmxCLGFBQUFBLFFBRUEzbEIsS0FDQXhDLFdBQTJCLEVBQ3pCQyxNQUFNLE1BQ05DLE1BQU0sTUFDTjJJLE9BQU8sS0FBQSxHQUNSckcsS0FFREwsY0FBQUEsUUFFQUssS0FDQXNKLFdBQTBCLENBQUEsR0FFMUJ0SixLQUNBa2UsWUFBcUMsTUFFckNsZSxLQUFpQmllLGNBQTJCLENBQUEsR0FFNUNqZSxLQUNBdVgsaUJBSUksRUFDRjFPLFNBQVMsTUFDVFksT0FBTyxNQUNQK04sYUFBYSxLQUFBLEdBR2Z4WCxLQUFpQmlWLFlBQTBDLE1BQUlqVixLQUUvRE4sZ0JBQUFBLE9BQXFCTSxLQUNyQnlkLGtCQUFBQSxPQUNBemQsS0FBaUJ1ZCxlQUFBQSxPQUNqQnZkLEtBQWlCNGxCLFVBQUFBLE9BQ2pCNWxCLEtBQWlCNmxCLFdBQUFBLE1BQ2pCN2xCLEtBQWlCZ00sU0FBQUEsUUFFakJoTSxLQUFpQjhaLGFBQWEsTUFBSTlaLEtBTWxDOGxCLFNBQVN4TCxHQUFTLFNBQTZCeUwsSUFBQUE7QUFDN0MvbEIsbUJBQUs3QixLQUFLNG5CLEVBQUFBO1lBQ1gsR0FBRSx3RUFBQSxHQUF5RS9sQixLQUU1RXJDLFNBQW9CLEVBRWxCSSxPeEJpREssRUFDTEYsTUFBTSxFQUFFSyxHQUFHLEdBQUdKLEdBQUcsRUFBQSxHQUNqQkUsUUFBUSxFQUFFRSxHQUFHLEdBQUdKLEdBQUcsRUFBQSxHQUNuQjJLLFdBQVcsRUFBQSxHd0JsRFh5RSxNeEIrQ0ssRUFDTHJQLE1BQU0sRUFBRUssR0FBRyxHQUFHSixHQUFHLEVBQUEsR0FDakJFLFFBQVEsRUFBRUUsR0FBRyxHQUFHSixHQUFHLEVBQUEsR0FDbkIySyxXQUFXLEVBQUEsR3dCaERYN0ssS3hCNkNLLEVBQ0xDLE1BQU0sRUFBRUssR0FBRyxHQUFHSixHQUFHLEVBQUEsR0FDakJFLFFBQVEsRUFBRUUsR0FBRyxHQUFHSixHQUFHLEVBQUEsR0FDbkIySyxXQUFXLEVBQUEsR3dCOUNYbEssT3hCMkNLLEVBQ0xWLE1BQU0sRUFBRUssR0FBRyxHQUFHSixHQUFHLEVBQUEsR0FDakJFLFFBQVEsRUFBRUUsR0FBRyxHQUFHSixHQUFHLEVBQUEsR0FDbkIySyxXQUFXLEVBQUEsR3dCNUNYeEssVXhCeUNLLEVBQ0xKLE1BQU0sRUFBRUssR0FBRyxHQUFHSixHQUFHLEVBQUEsR0FDakJFLFFBQVEsRUFBRUUsR0FBRyxHQUFHSixHQUFHLEVBQUEsR0FDbkIySyxXQUFXLEVBQUEsRUFBQSxHd0J6Q2J6SSxLQUEwQmdtQixNQUFjUixNQUd0Q3hsQixLQUFLMmxCLGFBQWFELElBQ2xCMWxCLEtBQUtMLGNBQWNBO0FBRW5CLGdCQUFNc21CLEtBQU9qbUI7QUFFYkEsaUJBQUtnTSxTQUFTLENBQUE7QUFBeUIsZ0JBQUFqRSxLQUFBLFNBQUFnRSxJQUFBQTtBQUdyQzdELHFCQUFPQyxlQUFlMkUsR0FBS2QsUUFBUUQsSUFBSyxFQUN0QzNELEtBQUcsV0FBQTtBQUNELHVCQUFPNmQsR0FBS2xhLEVBQUFBO2NBQ2QsRUFBQSxDQUFBO1lBQUE7QUFKSixxQkFBV0EsTUFBT3VaLEdBQVl2ZCxDQUFBQSxHQUFBZ0UsRUFBQUE7QUFNN0IsZ0JBQUFtYSxLQUFBLFNBQUFDLElBQUFBO0FBR0NqZSxxQkFBT0MsZUFBZTJFLEdBQUtkLFFBQVFELElBQUssRUFDdEMzRyxPQUFPLFdBQUE7QUFBQSx1QkFBb0I2Z0IsR0FBS2xhLEVBQUFBLEVBQUkvRixNQUFUaWdCLElBQUlyZixTQUFBQTtjQUFjLEVBQUEsQ0FBQTtZQUFBO0FBRmpELHFCQUFXbUYsTUFBT3daLEdBQWFXLENBQUFBLEdBQUFDLEVBQUFBO0FBTS9Cbm1CLGlCQUFLMmxCLFdBQVcsb0JBQW9CLEVBQUVwb0IsYUFBYXlDLEtBQUFBLENBQUFBO1VBQ3JEO0FBMGFDLGlCQTFhQThMLEVBQUEyWixJQUFBLENBQUEsRUFBQTFaLEtBQUEsd0JBQUEzRCxLQTlDZ0IsV0FBQTtBQUNmLG1CQUFPO1VBQ1QsRUFBQSxHQUFDLEVBQUEyRCxLQUFBLGVBQUEzRyxPQThDRCxTQUFZeUQsSUFBc0JZLElBQXlCK04sSUFBQUE7QUFDekQsZ0JBQU00TyxLQUFlcG1CLEtBQUtxbUIsY0FBY3hkLElBQVNZLElBQU8rTixJQUFBQSxJQUFhLEdBQy9EOE8sS0FBY3RtQixLQUFLc0osU0FBUzhjLEVBQUFBO0FBRWxDcG1CLGlCQUFLMmxCLFdBQVcscUJBQXFCLEVBQ25DOWMsU0FBQUEsSUFDQVksT0FBQUEsSUFDQStOLGFBQUFBLElBQ0E0TyxjQUFBQSxJQUNBRSxhQUFBQSxJQUNBam1CLE1BQU0sUUFDTjlDLGFBQWF5QyxLQUFBQSxDQUFBQTtVQUVqQixFQUFBLEdBRUEsRUFBQStMLEtBQUEsU0FBQTNHLE9BK0JBLFNBQTRCdkYsSUFBd0JSLElBQTRCM0MsSUFBQUE7QUFDOUUsbUJBQUEsRUFDRXNELEtBQUs2WixZQUFBQSxLQUFBQSxDQUNKN1osS0FBS04saUJBQ05NLEtBQUtzSixTQUFTbk0sVUFBMEIsY0FBaEIwQyxHQUFPcEMsT0FBcUIsSUFBSSxNQUFBLENBQ3ZENEIsR0FBYUcsUUFBUUssR0FBT3BDLElBQUFBLEVBQThCZ0MsYUFLN0RtYixHQUFXNWEsS0FBS3hDLFVBQVVxQyxFQUFBQSxHQUUxQkcsS0FBS1gsZUFBZUEsSUFDcEJXLEtBQUt0RCxVQUFVQSxJQUNmc0QsS0FBS2tHLE9BQU83RyxHQUFhdUcsUUFBUWxKLEVBQUFBLEdBQ2pDc0QsS0FBS3FHLFFBQVFyRyxLQUFLeEMsU0FBUzZJLFFBQ3ZCZixFQUFPLENBQUEsR0FBSXRGLEtBQUt4QyxTQUFTNkksS0FBQUEsSUFDekIsRUFBRW5DLE1BQUFBLE1BQVlDLE9BQUFBLE1BQWFDLEtBQUFBLE1BQVdDLFFBQUFBLEtBQVEsR0FDbERyRSxLQUFLNmxCLFdBQUFBLE9BQ0w3bEIsS0FBS3VkLGVBQ0h2ZCxLQUFLdW1CLFNBQVMsRUFDWmhwQixhQUFheUMsTUFDYnlKLE9BQU96SixLQUFLa2UsV0FDWjdKLE9BQU8sUUFBQSxDQUFBLEtBQUEsQ0FDRnJVLEtBQUs2bEIsVUFFUDdsQixLQUFLdWQ7VUFDZCxFQUFBLEdBQUMsRUFBQXhSLEtBQUEsZUFBQTNHLE9BRUQsU0FBWXlELElBQXNCWSxJQUF5QitOLElBQUFBO0FBQ3BEeFgsaUJBQUs4WixjQUFnQjlaLEtBQUs4aUIsZ0JBQWdCOWlCLEtBQUs4aUIsYUFBYTlDLGFBQy9EaGdCLEtBQUtxbUIsY0FBY3hkLElBQVNZLElBQU8rTixJQUFBQSxLQUFhO0FBR2xELGdCQU1JMU0sSUFDQUMsSUFQRXliLEtBQ0p4bUIsS0FBS3JDLE9BQU9DLElBQUlDLEtBQUtLLE1BQU04QixLQUFLckMsT0FBT3VQLEtBQUtyUCxLQUFLSyxLQUNqRDhCLEtBQUtyQyxPQUFPQyxJQUFJQyxLQUFLQyxNQUFNa0MsS0FBS3JDLE9BQU91UCxLQUFLclAsS0FBS0MsS0FDakRrQyxLQUFLckMsT0FBT0MsSUFBSUksT0FBT0UsTUFBTThCLEtBQUtyQyxPQUFPdVAsS0FBS2xQLE9BQU9FLEtBQ3JEOEIsS0FBS3JDLE9BQU9DLElBQUlJLE9BQU9GLE1BQU1rQyxLQUFLckMsT0FBT3VQLEtBQUtsUCxPQUFPRjtBQU1uRGtDLGlCQUFLTixpQkFBQUEsQ0FBa0JNLEtBQUt5ZCxvQkFDOUIzUyxLQUFLOUssS0FBS3JDLE9BQU9DLElBQUlJLE9BQU9FLElBQUk4QixLQUFLckMsT0FBT0ksTUFBTUMsT0FBT0UsR0FDekQ2TSxLQUFLL0ssS0FBS3JDLE9BQU9DLElBQUlJLE9BQU9GLElBQUlrQyxLQUFLckMsT0FBT0ksTUFBTUMsT0FBT0YsR0FFekRrQyxLQUFLeWQsa0JBQWtCaFcsRUFBTXFELElBQUlDLEVBQUFBLElBQU0vSyxLQUFLeW1CO0FBRzlDLGdCeEJ6UjZCOWQsSUFBNEJwSyxJQUNyRDZhLEl3QndSRWdOLEtBQWVwbUIsS0FBSzBtQixnQkFBZ0I3ZCxFQUFBQSxHQUNwQ2tkLEtBQVksRUFDaEJsZCxTQUFBQSxJQUNBdWQsY0FBQUEsSUFDQUUsYUFBYXRtQixLQUFLc0osU0FBUzhjLEVBQUFBLEdBQzNCM2MsT0FBQUEsSUFDQXBKLE1BQU0sUUFDTm1YLGFBQUFBLElBQ0ExTSxJQUFBQSxJQUNBQyxJQUFBQSxJQUNBMFQsV0FBVytILElBQ1hqcEIsYUFBYXlDLEtBQUFBO0FBR1Z3bUIsWUFBQUEsT3hCdlN3QjdkLEt3QnlTRzNJLEtBQUtyQyxPQUFPTSxVeEJ6U2FNLEt3QnlTSHlCLEtBQUtyQyxPQUFPWSxPeEJ4UzlENmEsS0FBSzFSLEtBQUs4QyxJQUFJak0sR0FBTWtLLFlBQVksS0FBTSxJQUFBLEdBRTVDRSxHQUFVOUssS0FBS0ssSUFBSUssR0FBTVYsS0FBS0ssSUFBSWtiLElBQ2xDelEsR0FBVTlLLEtBQUtDLElBQUlTLEdBQU1WLEtBQUtDLElBQUlzYixJQUNsQ3pRLEdBQVUzSyxPQUFPRSxJQUFJSyxHQUFNUCxPQUFPRSxJQUFJa2IsSUFDdEN6USxHQUFVM0ssT0FBT0YsSUFBSVMsR0FBTVAsT0FBT0YsSUFBSXNiLElBQ3RDelEsR0FBVUYsWUFBWTJRLEt3QnFTcEJwWixLQUFLMmxCLFdBQVcscUJBQXFCSSxFQUFBQSxHQUVoQ1MsTUFBa0J4bUIsS0FBSzhaLGVBRXRCOVosS0FBSzZaLFlBQUFBLE1BQ1BrTSxHQUFVMWxCLE9BQU8sTUFDakJMLEtBQUs3QixLQUFLNG5CLEVBQUFBLElBR1IvbEIsS0FBS3lkLG1CQUNQdkssR0FBd0JsVCxLQUFLckMsT0FBT3VQLE1BQU1sTixLQUFLckMsT0FBT0MsR0FBQUE7VUFHNUQsRUFBQSxHQUVBLEVBQUFtTyxLQUFBLFFBQUEzRyxPQWtCQSxTQUFLMmdCLElBQUFBO0FBQ0VBLFlBQUFBLE1BQWNBLEdBQVV0YyxTQUMzQnlKLEdBQTJCbFQsS0FBS3JDLE9BQU9ZLEtBQUFBLElBR3pDd25CLEtBQVl6Z0IsRUFDVixFQUNFdUQsU0FBUzdJLEtBQUt1WCxlQUFlMU8sU0FDN0JZLE9BQU96SixLQUFLdVgsZUFBZTlOLE9BQzNCK04sYUFBYXhYLEtBQUt1WCxlQUFlQyxhQUNqQ2phLGFBQWF5QyxLQUFBQSxHQUVmK2xCLE1BQWEsQ0FBQSxDQUFBLEdBR0wxUixRQUFRLFFBRWxCclUsS0FBS3VtQixTQUFTUixFQUFBQTtVQUNoQixFQUFBLEdBRUEsRUFBQWhhLEtBQUEsYUFBQTNHLE9BSUEsU0FBVXlELElBQXNCWSxJQUF5QitOLElBQW1CbVAsSUFBQUE7QUFDMUUsZ0JBQUlQLEtBQWVwbUIsS0FBSzBtQixnQkFBZ0I3ZCxFQUFBQTtBQUFBQSxtQkFFcEN1ZCxPQUNGQSxLQUFlcG1CLEtBQUtxbUIsY0FBY3hkLElBQVNZLElBQU8rTixJQUFBQSxLQUFhO0FBR2pFLGdCQUFNblgsS0FBTyxXQUFXekQsS0FBSzZNLEdBQU1wSixJQUFBQSxJQUFRLFdBQVc7QUFFdERMLGlCQUFLMmxCLFdBQVUsZ0JBQUFwZSxPQUFpQmxILEVBQUFBLEdBQXFELEVBQ25Gd0ksU0FBQUEsSUFDQXVkLGNBQUFBLElBQ0FFLGFBQWF0bUIsS0FBS3NKLFNBQVM4YyxFQUFBQSxHQUMzQjNjLE9BQUFBLElBQ0ErTixhQUFBQSxJQUNBblgsTUFBTUEsSUFDTnNtQixnQkFBQUEsSUFDQXBwQixhQUFheUMsS0FBQUEsQ0FBQUEsR0FHVkEsS0FBSzhaLGNBQ1I5WixLQUFLNG1CLElBQUluZCxFQUFBQSxHQUdYekosS0FBSzZtQixjQUFjaGUsSUFBU1ksRUFBQUE7VUFDOUIsRUFBQSxHQUVBLEVBQUFzQyxLQUFBLGdCQUFBM0csT0FDQSxTQUFhcUUsSUFBQUE7QUFDWHpKLGlCQUFLNG1CLElBQUluZCxFQUFBQSxHQUNUekosS0FBSzJsQixXQUFXLHFCQUFxQixFQUNuQ2xjLE9BQUFBLElBQ0FwSixNQUFNLFFBQ045QyxhQUFheUMsS0FBQUEsQ0FBQUE7VUFFakIsRUFBQSxHQUVBLEVBQUErTCxLQUFBLE9BQUEzRyxPQWNBLFNBQUlxRSxJQUFBQTtBQUdGLGdCQUFJcWQ7QUFGSjltQixpQkFBSzRsQixVQUFBQSxNQUNMbmMsS0FBUUEsTUFBU3pKLEtBQUt1WCxlQUFlOU4sT0FHakN6SixLQUFLNlosWUFBQUEsTUFDUGlOLEtBQWlCOW1CLEtBQUt1bUIsU0FBUyxFQUM3QjljLE9BQUFBLElBQ0FsTSxhQUFheUMsTUFDYnFVLE9BQU8sTUFBQSxDQUFBLElBSVhyVSxLQUFLNGxCLFVBQUFBLE9BQVUsU0FFWGtCLE1BQ0Y5bUIsS0FBS2taLEtBQUFBO1VBRVQsRUFBQSxHQUFDLEVBQUFuTixLQUFBLGlCQUFBM0csT0FFRCxXQUFBO0FBQ0UsbUJBQU9wRixLQUFLdWQsZUFBZXZkLEtBQUt4QyxTQUFTQyxPQUFPO1VBQ2xELEVBQUEsR0FBQyxFQUFBc08sS0FBQSxlQUFBM0csT0FFRCxXQUFBO0FBQ0UsbUJBQU9wRixLQUFLdWQ7VUFDZCxFQUFBLEdBQUMsRUFBQXhSLEtBQUEsUUFBQTNHLE9BRUQsV0FBQTtBQUNFcEYsaUJBQUsybEIsV0FBVyxxQkFBcUIsRUFBRXBvQixhQUFheUMsS0FBQUEsQ0FBQUEsR0FFcERBLEtBQUtYLGVBQWVXLEtBQUt0RCxVQUFVLE1BRW5Dc0QsS0FBS3VkLGVBQUFBLE9BQ0x2ZCxLQUFLNmxCLFdBQUFBLE1BQ0w3bEIsS0FBS3hDLFNBQVNDLE9BQU91QyxLQUFLaVYsWUFBWTtVQUN4QyxFQUFBLEdBRUEsRUFBQWxKLEtBQUEsbUJBQUEzRyxPQUNBLFNBQWdCeUQsSUFBQUE7QUFDZCxnQkFBTU0sS0FBWStKLEdBQTBCckssRUFBQUE7QUFHNUMsbUJBQTRCLFlBQXJCN0ksS0FBS0wsZUFBZ0QsVUFBckJLLEtBQUtMLGNBQ3hDSyxLQUFLc0osU0FBU25NLFNBQVMsSUFDdkJ1USxHQUFjMU4sS0FBS3NKLFVBQVUsU0FBQ3lkLElBQUFBO0FBQVUscUJBQUtBLEdBQVd0b0IsT0FBTzBLO1lBQUFBLENBQUFBO1VBQ3JFLEVBQUEsR0FFQSxFQUFBNEMsS0FBQSxrQkFBQTNHLE9BQ0EsU0FBZXlELElBQUFBO0FBQ2IsbUJBQU83SSxLQUFLc0osU0FBU3RKLEtBQUswbUIsZ0JBQWdCN2QsRUFBQUEsQ0FBQUE7VUFDNUMsRUFBQSxHQUVBLEVBQUFrRCxLQUFBLGlCQUFBM0csT0FDQSxTQUFjeUQsSUFBc0JZLElBQXlCK04sSUFBbUJuVixJQUFBQTtBQUM5RSxnQnhCdmQyQnNHLElBQTRCdUUsSUFBdUJ0UCxJd0J1ZHhFYSxLQUFLeVUsR0FBMEJySyxFQUFBQSxHQUNqQ3VkLEtBQWVwbUIsS0FBSzBtQixnQkFBZ0I3ZCxFQUFBQSxHQUNwQ3lkLEtBQWN0bUIsS0FBS3NKLFNBQVM4YyxFQUFBQTtBQWdEaEMsbUJBOUNBL2pCLEtBQUFBLFVBQU9BLE9BQXlCQSxNQUFRLGlCQUFpQnpGLEtBQUs2TSxHQUFNcEosSUFBQUEsSUFFL0RpbUIsS0FNSEEsR0FBWXpkLFVBQVVBLE1BTHRCeWQsS0FBYyxJQUFJbEIsR0FBWTNtQixJQUFJb0ssSUFBU1ksSUFBTyxNQUFNLElBQUEsR0FFeEQyYyxLQUFlcG1CLEtBQUtzSixTQUFTbk0sUUFDN0I2QyxLQUFLc0osU0FBU3BFLEtBQUtvaEIsRUFBQUEsSUFLckJwVCxHQUNFbFQsS0FBS3JDLE9BQU9DLEtBQ1pvQyxLQUFLc0osU0FBU3JLLElBQUksU0FBQ3FJLElBQUFBO0FBQUMscUJBQUtBLEdBQUV1QjtZQUFPLENBQUEsR0FDbEM3SSxLQUFLZ25CLEtBQUFBLENBQUFBLEd4Qnplb0JyZSxLd0IyZUMzSSxLQUFLckMsT0FBT1ksT3hCM2VlMk8sS3dCMmVSbE4sS0FBS3JDLE9BQU91UCxNeEIzZW1CdFAsS3dCMmVib0MsS0FBS3JDLE9BQU9DLEt4QjFlL0UrSyxHQUFVOUssS0FBS0ssSUFBSU4sR0FBSUMsS0FBS0ssSUFBSWdQLEdBQUtyUCxLQUFLSyxHQUMxQ3lLLEdBQVU5SyxLQUFLQyxJQUFJRixHQUFJQyxLQUFLQyxJQUFJb1AsR0FBS3JQLEtBQUtDLEdBQzFDNkssR0FBVTNLLE9BQU9FLElBQUlOLEdBQUlJLE9BQU9FLElBQUlnUCxHQUFLbFAsT0FBT0UsR0FDaER5SyxHQUFVM0ssT0FBT0YsSUFBSUYsR0FBSUksT0FBT0YsSUFBSW9QLEdBQUtsUCxPQUFPRixHQUNoRDZLLEdBQVVGLFlBQVk3SyxHQUFJNkssWUFBWXlFLEdBQUt6RSxXd0J3ZXJDcEcsT0FDRnJDLEtBQUtOLGdCQUFBQSxNQUVMNG1CLEdBQVl2QixXQUFXL2tCLEtBQUtyQyxPQUFPQyxJQUFJNkssV0FDdkM2ZCxHQUFZakIsYUFBYTdOLElBQ3pCdEUsR0FBMkJsVCxLQUFLaWUsYUFBYXBWLEVBQUFBLEdBRXhDN0ksS0FBSzZaLFlBQUFBLE1BQ1IzRyxHQUF3QmxULEtBQUtyQyxPQUFPSSxPQUFPaUMsS0FBS3JDLE9BQU9DLEdBQUFBLEdBQ3ZEc1YsR0FBd0JsVCxLQUFLckMsT0FBT3VQLE1BQU1sTixLQUFLckMsT0FBT0MsR0FBQUEsR0FFdERvQyxLQUFLa2UsWUFBWXpVLElBQ2pCekosS0FBS3lkLGtCQUFBQSxTQUlUemQsS0FBS2luQixxQkFBcUJwZSxJQUFTWSxJQUFPK04sRUFBQUEsR0FFMUN4WCxLQUFLMmxCLFdBQVcsK0JBQStCLEVBQzdDOWMsU0FBQUEsSUFDQVksT0FBQUEsSUFDQStOLGFBQUFBLElBQ0FuVixNQUFBQSxJQUNBaWtCLGFBQUFBLElBQ0FGLGNBQUFBLElBQ0E3b0IsYUFBYXlDLEtBQUFBLENBQUFBLEdBR1JvbUI7VUFDVCxFQUFBLEdBRUEsRUFBQXJhLEtBQUEsaUJBQUEzRyxPQUNBLFNBQWN5RCxJQUFzQlksSUFBQUE7QUFDbEMsZ0JBQU0yYyxLQUFlcG1CLEtBQUswbUIsZ0JBQWdCN2QsRUFBQUE7QUFFMUMsZ0JBQUEsT0FBSXVkLElBQUo7QUFFQSxrQkFBTUUsS0FBY3RtQixLQUFLc0osU0FBUzhjLEVBQUFBO0FBRWxDcG1CLG1CQUFLMmxCLFdBQVcsK0JBQStCLEVBQzdDOWMsU0FBQUEsSUFDQVksT0FBQUEsSUFDQStOLGFBQWEsTUFDYjRPLGNBQUFBLElBQ0FFLGFBQUFBLElBQ0Evb0IsYUFBYXlDLEtBQUFBLENBQUFBLEdBR2ZBLEtBQUtzSixTQUFTbE0sT0FBT2dwQixJQUFjLENBQUEsR0FDbkNwbUIsS0FBS04sZ0JBQUFBO1lBZG9CO1VBZTNCLEVBQUEsR0FFQSxFQUFBcU0sS0FBQSx3QkFBQTNHLE9BQ0EsU0FBcUJ5RCxJQUFzQlksSUFBeUIrTixJQUFBQTtBQUNsRXhYLGlCQUFLdVgsZUFBZTFPLFVBQVVBLElBQzlCN0ksS0FBS3VYLGVBQWU5TixRQUFRQSxJQUM1QnpKLEtBQUt1WCxlQUFlQyxjQUFjQTtVQUNwQyxFQUFBLEdBQUMsRUFBQXpMLEtBQUEsV0FBQTNHLE9BRUQsV0FBQTtBQUNFcEYsaUJBQUt1WCxlQUFlMU8sVUFBVSxNQUM5QjdJLEtBQUt1WCxlQUFlOU4sUUFBUSxNQUM1QnpKLEtBQUt1WCxlQUFlQyxjQUFjO1VBQ3BDLEVBQUEsR0FFQSxFQUFBekwsS0FBQSx3QkFBQTNHLE9BQ0EsU0FDRXFFLElBQ0E0SyxJQUNBdU0sSUFDQXZnQixJQUFBQTtBQUVBLG1CQUFPLElBQUk2akIsR0FBb0Jsa0IsTUFBTXlKLElBQU96SixLQUFLeEMsU0FBU0MsTUFBTTRXLElBQU9yVSxLQUFLdEQsU0FBU2trQixJQUFRdmdCLEVBQUFBO1VBQy9GLEVBQUEsR0FFQSxFQUFBMEwsS0FBQSxjQUFBM0csT0FDQSxTQUFpQy9HLElBQUFBO0FBQTZCLGdCQUFBNm9CO0FBQzNDLHFCQUFqQkEsS0FBSWxuQixLQUFDWCxpQkFBTDZuQixHQUFtQnRaLEtBQUt2UCxFQUFBQSxJQUFBQSxDQUVuQjJCLEtBQUtpVixhQUFhNVcsR0FBT29LLGFBQWF6SSxLQUFLaVYsVUFBVXhNLGVBQ3hEekksS0FBS2lWLFlBQVk1VztVQUVyQixFQUFBLEdBRUEsRUFBQTBOLEtBQUEsWUFBQTNHLE9BQ0EsU0FDRTJnQixJQUFBQTtBQUVBLGdCQUFRdGMsS0FBK0JzYyxHQUEvQnRjLE9BQU80SyxLQUF3QjBSLEdBQXhCMVIsT0FBT3VNLEtBQWlCbUYsR0FBakJuRixRQUFRdmdCLEtBQVMwbEIsR0FBVDFsQixNQUN0QjZGLEtBQVNsRyxLQUFUa0c7QUFZUixnQkFWSUEsTUFBa0IsV0FBVm1PLE9BRVZtTixFQUFtQnhoQixLQUFLcUcsT0FBT0gsSUFBTWxHLEtBQUtyQyxPQUFPWSxNQUFNeUIsS0FBS1gsYUFBYUcsUUFBUW1MLFdBQUFBLENBQUFBLEdBRWpGekUsR0FBSzVCLFFBQVE0QixHQUFLL0IsUUFBUStCLEdBQUtoQyxNQUMvQmdDLEdBQUszQixTQUFTMkIsR0FBSzdCLFNBQVM2QixHQUFLOUIsTUFBQUEsVUFHZHBFLEtBQUsybEIsV0FBVXBlLDhCQUFBQSxPQUErQjhNLEVBQUFBLEdBQWdCMFIsRUFBQUEsRUFHakYsUUFBQTtBQUdGLGdCQUFNMW5CLEtBQVUwbkIsR0FBVTFuQixTQUFTMkIsS0FBS21uQixxQkFBcUIxZCxJQUFPNEssSUFBT3VNLElBQVF2Z0IsRUFBQUE7QUFZbkYsbUJBVkFMLEtBQUsybEIsV0FBVXBlLHVCQUFBQSxPQUF3QjhNLEVBQUFBLEdBQWdCMFIsRUFBQUEsR0FFekMsWUFBVjFSLE9BQ0ZyVSxLQUFLaVYsWUFBWTVXLEtBR25CMkIsS0FBS29uQixXQUFXL29CLEVBQUFBLEdBRWhCMkIsS0FBSzJsQixXQUFVcGUsNkJBQUFBLE9BQThCOE0sRUFBQUEsR0FBZ0IwUixFQUFBQSxHQUFBQTtVQUcvRCxFQUFBLEdBRUEsRUFBQWhhLEtBQUEsUUFBQTNHLE9BQ0EsV0FBQTtBQUNFLG1CQUFPb1QsS0FBS0MsSUFBQUE7VUFDZCxFQUFBLENBQUEsQ0FBQSxHQUFDZ047UUFBQSxFQW5oQnFCO0FDMUV4QixpQkFBUzRCLEdBQVkvcEIsSUFBQUE7QUFDbkJncUIsYUFEaUNocUIsR0FBWEMsV0FBQUE7UUFFeEI7QUFvQk8saUJBQVMrcEIsR0FBYS9wQixJQUFBQTtBQUMzQixjQUFBLENBK0JGLFNBQW9CQSxJQUFBQTtBQUNsQixtQkFBQSxFQUFBLENBQVVBLEdBQVlncUIsT0FBT0MsUUFBUXRwQixLQUFBQSxDQUFLWCxHQUFZZ3FCLE9BQU9DLFFBQVExcEI7VUFDdkUsRUFqQ2tCUCxFQUFBQSxFQUNkLFFBQUE7QUFHRixjQUFRaXFCLEtBQVlqcUIsR0FBWWdxQixPQUF4QkM7QUFTUixpQkFQQUMsR0FBWWxxQixHQUFZSSxPQUFPQyxLQUFLNHBCLEVBQUFBLEdBQ3BDQyxHQUFZbHFCLEdBQVlJLE9BQU9ZLE9BQU9pcEIsRUFBQUEsR0FDdENoRyxFQUFtQmprQixHQUFZOEksT0FBTzlJLEdBQVkySSxNQUFNc2hCLEVBQUFBLEdBRXhEQSxHQUFRdHBCLElBQUksR0FDWnNwQixHQUFRMXBCLElBQUksR0FBQTtRQUdkO0FBRUEsaUJBQVM0cEIsR0FBUTNULElBQUFBO0FBQXFDLGNBQWY3VixLQUFDNlYsR0FBRDdWLEdBQUdKLEtBQUNpVyxHQUFEalc7QUFDeENrQyxlQUFLdW5CLE9BQU9DLFFBQVF0cEIsS0FBS0EsSUFDekI4QixLQUFLdW5CLE9BQU9DLFFBQVExcEIsS0FBS0EsSUFFekJrQyxLQUFLdW5CLE9BQU9JLE1BQU16cEIsS0FBS0EsSUFDdkI4QixLQUFLdW5CLE9BQU9JLE1BQU03cEIsS0FBS0E7UUFDekI7QUFFQSxpQkFBUzJwQixHQUFXelQsSUFBQUMsSUFBQUE7QUFBb0MsY0FBakNwVyxLQUFJbVcsR0FBSm5XLE1BQU1HLEtBQU1nVyxHQUFOaFcsUUFBWUUsS0FBQytWLEdBQUQvVixHQUFHSixLQUFDbVcsR0FBRG5XO0FBQzFDRCxVQUFBQSxHQUFLSyxLQUFLQSxJQUNWTCxHQUFLQyxLQUFLQSxJQUNWRSxHQUFPRSxLQUFLQSxJQUNaRixHQUFPRixLQUFLQTtRQUNkO0FBakVFeW5CLFdBQXNCbUMsV0FBVztBQXVFbkMsWUFBTUgsS0FBaUIsRUFDckI5b0IsSUFBSSxVQUNKMlcsUUFBUSxDQUFDLGFBQWEsa0JBQWtCLFdBQVcsU0FBQSxHQUNuRDFXLFNBQU8sU0FBQ0MsSUFBQUE7QUFDTkEsVUFBQUEsR0FBTThtQixZQUFZMW1CLFVBQVUyb0IsV0FBV0E7UUFDeEMsR0FDRHZvQixXQUFXLEVBQ1Qsb0JBQW9CLFNBQUErVSxJQUFBQTtBQUFjQSxVQUFBQSxHQUFYM1csWUFDVGdxQixTQUFTLEVBQ25CSSxPQUFPLEVBQUV6cEIsR0FBRyxHQUFHSixHQUFHLEVBQUEsR0FDbEIwcEIsU0FBUyxFQUFFdHBCLEdBQUcsR0FBR0osR0FBRyxFQUFBLEVBQUE7UUFFdkIsR0FDRCwrQkFBK0IsU0FBQTZaLElBQUFBO0FBQWMsaUJBbEYxQyxTQUFrQnBhLElBQUFBO0FBQ2xCQSxZQUFBQSxHQUFZbUMsa0JBSWpCK25CLEdBQVlscUIsR0FBWUksT0FBT0MsS0FBS0wsR0FBWWdxQixPQUFPSSxLQUFBQSxHQUV2RHBxQixHQUFZZ3FCLE9BQU9DLFFBQVF0cEIsSUFBSSxHQUMvQlgsR0FBWWdxQixPQUFPQyxRQUFRMXBCLElBQUk7VUFDakMsRUF5RWlENlosR0FBWHBhLFdBQUFBO1FBQXVDLEdBQ3pFLG9DQUFvQzhwQixJQUNwQyxtQ0FBbUNBLElBQ25DLGtDQXRFSixTQUFrQmpwQixJQUFBQTtBQUFnRSxjQUE3RGIsS0FBV2EsR0FBWGI7QUFHbkIsY0FGbUIrcEIsR0FBYS9wQixFQUFBQSxFQU9oQyxRQUhBQSxHQUFZWSxLQUFLLEVBQUVvcEIsUUFBQUEsS0FBUSxDQUFBLEdBQzNCaHFCLEdBQVlxcEIsSUFBQUEsR0FBQUE7UUFHZCxHQThESSxxQkE1REosU0FBWXBWLElBQUFBO0FBQWdELGNBQTdDalUsS0FBV2lVLEdBQVhqVTtBQUNiQSxVQUFBQSxHQUFZZ3FCLE9BQU9JLE1BQU16cEIsSUFBSSxHQUM3QlgsR0FBWWdxQixPQUFPSSxNQUFNN3BCLElBQUksR0FDN0JQLEdBQVlncUIsT0FBT0MsUUFBUXRwQixJQUFJLEdBQy9CWCxHQUFZZ3FCLE9BQU9DLFFBQVExcEIsSUFBSTtRQUNqQyxFQUFBLEVBQUEsR0EyREE4cEIsS0FBZUw7QUN4Q2YsWUFBYU0sS0FBWSxXQUFBO0FBd0J2QixtQkFBQUEsR0FBWXRxQixJQUFBQTtBQUEwQm1PLGNBQUFBLE1BQUFtYyxFQUFBQSxHQUFBN25CLEtBdkJ0QzhuQixTQUFBQSxPQUFjOW5CLEtBQ2QrbkIsYUFBQUEsT0FBa0IvbkIsS0FDbEJnb0IsWUFBQUEsT0FBaUJob0IsS0FDakJpb0IsY0FBQUEsT0FBbUJqb0IsS0FFbkI4aUIsZUFBQUEsUUFBWTlpQixLQUNaa29CLGdCQUFnQixHQUFDbG9CLEtBQ2pCMGlCLGNBQUFBLFFBQVcxaUIsS0FFWGdpQixjQUFBQSxRQUFXaGlCLEtBQ1h5a0IsS0FBSyxHQUFDemtCLEtBQ05tb0IsS0FBSyxHQUFDbm9CLEtBRU5vb0IsS0FBSyxHQUFDcG9CLEtBQ05xb0IsZUFBQUEsUUFBWXJvQixLQUNac29CLGlCQUFBQSxRQUFjdG9CLEtBQ2R1b0IsZ0JBQUFBLFFBQWF2b0IsS0FFYndvQixZQUFhLEdBQUV4b0IsS0FDZnlvQixZQUFhLEdBQUV6b0IsS0FDZjBvQixVQUFBQSxRQUFPMW9CLEtBQ0V6QyxjQUFBQSxRQUdQeUMsS0FBS3pDLGNBQWNBO1VBQ3JCO0FBc09DLGlCQXRPQXVPLEVBQUErYixJQUFBLENBQUEsRUFBQTliLEtBQUEsU0FBQTNHLE9BRUQsU0FBTXFFLElBQUFBO0FBQ0osZ0JBQVFsTSxLQUFnQnlDLEtBQWhCekMsYUFDRmlDLEtBQVVtcEIsR0FBV3ByQixFQUFBQTtBQUUzQixnQkFBQSxDQUFLaUMsTUFBQUEsQ0FBWUEsR0FBUUMsUUFDdkIsUUFBQTtBQUdGLGdCQUFnQm1wQixLQUFtQnJyQixHQUFZSSxPQUFPTSxTQUE5Q0QsUUFDRjZxQixLQUFlcGhCLEVBQU1taEIsR0FBZTFxQixHQUFHMHFCLEdBQWU5cUIsQ0FBQUEsR0FDdERnbEIsS0FBZTlpQixLQUFLOGlCLGlCQUFpQjlpQixLQUFLOGlCLGVBQWUsSUFBSWxELEdBQWFyaUIsRUFBQUE7QUFxQmhGLGdCQW5CQXVsQixHQUFhZ0csU0FBU3ZyQixHQUFZdWxCLFlBQUFBLEdBRWxDOWlCLEtBQUt5a0IsS0FBS2xuQixHQUFZeXBCLEtBQUFBLEdBQ3RCaG5CLEtBQUtpb0IsY0FBY3pvQixHQUFReW9CLGFBQzNCam9CLEtBQUttb0IsS0FBS1UsSUFDVjdvQixLQUFLdW9CLGdCQUFnQixFQUFFcnFCLEdBQUcsR0FBR0osR0FBRyxFQUFBLEdBQ2hDa0MsS0FBS2dpQixjQUFjemtCLEdBQVlJLE9BQU9DLElBQUlDLE1BRTFDbUMsS0FBSzBpQixjQUFjSSxHQUFhbkMsUUFBUSxFQUN0Q1IsWUFBWW5nQixLQUFLZ2lCLGFBQ2pCcEIsUUFBQUEsTUFDQXZNLE9BQU8sZUFBQSxDQUFBLEdBSVByVSxLQUFLeWtCLEtBQUtsbkIsR0FBWUksT0FBT0MsSUFBSTZLLFlBQVksTUFDN0NvZ0IsS0FBZXJwQixHQUFRdXBCLFlBQ3ZCRixLQUFlcnBCLEdBQVF3cEIsU0FHdkJocEIsTUFBS2lwQixhQUFBQTtpQkFDQTtBQUdMLGtCQUZBbkcsR0FBYWhjLFNBQVNnYyxHQUFhaEMsT0FBTzlnQixLQUFLMGlCLFdBQUFBLEdBQUFBLENBRTFDSSxHQUFhaGMsT0FBT2diLFFBQ3ZCLFFBQUE7QUFHRjloQixtQkFBS2twQixlQUFBQTtZQUNQO0FBbUJBLG1CQWhCQTNyQixHQUFZdWxCLGFBQWFoYyxPQUFPWixPQUFPLE1BR3ZDM0ksR0FBWW1xQixTQUFTMW5CLEtBQUtxb0IsWUFBQUEsR0FDMUI5cUIsR0FBWWdwQixTQUFTLEVBQ25CaHBCLGFBQUFBLElBQ0FrTSxPQUFBQSxJQUNBNEssT0FBTyxlQUFBLENBQUEsR0FFVDlXLEdBQVltcUIsU0FBUyxFQUFFeHBCLEdBQUFBLENBQUk4QixLQUFLcW9CLGFBQWFucUIsR0FBR0osR0FBQUEsQ0FBSWtDLEtBQUtxb0IsYUFBYXZxQixFQUFBQSxDQUFBQSxHQUV0RVAsR0FBWXVsQixhQUFhaGMsT0FBT1osT0FBTyxNQUV2Q2xHLEtBQUs4bkIsU0FBQUEsTUFDTHZxQixHQUFZdWMsYUFBYTlaLE1BQUFBO1VBRzNCLEVBQUEsR0FBQyxFQUFBK0wsS0FBQSxnQkFBQTNHLE9BRUQsV0FBQTtBQUFlLGdCQUFBMEgsS0FBQTlNLE1BQ1BtcEIsS0FBZ0JucEIsS0FBS3pDLFlBQVlJLE9BQU9NLFNBQVNELFFBQ2pEd0IsS0FBVW1wQixHQUFXM29CLEtBQUt6QyxXQUFBQSxHQUMxQjZyQixLQUFTNXBCLEdBQVE2cEIsWUFDakJDLEtBQUFBLENBQWM1aEIsS0FBSzZoQixJQUFJL3BCLEdBQVF3cEIsV0FBV2hwQixLQUFLbW9CLEVBQUFBLElBQU1pQjtBQUUzRHBwQixpQkFBS3FvQixlQUFlLEVBQ2xCbnFCLElBQUlpckIsR0FBY2pyQixJQUFJb3JCLE1BQWNGLElBQ3BDdHJCLElBQUlxckIsR0FBY3JyQixJQUFJd3JCLE1BQWNGLEdBQUFBLEdBR3RDcHBCLEtBQUtvb0IsS0FBS2tCLElBQ1Z0cEIsS0FBS3dvQixZQUFZWSxLQUFTcHBCLEtBQUttb0IsSUFDL0Jub0IsS0FBS3lvQixZQUFZLElBQUlqcEIsR0FBUXdwQixXQUFXaHBCLEtBQUttb0I7QUFFN0MsZ0JBQVFyRixLQUE4QjlpQixLQUE5QjhpQixjQUFjSixLQUFnQjFpQixLQUFoQjBpQjtBQUV0QkEsWUFBQUEsR0FBWXZDLGFBQWEsRUFDdkJqaUIsR0FBRzhCLEtBQUtnaUIsWUFBWTlqQixJQUFJOEIsS0FBS3FvQixhQUFhbnFCLEdBQzFDSixHQUFHa0MsS0FBS2dpQixZQUFZbGtCLElBQUlrQyxLQUFLcW9CLGFBQWF2cUIsRUFBQUEsR0FHNUNnbEIsR0FBYWhjLFNBQVNnYyxHQUFhaEMsT0FBTzRCLEVBQUFBLEdBRXRDSSxHQUFhaGMsT0FBT2diLFlBQ3RCOWhCLEtBQUsrbkIsYUFBQUEsTUFDTC9uQixLQUFLc29CLGlCQUFpQixFQUNwQnBxQixHQUFHOEIsS0FBS3FvQixhQUFhbnFCLElBQUk0a0IsR0FBYWhjLE9BQU92SSxNQUFNTCxHQUNuREosR0FBR2tDLEtBQUtxb0IsYUFBYXZxQixJQUFJZ2xCLEdBQWFoYyxPQUFPdkksTUFBTVQsRUFBQUEsSUFJdkRrQyxLQUFLd3BCLFlBQVksV0FBQTtBQUFBLHFCQUFNMWMsR0FBSzJjLFlBQUFBO1lBQUFBLENBQUFBO1VBQzlCLEVBQUEsR0FBQyxFQUFBMWQsS0FBQSxrQkFBQTNHLE9BRUQsV0FBQTtBQUFpQixnQkFBQStILEtBQUFuTjtBQUNmQSxpQkFBS2dvQixZQUFBQSxNQUNMaG9CLEtBQUsrbkIsYUFBQUEsTUFDTC9uQixLQUFLcW9CLGVBQWUsRUFDbEJucUIsR0FBRzhCLEtBQUs4aUIsYUFBYWhjLE9BQU92SSxNQUFNTCxHQUNsQ0osR0FBR2tDLEtBQUs4aUIsYUFBYWhjLE9BQU92SSxNQUFNVCxFQUFBQSxHQUdwQ2tDLEtBQUt3cEIsWUFBWSxXQUFBO0FBQUEscUJBQU1yYyxHQUFLdWMsY0FBQUE7WUFBQUEsQ0FBQUE7VUFDOUIsRUFBQSxHQUFDLEVBQUEzZCxLQUFBLGVBQUEzRyxPQUVELFNBQVl1a0IsSUFBQUE7QUFBb0IsZ0JBQUFDLEtBQUE1cEI7QUFDOUJBLGlCQUFLMG9CLFVBQVU1USxHQUFJM0IsUUFBUSxXQUFBO0FBQ3JCeVQsY0FBQUEsR0FBSzlCLFVBQ1A2QixHQUFBQTtZQUVKLENBQUE7VUFDRixFQUFBLEdBQUMsRUFBQTVkLEtBQUEsZUFBQTNHLE9BRUQsV0FBQTtBQUFjLGdCQW9NZHlrQixJQUNBQyxJQUNBQyxJQUNBQyxJQUNBQyxJQUNBQyxJQUNBQyxJQTFNY0MsS0FBQXBxQixNQUNKekMsS0FBZ0J5QyxLQUFoQnpDLGFBRUY2ckIsS0FEVVQsR0FBV3ByQixFQUFBQSxFQUNKOHJCLFlBQ2pCcGlCLE1BQUsxSixHQUFZeXBCLEtBQUFBLElBQVNobkIsS0FBS3lrQixNQUFNO0FBRTNDLGdCQUFJeGQsS0FBSWpILEtBQUtvb0IsSUFBSTtBQUNmLGtCQUNJaUMsSUFERUMsS0FBVyxLQUFLNWlCLEtBQUs2aUIsSUFBQUEsQ0FBS25CLEtBQVNuaUIsRUFBQUEsSUFBS2pILEtBQUt3b0IsYUFBYXhvQixLQUFLeW9CO0FBR2pFem9CLG1CQUFLK25CLGNBMExiOEIsS0F4TFEsR0F5TFJDLEtBeExRLEdBeUxSQyxLQXhMUS9wQixLQUFLcW9CLGFBQWFucUIsR0F5TDFCOHJCLEtBeExRaHFCLEtBQUtxb0IsYUFBYXZxQixHQXlMMUJtc0IsS0F4TFFqcUIsS0FBS3NvQixlQUFlcHFCLEdBeUw1QmdzQixLQXhMUWxxQixLQUFLc29CLGVBQWV4cUIsR0FOdEJ1c0IsS0FpTUMsRUFDTG5zQixHQUFHc3NCLEdBSExMLEtBeExRRyxJQTJMd0JULElBQVFFLElBQUtFLEVBQUFBLEdBQzNDbnNCLEdBQUcwc0IsR0FBaUJMLElBQVVMLElBQVFFLElBQUtFLEVBQUFBLEVBQUFBLEtBekx2Q0csS0FBWSxFQUNWbnNCLEdBQUc4QixLQUFLcW9CLGFBQWFucUIsSUFBSW9zQixJQUN6QnhzQixHQUFHa0MsS0FBS3FvQixhQUFhdnFCLElBQUl3c0IsR0FBQUE7QUFJN0Isa0JBQU0vckIsS0FBUSxFQUFFTCxHQUFHbXNCLEdBQVVuc0IsSUFBSThCLEtBQUt1b0IsY0FBY3JxQixHQUFHSixHQUFHdXNCLEdBQVV2c0IsSUFBSWtDLEtBQUt1b0IsY0FBY3pxQixFQUFBQTtBQUUzRmtDLG1CQUFLdW9CLGNBQWNycUIsS0FBS0ssR0FBTUwsR0FDOUI4QixLQUFLdW9CLGNBQWN6cUIsS0FBS1MsR0FBTVQsR0FFOUJQLEdBQVltcUIsU0FBU25wQixFQUFBQSxHQUNyQmhCLEdBQVlZLEtBQUFBLEdBRVo2QixLQUFLd3BCLFlBQVksV0FBQTtBQUFBLHVCQUFNWSxHQUFLWCxZQUFBQTtjQUFBQSxDQUFBQTtZQUM5QixNQUNFbHNCLENBQUFBLEdBQVltcUIsU0FBUyxFQUNuQnhwQixHQUFHOEIsS0FBS3NvQixlQUFlcHFCLElBQUk4QixLQUFLdW9CLGNBQWNycUIsR0FDOUNKLEdBQUdrQyxLQUFLc29CLGVBQWV4cUIsSUFBSWtDLEtBQUt1b0IsY0FBY3pxQixFQUFBQSxDQUFBQSxHQUdoRGtDLEtBQUs0bUIsSUFBQUE7VUFFVCxFQUFBLEdBQUMsRUFBQTdhLEtBQUEsaUJBQUEzRyxPQUVELFdBQUE7QUFBZ0IsZ0JBQUFxbEIsS0FBQXpxQixNQUNOekMsS0FBZ0J5QyxLQUFoQnpDLGFBQ0YwSixLQUFJMUosR0FBWXlwQixLQUFBQSxJQUFTaG5CLEtBQUt5a0IsSUFDVEMsS0FBYWlFLEdBQVdwckIsRUFBQUEsRUFBM0NtdEI7QUFFUixnQkFBSXpqQixLQUFJeWQsSUFBVTtBQUNoQixrQkFBTTJGLEtBQVksRUFDaEJuc0IsR0FBR3lzQixHQUFZMWpCLElBQUcsR0FBR2pILEtBQUtxb0IsYUFBYW5xQixHQUFHd21CLEVBQUFBLEdBQzFDNW1CLEdBQUc2c0IsR0FBWTFqQixJQUFHLEdBQUdqSCxLQUFLcW9CLGFBQWF2cUIsR0FBRzRtQixFQUFBQSxFQUFBQSxHQUV0Q25tQixLQUFRLEVBQ1pMLEdBQUdtc0IsR0FBVW5zQixJQUFJOEIsS0FBS3VvQixjQUFjcnFCLEdBQ3BDSixHQUFHdXNCLEdBQVV2c0IsSUFBSWtDLEtBQUt1b0IsY0FBY3pxQixFQUFBQTtBQUd0Q2tDLG1CQUFLdW9CLGNBQWNycUIsS0FBS0ssR0FBTUwsR0FDOUI4QixLQUFLdW9CLGNBQWN6cUIsS0FBS1MsR0FBTVQsR0FFOUJQLEdBQVltcUIsU0FBU25wQixFQUFBQSxHQUNyQmhCLEdBQVlZLEtBQUssRUFBRThpQixlQUFlamhCLEtBQUtrb0IsY0FBQUEsQ0FBQUEsR0FFdkNsb0IsS0FBS3dwQixZQUFZLFdBQUE7QUFBQSx1QkFBTWlCLEdBQUtmLGNBQUFBO2NBQUFBLENBQUFBO1lBQzlCLE1BQ0Vuc0IsQ0FBQUEsR0FBWW1xQixTQUFTLEVBQ25CeHBCLEdBQUc4QixLQUFLcW9CLGFBQWFucUIsSUFBSThCLEtBQUt1b0IsY0FBY3JxQixHQUM1Q0osR0FBR2tDLEtBQUtxb0IsYUFBYXZxQixJQUFJa0MsS0FBS3VvQixjQUFjenFCLEVBQUFBLENBQUFBLEdBRzlDa0MsS0FBSzRtQixJQUFBQTtVQUVULEVBQUEsR0FBQyxFQUFBN2EsS0FBQSxVQUFBM0csT0FFRCxTQUFBOUgsSUFBQUE7QUFBeUUsZ0JBQWhFdUwsS0FBT3ZMLEdBQVB1TCxTQUFTWSxLQUFLbk0sR0FBTG1NLE9BQU8rTixLQUFXbGEsR0FBWGthLGFBQ2ZqYSxLQUFnQnlDLEtBQWhCekM7QUFHUkEsWUFBQUEsR0FBWW1xQixTQUFTLEVBQ25CeHBCLEdBQUFBLENBQUk4QixLQUFLdW9CLGNBQWNycUIsR0FDdkJKLEdBQUFBLENBQUlrQyxLQUFLdW9CLGNBQWN6cUIsRUFBQUEsQ0FBQUEsR0FJekJQLEdBQVk4b0IsY0FBY3hkLElBQVNZLElBQU8rTixJQUFBQSxJQUFhLEdBR3ZEamEsR0FBWWdwQixTQUFTLEVBQ25CaHBCLGFBQUFBLElBQ0FrTSxPQUFBQSxJQUNBNEssT0FBTyxTQUFBLENBQUEsR0FFVDlMLEdBQVdoTCxHQUFZSSxPQUFPdVAsTUFBTTNQLEdBQVlJLE9BQU9DLEdBQUFBLEdBRXZEb0MsS0FBS2taLEtBQUFBO1VBQ1AsRUFBQSxHQUFDLEVBQUFuTixLQUFBLE9BQUEzRyxPQUVELFdBQUE7QUFDRXBGLGlCQUFLekMsWUFBWVksS0FBQUEsR0FDakI2QixLQUFLekMsWUFBWXFwQixJQUFBQSxHQUNqQjVtQixLQUFLa1osS0FBQUE7VUFDUCxFQUFBLEdBQUMsRUFBQW5OLEtBQUEsUUFBQTNHLE9BRUQsV0FBQTtBQUNFcEYsaUJBQUs4bkIsU0FBUzluQixLQUFLZ29CLFlBQUFBLE9BQ25CaG9CLEtBQUt6QyxZQUFZdWMsYUFBYSxNQUM5QmhDLEdBQUl0VixPQUFPeEMsS0FBSzBvQixPQUFBQTtVQUNsQixFQUFBLENBQUEsQ0FBQSxHQUFDYjtRQUFBLEVBaFFzQjtBQTRTekIsaUJBQVNjLEdBQVU1VSxJQUFBQTtBQUEwQyxjQUF2QzFVLEtBQVkwVSxHQUFaMVUsY0FBYzdCLEtBQVF1VyxHQUFSdlc7QUFDbEMsaUJBQU82QixNQUFnQkEsR0FBYUcsV0FBV2hDLEdBQVNDLFFBQVE0QixHQUFhRyxRQUFRaEMsR0FBU0MsSUFBQUEsRUFBTW10QjtRQUN0RztBQUVBLFlBQU1BLEtBQWtCLEVBQ3RCbnNCLElBQUksV0FDSjJXLFFBQVEsQ0FBQyxhQUFhLFNBQUEsR0FDdEIxVyxTQXJVRixTQUFpQkMsSUFBQUE7QUFDZixjQUFRRyxLQUFhSCxHQUFiRztBQUVSSCxVQUFBQSxHQUFNa1QsVUFBVTBWLEVBQUFBLEdBQ2hCNW9CLEdBQU1rVCxVQUFVeU8sRUFBQUEsR0FDaEIzaEIsR0FBTUMsUUFBUThnQixPQUFPbUwsZUFBQUEsTUFDckJsc0IsR0FBTUMsUUFBUThnQixPQUFPb0wsU0FBQUEsTUFFckJoc0IsR0FBU3NiLFVBQVV3USxVQUFVLEVBQzNCbnJCLFNBQUFBLE9BQ0E0cEIsWUFBWSxJQUNaTixVQUFVLEtBQ1ZDLFVBQVUsSUFDVmYsYUFBQUEsTUFDQXlDLG1CQUFtQixJQUFBO1FBRXZCLEdBc1RFdnJCLFdBQVcsRUFDVCxvQkFBb0IsU0FBQTZVLElBQUFBO0FBQXFCLGNBQWxCelcsS0FBV3lXLEdBQVh6VztBQUNyQkEsVUFBQUEsR0FBWXF0QixVQUFVLElBQUkvQyxHQUFhdHFCLEVBQUFBO1FBQ3hDLEdBRUQsa0NBdERKLFNBQWNhLElBQUFBO0FBQXdELGNBQXJEYixLQUFXYSxHQUFYYixhQUFha00sS0FBS3JMLEdBQUxxTDtBQUM1QixrQkFBQSxDQUFLbE0sR0FBWWdnQixnQkFBZ0JoZ0IsR0FBWXVjLGNBQUFBLENBSTdCdmMsR0FBWXF0QixRQUFRN3NCLE1BQU0wTCxFQUFBQSxNQUhqQztRQU9YLEdBOENJLHFCQTFDSixTQUFnQnJLLElBQUFBO0FBQ2QsY0FBUTdCLEtBQTZCNkIsR0FBN0I3QixhQUFhaWEsS0FBZ0JwWSxHQUFoQm9ZLGFBQ2Z3SixLQUFRempCLEdBQVlxdEI7QUFFMUIsY0FBSzVKLEdBQU04RyxPQUtYLFVBSElwckIsS0FBVThhLElBR1BwYixFQUFHTSxRQUFRQSxFQUFBQSxLQUFVO0FBRTFCLGdCQUFJQSxPQUFZYSxHQUFZYixTQUFTO0FBQ25Dc2tCLGNBQUFBLEdBQU04SixPQUFPMXJCLEVBQUFBO0FBQ2I7WUFDRjtBQUVBMUMsWUFBQUEsS0FBVW9NLEVBQWVwTSxFQUFBQTtVQUMzQjtRQUNGLEdBeUJJLHFCQXZCSixTQUFhOFUsSUFBQUE7QUFBZ0QsY0FDckR3UCxLQURtQnhQLEdBQVhqVSxZQUNZcXRCO0FBRXRCNUosVUFBQUEsR0FBTThHLFVBQ1I5RyxHQUFNOUgsS0FBQUE7UUFFVixHQW1CSSxxQ0FBcUMsU0FBQzlaLElBQUFBO0FBQ3BDLGNBQVEwakIsS0FBaUIxakIsR0FBSTdCLFlBQXJCdWxCO0FBRVJBLFVBQUFBLEdBQWE1SixLQUFLOVosRUFBQUEsR0FDbEIwakIsR0FBYS9rQixNQUFNcUIsSUFBS0EsR0FBSTdCLFlBQVlJLE9BQU9DLElBQUlDLElBQUFBLEdBQ25EaWxCLEdBQWFSLG1CQUFtQmxqQixFQUFBQTtRQUNqQyxHQUVELDJDQUEyQyxTQUFDQSxJQUFBQTtBQUFHLGlCQUFLQSxHQUFJN0IsWUFBWXVsQixhQUFha0IsWUFBWTVrQixFQUFBQTtRQUFJLEdBQ2pHLDhCQUE4QmtoQixJQUM5QixvQ0FBb0NBLElBQ3BDLDBDQUEwQyxTQUFDbGhCLElBQUFBO0FBQUcsaUJBQzVDQSxHQUFJN0IsWUFBWXVsQixhQUFhbUIseUJBQXlCN2tCLEVBQUFBO1FBQUksR0FDNUQsb0NBQW9DLFNBQUNBLElBQUFBO0FBQUcsaUJBQUtBLEdBQUk3QixZQUFZdWxCLGFBQWFtQix5QkFBeUI3a0IsRUFBQUE7UUFBSSxFQUFBLEVBQUE7QUFLM0csaUJBQVNvckIsR0FBaUJ2akIsSUFBVzhqQixJQUFZQyxJQUFZQyxJQUFBQTtBQUMzRCxjQUFNQyxLQUFLLElBQUlqa0I7QUFDZixpQkFBT2lrQixLQUFLQSxLQUFLSCxLQUFLLElBQUlHLEtBQUtqa0IsS0FBSStqQixLQUFLL2pCLEtBQUlBLEtBQUlna0I7UUFDbEQ7QUFrQkEsaUJBQVNOLEdBQVkxakIsSUFBV2trQixJQUFXQyxJQUFXQyxJQUFBQTtBQUVwRCxpQkFBQSxDQUFRRCxNQURSbmtCLE1BQUtva0IsT0FDWXBrQixLQUFJLEtBQUtra0I7UUFDNUI7QUFFQSxZQUFBRyxLQUFlVjtBQzFhZixpQkFBU1csR0FBMEI5aEIsSUFBWXRLLElBQUFBO0FBQXVCLG1CQUFBK0gsS0FBQUEsR0FBQUEsS0FDN0MvSCxHQUFTaEMsUUFBQStKLE1BQUU7QUFBN0IsZ0JBQU1vWSxLQUFZbmdCLEdBQVMrSCxFQUFBQTtBQUM5QixnQkFBSXVDLEdBQU1rQyw0QkFDUjtBQUdGMlQsWUFBQUEsR0FBUzdWLEVBQUFBO1VBQ1g7UUFDRjtBQUVBLFlBQWEraEIsS0FBUyxXQUFBO0FBT3BCLG1CQUFBQSxHQUFZaHNCLElBQUFBO0FBQW9Da00sY0FBQUEsTUFBQThmLEVBQUFBLEdBQUF4ckIsS0FOaERSLFVBQUFBLFFBQU9RLEtBQ1B5ckIsUUFBNkIsQ0FBQSxHQUFFenJCLEtBQy9CNEwscUJBQUFBLE9BQTBCNUwsS0FDMUIyTCw4QkFBQUEsT0FBbUMzTCxLQUNuQ2lZLFNBQUFBLFFBR0VqWSxLQUFLUixVQUFVOEYsRUFBTyxDQUFFLEdBQUU5RixNQUFXLENBQUUsQ0FBQTtVQUN6QztBQWdEQyxpQkFoREFzTSxFQUFBMGYsSUFBQSxDQUFBLEVBQUF6ZixLQUFBLFFBQUEzRyxPQUVELFNBQStEcUUsSUFBQUE7QUFDN0QsZ0JBQUl0SyxJQUNFOFksS0FBU2pZLEtBQUtpWTtBQUFBQSxhQUlmOVksS0FBWWEsS0FBS3lyQixNQUFNaGlCLEdBQU1wSixJQUFBQSxNQUNoQ2tyQixHQUEwQjloQixJQUFPdEssRUFBQUEsR0FBQUEsQ0FJOUJzSyxHQUFNbUMsc0JBQXNCcU0sT0FBVzlZLEtBQVk4WSxHQUFPeE8sR0FBTXBKLElBQUFBLE1BQ25Fa3JCLEdBQTBCOWhCLElBQU90SyxFQUFBQTtVQUVyQyxFQUFBLEdBQUMsRUFBQTRNLEtBQUEsTUFBQTNHLE9BRUQsU0FBRy9FLElBQWNpZixJQUFBQTtBQUNmLGdCQUFNbmdCLEtBQVl1SCxFQUFVckcsSUFBTWlmLEVBQUFBO0FBRWxDLGlCQUFLamYsTUFBUWxCLEdBQ1hhLE1BQUt5ckIsTUFBTXByQixFQUFBQSxJQUFRcU4sR0FBVTFOLEtBQUt5ckIsTUFBTXByQixFQUFBQSxLQUFTLENBQUEsR0FBSWxCLEdBQVVrQixFQUFBQSxDQUFBQTtVQUVuRSxFQUFBLEdBQUMsRUFBQTBMLEtBQUEsT0FBQTNHLE9BRUQsU0FBSS9FLElBQWNpZixJQUFBQTtBQUNoQixnQkFBTW5nQixLQUFZdUgsRUFBVXJHLElBQU1pZixFQUFBQTtBQUVsQyxpQkFBS2pmLE1BQVFsQixJQUFXO0FBQ3RCLGtCQUFNdXNCLEtBQVkxckIsS0FBS3lyQixNQUFNcHJCLEVBQUFBO0FBRTdCLGtCQUFLcXJCLE1BQWNBLEdBQVV2dUIsT0FFNUIsVUFBQXdSLEtBQUFnZCxHQUFBQSxLQUV5QnhzQixHQUFVa0IsRUFBQUEsR0FBS3NPLEtBQUFnZCxHQUFBeHVCLFFBQUF3UixNQUFFO0FBQXRDLG9CQUFNaWQsS0FBV0QsR0FBQWhkLEVBQUFBLEdBQ2RsQixLQUFRaWUsR0FBVXpqQixRQUFRMmpCLEVBQUFBO0FBQUFBLHVCQUU1Qm5lLE1BQ0ZpZSxHQUFVdHVCLE9BQU9xUSxJQUFPLENBQUE7Y0FFNUI7WUFDRjtVQUNGLEVBQUEsR0FBQyxFQUFBMUIsS0FBQSxXQUFBM0csT0FFRCxTQUFReW1CLElBQUFBO0FBQ04sbUJBQU87VUFDVCxFQUFBLENBQUEsQ0FBQSxHQUFDTDtRQUFBLEVBekRtQjtBQ21SckIsWUFFS00sS0FBUyxXQUFBO0FBS2IsbUJBQUFBLEdBQVlDLElBQUFBO0FBQXNCcmdCLGNBQUFBLE1BQUFvZ0IsRUFBQUEsR0FBQTlyQixLQUpsQ3dMLGdCQUFBQSxRQUFheEwsS0FDYityQixnQkFBQUEsUUFBYS9yQixLQUNiSyxPQUFBQSxRQUdFTCxLQUFLK3JCLGdCQUFnQkEsSUFFckJDLEdBQVFoc0IsTUFBTStyQixFQUFBQTtVQUNoQjtBQVlDLGlCQVpBamdCLEVBQUFnZ0IsSUFBQSxDQUFBLEVBQUEvZixLQUFBLDBCQUFBM0csT0FFRCxXQUFBO0FBQ0VwRixpQkFBSytyQixjQUFjcE4sZUFBQUE7VUFDckIsRUFBQSxHQUFDLEVBQUE1UyxLQUFBLG1CQUFBM0csT0FFRCxXQUFBO0FBQ0VwRixpQkFBSytyQixjQUFjRSxnQkFBQUE7VUFDckIsRUFBQSxHQUFDLEVBQUFsZ0IsS0FBQSw0QkFBQTNHLE9BRUQsV0FBQTtBQUNFcEYsaUJBQUsrckIsY0FBY3hlLHlCQUFBQTtVQUNyQixFQUFBLENBQUEsQ0FBQSxHQUFDdWU7UUFBQSxFQXJCWTtBQXdCZixpQkFBU25ELEdBQVd1RCxJQUFBQTtBQUNsQixpQkFBSzl2QixFQUFHSCxPQUFPaXdCLEVBQUFBLElBSVIsRUFDTEMsU0FBQUEsQ0FBQUEsQ0FBV0QsR0FBTUMsU0FDakIvTSxTQUFBQSxDQUFBQSxDQUFXOE0sR0FBTTlNLFFBQUFBLElBTFYsRUFBRStNLFNBQUFBLENBQUFBLENBQVdELElBQU85TSxTQUFBQSxNQUFTO1FBT3hDO0FBRUEsaUJBQVNnTixHQUFhQyxJQUFvQ2xCLElBQUFBO0FBQ3hELGlCQUFJa0IsT0FBTWxCLE9BRU8sYUFBQSxPQUFOa0IsS0FBQUEsQ0FBQUEsQ0FBMEJsQixHQUFFZ0IsWUFBWUUsTUFBQUEsU0FBcUIsQ0FBQSxDQUFkbEIsR0FBRS9MLFVBQUFBLENBQUFBLENBRW5EaU4sR0FBRUYsV0FBQUEsQ0FBQUEsQ0FBY2hCLEdBQUVnQixXQUFBQSxDQUFBQSxDQUFhRSxHQUFFak4sV0FBQUEsQ0FBQUEsQ0FBYytMLEdBQUUvTDtRQUM1RDtBQUVlLFlBQUEvUixLQUFBLEVBQ2I1TyxJQUFJLFVBQ0pDLFNBelRGLFNBQWlCQyxJQUFBQTtBQUFjLGNBQUEydEIsSUFDdkJDLEtBR0QsQ0FBQSxHQUVDQyxLQU1GLENBQUEsR0FDRUMsS0FBd0IsQ0FBQSxHQUV4QkMsS0FBZ0IsRUFDcEJDLEtBQUFBLElBQ0FDLFFBQUFBLElBRUFDLGFBMkhGLFNBQ0U1cEIsSUFDQTZwQixJQUNBenNCLElBQ0FpZixJQUNBeU4sSUFBQUE7QUFFQSxnQkFBTXZ0QixLQUFVbXBCLEdBQVdvRSxFQUFBQTtBQUMzQixnQkFBQSxDQUFLUCxHQUFnQm5zQixFQUFBQSxHQUFPO0FBQzFCbXNCLGNBQUFBLEdBQWdCbnNCLEVBQUFBLElBQVEsQ0FBQTtBQUV4Qix1QkFBQTJzQixLQUFBQSxHQUFBQSxLQUNrQlAsR0FBU3R2QixRQUFBNnZCLE1BQUU7QUFBeEIsb0JBQU0vTixLQUFPd04sR0FBU08sRUFBQUE7QUFDekJMLGdCQUFBQSxHQUFJMU4sSUFBSzVlLElBQU00c0IsRUFBQUEsR0FDZk4sR0FBSTFOLElBQUs1ZSxJQUFNNnNCLElBQUFBLElBQW9CO2NBQ3JDO1lBQ0Y7QUFFQSxnQkFBTUMsS0FBWVgsR0FBZ0Juc0IsRUFBQUEsR0FDOUIrc0IsS0FBVzFmLEdBQVN5ZixJQUFXLFNBQUM5QixJQUFBQTtBQUFDLHFCQUFLQSxHQUFFcG9CLGFBQWFBLE1BQVlvb0IsR0FBRXlCLFlBQVlBO1lBQUFBLENBQUFBO0FBRTlFTSxZQUFBQSxPQUNIQSxLQUFXLEVBQUVucUIsVUFBQUEsSUFBVTZwQixTQUFBQSxJQUFTM3RCLFdBQVcsQ0FBQSxFQUFBLEdBQzNDZ3VCLEdBQVVqb0IsS0FBS2tvQixFQUFBQTtBQUdqQkEsWUFBQUEsR0FBU2p1QixVQUFVK0YsS0FBSyxFQUFFL0ksTUFBTW1qQixJQUFVOWYsU0FBQUEsR0FBQUEsQ0FBQUE7VUFDNUMsR0FySkU2dEIsZ0JBdUpGLFNBQ0VwcUIsSUFDQTZwQixJQUNBenNCLElBQ0FpZixJQUNBeU4sSUFBQUE7QUFFQSxnQkFHSXRmLElBSEVqTyxLQUFVbXBCLEdBQVdvRSxFQUFBQSxHQUNyQkksS0FBWVgsR0FBZ0Juc0IsRUFBQUEsR0FDOUJpdEIsS0FBQUE7QUFHSixnQkFBQSxDQUFLSCxHQUFXO0FBR2hCLGlCQUFLMWYsS0FBUTBmLEdBQVVod0IsU0FBUyxHQUFHc1EsTUFBUyxHQUFHQSxNQUFTO0FBQ3RELGtCQUFNN1AsS0FBTXV2QixHQUFVMWYsRUFBQUE7QUFFdEIsa0JBQUk3UCxHQUFJcUYsYUFBYUEsTUFBWXJGLEdBQUlrdkIsWUFBWUEsSUFBUztBQUl4RCx5QkFIUTN0QixLQUFjdkIsR0FBZHVCLFdBR0NrTixLQUFJbE4sR0FBVWhDLFNBQVMsR0FBR2tQLE1BQUssR0FBR0EsTUFBSztBQUM5QyxzQkFBTWtoQixLQUFRcHVCLEdBQVVrTixFQUFBQTtBQUd4QixzQkFBSWtoQixHQUFNcHhCLFNBQVNtakIsTUFBWThNLEdBQWFtQixHQUFNL3RCLFNBQVNBLEVBQUFBLEdBQVU7QUFFbkVMLG9CQUFBQSxHQUFVL0IsT0FBT2lQLElBQUcsQ0FBQSxHQUlmbE4sR0FBVWhDLFdBQ2Jnd0IsR0FBVS92QixPQUFPcVEsSUFBTyxDQUFBLEdBR3hCbWYsR0FBT0UsSUFBU3pzQixJQUFNNHNCLEVBQUFBLEdBQ3RCTCxHQUFPRSxJQUFTenNCLElBQU02c0IsSUFBQUEsSUFBb0IsSUFJNUNJLEtBQUFBO0FBQ0E7a0JBQ0Y7Z0JBQ0Y7QUFFQSxvQkFBSUEsR0FDRjtjQUVKO1lBQ0Y7VUFDRixHQXhNRUwsa0JBQUFBLElBQ0FDLG9CQUFBQSxJQUNBVixpQkFBQUEsSUFDQUMsV0FBQUEsSUFFQUYsU0FBQUEsSUFFQWlCLGlCQUFBQSxPQUNBeE8saUJBQUFBLE1BQWlCO0FBZW5CLG1CQUFTMk4sR0FDUG5WLElBQ0FuWCxJQUNBaWYsSUFDQXlOLElBQUFBO0FBRUEsZ0JBQUt2VixHQUFZaVcsa0JBQWpCO0FBRUEsa0JBQU1qdUIsS0FBVW1wQixHQUFXb0UsRUFBQUEsR0FDdkJwbkIsS0FBUytILEdBQVM2ZSxJQUFTLFNBQUN0bEIsSUFBQUE7QUFBQyx1QkFBS0EsR0FBRXVRLGdCQUFnQkE7Y0FBQUEsQ0FBQUE7QUFFbkQ3UixjQUFBQSxPQUNIQSxLQUFTLEVBQ1A2UixhQUFBQSxJQUNBbkssUUFBUSxDQUFDLEVBQUEsR0FHWGtmLEdBQVFybkIsS0FBS1MsRUFBQUEsSUFHVkEsR0FBTzBILE9BQU9oTixFQUFBQSxNQUNqQnNGLEdBQU8wSCxPQUFPaE4sRUFBQUEsSUFBUSxDQUFBLElBR25CcU4sR0FBUy9ILEdBQU8wSCxPQUFPaE4sRUFBQUEsR0FBTyxTQUFDK0csSUFBQUE7QUFBQyx1QkFBS0EsR0FBRWpMLFNBQVNtakIsTUFBWThNLEdBQWFobEIsR0FBRTVILFNBQVNBLEVBQUFBO2NBQVEsQ0FBQSxNQUMvRmdZLEdBQVlpVyxpQkFDVnB0QixJQUNBaWYsSUFDQW9OLEdBQWNjLGtCQUFrQmh1QixLQUFVQSxHQUFRMnNCLE9BQUFBLEdBRXBEeG1CLEdBQU8wSCxPQUFPaE4sRUFBQUEsRUFBTTZFLEtBQUssRUFBRS9JLE1BQU1takIsSUFBVTlmLFNBQUFBLEdBQUFBLENBQUFBO1lBeEJWO1VBMEJyQztBQUVBLG1CQUFTb3RCLEdBQ1BwVixJQUNBblgsSUFDQWlmLElBQ0F5TixJQUFBQTtBQUVBLGdCQUFLdlYsR0FBWWlXLG9CQUFxQmpXLEdBQVlrVyxxQkFBbEQ7QUFFQSxrQkFBTUMsS0FBY2pnQixHQUFjNmUsSUFBUyxTQUFDdGxCLElBQUFBO0FBQUMsdUJBQUtBLEdBQUV1USxnQkFBZ0JBO2NBQUFBLENBQUFBLEdBQzlEN1IsS0FBUzRtQixHQUFRb0IsRUFBQUE7QUFFdkIsa0JBQUtob0IsTUFBV0EsR0FBTzBILE9BSXZCLEtBQWEsVUFBVGhOLElBQUo7QUFTQSxvQkFBSXV0QixLQUFBQSxPQUNFQyxLQUFnQmxvQixHQUFPMEgsT0FBT2hOLEVBQUFBO0FBRXBDLG9CQUFJd3RCLElBQWU7QUFDakIsc0JBQWlCLFVBQWJ2TyxJQUFvQjtBQUN0Qiw2QkFBU2pULEtBQUl3aEIsR0FBYzF3QixTQUFTLEdBQUdrUCxNQUFLLEdBQUdBLE1BQUs7QUFDbEQsMEJBQU1raEIsS0FBUU0sR0FBY3hoQixFQUFBQTtBQUM1QnVnQixzQkFBQUEsR0FBT3BWLElBQWFuWCxJQUFNa3RCLEdBQU1weEIsTUFBTW94QixHQUFNL3RCLE9BQUFBO29CQUM5QztBQUNBO2tCQUNGO0FBR0UsMkJBRk1BLEtBQVVtcEIsR0FBV29FLEVBQUFBLEdBRWxCMWdCLEtBQUksR0FBR0EsS0FBSXdoQixHQUFjMXdCLFFBQVFrUCxNQUFLO0FBQzdDLHdCQUFNa2hCLEtBQVFNLEdBQWN4aEIsRUFBQUE7QUFDNUIsd0JBQUlraEIsR0FBTXB4QixTQUFTbWpCLE1BQVk4TSxHQUFhbUIsR0FBTS90QixTQUFTQSxFQUFBQSxHQUFVO0FBQ25FZ1ksc0JBQUFBLEdBQVlrVyxvQkFDVnJ0QixJQUNBaWYsSUFDQW9OLEdBQWNjLGtCQUFrQmh1QixLQUFVQSxHQUFRMnNCLE9BQUFBLEdBRXBEMEIsR0FBY3p3QixPQUFPaVAsSUFBRyxDQUFBLEdBRUssTUFBekJ3aEIsR0FBYzF3QixXQUFBQSxPQUNUd0ksR0FBTzBILE9BQU9oTixFQUFBQSxHQUNyQnV0QixLQUFBQTtBQUdGO29CQUNGO2tCQUNGO2dCQUVKO0FBRUlBLGdCQUFBQSxNQUFBQSxDQUFnQjFsQixPQUFPK0osS0FBS3RNLEdBQU8wSCxNQUFBQSxFQUFRbFEsVUFDN0NvdkIsR0FBUW52QixPQUFPdXdCLElBQWEsQ0FBQTtjQXJDOUIsTUFORSxNQUFLdHRCLE1BQVFzRixHQUFPMEgsT0FDZDFILENBQUFBLEdBQU8wSCxPQUFPeWdCLGVBQWV6dEIsRUFBQUEsS0FDL0J1c0IsR0FBT3BWLElBQWFuWCxJQUFNLEtBQUE7WUFadUM7VUF1RHpFO0FBc0ZBLG1CQUFTNHNCLEdBQWlCeGpCLElBQTBCc2pCLElBQUFBO0FBUWxELHFCQVBNdnRCLEtBQVVtcEIsR0FBV29FLEVBQUFBLEdBQ3JCZ0IsS0FBWSxJQUFJakMsR0FBVXJpQixFQUFBQSxHQUMxQjBqQixLQUFZWCxHQUFnQi9pQixHQUFNcEosSUFBQUEsR0FDakNtWCxLQUFldEUsR0FBNkJ6SixFQUFBQSxFQUFqQyxDQUFBLEdBQ2QvTSxLQUFnQjhhLElBR2JwYixFQUFHTSxRQUFRQSxFQUFBQSxLQUFVO0FBQzFCLHVCQUFTMlAsS0FBSSxHQUFHQSxLQUFJOGdCLEdBQVVod0IsUUFBUWtQLE1BQUs7QUFDekMsb0JBQU16TyxLQUFNdXZCLEdBQVU5Z0IsRUFBQUEsR0FDZHBKLEtBQXNCckYsR0FBdEJxRixVQUFVNnBCLEtBQVlsdkIsR0FBWmt2QjtBQUVsQixvQkFDRXZoQixFQUF5QjdPLElBQVN1RyxFQUFBQSxLQUNsQ3NJLEVBQXNCdWhCLElBQVN0VixFQUFBQSxLQUMvQmpNLEVBQXNCdWhCLElBQVNwd0IsRUFBQUEsR0FDL0I7QUFDQSxzQkFBUXlDLEtBQWN2QixHQUFkdUI7QUFFUjR1QixrQkFBQUEsR0FBVXZpQixnQkFBZ0I5TztBQUFPLDJCQUFBc3hCLEtBQUFBLEdBQUFBLEtBRWI3dUIsR0FBU2hDLFFBQUE2d0IsTUFBRTtBQUExQix3QkFBTVQsS0FBU3B1QixHQUFTNnVCLEVBQUFBO0FBQ3ZCNUIsdUJBQWFtQixHQUFNL3RCLFNBQVNBLEVBQUFBLEtBQzlCK3RCLEdBQU1weEIsS0FBSzR4QixFQUFBQTtrQkFFZjtnQkFDRjtjQUNGO0FBRUFyeEIsY0FBQUEsS0FBVTZPLEVBQW9CN08sRUFBQUE7WUFDaEM7VUFDRjtBQUVBLG1CQUFTd3dCLEdBQWtDempCLElBQUFBO0FBQ3pDLG1CQUFPd2pCLEdBQTRCeGpCLElBQUFBLElBQU87VUFDNUM7QUFHQSxpQkF2T2MsU0FBZDZpQixLQUFBM3RCLEdBQU1qRCxhQUFONHdCLEdBQWdCMkIsY0FBYyxLQUFBLEVBQU9SLGlCQUFpQixRQUFRLE1BQU0sRUFDbEUsSUFBQSxVQUFJdEI7QUFDRixtQkFBUU8sR0FBY2Msa0JBQUFBO1VBQ3ZCLEdBQ0QsSUFBQSxVQUFJcE87QUFDRixtQkFBUXNOLEdBQWMxTixrQkFBQUE7VUFDeEIsRUFBQSxDQUFBLEdBR0ZyZ0IsR0FBTTBPLFNBQVNxZixJQThOUkE7UUFDVCxFQUFBLEdDcFJNd0IsS0FBUyxFQUNiQyxhQUFhLENBQUMsb0JBQW9CLGNBQWMsY0FBYyxNQUFBLEdBRTlEN3RCLFFBQU0sU0FBQzh0QixJQUFBQTtBQUF3QixtQkFBQWxuQixLQUFBLEdBQUFtbkIsS0FDUkgsR0FBT0MsYUFBV2puQixLQUFBbW5CLEdBQUFseEIsUUFBQStKLE1BQUU7QUFBcEMsZ0JBQU1xVCxLQUFNOFQsR0FBQW5uQixFQUFBQSxHQUNUM0osS0FBYzJ3QixHQUFPM1QsRUFBQUEsRUFBUTZULEVBQUFBO0FBRW5DLGdCQUFJN3dCLEdBQ0YsUUFBT0E7VUFFWDtBQUVBLGlCQUFPO1FBQ1IsR0FHRCt3QixrQkFBZ0IsU0FBQWh4QixJQUFBQTtBQUFnRSxjQUE3RHFDLEtBQVdyQyxHQUFYcUMsYUFBYTRmLEtBQVNqaUIsR0FBVGlpQixXQUFXL0gsS0FBV2xhLEdBQVhrYSxhQUFhN1ksS0FBS3JCLEdBQUxxQjtBQUN0RCxjQUFBLENBQUssY0FBYy9CLEtBQUsyaUIsRUFBQUEsRUFDdEIsUUFBTztBQUNSLG1CQUFBNVEsS0FBQW1PLEdBQUFBLEtBRXlCbmUsR0FBTW9lLGFBQWF2TyxNQUFJRyxLQUFBbU8sR0FBQTNmLFFBQUF3UixNQUFFO0FBQTlDLGdCQUFNcFIsS0FBV3VmLEdBQUFuTyxFQUFBQSxHQUNoQmpTLEtBQVU4YTtBQUVkLGdCQUNFamEsR0FBWXVjLGNBQ1p2YyxHQUFZdWMsV0FBV21PLGVBQ3ZCMXFCLEdBQVlvQyxnQkFBZ0JBLEdBRTVCLFFBQU9qRCxNQUFTO0FBRWQsa0JBQUlBLE9BQVlhLEdBQVliLFFBQzFCLFFBQU9hO0FBRVRiLGNBQUFBLEtBQVVvTSxFQUFlcE0sRUFBQUE7WUFDM0I7VUFFSjtBQUVBLGlCQUFPO1FBQ1IsR0FHRDZ4QixZQUFVLFNBQUFud0IsSUFBQUE7QUFBOEQsY0FLbEVvd0IsSUFMT3JsQixLQUFTL0ssR0FBVCtLLFdBQVd4SixLQUFXdkIsR0FBWHVCLGFBQWE0ZixLQUFTbmhCLEdBQVRtaEIsV0FBVzVnQixLQUFLUCxHQUFMTztBQUM5QyxjQUFvQixZQUFoQmdCLE1BQTJDLFVBQWhCQSxHQUM3QixRQUFPO0FBR1MsbUJBQUFtTyxLQUFBMmdCLEdBQUFBLEtBRVE5dkIsR0FBTW9lLGFBQWF2TyxNQUFJVixLQUFBMmdCLEdBQUF0eEIsUUFBQTJRLE1BQUU7QUFBOUMsZ0JBQU12USxLQUFXa3hCLEdBQUEzZ0IsRUFBQUE7QUFDcEIsZ0JBQUl2USxHQUFZb0MsZ0JBQWdCQSxJQUFhO0FBRTNDLGtCQUFJcEMsR0FBWXVjLGNBQUFBLENBQWU0VSxHQUFhbnhCLElBQWE0TCxFQUFBQSxFQUN2RDtBQUlGLGtCQUFJNUwsR0FBWXNjLFlBQUFBLEVBQ2QsUUFBT3RjO0FBR0NpeEIsY0FBQUEsT0FDUkEsS0FBaUJqeEI7WUFFckI7VUFDRDtBQUlELGNBQUlpeEIsR0FDRixRQUFPQTtBQUtULG1CQUFBemYsS0FBQTRmLEdBQUFBLEtBQzBCaHdCLEdBQU1vZSxhQUFhdk8sTUFBSU8sS0FBQTRmLEdBQUF4eEIsUUFBQTRSLE1BQUU7QUFBOUMsZ0JBQU14UixLQUFXb3hCLEdBQUE1ZixFQUFBQTtBQUNwQixnQkFBQSxFQUFJeFIsR0FBWW9DLGdCQUFnQkEsTUFBaUIsUUFBUS9DLEtBQUsyaUIsRUFBQUEsS0FBY2hpQixHQUFZdWMsWUFDdEYsUUFBT3ZjO1VBRVg7QUFFQSxpQkFBTztRQUNSLEdBR0RxeEIsWUFBVSxTQUFBcGQsSUFBQUE7QUFBbUIsbUJBQWhCckksS0FBU3FJLEdBQVRySSxXQUFnQmlHLEtBQUF5ZixHQUFBQSxLQUFBcmQsR0FBTDdTLE1BQ1VvZSxhQUFhdk8sTUFBSVksS0FBQXlmLEdBQUExeEIsUUFBQWlTLE1BQUU7QUFBOUMsZ0JBQU03UixLQUFXc3hCLEdBQUF6ZixFQUFBQTtBQUNwQixnQkFBSXNmLEdBQWFueEIsSUFBYTRMLEVBQUFBLEVBQzVCLFFBQU81TDtVQUVYO0FBRUEsaUJBQU87UUFDUixHQUdEdXhCLE1BQUksU0FBQS9hLElBQUFBO0FBQXFCLG1CQUFsQnBVLEtBQVdvVSxHQUFYcFUsYUFBa0JxakIsS0FBQStMLEdBQUFBLEtBQUFoYixHQUFMcFYsTUFDY29lLGFBQWF2TyxNQUFJd1UsS0FBQStMLEdBQUE1eEIsUUFBQTZsQixNQUFFO0FBQTlDLGdCQUFNemxCLEtBQVd3eEIsR0FBQS9MLEVBQUFBO0FBRXBCLGdCQUFvQyxNQUFoQ3psQixHQUFZK0wsU0FBU25NLFFBQWM7QUFDckMsa0JBQU13SSxLQUFTcEksR0FBWThCO0FBRzNCLGtCQUFJc0csT0FBQUEsQ0FBWUEsR0FBT25HLFFBQVFzVixXQUFBQSxDQUFXblAsR0FBT25HLFFBQVFzVixRQUFRclYsU0FDL0Q7WUFFSixXQUVTbEMsR0FBWStMLFNBQVNuTSxVQUFVLEVBQ3RDO0FBR0YsZ0JBQUEsQ0FBS0ksR0FBWXNjLFlBQUFBLEtBQWlCbGEsT0FBZ0JwQyxHQUFZb0MsWUFDNUQsUUFBT3BDO1VBRVg7QUFFQSxpQkFBTztRQUNULEVBQUE7QUFHRixpQkFBU214QixHQUFhbnhCLElBQTBCNEwsSUFBQUE7QUFDOUMsaUJBQU81TCxHQUFZK0wsU0FBU3RCLEtBQUssU0FBQWdNLElBQUFBO0FBQUssbUJBQUFBLEdBQUZ2VixPQUFnQjBLO1VBQUFBLENBQUFBO1FBQ3REO0FBRUEsWUFBQTZsQixLQUFlZCxJQzFHVGUsS0FBYyxDQUNsQixlQUNBLGVBQ0EsYUFDQSxpQkFDQSxpQkFDQSxZQUFBO0FBaUdGLGlCQUFTQyxHQUFpQjNVLElBQWdCNWIsSUFBQUE7QUFDeEMsaUJBQU8sU0FBVThLLElBQUFBO0FBQ2YsZ0JBQU1zVCxLQUFlcGUsR0FBTW9lLGFBQWF2TyxNQUVsQzdPLEtBQWN1VCxHQUE0QnpKLEVBQUFBLEdBQ2hEMGxCLEtBQXNDamMsR0FBNkJ6SixFQUFBQSxHQUE1RCtOLEtBQVcyWCxHQUFBLENBQUEsR0FBRXhJLEtBQWN3SSxHQUFBLENBQUEsR0FDNUIxVCxLQUFpQixDQUFBO0FBRXZCLGdCQUFJLFNBQVM3ZSxLQUFLNk0sR0FBTXBKLElBQUFBLEdBQU87QUFDN0IxQixjQUFBQSxHQUFNeXdCLGdCQUFnQnp3QixHQUFNOFosSUFBQUE7QUFFNUIsdUJBQUFySixLQUFBLEdBQUFpZ0IsS0FDMkI1bEIsR0FBTUUsZ0JBQWN5RixLQUFBaWdCLEdBQUFseUIsUUFBQWlTLE1BQUU7QUFBNUMsb0JBQU1rZ0IsS0FBWUQsR0FBQWpnQixFQUFBQSxHQUdmbWdCLEtBQStCLEVBQ25DMW1CLFNBSGN5bUIsSUFJZG5tQixXQUhnQitKLEdBREZvYyxFQUFBQSxHQUtkM3ZCLGFBQUFBLElBQ0E0ZixXQUFXOVYsR0FBTXBKLE1BQ2pCbVgsYUFBQUEsSUFDQW1QLGdCQUFBQSxJQUNBaG9CLE9BQUFBLEdBQUFBLEdBRUlwQixLQUFjaXlCLEdBQWVELEVBQUFBO0FBRW5DOVQsZ0JBQUFBLEdBQVF2VyxLQUFLLENBQ1hxcUIsR0FBYzFtQixTQUNkMG1CLEdBQWMvWCxhQUNkK1gsR0FBYzVJLGdCQUNkcHBCLEVBQUFBLENBQUFBO2NBRUo7WUFDRixPQUFPO0FBQ0wsa0JBQUlreUIsS0FBQUE7QUFFSixrQkFBQSxDQUFLcnVCLEVBQVFJLHdCQUF3QixRQUFRNUUsS0FBSzZNLEdBQU1wSixJQUFBQSxHQUFPO0FBRTdELHlCQUFTZ00sS0FBSSxHQUFHQSxLQUFJMFEsR0FBYTVmLFVBQUFBLENBQVdzeUIsSUFBZ0JwakIsS0FDMURvakIsQ0FBQUEsS0FBaUQsWUFBaEMxUyxHQUFhMVEsRUFBQUEsRUFBRzFNLGVBQTJCb2QsR0FBYTFRLEVBQUFBLEVBQUczTTtBQUs5RSt2QixnQkFBQUEsS0FDRUEsTUFDQTl3QixHQUFNOFosSUFBQUEsSUFBUTlaLEdBQU15d0IsZ0JBQWdCLE9BRWhCLE1BQXBCM2xCLEdBQU1oQjtjQUNWO0FBRUEsa0JBQUEsQ0FBS2duQixJQUFnQjtBQUNuQixvQkFBTUYsS0FBZ0IsRUFDcEIxbUIsU0FBU1ksSUFDVE4sV0FBVytKLEdBQTBCekosRUFBQUEsR0FDckM5SixhQUFBQSxJQUNBNGYsV0FBVzlWLEdBQU1wSixNQUNqQnNtQixnQkFBQUEsSUFDQW5QLGFBQUFBLElBQ0E3WSxPQUFBQSxHQUFBQSxHQUdJcEIsS0FBY2l5QixHQUFlRCxFQUFBQTtBQUVuQzlULGdCQUFBQSxHQUFRdlcsS0FBSyxDQUNYcXFCLEdBQWMxbUIsU0FDZDBtQixHQUFjL1gsYUFDZCtYLEdBQWM1SSxnQkFDZHBwQixFQUFBQSxDQUFBQTtjQUVKO1lBQ0Y7QUFFQSxxQkFBQXlsQixLQUFBQSxHQUFBQSxLQUNrRXZILEdBQU90ZSxRQUFBNmxCLE1BQUU7QUFBdEUsa0JBQUEwTSxLQUE2RGpVLEdBQU91SCxFQUFBQSxHQUE3RG5hLEtBQU82bUIsR0FBQSxDQUFBLEdBQUVsWSxLQUFXa1ksR0FBQSxDQUFBLEdBQUUvSSxLQUFjK0ksR0FBQSxDQUFBO0FBQWFBLGNBQUFBLEdBQUEsQ0FBQSxFQUMvQ25WLEVBQUFBLEVBQVExUixJQUFTWSxJQUFPK04sSUFBYW1QLEVBQUFBO1lBQ25EO1VBQUE7UUFFSjtBQUVBLGlCQUFTNkksR0FBZUQsSUFBQUE7QUFDdEIsY0FBUTV2QixLQUF1QjR2QixHQUF2QjV2QixhQUFhaEIsS0FBVTR3QixHQUFWNXdCLE9BR2ZvbkIsS0FBWSxFQUFFeG9CLGFBREsyd0IsR0FBTzV0QixPQUFPaXZCLEVBQUFBLEdBQ1lBLGVBQUFBLEdBQUFBO0FBSW5ELGlCQUZBNXdCLEdBQU1pUCxLQUFLLHFCQUFxQm1ZLEVBQUFBLEdBRXpCQSxHQUFVeG9CLGVBQWVvQixHQUFNb2UsYUFBYTRTLElBQUksRUFBRWh3QixhQUFBQSxHQUFBQSxDQUFBQTtRQUMzRDtBQUVBLGlCQUFTaXdCLEdBQVd4eEIsSUFFbEJ5eEIsSUFBQUE7QUFDQSxjQUZFNVEsS0FBRzdnQixHQUFINmdCLEtBQUt0Z0IsS0FBS1AsR0FBTE8sT0FBT2EsS0FBT3BCLEdBQVBvQixTQUlJNmYsS0FFZDFnQixHQUZGb2UsYUFBZ0JzQyxXQUNoQmhTLEtBQ0UxTyxHQURGME8sUUFFSXlpQixLQUFjemlCLEdBQU93aUIsRUFBQUE7QUFPM0IsbUJBQVd0USxNQUxQNWdCLEdBQU15QyxRQUFRTSxTQUFBQSxDQUFVbEMsR0FBUTZOLFdBQ2xDN04sR0FBUTZOLFNBQVMsRUFBRStSLFNBQUFBLE1BQVMsSUFJTi9SLEdBQU9tZixnQkFDN0JzRCxDQUFBQSxHQUFZN1EsSUFBS00sSUFBV2xTLEdBQU80ZixnQkFBQUEsR0FDbkM2QyxHQUFZN1EsSUFBS00sSUFBV2xTLEdBQU82ZixvQkFBQUEsSUFBb0I7QUFHWCxtQkFBeEM2QyxLQUFldndCLE1BQVdBLEdBQVE2TixRQUFNMmlCLEtBQUFBLEdBQUFBLEtBRWIzUSxHQUFTbGlCLFFBQUE2eUIsTUFBRTtBQUF2QyxnQkFBQUMsS0FBNEI1USxHQUFTMlEsRUFBQUE7QUFDeENGLFlBQUFBLEdBQVk3USxJQURHZ1IsR0FBSjV2QixNQUFjNHZCLEdBQVIzUSxVQUNnQnlRLEVBQUFBO1VBQ25DO1FBQ0Y7QUFFQSxZQUFNaFQsS0FBdUIsRUFDM0J0ZSxJQUFJLHFCQUNKQyxTQXRORixTQUFpQkMsSUFBQUE7QUFDWSxtQkFBckJRLEtBQVksQ0FBQSxHQUFTK0gsS0FBQUEsR0FBQUEsS0FFTituQixHQUFXOXhCLFFBQUErSixNQUFFO0FBQTdCLGdCQUFNcVQsS0FBVTBVLEdBQVcvbkIsRUFBQUE7QUFDOUIvSCxZQUFBQSxHQUFVb2IsRUFBQUEsSUFBVTJVLEdBQWlCM1UsSUFBUTViLEVBQUFBO1VBQy9DO0FBRUEsY0FDSTBnQixJQURFbGQsS0FBY2YsRUFBUWU7QUFtRTVCLG1CQUFTK3RCLEtBQUFBO0FBQ1AscUJBQUFwaUIsS0FBQTJnQixHQUFBQSxLQUMwQjl2QixHQUFNb2UsYUFBYXZPLE1BQUlWLEtBQUEyZ0IsR0FBQXR4QixRQUFBMlEsTUFBRTtBQUE5QyxrQkFBTXZRLEtBQVdreEIsR0FBQTNnQixFQUFBQTtBQUNwQixrQkFBS3ZRLEdBQVltQyxpQkFBNkMsWUFBNUJuQyxHQUFZb0MsZUFBQUEsQ0FBMkJwQyxHQUFZZ2dCLGFBVXBGLFVBTkR4VixLQUFBQSxXQUFBQTtBQUNLLG9CQUFNYyxLQUFPc25CLEdBQUFwaEIsRUFBQUE7QUFDWHBRLGdCQUFBQSxHQUFNOHRCLFVBQVV6a0IsS0FBSyxTQUFBMUssSUFBQUE7QUFBTSx5QkFBT3FGLEVBQVByRixHQUFIMmhCLEtBQTRCcFcsR0FBUXdjLFVBQUFBO2dCQUFXLENBQUEsS0FFMUU5bkIsR0FBWXNwQixjQUFjaGUsR0FBUUEsU0FBU0EsR0FBUVksS0FBQUE7Y0FBQUEsR0FFdERzRixLQUFBLEdBQUFvaEIsS0FMcUI1eUIsR0FBWStMLFVBQVF5RixLQUFBb2hCLEdBQUFoekIsUUFBQTRSLEtBQUFoSCxDQUFBQSxHQUFBQTtZQU01QztVQUNGO0FBQUEsV0E5RUVzWCxLQURFN2UsRUFBV1MsZUFDRCxDQUNWLEVBQUVaLE1BQU04QixHQUFZRSxNQUFNaWQsVUFBVTRRLEdBQUFBLEdBQ3BDLEVBQUU3dkIsTUFBTThCLEdBQVlFLE1BQU1pZCxVQUFVbmdCLEdBQVVpeEIsWUFBQUEsR0FDOUMsRUFBRS92QixNQUFNOEIsR0FBWWhFLE1BQU1taEIsVUFBVW5nQixHQUFVa3hCLFlBQUFBLEdBQzlDLEVBQUVod0IsTUFBTThCLEdBQVlDLElBQUlrZCxVQUFVbmdCLEdBQVVteEIsVUFBQUEsR0FDNUMsRUFBRWp3QixNQUFNOEIsR0FBWUssUUFBUThjLFVBQVVuZ0IsR0FBVW14QixVQUFBQSxDQUFBQSxJQUd0QyxDQUNWLEVBQUVqd0IsTUFBTSxhQUFhaWYsVUFBVW5nQixHQUFVaXhCLFlBQUFBLEdBQ3pDLEVBQUUvdkIsTUFBTSxhQUFhaWYsVUFBVW5nQixHQUFVa3hCLFlBQUFBLEdBQ3pDLEVBQUVod0IsTUFBTSxXQUFXaWYsVUFBVW5nQixHQUFVbXhCLFVBQUFBLEdBRXZDLEVBQUVqd0IsTUFBTSxjQUFjaWYsVUFBVTRRLEdBQUFBLEdBQ2hDLEVBQUU3dkIsTUFBTSxjQUFjaWYsVUFBVW5nQixHQUFVaXhCLFlBQUFBLEdBQzFDLEVBQUUvdkIsTUFBTSxhQUFhaWYsVUFBVW5nQixHQUFVa3hCLFlBQUFBLEdBQ3pDLEVBQUVod0IsTUFBTSxZQUFZaWYsVUFBVW5nQixHQUFVbXhCLFVBQUFBLEdBQ3hDLEVBQUVqd0IsTUFBTSxlQUFlaWYsVUFBVW5nQixHQUFVbXhCLFVBQUFBLENBQUFBLEdBSXJDcHJCLEtBQUssRUFDYjdFLE1BQU0sUUFDTmlmLFVBQVEsU0FBQzdWLElBQUFBO0FBQU8scUJBQUFrRixLQUFBbU8sR0FBQUEsS0FDWW5lLEdBQU1vZSxhQUFhdk8sTUFBSUcsS0FBQW1PLEdBQUEzZixRQUFBd1IsTUFBRTtBQUE3Qm1PLGNBQUFBLEdBQUFuTyxFQUFBQSxFQUNSNGhCLGFBQWE5bUIsRUFBQUE7WUFDM0I7VUFDRixFQUFBLENBQUEsR0FJRjlLLEdBQU15d0IsZ0JBQWdCLEdBRXRCendCLEdBQU04bUIsY0FBVyxTQUFBK0ssSUFBQUE7QUFBQS9qQixjQUFBZ2tCLElBQUFELEVBQUFBO0FBQUEsZ0JBQUE5akIsS0FBQUMsRUFBQThqQixFQUFBQTtBQUFBLHFCQUFBQSxLQUFBQTtBQUFBLHFCQUFBL2tCLEVBQUFBLE1BQUEra0IsRUFBQUEsR0FBQS9qQixHQUFBMUcsTUFBQWhHLE1BQUE0RyxTQUFBQTtZQUFBO0FBV2QsbUJBWGNrRixFQUFBMmtCLElBQUEsQ0FBQSxFQUFBMWtCLEtBQUEsd0JBQUEzRCxLQUNmLFdBQUE7QUFDRSxxQkFBT3pKLEdBQU1vZSxhQUFhMEo7WUFDM0IsR0FBQXBlLEtBRUQsU0FBeUJqRCxJQUFBQTtBQUN2QnpHLGNBQUFBLEdBQU1vZSxhQUFhMEosdUJBQXVCcmhCO1lBQzVDLEVBQUEsR0FBQyxFQUFBMkcsS0FBQSxRQUFBM0csT0FFRCxXQUFBO0FBQ0UscUJBQU96RyxHQUFNOFosSUFBQUE7WUFDZixFQUFBLENBQUEsQ0FBQSxHQUFDZ1k7VUFBQSxFQVhxREMsRUFBQUEsR0FjeEQveEIsR0FBTW9lLGVBQWUsRUFFbkJ2TyxNQUFNLENBQUEsR0FDTm1oQixLQUFHLFNBQXVCbndCLElBQUFBO0FBQ3hCQSxZQUFBQSxHQUFRa21CLFlBQVksU0FBQ2pvQixJQUFNMkIsSUFBQUE7QUFBRyxxQkFBS1QsR0FBTWlQLEtBQUtuUSxJQUFNMkIsRUFBQUE7WUFBSTtBQUV4RCxnQkFBTTdCLEtBQWMsSUFBSW9CLEdBQU04bUIsWUFBZWptQixFQUFBQTtBQUc3QyxtQkFEQWIsR0FBTW9lLGFBQWF2TyxLQUFLdEosS0FBSzNILEVBQUFBLEdBQ3RCQTtVQUNSLEdBQ0Q0QixXQUFBQSxJQUNBa2dCLFdBQUFBLElBQ0FvSCxzQkFBc0IsRUFBQSxHQW9CeEI5bkIsR0FBTWtULFVBQVVpTixFQUFBQTtRQUNsQixHQTJIRTNmLFdBQVcsRUFDVCxzQkFBc0IsU0FBQ0MsSUFBQUE7QUFBRyxpQkFBS3d3QixHQUFZeHdCLElBQUssS0FBQTtRQUFNLEdBQ3RELHlCQUF5QixTQUFDQSxJQUFBQTtBQUFHLGlCQUFLd3dCLEdBQVl4d0IsSUFBSyxRQUFBO1FBQVMsR0FDNUQsc0JBQXNCLFNBQUFvUyxJQUFtQjdTLElBQUFBO0FBRXZDLG1CQUZ1QlUsS0FBWW1TLEdBQVpuUyxjQUVkZ04sS0FBSTFOLEdBQU1vZSxhQUFhdk8sS0FBS3JSLFNBQVMsR0FBR2tQLE1BQUssR0FBR0EsTUFBSztBQUM1RCxnQkFBTTlPLEtBQWNvQixHQUFNb2UsYUFBYXZPLEtBQUtuQyxFQUFBQTtBQUV4QzlPLFlBQUFBLEdBQVk4QixpQkFBaUJBLE9BSWpDOUIsR0FBWTJiLEtBQUFBLEdBQ1p2YSxHQUFNaVAsS0FBSyx3QkFBd0IsRUFBRXJRLGFBQUFBLEdBQUFBLENBQUFBLEdBQ3JDQSxHQUFZb3pCLFFBQUFBLEdBRVJoeUIsR0FBTW9lLGFBQWF2TyxLQUFLclIsU0FBUyxLQUNuQ3dCLEdBQU1vZSxhQUFhdk8sS0FBS3BSLE9BQU9pUCxJQUFHLENBQUE7VUFFdEM7UUFDRixFQUFBLEdBRUZ1akIsYUFBQUEsSUFDQVYsa0JBQUFBLElBQ0FELGFBQUFBLEdBQUFBLEdBR0YyQixLQUFlN1QsSUNoUUo4VCxLQUFBQSxTQUFBQSxJQUFBQTtBQUFXLGlCQUFYQSxHQUFBQSxHQUFXLEtBQUEsQ0FBQSxJQUFBLE1BQVhBLEdBQUFBLEdBQVcsTUFBQSxDQUFBLElBQUEsT0FBWEE7UUFBVyxFQUFYQSxNQUFXLENBQUEsQ0FBQSxHQWlCVGh5QixLQUFZLFdBQUE7QUFrQnZCLG1CQUFBQSxHQUNFOEcsSUFDQW5HLElBQ0FzeEIsSUFDQUMsSUFBQUE7QUFDQXJsQixjQUFBQSxNQUFBN00sRUFBQUEsR0FBQW1CLEtBZE8yRixTQUFBQSxRQUNUM0YsS0FBMEJSLFVBQUFBLFFBQzFCUSxLQUEwQmd4QixXQUFBQSxRQUMxQmh4QixLQUEwQnFOLFNBQVMsSUFBSW1lLE1BQ3ZDeHJCLEtBQTBCaXhCLFdBQUFBLFFBQzFCanhCLEtBQTBCa3hCLE9BQUFBLFFBQzFCbHhCLEtBQTBCbXhCLE9BQUFBLFFBQzFCbnhCLEtBQTBCb3hCLGVBQUFBLFFBUXhCcHhCLEtBQUtneEIsV0FBV3h4QixHQUFRWixTQUN4Qm9CLEtBQUsyRixTQUFTQSxJQUNkM0YsS0FBS2l4QixXQUFXenhCLEdBQVFzdEIsV0FBV2dFLElBQ25DOXdCLEtBQUtreEIsT0FBT3AxQixFQUFVcUosRUFBWVEsRUFBQUEsSUFBVTNGLEtBQUtpeEIsV0FBV3RyQixFQUFBQSxHQUM1RDNGLEtBQUtteEIsT0FBT254QixLQUFLa3hCLEtBQUt4MUIsVUFDdEJzRSxLQUFLb3hCLGVBQWVMLElBRXBCL3dCLEtBQUtxSSxJQUFJN0ksRUFBQUE7VUFDWDtBQWlhQyxpQkFqYUFzTSxFQUFBak4sSUFBQSxDQUFBLEVBQUFrTixLQUFBLGFBQUEzRCxLQS9CZ0IsV0FBQTtBQUNmLG1CQUFPLEVBQ0xvVixNQUFNLENBQUUsR0FDUnBELFdBQVcsQ0FBRSxHQUNieGIsU0FBUyxDQUFDLEVBQUE7VUFFZCxFQUFBLEdBQUMsRUFBQW1OLEtBQUEsZUFBQTNHLE9BMkJELFNBQVltQixJQUF3Qm1aLElBQUFBO0FBY2xDLG1CQWJJdGpCLEVBQUdELEtBQUt1akIsR0FBTzJSLE9BQUFBLEtBQ2pCcnhCLEtBQUtzUyxHQUFFLEdBQUEvSyxPQUFJaEIsSUFBbUJtWixPQUFBQSxHQUFBQSxHQUFPMlIsT0FBQUEsR0FFbkNqMUIsRUFBR0QsS0FBS3VqQixHQUFPNFIsTUFBQUEsS0FDakJ0eEIsS0FBS3NTLEdBQUUsR0FBQS9LLE9BQUloQixJQUFrQm1aLE1BQUFBLEdBQUFBLEdBQU80UixNQUFBQSxHQUVsQ2wxQixFQUFHRCxLQUFLdWpCLEdBQU82UixLQUFBQSxLQUNqQnZ4QixLQUFLc1MsR0FBRSxHQUFBL0ssT0FBSWhCLElBQWlCbVosS0FBQUEsR0FBQUEsR0FBTzZSLEtBQUFBLEdBRWpDbjFCLEVBQUdELEtBQUt1akIsR0FBTzhSLGNBQUFBLEtBQ2pCeHhCLEtBQUtzUyxHQUFFLEdBQUEvSyxPQUFJaEIsSUFBMEJtWixjQUFBQSxHQUFBQSxHQUFPOFIsY0FBQUEsR0FHdkN4eEI7VUFDVCxFQUFBLEdBQUMsRUFBQStMLEtBQUEsNEJBQUEzRyxPQUVELFNBQXlCbUIsSUFBd0IyRyxJQUE2QnRQLElBQUFBO0FBQTRCLGdCQUFBNnpCLElBQUEza0IsS0FBQTlNLE1BQ2xHMHhCLEtBQWVELFNBQUhBLEtBQUl6eEIsS0FBS2d4QixTQUFTL3hCLElBQUlzSCxFQUFBQSxLQUFBQSxTQUFuQmtyQixHQUNqQnJ4QixpQkFDRXVHLEtBQVMsU0FBQ3RHLElBQUFBO0FBQVksc0JBQ1QsUUFBaEJxeEIsTUFBd0JBLEdBQWFyeEIsRUFBQUEsTUFBVW1mLEdBQWlCbmYsSUFBTXlNLEdBQUtra0IsUUFBQUE7WUFBUztBQUFBLGFBRW5GNTBCLEVBQUdjLE1BQU1nUSxFQUFBQSxLQUFTOVEsRUFBR0gsT0FBT2lSLEVBQUFBLE1BQzlCbE4sS0FBSzJ4QixPQUFPZCxHQUFZZSxLQUFLcnJCLElBQVkyRyxJQUFBQSxRQUFpQnZHLEVBQUFBLElBR3hEdkssRUFBR2MsTUFBTVUsRUFBQUEsS0FBUXhCLEVBQUdILE9BQU8yQixFQUFBQSxNQUM3Qm9DLEtBQUsyeEIsT0FBT2QsR0FBWWdCLElBQUl0ckIsSUFBWTNJLElBQUFBLFFBQWdCK0ksRUFBQUE7VUFFNUQsRUFBQSxHQUFDLEVBQUFvRixLQUFBLGdCQUFBM0csT0FFRCxTQUFhbUIsSUFBd0IvRyxJQUFBQTtBQUNuQyxnQkFBTVYsS0FBV2tCLEtBQUs0akI7QUFHdEIscUJBQVdrTyxNQUFldHlCLElBQVM7QUFDakMsa0JBQU11eUIsS0FBYUQsSUFDYnRyQixLQUFnQnhHLEtBQUtSLFFBQVErRyxFQUFBQSxHQUM3QnlyQixLQUFtQnh5QixHQUFRdXlCLEVBQUFBO0FBR2QsOEJBQWZBLE1BQ0YveEIsS0FBS2l5Qix5QkFBeUIxckIsSUFBWUMsR0FBY3JILFdBQVc2eUIsRUFBQUEsR0FJakU1MUIsRUFBR2MsTUFBTTgwQixFQUFBQSxJQUNUeHJCLEdBQWN1ckIsRUFBQUEsSUFBc0Jya0IsR0FBU3NrQixFQUFBQSxJQUd4QzUxQixFQUFHVyxZQUFZaTFCLEVBQUFBLEtBRXBCeHJCLEdBQWN1ckIsRUFBQUEsSUFBc0J6c0IsRUFDcENrQixHQUFjdXJCLEVBQUFBLEtBQWdCLENBQUEsR0FDOUJwUyxHQUFNcVMsRUFBQUEsQ0FBQUEsR0FLTjUxQixFQUFHSCxPQUFPNkMsR0FBU3NiLFVBQVUyWCxFQUFBQSxDQUFBQSxLQUM3QixhQUFjanpCLEdBQVNzYixVQUFVMlgsRUFBQUEsTUFFL0J2ckIsR0FBY3VyQixFQUFBQSxFQUFvQnR5QixVQUFBQSxVQUFVdXlCLEdBQVl2eUIsWUFJckRyRCxFQUFHSSxLQUFLdzFCLEVBQUFBLEtBQWdCNTFCLEVBQUdILE9BQU82QyxHQUFTc2IsVUFBVTJYLEVBQUFBLENBQUFBLElBQzFEdnJCLEdBQWN1ckIsRUFBQUEsRUFBb0J0eUIsVUFBVXV5QixLQUk1Q3hyQixHQUFjdXJCLEVBQUFBLElBQXNCQztZQUUxQztVQUNGLEVBQUEsR0FFQSxFQUFBam1CLEtBQUEsV0FBQTNHLE9BT0EsU0FBUTFJLElBQUFBO0FBT04sbUJBTkFBLEtBQVVBLE9BQVlOLEVBQUdNLFFBQVFzRCxLQUFLMkYsTUFBQUEsSUFBVTNGLEtBQUsyRixTQUFTLE9BRTFEdkosRUFBR0ssT0FBT3VELEtBQUsyRixNQUFBQSxNQUNqQmpKLEtBQVVBLE1BQVdzRCxLQUFLaXhCLFNBQVM1ckIsY0FBY3JGLEtBQUsyRixNQUFBQSxJQUdqRG5CLEVBQWU5SCxFQUFBQTtVQUN4QixFQUFBLEdBRUEsRUFBQXFQLEtBQUEsZUFBQTNHLE9BVUEsU0FBWTBOLElBQUFBO0FBQXFDLGdCQUFBM0YsS0FBQW5OO0FBQy9DLG1CQUFJNUQsRUFBR0QsS0FBSzJXLEVBQUFBLEtBQ1Y5UyxLQUFLNEYsVUFBVSxTQUFDbEosSUFBQUE7QUFDZCxrQkFBTXdKLEtBQU9aLEVBQU8sQ0FBQSxHQUFJd04sR0FBUTlNLE1BQU1tSCxJQUFNelEsRUFBQUEsQ0FBQUE7QUFPNUMscUJBTE8sV0FBV3dKLE9BQ2hCQSxHQUFLNUIsUUFBUTRCLEdBQUsvQixRQUFRK0IsR0FBS2hDLE1BQy9CZ0MsR0FBSzNCLFNBQVMyQixHQUFLN0IsU0FBUzZCLEdBQUs5QixNQUc1QjhCO1lBQUFBLEdBR0ZsRyxRQUdPLFNBQVo4UyxNQUFBQSxPQUNNOVMsS0FBOEI0RixTQUUvQjVGLFFBR0ZBLEtBQUs0RjtVQUNkLEVBQUEsR0FFQSxFQUFBbUcsS0FBQSxxQkFBQTNHLE9BQ0EsU0FBa0Iyc0IsSUFBMkJ2ZSxJQUFBQTtBQUMzQyxnQkFBSXJPLEVBQVlxTyxFQUFBQSxLQUFhcFgsRUFBR0gsT0FBT3VYLEVBQUFBLEdBQVc7QUFHaEQsdUJBQVczVCxNQUZURyxLQUFLUixRQUFRdXlCLEVBQUFBLElBQXNCdmUsSUFFaEJ4VCxLQUFLZ3hCLFNBQVMveEIsSUFDL0JlLE1BQUtSLFFBQVFLLEVBQUFBLEVBQW1Da3lCLEVBQUFBLElBQWN2ZTtBQUdsRSxxQkFBT3hUO1lBQ1Q7QUFFQSxtQkFBT0EsS0FBS1IsUUFBUXV5QixFQUFBQTtVQUN0QixFQUFBLEdBRUEsRUFBQWhtQixLQUFBLFVBQUEzRyxPQVVBLFNBQU9vTyxJQUFBQTtBQUNMLG1CQUFPeFQsS0FBS21iLGtCQUFrQixVQUFVM0gsRUFBQUE7VUFDMUMsRUFBQSxHQUVBLEVBQUF6SCxLQUFBLGVBQUEzRyxPQVVBLFNBQVlvTyxJQUFBQTtBQUNWLG1CQUFpQixXQUFiQSxNQUFvQyxhQUFiQSxNQUN6QnhULEtBQUtSLFFBQVFtTCxjQUFjNkksSUFFcEJ4VCxRQUdGQSxLQUFLUixRQUFRbUw7VUFDdEIsRUFBQSxHQUVBLEVBQUFvQixLQUFBLGtCQUFBM0csT0FDQSxXQUFBO0FBQ0UsZ0JBQVFPLEtBQVczRixLQUFYMkY7QUFFUixtQkFBSXZKLEVBQUdLLE9BQU9rSixFQUFBQSxJQUNMdXNCLE1BQU0vbEIsS0FBS25NLEtBQUtpeEIsU0FBU2tCLGlCQUFpQnhzQixFQUFBQSxDQUFBQSxJQUcvQ3ZKLEVBQUdELEtBQUt3SixFQUFBQSxLQUFZQSxHQUFla0osaUJBQzdCbEosR0FBZWtKLGVBQUFBLElBR2xCelMsRUFBR00sUUFBUWlKLEVBQUFBLElBQVUsQ0FBQ0EsRUFBQUEsSUFBVSxDQUFBO1VBQ3pDLEVBQUEsR0FFQSxFQUFBb0csS0FBQSxXQUFBM0csT0FNQSxXQUFBO0FBQ0UsbUJBQU9wRixLQUFLaXhCO1VBQ2QsRUFBQSxHQUFDLEVBQUFsbEIsS0FBQSxhQUFBM0csT0FFRCxTQUFVMUksSUFBQUE7QUFDUixtQkFBT3NELEtBQUtpeEIsYUFBYXYwQixHQUFRZCxpQkFBaUIrRyxFQUFhM0MsS0FBS2l4QixVQUFVdjBCLEVBQUFBO1VBQ2hGLEVBQUEsR0FFQSxFQUFBcVAsS0FBQSxtQkFBQTNHLE9BQ0EsU0FFRTVGLElBQ0E0eUIsSUFDQTVhLElBQUFBO0FBRUEsbUJBQUEsQ0FDR3hYLEtBQUtxeUIsV0FBVzd5QixHQUFRMGIsWUFBWWtYLElBQVk1YSxFQUFBQSxLQUNqRHhYLEtBQUtzeUIsVUFBVTl5QixHQUFRNGIsV0FBV2dYLElBQVk1YSxFQUFBQTtVQUVsRCxFQUFBLEdBRUEsRUFBQXpMLEtBQUEsYUFBQTNHLE9BQ0EsU0FBOEJnVyxJQUFvQ2dYLElBQWtCMTFCLElBQUFBO0FBQ2xGLG1CQUFBLENBQUswZSxNQUFBQSxDQUFBQSxDQUlBaGYsRUFBR00sUUFBUUEsRUFBQUEsTUFJWk4sRUFBR0ssT0FBTzJlLEVBQUFBLElBQ0x6WCxFQUFZakgsSUFBUzBlLElBQVdnWCxFQUFBQSxJQUFBQSxDQUFBQSxDQUM5QmgyQixFQUFHTSxRQUFRMGUsRUFBQUEsS0FDYnpZLEVBQWF5WSxJQUFXMWUsRUFBQUE7VUFJbkMsRUFBQSxHQUVBLEVBQUFxUCxLQUFBLGNBQUEzRyxPQUNBLFNBQStCOFYsSUFBcUNrWCxJQUFrQjExQixJQUFBQTtBQUNwRixtQkFBQSxFQUFBLENBQUt3ZSxNQUFBQSxDQUFlOWUsRUFBR00sUUFBUUEsRUFBQUEsT0FJM0JOLEVBQUdLLE9BQU95ZSxFQUFBQSxJQUNMdlgsRUFBWWpILElBQVN3ZSxJQUFZa1gsRUFBQUEsSUFBQUEsQ0FBQUEsQ0FDL0JoMkIsRUFBR00sUUFBUXdlLEVBQUFBLEtBQ2J2WSxFQUFhdVksSUFBWXhlLEVBQUFBO1VBSXBDLEVBQUEsR0FFQSxFQUFBcVAsS0FBQSxRQUFBM0csT0FRQSxTQUFpQy9HLElBQUFBO0FBRy9CLG1CQUZBMkIsS0FBS3FOLE9BQU9PLEtBQUt2UCxFQUFBQSxHQUVWMkI7VUFDVCxFQUFBLEdBRUEsRUFBQStMLEtBQUEsVUFBQTNHLE9BQ0EsU0FDRW1WLElBQ0FnWSxJQUNBQyxJQUNBaHpCLElBQ0FtSCxJQUFBQTtBQUVJdkssY0FBR0gsT0FBT3MyQixFQUFBQSxLQUFBQSxDQUFhbjJCLEVBQUdjLE1BQU1xMUIsRUFBQUEsTUFDbEMveUIsS0FBVWd6QixJQUNWQSxLQUFjO0FBR2hCLGdCQUFNcnpCLEtBQVk0UyxFQUFtQndnQixJQUFTQyxJQUFhN3JCLEVBQUFBO0FBRTNELHFCQUFTdEcsTUFBUWxCLElBQVc7QUFDYiwwQkFBVGtCLE9BQ0ZBLEtBQU9lLEVBQVFxQjtBQUNoQix1QkFBQXlFLEtBQUF1ckIsR0FBQUEsS0FFc0J0ekIsR0FBVWtCLEVBQUFBLEdBQUs2RyxLQUFBdXJCLEdBQUF0MUIsUUFBQStKLE1BQUU7QUFBbkMsb0JBQU1vWSxLQUFRbVQsR0FBQXZyQixFQUFBQTtBQUVic1ksbUJBQWlCbmYsSUFBTUwsS0FBS2d4QixRQUFBQSxJQUM5Qmh4QixLQUFLcU4sT0FBT2tOLE9BQVdzVyxHQUFZZ0IsS0FBSyxPQUFPLEtBQUEsRUFBT3h4QixJQUFNaWYsRUFBQUEsSUFHckRsakIsRUFBR0ssT0FBT3VELEtBQUsyRixNQUFBQSxJQUN0QjNGLEtBQUtveEIsYUFBYTdXLE9BQVdzVyxHQUFZZ0IsS0FBSyxnQkFBZ0IsZ0JBQUEsRUFDNUQ3eEIsS0FBSzJGLFFBQ0wzRixLQUFLaXhCLFVBQ0w1d0IsSUFDQWlmLElBQ0E5ZixFQUFBQSxJQUtGUSxLQUFLb3hCLGFBQWE3VyxPQUFXc1csR0FBWWdCLEtBQUssUUFBUSxRQUFBLEVBQ3BEN3hCLEtBQUsyRixRQUNMdEYsSUFDQWlmLElBQ0E5ZixFQUFBQTtjQUdOO1lBQ0Y7QUFFQSxtQkFBT1E7VUFDVCxFQUFBLEdBRUEsRUFBQStMLEtBQUEsTUFBQTNHLE9BVUEsU0FBR3FtQixJQUFtQm5NLElBQXlCOWYsSUFBQUE7QUFDN0MsbUJBQU9RLEtBQUsyeEIsT0FBT2QsR0FBWWdCLElBQUlwRyxJQUFPbk0sSUFBVTlmLEVBQUFBO1VBQ3RELEVBQUEsR0FFQSxFQUFBdU0sS0FBQSxPQUFBM0csT0FVQSxTQUFJcW1CLElBQXVDbk0sSUFBeUI5ZixJQUFBQTtBQUNsRSxtQkFBT1EsS0FBSzJ4QixPQUFPZCxHQUFZZSxLQUFLbkcsSUFBT25NLElBQVU5ZixFQUFBQTtVQUN2RCxFQUFBLEdBRUEsRUFBQXVNLEtBQUEsT0FBQTNHLE9BTUEsU0FBSTVGLElBQUFBO0FBQ0YsZ0JBQU1WLEtBQVdrQixLQUFLNGpCO0FBUXRCLHFCQUFXOE8sTUFOTnQyQixFQUFHSCxPQUFPdUQsRUFBQUEsTUFDYkEsS0FBVSxDQUFBLElBR1ZRLEtBQUtSLFVBQWdDbWdCLEdBQU03Z0IsR0FBUzBlLElBQUFBLEdBRTVCeGQsS0FBS2d4QixTQUFTOXhCLFlBQVk7QUFDbEQsa0JBQU1xSCxLQUFhbXNCLElBQ2JDLEtBQWEzeUIsS0FBS2d4QixTQUFTOXhCLFdBQVdxSCxFQUFBQTtBQUU1Q3ZHLG1CQUFLUixRQUFRK0csRUFBQUEsSUFBYyxDQUFBLEdBQzNCdkcsS0FBS0MsYUFBYXNHLElBQVlqQixFQUFPQSxFQUFPLENBQUUsR0FBRXhHLEdBQVNzYixTQUFBQSxHQUFZdGIsR0FBU0YsUUFBUTJILEVBQUFBLENBQUFBLENBQUFBLEdBQ3BGdkcsS0FBSzJ5QixFQUFBQSxFQUFzQ256QixHQUFRK0csRUFBQUEsQ0FBQUE7WUFDdkQ7QUFFQSxxQkFBV3dZLE1BQVd2ZixHQUNKLGVBQVp1ZixLQUtBM2lCLEVBQUdELEtBQU02RCxLQUFhK2UsRUFBQUEsQ0FBQUEsS0FDdEIvZSxLQUFhK2UsRUFBQUEsRUFBU3ZmLEdBQVF1ZixFQUFBQSxDQUFBQSxJQUxoQy9lLEtBQUs0eUIsWUFBWXB6QixHQUFRb0csT0FBQUE7QUFTN0IsbUJBQU81RjtVQUNULEVBQUEsR0FFQSxFQUFBK0wsS0FBQSxTQUFBM0csT0FJQSxXQUFBO0FBQ0UsZ0JBQUloSixFQUFHSyxPQUFPdUQsS0FBSzJGLE1BQUFBLEVBRWpCLFVBQVd0RixNQUFRTCxLQUFLb3hCLGFBQWE1RSxnQkFHbkMsVUFGTXFHLEtBQVk3eUIsS0FBS294QixhQUFhNUUsZ0JBQWdCbnNCLEVBQUFBLEdBRTNDZ00sS0FBSXdtQixHQUFVMTFCLFNBQVMsR0FBR2tQLE1BQUssR0FBR0EsTUFBSztBQUM5QyxrQkFBQXltQixLQUF5Q0QsR0FBVXhtQixFQUFBQSxHQUEzQ3BKLEtBQVE2dkIsR0FBUjd2QixVQUFVNnBCLEtBQU9nRyxHQUFQaEcsU0FBUzN0QixLQUFTMnpCLEdBQVQzekI7QUFFdkI4RCxjQUFBQSxPQUFhakQsS0FBSzJGLFVBQVVtbkIsT0FBWTlzQixLQUFLaXhCLFlBQy9DNEIsR0FBVXoxQixPQUFPaVAsSUFBRyxDQUFBO0FBR3RCLHVCQUFTakYsS0FBSWpJLEdBQVVoQyxTQUFTLEdBQUdpSyxNQUFLLEdBQUdBLEtBQ3pDcEgsTUFBS294QixhQUFhL0QsZUFDaEJydEIsS0FBSzJGLFFBQ0wzRixLQUFLaXhCLFVBQ0w1d0IsSUFDQWxCLEdBQVVpSSxFQUFBQSxFQUFHLENBQUEsR0FDYmpJLEdBQVVpSSxFQUFBQSxFQUFHLENBQUEsQ0FBQTtZQUduQjtnQkFHRnBILE1BQUtveEIsYUFBYXhFLE9BQU81c0IsS0FBSzJGLFFBQVEsS0FBQTtVQUUxQyxFQUFBLENBQUEsQ0FBQSxHQUFDOUc7UUFBQSxFQWpjc0IsR0M1QlprMEIsS0FBZSxXQUFBO0FBVTFCLG1CQUFBQSxHQUFZcDBCLElBQUFBO0FBQWMsZ0JBQUFtTyxLQUFBOU07QUFBQTBMLGNBQUFBLE1BQUFxbkIsRUFBQUEsR0FUMUIveUIsS0FDQXdPLE9BQXVCLENBQUEsR0FBRXhPLEtBRXpCZ3pCLGNBRUksQ0FBQSxHQUFFaHpCLEtBRU5yQixRQUFBQSxRQUdFcUIsS0FBS3JCLFFBQVFBLElBQ2JBLEdBQU1zMEIsYUFBYSxFQUNqQixzQkFBc0IsU0FBQTMxQixJQUFBQTtBQUFzQixrQkFBbkIrQixLQUFZL0IsR0FBWitCLGNBQ2ZzRyxLQUFXdEcsR0FBWHNHLFFBQ0Z1dEIsS0FBd0M5MkIsRUFBR0ssT0FBT2tKLEVBQUFBLElBQ3BEbUgsR0FBS2ttQixZQUFZcnRCLEVBQUFBLElBQ2hCQSxHQUFlbUgsR0FBS25PLE1BQU1GLEVBQUFBLEdBRXpCa3ZCLEtBQWNqZ0IsR0FBY3dsQixJQUF1QixTQUFDN21CLElBQUFBO0FBQUMsdUJBQUtBLE9BQU1oTjtjQUFBQSxDQUFBQTtBQUN0RTZ6QixjQUFBQSxHQUFzQjkxQixPQUFPdXdCLElBQWEsQ0FBQTtZQUM1QyxFQUFBLENBQUE7VUFFSjtBQXlFQyxpQkF6RUE3aEIsRUFBQWluQixJQUFBLENBQUEsRUFBQWhuQixLQUFBLE9BQUEzRyxPQUVELFNBQUlPLElBQWdCbkcsSUFBQUE7QUFDbEJBLFlBQUFBLEtBQVU4RixFQUFPOUYsTUFBVyxDQUFBLEdBQUksRUFDOUJaLFNBQVNvQixLQUFLckIsTUFBTUMsUUFBQUEsQ0FBQUE7QUFFdEIsZ0JBQU1TLEtBQWUsSUFBSVcsS0FBS3JCLE1BQU1FLGFBQWE4RyxJQUFRbkcsSUFBU1EsS0FBS3JCLE1BQU1qRCxVQUFVc0UsS0FBS3JCLE1BQU0wTyxNQUFBQTtBQTRCbEcsbUJBMUJBck4sS0FBS3JCLE1BQU13MEIsWUFBWTl6QixHQUFhOHhCLElBQUFBLEdBQ3BDbnhCLEtBQUt3TyxLQUFLdEosS0FBSzdGLEVBQUFBLEdBRVhqRCxFQUFHSyxPQUFPa0osRUFBQUEsS0FDUDNGLEtBQUtnekIsWUFBWXJ0QixFQUFBQSxNQUNwQjNGLEtBQUtnekIsWUFBWXJ0QixFQUFBQSxJQUFVLENBQUEsSUFFN0IzRixLQUFLZ3pCLFlBQVlydEIsRUFBQUEsRUFBUVQsS0FBSzdGLEVBQUFBLE1BRXhCQSxHQUFhc0csT0FBZTNGLEtBQUtyQixNQUFNRixFQUFBQSxLQUMzQ3lKLE9BQU9DLGVBQWV4QyxJQUFRM0YsS0FBS3JCLE1BQU1GLElBQUksRUFDM0MyRyxPQUFPLENBQUEsR0FDUGtELGNBQUFBLEtBQWMsQ0FBQSxHQUloQjNDLEdBQWUzRixLQUFLckIsTUFBTUYsRUFBQUEsRUFBSXlHLEtBQUs3RixFQUFBQSxJQUd2Q1csS0FBS3JCLE1BQU1pUCxLQUFLLG9CQUFvQixFQUNsQ2pJLFFBQUFBLElBQ0FuRyxTQUFBQSxJQUNBSCxjQUFBQSxJQUNBL0QsS0FBSzBFLEtBQUtyQixNQUFNdXlCLEtBQUFBLENBQUFBLEdBR1g3eEI7VUFDVCxFQUFBLEdBQUMsRUFBQTBNLEtBQUEsZUFBQTNHLE9BRUQsU0FBWU8sSUFBZ0JuRyxJQUFBQTtBQUMxQixnQkFBTXN0QixLQUFXdHRCLE1BQVdBLEdBQVFzdEIsV0FBWTlzQixLQUFLckIsTUFBTWpELFVBQ3JEMDNCLEtBQWFoM0IsRUFBR0ssT0FBT2tKLEVBQUFBLEdBQ3ZCdXRCLEtBQXdDRSxLQUMxQ3B6QixLQUFLZ3pCLFlBQVlydEIsRUFBQUEsSUFDaEJBLEdBQWUzRixLQUFLckIsTUFBTUYsRUFBQUE7QUFFL0IsZ0JBQUt5MEIsR0FFTCxRQUFPeGxCLEdBQ0x3bEIsSUFDQSxTQUFDN3pCLElBQUFBO0FBQVkscUJBQ1hBLEdBQWE0eEIsYUFBYW5FLE9BQVlzRyxNQUFjL3pCLEdBQWFnMEIsVUFBVTF0QixFQUFBQTtZQUFlLENBQUE7VUFFaEcsRUFBQSxHQUFDLEVBQUFvRyxLQUFBLGdCQUFBM0csT0FFRCxTQUFnQnJKLElBQVlnYyxJQUFBQTtBQUF1RCxxQkFBQTdRLEtBQUEsR0FBQW9zQixLQUN0RHR6QixLQUFLd08sTUFBSXRILEtBQUFvc0IsR0FBQW4yQixRQUFBK0osTUFBRTtBQUFqQyxrQkFBTTdILEtBQVlpMEIsR0FBQXBzQixFQUFBQSxHQUNqQjZjLEtBQUFBO0FBY0osbUJBWEczbkIsRUFBR0ssT0FBTzRDLEdBQWFzRyxNQUFBQSxJQUVwQnZKLEVBQUdNLFFBQVFYLEVBQUFBLEtBQVN3UCxFQUF5QnhQLElBQU1zRCxHQUFhc0csTUFBQUEsSUFFaEU1SixPQUFTc0QsR0FBYXNHLFdBRTFCdEcsR0FBYWcwQixVQUFVdDNCLEVBQUFBLE1BRXZCZ29CLEtBQU1oTSxHQUFTMVksRUFBQUEsSUFBQUEsV0FHYjBrQixHQUNGLFFBQU9BO1lBRVg7VUFDRixFQUFBLENBQUEsQ0FBQSxHQUFDZ1A7UUFBQSxFQWhHeUI7QUNrQzVCLFlBQWFRLEtBQUssV0FBQTtBQStDaEIsbUJBQUFBLEtBQUFBO0FBQWMsZ0JBQUF6bUIsS0FBQTlNO0FBQUEwTCxjQUFBQSxNQUFBNm5CLEVBQUFBLEdBQUF2ekIsS0E5Q2R2QixLQUFFLG9CQUFBOEksT0FBdUJHLEtBQUs4ckIsTUFBc0IsTUFBaEI5ckIsS0FBSytyQixPQUFBQSxDQUFBQSxDQUFBQSxHQUFlenpCLEtBQ3hEMHpCLGdCQUFBQSxPQUFxQjF6QixLQUNyQjJ6QixlQUdLLENBQUEsR0FBRTN6QixLQUVQb0IsVUFBVUEsR0FBT3BCLEtBQ2pCbEIsV0FBVzZnQixHQUFNN2dCLEVBQUFBLEdBQVNrQixLQUMxQndyQixZQUFZQSxJQUFTeHJCLEtBQ3JCcEIsVUFBbUIsRUFDakJLLEtBQUssQ0FBRSxHQUNQeWdCLFFBQVEsRUFDTjNoQixPQUFBQSxNQUNBSSxNQUFBQSxNQUNBeW9CLEtBQUFBLEtBQUssR0FFUDFuQixZQUFZLENBQVMsR0FDckJ1VSxnQkFBZ0IsQ0FBQyxFQUFBLEdBQ2xCelQsS0FFRDRSLGlCQ29CSyxTQUE4QmpULElBQUFBO0FBQ25DLGtCQUFNZ1QsS0FBWSxTQUFaQSxHQUFhaE0sSUFBZ0JuRyxJQUFBQTtBQUNqQyxvQkFBSUgsS0FBZVYsR0FBTTRQLGNBQWNxbEIsWUFBWWp1QixJQUFRbkcsRUFBQUE7QUFPM0QsdUJBTEtILFFBQ0hBLEtBQWVWLEdBQU00UCxjQUFjb2hCLElBQUlocUIsSUFBUW5HLEVBQUFBLEdBQ2xDNk4sT0FBTzRLLFNBQVN0RyxHQUFTa2lCLGVBR2pDeDBCO2NBQUFBO0FBMklULHFCQXZJQXNTLEdBQVNtaUIsb0JBQW9CNWdCLElBQzdCdkIsR0FBU29pQixlQUFlN2dCLElBQ3hCdkIsR0FBU3FpQixtQkFBbUI5Z0IsSUFDNUJ2QixHQUFTc2lCLGdCQUFnQi9nQixJQUV6QnZCLEdBQVNuTixpQkFBaUIrRyxHQUMxQm9HLEdBQVM3Tix1QkFBdUJ5SCxHQUNoQ29HLEdBQVN6TyxrQkFBa0JxSSxHQUMzQm9HLEdBQVMzTyxVQUFVdUksR0FFbkJvRyxHQUFTa2lCLGVBQWUsQ0FBQSxHQUd4QmxpQixHQUFTdWlCLFVBQVVDLFdBQ25CeGlCLEdBQVNoVCxRQUFRQSxJQUNqQmdULEdBQVN5aUIsTUFBTSxTQUFVQyxJQUFRNzBCLElBQUFBO0FBRy9CLHVCQUZBUSxLQUFLckIsTUFBTWtULFVBQVV3aUIsSUFBUTcwQixFQUFBQSxHQUV0QlE7Y0FBQUEsR0FHVDJSLEdBQVMyaUIsUUFBUSxTQUFVM3VCLElBQWdCbkcsSUFBQUE7QUFDekMsdUJBQUEsQ0FBQSxDQUFTUSxLQUFLckIsTUFBTTRQLGNBQWNuRyxJQUFJekMsSUFBUW5HLE1BQVdBLEdBQVFzdEIsT0FBQUE7Y0FBQUEsR0FHbkVuYixHQUFTVyxLQUFLZ0ksR0FBUyxTQUFZamEsSUFBMkJpZixJQUF3QjlmLElBQUFBO0FBS3BGLG9CQUpJcEQsRUFBR0ssT0FBTzRELEVBQUFBLEtBQUFBLE9BQVNBLEdBQUtDLE9BQU8sR0FBQSxNQUNqQ0QsS0FBT0EsR0FBS21ILEtBQUFBLEVBQU9ULE1BQU0sSUFBQSxJQUd2QjNLLEVBQUdjLE1BQU1tRCxFQUFBQSxHQUFPO0FBQUEsMkJBQUE2RyxLQUFBLEdBQUE5SSxLQUNNaUMsSUFBSTZHLEtBQUE5SSxHQUFBakIsUUFBQStKLE1BQVc7QUFBbEMsd0JBQU1xWSxLQUFTbmhCLEdBQUE4SSxFQUFBQTtBQUNsQmxILHlCQUFLc1MsR0FBR2lOLElBQVdELElBQVU5ZixFQUFBQTtrQkFDL0I7QUFFQSx5QkFBT1E7Z0JBQ1Q7QUFFQSxvQkFBSTVELEVBQUdILE9BQU9vRSxFQUFBQSxHQUFPO0FBQ25CLDJCQUFXb0YsTUFBUXBGLEdBQ2pCTCxNQUFLc1MsR0FBRzdNLElBQU9wRixHQUFhb0YsRUFBQUEsR0FBTzZaLEVBQUFBO0FBR3JDLHlCQUFPdGY7Z0JBQ1Q7QUFnQkEsdUJBYkl3ZixHQUFpQm5mLElBQU1MLEtBQUtyQixNQUFNQyxPQUFBQSxJQUUvQm9CLEtBQUs2ekIsYUFBYXh6QixFQUFBQSxJQUdyQkwsS0FBSzZ6QixhQUFheHpCLEVBQUFBLEVBQU02RSxLQUFLb2EsRUFBQUEsSUFGN0J0ZixLQUFLNnpCLGFBQWF4ekIsRUFBQUEsSUFBUSxDQUFDaWYsRUFBQUEsSUFPN0J0ZixLQUFLckIsTUFBTTBPLE9BQU9zZixJQUFJM3NCLEtBQUtyQixNQUFNakQsVUFBVTJFLElBQU1pZixJQUFzQixFQUFFOWYsU0FBQUEsR0FBQUEsQ0FBQUEsR0FHcEVRO2NBQ1IsR0FBRSw4Q0FBQSxHQUVIMlIsR0FBU1UsTUFBTWlJLEdBQVMsU0FBYWphLElBQWtCaWYsSUFBZTlmLElBQUFBO0FBS3BFLG9CQUpJcEQsRUFBR0ssT0FBTzRELEVBQUFBLEtBQUFBLE9BQVNBLEdBQUtDLE9BQU8sR0FBQSxNQUNqQ0QsS0FBT0EsR0FBS21ILEtBQUFBLEVBQU9ULE1BQU0sSUFBQSxJQUd2QjNLLEVBQUdjLE1BQU1tRCxFQUFBQSxHQUFPO0FBQUEsMkJBQUFzTyxLQUFBLEdBQUE0bEIsS0FDTWwwQixJQUFJc08sS0FBQTRsQixHQUFBcDNCLFFBQUF3UixNQUFFO0FBQXpCLHdCQUFNNFEsS0FBU2dWLEdBQUE1bEIsRUFBQUE7QUFDbEIzTyx5QkFBS3FTLElBQUlrTixJQUFXRCxJQUFVOWYsRUFBQUE7a0JBQ2hDO0FBRUEseUJBQU9RO2dCQUNUO0FBRUEsb0JBQUk1RCxFQUFHSCxPQUFPb0UsRUFBQUEsR0FBTztBQUNuQiwyQkFBV29GLE1BQVFwRixHQUNqQkwsTUFBS3FTLElBQUk1TSxJQUFNcEYsR0FBS29GLEVBQUFBLEdBQU82WixFQUFBQTtBQUc3Qix5QkFBT3RmO2dCQUNUO0FBR0Usb0JBQUl5TjtBQVNOLHVCQVZJK1IsR0FBaUJuZixJQUFNTCxLQUFLckIsTUFBTUMsT0FBQUEsSUFHaEN5QixNQUFRTCxLQUFLNnpCLGdCQUFBQSxRQUFpQnBtQixLQUFRek4sS0FBSzZ6QixhQUFheHpCLEVBQUFBLEVBQU00SCxRQUFRcVgsRUFBQUEsTUFDeEV0ZixLQUFLNnpCLGFBQWF4ekIsRUFBQUEsRUFBTWpELE9BQU9xUSxJQUFPLENBQUEsSUFHeEN6TixLQUFLckIsTUFBTTBPLE9BQU91ZixPQUFPNXNCLEtBQUtyQixNQUFNakQsVUFBVTJFLElBQU1pZixJQUFVOWYsRUFBQUEsR0FHekRRO2NBQ1IsR0FBRSwrQ0FBQSxHQUVIMlIsR0FBUzZpQixRQUFRLFdBQUE7QUFDZix1QkFBT3gwQixLQUFLckI7Y0FBQUEsR0FHZGdULEdBQVNyUSxnQkFBZ0IsV0FBQTtBQUN2Qix1QkFBT0YsRUFBUUU7Y0FBQUEsR0FHakJxUSxHQUFTblEsdUJBQXVCLFdBQUE7QUFDOUIsdUJBQU9KLEVBQVFJO2NBQUFBLEdBR2pCbVEsR0FBU3VILE9BQU8sV0FBQTtBQUFZLHlCQUFBcEwsS0FBQTJtQixHQUFBQSxLQUNBejBCLEtBQUtyQixNQUFNb2UsYUFBYXZPLE1BQUlWLEtBQUEybUIsR0FBQXQzQixRQUFBMlEsS0FBaEMybUIsQ0FBQUEsR0FBQTNtQixFQUFBQSxFQUNSb0wsS0FBQUE7QUFHZCx1QkFBT2xaO2NBQUFBLEdBR1QyUixHQUFTOFUsdUJBQXVCLFNBQVVqVCxJQUFBQTtBQUN4Qyx1QkFBSXBYLEVBQUdHLE9BQU9pWCxFQUFBQSxLQUNaeFQsS0FBS3JCLE1BQU1vZSxhQUFhMEosdUJBQXVCalQsSUFFeEN4VCxRQUdGQSxLQUFLckIsTUFBTW9lLGFBQWEwSjtjQUFBQSxHQUdqQzlVLEdBQVN3aEIsY0FBYyxTQUFVbFUsSUFBZXpmLElBQUFBO0FBQzlDUSxxQkFBS3JCLE1BQU13MEIsWUFBWWxVLElBQUt6ZixFQUFBQTtjQUFBQSxHQUc5Qm1TLEdBQVMraUIsaUJBQWlCLFNBQVV6VixJQUFBQTtBQUNsQ2pmLHFCQUFLckIsTUFBTSsxQixlQUFlelYsRUFBQUE7Y0FBQUEsR0FHckJ0TjtZQUNULEVEekt3QzNSLElBQUFBLEdBQUtBLEtBQzNDa2tCLGdCQUFnQkEsSUFBYWxrQixLQUM3Qm5CLGVBQUFBLFFBQVltQixLQUNadU8sZ0JBQWdCLElBQUl3a0IsR0FBZ0IveUIsSUFBQUEsR0FFcENBLEtBQ0FreEIsT0FBQUEsUUFFQWx4QixLQUNBdEUsV0FBQUEsUUFFQXNFLEtBQ0F4RSxTQUFBQSxRQUVBd0UsS0FDQXlzQixZQUFvRCxDQUFBLEdBQUV6c0IsS0FFdEQyMEIsV0FHSSxFQUNGbm1CLE1BQU0sQ0FBQSxHQUNOdlAsS0FBSyxDQUFDLEVBQUEsR0FDUGUsS0ErQ0Q0MEIsaUJBQWlCLFNBQUNuckIsSUFBQUE7QUFBd0IscUJBQUtxRCxHQUFLNG5CLGVBQWVqckIsR0FBTTlELE1BQUFBO1lBQW1CO0FBNUMxRixnQkFBTWhILEtBQVFxQjtBQUVkQSxpQkFBS25CLGVBQVksU0FBQWcyQixJQUFBQTtBQUFBcG9CLGdCQUFBcW9CLElBQUFELEVBQUFBO0FBQUEsa0JBQUFub0IsS0FBQUMsRUFBQW1vQixFQUFBQTtBQUFBLHVCQUFBQSxLQUFBQTtBQUFBLHVCQUFBcHBCLEVBQUFBLE1BQUFvcEIsRUFBQUEsR0FBQXBvQixHQUFBMUcsTUFBQWhHLE1BQUE0RyxTQUFBQTtjQUFBO0FBd0JkLHFCQXhCY2tGLEVBQUFncEIsSUFBQSxDQUFBLEVBQUEvb0IsS0FBQSxhQUFBM0QsS0FDZixXQUFBO0FBQ0UsdUJBQU96SixHQUFNRztjQUNmLEVBQUEsR0FBQyxFQUFBaU4sS0FBQSxPQUFBM0csT0FFRCxTQUF5QzVGLElBQUFBO0FBUXZDLHVCQVBBdTFCLEVBQUFDLEVBQUFGLEdBQUEvMUIsU0FBQUEsR0FBQSxPQUFBaUIsSUFBQUEsRUFBQStNLEtBQUEvTSxNQUFVUixFQUFBQSxHQUVWYixHQUFNaVAsS0FBSyxvQkFBb0IsRUFDN0JwTyxTQUFBQSxJQUNBSCxjQUFjVyxLQUFBQSxDQUFBQSxHQUdUQTtjQUNULEVBQUEsR0FBQyxFQUFBK0wsS0FBQSxTQUFBM0csT0FFRCxXQUFBO0FBQ0UydkIsa0JBQUFDLEVBQUFGLEdBQUEvMUIsU0FBQUEsR0FBQUEsU0FBQUEsSUFBQUEsRUFBQWdPLEtBQUEvTSxJQUFBQTtBQUVBLG9CQUFNeU4sS0FBUTlPLEdBQU00UCxjQUFjQyxLQUFLdkcsUUFBUWpJLElBQUFBO0FBQzNDeU4sZ0JBQUFBLEtBQVEsTUFFWjlPLEdBQU00UCxjQUFjQyxLQUFLcFIsT0FBT3FRLElBQU8sQ0FBQSxHQUN2QzlPLEdBQU1pUCxLQUFLLHNCQUFzQixFQUFFdk8sY0FBY1csS0FBQUEsQ0FBQUE7Y0FDbkQsRUFBQSxDQUFBLENBQUEsR0FBQzgwQjtZQUFBLEVBeEIrQkcsRUFBQUE7VUEwQnBDO0FBNEhDLGlCQTVIQW5wQixFQUFBeW5CLElBQUEsQ0FBQSxFQUFBeG5CLEtBQUEsZ0JBQUEzRyxPQUVELFNBQWFuRyxJQUFrQlIsSUFBQUE7QUFDN0J1QixpQkFBSzJ6QixhQUFhenVCLEtBQUssRUFBRXpHLElBQUFBLElBQUlRLEtBQUFBLEdBQUFBLENBQUFBO1VBQy9CLEVBQUEsR0FBQyxFQUFBOE0sS0FBQSxRQUFBM0csT0FFRCxTQUE2QjNILElBQVMyQixJQUFBQTtBQUFrQyxxQkFBQThILEtBQUEsR0FBQWd1QixLQUdqRWwxQixLQUFLMnpCLGNBQVl6c0IsS0FBQWd1QixHQUFBLzNCLFFBQUErSixNQUFFO0FBRm5CLGtCQUNZb1ksS0FBUTRWLEdBQUFodUIsRUFBQUEsRUFBdkJqSSxJQUFReEIsRUFBQUE7QUFFUixrQkFBTTZoQixNQUFBQSxVQUFZQSxHQUFTbGdCLElBQVlZLE1BQU12QyxFQUFBQSxFQUMzQyxRQUFBO1lBRUo7VUFDRixFQUFBLEdBQUMsRUFBQXNPLEtBQUEsUUFBQTNHLE9BSUQsU0FBSzVKLElBQUFBO0FBQ0gsbUJBQU93RSxLQUFLMHpCLGdCQUFnQjF6QixPQWtIekIsU0FBbUJyQixJQUFjbkQsSUFBQUE7QUFDdENtRCxjQUFBQSxHQUFNKzBCLGdCQUFBQSxNQUVGdDNCLEVBQUdaLE9BQU9BLEVBQUFBLEtBQ1pGLEVBQVNFLEVBQUFBO0FBY1gscUJBWEFnRixFQUFXakYsS0FBS0MsRUFBQUEsR0FDaEI0RixFQUFRN0YsS0FBS0MsRUFBQUEsR0FDYnNjLEdBQUl2YyxLQUFLQyxFQUFBQSxHQUdUbUQsR0FBTW5ELFNBQVNBLElBQ2ZtRCxHQUFNakQsV0FBV0YsR0FBT0UsVUFFeEJpRCxHQUFNa1QsVUFBVWtMLEVBQUFBLEdBQ2hCcGUsR0FBTWtULFVBQVV4RSxFQUFBQSxHQUVUMU87WUFDVCxFQXJJaURxQixNQUFNeEUsRUFBQUE7VUFDckQsRUFBQSxHQUFDLEVBQUF1USxLQUFBLHFCQUFBM0csT0FFRCxTQUFrQml2QixJQUFBQTtBQUNoQixnQkFBUTUxQixLQUFPNDFCLEdBQVA1MUI7QUFDUixtQkFBT0EsS0FBQUEsQ0FBQUEsQ0FBT3VCLEtBQUsyMEIsU0FBUzExQixJQUFJUixFQUFBQSxJQUFBQSxPQUFNdUIsS0FBSzIwQixTQUFTbm1CLEtBQUt2RyxRQUFRb3NCLEVBQUFBO1VBQ25FLEVBQUEsR0FBQyxFQUFBdG9CLEtBQUEsYUFBQTNHLE9BRUQsU0FBVWl2QixJQUFnQjcwQixJQUFBQTtBQUN4QixnQkFBQSxDQUFLUSxLQUFLMHpCLGNBQ1IsUUFBTzF6QjtBQUdULGdCQUFJQSxLQUFLbTFCLGtCQUFrQmQsRUFBQUEsRUFDekIsUUFBT3IwQjtBQVlULGdCQVRJcTBCLEdBQU81MUIsT0FDVHVCLEtBQUsyMEIsU0FBUzExQixJQUFJbzFCLEdBQU81MUIsRUFBQUEsSUFBTTQxQixLQUVqQ3IwQixLQUFLMjBCLFNBQVNubUIsS0FBS3RKLEtBQUttdkIsRUFBQUEsR0FFcEJBLEdBQU8zMUIsV0FDVDIxQixHQUFPMzFCLFFBQVFzQixNQUFNUixFQUFBQSxHQUduQjYwQixHQUFPbDFCLGFBQWFrMUIsR0FBT2pmLFFBQVE7QUFTckMsdUJBUkkzSCxLQUFRLEdBQ05rTyxLQUFNM2IsS0FBSzJ6QixhQUFheDJCLFFBQ3hCaVksS0FBU2lmLEdBQU9qZixPQUFPbEQsT0FBTyxTQUFDQyxJQUFLMVQsSUFBQUE7QUFHeEMsdUJBRkEwVCxHQUFJMVQsRUFBQUEsSUFBQUEsTUFDSjBULEdBQUlpakIsR0FBYTMyQixFQUFBQSxDQUFBQSxJQUFBQSxNQUNWMFQ7Y0FDUixHQUFFLENBQUUsQ0FBQSxHQUVFMUUsS0FBUWtPLElBQUtsTyxNQUFTO0FBQzNCLG9CQUFNNG5CLEtBQVVyMUIsS0FBSzJ6QixhQUFhbG1CLEVBQUFBLEVBQU9oUDtBQUV6QyxvQkFBSTQyQixPQUFZamdCLEdBQU9pZ0IsRUFBQUEsS0FBWWpnQixHQUFPZ2dCLEdBQWFDLEVBQUFBLENBQUFBLEdBQ3JEO2NBRUo7QUFFQXIxQixtQkFBSzJ6QixhQUFhdjJCLE9BQU9xUSxJQUFPLEdBQUcsRUFBRWhQLElBQUk0MUIsR0FBTzUxQixJQUFJUSxLQUFLbzFCLEdBQU9sMUIsVUFBQUEsQ0FBQUE7WUFDbEUsTUFBV2sxQixDQUFBQSxHQUFPbDFCLGFBQ2hCYSxLQUFLMnpCLGFBQWF6dUIsS0FBSyxFQUFFekcsSUFBSTQxQixHQUFPNTFCLElBQUlRLEtBQUtvMUIsR0FBT2wxQixVQUFBQSxDQUFBQTtBQUd0RCxtQkFBT2E7VUFDVCxFQUFBLEdBQUMsRUFBQStMLEtBQUEsZUFBQTNHLE9BRUQsU0FBWTZaLElBQWV6ZixJQUFBQTtBQUV6QixnQkFBQSxPQUFJUSxLQUFLczFCLFlBQVlyVyxFQUFBQSxFQUNuQixRQUFBO0FBR0YsZ0JBQU16akIsS0FBU0YsRUFBYzJqQixFQUFBQTtBQUU3QnpmLFlBQUFBLEtBQVVBLEtBQVU4RixFQUFPLENBQUUsR0FBRTlGLEVBQUFBLElBQVcsQ0FBQSxHQUUxQ1EsS0FBS3lzQixVQUFVdm5CLEtBQUssRUFBRStaLEtBQUFBLElBQUt6ZixTQUFBQSxHQUFBQSxDQUFBQSxHQUMzQlEsS0FBS3FOLE9BQU9vZixVQUFVdm5CLEtBQUsrWixFQUFBQSxHQUl2QkEsT0FBUWpmLEtBQUt0RSxZQUNmc0UsS0FBS3FOLE9BQU9zZixJQUFJbnhCLElBQVEsVUFBVXdFLEtBQUs0MEIsY0FBQUEsR0FHekM1MEIsS0FBSzROLEtBQUssc0JBQXNCLEVBQUVxUixLQUFBQSxJQUFLempCLFFBQUFBLElBQVFtRCxPQUFPcUIsTUFBTVIsU0FBQUEsR0FBQUEsQ0FBQUE7VUFDOUQsRUFBQSxHQUFDLEVBQUF1TSxLQUFBLGtCQUFBM0csT0FFRCxTQUFlNlosSUFBQUE7QUFDYixnQkFBTXhSLEtBQVF6TixLQUFLczFCLFlBQVlyVyxFQUFBQSxHQUV6QnpqQixLQUFTRixFQUFjMmpCLEVBQUFBLEdBQ3ZCemYsS0FBVVEsS0FBS3lzQixVQUFVaGYsRUFBQUEsRUFBT2pPO0FBRXRDUSxpQkFBS3FOLE9BQU91ZixPQUFPcHhCLElBQVEsVUFBVXdFLEtBQUs0MEIsY0FBQUEsR0FFMUM1MEIsS0FBS3lzQixVQUFVcnZCLE9BQU9xUSxJQUFPLENBQUEsR0FDN0J6TixLQUFLcU4sT0FBT29mLFVBQVVydkIsT0FBT3FRLElBQU8sQ0FBQSxHQUVwQ3pOLEtBQUs0TixLQUFLLHlCQUF5QixFQUFFcVIsS0FBQUEsSUFBS3pqQixRQUFBQSxJQUFRbUQsT0FBT3FCLE1BQU1SLFNBQUFBLEdBQUFBLENBQUFBO1VBQ2pFLEVBQUEsR0FBQyxFQUFBdU0sS0FBQSxlQUFBM0csT0FFRCxTQUFZNlosSUFBQUE7QUFDVixxQkFBUzVTLEtBQUksR0FBR0EsS0FBSXJNLEtBQUt5c0IsVUFBVXR2QixRQUFRa1AsS0FDekMsS0FBSXJNLEtBQUt5c0IsVUFBVXBnQixFQUFBQSxFQUFHNFMsUUFBUUEsR0FDNUIsUUFBTzVTO0FBSVgsbUJBQUE7VUFDRixFQUFBLEdBQUMsRUFBQU4sS0FBQSxpQkFBQTNHLE9BRUQsU0FBYzZaLElBQUFBO0FBQ1osZ0JBQU1zVyxLQUFXdjFCLEtBQUtzMUIsWUFBWXJXLEVBQUFBO0FBRWxDLG1CQUFBLE9BQU9zVyxLQUFrQixPQUFPdjFCLEtBQUt5c0IsVUFBVThJLEVBQUFBLEVBQVUvMUI7VUFDM0QsRUFBQSxHQUFDLEVBQUF1TSxLQUFBLE9BQUEzRyxPQUVELFdBQUE7QUFDRSxvQkFBVXBGLEtBQUt4RSxPQUFlZ2QsUUFBd0JBLE1BQU1DLElBQUFBO1VBQzlELEVBQUEsQ0FBQSxDQUFBLEdBQUM4YTtRQUFBLEVBeE1lO0FBc09sQixpQkFBUzZCLEdBQWEzMkIsSUFBQUE7QUFDcEIsaUJBQU9BLE1BQU1BLEdBQUcyRSxRQUFRLFNBQVMsRUFBQTtRQUNuQztBRTdSQSxZQUFNekUsS0FBUSxJQUFJNDBCLE1BSWxCaUMsS0FGaUI3MkIsR0FBTWlULGdCQUlqQjZqQixLQUFnQyxlQUFBLE9BQWZDLGFBQTZCQSxhQUE2Q2w2QjtBQUNqR21ELFdBQU1wRCxLQUFLazZCLEVBQUFBO0FDVEksWUFBQSxLQUFBLE9BQUEsT0FBQSxFQUFBLFdBQUEsTUFBQSxZQUFBLFdBQUE7UUFBUSxHQUFBLFVDQVIsV0FBQTtRQUFRLEdBQUEsTUMyQlIsU0FBQ0UsSUFBQUE7QUFDZCxjQUFNQyxLQUNKLENBQ0UsQ0FBQyxLQUFLLEdBQUEsR0FDTixDQUFDLFFBQVEsS0FBQSxHQUNULENBQUMsU0FBUyxRQUFBLEdBQ1YsQ0FBQyxTQUFTLFFBQUEsQ0FBQSxFQUVaanZCLE9BQU8sU0FBQXJKLElBQUFBO0FBQUEsZ0JBQUV1NEIsS0FBTXY0QixHQUFBLENBQUEsR0FBRXc0QixLQUFNeDRCLEdBQUEsQ0FBQTtBQUFBLG1CQUFNdTRCLE1BQVVGLE1BQVFHLE1BQVVIO1VBQUFBLENBQUFBLEdBRXJESSxLQUdGLFNBQUM3M0IsSUFBR0osSUFBQUE7QUFjbUQscUJBWnZEazRCLEtBUUVMLEdBUkZLLE9BQUtDLEtBUUhOLEdBUEZPLFFBQUFBLEtBQUFBLFdBQU1ELEtBQUcsRUFDUC94QixNQUFBQSxLQUFPZ1IsR0FDUC9RLE9BQU8rUSxJQUFBQSxHQUNQOVEsS0FBQUEsS0FBTThRLEdBQ043USxRQUFRNlEsSUFBQUEsRUFBQUEsSUFDVCtnQixJQUFBRSxLQUVDUixHQURGcE8sUUFBQUEsS0FBQUEsV0FBTTRPLEtBQUcsRUFBRWo0QixHQUFHLEdBQUdKLEdBQUcsRUFBQSxJQUFHcTRCLElBR25CcnZCLEtBRUYsRUFBRWt2QixPQUFBQSxJQUFPTCxNQUFBQSxJQUFNejNCLEdBQUcsTUFBZ0JKLEdBQUcsS0FBQSxHQUFnQm9KLEtBQUFBLEdBQUFBLEtBRTFCMHVCLEdBQVd6NEIsUUFBQStKLE1BQUU7QUFBdkMsa0JBQUFrdkIsS0FBMEJSLEdBQVcxdUIsRUFBQUEsR0FBOUIydUIsS0FBTU8sR0FBQSxDQUFBLEdBQUVOLEtBQU1NLEdBQUEsQ0FBQSxHQUNsQkMsS0FBUTN1QixLQUFLNHVCLE9BQU9wNEIsS0FBSXFwQixHQUFPcnBCLEtBQU15M0IsR0FBYUUsRUFBQUEsQ0FBQUEsR0FDbERVLEtBQVE3dUIsS0FBSzR1QixPQUFPeDRCLEtBQUl5cEIsR0FBT3pwQixLQUFNNjNCLEdBQWFHLEVBQUFBLENBQUFBO0FBRXhEaHZCLGNBQUFBLEdBQU8rdUIsRUFBQUEsSUFBVW51QixLQUFLOEMsSUFBSTByQixHQUFPaHlCLE1BQU13RCxLQUFLMkMsSUFBSTZyQixHQUFPL3hCLE9BQU9reUIsS0FBU1YsR0FBYUUsRUFBQUEsSUFBVXRPLEdBQU9ycEIsQ0FBQUEsQ0FBQUEsR0FDckc0SSxHQUFPZ3ZCLEVBQUFBLElBQVVwdUIsS0FBSzhDLElBQUkwckIsR0FBTzl4QixLQUFLc0QsS0FBSzJDLElBQUk2ckIsR0FBTzd4QixRQUFRa3lCLEtBQVNaLEdBQWFHLEVBQUFBLElBQVV2TyxHQUFPenBCLENBQUFBLENBQUFBO1lBQ3ZHO0FBRUEsbUJBQU9nSjtVQUFBQTtBQU1ULGlCQUhBaXZCLEdBQVNKLE9BQU9BLElBQ2hCSSxHQUFTSCxjQUFjQSxJQUVoQkc7UUFDUixFQUFBLENBQUEsR0MzREtTLEtBQXlCLEVBQzdCLzNCLElBQUksWUFDSkMsU0FBTyxTQUFDQyxJQUFBQTtBQUNOLGNBQXdCZ1QsS0FBYWhULEdBQTdCaVQ7QUFFUkQsVUFBQUEsR0FBUzhrQixXQUFXbnhCLEVBQU9xTSxHQUFTOGtCLFlBQVksQ0FBQSxHQUFJQyxFQUFBQSxHQUNwRC9rQixHQUFTZ2xCLGlCQUFpQmhsQixHQUFTOGtCLFNBQVNkO1FBQzlDLEVBQUEsR0FHRmMsS0FBZUQsSUM0QlRJLEtBQW9FLEVBQ3hFNzRCLE9BQUssU0FBQ3FCLElBQUFBO0FBQ0osY0FBUTRoQixLQUEyQzVoQixHQUEzQzRoQixPQUFPOWEsS0FBb0M5RyxHQUFwQzhHLE1BQU1HLEtBQThCakgsR0FBOUJpSCxPQUFtQjFJLEtBQVd5QixHQUF2QitnQixZQUM1QjBXLEtBQXlCN1YsR0FBTXhoQixTQUF6QnMzQixLQUFLRCxHQUFMQyxPQUFPcjNCLEtBQU9vM0IsR0FBUHAzQixTQUNiczNCLEtBQWtDL1YsR0FBTXhoQixTQUFoQ3czQixLQUFVRCxHQUFWQyxZQUFZMVcsS0FBU3lXLEdBQVR6VztBQUVOLHlCQUFWd1csT0FDRkEsS0FBUTV3QixHQUFLNUIsUUFBUTRCLEdBQUszQixTQUc1QnljLEdBQU1nQixjQUFjMWMsRUFBTyxDQUFFLEdBQUUzSCxFQUFBQSxHQUMvQnFqQixHQUFNN0osWUFBWTdSLEVBQU8sQ0FBRSxHQUFFWSxFQUFBQSxHQUM3QjhhLEdBQU04VixRQUFRQSxJQUNkOVYsR0FBTWdXLGFBQWFBO0FBRW5CLGNBQU1DLEtBQWVqVyxHQUFNaVcsY0FBYyxFQUN2Qzd5QixLQUFLaUMsR0FBTWpDLE9BQVFpQyxHQUFNbkMsUUFBQUEsQ0FBU21DLEdBQU1oQyxRQUN4Q0gsTUFBTW1DLEdBQU1uQyxRQUFTbUMsR0FBTWpDLE9BQUFBLENBQVFpQyxHQUFNbEMsT0FDekNFLFFBQVFnQyxHQUFNaEMsVUFBV2dDLEdBQU1sQyxTQUFBQSxDQUFVa0MsR0FBTWpDLEtBQy9DRCxPQUFPa0MsR0FBTWxDLFNBQVVrQyxHQUFNaEMsVUFBQUEsQ0FBV2dDLEdBQU1uQyxLQUFBQTtBQUtoRCxjQUZBOGMsR0FBTWtXLGlCQUFBQSxFQUFBQSxDQUFvQjd3QixHQUFNbkMsUUFBQUEsQ0FBUW1DLEdBQU1sQyxRQUUxQzZjLEdBQU1nVyxZQUFZO0FBQ3BCLGdCQUFNRyxNQUFRRixHQUFZL3lCLE9BQU8sSUFBQSxPQUFXK3lCLEdBQVk3eUIsTUFBTSxJQUFBO0FBQzlENGMsWUFBQUEsR0FBTW9XLFdBQVcsRUFDZmw1QixHQUFHaTVCLElBQ0hyNUIsR0FBR3E1QixHQUFBQTtVQUVQLE1BQ0VuVyxDQUFBQSxHQUFNb1csV0FBVyxFQUNmbDVCLEdBQUcrNEIsR0FBWS95QixPQUFBQSxLQUFZLEdBQzNCcEcsR0FBR201QixHQUFZN3lCLE1BQUFBLEtBQVcsRUFBQTtBQVE5QixjQUFBLFVBSkkzRSxNQUNGNkYsRUFBT2UsSUFBTzR3QixFQUFBQSxHQUdGLFFBQVQzVyxNQUFBQSxHQUFXbmpCLFFBQWhCO0FBRUEsZ0JBQU1rNkIsS0FBa0IsSUFBSXpYLEdBQWF4Z0IsR0FBSTdCLFdBQUFBO0FBRTdDODVCLFlBQUFBLEdBQWdCdk8sU0FBUzFwQixHQUFJN0IsWUFBWXVsQixZQUFBQSxHQUN6Q3VVLEdBQWdCM1csY0FBY0osRUFBQUEsR0FFOUJVLEdBQU1xVyxrQkFBa0JBLElBQ3hCQSxHQUFnQnhXLFNBQVF5VyxFQUFNbDRCLENBQUFBLEdBQUFBLEVBQUFBLENBQUFBO1VBUk47UUFTekIsR0FFRGlKLEtBQUcsU0FBQ2pKLElBQUFBO0FBQ0YsY0FBUTRoQixLQUF3QjVoQixHQUF4QjRoQixPQUFPOWEsS0FBaUI5RyxHQUFqQjhHLE1BQU12SSxLQUFXeUIsR0FBWHpCLFFBQ2JzNUIsS0FBZ0JqVyxHQUFoQmlXLGFBQ0ZNLEtBQWdCanlCLEVBQU8sQ0FBRSxHQUFFM0gsRUFBQUEsR0FDM0I2NUIsS0FBZXhXLEdBQU1nVyxhQUFhUyxLQUFnQkM7QUFLeEQsY0FIQXB5QixFQUFPbEcsR0FBSWlILE9BQU80d0IsRUFBQUEsR0FDbEJPLEdBQWF4VyxJQUFPQSxHQUFNa1csZ0JBQWdCdjVCLElBQVF1SSxFQUFBQSxHQUFBQSxDQUU3QzhhLEdBQU1xVyxnQkFDVCxRQUFPO0FBR1QsY0FBTU0sS0FBZ0JyeUIsRUFBTyxDQUFFLEdBQUVZLEVBQUFBO0FBRWpDRSxZQUFTNndCLElBQWFVLElBQWUsRUFDbkN6NUIsR0FBR1AsR0FBT08sSUFBSXE1QixHQUFjcjVCLEdBQzVCSixHQUFHSCxHQUFPRyxJQUFJeTVCLEdBQWN6NUIsRUFBQUEsQ0FBQUE7QUFHOUIsY0FBTWdKLEtBQVNrYSxHQUFNcVcsZ0JBQWdCdlcsT0FBTXdXLEVBQUFBLEVBQUEsQ0FBQSxHQUN0Q2w0QixFQUFBQSxHQUFHLENBQUEsR0FBQSxFQUNOOEcsTUFBTXl4QixJQUNOdHhCLE9BQU80d0IsSUFDUDlXLFlBQVl4aUIsSUFDWmdrQixZQUFZaGtCLElBQ1ppa0IsVUFBVStWLEdBQUFBLENBQUFBLENBQUFBLEdBR0pwNUIsS0FBVXVJLEdBQVZ2STtBQUVKdUksVUFBQUEsR0FBT2diLFlBSVQwVixHQUFheFcsSUFIV3RaLEtBQUtpTyxJQUFJcFgsR0FBTUwsQ0FBQUEsSUFBS3dKLEtBQUtpTyxJQUFJcFgsR0FBTVQsQ0FBQUEsR0FHdEJnSixHQUFPbkosUUFBUW1KLEdBQU9aLElBQUFBLEdBQzNEWixFQUFPM0gsSUFBUW1KLEdBQU9uSixNQUFBQTtBQUd4QixpQkFBT21KLEdBQU8yYTtRQUNmLEdBRUQzaUIsVUFBVSxFQUNSZzRCLE9BQU8sWUFDUEUsWUFBQUEsT0FDQTFXLFdBQVcsQ0FBQSxHQUNYN2dCLFNBQUFBLE1BQVMsRUFBQTtBQUliLGlCQUFTZzRCLEdBQWFuNkIsSUFBOEM0NUIsSUFBeUJ2NUIsSUFBQUE7QUFBZSxjQUFuRnFrQixLQUFXMWtCLEdBQVgwa0IsYUFBYW9WLEtBQVE5NUIsR0FBUjg1QjtBQUNoQ0YsVUFBQUEsS0FDRnY1QixHQUFPRyxJQUFJa2tCLEdBQVlsa0IsS0FBS0gsR0FBT08sSUFBSThqQixHQUFZOWpCLEtBQUtrNUIsR0FBU3Q1QixJQUVqRUgsR0FBT08sSUFBSThqQixHQUFZOWpCLEtBQUtQLEdBQU9HLElBQUlra0IsR0FBWWxrQixLQUFLczVCLEdBQVNsNUI7UUFFckU7QUFFQSxpQkFBU3c1QixHQUFRdDVCLElBRWY4NEIsSUFDQXY1QixJQUNBdUksSUFBQUE7QUFDQSxjQUpFaVIsS0FBUy9ZLEdBQVQrWSxXQUFXNkssS0FBVzVqQixHQUFYNGpCLGFBQWE4VSxLQUFLMTRCLEdBQUwwNEIsT0FBT00sS0FBUWg1QixHQUFSZzVCO0FBS2pDLGNBQUlGLElBQWdCO0FBQ2xCLGdCQUFNVSxLQUFZMXhCLEdBQUs1QixRQUFRd3lCO0FBRS9CbjVCLFlBQUFBLEdBQU9HLElBQUlra0IsR0FBWWxrQixLQUFLODVCLEtBQVl6Z0IsR0FBVTVTLFVBQVU2eUIsR0FBU3Q1QjtVQUN2RSxPQUFPO0FBQ0wsZ0JBQU0rNUIsS0FBVzN4QixHQUFLM0IsU0FBU3V5QjtBQUUvQm41QixZQUFBQSxHQUFPTyxJQUFJOGpCLEdBQVk5akIsS0FBSzI1QixLQUFXMWdCLEdBQVU3UyxTQUFTOHlCLEdBQVNsNUI7VUFDckU7UUFDRjtBQUVBLFlBQUE0NUIsS0FBZXhVLEdBQWFzVCxJQUFhLGFBQUEsR0MvS25DbUIsS0FBUSxXQUFBO1FBQUE7QUFFZEEsV0FBS25VLFlBQVksQ0FBQTtBQUVqQixZQUFBb1UsS0FBZUQ7QUMwRVIsaUJBQVNFLEdBQ2Q3eUIsSUFDQTdILElBQ0FJLElBQUFBO0FBRUEsaUJBQUl2QixFQUFHRCxLQUFLaUosRUFBQUEsSUFDSG9jLEVBQTBCcGMsSUFBTzdILEdBQVk4QixjQUFjOUIsR0FBWWIsU0FBUyxDQUNyRmlCLEdBQU9PLEdBQ1BQLEdBQU9HLEdBQ1BQLEVBQUFBLENBQUFBLElBR0tpa0IsRUFBMEJwYyxJQUFPN0gsR0FBWThCLGNBQWM5QixHQUFZYixPQUFBQTtRQUVsRjtBQUVBLFlBUU13N0IsS0FBMkQsRUFDL0RuNkIsT0E5RUYsU0FBY1QsSUFBQUE7QUFBb0YsY0FBakY0SSxLQUFJNUksR0FBSjRJLE1BQU00WixLQUFXeGlCLEdBQVh3aUIsYUFBYWtCLEtBQUsxakIsR0FBTDBqQixPQUFPempCLEtBQVdELEdBQVhDLGFBQWE0aUIsS0FBVTdpQixHQUFWNmlCLFlBQzlDM2dCLEtBQVl3aEIsR0FBWnhoQixTQUNBMjRCLEtBQWdCMzRCLEdBQWhCMjRCLGFBQ0Y1USxLQUFlamlCLEVBQ25CLEVBQ0VwQixNQUFNLEdBQ05FLEtBQUssR0FDTEQsT0FBTyxHQUNQRSxRQUFRLEVBQUEsR0FFVjdFLEdBQVErbkIsVUFBVSxDQUFBLENBQUE7QUFHcEIsY0FBSXJoQixNQUFRaXlCLElBQWE7QUFDdkIsZ0JBQU1DLEtBQWNILEdBQW1CejRCLEdBQVE0NEIsYUFBYTc2QixJQUFhNGlCLEVBQUFBO0FBRXpFLGdCQUFJaVksSUFBYTtBQUNmLGtCQUFNQyxLQUFZRCxHQUFZajBCLFFBQVFpMEIsR0FBWWwwQixPQUFPZ0MsR0FBSzVCLE9BQ3hEZzBCLEtBQWFGLEdBQVkvekIsU0FBUyt6QixHQUFZaDBCLE1BQU04QixHQUFLM0I7QUFFM0Q4ekIsY0FBQUEsS0FBWSxNQUNkOVEsR0FBT3JqQixRQUFRbTBCLElBQ2Y5USxHQUFPcGpCLFNBQVNrMEIsS0FFZEMsS0FBYSxNQUNmL1EsR0FBT25qQixPQUFPazBCLElBQ2QvUSxHQUFPbGpCLFVBQVVpMEI7WUFFckI7QUFFQS9RLFlBQUFBLEdBQU9yakIsUUFBUTRiLEdBQVk1YixPQUFPZ0MsR0FBSzVCLFFBQVE2ekIsR0FBWWowQixNQUMzRHFqQixHQUFPbmpCLE9BQU8wYixHQUFZMWIsTUFBTThCLEdBQUszQixTQUFTNHpCLEdBQVkvekIsS0FFMURtakIsR0FBT3BqQixTQUFTMmIsR0FBWTNiLFFBQVErQixHQUFLNUIsU0FBUyxJQUFJNnpCLEdBQVloMEIsUUFDbEVvakIsR0FBT2xqQixVQUFVeWIsR0FBWXpiLFNBQVM2QixHQUFLM0IsVUFBVSxJQUFJNHpCLEdBQVk5ekI7VUFDdkU7QUFFQTJjLFVBQUFBLEdBQU11RyxTQUFTQTtRQUNqQixHQXlDRWxmLEtBdkNGLFNBQVlqSyxJQUFBQTtBQUE2RCxjQUExRFQsS0FBTVMsR0FBTlQsUUFBUUosS0FBV2EsR0FBWGIsYUFBYXlqQixLQUFLNWlCLEdBQUw0aUIsT0FDMUJ4aEIsS0FBb0J3aEIsR0FBcEJ4aEIsU0FBUytuQixLQUFXdkcsR0FBWHVHLFFBRVg2USxLQUFjSCxHQUFtQno0QixHQUFRNDRCLGFBQWE3NkIsSUFBYUksRUFBQUE7QUFFekUsY0FBS3k2QixJQUFMO0FBRUEsZ0JBQU1seUIsSy9DWEQsU0FBcURBLElBQUFBO0FBVTFELHFCQUFBLENBVElBLE1BQVUsVUFBVUEsTUFBUSxTQUFTQSxRQUN2Q0EsS0FBT1osRUFBTyxDQUFBLEdBQUlZLEVBQUFBLEdBRWJoQyxPQUFPZ0MsR0FBS2hJLEtBQUssR0FDdEJnSSxHQUFLOUIsTUFBTThCLEdBQUtwSSxLQUFLLEdBQ3JCb0ksR0FBSy9CLFFBQVErQixHQUFLL0IsU0FBUytCLEdBQUtoQyxPQUFPZ0MsR0FBSzVCLE9BQzVDNEIsR0FBSzdCLFNBQVM2QixHQUFLN0IsVUFBVTZCLEdBQUs5QixNQUFNOEIsR0FBSzNCLFNBR3hDMkI7WUFDVCxFK0NBb0NreUIsRUFBQUE7QUFFbEN6NkIsWUFBQUEsR0FBT08sSUFBSXdKLEtBQUs4QyxJQUFJOUMsS0FBSzJDLElBQUluRSxHQUFLL0IsUUFBUW9qQixHQUFPcGpCLE9BQU94RyxHQUFPTyxDQUFBQSxHQUFJZ0ksR0FBS2hDLE9BQU9xakIsR0FBT3JqQixJQUFBQSxHQUN0RnZHLEdBQU9HLElBQUk0SixLQUFLOEMsSUFBSTlDLEtBQUsyQyxJQUFJbkUsR0FBSzdCLFNBQVNrakIsR0FBT2xqQixRQUFRMUcsR0FBT0csQ0FBQUEsR0FBSW9JLEdBQUs5QixNQUFNbWpCLEdBQU9uakIsR0FBQUE7VUFMckU7UUFNcEIsR0E2QkV0RixVQVhnQyxFQUNoQ3M1QixhQUFhLE1BQ2JELGFBQWEsTUFDYjVRLFFBQVEsTUFDUnBFLFNBQUFBLE9BQ0ExakIsU0FBQUEsTUFBUyxFQUFBLEdBU1g4NEIsS0FBZWpWLEdBQWE0VSxJQUFVLFVBQUEsR0N4RWhDTSxLQUFVLEVBQUVwMEIsS0FBTThRLElBQUFBLEdBQVVoUixNQUFPZ1IsSUFBQUEsR0FBVTdRLFFBQUFBLEtBQVM2USxHQUFVL1EsT0FBQUEsS0FBUStRLEVBQUFBLEdBQ3hFdWpCLEtBQVUsRUFBRXIwQixLQUFBQSxLQUFNOFEsR0FBVWhSLE1BQUFBLEtBQU9nUixHQUFVN1EsUUFBUzZRLElBQUFBLEdBQVUvUSxPQUFRK1EsSUFBQUEsRUFBQUE7QUFnRDlFLGlCQUFTd2pCLEdBQVF4eUIsSUFBWXBILElBQUFBO0FBQWdCLG1CQUFBb0ksS0FBQUEsR0FBQTZNLEtBQ3hCLENBQUMsT0FBTyxRQUFRLFVBQVUsT0FBQSxHQUFRN00sS0FBQTZNLEdBQUE1VyxRQUFBK0osTUFBRTtBQUFsRCxnQkFBTTBPLEtBQUk3QixHQUFBN00sRUFBQUE7QUFDUDBPLFlBQUFBLE1BQVExUCxPQUNaQSxHQUFLMFAsRUFBQUEsSUFBUTlXLEdBQVM4VyxFQUFBQTtVQUUxQjtBQUVBLGlCQUFPMVA7UUFDVDtBQUVBLFlBUU15eUIsS0FBZ0IsRUFDcEJILFNBQUFBLElBQ0FDLFNBQUFBLElBQ0ExNkIsT0FuRUYsU0FBY1QsSUFBQUE7QUFBdUUsY0FFL0VpcUIsSUFGV2hxQixLQUFXRCxHQUFYQyxhQUFhdWlCLEtBQVd4aUIsR0FBWHdpQixhQUFha0IsS0FBSzFqQixHQUFMMGpCLE9BQ2pDeGhCLEtBQVl3aEIsR0FBWnhoQjtBQUdKQSxVQUFBQSxPQUdGK25CLEtBQVMvRixFQUZVeVcsR0FBbUJ6NEIsR0FBUStuQixRQUFRaHFCLElBQWFBLEdBQVlJLE9BQU9JLE1BQU1GLElBQUFBLENBQUFBLElBSzlGMHBCLEtBQVNBLE1BQVUsRUFBRXJwQixHQUFHLEdBQUdKLEdBQUcsRUFBQSxHQUU5QmtqQixHQUFNdUcsU0FBUyxFQUNibmpCLEtBQUttakIsR0FBT3pwQixJQUFJZ2lCLEdBQVkxYixLQUM1QkYsTUFBTXFqQixHQUFPcnBCLElBQUk0aEIsR0FBWTViLE1BQzdCRyxRQUFRa2pCLEdBQU96cEIsSUFBSWdpQixHQUFZemIsUUFDL0JGLE9BQU9vakIsR0FBT3JwQixJQUFJNGhCLEdBQVkzYixNQUFBQTtRQUVsQyxHQWtERWtFLEtBaERGLFNBQVlqSyxJQUFBQTtBQUF5RSxjQUF0RVQsS0FBTVMsR0FBTlQsUUFBUTBJLEtBQUtqSSxHQUFMaUksT0FBTzlJLEtBQVdhLEdBQVhiLGFBQWF5akIsS0FBSzVpQixHQUFMNGlCLE9BQ2pDdUcsS0FBb0J2RyxHQUFwQnVHLFFBQVEvbkIsS0FBWXdoQixHQUFaeGhCO0FBRWhCLGNBQUs2RyxJQUFMO0FBSUEsZ0JBQU14SSxLQUFPeUgsRUFBTyxDQUFFLEdBQUUzSCxFQUFBQSxHQUNsQmk3QixLQUFRWCxHQUFtQno0QixHQUFRbzVCLE9BQU9yN0IsSUFBYU0sRUFBQUEsS0FBVSxDQUFBLEdBQ2pFZzdCLEtBQVFaLEdBQW1CejRCLEdBQVFxNUIsT0FBT3Q3QixJQUFhTSxFQUFBQSxLQUFVLENBQUE7QUFFdkU2NkIsZUFBUUUsSUFBT0osRUFBQUEsR0FDZkUsR0FBUUcsSUFBT0osRUFBQUEsR0FFWHB5QixHQUFNakMsTUFDUnpHLEdBQU9HLElBQUk0SixLQUFLMkMsSUFBSTNDLEtBQUs4QyxJQUFJcXVCLEdBQU16MEIsTUFBTW1qQixHQUFPbmpCLEtBQUt2RyxHQUFLQyxDQUFBQSxHQUFJODZCLEdBQU14MEIsTUFBTW1qQixHQUFPbmpCLEdBQUFBLElBQ3hFaUMsR0FBTWhDLFdBQ2YxRyxHQUFPRyxJQUFJNEosS0FBSzhDLElBQUk5QyxLQUFLMkMsSUFBSXd1QixHQUFNeDBCLFNBQVNrakIsR0FBT2xqQixRQUFReEcsR0FBS0MsQ0FBQUEsR0FBSTg2QixHQUFNdjBCLFNBQVNrakIsR0FBT2xqQixNQUFBQSxJQUV4RmdDLEdBQU1uQyxPQUNSdkcsR0FBT08sSUFBSXdKLEtBQUsyQyxJQUFJM0MsS0FBSzhDLElBQUlxdUIsR0FBTTMwQixPQUFPcWpCLEdBQU9yakIsTUFBTXJHLEdBQUtLLENBQUFBLEdBQUkwNkIsR0FBTTEwQixPQUFPcWpCLEdBQU9yakIsSUFBQUEsSUFDM0VtQyxHQUFNbEMsVUFDZnhHLEdBQU9PLElBQUl3SixLQUFLOEMsSUFBSTlDLEtBQUsyQyxJQUFJd3VCLEdBQU0xMEIsUUFBUW9qQixHQUFPcGpCLE9BQU90RyxHQUFLSyxDQUFBQSxHQUFJMDZCLEdBQU16MEIsUUFBUW9qQixHQUFPcGpCLEtBQUFBO1VBakJ6RjtRQW1CRixHQXlCRXJGLFVBYnFDLEVBQ3JDODVCLE9BQU8sTUFDUEMsT0FBTyxNQUNQdFIsUUFBUSxNQUNScEUsU0FBQUEsT0FDQTFqQixTQUFBQSxNQUFTLEVBQUEsR0FXWHE1QixLQUFleFYsR0FBYXFWLElBQWUsZUFBQSxHQzNHckM3NUIsS0FBV3dHLEVBQ2YsRUFDRSxJQUFBLGNBQUk2eUI7QUFDRixpQkFBTyxFQUFFL3pCLEtBQUssR0FBR0YsTUFBTSxHQUFHRyxRQUFRLEdBQUdGLE9BQU8sRUFBQTtRQUM3QyxHQUNELElBQUEsWUFBZ0I0MEIsSUFBQUE7UUFBSSxFQUFBLEdBRXRCYixHQUFTcDVCLFFBQUFBLEdBU1hrNkIsS0FBZTFWLEdBTk0sRUFDbkJ2bEIsT0FBT202QixHQUFTbjZCLE9BQ2hCc0ssS0FBSzZ2QixHQUFTN3ZCLEtBQ2R2SixVQUFBQSxHQUFBQSxHQUd3QyxjQUFBLEdDVnBDbTZCLEtBQVEsRUFBRTMwQixPQUFBQSxLQUFRNFEsR0FBVTNRLFFBQUFBLEtBQVMyUSxFQUFBQSxHQUNyQ2drQixLQUFRLEVBQUU1MEIsT0FBUTRRLElBQUFBLEdBQVUzUSxRQUFTMlEsSUFBQUEsRUFBQUE7QUE2RDNDLFlBYUFpa0IsS0FBZTdWLEdBTk0sRUFDbkJ2bEIsT0E1REYsU0FBZXFCLElBQUFBO0FBQ2IsaUJBQU91NUIsR0FBYzU2QixNQUFNcUIsRUFBQUE7UUFDN0IsR0EyREVpSixLQWhERixTQUFhakosSUFBQUE7QUFDWCxjQUFRN0IsS0FBb0M2QixHQUFwQzdCLGFBQWF5akIsS0FBdUI1aEIsR0FBdkI0aEIsT0FBTzlhLEtBQWdCOUcsR0FBaEI4RyxNQUFNRyxLQUFVakgsR0FBVmlILE9BQzFCN0csS0FBWXdoQixHQUFaeGhCO0FBRVIsY0FBSzZHLElBQUw7QUFJQSxnQkFBTSt5QixLQUNKNVgsRUFBcUJ5VyxHQUFtQno0QixHQUFRNkssS0FBWTlNLElBQWE2QixHQUFJekIsTUFBQUEsQ0FBQUEsS0FBWXM3QixJQUNyRkksS0FDSjdYLEVBQXFCeVcsR0FBbUJ6NEIsR0FBUWdMLEtBQVlqTixJQUFhNkIsR0FBSXpCLE1BQUFBLENBQUFBLEtBQVl1N0I7QUFFM0ZsWSxZQUFBQSxHQUFNeGhCLFVBQVUsRUFDZDJqQixTQUFTM2pCLEdBQVEyakIsU0FDakJ5VixPQUFPdHpCLEVBQU8sQ0FBQSxHQUFJcXpCLEdBQWNILE9BQUFBLEdBQ2hDSyxPQUFPdnpCLEVBQU8sQ0FBQSxHQUFJcXpCLEdBQWNGLE9BQUFBLEVBQUFBLEdBRzlCcHlCLEdBQU1qQyxPQUNSNGMsR0FBTXhoQixRQUFRbzVCLE1BQU14MEIsTUFBTThCLEdBQUs3QixTQUFTKzBCLEdBQVE3MEIsUUFDaER5YyxHQUFNeGhCLFFBQVFxNUIsTUFBTXowQixNQUFNOEIsR0FBSzdCLFNBQVNnMUIsR0FBUTkwQixVQUN2QzhCLEdBQU1oQyxXQUNmMmMsR0FBTXhoQixRQUFRbzVCLE1BQU12MEIsU0FBUzZCLEdBQUs5QixNQUFNZzFCLEdBQVE3MEIsUUFDaER5YyxHQUFNeGhCLFFBQVFxNUIsTUFBTXgwQixTQUFTNkIsR0FBSzlCLE1BQU1pMUIsR0FBUTkwQixTQUU5QzhCLEdBQU1uQyxRQUNSOGMsR0FBTXhoQixRQUFRbzVCLE1BQU0xMEIsT0FBT2dDLEdBQUsvQixRQUFRaTFCLEdBQVE5MEIsT0FDaEQwYyxHQUFNeGhCLFFBQVFxNUIsTUFBTTMwQixPQUFPZ0MsR0FBSy9CLFFBQVFrMUIsR0FBUS8wQixTQUN2QytCLEdBQU1sQyxVQUNmNmMsR0FBTXhoQixRQUFRbzVCLE1BQU16MEIsUUFBUStCLEdBQUtoQyxPQUFPazFCLEdBQVE5MEIsT0FDaEQwYyxHQUFNeGhCLFFBQVFxNUIsTUFBTTEwQixRQUFRK0IsR0FBS2hDLE9BQU9tMUIsR0FBUS8wQixRQUdsRHEwQixHQUFjdHdCLElBQUlqSixFQUFBQSxHQUVsQjRoQixHQUFNeGhCLFVBQVVBO1VBOUJoQjtRQStCRixHQVlFVixVQVZvQyxFQUNwQ3VMLEtBQUssTUFDTEcsS0FBSyxNQUNMMlksU0FBQUEsT0FDQTFqQixTQUFBQSxNQUFTLEVBQUEsR0FTK0IsY0FBQTtBQ2tIMUMsWUFVTTY1QixLQUFPLEVBQ1h2N0IsT0EzSkYsU0FBZXFCLElBQUFBO0FBQ2IsY0FJSW02QixJQUpJaDhCLEtBQWlFNkIsR0FBakU3QixhQUFhOEIsS0FBb0RELEdBQXBEQyxjQUFjM0MsS0FBc0MwQyxHQUF0QzFDLFNBQVN3SixLQUE2QjlHLEdBQTdCOEcsTUFBTThhLEtBQXVCNWhCLEdBQXZCNGhCLE9BQU9sQixLQUFnQjFnQixHQUFoQjBnQixhQUNqRHRnQixLQUFZd2hCLEdBQVp4aEIsU0FDRmlILEtBQVNqSCxHQUFRZzZCLG1CQXFJekIsU0FBbUJwNkIsSUFBQUE7QUFDakIsZ0JBQVExQyxLQUFZMEMsR0FBSTdCLFlBQWhCYixTQUNGKzhCLEtBQWdCeHpCLEVBQVNKLEVBQWdCekcsR0FBSTRoQixNQUFNeGhCLFFBQVFpSCxRQUFlLE1BQU0sTUFBTSxDQUFDL0osRUFBQUEsQ0FBQUEsQ0FBQUEsR0FDdkYrSixLQUFTZ3pCLE1BQWlCbnpCLEVBQVlsSCxHQUFJQyxjQUFjM0MsSUFBUzBDLEdBQUk3QixZQUFZQyxTQUFTQyxJQUFBQTtBQUVoRyxtQkFBT2dKO1VBQ1QsRUEzSXNEckgsRUFBQUEsSUFBTyxFQUFFbEIsR0FBRyxHQUFHSixHQUFHLEVBQUE7QUFJdEUsY0FBdUIsa0JBQW5CMEIsR0FBUStuQixPQUNWZ1MsQ0FBQUEsS0FBYSxFQUNYcjdCLEdBQUdYLEdBQVlJLE9BQU9JLE1BQU1GLEtBQUtLLEdBQ2pDSixHQUFHUCxHQUFZSSxPQUFPSSxNQUFNRixLQUFLQyxFQUFBQTtlQUU5QjtBQUNMLGdCQUFNNDdCLEtBQWE3ekIsRUFBZ0JyRyxHQUFRK25CLFFBQWVsb0IsSUFBYzNDLElBQVMsQ0FBQ2EsRUFBQUEsQ0FBQUE7QUFBQUEsYUFFbEZnOEIsS0FBYXR6QixFQUFTeXpCLEVBQUFBLEtBQWUsRUFBRXg3QixHQUFHLEdBQUdKLEdBQUcsRUFBQSxHQUNyQ0ksS0FBS3VJLEdBQU92SSxHQUN2QnE3QixHQUFXejdCLEtBQUsySSxHQUFPM0k7VUFDekI7QUFFQSxjQUFRNjdCLEtBQW1CbjZCLEdBQW5CbTZCO0FBRVIzWSxVQUFBQSxHQUFNNFksVUFDSjF6QixNQUFReXpCLE1BQWtCQSxHQUFleDhCLFNBQ3JDdzhCLEdBQWUxNkIsSUFBSSxTQUFDNDZCLElBQWVwc0IsSUFBQUE7QUFBSyxtQkFBTSxFQUM1Q0EsT0FBQUEsSUFDQW9zQixlQUFBQSxJQUNBMzdCLEdBQUc0aEIsR0FBWTViLE9BQU9nQyxHQUFLNUIsUUFBUXUxQixHQUFjMzdCLElBQUlxN0IsR0FBV3I3QixHQUNoRUosR0FBR2dpQixHQUFZMWIsTUFBTThCLEdBQUszQixTQUFTczFCLEdBQWMvN0IsSUFBSXk3QixHQUFXejdCLEVBQUFBO1VBQ2hFLENBQUEsSUFDRixDQUNFLEVBQ0UyUCxPQUFPLEdBQ1Bvc0IsZUFBZSxNQUNmMzdCLEdBQUdxN0IsR0FBV3I3QixHQUNkSixHQUFHeTdCLEdBQVd6N0IsRUFBQUEsQ0FBQUE7UUFHMUIsR0FzSEV1SyxLQXBIRixTQUFhakosSUFBQUE7QUFDWCxjQUFRN0IsS0FBK0I2QixHQUEvQjdCLGFBQWFJLEtBQWtCeUIsR0FBbEJ6QixRQUFRcWpCLEtBQVU1aEIsR0FBVjRoQixPQUNyQnhoQixLQUFxQndoQixHQUFyQnhoQixTQUFTbzZCLEtBQVk1WSxHQUFaNFksU0FFWG56QixLQUFTSCxFQUFZL0ksR0FBWThCLGNBQWU5QixHQUFZYixTQUFVYSxHQUFZQyxTQUFTQyxJQUFBQSxHQUMzRkksS0FBT3lILEVBQU8sQ0FBRSxHQUFFM0gsRUFBQUEsR0FDbEI0dUIsS0FBMEIsQ0FBQTtBQUUzQi9zQixVQUFBQSxHQUFRZzZCLHFCQUNYMzdCLEdBQUtLLEtBQUt1SSxHQUFPdkksR0FDakJMLEdBQUtDLEtBQUsySSxHQUFPM0k7QUFDbEIsbUJBQUFvSixLQUFBLEdBQUE5SSxLQUVvQnc3QixJQUFPMXlCLEtBQUE5SSxHQUFBakIsUUFBQStKLEtBSTFCLFVBSlNxZ0IsS0FBTW5wQixHQUFBOEksRUFBQUEsR0FDVDR5QixLQUFZajhCLEdBQUtLLElBQUlxcEIsR0FBT3JwQixHQUM1QjY3QixLQUFZbDhCLEdBQUtDLElBQUl5cEIsR0FBT3pwQixHQUV6QjJQLEtBQVEsR0FBR2tPLEtBQU1uYyxHQUFRK3NCLFFBQVNwdkIsUUFBUXNRLEtBQVFrTyxJQUFLbE8sTUFBUztBQUN2RSxnQkFBTXVzQixLQUFheDZCLEdBQVErc0IsUUFBUzllLEVBQUFBLEdBQ2hDOUgsS0FBQUE7QUFBb0IsYUFHdEJBLEtBREV2SixFQUFHRCxLQUFLNjlCLEVBQUFBLElBQ0RBLEdBQVdGLElBQVdDLElBQVd4OEIsR0FBWXlPLFFBQVF1YixJQUFROVosRUFBQUEsSUFFN0R1c0IsT0FPWHpOLEdBQVFybkIsS0FBSyxFQUNYaEgsSUFBSTlCLEVBQUdHLE9BQU9vSixHQUFPekgsQ0FBQUEsSUFBS3lILEdBQU96SCxJQUFJNDdCLE1BQWF2UyxHQUFPcnBCLEdBQ3pESixJQUFJMUIsRUFBR0csT0FBT29KLEdBQU83SCxDQUFBQSxJQUFLNkgsR0FBTzdILElBQUlpOEIsTUFBYXhTLEdBQU96cEIsR0FFekRrNEIsT0FBTzU1QixFQUFHRyxPQUFPb0osR0FBT3F3QixLQUFBQSxJQUFTcndCLEdBQU9xd0IsUUFBUXgyQixHQUFRdzJCLE9BQ3hEeHdCLFFBQVF3MEIsSUFDUnZzQixPQUFBQSxJQUNBOFosUUFBQUEsR0FBQUEsQ0FBQUE7VUFFSjtBQVNELG1CQU5LdmtCLEtBQVUsRUFDZDJDLFFBQVEsTUFDUnMwQixTQUFBQSxPQUNBemxCLFVBQVUsR0FDVndoQixPQUFPLEdBQ1B6M0IsT0FBTyxFQUFFTCxHQUFHLEdBQUdKLEdBQUcsRUFBQSxFQUFBLEdBQ25CNlEsS0FBQUEsR0FBQUEsS0FFb0I0ZCxHQUFPcHZCLFFBQUF3UixNQUFFO0FBQXpCLGdCQUFNaEosS0FBVTRtQixHQUFPNWQsRUFBQUEsR0FDcEJxbkIsS0FBUXJ3QixHQUFPcXdCLE9BQ2ZsckIsS0FBS25GLEdBQU96SCxJQUFJTCxHQUFLSyxHQUNyQjZNLEtBQUtwRixHQUFPN0gsSUFBSUQsR0FBS0MsR0FDckIwVyxLQUFXL00sRUFBTXFELElBQUlDLEVBQUFBLEdBQ3ZCa3ZCLEtBQVV6bEIsTUFBWXdoQjtBQUl0QkEsWUFBQUEsT0FBVTlnQixJQUFBQSxLQUFZbFMsR0FBUWkzQixXQUFXajNCLEdBQVFnekIsVUFBVTlnQixJQUFBQSxNQUM3RCtrQixLQUFBQSxRQUlDajNCLEdBQVEyQyxVQUFBQSxFQUNSczBCLEtBRUdqM0IsR0FBUWkzQixXQUFXakUsT0FBVTlnQixJQUFBQSxJQUUzQlYsS0FBV3doQixLQUFRaHpCLEdBQVF3UixXQUFXeFIsR0FBUWd6QixRQUU3Q0EsT0FBVTlnQixJQUFBQSxLQUFZbFMsR0FBUWd6QixVQUFVOWdCLElBQUFBLEtBRXpDVixLQUFXeFIsR0FBUXdSLFdBQUFBLENBRXBCeFIsR0FBUWkzQixXQUFXemxCLEtBQVd4UixHQUFRd1IsY0FFM0N4UixHQUFRMkMsU0FBU0EsSUFDakIzQyxHQUFRd1IsV0FBV0EsSUFDbkJ4UixHQUFRZ3pCLFFBQVFBLElBQ2hCaHpCLEdBQVFpM0IsVUFBVUEsSUFDbEJqM0IsR0FBUXpFLE1BQU1MLElBQUk0TSxJQUNsQjlILEdBQVF6RSxNQUFNVCxJQUFJaU47VUFFdEI7QUFRQSxpQkFOSS9ILEdBQVFpM0IsWUFDVnQ4QixHQUFPTyxJQUFJOEUsR0FBUTJDLE9BQU96SCxHQUMxQlAsR0FBT0csSUFBSWtGLEdBQVEyQyxPQUFPN0gsSUFHNUJrakIsR0FBTWhlLFVBQVVBLElBQ1RBO1FBQ1QsR0F1QkVsRSxVQWI0QixFQUM1QmszQixPQUFPOWdCLElBQUFBLEdBQ1BxWCxTQUFTLE1BQ1RoRixRQUFRLE1BQ1JpUyxrQkFBQUEsTUFDQS95QixRQUFRLE1BQ1JrekIsZ0JBQWdCLE1BQ2hCeFcsU0FBQUEsT0FDQTFqQixTQUFBQSxNQUFTLEVBQUEsR0FRWHk2QixLQUFlNVcsR0FBYWdXLElBQU0sTUFBQTtBQzlIbEMsWUFRTWEsS0FBVyxFQUNmcDhCLE9BdEZGLFNBQWVxQixJQUFBQTtBQUNiLGNBQVE0aEIsS0FBaUI1aEIsR0FBakI0aEIsT0FBTzNhLEtBQVVqSCxHQUFWaUgsT0FDUDdHLEtBQVl3aEIsR0FBWnhoQjtBQUVSLGNBQUEsQ0FBSzZHLEdBQ0gsUUFBTztBQUdUakgsVUFBQUEsR0FBSTRoQixRQUFRLEVBQ1Z4aEIsU0FBUyxFQUNQK3NCLFNBQVMsTUFDVG9OLGdCQUFnQixDQUNkLEVBQ0V6N0IsR0FBR21JLEdBQU1uQyxPQUFPLElBQUksR0FDcEJwRyxHQUFHdUksR0FBTWpDLE1BQU0sSUFBSSxFQUFBLENBQUEsR0FHdkJtakIsUUFBUS9uQixHQUFRK25CLFVBQVUsUUFDMUI5Z0IsUUFBUSxFQUFFdkksR0FBRyxHQUFHSixHQUFHLEVBQUEsR0FDbkJrNEIsT0FBT3gyQixHQUFRdzJCLE1BQUFBLEVBQUFBLEdBSW5CaFYsR0FBTW9aLGVBQWVwWixHQUFNb1osZ0JBQWdCLENBQ3pDLENBQUMsU0FBUyxRQUFBLEdBQ1YsQ0FBQyxLQUFLLEdBQUEsQ0FBQSxHQUdSZCxHQUFLdjdCLE1BQU1xQixFQUFBQSxHQUNYNGhCLEdBQU00WSxVQUFVeDZCLEdBQUk0aEIsTUFBTTRZLFNBRTFCeDZCLEdBQUk0aEIsUUFBUUE7UUFDZCxHQXVERTNZLEtBckRGLFNBQWFqSixJQUFBQTtBQUNYLGNBQVE3QixLQUErQjZCLEdBQS9CN0IsYUFBYXlqQixLQUFrQjVoQixHQUFsQjRoQixPQUFPcmpCLEtBQVd5QixHQUFYekIsUUFDcEI2QixLQUFxQndoQixHQUFyQnhoQixTQUFTbzZCLEtBQVk1WSxHQUFaNFksU0FDWFMsS0FBVyxFQUNmbjhCLEdBQUdQLEdBQU9PLElBQUkwN0IsR0FBUSxDQUFBLEVBQUcxN0IsR0FDekJKLEdBQUdILEdBQU9HLElBQUk4N0IsR0FBUSxDQUFBLEVBQUc5N0IsRUFBQUE7QUFHM0JrakIsVUFBQUEsR0FBTXhoQixVQUFVOEYsRUFBTyxDQUFFLEdBQUU5RixFQUFBQSxHQUMzQndoQixHQUFNeGhCLFFBQVErc0IsVUFBVSxDQUFBO0FBQUUsbUJBQUFybEIsS0FBQTlJLEdBQUFBLEtBRURvQixHQUFRK3NCLFdBQVcsQ0FBQSxHQUFFcmxCLEtBQUE5SSxHQUFBakIsUUFBQStKLE1BQUU7QUFBM0MsZ0JBQU04eUIsS0FBVTU3QixHQUFBOEksRUFBQUEsR0FDZnZCLEtBQUFBO0FBUUosZ0JBTEVBLEtBREV2SixFQUFHRCxLQUFLNjlCLEVBQUFBLElBQ0RBLEdBQVdLLEdBQVNuOEIsR0FBR204QixHQUFTdjhCLEdBQUdQLEVBQUFBLElBRW5DeThCLElBR1g7QUFFQyx1QkFBQXJyQixLQUFBLEdBQUEyckIsS0FFOEJ0WixHQUFNb1osY0FBWXpyQixLQUFBMnJCLEdBQUFuOUIsUUFBQXdSLE1BQUU7QUFBOUMsb0JBQUE0ckIsS0FBQUQsR0FBQTNyQixFQUFBQSxHQUFPa25CLEtBQU0wRSxHQUFBLENBQUEsR0FBRXpFLEtBQU15RSxHQUFBLENBQUE7QUFDeEIsb0JBQUkxRSxNQUFVbHdCLE1BQVVtd0IsTUFBVW53QixJQUFRO0FBQ3hDQSxrQkFBQUEsR0FBT3pILElBQUl5SCxHQUFPa3dCLEVBQUFBLEdBQ2xCbHdCLEdBQU83SCxJQUFJNkgsR0FBT213QixFQUFBQTtBQUVsQjtnQkFDRjtjQUNGO0FBRUE5VSxjQUFBQSxHQUFNeGhCLFFBQVErc0IsUUFBUXJuQixLQUFLUyxFQUFBQTtZQVgzQjtVQVlGO0FBRUEsY0FBTUksS0FBY3V6QixHQUFLanhCLElBQUlqSixFQUFBQTtBQUk3QixpQkFGQTRoQixHQUFNeGhCLFVBQVVBLElBRVR1RztRQUNULEdBYUVqSCxVQVhnQyxFQUNoQ2szQixPQUFPOWdCLElBQUFBLEdBQ1BxWCxTQUFTLE1BQ1RoRixRQUFRLE1BQ1JwRSxTQUFBQSxPQUNBMWpCLFNBQUFBLE1BQVMsRUFBQSxHQVNYKzZCLEtBQWVsWCxHQUFhNlcsSUFBVSxVQUFBO0FDbkR0QyxZQ3hDZU0sS0FBQSxFQUNiN0QsYUFBQUEsSUFDQStCLGVBQUFBLElBQ0FULFVBQUFBLElBQ0F3QyxjQUFBQSxJQUNBQyxjQUFBQSxJQUNBQyxXRDRDYXRYLEdBVmlGLEVBQzlGdmxCLE9BZkYsU0FBZXFCLElBQUFBO0FBQ2IsY0FBUWlILEtBQVVqSCxHQUFWaUg7QUFFUixpQkFBS0EsTUFJTGpILEdBQUk0aEIsTUFBTW9aLGVBQWVoN0IsR0FBSTRoQixNQUFNb1osZ0JBQWdCLENBQ2pELENBQUMvekIsR0FBTW5DLE9BQU8sU0FBUyxTQUFTbUMsR0FBTWpDLE1BQU0sUUFBUSxRQUFBLENBQUEsR0FHL0MrMUIsR0FBU3A4QixNQUFNcUIsRUFBQUEsS0FQYjtRQVFYLEdBSUVpSixLQUFLOHhCLEdBQVM5eEIsS0FDZHZKLFVBQVV3RyxFQUFPcWEsR0FBTXdhLEdBQVNyN0IsUUFBQUEsR0FBVyxFQUN6Q3l0QixTQUFBQSxRQUNBeUosT0FBQUEsUUFDQXpPLFFBQVEsRUFBRXJwQixHQUFHLEdBQUdKLEdBQUcsRUFBQSxFQUFBLENBQUEsRUFBQSxHQUlnQixXQUFBLEdDM0NyQ3c3QixNQUFBQSxJQUNBYSxVQUFBQSxJQUVBVSxRQUFBQSxJQUNBQyxPQUFBQSxJQUNBQyxXQUFBQSxJQUNBL0MsWUFBQUEsR0FBQUEsR0NWSTFYLEtBQW9CLEVBQ3hCN2hCLElBQUksYUFDSkMsU0FBTyxTQUFDQyxJQUFBQTtBQUNOLGNBQXdCZ1QsS0FBYWhULEdBQTdCaVQ7QUFRUixtQkFBV3ZSLE1BTlgxQixHQUFNa1QsVUFBVTJMLEVBQUFBLEdBQ2hCN2UsR0FBTWtULFVBQVU0a0IsRUFBQUEsR0FFaEI5a0IsR0FBUzJPLFlBQVltYSxJQUdGQSxJQUFLO0FBQ3RCLGdCQUFBTyxLQUFnQ1AsR0FBSXA2QixFQUFBQSxHQUE1QnVqQixLQUFTb1gsR0FBVHBYLFdBQVdwRCxLQUFRd2EsR0FBUnhhO0FBRWpCb0QsWUFBQUEsR0FBa0JwRCxXQUFXQSxJQUM3QjdoQixHQUFNRyxTQUFTc2IsVUFBa0IvWixFQUFBQSxJQUFRdWpCO1VBQzdDO1FBQ0YsRUFBQSxHQUdGcVgsS0FBZTNhLElDaENGcmYsS0FBQUEsU0FBWXVMLElBQUFBO0FBQUFDLFlBQUF4TCxJQUFBdUwsRUFBQUE7QUFBQSxjQUFBRSxLQUFBQyxFQUFBMUwsRUFBQUE7QUFjdkIsbUJBQUFBLEdBQ0VaLElBQ0F3SSxJQUNBWSxJQUNBK04sSUFDQWphLElBQ0FrTCxJQUFBQTtBQUNBLGdCQUFBcUU7QUFnQkEsZ0JBaEJBcEIsRUFBQUEsTUFBQXpLLEVBQUFBLEdBRUFpUyxHQUEwQjRSLEVBRDFCaFksS0FBQUosR0FBQUssS0FBQUEsTUFBTXhQLEVBQUFBLENBQUFBLEdBQzJCa00sRUFBQUEsR0FFN0JBLE9BQVVaLE1BQ1pxSyxHQUEwQjRSLEVBQUFoWSxFQUFBQSxHQUFPakUsRUFBQUEsR0FHbkNpRSxHQUFLckUsWUFBWUEsSUFDakJxRSxHQUFLaWYsZ0JBQWdCdGlCLElBQ3JCcUQsR0FBS3pNLE9BQU9BLElBQ1p5TSxHQUFLM0QsWUFBWStKLEdBQTBCckssRUFBQUEsR0FDM0NpRSxHQUFLbk4sY0FBY3VULEdBQTRCckssRUFBQUEsR0FDL0NpRSxHQUFLbkgsU0FBUzZSLElBQ2QxSyxHQUFLdEIsZ0JBQWdCLE1BRVIsVUFBVG5MLElBQWdCO0FBQ2xCLGtCQUFNK2xCLEtBQWU3b0IsR0FBWW1wQixnQkFBZ0I3ZCxFQUFBQTtBQUNqRGlFLGNBQUFBLEdBQUtzTSxLQUFLdE0sR0FBS3JFLFlBQVlsTCxHQUFZK0wsU0FBUzhjLEVBQUFBLEVBQWNyQjtBQUU5RCxrQkFBTW1XLEtBQVdwdUIsR0FBS3JFLFlBQVlsTCxHQUFZNDlCO0FBRTlDcnVCLGNBQUFBLEdBQUtzdUIsU0FBQUEsQ0FBQUEsQ0FDRDc5QixHQUFZODlCLFdBQ2UsZ0JBQTdCOTlCLEdBQVk4OUIsUUFBUWg3QixRQUNwQjlDLEdBQVk4OUIsUUFBUTExQixXQUFXbUgsR0FBS25ILFVBQ3BDdTFCLEtBQVc7WUFDZixNQUFvQixpQkFBVDc2QixPQUNUeU0sR0FBS3NNLEtBQU12USxHQUFnQ0osWUFBWWxMLEdBQVk0OUIsU0FDbkVydUIsR0FBS3N1QixTQUFBQTtBQUNOLG1CQUFBdHVCO1VBQ0g7QUF5QkMsaUJBekJBaEIsRUFBQTdLLElBQUEsQ0FBQSxFQUFBOEssS0FBQSxtQkFBQTNHLE9BRUQsU0FBQTlILElBQUFBO0FBQW1ELGdCQUE5QmcrQixLQUFPaCtCLEdBQVZZLEdBQWVxOUIsS0FBT2orQixHQUFWUTtBQU01QixtQkFMQWtDLEtBQUs2SixTQUFTeXhCLElBQ2R0N0IsS0FBSzhKLFNBQVN5eEIsSUFDZHY3QixLQUFLK0osV0FBV3V4QixJQUNoQnQ3QixLQUFLZ0ssV0FBV3V4QixJQUVUdjdCO1VBQ1QsRUFBQSxHQUFDLEVBQUErTCxLQUFBLGNBQUEzRyxPQUVELFNBQUFoSCxJQUFBQTtBQUE4QyxnQkFBOUJrOUIsS0FBT2w5QixHQUFWRixHQUFlcTlCLEtBQU9uOUIsR0FBVk47QUFNdkIsbUJBTEFrQyxLQUFLNkosU0FBU3l4QixJQUNkdDdCLEtBQUs4SixTQUFTeXhCLElBQ2R2N0IsS0FBSytKLFdBQVd1eEIsSUFDaEJ0N0IsS0FBS2dLLFdBQVd1eEIsSUFFVHY3QjtVQUNULEVBQUEsR0FFQSxFQUFBK0wsS0FBQSxrQkFBQTNHLE9BR0EsV0FBQTtBQUNFcEYsaUJBQUsrckIsY0FBY3BOLGVBQUFBO1VBQ3JCLEVBQUEsQ0FBQSxDQUFBLEdBQUMxZDtRQUFBLEVBN0V1RHdLLEVBQUFBLEdDZ0ZwRCt2QixLQUF3QixFQUM1Qi84QixJQUFJLHVCQUNKMlcsUUFBUSxDQUFDLFdBQVcsYUFBYSxjQUFjLFNBQUEsR0FDL0MxVyxTQWdSRixTQUFpQkMsSUFBQUE7QUFDZkEsVUFBQUEsR0FBTTY4QixnQkFBZ0JBLElBQ3RCNzhCLEdBQU1HLFNBQVNGLFFBQVE0OEIsZ0JBQWdCQSxHQUFjMThCLFVBQ3JEd0csRUFBTzNHLEdBQU1DLFFBQVE2VSxnQkFBZ0IrbkIsR0FBYy9QLEtBQUFBO1FBQ3JELEdBblJFdHNCLFdBQVcsRUFDVCxvQkF3S0osU0FBNEJmLElBQUFBO0FBQWtCLGNBQWZiLEtBQVdhLEdBQVhiO0FBQzdCQSxVQUFBQSxHQUFZODlCLFVBQVUsTUFDdEI5OUIsR0FBWTQ5QixVQUFVO1FBQ3hCLEdBMUtJLCtCQTRLSixTQUFvQjNwQixJQUFBQTtBQUFtRSxjQUFoRW5QLEtBQUltUCxHQUFKblAsTUFBTWlrQixLQUFXOVUsR0FBWDhVO0FBQzNCLGNBQUEsQ0FBS2prQixNQUFRaWtCLEdBQVlqSSxLQUN2QjtBQUdGaUksVUFBQUEsR0FBWWpJLE9BQU8sRUFBRXFHLFVBQVV4UCxJQUFBQSxHQUFVd1QsU0FBUyxLQUFBO1FBQ3BELEdBakxJLHFCQTRMSixTQUEwQnRwQixJQUFzQ1QsSUFBQUE7QUFDOUQsY0FBUXBCLEtBQXdENkIsR0FBeEQ3QixhQUFhc0wsS0FBMkN6SixHQUEzQ3lKLFNBQVNZLEtBQWtDckssR0FBbENxSyxPQUFPK04sS0FBMkJwWSxHQUEzQm9ZO0FBQTJCcFksVUFBQUEsR0FBZHFmLGFBRTlCbGhCLEdBQVltQyxpQkFBQUEsQ0FBaUJuQyxHQUFZa2dCLG9CQUN2RGxnQixHQUFZbUMsaUJBQ2QrN0IsR0FBVXI4QixFQUFBQSxHQUdad08sR0FDRSxFQUNFclEsYUFBQUEsSUFDQXNMLFNBQUFBLElBQ0FZLE9BQUFBLElBQ0ErTixhQUFhQSxJQUNiblgsTUFBTSxPQUFBLEdBRVIxQixFQUFBQTtRQUdOLEdBOU1JLHFCQUFxQixTQUFDUyxJQUFLVCxJQUFBQTtBQUFBQSxXQWdOL0IsU0FBeUJxVixJQUV2QnJWLElBQUFBO0FBYUMscUJBZENwQixLQUFXeVcsR0FBWHpXLGFBQWFzTCxLQUFPbUwsR0FBUG5MLFNBQVNZLEtBQUt1SyxHQUFMdkssT0FBTytOLEtBQVd4RCxHQUFYd0QsYUFBYTRPLEtBQVlwUyxHQUFab1MsY0FHdENzVixLQUFRbitCLEdBQVkrTCxTQUFTOGMsRUFBQUEsRUFBYy9ILE1BQzNDcFosS0FBT3NHLEVBQWlCaU0sRUFBQUEsR0FDeEJ1TyxLQUFZLEVBQ2hCeG9CLGFBQUFBLElBQ0FzTCxTQUFBQSxJQUNBWSxPQUFBQSxJQUNBK04sYUFBQUEsSUFDQW5YLE1BQU0sUUFDTmtzQixTQUFTLENBQUEsR0FDVHRuQixNQUFBQSxJQUNBbEosTUFBTSxLQUFBLEdBQ1A0UyxLQUFBQSxHQUFBQSxLQUVrQjFKLEdBQUk5SCxRQUFBd1IsTUFBRTtBQUFwQixrQkFBTTVTLEtBQVFrSixHQUFJMEosRUFBQUE7QUFDckJvWCxjQUFBQSxHQUFVaHFCLE9BQU9BLElBRWpCNEMsR0FBTWlQLEtBQUssaUNBQWlDbVksRUFBQUE7WUFDOUM7QUFFQSxnQkFBQSxDQUFLQSxHQUFVd0csUUFBUXB2QixPQUFRO0FBRUwscUJBQXRCdytCLEtBQWN6bUIsSUFBQUEsR0FBUXBILEtBQUEsR0FBQTh0QixLQUVMN1YsR0FBVXdHLFNBQU96ZSxLQUFBOHRCLEdBQUF6K0IsUUFBQTJRLE1BQUU7QUFBbkMsa0JBQ0crdEIsS0FEU0QsR0FBQTl0QixFQUFBQSxFQUNhZ3VCLFVBQVV0OEIsUUFBUXE4QjtBQUUxQ0EsY0FBQUEsS0FBZUYsT0FDakJBLEtBQWNFO1lBRWxCO0FBRUFILFlBQUFBLEdBQU1oWCxXQUFXaVgsSUFDakJELEdBQU1oVCxVQUFVL1AsV0FBVyxXQUFBO0FBQ3pCL0ssaUJBQ0UsRUFDRXJRLGFBQUFBLElBQ0FpYSxhQUFBQSxJQUNBM08sU0FBQUEsSUFDQVksT0FBQUEsSUFDQXBKLE1BQU0sT0FBQSxHQUVSMUIsRUFBQUE7WUFFSCxHQUFFZzlCLEVBQUFBO1VBQ0wsRUEvUHVCdjhCLElBQUtULEVBQUFBLEdBQ3RCaVAsR0FBS3hPLElBQUtULEVBQUFBO1FBQ1gsR0FDRCxtQkFBbUIsU0FBQ1MsSUFBS1QsSUFBQUE7QUFDdkI4OEIsYUFBVXI4QixFQUFBQSxHQUNWd08sR0FBS3hPLElBQUtULEVBQUFBLEdBNFBoQixTQUFtQnNWLElBRWpCdFYsSUFBQUE7QUFDQSxnQkFGRXBCLEtBQVcwVyxHQUFYMVcsYUFBYXNMLEtBQU9vTCxHQUFQcEwsU0FBU1ksS0FBS3dLLEdBQUx4SyxPQUFPK04sS0FBV3ZELEdBQVh1RDtBQUcxQmphLFlBQUFBLEdBQVlrZ0IsbUJBQ2Y3UCxHQUFLLEVBQUVyUSxhQUFBQSxJQUFhaWEsYUFBQUEsSUFBYTNPLFNBQUFBLElBQVNZLE9BQUFBLElBQU9wSixNQUFNLE1BQUEsR0FBUzFCLEVBQUFBO1VBRXBFLEVBbFFpQlMsSUFBS1QsRUFBQUE7UUFDakIsR0FDRCx1QkFBdUIsU0FBQ1MsSUFBS1QsSUFBQUE7QUFDM0I4OEIsYUFBVXI4QixFQUFBQSxHQUNWd08sR0FBS3hPLElBQUtULEVBQUFBO1FBQ1osRUFBQSxHQUVGc0MsY0FBQUEsSUFDQTJNLE1BQUFBLElBQ0FtdUIscUJBQUFBLElBQ0FqOUIsVUFoQ29DLEVBQ3BDKzhCLGNBQWMsS0FDZDNnQixZQUFZLE1BQ1pFLFdBQVcsTUFDWDNVLFFBQVEsRUFBRXZJLEdBQUcsR0FBR0osR0FBRyxFQUFBLEVBQUEsR0E2Qm5CMnRCLE9BQU8sRUFDTHBwQixNQUFBQSxNQUNBbEUsTUFBQUEsTUFDQWlFLElBQUFBLE1BQ0FJLFFBQUFBLE1BQ0F3NUIsS0FBQUEsTUFDQUMsV0FBQUEsTUFDQTVkLE1BQUFBLEtBQU0sRUFBQTtBQUlWLGlCQUFTelEsR0FDUHhPLElBUUFULElBQUFBO0FBRUEsY0FBUXBCLEtBQThGNkIsR0FBOUY3QixhQUFhc0wsS0FBaUZ6SixHQUFqRnlKLFNBQVNZLEtBQXdFckssR0FBeEVxSyxPQUFPK04sS0FBaUVwWSxHQUFqRW9ZLGFBQWFuWCxLQUFvRGpCLEdBQXBEaUIsTUFBSTY3QixLQUFnRDk4QixHQUE5Q210QixTQUFBQSxLQUFBQSxXQUFPMlAsS0FBR0gsR0FBb0IzOEIsSUFBS1QsRUFBQUEsSUFBTXU5QixJQUUzRmh0QixLQUFlLElBQUlqTyxHQUFhWixJQUFNd0ksSUFBU1ksSUFBTytOLElBQWFqYSxJQUFhb0IsR0FBTThaLElBQUFBLENBQUFBO0FBRTVGOVosVUFBQUEsR0FBTWlQLEtBQUsscUJBQXFCLEVBQUVzQixjQUFBQSxHQUFBQSxDQUFBQTtBQVlsQyxtQkFWTTZXLEtBQVksRUFDaEJ4b0IsYUFBQUEsSUFDQXNMLFNBQUFBLElBQ0FZLE9BQUFBLElBQ0ErTixhQUFBQSxJQUNBK1UsU0FBQUEsSUFDQWxzQixNQUFBQSxJQUNBNk8sY0FBQUEsR0FBQUEsR0FHTzdDLEtBQUksR0FBR0EsS0FBSWtnQixHQUFRcHZCLFFBQVFrUCxNQUFLO0FBQ3ZDLGdCQUFNMUcsS0FBUzRtQixHQUFRbGdCLEVBQUFBO0FBRXZCLHFCQUFXNUcsTUFBUUUsR0FBT3cyQixTQUFTLENBQUEsRUFDL0JqdEIsQ0FBQUEsR0FBcUJ6SixFQUFBQSxJQUFRRSxHQUFPdzJCLE1BQU0xMkIsRUFBQUE7QUFHOUMsZ0JBQU1nQixLQUFTSCxFQUFZWCxHQUFPbTJCLFdBQVduMkIsR0FBTzVKLElBQUFBO0FBVXBELGdCQVJBbVQsR0FBYWt0QixnQkFBZ0IzMUIsRUFBQUEsR0FDN0J5SSxHQUFhNHNCLFlBQVluMkIsR0FBT20yQixXQUNoQzVzQixHQUFhMUQsZ0JBQWdCN0YsR0FBTzVKLE1BRXBDNEosR0FBT20yQixVQUFVbHVCLEtBQUtzQixFQUFBQSxHQUV0QkEsR0FBYW10QixXQUFXNTFCLEVBQUFBLEdBR3RCeUksR0FBYXZELCtCQUNadUQsR0FBYXRELHNCQUNaUyxLQUFJLElBQUlrZ0IsR0FBUXB2QixVQUNoQm92QixHQUFRbGdCLEtBQUksQ0FBQSxFQUFHdFEsU0FBU21ULEdBQWExRCxjQUV2QztVQUVKO0FBSUEsY0FGQTdNLEdBQU1pUCxLQUFLLHVCQUF1Qm1ZLEVBQUFBLEdBRXJCLFVBQVQxbEIsSUFBZ0I7QUFHbEIsZ0JBQU1nN0IsS0FBVW5zQixHQUFha3NCLFNBQ3pCeHRCLEdBQ0UsRUFDRXJRLGFBQUFBLElBQ0FzTCxTQUFBQSxJQUNBWSxPQUFBQSxJQUNBK04sYUFBQUEsSUFDQW5YLE1BQU0sWUFBQSxHQUVSMUIsRUFBQUEsSUFFRnVRO0FBRUozUixZQUFBQSxHQUFZODlCLFVBQVVBLElBQ3RCOTlCLEdBQVk0OUIsVUFBVUUsR0FBUTV5QjtVQUNoQztBQUVBLGlCQUFPeUc7UUFDVDtBQUVBLGlCQUFTNnNCLEdBQW1CeitCLElBYzFCcUIsSUFBQUE7QUFDQSxjQWJFcEIsS0FBV0QsR0FBWEMsYUFDQXNMLEtBQU92TCxHQUFQdUwsU0FDQVksS0FBS25NLEdBQUxtTSxPQUNBK04sS0FBV2xhLEdBQVhrYSxhQUNBblgsS0FBSS9DLEdBQUorQyxNQVVJK2xCLEtBQWU3b0IsR0FBWW1wQixnQkFBZ0I3ZCxFQUFBQSxHQUMzQ3lkLEtBQWMvb0IsR0FBWStMLFNBQVM4YyxFQUFBQTtBQUd6QyxjQUNXLFVBQVQvbEIsT0FDQzlDLEdBQVlrZ0IsbUJBQUFBLENBRVQ2SSxNQUFlQSxHQUFZakIsZUFBZTdOLElBRTlDLFFBQU8sQ0FBQTtBQWFSLG1CQVZLdlMsS0FBT3NHLEVBQWlCaU0sRUFBQUEsR0FDeEJ1TyxLQUFZLEVBQ2hCeG9CLGFBQUFBLElBQ0FzTCxTQUFBQSxJQUNBWSxPQUFBQSxJQUNBK04sYUFBQUEsSUFDQW5YLE1BQUFBLElBQ0E0RSxNQUFBQSxJQUNBc25CLFNBQVMsQ0FBQSxHQUNUeHdCLE1BQU0sS0FBQSxHQUNQbUwsS0FBQUEsR0FBQUEsS0FFa0JqQyxHQUFJOUgsUUFBQStKLE1BQUU7QUFBcEIsZ0JBQU1uTCxLQUFRa0osR0FBSWlDLEVBQUFBO0FBQ3JCNmUsWUFBQUEsR0FBVWhxQixPQUFPQSxJQUVqQjRDLEdBQU1pUCxLQUFLLGlDQUFpQ21ZLEVBQUFBO1VBQzlDO0FBU0EsaUJBUGEsV0FBVDFsQixPQUNGMGxCLEdBQVV3RyxVQUFVeEcsR0FBVXdHLFFBQVE1bEIsT0FDcEMsU0FBQ2hCLElBQUFBO0FBQU0sZ0JBQUEyMkIsSUFBQW5NO0FBQUEsbUJBQ0x4cUIsR0FBT20yQixVQUFVdDhCLFFBQVFxOEIsa0JBQW1ELFNBQXZDUyxLQUFLLytCLEdBQVkrTCxTQUFTOGMsRUFBQUEsTUFBbUIsU0FBTitKLEtBQWxDbU0sR0FBb0NqZSxRQUFBQSxTQUFwQzhSLEdBQTBDekw7VUFBUSxDQUFBLElBSTNGcUIsR0FBVXdHO1FBQ25CO0FBZUEsaUJBQVNrUCxHQUFTMW5CLElBQUFBO0FBQWdDLGNBQTdCeFcsS0FBV3dXLEdBQVh4VyxhQUFhNm9CLEtBQVlyUyxHQUFacVMsY0FDMUIvSCxLQUFPOWdCLEdBQVkrTCxTQUFTOGMsRUFBQUEsRUFBYy9IO0FBRTVDQSxVQUFBQSxNQUFRQSxHQUFLcUssWUFDZjlQLGFBQWF5RixHQUFLcUssT0FBQUEsR0FDbEJySyxHQUFLcUssVUFBVTtRQUVuQjtBQUFBLFlBQUEsS0FBQSxPQUFBLE9BQUEsRUFBQSxXQUFBLE1BQUEsU0FBQSxHQUFBLENBQUE7QUNoTkEsaUJBQVM2VCxHQUFhL3FCLElBQUFBO0FBQWdELGNBQTdDalUsS0FBV2lVLEdBQVhqVTtBQUduQkEsVUFBQUEsR0FBWWkvQix1QkFDZEMsY0FBY2wvQixHQUFZaS9CLGtCQUFBQSxHQUMxQmovQixHQUFZaS9CLHFCQUFxQjtRQUVyQztBQUVBLFlBQU1FLEtBQXFCLEVBQ3pCaitCLElBQUksNkJBQ0pDLFNBdERGLFNBQWlCQyxJQUFBQTtBQUNmQSxVQUFBQSxHQUFNa1QsVUFBVTBNLEVBQUFBO0FBRWhCLGNBQVFpZCxLQUFrQjc4QixHQUFsQjY4QjtBQUdSQSxVQUFBQSxHQUFjMThCLFNBQVM2OUIscUJBQXFCLEdBQzVDbkIsR0FBYy9QLE1BQU1tUixhQUFhaitCLEdBQU1DLFFBQVE2VSxlQUFlbXBCLGFBQUFBO1FBQ2hFLEdBK0NFejlCLFdBQVcsQ0FBQyxRQUFRLE1BQU0sVUFBVSxRQUFBLEVBQVUrUyxPQUM1QyxTQUFDQyxJQUFLMHFCLElBQUFBO0FBRUosaUJBREUxcUIsR0FBQUEsaUJBQUc1SyxPQUEwQnMxQixFQUFBQSxDQUFBQSxJQUFnQk4sSUFDeENwcUI7UUFDVCxHQUNBLEVBQ0UscUJBbkROLFNBQWM3VSxJQUFBQTtBQUF3RCxjQUFyRDRSLEtBQVk1UixHQUFaNFI7QUFDVyxxQkFBdEJBLEdBQWE3TyxTQUVqQjZPLEdBQWE0dEIsU0FBUzV0QixHQUFhNHRCLFNBQVMsS0FBSztRQUNuRCxHQWdETSx1QkE5Q04sU0FBZ0IxK0IsSUFFZE8sSUFBQUE7QUFDQSxjQUZFcEIsS0FBV2EsR0FBWGIsYUFBYTJSLEtBQVk5USxHQUFaOFEsY0FBY3NJLEtBQVdwWixHQUFYb1osYUFBYStVLEtBQU9udUIsR0FBUG11QjtBQUcxQyxjQUEwQixXQUF0QnJkLEdBQWE3TyxRQUFvQmtzQixHQUFRcHZCLFFBQTdDO0FBR0EsZ0JBQU0rOUIsS0FBVzNPLEdBQVEsQ0FBQSxFQUFHdVAsVUFBVXQ4QixRQUFRbTlCO0FBRzFDekIsWUFBQUEsTUFBWSxNQUdoQjM5QixHQUFZaS9CLHFCQUFxQjdqQixXQUFXLFdBQUE7QUFDMUNoYSxjQUFBQSxHQUFNNjhCLGNBQWM1dEIsS0FDbEIsRUFDRXJRLGFBQUFBLElBQ0FpYSxhQUFBQSxJQUNBblgsTUFBTSxRQUNOd0ksU0FBU3FHLElBQ1R6RixPQUFPeUYsR0FBQUEsR0FFVHZRLEVBQUFBO1lBRUgsR0FBRXU4QixFQUFBQTtVQXBCa0Q7UUFxQnZELEVBQUEsQ0FBQSxFQUFBLEdBMEJBNkIsS0FBZUw7QUN0RGYsWUFBTXJJLEtBQWlCLEVBQ3JCNTFCLElBQUksc0NBQ0pDLFNBM0JGLFNBQWlCQyxJQUFBQTtBQUNmLGNBQVFFLEtBQWlCRixHQUFqQkU7QUFFUkEsVUFBQUEsR0FBYUUsVUFBVXk4QixnQkFBZ0IsU0FFckNoOEIsSUFBQUE7QUFJQSxtQkFGQThGLEVBQU90RixLQUFLcU4sT0FBTzdOLFNBQVNBLEVBQUFBLEdBRXJCUTtVQUFBQTtBQUdULGNBQU1nOUIsS0FBcUJuK0IsR0FBYUUsVUFBVW9jO0FBRWxEdGMsVUFBQUEsR0FBYUUsVUFBVW9jLG9CQUFvQixTQUFVNFcsSUFBWXZlLElBQUFBO0FBQy9ELGdCQUFNdVEsS0FBTWlaLEdBQW1CandCLEtBQUsvTSxNQUFNK3hCLElBQVl2ZSxFQUFBQTtBQU10RCxtQkFKSXVRLE9BQVEvakIsU0FDVkEsS0FBS3FOLE9BQU83TixRQUFRdXlCLEVBQUFBLElBQWN2ZSxLQUc3QnVRO1VBQUFBO1FBRVgsR0FLRTVrQixXQUFXLEVBQ1QsaUNBQWlDLFNBQUE3QixJQUF1Q3FCLElBQUFBO0FBQVUsY0FBOUM0dEIsS0FBT2p2QixHQUFQaXZCLFNBQVN4d0IsS0FBSXVCLEdBQUp2QixNQUFNc0UsS0FBSS9DLEdBQUorQyxNQUFNbVgsS0FBV2xhLEdBQVhrYTtBQUN2RDdZLFVBQUFBLEdBQU00UCxjQUFjME4sYUFBYWxnQixJQUFNLFNBQUNzRCxJQUFBQTtBQUN0QyxnQkFBTXk4QixLQUFZejhCLEdBQWFnTyxRQUN6QjdOLEtBQVVzOEIsR0FBVXQ4QjtBQUd4QnM4QixZQUFBQSxHQUFVclEsTUFBTXByQixFQUFBQSxLQUNoQnk3QixHQUFVclEsTUFBTXByQixFQUFBQSxFQUFNbEQsVUFDdEJrQyxHQUFhaWMsZ0JBQWdCOWIsSUFBU3pELElBQU15YixFQUFBQSxLQUU1QytVLEdBQVFybkIsS0FBSyxFQUNYbkosTUFBQUEsSUFDQSsvQixXQUFBQSxJQUNBSyxPQUFPLEVBQUU5OEIsY0FBQUEsR0FBQUEsRUFBQUEsQ0FBQUE7VUFHZixDQUFBO1FBQ0QsR0FFRCxvQkFBb0IsU0FBQWpCLElBQUFBO0FBQXNCLGNBQW5CaUIsS0FBWWpCLEdBQVppQjtBQUNyQkEsVUFBQUEsR0FBYWdPLE9BQU96SCxVQUFVLFNBQVVsSixJQUFBQTtBQUN0QyxtQkFBTzJDLEdBQWF1RyxRQUFRbEosRUFBQUE7VUFBQUE7UUFFL0IsR0FFRCxvQkFBb0IsU0FBQThVLElBQTRCN1MsSUFBQUE7QUFBVSxjQUFuQ1UsS0FBWW1TLEdBQVpuUyxjQUFjRyxLQUFPZ1MsR0FBUGhTO0FBQ25DOEYsWUFBT2pHLEdBQWFnTyxPQUFPN04sU0FBU2IsR0FBTTY4QixjQUFjMThCLFFBQUFBLEdBQ3hEd0csRUFBT2pHLEdBQWFnTyxPQUFPN04sU0FBU0EsR0FBUWc4QixpQkFBaUIsQ0FBQSxDQUFBO1FBQy9ELEVBQUEsRUFBQSxHQUlKeUIsS0FBZTVJLElDaEVUQSxLQUFpQixFQUNyQjUxQixJQUFJLGtCQUNKQyxTQUFPLFNBQUNDLElBQUFBO0FBQ05BLFVBQUFBLEdBQU1rVCxVQUFVMnBCLEVBQUFBLEdBQ2hCNzhCLEdBQU1rVCxVQUFVNnFCLEVBQUFBLEdBQ2hCLzlCLEdBQU1rVCxVQUFVb3JCLEVBQUFBO1FBQ2xCLEVBQUEsR0FHRnpCLEtBQWVuSDtBQ21KZixZQUFNNkksS0FBaUIsRUFDckJ6K0IsSUFBSSxVQUNKQyxTQXRIRixTQUFpQkMsSUFBQUE7QUFDZixjQUFRRSxLQUFpQkYsR0FBakJFO0FBRVJGLFVBQUFBLEdBQU1DLFFBQVE4Z0IsT0FBT3dkLFNBQUFBLE1BRXJCcitCLEdBQWFFLFVBQVVtK0IsU0FBUyxTQUFVcjlCLElBQUFBO0FBQ3hDLG1CQUlKLFNBQ0VSLElBQ0FRLElBQ0FsQixJQUFBQTtBQWtEQyx1QkFoREsrUSxLQUFXclEsR0FBYXdQLGVBQUFBLEdBR3hCc3VCLEtBQVd4K0IsR0FBTW5ELE9BQWUyaEMsU0FDaENDLEtBQXdDRCxLQUFVLENBQUEsSUFBSyxNQUFJcDFCLEtBQUFBLFdBQUFBO0FBRTVELG9CQUFNckwsS0FBV2dULEdBQVF4SSxFQUFBQSxHQUN0QmhCLEtBQU83RyxHQUFhdUcsUUFBUWxKLEVBQUFBO0FBRWxDLG9CQUFBLENBQUt3SixHQUFNLFFBQUE7QUFJWCxvQkFRSW0zQixJQVJFQyxLQUFxQjV2QixHQUFTL08sR0FBTW9lLGFBQWF2TyxNQUFNLFNBQUNqUixJQUFBQTtBQUM1RCx5QkFDRUEsR0FBWXNjLFlBQUFBLEtBQ1p0YyxHQUFZOEIsaUJBQWlCQSxNQUM3QjlCLEdBQVliLFlBQVlBLE1BQ3hCYSxHQUFZQyxTQUFTQyxTQUFTb0MsR0FBT3BDO2dCQUV6QyxDQUFBO0FBR0Esb0JBQUk2L0IsR0FDRkEsQ0FBQUEsR0FBbUJuL0IsS0FBQUEsR0FFZmkvQixPQUNGQyxLQUNFQyxHQUFtQkMsa0JBQ25CLElBQUlKLEdBQVEsU0FBQ0ssSUFBQUE7QUFDWEYsa0JBQUFBLEdBQW1CRyxpQkFBaUJEO2dCQUN0QyxDQUFBO3FCQUVDO0FBQ0wsc0JBQU1FLEtBQU92M0IsRUFBV0QsRUFBQUEsR0FPbEJ1RCxLeEQ0SEwseUJBQXVCOUwsSUFBQUE7QUEwQzVCLDJCQXpDYyxFQUNaQSxRQUFBQSxJQUNBLElBQUEsT0FBSUU7QUFDRiw2QkFBT21DLEtBQUtyQyxPQUFPRTtvQkFDcEIsR0FDRCxJQUFBLFNBQUlHO0FBQ0YsNkJBQU9nQyxLQUFLckMsT0FBT0s7b0JBQ3BCLEdBQ0QsSUFBQSxZQUFJeUs7QUFDRiw2QkFBT3pJLEtBQUtyQyxPQUFPOEs7b0JBQ3BCLEdBQ0QsSUFBQSxRQUFJb0I7QUFDRiw2QkFBTzdKLEtBQUtyQyxPQUFPRSxLQUFLSztvQkFDekIsR0FDRCxJQUFBLFFBQUk0TDtBQUNGLDZCQUFPOUosS0FBS3JDLE9BQU9FLEtBQUtDO29CQUN6QixHQUNELElBQUEsVUFBSWlNO0FBQ0YsNkJBQU8vSixLQUFLckMsT0FBT0ssT0FBT0U7b0JBQzNCLEdBQ0QsSUFBQSxVQUFJOEw7QUFDRiw2QkFBT2hLLEtBQUtyQyxPQUFPSyxPQUFPRjtvQkFDM0IsR0FDRCxJQUFBLFlBQUlxTDtBQUNGLDZCQUFPbkosS0FBS3JDLE9BQU93TDtvQkFDcEIsR0FDRCxJQUFBLFNBQUl4RDtBQUNGLDZCQUFPM0YsS0FBS3JDLE9BQU9nSTtvQkFDcEIsR0FDRCxJQUFBLE9BQUl0RjtBQUNGLDZCQUFPTCxLQUFLckMsT0FBTzBDO29CQUNwQixHQUNELElBQUEsY0FBSVY7QUFDRiw2QkFBT0ssS0FBS3JDLE9BQU9nQztvQkFDcEIsR0FDRCxJQUFBLFVBQUlMO0FBQ0YsNkJBQU9VLEtBQUtyQyxPQUFPMkI7b0JBQ3BCLEdBQ0RxZixnQkFBYyxXQUFBO29CQUFJLEVBQUE7a0JBSXRCLEV3RDdLcUIsRUFDYjlnQixNQUFNLEVBQUVLLEdBQUd3L0IsR0FBS3gvQixHQUFHSixHQUFHNC9CLEdBQUs1L0IsRUFBQUEsR0FDM0JFLFFBQVEsRUFBRUUsR0FBR3cvQixHQUFLeC9CLEdBQUdKLEdBQUc0L0IsR0FBSzUvQixFQUFBQSxHQUM3QjJLLFdBQVc5SixHQUFNOFosSUFBQUEsRUFBQUEsQ0FBQUE7QUFJbkI0a0Isa0JBQUFBLEtBV04sU0FDRTErQixJQUNBVSxJQUNBM0MsSUFDQW1ELElBQ0E0SixJQUFBQTtBQUVBLHdCQUFNbE0sS0FBY29CLEdBQU1vZSxhQUFhNFMsSUFBSSxFQUFFaHdCLGFBQWEsU0FBQSxDQUFBLEdBQ3BEb21CLEtBQVksRUFDaEJ4b0IsYUFBQUEsSUFDQWtNLE9BQUFBLElBQ0FaLFNBQVNZLElBQ1QrTixhQUFhOWEsSUFDYjJYLE9BQU8sU0FBQTtBQUdUOVcsb0JBQUFBLEdBQVk4QixlQUFlQSxJQUMzQjlCLEdBQVliLFVBQVVBLElBQ3RCYSxHQUFZMFgsWUFBWXhMLElBQ3hCbE0sR0FBWThvQixjQUFjNWMsSUFBT0EsSUFBTy9NLElBQUFBLElBQVMsR0FDakR3VyxHQUEyQjNWLEdBQVlJLE9BQU9ZLEtBQUFBLEdBRTlDcWMsR0FBV3JkLEdBQVlDLFVBQVVxQyxFQUFBQSxHQUNqQ3RDLEdBQVlncEIsU0FBU1IsRUFBQUE7QUFFckIsd0JBQUF6b0IsS0FBb0JxQixHQUFNbkQsUUFBbEIyaEMsS0FBTzcvQixHQUFQNi9CLFNBQ0ZFLEtBQWdCRixLQUNsQixJQUFJQSxHQUFtQixTQUFDSyxJQUFBQTtBQUN0QmpnQyxzQkFBQUEsR0FBWWtnQyxpQkFBaUJEO29CQUM5QixDQUFBLElBQUE7QUFHTGpnQyxvQkFBQUEsR0FBWWdnQyxpQkFBaUJGLElBQzdCOS9CLEdBQVlRLE1BQU04QixJQUFRUixJQUFjM0MsRUFBQUEsR0FFcENhLEdBQVlnZ0IsZ0JBQ2RoZ0IsR0FBWVksS0FBSzRuQixFQUFBQSxHQUNqQnhvQixHQUFZcXBCLElBQUluZCxFQUFBQSxNQUVoQmxNLEdBQVkyYixLQUFBQSxHQUNaM2IsR0FBWWtnQyxlQUFBQTtBQUtkLDJCQUZBbGdDLEdBQVlzcEIsY0FBY3BkLElBQU9BLEVBQUFBLEdBRTFCNHpCO2tCQUNULEVBekRxQzErQixJQUFPVSxJQUFjM0MsSUFBU21ELElBQVE0SixFQUFBQTtnQkFDdkU7QUFFSTJ6QixnQkFBQUEsTUFDRkEsR0FBU2w0QixLQUFLbTRCLEVBQUFBO2NBQUFBLEdBRWpCbjJCLEtBQUFBLEdBQUFBLEtBMUNxQndJLEdBQVF2UyxVQUFBQSxDQUFBNEssR0FBQUEsR0FBQWIsS0FBQUE7QUE0QzlCLHFCQUFPazJCLE1BQVlELEdBQVExQyxJQUFJMkMsRUFBQUEsRUFBVU8sS0FBSyxXQUFBO0FBQUEsdUJBQU10K0I7Y0FBQUEsQ0FBQUE7WUFDdEQsRUE1RG9CVyxNQUFNSCxJQUFRbEIsRUFBQUE7VUFBQUE7UUFFbEMsR0ErR0VRLFdBQVcsRUFFVCxxQkFBcUIsU0FBQWYsSUFBa0JPLElBQUFBO0FBQVUsY0FBekJwQixLQUFXYSxHQUFYYjtBQUNVLHVCQUE1QkEsR0FBWW9DLGdCQUNWcEMsR0FBWWtnQyxrQkFDZGxnQyxHQUFZa2dDLGVBQUFBLEd0RDVLQSxTQUFJdmdDLElBQVl5SSxJQUFBQTtBQUFjekksWUFBQUEsR0FBTUUsT0FBT0YsR0FBTStLLFFBQVF0QyxFQUFBQSxHQUFTLENBQUE7VUFBRSxFc0QrS3ZFaEgsR0FBTW9lLGFBQWF2TyxNQUFNalIsRUFBQUE7UUFFeEMsRUFBQSxFQUFBLEdBSUpxZ0MsS0FBZVY7QUNwTGYsWUNxQkF2ckIsR0FBU3lpQixJQUFJdFYsRUFBQUEsR0FFYm5OLEdBQVN5aUIsSUFBSTdNLEVBQUFBLEdBR2I1VixHQUFTeWlCLElBQUlvSCxFQUFBQSxHQUdiN3BCLEdBQVN5aUIsSUFBSXhKLEVBQUFBLEdBR2JqWixHQUFTeWlCLElBQUk5VCxFQUFBQSxHQUdiM08sR0FBU3lpQixJQUFJM1gsRUFBQUEsR0FHYjlLLEdBQVN5aUIsSUFBSXgxQixFQUFBQSxHQUdiK1MsR0FBU3lpQixJQUFJdmIsRUFBQUEsR0FHYmxILEdBQVN5aUIsSUFBSThJLEVBQUFBLEdBUUgxSCxHQUFTcUksVUFBVWxzQixJRHBEUCxjQUFMelYsZUFBQUEsT0FBTnFuQixTQUFNcm5CLGNBQUFBLEVBQU5xbkIsTUFBQUEsTUFBeUJBLE9BQ2xDLEtBQUE7QUFDRUEsaUJBQU91YSxVQUFVbnNCO1FBQ25CLFNBQUVvc0IsSUFBQUE7UUFBTztBQUFBLGVBR0R2SSxHQUFTcUksVUFBVWxzQixJQUFBQTtNQUFBQSxDQUFBQTs7Ozs7QUVQN0IsTUFBTSxnQkFBTixNQUFvQjtBQUFBLElBQ2hCLFlBQVksYUFBYSxXQUFXLGNBQWM7QUFDOUMsV0FBSyxjQUFjO0FBQ25CLFdBQUssWUFBWTtBQUNqQixXQUFLLGVBQWU7QUFDcEIsV0FBSyxvQkFBb0Isb0JBQUksSUFBSTtBQUFBLElBQ3JDO0FBQUEsSUFDQSxVQUFVO0FBQ04sV0FBSyxZQUFZLGlCQUFpQixLQUFLLFdBQVcsTUFBTSxLQUFLLFlBQVk7QUFBQSxJQUM3RTtBQUFBLElBQ0EsYUFBYTtBQUNULFdBQUssWUFBWSxvQkFBb0IsS0FBSyxXQUFXLE1BQU0sS0FBSyxZQUFZO0FBQUEsSUFDaEY7QUFBQSxJQUNBLGlCQUFpQixTQUFTO0FBQ3RCLFdBQUssa0JBQWtCLElBQUksT0FBTztBQUFBLElBQ3RDO0FBQUEsSUFDQSxvQkFBb0IsU0FBUztBQUN6QixXQUFLLGtCQUFrQixPQUFPLE9BQU87QUFBQSxJQUN6QztBQUFBLElBQ0EsWUFBWSxPQUFPO0FBQ2YsWUFBTXFzQixpQkFBZ0IsWUFBWSxLQUFLO0FBQ3ZDLGlCQUFXLFdBQVcsS0FBSyxVQUFVO0FBQ2pDLFlBQUlBLGVBQWMsNkJBQTZCO0FBQzNDO0FBQUEsUUFDSixPQUNLO0FBQ0Qsa0JBQVEsWUFBWUEsY0FBYTtBQUFBLFFBQ3JDO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxJQUNBLGNBQWM7QUFDVixhQUFPLEtBQUssa0JBQWtCLE9BQU87QUFBQSxJQUN6QztBQUFBLElBQ0EsSUFBSSxXQUFXO0FBQ1gsYUFBTyxNQUFNLEtBQUssS0FBSyxpQkFBaUIsRUFBRSxLQUFLLENBQUMsTUFBTSxVQUFVO0FBQzVELGNBQU0sWUFBWSxLQUFLLE9BQU8sYUFBYSxNQUFNO0FBQ2pELGVBQU8sWUFBWSxhQUFhLEtBQUssWUFBWSxhQUFhLElBQUk7QUFBQSxNQUN0RSxDQUFDO0FBQUEsSUFDTDtBQUFBLEVBQ0o7QUFDQSxXQUFTLFlBQVksT0FBTztBQUN4QixRQUFJLGlDQUFpQyxPQUFPO0FBQ3hDLGFBQU87QUFBQSxJQUNYLE9BQ0s7QUFDRCxZQUFNLEVBQUUseUJBQXlCLElBQUk7QUFDckMsYUFBTyxPQUFPLE9BQU8sT0FBTztBQUFBLFFBQ3hCLDZCQUE2QjtBQUFBLFFBQzdCLDJCQUEyQjtBQUN2QixlQUFLLDhCQUE4QjtBQUNuQyxtQ0FBeUIsS0FBSyxJQUFJO0FBQUEsUUFDdEM7QUFBQSxNQUNKLENBQUM7QUFBQSxJQUNMO0FBQUEsRUFDSjtBQUVBLE1BQU0sYUFBTixNQUFpQjtBQUFBLElBQ2IsWUFBWUMsY0FBYTtBQUNyQixXQUFLLGNBQWNBO0FBQ25CLFdBQUssb0JBQW9CLG9CQUFJLElBQUk7QUFDakMsV0FBSyxVQUFVO0FBQUEsSUFDbkI7QUFBQSxJQUNBLFFBQVE7QUFDSixVQUFJLENBQUMsS0FBSyxTQUFTO0FBQ2YsYUFBSyxVQUFVO0FBQ2YsYUFBSyxlQUFlLFFBQVEsQ0FBQyxrQkFBa0IsY0FBYyxRQUFRLENBQUM7QUFBQSxNQUMxRTtBQUFBLElBQ0o7QUFBQSxJQUNBLE9BQU87QUFDSCxVQUFJLEtBQUssU0FBUztBQUNkLGFBQUssVUFBVTtBQUNmLGFBQUssZUFBZSxRQUFRLENBQUMsa0JBQWtCLGNBQWMsV0FBVyxDQUFDO0FBQUEsTUFDN0U7QUFBQSxJQUNKO0FBQUEsSUFDQSxJQUFJLGlCQUFpQjtBQUNqQixhQUFPLE1BQU0sS0FBSyxLQUFLLGtCQUFrQixPQUFPLENBQUMsRUFBRSxPQUFPLENBQUMsV0FBVyxRQUFRLFVBQVUsT0FBTyxNQUFNLEtBQUssSUFBSSxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUFBLElBQ2hJO0FBQUEsSUFDQSxpQkFBaUIsU0FBUztBQUN0QixXQUFLLDZCQUE2QixPQUFPLEVBQUUsaUJBQWlCLE9BQU87QUFBQSxJQUN2RTtBQUFBLElBQ0Esb0JBQW9CLFNBQVMsc0JBQXNCLE9BQU87QUFDdEQsV0FBSyw2QkFBNkIsT0FBTyxFQUFFLG9CQUFvQixPQUFPO0FBQ3RFLFVBQUk7QUFDQSxhQUFLLDhCQUE4QixPQUFPO0FBQUEsSUFDbEQ7QUFBQSxJQUNBLFlBQVlDLFFBQU9DLFVBQVMsU0FBUyxDQUFDLEdBQUc7QUFDckMsV0FBSyxZQUFZLFlBQVlELFFBQU8sU0FBU0MsUUFBTyxJQUFJLE1BQU07QUFBQSxJQUNsRTtBQUFBLElBQ0EsOEJBQThCLFNBQVM7QUFDbkMsWUFBTSxnQkFBZ0IsS0FBSyw2QkFBNkIsT0FBTztBQUMvRCxVQUFJLENBQUMsY0FBYyxZQUFZLEdBQUc7QUFDOUIsc0JBQWMsV0FBVztBQUN6QixhQUFLLDZCQUE2QixPQUFPO0FBQUEsTUFDN0M7QUFBQSxJQUNKO0FBQUEsSUFDQSw2QkFBNkIsU0FBUztBQUNsQyxZQUFNLEVBQUUsYUFBYSxXQUFXLGFBQWEsSUFBSTtBQUNqRCxZQUFNLG1CQUFtQixLQUFLLG9DQUFvQyxXQUFXO0FBQzdFLFlBQU0sV0FBVyxLQUFLLFNBQVMsV0FBVyxZQUFZO0FBQ3RELHVCQUFpQixPQUFPLFFBQVE7QUFDaEMsVUFBSSxpQkFBaUIsUUFBUTtBQUN6QixhQUFLLGtCQUFrQixPQUFPLFdBQVc7QUFBQSxJQUNqRDtBQUFBLElBQ0EsNkJBQTZCLFNBQVM7QUFDbEMsWUFBTSxFQUFFLGFBQWEsV0FBVyxhQUFhLElBQUk7QUFDakQsYUFBTyxLQUFLLG1CQUFtQixhQUFhLFdBQVcsWUFBWTtBQUFBLElBQ3ZFO0FBQUEsSUFDQSxtQkFBbUIsYUFBYSxXQUFXLGNBQWM7QUFDckQsWUFBTSxtQkFBbUIsS0FBSyxvQ0FBb0MsV0FBVztBQUM3RSxZQUFNLFdBQVcsS0FBSyxTQUFTLFdBQVcsWUFBWTtBQUN0RCxVQUFJLGdCQUFnQixpQkFBaUIsSUFBSSxRQUFRO0FBQ2pELFVBQUksQ0FBQyxlQUFlO0FBQ2hCLHdCQUFnQixLQUFLLG9CQUFvQixhQUFhLFdBQVcsWUFBWTtBQUM3RSx5QkFBaUIsSUFBSSxVQUFVLGFBQWE7QUFBQSxNQUNoRDtBQUNBLGFBQU87QUFBQSxJQUNYO0FBQUEsSUFDQSxvQkFBb0IsYUFBYSxXQUFXLGNBQWM7QUFDdEQsWUFBTSxnQkFBZ0IsSUFBSSxjQUFjLGFBQWEsV0FBVyxZQUFZO0FBQzVFLFVBQUksS0FBSyxTQUFTO0FBQ2Qsc0JBQWMsUUFBUTtBQUFBLE1BQzFCO0FBQ0EsYUFBTztBQUFBLElBQ1g7QUFBQSxJQUNBLG9DQUFvQyxhQUFhO0FBQzdDLFVBQUksbUJBQW1CLEtBQUssa0JBQWtCLElBQUksV0FBVztBQUM3RCxVQUFJLENBQUMsa0JBQWtCO0FBQ25CLDJCQUFtQixvQkFBSSxJQUFJO0FBQzNCLGFBQUssa0JBQWtCLElBQUksYUFBYSxnQkFBZ0I7QUFBQSxNQUM1RDtBQUNBLGFBQU87QUFBQSxJQUNYO0FBQUEsSUFDQSxTQUFTLFdBQVcsY0FBYztBQUM5QixZQUFNLFFBQVEsQ0FBQyxTQUFTO0FBQ3hCLGFBQU8sS0FBSyxZQUFZLEVBQ25CLEtBQUssRUFDTCxRQUFRLENBQUMsUUFBUTtBQUNsQixjQUFNLEtBQUssR0FBRyxhQUFhLEdBQUcsSUFBSSxLQUFLLEdBQUcsR0FBRyxHQUFHLEVBQUU7QUFBQSxNQUN0RCxDQUFDO0FBQ0QsYUFBTyxNQUFNLEtBQUssR0FBRztBQUFBLElBQ3pCO0FBQUEsRUFDSjtBQUVBLE1BQU0saUNBQWlDO0FBQUEsSUFDbkMsS0FBSyxFQUFFLE9BQU8sTUFBTSxHQUFHO0FBQ25CLFVBQUk7QUFDQSxjQUFNLGdCQUFnQjtBQUMxQixhQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0EsUUFBUSxFQUFFLE9BQU8sTUFBTSxHQUFHO0FBQ3RCLFVBQUk7QUFDQSxjQUFNLGVBQWU7QUFDekIsYUFBTztBQUFBLElBQ1g7QUFBQSxJQUNBLEtBQUssRUFBRSxPQUFPLE9BQU8sUUFBUSxHQUFHO0FBQzVCLFVBQUksT0FBTztBQUNQLGVBQU8sWUFBWSxNQUFNO0FBQUEsTUFDN0IsT0FDSztBQUNELGVBQU87QUFBQSxNQUNYO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFDQSxNQUFNLG9CQUFvQjtBQUMxQixXQUFTLDRCQUE0QixrQkFBa0I7QUFDbkQsVUFBTSxTQUFTLGlCQUFpQixLQUFLO0FBQ3JDLFVBQU0sVUFBVSxPQUFPLE1BQU0saUJBQWlCLEtBQUssQ0FBQztBQUNwRCxRQUFJLFlBQVksUUFBUSxDQUFDO0FBQ3pCLFFBQUksWUFBWSxRQUFRLENBQUM7QUFDekIsUUFBSSxhQUFhLENBQUMsQ0FBQyxXQUFXLFNBQVMsVUFBVSxFQUFFLFNBQVMsU0FBUyxHQUFHO0FBQ3BFLG1CQUFhLElBQUksU0FBUztBQUMxQixrQkFBWTtBQUFBLElBQ2hCO0FBQ0EsV0FBTztBQUFBLE1BQ0gsYUFBYSxpQkFBaUIsUUFBUSxDQUFDLENBQUM7QUFBQSxNQUN4QztBQUFBLE1BQ0EsY0FBYyxRQUFRLENBQUMsSUFBSSxrQkFBa0IsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDO0FBQUEsTUFDNUQsWUFBWSxRQUFRLENBQUM7QUFBQSxNQUNyQixZQUFZLFFBQVEsQ0FBQztBQUFBLE1BQ3JCLFdBQVcsUUFBUSxDQUFDLEtBQUs7QUFBQSxJQUM3QjtBQUFBLEVBQ0o7QUFDQSxXQUFTLGlCQUFpQixpQkFBaUI7QUFDdkMsUUFBSSxtQkFBbUIsVUFBVTtBQUM3QixhQUFPO0FBQUEsSUFDWCxXQUNTLG1CQUFtQixZQUFZO0FBQ3BDLGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUNBLFdBQVMsa0JBQWtCLGNBQWM7QUFDckMsV0FBTyxhQUNGLE1BQU0sR0FBRyxFQUNULE9BQU8sQ0FBQyxTQUFTLFVBQVUsT0FBTyxPQUFPLFNBQVMsRUFBRSxDQUFDLE1BQU0sUUFBUSxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxLQUFLLEtBQUssRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQUEsRUFDaEg7QUFDQSxXQUFTLHFCQUFxQixhQUFhO0FBQ3ZDLFFBQUksZUFBZSxRQUFRO0FBQ3ZCLGFBQU87QUFBQSxJQUNYLFdBQ1MsZUFBZSxVQUFVO0FBQzlCLGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUVBLFdBQVMsU0FBUyxPQUFPO0FBQ3JCLFdBQU8sTUFBTSxRQUFRLHVCQUF1QixDQUFDLEdBQUcsU0FBUyxLQUFLLFlBQVksQ0FBQztBQUFBLEVBQy9FO0FBQ0EsV0FBUyxrQkFBa0IsT0FBTztBQUM5QixXQUFPLFNBQVMsTUFBTSxRQUFRLE9BQU8sR0FBRyxFQUFFLFFBQVEsT0FBTyxHQUFHLENBQUM7QUFBQSxFQUNqRTtBQUNBLFdBQVMsV0FBVyxPQUFPO0FBQ3ZCLFdBQU8sTUFBTSxPQUFPLENBQUMsRUFBRSxZQUFZLElBQUksTUFBTSxNQUFNLENBQUM7QUFBQSxFQUN4RDtBQUNBLFdBQVMsVUFBVSxPQUFPO0FBQ3RCLFdBQU8sTUFBTSxRQUFRLFlBQVksQ0FBQyxHQUFHLFNBQVMsSUFBSSxLQUFLLFlBQVksQ0FBQyxFQUFFO0FBQUEsRUFDMUU7QUFDQSxXQUFTLFNBQVMsT0FBTztBQUNyQixXQUFPLE1BQU0sTUFBTSxTQUFTLEtBQUssQ0FBQztBQUFBLEVBQ3RDO0FBRUEsV0FBUyxZQUFZLFFBQVE7QUFDekIsV0FBTyxXQUFXLFFBQVEsV0FBVztBQUFBLEVBQ3pDO0FBQ0EsV0FBUyxZQUFZLFFBQVEsVUFBVTtBQUNuQyxXQUFPLE9BQU8sVUFBVSxlQUFlLEtBQUssUUFBUSxRQUFRO0FBQUEsRUFDaEU7QUFFQSxNQUFNLGVBQWUsQ0FBQyxRQUFRLFFBQVEsT0FBTyxPQUFPO0FBQ3BELE1BQU0sU0FBTixNQUFhO0FBQUEsSUFDVCxZQUFZLFNBQVMsT0FBTyxZQUFZLFFBQVE7QUFDNUMsV0FBSyxVQUFVO0FBQ2YsV0FBSyxRQUFRO0FBQ2IsV0FBSyxjQUFjLFdBQVcsZUFBZTtBQUM3QyxXQUFLLFlBQVksV0FBVyxhQUFhLDhCQUE4QixPQUFPLEtBQUssTUFBTSxvQkFBb0I7QUFDN0csV0FBSyxlQUFlLFdBQVcsZ0JBQWdCLENBQUM7QUFDaEQsV0FBSyxhQUFhLFdBQVcsY0FBYyxNQUFNLG9CQUFvQjtBQUNyRSxXQUFLLGFBQWEsV0FBVyxjQUFjLE1BQU0scUJBQXFCO0FBQ3RFLFdBQUssWUFBWSxXQUFXLGFBQWE7QUFDekMsV0FBSyxTQUFTO0FBQUEsSUFDbEI7QUFBQSxJQUNBLE9BQU8sU0FBUyxPQUFPLFFBQVE7QUFDM0IsYUFBTyxJQUFJLEtBQUssTUFBTSxTQUFTLE1BQU0sT0FBTyw0QkFBNEIsTUFBTSxPQUFPLEdBQUcsTUFBTTtBQUFBLElBQ2xHO0FBQUEsSUFDQSxXQUFXO0FBQ1AsWUFBTSxjQUFjLEtBQUssWUFBWSxJQUFJLEtBQUssU0FBUyxLQUFLO0FBQzVELFlBQU0sY0FBYyxLQUFLLGtCQUFrQixJQUFJLEtBQUssZUFBZSxLQUFLO0FBQ3hFLGFBQU8sR0FBRyxLQUFLLFNBQVMsR0FBRyxXQUFXLEdBQUcsV0FBVyxLQUFLLEtBQUssVUFBVSxJQUFJLEtBQUssVUFBVTtBQUFBLElBQy9GO0FBQUEsSUFDQSwwQkFBMEIsT0FBTztBQUM3QixVQUFJLENBQUMsS0FBSyxXQUFXO0FBQ2pCLGVBQU87QUFBQSxNQUNYO0FBQ0EsWUFBTSxVQUFVLEtBQUssVUFBVSxNQUFNLEdBQUc7QUFDeEMsVUFBSSxLQUFLLHNCQUFzQixPQUFPLE9BQU8sR0FBRztBQUM1QyxlQUFPO0FBQUEsTUFDWDtBQUNBLFlBQU0saUJBQWlCLFFBQVEsT0FBTyxDQUFDLFFBQVEsQ0FBQyxhQUFhLFNBQVMsR0FBRyxDQUFDLEVBQUUsQ0FBQztBQUM3RSxVQUFJLENBQUMsZ0JBQWdCO0FBQ2pCLGVBQU87QUFBQSxNQUNYO0FBQ0EsVUFBSSxDQUFDLFlBQVksS0FBSyxhQUFhLGNBQWMsR0FBRztBQUNoRCxjQUFNLGdDQUFnQyxLQUFLLFNBQVMsRUFBRTtBQUFBLE1BQzFEO0FBQ0EsYUFBTyxLQUFLLFlBQVksY0FBYyxFQUFFLFlBQVksTUFBTSxNQUFNLElBQUksWUFBWTtBQUFBLElBQ3BGO0FBQUEsSUFDQSx1QkFBdUIsT0FBTztBQUMxQixVQUFJLENBQUMsS0FBSyxXQUFXO0FBQ2pCLGVBQU87QUFBQSxNQUNYO0FBQ0EsWUFBTSxVQUFVLENBQUMsS0FBSyxTQUFTO0FBQy9CLFVBQUksS0FBSyxzQkFBc0IsT0FBTyxPQUFPLEdBQUc7QUFDNUMsZUFBTztBQUFBLE1BQ1g7QUFDQSxhQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0EsSUFBSSxTQUFTO0FBQ1QsWUFBTSxTQUFTLENBQUM7QUFDaEIsWUFBTSxVQUFVLElBQUksT0FBTyxTQUFTLEtBQUssVUFBVSxnQkFBZ0IsR0FBRztBQUN0RSxpQkFBVyxFQUFFLE1BQU0sTUFBTSxLQUFLLE1BQU0sS0FBSyxLQUFLLFFBQVEsVUFBVSxHQUFHO0FBQy9ELGNBQU1DLFNBQVEsS0FBSyxNQUFNLE9BQU87QUFDaEMsY0FBTSxNQUFNQSxVQUFTQSxPQUFNLENBQUM7QUFDNUIsWUFBSSxLQUFLO0FBQ0wsaUJBQU8sU0FBUyxHQUFHLENBQUMsSUFBSSxTQUFTLEtBQUs7QUFBQSxRQUMxQztBQUFBLE1BQ0o7QUFDQSxhQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0EsSUFBSSxrQkFBa0I7QUFDbEIsYUFBTyxxQkFBcUIsS0FBSyxXQUFXO0FBQUEsSUFDaEQ7QUFBQSxJQUNBLElBQUksY0FBYztBQUNkLGFBQU8sS0FBSyxPQUFPO0FBQUEsSUFDdkI7QUFBQSxJQUNBLHNCQUFzQixPQUFPLFNBQVM7QUFDbEMsWUFBTSxDQUFDLE1BQU0sTUFBTSxLQUFLQyxNQUFLLElBQUksYUFBYSxJQUFJLENBQUMsYUFBYSxRQUFRLFNBQVMsUUFBUSxDQUFDO0FBQzFGLGFBQU8sTUFBTSxZQUFZLFFBQVEsTUFBTSxZQUFZLFFBQVEsTUFBTSxXQUFXLE9BQU8sTUFBTSxhQUFhQTtBQUFBLElBQzFHO0FBQUEsRUFDSjtBQUNBLE1BQU0sb0JBQW9CO0FBQUEsSUFDdEIsR0FBRyxNQUFNO0FBQUEsSUFDVCxRQUFRLE1BQU07QUFBQSxJQUNkLE1BQU0sTUFBTTtBQUFBLElBQ1osU0FBUyxNQUFNO0FBQUEsSUFDZixPQUFPLENBQUMsTUFBTyxFQUFFLGFBQWEsTUFBTSxLQUFLLFdBQVcsVUFBVTtBQUFBLElBQzlELFFBQVEsTUFBTTtBQUFBLElBQ2QsVUFBVSxNQUFNO0FBQUEsRUFDcEI7QUFDQSxXQUFTLDhCQUE4QixTQUFTO0FBQzVDLFVBQU0sVUFBVSxRQUFRLFFBQVEsWUFBWTtBQUM1QyxRQUFJLFdBQVcsbUJBQW1CO0FBQzlCLGFBQU8sa0JBQWtCLE9BQU8sRUFBRSxPQUFPO0FBQUEsSUFDN0M7QUFBQSxFQUNKO0FBQ0EsV0FBUyxNQUFNRixVQUFTO0FBQ3BCLFVBQU0sSUFBSSxNQUFNQSxRQUFPO0FBQUEsRUFDM0I7QUFDQSxXQUFTLFNBQVMsT0FBTztBQUNyQixRQUFJO0FBQ0EsYUFBTyxLQUFLLE1BQU0sS0FBSztBQUFBLElBQzNCLFNBQ08sS0FBSztBQUNSLGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUVBLE1BQU0sVUFBTixNQUFjO0FBQUEsSUFDVixZQUFZLFNBQVMsUUFBUTtBQUN6QixXQUFLLFVBQVU7QUFDZixXQUFLLFNBQVM7QUFBQSxJQUNsQjtBQUFBLElBQ0EsSUFBSSxRQUFRO0FBQ1IsYUFBTyxLQUFLLE9BQU87QUFBQSxJQUN2QjtBQUFBLElBQ0EsSUFBSSxjQUFjO0FBQ2QsYUFBTyxLQUFLLE9BQU87QUFBQSxJQUN2QjtBQUFBLElBQ0EsSUFBSSxlQUFlO0FBQ2YsYUFBTyxLQUFLLE9BQU87QUFBQSxJQUN2QjtBQUFBLElBQ0EsSUFBSSxhQUFhO0FBQ2IsYUFBTyxLQUFLLFFBQVE7QUFBQSxJQUN4QjtBQUFBLElBQ0EsWUFBWSxPQUFPO0FBQ2YsWUFBTSxjQUFjLEtBQUssbUJBQW1CLEtBQUs7QUFDakQsVUFBSSxLQUFLLHFCQUFxQixLQUFLLEtBQUssS0FBSyxvQkFBb0IsV0FBVyxHQUFHO0FBQzNFLGFBQUssZ0JBQWdCLFdBQVc7QUFBQSxNQUNwQztBQUFBLElBQ0o7QUFBQSxJQUNBLElBQUksWUFBWTtBQUNaLGFBQU8sS0FBSyxPQUFPO0FBQUEsSUFDdkI7QUFBQSxJQUNBLElBQUksU0FBUztBQUNULFlBQU0sU0FBUyxLQUFLLFdBQVcsS0FBSyxVQUFVO0FBQzlDLFVBQUksT0FBTyxVQUFVLFlBQVk7QUFDN0IsZUFBTztBQUFBLE1BQ1g7QUFDQSxZQUFNLElBQUksTUFBTSxXQUFXLEtBQUssTUFBTSxrQ0FBa0MsS0FBSyxVQUFVLEdBQUc7QUFBQSxJQUM5RjtBQUFBLElBQ0Esb0JBQW9CLE9BQU87QUFDdkIsWUFBTSxFQUFFLFFBQVEsSUFBSSxLQUFLO0FBQ3pCLFlBQU0sRUFBRSx3QkFBd0IsSUFBSSxLQUFLLFFBQVE7QUFDakQsWUFBTSxFQUFFLFdBQVcsSUFBSSxLQUFLO0FBQzVCLFVBQUksU0FBUztBQUNiLGlCQUFXLENBQUMsTUFBTSxLQUFLLEtBQUssT0FBTyxRQUFRLEtBQUssWUFBWSxHQUFHO0FBQzNELFlBQUksUUFBUSx5QkFBeUI7QUFDakMsZ0JBQU1HLFVBQVMsd0JBQXdCLElBQUk7QUFDM0MsbUJBQVMsVUFBVUEsUUFBTyxFQUFFLE1BQU0sT0FBTyxPQUFPLFNBQVMsV0FBVyxDQUFDO0FBQUEsUUFDekUsT0FDSztBQUNEO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFDQSxhQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0EsbUJBQW1CLE9BQU87QUFDdEIsYUFBTyxPQUFPLE9BQU8sT0FBTyxFQUFFLFFBQVEsS0FBSyxPQUFPLE9BQU8sQ0FBQztBQUFBLElBQzlEO0FBQUEsSUFDQSxnQkFBZ0IsT0FBTztBQUNuQixZQUFNLEVBQUUsUUFBUSxjQUFjLElBQUk7QUFDbEMsVUFBSTtBQUNBLGFBQUssT0FBTyxLQUFLLEtBQUssWUFBWSxLQUFLO0FBQ3ZDLGFBQUssUUFBUSxpQkFBaUIsS0FBSyxZQUFZLEVBQUUsT0FBTyxRQUFRLGVBQWUsUUFBUSxLQUFLLFdBQVcsQ0FBQztBQUFBLE1BQzVHLFNBQ09KLFFBQU87QUFDVixjQUFNLEVBQUUsWUFBWSxZQUFZLFNBQVMsTUFBTSxJQUFJO0FBQ25ELGNBQU0sU0FBUyxFQUFFLFlBQVksWUFBWSxTQUFTLE9BQU8sTUFBTTtBQUMvRCxhQUFLLFFBQVEsWUFBWUEsUUFBTyxvQkFBb0IsS0FBSyxNQUFNLEtBQUssTUFBTTtBQUFBLE1BQzlFO0FBQUEsSUFDSjtBQUFBLElBQ0EscUJBQXFCLE9BQU87QUFDeEIsWUFBTSxjQUFjLE1BQU07QUFDMUIsVUFBSSxpQkFBaUIsaUJBQWlCLEtBQUssT0FBTywwQkFBMEIsS0FBSyxHQUFHO0FBQ2hGLGVBQU87QUFBQSxNQUNYO0FBQ0EsVUFBSSxpQkFBaUIsY0FBYyxLQUFLLE9BQU8sdUJBQXVCLEtBQUssR0FBRztBQUMxRSxlQUFPO0FBQUEsTUFDWDtBQUNBLFVBQUksS0FBSyxZQUFZLGFBQWE7QUFDOUIsZUFBTztBQUFBLE1BQ1gsV0FDUyx1QkFBdUIsV0FBVyxLQUFLLFFBQVEsU0FBUyxXQUFXLEdBQUc7QUFDM0UsZUFBTyxLQUFLLE1BQU0sZ0JBQWdCLFdBQVc7QUFBQSxNQUNqRCxPQUNLO0FBQ0QsZUFBTyxLQUFLLE1BQU0sZ0JBQWdCLEtBQUssT0FBTyxPQUFPO0FBQUEsTUFDekQ7QUFBQSxJQUNKO0FBQUEsSUFDQSxJQUFJLGFBQWE7QUFDYixhQUFPLEtBQUssUUFBUTtBQUFBLElBQ3hCO0FBQUEsSUFDQSxJQUFJLGFBQWE7QUFDYixhQUFPLEtBQUssT0FBTztBQUFBLElBQ3ZCO0FBQUEsSUFDQSxJQUFJLFVBQVU7QUFDVixhQUFPLEtBQUssTUFBTTtBQUFBLElBQ3RCO0FBQUEsSUFDQSxJQUFJLFFBQVE7QUFDUixhQUFPLEtBQUssUUFBUTtBQUFBLElBQ3hCO0FBQUEsRUFDSjtBQUVBLE1BQU0sa0JBQU4sTUFBc0I7QUFBQSxJQUNsQixZQUFZLFNBQVMsVUFBVTtBQUMzQixXQUFLLHVCQUF1QixFQUFFLFlBQVksTUFBTSxXQUFXLE1BQU0sU0FBUyxLQUFLO0FBQy9FLFdBQUssVUFBVTtBQUNmLFdBQUssVUFBVTtBQUNmLFdBQUssV0FBVztBQUNoQixXQUFLLFdBQVcsb0JBQUksSUFBSTtBQUN4QixXQUFLLG1CQUFtQixJQUFJLGlCQUFpQixDQUFDLGNBQWMsS0FBSyxpQkFBaUIsU0FBUyxDQUFDO0FBQUEsSUFDaEc7QUFBQSxJQUNBLFFBQVE7QUFDSixVQUFJLENBQUMsS0FBSyxTQUFTO0FBQ2YsYUFBSyxVQUFVO0FBQ2YsYUFBSyxpQkFBaUIsUUFBUSxLQUFLLFNBQVMsS0FBSyxvQkFBb0I7QUFDckUsYUFBSyxRQUFRO0FBQUEsTUFDakI7QUFBQSxJQUNKO0FBQUEsSUFDQSxNQUFNLFVBQVU7QUFDWixVQUFJLEtBQUssU0FBUztBQUNkLGFBQUssaUJBQWlCLFdBQVc7QUFDakMsYUFBSyxVQUFVO0FBQUEsTUFDbkI7QUFDQSxlQUFTO0FBQ1QsVUFBSSxDQUFDLEtBQUssU0FBUztBQUNmLGFBQUssaUJBQWlCLFFBQVEsS0FBSyxTQUFTLEtBQUssb0JBQW9CO0FBQ3JFLGFBQUssVUFBVTtBQUFBLE1BQ25CO0FBQUEsSUFDSjtBQUFBLElBQ0EsT0FBTztBQUNILFVBQUksS0FBSyxTQUFTO0FBQ2QsYUFBSyxpQkFBaUIsWUFBWTtBQUNsQyxhQUFLLGlCQUFpQixXQUFXO0FBQ2pDLGFBQUssVUFBVTtBQUFBLE1BQ25CO0FBQUEsSUFDSjtBQUFBLElBQ0EsVUFBVTtBQUNOLFVBQUksS0FBSyxTQUFTO0FBQ2QsY0FBTSxVQUFVLElBQUksSUFBSSxLQUFLLG9CQUFvQixDQUFDO0FBQ2xELG1CQUFXLFdBQVcsTUFBTSxLQUFLLEtBQUssUUFBUSxHQUFHO0FBQzdDLGNBQUksQ0FBQyxRQUFRLElBQUksT0FBTyxHQUFHO0FBQ3ZCLGlCQUFLLGNBQWMsT0FBTztBQUFBLFVBQzlCO0FBQUEsUUFDSjtBQUNBLG1CQUFXLFdBQVcsTUFBTSxLQUFLLE9BQU8sR0FBRztBQUN2QyxlQUFLLFdBQVcsT0FBTztBQUFBLFFBQzNCO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxJQUNBLGlCQUFpQixXQUFXO0FBQ3hCLFVBQUksS0FBSyxTQUFTO0FBQ2QsbUJBQVcsWUFBWSxXQUFXO0FBQzlCLGVBQUssZ0JBQWdCLFFBQVE7QUFBQSxRQUNqQztBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsSUFDQSxnQkFBZ0IsVUFBVTtBQUN0QixVQUFJLFNBQVMsUUFBUSxjQUFjO0FBQy9CLGFBQUssdUJBQXVCLFNBQVMsUUFBUSxTQUFTLGFBQWE7QUFBQSxNQUN2RSxXQUNTLFNBQVMsUUFBUSxhQUFhO0FBQ25DLGFBQUssb0JBQW9CLFNBQVMsWUFBWTtBQUM5QyxhQUFLLGtCQUFrQixTQUFTLFVBQVU7QUFBQSxNQUM5QztBQUFBLElBQ0o7QUFBQSxJQUNBLHVCQUF1QixTQUFTLGVBQWU7QUFDM0MsVUFBSSxLQUFLLFNBQVMsSUFBSSxPQUFPLEdBQUc7QUFDNUIsWUFBSSxLQUFLLFNBQVMsMkJBQTJCLEtBQUssYUFBYSxPQUFPLEdBQUc7QUFDckUsZUFBSyxTQUFTLHdCQUF3QixTQUFTLGFBQWE7QUFBQSxRQUNoRSxPQUNLO0FBQ0QsZUFBSyxjQUFjLE9BQU87QUFBQSxRQUM5QjtBQUFBLE1BQ0osV0FDUyxLQUFLLGFBQWEsT0FBTyxHQUFHO0FBQ2pDLGFBQUssV0FBVyxPQUFPO0FBQUEsTUFDM0I7QUFBQSxJQUNKO0FBQUEsSUFDQSxvQkFBb0IsT0FBTztBQUN2QixpQkFBVyxRQUFRLE1BQU0sS0FBSyxLQUFLLEdBQUc7QUFDbEMsY0FBTSxVQUFVLEtBQUssZ0JBQWdCLElBQUk7QUFDekMsWUFBSSxTQUFTO0FBQ1QsZUFBSyxZQUFZLFNBQVMsS0FBSyxhQUFhO0FBQUEsUUFDaEQ7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUFBLElBQ0Esa0JBQWtCLE9BQU87QUFDckIsaUJBQVcsUUFBUSxNQUFNLEtBQUssS0FBSyxHQUFHO0FBQ2xDLGNBQU0sVUFBVSxLQUFLLGdCQUFnQixJQUFJO0FBQ3pDLFlBQUksV0FBVyxLQUFLLGdCQUFnQixPQUFPLEdBQUc7QUFDMUMsZUFBSyxZQUFZLFNBQVMsS0FBSyxVQUFVO0FBQUEsUUFDN0M7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUFBLElBQ0EsYUFBYSxTQUFTO0FBQ2xCLGFBQU8sS0FBSyxTQUFTLGFBQWEsT0FBTztBQUFBLElBQzdDO0FBQUEsSUFDQSxvQkFBb0IsT0FBTyxLQUFLLFNBQVM7QUFDckMsYUFBTyxLQUFLLFNBQVMsb0JBQW9CLElBQUk7QUFBQSxJQUNqRDtBQUFBLElBQ0EsWUFBWSxNQUFNLFdBQVc7QUFDekIsaUJBQVcsV0FBVyxLQUFLLG9CQUFvQixJQUFJLEdBQUc7QUFDbEQsa0JBQVUsS0FBSyxNQUFNLE9BQU87QUFBQSxNQUNoQztBQUFBLElBQ0o7QUFBQSxJQUNBLGdCQUFnQixNQUFNO0FBQ2xCLFVBQUksS0FBSyxZQUFZLEtBQUssY0FBYztBQUNwQyxlQUFPO0FBQUEsTUFDWDtBQUFBLElBQ0o7QUFBQSxJQUNBLGdCQUFnQixTQUFTO0FBQ3JCLFVBQUksUUFBUSxlQUFlLEtBQUssUUFBUSxhQUFhO0FBQ2pELGVBQU87QUFBQSxNQUNYLE9BQ0s7QUFDRCxlQUFPLEtBQUssUUFBUSxTQUFTLE9BQU87QUFBQSxNQUN4QztBQUFBLElBQ0o7QUFBQSxJQUNBLFdBQVcsU0FBUztBQUNoQixVQUFJLENBQUMsS0FBSyxTQUFTLElBQUksT0FBTyxHQUFHO0FBQzdCLFlBQUksS0FBSyxnQkFBZ0IsT0FBTyxHQUFHO0FBQy9CLGVBQUssU0FBUyxJQUFJLE9BQU87QUFDekIsY0FBSSxLQUFLLFNBQVMsZ0JBQWdCO0FBQzlCLGlCQUFLLFNBQVMsZUFBZSxPQUFPO0FBQUEsVUFDeEM7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxJQUNBLGNBQWMsU0FBUztBQUNuQixVQUFJLEtBQUssU0FBUyxJQUFJLE9BQU8sR0FBRztBQUM1QixhQUFLLFNBQVMsT0FBTyxPQUFPO0FBQzVCLFlBQUksS0FBSyxTQUFTLGtCQUFrQjtBQUNoQyxlQUFLLFNBQVMsaUJBQWlCLE9BQU87QUFBQSxRQUMxQztBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUVBLE1BQU0sb0JBQU4sTUFBd0I7QUFBQSxJQUNwQixZQUFZLFNBQVMsZUFBZSxVQUFVO0FBQzFDLFdBQUssZ0JBQWdCO0FBQ3JCLFdBQUssV0FBVztBQUNoQixXQUFLLGtCQUFrQixJQUFJLGdCQUFnQixTQUFTLElBQUk7QUFBQSxJQUM1RDtBQUFBLElBQ0EsSUFBSSxVQUFVO0FBQ1YsYUFBTyxLQUFLLGdCQUFnQjtBQUFBLElBQ2hDO0FBQUEsSUFDQSxJQUFJLFdBQVc7QUFDWCxhQUFPLElBQUksS0FBSyxhQUFhO0FBQUEsSUFDakM7QUFBQSxJQUNBLFFBQVE7QUFDSixXQUFLLGdCQUFnQixNQUFNO0FBQUEsSUFDL0I7QUFBQSxJQUNBLE1BQU0sVUFBVTtBQUNaLFdBQUssZ0JBQWdCLE1BQU0sUUFBUTtBQUFBLElBQ3ZDO0FBQUEsSUFDQSxPQUFPO0FBQ0gsV0FBSyxnQkFBZ0IsS0FBSztBQUFBLElBQzlCO0FBQUEsSUFDQSxVQUFVO0FBQ04sV0FBSyxnQkFBZ0IsUUFBUTtBQUFBLElBQ2pDO0FBQUEsSUFDQSxJQUFJLFVBQVU7QUFDVixhQUFPLEtBQUssZ0JBQWdCO0FBQUEsSUFDaEM7QUFBQSxJQUNBLGFBQWEsU0FBUztBQUNsQixhQUFPLFFBQVEsYUFBYSxLQUFLLGFBQWE7QUFBQSxJQUNsRDtBQUFBLElBQ0Esb0JBQW9CLE1BQU07QUFDdEIsWUFBTUUsU0FBUSxLQUFLLGFBQWEsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUM7QUFDbEQsWUFBTSxVQUFVLE1BQU0sS0FBSyxLQUFLLGlCQUFpQixLQUFLLFFBQVEsQ0FBQztBQUMvRCxhQUFPQSxPQUFNLE9BQU8sT0FBTztBQUFBLElBQy9CO0FBQUEsSUFDQSxlQUFlLFNBQVM7QUFDcEIsVUFBSSxLQUFLLFNBQVMseUJBQXlCO0FBQ3ZDLGFBQUssU0FBUyx3QkFBd0IsU0FBUyxLQUFLLGFBQWE7QUFBQSxNQUNyRTtBQUFBLElBQ0o7QUFBQSxJQUNBLGlCQUFpQixTQUFTO0FBQ3RCLFVBQUksS0FBSyxTQUFTLDJCQUEyQjtBQUN6QyxhQUFLLFNBQVMsMEJBQTBCLFNBQVMsS0FBSyxhQUFhO0FBQUEsTUFDdkU7QUFBQSxJQUNKO0FBQUEsSUFDQSx3QkFBd0IsU0FBUyxlQUFlO0FBQzVDLFVBQUksS0FBSyxTQUFTLGdDQUFnQyxLQUFLLGlCQUFpQixlQUFlO0FBQ25GLGFBQUssU0FBUyw2QkFBNkIsU0FBUyxhQUFhO0FBQUEsTUFDckU7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUVBLFdBQVMsSUFBSSxLQUFLLEtBQUssT0FBTztBQUMxQixVQUFNLEtBQUssR0FBRyxFQUFFLElBQUksS0FBSztBQUFBLEVBQzdCO0FBQ0EsV0FBUyxJQUFJLEtBQUssS0FBSyxPQUFPO0FBQzFCLFVBQU0sS0FBSyxHQUFHLEVBQUUsT0FBTyxLQUFLO0FBQzVCLFVBQU0sS0FBSyxHQUFHO0FBQUEsRUFDbEI7QUFDQSxXQUFTLE1BQU0sS0FBSyxLQUFLO0FBQ3JCLFFBQUksU0FBUyxJQUFJLElBQUksR0FBRztBQUN4QixRQUFJLENBQUMsUUFBUTtBQUNULGVBQVMsb0JBQUksSUFBSTtBQUNqQixVQUFJLElBQUksS0FBSyxNQUFNO0FBQUEsSUFDdkI7QUFDQSxXQUFPO0FBQUEsRUFDWDtBQUNBLFdBQVMsTUFBTSxLQUFLLEtBQUs7QUFDckIsVUFBTSxTQUFTLElBQUksSUFBSSxHQUFHO0FBQzFCLFFBQUksVUFBVSxRQUFRLE9BQU8sUUFBUSxHQUFHO0FBQ3BDLFVBQUksT0FBTyxHQUFHO0FBQUEsSUFDbEI7QUFBQSxFQUNKO0FBRUEsTUFBTSxXQUFOLE1BQWU7QUFBQSxJQUNYLGNBQWM7QUFDVixXQUFLLGNBQWMsb0JBQUksSUFBSTtBQUFBLElBQy9CO0FBQUEsSUFDQSxJQUFJLE9BQU87QUFDUCxhQUFPLE1BQU0sS0FBSyxLQUFLLFlBQVksS0FBSyxDQUFDO0FBQUEsSUFDN0M7QUFBQSxJQUNBLElBQUksU0FBUztBQUNULFlBQU0sT0FBTyxNQUFNLEtBQUssS0FBSyxZQUFZLE9BQU8sQ0FBQztBQUNqRCxhQUFPLEtBQUssT0FBTyxDQUFDLFFBQVEsUUFBUSxPQUFPLE9BQU8sTUFBTSxLQUFLLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUFBLElBQzFFO0FBQUEsSUFDQSxJQUFJLE9BQU87QUFDUCxZQUFNLE9BQU8sTUFBTSxLQUFLLEtBQUssWUFBWSxPQUFPLENBQUM7QUFDakQsYUFBTyxLQUFLLE9BQU8sQ0FBQ0csT0FBTSxRQUFRQSxRQUFPLElBQUksTUFBTSxDQUFDO0FBQUEsSUFDeEQ7QUFBQSxJQUNBLElBQUksS0FBSyxPQUFPO0FBQ1osVUFBSSxLQUFLLGFBQWEsS0FBSyxLQUFLO0FBQUEsSUFDcEM7QUFBQSxJQUNBLE9BQU8sS0FBSyxPQUFPO0FBQ2YsVUFBSSxLQUFLLGFBQWEsS0FBSyxLQUFLO0FBQUEsSUFDcEM7QUFBQSxJQUNBLElBQUksS0FBSyxPQUFPO0FBQ1osWUFBTSxTQUFTLEtBQUssWUFBWSxJQUFJLEdBQUc7QUFDdkMsYUFBTyxVQUFVLFFBQVEsT0FBTyxJQUFJLEtBQUs7QUFBQSxJQUM3QztBQUFBLElBQ0EsT0FBTyxLQUFLO0FBQ1IsYUFBTyxLQUFLLFlBQVksSUFBSSxHQUFHO0FBQUEsSUFDbkM7QUFBQSxJQUNBLFNBQVMsT0FBTztBQUNaLFlBQU0sT0FBTyxNQUFNLEtBQUssS0FBSyxZQUFZLE9BQU8sQ0FBQztBQUNqRCxhQUFPLEtBQUssS0FBSyxDQUFDLFFBQVEsSUFBSSxJQUFJLEtBQUssQ0FBQztBQUFBLElBQzVDO0FBQUEsSUFDQSxnQkFBZ0IsS0FBSztBQUNqQixZQUFNLFNBQVMsS0FBSyxZQUFZLElBQUksR0FBRztBQUN2QyxhQUFPLFNBQVMsTUFBTSxLQUFLLE1BQU0sSUFBSSxDQUFDO0FBQUEsSUFDMUM7QUFBQSxJQUNBLGdCQUFnQixPQUFPO0FBQ25CLGFBQU8sTUFBTSxLQUFLLEtBQUssV0FBVyxFQUM3QixPQUFPLENBQUMsQ0FBQyxNQUFNLE1BQU0sTUFBTSxPQUFPLElBQUksS0FBSyxDQUFDLEVBQzVDLElBQUksQ0FBQyxDQUFDLEtBQUssT0FBTyxNQUFNLEdBQUc7QUFBQSxJQUNwQztBQUFBLEVBQ0o7QUEyQkEsTUFBTSxtQkFBTixNQUF1QjtBQUFBLElBQ25CLFlBQVksU0FBUyxVQUFVLFVBQVUsU0FBUztBQUM5QyxXQUFLLFlBQVk7QUFDakIsV0FBSyxVQUFVO0FBQ2YsV0FBSyxrQkFBa0IsSUFBSSxnQkFBZ0IsU0FBUyxJQUFJO0FBQ3hELFdBQUssV0FBVztBQUNoQixXQUFLLG1CQUFtQixJQUFJLFNBQVM7QUFBQSxJQUN6QztBQUFBLElBQ0EsSUFBSSxVQUFVO0FBQ1YsYUFBTyxLQUFLLGdCQUFnQjtBQUFBLElBQ2hDO0FBQUEsSUFDQSxJQUFJLFdBQVc7QUFDWCxhQUFPLEtBQUs7QUFBQSxJQUNoQjtBQUFBLElBQ0EsSUFBSSxTQUFTLFVBQVU7QUFDbkIsV0FBSyxZQUFZO0FBQ2pCLFdBQUssUUFBUTtBQUFBLElBQ2pCO0FBQUEsSUFDQSxRQUFRO0FBQ0osV0FBSyxnQkFBZ0IsTUFBTTtBQUFBLElBQy9CO0FBQUEsSUFDQSxNQUFNLFVBQVU7QUFDWixXQUFLLGdCQUFnQixNQUFNLFFBQVE7QUFBQSxJQUN2QztBQUFBLElBQ0EsT0FBTztBQUNILFdBQUssZ0JBQWdCLEtBQUs7QUFBQSxJQUM5QjtBQUFBLElBQ0EsVUFBVTtBQUNOLFdBQUssZ0JBQWdCLFFBQVE7QUFBQSxJQUNqQztBQUFBLElBQ0EsSUFBSSxVQUFVO0FBQ1YsYUFBTyxLQUFLLGdCQUFnQjtBQUFBLElBQ2hDO0FBQUEsSUFDQSxhQUFhLFNBQVM7QUFDbEIsWUFBTSxFQUFFLFNBQVMsSUFBSTtBQUNyQixVQUFJLFVBQVU7QUFDVixjQUFNLFVBQVUsUUFBUSxRQUFRLFFBQVE7QUFDeEMsWUFBSSxLQUFLLFNBQVMsc0JBQXNCO0FBQ3BDLGlCQUFPLFdBQVcsS0FBSyxTQUFTLHFCQUFxQixTQUFTLEtBQUssT0FBTztBQUFBLFFBQzlFO0FBQ0EsZUFBTztBQUFBLE1BQ1gsT0FDSztBQUNELGVBQU87QUFBQSxNQUNYO0FBQUEsSUFDSjtBQUFBLElBQ0Esb0JBQW9CLE1BQU07QUFDdEIsWUFBTSxFQUFFLFNBQVMsSUFBSTtBQUNyQixVQUFJLFVBQVU7QUFDVixjQUFNQyxTQUFRLEtBQUssYUFBYSxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQztBQUNsRCxjQUFNLFVBQVUsTUFBTSxLQUFLLEtBQUssaUJBQWlCLFFBQVEsQ0FBQyxFQUFFLE9BQU8sQ0FBQ0EsV0FBVSxLQUFLLGFBQWFBLE1BQUssQ0FBQztBQUN0RyxlQUFPQSxPQUFNLE9BQU8sT0FBTztBQUFBLE1BQy9CLE9BQ0s7QUFDRCxlQUFPLENBQUM7QUFBQSxNQUNaO0FBQUEsSUFDSjtBQUFBLElBQ0EsZUFBZSxTQUFTO0FBQ3BCLFlBQU0sRUFBRSxTQUFTLElBQUk7QUFDckIsVUFBSSxVQUFVO0FBQ1YsYUFBSyxnQkFBZ0IsU0FBUyxRQUFRO0FBQUEsTUFDMUM7QUFBQSxJQUNKO0FBQUEsSUFDQSxpQkFBaUIsU0FBUztBQUN0QixZQUFNLFlBQVksS0FBSyxpQkFBaUIsZ0JBQWdCLE9BQU87QUFDL0QsaUJBQVcsWUFBWSxXQUFXO0FBQzlCLGFBQUssa0JBQWtCLFNBQVMsUUFBUTtBQUFBLE1BQzVDO0FBQUEsSUFDSjtBQUFBLElBQ0Esd0JBQXdCLFNBQVMsZ0JBQWdCO0FBQzdDLFlBQU0sRUFBRSxTQUFTLElBQUk7QUFDckIsVUFBSSxVQUFVO0FBQ1YsY0FBTSxVQUFVLEtBQUssYUFBYSxPQUFPO0FBQ3pDLGNBQU0sZ0JBQWdCLEtBQUssaUJBQWlCLElBQUksVUFBVSxPQUFPO0FBQ2pFLFlBQUksV0FBVyxDQUFDLGVBQWU7QUFDM0IsZUFBSyxnQkFBZ0IsU0FBUyxRQUFRO0FBQUEsUUFDMUMsV0FDUyxDQUFDLFdBQVcsZUFBZTtBQUNoQyxlQUFLLGtCQUFrQixTQUFTLFFBQVE7QUFBQSxRQUM1QztBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsSUFDQSxnQkFBZ0IsU0FBUyxVQUFVO0FBQy9CLFdBQUssU0FBUyxnQkFBZ0IsU0FBUyxVQUFVLEtBQUssT0FBTztBQUM3RCxXQUFLLGlCQUFpQixJQUFJLFVBQVUsT0FBTztBQUFBLElBQy9DO0FBQUEsSUFDQSxrQkFBa0IsU0FBUyxVQUFVO0FBQ2pDLFdBQUssU0FBUyxrQkFBa0IsU0FBUyxVQUFVLEtBQUssT0FBTztBQUMvRCxXQUFLLGlCQUFpQixPQUFPLFVBQVUsT0FBTztBQUFBLElBQ2xEO0FBQUEsRUFDSjtBQUVBLE1BQU0sb0JBQU4sTUFBd0I7QUFBQSxJQUNwQixZQUFZLFNBQVMsVUFBVTtBQUMzQixXQUFLLFVBQVU7QUFDZixXQUFLLFdBQVc7QUFDaEIsV0FBSyxVQUFVO0FBQ2YsV0FBSyxZQUFZLG9CQUFJLElBQUk7QUFDekIsV0FBSyxtQkFBbUIsSUFBSSxpQkFBaUIsQ0FBQyxjQUFjLEtBQUssaUJBQWlCLFNBQVMsQ0FBQztBQUFBLElBQ2hHO0FBQUEsSUFDQSxRQUFRO0FBQ0osVUFBSSxDQUFDLEtBQUssU0FBUztBQUNmLGFBQUssVUFBVTtBQUNmLGFBQUssaUJBQWlCLFFBQVEsS0FBSyxTQUFTLEVBQUUsWUFBWSxNQUFNLG1CQUFtQixLQUFLLENBQUM7QUFDekYsYUFBSyxRQUFRO0FBQUEsTUFDakI7QUFBQSxJQUNKO0FBQUEsSUFDQSxPQUFPO0FBQ0gsVUFBSSxLQUFLLFNBQVM7QUFDZCxhQUFLLGlCQUFpQixZQUFZO0FBQ2xDLGFBQUssaUJBQWlCLFdBQVc7QUFDakMsYUFBSyxVQUFVO0FBQUEsTUFDbkI7QUFBQSxJQUNKO0FBQUEsSUFDQSxVQUFVO0FBQ04sVUFBSSxLQUFLLFNBQVM7QUFDZCxtQkFBVyxpQkFBaUIsS0FBSyxxQkFBcUI7QUFDbEQsZUFBSyxpQkFBaUIsZUFBZSxJQUFJO0FBQUEsUUFDN0M7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUFBLElBQ0EsaUJBQWlCLFdBQVc7QUFDeEIsVUFBSSxLQUFLLFNBQVM7QUFDZCxtQkFBVyxZQUFZLFdBQVc7QUFDOUIsZUFBSyxnQkFBZ0IsUUFBUTtBQUFBLFFBQ2pDO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxJQUNBLGdCQUFnQixVQUFVO0FBQ3RCLFlBQU0sZ0JBQWdCLFNBQVM7QUFDL0IsVUFBSSxlQUFlO0FBQ2YsYUFBSyxpQkFBaUIsZUFBZSxTQUFTLFFBQVE7QUFBQSxNQUMxRDtBQUFBLElBQ0o7QUFBQSxJQUNBLGlCQUFpQixlQUFlLFVBQVU7QUFDdEMsWUFBTSxNQUFNLEtBQUssU0FBUyw0QkFBNEIsYUFBYTtBQUNuRSxVQUFJLE9BQU8sTUFBTTtBQUNiLFlBQUksQ0FBQyxLQUFLLFVBQVUsSUFBSSxhQUFhLEdBQUc7QUFDcEMsZUFBSyxrQkFBa0IsS0FBSyxhQUFhO0FBQUEsUUFDN0M7QUFDQSxjQUFNLFFBQVEsS0FBSyxRQUFRLGFBQWEsYUFBYTtBQUNyRCxZQUFJLEtBQUssVUFBVSxJQUFJLGFBQWEsS0FBSyxPQUFPO0FBQzVDLGVBQUssc0JBQXNCLE9BQU8sS0FBSyxRQUFRO0FBQUEsUUFDbkQ7QUFDQSxZQUFJLFNBQVMsTUFBTTtBQUNmLGdCQUFNQyxZQUFXLEtBQUssVUFBVSxJQUFJLGFBQWE7QUFDakQsZUFBSyxVQUFVLE9BQU8sYUFBYTtBQUNuQyxjQUFJQTtBQUNBLGlCQUFLLG9CQUFvQixLQUFLLGVBQWVBLFNBQVE7QUFBQSxRQUM3RCxPQUNLO0FBQ0QsZUFBSyxVQUFVLElBQUksZUFBZSxLQUFLO0FBQUEsUUFDM0M7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUFBLElBQ0Esa0JBQWtCLEtBQUssZUFBZTtBQUNsQyxVQUFJLEtBQUssU0FBUyxtQkFBbUI7QUFDakMsYUFBSyxTQUFTLGtCQUFrQixLQUFLLGFBQWE7QUFBQSxNQUN0RDtBQUFBLElBQ0o7QUFBQSxJQUNBLHNCQUFzQixPQUFPLEtBQUssVUFBVTtBQUN4QyxVQUFJLEtBQUssU0FBUyx1QkFBdUI7QUFDckMsYUFBSyxTQUFTLHNCQUFzQixPQUFPLEtBQUssUUFBUTtBQUFBLE1BQzVEO0FBQUEsSUFDSjtBQUFBLElBQ0Esb0JBQW9CLEtBQUssZUFBZSxVQUFVO0FBQzlDLFVBQUksS0FBSyxTQUFTLHFCQUFxQjtBQUNuQyxhQUFLLFNBQVMsb0JBQW9CLEtBQUssZUFBZSxRQUFRO0FBQUEsTUFDbEU7QUFBQSxJQUNKO0FBQUEsSUFDQSxJQUFJLHNCQUFzQjtBQUN0QixhQUFPLE1BQU0sS0FBSyxJQUFJLElBQUksS0FBSyxzQkFBc0IsT0FBTyxLQUFLLHNCQUFzQixDQUFDLENBQUM7QUFBQSxJQUM3RjtBQUFBLElBQ0EsSUFBSSx3QkFBd0I7QUFDeEIsYUFBTyxNQUFNLEtBQUssS0FBSyxRQUFRLFVBQVUsRUFBRSxJQUFJLENBQUMsY0FBYyxVQUFVLElBQUk7QUFBQSxJQUNoRjtBQUFBLElBQ0EsSUFBSSx5QkFBeUI7QUFDekIsYUFBTyxNQUFNLEtBQUssS0FBSyxVQUFVLEtBQUssQ0FBQztBQUFBLElBQzNDO0FBQUEsRUFDSjtBQUVBLE1BQU0sb0JBQU4sTUFBd0I7QUFBQSxJQUNwQixZQUFZLFNBQVMsZUFBZSxVQUFVO0FBQzFDLFdBQUssb0JBQW9CLElBQUksa0JBQWtCLFNBQVMsZUFBZSxJQUFJO0FBQzNFLFdBQUssV0FBVztBQUNoQixXQUFLLGtCQUFrQixJQUFJLFNBQVM7QUFBQSxJQUN4QztBQUFBLElBQ0EsSUFBSSxVQUFVO0FBQ1YsYUFBTyxLQUFLLGtCQUFrQjtBQUFBLElBQ2xDO0FBQUEsSUFDQSxRQUFRO0FBQ0osV0FBSyxrQkFBa0IsTUFBTTtBQUFBLElBQ2pDO0FBQUEsSUFDQSxNQUFNLFVBQVU7QUFDWixXQUFLLGtCQUFrQixNQUFNLFFBQVE7QUFBQSxJQUN6QztBQUFBLElBQ0EsT0FBTztBQUNILFdBQUssa0JBQWtCLEtBQUs7QUFBQSxJQUNoQztBQUFBLElBQ0EsVUFBVTtBQUNOLFdBQUssa0JBQWtCLFFBQVE7QUFBQSxJQUNuQztBQUFBLElBQ0EsSUFBSSxVQUFVO0FBQ1YsYUFBTyxLQUFLLGtCQUFrQjtBQUFBLElBQ2xDO0FBQUEsSUFDQSxJQUFJLGdCQUFnQjtBQUNoQixhQUFPLEtBQUssa0JBQWtCO0FBQUEsSUFDbEM7QUFBQSxJQUNBLHdCQUF3QixTQUFTO0FBQzdCLFdBQUssY0FBYyxLQUFLLHFCQUFxQixPQUFPLENBQUM7QUFBQSxJQUN6RDtBQUFBLElBQ0EsNkJBQTZCLFNBQVM7QUFDbEMsWUFBTSxDQUFDLGlCQUFpQixhQUFhLElBQUksS0FBSyx3QkFBd0IsT0FBTztBQUM3RSxXQUFLLGdCQUFnQixlQUFlO0FBQ3BDLFdBQUssY0FBYyxhQUFhO0FBQUEsSUFDcEM7QUFBQSxJQUNBLDBCQUEwQixTQUFTO0FBQy9CLFdBQUssZ0JBQWdCLEtBQUssZ0JBQWdCLGdCQUFnQixPQUFPLENBQUM7QUFBQSxJQUN0RTtBQUFBLElBQ0EsY0FBYyxRQUFRO0FBQ2xCLGFBQU8sUUFBUSxDQUFDLFVBQVUsS0FBSyxhQUFhLEtBQUssQ0FBQztBQUFBLElBQ3REO0FBQUEsSUFDQSxnQkFBZ0IsUUFBUTtBQUNwQixhQUFPLFFBQVEsQ0FBQyxVQUFVLEtBQUssZUFBZSxLQUFLLENBQUM7QUFBQSxJQUN4RDtBQUFBLElBQ0EsYUFBYSxPQUFPO0FBQ2hCLFdBQUssU0FBUyxhQUFhLEtBQUs7QUFDaEMsV0FBSyxnQkFBZ0IsSUFBSSxNQUFNLFNBQVMsS0FBSztBQUFBLElBQ2pEO0FBQUEsSUFDQSxlQUFlLE9BQU87QUFDbEIsV0FBSyxTQUFTLGVBQWUsS0FBSztBQUNsQyxXQUFLLGdCQUFnQixPQUFPLE1BQU0sU0FBUyxLQUFLO0FBQUEsSUFDcEQ7QUFBQSxJQUNBLHdCQUF3QixTQUFTO0FBQzdCLFlBQU0saUJBQWlCLEtBQUssZ0JBQWdCLGdCQUFnQixPQUFPO0FBQ25FLFlBQU0sZ0JBQWdCLEtBQUsscUJBQXFCLE9BQU87QUFDdkQsWUFBTSxzQkFBc0IsSUFBSSxnQkFBZ0IsYUFBYSxFQUFFLFVBQVUsQ0FBQyxDQUFDLGVBQWUsWUFBWSxNQUFNLENBQUMsZUFBZSxlQUFlLFlBQVksQ0FBQztBQUN4SixVQUFJLHVCQUF1QixJQUFJO0FBQzNCLGVBQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQUEsTUFDbEIsT0FDSztBQUNELGVBQU8sQ0FBQyxlQUFlLE1BQU0sbUJBQW1CLEdBQUcsY0FBYyxNQUFNLG1CQUFtQixDQUFDO0FBQUEsTUFDL0Y7QUFBQSxJQUNKO0FBQUEsSUFDQSxxQkFBcUIsU0FBUztBQUMxQixZQUFNLGdCQUFnQixLQUFLO0FBQzNCLFlBQU0sY0FBYyxRQUFRLGFBQWEsYUFBYSxLQUFLO0FBQzNELGFBQU8saUJBQWlCLGFBQWEsU0FBUyxhQUFhO0FBQUEsSUFDL0Q7QUFBQSxFQUNKO0FBQ0EsV0FBUyxpQkFBaUIsYUFBYSxTQUFTLGVBQWU7QUFDM0QsV0FBTyxZQUNGLEtBQUssRUFDTCxNQUFNLEtBQUssRUFDWCxPQUFPLENBQUMsWUFBWSxRQUFRLE1BQU0sRUFDbEMsSUFBSSxDQUFDLFNBQVMsV0FBVyxFQUFFLFNBQVMsZUFBZSxTQUFTLE1BQU0sRUFBRTtBQUFBLEVBQzdFO0FBQ0EsV0FBUyxJQUFJLE1BQU0sT0FBTztBQUN0QixVQUFNLFNBQVMsS0FBSyxJQUFJLEtBQUssUUFBUSxNQUFNLE1BQU07QUFDakQsV0FBTyxNQUFNLEtBQUssRUFBRSxPQUFPLEdBQUcsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxLQUFLLEtBQUssR0FBRyxNQUFNLEtBQUssQ0FBQyxDQUFDO0FBQUEsRUFDM0U7QUFDQSxXQUFTLGVBQWUsTUFBTSxPQUFPO0FBQ2pDLFdBQU8sUUFBUSxTQUFTLEtBQUssU0FBUyxNQUFNLFNBQVMsS0FBSyxXQUFXLE1BQU07QUFBQSxFQUMvRTtBQUVBLE1BQU0sb0JBQU4sTUFBd0I7QUFBQSxJQUNwQixZQUFZLFNBQVMsZUFBZSxVQUFVO0FBQzFDLFdBQUssb0JBQW9CLElBQUksa0JBQWtCLFNBQVMsZUFBZSxJQUFJO0FBQzNFLFdBQUssV0FBVztBQUNoQixXQUFLLHNCQUFzQixvQkFBSSxRQUFRO0FBQ3ZDLFdBQUsseUJBQXlCLG9CQUFJLFFBQVE7QUFBQSxJQUM5QztBQUFBLElBQ0EsSUFBSSxVQUFVO0FBQ1YsYUFBTyxLQUFLLGtCQUFrQjtBQUFBLElBQ2xDO0FBQUEsSUFDQSxRQUFRO0FBQ0osV0FBSyxrQkFBa0IsTUFBTTtBQUFBLElBQ2pDO0FBQUEsSUFDQSxPQUFPO0FBQ0gsV0FBSyxrQkFBa0IsS0FBSztBQUFBLElBQ2hDO0FBQUEsSUFDQSxVQUFVO0FBQ04sV0FBSyxrQkFBa0IsUUFBUTtBQUFBLElBQ25DO0FBQUEsSUFDQSxJQUFJLFVBQVU7QUFDVixhQUFPLEtBQUssa0JBQWtCO0FBQUEsSUFDbEM7QUFBQSxJQUNBLElBQUksZ0JBQWdCO0FBQ2hCLGFBQU8sS0FBSyxrQkFBa0I7QUFBQSxJQUNsQztBQUFBLElBQ0EsYUFBYSxPQUFPO0FBQ2hCLFlBQU0sRUFBRSxRQUFRLElBQUk7QUFDcEIsWUFBTSxFQUFFLE1BQU0sSUFBSSxLQUFLLHlCQUF5QixLQUFLO0FBQ3JELFVBQUksT0FBTztBQUNQLGFBQUssNkJBQTZCLE9BQU8sRUFBRSxJQUFJLE9BQU8sS0FBSztBQUMzRCxhQUFLLFNBQVMsb0JBQW9CLFNBQVMsS0FBSztBQUFBLE1BQ3BEO0FBQUEsSUFDSjtBQUFBLElBQ0EsZUFBZSxPQUFPO0FBQ2xCLFlBQU0sRUFBRSxRQUFRLElBQUk7QUFDcEIsWUFBTSxFQUFFLE1BQU0sSUFBSSxLQUFLLHlCQUF5QixLQUFLO0FBQ3JELFVBQUksT0FBTztBQUNQLGFBQUssNkJBQTZCLE9BQU8sRUFBRSxPQUFPLEtBQUs7QUFDdkQsYUFBSyxTQUFTLHNCQUFzQixTQUFTLEtBQUs7QUFBQSxNQUN0RDtBQUFBLElBQ0o7QUFBQSxJQUNBLHlCQUF5QixPQUFPO0FBQzVCLFVBQUksY0FBYyxLQUFLLG9CQUFvQixJQUFJLEtBQUs7QUFDcEQsVUFBSSxDQUFDLGFBQWE7QUFDZCxzQkFBYyxLQUFLLFdBQVcsS0FBSztBQUNuQyxhQUFLLG9CQUFvQixJQUFJLE9BQU8sV0FBVztBQUFBLE1BQ25EO0FBQ0EsYUFBTztBQUFBLElBQ1g7QUFBQSxJQUNBLDZCQUE2QixTQUFTO0FBQ2xDLFVBQUksZ0JBQWdCLEtBQUssdUJBQXVCLElBQUksT0FBTztBQUMzRCxVQUFJLENBQUMsZUFBZTtBQUNoQix3QkFBZ0Isb0JBQUksSUFBSTtBQUN4QixhQUFLLHVCQUF1QixJQUFJLFNBQVMsYUFBYTtBQUFBLE1BQzFEO0FBQ0EsYUFBTztBQUFBLElBQ1g7QUFBQSxJQUNBLFdBQVcsT0FBTztBQUNkLFVBQUk7QUFDQSxjQUFNLFFBQVEsS0FBSyxTQUFTLG1CQUFtQixLQUFLO0FBQ3BELGVBQU8sRUFBRSxNQUFNO0FBQUEsTUFDbkIsU0FDT0MsUUFBTztBQUNWLGVBQU8sRUFBRSxPQUFBQSxPQUFNO0FBQUEsTUFDbkI7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUVBLE1BQU0sa0JBQU4sTUFBc0I7QUFBQSxJQUNsQixZQUFZLFNBQVMsVUFBVTtBQUMzQixXQUFLLFVBQVU7QUFDZixXQUFLLFdBQVc7QUFDaEIsV0FBSyxtQkFBbUIsb0JBQUksSUFBSTtBQUFBLElBQ3BDO0FBQUEsSUFDQSxRQUFRO0FBQ0osVUFBSSxDQUFDLEtBQUssbUJBQW1CO0FBQ3pCLGFBQUssb0JBQW9CLElBQUksa0JBQWtCLEtBQUssU0FBUyxLQUFLLGlCQUFpQixJQUFJO0FBQ3ZGLGFBQUssa0JBQWtCLE1BQU07QUFBQSxNQUNqQztBQUFBLElBQ0o7QUFBQSxJQUNBLE9BQU87QUFDSCxVQUFJLEtBQUssbUJBQW1CO0FBQ3hCLGFBQUssa0JBQWtCLEtBQUs7QUFDNUIsZUFBTyxLQUFLO0FBQ1osYUFBSyxxQkFBcUI7QUFBQSxNQUM5QjtBQUFBLElBQ0o7QUFBQSxJQUNBLElBQUksVUFBVTtBQUNWLGFBQU8sS0FBSyxRQUFRO0FBQUEsSUFDeEI7QUFBQSxJQUNBLElBQUksYUFBYTtBQUNiLGFBQU8sS0FBSyxRQUFRO0FBQUEsSUFDeEI7QUFBQSxJQUNBLElBQUksa0JBQWtCO0FBQ2xCLGFBQU8sS0FBSyxPQUFPO0FBQUEsSUFDdkI7QUFBQSxJQUNBLElBQUksU0FBUztBQUNULGFBQU8sS0FBSyxRQUFRO0FBQUEsSUFDeEI7QUFBQSxJQUNBLElBQUksV0FBVztBQUNYLGFBQU8sTUFBTSxLQUFLLEtBQUssaUJBQWlCLE9BQU8sQ0FBQztBQUFBLElBQ3BEO0FBQUEsSUFDQSxjQUFjLFFBQVE7QUFDbEIsWUFBTSxVQUFVLElBQUksUUFBUSxLQUFLLFNBQVMsTUFBTTtBQUNoRCxXQUFLLGlCQUFpQixJQUFJLFFBQVEsT0FBTztBQUN6QyxXQUFLLFNBQVMsaUJBQWlCLE9BQU87QUFBQSxJQUMxQztBQUFBLElBQ0EsaUJBQWlCLFFBQVE7QUFDckIsWUFBTSxVQUFVLEtBQUssaUJBQWlCLElBQUksTUFBTTtBQUNoRCxVQUFJLFNBQVM7QUFDVCxhQUFLLGlCQUFpQixPQUFPLE1BQU07QUFDbkMsYUFBSyxTQUFTLG9CQUFvQixPQUFPO0FBQUEsTUFDN0M7QUFBQSxJQUNKO0FBQUEsSUFDQSx1QkFBdUI7QUFDbkIsV0FBSyxTQUFTLFFBQVEsQ0FBQyxZQUFZLEtBQUssU0FBUyxvQkFBb0IsU0FBUyxJQUFJLENBQUM7QUFDbkYsV0FBSyxpQkFBaUIsTUFBTTtBQUFBLElBQ2hDO0FBQUEsSUFDQSxtQkFBbUIsT0FBTztBQUN0QixZQUFNLFNBQVMsT0FBTyxTQUFTLE9BQU8sS0FBSyxNQUFNO0FBQ2pELFVBQUksT0FBTyxjQUFjLEtBQUssWUFBWTtBQUN0QyxlQUFPO0FBQUEsTUFDWDtBQUFBLElBQ0o7QUFBQSxJQUNBLG9CQUFvQixTQUFTLFFBQVE7QUFDakMsV0FBSyxjQUFjLE1BQU07QUFBQSxJQUM3QjtBQUFBLElBQ0Esc0JBQXNCLFNBQVMsUUFBUTtBQUNuQyxXQUFLLGlCQUFpQixNQUFNO0FBQUEsSUFDaEM7QUFBQSxFQUNKO0FBRUEsTUFBTSxnQkFBTixNQUFvQjtBQUFBLElBQ2hCLFlBQVksU0FBUyxVQUFVO0FBQzNCLFdBQUssVUFBVTtBQUNmLFdBQUssV0FBVztBQUNoQixXQUFLLG9CQUFvQixJQUFJLGtCQUFrQixLQUFLLFNBQVMsSUFBSTtBQUNqRSxXQUFLLHFCQUFxQixLQUFLLFdBQVc7QUFBQSxJQUM5QztBQUFBLElBQ0EsUUFBUTtBQUNKLFdBQUssa0JBQWtCLE1BQU07QUFDN0IsV0FBSyx1Q0FBdUM7QUFBQSxJQUNoRDtBQUFBLElBQ0EsT0FBTztBQUNILFdBQUssa0JBQWtCLEtBQUs7QUFBQSxJQUNoQztBQUFBLElBQ0EsSUFBSSxVQUFVO0FBQ1YsYUFBTyxLQUFLLFFBQVE7QUFBQSxJQUN4QjtBQUFBLElBQ0EsSUFBSSxhQUFhO0FBQ2IsYUFBTyxLQUFLLFFBQVE7QUFBQSxJQUN4QjtBQUFBLElBQ0EsNEJBQTRCLGVBQWU7QUFDdkMsVUFBSSxpQkFBaUIsS0FBSyxvQkFBb0I7QUFDMUMsZUFBTyxLQUFLLG1CQUFtQixhQUFhLEVBQUU7QUFBQSxNQUNsRDtBQUFBLElBQ0o7QUFBQSxJQUNBLGtCQUFrQixLQUFLLGVBQWU7QUFDbEMsWUFBTSxhQUFhLEtBQUssbUJBQW1CLGFBQWE7QUFDeEQsVUFBSSxDQUFDLEtBQUssU0FBUyxHQUFHLEdBQUc7QUFDckIsYUFBSyxzQkFBc0IsS0FBSyxXQUFXLE9BQU8sS0FBSyxTQUFTLEdBQUcsQ0FBQyxHQUFHLFdBQVcsT0FBTyxXQUFXLFlBQVksQ0FBQztBQUFBLE1BQ3JIO0FBQUEsSUFDSjtBQUFBLElBQ0Esc0JBQXNCLE9BQU8sTUFBTSxVQUFVO0FBQ3pDLFlBQU0sYUFBYSxLQUFLLHVCQUF1QixJQUFJO0FBQ25ELFVBQUksVUFBVTtBQUNWO0FBQ0osVUFBSSxhQUFhLE1BQU07QUFDbkIsbUJBQVcsV0FBVyxPQUFPLFdBQVcsWUFBWTtBQUFBLE1BQ3hEO0FBQ0EsV0FBSyxzQkFBc0IsTUFBTSxPQUFPLFFBQVE7QUFBQSxJQUNwRDtBQUFBLElBQ0Esb0JBQW9CLEtBQUssZUFBZSxVQUFVO0FBQzlDLFlBQU0sYUFBYSxLQUFLLHVCQUF1QixHQUFHO0FBQ2xELFVBQUksS0FBSyxTQUFTLEdBQUcsR0FBRztBQUNwQixhQUFLLHNCQUFzQixLQUFLLFdBQVcsT0FBTyxLQUFLLFNBQVMsR0FBRyxDQUFDLEdBQUcsUUFBUTtBQUFBLE1BQ25GLE9BQ0s7QUFDRCxhQUFLLHNCQUFzQixLQUFLLFdBQVcsT0FBTyxXQUFXLFlBQVksR0FBRyxRQUFRO0FBQUEsTUFDeEY7QUFBQSxJQUNKO0FBQUEsSUFDQSx5Q0FBeUM7QUFDckMsaUJBQVcsRUFBRSxLQUFLLE1BQU0sY0FBYyxPQUFPLEtBQUssS0FBSyxrQkFBa0I7QUFDckUsWUFBSSxnQkFBZ0IsVUFBYSxDQUFDLEtBQUssV0FBVyxLQUFLLElBQUksR0FBRyxHQUFHO0FBQzdELGVBQUssc0JBQXNCLE1BQU0sT0FBTyxZQUFZLEdBQUcsTUFBUztBQUFBLFFBQ3BFO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxJQUNBLHNCQUFzQixNQUFNLFVBQVUsYUFBYTtBQUMvQyxZQUFNLG9CQUFvQixHQUFHLElBQUk7QUFDakMsWUFBTSxnQkFBZ0IsS0FBSyxTQUFTLGlCQUFpQjtBQUNyRCxVQUFJLE9BQU8saUJBQWlCLFlBQVk7QUFDcEMsY0FBTSxhQUFhLEtBQUssdUJBQXVCLElBQUk7QUFDbkQsWUFBSTtBQUNBLGdCQUFNLFFBQVEsV0FBVyxPQUFPLFFBQVE7QUFDeEMsY0FBSSxXQUFXO0FBQ2YsY0FBSSxhQUFhO0FBQ2IsdUJBQVcsV0FBVyxPQUFPLFdBQVc7QUFBQSxVQUM1QztBQUNBLHdCQUFjLEtBQUssS0FBSyxVQUFVLE9BQU8sUUFBUTtBQUFBLFFBQ3JELFNBQ09BLFFBQU87QUFDVixjQUFJQSxrQkFBaUIsV0FBVztBQUM1QixZQUFBQSxPQUFNLFVBQVUsbUJBQW1CLEtBQUssUUFBUSxVQUFVLElBQUksV0FBVyxJQUFJLE9BQU9BLE9BQU0sT0FBTztBQUFBLFVBQ3JHO0FBQ0EsZ0JBQU1BO0FBQUEsUUFDVjtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsSUFDQSxJQUFJLG1CQUFtQjtBQUNuQixZQUFNLEVBQUUsbUJBQW1CLElBQUk7QUFDL0IsYUFBTyxPQUFPLEtBQUssa0JBQWtCLEVBQUUsSUFBSSxDQUFDLFFBQVEsbUJBQW1CLEdBQUcsQ0FBQztBQUFBLElBQy9FO0FBQUEsSUFDQSxJQUFJLHlCQUF5QjtBQUN6QixZQUFNLGNBQWMsQ0FBQztBQUNyQixhQUFPLEtBQUssS0FBSyxrQkFBa0IsRUFBRSxRQUFRLENBQUMsUUFBUTtBQUNsRCxjQUFNLGFBQWEsS0FBSyxtQkFBbUIsR0FBRztBQUM5QyxvQkFBWSxXQUFXLElBQUksSUFBSTtBQUFBLE1BQ25DLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0EsU0FBUyxlQUFlO0FBQ3BCLFlBQU0sYUFBYSxLQUFLLHVCQUF1QixhQUFhO0FBQzVELFlBQU0sZ0JBQWdCLE1BQU0sV0FBVyxXQUFXLElBQUksQ0FBQztBQUN2RCxhQUFPLEtBQUssU0FBUyxhQUFhO0FBQUEsSUFDdEM7QUFBQSxFQUNKO0FBRUEsTUFBTSxpQkFBTixNQUFxQjtBQUFBLElBQ2pCLFlBQVksU0FBUyxVQUFVO0FBQzNCLFdBQUssVUFBVTtBQUNmLFdBQUssV0FBVztBQUNoQixXQUFLLGdCQUFnQixJQUFJLFNBQVM7QUFBQSxJQUN0QztBQUFBLElBQ0EsUUFBUTtBQUNKLFVBQUksQ0FBQyxLQUFLLG1CQUFtQjtBQUN6QixhQUFLLG9CQUFvQixJQUFJLGtCQUFrQixLQUFLLFNBQVMsS0FBSyxlQUFlLElBQUk7QUFDckYsYUFBSyxrQkFBa0IsTUFBTTtBQUFBLE1BQ2pDO0FBQUEsSUFDSjtBQUFBLElBQ0EsT0FBTztBQUNILFVBQUksS0FBSyxtQkFBbUI7QUFDeEIsYUFBSyxxQkFBcUI7QUFDMUIsYUFBSyxrQkFBa0IsS0FBSztBQUM1QixlQUFPLEtBQUs7QUFBQSxNQUNoQjtBQUFBLElBQ0o7QUFBQSxJQUNBLGFBQWEsRUFBRSxTQUFTLFNBQVMsS0FBSyxHQUFHO0FBQ3JDLFVBQUksS0FBSyxNQUFNLGdCQUFnQixPQUFPLEdBQUc7QUFDckMsYUFBSyxjQUFjLFNBQVMsSUFBSTtBQUFBLE1BQ3BDO0FBQUEsSUFDSjtBQUFBLElBQ0EsZUFBZSxFQUFFLFNBQVMsU0FBUyxLQUFLLEdBQUc7QUFDdkMsV0FBSyxpQkFBaUIsU0FBUyxJQUFJO0FBQUEsSUFDdkM7QUFBQSxJQUNBLGNBQWMsU0FBUyxNQUFNO0FBQ3pCLFVBQUk7QUFDSixVQUFJLENBQUMsS0FBSyxjQUFjLElBQUksTUFBTSxPQUFPLEdBQUc7QUFDeEMsYUFBSyxjQUFjLElBQUksTUFBTSxPQUFPO0FBQ3BDLFNBQUMsS0FBSyxLQUFLLHVCQUF1QixRQUFRLE9BQU8sU0FBUyxTQUFTLEdBQUcsTUFBTSxNQUFNLEtBQUssU0FBUyxnQkFBZ0IsU0FBUyxJQUFJLENBQUM7QUFBQSxNQUNsSTtBQUFBLElBQ0o7QUFBQSxJQUNBLGlCQUFpQixTQUFTLE1BQU07QUFDNUIsVUFBSTtBQUNKLFVBQUksS0FBSyxjQUFjLElBQUksTUFBTSxPQUFPLEdBQUc7QUFDdkMsYUFBSyxjQUFjLE9BQU8sTUFBTSxPQUFPO0FBQ3ZDLFNBQUMsS0FBSyxLQUFLLHVCQUF1QixRQUFRLE9BQU8sU0FBUyxTQUFTLEdBQUcsTUFBTSxNQUFNLEtBQUssU0FBUyxtQkFBbUIsU0FBUyxJQUFJLENBQUM7QUFBQSxNQUNySTtBQUFBLElBQ0o7QUFBQSxJQUNBLHVCQUF1QjtBQUNuQixpQkFBVyxRQUFRLEtBQUssY0FBYyxNQUFNO0FBQ3hDLG1CQUFXLFdBQVcsS0FBSyxjQUFjLGdCQUFnQixJQUFJLEdBQUc7QUFDNUQsZUFBSyxpQkFBaUIsU0FBUyxJQUFJO0FBQUEsUUFDdkM7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUFBLElBQ0EsSUFBSSxnQkFBZ0I7QUFDaEIsYUFBTyxRQUFRLEtBQUssUUFBUSxVQUFVO0FBQUEsSUFDMUM7QUFBQSxJQUNBLElBQUksVUFBVTtBQUNWLGFBQU8sS0FBSyxRQUFRO0FBQUEsSUFDeEI7QUFBQSxJQUNBLElBQUksUUFBUTtBQUNSLGFBQU8sS0FBSyxRQUFRO0FBQUEsSUFDeEI7QUFBQSxFQUNKO0FBRUEsV0FBUyxpQ0FBaUMsYUFBYSxjQUFjO0FBQ2pFLFVBQU0sWUFBWSwyQkFBMkIsV0FBVztBQUN4RCxXQUFPLE1BQU0sS0FBSyxVQUFVLE9BQU8sQ0FBQyxRQUFRQyxpQkFBZ0I7QUFDeEQsOEJBQXdCQSxjQUFhLFlBQVksRUFBRSxRQUFRLENBQUMsU0FBUyxPQUFPLElBQUksSUFBSSxDQUFDO0FBQ3JGLGFBQU87QUFBQSxJQUNYLEdBQUcsb0JBQUksSUFBSSxDQUFDLENBQUM7QUFBQSxFQUNqQjtBQUNBLFdBQVMsaUNBQWlDLGFBQWEsY0FBYztBQUNqRSxVQUFNLFlBQVksMkJBQTJCLFdBQVc7QUFDeEQsV0FBTyxVQUFVLE9BQU8sQ0FBQyxPQUFPQSxpQkFBZ0I7QUFDNUMsWUFBTSxLQUFLLEdBQUcsd0JBQXdCQSxjQUFhLFlBQVksQ0FBQztBQUNoRSxhQUFPO0FBQUEsSUFDWCxHQUFHLENBQUMsQ0FBQztBQUFBLEVBQ1Q7QUFDQSxXQUFTLDJCQUEyQixhQUFhO0FBQzdDLFVBQU0sWUFBWSxDQUFDO0FBQ25CLFdBQU8sYUFBYTtBQUNoQixnQkFBVSxLQUFLLFdBQVc7QUFDMUIsb0JBQWMsT0FBTyxlQUFlLFdBQVc7QUFBQSxJQUNuRDtBQUNBLFdBQU8sVUFBVSxRQUFRO0FBQUEsRUFDN0I7QUFDQSxXQUFTLHdCQUF3QixhQUFhLGNBQWM7QUFDeEQsVUFBTSxhQUFhLFlBQVksWUFBWTtBQUMzQyxXQUFPLE1BQU0sUUFBUSxVQUFVLElBQUksYUFBYSxDQUFDO0FBQUEsRUFDckQ7QUFDQSxXQUFTLHdCQUF3QixhQUFhLGNBQWM7QUFDeEQsVUFBTSxhQUFhLFlBQVksWUFBWTtBQUMzQyxXQUFPLGFBQWEsT0FBTyxLQUFLLFVBQVUsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssV0FBVyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFBQSxFQUN4RjtBQUVBLE1BQU0saUJBQU4sTUFBcUI7QUFBQSxJQUNqQixZQUFZLFNBQVMsVUFBVTtBQUMzQixXQUFLLFVBQVU7QUFDZixXQUFLLFVBQVU7QUFDZixXQUFLLFdBQVc7QUFDaEIsV0FBSyxnQkFBZ0IsSUFBSSxTQUFTO0FBQ2xDLFdBQUssdUJBQXVCLElBQUksU0FBUztBQUN6QyxXQUFLLHNCQUFzQixvQkFBSSxJQUFJO0FBQ25DLFdBQUssdUJBQXVCLG9CQUFJLElBQUk7QUFBQSxJQUN4QztBQUFBLElBQ0EsUUFBUTtBQUNKLFVBQUksQ0FBQyxLQUFLLFNBQVM7QUFDZixhQUFLLGtCQUFrQixRQUFRLENBQUMsZUFBZTtBQUMzQyxlQUFLLCtCQUErQixVQUFVO0FBQzlDLGVBQUssZ0NBQWdDLFVBQVU7QUFBQSxRQUNuRCxDQUFDO0FBQ0QsYUFBSyxVQUFVO0FBQ2YsYUFBSyxrQkFBa0IsUUFBUSxDQUFDLFlBQVksUUFBUSxRQUFRLENBQUM7QUFBQSxNQUNqRTtBQUFBLElBQ0o7QUFBQSxJQUNBLFVBQVU7QUFDTixXQUFLLG9CQUFvQixRQUFRLENBQUMsYUFBYSxTQUFTLFFBQVEsQ0FBQztBQUNqRSxXQUFLLHFCQUFxQixRQUFRLENBQUMsYUFBYSxTQUFTLFFBQVEsQ0FBQztBQUFBLElBQ3RFO0FBQUEsSUFDQSxPQUFPO0FBQ0gsVUFBSSxLQUFLLFNBQVM7QUFDZCxhQUFLLFVBQVU7QUFDZixhQUFLLHFCQUFxQjtBQUMxQixhQUFLLHNCQUFzQjtBQUMzQixhQUFLLHVCQUF1QjtBQUFBLE1BQ2hDO0FBQUEsSUFDSjtBQUFBLElBQ0Esd0JBQXdCO0FBQ3BCLFVBQUksS0FBSyxvQkFBb0IsT0FBTyxHQUFHO0FBQ25DLGFBQUssb0JBQW9CLFFBQVEsQ0FBQyxhQUFhLFNBQVMsS0FBSyxDQUFDO0FBQzlELGFBQUssb0JBQW9CLE1BQU07QUFBQSxNQUNuQztBQUFBLElBQ0o7QUFBQSxJQUNBLHlCQUF5QjtBQUNyQixVQUFJLEtBQUsscUJBQXFCLE9BQU8sR0FBRztBQUNwQyxhQUFLLHFCQUFxQixRQUFRLENBQUMsYUFBYSxTQUFTLEtBQUssQ0FBQztBQUMvRCxhQUFLLHFCQUFxQixNQUFNO0FBQUEsTUFDcEM7QUFBQSxJQUNKO0FBQUEsSUFDQSxnQkFBZ0IsU0FBUyxXQUFXLEVBQUUsV0FBVyxHQUFHO0FBQ2hELFlBQU0sU0FBUyxLQUFLLFVBQVUsU0FBUyxVQUFVO0FBQ2pELFVBQUksUUFBUTtBQUNSLGFBQUssY0FBYyxRQUFRLFNBQVMsVUFBVTtBQUFBLE1BQ2xEO0FBQUEsSUFDSjtBQUFBLElBQ0Esa0JBQWtCLFNBQVMsV0FBVyxFQUFFLFdBQVcsR0FBRztBQUNsRCxZQUFNLFNBQVMsS0FBSyxpQkFBaUIsU0FBUyxVQUFVO0FBQ3hELFVBQUksUUFBUTtBQUNSLGFBQUssaUJBQWlCLFFBQVEsU0FBUyxVQUFVO0FBQUEsTUFDckQ7QUFBQSxJQUNKO0FBQUEsSUFDQSxxQkFBcUIsU0FBUyxFQUFFLFdBQVcsR0FBRztBQUMxQyxZQUFNLFdBQVcsS0FBSyxTQUFTLFVBQVU7QUFDekMsWUFBTSxZQUFZLEtBQUssVUFBVSxTQUFTLFVBQVU7QUFDcEQsWUFBTSxzQkFBc0IsUUFBUSxRQUFRLElBQUksS0FBSyxPQUFPLG1CQUFtQixLQUFLLFVBQVUsR0FBRztBQUNqRyxVQUFJLFVBQVU7QUFDVixlQUFPLGFBQWEsdUJBQXVCLFFBQVEsUUFBUSxRQUFRO0FBQUEsTUFDdkUsT0FDSztBQUNELGVBQU87QUFBQSxNQUNYO0FBQUEsSUFDSjtBQUFBLElBQ0Esd0JBQXdCLFVBQVUsZUFBZTtBQUM3QyxZQUFNLGFBQWEsS0FBSyxxQ0FBcUMsYUFBYTtBQUMxRSxVQUFJLFlBQVk7QUFDWixhQUFLLGdDQUFnQyxVQUFVO0FBQUEsTUFDbkQ7QUFBQSxJQUNKO0FBQUEsSUFDQSw2QkFBNkIsVUFBVSxlQUFlO0FBQ2xELFlBQU0sYUFBYSxLQUFLLHFDQUFxQyxhQUFhO0FBQzFFLFVBQUksWUFBWTtBQUNaLGFBQUssZ0NBQWdDLFVBQVU7QUFBQSxNQUNuRDtBQUFBLElBQ0o7QUFBQSxJQUNBLDBCQUEwQixVQUFVLGVBQWU7QUFDL0MsWUFBTSxhQUFhLEtBQUsscUNBQXFDLGFBQWE7QUFDMUUsVUFBSSxZQUFZO0FBQ1osYUFBSyxnQ0FBZ0MsVUFBVTtBQUFBLE1BQ25EO0FBQUEsSUFDSjtBQUFBLElBQ0EsY0FBYyxRQUFRLFNBQVMsWUFBWTtBQUN2QyxVQUFJO0FBQ0osVUFBSSxDQUFDLEtBQUsscUJBQXFCLElBQUksWUFBWSxPQUFPLEdBQUc7QUFDckQsYUFBSyxjQUFjLElBQUksWUFBWSxNQUFNO0FBQ3pDLGFBQUsscUJBQXFCLElBQUksWUFBWSxPQUFPO0FBQ2pELFNBQUMsS0FBSyxLQUFLLG9CQUFvQixJQUFJLFVBQVUsT0FBTyxRQUFRLE9BQU8sU0FBUyxTQUFTLEdBQUcsTUFBTSxNQUFNLEtBQUssU0FBUyxnQkFBZ0IsUUFBUSxTQUFTLFVBQVUsQ0FBQztBQUFBLE1BQ2xLO0FBQUEsSUFDSjtBQUFBLElBQ0EsaUJBQWlCLFFBQVEsU0FBUyxZQUFZO0FBQzFDLFVBQUk7QUFDSixVQUFJLEtBQUsscUJBQXFCLElBQUksWUFBWSxPQUFPLEdBQUc7QUFDcEQsYUFBSyxjQUFjLE9BQU8sWUFBWSxNQUFNO0FBQzVDLGFBQUsscUJBQXFCLE9BQU8sWUFBWSxPQUFPO0FBQ3BELFNBQUMsS0FBSyxLQUFLLG9CQUNOLElBQUksVUFBVSxPQUFPLFFBQVEsT0FBTyxTQUFTLFNBQVMsR0FBRyxNQUFNLE1BQU0sS0FBSyxTQUFTLG1CQUFtQixRQUFRLFNBQVMsVUFBVSxDQUFDO0FBQUEsTUFDM0k7QUFBQSxJQUNKO0FBQUEsSUFDQSx1QkFBdUI7QUFDbkIsaUJBQVcsY0FBYyxLQUFLLHFCQUFxQixNQUFNO0FBQ3JELG1CQUFXLFdBQVcsS0FBSyxxQkFBcUIsZ0JBQWdCLFVBQVUsR0FBRztBQUN6RSxxQkFBVyxVQUFVLEtBQUssY0FBYyxnQkFBZ0IsVUFBVSxHQUFHO0FBQ2pFLGlCQUFLLGlCQUFpQixRQUFRLFNBQVMsVUFBVTtBQUFBLFVBQ3JEO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsSUFDQSxnQ0FBZ0MsWUFBWTtBQUN4QyxZQUFNLFdBQVcsS0FBSyxvQkFBb0IsSUFBSSxVQUFVO0FBQ3hELFVBQUksVUFBVTtBQUNWLGlCQUFTLFdBQVcsS0FBSyxTQUFTLFVBQVU7QUFBQSxNQUNoRDtBQUFBLElBQ0o7QUFBQSxJQUNBLCtCQUErQixZQUFZO0FBQ3ZDLFlBQU0sV0FBVyxLQUFLLFNBQVMsVUFBVTtBQUN6QyxZQUFNLG1CQUFtQixJQUFJLGlCQUFpQixTQUFTLE1BQU0sVUFBVSxNQUFNLEVBQUUsV0FBVyxDQUFDO0FBQzNGLFdBQUssb0JBQW9CLElBQUksWUFBWSxnQkFBZ0I7QUFDekQsdUJBQWlCLE1BQU07QUFBQSxJQUMzQjtBQUFBLElBQ0EsZ0NBQWdDLFlBQVk7QUFDeEMsWUFBTSxnQkFBZ0IsS0FBSywyQkFBMkIsVUFBVTtBQUNoRSxZQUFNLG9CQUFvQixJQUFJLGtCQUFrQixLQUFLLE1BQU0sU0FBUyxlQUFlLElBQUk7QUFDdkYsV0FBSyxxQkFBcUIsSUFBSSxZQUFZLGlCQUFpQjtBQUMzRCx3QkFBa0IsTUFBTTtBQUFBLElBQzVCO0FBQUEsSUFDQSxTQUFTLFlBQVk7QUFDakIsYUFBTyxLQUFLLE1BQU0sUUFBUSx5QkFBeUIsVUFBVTtBQUFBLElBQ2pFO0FBQUEsSUFDQSwyQkFBMkIsWUFBWTtBQUNuQyxhQUFPLEtBQUssTUFBTSxPQUFPLHdCQUF3QixLQUFLLFlBQVksVUFBVTtBQUFBLElBQ2hGO0FBQUEsSUFDQSxxQ0FBcUMsZUFBZTtBQUNoRCxhQUFPLEtBQUssa0JBQWtCLEtBQUssQ0FBQyxlQUFlLEtBQUssMkJBQTJCLFVBQVUsTUFBTSxhQUFhO0FBQUEsSUFDcEg7QUFBQSxJQUNBLElBQUkscUJBQXFCO0FBQ3JCLFlBQU0sZUFBZSxJQUFJLFNBQVM7QUFDbEMsV0FBSyxPQUFPLFFBQVEsUUFBUSxDQUFDLFdBQVc7QUFDcEMsY0FBTSxjQUFjLE9BQU8sV0FBVztBQUN0QyxjQUFNLFVBQVUsaUNBQWlDLGFBQWEsU0FBUztBQUN2RSxnQkFBUSxRQUFRLENBQUMsV0FBVyxhQUFhLElBQUksUUFBUSxPQUFPLFVBQVUsQ0FBQztBQUFBLE1BQzNFLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0EsSUFBSSxvQkFBb0I7QUFDcEIsYUFBTyxLQUFLLG1CQUFtQixnQkFBZ0IsS0FBSyxVQUFVO0FBQUEsSUFDbEU7QUFBQSxJQUNBLElBQUksaUNBQWlDO0FBQ2pDLGFBQU8sS0FBSyxtQkFBbUIsZ0JBQWdCLEtBQUssVUFBVTtBQUFBLElBQ2xFO0FBQUEsSUFDQSxJQUFJLG9CQUFvQjtBQUNwQixZQUFNLGNBQWMsS0FBSztBQUN6QixhQUFPLEtBQUssT0FBTyxTQUFTLE9BQU8sQ0FBQyxZQUFZLFlBQVksU0FBUyxRQUFRLFVBQVUsQ0FBQztBQUFBLElBQzVGO0FBQUEsSUFDQSxVQUFVLFNBQVMsWUFBWTtBQUMzQixhQUFPLENBQUMsQ0FBQyxLQUFLLFVBQVUsU0FBUyxVQUFVLEtBQUssQ0FBQyxDQUFDLEtBQUssaUJBQWlCLFNBQVMsVUFBVTtBQUFBLElBQy9GO0FBQUEsSUFDQSxVQUFVLFNBQVMsWUFBWTtBQUMzQixhQUFPLEtBQUssWUFBWSxxQ0FBcUMsU0FBUyxVQUFVO0FBQUEsSUFDcEY7QUFBQSxJQUNBLGlCQUFpQixTQUFTLFlBQVk7QUFDbEMsYUFBTyxLQUFLLGNBQWMsZ0JBQWdCLFVBQVUsRUFBRSxLQUFLLENBQUMsV0FBVyxPQUFPLFlBQVksT0FBTztBQUFBLElBQ3JHO0FBQUEsSUFDQSxJQUFJLFFBQVE7QUFDUixhQUFPLEtBQUssUUFBUTtBQUFBLElBQ3hCO0FBQUEsSUFDQSxJQUFJLFNBQVM7QUFDVCxhQUFPLEtBQUssUUFBUTtBQUFBLElBQ3hCO0FBQUEsSUFDQSxJQUFJLGFBQWE7QUFDYixhQUFPLEtBQUssUUFBUTtBQUFBLElBQ3hCO0FBQUEsSUFDQSxJQUFJLGNBQWM7QUFDZCxhQUFPLEtBQUssUUFBUTtBQUFBLElBQ3hCO0FBQUEsSUFDQSxJQUFJLFNBQVM7QUFDVCxhQUFPLEtBQUssWUFBWTtBQUFBLElBQzVCO0FBQUEsRUFDSjtBQUVBLE1BQU0sVUFBTixNQUFjO0FBQUEsSUFDVixZQUFZLFFBQVEsT0FBTztBQUN2QixXQUFLLG1CQUFtQixDQUFDLGNBQWMsU0FBUyxDQUFDLE1BQU07QUFDbkQsY0FBTSxFQUFFLFlBQVksWUFBWSxRQUFRLElBQUk7QUFDNUMsaUJBQVMsT0FBTyxPQUFPLEVBQUUsWUFBWSxZQUFZLFFBQVEsR0FBRyxNQUFNO0FBQ2xFLGFBQUssWUFBWSxpQkFBaUIsS0FBSyxZQUFZLGNBQWMsTUFBTTtBQUFBLE1BQzNFO0FBQ0EsV0FBSyxTQUFTO0FBQ2QsV0FBSyxRQUFRO0FBQ2IsV0FBSyxhQUFhLElBQUksT0FBTyxzQkFBc0IsSUFBSTtBQUN2RCxXQUFLLGtCQUFrQixJQUFJLGdCQUFnQixNQUFNLEtBQUssVUFBVTtBQUNoRSxXQUFLLGdCQUFnQixJQUFJLGNBQWMsTUFBTSxLQUFLLFVBQVU7QUFDNUQsV0FBSyxpQkFBaUIsSUFBSSxlQUFlLE1BQU0sSUFBSTtBQUNuRCxXQUFLLGlCQUFpQixJQUFJLGVBQWUsTUFBTSxJQUFJO0FBQ25ELFVBQUk7QUFDQSxhQUFLLFdBQVcsV0FBVztBQUMzQixhQUFLLGlCQUFpQixZQUFZO0FBQUEsTUFDdEMsU0FDT0QsUUFBTztBQUNWLGFBQUssWUFBWUEsUUFBTyx5QkFBeUI7QUFBQSxNQUNyRDtBQUFBLElBQ0o7QUFBQSxJQUNBLFVBQVU7QUFDTixXQUFLLGdCQUFnQixNQUFNO0FBQzNCLFdBQUssY0FBYyxNQUFNO0FBQ3pCLFdBQUssZUFBZSxNQUFNO0FBQzFCLFdBQUssZUFBZSxNQUFNO0FBQzFCLFVBQUk7QUFDQSxhQUFLLFdBQVcsUUFBUTtBQUN4QixhQUFLLGlCQUFpQixTQUFTO0FBQUEsTUFDbkMsU0FDT0EsUUFBTztBQUNWLGFBQUssWUFBWUEsUUFBTyx1QkFBdUI7QUFBQSxNQUNuRDtBQUFBLElBQ0o7QUFBQSxJQUNBLFVBQVU7QUFDTixXQUFLLGVBQWUsUUFBUTtBQUFBLElBQ2hDO0FBQUEsSUFDQSxhQUFhO0FBQ1QsVUFBSTtBQUNBLGFBQUssV0FBVyxXQUFXO0FBQzNCLGFBQUssaUJBQWlCLFlBQVk7QUFBQSxNQUN0QyxTQUNPQSxRQUFPO0FBQ1YsYUFBSyxZQUFZQSxRQUFPLDBCQUEwQjtBQUFBLE1BQ3REO0FBQ0EsV0FBSyxlQUFlLEtBQUs7QUFDekIsV0FBSyxlQUFlLEtBQUs7QUFDekIsV0FBSyxjQUFjLEtBQUs7QUFDeEIsV0FBSyxnQkFBZ0IsS0FBSztBQUFBLElBQzlCO0FBQUEsSUFDQSxJQUFJLGNBQWM7QUFDZCxhQUFPLEtBQUssT0FBTztBQUFBLElBQ3ZCO0FBQUEsSUFDQSxJQUFJLGFBQWE7QUFDYixhQUFPLEtBQUssT0FBTztBQUFBLElBQ3ZCO0FBQUEsSUFDQSxJQUFJLFNBQVM7QUFDVCxhQUFPLEtBQUssWUFBWTtBQUFBLElBQzVCO0FBQUEsSUFDQSxJQUFJLGFBQWE7QUFDYixhQUFPLEtBQUssWUFBWTtBQUFBLElBQzVCO0FBQUEsSUFDQSxJQUFJLFVBQVU7QUFDVixhQUFPLEtBQUssTUFBTTtBQUFBLElBQ3RCO0FBQUEsSUFDQSxJQUFJLGdCQUFnQjtBQUNoQixhQUFPLEtBQUssUUFBUTtBQUFBLElBQ3hCO0FBQUEsSUFDQSxZQUFZQSxRQUFPRSxVQUFTLFNBQVMsQ0FBQyxHQUFHO0FBQ3JDLFlBQU0sRUFBRSxZQUFZLFlBQVksUUFBUSxJQUFJO0FBQzVDLGVBQVMsT0FBTyxPQUFPLEVBQUUsWUFBWSxZQUFZLFFBQVEsR0FBRyxNQUFNO0FBQ2xFLFdBQUssWUFBWSxZQUFZRixRQUFPLFNBQVNFLFFBQU8sSUFBSSxNQUFNO0FBQUEsSUFDbEU7QUFBQSxJQUNBLGdCQUFnQixTQUFTLE1BQU07QUFDM0IsV0FBSyx1QkFBdUIsR0FBRyxJQUFJLG1CQUFtQixPQUFPO0FBQUEsSUFDakU7QUFBQSxJQUNBLG1CQUFtQixTQUFTLE1BQU07QUFDOUIsV0FBSyx1QkFBdUIsR0FBRyxJQUFJLHNCQUFzQixPQUFPO0FBQUEsSUFDcEU7QUFBQSxJQUNBLGdCQUFnQixRQUFRLFNBQVMsTUFBTTtBQUNuQyxXQUFLLHVCQUF1QixHQUFHLGtCQUFrQixJQUFJLENBQUMsbUJBQW1CLFFBQVEsT0FBTztBQUFBLElBQzVGO0FBQUEsSUFDQSxtQkFBbUIsUUFBUSxTQUFTLE1BQU07QUFDdEMsV0FBSyx1QkFBdUIsR0FBRyxrQkFBa0IsSUFBSSxDQUFDLHNCQUFzQixRQUFRLE9BQU87QUFBQSxJQUMvRjtBQUFBLElBQ0EsdUJBQXVCLGVBQWUsTUFBTTtBQUN4QyxZQUFNLGFBQWEsS0FBSztBQUN4QixVQUFJLE9BQU8sV0FBVyxVQUFVLEtBQUssWUFBWTtBQUM3QyxtQkFBVyxVQUFVLEVBQUUsR0FBRyxJQUFJO0FBQUEsTUFDbEM7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUVBLFdBQVMsTUFBTSxhQUFhO0FBQ3hCLFdBQU8sT0FBTyxhQUFhLHFCQUFxQixXQUFXLENBQUM7QUFBQSxFQUNoRTtBQUNBLFdBQVMsT0FBTyxhQUFhLFlBQVk7QUFDckMsVUFBTSxvQkFBb0IsT0FBTyxXQUFXO0FBQzVDLFVBQU0sbUJBQW1CLG9CQUFvQixZQUFZLFdBQVcsVUFBVTtBQUM5RSxXQUFPLGlCQUFpQixrQkFBa0IsV0FBVyxnQkFBZ0I7QUFDckUsV0FBTztBQUFBLEVBQ1g7QUFDQSxXQUFTLHFCQUFxQixhQUFhO0FBQ3ZDLFVBQU0sWUFBWSxpQ0FBaUMsYUFBYSxXQUFXO0FBQzNFLFdBQU8sVUFBVSxPQUFPLENBQUMsbUJBQW1CLGFBQWE7QUFDckQsWUFBTSxhQUFhLFNBQVMsV0FBVztBQUN2QyxpQkFBVyxPQUFPLFlBQVk7QUFDMUIsY0FBTSxhQUFhLGtCQUFrQixHQUFHLEtBQUssQ0FBQztBQUM5QywwQkFBa0IsR0FBRyxJQUFJLE9BQU8sT0FBTyxZQUFZLFdBQVcsR0FBRyxDQUFDO0FBQUEsTUFDdEU7QUFDQSxhQUFPO0FBQUEsSUFDWCxHQUFHLENBQUMsQ0FBQztBQUFBLEVBQ1Q7QUFDQSxXQUFTLG9CQUFvQixXQUFXLFlBQVk7QUFDaEQsV0FBTyxXQUFXLFVBQVUsRUFBRSxPQUFPLENBQUMsa0JBQWtCLFFBQVE7QUFDNUQsWUFBTSxhQUFhLHNCQUFzQixXQUFXLFlBQVksR0FBRztBQUNuRSxVQUFJLFlBQVk7QUFDWixlQUFPLE9BQU8sa0JBQWtCLEVBQUUsQ0FBQyxHQUFHLEdBQUcsV0FBVyxDQUFDO0FBQUEsTUFDekQ7QUFDQSxhQUFPO0FBQUEsSUFDWCxHQUFHLENBQUMsQ0FBQztBQUFBLEVBQ1Q7QUFDQSxXQUFTLHNCQUFzQixXQUFXLFlBQVksS0FBSztBQUN2RCxVQUFNLHNCQUFzQixPQUFPLHlCQUF5QixXQUFXLEdBQUc7QUFDMUUsVUFBTSxrQkFBa0IsdUJBQXVCLFdBQVc7QUFDMUQsUUFBSSxDQUFDLGlCQUFpQjtBQUNsQixZQUFNLGFBQWEsT0FBTyx5QkFBeUIsWUFBWSxHQUFHLEVBQUU7QUFDcEUsVUFBSSxxQkFBcUI7QUFDckIsbUJBQVcsTUFBTSxvQkFBb0IsT0FBTyxXQUFXO0FBQ3ZELG1CQUFXLE1BQU0sb0JBQW9CLE9BQU8sV0FBVztBQUFBLE1BQzNEO0FBQ0EsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQ0EsTUFBTSxjQUFjLE1BQU07QUFDdEIsUUFBSSxPQUFPLE9BQU8seUJBQXlCLFlBQVk7QUFDbkQsYUFBTyxDQUFDLFdBQVcsQ0FBQyxHQUFHLE9BQU8sb0JBQW9CLE1BQU0sR0FBRyxHQUFHLE9BQU8sc0JBQXNCLE1BQU0sQ0FBQztBQUFBLElBQ3RHLE9BQ0s7QUFDRCxhQUFPLE9BQU87QUFBQSxJQUNsQjtBQUFBLEVBQ0osR0FBRztBQUNILE1BQU0sVUFBVSxNQUFNO0FBQ2xCLGFBQVMsa0JBQWtCLGFBQWE7QUFDcEMsZUFBUyxXQUFXO0FBQ2hCLGVBQU8sUUFBUSxVQUFVLGFBQWEsV0FBVyxVQUFVO0FBQUEsTUFDL0Q7QUFDQSxlQUFTLFlBQVksT0FBTyxPQUFPLFlBQVksV0FBVztBQUFBLFFBQ3RELGFBQWEsRUFBRSxPQUFPLFNBQVM7QUFBQSxNQUNuQyxDQUFDO0FBQ0QsY0FBUSxlQUFlLFVBQVUsV0FBVztBQUM1QyxhQUFPO0FBQUEsSUFDWDtBQUNBLGFBQVMsdUJBQXVCO0FBQzVCLFlBQU0sSUFBSSxXQUFZO0FBQ2xCLGFBQUssRUFBRSxLQUFLLElBQUk7QUFBQSxNQUNwQjtBQUNBLFlBQU0sSUFBSSxrQkFBa0IsQ0FBQztBQUM3QixRQUFFLFVBQVUsSUFBSSxXQUFZO0FBQUEsTUFBRTtBQUM5QixhQUFPLElBQUksRUFBRTtBQUFBLElBQ2pCO0FBQ0EsUUFBSTtBQUNBLDJCQUFxQjtBQUNyQixhQUFPO0FBQUEsSUFDWCxTQUNPRixRQUFPO0FBQ1YsYUFBTyxDQUFDLGdCQUFnQixNQUFNLGlCQUFpQixZQUFZO0FBQUEsTUFDM0Q7QUFBQSxJQUNKO0FBQUEsRUFDSixHQUFHO0FBRUgsV0FBUyxnQkFBZ0IsWUFBWTtBQUNqQyxXQUFPO0FBQUEsTUFDSCxZQUFZLFdBQVc7QUFBQSxNQUN2Qix1QkFBdUIsTUFBTSxXQUFXLHFCQUFxQjtBQUFBLElBQ2pFO0FBQUEsRUFDSjtBQUVBLE1BQU0sU0FBTixNQUFhO0FBQUEsSUFDVCxZQUFZRyxjQUFhLFlBQVk7QUFDakMsV0FBSyxjQUFjQTtBQUNuQixXQUFLLGFBQWEsZ0JBQWdCLFVBQVU7QUFDNUMsV0FBSyxrQkFBa0Isb0JBQUksUUFBUTtBQUNuQyxXQUFLLG9CQUFvQixvQkFBSSxJQUFJO0FBQUEsSUFDckM7QUFBQSxJQUNBLElBQUksYUFBYTtBQUNiLGFBQU8sS0FBSyxXQUFXO0FBQUEsSUFDM0I7QUFBQSxJQUNBLElBQUksd0JBQXdCO0FBQ3hCLGFBQU8sS0FBSyxXQUFXO0FBQUEsSUFDM0I7QUFBQSxJQUNBLElBQUksV0FBVztBQUNYLGFBQU8sTUFBTSxLQUFLLEtBQUssaUJBQWlCO0FBQUEsSUFDNUM7QUFBQSxJQUNBLHVCQUF1QixPQUFPO0FBQzFCLFlBQU0sVUFBVSxLQUFLLHFCQUFxQixLQUFLO0FBQy9DLFdBQUssa0JBQWtCLElBQUksT0FBTztBQUNsQyxjQUFRLFFBQVE7QUFBQSxJQUNwQjtBQUFBLElBQ0EsMEJBQTBCLE9BQU87QUFDN0IsWUFBTSxVQUFVLEtBQUssZ0JBQWdCLElBQUksS0FBSztBQUM5QyxVQUFJLFNBQVM7QUFDVCxhQUFLLGtCQUFrQixPQUFPLE9BQU87QUFDckMsZ0JBQVEsV0FBVztBQUFBLE1BQ3ZCO0FBQUEsSUFDSjtBQUFBLElBQ0EscUJBQXFCLE9BQU87QUFDeEIsVUFBSSxVQUFVLEtBQUssZ0JBQWdCLElBQUksS0FBSztBQUM1QyxVQUFJLENBQUMsU0FBUztBQUNWLGtCQUFVLElBQUksUUFBUSxNQUFNLEtBQUs7QUFDakMsYUFBSyxnQkFBZ0IsSUFBSSxPQUFPLE9BQU87QUFBQSxNQUMzQztBQUNBLGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUVBLE1BQU0sV0FBTixNQUFlO0FBQUEsSUFDWCxZQUFZLE9BQU87QUFDZixXQUFLLFFBQVE7QUFBQSxJQUNqQjtBQUFBLElBQ0EsSUFBSSxNQUFNO0FBQ04sYUFBTyxLQUFLLEtBQUssSUFBSSxLQUFLLFdBQVcsSUFBSSxDQUFDO0FBQUEsSUFDOUM7QUFBQSxJQUNBLElBQUksTUFBTTtBQUNOLGFBQU8sS0FBSyxPQUFPLElBQUksRUFBRSxDQUFDO0FBQUEsSUFDOUI7QUFBQSxJQUNBLE9BQU8sTUFBTTtBQUNULFlBQU0sY0FBYyxLQUFLLEtBQUssSUFBSSxLQUFLLFdBQVcsSUFBSSxDQUFDLEtBQUs7QUFDNUQsYUFBTyxTQUFTLFdBQVc7QUFBQSxJQUMvQjtBQUFBLElBQ0EsaUJBQWlCLE1BQU07QUFDbkIsYUFBTyxLQUFLLEtBQUssdUJBQXVCLEtBQUssV0FBVyxJQUFJLENBQUM7QUFBQSxJQUNqRTtBQUFBLElBQ0EsV0FBVyxNQUFNO0FBQ2IsYUFBTyxHQUFHLElBQUk7QUFBQSxJQUNsQjtBQUFBLElBQ0EsSUFBSSxPQUFPO0FBQ1AsYUFBTyxLQUFLLE1BQU07QUFBQSxJQUN0QjtBQUFBLEVBQ0o7QUFFQSxNQUFNLFVBQU4sTUFBYztBQUFBLElBQ1YsWUFBWSxPQUFPO0FBQ2YsV0FBSyxRQUFRO0FBQUEsSUFDakI7QUFBQSxJQUNBLElBQUksVUFBVTtBQUNWLGFBQU8sS0FBSyxNQUFNO0FBQUEsSUFDdEI7QUFBQSxJQUNBLElBQUksYUFBYTtBQUNiLGFBQU8sS0FBSyxNQUFNO0FBQUEsSUFDdEI7QUFBQSxJQUNBLElBQUksS0FBSztBQUNMLFlBQU0sT0FBTyxLQUFLLHVCQUF1QixHQUFHO0FBQzVDLGFBQU8sS0FBSyxRQUFRLGFBQWEsSUFBSTtBQUFBLElBQ3pDO0FBQUEsSUFDQSxJQUFJLEtBQUssT0FBTztBQUNaLFlBQU0sT0FBTyxLQUFLLHVCQUF1QixHQUFHO0FBQzVDLFdBQUssUUFBUSxhQUFhLE1BQU0sS0FBSztBQUNyQyxhQUFPLEtBQUssSUFBSSxHQUFHO0FBQUEsSUFDdkI7QUFBQSxJQUNBLElBQUksS0FBSztBQUNMLFlBQU0sT0FBTyxLQUFLLHVCQUF1QixHQUFHO0FBQzVDLGFBQU8sS0FBSyxRQUFRLGFBQWEsSUFBSTtBQUFBLElBQ3pDO0FBQUEsSUFDQSxPQUFPLEtBQUs7QUFDUixVQUFJLEtBQUssSUFBSSxHQUFHLEdBQUc7QUFDZixjQUFNLE9BQU8sS0FBSyx1QkFBdUIsR0FBRztBQUM1QyxhQUFLLFFBQVEsZ0JBQWdCLElBQUk7QUFDakMsZUFBTztBQUFBLE1BQ1gsT0FDSztBQUNELGVBQU87QUFBQSxNQUNYO0FBQUEsSUFDSjtBQUFBLElBQ0EsdUJBQXVCLEtBQUs7QUFDeEIsYUFBTyxRQUFRLEtBQUssVUFBVSxJQUFJLFVBQVUsR0FBRyxDQUFDO0FBQUEsSUFDcEQ7QUFBQSxFQUNKO0FBRUEsTUFBTSxRQUFOLE1BQVk7QUFBQSxJQUNSLFlBQVksUUFBUTtBQUNoQixXQUFLLHFCQUFxQixvQkFBSSxRQUFRO0FBQ3RDLFdBQUssU0FBUztBQUFBLElBQ2xCO0FBQUEsSUFDQSxLQUFLLFFBQVEsS0FBS0QsVUFBUztBQUN2QixVQUFJLGFBQWEsS0FBSyxtQkFBbUIsSUFBSSxNQUFNO0FBQ25ELFVBQUksQ0FBQyxZQUFZO0FBQ2IscUJBQWEsb0JBQUksSUFBSTtBQUNyQixhQUFLLG1CQUFtQixJQUFJLFFBQVEsVUFBVTtBQUFBLE1BQ2xEO0FBQ0EsVUFBSSxDQUFDLFdBQVcsSUFBSSxHQUFHLEdBQUc7QUFDdEIsbUJBQVcsSUFBSSxHQUFHO0FBQ2xCLGFBQUssT0FBTyxLQUFLQSxVQUFTLE1BQU07QUFBQSxNQUNwQztBQUFBLElBQ0o7QUFBQSxFQUNKO0FBRUEsV0FBUyw0QkFBNEIsZUFBZSxPQUFPO0FBQ3ZELFdBQU8sSUFBSSxhQUFhLE1BQU0sS0FBSztBQUFBLEVBQ3ZDO0FBRUEsTUFBTSxZQUFOLE1BQWdCO0FBQUEsSUFDWixZQUFZLE9BQU87QUFDZixXQUFLLFFBQVE7QUFBQSxJQUNqQjtBQUFBLElBQ0EsSUFBSSxVQUFVO0FBQ1YsYUFBTyxLQUFLLE1BQU07QUFBQSxJQUN0QjtBQUFBLElBQ0EsSUFBSSxhQUFhO0FBQ2IsYUFBTyxLQUFLLE1BQU07QUFBQSxJQUN0QjtBQUFBLElBQ0EsSUFBSSxTQUFTO0FBQ1QsYUFBTyxLQUFLLE1BQU07QUFBQSxJQUN0QjtBQUFBLElBQ0EsSUFBSSxZQUFZO0FBQ1osYUFBTyxLQUFLLEtBQUssVUFBVSxLQUFLO0FBQUEsSUFDcEM7QUFBQSxJQUNBLFFBQVEsYUFBYTtBQUNqQixhQUFPLFlBQVksT0FBTyxDQUFDLFFBQVEsZUFBZSxVQUFVLEtBQUssV0FBVyxVQUFVLEtBQUssS0FBSyxpQkFBaUIsVUFBVSxHQUFHLE1BQVM7QUFBQSxJQUMzSTtBQUFBLElBQ0EsV0FBVyxhQUFhO0FBQ3BCLGFBQU8sWUFBWSxPQUFPLENBQUMsU0FBUyxlQUFlO0FBQUEsUUFDL0MsR0FBRztBQUFBLFFBQ0gsR0FBRyxLQUFLLGVBQWUsVUFBVTtBQUFBLFFBQ2pDLEdBQUcsS0FBSyxxQkFBcUIsVUFBVTtBQUFBLE1BQzNDLEdBQUcsQ0FBQyxDQUFDO0FBQUEsSUFDVDtBQUFBLElBQ0EsV0FBVyxZQUFZO0FBQ25CLFlBQU0sV0FBVyxLQUFLLHlCQUF5QixVQUFVO0FBQ3pELGFBQU8sS0FBSyxNQUFNLFlBQVksUUFBUTtBQUFBLElBQzFDO0FBQUEsSUFDQSxlQUFlLFlBQVk7QUFDdkIsWUFBTSxXQUFXLEtBQUsseUJBQXlCLFVBQVU7QUFDekQsYUFBTyxLQUFLLE1BQU0sZ0JBQWdCLFFBQVE7QUFBQSxJQUM5QztBQUFBLElBQ0EseUJBQXlCLFlBQVk7QUFDakMsWUFBTSxnQkFBZ0IsS0FBSyxPQUFPLHdCQUF3QixLQUFLLFVBQVU7QUFDekUsYUFBTyw0QkFBNEIsZUFBZSxVQUFVO0FBQUEsSUFDaEU7QUFBQSxJQUNBLGlCQUFpQixZQUFZO0FBQ3pCLFlBQU0sV0FBVyxLQUFLLCtCQUErQixVQUFVO0FBQy9ELGFBQU8sS0FBSyxVQUFVLEtBQUssTUFBTSxZQUFZLFFBQVEsR0FBRyxVQUFVO0FBQUEsSUFDdEU7QUFBQSxJQUNBLHFCQUFxQixZQUFZO0FBQzdCLFlBQU0sV0FBVyxLQUFLLCtCQUErQixVQUFVO0FBQy9ELGFBQU8sS0FBSyxNQUFNLGdCQUFnQixRQUFRLEVBQUUsSUFBSSxDQUFDLFlBQVksS0FBSyxVQUFVLFNBQVMsVUFBVSxDQUFDO0FBQUEsSUFDcEc7QUFBQSxJQUNBLCtCQUErQixZQUFZO0FBQ3ZDLFlBQU0sbUJBQW1CLEdBQUcsS0FBSyxVQUFVLElBQUksVUFBVTtBQUN6RCxhQUFPLDRCQUE0QixLQUFLLE9BQU8saUJBQWlCLGdCQUFnQjtBQUFBLElBQ3BGO0FBQUEsSUFDQSxVQUFVLFNBQVMsWUFBWTtBQUMzQixVQUFJLFNBQVM7QUFDVCxjQUFNLEVBQUUsV0FBVyxJQUFJO0FBQ3ZCLGNBQU0sZ0JBQWdCLEtBQUssT0FBTztBQUNsQyxjQUFNLHVCQUF1QixLQUFLLE9BQU8sd0JBQXdCLFVBQVU7QUFDM0UsYUFBSyxNQUFNLEtBQUssU0FBUyxVQUFVLFVBQVUsSUFBSSxrQkFBa0IsYUFBYSxLQUFLLFVBQVUsSUFBSSxVQUFVLFVBQVUsb0JBQW9CLEtBQUssVUFBVSxVQUMvSSxhQUFhLCtFQUErRTtBQUFBLE1BQzNHO0FBQ0EsYUFBTztBQUFBLElBQ1g7QUFBQSxJQUNBLElBQUksUUFBUTtBQUNSLGFBQU8sS0FBSyxNQUFNO0FBQUEsSUFDdEI7QUFBQSxFQUNKO0FBRUEsTUFBTSxZQUFOLE1BQWdCO0FBQUEsSUFDWixZQUFZLE9BQU8sbUJBQW1CO0FBQ2xDLFdBQUssUUFBUTtBQUNiLFdBQUssb0JBQW9CO0FBQUEsSUFDN0I7QUFBQSxJQUNBLElBQUksVUFBVTtBQUNWLGFBQU8sS0FBSyxNQUFNO0FBQUEsSUFDdEI7QUFBQSxJQUNBLElBQUksYUFBYTtBQUNiLGFBQU8sS0FBSyxNQUFNO0FBQUEsSUFDdEI7QUFBQSxJQUNBLElBQUksU0FBUztBQUNULGFBQU8sS0FBSyxNQUFNO0FBQUEsSUFDdEI7QUFBQSxJQUNBLElBQUksWUFBWTtBQUNaLGFBQU8sS0FBSyxLQUFLLFVBQVUsS0FBSztBQUFBLElBQ3BDO0FBQUEsSUFDQSxRQUFRLGFBQWE7QUFDakIsYUFBTyxZQUFZLE9BQU8sQ0FBQyxRQUFRLGVBQWUsVUFBVSxLQUFLLFdBQVcsVUFBVSxHQUFHLE1BQVM7QUFBQSxJQUN0RztBQUFBLElBQ0EsV0FBVyxhQUFhO0FBQ3BCLGFBQU8sWUFBWSxPQUFPLENBQUMsU0FBUyxlQUFlLENBQUMsR0FBRyxTQUFTLEdBQUcsS0FBSyxlQUFlLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUFBLElBQzNHO0FBQUEsSUFDQSx5QkFBeUIsWUFBWTtBQUNqQyxZQUFNLGdCQUFnQixLQUFLLE9BQU8sd0JBQXdCLEtBQUssWUFBWSxVQUFVO0FBQ3JGLGFBQU8sS0FBSyxrQkFBa0IsYUFBYSxhQUFhO0FBQUEsSUFDNUQ7QUFBQSxJQUNBLFdBQVcsWUFBWTtBQUNuQixZQUFNLFdBQVcsS0FBSyx5QkFBeUIsVUFBVTtBQUN6RCxVQUFJO0FBQ0EsZUFBTyxLQUFLLFlBQVksVUFBVSxVQUFVO0FBQUEsSUFDcEQ7QUFBQSxJQUNBLGVBQWUsWUFBWTtBQUN2QixZQUFNLFdBQVcsS0FBSyx5QkFBeUIsVUFBVTtBQUN6RCxhQUFPLFdBQVcsS0FBSyxnQkFBZ0IsVUFBVSxVQUFVLElBQUksQ0FBQztBQUFBLElBQ3BFO0FBQUEsSUFDQSxZQUFZLFVBQVUsWUFBWTtBQUM5QixZQUFNLFdBQVcsS0FBSyxNQUFNLGNBQWMsUUFBUTtBQUNsRCxhQUFPLFNBQVMsT0FBTyxDQUFDLFlBQVksS0FBSyxlQUFlLFNBQVMsVUFBVSxVQUFVLENBQUMsRUFBRSxDQUFDO0FBQUEsSUFDN0Y7QUFBQSxJQUNBLGdCQUFnQixVQUFVLFlBQVk7QUFDbEMsWUFBTSxXQUFXLEtBQUssTUFBTSxjQUFjLFFBQVE7QUFDbEQsYUFBTyxTQUFTLE9BQU8sQ0FBQyxZQUFZLEtBQUssZUFBZSxTQUFTLFVBQVUsVUFBVSxDQUFDO0FBQUEsSUFDMUY7QUFBQSxJQUNBLGVBQWUsU0FBUyxVQUFVLFlBQVk7QUFDMUMsWUFBTSxzQkFBc0IsUUFBUSxhQUFhLEtBQUssTUFBTSxPQUFPLG1CQUFtQixLQUFLO0FBQzNGLGFBQU8sUUFBUSxRQUFRLFFBQVEsS0FBSyxvQkFBb0IsTUFBTSxHQUFHLEVBQUUsU0FBUyxVQUFVO0FBQUEsSUFDMUY7QUFBQSxFQUNKO0FBRUEsTUFBTSxRQUFOLE1BQU0sT0FBTTtBQUFBLElBQ1IsWUFBWSxRQUFRLFNBQVMsWUFBWSxRQUFRO0FBQzdDLFdBQUssVUFBVSxJQUFJLFVBQVUsSUFBSTtBQUNqQyxXQUFLLFVBQVUsSUFBSSxTQUFTLElBQUk7QUFDaEMsV0FBSyxPQUFPLElBQUksUUFBUSxJQUFJO0FBQzVCLFdBQUssa0JBQWtCLENBQUNFLGFBQVk7QUFDaEMsZUFBT0EsU0FBUSxRQUFRLEtBQUssa0JBQWtCLE1BQU0sS0FBSztBQUFBLE1BQzdEO0FBQ0EsV0FBSyxTQUFTO0FBQ2QsV0FBSyxVQUFVO0FBQ2YsV0FBSyxhQUFhO0FBQ2xCLFdBQUssUUFBUSxJQUFJLE1BQU0sTUFBTTtBQUM3QixXQUFLLFVBQVUsSUFBSSxVQUFVLEtBQUssZUFBZSxPQUFPO0FBQUEsSUFDNUQ7QUFBQSxJQUNBLFlBQVksVUFBVTtBQUNsQixhQUFPLEtBQUssUUFBUSxRQUFRLFFBQVEsSUFBSSxLQUFLLFVBQVUsS0FBSyxjQUFjLFFBQVEsRUFBRSxLQUFLLEtBQUssZUFBZTtBQUFBLElBQ2pIO0FBQUEsSUFDQSxnQkFBZ0IsVUFBVTtBQUN0QixhQUFPO0FBQUEsUUFDSCxHQUFJLEtBQUssUUFBUSxRQUFRLFFBQVEsSUFBSSxDQUFDLEtBQUssT0FBTyxJQUFJLENBQUM7QUFBQSxRQUN2RCxHQUFHLEtBQUssY0FBYyxRQUFRLEVBQUUsT0FBTyxLQUFLLGVBQWU7QUFBQSxNQUMvRDtBQUFBLElBQ0o7QUFBQSxJQUNBLGNBQWMsVUFBVTtBQUNwQixhQUFPLE1BQU0sS0FBSyxLQUFLLFFBQVEsaUJBQWlCLFFBQVEsQ0FBQztBQUFBLElBQzdEO0FBQUEsSUFDQSxJQUFJLHFCQUFxQjtBQUNyQixhQUFPLDRCQUE0QixLQUFLLE9BQU8scUJBQXFCLEtBQUssVUFBVTtBQUFBLElBQ3ZGO0FBQUEsSUFDQSxJQUFJLGtCQUFrQjtBQUNsQixhQUFPLEtBQUssWUFBWSxTQUFTO0FBQUEsSUFDckM7QUFBQSxJQUNBLElBQUksZ0JBQWdCO0FBQ2hCLGFBQU8sS0FBSyxrQkFDTixPQUNBLElBQUksT0FBTSxLQUFLLFFBQVEsU0FBUyxpQkFBaUIsS0FBSyxZQUFZLEtBQUssTUFBTSxNQUFNO0FBQUEsSUFDN0Y7QUFBQSxFQUNKO0FBRUEsTUFBTSxnQkFBTixNQUFvQjtBQUFBLElBQ2hCLFlBQVksU0FBUyxRQUFRLFVBQVU7QUFDbkMsV0FBSyxVQUFVO0FBQ2YsV0FBSyxTQUFTO0FBQ2QsV0FBSyxXQUFXO0FBQ2hCLFdBQUssb0JBQW9CLElBQUksa0JBQWtCLEtBQUssU0FBUyxLQUFLLHFCQUFxQixJQUFJO0FBQzNGLFdBQUssOEJBQThCLG9CQUFJLFFBQVE7QUFDL0MsV0FBSyx1QkFBdUIsb0JBQUksUUFBUTtBQUFBLElBQzVDO0FBQUEsSUFDQSxRQUFRO0FBQ0osV0FBSyxrQkFBa0IsTUFBTTtBQUFBLElBQ2pDO0FBQUEsSUFDQSxPQUFPO0FBQ0gsV0FBSyxrQkFBa0IsS0FBSztBQUFBLElBQ2hDO0FBQUEsSUFDQSxJQUFJLHNCQUFzQjtBQUN0QixhQUFPLEtBQUssT0FBTztBQUFBLElBQ3ZCO0FBQUEsSUFDQSxtQkFBbUIsT0FBTztBQUN0QixZQUFNLEVBQUUsU0FBUyxTQUFTLFdBQVcsSUFBSTtBQUN6QyxhQUFPLEtBQUssa0NBQWtDLFNBQVMsVUFBVTtBQUFBLElBQ3JFO0FBQUEsSUFDQSxrQ0FBa0MsU0FBUyxZQUFZO0FBQ25ELFlBQU0scUJBQXFCLEtBQUssa0NBQWtDLE9BQU87QUFDekUsVUFBSSxRQUFRLG1CQUFtQixJQUFJLFVBQVU7QUFDN0MsVUFBSSxDQUFDLE9BQU87QUFDUixnQkFBUSxLQUFLLFNBQVMsbUNBQW1DLFNBQVMsVUFBVTtBQUM1RSwyQkFBbUIsSUFBSSxZQUFZLEtBQUs7QUFBQSxNQUM1QztBQUNBLGFBQU87QUFBQSxJQUNYO0FBQUEsSUFDQSxvQkFBb0IsU0FBUyxPQUFPO0FBQ2hDLFlBQU0sa0JBQWtCLEtBQUsscUJBQXFCLElBQUksS0FBSyxLQUFLLEtBQUs7QUFDckUsV0FBSyxxQkFBcUIsSUFBSSxPQUFPLGNBQWM7QUFDbkQsVUFBSSxrQkFBa0IsR0FBRztBQUNyQixhQUFLLFNBQVMsZUFBZSxLQUFLO0FBQUEsTUFDdEM7QUFBQSxJQUNKO0FBQUEsSUFDQSxzQkFBc0IsU0FBUyxPQUFPO0FBQ2xDLFlBQU0saUJBQWlCLEtBQUsscUJBQXFCLElBQUksS0FBSztBQUMxRCxVQUFJLGdCQUFnQjtBQUNoQixhQUFLLHFCQUFxQixJQUFJLE9BQU8saUJBQWlCLENBQUM7QUFDdkQsWUFBSSxrQkFBa0IsR0FBRztBQUNyQixlQUFLLFNBQVMsa0JBQWtCLEtBQUs7QUFBQSxRQUN6QztBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsSUFDQSxrQ0FBa0MsU0FBUztBQUN2QyxVQUFJLHFCQUFxQixLQUFLLDRCQUE0QixJQUFJLE9BQU87QUFDckUsVUFBSSxDQUFDLG9CQUFvQjtBQUNyQiw2QkFBcUIsb0JBQUksSUFBSTtBQUM3QixhQUFLLDRCQUE0QixJQUFJLFNBQVMsa0JBQWtCO0FBQUEsTUFDcEU7QUFDQSxhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFFQSxNQUFNLFNBQU4sTUFBYTtBQUFBLElBQ1QsWUFBWUQsY0FBYTtBQUNyQixXQUFLLGNBQWNBO0FBQ25CLFdBQUssZ0JBQWdCLElBQUksY0FBYyxLQUFLLFNBQVMsS0FBSyxRQUFRLElBQUk7QUFDdEUsV0FBSyxxQkFBcUIsSUFBSSxTQUFTO0FBQ3ZDLFdBQUssc0JBQXNCLG9CQUFJLElBQUk7QUFBQSxJQUN2QztBQUFBLElBQ0EsSUFBSSxVQUFVO0FBQ1YsYUFBTyxLQUFLLFlBQVk7QUFBQSxJQUM1QjtBQUFBLElBQ0EsSUFBSSxTQUFTO0FBQ1QsYUFBTyxLQUFLLFlBQVk7QUFBQSxJQUM1QjtBQUFBLElBQ0EsSUFBSSxTQUFTO0FBQ1QsYUFBTyxLQUFLLFlBQVk7QUFBQSxJQUM1QjtBQUFBLElBQ0EsSUFBSSxzQkFBc0I7QUFDdEIsYUFBTyxLQUFLLE9BQU87QUFBQSxJQUN2QjtBQUFBLElBQ0EsSUFBSSxVQUFVO0FBQ1YsYUFBTyxNQUFNLEtBQUssS0FBSyxvQkFBb0IsT0FBTyxDQUFDO0FBQUEsSUFDdkQ7QUFBQSxJQUNBLElBQUksV0FBVztBQUNYLGFBQU8sS0FBSyxRQUFRLE9BQU8sQ0FBQyxVQUFVLFdBQVcsU0FBUyxPQUFPLE9BQU8sUUFBUSxHQUFHLENBQUMsQ0FBQztBQUFBLElBQ3pGO0FBQUEsSUFDQSxRQUFRO0FBQ0osV0FBSyxjQUFjLE1BQU07QUFBQSxJQUM3QjtBQUFBLElBQ0EsT0FBTztBQUNILFdBQUssY0FBYyxLQUFLO0FBQUEsSUFDNUI7QUFBQSxJQUNBLGVBQWUsWUFBWTtBQUN2QixXQUFLLGlCQUFpQixXQUFXLFVBQVU7QUFDM0MsWUFBTSxTQUFTLElBQUksT0FBTyxLQUFLLGFBQWEsVUFBVTtBQUN0RCxXQUFLLGNBQWMsTUFBTTtBQUN6QixZQUFNLFlBQVksV0FBVyxzQkFBc0I7QUFDbkQsVUFBSSxXQUFXO0FBQ1gsa0JBQVUsS0FBSyxXQUFXLHVCQUF1QixXQUFXLFlBQVksS0FBSyxXQUFXO0FBQUEsTUFDNUY7QUFBQSxJQUNKO0FBQUEsSUFDQSxpQkFBaUIsWUFBWTtBQUN6QixZQUFNLFNBQVMsS0FBSyxvQkFBb0IsSUFBSSxVQUFVO0FBQ3RELFVBQUksUUFBUTtBQUNSLGFBQUssaUJBQWlCLE1BQU07QUFBQSxNQUNoQztBQUFBLElBQ0o7QUFBQSxJQUNBLGtDQUFrQyxTQUFTLFlBQVk7QUFDbkQsWUFBTSxTQUFTLEtBQUssb0JBQW9CLElBQUksVUFBVTtBQUN0RCxVQUFJLFFBQVE7QUFDUixlQUFPLE9BQU8sU0FBUyxLQUFLLENBQUMsWUFBWSxRQUFRLFdBQVcsT0FBTztBQUFBLE1BQ3ZFO0FBQUEsSUFDSjtBQUFBLElBQ0EsNkNBQTZDLFNBQVMsWUFBWTtBQUM5RCxZQUFNLFFBQVEsS0FBSyxjQUFjLGtDQUFrQyxTQUFTLFVBQVU7QUFDdEYsVUFBSSxPQUFPO0FBQ1AsYUFBSyxjQUFjLG9CQUFvQixNQUFNLFNBQVMsS0FBSztBQUFBLE1BQy9ELE9BQ0s7QUFDRCxnQkFBUSxNQUFNLGtEQUFrRCxVQUFVLGtCQUFrQixPQUFPO0FBQUEsTUFDdkc7QUFBQSxJQUNKO0FBQUEsSUFDQSxZQUFZSCxRQUFPRSxVQUFTLFFBQVE7QUFDaEMsV0FBSyxZQUFZLFlBQVlGLFFBQU9FLFVBQVMsTUFBTTtBQUFBLElBQ3ZEO0FBQUEsSUFDQSxtQ0FBbUMsU0FBUyxZQUFZO0FBQ3BELGFBQU8sSUFBSSxNQUFNLEtBQUssUUFBUSxTQUFTLFlBQVksS0FBSyxNQUFNO0FBQUEsSUFDbEU7QUFBQSxJQUNBLGVBQWUsT0FBTztBQUNsQixXQUFLLG1CQUFtQixJQUFJLE1BQU0sWUFBWSxLQUFLO0FBQ25ELFlBQU0sU0FBUyxLQUFLLG9CQUFvQixJQUFJLE1BQU0sVUFBVTtBQUM1RCxVQUFJLFFBQVE7QUFDUixlQUFPLHVCQUF1QixLQUFLO0FBQUEsTUFDdkM7QUFBQSxJQUNKO0FBQUEsSUFDQSxrQkFBa0IsT0FBTztBQUNyQixXQUFLLG1CQUFtQixPQUFPLE1BQU0sWUFBWSxLQUFLO0FBQ3RELFlBQU0sU0FBUyxLQUFLLG9CQUFvQixJQUFJLE1BQU0sVUFBVTtBQUM1RCxVQUFJLFFBQVE7QUFDUixlQUFPLDBCQUEwQixLQUFLO0FBQUEsTUFDMUM7QUFBQSxJQUNKO0FBQUEsSUFDQSxjQUFjLFFBQVE7QUFDbEIsV0FBSyxvQkFBb0IsSUFBSSxPQUFPLFlBQVksTUFBTTtBQUN0RCxZQUFNLFNBQVMsS0FBSyxtQkFBbUIsZ0JBQWdCLE9BQU8sVUFBVTtBQUN4RSxhQUFPLFFBQVEsQ0FBQyxVQUFVLE9BQU8sdUJBQXVCLEtBQUssQ0FBQztBQUFBLElBQ2xFO0FBQUEsSUFDQSxpQkFBaUIsUUFBUTtBQUNyQixXQUFLLG9CQUFvQixPQUFPLE9BQU8sVUFBVTtBQUNqRCxZQUFNLFNBQVMsS0FBSyxtQkFBbUIsZ0JBQWdCLE9BQU8sVUFBVTtBQUN4RSxhQUFPLFFBQVEsQ0FBQyxVQUFVLE9BQU8sMEJBQTBCLEtBQUssQ0FBQztBQUFBLElBQ3JFO0FBQUEsRUFDSjtBQUVBLE1BQU0sZ0JBQWdCO0FBQUEsSUFDbEIscUJBQXFCO0FBQUEsSUFDckIsaUJBQWlCO0FBQUEsSUFDakIsaUJBQWlCO0FBQUEsSUFDakIseUJBQXlCLENBQUMsZUFBZSxRQUFRLFVBQVU7QUFBQSxJQUMzRCx5QkFBeUIsQ0FBQyxZQUFZLFdBQVcsUUFBUSxVQUFVLElBQUksTUFBTTtBQUFBLElBQzdFLGFBQWEsT0FBTyxPQUFPLE9BQU8sT0FBTyxFQUFFLE9BQU8sU0FBUyxLQUFLLE9BQU8sS0FBSyxVQUFVLE9BQU8sS0FBSyxJQUFJLFdBQVcsTUFBTSxhQUFhLE1BQU0sYUFBYSxPQUFPLGNBQWMsTUFBTSxRQUFRLEtBQUssT0FBTyxTQUFTLFVBQVUsV0FBVyxXQUFXLEdBQUcsa0JBQWtCLDZCQUE2QixNQUFNLEVBQUUsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLGtCQUFrQixhQUFhLE1BQU0sRUFBRSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQUEsRUFDalk7QUFDQSxXQUFTLGtCQUFrQixPQUFPO0FBQzlCLFdBQU8sTUFBTSxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFPLE9BQU8sT0FBTyxPQUFPLE9BQU8sQ0FBQyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFJLENBQUMsQ0FBQztBQUFBLEVBQ2xHO0FBRUEsTUFBTSxjQUFOLE1BQWtCO0FBQUEsSUFDZCxZQUFZLFVBQVUsU0FBUyxpQkFBaUIsU0FBUyxlQUFlO0FBQ3BFLFdBQUssU0FBUztBQUNkLFdBQUssUUFBUTtBQUNiLFdBQUssbUJBQW1CLENBQUMsWUFBWSxjQUFjLFNBQVMsQ0FBQyxNQUFNO0FBQy9ELFlBQUksS0FBSyxPQUFPO0FBQ1osZUFBSyxvQkFBb0IsWUFBWSxjQUFjLE1BQU07QUFBQSxRQUM3RDtBQUFBLE1BQ0o7QUFDQSxXQUFLLFVBQVU7QUFDZixXQUFLLFNBQVM7QUFDZCxXQUFLLGFBQWEsSUFBSSxXQUFXLElBQUk7QUFDckMsV0FBSyxTQUFTLElBQUksT0FBTyxJQUFJO0FBQzdCLFdBQUssMEJBQTBCLE9BQU8sT0FBTyxDQUFDLEdBQUcsOEJBQThCO0FBQUEsSUFDbkY7QUFBQSxJQUNBLE9BQU8sTUFBTSxTQUFTLFFBQVE7QUFDMUIsWUFBTUMsZUFBYyxJQUFJLEtBQUssU0FBUyxNQUFNO0FBQzVDLE1BQUFBLGFBQVksTUFBTTtBQUNsQixhQUFPQTtBQUFBLElBQ1g7QUFBQSxJQUNBLE1BQU0sUUFBUTtBQUNWLFlBQU0sU0FBUztBQUNmLFdBQUssaUJBQWlCLGVBQWUsVUFBVTtBQUMvQyxXQUFLLFdBQVcsTUFBTTtBQUN0QixXQUFLLE9BQU8sTUFBTTtBQUNsQixXQUFLLGlCQUFpQixlQUFlLE9BQU87QUFBQSxJQUNoRDtBQUFBLElBQ0EsT0FBTztBQUNILFdBQUssaUJBQWlCLGVBQWUsVUFBVTtBQUMvQyxXQUFLLFdBQVcsS0FBSztBQUNyQixXQUFLLE9BQU8sS0FBSztBQUNqQixXQUFLLGlCQUFpQixlQUFlLE1BQU07QUFBQSxJQUMvQztBQUFBLElBQ0EsU0FBUyxZQUFZLHVCQUF1QjtBQUN4QyxXQUFLLEtBQUssRUFBRSxZQUFZLHNCQUFzQixDQUFDO0FBQUEsSUFDbkQ7QUFBQSxJQUNBLHFCQUFxQixNQUFNRSxTQUFRO0FBQy9CLFdBQUssd0JBQXdCLElBQUksSUFBSUE7QUFBQSxJQUN6QztBQUFBLElBQ0EsS0FBSyxTQUFTLE1BQU07QUFDaEIsWUFBTSxjQUFjLE1BQU0sUUFBUSxJQUFJLElBQUksT0FBTyxDQUFDLE1BQU0sR0FBRyxJQUFJO0FBQy9ELGtCQUFZLFFBQVEsQ0FBQyxlQUFlO0FBQ2hDLFlBQUksV0FBVyxzQkFBc0IsWUFBWTtBQUM3QyxlQUFLLE9BQU8sZUFBZSxVQUFVO0FBQUEsUUFDekM7QUFBQSxNQUNKLENBQUM7QUFBQSxJQUNMO0FBQUEsSUFDQSxPQUFPLFNBQVMsTUFBTTtBQUNsQixZQUFNLGNBQWMsTUFBTSxRQUFRLElBQUksSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLElBQUk7QUFDL0Qsa0JBQVksUUFBUSxDQUFDLGVBQWUsS0FBSyxPQUFPLGlCQUFpQixVQUFVLENBQUM7QUFBQSxJQUNoRjtBQUFBLElBQ0EsSUFBSSxjQUFjO0FBQ2QsYUFBTyxLQUFLLE9BQU8sU0FBUyxJQUFJLENBQUMsWUFBWSxRQUFRLFVBQVU7QUFBQSxJQUNuRTtBQUFBLElBQ0EscUNBQXFDLFNBQVMsWUFBWTtBQUN0RCxZQUFNLFVBQVUsS0FBSyxPQUFPLGtDQUFrQyxTQUFTLFVBQVU7QUFDakYsYUFBTyxVQUFVLFFBQVEsYUFBYTtBQUFBLElBQzFDO0FBQUEsSUFDQSxZQUFZTCxRQUFPRSxVQUFTLFFBQVE7QUFDaEMsVUFBSTtBQUNKLFdBQUssT0FBTyxNQUFNO0FBQUE7QUFBQTtBQUFBO0FBQUEsS0FBa0JBLFVBQVNGLFFBQU8sTUFBTTtBQUMxRCxPQUFDLEtBQUssT0FBTyxhQUFhLFFBQVEsT0FBTyxTQUFTLFNBQVMsR0FBRyxLQUFLLFFBQVFFLFVBQVMsSUFBSSxHQUFHLEdBQUdGLE1BQUs7QUFBQSxJQUN2RztBQUFBLElBQ0Esb0JBQW9CLFlBQVksY0FBYyxTQUFTLENBQUMsR0FBRztBQUN2RCxlQUFTLE9BQU8sT0FBTyxFQUFFLGFBQWEsS0FBSyxHQUFHLE1BQU07QUFDcEQsV0FBSyxPQUFPLGVBQWUsR0FBRyxVQUFVLEtBQUssWUFBWSxFQUFFO0FBQzNELFdBQUssT0FBTyxJQUFJLFlBQVksT0FBTyxPQUFPLENBQUMsR0FBRyxNQUFNLENBQUM7QUFDckQsV0FBSyxPQUFPLFNBQVM7QUFBQSxJQUN6QjtBQUFBLEVBQ0o7QUFDQSxXQUFTLFdBQVc7QUFDaEIsV0FBTyxJQUFJLFFBQVEsQ0FBQyxZQUFZO0FBQzVCLFVBQUksU0FBUyxjQUFjLFdBQVc7QUFDbEMsaUJBQVMsaUJBQWlCLG9CQUFvQixNQUFNLFFBQVEsQ0FBQztBQUFBLE1BQ2pFLE9BQ0s7QUFDRCxnQkFBUTtBQUFBLE1BQ1o7QUFBQSxJQUNKLENBQUM7QUFBQSxFQUNMO0FBRUEsV0FBUyx3QkFBd0IsYUFBYTtBQUMxQyxVQUFNLFVBQVUsaUNBQWlDLGFBQWEsU0FBUztBQUN2RSxXQUFPLFFBQVEsT0FBTyxDQUFDLFlBQVksb0JBQW9CO0FBQ25ELGFBQU8sT0FBTyxPQUFPLFlBQVksNkJBQTZCLGVBQWUsQ0FBQztBQUFBLElBQ2xGLEdBQUcsQ0FBQyxDQUFDO0FBQUEsRUFDVDtBQUNBLFdBQVMsNkJBQTZCLEtBQUs7QUFDdkMsV0FBTztBQUFBLE1BQ0gsQ0FBQyxHQUFHLEdBQUcsT0FBTyxHQUFHO0FBQUEsUUFDYixNQUFNO0FBQ0YsZ0JBQU0sRUFBRSxRQUFRLElBQUk7QUFDcEIsY0FBSSxRQUFRLElBQUksR0FBRyxHQUFHO0FBQ2xCLG1CQUFPLFFBQVEsSUFBSSxHQUFHO0FBQUEsVUFDMUIsT0FDSztBQUNELGtCQUFNLFlBQVksUUFBUSxpQkFBaUIsR0FBRztBQUM5QyxrQkFBTSxJQUFJLE1BQU0sc0JBQXNCLFNBQVMsR0FBRztBQUFBLFVBQ3REO0FBQUEsUUFDSjtBQUFBLE1BQ0o7QUFBQSxNQUNBLENBQUMsR0FBRyxHQUFHLFNBQVMsR0FBRztBQUFBLFFBQ2YsTUFBTTtBQUNGLGlCQUFPLEtBQUssUUFBUSxPQUFPLEdBQUc7QUFBQSxRQUNsQztBQUFBLE1BQ0o7QUFBQSxNQUNBLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FBQyxPQUFPLEdBQUc7QUFBQSxRQUM1QixNQUFNO0FBQ0YsaUJBQU8sS0FBSyxRQUFRLElBQUksR0FBRztBQUFBLFFBQy9CO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBRUEsV0FBUyx5QkFBeUIsYUFBYTtBQUMzQyxVQUFNLFVBQVUsaUNBQWlDLGFBQWEsU0FBUztBQUN2RSxXQUFPLFFBQVEsT0FBTyxDQUFDLFlBQVkscUJBQXFCO0FBQ3BELGFBQU8sT0FBTyxPQUFPLFlBQVksOEJBQThCLGdCQUFnQixDQUFDO0FBQUEsSUFDcEYsR0FBRyxDQUFDLENBQUM7QUFBQSxFQUNUO0FBQ0EsV0FBUyxvQkFBb0IsWUFBWSxTQUFTLFlBQVk7QUFDMUQsV0FBTyxXQUFXLFlBQVkscUNBQXFDLFNBQVMsVUFBVTtBQUFBLEVBQzFGO0FBQ0EsV0FBUyxxQ0FBcUMsWUFBWSxTQUFTLFlBQVk7QUFDM0UsUUFBSSxtQkFBbUIsb0JBQW9CLFlBQVksU0FBUyxVQUFVO0FBQzFFLFFBQUk7QUFDQSxhQUFPO0FBQ1gsZUFBVyxZQUFZLE9BQU8sNkNBQTZDLFNBQVMsVUFBVTtBQUM5Rix1QkFBbUIsb0JBQW9CLFlBQVksU0FBUyxVQUFVO0FBQ3RFLFFBQUk7QUFDQSxhQUFPO0FBQUEsRUFDZjtBQUNBLFdBQVMsOEJBQThCLE1BQU07QUFDekMsVUFBTSxnQkFBZ0Isa0JBQWtCLElBQUk7QUFDNUMsV0FBTztBQUFBLE1BQ0gsQ0FBQyxHQUFHLGFBQWEsUUFBUSxHQUFHO0FBQUEsUUFDeEIsTUFBTTtBQUNGLGdCQUFNLGdCQUFnQixLQUFLLFFBQVEsS0FBSyxJQUFJO0FBQzVDLGdCQUFNLFdBQVcsS0FBSyxRQUFRLHlCQUF5QixJQUFJO0FBQzNELGNBQUksZUFBZTtBQUNmLGtCQUFNLG1CQUFtQixxQ0FBcUMsTUFBTSxlQUFlLElBQUk7QUFDdkYsZ0JBQUk7QUFDQSxxQkFBTztBQUNYLGtCQUFNLElBQUksTUFBTSxnRUFBZ0UsSUFBSSxtQ0FBbUMsS0FBSyxVQUFVLEdBQUc7QUFBQSxVQUM3STtBQUNBLGdCQUFNLElBQUksTUFBTSwyQkFBMkIsSUFBSSwwQkFBMEIsS0FBSyxVQUFVLHVFQUF1RSxRQUFRLElBQUk7QUFBQSxRQUMvSztBQUFBLE1BQ0o7QUFBQSxNQUNBLENBQUMsR0FBRyxhQUFhLFNBQVMsR0FBRztBQUFBLFFBQ3pCLE1BQU07QUFDRixnQkFBTSxVQUFVLEtBQUssUUFBUSxRQUFRLElBQUk7QUFDekMsY0FBSSxRQUFRLFNBQVMsR0FBRztBQUNwQixtQkFBTyxRQUNGLElBQUksQ0FBQyxrQkFBa0I7QUFDeEIsb0JBQU0sbUJBQW1CLHFDQUFxQyxNQUFNLGVBQWUsSUFBSTtBQUN2RixrQkFBSTtBQUNBLHVCQUFPO0FBQ1gsc0JBQVEsS0FBSyxnRUFBZ0UsSUFBSSxtQ0FBbUMsS0FBSyxVQUFVLEtBQUssYUFBYTtBQUFBLFlBQ3pKLENBQUMsRUFDSSxPQUFPLENBQUMsZUFBZSxVQUFVO0FBQUEsVUFDMUM7QUFDQSxpQkFBTyxDQUFDO0FBQUEsUUFDWjtBQUFBLE1BQ0o7QUFBQSxNQUNBLENBQUMsR0FBRyxhQUFhLGVBQWUsR0FBRztBQUFBLFFBQy9CLE1BQU07QUFDRixnQkFBTSxnQkFBZ0IsS0FBSyxRQUFRLEtBQUssSUFBSTtBQUM1QyxnQkFBTSxXQUFXLEtBQUssUUFBUSx5QkFBeUIsSUFBSTtBQUMzRCxjQUFJLGVBQWU7QUFDZixtQkFBTztBQUFBLFVBQ1gsT0FDSztBQUNELGtCQUFNLElBQUksTUFBTSwyQkFBMkIsSUFBSSwwQkFBMEIsS0FBSyxVQUFVLHVFQUF1RSxRQUFRLElBQUk7QUFBQSxVQUMvSztBQUFBLFFBQ0o7QUFBQSxNQUNKO0FBQUEsTUFDQSxDQUFDLEdBQUcsYUFBYSxnQkFBZ0IsR0FBRztBQUFBLFFBQ2hDLE1BQU07QUFDRixpQkFBTyxLQUFLLFFBQVEsUUFBUSxJQUFJO0FBQUEsUUFDcEM7QUFBQSxNQUNKO0FBQUEsTUFDQSxDQUFDLE1BQU0sV0FBVyxhQUFhLENBQUMsUUFBUSxHQUFHO0FBQUEsUUFDdkMsTUFBTTtBQUNGLGlCQUFPLEtBQUssUUFBUSxJQUFJLElBQUk7QUFBQSxRQUNoQztBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUVBLFdBQVMseUJBQXlCLGFBQWE7QUFDM0MsVUFBTSxVQUFVLGlDQUFpQyxhQUFhLFNBQVM7QUFDdkUsV0FBTyxRQUFRLE9BQU8sQ0FBQyxZQUFZLHFCQUFxQjtBQUNwRCxhQUFPLE9BQU8sT0FBTyxZQUFZLDhCQUE4QixnQkFBZ0IsQ0FBQztBQUFBLElBQ3BGLEdBQUcsQ0FBQyxDQUFDO0FBQUEsRUFDVDtBQUNBLFdBQVMsOEJBQThCLE1BQU07QUFDekMsV0FBTztBQUFBLE1BQ0gsQ0FBQyxHQUFHLElBQUksUUFBUSxHQUFHO0FBQUEsUUFDZixNQUFNO0FBQ0YsZ0JBQU0sU0FBUyxLQUFLLFFBQVEsS0FBSyxJQUFJO0FBQ3JDLGNBQUksUUFBUTtBQUNSLG1CQUFPO0FBQUEsVUFDWCxPQUNLO0FBQ0Qsa0JBQU0sSUFBSSxNQUFNLDJCQUEyQixJQUFJLFVBQVUsS0FBSyxVQUFVLGNBQWM7QUFBQSxVQUMxRjtBQUFBLFFBQ0o7QUFBQSxNQUNKO0FBQUEsTUFDQSxDQUFDLEdBQUcsSUFBSSxTQUFTLEdBQUc7QUFBQSxRQUNoQixNQUFNO0FBQ0YsaUJBQU8sS0FBSyxRQUFRLFFBQVEsSUFBSTtBQUFBLFFBQ3BDO0FBQUEsTUFDSjtBQUFBLE1BQ0EsQ0FBQyxNQUFNLFdBQVcsSUFBSSxDQUFDLFFBQVEsR0FBRztBQUFBLFFBQzlCLE1BQU07QUFDRixpQkFBTyxLQUFLLFFBQVEsSUFBSSxJQUFJO0FBQUEsUUFDaEM7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFFQSxXQUFTLHdCQUF3QixhQUFhO0FBQzFDLFVBQU0sdUJBQXVCLGlDQUFpQyxhQUFhLFFBQVE7QUFDbkYsVUFBTSx3QkFBd0I7QUFBQSxNQUMxQixvQkFBb0I7QUFBQSxRQUNoQixNQUFNO0FBQ0YsaUJBQU8scUJBQXFCLE9BQU8sQ0FBQyxRQUFRLHdCQUF3QjtBQUNoRSxrQkFBTSxrQkFBa0IseUJBQXlCLHFCQUFxQixLQUFLLFVBQVU7QUFDckYsa0JBQU0sZ0JBQWdCLEtBQUssS0FBSyx1QkFBdUIsZ0JBQWdCLEdBQUc7QUFDMUUsbUJBQU8sT0FBTyxPQUFPLFFBQVEsRUFBRSxDQUFDLGFBQWEsR0FBRyxnQkFBZ0IsQ0FBQztBQUFBLFVBQ3JFLEdBQUcsQ0FBQyxDQUFDO0FBQUEsUUFDVDtBQUFBLE1BQ0o7QUFBQSxJQUNKO0FBQ0EsV0FBTyxxQkFBcUIsT0FBTyxDQUFDLFlBQVksd0JBQXdCO0FBQ3BFLGFBQU8sT0FBTyxPQUFPLFlBQVksaUNBQWlDLG1CQUFtQixDQUFDO0FBQUEsSUFDMUYsR0FBRyxxQkFBcUI7QUFBQSxFQUM1QjtBQUNBLFdBQVMsaUNBQWlDLHFCQUFxQixZQUFZO0FBQ3ZFLFVBQU0sYUFBYSx5QkFBeUIscUJBQXFCLFVBQVU7QUFDM0UsVUFBTSxFQUFFLEtBQUssTUFBTSxRQUFRLE1BQU0sUUFBUSxNQUFNLElBQUk7QUFDbkQsV0FBTztBQUFBLE1BQ0gsQ0FBQyxJQUFJLEdBQUc7QUFBQSxRQUNKLE1BQU07QUFDRixnQkFBTSxRQUFRLEtBQUssS0FBSyxJQUFJLEdBQUc7QUFDL0IsY0FBSSxVQUFVLE1BQU07QUFDaEIsbUJBQU8sS0FBSyxLQUFLO0FBQUEsVUFDckIsT0FDSztBQUNELG1CQUFPLFdBQVc7QUFBQSxVQUN0QjtBQUFBLFFBQ0o7QUFBQSxRQUNBLElBQUksT0FBTztBQUNQLGNBQUksVUFBVSxRQUFXO0FBQ3JCLGlCQUFLLEtBQUssT0FBTyxHQUFHO0FBQUEsVUFDeEIsT0FDSztBQUNELGlCQUFLLEtBQUssSUFBSSxLQUFLLE1BQU0sS0FBSyxDQUFDO0FBQUEsVUFDbkM7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLE1BQ0EsQ0FBQyxNQUFNLFdBQVcsSUFBSSxDQUFDLEVBQUUsR0FBRztBQUFBLFFBQ3hCLE1BQU07QUFDRixpQkFBTyxLQUFLLEtBQUssSUFBSSxHQUFHLEtBQUssV0FBVztBQUFBLFFBQzVDO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFBQSxFQUNKO0FBQ0EsV0FBUyx5QkFBeUIsQ0FBQyxPQUFPLGNBQWMsR0FBRyxZQUFZO0FBQ25FLFdBQU8seUNBQXlDO0FBQUEsTUFDNUM7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0osQ0FBQztBQUFBLEVBQ0w7QUFDQSxXQUFTLHVCQUF1QixVQUFVO0FBQ3RDLFlBQVEsVUFBVTtBQUFBLE1BQ2QsS0FBSztBQUNELGVBQU87QUFBQSxNQUNYLEtBQUs7QUFDRCxlQUFPO0FBQUEsTUFDWCxLQUFLO0FBQ0QsZUFBTztBQUFBLE1BQ1gsS0FBSztBQUNELGVBQU87QUFBQSxNQUNYLEtBQUs7QUFDRCxlQUFPO0FBQUEsSUFDZjtBQUFBLEVBQ0o7QUFDQSxXQUFTLHNCQUFzQixjQUFjO0FBQ3pDLFlBQVEsT0FBTyxjQUFjO0FBQUEsTUFDekIsS0FBSztBQUNELGVBQU87QUFBQSxNQUNYLEtBQUs7QUFDRCxlQUFPO0FBQUEsTUFDWCxLQUFLO0FBQ0QsZUFBTztBQUFBLElBQ2Y7QUFDQSxRQUFJLE1BQU0sUUFBUSxZQUFZO0FBQzFCLGFBQU87QUFDWCxRQUFJLE9BQU8sVUFBVSxTQUFTLEtBQUssWUFBWSxNQUFNO0FBQ2pELGFBQU87QUFBQSxFQUNmO0FBQ0EsV0FBUyxxQkFBcUIsU0FBUztBQUNuQyxVQUFNLEVBQUUsWUFBWSxPQUFPLFdBQVcsSUFBSTtBQUMxQyxVQUFNLFVBQVUsWUFBWSxXQUFXLElBQUk7QUFDM0MsVUFBTSxhQUFhLFlBQVksV0FBVyxPQUFPO0FBQ2pELFVBQU0sYUFBYSxXQUFXO0FBQzlCLFVBQU0sV0FBVyxXQUFXLENBQUM7QUFDN0IsVUFBTSxjQUFjLENBQUMsV0FBVztBQUNoQyxVQUFNLGlCQUFpQix1QkFBdUIsV0FBVyxJQUFJO0FBQzdELFVBQU0sdUJBQXVCLHNCQUFzQixRQUFRLFdBQVcsT0FBTztBQUM3RSxRQUFJO0FBQ0EsYUFBTztBQUNYLFFBQUk7QUFDQSxhQUFPO0FBQ1gsUUFBSSxtQkFBbUIsc0JBQXNCO0FBQ3pDLFlBQU0sZUFBZSxhQUFhLEdBQUcsVUFBVSxJQUFJLEtBQUssS0FBSztBQUM3RCxZQUFNLElBQUksTUFBTSx1REFBdUQsWUFBWSxrQ0FBa0MsY0FBYyxxQ0FBcUMsV0FBVyxPQUFPLGlCQUFpQixvQkFBb0IsSUFBSTtBQUFBLElBQ3ZPO0FBQ0EsUUFBSTtBQUNBLGFBQU87QUFBQSxFQUNmO0FBQ0EsV0FBUyx5QkFBeUIsU0FBUztBQUN2QyxVQUFNLEVBQUUsWUFBWSxPQUFPLGVBQWUsSUFBSTtBQUM5QyxVQUFNLGFBQWEsRUFBRSxZQUFZLE9BQU8sWUFBWSxlQUFlO0FBQ25FLFVBQU0saUJBQWlCLHFCQUFxQixVQUFVO0FBQ3RELFVBQU0sdUJBQXVCLHNCQUFzQixjQUFjO0FBQ2pFLFVBQU0sbUJBQW1CLHVCQUF1QixjQUFjO0FBQzlELFVBQU0sT0FBTyxrQkFBa0Isd0JBQXdCO0FBQ3ZELFFBQUk7QUFDQSxhQUFPO0FBQ1gsVUFBTSxlQUFlLGFBQWEsR0FBRyxVQUFVLElBQUksY0FBYyxLQUFLO0FBQ3RFLFVBQU0sSUFBSSxNQUFNLHVCQUF1QixZQUFZLFVBQVUsS0FBSyxTQUFTO0FBQUEsRUFDL0U7QUFDQSxXQUFTLDBCQUEwQixnQkFBZ0I7QUFDL0MsVUFBTSxXQUFXLHVCQUF1QixjQUFjO0FBQ3RELFFBQUk7QUFDQSxhQUFPLG9CQUFvQixRQUFRO0FBQ3ZDLFVBQU0sYUFBYSxZQUFZLGdCQUFnQixTQUFTO0FBQ3hELFVBQU0sVUFBVSxZQUFZLGdCQUFnQixNQUFNO0FBQ2xELFVBQU0sYUFBYTtBQUNuQixRQUFJO0FBQ0EsYUFBTyxXQUFXO0FBQ3RCLFFBQUksU0FBUztBQUNULFlBQU0sRUFBRSxLQUFLLElBQUk7QUFDakIsWUFBTSxtQkFBbUIsdUJBQXVCLElBQUk7QUFDcEQsVUFBSTtBQUNBLGVBQU8sb0JBQW9CLGdCQUFnQjtBQUFBLElBQ25EO0FBQ0EsV0FBTztBQUFBLEVBQ1g7QUFDQSxXQUFTLHlDQUF5QyxTQUFTO0FBQ3ZELFVBQU0sRUFBRSxPQUFPLGVBQWUsSUFBSTtBQUNsQyxVQUFNLE1BQU0sR0FBRyxVQUFVLEtBQUssQ0FBQztBQUMvQixVQUFNLE9BQU8seUJBQXlCLE9BQU87QUFDN0MsV0FBTztBQUFBLE1BQ0g7QUFBQSxNQUNBO0FBQUEsTUFDQSxNQUFNLFNBQVMsR0FBRztBQUFBLE1BQ2xCLElBQUksZUFBZTtBQUNmLGVBQU8sMEJBQTBCLGNBQWM7QUFBQSxNQUNuRDtBQUFBLE1BQ0EsSUFBSSx3QkFBd0I7QUFDeEIsZUFBTyxzQkFBc0IsY0FBYyxNQUFNO0FBQUEsTUFDckQ7QUFBQSxNQUNBLFFBQVEsUUFBUSxJQUFJO0FBQUEsTUFDcEIsUUFBUSxRQUFRLElBQUksS0FBSyxRQUFRO0FBQUEsSUFDckM7QUFBQSxFQUNKO0FBQ0EsTUFBTSxzQkFBc0I7QUFBQSxJQUN4QixJQUFJLFFBQVE7QUFDUixhQUFPLENBQUM7QUFBQSxJQUNaO0FBQUEsSUFDQSxTQUFTO0FBQUEsSUFDVCxRQUFRO0FBQUEsSUFDUixJQUFJLFNBQVM7QUFDVCxhQUFPLENBQUM7QUFBQSxJQUNaO0FBQUEsSUFDQSxRQUFRO0FBQUEsRUFDWjtBQUNBLE1BQU0sVUFBVTtBQUFBLElBQ1osTUFBTSxPQUFPO0FBQ1QsWUFBTSxRQUFRLEtBQUssTUFBTSxLQUFLO0FBQzlCLFVBQUksQ0FBQyxNQUFNLFFBQVEsS0FBSyxHQUFHO0FBQ3ZCLGNBQU0sSUFBSSxVQUFVLHlEQUF5RCxLQUFLLGNBQWMsc0JBQXNCLEtBQUssQ0FBQyxHQUFHO0FBQUEsTUFDbkk7QUFDQSxhQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0EsUUFBUSxPQUFPO0FBQ1gsYUFBTyxFQUFFLFNBQVMsT0FBTyxPQUFPLEtBQUssRUFBRSxZQUFZLEtBQUs7QUFBQSxJQUM1RDtBQUFBLElBQ0EsT0FBTyxPQUFPO0FBQ1YsYUFBTyxPQUFPLE1BQU0sUUFBUSxNQUFNLEVBQUUsQ0FBQztBQUFBLElBQ3pDO0FBQUEsSUFDQSxPQUFPLE9BQU87QUFDVixZQUFNLFNBQVMsS0FBSyxNQUFNLEtBQUs7QUFDL0IsVUFBSSxXQUFXLFFBQVEsT0FBTyxVQUFVLFlBQVksTUFBTSxRQUFRLE1BQU0sR0FBRztBQUN2RSxjQUFNLElBQUksVUFBVSwwREFBMEQsS0FBSyxjQUFjLHNCQUFzQixNQUFNLENBQUMsR0FBRztBQUFBLE1BQ3JJO0FBQ0EsYUFBTztBQUFBLElBQ1g7QUFBQSxJQUNBLE9BQU8sT0FBTztBQUNWLGFBQU87QUFBQSxJQUNYO0FBQUEsRUFDSjtBQUNBLE1BQU0sVUFBVTtBQUFBLElBQ1osU0FBUztBQUFBLElBQ1QsT0FBTztBQUFBLElBQ1AsUUFBUTtBQUFBLEVBQ1o7QUFDQSxXQUFTLFVBQVUsT0FBTztBQUN0QixXQUFPLEtBQUssVUFBVSxLQUFLO0FBQUEsRUFDL0I7QUFDQSxXQUFTLFlBQVksT0FBTztBQUN4QixXQUFPLEdBQUcsS0FBSztBQUFBLEVBQ25CO0FBRUEsTUFBTSxhQUFOLE1BQWlCO0FBQUEsSUFDYixZQUFZLFNBQVM7QUFDakIsV0FBSyxVQUFVO0FBQUEsSUFDbkI7QUFBQSxJQUNBLFdBQVcsYUFBYTtBQUNwQixhQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0EsT0FBTyxVQUFVLGFBQWEsY0FBYztBQUN4QztBQUFBLElBQ0o7QUFBQSxJQUNBLElBQUksY0FBYztBQUNkLGFBQU8sS0FBSyxRQUFRO0FBQUEsSUFDeEI7QUFBQSxJQUNBLElBQUksUUFBUTtBQUNSLGFBQU8sS0FBSyxRQUFRO0FBQUEsSUFDeEI7QUFBQSxJQUNBLElBQUksVUFBVTtBQUNWLGFBQU8sS0FBSyxNQUFNO0FBQUEsSUFDdEI7QUFBQSxJQUNBLElBQUksYUFBYTtBQUNiLGFBQU8sS0FBSyxNQUFNO0FBQUEsSUFDdEI7QUFBQSxJQUNBLElBQUksVUFBVTtBQUNWLGFBQU8sS0FBSyxNQUFNO0FBQUEsSUFDdEI7QUFBQSxJQUNBLElBQUksVUFBVTtBQUNWLGFBQU8sS0FBSyxNQUFNO0FBQUEsSUFDdEI7QUFBQSxJQUNBLElBQUksVUFBVTtBQUNWLGFBQU8sS0FBSyxNQUFNO0FBQUEsSUFDdEI7QUFBQSxJQUNBLElBQUksT0FBTztBQUNQLGFBQU8sS0FBSyxNQUFNO0FBQUEsSUFDdEI7QUFBQSxJQUNBLGFBQWE7QUFBQSxJQUNiO0FBQUEsSUFDQSxVQUFVO0FBQUEsSUFDVjtBQUFBLElBQ0EsYUFBYTtBQUFBLElBQ2I7QUFBQSxJQUNBLFNBQVMsV0FBVyxFQUFFLFNBQVMsS0FBSyxTQUFTLFNBQVMsQ0FBQyxHQUFHLFNBQVMsS0FBSyxZQUFZLFVBQVUsTUFBTSxhQUFhLEtBQU0sSUFBSSxDQUFDLEdBQUc7QUFDM0gsWUFBTSxPQUFPLFNBQVMsR0FBRyxNQUFNLElBQUksU0FBUyxLQUFLO0FBQ2pELFlBQU0sUUFBUSxJQUFJLFlBQVksTUFBTSxFQUFFLFFBQVEsU0FBUyxXQUFXLENBQUM7QUFDbkUsYUFBTyxjQUFjLEtBQUs7QUFDMUIsYUFBTztBQUFBLElBQ1g7QUFBQSxFQUNKO0FBQ0EsYUFBVyxZQUFZO0FBQUEsSUFDbkI7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNKO0FBQ0EsYUFBVyxVQUFVLENBQUM7QUFDdEIsYUFBVyxVQUFVLENBQUM7QUFDdEIsYUFBVyxTQUFTLENBQUM7OztBQzkvRXJCLE1BQU0sY0FBYyxZQUFZLE1BQU07QUFHdEMsY0FBWSxRQUFRO0FBQ3BCLFNBQU8sV0FBYTs7O0FDTnBCO0FBQUE7QUFBQTtBQUFBO0FBRUEsTUFBTywyQkFBUCxjQUE2QixXQUFXO0FBQUEsSUFDdEMsVUFBVTtBQUNSLFdBQUssUUFBUSxjQUFjO0FBQUEsSUFDN0I7QUFBQSxFQUNGOzs7QUNKUSxNQUFNLFVBQVUsQ0FBQyxFQUFDLE1BQU0sU0FBUyxRQUFRLDBCQUFTLFVBQVUsc0JBQXFCLENBQUM7QUFDbEYsTUFBTyxxQkFBUTs7O0FDSHZCO0FBQUE7QUFBQTtBQUFBO0FBRUEsTUFBTyxvQkFBUCxjQUE2QixXQUFXO0FBQUEsSUFHdEMsT0FBTyxPQUFPO0FBQ1osWUFBTSxjQUFjLE1BQU0sY0FBYyxRQUFRLG1DQUFtQztBQUNuRixZQUFNLGVBQWUsS0FBSyxZQUFZLFFBQVEsV0FBVztBQUV6RCxXQUFLLFlBQVksUUFBUSxDQUFDLE1BQU0sVUFBVTtBQUN4QyxZQUFJLFVBQVUsY0FBYztBQUMxQixlQUFLLFdBQVcsSUFBSTtBQUFBLFFBQ3RCLE9BQU87QUFDTCxlQUFLLFVBQVUsSUFBSTtBQUFBLFFBQ3JCO0FBQUEsTUFDRixDQUFDO0FBQUEsSUFDSDtBQUFBLElBRUEsV0FBVyxNQUFNO0FBQ2YsWUFBTSxTQUFTLEtBQUssUUFBUSx5QkFBeUI7QUFDckQsVUFBSSxRQUFRO0FBQ1YsYUFBSyxVQUFVLElBQUk7QUFBQSxNQUNyQixPQUFPO0FBQ0wsYUFBSyxTQUFTLElBQUk7QUFBQSxNQUNwQjtBQUFBLElBQ0Y7QUFBQSxJQUVBLFNBQVMsTUFBTTtBQUNiLFlBQU0sVUFBVSxLQUFLLGNBQWMsc0NBQXNDO0FBQ3pFLFlBQU0sU0FBUyxLQUFLLGNBQWMsUUFBUTtBQUUxQyxXQUFLLFFBQVEsdUJBQXVCO0FBQ3BDLGNBQVEsUUFBUSx1QkFBdUI7QUFDdkMsY0FBUSxnQkFBZ0IsUUFBUTtBQUNoQyxhQUFPLGFBQWEsaUJBQWlCLE1BQU07QUFBQSxJQUM3QztBQUFBLElBRUEsVUFBVSxNQUFNO0FBQ2QsWUFBTSxVQUFVLEtBQUssY0FBYyxzQ0FBc0M7QUFDekUsWUFBTSxTQUFTLEtBQUssY0FBYyxRQUFRO0FBRTFDLFdBQUssUUFBUSx1QkFBdUI7QUFDcEMsY0FBUSxRQUFRLHVCQUF1QjtBQUN2QyxjQUFRLGFBQWEsVUFBVSxFQUFFO0FBQ2pDLGFBQU8sYUFBYSxpQkFBaUIsT0FBTztBQUFBLElBQzlDO0FBQUEsRUFDRjtBQTNDRSxnQkFESyxtQkFDRSxXQUFVLENBQUMsUUFBUSxTQUFTOzs7QUNIckM7OztBQ0FBOzs7QUNBQTtBQUFBO0FBQUE7QUFBQTs7O0FDY0EsTUFBTSxtQkFBbUIsQ0FBQyxNQUFNLFlBQVksZ0JBQWdCO0FBQzFELFFBQUksZUFBZTtBQUNuQixRQUFJLGdCQUFnQixNQUFNO0FBQ3hCLHFCQUFlLEdBQUcsV0FBVyxVQUFVLElBQUksSUFBSTtBQUFBLElBQ2pELFdBQVcsT0FBTyxnQkFBZ0IsVUFBVTtBQUMxQyxxQkFBZSxHQUFHLFdBQVcsSUFBSSxJQUFJO0FBQUEsSUFDdkM7QUFDQSxXQUFPO0FBQUEsRUFDVDtBQUVBLE1BQU0sZ0JBQWdCLENBQUMsTUFBTSxPQUFPLFdBQVc7QUFDN0MsVUFBTSxFQUFDLFNBQWtCLFlBQXdCLFNBQWtCLElBQUksU0FBUztBQUFBLE1BQzlFLFNBQVM7QUFBQSxNQUNULFlBQVk7QUFBQSxNQUNaLFVBQVU7QUFBQSxJQUNaO0FBQ0EsUUFBSSxPQUFPO0FBQ1QsYUFBTyxPQUFPLFFBQVE7QUFBQSxRQUNwQixlQUFlO0FBQUEsTUFDakIsQ0FBQztBQUFBLElBQ0g7QUFDQSxVQUFNLGNBQWMsSUFBSSxZQUFZLE1BQU07QUFBQSxNQUN4QztBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0YsQ0FBQztBQUNELFdBQU87QUFBQSxFQUNUO0FBRUEsV0FBUyxvQkFBb0IsSUFBSTtBQUMvQixVQUFNLE9BQU8sR0FBRyxzQkFBc0I7QUFDdEMsVUFBTSxlQUFlLE9BQU8sZUFBZSxTQUFTLGdCQUFnQjtBQUNwRSxVQUFNLGNBQWMsT0FBTyxjQUFjLFNBQVMsZ0JBQWdCO0FBQ2xFLFVBQU0sYUFBYSxLQUFLLE9BQU8sZ0JBQWdCLEtBQUssTUFBTSxLQUFLLFNBQVM7QUFDeEUsVUFBTSxZQUFZLEtBQUssUUFBUSxlQUFlLEtBQUssT0FBTyxLQUFLLFFBQVE7QUFDdkUsV0FBTyxjQUFjO0FBQUEsRUFDdkI7QUFzTUEsTUFBTSxtQkFBbUI7QUFBQSxJQUN2QixRQUFRLENBQUUsU0FBUyxVQUFXO0FBQUEsSUFDOUIsYUFBYTtBQUFBLElBQ2IsZUFBZTtBQUFBLElBQ2YsYUFBYTtBQUFBLEVBQ2Y7QUFFQSxNQUFNLGtCQUFrQixDQUFDLHNCQUFzQixVQUFVLENBQUMsTUFBTTtBQUM5RCxVQUFNLGFBQWE7QUFDbkIsVUFBTSxFQUFDLGFBQTBCLGVBQThCLFFBQWdCLFlBQXdCLElBQUksT0FBTyxPQUFPLENBQUMsR0FBRyxrQkFBa0IsT0FBTztBQUN0SixVQUFNLFVBQVUsV0FBUztBQUN2QixZQUFNLGlCQUFpQixZQUFZLFFBQVEsWUFBWSxTQUFTLFNBQVMsUUFBUSxZQUFZLFdBQVc7QUFDeEcsVUFBSSxjQUFjLFNBQVMsTUFBTSxNQUFNLEtBQUssQ0FBQyxvQkFBb0IsYUFBYSxLQUFLLGFBQWE7QUFDOUY7QUFBQSxNQUNGO0FBQ0EsVUFBSSxXQUFXLGNBQWM7QUFDM0IsbUJBQVcsYUFBYSxLQUFLO0FBQUEsTUFDL0I7QUFDQSxVQUFJLGVBQWU7QUFDakIsY0FBTSxZQUFZLGlCQUFpQixpQkFBaUIsWUFBWSxXQUFXO0FBQzNFLGNBQU0sb0JBQW9CLGNBQWMsV0FBVyxPQUFPO0FBQUEsVUFDeEQ7QUFBQSxRQUNGLENBQUM7QUFDRCxzQkFBYyxjQUFjLGlCQUFpQjtBQUFBLE1BQy9DO0FBQUEsSUFDRjtBQUNBLFVBQU0sVUFBVSxNQUFNO0FBQ3BCLGlCQUFXLFFBQVEsV0FBVyxTQUFTLFNBQVMsT0FBTyxRQUFTLFdBQVM7QUFDdkUsZUFBTyxpQkFBaUIsT0FBTyxTQUFTLElBQUk7QUFBQSxNQUM5QyxDQUFFO0FBQUEsSUFDSjtBQUNBLFVBQU0sWUFBWSxNQUFNO0FBQ3RCLGlCQUFXLFFBQVEsV0FBVyxTQUFTLFNBQVMsT0FBTyxRQUFTLFdBQVM7QUFDdkUsZUFBTyxvQkFBb0IsT0FBTyxTQUFTLElBQUk7QUFBQSxNQUNqRCxDQUFFO0FBQUEsSUFDSjtBQUNBLFVBQU0sdUJBQXVCLFdBQVcsV0FBVyxLQUFLLFVBQVU7QUFDbEUsV0FBTyxPQUFPLFlBQVk7QUFBQSxNQUN4QixhQUFhO0FBQ1gsa0JBQVU7QUFDViw2QkFBcUI7QUFBQSxNQUN2QjtBQUFBLElBQ0YsQ0FBQztBQUNELFlBQVE7QUFDUixXQUFPLENBQUUsU0FBUyxTQUFVO0FBQUEsRUFDOUI7QUFpQkEsTUFBTSxxQkFBTixjQUFpQyxXQUFXO0FBQUEsRUFBQztBQUU3QyxxQkFBbUIsWUFBWSxDQUFDO0FBcXlCaEMsTUFBTSxxQkFBTixjQUFpQyxXQUFXO0FBQUEsRUFBQztBQUU3QyxxQkFBbUIsWUFBWSxDQUFDO0FBaUNoQyxNQUFNLGNBQWM7QUFBQSxJQUNsQixnQkFBZ0I7QUFBQSxJQUNoQixrQkFBa0I7QUFBQSxJQUNsQixjQUFjO0FBQUEsSUFDZCxnQkFBZ0I7QUFBQSxJQUNoQixrQkFBa0I7QUFBQSxJQUNsQixjQUFjO0FBQUEsRUFDaEI7QUFFQSxNQUFNLGlCQUFpQjtBQUFBLElBQ3JCLGNBQWM7QUFBQSxJQUNkLGFBQWE7QUFBQSxJQUNiLHVCQUF1QjtBQUFBLElBQ3ZCLGlCQUFpQjtBQUFBLEVBQ25CO0FBRUEsTUFBTSxnQkFBZ0IsQ0FBQyxzQkFBc0IsVUFBVSxDQUFDLE1BQU07QUFDNUQsUUFBSSxJQUFJLElBQUk7QUFDWixVQUFNLGFBQWE7QUFDbkIsVUFBTSxhQUFhLFdBQVcsUUFBUSxRQUFRO0FBQzlDLFFBQUk7QUFDSixRQUFJLFlBQVk7QUFDZCw0QkFBc0IsV0FBVyxHQUFHLFVBQVUsUUFBUTtBQUFBLElBQ3hEO0FBQ0EsVUFBTSxpQkFBaUIsWUFBWSxRQUFRLFlBQVksU0FBUyxTQUFTLFFBQVEsWUFBWSx1QkFBdUIsV0FBVztBQUMvSCxRQUFJLEVBQUUseUJBQXlCLGVBQWUseUJBQXlCLFlBQWE7QUFDcEYsVUFBTSxVQUFVLGNBQWM7QUFDOUIsVUFBTSxhQUFhLFNBQVMsUUFBUSxjQUFjLEVBQUUsS0FBSyxRQUFRLGNBQWM7QUFDL0UsVUFBTSxFQUFDLGNBQTRCLGFBQTBCLHVCQUE4QyxnQkFBZ0MsSUFBSSxPQUFPLE9BQU8sQ0FBQyxHQUFHLGdCQUFnQixPQUFPO0FBQ3hMLFVBQU0sbUJBQW1CLEtBQUssV0FBVyxXQUFXLFFBQVEsT0FBTyxTQUFTLFNBQVMsR0FBRyxLQUFLLFVBQVU7QUFDdkcsVUFBTSxtQkFBbUIsS0FBSyxXQUFXLFdBQVcsUUFBUSxPQUFPLFNBQVMsU0FBUyxHQUFHLEtBQUssVUFBVTtBQUN2RyxVQUFNLDhCQUE4QixLQUFLLFdBQVcsc0JBQXNCLFFBQVEsT0FBTyxTQUFTLFNBQVMsR0FBRyxLQUFLLFVBQVU7QUFDN0gsbUJBQWVNLE9BQU0sT0FBTztBQUMxQixVQUFJLFdBQVcsYUFBYztBQUM3QixpQkFBVyxlQUFlO0FBQzFCLHlCQUFtQixnQkFBZ0IsS0FBSztBQUN4QyxZQUFNLG1CQUFtQixhQUFhLGFBQWEsU0FBUyxPQUFPO0FBQ25FLFlBQU0scUJBQXFCLGFBQWEsZUFBZSxTQUFTLE9BQU87QUFDdkUsWUFBTSxpQkFBaUIsYUFBYSxXQUFXLFNBQVMsT0FBTztBQUMvRCxZQUFNLGlCQUFpQixhQUFhLFdBQVcsU0FBUyxPQUFPO0FBQy9ELFVBQUksQ0FBQyxDQUFDLGFBQWE7QUFDakIsc0JBQWMsVUFBVSxPQUFPLFdBQVc7QUFBQSxNQUM1QztBQUNBLFVBQUksQ0FBQyxpQkFBaUI7QUFDcEIsUUFBQUMsZUFBYyxlQUFlLGNBQWM7QUFBQSxNQUM3QztBQUNBLFlBQU1DLFlBQVcsZUFBZSxrQkFBa0Isb0JBQW9CLGdCQUFnQixhQUFhLHVCQUF1QixlQUFlO0FBQ3pJLFVBQUksYUFBYSxHQUFHO0FBQ2xCLG1CQUFZLE1BQU07QUFDaEIsVUFBQUMsT0FBTSxLQUFLO0FBQUEsUUFDYixHQUFJLFVBQVU7QUFBQSxNQUNoQjtBQUFBLElBQ0Y7QUFDQSxtQkFBZUEsT0FBTSxPQUFPO0FBQzFCLFVBQUksQ0FBQyxXQUFXLGFBQWM7QUFDOUIsaUJBQVcsZUFBZTtBQUMxQix5QkFBbUIsZ0JBQWdCLEtBQUs7QUFDeEMsWUFBTSxtQkFBbUIsYUFBYSxhQUFhLFNBQVMsT0FBTztBQUNuRSxZQUFNLHFCQUFxQixhQUFhLGVBQWUsU0FBUyxPQUFPO0FBQ3ZFLFlBQU0saUJBQWlCLGFBQWEsV0FBVyxTQUFTLE9BQU87QUFDL0QsWUFBTSxpQkFBaUIsYUFBYSxXQUFXLFNBQVMsT0FBTztBQUMvRCxVQUFJLENBQUMsaUJBQWlCO0FBQ3BCLFFBQUFGLGVBQWMsZUFBZSxjQUFjO0FBQUEsTUFDN0M7QUFDQSxZQUFNQyxZQUFXLGVBQWUsa0JBQWtCLG9CQUFvQixnQkFBZ0IsYUFBYSx1QkFBdUIsZUFBZTtBQUN6SSxVQUFJLENBQUMsQ0FBQyxhQUFhO0FBQ2pCLHNCQUFjLFVBQVUsSUFBSSxXQUFXO0FBQUEsTUFDekM7QUFBQSxJQUNGO0FBQ0EsYUFBUyxpQkFBaUIsT0FBTztBQUMvQixvQ0FBOEIsMkJBQTJCLEtBQUs7QUFDOUQsVUFBSSxXQUFXLGNBQWM7QUFDM0IsUUFBQUMsT0FBTTtBQUFBLE1BQ1IsT0FBTztBQUNMLFFBQUFILE9BQU07QUFBQSxNQUNSO0FBQUEsSUFDRjtBQUNBLG1CQUFlRSxZQUFXLFNBQVMsZ0JBQWdCLGVBQWUsWUFBWUUsY0FBYUMsd0JBQXVCLGtCQUFrQjtBQUNsSSxZQUFNLGlCQUFpQixDQUFDO0FBQ3hCLFVBQUlBLHdCQUF1QjtBQUN6Qix1QkFBZSxRQUFTLFNBQU8sUUFBUSxVQUFVLFNBQVMsR0FBRyxLQUFLLFFBQVFELGdCQUFlLGVBQWUsS0FBSyxHQUFHLENBQUU7QUFDbEgsc0JBQWMsUUFBUyxTQUFPLFFBQVEsVUFBVSxTQUFTLEdBQUcsS0FBSyxRQUFRQSxnQkFBZSxlQUFlLEtBQUssR0FBRyxDQUFFO0FBQ2pILG1CQUFXLFFBQVMsU0FBTyxRQUFRLFVBQVUsU0FBUyxHQUFHLEtBQUssUUFBUUEsZ0JBQWUsZUFBZSxLQUFLLEdBQUcsQ0FBRTtBQUFBLE1BQ2hIO0FBQ0EsTUFBQUUsWUFBVyxTQUFTLGNBQWM7QUFDbEMsTUFBQUwsZUFBYyxTQUFTLGNBQWM7QUFDckMsTUFBQUssWUFBVyxTQUFTLGFBQWE7QUFDakMsWUFBTSxtQkFBbUI7QUFDekIsTUFBQUwsZUFBYyxTQUFTLGNBQWM7QUFDckMsTUFBQUssWUFBVyxTQUFTLFVBQVU7QUFDOUIsWUFBTSxnQkFBZ0IsT0FBTztBQUM3QixNQUFBTCxlQUFjLFNBQVMsYUFBYTtBQUNwQyxVQUFJLGtCQUFrQjtBQUNwQixRQUFBQSxlQUFjLFNBQVMsVUFBVTtBQUFBLE1BQ25DO0FBQ0EsTUFBQUssWUFBVyxTQUFTLGNBQWM7QUFBQSxJQUNwQztBQUNBLGFBQVMsZUFBZTtBQUN0QixpQkFBVyxlQUFlO0FBQzFCLFVBQUksY0FBYztBQUNoQixZQUFJLENBQUMsQ0FBQyxhQUFhO0FBQ2pCLHdCQUFjLFVBQVUsT0FBTyxXQUFXO0FBQUEsUUFDNUM7QUFDQSxRQUFBTixPQUFNO0FBQUEsTUFDUixPQUFPO0FBQ0wsWUFBSSxDQUFDLENBQUMsYUFBYTtBQUNqQix3QkFBYyxVQUFVLElBQUksV0FBVztBQUFBLFFBQ3pDO0FBQ0EsUUFBQUcsT0FBTTtBQUFBLE1BQ1I7QUFBQSxJQUNGO0FBQ0EsYUFBU0csWUFBVyxTQUFTLFNBQVM7QUFDcEMsVUFBSSxRQUFRLFNBQVMsR0FBRztBQUN0QixnQkFBUSxVQUFVLElBQUksR0FBRyxPQUFPO0FBQUEsTUFDbEM7QUFBQSxJQUNGO0FBQ0EsYUFBU0wsZUFBYyxTQUFTLFNBQVM7QUFDdkMsVUFBSSxRQUFRLFNBQVMsR0FBRztBQUN0QixnQkFBUSxVQUFVLE9BQU8sR0FBRyxPQUFPO0FBQUEsTUFDckM7QUFBQSxJQUNGO0FBQ0EsaUJBQWE7QUFDYixXQUFPLE9BQU8sWUFBWTtBQUFBLE1BQ3hCLE9BQU9EO0FBQUEsTUFDUCxPQUFPRztBQUFBLE1BQ1A7QUFBQSxJQUNGLENBQUM7QUFDRCxXQUFPLENBQUVILFFBQU9HLFFBQU8sZ0JBQWlCO0FBQUEsRUFDMUM7QUFFQSxXQUFTLGFBQWEsTUFBTSxTQUFTLFNBQVM7QUFDNUMsVUFBTSxjQUFjLGFBQWEsS0FBSyxDQUFDLEVBQUUsWUFBWSxDQUFDLEdBQUcsS0FBSyxPQUFPLENBQUMsQ0FBQztBQUN2RSxVQUFNLG9CQUFvQixZQUFZLElBQUk7QUFDMUMsVUFBTSxVQUFVLFFBQVEsSUFBSSxLQUFLLFFBQVEsV0FBVyxLQUFLLFFBQVEsaUJBQWlCLEtBQUs7QUFDdkYsV0FBTyxRQUFRLE9BQU8sSUFBSSxDQUFDLElBQUksUUFBUSxNQUFNLEdBQUc7QUFBQSxFQUNsRDtBQUVBLGlCQUFlLGdCQUFnQixTQUFTO0FBQ3RDLFdBQU8sSUFBSSxRQUFTLGFBQVc7QUFDN0IsWUFBTSxXQUFXLE9BQU8saUJBQWlCLE9BQU8sRUFBRSxtQkFBbUIsTUFBTSxHQUFHLEVBQUUsQ0FBQyxFQUFFLFFBQVEsS0FBSyxFQUFFLENBQUMsSUFBSTtBQUN2RyxpQkFBWSxNQUFNO0FBQ2hCLGdCQUFRLFFBQVE7QUFBQSxNQUNsQixHQUFJLFFBQVE7QUFBQSxJQUNkLENBQUU7QUFBQSxFQUNKO0FBRUEsaUJBQWUscUJBQXFCO0FBQ2xDLFdBQU8sSUFBSSxRQUFTLGFBQVc7QUFDN0IsNEJBQXVCLE1BQU07QUFDM0IsOEJBQXNCLE9BQU87QUFBQSxNQUMvQixDQUFFO0FBQUEsSUFDSixDQUFFO0FBQUEsRUFDSjtBQUVBLFdBQVMsUUFBUSxLQUFLO0FBQ3BCLFdBQU8sSUFBSSxXQUFXLEtBQUssQ0FBQyxJQUFJLEtBQUs7QUFBQSxFQUN2Qzs7O0FEenhDQSxNQUFPLHVCQUFQLGNBQTZCLFdBQVc7QUFBQSxJQU10QyxVQUFVO0FBQ1IsVUFBSSxLQUFLLDBCQUEwQjtBQUNqQyx3QkFBZ0IsTUFBTSxFQUFFLFNBQVMsS0FBSyxjQUFjLENBQUM7QUFBQSxNQUN2RDtBQUFBLElBQ0Y7QUFBQSxJQUVBLE9BQU87QUFDTCxXQUFLLGNBQWMsTUFBTSxVQUFVO0FBQ25DLFdBQUssY0FBYyxNQUFNLFVBQVU7QUFDbkMsaUJBQVcsTUFBTTtBQUNmLGFBQUssY0FBYyxRQUFRLHFCQUFxQjtBQUNoRCxhQUFLLGNBQWMsUUFBUSxxQkFBcUI7QUFBQSxNQUNsRCxHQUFHLEVBQUU7QUFBQSxJQUNQO0FBQUEsSUFFQSxRQUFRO0FBQ04sV0FBSyxjQUFjLFFBQVEscUJBQXFCO0FBQ2hELFdBQUssY0FBYyxRQUFRLHFCQUFxQjtBQUNoRCxpQkFBVyxNQUFNO0FBQ2YsYUFBSyxjQUFjLE1BQU0sVUFBVTtBQUNuQyxhQUFLLGNBQWMsTUFBTSxVQUFVO0FBQUEsTUFDckMsR0FBRyxFQUFFO0FBQUEsSUFDUDtBQUFBLElBRUEsT0FBTyxPQUFPO0FBQ1osWUFBTSxlQUFlO0FBQ3JCLFdBQUssTUFBTTtBQUFBLElBQ2I7QUFBQSxJQUVBLGFBQWEsT0FBTztBQUNsQixVQUFJLEtBQUssMEJBQTBCO0FBQ2pDLGFBQUssTUFBTTtBQUFBLE1BQ2I7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQXZDRSxnQkFESyxzQkFDRSxXQUFVLENBQUMsV0FBVyxTQUFTO0FBQ3RDLGdCQUZLLHNCQUVFLFVBQVM7QUFBQSxJQUNkLHFCQUFxQjtBQUFBLEVBQ3ZCOzs7QUVSRjs7O0FDQUE7OztBQ0FBOzs7QUNBQTs7O0FDQUE7OztBQ0FBOzs7QUNBQTtBQUFBO0FBQUE7QUFBQTs7O0FDZ0NPLFdBQVMsT0FBTyxVQUFVO0FBQy9CLFVBQU0sU0FBUyxPQUFPLFVBQVUsU0FBUyxLQUFLLFFBQVE7QUFHdEQsUUFDRSxvQkFBb0IsUUFDbkIsT0FBTyxhQUFhLFlBQVksV0FBVyxpQkFDNUM7QUFFQSxhQUFPLElBQUksU0FBUyxZQUFZLENBQUMsUUFBUTtBQUFBLElBQzNDLFdBQ0UsT0FBTyxhQUFhLFlBQ3BCLFdBQVcscUJBQ1gsT0FBTyxhQUFhLFlBQ3BCLFdBQVcsbUJBQ1g7QUFFQSxhQUFPLElBQUksS0FBSyxRQUFRO0FBQUEsSUFDMUIsT0FBTztBQUVMLGFBQU8sb0JBQUksS0FBSyxHQUFHO0FBQUEsSUFDckI7QUFBQSxFQUNGOzs7QUN4Qk8sV0FBUyxjQUFjLE1BQU0sT0FBTztBQUN6QyxRQUFJLGdCQUFnQixNQUFNO0FBQ3hCLGFBQU8sSUFBSSxLQUFLLFlBQVksS0FBSztBQUFBLElBQ25DLE9BQU87QUFDTCxhQUFPLElBQUksS0FBSyxLQUFLO0FBQUEsSUFDdkI7QUFBQSxFQUNGOzs7QUNUTyxXQUFTLFVBQVUsTUFBTSxRQUFRO0FBQ3RDLFVBQU0sUUFBUSxPQUFPLElBQUk7QUFDekIsUUFBSSxNQUFNLE1BQU0sRUFBRyxRQUFPLGNBQWMsTUFBTSxHQUFHO0FBQ2pELFFBQUksQ0FBQyxRQUFRO0FBRVgsYUFBTztBQUFBLElBQ1Q7QUFDQSxVQUFNLGFBQWEsTUFBTSxRQUFRO0FBVWpDLFVBQU0sb0JBQW9CLGNBQWMsTUFBTSxNQUFNLFFBQVEsQ0FBQztBQUM3RCxzQkFBa0IsU0FBUyxNQUFNLFNBQVMsSUFBSSxTQUFTLEdBQUcsQ0FBQztBQUMzRCxVQUFNLGNBQWMsa0JBQWtCLFFBQVE7QUFDOUMsUUFBSSxjQUFjLGFBQWE7QUFHN0IsYUFBTztBQUFBLElBQ1QsT0FBTztBQVFMLFlBQU07QUFBQSxRQUNKLGtCQUFrQixZQUFZO0FBQUEsUUFDOUIsa0JBQWtCLFNBQVM7QUFBQSxRQUMzQjtBQUFBLE1BQ0Y7QUFDQSxhQUFPO0FBQUEsSUFDVDtBQUFBLEVBQ0Y7OztBQzdCTyxNQUFNLGFBQWE7QUFnQm5CLE1BQU0sVUFBVSxLQUFLLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUs7QUFnQmpELE1BQU0sVUFBVSxDQUFDO0FBT2pCLE1BQU0scUJBQXFCO0FBTzNCLE1BQU0sb0JBQW9CO0FBNkUxQixNQUFNLGdCQUFnQjtBQWN0QixNQUFNLGVBQWUsZ0JBQWdCO0FBT3JDLE1BQU0sZ0JBQWdCLGVBQWU7QUFPckMsTUFBTSxnQkFBZ0IsZUFBZTtBQU9yQyxNQUFNLGlCQUFpQixnQkFBZ0I7QUFPdkMsTUFBTSxtQkFBbUIsaUJBQWlCOzs7QUMxTWpELE1BQUlJLGtCQUFpQixDQUFDO0FBRWYsV0FBUyxvQkFBb0I7QUFDbEMsV0FBT0E7QUFBQSxFQUNUOzs7QUM2Qk8sV0FBUyxZQUFZLE1BQU0sU0FBUztBQUN6QyxVQUFNQyxrQkFBaUIsa0JBQWtCO0FBQ3pDLFVBQU0sZUFDSixTQUFTLGdCQUNULFNBQVMsUUFBUSxTQUFTLGdCQUMxQkEsZ0JBQWUsZ0JBQ2ZBLGdCQUFlLFFBQVEsU0FBUyxnQkFDaEM7QUFFRixVQUFNLFFBQVEsT0FBTyxJQUFJO0FBQ3pCLFVBQU0sTUFBTSxNQUFNLE9BQU87QUFDekIsVUFBTSxRQUFRLE1BQU0sZUFBZSxJQUFJLEtBQUssTUFBTTtBQUVsRCxVQUFNLFFBQVEsTUFBTSxRQUFRLElBQUksSUFBSTtBQUNwQyxVQUFNLFNBQVMsR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUN6QixXQUFPO0FBQUEsRUFDVDs7O0FDekJPLFdBQVMsZUFBZSxNQUFNO0FBQ25DLFdBQU8sWUFBWSxNQUFNLEVBQUUsY0FBYyxFQUFFLENBQUM7QUFBQSxFQUM5Qzs7O0FDQU8sV0FBUyxlQUFlLE1BQU07QUFDbkMsVUFBTSxRQUFRLE9BQU8sSUFBSTtBQUN6QixVQUFNLE9BQU8sTUFBTSxZQUFZO0FBRS9CLFVBQU0sNEJBQTRCLGNBQWMsTUFBTSxDQUFDO0FBQ3ZELDhCQUEwQixZQUFZLE9BQU8sR0FBRyxHQUFHLENBQUM7QUFDcEQsOEJBQTBCLFNBQVMsR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUM3QyxVQUFNLGtCQUFrQixlQUFlLHlCQUF5QjtBQUVoRSxVQUFNLDRCQUE0QixjQUFjLE1BQU0sQ0FBQztBQUN2RCw4QkFBMEIsWUFBWSxNQUFNLEdBQUcsQ0FBQztBQUNoRCw4QkFBMEIsU0FBUyxHQUFHLEdBQUcsR0FBRyxDQUFDO0FBQzdDLFVBQU0sa0JBQWtCLGVBQWUseUJBQXlCO0FBRWhFLFFBQUksTUFBTSxRQUFRLEtBQUssZ0JBQWdCLFFBQVEsR0FBRztBQUNoRCxhQUFPLE9BQU87QUFBQSxJQUNoQixXQUFXLE1BQU0sUUFBUSxLQUFLLGdCQUFnQixRQUFRLEdBQUc7QUFDdkQsYUFBTztBQUFBLElBQ1QsT0FBTztBQUNMLGFBQU8sT0FBTztBQUFBLElBQ2hCO0FBQUEsRUFDRjs7O0FDekJPLFdBQVMsV0FBVyxNQUFNO0FBQy9CLFVBQU0sUUFBUSxPQUFPLElBQUk7QUFDekIsVUFBTSxTQUFTLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFDekIsV0FBTztBQUFBLEVBQ1Q7OztBQ2JPLFdBQVMsZ0NBQWdDLE1BQU07QUFDcEQsVUFBTSxRQUFRLE9BQU8sSUFBSTtBQUN6QixVQUFNLFVBQVUsSUFBSTtBQUFBLE1BQ2xCLEtBQUs7QUFBQSxRQUNILE1BQU0sWUFBWTtBQUFBLFFBQ2xCLE1BQU0sU0FBUztBQUFBLFFBQ2YsTUFBTSxRQUFRO0FBQUEsUUFDZCxNQUFNLFNBQVM7QUFBQSxRQUNmLE1BQU0sV0FBVztBQUFBLFFBQ2pCLE1BQU0sV0FBVztBQUFBLFFBQ2pCLE1BQU0sZ0JBQWdCO0FBQUEsTUFDeEI7QUFBQSxJQUNGO0FBQ0EsWUFBUSxlQUFlLE1BQU0sWUFBWSxDQUFDO0FBQzFDLFdBQU8sQ0FBQyxPQUFPLENBQUM7QUFBQSxFQUNsQjs7O0FDUU8sV0FBUyx5QkFBeUIsVUFBVSxXQUFXO0FBQzVELFVBQU0saUJBQWlCLFdBQVcsUUFBUTtBQUMxQyxVQUFNLGtCQUFrQixXQUFXLFNBQVM7QUFFNUMsVUFBTSxnQkFDSixDQUFDLGlCQUFpQixnQ0FBZ0MsY0FBYztBQUNsRSxVQUFNLGlCQUNKLENBQUMsa0JBQWtCLGdDQUFnQyxlQUFlO0FBS3BFLFdBQU8sS0FBSyxPQUFPLGdCQUFnQixrQkFBa0IsaUJBQWlCO0FBQUEsRUFDeEU7OztBQ3RCTyxXQUFTLG1CQUFtQixNQUFNO0FBQ3ZDLFVBQU0sT0FBTyxlQUFlLElBQUk7QUFDaEMsVUFBTSxrQkFBa0IsY0FBYyxNQUFNLENBQUM7QUFDN0Msb0JBQWdCLFlBQVksTUFBTSxHQUFHLENBQUM7QUFDdEMsb0JBQWdCLFNBQVMsR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUNuQyxXQUFPLGVBQWUsZUFBZTtBQUFBLEVBQ3ZDOzs7QUNETyxXQUFTLGFBQWEsTUFBTTtBQUNqQyxXQUFPLGNBQWMsTUFBTSxLQUFLLElBQUksQ0FBQztBQUFBLEVBQ3ZDOzs7QUNGTyxXQUFTLFVBQVUsVUFBVSxXQUFXO0FBQzdDLFVBQU0scUJBQXFCLFdBQVcsUUFBUTtBQUM5QyxVQUFNLHNCQUFzQixXQUFXLFNBQVM7QUFFaEQsV0FBTyxDQUFDLHVCQUF1QixDQUFDO0FBQUEsRUFDbEM7OztBQ0xPLFdBQVMsT0FBTyxPQUFPO0FBQzVCLFdBQ0UsaUJBQWlCLFFBQ2hCLE9BQU8sVUFBVSxZQUNoQixPQUFPLFVBQVUsU0FBUyxLQUFLLEtBQUssTUFBTTtBQUFBLEVBRWhEOzs7QUNGTyxXQUFTLFFBQVEsTUFBTTtBQUM1QixRQUFJLENBQUMsT0FBTyxJQUFJLEtBQUssT0FBTyxTQUFTLFVBQVU7QUFDN0MsYUFBTztBQUFBLElBQ1Q7QUFDQSxVQUFNLFFBQVEsT0FBTyxJQUFJO0FBQ3pCLFdBQU8sQ0FBQyxNQUFNLE9BQU8sS0FBSyxDQUFDO0FBQUEsRUFDN0I7OztBQ3BCTyxXQUFTLFdBQVcsTUFBTTtBQUMvQixVQUFNLFFBQVEsT0FBTyxJQUFJO0FBQ3pCLFVBQU0sUUFBUSxNQUFNLFNBQVM7QUFDN0IsVUFBTSxZQUFZLE1BQU0sWUFBWSxHQUFHLFFBQVEsR0FBRyxDQUFDO0FBQ25ELFVBQU0sU0FBUyxJQUFJLElBQUksSUFBSSxHQUFHO0FBQzlCLFdBQU87QUFBQSxFQUNUOzs7QUNPTyxXQUFTLGtCQUFrQixVQUFVLFNBQVM7QUFDbkQsVUFBTSxZQUFZLE9BQU8sU0FBUyxLQUFLO0FBQ3ZDLFVBQU0sVUFBVSxPQUFPLFNBQVMsR0FBRztBQUVuQyxRQUFJLFdBQVcsQ0FBQyxZQUFZLENBQUM7QUFDN0IsVUFBTSxVQUFVLFdBQVcsQ0FBQyxZQUFZLENBQUM7QUFDekMsVUFBTSxjQUFjLFdBQVcsVUFBVTtBQUN6QyxnQkFBWSxTQUFTLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFFL0IsUUFBSSxPQUFPLFNBQVMsUUFBUTtBQUM1QixRQUFJLENBQUMsS0FBTSxRQUFPLENBQUM7QUFDbkIsUUFBSSxPQUFPLEdBQUc7QUFDWixhQUFPLENBQUM7QUFDUixpQkFBVyxDQUFDO0FBQUEsSUFDZDtBQUVBLFVBQU0sUUFBUSxDQUFDO0FBRWYsV0FBTyxDQUFDLGVBQWUsU0FBUztBQUM5QixZQUFNLEtBQUssT0FBTyxXQUFXLENBQUM7QUFDOUIsa0JBQVksUUFBUSxZQUFZLFFBQVEsSUFBSSxJQUFJO0FBQ2hELGtCQUFZLFNBQVMsR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUFBLElBQ2pDO0FBRUEsV0FBTyxXQUFXLE1BQU0sUUFBUSxJQUFJO0FBQUEsRUFDdEM7OztBQ3RDTyxXQUFTLGFBQWEsTUFBTTtBQUNqQyxVQUFNLFFBQVEsT0FBTyxJQUFJO0FBQ3pCLFVBQU0sUUFBUSxDQUFDO0FBQ2YsVUFBTSxTQUFTLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFDekIsV0FBTztBQUFBLEVBQ1Q7OztBQ0pPLFdBQVMsWUFBWSxNQUFNO0FBQ2hDLFVBQU0sWUFBWSxPQUFPLElBQUk7QUFDN0IsVUFBTSxRQUFRLGNBQWMsTUFBTSxDQUFDO0FBQ25DLFVBQU0sWUFBWSxVQUFVLFlBQVksR0FBRyxHQUFHLENBQUM7QUFDL0MsVUFBTSxTQUFTLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFDekIsV0FBTztBQUFBLEVBQ1Q7OztBQ0lPLFdBQVMsVUFBVSxNQUFNLFNBQVM7QUFDdkMsVUFBTUMsa0JBQWlCLGtCQUFrQjtBQUN6QyxVQUFNLGVBQ0osU0FBUyxnQkFDVCxTQUFTLFFBQVEsU0FBUyxnQkFDMUJBLGdCQUFlLGdCQUNmQSxnQkFBZSxRQUFRLFNBQVMsZ0JBQ2hDO0FBRUYsVUFBTSxRQUFRLE9BQU8sSUFBSTtBQUN6QixVQUFNLE1BQU0sTUFBTSxPQUFPO0FBQ3pCLFVBQU0sUUFBUSxNQUFNLGVBQWUsS0FBSyxLQUFLLEtBQUssTUFBTTtBQUV4RCxVQUFNLFFBQVEsTUFBTSxRQUFRLElBQUksSUFBSTtBQUNwQyxVQUFNLFNBQVMsSUFBSSxJQUFJLElBQUksR0FBRztBQUM5QixXQUFPO0FBQUEsRUFDVDs7O0FDakRBLE1BQU0sdUJBQXVCO0FBQUEsSUFDM0Isa0JBQWtCO0FBQUEsTUFDaEIsS0FBSztBQUFBLE1BQ0wsT0FBTztBQUFBLElBQ1Q7QUFBQSxJQUVBLFVBQVU7QUFBQSxNQUNSLEtBQUs7QUFBQSxNQUNMLE9BQU87QUFBQSxJQUNUO0FBQUEsSUFFQSxhQUFhO0FBQUEsSUFFYixrQkFBa0I7QUFBQSxNQUNoQixLQUFLO0FBQUEsTUFDTCxPQUFPO0FBQUEsSUFDVDtBQUFBLElBRUEsVUFBVTtBQUFBLE1BQ1IsS0FBSztBQUFBLE1BQ0wsT0FBTztBQUFBLElBQ1Q7QUFBQSxJQUVBLGFBQWE7QUFBQSxNQUNYLEtBQUs7QUFBQSxNQUNMLE9BQU87QUFBQSxJQUNUO0FBQUEsSUFFQSxRQUFRO0FBQUEsTUFDTixLQUFLO0FBQUEsTUFDTCxPQUFPO0FBQUEsSUFDVDtBQUFBLElBRUEsT0FBTztBQUFBLE1BQ0wsS0FBSztBQUFBLE1BQ0wsT0FBTztBQUFBLElBQ1Q7QUFBQSxJQUVBLGFBQWE7QUFBQSxNQUNYLEtBQUs7QUFBQSxNQUNMLE9BQU87QUFBQSxJQUNUO0FBQUEsSUFFQSxRQUFRO0FBQUEsTUFDTixLQUFLO0FBQUEsTUFDTCxPQUFPO0FBQUEsSUFDVDtBQUFBLElBRUEsY0FBYztBQUFBLE1BQ1osS0FBSztBQUFBLE1BQ0wsT0FBTztBQUFBLElBQ1Q7QUFBQSxJQUVBLFNBQVM7QUFBQSxNQUNQLEtBQUs7QUFBQSxNQUNMLE9BQU87QUFBQSxJQUNUO0FBQUEsSUFFQSxhQUFhO0FBQUEsTUFDWCxLQUFLO0FBQUEsTUFDTCxPQUFPO0FBQUEsSUFDVDtBQUFBLElBRUEsUUFBUTtBQUFBLE1BQ04sS0FBSztBQUFBLE1BQ0wsT0FBTztBQUFBLElBQ1Q7QUFBQSxJQUVBLFlBQVk7QUFBQSxNQUNWLEtBQUs7QUFBQSxNQUNMLE9BQU87QUFBQSxJQUNUO0FBQUEsSUFFQSxjQUFjO0FBQUEsTUFDWixLQUFLO0FBQUEsTUFDTCxPQUFPO0FBQUEsSUFDVDtBQUFBLEVBQ0Y7QUFFTyxNQUFNLGlCQUFpQixDQUFDLE9BQU8sT0FBTyxZQUFZO0FBQ3ZELFFBQUk7QUFFSixVQUFNLGFBQWEscUJBQXFCLEtBQUs7QUFDN0MsUUFBSSxPQUFPLGVBQWUsVUFBVTtBQUNsQyxlQUFTO0FBQUEsSUFDWCxXQUFXLFVBQVUsR0FBRztBQUN0QixlQUFTLFdBQVc7QUFBQSxJQUN0QixPQUFPO0FBQ0wsZUFBUyxXQUFXLE1BQU0sUUFBUSxhQUFhLE1BQU0sU0FBUyxDQUFDO0FBQUEsSUFDakU7QUFFQSxRQUFJLFNBQVMsV0FBVztBQUN0QixVQUFJLFFBQVEsY0FBYyxRQUFRLGFBQWEsR0FBRztBQUNoRCxlQUFPLFFBQVE7QUFBQSxNQUNqQixPQUFPO0FBQ0wsZUFBTyxTQUFTO0FBQUEsTUFDbEI7QUFBQSxJQUNGO0FBRUEsV0FBTztBQUFBLEVBQ1Q7OztBQ3BHTyxXQUFTLGtCQUFrQixNQUFNO0FBQ3RDLFdBQU8sQ0FBQyxVQUFVLENBQUMsTUFBTTtBQUV2QixZQUFNLFFBQVEsUUFBUSxRQUFRLE9BQU8sUUFBUSxLQUFLLElBQUksS0FBSztBQUMzRCxZQUFNQyxVQUFTLEtBQUssUUFBUSxLQUFLLEtBQUssS0FBSyxRQUFRLEtBQUssWUFBWTtBQUNwRSxhQUFPQTtBQUFBLElBQ1Q7QUFBQSxFQUNGOzs7QUNMQSxNQUFNLGNBQWM7QUFBQSxJQUNsQixNQUFNO0FBQUEsSUFDTixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsRUFDVDtBQUVBLE1BQU0sY0FBYztBQUFBLElBQ2xCLE1BQU07QUFBQSxJQUNOLE1BQU07QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxFQUNUO0FBRUEsTUFBTSxrQkFBa0I7QUFBQSxJQUN0QixNQUFNO0FBQUEsSUFDTixNQUFNO0FBQUEsSUFDTixRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsRUFDVDtBQUVPLE1BQU0sYUFBYTtBQUFBLElBQ3hCLE1BQU0sa0JBQWtCO0FBQUEsTUFDdEIsU0FBUztBQUFBLE1BQ1QsY0FBYztBQUFBLElBQ2hCLENBQUM7QUFBQSxJQUVELE1BQU0sa0JBQWtCO0FBQUEsTUFDdEIsU0FBUztBQUFBLE1BQ1QsY0FBYztBQUFBLElBQ2hCLENBQUM7QUFBQSxJQUVELFVBQVUsa0JBQWtCO0FBQUEsTUFDMUIsU0FBUztBQUFBLE1BQ1QsY0FBYztBQUFBLElBQ2hCLENBQUM7QUFBQSxFQUNIOzs7QUN0Q0EsTUFBTSx1QkFBdUI7QUFBQSxJQUMzQixVQUFVO0FBQUEsSUFDVixXQUFXO0FBQUEsSUFDWCxPQUFPO0FBQUEsSUFDUCxVQUFVO0FBQUEsSUFDVixVQUFVO0FBQUEsSUFDVixPQUFPO0FBQUEsRUFDVDtBQUVPLE1BQU0saUJBQWlCLENBQUMsT0FBTyxPQUFPLFdBQVcsYUFDdEQscUJBQXFCLEtBQUs7OztBQytCckIsV0FBUyxnQkFBZ0IsTUFBTTtBQUNwQyxXQUFPLENBQUMsT0FBTyxZQUFZO0FBQ3pCLFlBQU0sVUFBVSxTQUFTLFVBQVUsT0FBTyxRQUFRLE9BQU8sSUFBSTtBQUU3RCxVQUFJO0FBQ0osVUFBSSxZQUFZLGdCQUFnQixLQUFLLGtCQUFrQjtBQUNyRCxjQUFNLGVBQWUsS0FBSywwQkFBMEIsS0FBSztBQUN6RCxjQUFNLFFBQVEsU0FBUyxRQUFRLE9BQU8sUUFBUSxLQUFLLElBQUk7QUFFdkQsc0JBQ0UsS0FBSyxpQkFBaUIsS0FBSyxLQUFLLEtBQUssaUJBQWlCLFlBQVk7QUFBQSxNQUN0RSxPQUFPO0FBQ0wsY0FBTSxlQUFlLEtBQUs7QUFDMUIsY0FBTSxRQUFRLFNBQVMsUUFBUSxPQUFPLFFBQVEsS0FBSyxJQUFJLEtBQUs7QUFFNUQsc0JBQWMsS0FBSyxPQUFPLEtBQUssS0FBSyxLQUFLLE9BQU8sWUFBWTtBQUFBLE1BQzlEO0FBQ0EsWUFBTSxRQUFRLEtBQUssbUJBQW1CLEtBQUssaUJBQWlCLEtBQUssSUFBSTtBQUdyRSxhQUFPLFlBQVksS0FBSztBQUFBLElBQzFCO0FBQUEsRUFDRjs7O0FDN0RBLE1BQU0sWUFBWTtBQUFBLElBQ2hCLFFBQVEsQ0FBQyxLQUFLLEdBQUc7QUFBQSxJQUNqQixhQUFhLENBQUMsTUFBTSxJQUFJO0FBQUEsSUFDeEIsTUFBTSxDQUFDLGlCQUFpQixhQUFhO0FBQUEsRUFDdkM7QUFFQSxNQUFNLGdCQUFnQjtBQUFBLElBQ3BCLFFBQVEsQ0FBQyxLQUFLLEtBQUssS0FBSyxHQUFHO0FBQUEsSUFDM0IsYUFBYSxDQUFDLE1BQU0sTUFBTSxNQUFNLElBQUk7QUFBQSxJQUNwQyxNQUFNLENBQUMsZUFBZSxlQUFlLGVBQWUsYUFBYTtBQUFBLEVBQ25FO0FBTUEsTUFBTSxjQUFjO0FBQUEsSUFDbEIsUUFBUSxDQUFDLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxHQUFHO0FBQUEsSUFDbkUsYUFBYTtBQUFBLE1BQ1g7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0Y7QUFBQSxJQUVBLE1BQU07QUFBQSxNQUNKO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUVBLE1BQU0sWUFBWTtBQUFBLElBQ2hCLFFBQVEsQ0FBQyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxHQUFHO0FBQUEsSUFDMUMsT0FBTyxDQUFDLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLElBQUk7QUFBQSxJQUNoRCxhQUFhLENBQUMsT0FBTyxPQUFPLE9BQU8sT0FBTyxPQUFPLE9BQU8sS0FBSztBQUFBLElBQzdELE1BQU07QUFBQSxNQUNKO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFFQSxNQUFNLGtCQUFrQjtBQUFBLElBQ3RCLFFBQVE7QUFBQSxNQUNOLElBQUk7QUFBQSxNQUNKLElBQUk7QUFBQSxNQUNKLFVBQVU7QUFBQSxNQUNWLE1BQU07QUFBQSxNQUNOLFNBQVM7QUFBQSxNQUNULFdBQVc7QUFBQSxNQUNYLFNBQVM7QUFBQSxNQUNULE9BQU87QUFBQSxJQUNUO0FBQUEsSUFDQSxhQUFhO0FBQUEsTUFDWCxJQUFJO0FBQUEsTUFDSixJQUFJO0FBQUEsTUFDSixVQUFVO0FBQUEsTUFDVixNQUFNO0FBQUEsTUFDTixTQUFTO0FBQUEsTUFDVCxXQUFXO0FBQUEsTUFDWCxTQUFTO0FBQUEsTUFDVCxPQUFPO0FBQUEsSUFDVDtBQUFBLElBQ0EsTUFBTTtBQUFBLE1BQ0osSUFBSTtBQUFBLE1BQ0osSUFBSTtBQUFBLE1BQ0osVUFBVTtBQUFBLE1BQ1YsTUFBTTtBQUFBLE1BQ04sU0FBUztBQUFBLE1BQ1QsV0FBVztBQUFBLE1BQ1gsU0FBUztBQUFBLE1BQ1QsT0FBTztBQUFBLElBQ1Q7QUFBQSxFQUNGO0FBRUEsTUFBTSw0QkFBNEI7QUFBQSxJQUNoQyxRQUFRO0FBQUEsTUFDTixJQUFJO0FBQUEsTUFDSixJQUFJO0FBQUEsTUFDSixVQUFVO0FBQUEsTUFDVixNQUFNO0FBQUEsTUFDTixTQUFTO0FBQUEsTUFDVCxXQUFXO0FBQUEsTUFDWCxTQUFTO0FBQUEsTUFDVCxPQUFPO0FBQUEsSUFDVDtBQUFBLElBQ0EsYUFBYTtBQUFBLE1BQ1gsSUFBSTtBQUFBLE1BQ0osSUFBSTtBQUFBLE1BQ0osVUFBVTtBQUFBLE1BQ1YsTUFBTTtBQUFBLE1BQ04sU0FBUztBQUFBLE1BQ1QsV0FBVztBQUFBLE1BQ1gsU0FBUztBQUFBLE1BQ1QsT0FBTztBQUFBLElBQ1Q7QUFBQSxJQUNBLE1BQU07QUFBQSxNQUNKLElBQUk7QUFBQSxNQUNKLElBQUk7QUFBQSxNQUNKLFVBQVU7QUFBQSxNQUNWLE1BQU07QUFBQSxNQUNOLFNBQVM7QUFBQSxNQUNULFdBQVc7QUFBQSxNQUNYLFNBQVM7QUFBQSxNQUNULE9BQU87QUFBQSxJQUNUO0FBQUEsRUFDRjtBQUVBLE1BQU0sZ0JBQWdCLENBQUMsYUFBYSxhQUFhO0FBQy9DLFVBQU0sU0FBUyxPQUFPLFdBQVc7QUFTakMsVUFBTSxTQUFTLFNBQVM7QUFDeEIsUUFBSSxTQUFTLE1BQU0sU0FBUyxJQUFJO0FBQzlCLGNBQVEsU0FBUyxJQUFJO0FBQUEsUUFDbkIsS0FBSztBQUNILGlCQUFPLFNBQVM7QUFBQSxRQUNsQixLQUFLO0FBQ0gsaUJBQU8sU0FBUztBQUFBLFFBQ2xCLEtBQUs7QUFDSCxpQkFBTyxTQUFTO0FBQUEsTUFDcEI7QUFBQSxJQUNGO0FBQ0EsV0FBTyxTQUFTO0FBQUEsRUFDbEI7QUFFTyxNQUFNLFdBQVc7QUFBQSxJQUN0QjtBQUFBLElBRUEsS0FBSyxnQkFBZ0I7QUFBQSxNQUNuQixRQUFRO0FBQUEsTUFDUixjQUFjO0FBQUEsSUFDaEIsQ0FBQztBQUFBLElBRUQsU0FBUyxnQkFBZ0I7QUFBQSxNQUN2QixRQUFRO0FBQUEsTUFDUixjQUFjO0FBQUEsTUFDZCxrQkFBa0IsQ0FBQyxZQUFZLFVBQVU7QUFBQSxJQUMzQyxDQUFDO0FBQUEsSUFFRCxPQUFPLGdCQUFnQjtBQUFBLE1BQ3JCLFFBQVE7QUFBQSxNQUNSLGNBQWM7QUFBQSxJQUNoQixDQUFDO0FBQUEsSUFFRCxLQUFLLGdCQUFnQjtBQUFBLE1BQ25CLFFBQVE7QUFBQSxNQUNSLGNBQWM7QUFBQSxJQUNoQixDQUFDO0FBQUEsSUFFRCxXQUFXLGdCQUFnQjtBQUFBLE1BQ3pCLFFBQVE7QUFBQSxNQUNSLGNBQWM7QUFBQSxNQUNkLGtCQUFrQjtBQUFBLE1BQ2xCLHdCQUF3QjtBQUFBLElBQzFCLENBQUM7QUFBQSxFQUNIOzs7QUMxTE8sV0FBUyxhQUFhLE1BQU07QUFDakMsV0FBTyxDQUFDLFFBQVEsVUFBVSxDQUFDLE1BQU07QUFDL0IsWUFBTSxRQUFRLFFBQVE7QUFFdEIsWUFBTSxlQUNILFNBQVMsS0FBSyxjQUFjLEtBQUssS0FDbEMsS0FBSyxjQUFjLEtBQUssaUJBQWlCO0FBQzNDLFlBQU0sY0FBYyxPQUFPLE1BQU0sWUFBWTtBQUU3QyxVQUFJLENBQUMsYUFBYTtBQUNoQixlQUFPO0FBQUEsTUFDVDtBQUNBLFlBQU0sZ0JBQWdCLFlBQVksQ0FBQztBQUVuQyxZQUFNLGdCQUNILFNBQVMsS0FBSyxjQUFjLEtBQUssS0FDbEMsS0FBSyxjQUFjLEtBQUssaUJBQWlCO0FBRTNDLFlBQU0sTUFBTSxNQUFNLFFBQVEsYUFBYSxJQUNuQyxVQUFVLGVBQWUsQ0FBQyxZQUFZLFFBQVEsS0FBSyxhQUFhLENBQUM7QUFBQTtBQUFBLFFBRWpFLFFBQVEsZUFBZSxDQUFDLFlBQVksUUFBUSxLQUFLLGFBQWEsQ0FBQztBQUFBO0FBRW5FLFVBQUk7QUFFSixjQUFRLEtBQUssZ0JBQWdCLEtBQUssY0FBYyxHQUFHLElBQUk7QUFDdkQsY0FBUSxRQUFRO0FBQUE7QUFBQSxRQUVaLFFBQVEsY0FBYyxLQUFLO0FBQUEsVUFDM0I7QUFFSixZQUFNLE9BQU8sT0FBTyxNQUFNLGNBQWMsTUFBTTtBQUU5QyxhQUFPLEVBQUUsT0FBTyxLQUFLO0FBQUEsSUFDdkI7QUFBQSxFQUNGO0FBRUEsV0FBUyxRQUFRLFFBQVEsV0FBVztBQUNsQyxlQUFXLE9BQU8sUUFBUTtBQUN4QixVQUNFLE9BQU8sVUFBVSxlQUFlLEtBQUssUUFBUSxHQUFHLEtBQ2hELFVBQVUsT0FBTyxHQUFHLENBQUMsR0FDckI7QUFDQSxlQUFPO0FBQUEsTUFDVDtBQUFBLElBQ0Y7QUFDQSxXQUFPO0FBQUEsRUFDVDtBQUVBLFdBQVMsVUFBVSxPQUFPLFdBQVc7QUFDbkMsYUFBUyxNQUFNLEdBQUcsTUFBTSxNQUFNLFFBQVEsT0FBTztBQUMzQyxVQUFJLFVBQVUsTUFBTSxHQUFHLENBQUMsR0FBRztBQUN6QixlQUFPO0FBQUEsTUFDVDtBQUFBLElBQ0Y7QUFDQSxXQUFPO0FBQUEsRUFDVDs7O0FDeERPLFdBQVMsb0JBQW9CLE1BQU07QUFDeEMsV0FBTyxDQUFDLFFBQVEsVUFBVSxDQUFDLE1BQU07QUFDL0IsWUFBTSxjQUFjLE9BQU8sTUFBTSxLQUFLLFlBQVk7QUFDbEQsVUFBSSxDQUFDLFlBQWEsUUFBTztBQUN6QixZQUFNLGdCQUFnQixZQUFZLENBQUM7QUFFbkMsWUFBTSxjQUFjLE9BQU8sTUFBTSxLQUFLLFlBQVk7QUFDbEQsVUFBSSxDQUFDLFlBQWEsUUFBTztBQUN6QixVQUFJLFFBQVEsS0FBSyxnQkFDYixLQUFLLGNBQWMsWUFBWSxDQUFDLENBQUMsSUFDakMsWUFBWSxDQUFDO0FBR2pCLGNBQVEsUUFBUSxnQkFBZ0IsUUFBUSxjQUFjLEtBQUssSUFBSTtBQUUvRCxZQUFNLE9BQU8sT0FBTyxNQUFNLGNBQWMsTUFBTTtBQUU5QyxhQUFPLEVBQUUsT0FBTyxLQUFLO0FBQUEsSUFDdkI7QUFBQSxFQUNGOzs7QUNoQkEsTUFBTSw0QkFBNEI7QUFDbEMsTUFBTSw0QkFBNEI7QUFFbEMsTUFBTSxtQkFBbUI7QUFBQSxJQUN2QixRQUFRO0FBQUEsSUFDUixhQUFhO0FBQUEsSUFDYixNQUFNO0FBQUEsRUFDUjtBQUNBLE1BQU0sbUJBQW1CO0FBQUEsSUFDdkIsS0FBSyxDQUFDLE9BQU8sU0FBUztBQUFBLEVBQ3hCO0FBRUEsTUFBTSx1QkFBdUI7QUFBQSxJQUMzQixRQUFRO0FBQUEsSUFDUixhQUFhO0FBQUEsSUFDYixNQUFNO0FBQUEsRUFDUjtBQUNBLE1BQU0sdUJBQXVCO0FBQUEsSUFDM0IsS0FBSyxDQUFDLE1BQU0sTUFBTSxNQUFNLElBQUk7QUFBQSxFQUM5QjtBQUVBLE1BQU0scUJBQXFCO0FBQUEsSUFDekIsUUFBUTtBQUFBLElBQ1IsYUFBYTtBQUFBLElBQ2IsTUFBTTtBQUFBLEVBQ1I7QUFDQSxNQUFNLHFCQUFxQjtBQUFBLElBQ3pCLFFBQVE7QUFBQSxNQUNOO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNGO0FBQUEsSUFFQSxLQUFLO0FBQUEsTUFDSDtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFFQSxNQUFNLG1CQUFtQjtBQUFBLElBQ3ZCLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLGFBQWE7QUFBQSxJQUNiLE1BQU07QUFBQSxFQUNSO0FBQ0EsTUFBTSxtQkFBbUI7QUFBQSxJQUN2QixRQUFRLENBQUMsT0FBTyxPQUFPLE9BQU8sT0FBTyxPQUFPLE9BQU8sS0FBSztBQUFBLElBQ3hELEtBQUssQ0FBQyxRQUFRLE9BQU8sUUFBUSxPQUFPLFFBQVEsT0FBTyxNQUFNO0FBQUEsRUFDM0Q7QUFFQSxNQUFNLHlCQUF5QjtBQUFBLElBQzdCLFFBQVE7QUFBQSxJQUNSLEtBQUs7QUFBQSxFQUNQO0FBQ0EsTUFBTSx5QkFBeUI7QUFBQSxJQUM3QixLQUFLO0FBQUEsTUFDSCxJQUFJO0FBQUEsTUFDSixJQUFJO0FBQUEsTUFDSixVQUFVO0FBQUEsTUFDVixNQUFNO0FBQUEsTUFDTixTQUFTO0FBQUEsTUFDVCxXQUFXO0FBQUEsTUFDWCxTQUFTO0FBQUEsTUFDVCxPQUFPO0FBQUEsSUFDVDtBQUFBLEVBQ0Y7QUFFTyxNQUFNLFFBQVE7QUFBQSxJQUNuQixlQUFlLG9CQUFvQjtBQUFBLE1BQ2pDLGNBQWM7QUFBQSxNQUNkLGNBQWM7QUFBQSxNQUNkLGVBQWUsQ0FBQyxVQUFVLFNBQVMsT0FBTyxFQUFFO0FBQUEsSUFDOUMsQ0FBQztBQUFBLElBRUQsS0FBSyxhQUFhO0FBQUEsTUFDaEIsZUFBZTtBQUFBLE1BQ2YsbUJBQW1CO0FBQUEsTUFDbkIsZUFBZTtBQUFBLE1BQ2YsbUJBQW1CO0FBQUEsSUFDckIsQ0FBQztBQUFBLElBRUQsU0FBUyxhQUFhO0FBQUEsTUFDcEIsZUFBZTtBQUFBLE1BQ2YsbUJBQW1CO0FBQUEsTUFDbkIsZUFBZTtBQUFBLE1BQ2YsbUJBQW1CO0FBQUEsTUFDbkIsZUFBZSxDQUFDLFVBQVUsUUFBUTtBQUFBLElBQ3BDLENBQUM7QUFBQSxJQUVELE9BQU8sYUFBYTtBQUFBLE1BQ2xCLGVBQWU7QUFBQSxNQUNmLG1CQUFtQjtBQUFBLE1BQ25CLGVBQWU7QUFBQSxNQUNmLG1CQUFtQjtBQUFBLElBQ3JCLENBQUM7QUFBQSxJQUVELEtBQUssYUFBYTtBQUFBLE1BQ2hCLGVBQWU7QUFBQSxNQUNmLG1CQUFtQjtBQUFBLE1BQ25CLGVBQWU7QUFBQSxNQUNmLG1CQUFtQjtBQUFBLElBQ3JCLENBQUM7QUFBQSxJQUVELFdBQVcsYUFBYTtBQUFBLE1BQ3RCLGVBQWU7QUFBQSxNQUNmLG1CQUFtQjtBQUFBLE1BQ25CLGVBQWU7QUFBQSxNQUNmLG1CQUFtQjtBQUFBLElBQ3JCLENBQUM7QUFBQSxFQUNIOzs7QUNySE8sTUFBTSxPQUFPO0FBQUEsSUFDbEIsTUFBTTtBQUFBLElBQ047QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQSxTQUFTO0FBQUEsTUFDUCxjQUFjO0FBQUEsTUFDZCx1QkFBdUI7QUFBQSxJQUN6QjtBQUFBLEVBQ0Y7OztBQ0ZPLFdBQVMsYUFBYSxNQUFNO0FBQ2pDLFVBQU0sUUFBUSxPQUFPLElBQUk7QUFDekIsVUFBTSxPQUFPLHlCQUF5QixPQUFPLFlBQVksS0FBSyxDQUFDO0FBQy9ELFVBQU0sWUFBWSxPQUFPO0FBQ3pCLFdBQU87QUFBQSxFQUNUOzs7QUNGTyxXQUFTLFdBQVcsTUFBTTtBQUMvQixVQUFNLFFBQVEsT0FBTyxJQUFJO0FBQ3pCLFVBQU0sT0FBTyxDQUFDLGVBQWUsS0FBSyxJQUFJLENBQUMsbUJBQW1CLEtBQUs7QUFLL0QsV0FBTyxLQUFLLE1BQU0sT0FBTyxrQkFBa0IsSUFBSTtBQUFBLEVBQ2pEOzs7QUNXTyxXQUFTLFlBQVksTUFBTSxTQUFTO0FBQ3pDLFVBQU0sUUFBUSxPQUFPLElBQUk7QUFDekIsVUFBTSxPQUFPLE1BQU0sWUFBWTtBQUUvQixVQUFNQyxrQkFBaUIsa0JBQWtCO0FBQ3pDLFVBQU0sd0JBQ0osU0FBUyx5QkFDVCxTQUFTLFFBQVEsU0FBUyx5QkFDMUJBLGdCQUFlLHlCQUNmQSxnQkFBZSxRQUFRLFNBQVMseUJBQ2hDO0FBRUYsVUFBTSxzQkFBc0IsY0FBYyxNQUFNLENBQUM7QUFDakQsd0JBQW9CLFlBQVksT0FBTyxHQUFHLEdBQUcscUJBQXFCO0FBQ2xFLHdCQUFvQixTQUFTLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFDdkMsVUFBTSxrQkFBa0IsWUFBWSxxQkFBcUIsT0FBTztBQUVoRSxVQUFNLHNCQUFzQixjQUFjLE1BQU0sQ0FBQztBQUNqRCx3QkFBb0IsWUFBWSxNQUFNLEdBQUcscUJBQXFCO0FBQzlELHdCQUFvQixTQUFTLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFDdkMsVUFBTSxrQkFBa0IsWUFBWSxxQkFBcUIsT0FBTztBQUVoRSxRQUFJLE1BQU0sUUFBUSxLQUFLLGdCQUFnQixRQUFRLEdBQUc7QUFDaEQsYUFBTyxPQUFPO0FBQUEsSUFDaEIsV0FBVyxNQUFNLFFBQVEsS0FBSyxnQkFBZ0IsUUFBUSxHQUFHO0FBQ3ZELGFBQU87QUFBQSxJQUNULE9BQU87QUFDTCxhQUFPLE9BQU87QUFBQSxJQUNoQjtBQUFBLEVBQ0Y7OztBQzdCTyxXQUFTLGdCQUFnQixNQUFNLFNBQVM7QUFDN0MsVUFBTUMsa0JBQWlCLGtCQUFrQjtBQUN6QyxVQUFNLHdCQUNKLFNBQVMseUJBQ1QsU0FBUyxRQUFRLFNBQVMseUJBQzFCQSxnQkFBZSx5QkFDZkEsZ0JBQWUsUUFBUSxTQUFTLHlCQUNoQztBQUVGLFVBQU0sT0FBTyxZQUFZLE1BQU0sT0FBTztBQUN0QyxVQUFNLFlBQVksY0FBYyxNQUFNLENBQUM7QUFDdkMsY0FBVSxZQUFZLE1BQU0sR0FBRyxxQkFBcUI7QUFDcEQsY0FBVSxTQUFTLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFDN0IsVUFBTSxRQUFRLFlBQVksV0FBVyxPQUFPO0FBQzVDLFdBQU87QUFBQSxFQUNUOzs7QUNkTyxXQUFTLFFBQVEsTUFBTSxTQUFTO0FBQ3JDLFVBQU0sUUFBUSxPQUFPLElBQUk7QUFDekIsVUFBTSxPQUFPLENBQUMsWUFBWSxPQUFPLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixPQUFPLE9BQU87QUFLM0UsV0FBTyxLQUFLLE1BQU0sT0FBTyxrQkFBa0IsSUFBSTtBQUFBLEVBQ2pEOzs7QUN0RE8sV0FBUyxnQkFBZ0IsUUFBUSxjQUFjO0FBQ3BELFVBQU0sT0FBTyxTQUFTLElBQUksTUFBTTtBQUNoQyxVQUFNLFNBQVMsS0FBSyxJQUFJLE1BQU0sRUFBRSxTQUFTLEVBQUUsU0FBUyxjQUFjLEdBQUc7QUFDckUsV0FBTyxPQUFPO0FBQUEsRUFDaEI7OztBQ1dPLE1BQU0sa0JBQWtCO0FBQUE7QUFBQSxJQUU3QixFQUFFLE1BQU0sT0FBTztBQVViLFlBQU0sYUFBYSxLQUFLLFlBQVk7QUFFcEMsWUFBTSxPQUFPLGFBQWEsSUFBSSxhQUFhLElBQUk7QUFDL0MsYUFBTyxnQkFBZ0IsVUFBVSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUFBLElBQ3pFO0FBQUE7QUFBQSxJQUdBLEVBQUUsTUFBTSxPQUFPO0FBQ2IsWUFBTSxRQUFRLEtBQUssU0FBUztBQUM1QixhQUFPLFVBQVUsTUFBTSxPQUFPLFFBQVEsQ0FBQyxJQUFJLGdCQUFnQixRQUFRLEdBQUcsQ0FBQztBQUFBLElBQ3pFO0FBQUE7QUFBQSxJQUdBLEVBQUUsTUFBTSxPQUFPO0FBQ2IsYUFBTyxnQkFBZ0IsS0FBSyxRQUFRLEdBQUcsTUFBTSxNQUFNO0FBQUEsSUFDckQ7QUFBQTtBQUFBLElBR0EsRUFBRSxNQUFNLE9BQU87QUFDYixZQUFNLHFCQUFxQixLQUFLLFNBQVMsSUFBSSxNQUFNLElBQUksT0FBTztBQUU5RCxjQUFRLE9BQU87QUFBQSxRQUNiLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDSCxpQkFBTyxtQkFBbUIsWUFBWTtBQUFBLFFBQ3hDLEtBQUs7QUFDSCxpQkFBTztBQUFBLFFBQ1QsS0FBSztBQUNILGlCQUFPLG1CQUFtQixDQUFDO0FBQUEsUUFDN0IsS0FBSztBQUFBLFFBQ0w7QUFDRSxpQkFBTyx1QkFBdUIsT0FBTyxTQUFTO0FBQUEsTUFDbEQ7QUFBQSxJQUNGO0FBQUE7QUFBQSxJQUdBLEVBQUUsTUFBTSxPQUFPO0FBQ2IsYUFBTyxnQkFBZ0IsS0FBSyxTQUFTLElBQUksTUFBTSxJQUFJLE1BQU0sTUFBTTtBQUFBLElBQ2pFO0FBQUE7QUFBQSxJQUdBLEVBQUUsTUFBTSxPQUFPO0FBQ2IsYUFBTyxnQkFBZ0IsS0FBSyxTQUFTLEdBQUcsTUFBTSxNQUFNO0FBQUEsSUFDdEQ7QUFBQTtBQUFBLElBR0EsRUFBRSxNQUFNLE9BQU87QUFDYixhQUFPLGdCQUFnQixLQUFLLFdBQVcsR0FBRyxNQUFNLE1BQU07QUFBQSxJQUN4RDtBQUFBO0FBQUEsSUFHQSxFQUFFLE1BQU0sT0FBTztBQUNiLGFBQU8sZ0JBQWdCLEtBQUssV0FBVyxHQUFHLE1BQU0sTUFBTTtBQUFBLElBQ3hEO0FBQUE7QUFBQSxJQUdBLEVBQUUsTUFBTSxPQUFPO0FBQ2IsWUFBTSxpQkFBaUIsTUFBTTtBQUM3QixZQUFNLGVBQWUsS0FBSyxnQkFBZ0I7QUFDMUMsWUFBTSxvQkFBb0IsS0FBSztBQUFBLFFBQzdCLGVBQWUsS0FBSyxJQUFJLElBQUksaUJBQWlCLENBQUM7QUFBQSxNQUNoRDtBQUNBLGFBQU8sZ0JBQWdCLG1CQUFtQixNQUFNLE1BQU07QUFBQSxJQUN4RDtBQUFBLEVBQ0Y7OztBQ25GQSxNQUFNLGdCQUFnQjtBQUFBLElBQ3BCLElBQUk7QUFBQSxJQUNKLElBQUk7QUFBQSxJQUNKLFVBQVU7QUFBQSxJQUNWLE1BQU07QUFBQSxJQUNOLFNBQVM7QUFBQSxJQUNULFdBQVc7QUFBQSxJQUNYLFNBQVM7QUFBQSxJQUNULE9BQU87QUFBQSxFQUNUO0FBZ0RPLE1BQU0sYUFBYTtBQUFBO0FBQUEsSUFFeEIsR0FBRyxTQUFVLE1BQU0sT0FBT0MsV0FBVTtBQUNsQyxZQUFNLE1BQU0sS0FBSyxZQUFZLElBQUksSUFBSSxJQUFJO0FBQ3pDLGNBQVEsT0FBTztBQUFBLFFBRWIsS0FBSztBQUFBLFFBQ0wsS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNILGlCQUFPQSxVQUFTLElBQUksS0FBSyxFQUFFLE9BQU8sY0FBYyxDQUFDO0FBQUEsUUFFbkQsS0FBSztBQUNILGlCQUFPQSxVQUFTLElBQUksS0FBSyxFQUFFLE9BQU8sU0FBUyxDQUFDO0FBQUEsUUFFOUMsS0FBSztBQUFBLFFBQ0w7QUFDRSxpQkFBT0EsVUFBUyxJQUFJLEtBQUssRUFBRSxPQUFPLE9BQU8sQ0FBQztBQUFBLE1BQzlDO0FBQUEsSUFDRjtBQUFBO0FBQUEsSUFHQSxHQUFHLFNBQVUsTUFBTSxPQUFPQSxXQUFVO0FBRWxDLFVBQUksVUFBVSxNQUFNO0FBQ2xCLGNBQU0sYUFBYSxLQUFLLFlBQVk7QUFFcEMsY0FBTSxPQUFPLGFBQWEsSUFBSSxhQUFhLElBQUk7QUFDL0MsZUFBT0EsVUFBUyxjQUFjLE1BQU0sRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUFBLE1BQ3REO0FBRUEsYUFBTyxnQkFBZ0IsRUFBRSxNQUFNLEtBQUs7QUFBQSxJQUN0QztBQUFBO0FBQUEsSUFHQSxHQUFHLFNBQVUsTUFBTSxPQUFPQSxXQUFVLFNBQVM7QUFDM0MsWUFBTSxpQkFBaUIsWUFBWSxNQUFNLE9BQU87QUFFaEQsWUFBTSxXQUFXLGlCQUFpQixJQUFJLGlCQUFpQixJQUFJO0FBRzNELFVBQUksVUFBVSxNQUFNO0FBQ2xCLGNBQU0sZUFBZSxXQUFXO0FBQ2hDLGVBQU8sZ0JBQWdCLGNBQWMsQ0FBQztBQUFBLE1BQ3hDO0FBR0EsVUFBSSxVQUFVLE1BQU07QUFDbEIsZUFBT0EsVUFBUyxjQUFjLFVBQVUsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUFBLE1BQzFEO0FBR0EsYUFBTyxnQkFBZ0IsVUFBVSxNQUFNLE1BQU07QUFBQSxJQUMvQztBQUFBO0FBQUEsSUFHQSxHQUFHLFNBQVUsTUFBTSxPQUFPO0FBQ3hCLFlBQU0sY0FBYyxlQUFlLElBQUk7QUFHdkMsYUFBTyxnQkFBZ0IsYUFBYSxNQUFNLE1BQU07QUFBQSxJQUNsRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBV0EsR0FBRyxTQUFVLE1BQU0sT0FBTztBQUN4QixZQUFNLE9BQU8sS0FBSyxZQUFZO0FBQzlCLGFBQU8sZ0JBQWdCLE1BQU0sTUFBTSxNQUFNO0FBQUEsSUFDM0M7QUFBQTtBQUFBLElBR0EsR0FBRyxTQUFVLE1BQU0sT0FBT0EsV0FBVTtBQUNsQyxZQUFNLFVBQVUsS0FBSyxNQUFNLEtBQUssU0FBUyxJQUFJLEtBQUssQ0FBQztBQUNuRCxjQUFRLE9BQU87QUFBQSxRQUViLEtBQUs7QUFDSCxpQkFBTyxPQUFPLE9BQU87QUFBQSxRQUV2QixLQUFLO0FBQ0gsaUJBQU8sZ0JBQWdCLFNBQVMsQ0FBQztBQUFBLFFBRW5DLEtBQUs7QUFDSCxpQkFBT0EsVUFBUyxjQUFjLFNBQVMsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUFBLFFBRTVELEtBQUs7QUFDSCxpQkFBT0EsVUFBUyxRQUFRLFNBQVM7QUFBQSxZQUMvQixPQUFPO0FBQUEsWUFDUCxTQUFTO0FBQUEsVUFDWCxDQUFDO0FBQUEsUUFFSCxLQUFLO0FBQ0gsaUJBQU9BLFVBQVMsUUFBUSxTQUFTO0FBQUEsWUFDL0IsT0FBTztBQUFBLFlBQ1AsU0FBUztBQUFBLFVBQ1gsQ0FBQztBQUFBLFFBRUgsS0FBSztBQUFBLFFBQ0w7QUFDRSxpQkFBT0EsVUFBUyxRQUFRLFNBQVM7QUFBQSxZQUMvQixPQUFPO0FBQUEsWUFDUCxTQUFTO0FBQUEsVUFDWCxDQUFDO0FBQUEsTUFDTDtBQUFBLElBQ0Y7QUFBQTtBQUFBLElBR0EsR0FBRyxTQUFVLE1BQU0sT0FBT0EsV0FBVTtBQUNsQyxZQUFNLFVBQVUsS0FBSyxNQUFNLEtBQUssU0FBUyxJQUFJLEtBQUssQ0FBQztBQUNuRCxjQUFRLE9BQU87QUFBQSxRQUViLEtBQUs7QUFDSCxpQkFBTyxPQUFPLE9BQU87QUFBQSxRQUV2QixLQUFLO0FBQ0gsaUJBQU8sZ0JBQWdCLFNBQVMsQ0FBQztBQUFBLFFBRW5DLEtBQUs7QUFDSCxpQkFBT0EsVUFBUyxjQUFjLFNBQVMsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUFBLFFBRTVELEtBQUs7QUFDSCxpQkFBT0EsVUFBUyxRQUFRLFNBQVM7QUFBQSxZQUMvQixPQUFPO0FBQUEsWUFDUCxTQUFTO0FBQUEsVUFDWCxDQUFDO0FBQUEsUUFFSCxLQUFLO0FBQ0gsaUJBQU9BLFVBQVMsUUFBUSxTQUFTO0FBQUEsWUFDL0IsT0FBTztBQUFBLFlBQ1AsU0FBUztBQUFBLFVBQ1gsQ0FBQztBQUFBLFFBRUgsS0FBSztBQUFBLFFBQ0w7QUFDRSxpQkFBT0EsVUFBUyxRQUFRLFNBQVM7QUFBQSxZQUMvQixPQUFPO0FBQUEsWUFDUCxTQUFTO0FBQUEsVUFDWCxDQUFDO0FBQUEsTUFDTDtBQUFBLElBQ0Y7QUFBQTtBQUFBLElBR0EsR0FBRyxTQUFVLE1BQU0sT0FBT0EsV0FBVTtBQUNsQyxZQUFNLFFBQVEsS0FBSyxTQUFTO0FBQzVCLGNBQVEsT0FBTztBQUFBLFFBQ2IsS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNILGlCQUFPLGdCQUFnQixFQUFFLE1BQU0sS0FBSztBQUFBLFFBRXRDLEtBQUs7QUFDSCxpQkFBT0EsVUFBUyxjQUFjLFFBQVEsR0FBRyxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBQUEsUUFFNUQsS0FBSztBQUNILGlCQUFPQSxVQUFTLE1BQU0sT0FBTztBQUFBLFlBQzNCLE9BQU87QUFBQSxZQUNQLFNBQVM7QUFBQSxVQUNYLENBQUM7QUFBQSxRQUVILEtBQUs7QUFDSCxpQkFBT0EsVUFBUyxNQUFNLE9BQU87QUFBQSxZQUMzQixPQUFPO0FBQUEsWUFDUCxTQUFTO0FBQUEsVUFDWCxDQUFDO0FBQUEsUUFFSCxLQUFLO0FBQUEsUUFDTDtBQUNFLGlCQUFPQSxVQUFTLE1BQU0sT0FBTyxFQUFFLE9BQU8sUUFBUSxTQUFTLGFBQWEsQ0FBQztBQUFBLE1BQ3pFO0FBQUEsSUFDRjtBQUFBO0FBQUEsSUFHQSxHQUFHLFNBQVUsTUFBTSxPQUFPQSxXQUFVO0FBQ2xDLFlBQU0sUUFBUSxLQUFLLFNBQVM7QUFDNUIsY0FBUSxPQUFPO0FBQUEsUUFFYixLQUFLO0FBQ0gsaUJBQU8sT0FBTyxRQUFRLENBQUM7QUFBQSxRQUV6QixLQUFLO0FBQ0gsaUJBQU8sZ0JBQWdCLFFBQVEsR0FBRyxDQUFDO0FBQUEsUUFFckMsS0FBSztBQUNILGlCQUFPQSxVQUFTLGNBQWMsUUFBUSxHQUFHLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFBQSxRQUU1RCxLQUFLO0FBQ0gsaUJBQU9BLFVBQVMsTUFBTSxPQUFPO0FBQUEsWUFDM0IsT0FBTztBQUFBLFlBQ1AsU0FBUztBQUFBLFVBQ1gsQ0FBQztBQUFBLFFBRUgsS0FBSztBQUNILGlCQUFPQSxVQUFTLE1BQU0sT0FBTztBQUFBLFlBQzNCLE9BQU87QUFBQSxZQUNQLFNBQVM7QUFBQSxVQUNYLENBQUM7QUFBQSxRQUVILEtBQUs7QUFBQSxRQUNMO0FBQ0UsaUJBQU9BLFVBQVMsTUFBTSxPQUFPLEVBQUUsT0FBTyxRQUFRLFNBQVMsYUFBYSxDQUFDO0FBQUEsTUFDekU7QUFBQSxJQUNGO0FBQUE7QUFBQSxJQUdBLEdBQUcsU0FBVSxNQUFNLE9BQU9BLFdBQVUsU0FBUztBQUMzQyxZQUFNLE9BQU8sUUFBUSxNQUFNLE9BQU87QUFFbEMsVUFBSSxVQUFVLE1BQU07QUFDbEIsZUFBT0EsVUFBUyxjQUFjLE1BQU0sRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUFBLE1BQ3REO0FBRUEsYUFBTyxnQkFBZ0IsTUFBTSxNQUFNLE1BQU07QUFBQSxJQUMzQztBQUFBO0FBQUEsSUFHQSxHQUFHLFNBQVUsTUFBTSxPQUFPQSxXQUFVO0FBQ2xDLFlBQU0sVUFBVSxXQUFXLElBQUk7QUFFL0IsVUFBSSxVQUFVLE1BQU07QUFDbEIsZUFBT0EsVUFBUyxjQUFjLFNBQVMsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUFBLE1BQ3pEO0FBRUEsYUFBTyxnQkFBZ0IsU0FBUyxNQUFNLE1BQU07QUFBQSxJQUM5QztBQUFBO0FBQUEsSUFHQSxHQUFHLFNBQVUsTUFBTSxPQUFPQSxXQUFVO0FBQ2xDLFVBQUksVUFBVSxNQUFNO0FBQ2xCLGVBQU9BLFVBQVMsY0FBYyxLQUFLLFFBQVEsR0FBRyxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQUEsTUFDaEU7QUFFQSxhQUFPLGdCQUFnQixFQUFFLE1BQU0sS0FBSztBQUFBLElBQ3RDO0FBQUE7QUFBQSxJQUdBLEdBQUcsU0FBVSxNQUFNLE9BQU9BLFdBQVU7QUFDbEMsWUFBTSxZQUFZLGFBQWEsSUFBSTtBQUVuQyxVQUFJLFVBQVUsTUFBTTtBQUNsQixlQUFPQSxVQUFTLGNBQWMsV0FBVyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQUEsTUFDaEU7QUFFQSxhQUFPLGdCQUFnQixXQUFXLE1BQU0sTUFBTTtBQUFBLElBQ2hEO0FBQUE7QUFBQSxJQUdBLEdBQUcsU0FBVSxNQUFNLE9BQU9BLFdBQVU7QUFDbEMsWUFBTSxZQUFZLEtBQUssT0FBTztBQUM5QixjQUFRLE9BQU87QUFBQSxRQUViLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDSCxpQkFBT0EsVUFBUyxJQUFJLFdBQVc7QUFBQSxZQUM3QixPQUFPO0FBQUEsWUFDUCxTQUFTO0FBQUEsVUFDWCxDQUFDO0FBQUEsUUFFSCxLQUFLO0FBQ0gsaUJBQU9BLFVBQVMsSUFBSSxXQUFXO0FBQUEsWUFDN0IsT0FBTztBQUFBLFlBQ1AsU0FBUztBQUFBLFVBQ1gsQ0FBQztBQUFBLFFBRUgsS0FBSztBQUNILGlCQUFPQSxVQUFTLElBQUksV0FBVztBQUFBLFlBQzdCLE9BQU87QUFBQSxZQUNQLFNBQVM7QUFBQSxVQUNYLENBQUM7QUFBQSxRQUVILEtBQUs7QUFBQSxRQUNMO0FBQ0UsaUJBQU9BLFVBQVMsSUFBSSxXQUFXO0FBQUEsWUFDN0IsT0FBTztBQUFBLFlBQ1AsU0FBUztBQUFBLFVBQ1gsQ0FBQztBQUFBLE1BQ0w7QUFBQSxJQUNGO0FBQUE7QUFBQSxJQUdBLEdBQUcsU0FBVSxNQUFNLE9BQU9BLFdBQVUsU0FBUztBQUMzQyxZQUFNLFlBQVksS0FBSyxPQUFPO0FBQzlCLFlBQU0sa0JBQWtCLFlBQVksUUFBUSxlQUFlLEtBQUssS0FBSztBQUNyRSxjQUFRLE9BQU87QUFBQSxRQUViLEtBQUs7QUFDSCxpQkFBTyxPQUFPLGNBQWM7QUFBQSxRQUU5QixLQUFLO0FBQ0gsaUJBQU8sZ0JBQWdCLGdCQUFnQixDQUFDO0FBQUEsUUFFMUMsS0FBSztBQUNILGlCQUFPQSxVQUFTLGNBQWMsZ0JBQWdCLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFBQSxRQUMvRCxLQUFLO0FBQ0gsaUJBQU9BLFVBQVMsSUFBSSxXQUFXO0FBQUEsWUFDN0IsT0FBTztBQUFBLFlBQ1AsU0FBUztBQUFBLFVBQ1gsQ0FBQztBQUFBLFFBRUgsS0FBSztBQUNILGlCQUFPQSxVQUFTLElBQUksV0FBVztBQUFBLFlBQzdCLE9BQU87QUFBQSxZQUNQLFNBQVM7QUFBQSxVQUNYLENBQUM7QUFBQSxRQUVILEtBQUs7QUFDSCxpQkFBT0EsVUFBUyxJQUFJLFdBQVc7QUFBQSxZQUM3QixPQUFPO0FBQUEsWUFDUCxTQUFTO0FBQUEsVUFDWCxDQUFDO0FBQUEsUUFFSCxLQUFLO0FBQUEsUUFDTDtBQUNFLGlCQUFPQSxVQUFTLElBQUksV0FBVztBQUFBLFlBQzdCLE9BQU87QUFBQSxZQUNQLFNBQVM7QUFBQSxVQUNYLENBQUM7QUFBQSxNQUNMO0FBQUEsSUFDRjtBQUFBO0FBQUEsSUFHQSxHQUFHLFNBQVUsTUFBTSxPQUFPQSxXQUFVLFNBQVM7QUFDM0MsWUFBTSxZQUFZLEtBQUssT0FBTztBQUM5QixZQUFNLGtCQUFrQixZQUFZLFFBQVEsZUFBZSxLQUFLLEtBQUs7QUFDckUsY0FBUSxPQUFPO0FBQUEsUUFFYixLQUFLO0FBQ0gsaUJBQU8sT0FBTyxjQUFjO0FBQUEsUUFFOUIsS0FBSztBQUNILGlCQUFPLGdCQUFnQixnQkFBZ0IsTUFBTSxNQUFNO0FBQUEsUUFFckQsS0FBSztBQUNILGlCQUFPQSxVQUFTLGNBQWMsZ0JBQWdCLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFBQSxRQUMvRCxLQUFLO0FBQ0gsaUJBQU9BLFVBQVMsSUFBSSxXQUFXO0FBQUEsWUFDN0IsT0FBTztBQUFBLFlBQ1AsU0FBUztBQUFBLFVBQ1gsQ0FBQztBQUFBLFFBRUgsS0FBSztBQUNILGlCQUFPQSxVQUFTLElBQUksV0FBVztBQUFBLFlBQzdCLE9BQU87QUFBQSxZQUNQLFNBQVM7QUFBQSxVQUNYLENBQUM7QUFBQSxRQUVILEtBQUs7QUFDSCxpQkFBT0EsVUFBUyxJQUFJLFdBQVc7QUFBQSxZQUM3QixPQUFPO0FBQUEsWUFDUCxTQUFTO0FBQUEsVUFDWCxDQUFDO0FBQUEsUUFFSCxLQUFLO0FBQUEsUUFDTDtBQUNFLGlCQUFPQSxVQUFTLElBQUksV0FBVztBQUFBLFlBQzdCLE9BQU87QUFBQSxZQUNQLFNBQVM7QUFBQSxVQUNYLENBQUM7QUFBQSxNQUNMO0FBQUEsSUFDRjtBQUFBO0FBQUEsSUFHQSxHQUFHLFNBQVUsTUFBTSxPQUFPQSxXQUFVO0FBQ2xDLFlBQU0sWUFBWSxLQUFLLE9BQU87QUFDOUIsWUFBTSxlQUFlLGNBQWMsSUFBSSxJQUFJO0FBQzNDLGNBQVEsT0FBTztBQUFBLFFBRWIsS0FBSztBQUNILGlCQUFPLE9BQU8sWUFBWTtBQUFBLFFBRTVCLEtBQUs7QUFDSCxpQkFBTyxnQkFBZ0IsY0FBYyxNQUFNLE1BQU07QUFBQSxRQUVuRCxLQUFLO0FBQ0gsaUJBQU9BLFVBQVMsY0FBYyxjQUFjLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFBQSxRQUU3RCxLQUFLO0FBQ0gsaUJBQU9BLFVBQVMsSUFBSSxXQUFXO0FBQUEsWUFDN0IsT0FBTztBQUFBLFlBQ1AsU0FBUztBQUFBLFVBQ1gsQ0FBQztBQUFBLFFBRUgsS0FBSztBQUNILGlCQUFPQSxVQUFTLElBQUksV0FBVztBQUFBLFlBQzdCLE9BQU87QUFBQSxZQUNQLFNBQVM7QUFBQSxVQUNYLENBQUM7QUFBQSxRQUVILEtBQUs7QUFDSCxpQkFBT0EsVUFBUyxJQUFJLFdBQVc7QUFBQSxZQUM3QixPQUFPO0FBQUEsWUFDUCxTQUFTO0FBQUEsVUFDWCxDQUFDO0FBQUEsUUFFSCxLQUFLO0FBQUEsUUFDTDtBQUNFLGlCQUFPQSxVQUFTLElBQUksV0FBVztBQUFBLFlBQzdCLE9BQU87QUFBQSxZQUNQLFNBQVM7QUFBQSxVQUNYLENBQUM7QUFBQSxNQUNMO0FBQUEsSUFDRjtBQUFBO0FBQUEsSUFHQSxHQUFHLFNBQVUsTUFBTSxPQUFPQSxXQUFVO0FBQ2xDLFlBQU0sUUFBUSxLQUFLLFNBQVM7QUFDNUIsWUFBTSxxQkFBcUIsUUFBUSxNQUFNLElBQUksT0FBTztBQUVwRCxjQUFRLE9BQU87QUFBQSxRQUNiLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDSCxpQkFBT0EsVUFBUyxVQUFVLG9CQUFvQjtBQUFBLFlBQzVDLE9BQU87QUFBQSxZQUNQLFNBQVM7QUFBQSxVQUNYLENBQUM7QUFBQSxRQUNILEtBQUs7QUFDSCxpQkFBT0EsVUFDSixVQUFVLG9CQUFvQjtBQUFBLFlBQzdCLE9BQU87QUFBQSxZQUNQLFNBQVM7QUFBQSxVQUNYLENBQUMsRUFDQSxZQUFZO0FBQUEsUUFDakIsS0FBSztBQUNILGlCQUFPQSxVQUFTLFVBQVUsb0JBQW9CO0FBQUEsWUFDNUMsT0FBTztBQUFBLFlBQ1AsU0FBUztBQUFBLFVBQ1gsQ0FBQztBQUFBLFFBQ0gsS0FBSztBQUFBLFFBQ0w7QUFDRSxpQkFBT0EsVUFBUyxVQUFVLG9CQUFvQjtBQUFBLFlBQzVDLE9BQU87QUFBQSxZQUNQLFNBQVM7QUFBQSxVQUNYLENBQUM7QUFBQSxNQUNMO0FBQUEsSUFDRjtBQUFBO0FBQUEsSUFHQSxHQUFHLFNBQVUsTUFBTSxPQUFPQSxXQUFVO0FBQ2xDLFlBQU0sUUFBUSxLQUFLLFNBQVM7QUFDNUIsVUFBSTtBQUNKLFVBQUksVUFBVSxJQUFJO0FBQ2hCLDZCQUFxQixjQUFjO0FBQUEsTUFDckMsV0FBVyxVQUFVLEdBQUc7QUFDdEIsNkJBQXFCLGNBQWM7QUFBQSxNQUNyQyxPQUFPO0FBQ0wsNkJBQXFCLFFBQVEsTUFBTSxJQUFJLE9BQU87QUFBQSxNQUNoRDtBQUVBLGNBQVEsT0FBTztBQUFBLFFBQ2IsS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNILGlCQUFPQSxVQUFTLFVBQVUsb0JBQW9CO0FBQUEsWUFDNUMsT0FBTztBQUFBLFlBQ1AsU0FBUztBQUFBLFVBQ1gsQ0FBQztBQUFBLFFBQ0gsS0FBSztBQUNILGlCQUFPQSxVQUNKLFVBQVUsb0JBQW9CO0FBQUEsWUFDN0IsT0FBTztBQUFBLFlBQ1AsU0FBUztBQUFBLFVBQ1gsQ0FBQyxFQUNBLFlBQVk7QUFBQSxRQUNqQixLQUFLO0FBQ0gsaUJBQU9BLFVBQVMsVUFBVSxvQkFBb0I7QUFBQSxZQUM1QyxPQUFPO0FBQUEsWUFDUCxTQUFTO0FBQUEsVUFDWCxDQUFDO0FBQUEsUUFDSCxLQUFLO0FBQUEsUUFDTDtBQUNFLGlCQUFPQSxVQUFTLFVBQVUsb0JBQW9CO0FBQUEsWUFDNUMsT0FBTztBQUFBLFlBQ1AsU0FBUztBQUFBLFVBQ1gsQ0FBQztBQUFBLE1BQ0w7QUFBQSxJQUNGO0FBQUE7QUFBQSxJQUdBLEdBQUcsU0FBVSxNQUFNLE9BQU9BLFdBQVU7QUFDbEMsWUFBTSxRQUFRLEtBQUssU0FBUztBQUM1QixVQUFJO0FBQ0osVUFBSSxTQUFTLElBQUk7QUFDZiw2QkFBcUIsY0FBYztBQUFBLE1BQ3JDLFdBQVcsU0FBUyxJQUFJO0FBQ3RCLDZCQUFxQixjQUFjO0FBQUEsTUFDckMsV0FBVyxTQUFTLEdBQUc7QUFDckIsNkJBQXFCLGNBQWM7QUFBQSxNQUNyQyxPQUFPO0FBQ0wsNkJBQXFCLGNBQWM7QUFBQSxNQUNyQztBQUVBLGNBQVEsT0FBTztBQUFBLFFBQ2IsS0FBSztBQUFBLFFBQ0wsS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNILGlCQUFPQSxVQUFTLFVBQVUsb0JBQW9CO0FBQUEsWUFDNUMsT0FBTztBQUFBLFlBQ1AsU0FBUztBQUFBLFVBQ1gsQ0FBQztBQUFBLFFBQ0gsS0FBSztBQUNILGlCQUFPQSxVQUFTLFVBQVUsb0JBQW9CO0FBQUEsWUFDNUMsT0FBTztBQUFBLFlBQ1AsU0FBUztBQUFBLFVBQ1gsQ0FBQztBQUFBLFFBQ0gsS0FBSztBQUFBLFFBQ0w7QUFDRSxpQkFBT0EsVUFBUyxVQUFVLG9CQUFvQjtBQUFBLFlBQzVDLE9BQU87QUFBQSxZQUNQLFNBQVM7QUFBQSxVQUNYLENBQUM7QUFBQSxNQUNMO0FBQUEsSUFDRjtBQUFBO0FBQUEsSUFHQSxHQUFHLFNBQVUsTUFBTSxPQUFPQSxXQUFVO0FBQ2xDLFVBQUksVUFBVSxNQUFNO0FBQ2xCLFlBQUksUUFBUSxLQUFLLFNBQVMsSUFBSTtBQUM5QixZQUFJLFVBQVUsRUFBRyxTQUFRO0FBQ3pCLGVBQU9BLFVBQVMsY0FBYyxPQUFPLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFBQSxNQUN2RDtBQUVBLGFBQU8sZ0JBQWdCLEVBQUUsTUFBTSxLQUFLO0FBQUEsSUFDdEM7QUFBQTtBQUFBLElBR0EsR0FBRyxTQUFVLE1BQU0sT0FBT0EsV0FBVTtBQUNsQyxVQUFJLFVBQVUsTUFBTTtBQUNsQixlQUFPQSxVQUFTLGNBQWMsS0FBSyxTQUFTLEdBQUcsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUFBLE1BQ2pFO0FBRUEsYUFBTyxnQkFBZ0IsRUFBRSxNQUFNLEtBQUs7QUFBQSxJQUN0QztBQUFBO0FBQUEsSUFHQSxHQUFHLFNBQVUsTUFBTSxPQUFPQSxXQUFVO0FBQ2xDLFlBQU0sUUFBUSxLQUFLLFNBQVMsSUFBSTtBQUVoQyxVQUFJLFVBQVUsTUFBTTtBQUNsQixlQUFPQSxVQUFTLGNBQWMsT0FBTyxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQUEsTUFDdkQ7QUFFQSxhQUFPLGdCQUFnQixPQUFPLE1BQU0sTUFBTTtBQUFBLElBQzVDO0FBQUE7QUFBQSxJQUdBLEdBQUcsU0FBVSxNQUFNLE9BQU9BLFdBQVU7QUFDbEMsVUFBSSxRQUFRLEtBQUssU0FBUztBQUMxQixVQUFJLFVBQVUsRUFBRyxTQUFRO0FBRXpCLFVBQUksVUFBVSxNQUFNO0FBQ2xCLGVBQU9BLFVBQVMsY0FBYyxPQUFPLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFBQSxNQUN2RDtBQUVBLGFBQU8sZ0JBQWdCLE9BQU8sTUFBTSxNQUFNO0FBQUEsSUFDNUM7QUFBQTtBQUFBLElBR0EsR0FBRyxTQUFVLE1BQU0sT0FBT0EsV0FBVTtBQUNsQyxVQUFJLFVBQVUsTUFBTTtBQUNsQixlQUFPQSxVQUFTLGNBQWMsS0FBSyxXQUFXLEdBQUcsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUFBLE1BQ3JFO0FBRUEsYUFBTyxnQkFBZ0IsRUFBRSxNQUFNLEtBQUs7QUFBQSxJQUN0QztBQUFBO0FBQUEsSUFHQSxHQUFHLFNBQVUsTUFBTSxPQUFPQSxXQUFVO0FBQ2xDLFVBQUksVUFBVSxNQUFNO0FBQ2xCLGVBQU9BLFVBQVMsY0FBYyxLQUFLLFdBQVcsR0FBRyxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBQUEsTUFDckU7QUFFQSxhQUFPLGdCQUFnQixFQUFFLE1BQU0sS0FBSztBQUFBLElBQ3RDO0FBQUE7QUFBQSxJQUdBLEdBQUcsU0FBVSxNQUFNLE9BQU87QUFDeEIsYUFBTyxnQkFBZ0IsRUFBRSxNQUFNLEtBQUs7QUFBQSxJQUN0QztBQUFBO0FBQUEsSUFHQSxHQUFHLFNBQVUsTUFBTSxPQUFPLFdBQVc7QUFDbkMsWUFBTSxpQkFBaUIsS0FBSyxrQkFBa0I7QUFFOUMsVUFBSSxtQkFBbUIsR0FBRztBQUN4QixlQUFPO0FBQUEsTUFDVDtBQUVBLGNBQVEsT0FBTztBQUFBLFFBRWIsS0FBSztBQUNILGlCQUFPLGtDQUFrQyxjQUFjO0FBQUEsUUFLekQsS0FBSztBQUFBLFFBQ0wsS0FBSztBQUNILGlCQUFPLGVBQWUsY0FBYztBQUFBLFFBS3RDLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFBQSxRQUNMO0FBQ0UsaUJBQU8sZUFBZSxnQkFBZ0IsR0FBRztBQUFBLE1BQzdDO0FBQUEsSUFDRjtBQUFBO0FBQUEsSUFHQSxHQUFHLFNBQVUsTUFBTSxPQUFPLFdBQVc7QUFDbkMsWUFBTSxpQkFBaUIsS0FBSyxrQkFBa0I7QUFFOUMsY0FBUSxPQUFPO0FBQUEsUUFFYixLQUFLO0FBQ0gsaUJBQU8sa0NBQWtDLGNBQWM7QUFBQSxRQUt6RCxLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0gsaUJBQU8sZUFBZSxjQUFjO0FBQUEsUUFLdEMsS0FBSztBQUFBLFFBQ0wsS0FBSztBQUFBLFFBQ0w7QUFDRSxpQkFBTyxlQUFlLGdCQUFnQixHQUFHO0FBQUEsTUFDN0M7QUFBQSxJQUNGO0FBQUE7QUFBQSxJQUdBLEdBQUcsU0FBVSxNQUFNLE9BQU8sV0FBVztBQUNuQyxZQUFNLGlCQUFpQixLQUFLLGtCQUFrQjtBQUU5QyxjQUFRLE9BQU87QUFBQSxRQUViLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDSCxpQkFBTyxRQUFRLG9CQUFvQixnQkFBZ0IsR0FBRztBQUFBLFFBRXhELEtBQUs7QUFBQSxRQUNMO0FBQ0UsaUJBQU8sUUFBUSxlQUFlLGdCQUFnQixHQUFHO0FBQUEsTUFDckQ7QUFBQSxJQUNGO0FBQUE7QUFBQSxJQUdBLEdBQUcsU0FBVSxNQUFNLE9BQU8sV0FBVztBQUNuQyxZQUFNLGlCQUFpQixLQUFLLGtCQUFrQjtBQUU5QyxjQUFRLE9BQU87QUFBQSxRQUViLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFDSCxpQkFBTyxRQUFRLG9CQUFvQixnQkFBZ0IsR0FBRztBQUFBLFFBRXhELEtBQUs7QUFBQSxRQUNMO0FBQ0UsaUJBQU8sUUFBUSxlQUFlLGdCQUFnQixHQUFHO0FBQUEsTUFDckQ7QUFBQSxJQUNGO0FBQUE7QUFBQSxJQUdBLEdBQUcsU0FBVSxNQUFNLE9BQU8sV0FBVztBQUNuQyxZQUFNLFlBQVksS0FBSyxNQUFNLEtBQUssUUFBUSxJQUFJLEdBQUk7QUFDbEQsYUFBTyxnQkFBZ0IsV0FBVyxNQUFNLE1BQU07QUFBQSxJQUNoRDtBQUFBO0FBQUEsSUFHQSxHQUFHLFNBQVUsTUFBTSxPQUFPLFdBQVc7QUFDbkMsWUFBTSxZQUFZLEtBQUssUUFBUTtBQUMvQixhQUFPLGdCQUFnQixXQUFXLE1BQU0sTUFBTTtBQUFBLElBQ2hEO0FBQUEsRUFDRjtBQUVBLFdBQVMsb0JBQW9CQyxTQUFRLFlBQVksSUFBSTtBQUNuRCxVQUFNLE9BQU9BLFVBQVMsSUFBSSxNQUFNO0FBQ2hDLFVBQU0sWUFBWSxLQUFLLElBQUlBLE9BQU07QUFDakMsVUFBTSxRQUFRLEtBQUssTUFBTSxZQUFZLEVBQUU7QUFDdkMsVUFBTSxVQUFVLFlBQVk7QUFDNUIsUUFBSSxZQUFZLEdBQUc7QUFDakIsYUFBTyxPQUFPLE9BQU8sS0FBSztBQUFBLElBQzVCO0FBQ0EsV0FBTyxPQUFPLE9BQU8sS0FBSyxJQUFJLFlBQVksZ0JBQWdCLFNBQVMsQ0FBQztBQUFBLEVBQ3RFO0FBRUEsV0FBUyxrQ0FBa0NBLFNBQVEsV0FBVztBQUM1RCxRQUFJQSxVQUFTLE9BQU8sR0FBRztBQUNyQixZQUFNLE9BQU9BLFVBQVMsSUFBSSxNQUFNO0FBQ2hDLGFBQU8sT0FBTyxnQkFBZ0IsS0FBSyxJQUFJQSxPQUFNLElBQUksSUFBSSxDQUFDO0FBQUEsSUFDeEQ7QUFDQSxXQUFPLGVBQWVBLFNBQVEsU0FBUztBQUFBLEVBQ3pDO0FBRUEsV0FBUyxlQUFlQSxTQUFRLFlBQVksSUFBSTtBQUM5QyxVQUFNLE9BQU9BLFVBQVMsSUFBSSxNQUFNO0FBQ2hDLFVBQU0sWUFBWSxLQUFLLElBQUlBLE9BQU07QUFDakMsVUFBTSxRQUFRLGdCQUFnQixLQUFLLE1BQU0sWUFBWSxFQUFFLEdBQUcsQ0FBQztBQUMzRCxVQUFNLFVBQVUsZ0JBQWdCLFlBQVksSUFBSSxDQUFDO0FBQ2pELFdBQU8sT0FBTyxRQUFRLFlBQVk7QUFBQSxFQUNwQzs7O0FDdndCQSxNQUFNLG9CQUFvQixDQUFDLFNBQVNDLGdCQUFlO0FBQ2pELFlBQVEsU0FBUztBQUFBLE1BQ2YsS0FBSztBQUNILGVBQU9BLFlBQVcsS0FBSyxFQUFFLE9BQU8sUUFBUSxDQUFDO0FBQUEsTUFDM0MsS0FBSztBQUNILGVBQU9BLFlBQVcsS0FBSyxFQUFFLE9BQU8sU0FBUyxDQUFDO0FBQUEsTUFDNUMsS0FBSztBQUNILGVBQU9BLFlBQVcsS0FBSyxFQUFFLE9BQU8sT0FBTyxDQUFDO0FBQUEsTUFDMUMsS0FBSztBQUFBLE1BQ0w7QUFDRSxlQUFPQSxZQUFXLEtBQUssRUFBRSxPQUFPLE9BQU8sQ0FBQztBQUFBLElBQzVDO0FBQUEsRUFDRjtBQUVBLE1BQU0sb0JBQW9CLENBQUMsU0FBU0EsZ0JBQWU7QUFDakQsWUFBUSxTQUFTO0FBQUEsTUFDZixLQUFLO0FBQ0gsZUFBT0EsWUFBVyxLQUFLLEVBQUUsT0FBTyxRQUFRLENBQUM7QUFBQSxNQUMzQyxLQUFLO0FBQ0gsZUFBT0EsWUFBVyxLQUFLLEVBQUUsT0FBTyxTQUFTLENBQUM7QUFBQSxNQUM1QyxLQUFLO0FBQ0gsZUFBT0EsWUFBVyxLQUFLLEVBQUUsT0FBTyxPQUFPLENBQUM7QUFBQSxNQUMxQyxLQUFLO0FBQUEsTUFDTDtBQUNFLGVBQU9BLFlBQVcsS0FBSyxFQUFFLE9BQU8sT0FBTyxDQUFDO0FBQUEsSUFDNUM7QUFBQSxFQUNGO0FBRUEsTUFBTSx3QkFBd0IsQ0FBQyxTQUFTQSxnQkFBZTtBQUNyRCxVQUFNLGNBQWMsUUFBUSxNQUFNLFdBQVcsS0FBSyxDQUFDO0FBQ25ELFVBQU0sY0FBYyxZQUFZLENBQUM7QUFDakMsVUFBTSxjQUFjLFlBQVksQ0FBQztBQUVqQyxRQUFJLENBQUMsYUFBYTtBQUNoQixhQUFPLGtCQUFrQixTQUFTQSxXQUFVO0FBQUEsSUFDOUM7QUFFQSxRQUFJO0FBRUosWUFBUSxhQUFhO0FBQUEsTUFDbkIsS0FBSztBQUNILHlCQUFpQkEsWUFBVyxTQUFTLEVBQUUsT0FBTyxRQUFRLENBQUM7QUFDdkQ7QUFBQSxNQUNGLEtBQUs7QUFDSCx5QkFBaUJBLFlBQVcsU0FBUyxFQUFFLE9BQU8sU0FBUyxDQUFDO0FBQ3hEO0FBQUEsTUFDRixLQUFLO0FBQ0gseUJBQWlCQSxZQUFXLFNBQVMsRUFBRSxPQUFPLE9BQU8sQ0FBQztBQUN0RDtBQUFBLE1BQ0YsS0FBSztBQUFBLE1BQ0w7QUFDRSx5QkFBaUJBLFlBQVcsU0FBUyxFQUFFLE9BQU8sT0FBTyxDQUFDO0FBQ3REO0FBQUEsSUFDSjtBQUVBLFdBQU8sZUFDSixRQUFRLFlBQVksa0JBQWtCLGFBQWFBLFdBQVUsQ0FBQyxFQUM5RCxRQUFRLFlBQVksa0JBQWtCLGFBQWFBLFdBQVUsQ0FBQztBQUFBLEVBQ25FO0FBRU8sTUFBTSxpQkFBaUI7QUFBQSxJQUM1QixHQUFHO0FBQUEsSUFDSCxHQUFHO0FBQUEsRUFDTDs7O0FDL0RBLE1BQU0sbUJBQW1CO0FBQ3pCLE1BQU0sa0JBQWtCO0FBRXhCLE1BQU0sY0FBYyxDQUFDLEtBQUssTUFBTSxNQUFNLE1BQU07QUFFckMsV0FBUywwQkFBMEIsT0FBTztBQUMvQyxXQUFPLGlCQUFpQixLQUFLLEtBQUs7QUFBQSxFQUNwQztBQUVPLFdBQVMseUJBQXlCLE9BQU87QUFDOUMsV0FBTyxnQkFBZ0IsS0FBSyxLQUFLO0FBQUEsRUFDbkM7QUFFTyxXQUFTLDBCQUEwQixPQUFPQyxTQUFRLE9BQU87QUFDOUQsVUFBTSxXQUFXLFFBQVEsT0FBT0EsU0FBUSxLQUFLO0FBQzdDLFlBQVEsS0FBSyxRQUFRO0FBQ3JCLFFBQUksWUFBWSxTQUFTLEtBQUssRUFBRyxPQUFNLElBQUksV0FBVyxRQUFRO0FBQUEsRUFDaEU7QUFFQSxXQUFTLFFBQVEsT0FBT0EsU0FBUSxPQUFPO0FBQ3JDLFVBQU0sVUFBVSxNQUFNLENBQUMsTUFBTSxNQUFNLFVBQVU7QUFDN0MsV0FBTyxTQUFTLE1BQU0sWUFBWSxDQUFDLG1CQUFtQixLQUFLLFlBQVlBLE9BQU0sc0JBQXNCLE9BQU8sbUJBQW1CLEtBQUs7QUFBQSxFQUNwSTs7O0FDS0EsTUFBTSx5QkFDSjtBQUlGLE1BQU0sNkJBQTZCO0FBRW5DLE1BQU0sc0JBQXNCO0FBQzVCLE1BQU0sb0JBQW9CO0FBQzFCLE1BQU0sZ0NBQWdDO0FBc1MvQixXQUFTLE9BQU8sTUFBTSxXQUFXLFNBQVM7QUFDL0MsVUFBTUMsa0JBQWlCLGtCQUFrQjtBQUN6QyxVQUFNLFNBQVMsU0FBUyxVQUFVQSxnQkFBZSxVQUFVO0FBRTNELFVBQU0sd0JBQ0osU0FBUyx5QkFDVCxTQUFTLFFBQVEsU0FBUyx5QkFDMUJBLGdCQUFlLHlCQUNmQSxnQkFBZSxRQUFRLFNBQVMseUJBQ2hDO0FBRUYsVUFBTSxlQUNKLFNBQVMsZ0JBQ1QsU0FBUyxRQUFRLFNBQVMsZ0JBQzFCQSxnQkFBZSxnQkFDZkEsZ0JBQWUsUUFBUSxTQUFTLGdCQUNoQztBQUVGLFVBQU0sZUFBZSxPQUFPLElBQUk7QUFFaEMsUUFBSSxDQUFDLFFBQVEsWUFBWSxHQUFHO0FBQzFCLFlBQU0sSUFBSSxXQUFXLG9CQUFvQjtBQUFBLElBQzNDO0FBRUEsUUFBSSxRQUFRLFVBQ1QsTUFBTSwwQkFBMEIsRUFDaEMsSUFBSSxDQUFDLGNBQWM7QUFDbEIsWUFBTSxpQkFBaUIsVUFBVSxDQUFDO0FBQ2xDLFVBQUksbUJBQW1CLE9BQU8sbUJBQW1CLEtBQUs7QUFDcEQsY0FBTSxnQkFBZ0IsZUFBZSxjQUFjO0FBQ25ELGVBQU8sY0FBYyxXQUFXLE9BQU8sVUFBVTtBQUFBLE1BQ25EO0FBQ0EsYUFBTztBQUFBLElBQ1QsQ0FBQyxFQUNBLEtBQUssRUFBRSxFQUNQLE1BQU0sc0JBQXNCLEVBQzVCLElBQUksQ0FBQyxjQUFjO0FBRWxCLFVBQUksY0FBYyxNQUFNO0FBQ3RCLGVBQU8sRUFBRSxTQUFTLE9BQU8sT0FBTyxJQUFJO0FBQUEsTUFDdEM7QUFFQSxZQUFNLGlCQUFpQixVQUFVLENBQUM7QUFDbEMsVUFBSSxtQkFBbUIsS0FBSztBQUMxQixlQUFPLEVBQUUsU0FBUyxPQUFPLE9BQU8sbUJBQW1CLFNBQVMsRUFBRTtBQUFBLE1BQ2hFO0FBRUEsVUFBSSxXQUFXLGNBQWMsR0FBRztBQUM5QixlQUFPLEVBQUUsU0FBUyxNQUFNLE9BQU8sVUFBVTtBQUFBLE1BQzNDO0FBRUEsVUFBSSxlQUFlLE1BQU0sNkJBQTZCLEdBQUc7QUFDdkQsY0FBTSxJQUFJO0FBQUEsVUFDUixtRUFDRSxpQkFDQTtBQUFBLFFBQ0o7QUFBQSxNQUNGO0FBRUEsYUFBTyxFQUFFLFNBQVMsT0FBTyxPQUFPLFVBQVU7QUFBQSxJQUM1QyxDQUFDO0FBR0gsUUFBSSxPQUFPLFNBQVMsY0FBYztBQUNoQyxjQUFRLE9BQU8sU0FBUyxhQUFhLGNBQWMsS0FBSztBQUFBLElBQzFEO0FBRUEsVUFBTSxtQkFBbUI7QUFBQSxNQUN2QjtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDRjtBQUVBLFdBQU8sTUFDSixJQUFJLENBQUMsU0FBUztBQUNiLFVBQUksQ0FBQyxLQUFLLFFBQVMsUUFBTyxLQUFLO0FBRS9CLFlBQU0sUUFBUSxLQUFLO0FBRW5CLFVBQ0csQ0FBQyxTQUFTLCtCQUNULHlCQUF5QixLQUFLLEtBQy9CLENBQUMsU0FBUyxnQ0FDVCwwQkFBMEIsS0FBSyxHQUNqQztBQUNBLGtDQUEwQixPQUFPLFdBQVcsT0FBTyxJQUFJLENBQUM7QUFBQSxNQUMxRDtBQUVBLFlBQU0sWUFBWSxXQUFXLE1BQU0sQ0FBQyxDQUFDO0FBQ3JDLGFBQU8sVUFBVSxjQUFjLE9BQU8sT0FBTyxVQUFVLGdCQUFnQjtBQUFBLElBQ3pFLENBQUMsRUFDQSxLQUFLLEVBQUU7QUFBQSxFQUNaO0FBRUEsV0FBUyxtQkFBbUIsT0FBTztBQUNqQyxVQUFNLFVBQVUsTUFBTSxNQUFNLG1CQUFtQjtBQUUvQyxRQUFJLENBQUMsU0FBUztBQUNaLGFBQU87QUFBQSxJQUNUO0FBRUEsV0FBTyxRQUFRLENBQUMsRUFBRSxRQUFRLG1CQUFtQixHQUFHO0FBQUEsRUFDbEQ7OztBQ3JaTyxXQUFTLFlBQVksVUFBVSxXQUFXO0FBQy9DLFVBQU0sWUFBWSxPQUFPLFFBQVE7QUFDakMsVUFBTSxhQUFhLE9BQU8sU0FBUztBQUNuQyxXQUNFLFVBQVUsWUFBWSxNQUFNLFdBQVcsWUFBWSxLQUNuRCxVQUFVLFNBQVMsTUFBTSxXQUFXLFNBQVM7QUFBQSxFQUVqRDs7O0FDWE8sV0FBUyxRQUFRLE1BQU07QUFDNUIsV0FBTyxVQUFVLE1BQU0sYUFBYSxJQUFJLENBQUM7QUFBQSxFQUMzQzs7O0E1Q25CQSxNQUFPLG1CQUFQLGNBQTZCLFdBQVc7QUFBQSxJQVN0QyxVQUFVO0FBQ1IsV0FBSyxXQUFXLElBQUksS0FBSyxLQUFLLGFBQWE7QUFDM0MsV0FBSyxlQUFlLEtBQUssb0JBQW9CLElBQUksS0FBSyxLQUFLLGlCQUFpQixJQUFJO0FBQ2hGLFdBQUssZUFBZTtBQUFBLElBQ3RCO0FBQUEsSUFFQSxpQkFBaUI7QUFDZixXQUFLLFlBQVksY0FBYyxPQUFPLEtBQUssVUFBVSxXQUFXO0FBQ2hFLFlBQU0sUUFBUSxZQUFZLGFBQWEsS0FBSyxRQUFRLENBQUM7QUFDckQsWUFBTSxNQUFNLFVBQVUsV0FBVyxLQUFLLFFBQVEsQ0FBQztBQUMvQyxZQUFNLE9BQU8sa0JBQWtCLEVBQUUsT0FBTyxJQUFJLENBQUM7QUFFN0MsWUFBTSxvQkFBb0IsS0FBSztBQUUvQixZQUFNLGlCQUFpQixrQkFBa0IsaUJBQWlCLHFCQUFxQjtBQUMvRSx3QkFBa0IsWUFBWTtBQUM5QixxQkFBZSxRQUFRLFlBQVUsa0JBQWtCLFlBQVksTUFBTSxDQUFDO0FBRXRFLFdBQUssUUFBUSxTQUFPO0FBQ2xCLGNBQU0sYUFBYSxLQUFLLGlCQUFpQixHQUFHO0FBQzVDLDBCQUFrQixZQUFZLFVBQVU7QUFBQSxNQUMxQyxDQUFDO0FBRUQsV0FBSyxZQUFZO0FBQUEsSUFDbkI7QUFBQSxJQUVBLGlCQUFpQixLQUFLO0FBQ3BCLFlBQU0sV0FBVyxLQUFLLGtCQUFrQixRQUFRLFVBQVUsSUFBSTtBQUM5RCxZQUFNLFNBQVMsU0FBUyxjQUFjLFFBQVE7QUFFOUMsYUFBTyxjQUFjLE9BQU8sS0FBSyxHQUFHO0FBQ3BDLGFBQU8sUUFBUSxNQUFNLElBQUksWUFBWTtBQUVyQyxVQUFJLGNBQWM7QUFFbEIsVUFBSSxDQUFDLFlBQVksS0FBSyxLQUFLLFFBQVEsR0FBRztBQUNwQyx1QkFBZTtBQUFBLE1BQ2pCLFdBQVcsUUFBUSxHQUFHLEdBQUc7QUFDdkIsdUJBQWU7QUFBQSxNQUNqQjtBQUVBLFVBQUksS0FBSyxnQkFBZ0IsVUFBVSxLQUFLLEtBQUssWUFBWSxHQUFHO0FBQzFELHVCQUFlO0FBQUEsTUFDakI7QUFFQSxhQUFPLFlBQVksT0FBTyxVQUFVLFFBQVEsbUJBQW1CLFdBQVc7QUFFMUUsYUFBTztBQUFBLElBQ1Q7QUFBQSxJQUVBLFlBQVk7QUFDVixXQUFLLFdBQVcsVUFBVSxLQUFLLFVBQVUsRUFBRTtBQUMzQyxXQUFLLGVBQWU7QUFBQSxJQUN0QjtBQUFBLElBRUEsWUFBWTtBQUNWLFdBQUssV0FBVyxVQUFVLEtBQUssVUFBVSxDQUFDO0FBQzFDLFdBQUssZUFBZTtBQUFBLElBQ3RCO0FBQUEsSUFFQSxVQUFVLE9BQU87QUFDZixZQUFNLGNBQWMsSUFBSSxLQUFLLE1BQU0sY0FBYyxRQUFRLEdBQUc7QUFDNUQsV0FBSyxlQUFlO0FBQ3BCLFdBQUssb0JBQW9CLFlBQVksWUFBWTtBQUNqRCxXQUFLLGVBQWU7QUFBQSxJQUN0QjtBQUFBLElBRUEsY0FBYztBQUNaLFlBQU0sZUFBZSxTQUFTLGVBQWUsS0FBSyxZQUFZO0FBQzlELFVBQUksZ0JBQWdCLEtBQUssY0FBYztBQUNyQyxxQkFBYSxRQUFRLE9BQU8sS0FBSyxjQUFjLEtBQUssV0FBVztBQUFBLE1BQ2pFO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFqRkUsZ0JBREssa0JBQ0UsV0FBVSxDQUFDLFNBQVMsWUFBWSxlQUFlLE9BQU87QUFDN0QsZ0JBRkssa0JBRUUsVUFBUztBQUFBLElBQ2QsUUFBUTtBQUFBLElBQ1IsVUFBVTtBQUFBLElBQ1YsY0FBYyxFQUFFLE1BQU0sUUFBUSxTQUFTLEtBQUs7QUFBQSxJQUM1QyxTQUFTO0FBQUEsRUFDWDs7O0E2Q2JGOzs7QUNBQTtBQUFBO0FBQUE7QUFBQTtBQU1BLE1BQU8sbUJBQVAsY0FBNkIsV0FBVztBQUFBLElBUXRDLFVBQVU7QUFDUixvQkFBYyxNQUFNO0FBQUEsUUFDbEIsU0FBUyxNQUFNLEtBQUssYUFBYSxLQUFLLGlCQUFpQjtBQUFBLFFBQ3ZELGFBQWE7QUFBQSxRQUNiLFdBQVc7QUFBQSxRQUNYLFNBQVM7QUFBQSxRQUNULGFBQWE7QUFBQSxRQUNiLFdBQVc7QUFBQSxRQUNYLFNBQVM7QUFBQSxNQUNYLENBQUM7QUFFRCxXQUFLLG9CQUFvQjtBQUN6QixXQUFLLG1CQUFtQjtBQUV4QixVQUFJLEtBQUssZUFBZTtBQUN0QixhQUFLLGNBQWM7QUFBQSxNQUNyQjtBQUFBLElBQ0Y7QUFBQSxJQUVBLGFBQWE7QUFDWCxXQUFLLGFBQWE7QUFBQSxJQUNwQjtBQUFBLElBRUEsT0FBTztBQUNMLFdBQUsscUJBQXFCLEtBQUssb0JBQW9CLEtBQUssS0FBSyxhQUFhO0FBQzFFLFdBQUssb0JBQW9CO0FBQ3pCLFdBQUssbUJBQW1CO0FBQUEsSUFDMUI7QUFBQSxJQUVBLFdBQVc7QUFDVCxXQUFLLHFCQUFxQixLQUFLLG9CQUFvQixJQUFJLEtBQUssYUFBYSxVQUFVLEtBQUssYUFBYTtBQUNyRyxXQUFLLG9CQUFvQjtBQUN6QixXQUFLLG1CQUFtQjtBQUFBLElBQzFCO0FBQUEsSUFFQSxzQkFBc0I7QUFDcEIsWUFBTUMsVUFBUyxLQUFLLG9CQUFvQjtBQUN4QyxXQUFLLFFBQVEsY0FBYyxPQUFPLEVBQUUsTUFBTSxZQUFZLGVBQWVBLE9BQU07QUFBQSxJQUM3RTtBQUFBLElBRUEscUJBQXFCO0FBQ25CLFVBQUksS0FBSywyQkFBMkIsS0FBSyxxQkFBcUI7QUFDNUQsYUFBSyxxQkFBcUIsV0FBVyxLQUFLLHNCQUFzQjtBQUNoRSxhQUFLLGlCQUFpQixXQUFXLEtBQUssc0JBQXNCLEtBQUssYUFBYSxTQUFTO0FBQUEsTUFDekY7QUFBQSxJQUNGO0FBQUEsSUFFQSxnQkFBZ0I7QUFDZCxXQUFLLG1CQUFtQixZQUFZLE1BQU07QUFDeEMsYUFBSyxLQUFLO0FBQUEsTUFDWixHQUFHLEtBQUssYUFBYTtBQUFBLElBQ3ZCO0FBQUEsSUFFQSxlQUFlO0FBQ2IsVUFBSSxLQUFLLGtCQUFrQjtBQUN6QixzQkFBYyxLQUFLLGdCQUFnQjtBQUFBLE1BQ3JDO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFqRUUsZ0JBREssa0JBQ0UsV0FBVSxDQUFDLFNBQVMsa0JBQWtCLFlBQVk7QUFDekQsZ0JBRkssa0JBRUUsVUFBUztBQUFBLElBQ2QsY0FBYyxFQUFFLE1BQU0sUUFBUSxTQUFTLEVBQUU7QUFBQSxJQUN6QyxVQUFVLEVBQUUsTUFBTSxTQUFTLFNBQVMsTUFBTTtBQUFBLElBQzFDLFVBQVUsRUFBRSxNQUFNLFFBQVEsU0FBUyxJQUFLO0FBQUE7QUFBQSxFQUMxQzs7O0FDWkY7QUFBQTtBQUFBO0FBQUE7QUFLQSxNQUFPLHNCQUFQLGNBQTZCLFdBQVc7QUFBQSxJQU10QyxVQUFVO0FBQ1IsV0FBSyxpQkFBaUI7QUFBQSxJQUN4QjtBQUFBLElBRUEsU0FBUztBQUNQLFdBQUssWUFBWSxDQUFDLEtBQUs7QUFBQSxJQUN6QjtBQUFBLElBRUEsbUJBQW1CO0FBQ2pCLFdBQUssaUJBQWlCO0FBQUEsSUFDeEI7QUFBQSxJQUVBLG1CQUFtQjtBQUNqQixVQUFJLEtBQUssV0FBVztBQUNsQixhQUFLLGNBQWMsVUFBVSxPQUFPLFFBQVE7QUFBQSxNQUM5QyxPQUFPO0FBQ0wsYUFBSyxjQUFjLFVBQVUsSUFBSSxRQUFRO0FBQUEsTUFDM0M7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQXhCRSxnQkFESyxxQkFDRSxXQUFVLENBQUMsU0FBUztBQUMzQixnQkFGSyxxQkFFRSxVQUFTO0FBQUEsSUFDZCxNQUFNO0FBQUEsRUFDUjs7O0FDVEY7QUFBQTtBQUFBO0FBQUE7OztBQ1lBLE1BQU0sT0FBTyxPQUFPLGNBQWMsY0FBYyxVQUFVLFVBQVUsWUFBWSxFQUFFLFFBQVEsU0FBUyxJQUFJLElBQUk7QUFHM0csV0FBUyxTQUFTLFFBQVEsT0FBTyxRQUFRLFlBQVk7QUFDbkQsUUFBSSxPQUFPLGtCQUFrQjtBQUMzQixhQUFPLGlCQUFpQixPQUFPLFFBQVEsVUFBVTtBQUFBLElBQ25ELFdBQVcsT0FBTyxhQUFhO0FBQzdCLGFBQU8sWUFBWSxLQUFLLE9BQU8sS0FBSyxHQUFHLE1BQU07QUFBQSxJQUMvQztBQUFBLEVBQ0Y7QUFDQSxXQUFTLFlBQVksUUFBUSxPQUFPLFFBQVEsWUFBWTtBQUN0RCxRQUFJLE9BQU8scUJBQXFCO0FBQzlCLGFBQU8sb0JBQW9CLE9BQU8sUUFBUSxVQUFVO0FBQUEsSUFDdEQsV0FBVyxPQUFPLGFBQWE7QUFDN0IsYUFBTyxZQUFZLEtBQUssT0FBTyxLQUFLLEdBQUcsTUFBTTtBQUFBLElBQy9DO0FBQUEsRUFDRjtBQUdBLFdBQVMsUUFBUSxVQUFVLEtBQUs7QUFDOUIsVUFBTSxPQUFPLElBQUksTUFBTSxHQUFHLElBQUksU0FBUyxDQUFDO0FBQ3hDLGFBQVMsSUFBSSxHQUFHLElBQUksS0FBSyxRQUFRLElBQUssTUFBSyxDQUFDLElBQUksU0FBUyxLQUFLLENBQUMsRUFBRSxZQUFZLENBQUM7QUFDOUUsV0FBTztBQUFBLEVBQ1Q7QUFHQSxXQUFTLFFBQVEsS0FBSztBQUNwQixRQUFJLE9BQU8sUUFBUSxTQUFVLE9BQU07QUFDbkMsVUFBTSxJQUFJLFFBQVEsT0FBTyxFQUFFO0FBQzNCLFVBQU0sT0FBTyxJQUFJLE1BQU0sR0FBRztBQUMxQixRQUFJLFFBQVEsS0FBSyxZQUFZLEVBQUU7QUFHL0IsV0FBTyxTQUFTLEtBQUk7QUFDbEIsV0FBSyxRQUFRLENBQUMsS0FBSztBQUNuQixXQUFLLE9BQU8sT0FBTyxDQUFDO0FBQ3BCLGNBQVEsS0FBSyxZQUFZLEVBQUU7QUFBQSxJQUM3QjtBQUNBLFdBQU87QUFBQSxFQUNUO0FBR0EsV0FBUyxhQUFhLElBQUksSUFBSTtBQUM1QixVQUFNLE9BQU8sR0FBRyxVQUFVLEdBQUcsU0FBUyxLQUFLO0FBQzNDLFVBQU0sT0FBTyxHQUFHLFVBQVUsR0FBRyxTQUFTLEtBQUs7QUFDM0MsUUFBSSxVQUFVO0FBQ2QsYUFBUyxJQUFJLEdBQUcsSUFBSSxLQUFLLFFBQVEsS0FBSztBQUNwQyxVQUFJLEtBQUssUUFBUSxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUksV0FBVTtBQUFBLElBQzlDO0FBQ0EsV0FBTztBQUFBLEVBQ1Q7QUFHQSxNQUFNLFVBQVU7QUFBQSxJQUNkLFdBQVc7QUFBQSxJQUNYLFVBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLFVBQUs7QUFBQSxJQUNMLFFBQVE7QUFBQSxJQUNSLEtBQUs7QUFBQSxJQUNMLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE1BQU07QUFBQSxJQUNOLElBQUk7QUFBQSxJQUNKLE9BQU87QUFBQSxJQUNQLE1BQU07QUFBQSxJQUNOLEtBQUs7QUFBQSxJQUNMLFFBQVE7QUFBQSxJQUNSLEtBQUs7QUFBQSxJQUNMLFFBQVE7QUFBQSxJQUNSLE1BQU07QUFBQSxJQUNOLEtBQUs7QUFBQSxJQUNMLFFBQVE7QUFBQSxJQUNSLFVBQVU7QUFBQSxJQUNWLFVBQVU7QUFBQSxJQUNWLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLGNBQWM7QUFBQSxJQUNkLFNBQVM7QUFBQSxJQUNULFdBQVc7QUFBQSxJQUNYLGNBQWM7QUFBQSxJQUNkLGFBQWE7QUFBQSxJQUNiLFlBQVk7QUFBQSxJQUNaLFVBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUssT0FBTyxNQUFNO0FBQUEsSUFDbEIsS0FBSyxPQUFPLEtBQUs7QUFBQSxJQUNqQixLQUFLLE9BQU8sS0FBSztBQUFBLElBQ2pCLEtBQU07QUFBQSxJQUNOLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLE1BQU07QUFBQSxFQUNSO0FBR0EsTUFBTSxZQUFZO0FBQUE7QUFBQSxJQUVoQixVQUFLO0FBQUEsSUFDTCxPQUFPO0FBQUE7QUFBQSxJQUVQLFVBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLFFBQVE7QUFBQTtBQUFBLElBRVIsVUFBSztBQUFBLElBQ0wsTUFBTTtBQUFBLElBQ04sU0FBUztBQUFBO0FBQUEsSUFFVCxVQUFLO0FBQUEsSUFDTCxLQUFLO0FBQUEsSUFDTCxTQUFTO0FBQUEsRUFDWDtBQUNBLE1BQU0sY0FBYztBQUFBLElBQ2xCLElBQUk7QUFBQSxJQUNKLElBQUk7QUFBQSxJQUNKLElBQUk7QUFBQSxJQUNKLElBQUk7QUFBQSxJQUNKLFVBQVU7QUFBQSxJQUNWLFNBQVM7QUFBQSxJQUNULFFBQVE7QUFBQSxJQUNSLFNBQVM7QUFBQSxFQUNYO0FBQ0EsTUFBTSxRQUFRO0FBQUEsSUFDWixJQUFJO0FBQUEsSUFDSixJQUFJO0FBQUEsSUFDSixJQUFJO0FBQUEsSUFDSixJQUFJO0FBQUEsRUFDTjtBQUNBLE1BQU0sWUFBWSxDQUFDO0FBR25CLFdBQVMsSUFBSSxHQUFHLElBQUksSUFBSSxLQUFLO0FBQzNCLFlBQVEsSUFBSSxPQUFPLENBQUMsQ0FBQyxJQUFJLE1BQU07QUFBQSxFQUNqQztBQUVBLE1BQUksWUFBWSxDQUFDO0FBQ2pCLE1BQUksa0JBQWtCO0FBQ3RCLE1BQUksU0FBUztBQUNiLE1BQU0sa0JBQWtCLG9CQUFJLElBQUk7QUFHaEMsTUFBTSxPQUFPLE9BQUssUUFBUSxFQUFFLFlBQVksQ0FBQyxLQUFLLFVBQVUsRUFBRSxZQUFZLENBQUMsS0FBSyxFQUFFLFlBQVksRUFBRSxXQUFXLENBQUM7QUFDeEcsTUFBTSxTQUFTLE9BQUssT0FBTyxLQUFLLE9BQU8sRUFBRSxLQUFLLE9BQUssUUFBUSxDQUFDLE1BQU0sQ0FBQztBQUNuRSxNQUFNLGNBQWMsT0FBSyxPQUFPLEtBQUssU0FBUyxFQUFFLEtBQUssT0FBSyxVQUFVLENBQUMsTUFBTSxDQUFDO0FBRzVFLFdBQVMsU0FBUyxPQUFPO0FBQ3ZCLGFBQVMsU0FBUztBQUFBLEVBQ3BCO0FBRUEsV0FBUyxXQUFXO0FBQ2xCLFdBQU8sVUFBVTtBQUFBLEVBQ25CO0FBRUEsV0FBUyxxQkFBcUI7QUFDNUIsV0FBTyxVQUFVLE1BQU0sQ0FBQztBQUFBLEVBQzFCO0FBQ0EsV0FBUyxzQkFBc0I7QUFDN0IsV0FBTyxVQUFVLElBQUksT0FBSyxPQUFPLENBQUMsS0FBSyxZQUFZLENBQUMsS0FBSyxPQUFPLGFBQWEsQ0FBQyxDQUFDO0FBQUEsRUFDakY7QUFDQSxXQUFTLGlCQUFpQjtBQUN4QixVQUFNLFNBQVMsQ0FBQztBQUNoQixXQUFPLEtBQUssU0FBUyxFQUFFLFFBQVEsT0FBSztBQUNsQyxnQkFBVSxDQUFDLEVBQUUsUUFBUSxVQUFRO0FBQzNCLFlBQUk7QUFBQSxVQUNGO0FBQUEsVUFDQTtBQUFBLFVBQ0E7QUFBQSxVQUNBO0FBQUEsUUFDRixJQUFJO0FBQ0osZUFBTyxLQUFLO0FBQUEsVUFDVjtBQUFBLFVBQ0E7QUFBQSxVQUNBO0FBQUEsVUFDQSxNQUFNLElBQUksTUFBTSxHQUFHLEVBQUUsSUFBSSxPQUFLLEtBQUssQ0FBQyxDQUFDO0FBQUEsUUFDdkMsQ0FBQztBQUFBLE1BQ0gsQ0FBQztBQUFBLElBQ0gsQ0FBQztBQUNELFdBQU87QUFBQSxFQUNUO0FBSUEsV0FBUyxPQUFPLE9BQU87QUFDckIsVUFBTSxTQUFTLE1BQU0sVUFBVSxNQUFNO0FBQ3JDLFVBQU07QUFBQSxNQUNKO0FBQUEsSUFDRixJQUFJO0FBQ0osUUFBSSxPQUFPO0FBQ1gsVUFBTSxVQUFVLFlBQVksV0FBVyxDQUFDLENBQUMsWUFBWSxTQUFTLFNBQVMsVUFBVSxRQUFRLFNBQVMsVUFBVSxPQUFPLEVBQUUsU0FBUyxPQUFPLElBQUk7QUFFekksUUFBSSxPQUFPLHNCQUFzQixXQUFXLFlBQVksY0FBYyxZQUFZLGFBQWEsQ0FBQyxPQUFPLFVBQVU7QUFDL0csYUFBTztBQUFBLElBQ1Q7QUFDQSxXQUFPO0FBQUEsRUFDVDtBQUdBLFdBQVMsVUFBVSxTQUFTO0FBQzFCLFFBQUksT0FBTyxZQUFZLFVBQVU7QUFDL0IsZ0JBQVUsS0FBSyxPQUFPO0FBQUEsSUFDeEI7QUFDQSxXQUFPLFVBQVUsUUFBUSxPQUFPLE1BQU07QUFBQSxFQUN4QztBQUdBLFdBQVMsWUFBWSxPQUFPLFVBQVU7QUFDcEMsUUFBSTtBQUNKLFFBQUk7QUFHSixRQUFJLENBQUMsTUFBTyxTQUFRLFNBQVM7QUFDN0IsZUFBVyxPQUFPLFdBQVc7QUFDM0IsVUFBSSxPQUFPLFVBQVUsZUFBZSxLQUFLLFdBQVcsR0FBRyxHQUFHO0FBQ3hELG1CQUFXLFVBQVUsR0FBRztBQUN4QixhQUFLLElBQUksR0FBRyxJQUFJLFNBQVMsVUFBUztBQUNoQyxjQUFJLFNBQVMsQ0FBQyxFQUFFLFVBQVUsT0FBTztBQUMvQixrQkFBTSxjQUFjLFNBQVMsT0FBTyxHQUFHLENBQUM7QUFDeEMsd0JBQVksUUFBUSxXQUFTO0FBQzNCLGtCQUFJO0FBQUEsZ0JBQ0Y7QUFBQSxjQUNGLElBQUk7QUFDSixxQkFBTyxlQUFlLE9BQU87QUFBQSxZQUMvQixDQUFDO0FBQUEsVUFDSCxPQUFPO0FBQ0w7QUFBQSxVQUNGO0FBQUEsUUFDRjtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBR0EsUUFBSSxTQUFTLE1BQU0sTUFBTyxVQUFTLFlBQVksS0FBSztBQUFBLEVBQ3REO0FBR0EsV0FBUyxjQUFjLE9BQU87QUFDNUIsUUFBSSxNQUFNLE1BQU0sV0FBVyxNQUFNLFNBQVMsTUFBTTtBQUNoRCxVQUFNLElBQUksVUFBVSxRQUFRLEdBQUc7QUFHL0IsUUFBSSxLQUFLLEdBQUc7QUFDVixnQkFBVSxPQUFPLEdBQUcsQ0FBQztBQUFBLElBQ3ZCO0FBRUEsUUFBSSxNQUFNLE9BQU8sTUFBTSxJQUFJLFlBQVksTUFBTSxRQUFRO0FBQ25ELGdCQUFVLE9BQU8sR0FBRyxVQUFVLE1BQU07QUFBQSxJQUN0QztBQUdBLFFBQUksUUFBUSxNQUFNLFFBQVEsSUFBSyxPQUFNO0FBQ3JDLFFBQUksT0FBTyxPQUFPO0FBQ2hCLFlBQU0sR0FBRyxJQUFJO0FBR2IsaUJBQVcsS0FBSyxVQUFXLEtBQUksVUFBVSxDQUFDLE1BQU0sSUFBSyxTQUFRLENBQUMsSUFBSTtBQUFBLElBQ3BFO0FBQUEsRUFDRjtBQUNBLFdBQVMsT0FBTyxVQUFVO0FBRXhCLFFBQUksT0FBTyxhQUFhLGFBQWE7QUFDbkMsYUFBTyxLQUFLLFNBQVMsRUFBRSxRQUFRLFNBQU87QUFDcEMsY0FBTSxRQUFRLFVBQVUsR0FBRyxDQUFDLEtBQUssVUFBVSxHQUFHLEVBQUUsUUFBUSxVQUFRLFdBQVcsSUFBSSxDQUFDO0FBQ2hGLGVBQU8sVUFBVSxHQUFHO0FBQUEsTUFDdEIsQ0FBQztBQUNELHFCQUFlLElBQUk7QUFBQSxJQUNyQixXQUFXLE1BQU0sUUFBUSxRQUFRLEdBQUc7QUFFbEMsZUFBUyxRQUFRLFVBQVE7QUFDdkIsWUFBSSxLQUFLLElBQUssWUFBVyxJQUFJO0FBQUEsTUFDL0IsQ0FBQztBQUFBLElBQ0gsV0FBVyxPQUFPLGFBQWEsVUFBVTtBQUV2QyxVQUFJLFNBQVMsSUFBSyxZQUFXLFFBQVE7QUFBQSxJQUN2QyxXQUFXLE9BQU8sYUFBYSxVQUFVO0FBQ3ZDLGVBQVMsT0FBTyxVQUFVLFFBQVEsT0FBTyxJQUFJLE1BQU0sT0FBTyxJQUFJLE9BQU8sSUFBSSxDQUFDLEdBQUcsT0FBTyxHQUFHLE9BQU8sTUFBTSxRQUFRO0FBQzFHLGFBQUssT0FBTyxDQUFDLElBQUksVUFBVSxJQUFJO0FBQUEsTUFDakM7QUFHQSxVQUFJLENBQUMsT0FBTyxNQUFNLElBQUk7QUFDdEIsVUFBSSxPQUFPLFVBQVUsWUFBWTtBQUMvQixpQkFBUztBQUNULGdCQUFRO0FBQUEsTUFDVjtBQUNBLGlCQUFXO0FBQUEsUUFDVCxLQUFLO0FBQUEsUUFDTDtBQUFBLFFBQ0E7QUFBQSxRQUNBLFVBQVU7QUFBQSxNQUNaLENBQUM7QUFBQSxJQUNIO0FBQUEsRUFDRjtBQUdBLE1BQU0sYUFBYSxXQUFTO0FBQzFCLFFBQUk7QUFBQSxNQUNGO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBLFdBQVc7QUFBQSxJQUNiLElBQUk7QUFDSixVQUFNLGVBQWUsUUFBUSxHQUFHO0FBQ2hDLGlCQUFhLFFBQVEsZUFBYTtBQUNoQyxZQUFNLGFBQWEsVUFBVSxNQUFNLFFBQVE7QUFDM0MsWUFBTSxNQUFNLFdBQVc7QUFDdkIsWUFBTSxVQUFVLFdBQVcsTUFBTSxDQUFDO0FBQ2xDLFlBQU0sVUFBVSxZQUFZLE1BQU0sTUFBTSxLQUFLLE9BQU87QUFDcEQsVUFBSSxDQUFDLFVBQVUsT0FBTyxFQUFHO0FBRXpCLFVBQUksQ0FBQyxNQUFPLFNBQVEsU0FBUztBQUM3QixZQUFNLE9BQU8sTUFBTSxJQUFJLFFBQVEsV0FBVyxVQUFVLElBQUksQ0FBQztBQUN6RCxZQUFNLGlCQUFpQixDQUFDO0FBQ3hCLGdCQUFVLE9BQU8sSUFBSSxVQUFVLE9BQU8sRUFBRSxPQUFPLFlBQVU7QUFFdkQsY0FBTSxtQkFBbUIsU0FBUyxPQUFPLFdBQVcsU0FBUztBQUM3RCxjQUFNLFdBQVcsb0JBQW9CLE9BQU8sVUFBVSxTQUFTLGFBQWEsT0FBTyxNQUFNLElBQUk7QUFDN0YsWUFBSSxTQUFVLGdCQUFlLEtBQUssT0FBTyxPQUFPO0FBQ2hELGVBQU8sQ0FBQztBQUFBLE1BQ1YsQ0FBQztBQUNELHFCQUFlLFFBQVEsYUFBVyxlQUFlLE9BQU8sQ0FBQztBQUFBLElBQzNELENBQUM7QUFBQSxFQUNIO0FBR0EsV0FBUyxhQUFhLE9BQU8sU0FBUyxPQUFPLFNBQVM7QUFDcEQsUUFBSSxRQUFRLFlBQVksU0FBUztBQUMvQjtBQUFBLElBQ0Y7QUFDQSxRQUFJO0FBR0osUUFBSSxRQUFRLFVBQVUsU0FBUyxRQUFRLFVBQVUsT0FBTztBQUV0RCx1QkFBaUIsUUFBUSxLQUFLLFNBQVM7QUFDdkMsaUJBQVcsS0FBSyxPQUFPO0FBQ3JCLFlBQUksT0FBTyxVQUFVLGVBQWUsS0FBSyxPQUFPLENBQUMsR0FBRztBQUNsRCxjQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssUUFBUSxLQUFLLFFBQVEsQ0FBQyxDQUFDLElBQUksTUFBTSxNQUFNLENBQUMsS0FBSyxRQUFRLEtBQUssUUFBUSxDQUFDLENBQUMsTUFBTSxJQUFJO0FBQzdGLDZCQUFpQjtBQUFBLFVBQ25CO0FBQUEsUUFDRjtBQUFBLE1BQ0Y7QUFHQSxVQUFJLFFBQVEsS0FBSyxXQUFXLEtBQUssQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxNQUFNLEVBQUUsS0FBSyxrQkFBa0IsUUFBUSxhQUFhLEtBQUs7QUFDbkksZ0JBQVEsT0FBTyxDQUFDO0FBQ2hCLGdCQUFRLE9BQU8sUUFBUSxLQUFLLE9BQU8sU0FBUztBQUM1QyxZQUFJLFFBQVEsT0FBTyxPQUFPLE9BQU8sTUFBTSxPQUFPO0FBQzVDLGNBQUksTUFBTSxlQUFnQixPQUFNLGVBQWU7QUFBQSxjQUFPLE9BQU0sY0FBYztBQUMxRSxjQUFJLE1BQU0sZ0JBQWlCLE9BQU0sZ0JBQWdCO0FBQ2pELGNBQUksTUFBTSxhQUFjLE9BQU0sZUFBZTtBQUFBLFFBQy9DO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBR0EsV0FBUyxTQUFTLE9BQU8sU0FBUztBQUNoQyxVQUFNLFdBQVcsVUFBVSxHQUFHO0FBQzlCLFFBQUksTUFBTSxNQUFNLFdBQVcsTUFBTSxTQUFTLE1BQU07QUFHaEQsUUFBSSxDQUFDLFFBQVEsT0FBTyxLQUFLLE1BQU0sS0FBSyxFQUFHO0FBSXZDLFFBQUksUUFBUSxNQUFNLFFBQVEsSUFBSyxPQUFNO0FBUXJDLFFBQUksVUFBVSxRQUFRLEdBQUcsTUFBTSxNQUFNLFFBQVEsSUFBSyxXQUFVLEtBQUssR0FBRztBQUtwRSxLQUFDLFdBQVcsVUFBVSxZQUFZLFNBQVMsRUFBRSxRQUFRLGFBQVc7QUFDOUQsWUFBTSxTQUFTLFlBQVksT0FBTztBQUNsQyxVQUFJLE1BQU0sT0FBTyxLQUFLLFVBQVUsUUFBUSxNQUFNLE1BQU0sSUFBSTtBQUN0RCxrQkFBVSxLQUFLLE1BQU07QUFBQSxNQUN2QixXQUFXLENBQUMsTUFBTSxPQUFPLEtBQUssVUFBVSxRQUFRLE1BQU0sSUFBSSxJQUFJO0FBQzVELGtCQUFVLE9BQU8sVUFBVSxRQUFRLE1BQU0sR0FBRyxDQUFDO0FBQUEsTUFDL0MsV0FBVyxZQUFZLGFBQWEsTUFBTSxPQUFPLEtBQUssVUFBVSxXQUFXLEdBQUc7QUFLNUUsWUFBSSxFQUFFLE1BQU0sV0FBVyxNQUFNLFlBQVksTUFBTSxTQUFTO0FBQ3RELHNCQUFZLFVBQVUsTUFBTSxVQUFVLFFBQVEsTUFBTSxDQUFDO0FBQUEsUUFDdkQ7QUFBQSxNQUNGO0FBQUEsSUFDRixDQUFDO0FBS0QsUUFBSSxPQUFPLE9BQU87QUFDaEIsWUFBTSxHQUFHLElBQUk7QUFHYixpQkFBVyxLQUFLLFdBQVc7QUFDekIsWUFBSSxVQUFVLENBQUMsTUFBTSxJQUFLLFNBQVEsQ0FBQyxJQUFJO0FBQUEsTUFDekM7QUFDQSxVQUFJLENBQUMsU0FBVTtBQUFBLElBQ2pCO0FBR0EsZUFBVyxLQUFLLE9BQU87QUFDckIsVUFBSSxPQUFPLFVBQVUsZUFBZSxLQUFLLE9BQU8sQ0FBQyxHQUFHO0FBQ2xELGNBQU0sQ0FBQyxJQUFJLE1BQU0sWUFBWSxDQUFDLENBQUM7QUFBQSxNQUNqQztBQUFBLElBQ0Y7QUFPQSxRQUFJLE1BQU0sb0JBQW9CLEVBQUUsTUFBTSxVQUFVLENBQUMsTUFBTSxZQUFZLE1BQU0saUJBQWlCLFVBQVUsR0FBRztBQUNyRyxVQUFJLFVBQVUsUUFBUSxFQUFFLE1BQU0sSUFBSTtBQUNoQyxrQkFBVSxLQUFLLEVBQUU7QUFBQSxNQUNuQjtBQUNBLFVBQUksVUFBVSxRQUFRLEVBQUUsTUFBTSxJQUFJO0FBQ2hDLGtCQUFVLEtBQUssRUFBRTtBQUFBLE1BQ25CO0FBQ0EsWUFBTSxFQUFFLElBQUk7QUFDWixZQUFNLEVBQUUsSUFBSTtBQUFBLElBQ2Q7QUFHQSxVQUFNLFFBQVEsU0FBUztBQUV2QixRQUFJLFVBQVU7QUFDWixlQUFTLElBQUksR0FBRyxJQUFJLFNBQVMsUUFBUSxLQUFLO0FBQ3hDLFlBQUksU0FBUyxDQUFDLEVBQUUsVUFBVSxVQUFVLE1BQU0sU0FBUyxhQUFhLFNBQVMsQ0FBQyxFQUFFLFdBQVcsTUFBTSxTQUFTLFdBQVcsU0FBUyxDQUFDLEVBQUUsUUFBUTtBQUNuSSx1QkFBYSxPQUFPLFNBQVMsQ0FBQyxHQUFHLE9BQU8sT0FBTztBQUFBLFFBQ2pEO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFFQSxRQUFJLEVBQUUsT0FBTyxXQUFZO0FBQ3pCLFVBQU0sYUFBYSxVQUFVLEdBQUc7QUFDaEMsVUFBTSxTQUFTLFdBQVc7QUFDMUIsYUFBUyxJQUFJLEdBQUcsSUFBSSxRQUFRLEtBQUs7QUFDL0IsVUFBSSxNQUFNLFNBQVMsYUFBYSxXQUFXLENBQUMsRUFBRSxXQUFXLE1BQU0sU0FBUyxXQUFXLFdBQVcsQ0FBQyxFQUFFLE9BQU87QUFDdEcsWUFBSSxXQUFXLENBQUMsRUFBRSxLQUFLO0FBQ3JCLGdCQUFNLFNBQVMsV0FBVyxDQUFDO0FBQzNCLGdCQUFNO0FBQUEsWUFDSjtBQUFBLFVBQ0YsSUFBSTtBQUNKLGdCQUFNLGNBQWMsT0FBTyxJQUFJLE1BQU0sUUFBUTtBQUM3QyxnQkFBTSxtQkFBbUIsQ0FBQztBQUMxQixtQkFBUyxJQUFJLEdBQUcsSUFBSSxZQUFZLFFBQVEsS0FBSztBQUMzQyw2QkFBaUIsS0FBSyxLQUFLLFlBQVksQ0FBQyxDQUFDLENBQUM7QUFBQSxVQUM1QztBQUNBLGNBQUksaUJBQWlCLEtBQUssRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLEtBQUssRUFBRSxLQUFLLEVBQUUsR0FBRztBQUVsRSx5QkFBYSxPQUFPLFFBQVEsT0FBTyxPQUFPO0FBQUEsVUFDNUM7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQ0EsV0FBUyxRQUFRLEtBQUssUUFBUSxRQUFRO0FBQ3BDLGdCQUFZLENBQUM7QUFDYixVQUFNLE9BQU8sUUFBUSxHQUFHO0FBQ3hCLFFBQUksT0FBTyxDQUFDO0FBQ1osUUFBSSxRQUFRO0FBQ1osUUFBSSxVQUFVO0FBQ2QsUUFBSSxJQUFJO0FBQ1IsUUFBSSxRQUFRO0FBQ1osUUFBSSxVQUFVO0FBQ2QsUUFBSSxXQUFXO0FBQ2YsUUFBSSxVQUFVO0FBQ2QsUUFBSSxTQUFTO0FBR2IsUUFBSSxXQUFXLFVBQWEsT0FBTyxXQUFXLFlBQVk7QUFDeEQsZUFBUztBQUFBLElBQ1g7QUFDQSxRQUFJLE9BQU8sVUFBVSxTQUFTLEtBQUssTUFBTSxNQUFNLG1CQUFtQjtBQUNoRSxVQUFJLE9BQU8sTUFBTyxTQUFRLE9BQU87QUFDakMsVUFBSSxPQUFPLFFBQVMsV0FBVSxPQUFPO0FBQ3JDLFVBQUksT0FBTyxNQUFPLFNBQVEsT0FBTztBQUNqQyxVQUFJLE9BQU8sWUFBWSxPQUFXLFdBQVUsT0FBTztBQUNuRCxVQUFJLE9BQU8sWUFBWSxPQUFXLFdBQVUsT0FBTztBQUNuRCxVQUFJLE9BQU8sT0FBTyxhQUFhLFNBQVUsWUFBVyxPQUFPO0FBQzNELFVBQUksT0FBTyxXQUFXLEtBQU0sVUFBUztBQUFBLElBQ3ZDO0FBQ0EsUUFBSSxPQUFPLFdBQVcsU0FBVSxTQUFRO0FBR3hDLFFBQUksT0FBUSxRQUFPLEtBQUssS0FBSztBQUc3QixXQUFPLElBQUksS0FBSyxRQUFRLEtBQUs7QUFDM0IsWUFBTSxLQUFLLENBQUMsRUFBRSxNQUFNLFFBQVE7QUFDNUIsYUFBTyxDQUFDO0FBR1IsVUFBSSxJQUFJLFNBQVMsRUFBRyxRQUFPLFFBQVEsV0FBVyxHQUFHO0FBR2pELFlBQU0sSUFBSSxJQUFJLFNBQVMsQ0FBQztBQUN4QixZQUFNLFFBQVEsTUFBTSxNQUFNLEtBQUssR0FBRztBQUdsQyxVQUFJLEVBQUUsT0FBTyxXQUFZLFdBQVUsR0FBRyxJQUFJLENBQUM7QUFDM0MsZ0JBQVUsR0FBRyxFQUFFLEtBQUs7QUFBQSxRQUNsQjtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0EsVUFBVSxLQUFLLENBQUM7QUFBQSxRQUNoQjtBQUFBLFFBQ0EsS0FBSyxLQUFLLENBQUM7QUFBQSxRQUNYO0FBQUEsUUFDQTtBQUFBLE1BQ0YsQ0FBQztBQUFBLElBQ0g7QUFFQSxRQUFJLE9BQU8sWUFBWSxlQUFlLFFBQVE7QUFDNUMsVUFBSSxDQUFDLGdCQUFnQixJQUFJLE9BQU8sR0FBRztBQUNqQyxjQUFNLGtCQUFrQixXQUFZO0FBQ2xDLGNBQUksUUFBUSxVQUFVLFNBQVMsS0FBSyxVQUFVLENBQUMsTUFBTSxTQUFZLFVBQVUsQ0FBQyxJQUFJLE9BQU87QUFDdkYsaUJBQU8sU0FBUyxPQUFPLE9BQU87QUFBQSxRQUNoQztBQUNBLGNBQU0sZUFBZSxXQUFZO0FBQy9CLGNBQUksUUFBUSxVQUFVLFNBQVMsS0FBSyxVQUFVLENBQUMsTUFBTSxTQUFZLFVBQVUsQ0FBQyxJQUFJLE9BQU87QUFDdkYsbUJBQVMsT0FBTyxPQUFPO0FBQ3ZCLHdCQUFjLEtBQUs7QUFBQSxRQUNyQjtBQUNBLHdCQUFnQixJQUFJLFNBQVM7QUFBQSxVQUMzQjtBQUFBLFVBQ0E7QUFBQSxVQUNBO0FBQUEsUUFDRixDQUFDO0FBQ0QsaUJBQVMsU0FBUyxXQUFXLGlCQUFpQixPQUFPO0FBQ3JELGlCQUFTLFNBQVMsU0FBUyxjQUFjLE9BQU87QUFBQSxNQUNsRDtBQUNBLFVBQUksQ0FBQyxpQkFBaUI7QUFDcEIsY0FBTSxXQUFXLE1BQU07QUFDckIsc0JBQVksQ0FBQztBQUFBLFFBQ2Y7QUFDQSwwQkFBa0I7QUFBQSxVQUNoQjtBQUFBLFVBQ0E7QUFBQSxRQUNGO0FBQ0EsaUJBQVMsUUFBUSxTQUFTLFVBQVUsT0FBTztBQUFBLE1BQzdDO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFDQSxXQUFTLFFBQVEsVUFBVTtBQUN6QixRQUFJLFFBQVEsVUFBVSxTQUFTLEtBQUssVUFBVSxDQUFDLE1BQU0sU0FBWSxVQUFVLENBQUMsSUFBSTtBQUNoRixXQUFPLEtBQUssU0FBUyxFQUFFLFFBQVEsU0FBTztBQUNwQyxZQUFNLFdBQVcsVUFBVSxHQUFHLEVBQUUsT0FBTyxVQUFRLEtBQUssVUFBVSxTQUFTLEtBQUssYUFBYSxRQUFRO0FBQ2pHLGVBQVMsUUFBUSxVQUFRO0FBQ3ZCLFlBQUksUUFBUSxLQUFLLFFBQVE7QUFDdkIsZUFBSyxPQUFPO0FBQUEsUUFDZDtBQUFBLE1BQ0YsQ0FBQztBQUFBLElBQ0gsQ0FBQztBQUFBLEVBQ0g7QUFHQSxXQUFTLGVBQWUsU0FBUztBQUMvQixVQUFNLFNBQVMsT0FBTyxPQUFPLFNBQVMsRUFBRSxLQUFLO0FBQzdDLFVBQU0sWUFBWSxPQUFPLFVBQVUsV0FBUztBQUMxQyxVQUFJO0FBQUEsUUFDRixTQUFTO0FBQUEsTUFDWCxJQUFJO0FBQ0osYUFBTyxPQUFPO0FBQUEsSUFDaEIsQ0FBQztBQUNELFFBQUksWUFBWSxHQUFHO0FBQ2pCLFlBQU07QUFBQSxRQUNKO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNGLElBQUksZ0JBQWdCLElBQUksT0FBTyxLQUFLLENBQUM7QUFDckMsVUFBSSxtQkFBbUIsY0FBYztBQUNuQyxvQkFBWSxTQUFTLFNBQVMsY0FBYyxPQUFPO0FBQ25ELG9CQUFZLFNBQVMsV0FBVyxpQkFBaUIsT0FBTztBQUN4RCx3QkFBZ0IsT0FBTyxPQUFPO0FBQUEsTUFDaEM7QUFBQSxJQUNGO0FBQ0EsUUFBSSxPQUFPLFVBQVUsS0FBSyxnQkFBZ0IsUUFBUSxHQUFHO0FBRW5ELFlBQU0sWUFBWSxPQUFPLEtBQUssZUFBZTtBQUM3QyxnQkFBVSxRQUFRLFFBQU07QUFDdEIsY0FBTTtBQUFBLFVBQ0o7QUFBQSxVQUNBO0FBQUEsVUFDQTtBQUFBLFFBQ0YsSUFBSSxnQkFBZ0IsSUFBSSxFQUFFLEtBQUssQ0FBQztBQUNoQyxZQUFJLG1CQUFtQixjQUFjO0FBQ25DLHNCQUFZLElBQUksU0FBUyxjQUFjLE9BQU87QUFDOUMsc0JBQVksSUFBSSxXQUFXLGlCQUFpQixPQUFPO0FBQ25ELDBCQUFnQixPQUFPLEVBQUU7QUFBQSxRQUMzQjtBQUFBLE1BQ0YsQ0FBQztBQUVELHNCQUFnQixNQUFNO0FBRXRCLGFBQU8sS0FBSyxTQUFTLEVBQUUsUUFBUSxTQUFPLE9BQU8sVUFBVSxHQUFHLENBQUM7QUFFM0QsVUFBSSxpQkFBaUI7QUFDbkIsY0FBTTtBQUFBLFVBQ0o7QUFBQSxVQUNBO0FBQUEsUUFDRixJQUFJO0FBQ0osb0JBQVksUUFBUSxTQUFTLFVBQVUsT0FBTztBQUM5QywwQkFBa0I7QUFBQSxNQUNwQjtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQ0EsTUFBTSxPQUFPO0FBQUEsSUFDWDtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0EsUUFBUTtBQUFBLElBQ1IsVUFBVTtBQUFBLElBQ1Y7QUFBQSxFQUNGO0FBQ0EsYUFBVyxLQUFLLE1BQU07QUFDcEIsUUFBSSxPQUFPLFVBQVUsZUFBZSxLQUFLLE1BQU0sQ0FBQyxHQUFHO0FBQ2pELGNBQVEsQ0FBQyxJQUFJLEtBQUssQ0FBQztBQUFBLElBQ3JCO0FBQUEsRUFDRjtBQUNBLE1BQUksT0FBTyxXQUFXLGFBQWE7QUFDakMsVUFBTSxXQUFXLE9BQU87QUFDeEIsWUFBUSxhQUFhLFVBQVE7QUFDM0IsVUFBSSxRQUFRLE9BQU8sWUFBWSxTQUFTO0FBQ3RDLGVBQU8sVUFBVTtBQUFBLE1BQ25CO0FBQ0EsYUFBTztBQUFBLElBQ1Q7QUFDQSxXQUFPLFVBQVU7QUFBQSxFQUNuQjs7O0FDN29COEIsV0FBUyxPQUFPLEdBQUcsR0FBRztBQUNsRCxRQUFJLElBQUksQ0FBQztBQUNULGFBQVMsS0FBSyxFQUFHLEtBQUksT0FBTyxVQUFVLGVBQWUsS0FBSyxHQUFHLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxJQUFJLEVBQUcsR0FBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQy9GLFFBQUksS0FBSyxRQUFRLE9BQU8sT0FBTywwQkFBMEIsV0FBWSxVQUFTLElBQUksR0FBRyxJQUFJLE9BQU8sc0JBQXNCLENBQUMsR0FBRyxJQUFJLEVBQUUsUUFBUSxLQUFLO0FBQzNJLFVBQUksRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDLElBQUksS0FBSyxPQUFPLFVBQVUscUJBQXFCLEtBQUssR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFHLEdBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQUEsSUFDbEc7QUFDQSxXQUFPO0FBQUEsRUFDVDtBQUVBLE1BQU1DLGtCQUFpQjtBQUFBLElBQ3JCLE9BQU87QUFBQSxJQUNQLFFBQVE7QUFBQSxJQUNSLGVBQWU7QUFBQSxJQUNmLGFBQWE7QUFBQSxFQUNmO0FBRUEsTUFBTSxjQUFOLE1BQWtCO0FBQUEsSUFDaEIsWUFBWSxZQUFZLFVBQVUsQ0FBQyxHQUFHO0FBQ3BDLFVBQUksSUFBSSxJQUFJO0FBQ1osV0FBSyxNQUFNLENBQUMsY0FBYyxTQUFTO0FBQ2pDLFlBQUksQ0FBQyxLQUFLLE1BQU87QUFDakIsYUFBSyxPQUFPLGVBQWUsS0FBSyxLQUFLLFdBQVcsVUFBVSxPQUFPLFlBQVksSUFBSSxrQkFBa0IsY0FBYztBQUNqSCxhQUFLLE9BQU8sSUFBSSxPQUFPLE9BQU87QUFBQSxVQUM1QixjQUFjLEtBQUs7QUFBQSxRQUNyQixHQUFHLElBQUksQ0FBQztBQUNSLGFBQUssT0FBTyxTQUFTO0FBQUEsTUFDdkI7QUFDQSxXQUFLLE9BQU8sQ0FBQUMsYUFBVztBQUNyQixhQUFLLE9BQU8sS0FBSyxLQUFLLEtBQUssV0FBVyxVQUFVLE1BQU1BLFFBQU8sSUFBSSxxQ0FBcUMsY0FBYztBQUFBLE1BQ3RIO0FBQ0EsV0FBSyxXQUFXLENBQUMsV0FBVyxVQUFVLENBQUMsTUFBTTtBQUMzQyxZQUFJLEtBQUssZUFBZTtBQUN0QixnQkFBTSxFQUFDLE1BQVksSUFBSSxTQUFTLGVBQWUsT0FBTyxTQUFTLENBQUUsT0FBUSxDQUFDO0FBQzFFLGdCQUFNLGNBQWMsS0FBSyxjQUFjLFdBQVcsU0FBUyxNQUFNLFlBQVk7QUFDN0UsZUFBSyxjQUFjLGNBQWMsV0FBVztBQUM1QyxlQUFLLElBQUksaUJBQWlCLE9BQU8sT0FBTztBQUFBLFlBQ3RDLFdBQVcsWUFBWTtBQUFBLFVBQ3pCLEdBQUcsWUFBWSxDQUFDO0FBQUEsUUFDbEI7QUFBQSxNQUNGO0FBQ0EsV0FBSyxPQUFPLENBQUMsWUFBWSxPQUFPLENBQUMsTUFBTTtBQUNyQyxjQUFNLFNBQVMsS0FBSyxXQUFXLFVBQVU7QUFDekMsWUFBSSxPQUFPLFVBQVUsWUFBWTtBQUMvQixpQkFBTyxPQUFPLEtBQUssS0FBSyxZQUFZLElBQUk7QUFBQSxRQUMxQztBQUFBLE1BQ0Y7QUFDQSxXQUFLLGdCQUFnQixDQUFDLE1BQU0sT0FBTyxXQUFXO0FBQzVDLGNBQU0sRUFBQyxTQUFrQixZQUF3QixTQUFrQixJQUFJLFNBQVM7QUFBQSxVQUM5RSxTQUFTO0FBQUEsVUFDVCxZQUFZO0FBQUEsVUFDWixVQUFVO0FBQUEsUUFDWjtBQUNBLFlBQUksT0FBTztBQUNULGlCQUFPLE9BQU8sUUFBUTtBQUFBLFlBQ3BCLGVBQWU7QUFBQSxVQUNqQixDQUFDO0FBQUEsUUFDSDtBQUNBLGNBQU0sY0FBYyxJQUFJLFlBQVksS0FBSyxpQkFBaUIsSUFBSSxHQUFHO0FBQUEsVUFDL0Q7QUFBQSxVQUNBO0FBQUEsVUFDQTtBQUFBLFVBQ0E7QUFBQSxRQUNGLENBQUM7QUFDRCxlQUFPO0FBQUEsTUFDVDtBQUNBLFdBQUssbUJBQW1CLFVBQVE7QUFDOUIsWUFBSSxlQUFlO0FBQ25CLFlBQUksS0FBSyxnQkFBZ0IsTUFBTTtBQUM3Qix5QkFBZSxHQUFHLEtBQUssV0FBVyxVQUFVLElBQUksSUFBSTtBQUFBLFFBQ3RELFdBQVcsT0FBTyxLQUFLLGdCQUFnQixVQUFVO0FBQy9DLHlCQUFlLEdBQUcsS0FBSyxXQUFXLElBQUksSUFBSTtBQUFBLFFBQzVDO0FBQ0EsZUFBTztBQUFBLE1BQ1Q7QUFDQSxXQUFLLFNBQVMsTUFBTSxLQUFLLFlBQVksUUFBUSxZQUFZLFNBQVMsU0FBUyxRQUFRLFdBQVcsUUFBUSxPQUFPLFNBQVMsS0FBSyxXQUFXLFlBQVksc0JBQXNCLFFBQVEsT0FBTyxTQUFTLEtBQUtELGdCQUFlO0FBQ3BOLFdBQUssVUFBVSxLQUFLLFlBQVksUUFBUSxZQUFZLFNBQVMsU0FBUyxRQUFRLFlBQVksUUFBUSxPQUFPLFNBQVMsS0FBS0EsZ0JBQWU7QUFDdEksV0FBSyxhQUFhO0FBQ2xCLFdBQUssZUFBZSxXQUFXLFFBQVEsTUFBTSxXQUFXLFFBQVEsUUFBUTtBQUN4RSxXQUFLLGlCQUFpQixZQUFZLFFBQVEsWUFBWSxTQUFTLFNBQVMsUUFBUSxZQUFZLFdBQVc7QUFDdkcsWUFBTSxFQUFDLGVBQThCLFlBQXdCLElBQUksT0FBTyxPQUFPLENBQUMsR0FBR0EsaUJBQWdCLE9BQU87QUFDMUcsYUFBTyxPQUFPLE1BQU07QUFBQSxRQUNsQjtBQUFBLFFBQ0E7QUFBQSxNQUNGLENBQUM7QUFDRCxXQUFLLHVCQUF1QixXQUFXLFdBQVcsS0FBSyxVQUFVO0FBQ2pFLFdBQUssb0JBQW9CLFdBQVcsUUFBUSxLQUFLLFVBQVU7QUFDM0QsV0FBSyx1QkFBdUIsV0FBVyxXQUFXLEtBQUssVUFBVTtBQUFBLElBQ25FO0FBQUEsRUFDRjtBQUVBLE1BQU0sYUFBTixjQUF5QixZQUFZO0FBQUEsSUFDbkMsWUFBWSxZQUFZLGdCQUFnQjtBQUN0QyxZQUFNLFlBQVksY0FBYztBQUNoQyxXQUFLLE9BQU8sTUFBTTtBQUNoQixtQkFBVyxDQUFDLFFBQVEsVUFBVSxLQUFLLE9BQU8sUUFBUSxLQUFLLGVBQWUsT0FBTyxHQUFHO0FBQzlFLGdCQUFNLFVBQVUsV0FBVyxRQUFRLEtBQUssS0FBSyxVQUFVO0FBQ3ZELGtCQUFRLFFBQVEsV0FBVyxTQUFVLE9BQUssUUFBUSxHQUFHLENBQUMsQ0FBRTtBQUFBLFFBQzFEO0FBQUEsTUFDRjtBQUNBLFdBQUssU0FBUyxNQUFNO0FBQ2xCLG1CQUFXLFVBQVUsS0FBSyxlQUFlLFNBQVM7QUFDaEQsa0JBQVEsT0FBTyxNQUFNO0FBQUEsUUFDdkI7QUFBQSxNQUNGO0FBQ0EsV0FBSyxhQUFhO0FBQ2xCLFdBQUssaUJBQWlCO0FBQ3RCLFdBQUssa0JBQWtCO0FBQ3ZCLFdBQUssS0FBSztBQUFBLElBQ1o7QUFBQSxJQUNBLG9CQUFvQjtBQUNsQixVQUFJLEtBQUssZUFBZSxRQUFRO0FBQzlCLGdCQUFRLFNBQVMsS0FBSyxlQUFlO0FBQUEsTUFDdkM7QUFDQSxZQUFNLHVCQUF1QixLQUFLLFdBQVcsV0FBVyxLQUFLLEtBQUssVUFBVTtBQUM1RSxZQUFNLGFBQWEsTUFBTTtBQUN2QixhQUFLLE9BQU87QUFDWiw2QkFBcUI7QUFBQSxNQUN2QjtBQUNBLGFBQU8sT0FBTyxLQUFLLFlBQVk7QUFBQSxRQUM3QjtBQUFBLE1BQ0YsQ0FBQztBQUFBLElBQ0g7QUFBQSxFQUNGO0FBRUEsTUFBTSxnQ0FBZ0MsaUJBQWU7QUFBQSxJQUNuRCxTQUFTLFdBQVcsQ0FBQztBQUFBLElBQ3JCLFNBQVM7QUFBQSxNQUNQLFNBQVMsV0FBVyxDQUFDO0FBQUEsSUFDdkI7QUFBQSxFQUNGO0FBRUEsTUFBTSxnQkFBZ0IsYUFBVztBQUMvQixRQUFJLENBQUMsUUFBUSxTQUFTO0FBQ3BCLFlBQU1FLFdBQVUsQ0FBQztBQUNqQixhQUFPLFFBQVEsT0FBTyxFQUFFLFFBQVMsQ0FBQyxDQUFDLFFBQVEsVUFBVSxNQUFNO0FBQ3pELGVBQU8sZUFBZUEsVUFBUyxRQUFRO0FBQUEsVUFDckMsT0FBTyw4QkFBOEIsVUFBVTtBQUFBLFVBQy9DLFVBQVU7QUFBQSxVQUNWLFlBQVk7QUFBQSxRQUNkLENBQUM7QUFBQSxNQUNILENBQUU7QUFDRixnQkFBVTtBQUFBLFFBQ1IsU0FBU0E7QUFBQSxNQUNYO0FBQUEsSUFDRjtBQUNBLFdBQU87QUFBQSxFQUNUO0FBRUEsTUFBTSxhQUFhLENBQUMsWUFBWSxZQUFZLElBQUksV0FBVyxZQUFZLGNBQWMsT0FBTyxDQUFDOzs7QUZqSzdGLE1BQU8sa0JBQVAsY0FBNkIsV0FBVztBQUFBLElBTXRDLFVBQVU7QUFDUixpQkFBVyxNQUFNO0FBQUEsUUFDZixHQUFHLEtBQUs7QUFBQSxRQUNSLFdBQVcsQ0FBQyxVQUFVLEtBQUssY0FBYyxPQUFPLEVBQUU7QUFBQSxRQUNsRCxhQUFhLENBQUMsVUFBVSxLQUFLLGNBQWMsT0FBTyxDQUFDO0FBQUEsUUFDbkQsU0FBUyxDQUFDLFVBQVUsS0FBSyxXQUFXLEtBQUs7QUFBQSxNQUMzQyxDQUFDO0FBRUQsV0FBSyxlQUFlO0FBQUEsSUFDdEI7QUFBQSxJQUVBLGNBQWMsT0FBTyxXQUFXO0FBQzlCLFlBQU0sZUFBZTtBQUNyQixXQUFLLGdCQUFnQjtBQUNyQixVQUFJLEtBQUssZUFBZSxFQUFHLE1BQUssZUFBZSxLQUFLLFlBQVksU0FBUztBQUN6RSxVQUFJLEtBQUssZ0JBQWdCLEtBQUssWUFBWSxPQUFRLE1BQUssZUFBZTtBQUN0RSxXQUFLLGNBQWM7QUFBQSxJQUNyQjtBQUFBLElBRUEsZ0JBQWdCO0FBQ2QsV0FBSyxZQUFZLFFBQVEsQ0FBQyxNQUFNLFVBQVU7QUFDeEMsWUFBSSxVQUFVLEtBQUssY0FBYztBQUMvQixlQUFLLGFBQWEsaUJBQWlCLE1BQU07QUFDekMsZUFBSyxlQUFlLEVBQUUsT0FBTyxVQUFVLENBQUM7QUFBQSxRQUMxQyxPQUFPO0FBQ0wsZUFBSyxhQUFhLGlCQUFpQixPQUFPO0FBQUEsUUFDNUM7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNIO0FBQUEsSUFFQSxXQUFXLE9BQU87QUFDaEIsWUFBTSxlQUFlO0FBQ3JCLFlBQU0sZUFBZSxLQUFLLFlBQVksS0FBSyxZQUFZO0FBQ3ZELFVBQUksY0FBYztBQUNoQixnQkFBUSxJQUFJLGFBQWEsYUFBYSxRQUFRLEtBQUs7QUFBQSxNQUVyRDtBQUFBLElBQ0Y7QUFBQSxJQUVBLFNBQVM7QUFDUCxZQUFNLFFBQVEsS0FBSyxZQUFZLE1BQU0sWUFBWTtBQUNqRCxXQUFLLFlBQVksUUFBUSxVQUFRO0FBQy9CLGNBQU0sVUFBVSxLQUFLLFlBQVksWUFBWSxFQUFFLFNBQVMsS0FBSztBQUM3RCxhQUFLLE1BQU0sVUFBVSxVQUFVLEtBQUs7QUFBQSxNQUN0QyxDQUFDO0FBQUEsSUFDSDtBQUFBLEVBQ0Y7QUFuREUsZ0JBREssaUJBQ0UsV0FBVSxDQUFDLFNBQVMsUUFBUSxNQUFNO0FBQ3pDLGdCQUZLLGlCQUVFLFVBQVM7QUFBQSxJQUNkLFNBQVM7QUFBQSxFQUNYOzs7QUdWRjtBQUFBO0FBQUE7QUFBQTs7O0FDUUEsTUFBTSxNQUFNLEtBQUs7QUFDakIsTUFBTSxNQUFNLEtBQUs7QUFDakIsTUFBTSxRQUFRLEtBQUs7QUFDbkIsTUFBTSxRQUFRLEtBQUs7QUFDbkIsTUFBTSxlQUFlLFFBQU07QUFBQSxJQUN6QixHQUFHO0FBQUEsSUFDSCxHQUFHO0FBQUEsRUFDTDtBQUNBLE1BQU0sa0JBQWtCO0FBQUEsSUFDdEIsTUFBTTtBQUFBLElBQ04sT0FBTztBQUFBLElBQ1AsUUFBUTtBQUFBLElBQ1IsS0FBSztBQUFBLEVBQ1A7QUFDQSxNQUFNLHVCQUF1QjtBQUFBLElBQzNCLE9BQU87QUFBQSxJQUNQLEtBQUs7QUFBQSxFQUNQO0FBQ0EsV0FBUyxNQUFNLE9BQU8sT0FBTyxLQUFLO0FBQ2hDLFdBQU8sSUFBSSxPQUFPLElBQUksT0FBTyxHQUFHLENBQUM7QUFBQSxFQUNuQztBQUNBLFdBQVMsU0FBUyxPQUFPLE9BQU87QUFDOUIsV0FBTyxPQUFPLFVBQVUsYUFBYSxNQUFNLEtBQUssSUFBSTtBQUFBLEVBQ3REO0FBQ0EsV0FBUyxRQUFRLFdBQVc7QUFDMUIsV0FBTyxVQUFVLE1BQU0sR0FBRyxFQUFFLENBQUM7QUFBQSxFQUMvQjtBQUNBLFdBQVMsYUFBYSxXQUFXO0FBQy9CLFdBQU8sVUFBVSxNQUFNLEdBQUcsRUFBRSxDQUFDO0FBQUEsRUFDL0I7QUFDQSxXQUFTLGdCQUFnQixNQUFNO0FBQzdCLFdBQU8sU0FBUyxNQUFNLE1BQU07QUFBQSxFQUM5QjtBQUNBLFdBQVMsY0FBYyxNQUFNO0FBQzNCLFdBQU8sU0FBUyxNQUFNLFdBQVc7QUFBQSxFQUNuQztBQUNBLFdBQVMsWUFBWSxXQUFXO0FBQzlCLFdBQU8sQ0FBQyxPQUFPLFFBQVEsRUFBRSxTQUFTLFFBQVEsU0FBUyxDQUFDLElBQUksTUFBTTtBQUFBLEVBQ2hFO0FBQ0EsV0FBUyxpQkFBaUIsV0FBVztBQUNuQyxXQUFPLGdCQUFnQixZQUFZLFNBQVMsQ0FBQztBQUFBLEVBQy9DO0FBQ0EsV0FBUyxrQkFBa0IsV0FBVyxPQUFPLEtBQUs7QUFDaEQsUUFBSSxRQUFRLFFBQVE7QUFDbEIsWUFBTTtBQUFBLElBQ1I7QUFDQSxVQUFNLFlBQVksYUFBYSxTQUFTO0FBQ3hDLFVBQU0sZ0JBQWdCLGlCQUFpQixTQUFTO0FBQ2hELFVBQU0sU0FBUyxjQUFjLGFBQWE7QUFDMUMsUUFBSSxvQkFBb0Isa0JBQWtCLE1BQU0sZUFBZSxNQUFNLFFBQVEsV0FBVyxVQUFVLFNBQVMsY0FBYyxVQUFVLFdBQVc7QUFDOUksUUFBSSxNQUFNLFVBQVUsTUFBTSxJQUFJLE1BQU0sU0FBUyxNQUFNLEdBQUc7QUFDcEQsMEJBQW9CLHFCQUFxQixpQkFBaUI7QUFBQSxJQUM1RDtBQUNBLFdBQU8sQ0FBQyxtQkFBbUIscUJBQXFCLGlCQUFpQixDQUFDO0FBQUEsRUFDcEU7QUFDQSxXQUFTLHNCQUFzQixXQUFXO0FBQ3hDLFVBQU0sb0JBQW9CLHFCQUFxQixTQUFTO0FBQ3hELFdBQU8sQ0FBQyw4QkFBOEIsU0FBUyxHQUFHLG1CQUFtQiw4QkFBOEIsaUJBQWlCLENBQUM7QUFBQSxFQUN2SDtBQUNBLFdBQVMsOEJBQThCLFdBQVc7QUFDaEQsV0FBTyxVQUFVLFFBQVEsY0FBYyxlQUFhLHFCQUFxQixTQUFTLENBQUM7QUFBQSxFQUNyRjtBQUNBLFdBQVMsWUFBWSxNQUFNLFNBQVMsS0FBSztBQUN2QyxVQUFNLEtBQUssQ0FBQyxRQUFRLE9BQU87QUFDM0IsVUFBTSxLQUFLLENBQUMsU0FBUyxNQUFNO0FBQzNCLFVBQU0sS0FBSyxDQUFDLE9BQU8sUUFBUTtBQUMzQixVQUFNLEtBQUssQ0FBQyxVQUFVLEtBQUs7QUFDM0IsWUFBUSxNQUFNO0FBQUEsTUFDWixLQUFLO0FBQUEsTUFDTCxLQUFLO0FBQ0gsWUFBSSxJQUFLLFFBQU8sVUFBVSxLQUFLO0FBQy9CLGVBQU8sVUFBVSxLQUFLO0FBQUEsTUFDeEIsS0FBSztBQUFBLE1BQ0wsS0FBSztBQUNILGVBQU8sVUFBVSxLQUFLO0FBQUEsTUFDeEI7QUFDRSxlQUFPLENBQUM7QUFBQSxJQUNaO0FBQUEsRUFDRjtBQUNBLFdBQVMsMEJBQTBCLFdBQVcsZUFBZSxXQUFXLEtBQUs7QUFDM0UsVUFBTSxZQUFZLGFBQWEsU0FBUztBQUN4QyxRQUFJLE9BQU8sWUFBWSxRQUFRLFNBQVMsR0FBRyxjQUFjLFNBQVMsR0FBRztBQUNyRSxRQUFJLFdBQVc7QUFDYixhQUFPLEtBQUssSUFBSSxVQUFRLE9BQU8sTUFBTSxTQUFTO0FBQzlDLFVBQUksZUFBZTtBQUNqQixlQUFPLEtBQUssT0FBTyxLQUFLLElBQUksNkJBQTZCLENBQUM7QUFBQSxNQUM1RDtBQUFBLElBQ0Y7QUFDQSxXQUFPO0FBQUEsRUFDVDtBQUNBLFdBQVMscUJBQXFCLFdBQVc7QUFDdkMsV0FBTyxVQUFVLFFBQVEsMEJBQTBCLFVBQVEsZ0JBQWdCLElBQUksQ0FBQztBQUFBLEVBQ2xGO0FBQ0EsV0FBUyxvQkFBb0IsU0FBUztBQUNwQyxXQUFPO0FBQUEsTUFDTCxLQUFLO0FBQUEsTUFDTCxPQUFPO0FBQUEsTUFDUCxRQUFRO0FBQUEsTUFDUixNQUFNO0FBQUEsTUFDTixHQUFHO0FBQUEsSUFDTDtBQUFBLEVBQ0Y7QUFDQSxXQUFTLGlCQUFpQixTQUFTO0FBQ2pDLFdBQU8sT0FBTyxZQUFZLFdBQVcsb0JBQW9CLE9BQU8sSUFBSTtBQUFBLE1BQ2xFLEtBQUs7QUFBQSxNQUNMLE9BQU87QUFBQSxNQUNQLFFBQVE7QUFBQSxNQUNSLE1BQU07QUFBQSxJQUNSO0FBQUEsRUFDRjtBQUNBLFdBQVMsaUJBQWlCLE1BQU07QUFDOUIsVUFBTTtBQUFBLE1BQ0o7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNGLElBQUk7QUFDSixXQUFPO0FBQUEsTUFDTDtBQUFBLE1BQ0E7QUFBQSxNQUNBLEtBQUs7QUFBQSxNQUNMLE1BQU07QUFBQSxNQUNOLE9BQU8sSUFBSTtBQUFBLE1BQ1gsUUFBUSxJQUFJO0FBQUEsTUFDWjtBQUFBLE1BQ0E7QUFBQSxJQUNGO0FBQUEsRUFDRjs7O0FDcElBLFdBQVMsMkJBQTJCLE1BQU0sV0FBVyxLQUFLO0FBQ3hELFFBQUk7QUFBQSxNQUNGO0FBQUEsTUFDQTtBQUFBLElBQ0YsSUFBSTtBQUNKLFVBQU0sV0FBVyxZQUFZLFNBQVM7QUFDdEMsVUFBTSxnQkFBZ0IsaUJBQWlCLFNBQVM7QUFDaEQsVUFBTSxjQUFjLGNBQWMsYUFBYTtBQUMvQyxVQUFNLE9BQU8sUUFBUSxTQUFTO0FBQzlCLFVBQU0sYUFBYSxhQUFhO0FBQ2hDLFVBQU0sVUFBVSxVQUFVLElBQUksVUFBVSxRQUFRLElBQUksU0FBUyxRQUFRO0FBQ3JFLFVBQU0sVUFBVSxVQUFVLElBQUksVUFBVSxTQUFTLElBQUksU0FBUyxTQUFTO0FBQ3ZFLFVBQU0sY0FBYyxVQUFVLFdBQVcsSUFBSSxJQUFJLFNBQVMsV0FBVyxJQUFJO0FBQ3pFLFFBQUk7QUFDSixZQUFRLE1BQU07QUFBQSxNQUNaLEtBQUs7QUFDSCxpQkFBUztBQUFBLFVBQ1AsR0FBRztBQUFBLFVBQ0gsR0FBRyxVQUFVLElBQUksU0FBUztBQUFBLFFBQzVCO0FBQ0E7QUFBQSxNQUNGLEtBQUs7QUFDSCxpQkFBUztBQUFBLFVBQ1AsR0FBRztBQUFBLFVBQ0gsR0FBRyxVQUFVLElBQUksVUFBVTtBQUFBLFFBQzdCO0FBQ0E7QUFBQSxNQUNGLEtBQUs7QUFDSCxpQkFBUztBQUFBLFVBQ1AsR0FBRyxVQUFVLElBQUksVUFBVTtBQUFBLFVBQzNCLEdBQUc7QUFBQSxRQUNMO0FBQ0E7QUFBQSxNQUNGLEtBQUs7QUFDSCxpQkFBUztBQUFBLFVBQ1AsR0FBRyxVQUFVLElBQUksU0FBUztBQUFBLFVBQzFCLEdBQUc7QUFBQSxRQUNMO0FBQ0E7QUFBQSxNQUNGO0FBQ0UsaUJBQVM7QUFBQSxVQUNQLEdBQUcsVUFBVTtBQUFBLFVBQ2IsR0FBRyxVQUFVO0FBQUEsUUFDZjtBQUFBLElBQ0o7QUFDQSxZQUFRLGFBQWEsU0FBUyxHQUFHO0FBQUEsTUFDL0IsS0FBSztBQUNILGVBQU8sYUFBYSxLQUFLLGVBQWUsT0FBTyxhQUFhLEtBQUs7QUFDakU7QUFBQSxNQUNGLEtBQUs7QUFDSCxlQUFPLGFBQWEsS0FBSyxlQUFlLE9BQU8sYUFBYSxLQUFLO0FBQ2pFO0FBQUEsSUFDSjtBQUNBLFdBQU87QUFBQSxFQUNUO0FBU0EsTUFBTSxrQkFBa0IsT0FBTyxXQUFXLFVBQVUsV0FBVztBQUM3RCxVQUFNO0FBQUEsTUFDSixZQUFZO0FBQUEsTUFDWixXQUFXO0FBQUEsTUFDWCxhQUFhLENBQUM7QUFBQSxNQUNkLFVBQUFDO0FBQUEsSUFDRixJQUFJO0FBQ0osVUFBTSxrQkFBa0IsV0FBVyxPQUFPLE9BQU87QUFDakQsVUFBTSxNQUFNLE9BQU9BLFVBQVMsU0FBUyxPQUFPLFNBQVNBLFVBQVMsTUFBTSxRQUFRO0FBQzVFLFFBQUksUUFBUSxNQUFNQSxVQUFTLGdCQUFnQjtBQUFBLE1BQ3pDO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNGLENBQUM7QUFDRCxRQUFJO0FBQUEsTUFDRjtBQUFBLE1BQ0E7QUFBQSxJQUNGLElBQUksMkJBQTJCLE9BQU8sV0FBVyxHQUFHO0FBQ3BELFFBQUksb0JBQW9CO0FBQ3hCLFFBQUksaUJBQWlCLENBQUM7QUFDdEIsUUFBSSxhQUFhO0FBQ2pCLGFBQVMsSUFBSSxHQUFHLElBQUksZ0JBQWdCLFFBQVEsS0FBSztBQUMvQyxZQUFNO0FBQUEsUUFDSjtBQUFBLFFBQ0E7QUFBQSxNQUNGLElBQUksZ0JBQWdCLENBQUM7QUFDckIsWUFBTTtBQUFBLFFBQ0osR0FBRztBQUFBLFFBQ0gsR0FBRztBQUFBLFFBQ0g7QUFBQSxRQUNBO0FBQUEsTUFDRixJQUFJLE1BQU0sR0FBRztBQUFBLFFBQ1g7QUFBQSxRQUNBO0FBQUEsUUFDQSxrQkFBa0I7QUFBQSxRQUNsQixXQUFXO0FBQUEsUUFDWDtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQSxVQUFBQTtBQUFBLFFBQ0EsVUFBVTtBQUFBLFVBQ1I7QUFBQSxVQUNBO0FBQUEsUUFDRjtBQUFBLE1BQ0YsQ0FBQztBQUNELFVBQUksU0FBUyxPQUFPLFFBQVE7QUFDNUIsVUFBSSxTQUFTLE9BQU8sUUFBUTtBQUM1Qix1QkFBaUI7QUFBQSxRQUNmLEdBQUc7QUFBQSxRQUNILENBQUMsSUFBSSxHQUFHO0FBQUEsVUFDTixHQUFHLGVBQWUsSUFBSTtBQUFBLFVBQ3RCLEdBQUc7QUFBQSxRQUNMO0FBQUEsTUFDRjtBQUNBLFVBQUksU0FBUyxjQUFjLElBQUk7QUFDN0I7QUFDQSxZQUFJLE9BQU8sVUFBVSxVQUFVO0FBQzdCLGNBQUksTUFBTSxXQUFXO0FBQ25CLGdDQUFvQixNQUFNO0FBQUEsVUFDNUI7QUFDQSxjQUFJLE1BQU0sT0FBTztBQUNmLG9CQUFRLE1BQU0sVUFBVSxPQUFPLE1BQU1BLFVBQVMsZ0JBQWdCO0FBQUEsY0FDNUQ7QUFBQSxjQUNBO0FBQUEsY0FDQTtBQUFBLFlBQ0YsQ0FBQyxJQUFJLE1BQU07QUFBQSxVQUNiO0FBQ0EsV0FBQztBQUFBLFlBQ0M7QUFBQSxZQUNBO0FBQUEsVUFDRixJQUFJLDJCQUEyQixPQUFPLG1CQUFtQixHQUFHO0FBQUEsUUFDOUQ7QUFDQSxZQUFJO0FBQUEsTUFDTjtBQUFBLElBQ0Y7QUFDQSxXQUFPO0FBQUEsTUFDTDtBQUFBLE1BQ0E7QUFBQSxNQUNBLFdBQVc7QUFBQSxNQUNYO0FBQUEsTUFDQTtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBVUEsaUJBQWUsZUFBZSxPQUFPLFNBQVM7QUFDNUMsUUFBSTtBQUNKLFFBQUksWUFBWSxRQUFRO0FBQ3RCLGdCQUFVLENBQUM7QUFBQSxJQUNiO0FBQ0EsVUFBTTtBQUFBLE1BQ0o7QUFBQSxNQUNBO0FBQUEsTUFDQSxVQUFBQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0YsSUFBSTtBQUNKLFVBQU07QUFBQSxNQUNKLFdBQVc7QUFBQSxNQUNYLGVBQWU7QUFBQSxNQUNmLGlCQUFpQjtBQUFBLE1BQ2pCLGNBQWM7QUFBQSxNQUNkLFVBQVU7QUFBQSxJQUNaLElBQUksU0FBUyxTQUFTLEtBQUs7QUFDM0IsVUFBTSxnQkFBZ0IsaUJBQWlCLE9BQU87QUFDOUMsVUFBTSxhQUFhLG1CQUFtQixhQUFhLGNBQWM7QUFDakUsVUFBTSxVQUFVLFNBQVMsY0FBYyxhQUFhLGNBQWM7QUFDbEUsVUFBTSxxQkFBcUIsaUJBQWlCLE1BQU1BLFVBQVMsZ0JBQWdCO0FBQUEsTUFDekUsV0FBVyx3QkFBd0IsT0FBT0EsVUFBUyxhQUFhLE9BQU8sU0FBU0EsVUFBUyxVQUFVLE9BQU8sT0FBTyxPQUFPLHdCQUF3QixRQUFRLFVBQVUsUUFBUSxrQkFBbUIsT0FBT0EsVUFBUyxzQkFBc0IsT0FBTyxTQUFTQSxVQUFTLG1CQUFtQixTQUFTLFFBQVE7QUFBQSxNQUNoUztBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDRixDQUFDLENBQUM7QUFDRixVQUFNLE9BQU8sbUJBQW1CLGFBQWE7QUFBQSxNQUMzQztBQUFBLE1BQ0E7QUFBQSxNQUNBLE9BQU8sTUFBTSxTQUFTO0FBQUEsTUFDdEIsUUFBUSxNQUFNLFNBQVM7QUFBQSxJQUN6QixJQUFJLE1BQU07QUFDVixVQUFNLGVBQWUsT0FBT0EsVUFBUyxtQkFBbUIsT0FBTyxTQUFTQSxVQUFTLGdCQUFnQixTQUFTLFFBQVE7QUFDbEgsVUFBTSxjQUFlLE9BQU9BLFVBQVMsYUFBYSxPQUFPLFNBQVNBLFVBQVMsVUFBVSxZQUFZLEtBQU8sT0FBT0EsVUFBUyxZQUFZLE9BQU8sU0FBU0EsVUFBUyxTQUFTLFlBQVksTUFBTztBQUFBLE1BQ3ZMLEdBQUc7QUFBQSxNQUNILEdBQUc7QUFBQSxJQUNMLElBQUk7QUFBQSxNQUNGLEdBQUc7QUFBQSxNQUNILEdBQUc7QUFBQSxJQUNMO0FBQ0EsVUFBTSxvQkFBb0IsaUJBQWlCQSxVQUFTLHdEQUF3RCxNQUFNQSxVQUFTLHNEQUFzRDtBQUFBLE1BQy9LO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDRixDQUFDLElBQUksSUFBSTtBQUNULFdBQU87QUFBQSxNQUNMLE1BQU0sbUJBQW1CLE1BQU0sa0JBQWtCLE1BQU0sY0FBYyxPQUFPLFlBQVk7QUFBQSxNQUN4RixTQUFTLGtCQUFrQixTQUFTLG1CQUFtQixTQUFTLGNBQWMsVUFBVSxZQUFZO0FBQUEsTUFDcEcsT0FBTyxtQkFBbUIsT0FBTyxrQkFBa0IsT0FBTyxjQUFjLFFBQVEsWUFBWTtBQUFBLE1BQzVGLFFBQVEsa0JBQWtCLFFBQVEsbUJBQW1CLFFBQVEsY0FBYyxTQUFTLFlBQVk7QUFBQSxJQUNsRztBQUFBLEVBQ0Y7QUFPQSxNQUFNLFFBQVEsY0FBWTtBQUFBLElBQ3hCLE1BQU07QUFBQSxJQUNOO0FBQUEsSUFDQSxNQUFNLEdBQUcsT0FBTztBQUNkLFlBQU07QUFBQSxRQUNKO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQSxVQUFBQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsTUFDRixJQUFJO0FBRUosWUFBTTtBQUFBLFFBQ0o7QUFBQSxRQUNBLFVBQVU7QUFBQSxNQUNaLElBQUksU0FBUyxTQUFTLEtBQUssS0FBSyxDQUFDO0FBQ2pDLFVBQUksV0FBVyxNQUFNO0FBQ25CLGVBQU8sQ0FBQztBQUFBLE1BQ1Y7QUFDQSxZQUFNLGdCQUFnQixpQkFBaUIsT0FBTztBQUM5QyxZQUFNLFNBQVM7QUFBQSxRQUNiO0FBQUEsUUFDQTtBQUFBLE1BQ0Y7QUFDQSxZQUFNLE9BQU8saUJBQWlCLFNBQVM7QUFDdkMsWUFBTSxTQUFTLGNBQWMsSUFBSTtBQUNqQyxZQUFNLGtCQUFrQixNQUFNQSxVQUFTLGNBQWMsT0FBTztBQUM1RCxZQUFNLFVBQVUsU0FBUztBQUN6QixZQUFNLFVBQVUsVUFBVSxRQUFRO0FBQ2xDLFlBQU0sVUFBVSxVQUFVLFdBQVc7QUFDckMsWUFBTSxhQUFhLFVBQVUsaUJBQWlCO0FBQzlDLFlBQU0sVUFBVSxNQUFNLFVBQVUsTUFBTSxJQUFJLE1BQU0sVUFBVSxJQUFJLElBQUksT0FBTyxJQUFJLElBQUksTUFBTSxTQUFTLE1BQU07QUFDdEcsWUFBTSxZQUFZLE9BQU8sSUFBSSxJQUFJLE1BQU0sVUFBVSxJQUFJO0FBQ3JELFlBQU0sb0JBQW9CLE9BQU9BLFVBQVMsbUJBQW1CLE9BQU8sU0FBU0EsVUFBUyxnQkFBZ0IsT0FBTztBQUM3RyxVQUFJLGFBQWEsb0JBQW9CLGtCQUFrQixVQUFVLElBQUk7QUFHckUsVUFBSSxDQUFDLGNBQWMsQ0FBRSxPQUFPQSxVQUFTLGFBQWEsT0FBTyxTQUFTQSxVQUFTLFVBQVUsaUJBQWlCLElBQUs7QUFDekcscUJBQWEsU0FBUyxTQUFTLFVBQVUsS0FBSyxNQUFNLFNBQVMsTUFBTTtBQUFBLE1BQ3JFO0FBQ0EsWUFBTSxvQkFBb0IsVUFBVSxJQUFJLFlBQVk7QUFJcEQsWUFBTSx5QkFBeUIsYUFBYSxJQUFJLGdCQUFnQixNQUFNLElBQUksSUFBSTtBQUM5RSxZQUFNLGFBQWEsSUFBSSxjQUFjLE9BQU8sR0FBRyxzQkFBc0I7QUFDckUsWUFBTSxhQUFhLElBQUksY0FBYyxPQUFPLEdBQUcsc0JBQXNCO0FBSXJFLFlBQU0sUUFBUTtBQUNkLFlBQU1DLE9BQU0sYUFBYSxnQkFBZ0IsTUFBTSxJQUFJO0FBQ25ELFlBQU0sU0FBUyxhQUFhLElBQUksZ0JBQWdCLE1BQU0sSUFBSSxJQUFJO0FBQzlELFlBQU1DLFVBQVMsTUFBTSxPQUFPLFFBQVFELElBQUc7QUFNdkMsWUFBTSxrQkFBa0IsQ0FBQyxlQUFlLFNBQVMsYUFBYSxTQUFTLEtBQUssUUFBUSxXQUFXQyxXQUFVLE1BQU0sVUFBVSxNQUFNLElBQUksS0FBSyxTQUFTLFFBQVEsYUFBYSxjQUFjLGdCQUFnQixNQUFNLElBQUksSUFBSTtBQUNsTixZQUFNLGtCQUFrQixrQkFBa0IsU0FBUyxRQUFRLFNBQVMsUUFBUSxTQUFTRCxPQUFNO0FBQzNGLGFBQU87QUFBQSxRQUNMLENBQUMsSUFBSSxHQUFHLE9BQU8sSUFBSSxJQUFJO0FBQUEsUUFDdkIsTUFBTTtBQUFBLFVBQ0osQ0FBQyxJQUFJLEdBQUdDO0FBQUEsVUFDUixjQUFjLFNBQVNBLFVBQVM7QUFBQSxVQUNoQyxHQUFJLG1CQUFtQjtBQUFBLFlBQ3JCO0FBQUEsVUFDRjtBQUFBLFFBQ0Y7QUFBQSxRQUNBLE9BQU87QUFBQSxNQUNUO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUErR0EsTUFBTSxPQUFPLFNBQVUsU0FBUztBQUM5QixRQUFJLFlBQVksUUFBUTtBQUN0QixnQkFBVSxDQUFDO0FBQUEsSUFDYjtBQUNBLFdBQU87QUFBQSxNQUNMLE1BQU07QUFBQSxNQUNOO0FBQUEsTUFDQSxNQUFNLEdBQUcsT0FBTztBQUNkLFlBQUksdUJBQXVCO0FBQzNCLGNBQU07QUFBQSxVQUNKO0FBQUEsVUFDQTtBQUFBLFVBQ0E7QUFBQSxVQUNBO0FBQUEsVUFDQSxVQUFBQztBQUFBLFVBQ0E7QUFBQSxRQUNGLElBQUk7QUFDSixjQUFNO0FBQUEsVUFDSixVQUFVLGdCQUFnQjtBQUFBLFVBQzFCLFdBQVcsaUJBQWlCO0FBQUEsVUFDNUIsb0JBQW9CO0FBQUEsVUFDcEIsbUJBQW1CO0FBQUEsVUFDbkIsNEJBQTRCO0FBQUEsVUFDNUIsZ0JBQWdCO0FBQUEsVUFDaEIsR0FBRztBQUFBLFFBQ0wsSUFBSSxTQUFTLFNBQVMsS0FBSztBQU0zQixhQUFLLHdCQUF3QixlQUFlLFVBQVUsUUFBUSxzQkFBc0IsaUJBQWlCO0FBQ25HLGlCQUFPLENBQUM7QUFBQSxRQUNWO0FBQ0EsY0FBTSxPQUFPLFFBQVEsU0FBUztBQUM5QixjQUFNLGtCQUFrQixZQUFZLGdCQUFnQjtBQUNwRCxjQUFNLGtCQUFrQixRQUFRLGdCQUFnQixNQUFNO0FBQ3RELGNBQU0sTUFBTSxPQUFPQSxVQUFTLFNBQVMsT0FBTyxTQUFTQSxVQUFTLE1BQU0sU0FBUyxRQUFRO0FBQ3JGLGNBQU0scUJBQXFCLGdDQUFnQyxtQkFBbUIsQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBcUIsZ0JBQWdCLENBQUMsSUFBSSxzQkFBc0IsZ0JBQWdCO0FBQ2hMLGNBQU0sK0JBQStCLDhCQUE4QjtBQUNuRSxZQUFJLENBQUMsK0JBQStCLDhCQUE4QjtBQUNoRSw2QkFBbUIsS0FBSyxHQUFHLDBCQUEwQixrQkFBa0IsZUFBZSwyQkFBMkIsR0FBRyxDQUFDO0FBQUEsUUFDdkg7QUFDQSxjQUFNQyxjQUFhLENBQUMsa0JBQWtCLEdBQUcsa0JBQWtCO0FBQzNELGNBQU0sV0FBVyxNQUFNLGVBQWUsT0FBTyxxQkFBcUI7QUFDbEUsY0FBTSxZQUFZLENBQUM7QUFDbkIsWUFBSSxrQkFBa0IsdUJBQXVCLGVBQWUsU0FBUyxPQUFPLFNBQVMscUJBQXFCLGNBQWMsQ0FBQztBQUN6SCxZQUFJLGVBQWU7QUFDakIsb0JBQVUsS0FBSyxTQUFTLElBQUksQ0FBQztBQUFBLFFBQy9CO0FBQ0EsWUFBSSxnQkFBZ0I7QUFDbEIsZ0JBQU1DLFNBQVEsa0JBQWtCLFdBQVcsT0FBTyxHQUFHO0FBQ3JELG9CQUFVLEtBQUssU0FBU0EsT0FBTSxDQUFDLENBQUMsR0FBRyxTQUFTQSxPQUFNLENBQUMsQ0FBQyxDQUFDO0FBQUEsUUFDdkQ7QUFDQSx3QkFBZ0IsQ0FBQyxHQUFHLGVBQWU7QUFBQSxVQUNqQztBQUFBLFVBQ0E7QUFBQSxRQUNGLENBQUM7QUFHRCxZQUFJLENBQUMsVUFBVSxNQUFNLENBQUFDLFVBQVFBLFNBQVEsQ0FBQyxHQUFHO0FBQ3ZDLGNBQUksdUJBQXVCO0FBQzNCLGdCQUFNLGVBQWUsd0JBQXdCLGVBQWUsU0FBUyxPQUFPLFNBQVMsc0JBQXNCLFVBQVUsS0FBSztBQUMxSCxnQkFBTSxnQkFBZ0JGLFlBQVcsU0FBUztBQUMxQyxjQUFJLGVBQWU7QUFFakIsbUJBQU87QUFBQSxjQUNMLE1BQU07QUFBQSxnQkFDSixPQUFPO0FBQUEsZ0JBQ1AsV0FBVztBQUFBLGNBQ2I7QUFBQSxjQUNBLE9BQU87QUFBQSxnQkFDTCxXQUFXO0FBQUEsY0FDYjtBQUFBLFlBQ0Y7QUFBQSxVQUNGO0FBSUEsY0FBSSxrQkFBa0Isd0JBQXdCLGNBQWMsT0FBTyxPQUFLLEVBQUUsVUFBVSxDQUFDLEtBQUssQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLE1BQU0sRUFBRSxVQUFVLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLE9BQU8sU0FBUyxzQkFBc0I7QUFHMUwsY0FBSSxDQUFDLGdCQUFnQjtBQUNuQixvQkFBUSxrQkFBa0I7QUFBQSxjQUN4QixLQUFLLFdBQ0g7QUFDRSxvQkFBSTtBQUNKLHNCQUFNRyxjQUFhLHlCQUF5QixjQUFjLE9BQU8sT0FBSztBQUNwRSxzQkFBSSw4QkFBOEI7QUFDaEMsMEJBQU0sa0JBQWtCLFlBQVksRUFBRSxTQUFTO0FBQy9DLDJCQUFPLG9CQUFvQjtBQUFBO0FBQUEsb0JBRzNCLG9CQUFvQjtBQUFBLGtCQUN0QjtBQUNBLHlCQUFPO0FBQUEsZ0JBQ1QsQ0FBQyxFQUFFLElBQUksT0FBSyxDQUFDLEVBQUUsV0FBVyxFQUFFLFVBQVUsT0FBTyxDQUFBQyxjQUFZQSxZQUFXLENBQUMsRUFBRSxPQUFPLENBQUMsS0FBS0EsY0FBYSxNQUFNQSxXQUFVLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsTUFBTSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsTUFBTSxPQUFPLFNBQVMsdUJBQXVCLENBQUM7QUFDak0sb0JBQUlELFlBQVc7QUFDYixtQ0FBaUJBO0FBQUEsZ0JBQ25CO0FBQ0E7QUFBQSxjQUNGO0FBQUEsY0FDRixLQUFLO0FBQ0gsaUNBQWlCO0FBQ2pCO0FBQUEsWUFDSjtBQUFBLFVBQ0Y7QUFDQSxjQUFJLGNBQWMsZ0JBQWdCO0FBQ2hDLG1CQUFPO0FBQUEsY0FDTCxPQUFPO0FBQUEsZ0JBQ0wsV0FBVztBQUFBLGNBQ2I7QUFBQSxZQUNGO0FBQUEsVUFDRjtBQUFBLFFBQ0Y7QUFDQSxlQUFPLENBQUM7QUFBQSxNQUNWO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUE2TUEsaUJBQWUscUJBQXFCLE9BQU8sU0FBUztBQUNsRCxVQUFNO0FBQUEsTUFDSjtBQUFBLE1BQ0EsVUFBQUU7QUFBQSxNQUNBO0FBQUEsSUFDRixJQUFJO0FBQ0osVUFBTSxNQUFNLE9BQU9BLFVBQVMsU0FBUyxPQUFPLFNBQVNBLFVBQVMsTUFBTSxTQUFTLFFBQVE7QUFDckYsVUFBTSxPQUFPLFFBQVEsU0FBUztBQUM5QixVQUFNLFlBQVksYUFBYSxTQUFTO0FBQ3hDLFVBQU0sYUFBYSxZQUFZLFNBQVMsTUFBTTtBQUM5QyxVQUFNLGdCQUFnQixDQUFDLFFBQVEsS0FBSyxFQUFFLFNBQVMsSUFBSSxJQUFJLEtBQUs7QUFDNUQsVUFBTSxpQkFBaUIsT0FBTyxhQUFhLEtBQUs7QUFDaEQsVUFBTSxXQUFXLFNBQVMsU0FBUyxLQUFLO0FBR3hDLFFBQUk7QUFBQSxNQUNGO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNGLElBQUksT0FBTyxhQUFhLFdBQVc7QUFBQSxNQUNqQyxVQUFVO0FBQUEsTUFDVixXQUFXO0FBQUEsTUFDWCxlQUFlO0FBQUEsSUFDakIsSUFBSTtBQUFBLE1BQ0YsVUFBVTtBQUFBLE1BQ1YsV0FBVztBQUFBLE1BQ1gsZUFBZTtBQUFBLE1BQ2YsR0FBRztBQUFBLElBQ0w7QUFDQSxRQUFJLGFBQWEsT0FBTyxrQkFBa0IsVUFBVTtBQUNsRCxrQkFBWSxjQUFjLFFBQVEsZ0JBQWdCLEtBQUs7QUFBQSxJQUN6RDtBQUNBLFdBQU8sYUFBYTtBQUFBLE1BQ2xCLEdBQUcsWUFBWTtBQUFBLE1BQ2YsR0FBRyxXQUFXO0FBQUEsSUFDaEIsSUFBSTtBQUFBLE1BQ0YsR0FBRyxXQUFXO0FBQUEsTUFDZCxHQUFHLFlBQVk7QUFBQSxJQUNqQjtBQUFBLEVBQ0Y7QUFTQSxNQUFNLFNBQVMsU0FBVSxTQUFTO0FBQ2hDLFFBQUksWUFBWSxRQUFRO0FBQ3RCLGdCQUFVO0FBQUEsSUFDWjtBQUNBLFdBQU87QUFBQSxNQUNMLE1BQU07QUFBQSxNQUNOO0FBQUEsTUFDQSxNQUFNLEdBQUcsT0FBTztBQUNkLFlBQUksdUJBQXVCO0FBQzNCLGNBQU07QUFBQSxVQUNKO0FBQUEsVUFDQTtBQUFBLFVBQ0E7QUFBQSxVQUNBO0FBQUEsUUFDRixJQUFJO0FBQ0osY0FBTSxhQUFhLE1BQU0scUJBQXFCLE9BQU8sT0FBTztBQUk1RCxZQUFJLGdCQUFnQix3QkFBd0IsZUFBZSxXQUFXLE9BQU8sU0FBUyxzQkFBc0IsZUFBZSx3QkFBd0IsZUFBZSxVQUFVLFFBQVEsc0JBQXNCLGlCQUFpQjtBQUN6TixpQkFBTyxDQUFDO0FBQUEsUUFDVjtBQUNBLGVBQU87QUFBQSxVQUNMLEdBQUcsSUFBSSxXQUFXO0FBQUEsVUFDbEIsR0FBRyxJQUFJLFdBQVc7QUFBQSxVQUNsQixNQUFNO0FBQUEsWUFDSixHQUFHO0FBQUEsWUFDSDtBQUFBLFVBQ0Y7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBT0EsTUFBTSxRQUFRLFNBQVUsU0FBUztBQUMvQixRQUFJLFlBQVksUUFBUTtBQUN0QixnQkFBVSxDQUFDO0FBQUEsSUFDYjtBQUNBLFdBQU87QUFBQSxNQUNMLE1BQU07QUFBQSxNQUNOO0FBQUEsTUFDQSxNQUFNLEdBQUcsT0FBTztBQUNkLGNBQU07QUFBQSxVQUNKO0FBQUEsVUFDQTtBQUFBLFVBQ0E7QUFBQSxRQUNGLElBQUk7QUFDSixjQUFNO0FBQUEsVUFDSixVQUFVLGdCQUFnQjtBQUFBLFVBQzFCLFdBQVcsaUJBQWlCO0FBQUEsVUFDNUIsVUFBVTtBQUFBLFlBQ1IsSUFBSSxVQUFRO0FBQ1Ysa0JBQUk7QUFBQSxnQkFDRixHQUFBQztBQUFBLGdCQUNBLEdBQUFDO0FBQUEsY0FDRixJQUFJO0FBQ0oscUJBQU87QUFBQSxnQkFDTCxHQUFBRDtBQUFBLGdCQUNBLEdBQUFDO0FBQUEsY0FDRjtBQUFBLFlBQ0Y7QUFBQSxVQUNGO0FBQUEsVUFDQSxHQUFHO0FBQUEsUUFDTCxJQUFJLFNBQVMsU0FBUyxLQUFLO0FBQzNCLGNBQU0sU0FBUztBQUFBLFVBQ2I7QUFBQSxVQUNBO0FBQUEsUUFDRjtBQUNBLGNBQU0sV0FBVyxNQUFNLGVBQWUsT0FBTyxxQkFBcUI7QUFDbEUsY0FBTSxZQUFZLFlBQVksUUFBUSxTQUFTLENBQUM7QUFDaEQsY0FBTSxXQUFXLGdCQUFnQixTQUFTO0FBQzFDLFlBQUksZ0JBQWdCLE9BQU8sUUFBUTtBQUNuQyxZQUFJLGlCQUFpQixPQUFPLFNBQVM7QUFDckMsWUFBSSxlQUFlO0FBQ2pCLGdCQUFNLFVBQVUsYUFBYSxNQUFNLFFBQVE7QUFDM0MsZ0JBQU0sVUFBVSxhQUFhLE1BQU0sV0FBVztBQUM5QyxnQkFBTUMsT0FBTSxnQkFBZ0IsU0FBUyxPQUFPO0FBQzVDLGdCQUFNQyxPQUFNLGdCQUFnQixTQUFTLE9BQU87QUFDNUMsMEJBQWdCLE1BQU1ELE1BQUssZUFBZUMsSUFBRztBQUFBLFFBQy9DO0FBQ0EsWUFBSSxnQkFBZ0I7QUFDbEIsZ0JBQU0sVUFBVSxjQUFjLE1BQU0sUUFBUTtBQUM1QyxnQkFBTSxVQUFVLGNBQWMsTUFBTSxXQUFXO0FBQy9DLGdCQUFNRCxPQUFNLGlCQUFpQixTQUFTLE9BQU87QUFDN0MsZ0JBQU1DLE9BQU0saUJBQWlCLFNBQVMsT0FBTztBQUM3QywyQkFBaUIsTUFBTUQsTUFBSyxnQkFBZ0JDLElBQUc7QUFBQSxRQUNqRDtBQUNBLGNBQU0sZ0JBQWdCLFFBQVEsR0FBRztBQUFBLFVBQy9CLEdBQUc7QUFBQSxVQUNILENBQUMsUUFBUSxHQUFHO0FBQUEsVUFDWixDQUFDLFNBQVMsR0FBRztBQUFBLFFBQ2YsQ0FBQztBQUNELGVBQU87QUFBQSxVQUNMLEdBQUc7QUFBQSxVQUNILE1BQU07QUFBQSxZQUNKLEdBQUcsY0FBYyxJQUFJO0FBQUEsWUFDckIsR0FBRyxjQUFjLElBQUk7QUFBQSxVQUN2QjtBQUFBLFFBQ0Y7QUFBQSxNQUNGO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7OztBQ24zQkEsV0FBUyxZQUFZLE1BQU07QUFDekIsUUFBSSxPQUFPLElBQUksR0FBRztBQUNoQixjQUFRLEtBQUssWUFBWSxJQUFJLFlBQVk7QUFBQSxJQUMzQztBQUlBLFdBQU87QUFBQSxFQUNUO0FBQ0EsV0FBUyxVQUFVLE1BQU07QUFDdkIsUUFBSTtBQUNKLFlBQVEsUUFBUSxTQUFTLHNCQUFzQixLQUFLLGtCQUFrQixPQUFPLFNBQVMsb0JBQW9CLGdCQUFnQjtBQUFBLEVBQzVIO0FBQ0EsV0FBUyxtQkFBbUIsTUFBTTtBQUNoQyxRQUFJO0FBQ0osWUFBUSxRQUFRLE9BQU8sSUFBSSxJQUFJLEtBQUssZ0JBQWdCLEtBQUssYUFBYSxPQUFPLGFBQWEsT0FBTyxTQUFTLEtBQUs7QUFBQSxFQUNqSDtBQUNBLFdBQVMsT0FBTyxPQUFPO0FBQ3JCLFdBQU8saUJBQWlCLFFBQVEsaUJBQWlCLFVBQVUsS0FBSyxFQUFFO0FBQUEsRUFDcEU7QUFDQSxXQUFTLFVBQVUsT0FBTztBQUN4QixXQUFPLGlCQUFpQixXQUFXLGlCQUFpQixVQUFVLEtBQUssRUFBRTtBQUFBLEVBQ3ZFO0FBQ0EsV0FBUyxjQUFjLE9BQU87QUFDNUIsV0FBTyxpQkFBaUIsZUFBZSxpQkFBaUIsVUFBVSxLQUFLLEVBQUU7QUFBQSxFQUMzRTtBQUNBLFdBQVMsYUFBYSxPQUFPO0FBRTNCLFFBQUksT0FBTyxlQUFlLGFBQWE7QUFDckMsYUFBTztBQUFBLElBQ1Q7QUFDQSxXQUFPLGlCQUFpQixjQUFjLGlCQUFpQixVQUFVLEtBQUssRUFBRTtBQUFBLEVBQzFFO0FBQ0EsV0FBUyxrQkFBa0IsU0FBUztBQUNsQyxVQUFNO0FBQUEsTUFDSjtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0YsSUFBSUMsa0JBQWlCLE9BQU87QUFDNUIsV0FBTyxrQ0FBa0MsS0FBSyxXQUFXLFlBQVksU0FBUyxLQUFLLENBQUMsQ0FBQyxVQUFVLFVBQVUsRUFBRSxTQUFTLE9BQU87QUFBQSxFQUM3SDtBQUNBLFdBQVMsZUFBZSxTQUFTO0FBQy9CLFdBQU8sQ0FBQyxTQUFTLE1BQU0sSUFBSSxFQUFFLFNBQVMsWUFBWSxPQUFPLENBQUM7QUFBQSxFQUM1RDtBQUNBLFdBQVMsV0FBVyxTQUFTO0FBQzNCLFdBQU8sQ0FBQyxpQkFBaUIsUUFBUSxFQUFFLEtBQUssY0FBWTtBQUNsRCxVQUFJO0FBQ0YsZUFBTyxRQUFRLFFBQVEsUUFBUTtBQUFBLE1BQ2pDLFNBQVMsR0FBRztBQUNWLGVBQU87QUFBQSxNQUNUO0FBQUEsSUFDRixDQUFDO0FBQUEsRUFDSDtBQUNBLFdBQVMsa0JBQWtCLFNBQVM7QUFDbEMsVUFBTSxTQUFTLFNBQVM7QUFDeEIsVUFBTSxNQUFNQSxrQkFBaUIsT0FBTztBQUdwQyxXQUFPLElBQUksY0FBYyxVQUFVLElBQUksZ0JBQWdCLFdBQVcsSUFBSSxnQkFBZ0IsSUFBSSxrQkFBa0IsV0FBVyxVQUFVLENBQUMsV0FBVyxJQUFJLGlCQUFpQixJQUFJLG1CQUFtQixTQUFTLFVBQVUsQ0FBQyxXQUFXLElBQUksU0FBUyxJQUFJLFdBQVcsU0FBUyxVQUFVLENBQUMsYUFBYSxlQUFlLFFBQVEsRUFBRSxLQUFLLFlBQVUsSUFBSSxjQUFjLElBQUksU0FBUyxLQUFLLENBQUMsS0FBSyxDQUFDLFNBQVMsVUFBVSxVQUFVLFNBQVMsRUFBRSxLQUFLLFlBQVUsSUFBSSxXQUFXLElBQUksU0FBUyxLQUFLLENBQUM7QUFBQSxFQUNuYztBQUNBLFdBQVMsbUJBQW1CLFNBQVM7QUFDbkMsUUFBSSxjQUFjLGNBQWMsT0FBTztBQUN2QyxXQUFPLGNBQWMsV0FBVyxLQUFLLENBQUMsc0JBQXNCLFdBQVcsR0FBRztBQUN4RSxVQUFJLFdBQVcsV0FBVyxHQUFHO0FBQzNCLGVBQU87QUFBQSxNQUNUO0FBQ0EsVUFBSSxrQkFBa0IsV0FBVyxHQUFHO0FBQ2xDLGVBQU87QUFBQSxNQUNUO0FBQ0Esb0JBQWMsY0FBYyxXQUFXO0FBQUEsSUFDekM7QUFDQSxXQUFPO0FBQUEsRUFDVDtBQUNBLFdBQVMsV0FBVztBQUNsQixRQUFJLE9BQU8sUUFBUSxlQUFlLENBQUMsSUFBSSxTQUFVLFFBQU87QUFDeEQsV0FBTyxJQUFJLFNBQVMsMkJBQTJCLE1BQU07QUFBQSxFQUN2RDtBQUNBLFdBQVMsc0JBQXNCLE1BQU07QUFDbkMsV0FBTyxDQUFDLFFBQVEsUUFBUSxXQUFXLEVBQUUsU0FBUyxZQUFZLElBQUksQ0FBQztBQUFBLEVBQ2pFO0FBQ0EsV0FBU0Esa0JBQWlCLFNBQVM7QUFDakMsV0FBTyxVQUFVLE9BQU8sRUFBRSxpQkFBaUIsT0FBTztBQUFBLEVBQ3BEO0FBQ0EsV0FBUyxjQUFjLFNBQVM7QUFDOUIsUUFBSSxVQUFVLE9BQU8sR0FBRztBQUN0QixhQUFPO0FBQUEsUUFDTCxZQUFZLFFBQVE7QUFBQSxRQUNwQixXQUFXLFFBQVE7QUFBQSxNQUNyQjtBQUFBLElBQ0Y7QUFDQSxXQUFPO0FBQUEsTUFDTCxZQUFZLFFBQVE7QUFBQSxNQUNwQixXQUFXLFFBQVE7QUFBQSxJQUNyQjtBQUFBLEVBQ0Y7QUFDQSxXQUFTLGNBQWMsTUFBTTtBQUMzQixRQUFJLFlBQVksSUFBSSxNQUFNLFFBQVE7QUFDaEMsYUFBTztBQUFBLElBQ1Q7QUFDQSxVQUFNO0FBQUE7QUFBQSxNQUVOLEtBQUs7QUFBQSxNQUVMLEtBQUs7QUFBQSxNQUVMLGFBQWEsSUFBSSxLQUFLLEtBQUs7QUFBQSxNQUUzQixtQkFBbUIsSUFBSTtBQUFBO0FBQ3ZCLFdBQU8sYUFBYSxNQUFNLElBQUksT0FBTyxPQUFPO0FBQUEsRUFDOUM7QUFDQSxXQUFTLDJCQUEyQixNQUFNO0FBQ3hDLFVBQU0sYUFBYSxjQUFjLElBQUk7QUFDckMsUUFBSSxzQkFBc0IsVUFBVSxHQUFHO0FBQ3JDLGFBQU8sS0FBSyxnQkFBZ0IsS0FBSyxjQUFjLE9BQU8sS0FBSztBQUFBLElBQzdEO0FBQ0EsUUFBSSxjQUFjLFVBQVUsS0FBSyxrQkFBa0IsVUFBVSxHQUFHO0FBQzlELGFBQU87QUFBQSxJQUNUO0FBQ0EsV0FBTywyQkFBMkIsVUFBVTtBQUFBLEVBQzlDO0FBQ0EsV0FBUyxxQkFBcUIsTUFBTSxNQUFNLGlCQUFpQjtBQUN6RCxRQUFJO0FBQ0osUUFBSSxTQUFTLFFBQVE7QUFDbkIsYUFBTyxDQUFDO0FBQUEsSUFDVjtBQUNBLFFBQUksb0JBQW9CLFFBQVE7QUFDOUIsd0JBQWtCO0FBQUEsSUFDcEI7QUFDQSxVQUFNLHFCQUFxQiwyQkFBMkIsSUFBSTtBQUMxRCxVQUFNLFNBQVMseUJBQXlCLHVCQUF1QixLQUFLLGtCQUFrQixPQUFPLFNBQVMscUJBQXFCO0FBQzNILFVBQU0sTUFBTSxVQUFVLGtCQUFrQjtBQUN4QyxRQUFJLFFBQVE7QUFDVixhQUFPLEtBQUssT0FBTyxLQUFLLElBQUksa0JBQWtCLENBQUMsR0FBRyxrQkFBa0Isa0JBQWtCLElBQUkscUJBQXFCLENBQUMsR0FBRyxJQUFJLGdCQUFnQixrQkFBa0IscUJBQXFCLElBQUksWUFBWSxJQUFJLENBQUMsQ0FBQztBQUFBLElBQ3RNO0FBQ0EsV0FBTyxLQUFLLE9BQU8sb0JBQW9CLHFCQUFxQixvQkFBb0IsQ0FBQyxHQUFHLGVBQWUsQ0FBQztBQUFBLEVBQ3RHOzs7QUNuSUEsV0FBUyxpQkFBaUIsU0FBUztBQUNqQyxVQUFNLE1BQU1DLGtCQUFpQixPQUFPO0FBR3BDLFFBQUksUUFBUSxXQUFXLElBQUksS0FBSyxLQUFLO0FBQ3JDLFFBQUksU0FBUyxXQUFXLElBQUksTUFBTSxLQUFLO0FBQ3ZDLFVBQU0sWUFBWSxjQUFjLE9BQU87QUFDdkMsVUFBTSxjQUFjLFlBQVksUUFBUSxjQUFjO0FBQ3RELFVBQU0sZUFBZSxZQUFZLFFBQVEsZUFBZTtBQUN4RCxVQUFNLGlCQUFpQixNQUFNLEtBQUssTUFBTSxlQUFlLE1BQU0sTUFBTSxNQUFNO0FBQ3pFLFFBQUksZ0JBQWdCO0FBQ2xCLGNBQVE7QUFDUixlQUFTO0FBQUEsSUFDWDtBQUNBLFdBQU87QUFBQSxNQUNMO0FBQUEsTUFDQTtBQUFBLE1BQ0EsR0FBRztBQUFBLElBQ0w7QUFBQSxFQUNGO0FBRUEsV0FBUyxjQUFjLFNBQVM7QUFDOUIsV0FBTyxDQUFDLFVBQVUsT0FBTyxJQUFJLFFBQVEsaUJBQWlCO0FBQUEsRUFDeEQ7QUFFQSxXQUFTLFNBQVMsU0FBUztBQUN6QixVQUFNLGFBQWEsY0FBYyxPQUFPO0FBQ3hDLFFBQUksQ0FBQyxjQUFjLFVBQVUsR0FBRztBQUM5QixhQUFPLGFBQWEsQ0FBQztBQUFBLElBQ3ZCO0FBQ0EsVUFBTSxPQUFPLFdBQVcsc0JBQXNCO0FBQzlDLFVBQU07QUFBQSxNQUNKO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNGLElBQUksaUJBQWlCLFVBQVU7QUFDL0IsUUFBSSxLQUFLLElBQUksTUFBTSxLQUFLLEtBQUssSUFBSSxLQUFLLFNBQVM7QUFDL0MsUUFBSSxLQUFLLElBQUksTUFBTSxLQUFLLE1BQU0sSUFBSSxLQUFLLFVBQVU7QUFJakQsUUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLFNBQVMsQ0FBQyxHQUFHO0FBQzdCLFVBQUk7QUFBQSxJQUNOO0FBQ0EsUUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLFNBQVMsQ0FBQyxHQUFHO0FBQzdCLFVBQUk7QUFBQSxJQUNOO0FBQ0EsV0FBTztBQUFBLE1BQ0w7QUFBQSxNQUNBO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFFQSxNQUFNLFlBQXlCLDZCQUFhLENBQUM7QUFDN0MsV0FBUyxpQkFBaUIsU0FBUztBQUNqQyxVQUFNLE1BQU0sVUFBVSxPQUFPO0FBQzdCLFFBQUksQ0FBQyxTQUFTLEtBQUssQ0FBQyxJQUFJLGdCQUFnQjtBQUN0QyxhQUFPO0FBQUEsSUFDVDtBQUNBLFdBQU87QUFBQSxNQUNMLEdBQUcsSUFBSSxlQUFlO0FBQUEsTUFDdEIsR0FBRyxJQUFJLGVBQWU7QUFBQSxJQUN4QjtBQUFBLEVBQ0Y7QUFDQSxXQUFTLHVCQUF1QixTQUFTLFNBQVMsc0JBQXNCO0FBQ3RFLFFBQUksWUFBWSxRQUFRO0FBQ3RCLGdCQUFVO0FBQUEsSUFDWjtBQUNBLFFBQUksQ0FBQyx3QkFBd0IsV0FBVyx5QkFBeUIsVUFBVSxPQUFPLEdBQUc7QUFDbkYsYUFBTztBQUFBLElBQ1Q7QUFDQSxXQUFPO0FBQUEsRUFDVDtBQUVBLFdBQVMsc0JBQXNCLFNBQVMsY0FBYyxpQkFBaUIsY0FBYztBQUNuRixRQUFJLGlCQUFpQixRQUFRO0FBQzNCLHFCQUFlO0FBQUEsSUFDakI7QUFDQSxRQUFJLG9CQUFvQixRQUFRO0FBQzlCLHdCQUFrQjtBQUFBLElBQ3BCO0FBQ0EsVUFBTSxhQUFhLFFBQVEsc0JBQXNCO0FBQ2pELFVBQU0sYUFBYSxjQUFjLE9BQU87QUFDeEMsUUFBSSxRQUFRLGFBQWEsQ0FBQztBQUMxQixRQUFJLGNBQWM7QUFDaEIsVUFBSSxjQUFjO0FBQ2hCLFlBQUksVUFBVSxZQUFZLEdBQUc7QUFDM0Isa0JBQVEsU0FBUyxZQUFZO0FBQUEsUUFDL0I7QUFBQSxNQUNGLE9BQU87QUFDTCxnQkFBUSxTQUFTLE9BQU87QUFBQSxNQUMxQjtBQUFBLElBQ0Y7QUFDQSxVQUFNLGdCQUFnQix1QkFBdUIsWUFBWSxpQkFBaUIsWUFBWSxJQUFJLGlCQUFpQixVQUFVLElBQUksYUFBYSxDQUFDO0FBQ3ZJLFFBQUksS0FBSyxXQUFXLE9BQU8sY0FBYyxLQUFLLE1BQU07QUFDcEQsUUFBSSxLQUFLLFdBQVcsTUFBTSxjQUFjLEtBQUssTUFBTTtBQUNuRCxRQUFJLFFBQVEsV0FBVyxRQUFRLE1BQU07QUFDckMsUUFBSSxTQUFTLFdBQVcsU0FBUyxNQUFNO0FBQ3ZDLFFBQUksWUFBWTtBQUNkLFlBQU0sTUFBTSxVQUFVLFVBQVU7QUFDaEMsWUFBTSxZQUFZLGdCQUFnQixVQUFVLFlBQVksSUFBSSxVQUFVLFlBQVksSUFBSTtBQUN0RixVQUFJLGFBQWE7QUFDakIsVUFBSSxnQkFBZ0IsV0FBVztBQUMvQixhQUFPLGlCQUFpQixnQkFBZ0IsY0FBYyxZQUFZO0FBQ2hFLGNBQU0sY0FBYyxTQUFTLGFBQWE7QUFDMUMsY0FBTSxhQUFhLGNBQWMsc0JBQXNCO0FBQ3ZELGNBQU0sTUFBTUEsa0JBQWlCLGFBQWE7QUFDMUMsY0FBTSxPQUFPLFdBQVcsUUFBUSxjQUFjLGFBQWEsV0FBVyxJQUFJLFdBQVcsS0FBSyxZQUFZO0FBQ3RHLGNBQU0sTUFBTSxXQUFXLE9BQU8sY0FBYyxZQUFZLFdBQVcsSUFBSSxVQUFVLEtBQUssWUFBWTtBQUNsRyxhQUFLLFlBQVk7QUFDakIsYUFBSyxZQUFZO0FBQ2pCLGlCQUFTLFlBQVk7QUFDckIsa0JBQVUsWUFBWTtBQUN0QixhQUFLO0FBQ0wsYUFBSztBQUNMLHFCQUFhLFVBQVUsYUFBYTtBQUNwQyx3QkFBZ0IsV0FBVztBQUFBLE1BQzdCO0FBQUEsSUFDRjtBQUNBLFdBQU8saUJBQWlCO0FBQUEsTUFDdEI7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNGLENBQUM7QUFBQSxFQUNIO0FBRUEsV0FBUyxzREFBc0QsTUFBTTtBQUNuRSxRQUFJO0FBQUEsTUFDRjtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0YsSUFBSTtBQUNKLFVBQU0sVUFBVSxhQUFhO0FBQzdCLFVBQU0sa0JBQWtCLG1CQUFtQixZQUFZO0FBQ3ZELFVBQU0sV0FBVyxXQUFXLFdBQVcsU0FBUyxRQUFRLElBQUk7QUFDNUQsUUFBSSxpQkFBaUIsbUJBQW1CLFlBQVksU0FBUztBQUMzRCxhQUFPO0FBQUEsSUFDVDtBQUNBLFFBQUksU0FBUztBQUFBLE1BQ1gsWUFBWTtBQUFBLE1BQ1osV0FBVztBQUFBLElBQ2I7QUFDQSxRQUFJLFFBQVEsYUFBYSxDQUFDO0FBQzFCLFVBQU0sVUFBVSxhQUFhLENBQUM7QUFDOUIsVUFBTSwwQkFBMEIsY0FBYyxZQUFZO0FBQzFELFFBQUksMkJBQTJCLENBQUMsMkJBQTJCLENBQUMsU0FBUztBQUNuRSxVQUFJLFlBQVksWUFBWSxNQUFNLFVBQVUsa0JBQWtCLGVBQWUsR0FBRztBQUM5RSxpQkFBUyxjQUFjLFlBQVk7QUFBQSxNQUNyQztBQUNBLFVBQUksY0FBYyxZQUFZLEdBQUc7QUFDL0IsY0FBTSxhQUFhLHNCQUFzQixZQUFZO0FBQ3JELGdCQUFRLFNBQVMsWUFBWTtBQUM3QixnQkFBUSxJQUFJLFdBQVcsSUFBSSxhQUFhO0FBQ3hDLGdCQUFRLElBQUksV0FBVyxJQUFJLGFBQWE7QUFBQSxNQUMxQztBQUFBLElBQ0Y7QUFDQSxXQUFPO0FBQUEsTUFDTCxPQUFPLEtBQUssUUFBUSxNQUFNO0FBQUEsTUFDMUIsUUFBUSxLQUFLLFNBQVMsTUFBTTtBQUFBLE1BQzVCLEdBQUcsS0FBSyxJQUFJLE1BQU0sSUFBSSxPQUFPLGFBQWEsTUFBTSxJQUFJLFFBQVE7QUFBQSxNQUM1RCxHQUFHLEtBQUssSUFBSSxNQUFNLElBQUksT0FBTyxZQUFZLE1BQU0sSUFBSSxRQUFRO0FBQUEsSUFDN0Q7QUFBQSxFQUNGO0FBRUEsV0FBUyxlQUFlLFNBQVM7QUFDL0IsV0FBTyxNQUFNLEtBQUssUUFBUSxlQUFlLENBQUM7QUFBQSxFQUM1QztBQUVBLFdBQVMsb0JBQW9CLFNBQVM7QUFHcEMsV0FBTyxzQkFBc0IsbUJBQW1CLE9BQU8sQ0FBQyxFQUFFLE9BQU8sY0FBYyxPQUFPLEVBQUU7QUFBQSxFQUMxRjtBQUlBLFdBQVMsZ0JBQWdCLFNBQVM7QUFDaEMsVUFBTSxPQUFPLG1CQUFtQixPQUFPO0FBQ3ZDLFVBQU0sU0FBUyxjQUFjLE9BQU87QUFDcEMsVUFBTSxPQUFPLFFBQVEsY0FBYztBQUNuQyxVQUFNLFFBQVEsSUFBSSxLQUFLLGFBQWEsS0FBSyxhQUFhLEtBQUssYUFBYSxLQUFLLFdBQVc7QUFDeEYsVUFBTSxTQUFTLElBQUksS0FBSyxjQUFjLEtBQUssY0FBYyxLQUFLLGNBQWMsS0FBSyxZQUFZO0FBQzdGLFFBQUksSUFBSSxDQUFDLE9BQU8sYUFBYSxvQkFBb0IsT0FBTztBQUN4RCxVQUFNLElBQUksQ0FBQyxPQUFPO0FBQ2xCLFFBQUlBLGtCQUFpQixJQUFJLEVBQUUsY0FBYyxPQUFPO0FBQzlDLFdBQUssSUFBSSxLQUFLLGFBQWEsS0FBSyxXQUFXLElBQUk7QUFBQSxJQUNqRDtBQUNBLFdBQU87QUFBQSxNQUNMO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFFQSxXQUFTLGdCQUFnQixTQUFTLFVBQVU7QUFDMUMsVUFBTSxNQUFNLFVBQVUsT0FBTztBQUM3QixVQUFNLE9BQU8sbUJBQW1CLE9BQU87QUFDdkMsVUFBTSxpQkFBaUIsSUFBSTtBQUMzQixRQUFJLFFBQVEsS0FBSztBQUNqQixRQUFJLFNBQVMsS0FBSztBQUNsQixRQUFJLElBQUk7QUFDUixRQUFJLElBQUk7QUFDUixRQUFJLGdCQUFnQjtBQUNsQixjQUFRLGVBQWU7QUFDdkIsZUFBUyxlQUFlO0FBQ3hCLFlBQU0sc0JBQXNCLFNBQVM7QUFDckMsVUFBSSxDQUFDLHVCQUF1Qix1QkFBdUIsYUFBYSxTQUFTO0FBQ3ZFLFlBQUksZUFBZTtBQUNuQixZQUFJLGVBQWU7QUFBQSxNQUNyQjtBQUFBLElBQ0Y7QUFDQSxXQUFPO0FBQUEsTUFDTDtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBR0EsV0FBUywyQkFBMkIsU0FBUyxVQUFVO0FBQ3JELFVBQU0sYUFBYSxzQkFBc0IsU0FBUyxNQUFNLGFBQWEsT0FBTztBQUM1RSxVQUFNLE1BQU0sV0FBVyxNQUFNLFFBQVE7QUFDckMsVUFBTSxPQUFPLFdBQVcsT0FBTyxRQUFRO0FBQ3ZDLFVBQU0sUUFBUSxjQUFjLE9BQU8sSUFBSSxTQUFTLE9BQU8sSUFBSSxhQUFhLENBQUM7QUFDekUsVUFBTSxRQUFRLFFBQVEsY0FBYyxNQUFNO0FBQzFDLFVBQU0sU0FBUyxRQUFRLGVBQWUsTUFBTTtBQUM1QyxVQUFNLElBQUksT0FBTyxNQUFNO0FBQ3ZCLFVBQU0sSUFBSSxNQUFNLE1BQU07QUFDdEIsV0FBTztBQUFBLE1BQ0w7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUNBLFdBQVMsa0NBQWtDLFNBQVMsa0JBQWtCLFVBQVU7QUFDOUUsUUFBSTtBQUNKLFFBQUkscUJBQXFCLFlBQVk7QUFDbkMsYUFBTyxnQkFBZ0IsU0FBUyxRQUFRO0FBQUEsSUFDMUMsV0FBVyxxQkFBcUIsWUFBWTtBQUMxQyxhQUFPLGdCQUFnQixtQkFBbUIsT0FBTyxDQUFDO0FBQUEsSUFDcEQsV0FBVyxVQUFVLGdCQUFnQixHQUFHO0FBQ3RDLGFBQU8sMkJBQTJCLGtCQUFrQixRQUFRO0FBQUEsSUFDOUQsT0FBTztBQUNMLFlBQU0sZ0JBQWdCLGlCQUFpQixPQUFPO0FBQzlDLGFBQU87QUFBQSxRQUNMLEdBQUc7QUFBQSxRQUNILEdBQUcsaUJBQWlCLElBQUksY0FBYztBQUFBLFFBQ3RDLEdBQUcsaUJBQWlCLElBQUksY0FBYztBQUFBLE1BQ3hDO0FBQUEsSUFDRjtBQUNBLFdBQU8saUJBQWlCLElBQUk7QUFBQSxFQUM5QjtBQUNBLFdBQVMseUJBQXlCLFNBQVMsVUFBVTtBQUNuRCxVQUFNLGFBQWEsY0FBYyxPQUFPO0FBQ3hDLFFBQUksZUFBZSxZQUFZLENBQUMsVUFBVSxVQUFVLEtBQUssc0JBQXNCLFVBQVUsR0FBRztBQUMxRixhQUFPO0FBQUEsSUFDVDtBQUNBLFdBQU9BLGtCQUFpQixVQUFVLEVBQUUsYUFBYSxXQUFXLHlCQUF5QixZQUFZLFFBQVE7QUFBQSxFQUMzRztBQUtBLFdBQVMsNEJBQTRCLFNBQVMsT0FBTztBQUNuRCxVQUFNLGVBQWUsTUFBTSxJQUFJLE9BQU87QUFDdEMsUUFBSSxjQUFjO0FBQ2hCLGFBQU87QUFBQSxJQUNUO0FBQ0EsUUFBSSxTQUFTLHFCQUFxQixTQUFTLENBQUMsR0FBRyxLQUFLLEVBQUUsT0FBTyxRQUFNLFVBQVUsRUFBRSxLQUFLLFlBQVksRUFBRSxNQUFNLE1BQU07QUFDOUcsUUFBSSxzQ0FBc0M7QUFDMUMsVUFBTSxpQkFBaUJBLGtCQUFpQixPQUFPLEVBQUUsYUFBYTtBQUM5RCxRQUFJLGNBQWMsaUJBQWlCLGNBQWMsT0FBTyxJQUFJO0FBRzVELFdBQU8sVUFBVSxXQUFXLEtBQUssQ0FBQyxzQkFBc0IsV0FBVyxHQUFHO0FBQ3BFLFlBQU0sZ0JBQWdCQSxrQkFBaUIsV0FBVztBQUNsRCxZQUFNLDBCQUEwQixrQkFBa0IsV0FBVztBQUM3RCxVQUFJLENBQUMsMkJBQTJCLGNBQWMsYUFBYSxTQUFTO0FBQ2xFLDhDQUFzQztBQUFBLE1BQ3hDO0FBQ0EsWUFBTSx3QkFBd0IsaUJBQWlCLENBQUMsMkJBQTJCLENBQUMsc0NBQXNDLENBQUMsMkJBQTJCLGNBQWMsYUFBYSxZQUFZLENBQUMsQ0FBQyx1Q0FBdUMsQ0FBQyxZQUFZLE9BQU8sRUFBRSxTQUFTLG9DQUFvQyxRQUFRLEtBQUssa0JBQWtCLFdBQVcsS0FBSyxDQUFDLDJCQUEyQix5QkFBeUIsU0FBUyxXQUFXO0FBQ3paLFVBQUksdUJBQXVCO0FBRXpCLGlCQUFTLE9BQU8sT0FBTyxjQUFZLGFBQWEsV0FBVztBQUFBLE1BQzdELE9BQU87QUFFTCw4Q0FBc0M7QUFBQSxNQUN4QztBQUNBLG9CQUFjLGNBQWMsV0FBVztBQUFBLElBQ3pDO0FBQ0EsVUFBTSxJQUFJLFNBQVMsTUFBTTtBQUN6QixXQUFPO0FBQUEsRUFDVDtBQUlBLFdBQVMsZ0JBQWdCLE1BQU07QUFDN0IsUUFBSTtBQUFBLE1BQ0Y7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNGLElBQUk7QUFDSixVQUFNLDJCQUEyQixhQUFhLHNCQUFzQixXQUFXLE9BQU8sSUFBSSxDQUFDLElBQUksNEJBQTRCLFNBQVMsS0FBSyxFQUFFLElBQUksQ0FBQyxFQUFFLE9BQU8sUUFBUTtBQUNqSyxVQUFNLG9CQUFvQixDQUFDLEdBQUcsMEJBQTBCLFlBQVk7QUFDcEUsVUFBTSx3QkFBd0Isa0JBQWtCLENBQUM7QUFDakQsVUFBTSxlQUFlLGtCQUFrQixPQUFPLENBQUMsU0FBUyxxQkFBcUI7QUFDM0UsWUFBTSxPQUFPLGtDQUFrQyxTQUFTLGtCQUFrQixRQUFRO0FBQ2xGLGNBQVEsTUFBTSxJQUFJLEtBQUssS0FBSyxRQUFRLEdBQUc7QUFDdkMsY0FBUSxRQUFRLElBQUksS0FBSyxPQUFPLFFBQVEsS0FBSztBQUM3QyxjQUFRLFNBQVMsSUFBSSxLQUFLLFFBQVEsUUFBUSxNQUFNO0FBQ2hELGNBQVEsT0FBTyxJQUFJLEtBQUssTUFBTSxRQUFRLElBQUk7QUFDMUMsYUFBTztBQUFBLElBQ1QsR0FBRyxrQ0FBa0MsU0FBUyx1QkFBdUIsUUFBUSxDQUFDO0FBQzlFLFdBQU87QUFBQSxNQUNMLE9BQU8sYUFBYSxRQUFRLGFBQWE7QUFBQSxNQUN6QyxRQUFRLGFBQWEsU0FBUyxhQUFhO0FBQUEsTUFDM0MsR0FBRyxhQUFhO0FBQUEsTUFDaEIsR0FBRyxhQUFhO0FBQUEsSUFDbEI7QUFBQSxFQUNGO0FBRUEsV0FBUyxjQUFjLFNBQVM7QUFDOUIsVUFBTTtBQUFBLE1BQ0o7QUFBQSxNQUNBO0FBQUEsSUFDRixJQUFJLGlCQUFpQixPQUFPO0FBQzVCLFdBQU87QUFBQSxNQUNMO0FBQUEsTUFDQTtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBRUEsV0FBUyw4QkFBOEIsU0FBUyxjQUFjLFVBQVU7QUFDdEUsVUFBTSwwQkFBMEIsY0FBYyxZQUFZO0FBQzFELFVBQU0sa0JBQWtCLG1CQUFtQixZQUFZO0FBQ3ZELFVBQU0sVUFBVSxhQUFhO0FBQzdCLFVBQU0sT0FBTyxzQkFBc0IsU0FBUyxNQUFNLFNBQVMsWUFBWTtBQUN2RSxRQUFJLFNBQVM7QUFBQSxNQUNYLFlBQVk7QUFBQSxNQUNaLFdBQVc7QUFBQSxJQUNiO0FBQ0EsVUFBTSxVQUFVLGFBQWEsQ0FBQztBQUM5QixRQUFJLDJCQUEyQixDQUFDLDJCQUEyQixDQUFDLFNBQVM7QUFDbkUsVUFBSSxZQUFZLFlBQVksTUFBTSxVQUFVLGtCQUFrQixlQUFlLEdBQUc7QUFDOUUsaUJBQVMsY0FBYyxZQUFZO0FBQUEsTUFDckM7QUFDQSxVQUFJLHlCQUF5QjtBQUMzQixjQUFNLGFBQWEsc0JBQXNCLGNBQWMsTUFBTSxTQUFTLFlBQVk7QUFDbEYsZ0JBQVEsSUFBSSxXQUFXLElBQUksYUFBYTtBQUN4QyxnQkFBUSxJQUFJLFdBQVcsSUFBSSxhQUFhO0FBQUEsTUFDMUMsV0FBVyxpQkFBaUI7QUFDMUIsZ0JBQVEsSUFBSSxvQkFBb0IsZUFBZTtBQUFBLE1BQ2pEO0FBQUEsSUFDRjtBQUNBLFVBQU0sSUFBSSxLQUFLLE9BQU8sT0FBTyxhQUFhLFFBQVE7QUFDbEQsVUFBTSxJQUFJLEtBQUssTUFBTSxPQUFPLFlBQVksUUFBUTtBQUNoRCxXQUFPO0FBQUEsTUFDTDtBQUFBLE1BQ0E7QUFBQSxNQUNBLE9BQU8sS0FBSztBQUFBLE1BQ1osUUFBUSxLQUFLO0FBQUEsSUFDZjtBQUFBLEVBQ0Y7QUFFQSxXQUFTLG1CQUFtQixTQUFTO0FBQ25DLFdBQU9BLGtCQUFpQixPQUFPLEVBQUUsYUFBYTtBQUFBLEVBQ2hEO0FBRUEsV0FBUyxvQkFBb0IsU0FBUyxVQUFVO0FBQzlDLFFBQUksQ0FBQyxjQUFjLE9BQU8sS0FBS0Esa0JBQWlCLE9BQU8sRUFBRSxhQUFhLFNBQVM7QUFDN0UsYUFBTztBQUFBLElBQ1Q7QUFDQSxRQUFJLFVBQVU7QUFDWixhQUFPLFNBQVMsT0FBTztBQUFBLElBQ3pCO0FBQ0EsV0FBTyxRQUFRO0FBQUEsRUFDakI7QUFJQSxXQUFTLGdCQUFnQixTQUFTLFVBQVU7QUFDMUMsVUFBTSxNQUFNLFVBQVUsT0FBTztBQUM3QixRQUFJLFdBQVcsT0FBTyxHQUFHO0FBQ3ZCLGFBQU87QUFBQSxJQUNUO0FBQ0EsUUFBSSxDQUFDLGNBQWMsT0FBTyxHQUFHO0FBQzNCLFVBQUksa0JBQWtCLGNBQWMsT0FBTztBQUMzQyxhQUFPLG1CQUFtQixDQUFDLHNCQUFzQixlQUFlLEdBQUc7QUFDakUsWUFBSSxVQUFVLGVBQWUsS0FBSyxDQUFDLG1CQUFtQixlQUFlLEdBQUc7QUFDdEUsaUJBQU87QUFBQSxRQUNUO0FBQ0EsMEJBQWtCLGNBQWMsZUFBZTtBQUFBLE1BQ2pEO0FBQ0EsYUFBTztBQUFBLElBQ1Q7QUFDQSxRQUFJLGVBQWUsb0JBQW9CLFNBQVMsUUFBUTtBQUN4RCxXQUFPLGdCQUFnQixlQUFlLFlBQVksS0FBSyxtQkFBbUIsWUFBWSxHQUFHO0FBQ3ZGLHFCQUFlLG9CQUFvQixjQUFjLFFBQVE7QUFBQSxJQUMzRDtBQUNBLFFBQUksZ0JBQWdCLHNCQUFzQixZQUFZLEtBQUssbUJBQW1CLFlBQVksS0FBSyxDQUFDLGtCQUFrQixZQUFZLEdBQUc7QUFDL0gsYUFBTztBQUFBLElBQ1Q7QUFDQSxXQUFPLGdCQUFnQixtQkFBbUIsT0FBTyxLQUFLO0FBQUEsRUFDeEQ7QUFFQSxNQUFNLGtCQUFrQixlQUFnQixNQUFNO0FBQzVDLFVBQU0sb0JBQW9CLEtBQUssbUJBQW1CO0FBQ2xELFVBQU0sa0JBQWtCLEtBQUs7QUFDN0IsVUFBTSxxQkFBcUIsTUFBTSxnQkFBZ0IsS0FBSyxRQUFRO0FBQzlELFdBQU87QUFBQSxNQUNMLFdBQVcsOEJBQThCLEtBQUssV0FBVyxNQUFNLGtCQUFrQixLQUFLLFFBQVEsR0FBRyxLQUFLLFFBQVE7QUFBQSxNQUM5RyxVQUFVO0FBQUEsUUFDUixHQUFHO0FBQUEsUUFDSCxHQUFHO0FBQUEsUUFDSCxPQUFPLG1CQUFtQjtBQUFBLFFBQzFCLFFBQVEsbUJBQW1CO0FBQUEsTUFDN0I7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUVBLFdBQVMsTUFBTSxTQUFTO0FBQ3RCLFdBQU9BLGtCQUFpQixPQUFPLEVBQUUsY0FBYztBQUFBLEVBQ2pEO0FBRUEsTUFBTSxXQUFXO0FBQUEsSUFDZjtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLEVBQ0Y7QUFHQSxXQUFTLFlBQVksU0FBUyxRQUFRO0FBQ3BDLFFBQUksS0FBSztBQUNULFFBQUk7QUFDSixVQUFNLE9BQU8sbUJBQW1CLE9BQU87QUFDdkMsYUFBUyxVQUFVO0FBQ2pCLFVBQUk7QUFDSixtQkFBYSxTQUFTO0FBQ3RCLE9BQUMsTUFBTSxPQUFPLFFBQVEsSUFBSSxXQUFXO0FBQ3JDLFdBQUs7QUFBQSxJQUNQO0FBQ0EsYUFBUyxRQUFRLE1BQU0sV0FBVztBQUNoQyxVQUFJLFNBQVMsUUFBUTtBQUNuQixlQUFPO0FBQUEsTUFDVDtBQUNBLFVBQUksY0FBYyxRQUFRO0FBQ3hCLG9CQUFZO0FBQUEsTUFDZDtBQUNBLGNBQVE7QUFDUixZQUFNO0FBQUEsUUFDSjtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLE1BQ0YsSUFBSSxRQUFRLHNCQUFzQjtBQUNsQyxVQUFJLENBQUMsTUFBTTtBQUNULGVBQU87QUFBQSxNQUNUO0FBQ0EsVUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRO0FBQ3JCO0FBQUEsTUFDRjtBQUNBLFlBQU0sV0FBVyxNQUFNLEdBQUc7QUFDMUIsWUFBTSxhQUFhLE1BQU0sS0FBSyxlQUFlLE9BQU8sTUFBTTtBQUMxRCxZQUFNLGNBQWMsTUFBTSxLQUFLLGdCQUFnQixNQUFNLE9BQU87QUFDNUQsWUFBTSxZQUFZLE1BQU0sSUFBSTtBQUM1QixZQUFNLGFBQWEsQ0FBQyxXQUFXLFFBQVEsQ0FBQyxhQUFhLFFBQVEsQ0FBQyxjQUFjLFFBQVEsQ0FBQyxZQUFZO0FBQ2pHLFlBQU0sVUFBVTtBQUFBLFFBQ2Q7QUFBQSxRQUNBLFdBQVcsSUFBSSxHQUFHLElBQUksR0FBRyxTQUFTLENBQUMsS0FBSztBQUFBLE1BQzFDO0FBQ0EsVUFBSSxnQkFBZ0I7QUFDcEIsZUFBUyxjQUFjLFNBQVM7QUFDOUIsY0FBTSxRQUFRLFFBQVEsQ0FBQyxFQUFFO0FBQ3pCLFlBQUksVUFBVSxXQUFXO0FBQ3ZCLGNBQUksQ0FBQyxlQUFlO0FBQ2xCLG1CQUFPLFFBQVE7QUFBQSxVQUNqQjtBQUNBLGNBQUksQ0FBQyxPQUFPO0FBR1Ysd0JBQVksV0FBVyxNQUFNO0FBQzNCLHNCQUFRLE9BQU8sSUFBSTtBQUFBLFlBQ3JCLEdBQUcsR0FBSTtBQUFBLFVBQ1QsT0FBTztBQUNMLG9CQUFRLE9BQU8sS0FBSztBQUFBLFVBQ3RCO0FBQUEsUUFDRjtBQUNBLHdCQUFnQjtBQUFBLE1BQ2xCO0FBSUEsVUFBSTtBQUNGLGFBQUssSUFBSSxxQkFBcUIsZUFBZTtBQUFBLFVBQzNDLEdBQUc7QUFBQTtBQUFBLFVBRUgsTUFBTSxLQUFLO0FBQUEsUUFDYixDQUFDO0FBQUEsTUFDSCxTQUFTLEdBQUc7QUFDVixhQUFLLElBQUkscUJBQXFCLGVBQWUsT0FBTztBQUFBLE1BQ3REO0FBQ0EsU0FBRyxRQUFRLE9BQU87QUFBQSxJQUNwQjtBQUNBLFlBQVEsSUFBSTtBQUNaLFdBQU87QUFBQSxFQUNUO0FBVUEsV0FBUyxXQUFXLFdBQVcsVUFBVSxRQUFRLFNBQVM7QUFDeEQsUUFBSSxZQUFZLFFBQVE7QUFDdEIsZ0JBQVUsQ0FBQztBQUFBLElBQ2I7QUFDQSxVQUFNO0FBQUEsTUFDSixpQkFBaUI7QUFBQSxNQUNqQixpQkFBaUI7QUFBQSxNQUNqQixnQkFBZ0IsT0FBTyxtQkFBbUI7QUFBQSxNQUMxQyxjQUFjLE9BQU8seUJBQXlCO0FBQUEsTUFDOUMsaUJBQWlCO0FBQUEsSUFDbkIsSUFBSTtBQUNKLFVBQU0sY0FBYyxjQUFjLFNBQVM7QUFDM0MsVUFBTSxZQUFZLGtCQUFrQixpQkFBaUIsQ0FBQyxHQUFJLGNBQWMscUJBQXFCLFdBQVcsSUFBSSxDQUFDLEdBQUksR0FBRyxxQkFBcUIsUUFBUSxDQUFDLElBQUksQ0FBQztBQUN2SixjQUFVLFFBQVEsY0FBWTtBQUM1Qix3QkFBa0IsU0FBUyxpQkFBaUIsVUFBVSxRQUFRO0FBQUEsUUFDNUQsU0FBUztBQUFBLE1BQ1gsQ0FBQztBQUNELHdCQUFrQixTQUFTLGlCQUFpQixVQUFVLE1BQU07QUFBQSxJQUM5RCxDQUFDO0FBQ0QsVUFBTSxZQUFZLGVBQWUsY0FBYyxZQUFZLGFBQWEsTUFBTSxJQUFJO0FBQ2xGLFFBQUksaUJBQWlCO0FBQ3JCLFFBQUksaUJBQWlCO0FBQ3JCLFFBQUksZUFBZTtBQUNqQix1QkFBaUIsSUFBSSxlQUFlLFVBQVE7QUFDMUMsWUFBSSxDQUFDLFVBQVUsSUFBSTtBQUNuQixZQUFJLGNBQWMsV0FBVyxXQUFXLGVBQWUsZ0JBQWdCO0FBR3JFLHlCQUFlLFVBQVUsUUFBUTtBQUNqQywrQkFBcUIsY0FBYztBQUNuQywyQkFBaUIsc0JBQXNCLE1BQU07QUFDM0MsZ0JBQUk7QUFDSixhQUFDLGtCQUFrQixtQkFBbUIsUUFBUSxnQkFBZ0IsUUFBUSxRQUFRO0FBQUEsVUFDaEYsQ0FBQztBQUFBLFFBQ0g7QUFDQSxlQUFPO0FBQUEsTUFDVCxDQUFDO0FBQ0QsVUFBSSxlQUFlLENBQUMsZ0JBQWdCO0FBQ2xDLHVCQUFlLFFBQVEsV0FBVztBQUFBLE1BQ3BDO0FBQ0EscUJBQWUsUUFBUSxRQUFRO0FBQUEsSUFDakM7QUFDQSxRQUFJO0FBQ0osUUFBSSxjQUFjLGlCQUFpQixzQkFBc0IsU0FBUyxJQUFJO0FBQ3RFLFFBQUksZ0JBQWdCO0FBQ2xCLGdCQUFVO0FBQUEsSUFDWjtBQUNBLGFBQVMsWUFBWTtBQUNuQixZQUFNLGNBQWMsc0JBQXNCLFNBQVM7QUFDbkQsVUFBSSxnQkFBZ0IsWUFBWSxNQUFNLFlBQVksS0FBSyxZQUFZLE1BQU0sWUFBWSxLQUFLLFlBQVksVUFBVSxZQUFZLFNBQVMsWUFBWSxXQUFXLFlBQVksU0FBUztBQUMvSyxlQUFPO0FBQUEsTUFDVDtBQUNBLG9CQUFjO0FBQ2QsZ0JBQVUsc0JBQXNCLFNBQVM7QUFBQSxJQUMzQztBQUNBLFdBQU87QUFDUCxXQUFPLE1BQU07QUFDWCxVQUFJO0FBQ0osZ0JBQVUsUUFBUSxjQUFZO0FBQzVCLDBCQUFrQixTQUFTLG9CQUFvQixVQUFVLE1BQU07QUFDL0QsMEJBQWtCLFNBQVMsb0JBQW9CLFVBQVUsTUFBTTtBQUFBLE1BQ2pFLENBQUM7QUFDRCxtQkFBYSxRQUFRLFVBQVU7QUFDL0IsT0FBQyxtQkFBbUIsbUJBQW1CLFFBQVEsaUJBQWlCLFdBQVc7QUFDM0UsdUJBQWlCO0FBQ2pCLFVBQUksZ0JBQWdCO0FBQ2xCLDZCQUFxQixPQUFPO0FBQUEsTUFDOUI7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQW1CQSxNQUFNQyxVQUFTO0FBZWYsTUFBTUMsU0FBUTtBQVFkLE1BQU1DLFFBQU87QUFzQmIsTUFBTUMsU0FBUTtBQWtCZCxNQUFNQyxtQkFBa0IsQ0FBQyxXQUFXLFVBQVUsWUFBWTtBQUl4RCxVQUFNLFFBQVEsb0JBQUksSUFBSTtBQUN0QixVQUFNLGdCQUFnQjtBQUFBLE1BQ3BCO0FBQUEsTUFDQSxHQUFHO0FBQUEsSUFDTDtBQUNBLFVBQU0sb0JBQW9CO0FBQUEsTUFDeEIsR0FBRyxjQUFjO0FBQUEsTUFDakIsSUFBSTtBQUFBLElBQ047QUFDQSxXQUFPLGdCQUFrQixXQUFXLFVBQVU7QUFBQSxNQUM1QyxHQUFHO0FBQUEsTUFDSCxVQUFVO0FBQUEsSUFDWixDQUFDO0FBQUEsRUFDSDs7O0FKenJCQSxNQUFPLHVCQUFQLGNBQTZCLFdBQVc7QUFBQSxJQU90QyxVQUFVO0FBQ1IsV0FBSyxRQUFRLGlCQUFpQixlQUFlLEtBQUssU0FBUyxLQUFLLElBQUksQ0FBQztBQUNyRSxlQUFTLGlCQUFpQixTQUFTLEtBQUssU0FBUyxLQUFLLElBQUksQ0FBQztBQUFBLElBQzdEO0FBQUEsSUFFQSxhQUFhO0FBQ1gsV0FBSyxRQUFRLG9CQUFvQixlQUFlLEtBQUssU0FBUyxLQUFLLElBQUksQ0FBQztBQUN4RSxlQUFTLG9CQUFvQixTQUFTLEtBQUssU0FBUyxLQUFLLElBQUksQ0FBQztBQUFBLElBQ2hFO0FBQUEsSUFFQSxTQUFTLE9BQU87QUFDZCxZQUFNLGVBQWU7QUFDckIsV0FBSyxXQUFXLFVBQVUsT0FBTyxRQUFRO0FBQ3pDLFdBQUssV0FBVyxRQUFRLFFBQVE7QUFFaEMsTUFBQUM7QUFBQSxRQUNFLEVBQUUsR0FBRyxNQUFNLFNBQVMsR0FBRyxNQUFNLFFBQVE7QUFBQSxRQUNyQyxLQUFLO0FBQUEsUUFDTDtBQUFBLFVBQ0UsV0FBVyxHQUFHLEtBQUssU0FBUyxJQUFJLEtBQUssVUFBVTtBQUFBLFVBQy9DLFlBQVk7QUFBQSxZQUNWQyxRQUFPLENBQUM7QUFBQSxZQUNSQyxNQUFLO0FBQUEsWUFDTEMsT0FBTSxFQUFDLFNBQVMsRUFBQyxDQUFDO0FBQUEsVUFDcEI7QUFBQSxRQUNGO0FBQUEsTUFDRixFQUFFLEtBQUssQ0FBQyxFQUFDLEdBQUcsRUFBQyxNQUFNO0FBQ2pCLGVBQU8sT0FBTyxLQUFLLFdBQVcsT0FBTztBQUFBLFVBQ25DLE1BQU0sR0FBRyxDQUFDO0FBQUEsVUFDVixLQUFLLEdBQUcsQ0FBQztBQUFBLFFBQ1gsQ0FBQztBQUFBLE1BQ0gsQ0FBQztBQUFBLElBQ0g7QUFBQSxJQUVBLFNBQVMsT0FBTztBQUNkLFVBQUksQ0FBQyxLQUFLLFdBQVcsU0FBUyxNQUFNLE1BQU0sR0FBRztBQUMzQyxhQUFLLFdBQVcsUUFBUSxRQUFRO0FBQ2hDLG1CQUFXLE1BQU07QUFDZixlQUFLLFdBQVcsVUFBVSxJQUFJLFFBQVE7QUFBQSxRQUN4QyxHQUFHLEdBQUc7QUFBQSxNQUNSO0FBQUEsSUFDRjtBQUFBLElBRUEsWUFBWSxPQUFPO0FBQ2pCLFlBQU0sVUFBVSxNQUFNLGNBQWMsY0FBYyx5Q0FBeUM7QUFDM0YsVUFBSSxTQUFTO0FBQ1gsZ0JBQVEsVUFBVSxPQUFPLFFBQVE7QUFDakMsUUFBQUgsaUJBQWdCLE1BQU0sZUFBZSxTQUFTO0FBQUEsVUFDNUMsV0FBVztBQUFBLFVBQ1gsWUFBWTtBQUFBLFlBQ1ZDLFFBQU8sQ0FBQztBQUFBLFlBQ1JDLE1BQUs7QUFBQSxZQUNMQyxPQUFNLEVBQUMsU0FBUyxFQUFDLENBQUM7QUFBQSxVQUNwQjtBQUFBLFFBQ0YsQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUFDLEdBQUcsRUFBQyxNQUFNO0FBQ2xCLGlCQUFPLE9BQU8sUUFBUSxPQUFPO0FBQUEsWUFDM0IsTUFBTSxHQUFHLENBQUM7QUFBQSxZQUNWLEtBQUssR0FBRyxDQUFDO0FBQUEsVUFDWCxDQUFDO0FBQUEsUUFDSCxDQUFDO0FBQUEsTUFDSDtBQUFBLElBQ0Y7QUFBQSxJQUVBLFlBQVksT0FBTztBQUNqQixZQUFNLFVBQVUsTUFBTSxjQUFjLGNBQWMseUNBQXlDO0FBQzNGLFVBQUksU0FBUztBQUNYLGdCQUFRLFVBQVUsSUFBSSxRQUFRO0FBQUEsTUFDaEM7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQTNFRSxnQkFESyxzQkFDRSxXQUFVLENBQUMsUUFBUSxrQkFBa0IsU0FBUztBQUNyRCxnQkFGSyxzQkFFRSxVQUFTO0FBQUEsSUFDZCxNQUFNO0FBQUEsSUFDTixPQUFPO0FBQUEsRUFDVDs7O0FLVEY7QUFBQTtBQUFBO0FBQUE7QUFJQSxNQUFPLGlCQUFQLGNBQTZCLFdBQVc7QUFBQSxJQU10QyxVQUFVO0FBQ1IsVUFBSSxLQUFLLDBCQUEwQjtBQUNqQyx3QkFBZ0IsTUFBTSxFQUFFLFNBQVMsS0FBSyxjQUFjLENBQUM7QUFBQSxNQUN2RDtBQUFBLElBQ0Y7QUFBQSxJQUVBLE9BQU87QUFDTCxXQUFLLGNBQWMsTUFBTSxVQUFVO0FBQ25DLFdBQUssY0FBYyxNQUFNLFVBQVU7QUFDbkMsaUJBQVcsTUFBTTtBQUNmLGFBQUssY0FBYyxRQUFRLGdCQUFnQjtBQUMzQyxhQUFLLGNBQWMsUUFBUSxnQkFBZ0I7QUFBQSxNQUM3QyxHQUFHLEVBQUU7QUFBQSxJQUNQO0FBQUEsSUFFQSxRQUFRO0FBQ04sV0FBSyxjQUFjLFFBQVEsZ0JBQWdCO0FBQzNDLFdBQUssY0FBYyxRQUFRLGdCQUFnQjtBQUMzQyxpQkFBVyxNQUFNO0FBQ2YsYUFBSyxjQUFjLE1BQU0sVUFBVTtBQUNuQyxhQUFLLGNBQWMsTUFBTSxVQUFVO0FBQUEsTUFDckMsR0FBRyxFQUFFO0FBQUEsSUFDUDtBQUFBLElBRUEsT0FBTyxPQUFPO0FBQ1osWUFBTSxlQUFlO0FBQ3JCLFdBQUssTUFBTTtBQUFBLElBQ2I7QUFBQSxJQUVBLGFBQWEsT0FBTztBQUNsQixVQUFJLEtBQUssMEJBQTBCO0FBQ2pDLGFBQUssTUFBTTtBQUFBLE1BQ2I7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQXZDRSxnQkFESyxnQkFDRSxXQUFVLENBQUMsV0FBVyxTQUFTO0FBQ3RDLGdCQUZLLGdCQUVFLFVBQVM7QUFBQSxJQUNkLHFCQUFxQjtBQUFBLEVBQ3ZCOzs7QUNSRjtBQUFBO0FBQUE7QUFBQTtBQUdBLE1BQU8sd0JBQVAsY0FBNkIsV0FBVztBQUFBLElBSXRDLFVBQVU7QUFDUixXQUFLLFlBQVksS0FBSyxVQUFVLEtBQUssSUFBSTtBQUFBLElBQzNDO0FBQUEsSUFFQSxTQUFTO0FBQ1AsVUFBSSxLQUFLLFdBQVcsVUFBVSxTQUFTLEtBQUssV0FBVyxHQUFHO0FBQ3hELGFBQUssVUFBVTtBQUFBLE1BQ2pCLE9BQU87QUFDTCxhQUFLLFNBQVM7QUFBQSxNQUNoQjtBQUFBLElBQ0Y7QUFBQSxJQUVBLFdBQVc7QUFDVCxXQUFLLFdBQVcsVUFBVSxJQUFJLEtBQUssV0FBVztBQUM5QyxXQUFLLFdBQVcsZ0JBQWdCLFFBQVE7QUFDeEMsZUFBUyxpQkFBaUIsU0FBUyxLQUFLLFNBQVM7QUFFakQsV0FBSyxlQUFlO0FBQUEsSUFDdEI7QUFBQSxJQUVBLFVBQVUsT0FBTztBQUNmLFVBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxRQUFRLFNBQVMsTUFBTSxNQUFNLEdBQUc7QUFDbEQsYUFBSyxXQUFXLFVBQVUsT0FBTyxLQUFLLFdBQVc7QUFDakQsYUFBSyxXQUFXLGFBQWEsVUFBVSxFQUFFO0FBQ3pDLGlCQUFTLG9CQUFvQixTQUFTLEtBQUssU0FBUztBQUFBLE1BQ3REO0FBQUEsSUFDRjtBQUFBLElBRUEsaUJBQWlCO0FBQ2YsTUFBQUMsaUJBQWdCLEtBQUssZUFBZSxLQUFLLFlBQVk7QUFBQSxRQUNuRCxXQUFXO0FBQUEsUUFDWCxZQUFZO0FBQUEsVUFDVkMsUUFBTyxDQUFDO0FBQUEsVUFDUkMsTUFBSztBQUFBLFVBQ0xDLE9BQU0sRUFBQyxTQUFTLEVBQUMsQ0FBQztBQUFBLFFBQ3BCO0FBQUEsTUFDRixDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUMsR0FBRyxFQUFDLE1BQU07QUFDbEIsZUFBTyxPQUFPLEtBQUssV0FBVyxPQUFPO0FBQUEsVUFDbkMsTUFBTSxHQUFHLENBQUM7QUFBQSxVQUNWLEtBQUssR0FBRyxDQUFDO0FBQUEsUUFDWCxDQUFDO0FBQUEsTUFDSCxDQUFDO0FBQUEsSUFDSDtBQUFBLEVBQ0Y7QUE5Q0UsZ0JBREssdUJBQ0UsV0FBVSxDQUFDLFdBQVcsTUFBTTtBQUNuQyxnQkFGSyx1QkFFRSxXQUFVLENBQUMsUUFBUTs7O0FDTDVCOzs7QUNBQTtBQUFBO0FBQUE7QUFBQTtBQUdBLE1BQU8sb0JBQVAsY0FBNkIsV0FBVztBQUFBLElBTXRDLFVBQVU7QUFDUixXQUFLLFlBQVksaUJBQWlCLFNBQVMsS0FBSyxZQUFZLEtBQUssSUFBSSxDQUFDO0FBQ3RFLFdBQUssWUFBWSxpQkFBaUIsV0FBVyxLQUFLLGNBQWMsS0FBSyxJQUFJLENBQUM7QUFDMUUsV0FBSyxZQUFZLGlCQUFpQixTQUFTLEtBQUssWUFBWSxLQUFLLElBQUksQ0FBQztBQUN0RSxXQUFLLFlBQVksaUJBQWlCLFFBQVEsS0FBSyxXQUFXLEtBQUssSUFBSSxDQUFDO0FBQUEsSUFDdEU7QUFBQSxJQUVBLFlBQVksT0FBTztBQUNqQixZQUFNLFFBQVEsTUFBTTtBQUNwQixZQUFNLFFBQVEsTUFBTSxNQUFNLFFBQVEsT0FBTyxFQUFFLEVBQUUsTUFBTSxHQUFHLEtBQUssV0FBVztBQUN0RSxZQUFNLFFBQVE7QUFDZCxXQUFLLGFBQWEsS0FBSztBQUN2QixXQUFLLFdBQVcsTUFBTSxNQUFNO0FBQUEsSUFDOUI7QUFBQSxJQUVBLGNBQWMsT0FBTztBQUNuQixVQUFJLE1BQU0sUUFBUSxlQUFlLE1BQU0sT0FBTyxVQUFVLElBQUk7QUFDMUQsYUFBSyxtQkFBbUI7QUFBQSxNQUMxQjtBQUFBLElBQ0Y7QUFBQSxJQUVBLGNBQWM7QUFDWixXQUFLLFFBQVEsVUFBVSxJQUFJLFNBQVM7QUFDcEMsV0FBSyxXQUFXLEtBQUssWUFBWSxNQUFNLE1BQU07QUFBQSxJQUMvQztBQUFBLElBRUEsYUFBYTtBQUNYLFdBQUssUUFBUSxVQUFVLE9BQU8sU0FBUztBQUN2QyxXQUFLLGFBQWEsUUFBUSxXQUFTO0FBQ2pDLGNBQU0sVUFBVSxPQUFPLFVBQVUsYUFBYSx3QkFBd0I7QUFBQSxNQUN4RSxDQUFDO0FBQUEsSUFDSDtBQUFBLElBRUEsYUFBYSxPQUFPO0FBQ2xCLFdBQUssYUFBYSxRQUFRLENBQUMsT0FBTyxVQUFVO0FBQzFDLGNBQU0sY0FBYyxNQUFNLEtBQUssS0FBSztBQUNwQyxjQUFNLFVBQVUsT0FBTyxVQUFVLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQztBQUFBLE1BQ2pELENBQUM7QUFBQSxJQUNIO0FBQUEsSUFFQSxXQUFXLE9BQU87QUFDaEIsV0FBSyxhQUFhLFFBQVEsQ0FBQyxPQUFPLE1BQU07QUFDdEMsWUFBSSxNQUFNLE9BQU87QUFDZixnQkFBTSxVQUFVLElBQUksVUFBVSxhQUFhLHdCQUF3QjtBQUFBLFFBQ3JFLE9BQU87QUFDTCxnQkFBTSxVQUFVLE9BQU8sVUFBVSxhQUFhLHdCQUF3QjtBQUFBLFFBQ3hFO0FBQUEsTUFDRixDQUFDO0FBQUEsSUFDSDtBQUFBLElBRUEscUJBQXFCO0FBQ25CLFlBQU0sZUFBZSxLQUFLLFlBQVk7QUFDdEMsVUFBSSxhQUFhLFNBQVMsR0FBRztBQUMzQixhQUFLLFlBQVksUUFBUSxhQUFhLE1BQU0sR0FBRyxFQUFFO0FBQ2pELGFBQUssYUFBYSxLQUFLLFlBQVksS0FBSztBQUN4QyxhQUFLLFdBQVcsS0FBSyxZQUFZLE1BQU0sTUFBTTtBQUFBLE1BQy9DO0FBQUEsSUFDRjtBQUFBLElBRUEsSUFBSSxjQUFjO0FBQ2hCLGFBQU8sS0FBSyxZQUFZLE9BQU8sQ0FBQyxLQUFLLFVBQVUsTUFBTSxPQUFPLENBQUM7QUFBQSxJQUMvRDtBQUFBLEVBQ0Y7QUFuRUUsZ0JBREssbUJBQ0UsV0FBVSxDQUFDLFNBQVMsT0FBTztBQUNsQyxnQkFGSyxtQkFFRSxVQUFTO0FBQUEsSUFDZCxRQUFRO0FBQUEsRUFDVjs7O0FDUEY7QUFBQTtBQUFBO0FBQUE7QUFJQSxNQUFPLGtCQUFQLGNBQTZCLFdBQVc7QUFBQSxJQUd0QyxVQUFVO0FBQ1IsV0FBSyxpQkFBaUIsb0JBQUksSUFBSTtBQUM5QixXQUFLLFVBQVU7QUFDZixXQUFLLFdBQVcsb0JBQUksSUFBSTtBQUN4QixXQUFLLGNBQWM7QUFFbkIsZUFBUyxpQkFBaUIsU0FBUyxLQUFLLFlBQVksS0FBSyxJQUFJLENBQUM7QUFDOUQsZUFBUyxpQkFBaUIsYUFBYSxLQUFLLGdCQUFnQixLQUFLLElBQUksQ0FBQztBQUN0RSxlQUFTLGlCQUFpQixZQUFZLEtBQUssZUFBZSxLQUFLLElBQUksQ0FBQztBQUFBLElBQ3RFO0FBQUEsSUFFQSxhQUFhO0FBQ1gsV0FBSyxtQkFBbUI7QUFDeEIsZUFBUyxvQkFBb0IsU0FBUyxLQUFLLFlBQVksS0FBSyxJQUFJLENBQUM7QUFDakUsZUFBUyxvQkFBb0IsYUFBYSxLQUFLLGdCQUFnQixLQUFLLElBQUksQ0FBQztBQUN6RSxlQUFTLG9CQUFvQixZQUFZLEtBQUssZUFBZSxLQUFLLElBQUksQ0FBQztBQUFBLElBQ3pFO0FBQUEsSUFFQSxZQUFZLE9BQU87QUFDakIsWUFBTSxXQUFXLE1BQU0sT0FBTyxRQUFRLHdEQUF3RDtBQUM5RixVQUFJLFVBQVU7QUFDWixjQUFNLGdCQUFnQjtBQUN0QixZQUFJLFNBQVMsUUFBUSw2QkFBNkIsS0FBSyxTQUFTLFFBQVEsMkJBQTJCLEdBQUc7QUFDcEcsZUFBSyxXQUFXLFFBQVE7QUFBQSxRQUMxQjtBQUFBLE1BQ0YsV0FBVyxDQUFDLE1BQU0sT0FBTyxRQUFRLDJCQUEyQixHQUFHO0FBQzdELGFBQUssaUJBQWlCO0FBQUEsTUFDeEI7QUFBQSxJQUNGO0FBQUEsSUFFQSxnQkFBZ0IsT0FBTztBQUNyQixZQUFNLGNBQWMsTUFBTSxPQUFPLFFBQVEsZ0NBQWdDO0FBQ3pFLFVBQUksZUFBZSxZQUFZLFFBQVEsNkJBQTZCLEdBQUc7QUFDckUscUJBQWEsS0FBSyxXQUFXO0FBQzdCLGFBQUssWUFBWSxXQUFXO0FBQUEsTUFDOUI7QUFBQSxJQUNGO0FBQUEsSUFFQSxlQUFlLE9BQU87QUFDcEIsWUFBTSxjQUFjLE1BQU0sT0FBTyxRQUFRLGdDQUFnQztBQUN6RSxVQUFJLGVBQWUsWUFBWSxRQUFRLDZCQUE2QixHQUFHO0FBQ3JFLGFBQUsscUJBQXFCLFdBQVc7QUFBQSxNQUN2QztBQUFBLElBQ0Y7QUFBQSxJQUVBLFdBQVcsVUFBVTtBQUNuQixZQUFNLFFBQVEsU0FBUyxRQUFRLGlCQUFpQixTQUFTLFFBQVE7QUFDakUsWUFBTSxhQUFhLFNBQVMsUUFBUSxlQUFlO0FBRW5ELFVBQUksWUFBWTtBQUNkLFlBQUksS0FBSyxlQUFlLElBQUksS0FBSyxHQUFHO0FBQ2xDLGVBQUssYUFBYSxLQUFLLFNBQVMsSUFBSSxLQUFLLENBQUM7QUFBQSxRQUM1QyxPQUFPO0FBQ0wsZUFBSyxZQUFZLFFBQVE7QUFBQSxRQUMzQjtBQUFBLE1BQ0YsT0FBTztBQUNMLGdCQUFRLElBQUksc0JBQXNCLFNBQVMsWUFBWSxLQUFLLENBQUMsRUFBRTtBQUMvRCxhQUFLLGlCQUFpQjtBQUFBLE1BQ3hCO0FBQUEsSUFDRjtBQUFBLElBRUEsWUFBWSxVQUFVO0FBQ3BCLFlBQU0sUUFBUSxTQUFTLFFBQVEsaUJBQWlCLFNBQVMsUUFBUTtBQUNqRSxZQUFNLGFBQWEsU0FBUyxRQUFRLGVBQWU7QUFFbkQsVUFBSSxZQUFZO0FBRWQsYUFBSyxxQkFBcUIsUUFBUTtBQUVsQyxZQUFJLENBQUMsS0FBSyxTQUFTLElBQUksS0FBSyxHQUFHO0FBQzdCLGVBQUssY0FBYyxVQUFVLEtBQUs7QUFBQSxRQUNwQyxPQUFPO0FBQ0wsZUFBSyxZQUFZLFVBQVUsS0FBSyxTQUFTLElBQUksS0FBSyxDQUFDO0FBQUEsUUFDckQ7QUFBQSxNQUNGO0FBQUEsSUFDRjtBQUFBLElBRUEscUJBQXFCLFVBQVU7QUFDN0IsV0FBSyxjQUFjLFdBQVcsTUFBTTtBQUNsQyxjQUFNLGVBQWUsU0FBUyxRQUFRLGlCQUFpQixTQUFTLFFBQVE7QUFDeEUsWUFBSSxnQkFBZ0IsS0FBSyxTQUFTLElBQUksWUFBWSxHQUFHO0FBQ25ELGdCQUFNLFVBQVUsS0FBSyxTQUFTLElBQUksWUFBWTtBQUM5QyxjQUFJLENBQUMsUUFBUSxTQUFTLFNBQVMsYUFBYSxHQUFHO0FBQzdDLGlCQUFLLGFBQWEsT0FBTztBQUFBLFVBQzNCO0FBQUEsUUFDRjtBQUFBLE1BQ0YsR0FBRyxHQUFHO0FBQUEsSUFDUjtBQUFBLElBRUEsY0FBYyxVQUFVLE9BQU87QUFDN0IsWUFBTSxXQUFXLEtBQUs7QUFDdEIsWUFBTSxpQkFBaUIsU0FBUyxRQUFRLGNBQWMsc0JBQXNCLEtBQUssSUFBSTtBQUVyRixVQUFJLGdCQUFnQjtBQUNsQixjQUFNLFVBQVUsZUFBZSxVQUFVLElBQUk7QUFDN0MsaUJBQVMsS0FBSyxZQUFZLE9BQU87QUFDakMsYUFBSyxTQUFTLElBQUksT0FBTyxPQUFPO0FBQ2hDLGFBQUssWUFBWSxVQUFVLE9BQU87QUFBQSxNQUNwQztBQUFBLElBQ0Y7QUFBQSxJQUVBLFlBQVksVUFBVSxTQUFTO0FBQzdCLGVBQVMsYUFBYSxpQkFBaUIsTUFBTTtBQUM3QyxlQUFTLFFBQVEsUUFBUTtBQUN6QixjQUFRLFFBQVEsUUFBUTtBQUN4QixjQUFRLE1BQU0sVUFBVTtBQUV4QixZQUFNLFFBQVEsU0FBUyxRQUFRLGlCQUFpQixTQUFTLFFBQVE7QUFDakUsV0FBSyxlQUFlLElBQUksS0FBSztBQUU3QixXQUFLLFVBQVUsV0FBVyxVQUFVLFNBQVMsTUFBTTtBQUNqRCxhQUFLLGdCQUFnQixVQUFVLE9BQU87QUFBQSxNQUN4QyxDQUFDO0FBQUEsSUFDSDtBQUFBLElBRUEsYUFBYSxTQUFTO0FBQ3BCLFlBQU0sUUFBUSxRQUFRLFFBQVE7QUFDOUIsWUFBTSxXQUFXLFNBQVMsY0FBYywwQkFBMEIsS0FBSyxzQ0FBc0MsS0FBSyxJQUFJO0FBRXRILFVBQUksVUFBVTtBQUNaLGlCQUFTLGFBQWEsaUJBQWlCLE9BQU87QUFDOUMsaUJBQVMsUUFBUSxRQUFRO0FBQUEsTUFDM0I7QUFDQSxjQUFRLFFBQVEsUUFBUTtBQUN4QixjQUFRLE1BQU0sVUFBVTtBQUV4QixXQUFLLGVBQWUsT0FBTyxLQUFLO0FBRWhDLFVBQUksS0FBSyxTQUFTO0FBQ2hCLGFBQUssUUFBUTtBQUNiLGFBQUssVUFBVTtBQUFBLE1BQ2pCO0FBR0EsY0FBUSxpQkFBaUIsZ0NBQWdDLEVBQUUsUUFBUSxlQUFhO0FBQzlFLGNBQU0sYUFBYSxVQUFVLFFBQVE7QUFDckMsWUFBSSxLQUFLLFNBQVMsSUFBSSxVQUFVLEdBQUc7QUFDakMsZUFBSyxhQUFhLEtBQUssU0FBUyxJQUFJLFVBQVUsQ0FBQztBQUFBLFFBQ2pEO0FBQUEsTUFDRixDQUFDO0FBQUEsSUFDSDtBQUFBLElBRUEscUJBQXFCLFVBQVU7QUFDN0IsWUFBTSxnQkFBZ0IsU0FBUyxRQUFRLDJCQUEyQjtBQUNsRSxZQUFNLGVBQWUsZ0JBQ2pCLGNBQWMsaUJBQWlCLHlDQUF5QyxJQUN4RSxLQUFLO0FBRVQsbUJBQWEsUUFBUSxhQUFXO0FBQzlCLFlBQUksWUFBWSxVQUFVO0FBQ3hCLGdCQUFNLGVBQWUsUUFBUSxRQUFRLGlCQUFpQixRQUFRLFFBQVE7QUFDdEUsY0FBSSxLQUFLLGVBQWUsSUFBSSxZQUFZLEdBQUc7QUFDekMsaUJBQUssYUFBYSxLQUFLLFNBQVMsSUFBSSxZQUFZLENBQUM7QUFBQSxVQUNuRDtBQUFBLFFBQ0Y7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNIO0FBQUEsSUFFQSxtQkFBbUI7QUFDakIsV0FBSyxlQUFlLFFBQVEsV0FBUztBQUNuQyxZQUFJLEtBQUssU0FBUyxJQUFJLEtBQUssR0FBRztBQUM1QixlQUFLLGFBQWEsS0FBSyxTQUFTLElBQUksS0FBSyxDQUFDO0FBQUEsUUFDNUM7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNIO0FBQUEsSUFFQSxxQkFBcUI7QUFDbkIsV0FBSyxTQUFTLFFBQVEsYUFBVztBQUMvQixZQUFJLFFBQVEsWUFBWTtBQUN0QixrQkFBUSxXQUFXLFlBQVksT0FBTztBQUFBLFFBQ3hDO0FBQUEsTUFDRixDQUFDO0FBQ0QsV0FBSyxTQUFTLE1BQU07QUFDcEIsV0FBSyxlQUFlLE1BQU07QUFDMUIsVUFBSSxLQUFLLFNBQVM7QUFDaEIsYUFBSyxRQUFRO0FBQ2IsYUFBSyxVQUFVO0FBQUEsTUFDakI7QUFBQSxJQUNGO0FBQUEsSUFFQSxnQkFBZ0IsVUFBVSxTQUFTO0FBQ2pDLFlBQU0sZ0JBQWdCLFNBQVMsUUFBUSwyQkFBMkI7QUFDbEUsWUFBTSxZQUFZLGdCQUFnQixnQkFBZ0I7QUFFbEQsTUFBQUMsaUJBQWdCLFVBQVUsU0FBUztBQUFBLFFBQ2pDO0FBQUEsUUFDQSxZQUFZO0FBQUEsVUFDVkMsUUFBTyxDQUFDO0FBQUEsVUFDUkMsTUFBSztBQUFBLFVBQ0xDLE9BQU0sRUFBQyxTQUFTLEVBQUMsQ0FBQztBQUFBLFFBQ3BCO0FBQUEsTUFDRixDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUMsR0FBRyxFQUFDLE1BQU07QUFDbEIsZUFBTyxPQUFPLFFBQVEsT0FBTztBQUFBLFVBQzNCLFVBQVU7QUFBQSxVQUNWLE1BQU0sR0FBRyxDQUFDO0FBQUEsVUFDVixLQUFLLEdBQUcsQ0FBQztBQUFBLFFBQ1gsQ0FBQztBQUFBLE1BQ0gsQ0FBQztBQUFBLElBQ0g7QUFBQSxFQUNGO0FBek1FLGdCQURLLGlCQUNFLFdBQVUsQ0FBQyxZQUFZLGlCQUFpQjs7O0FDTGpEO0FBQUE7QUFBQTtBQUFBO0FBSUEsTUFBTyxrQkFBUCxjQUE2QixXQUFXO0FBQUEsSUFTdEMsVUFBVTtBQUNSLFdBQUssVUFBVTtBQUNmLFdBQUssc0JBQXNCLEtBQUssYUFBYSxLQUFLLElBQUk7QUFFdEQsVUFBSSxLQUFLLHFCQUFxQixTQUFTO0FBQ3JDLGFBQUssY0FBYyxpQkFBaUIsY0FBYyxLQUFLLEtBQUssS0FBSyxJQUFJLENBQUM7QUFDdEUsYUFBSyxjQUFjLGlCQUFpQixjQUFjLEtBQUssS0FBSyxLQUFLLElBQUksQ0FBQztBQUFBLE1BQ3hFO0FBQUEsSUFDRjtBQUFBLElBRUEsYUFBYTtBQUNYLGVBQVMsb0JBQW9CLFNBQVMsS0FBSyxtQkFBbUI7QUFDOUQsVUFBSSxLQUFLLHFCQUFxQixTQUFTO0FBQ3JDLGFBQUssY0FBYyxvQkFBb0IsY0FBYyxLQUFLLEtBQUssS0FBSyxJQUFJLENBQUM7QUFDekUsYUFBSyxjQUFjLG9CQUFvQixjQUFjLEtBQUssS0FBSyxLQUFLLElBQUksQ0FBQztBQUFBLE1BQzNFO0FBQ0EsVUFBSSxLQUFLLGdCQUFnQjtBQUN2QixpQkFBUyxLQUFLLFlBQVksS0FBSyxjQUFjO0FBQUEsTUFDL0M7QUFBQSxJQUNGO0FBQUEsSUFFQSxPQUFPLE9BQU87QUFDWixZQUFNLGdCQUFnQjtBQUN0QixXQUFLLFVBQVUsS0FBSyxLQUFLLElBQUksS0FBSyxLQUFLO0FBQUEsSUFDekM7QUFBQSxJQUVBLE9BQU87QUFDTCxVQUFJLENBQUMsS0FBSyxnQkFBZ0I7QUFDeEIsYUFBSyxpQkFBaUIsS0FBSyxzQkFBc0IsUUFBUSxrQkFBa0IsVUFBVSxJQUFJO0FBQ3pGLGlCQUFTLEtBQUssWUFBWSxLQUFLLGNBQWM7QUFBQSxNQUMvQztBQUNBLFdBQUssZUFBZSxNQUFNLFVBQVU7QUFDcEMsV0FBSyxlQUFlLE1BQU0sYUFBYTtBQUd2QyxpQkFBVyxNQUFNO0FBQ2YsYUFBSyxnQkFBZ0I7QUFDckIsYUFBSyxlQUFlLE1BQU0sYUFBYTtBQUFBLE1BQ3pDLEdBQUcsQ0FBQztBQUVKLFdBQUssVUFBVTtBQUNmLFVBQUksS0FBSyxxQkFBcUIsU0FBUztBQUNyQyxpQkFBUyxpQkFBaUIsU0FBUyxLQUFLLG1CQUFtQjtBQUFBLE1BQzdEO0FBQUEsSUFDRjtBQUFBLElBRUEsT0FBTztBQUNMLFVBQUksS0FBSyxnQkFBZ0I7QUFDdkIsYUFBSyxlQUFlLE1BQU0sVUFBVTtBQUFBLE1BQ3RDO0FBQ0EsV0FBSyxVQUFVO0FBQ2YsVUFBSSxLQUFLLHFCQUFxQixTQUFTO0FBQ3JDLGlCQUFTLG9CQUFvQixTQUFTLEtBQUssbUJBQW1CO0FBQUEsTUFDaEU7QUFBQSxJQUNGO0FBQUEsSUFFQSxhQUFhLE9BQU87QUFDbEIsVUFBSSxDQUFDLEtBQUssUUFBUSxTQUFTLE1BQU0sTUFBTSxLQUFLLENBQUMsS0FBSyxlQUFlLFNBQVMsTUFBTSxNQUFNLEdBQUc7QUFDdkYsYUFBSyxLQUFLO0FBQUEsTUFDWjtBQUFBLElBQ0Y7QUFBQSxJQUVBLGtCQUFrQjtBQUNoQixZQUFNLGFBQWE7QUFBQSxRQUNqQkMsUUFBTyxLQUFLLFdBQVc7QUFBQSxRQUN2QkMsTUFBSztBQUFBLFFBQ0xDLE9BQU0sRUFBQyxTQUFTLEVBQUMsQ0FBQztBQUFBLE1BQ3BCO0FBRUEsVUFBSSxLQUFLLFlBQVk7QUFDbkIsY0FBTSxlQUFlLEtBQUssZUFBZSxjQUFjLGtDQUFrQztBQUN6RixZQUFJLGNBQWM7QUFDaEIscUJBQVcsS0FBS0MsT0FBTSxFQUFFLFNBQVMsYUFBYSxDQUFDLENBQUM7QUFBQSxRQUNsRDtBQUFBLE1BQ0Y7QUFFQSxNQUFBQyxpQkFBZ0IsS0FBSyxlQUFlLEtBQUssZ0JBQWdCO0FBQUEsUUFDdkQsV0FBVyxLQUFLO0FBQUEsUUFDaEI7QUFBQSxNQUNGLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBQyxHQUFHLEdBQUcsV0FBVyxlQUFjLE1BQU07QUFDN0MsZUFBTyxPQUFPLEtBQUssZUFBZSxPQUFPO0FBQUEsVUFDdkMsVUFBVTtBQUFBLFVBQ1YsTUFBTSxHQUFHLENBQUM7QUFBQSxVQUNWLEtBQUssR0FBRyxDQUFDO0FBQUEsVUFDVCxRQUFRO0FBQUEsUUFDVixDQUFDO0FBR0QsWUFBSSxLQUFLLFlBQVk7QUFDbkIsZ0JBQU0sZUFBZSxLQUFLLGVBQWUsY0FBYyxrQ0FBa0M7QUFDekYsY0FBSSxjQUFjO0FBQ2hCLGtCQUFNLEVBQUMsR0FBRyxRQUFRLEdBQUcsT0FBTSxJQUFJLGVBQWU7QUFFOUMsa0JBQU0sYUFBYTtBQUFBLGNBQ2pCLEtBQUs7QUFBQSxjQUNMLE9BQU87QUFBQSxjQUNQLFFBQVE7QUFBQSxjQUNSLE1BQU07QUFBQSxZQUNSLEVBQUUsVUFBVSxNQUFNLEdBQUcsRUFBRSxDQUFDLENBQUM7QUFFekIsbUJBQU8sT0FBTyxhQUFhLE9BQU87QUFBQSxjQUNoQyxNQUFNLFVBQVUsT0FBTyxHQUFHLE1BQU0sT0FBTztBQUFBLGNBQ3ZDLEtBQUssVUFBVSxPQUFPLEdBQUcsTUFBTSxPQUFPO0FBQUEsY0FDdEMsT0FBTztBQUFBLGNBQ1AsUUFBUTtBQUFBLGNBQ1IsQ0FBQyxVQUFVLEdBQUc7QUFBQSxZQUNoQixDQUFDO0FBQUEsVUFDSDtBQUFBLFFBQ0Y7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNIO0FBQUEsRUFDRjtBQXZIRSxnQkFESyxpQkFDRSxXQUFVLENBQUMsV0FBVyxtQkFBbUIsT0FBTztBQUN2RCxnQkFGSyxpQkFFRSxVQUFTO0FBQUEsSUFDZCxXQUFXO0FBQUEsSUFDWCxRQUFRO0FBQUEsSUFDUixPQUFPO0FBQUEsSUFDUCxhQUFhO0FBQUEsRUFDZjs7O0FDWEY7OztBQ0FBO0FBQUE7QUFBQTtBQUFBO0FBRUEsMEJBQXFCO0FBRXJCLE1BQU8sb0JBQVAsY0FBNkIsV0FBVztBQUFBLElBTXRDLFVBQVU7QUFDUixXQUFLLG9CQUFvQjtBQUFBLElBQzNCO0FBQUEsSUFFQSxzQkFBc0I7QUFDcEIsWUFBTSxlQUFlLEtBQUssbUJBQW1CO0FBQzdDLFlBQU0sVUFBVSxLQUFLLFFBQVEsaUJBQWlCLDJDQUEyQztBQUV6RixjQUFRLFFBQVEsQ0FBQyxRQUFRLFVBQVU7QUFDakMsOEJBQUFDLFNBQVMsTUFBTSxFQUFFLFVBQVU7QUFBQSxVQUN6QixNQUFNLGVBQWUsTUFBTTtBQUFBLFVBQzNCLFdBQVc7QUFBQSxZQUNULE1BQU0sQ0FBQyxVQUFVO0FBQ2Ysb0JBQU0sWUFBWSxLQUFLLFFBQVEsY0FBYyxtQkFBbUIsS0FBSyxRQUFRLEVBQUUsVUFBVSxLQUFLLElBQUk7QUFDbEcsb0JBQU0sWUFBWSxLQUFLLFFBQVEsY0FBYyxtQkFBbUIsS0FBSyxRQUFRLEVBQUUsVUFBVSxRQUFRLENBQUMsSUFBSTtBQUV0RyxvQkFBTSxXQUFXLFdBQVcsVUFBVSxRQUFRLFNBQVM7QUFDdkQsb0JBQU0sV0FBVyxXQUFXLFVBQVUsUUFBUSxTQUFTO0FBRXZELG9CQUFNLFlBQVksV0FBVztBQUM3QixvQkFBTSxRQUFRLGVBQ1gsTUFBTSxLQUFLLEtBQUssUUFBUSxjQUFlLFlBQ3ZDLE1BQU0sS0FBSyxLQUFLLFFBQVEsZUFBZ0I7QUFFM0Msb0JBQU0sY0FBYyxLQUFLLElBQUksSUFBSSxLQUFLLElBQUksSUFBSSxXQUFXLEtBQUssQ0FBQztBQUMvRCxvQkFBTSxjQUFjLFlBQVk7QUFFaEMsd0JBQVUsTUFBTSxPQUFPLEdBQUcsV0FBVztBQUNyQyx3QkFBVSxNQUFNLE9BQU8sR0FBRyxXQUFXO0FBQ3JDLHdCQUFVLFFBQVEsWUFBWSxZQUFZLFNBQVM7QUFDbkQsd0JBQVUsUUFBUSxZQUFZLFlBQVksU0FBUztBQUduRCxxQkFBTyxhQUFhLGlCQUFpQixZQUFZLFFBQVEsQ0FBQyxDQUFDO0FBQzNELHFCQUFPLGFBQWEsaUJBQWlCLElBQUk7QUFDekMscUJBQU8sYUFBYSxpQkFBaUIsSUFBSTtBQUFBLFlBQzNDO0FBQUEsVUFDRjtBQUFBLFFBQ0YsQ0FBQztBQUFBLE1BQ0gsQ0FBQztBQUFBLElBQ0g7QUFBQSxFQUNGO0FBOUNFLGdCQURLLG1CQUNFLFVBQVM7QUFBQSxJQUNkLFdBQVc7QUFBQSxJQUNYLFFBQVE7QUFBQSxFQUNWOzs7QUNSRjtBQUFBO0FBQUE7QUFBQTtBQU1BLE1BQU8sZ0JBQVAsY0FBNkIsV0FBVztBQUFBLElBR3RDLFVBQVU7QUFDUixvQkFBYyxNQUFNO0FBQUEsUUFDbEIsU0FBUyxLQUFLO0FBQUEsUUFDZCxhQUFhO0FBQUEsUUFDYixXQUFXLEtBQUssa0JBQWtCO0FBQUEsUUFDbEMsU0FBUyxLQUFLLGdCQUFnQjtBQUFBLFFBQzlCLGFBQWE7QUFBQSxRQUNiLFdBQVcsS0FBSyxnQkFBZ0I7QUFBQSxRQUNoQyxTQUFTLEtBQUssa0JBQWtCO0FBQUEsTUFDbEMsQ0FBQztBQUFBLElBQ0g7QUFBQSxJQUVBLE9BQU87QUFDTCxXQUFLLGNBQWMsVUFBVSxPQUFPLFFBQVE7QUFDNUMsV0FBSyxjQUFjLFVBQVUsT0FBTyxRQUFRO0FBQzVDLFdBQUssTUFBTTtBQUFBLElBQ2I7QUFBQSxJQUVBLFFBQVE7QUFDTixXQUFLLE1BQU07QUFDWCxpQkFBVyxNQUFNO0FBQ2YsYUFBSyxjQUFjLFVBQVUsSUFBSSxRQUFRO0FBQ3pDLGFBQUssY0FBYyxVQUFVLElBQUksUUFBUTtBQUFBLE1BQzNDLEdBQUcsR0FBRztBQUFBLElBQ1I7QUFBQSxJQUVBLGFBQWEsT0FBTztBQUNsQixVQUFJLENBQUMsS0FBSyxjQUFjLFNBQVMsTUFBTSxNQUFNLEdBQUc7QUFDOUMsYUFBSyxNQUFNO0FBQUEsTUFDYjtBQUFBLElBQ0Y7QUFBQSxJQUdBLG9CQUFvQjtBQUNsQixZQUFNLE9BQU8sS0FBSyxjQUFjLFFBQVE7QUFDeEMsY0FBUSxNQUFNO0FBQUEsUUFDWixLQUFLO0FBQU8saUJBQU87QUFBQSxRQUNuQixLQUFLO0FBQVMsaUJBQU87QUFBQSxRQUNyQixLQUFLO0FBQVUsaUJBQU87QUFBQSxRQUN0QixLQUFLO0FBQVEsaUJBQU87QUFBQSxRQUNwQjtBQUFTLGlCQUFPO0FBQUEsTUFDbEI7QUFBQSxJQUNGO0FBQUEsSUFFQSxrQkFBa0I7QUFDaEIsYUFBTztBQUFBLElBQ1Q7QUFBQSxFQUNGO0FBakRFLGdCQURLLGVBQ0UsV0FBVSxDQUFDLFdBQVcsU0FBUzs7O0FDUHhDO0FBQUE7QUFBQSxtQkFBQUM7QUFBQTtBQVFDLE1BQXFCQyxjQUFyQixjQUF3QyxXQUFlO0FBQUEsSUFDckQsVUFBVTtBQUFBLElBQ1Y7QUFBQSxJQUNBLGFBQWE7QUFBQSxJQUNiO0FBQUEsRUFDRjs7O0FDYkQ7OztBQ0FBOzs7QUNBQTtBQUFBO0FBQUE7QUFBQTs7O0FDQUEsaUJBQXNCLE1BQU0sU0FBUyxpQkFBaUIsTUFBTTtBQUN4RCxZQUFRLFVBQVUsT0FBTyxRQUFRO0FBQ2pDLFVBQU0sV0FBVyxTQUFTLFNBQVMsY0FBYztBQUFBLEVBQ3JEO0FBRUEsaUJBQXNCLE1BQU0sU0FBUyxpQkFBaUIsTUFBTTtBQUN4RCxVQUFNLFdBQVcsU0FBUyxTQUFTLGNBQWM7QUFDakQsWUFBUSxVQUFVLElBQUksUUFBUTtBQUFBLEVBQ2xDO0FBVUEsaUJBQWUsV0FBVyxXQUFXLFNBQVMsV0FBVztBQUNyRCxVQUFNLFVBQVUsUUFBUTtBQUN4QixVQUFNLGlCQUFpQixZQUFZLEdBQUcsU0FBUyxJQUFJLFNBQVMsS0FBSztBQUNqRSxRQUFJQyxjQUFhLGFBQWEsVUFBVSxPQUFPLENBQUMsRUFBRSxZQUFZLElBQUksVUFBVSxNQUFNLENBQUMsQ0FBQztBQUNwRixVQUFNLFVBQVUsUUFBUUEsV0FBVSxJQUFJLFFBQVFBLFdBQVUsRUFBRSxNQUFNLEdBQUcsSUFBSSxDQUFDLGNBQWM7QUFDdEYsVUFBTSxRQUFRLFFBQVEsR0FBR0EsV0FBVSxPQUFPLElBQUksUUFBUSxHQUFHQSxXQUFVLE9BQU8sRUFBRSxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsY0FBYyxRQUFRO0FBQ25ILFVBQU0sTUFBTSxRQUFRLEdBQUdBLFdBQVUsS0FBSyxJQUFJLFFBQVEsR0FBR0EsV0FBVSxLQUFLLEVBQUUsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLGNBQWMsTUFBTTtBQUUzRyxlQUFXLFNBQVMsT0FBTztBQUMzQixlQUFXLFNBQVMsS0FBSztBQUN6QixVQUFNLFVBQVU7QUFDaEIsa0JBQWMsU0FBUyxLQUFLO0FBQzVCLGVBQVcsU0FBUyxHQUFHO0FBQ3ZCLFVBQU1DLGlCQUFnQixPQUFPO0FBQzdCLGtCQUFjLFNBQVMsR0FBRztBQUMxQixrQkFBYyxTQUFTLE9BQU87QUFBQSxFQUNsQztBQUVBLFdBQVMsV0FBVyxTQUFTLFNBQVM7QUFDbEMsWUFBUSxVQUFVLElBQUksR0FBRyxPQUFPO0FBQUEsRUFDcEM7QUFFQSxXQUFTLGNBQWMsU0FBUyxTQUFTO0FBQ3JDLFlBQVEsVUFBVSxPQUFPLEdBQUcsT0FBTztBQUFBLEVBQ3ZDO0FBRUEsV0FBUyxZQUFZO0FBQ2pCLFdBQU8sSUFBSSxRQUFRLGFBQVc7QUFDMUIsNEJBQXNCLE1BQU07QUFDeEIsOEJBQXNCLE9BQU87QUFBQSxNQUNqQyxDQUFDO0FBQUEsSUFDTCxDQUFDO0FBQUEsRUFDTDtBQUVBLFdBQVNBLGlCQUFnQixTQUFTO0FBQzlCLFdBQU8sSUFBSSxRQUFRLGFBQVc7QUFFMUIsWUFBTSxtQkFBbUIsaUJBQWlCLE9BQU8sRUFBRSxtQkFBbUIsTUFBTSxHQUFHLEVBQUUsQ0FBQztBQUNsRixZQUFNLFdBQVcsT0FBTyxpQkFBaUIsUUFBUSxLQUFLLEVBQUUsQ0FBQyxJQUFJO0FBQzdELGlCQUFXLE1BQU07QUFDYixnQkFBUTtBQUFBLE1BQ1osR0FBRyxRQUFRO0FBQUEsSUFDZixDQUFDO0FBQUEsRUFDTDs7O0FEdkRBLE1BQU8sZ0JBQVAsY0FBNkIsV0FBVztBQUFBLElBUXRDLFVBQVU7QUFDUixXQUFLLGlCQUFpQjtBQUN0QixXQUFLLHlCQUF5QjtBQUFBLElBQ2hDO0FBQUEsSUFFQSxtQkFBbUI7QUFDakIsZUFBUyxpQkFBaUIsWUFBWSxLQUFLLGtCQUFrQixLQUFLLElBQUksQ0FBQztBQUFBLElBQ3pFO0FBQUEsSUFFQSwyQkFBMkI7QUFDekIsZUFBUyxpQkFBaUIsOEJBQThCLENBQUMsVUFBVTtBQUNqRSxjQUFNLGNBQWMsTUFBTTtBQUMxQixZQUFJLFlBQVksV0FBVyxZQUFZLFlBQVksV0FBVyxVQUFVO0FBQ3RFLGdCQUFNLGVBQWU7QUFDckIsZUFBSyxZQUFZLFlBQVksZ0JBQWdCLGNBQWMsSUFBSSxDQUFDO0FBQUEsUUFDbEU7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNIO0FBQUEsSUFFQSxrQkFBa0IsT0FBTztBQUN2QixZQUFNLEVBQUUsT0FBTyxTQUFTLEtBQUssSUFBSSxNQUFNO0FBQ3ZDLFdBQUssWUFBWSxLQUFLLG1CQUFtQixPQUFPLFNBQVMsSUFBSSxDQUFDO0FBQUEsSUFDaEU7QUFBQSxJQUVBLG1CQUFtQixPQUFPLFNBQVMsTUFBTTtBQUN2QyxZQUFNLFFBQVEsU0FBUyxjQUFjLElBQUk7QUFDekMsWUFBTSxZQUFZO0FBQUE7QUFBQSw2QkFFTyxLQUFLO0FBQUEsZUFDbkIsT0FBTztBQUFBO0FBQUE7QUFHbEIsWUFBTSxZQUFZO0FBRWxCLFlBQU0sUUFBUSxnQkFBZ0I7QUFDOUIsWUFBTSxRQUFRLFNBQVM7QUFDdkIsYUFBTztBQUFBLElBQ1Q7QUFBQSxJQUVBLFlBQVksY0FBYztBQUN4QixXQUFLLGdCQUFnQixZQUFZLFlBQVk7QUFDN0MsWUFBTSxZQUFZO0FBQUEsSUFFcEI7QUFBQSxJQUVBLFFBQVEsT0FBTztBQUNiLFlBQU0sUUFBUSxNQUFNLE9BQU8sUUFBUSwrQkFBK0I7QUFDbEUsWUFBTSxLQUFLLEVBQUUsS0FBSyxNQUFNO0FBQ3RCLGNBQU0sT0FBTztBQUFBLE1BQ2YsQ0FBQztBQUFBLElBQ0g7QUFBQSxFQUNGO0FBMURFLGdCQURLLGVBQ0UsV0FBVSxDQUFDLGFBQWEsTUFBTTtBQUNyQyxnQkFGSyxlQUVFLFVBQVM7QUFBQSxJQUNkLE9BQU87QUFBQSxJQUNQLFdBQVc7QUFBQSxJQUNYLFdBQVc7QUFBQSxFQUNiOzs7QUVaRjs7O0FDQUE7QUFBQTtBQUFBO0FBQUE7QUFLQSxNQUFPLGlCQUFQLGNBQTZCLFdBQVc7QUFBQSxJQU10QyxVQUFVO0FBQ1IsV0FBSyxjQUFjO0FBQUEsSUFDckI7QUFBQSxJQUVBLFNBQVM7QUFDUCxXQUFLLGVBQWUsQ0FBQyxLQUFLO0FBQzFCLFdBQUssY0FBYztBQUFBLElBQ3JCO0FBQUEsSUFFQSxnQkFBZ0I7QUFDZCxXQUFLLGFBQWEsYUFBYSxnQkFBZ0IsS0FBSyxZQUFZO0FBQ2hFLFdBQUssYUFBYSxRQUFRLFFBQVEsS0FBSyxlQUFlLE9BQU87QUFBQSxJQUMvRDtBQUFBLEVBQ0Y7QUFsQkUsZ0JBREssZ0JBQ0UsV0FBVSxDQUFDLFFBQVE7QUFDMUIsZ0JBRkssZ0JBRUUsVUFBUztBQUFBLElBQ2QsU0FBUztBQUFBLEVBQ1g7OztBQ1RGO0FBQUE7QUFBQTtBQUFBO0FBS0EsTUFBTyxrQkFBUCxjQUE2QixXQUFXO0FBQUEsSUFPdEMsVUFBVTtBQUNSLFdBQUssbUJBQW1CLEtBQUssWUFBWSxLQUFLLElBQUk7QUFDbEQsV0FBSyxtQkFBbUIsS0FBSyxZQUFZLEtBQUssSUFBSTtBQUVsRCxXQUFLLGNBQWMsaUJBQWlCLGNBQWMsS0FBSyxnQkFBZ0I7QUFDdkUsV0FBSyxjQUFjLGlCQUFpQixjQUFjLEtBQUssZ0JBQWdCO0FBQ3ZFLFdBQUssY0FBYyxpQkFBaUIsU0FBUyxLQUFLLGdCQUFnQjtBQUNsRSxXQUFLLGNBQWMsaUJBQWlCLFFBQVEsS0FBSyxnQkFBZ0I7QUFFakUsV0FBSyxVQUFVO0FBQUEsUUFDYixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQUEsUUFDTCxLQUFLLGVBQWUsS0FBSyxJQUFJO0FBQUEsTUFDL0I7QUFBQSxJQUNGO0FBQUEsSUFFQSxhQUFhO0FBQ1gsV0FBSyxjQUFjLG9CQUFvQixjQUFjLEtBQUssZ0JBQWdCO0FBQzFFLFdBQUssY0FBYyxvQkFBb0IsY0FBYyxLQUFLLGdCQUFnQjtBQUMxRSxXQUFLLGNBQWMsb0JBQW9CLFNBQVMsS0FBSyxnQkFBZ0I7QUFDckUsV0FBSyxjQUFjLG9CQUFvQixRQUFRLEtBQUssZ0JBQWdCO0FBRXBFLFVBQUksS0FBSyxTQUFTO0FBQ2hCLGFBQUssUUFBUTtBQUFBLE1BQ2Y7QUFBQSxJQUNGO0FBQUEsSUFFQSxjQUFjO0FBQ1osbUJBQWEsS0FBSyxXQUFXO0FBQzdCLFdBQUssY0FBYyxXQUFXLE1BQU07QUFDbEMsYUFBSyxjQUFjLFVBQVUsT0FBTyxRQUFRO0FBQzVDLGFBQUssZUFBZTtBQUFBLE1BQ3RCLEdBQUcsS0FBSyxVQUFVO0FBQUEsSUFDcEI7QUFBQSxJQUVBLGNBQWM7QUFDWixtQkFBYSxLQUFLLFdBQVc7QUFDN0IsV0FBSyxjQUFjLFdBQVcsTUFBTTtBQUNsQyxhQUFLLGNBQWMsVUFBVSxJQUFJLFFBQVE7QUFBQSxNQUMzQyxHQUFHLEVBQUU7QUFBQSxJQUNQO0FBQUEsSUFFQSxpQkFBaUI7QUFDZixNQUFBQyxpQkFBZ0IsS0FBSyxlQUFlLEtBQUssZUFBZTtBQUFBLFFBQ3RELFdBQVcsS0FBSztBQUFBLFFBQ2hCLFlBQVk7QUFBQSxVQUNWQyxRQUFPLENBQUM7QUFBQSxVQUNSQyxNQUFLO0FBQUEsVUFDTEMsT0FBTSxFQUFFLFNBQVMsRUFBRSxDQUFDO0FBQUEsVUFDcEJDLE9BQU0sRUFBRSxTQUFTLEtBQUssWUFBWSxDQUFDO0FBQUEsUUFDckM7QUFBQSxNQUNGLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxHQUFHLEdBQUcsV0FBVyxlQUFlLE1BQU07QUFDL0MsZUFBTyxPQUFPLEtBQUssY0FBYyxPQUFPO0FBQUEsVUFDdEMsTUFBTSxHQUFHLENBQUM7QUFBQSxVQUNWLEtBQUssR0FBRyxDQUFDO0FBQUEsUUFDWCxDQUFDO0FBRUQsY0FBTSxFQUFFLEdBQUcsUUFBUSxHQUFHLE9BQU8sSUFBSSxlQUFlO0FBRWhELGNBQU0sYUFBYTtBQUFBLFVBQ2pCLEtBQUs7QUFBQSxVQUNMLE9BQU87QUFBQSxVQUNQLFFBQVE7QUFBQSxVQUNSLE1BQU07QUFBQSxRQUNSLEVBQUUsVUFBVSxNQUFNLEdBQUcsRUFBRSxDQUFDLENBQUM7QUFFekIsZUFBTyxPQUFPLEtBQUssWUFBWSxPQUFPO0FBQUEsVUFDcEMsTUFBTSxVQUFVLE9BQU8sR0FBRyxNQUFNLE9BQU87QUFBQSxVQUN2QyxLQUFLLFVBQVUsT0FBTyxHQUFHLE1BQU0sT0FBTztBQUFBLFVBQ3RDLE9BQU87QUFBQSxVQUNQLFFBQVE7QUFBQSxVQUNSLENBQUMsVUFBVSxHQUFHO0FBQUEsUUFDaEIsQ0FBQztBQUFBLE1BQ0gsQ0FBQztBQUFBLElBQ0g7QUFBQSxFQUNGO0FBakZFLGdCQURLLGlCQUNFLFdBQVUsQ0FBQyxXQUFXLFdBQVcsT0FBTztBQUMvQyxnQkFGSyxpQkFFRSxVQUFTO0FBQUEsSUFDZCxPQUFPO0FBQUEsSUFDUCxXQUFXO0FBQUEsRUFDYjs7O0FDUk0sTUFBTUMsV0FBVSxDQUFDLEVBQUMsTUFBTSwwRUFBMEUsUUFBUSxtQkFBUyxVQUFVLCtEQUE4RCxHQUFFLEVBQUMsTUFBTSwrRUFBK0UsUUFBUSx3QkFBUyxVQUFVLG9FQUFtRSxHQUFFLEVBQUMsTUFBTSxzRUFBc0UsUUFBUSxlQUFTLFVBQVUsMkRBQTBELEdBQUUsRUFBQyxNQUFNLDZFQUE2RSxRQUFRLHNCQUFTLFVBQVUsa0VBQWlFLEdBQUUsRUFBQyxNQUFNLDZFQUE2RSxRQUFRLHNCQUFTLFVBQVUsa0VBQWlFLEdBQUUsRUFBQyxNQUFNLHVFQUF1RSxRQUFRLGdCQUFTLFVBQVUsNERBQTJELEdBQUUsRUFBQyxNQUFNLHNFQUFzRSxRQUFRLGVBQVMsVUFBVSwyREFBMEQsR0FBRSxFQUFDLE1BQU0sMkVBQTJFLFFBQVEsb0JBQVMsVUFBVSxnRUFBK0QsR0FBRSxFQUFDLE1BQU0sZ0ZBQWdGLFFBQVEseUJBQVMsVUFBVSxxRUFBb0UsR0FBRSxFQUFDLE1BQU0sdUVBQXVFLFFBQVEsZ0JBQVMsVUFBVSw0REFBMkQsR0FBRSxFQUFDLE1BQU0seUVBQXlFLFFBQVEsa0JBQVUsVUFBVSw4REFBNkQsR0FBRSxFQUFDLE1BQU0scUVBQXFFLFFBQVEsY0FBVSxVQUFVLDBEQUF5RCxHQUFFLEVBQUMsTUFBTSx5RUFBeUUsUUFBUSxrQkFBVSxVQUFVLDhEQUE2RCxHQUFFLEVBQUMsTUFBTSw0RUFBNEUsUUFBUSxxQkFBVSxVQUFVLGlFQUFnRSxHQUFFLEVBQUMsTUFBTSx3RUFBd0UsUUFBUSxpQkFBVSxVQUFVLDZEQUE0RCxHQUFFLEVBQUMsTUFBTSw2RUFBNkUsUUFBUSxzQkFBVSxVQUFVLGtFQUFpRSxHQUFFLEVBQUMsTUFBTSx1RUFBdUUsUUFBUSxnQkFBVSxVQUFVLDREQUEyRCxHQUFFLEVBQUMsTUFBTSw4RUFBOEUsUUFBUSx1QkFBVSxVQUFVLG1FQUFrRSxHQUFFLEVBQUMsTUFBTSxtRkFBbUYsUUFBUSw0QkFBVSxVQUFVLHdFQUF1RSxHQUFFLEVBQUMsTUFBTSwwRUFBMEUsUUFBUSxtQkFBVSxVQUFVLCtEQUE4RCxHQUFFLEVBQUMsTUFBTSx3RUFBd0UsUUFBUSxpQkFBVSxVQUFVLDZEQUE0RCxHQUFFLEVBQUMsTUFBTSx3RUFBd0UsUUFBUSxpQkFBVSxVQUFVLDZEQUE0RCxHQUFFLEVBQUMsTUFBTSx5RUFBeUUsUUFBUSxrQkFBVSxVQUFVLDhEQUE2RCxHQUFFLEVBQUMsTUFBTSwwRUFBMEUsUUFBUSxtQkFBVSxVQUFVLCtEQUE4RCxHQUFFLEVBQUMsTUFBTSxzRUFBc0UsUUFBUSxlQUFVLFVBQVUsMkRBQTBELEdBQUUsRUFBQyxNQUFNLHlFQUF5RSxRQUFRLGtCQUFVLFVBQVUsOERBQTZELEdBQUUsRUFBQyxNQUFNLHNFQUFzRSxRQUFRLGVBQVUsVUFBVSwyREFBMEQsR0FBRSxFQUFDLE1BQU0scUVBQXFFLFFBQVEsY0FBVSxVQUFVLDBEQUF5RCxHQUFFLEVBQUMsTUFBTSxzRUFBc0UsUUFBUSxlQUFVLFVBQVUsMkRBQTBELEdBQUUsRUFBQyxNQUFNLDJFQUEyRSxRQUFRLG9CQUFVLFVBQVUsZ0VBQStELEdBQUUsRUFBQyxNQUFNLHVFQUF1RSxRQUFRLGdCQUFVLFVBQVUsNERBQTJELEdBQUUsRUFBQyxNQUFNLHdFQUF3RSxRQUFRLGlCQUFVLFVBQVUsNkRBQTRELENBQUM7QUFDcDRLLE1BQU8sZ0JBQVFBOzs7QUNRdkIscUJBQVksUUFBUSxDQUFDLGVBQWU7QUFDbEMsZ0JBQVksU0FBUyxXQUFXLE1BQU0sV0FBVyxPQUFPLE9BQU87QUFBQSxFQUNqRSxDQUFDO0FBTUQsVUFBUSxJQUFJLGFBQWE7QUFFekIsZ0JBQWMsUUFBUSxDQUFDLGVBQWU7QUFDcEMsUUFBRyxXQUFXLE9BQU8sU0FBUTtBQUUzQixVQUFJLE9BQU8sV0FBVyxLQUFLLFFBQVEsY0FBYyxFQUFFO0FBQ25ELGFBQU8sS0FBSyxRQUFRLHVEQUF1RCxFQUFFO0FBQzdFLGFBQU8sTUFBTSxJQUFJO0FBQ2pCLGNBQVEsSUFBSSxzQkFBc0IsSUFBSTtBQUN0QyxrQkFBWSxTQUFTLE1BQU0sV0FBVyxPQUFPLE9BQU87QUFBQSxJQUN0RDtBQUFBLEVBRUYsQ0FBQztBQUVELFVBQVEsSUFBSSxXQUFXOyIsCiAgIm5hbWVzIjogWyJpc1dpbmRvdyIsICJ0aGluZyIsICJXaW5kb3ciLCAicmVhbFdpbmRvdyIsICJ3aW4iLCAiaW5pdCIsICJ3aW5kb3ciLCAiZWwiLCAiZG9jdW1lbnQiLCAiY3JlYXRlVGV4dE5vZGUiLCAib3duZXJEb2N1bWVudCIsICJ3cmFwIiwgImdldFdpbmRvdyIsICJub2RlIiwgImRlZmF1bHRWaWV3IiwgIm9iamVjdCIsICJfdHlwZW9mIiwgImZ1bmMiLCAiaXMiLCAiZG9jRnJhZyIsICJub2RlVHlwZSIsICJudW1iZXIiLCAiYm9vbCIsICJzdHJpbmciLCAiZWxlbWVudCIsICJfd2luZG93IiwgInRlc3QiLCAiRWxlbWVudCIsICJub2RlTmFtZSIsICJwbGFpbk9iamVjdCIsICJjb25zdHJ1Y3RvciIsICJ0b1N0cmluZyIsICJhcnJheSIsICJsZW5ndGgiLCAic3BsaWNlIiwgImJlZm9yZU1vdmUiLCAiX3JlZiIsICJpbnRlcmFjdGlvbiIsICJwcmVwYXJlZCIsICJuYW1lIiwgImF4aXMiLCAiY29vcmRzIiwgImN1ciIsICJwYWdlIiwgInkiLCAic3RhcnQiLCAiY2xpZW50IiwgInZlbG9jaXR5IiwgIngiLCAibW92ZSIsICJfcmVmMiIsICJpRXZlbnQiLCAib3Bwb3NpdGUiLCAiZGVsdGEiLCAiZHJhZyIsICJpZCIsICJpbnN0YWxsIiwgInNjb3BlIiwgImFjdGlvbnMiLCAiSW50ZXJhY3RhYmxlIiwgImRlZmF1bHRzIiwgInByb3RvdHlwZSIsICJkcmFnZ2FibGUiLCAibWFwIiwgIm1ldGhvZERpY3QiLCAibGlzdGVuZXJzIiwgImFyZyIsICJpbnRlcmFjdGFibGUiLCAiYnV0dG9ucyIsICJkcmFnT3B0aW9ucyIsICJvcHRpb25zIiwgImVuYWJsZWQiLCAicG9pbnRlcklzRG93biIsICJwb2ludGVyVHlwZSIsICJtb3VzZUJ1dHRvbnMiLCAiYWN0aW9uIiwgImxvY2tBeGlzIiwgInN0YXJ0QXhpcyIsICJ0aGlzIiwgInNldFBlckFjdGlvbiIsICJzZXRPbkV2ZW50cyIsICJnZXRDdXJzb3IiLCAiZmlsdGVyRXZlbnRUeXBlIiwgInR5cGUiLCAic2VhcmNoIiwgImRyYWckMSIsICJkb21PYmplY3RzIiwgIkRvY3VtZW50RnJhZ21lbnQiLCAiYmxhbmsiLCAiU1ZHRWxlbWVudCIsICJTVkdTVkdFbGVtZW50IiwgIlNWR0VsZW1lbnRJbnN0YW5jZSIsICJIVE1MRWxlbWVudCIsICJFdmVudCIsICJUb3VjaCIsICJQb2ludGVyRXZlbnQiLCAiTVNQb2ludGVyRXZlbnQiLCAiZG9tT2JqZWN0cyQxIiwgImJyb3dzZXIiLCAibmF2aWdhdG9yIiwgInN1cHBvcnRzVG91Y2giLCAiRG9jdW1lbnRUb3VjaCIsICJzdXBwb3J0c1BvaW50ZXJFdmVudCIsICJwb2ludGVyRW5hYmxlZCIsICJpc0lPUyIsICJwbGF0Zm9ybSIsICJpc0lPUzciLCAiYXBwVmVyc2lvbiIsICJpc0llOSIsICJ1c2VyQWdlbnQiLCAiaXNPcGVyYU1vYmlsZSIsICJhcHBOYW1lIiwgInByZWZpeGVkTWF0Y2hlc1NlbGVjdG9yIiwgInBFdmVudFR5cGVzIiwgInVwIiwgImRvd24iLCAib3ZlciIsICJvdXQiLCAiY2FuY2VsIiwgIndoZWVsRXZlbnQiLCAiYnJvd3NlciQxIiwgIm5vZGVDb250YWlucyIsICJwYXJlbnQiLCAiY2hpbGQiLCAiY29udGFpbnMiLCAicGFyZW50Tm9kZSIsICJjbG9zZXN0IiwgInNlbGVjdG9yIiwgIm1hdGNoZXNTZWxlY3RvciIsICJob3N0IiwgInJlcGxhY2UiLCAiZ2V0UGFyZW50IiwgImdldE5vZGVQYXJlbnRzIiwgImxpbWl0IiwgInBhcmVudFBhcmVudCIsICJwYXJlbnRzIiwgInVuc2hpZnQiLCAibWF0Y2hlc1VwVG8iLCAiZ2V0QWN0dWFsRWxlbWVudCIsICJjb3JyZXNwb25kaW5nVXNlRWxlbWVudCIsICJnZXRFbGVtZW50Q2xpZW50UmVjdCIsICJjbGllbnRSZWN0IiwgImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsICJnZXRDbGllbnRSZWN0cyIsICJsZWZ0IiwgInJpZ2h0IiwgInRvcCIsICJib3R0b20iLCAid2lkdGgiLCAiaGVpZ2h0IiwgImdldEVsZW1lbnRSZWN0IiwgInJlbGV2YW50V2luZG93IiwgInNjcm9sbCIsICJzY3JvbGxYIiwgImRvY3VtZW50RWxlbWVudCIsICJzY3JvbGxMZWZ0IiwgInNjcm9sbFkiLCAic2Nyb2xsVG9wIiwgImdldFBhdGgiLCAicGF0aCIsICJwdXNoIiwgInRyeVNlbGVjdG9yIiwgInZhbHVlIiwgInF1ZXJ5U2VsZWN0b3IiLCAiZXh0ZW5kIiwgImRlc3QiLCAic291cmNlIiwgInByb3AiLCAiZ2V0U3RyaW5nT3B0aW9uUmVzdWx0IiwgInRhcmdldCIsICJnZXRSZWN0IiwgInJlc29sdmVSZWN0TGlrZSIsICJmdW5jdGlvbkFyZ3MiLCAicmV0dXJuVmFsdWUiLCAiYXBwbHkiLCAicmVjdFRvWFkiLCAicmVjdCIsICJ0bGJyVG9YeXdoIiwgImFkZEVkZ2VzIiwgImVkZ2VzIiwgImdldE9yaWdpblhZIiwgImFjdGlvbk5hbWUiLCAiYWN0aW9uT3B0aW9ucyIsICJvcmlnaW4iLCAibm9ybWFsaXplIiwgImZpbHRlciIsICJhcmd1bWVudHMiLCAiX3R5cGVPclByZWZpeCIsICJyZXN1bHQiLCAic3BsaXQiLCAiZm9yRWFjaCIsICJ0IiwgIl9pMiIsICJfbGlzdGVuZXJzMiIsICJsIiwgInByZWZpeCIsICJwIiwgImNvbmNhdCIsICJ0cmltIiwgImh5cG90IiwgIk1hdGgiLCAic3FydCIsICJWRU5ET1JfUFJFRklYRVMiLCAicG9pbnRlckV4dGVuZCIsICJfX3NldCIsICJfbG9vcCIsICJzb21lIiwgImluZGV4T2YiLCAiT2JqZWN0IiwgImRlZmluZVByb3BlcnR5IiwgImdldCIsICJzZXQiLCAiY29uZmlndXJhYmxlIiwgImNvcHlDb29yZHMiLCAic3JjIiwgInRpbWVTdGFtcCIsICJzZXRaZXJvQ29vcmRzIiwgInRhcmdldE9iaiIsICJpc05hdGl2ZVBvaW50ZXIiLCAicG9pbnRlciIsICJkb20iLCAiZ2V0WFkiLCAieHkiLCAiZ2V0UGFnZVhZIiwgImdldFBvaW50ZXJJZCIsICJwb2ludGVySWQiLCAiaWRlbnRpZmllciIsICJzZXRDb29yZHMiLCAicG9pbnRlcnMiLCAicG9pbnRlckF2ZXJhZ2UiLCAiZ2V0VG91Y2hQYWlyIiwgImV2ZW50IiwgInRvdWNoZXMiLCAiY2hhbmdlZFRvdWNoZXMiLCAiYXZlcmFnZSIsICJwYWdlWCIsICJwYWdlWSIsICJjbGllbnRYIiwgImNsaWVudFkiLCAic2NyZWVuWCIsICJzY3JlZW5ZIiwgInRvdWNoQkJveCIsICJtaW5YIiwgIm1pbiIsICJtaW5ZIiwgIm1heFgiLCAibWF4IiwgIm1heFkiLCAidG91Y2hEaXN0YW5jZSIsICJkZWx0YVNvdXJjZSIsICJzb3VyY2VYIiwgInNvdXJjZVkiLCAiZHgiLCAiZHkiLCAidG91Y2hBbmdsZSIsICJhdGFuMiIsICJQSSIsICJnZXRQb2ludGVyVHlwZSIsICJ1bmRlZmluZWQiLCAiZ2V0RXZlbnRUYXJnZXRzIiwgImNvbXBvc2VkUGF0aCIsICJkb21VdGlscyIsICJjdXJyZW50VGFyZ2V0IiwgIkJhc2VFdmVudCIsICJfY2xhc3NDYWxsQ2hlY2siLCAiaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkIiwgInByb3BhZ2F0aW9uU3RvcHBlZCIsICJfaW50ZXJhY3Rpb24iLCAiX2NyZWF0ZUNsYXNzIiwgImtleSIsICJfcHJveHkiLCAibWVyZ2UiLCAiaXRlbSIsICJmcm9tIiwgImZpbmRJbmRleCIsICJpIiwgImZpbmQiLCAiRHJvcEV2ZW50IiwgIl9CYXNlRXZlbnQiLCAiX2luaGVyaXRzIiwgIl9zdXBlciIsICJfY3JlYXRlU3VwZXIiLCAiZHJvcFN0YXRlIiwgImRyYWdFdmVudCIsICJfdGhpcyIsICJjYWxsIiwgImRyb3B6b25lIiwgInJlbGF0ZWRUYXJnZXQiLCAicHJldiIsICJfdGhpczIiLCAicmVqZWN0ZWQiLCAiZXZlbnRzIiwgImVudGVyIiwgInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsICJhY3RpdmVEcm9wcyIsICJpbmRleCIsICJhcnIiLCAiZGVhY3RpdmF0ZUV2ZW50IiwgImZpcmUiLCAiZmlyZUFjdGl2YXRpb25FdmVudHMiLCAiX2k2IiwgIl9hY3RpdmVEcm9wcyRzbGljZTIiLCAic2xpY2UiLCAiX2FjdGl2ZURyb3BzJHNsaWNlMiRfIiwgImdldEFjdGl2ZURyb3BzIiwgImRyYWdFbGVtZW50IiwgImRyYWdnYWJsZUVsZW1lbnQiLCAiZHJvcHMiLCAiX2ludGVyYWN0YWJsZXMkbGlzdDIiLCAiaW50ZXJhY3RhYmxlcyIsICJsaXN0IiwgImRyb3AiLCAiYWNjZXB0IiwgIl9pNCIsICJfZHJvcHpvbmUkZ2V0QWxsRWxlbWUyIiwgImdldEFsbEVsZW1lbnRzIiwgImRyb3B6b25lRWxlbWVudCIsICJfaTgiLCAiYWN0aXZlRHJvcCIsICJnZXREcm9wIiwgInBvaW50ZXJFdmVudCIsICJ2YWxpZERyb3BzIiwgIl9pMTAiLCAiX2Ryb3BTdGF0ZSRhY3RpdmVEcm9wMiIsICJfZHJvcFN0YXRlJGFjdGl2ZURyb3AzIiwgImlzVmFsaWQiLCAiZHJvcENoZWNrIiwgImRyb3BJbmRleCIsICJlbGVtZW50cyIsICJkZWVwZXN0Tm9kZUluZGV4IiwgImhpZ2hlck5vZGUiLCAibG93ZXJOb2RlIiwgImRlZXBlc3ROb2RlUGFyZW50cyIsICJjdXJyZW50Tm9kZSIsICJkZWVwZXN0Tm9kZSIsICJjdXJyZW50Tm9kZVBhcmVudCIsICJkZWVwZXN0Tm9kZVBhcmVudCIsICJhbmNlc3RyeVN0YXJ0IiwgIm93bmVyU1ZHRWxlbWVudCIsICJjdXJyZW50Tm9kZVBhcmVudHMiLCAiY29tbW9uSW5kZXgiLCAibGFzdENoaWxkIiwgInByZXZpb3VzU2libGluZyIsICJoaWdoZXJJbmRleCIsICJwYXJzZUludCIsICJnZXRDb21wdXRlZFN0eWxlIiwgInpJbmRleCIsICJnZXREcm9wRXZlbnRzIiwgIl9wb2ludGVyRXZlbnQiLCAiZHJvcEV2ZW50cyIsICJsZWF2ZSIsICJhY3RpdmF0ZSIsICJkZWFjdGl2YXRlIiwgImRyYWdMZWF2ZSIsICJwcmV2RHJvcHpvbmUiLCAiZHJhZ0VudGVyIiwgImZpcmVEcm9wRXZlbnRzIiwgIm9uRXZlbnRDcmVhdGVkIiwgIl9yZWYzIiwgImR5bmFtaWNEcm9wIiwgImRyb3BSZXN1bHQiLCAiaW50ZXJhY3QiLCAiaW50ZXJhY3RTdGF0aWMiLCAidXNlUGx1Z2luIiwgIm5vcm1hbGl6ZWQiLCAibm9ybWFsaXplTGlzdGVuZXJzIiwgImNvcnJlY3RlZCIsICJrZXlzIiwgInJlZHVjZSIsICJhY2MiLCAicHJldkxpc3RlbmVycyIsICJvZmYiLCAib24iLCAib25kcm9wIiwgIm9uZHJvcGFjdGl2YXRlIiwgIm9uZHJvcGRlYWN0aXZhdGUiLCAib25kcmFnZW50ZXIiLCAib25kcmFnbGVhdmUiLCAib25kcm9wbW92ZSIsICJvdmVybGFwIiwgImNoZWNrZXIiLCAiZHJvcEVsZW1lbnQiLCAiZHJvcHBlZCIsICJkcm9wT3ZlcmxhcCIsICJwb2ludGVyVXRpbHMiLCAiaG9yaXpvbnRhbCIsICJ2ZXJ0aWNhbCIsICJkcmFnUmVjdCIsICJjeCIsICJjeSIsICJuZXdWYWx1ZSIsICJwaGFzZWxlc3NUeXBlcyIsICJkcmFnZW50ZXIiLCAiZHJhZ2xlYXZlIiwgImRyb3BhY3RpdmF0ZSIsICJkcm9wZGVhY3RpdmF0ZSIsICJkcm9wbW92ZSIsICJfcmVmNCIsICJfcmVmNSIsICJfcmVmNiIsICJfcmVmNyIsICJkcm9wJDEiLCAidXBkYXRlR2VzdHVyZVByb3BzIiwgInBoYXNlIiwgInN0YXJ0aW5nIiwgImVuZGluZyIsICJkaXN0YW5jZSIsICJib3giLCAic2NhbGUiLCAiZHMiLCAiYW5nbGUiLCAiZGEiLCAiZ2VzdHVyZSIsICJzdGFydERpc3RhbmNlIiwgInN0YXJ0QW5nbGUiLCAicHJldkV2ZW50IiwgIkluZmluaXR5IiwgImlzTmFOIiwgImJlZm9yZSIsICJnZXN0dXJhYmxlIiwgImdlc3R1cmVPcHRpb25zIiwgImdlc3R1cmUkMSIsICJjaGVja1Jlc2l6ZUVkZ2UiLCAiaW50ZXJhY3RhYmxlRWxlbWVudCIsICJtYXJnaW4iLCAiYWJzIiwgImVkZ2UiLCAidXBkYXRlRXZlbnRBeGVzIiwgInJlc2l6ZUF4ZXMiLCAicmVzaXplRXZlbnQiLCAicmVzaXplIiwgInNxdWFyZSIsICJheGVzIiwgInJlcXVlc3QiLCAiY3Vyc29ycyIsICJ0b3BsZWZ0IiwgImJvdHRvbXJpZ2h0IiwgInRvcHJpZ2h0IiwgImJvdHRvbWxlZnQiLCAiZGVmYXVsdE1hcmdpbiIsICJyZXNpemFibGUiLCAicHJlc2VydmVBc3BlY3RSYXRpbyIsICJfcmVjdHMiLCAicHJldmlvdXMiLCAiZGVsdGFSZWN0IiwgImludmVydCIsICJpbnZlcnRpYmxlIiwgImN1cnJlbnQiLCAiX2ludGVyYWN0aW9uJF9yZWN0cyIsICJzdGFydFJlY3QiLCAic3dhcCIsICJyZXNpemVPcHRpb25zIiwgInJlc2l6ZUVkZ2VzIiwgIl9sYXRlc3RQb2ludGVyIiwgImV2ZW50VGFyZ2V0IiwgIk5hTiIsICJjdXJzb3JLZXkiLCAiX3JlZjgiLCAicmVzaXplJDEiLCAibGFzdFRpbWUiLCAicmFmIiwgImNhbGxiYWNrIiwgInRva2VuIiwgImdsb2JhbCIsICJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCAiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCAidmVuZG9ycyIsICJ2ZW5kb3IiLCAiYmluZCIsICJjdXJyVGltZSIsICJEYXRlIiwgIm5vdyIsICJ0aW1lVG9DYWxsIiwgInNldFRpbWVvdXQiLCAiY2xlYXJUaW1lb3V0IiwgImF1dG9TY3JvbGwiLCAiY29udGFpbmVyIiwgInNwZWVkIiwgImlzU2Nyb2xsaW5nIiwgInByZXZUaW1lIiwgInN0b3AiLCAiZ2V0Q29udGFpbmVyIiwgImR0IiwgInMiLCAic2Nyb2xsQnkiLCAicHJldlNjcm9sbCIsICJnZXRTY3JvbGwiLCAiY3VyU2Nyb2xsIiwgImNoZWNrIiwgIl9vcHRpb25zJGFjdGlvbk5hbWUkYSIsICJvbkludGVyYWN0aW9uTW92ZSIsICJpbnRlcmFjdGluZyIsICJzaW11bGF0aW9uIiwgImlubmVyV2lkdGgiLCAiaW5uZXJIZWlnaHQiLCAiYm9keSIsICJhdXRvU2Nyb2xsUGx1Z2luIiwgImF1dG9zY3JvbGwiLCAicGVyQWN0aW9uIiwgImF1dG9TY3JvbGwkMSIsICJ3YXJuT25jZSIsICJtZXRob2QiLCAibWVzc2FnZSIsICJ3YXJuZWQiLCAiY29uc29sZSIsICJ3YXJuIiwgImNvcHlBY3Rpb24iLCAic3R5bGVDdXJzb3IiLCAiYWN0aW9uQ2hlY2tlciIsICJJbnRlcmFjdGFibGVNZXRob2RzIiwgImdldEFjdGlvbiIsICJidXR0b24iLCAiaWdub3JlRnJvbSIsICJfYmFja0NvbXBhdE9wdGlvbiIsICJhbGxvd0Zyb20iLCAidmFsaWRhdGVBY3Rpb24iLCAidGVzdElnbm9yZUFsbG93IiwgIndpdGhpbkludGVyYWN0aW9uTGltaXQiLCAidmFsaWRhdGVNYXRjaGVzIiwgIm1hdGNoZXMiLCAibWF0Y2hFbGVtZW50cyIsICJsZW4iLCAibWF0Y2giLCAibWF0Y2hFbGVtZW50IiwgIm1hdGNoQWN0aW9uIiwgImdldEFjdGlvbkluZm8iLCAicHVzaE1hdGNoZXMiLCAiZm9yRWFjaE1hdGNoIiwgImFjdGlvbkluZm8iLCAibWFudWFsU3RhcnQiLCAicHJlcGFyZSIsICJzZXRJbnRlcmFjdGlvbkN1cnNvciIsICJtYXhBY3Rpb25zIiwgIm1heFBlckVsZW1lbnQiLCAiYXV0b1N0YXJ0TWF4IiwgImF1dG9TdGFydCIsICJtYXhJbnRlcmFjdGlvbnMiLCAiYWN0aXZlSW50ZXJhY3Rpb25zIiwgImludGVyYWN0YWJsZUNvdW50IiwgImVsZW1lbnRDb3VudCIsICJfc2NvcGUkaW50ZXJhY3Rpb25zJGwyIiwgImludGVyYWN0aW9ucyIsICJvdGhlckFjdGlvbiIsICJzZXRDdXJzb3IiLCAiY3Vyc29yIiwgInByZXZDdXJzb3JFbGVtZW50IiwgImN1cnNvckVsZW1lbnQiLCAic3R5bGUiLCAiY3Vyc29yQ2hlY2tlciIsICJfaW50ZXJhY3RpbmciLCAiYmFzZSIsICJwb2ludGVyV2FzTW92ZWQiLCAiYXV0b1N0YXJ0JDIiLCAiZHJhZ0F4aXMiLCAiYWJzWCIsICJhYnNZIiwgInRhcmdldE9wdGlvbnMiLCAiY3VycmVudEF4aXMiLCAiZ2V0RHJhZ2dhYmxlIiwgImRvd25Qb2ludGVyIiwgImRvd25FdmVudCIsICJ0aGlzQXhpcyIsICJnZXRIb2xkRHVyYXRpb24iLCAiaG9sZCIsICJkZWxheSIsICJiYXNlUGx1Z2luIiwgImF1dG9TdGFydEhvbGRUaW1lciIsICJkdXBsaWNhdGUiLCAiaG9sZCQxIiwgInByZXZlbnREZWZhdWx0IiwgIm9uSW50ZXJhY3Rpb25FdmVudCIsICJjaGVja0FuZFByZXZlbnREZWZhdWx0IiwgImludGVyYWN0YWJsZVByZXZlbnREZWZhdWx0IiwgInNldHRpbmciLCAic3VwcG9ydHNQYXNzaXZlIiwgImRvYyIsICJkb2NPcHRpb25zIiwgImdldERvY09wdGlvbnMiLCAicGFzc2l2ZSIsICJkb2NFdmVudHMiLCAibGlzdGVuZXIiLCAiZXZlbnRUeXBlIiwgImlzTm9uTmF0aXZlRXZlbnQiLCAic3Vic3RyIiwgInBoYXNlcyIsICJjbG9uZSIsICJNb2RpZmljYXRpb24iLCAic3RhdGVzIiwgInN0YXJ0T2Zmc2V0IiwgInN0YXJ0RGVsdGEiLCAiZW5kUmVzdWx0IiwgInN0YXJ0RWRnZXMiLCAiY3JlYXRlUmVzdWx0IiwgInBhZ2VDb29yZHMiLCAibW9kaWZpZXJMaXN0IiwgImFjdGlvbk1vZGlmaWVycyIsICJtb2RpZmllcnMiLCAibWV0aG9kcyIsICJfbWV0aG9kcyIsICJtIiwgInByZXBhcmVTdGF0ZXMiLCAiZmlsbEFyZyIsICJwcmVFbmQiLCAic3RhcnRBbGwiLCAic2V0QWxsIiwgIl90aGlzJHN0YXRlczIiLCAic3RhdGUiLCAic2tpcE1vZGlmaWVycyIsICJ1bm1vZGlmaWVkUmVjdCIsICJ1bm1vZGlmaWVkRWRnZXMiLCAibmV3UmVzdWx0IiwgIl9zdGF0ZSRtZXRob2RzIiwgImxhc3RNb2RpZmllckNvb3JkcyIsICJzaG91bGREbyIsICJyZWN0VXRpbHMiLCAiZXZlbnRQcm9wcyIsICJyZWN0RGVsdGEiLCAicHJldkNvb3JkcyIsICJwcmV2UmVjdCIsICJyZWN0Q2hhbmdlZCIsICJjaGFuZ2VkIiwgImN1ckNvb3JkcyIsICJzdGFydENvb3JkcyIsICJjdXJEZWx0YSIsICJfcmVmMyRfaSIsICJjb29yZHNTZXQiLCAibW9kaWZpZWRDb29yZHMiLCAiYWRqdXN0bWVudCIsICJhcHBseVRvSW50ZXJhY3Rpb24iLCAiZG9QcmVlbmQiLCAiZW5kUG9zaXRpb24iLCAiYmVmb3JlRW5kIiwgIm1vZGlmaWVyQXJnIiwgIl90aGlzJHN0YXRlczQiLCAiX21vZGlmaWVyTGlzdCRpbmRleCIsICJfcmVmNCRpbnRlcmFjdGlvbiIsICJtb2RpZmljYXRpb24iLCAiX21vZGlmaWNhdGlvbiRyZXN1bHQiLCAiX2kxMiIsICJfcmVmNiRfaSIsICJyZXF1aXJlRW5kT25seSIsICJlbmRPbmx5IiwgInNldFN0YXJ0IiwgIm90aGVyIiwgIm1ha2VNb2RpZmllciIsICJtb2R1bGUiLCAibW9kaWZpZXIiLCAiX29wdGlvbnMiLCAiZW5hYmxlIiwgImRpc2FibGUiLCAiX2RlZmF1bHRzIiwgImFkZEV2ZW50TW9kaWZpZXJzIiwgIm1vZGlmaWVyc0Jhc2UiLCAicmV0IiwgInNldEFuZEFwcGx5IiwgInJlc3RvcmVJbnRlcmFjdGlvbkNvb3JkcyIsICJJbnRlcmFjdEV2ZW50IiwgImN0cmxLZXkiLCAic2hpZnRLZXkiLCAiYWx0S2V5IiwgIm1ldGFLZXkiLCAieDAiLCAieTAiLCAidDAiLCAiZHVyYXRpb24iLCAiY2xpZW50WDAiLCAiY2xpZW50WTAiLCAic3dpcGUiLCAiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsICJkb3duVGltZSIsICJnZXRTd2lwZSIsICJ2ZWxvY2l0eVkiLCAidmVsb2NpdHlYIiwgImRlZmluZVByb3BlcnRpZXMiLCAiUG9pbnRlckluZm8iLCAiZG93blRhcmdldCIsICJfUHJveHlWYWx1ZXMiLCAiX1Byb3h5TWV0aG9kcyIsICJpZENvdW50ZXIiLCAiSW50ZXJhY3Rpb24iLCAic2NvcGVGaXJlIiwgIl9zY29wZUZpcmUiLCAiX2VuZGluZyIsICJfc3RvcHBlZCIsICJkb01vdmUiLCAic2lnbmFsQXJnIiwgIl9pZCIsICJ0aGF0IiwgIl9sb29wMiIsICJfa2V5IiwgInBvaW50ZXJJbmRleCIsICJ1cGRhdGVQb2ludGVyIiwgInBvaW50ZXJJbmZvIiwgIl9kb1BoYXNlIiwgImR1cGxpY2F0ZU1vdmUiLCAicG9pbnRlck1vdmVUb2xlcmFuY2UiLCAiZ2V0UG9pbnRlckluZGV4IiwgImN1ckV2ZW50VGFyZ2V0IiwgImVuZCIsICJyZW1vdmVQb2ludGVyIiwgImVuZFBoYXNlUmVzdWx0IiwgImN1clBvaW50ZXIiLCAiX25vdyIsICJfdXBkYXRlTGF0ZXN0UG9pbnRlciIsICJfdGhpcyRpbnRlcmFjdGFibGUiLCAiX2NyZWF0ZVByZXBhcmVkRXZlbnQiLCAiX2ZpcmVFdmVudCIsICJiZWZvcmVBY3Rpb24iLCAiYXBwbHlQZW5kaW5nIiwgIm9mZnNldCIsICJwZW5kaW5nIiwgImFkZFRvQ29vcmRzIiwgIm9mZnNldEJ5IiwgInRvdGFsIiwgIm9mZnNldCQxIiwgIkluZXJ0aWFTdGF0ZSIsICJhY3RpdmUiLCAiaXNNb2RpZmllZCIsICJzbW9vdGhFbmQiLCAiYWxsb3dSZXN1bWUiLCAibW9kaWZpZXJDb3VudCIsICJ2MCIsICJ0ZSIsICJ0YXJnZXRPZmZzZXQiLCAibW9kaWZpZWRPZmZzZXQiLCAiY3VycmVudE9mZnNldCIsICJsYW1iZGFfdjAiLCAib25lX3ZlX3YwIiwgInRpbWVvdXQiLCAiZ2V0T3B0aW9ucyIsICJ2ZWxvY2l0eUNsaWVudCIsICJwb2ludGVyU3BlZWQiLCAiY29weUZyb20iLCAibWluU3BlZWQiLCAiZW5kU3BlZWQiLCAic3RhcnRJbmVydGlhIiwgInN0YXJ0U21vb3RoRW5kIiwgInN0YXJ0VmVsb2NpdHkiLCAibGFtYmRhIiwgInJlc2lzdGFuY2UiLCAiaW5lcnRpYUR1ciIsICJsb2ciLCAib25OZXh0RnJhbWUiLCAiaW5lcnRpYVRpY2siLCAic21vb3RoRW5kVGljayIsICJ0aWNrRm4iLCAiX3RoaXMzIiwgInN0YXJ0WCIsICJzdGFydFkiLCAiY3BYIiwgImNwWSIsICJlbmRYIiwgImVuZFkiLCAicG9zaXRpb24iLCAiX3RoaXM0IiwgIm5ld09mZnNldCIsICJwcm9ncmVzcyIsICJleHAiLCAiX2dldFFCZXppZXJWYWx1ZSIsICJfdGhpczUiLCAic21vb3RoRW5kRHVyYXRpb24iLCAiZWFzZU91dFF1YWQiLCAiaW5lcnRpYSIsICJpbmVydGlhc3RhcnQiLCAicmVzdW1lIiwgInAxIiwgInAyIiwgInAzIiwgImlUIiwgImIiLCAiYyIsICJkIiwgImluZXJ0aWEkMSIsICJmaXJlVW50aWxJbW1lZGlhdGVTdG9wcGVkIiwgIkV2ZW50YWJsZSIsICJ0eXBlcyIsICJldmVudExpc3QiLCAiX2xpc3RlbmVycyR0eXBlMiIsICJzdWJMaXN0ZW5lciIsICJfZWxlbWVudCIsICJGYWtlRXZlbnQiLCAib3JpZ2luYWxFdmVudCIsICJwRXh0ZW5kIiwgInN0b3BQcm9wYWdhdGlvbiIsICJwYXJhbSIsICJjYXB0dXJlIiwgIm9wdGlvbnNNYXRjaCIsICJhIiwgIl9zY29wZSRkb2N1bWVudCIsICJ0YXJnZXRzIiwgImRlbGVnYXRlZEV2ZW50cyIsICJkb2N1bWVudHMiLCAiZXZlbnRzTWV0aG9kcyIsICJhZGQiLCAicmVtb3ZlIiwgImFkZERlbGVnYXRlIiwgImNvbnRleHQiLCAib3B0aW9uYWxBcmciLCAiX2kzIiwgImRlbGVnYXRlTGlzdGVuZXIiLCAiZGVsZWdhdGVVc2VDYXB0dXJlIiwgImRlbGVnYXRlcyIsICJkZWxlZ2F0ZSIsICJyZW1vdmVEZWxlZ2F0ZSIsICJtYXRjaEZvdW5kIiwgImVudHJ5IiwgInN1cHBvcnRzT3B0aW9ucyIsICJhZGRFdmVudExpc3RlbmVyIiwgInJlbW92ZUV2ZW50TGlzdGVuZXIiLCAidGFyZ2V0SW5kZXgiLCAidHlwZUlzRW1wdHkiLCAidHlwZUxpc3RlbmVycyIsICJoYXNPd25Qcm9wZXJ0eSIsICJmYWtlRXZlbnQiLCAiX2k1IiwgImNyZWF0ZUVsZW1lbnQiLCAiZmluZGVyIiwgIm1ldGhvZE9yZGVyIiwgImRldGFpbHMiLCAiX2ZpbmRlciRtZXRob2RPcmRlcjIiLCAic2ltdWxhdGlvblJlc3VtZSIsICJtb3VzZU9yUGVuIiwgImZpcnN0Tm9uQWN0aXZlIiwgIl9zY29wZSRpbnRlcmFjdGlvbnMkbDQiLCAiaGFzUG9pbnRlcklkIiwgIl9zY29wZSRpbnRlcmFjdGlvbnMkbDYiLCAiaGFzUG9pbnRlciIsICJfc2NvcGUkaW50ZXJhY3Rpb25zJGw4IiwgImlkbGUiLCAiX3Njb3BlJGludGVyYWN0aW9ucyRsMTAiLCAiZmluZGVyJDEiLCAibWV0aG9kTmFtZXMiLCAiZG9PbkludGVyYWN0aW9ucyIsICJfcG9pbnRlclV0aWxzJGdldEV2ZW4iLCAicHJldlRvdWNoVGltZSIsICJfZXZlbnQkY2hhbmdlZFRvdWNoZXMyIiwgImNoYW5nZWRUb3VjaCIsICJzZWFyY2hEZXRhaWxzIiwgImdldEludGVyYWN0aW9uIiwgImludmFsaWRQb2ludGVyIiwgIl9tYXRjaGVzJF9pIiwgIm5ldyIsICJvbkRvY1NpZ25hbCIsICJldmVudE1ldGhvZE5hbWUiLCAiZXZlbnRNZXRob2QiLCAiZXZlbnRPcHRpb25zIiwgIl9pMTQiLCAiX2RvY0V2ZW50cyRfaSIsICJyZWxlYXNlUG9pbnRlcnNPblJlbW92ZWRFbHMiLCAiX2ludGVyYWN0aW9uJHBvaW50ZXJzMiIsICJwb2ludGVyRG93biIsICJwb2ludGVyTW92ZSIsICJwb2ludGVyVXAiLCAiZG9jdW1lbnRCbHVyIiwgIl9JbnRlcmFjdGlvbkJhc2UiLCAiX2NsYXNzIiwgIkludGVyYWN0aW9uQmFzZSIsICJkZXN0cm95IiwgImludGVyYWN0aW9ucyQxIiwgIk9uT2ZmTWV0aG9kIiwgImRlZmF1bHRDb250ZXh0IiwgInNjb3BlRXZlbnRzIiwgIl9hY3Rpb25zIiwgIl9jb250ZXh0IiwgIl93aW4iLCAiX2RvYyIsICJfc2NvcGVFdmVudHMiLCAib25zdGFydCIsICJvbm1vdmUiLCAib25lbmQiLCAib25pbmVydGlhc3RhcnQiLCAiX3RoaXMkX2FjdGlvbnMkbWFwJGFjIiwgImFjdGlvbkZpbHRlciIsICJfb25PZmYiLCAiT2ZmIiwgIk9uIiwgIm9wdGlvbk5hbWVfIiwgIm9wdGlvbk5hbWUiLCAib3B0aW9uVmFsdWUiLCAidXBkYXRlUGVyQWN0aW9uTGlzdGVuZXJzIiwgIkFycmF5IiwgInF1ZXJ5U2VsZWN0b3JBbGwiLCAidGFyZ2V0Tm9kZSIsICJ0ZXN0SWdub3JlIiwgInRlc3RBbGxvdyIsICJ0eXBlQXJnIiwgImxpc3RlbmVyQXJnIiwgIl9saXN0ZW5lcnMkX3R5cGUyIiwgImFjdGlvbk5hbWVfIiwgIm1ldGhvZE5hbWUiLCAicmVjdENoZWNrZXIiLCAiZGVsZWdhdGVkIiwgIl9kZWxlZ2F0ZWQkaSIsICJJbnRlcmFjdGFibGVTZXQiLCAic2VsZWN0b3JNYXAiLCAiYWRkTGlzdGVuZXJzIiwgImludGVyYWN0YWJsZXNPblRhcmdldCIsICJhZGREb2N1bWVudCIsICJpc1NlbGVjdG9yIiwgImluQ29udGV4dCIsICJfdGhpcyRsaXN0MiIsICJTY29wZSIsICJmbG9vciIsICJyYW5kb20iLCAiaXNJbml0aWFsaXplZCIsICJsaXN0ZW5lck1hcHMiLCAiZ2V0RXhpc3RpbmciLCAiZ2xvYmFsRXZlbnRzIiwgImdldFBvaW50ZXJBdmVyYWdlIiwgImdldFRvdWNoQkJveCIsICJnZXRUb3VjaERpc3RhbmNlIiwgImdldFRvdWNoQW5nbGUiLCAidmVyc2lvbiIsICJwcm9jZXNzIiwgInVzZSIsICJwbHVnaW4iLCAiaXNTZXQiLCAiX3R5cGUyIiwgImRlYnVnIiwgIl90aGlzJHNjb3BlJGludGVyYWN0aTIiLCAicmVtb3ZlRG9jdW1lbnQiLCAiX3BsdWdpbnMiLCAib25XaW5kb3dVbmxvYWQiLCAiX0ludGVyYWN0YWJsZUJhc2UiLCAiX2NsYXNzMiIsICJfZ2V0IiwgIl9nZXRQcm90b3R5cGVPZiIsICJJbnRlcmFjdGFibGVCYXNlIiwgIl90aGlzJGxpc3RlbmVyTWFwczIiLCAicGx1Z2luSXNJbnN0YWxsZWQiLCAicGx1Z2luSWRSb290IiwgIm90aGVySWQiLCAiZ2V0RG9jSW5kZXgiLCAiZG9jSW5kZXgiLCAiaW50ZXJhY3QkMSIsICJfZ2xvYmFsIiwgImdsb2JhbFRoaXMiLCAiZ3JpZCIsICJjb29yZEZpZWxkcyIsICJ4RmllbGQiLCAieUZpZWxkIiwgImdyaWRGdW5jIiwgInJhbmdlIiwgIl9ncmlkJGxpbWl0cyIsICJsaW1pdHMiLCAiX2dyaWQkb2Zmc2V0IiwgIl9jb29yZEZpZWxkcyRfaSIsICJncmlkeCIsICJyb3VuZCIsICJncmlkeSIsICJzbmFwcGVyc1BsdWdpbiIsICJzbmFwcGVycyIsICJhbGxTbmFwcGVycyIsICJjcmVhdGVTbmFwR3JpZCIsICJhc3BlY3RSYXRpbyIsICJfc3RhdGUkb3B0aW9ucyIsICJyYXRpbyIsICJfc3RhdGUkb3B0aW9uczIiLCAiZXF1YWxEZWx0YSIsICJsaW5rZWRFZGdlcyIsICJ4SXNQcmltYXJ5QXhpcyIsICJzaWduIiwgImVkZ2VTaWduIiwgInN1Yk1vZGlmaWNhdGlvbiIsICJfb2JqZWN0U3ByZWFkIiwgImluaXRpYWxDb29yZHMiLCAiYXNwZWN0TWV0aG9kIiwgInNldEVxdWFsRGVsdGEiLCAic2V0UmF0aW8iLCAiY29ycmVjdGVkUmVjdCIsICJuZXdIZWlnaHQiLCAibmV3V2lkdGgiLCAiYXNwZWN0UmF0aW8kMSIsICJub29wIiwgInJ1YmJlcmJhbmQiLCAiZ2V0UmVzdHJpY3Rpb25SZWN0IiwgInJlc3RyaWN0IiwgImVsZW1lbnRSZWN0IiwgInJlc3RyaWN0aW9uIiwgIndpZHRoRGlmZiIsICJoZWlnaHREaWZmIiwgInJlc3RyaWN0JDEiLCAibm9Jbm5lciIsICJub091dGVyIiwgImZpeFJlY3QiLCAicmVzdHJpY3RFZGdlcyIsICJpbm5lciIsICJvdXRlciIsICJyZXN0cmljdEVkZ2VzJDEiLCAiXyIsICJyZXN0cmljdFJlY3QkMSIsICJub01pbiIsICJub01heCIsICJyZXN0cmljdFNpemUkMSIsICJtaW5TaXplIiwgIm1heFNpemUiLCAic25hcCIsICJzbmFwT2Zmc2V0IiwgIm9mZnNldFdpdGhPcmlnaW4iLCAib3B0aW9uc09yaWdpbiIsICJvZmZzZXRSZWN0IiwgInJlbGF0aXZlUG9pbnRzIiwgIm9mZnNldHMiLCAicmVsYXRpdmVQb2ludCIsICJyZWxhdGl2ZVgiLCAicmVsYXRpdmVZIiwgInNuYXBUYXJnZXQiLCAiaW5SYW5nZSIsICJzbmFwJDEiLCAic25hcFNpemUiLCAidGFyZ2V0RmllbGRzIiwgInJlbGF0aXZlIiwgIl9zdGF0ZSR0YXJnZXRGaWVsZHMyIiwgIl9zdGF0ZSR0YXJnZXRGaWVsZHMyJCIsICJzbmFwU2l6ZSQxIiwgImFsbCIsICJyZXN0cmljdFJlY3QiLCAicmVzdHJpY3RTaXplIiwgInNuYXBFZGdlcyIsICJzcHJpbmciLCAiYXZvaWQiLCAidHJhbnNmb3JtIiwgIl9hbGwiLCAibW9kaWZpZXJzJDEiLCAiaW50ZXJ2YWwiLCAidGFwVGltZSIsICJkb3VibGUiLCAicHJldlRhcCIsICJvcmlnaW5YIiwgIm9yaWdpblkiLCAicG9pbnRlckV2ZW50cyIsICJjbGVhckhvbGQiLCAidGltZXIiLCAibWluRHVyYXRpb24iLCAiX3NpZ25hbEFyZyR0YXJnZXRzMiIsICJob2xkRHVyYXRpb24iLCAiZXZlbnRhYmxlIiwgImNvbGxlY3RFdmVudFRhcmdldHMiLCAidGFwIiwgImRvdWJsZXRhcCIsICJfYXJnJHRhcmdldHMiLCAicHJvcHMiLCAiX3N1YnRyYWN0T3JpZ2luIiwgIl9hZGRPcmlnaW4iLCAiX2ludGVyYWN0aW9uJHBvaW50ZXJzIiwgImVuZEhvbGRSZXBlYXQiLCAiaG9sZEludGVydmFsSGFuZGxlIiwgImNsZWFySW50ZXJ2YWwiLCAiaG9sZFJlcGVhdCIsICJob2xkUmVwZWF0SW50ZXJ2YWwiLCAiaG9sZHJlcGVhdCIsICJlbmRlclR5cGVzIiwgImNvdW50IiwgImhvbGRSZXBlYXQkMSIsICJfX2JhY2tDb21wYXRPcHRpb24iLCAiaW50ZXJhY3RhYmxlVGFyZ2V0cyIsICJyZWZsb3ciLCAiUHJvbWlzZSIsICJwcm9taXNlcyIsICJyZWZsb3dQcm9taXNlIiwgInJ1bm5pbmdJbnRlcmFjdGlvbiIsICJfcmVmbG93UHJvbWlzZSIsICJyZXNvbHZlIiwgIl9yZWZsb3dSZXNvbHZlIiwgInh5d2giLCAidGhlbiIsICJyZWZsb3ckMSIsICJkZWZhdWx0IiwgImV4cG9ydHMiLCAiX3VudXNlZCIsICJleHRlbmRlZEV2ZW50IiwgImFwcGxpY2F0aW9uIiwgImVycm9yIiwgIm1lc3NhZ2UiLCAibWF0Y2giLCAic2hpZnQiLCAiZmlsdGVyIiwgInNpemUiLCAibWF0Y2giLCAib2xkVmFsdWUiLCAiZXJyb3IiLCAiY29uc3RydWN0b3IiLCAibWVzc2FnZSIsICJhcHBsaWNhdGlvbiIsICJlbGVtZW50IiwgImZpbHRlciIsICJlbnRlciIsICJyZW1vdmVDbGFzc2VzIiwgInRyYW5zaXRpb24iLCAibGVhdmUiLCAiaGlkZGVuQ2xhc3MiLCAicHJlc2VydmVPcmlnaW5hbENsYXNzIiwgImFkZENsYXNzZXMiLCAiZGVmYXVsdE9wdGlvbnMiLCAiZGVmYXVsdE9wdGlvbnMiLCAiZGVmYXVsdE9wdGlvbnMiLCAiZm9ybWF0IiwgImRlZmF1bHRPcHRpb25zIiwgImRlZmF1bHRPcHRpb25zIiwgImxvY2FsaXplIiwgIm9mZnNldCIsICJmb3JtYXRMb25nIiwgImZvcm1hdCIsICJkZWZhdWx0T3B0aW9ucyIsICJvZmZzZXQiLCAiZGVmYXVsdE9wdGlvbnMiLCAibWVzc2FnZSIsICJob3RrZXlzIiwgInBsYXRmb3JtIiwgIm1heCIsICJvZmZzZXQiLCAicGxhdGZvcm0iLCAicGxhY2VtZW50cyIsICJzaWRlcyIsICJzaWRlIiwgInBsYWNlbWVudCIsICJvdmVyZmxvdyIsICJwbGF0Zm9ybSIsICJ4IiwgInkiLCAibWluIiwgIm1heCIsICJnZXRDb21wdXRlZFN0eWxlIiwgImdldENvbXB1dGVkU3R5bGUiLCAib2Zmc2V0IiwgInNoaWZ0IiwgImZsaXAiLCAiYXJyb3ciLCAiY29tcHV0ZVBvc2l0aW9uIiwgImNvbXB1dGVQb3NpdGlvbiIsICJvZmZzZXQiLCAiZmxpcCIsICJzaGlmdCIsICJjb21wdXRlUG9zaXRpb24iLCAib2Zmc2V0IiwgImZsaXAiLCAic2hpZnQiLCAiY29tcHV0ZVBvc2l0aW9uIiwgIm9mZnNldCIsICJmbGlwIiwgInNoaWZ0IiwgIm9mZnNldCIsICJmbGlwIiwgInNoaWZ0IiwgImFycm93IiwgImNvbXB1dGVQb3NpdGlvbiIsICJpbnRlcmFjdCIsICJDb250cm9sbGVyIiwgIkNvbnRyb2xsZXIiLCAidHJhbnNpdGlvbiIsICJhZnRlclRyYW5zaXRpb24iLCAiY29tcHV0ZVBvc2l0aW9uIiwgIm9mZnNldCIsICJmbGlwIiwgInNoaWZ0IiwgImFycm93IiwgIm1vZHVsZXMiXQp9Cg==
