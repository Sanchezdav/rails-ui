"use strict";
(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __typeError = (msg) => {
    throw TypeError(msg);
  };
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __esm = (fn, res) => function __init() {
    return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
  };
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __export = (target, all) => {
    for (var name in all)
      __defProp(target, name, { get: all[name], enumerable: true });
  };
  var __copyProps = (to, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to, key) && key !== except)
          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
    }
    return to;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    // If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));
  var __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  var __accessCheck = (obj, member, msg) => member.has(obj) || __typeError("Cannot " + msg);
  var __privateGet = (obj, member, getter) => (__accessCheck(obj, member, "read from private field"), getter ? getter.call(obj) : member.get(obj));
  var __privateAdd = (obj, member, value) => member.has(obj) ? __typeError("Cannot add the same private member more than once") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  var __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, "write to private field"), setter ? setter.call(obj, value) : member.set(obj, value), value);
  var __privateMethod = (obj, member, method) => (__accessCheck(obj, member, "access private method"), method);

  // node_modules/@rails/actioncable/src/adapters.js
  var adapters_default;
  var init_adapters = __esm({
    "node_modules/@rails/actioncable/src/adapters.js"() {
      adapters_default = {
        logger: typeof console !== "undefined" ? console : void 0,
        WebSocket: typeof WebSocket !== "undefined" ? WebSocket : void 0
      };
    }
  });

  // node_modules/@rails/actioncable/src/logger.js
  var logger_default;
  var init_logger = __esm({
    "node_modules/@rails/actioncable/src/logger.js"() {
      init_adapters();
      logger_default = {
        log(...messages) {
          if (this.enabled) {
            messages.push(Date.now());
            adapters_default.logger.log("[ActionCable]", ...messages);
          }
        }
      };
    }
  });

  // node_modules/@rails/actioncable/src/connection_monitor.js
  var now, secondsSince, ConnectionMonitor, connection_monitor_default;
  var init_connection_monitor = __esm({
    "node_modules/@rails/actioncable/src/connection_monitor.js"() {
      init_logger();
      now = () => (/* @__PURE__ */ new Date()).getTime();
      secondsSince = (time) => (now() - time) / 1e3;
      ConnectionMonitor = class {
        constructor(connection) {
          this.visibilityDidChange = this.visibilityDidChange.bind(this);
          this.connection = connection;
          this.reconnectAttempts = 0;
        }
        start() {
          if (!this.isRunning()) {
            this.startedAt = now();
            delete this.stoppedAt;
            this.startPolling();
            addEventListener("visibilitychange", this.visibilityDidChange);
            logger_default.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`);
          }
        }
        stop() {
          if (this.isRunning()) {
            this.stoppedAt = now();
            this.stopPolling();
            removeEventListener("visibilitychange", this.visibilityDidChange);
            logger_default.log("ConnectionMonitor stopped");
          }
        }
        isRunning() {
          return this.startedAt && !this.stoppedAt;
        }
        recordPing() {
          this.pingedAt = now();
        }
        recordConnect() {
          this.reconnectAttempts = 0;
          this.recordPing();
          delete this.disconnectedAt;
          logger_default.log("ConnectionMonitor recorded connect");
        }
        recordDisconnect() {
          this.disconnectedAt = now();
          logger_default.log("ConnectionMonitor recorded disconnect");
        }
        // Private
        startPolling() {
          this.stopPolling();
          this.poll();
        }
        stopPolling() {
          clearTimeout(this.pollTimeout);
        }
        poll() {
          this.pollTimeout = setTimeout(
            () => {
              this.reconnectIfStale();
              this.poll();
            },
            this.getPollInterval()
          );
        }
        getPollInterval() {
          const { staleThreshold, reconnectionBackoffRate } = this.constructor;
          const backoff = Math.pow(1 + reconnectionBackoffRate, Math.min(this.reconnectAttempts, 10));
          const jitterMax = this.reconnectAttempts === 0 ? 1 : reconnectionBackoffRate;
          const jitter = jitterMax * Math.random();
          return staleThreshold * 1e3 * backoff * (1 + jitter);
        }
        reconnectIfStale() {
          if (this.connectionIsStale()) {
            logger_default.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${secondsSince(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`);
            this.reconnectAttempts++;
            if (this.disconnectedRecently()) {
              logger_default.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${secondsSince(this.disconnectedAt)} s`);
            } else {
              logger_default.log("ConnectionMonitor reopening");
              this.connection.reopen();
            }
          }
        }
        get refreshedAt() {
          return this.pingedAt ? this.pingedAt : this.startedAt;
        }
        connectionIsStale() {
          return secondsSince(this.refreshedAt) > this.constructor.staleThreshold;
        }
        disconnectedRecently() {
          return this.disconnectedAt && secondsSince(this.disconnectedAt) < this.constructor.staleThreshold;
        }
        visibilityDidChange() {
          if (document.visibilityState === "visible") {
            setTimeout(
              () => {
                if (this.connectionIsStale() || !this.connection.isOpen()) {
                  logger_default.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`);
                  this.connection.reopen();
                }
              },
              200
            );
          }
        }
      };
      ConnectionMonitor.staleThreshold = 6;
      ConnectionMonitor.reconnectionBackoffRate = 0.15;
      connection_monitor_default = ConnectionMonitor;
    }
  });

  // node_modules/@rails/actioncable/src/internal.js
  var internal_default;
  var init_internal = __esm({
    "node_modules/@rails/actioncable/src/internal.js"() {
      internal_default = {
        "message_types": {
          "welcome": "welcome",
          "disconnect": "disconnect",
          "ping": "ping",
          "confirmation": "confirm_subscription",
          "rejection": "reject_subscription"
        },
        "disconnect_reasons": {
          "unauthorized": "unauthorized",
          "invalid_request": "invalid_request",
          "server_restart": "server_restart",
          "remote": "remote"
        },
        "default_mount_path": "/cable",
        "protocols": [
          "actioncable-v1-json",
          "actioncable-unsupported"
        ]
      };
    }
  });

  // node_modules/@rails/actioncable/src/connection.js
  var message_types, protocols, supportedProtocols, indexOf, Connection, connection_default;
  var init_connection = __esm({
    "node_modules/@rails/actioncable/src/connection.js"() {
      init_adapters();
      init_connection_monitor();
      init_internal();
      init_logger();
      ({ message_types, protocols } = internal_default);
      supportedProtocols = protocols.slice(0, protocols.length - 1);
      indexOf = [].indexOf;
      Connection = class {
        constructor(consumer2) {
          this.open = this.open.bind(this);
          this.consumer = consumer2;
          this.subscriptions = this.consumer.subscriptions;
          this.monitor = new connection_monitor_default(this);
          this.disconnected = true;
        }
        send(data) {
          if (this.isOpen()) {
            this.webSocket.send(JSON.stringify(data));
            return true;
          } else {
            return false;
          }
        }
        open() {
          if (this.isActive()) {
            logger_default.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`);
            return false;
          } else {
            const socketProtocols = [...protocols, ...this.consumer.subprotocols || []];
            logger_default.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${socketProtocols}`);
            if (this.webSocket) {
              this.uninstallEventHandlers();
            }
            this.webSocket = new adapters_default.WebSocket(this.consumer.url, socketProtocols);
            this.installEventHandlers();
            this.monitor.start();
            return true;
          }
        }
        close({ allowReconnect } = { allowReconnect: true }) {
          if (!allowReconnect) {
            this.monitor.stop();
          }
          if (this.isOpen()) {
            return this.webSocket.close();
          }
        }
        reopen() {
          logger_default.log(`Reopening WebSocket, current state is ${this.getState()}`);
          if (this.isActive()) {
            try {
              return this.close();
            } catch (error2) {
              logger_default.log("Failed to reopen WebSocket", error2);
            } finally {
              logger_default.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`);
              setTimeout(this.open, this.constructor.reopenDelay);
            }
          } else {
            return this.open();
          }
        }
        getProtocol() {
          if (this.webSocket) {
            return this.webSocket.protocol;
          }
        }
        isOpen() {
          return this.isState("open");
        }
        isActive() {
          return this.isState("open", "connecting");
        }
        triedToReconnect() {
          return this.monitor.reconnectAttempts > 0;
        }
        // Private
        isProtocolSupported() {
          return indexOf.call(supportedProtocols, this.getProtocol()) >= 0;
        }
        isState(...states) {
          return indexOf.call(states, this.getState()) >= 0;
        }
        getState() {
          if (this.webSocket) {
            for (let state in adapters_default.WebSocket) {
              if (adapters_default.WebSocket[state] === this.webSocket.readyState) {
                return state.toLowerCase();
              }
            }
          }
          return null;
        }
        installEventHandlers() {
          for (let eventName in this.events) {
            const handler = this.events[eventName].bind(this);
            this.webSocket[`on${eventName}`] = handler;
          }
        }
        uninstallEventHandlers() {
          for (let eventName in this.events) {
            this.webSocket[`on${eventName}`] = function() {
            };
          }
        }
      };
      Connection.reopenDelay = 500;
      Connection.prototype.events = {
        message(event) {
          if (!this.isProtocolSupported()) {
            return;
          }
          const { identifier, message: message2, reason, reconnect, type } = JSON.parse(event.data);
          switch (type) {
            case message_types.welcome:
              if (this.triedToReconnect()) {
                this.reconnectAttempted = true;
              }
              this.monitor.recordConnect();
              return this.subscriptions.reload();
            case message_types.disconnect:
              logger_default.log(`Disconnecting. Reason: ${reason}`);
              return this.close({ allowReconnect: reconnect });
            case message_types.ping:
              return this.monitor.recordPing();
            case message_types.confirmation:
              this.subscriptions.confirmSubscription(identifier);
              if (this.reconnectAttempted) {
                this.reconnectAttempted = false;
                return this.subscriptions.notify(identifier, "connected", { reconnected: true });
              } else {
                return this.subscriptions.notify(identifier, "connected", { reconnected: false });
              }
            case message_types.rejection:
              return this.subscriptions.reject(identifier);
            default:
              return this.subscriptions.notify(identifier, "received", message2);
          }
        },
        open() {
          logger_default.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`);
          this.disconnected = false;
          if (!this.isProtocolSupported()) {
            logger_default.log("Protocol is unsupported. Stopping monitor and disconnecting.");
            return this.close({ allowReconnect: false });
          }
        },
        close(event) {
          logger_default.log("WebSocket onclose event");
          if (this.disconnected) {
            return;
          }
          this.disconnected = true;
          this.monitor.recordDisconnect();
          return this.subscriptions.notifyAll("disconnected", { willAttemptReconnect: this.monitor.isRunning() });
        },
        error() {
          logger_default.log("WebSocket onerror event");
        }
      };
      connection_default = Connection;
    }
  });

  // node_modules/@rails/actioncable/src/subscription.js
  var extend, Subscription;
  var init_subscription = __esm({
    "node_modules/@rails/actioncable/src/subscription.js"() {
      extend = function(object, properties) {
        if (properties != null) {
          for (let key in properties) {
            const value = properties[key];
            object[key] = value;
          }
        }
        return object;
      };
      Subscription = class {
        constructor(consumer2, params = {}, mixin) {
          this.consumer = consumer2;
          this.identifier = JSON.stringify(params);
          extend(this, mixin);
        }
        // Perform a channel action with the optional data passed as an attribute
        perform(action, data = {}) {
          data.action = action;
          return this.send(data);
        }
        send(data) {
          return this.consumer.send({ command: "message", identifier: this.identifier, data: JSON.stringify(data) });
        }
        unsubscribe() {
          return this.consumer.subscriptions.remove(this);
        }
      };
    }
  });

  // node_modules/@rails/actioncable/src/subscription_guarantor.js
  var SubscriptionGuarantor, subscription_guarantor_default;
  var init_subscription_guarantor = __esm({
    "node_modules/@rails/actioncable/src/subscription_guarantor.js"() {
      init_logger();
      SubscriptionGuarantor = class {
        constructor(subscriptions) {
          this.subscriptions = subscriptions;
          this.pendingSubscriptions = [];
        }
        guarantee(subscription) {
          if (this.pendingSubscriptions.indexOf(subscription) == -1) {
            logger_default.log(`SubscriptionGuarantor guaranteeing ${subscription.identifier}`);
            this.pendingSubscriptions.push(subscription);
          } else {
            logger_default.log(`SubscriptionGuarantor already guaranteeing ${subscription.identifier}`);
          }
          this.startGuaranteeing();
        }
        forget(subscription) {
          logger_default.log(`SubscriptionGuarantor forgetting ${subscription.identifier}`);
          this.pendingSubscriptions = this.pendingSubscriptions.filter((s) => s !== subscription);
        }
        startGuaranteeing() {
          this.stopGuaranteeing();
          this.retrySubscribing();
        }
        stopGuaranteeing() {
          clearTimeout(this.retryTimeout);
        }
        retrySubscribing() {
          this.retryTimeout = setTimeout(
            () => {
              if (this.subscriptions && typeof this.subscriptions.subscribe === "function") {
                this.pendingSubscriptions.map((subscription) => {
                  logger_default.log(`SubscriptionGuarantor resubscribing ${subscription.identifier}`);
                  this.subscriptions.subscribe(subscription);
                });
              }
            },
            500
          );
        }
      };
      subscription_guarantor_default = SubscriptionGuarantor;
    }
  });

  // node_modules/@rails/actioncable/src/subscriptions.js
  var Subscriptions;
  var init_subscriptions = __esm({
    "node_modules/@rails/actioncable/src/subscriptions.js"() {
      init_subscription();
      init_subscription_guarantor();
      init_logger();
      Subscriptions = class {
        constructor(consumer2) {
          this.consumer = consumer2;
          this.guarantor = new subscription_guarantor_default(this);
          this.subscriptions = [];
        }
        create(channelName, mixin) {
          const channel = channelName;
          const params = typeof channel === "object" ? channel : { channel };
          const subscription = new Subscription(this.consumer, params, mixin);
          return this.add(subscription);
        }
        // Private
        add(subscription) {
          this.subscriptions.push(subscription);
          this.consumer.ensureActiveConnection();
          this.notify(subscription, "initialized");
          this.subscribe(subscription);
          return subscription;
        }
        remove(subscription) {
          this.forget(subscription);
          if (!this.findAll(subscription.identifier).length) {
            this.sendCommand(subscription, "unsubscribe");
          }
          return subscription;
        }
        reject(identifier) {
          return this.findAll(identifier).map((subscription) => {
            this.forget(subscription);
            this.notify(subscription, "rejected");
            return subscription;
          });
        }
        forget(subscription) {
          this.guarantor.forget(subscription);
          this.subscriptions = this.subscriptions.filter((s) => s !== subscription);
          return subscription;
        }
        findAll(identifier) {
          return this.subscriptions.filter((s) => s.identifier === identifier);
        }
        reload() {
          return this.subscriptions.map((subscription) => this.subscribe(subscription));
        }
        notifyAll(callbackName, ...args) {
          return this.subscriptions.map((subscription) => this.notify(subscription, callbackName, ...args));
        }
        notify(subscription, callbackName, ...args) {
          let subscriptions;
          if (typeof subscription === "string") {
            subscriptions = this.findAll(subscription);
          } else {
            subscriptions = [subscription];
          }
          return subscriptions.map((subscription2) => typeof subscription2[callbackName] === "function" ? subscription2[callbackName](...args) : void 0);
        }
        subscribe(subscription) {
          if (this.sendCommand(subscription, "subscribe")) {
            this.guarantor.guarantee(subscription);
          }
        }
        confirmSubscription(identifier) {
          logger_default.log(`Subscription confirmed ${identifier}`);
          this.findAll(identifier).map((subscription) => this.guarantor.forget(subscription));
        }
        sendCommand(subscription, command) {
          const { identifier } = subscription;
          return this.consumer.send({ command, identifier });
        }
      };
    }
  });

  // node_modules/@rails/actioncable/src/consumer.js
  function createWebSocketURL(url) {
    if (typeof url === "function") {
      url = url();
    }
    if (url && !/^wss?:/i.test(url)) {
      const a = document.createElement("a");
      a.href = url;
      a.href = a.href;
      a.protocol = a.protocol.replace("http", "ws");
      return a.href;
    } else {
      return url;
    }
  }
  var Consumer;
  var init_consumer = __esm({
    "node_modules/@rails/actioncable/src/consumer.js"() {
      init_connection();
      init_subscriptions();
      Consumer = class {
        constructor(url) {
          this._url = url;
          this.subscriptions = new Subscriptions(this);
          this.connection = new connection_default(this);
          this.subprotocols = [];
        }
        get url() {
          return createWebSocketURL(this._url);
        }
        send(data) {
          return this.connection.send(data);
        }
        connect() {
          return this.connection.open();
        }
        disconnect() {
          return this.connection.close({ allowReconnect: false });
        }
        ensureActiveConnection() {
          if (!this.connection.isActive()) {
            return this.connection.open();
          }
        }
        addSubProtocol(subprotocol) {
          this.subprotocols = [...this.subprotocols, subprotocol];
        }
      };
    }
  });

  // node_modules/@rails/actioncable/src/index.js
  var src_exports = {};
  __export(src_exports, {
    Connection: () => connection_default,
    ConnectionMonitor: () => connection_monitor_default,
    Consumer: () => Consumer,
    INTERNAL: () => internal_default,
    Subscription: () => Subscription,
    SubscriptionGuarantor: () => subscription_guarantor_default,
    Subscriptions: () => Subscriptions,
    adapters: () => adapters_default,
    createConsumer: () => createConsumer,
    createWebSocketURL: () => createWebSocketURL,
    getConfig: () => getConfig,
    logger: () => logger_default
  });
  function createConsumer(url = getConfig("url") || internal_default.default_mount_path) {
    return new Consumer(url);
  }
  function getConfig(name) {
    const element = document.head.querySelector(`meta[name='action-cable-${name}']`);
    if (element) {
      return element.getAttribute("content");
    }
  }
  var init_src = __esm({
    "node_modules/@rails/actioncable/src/index.js"() {
      init_connection();
      init_connection_monitor();
      init_consumer();
      init_internal();
      init_subscription();
      init_subscriptions();
      init_subscription_guarantor();
      init_adapters();
      init_logger();
    }
  });

  // node_modules/interactjs/dist/interact.min.js
  var require_interact_min = __commonJS({
    "node_modules/interactjs/dist/interact.min.js"(exports, module) {
      !function(t, e) {
        "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : false ? (void 0)(e) : (t = "undefined" != typeof globalThis ? globalThis : t || self).interact = e();
      }(exports, function() {
        "use strict";
        function t(t2, e2) {
          var n2 = Object.keys(t2);
          if (Object.getOwnPropertySymbols) {
            var r2 = Object.getOwnPropertySymbols(t2);
            e2 && (r2 = r2.filter(function(e3) {
              return Object.getOwnPropertyDescriptor(t2, e3).enumerable;
            })), n2.push.apply(n2, r2);
          }
          return n2;
        }
        function e(e2) {
          for (var n2 = 1; n2 < arguments.length; n2++) {
            var r2 = null != arguments[n2] ? arguments[n2] : {};
            n2 % 2 ? t(Object(r2), true).forEach(function(t2) {
              a(e2, t2, r2[t2]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e2, Object.getOwnPropertyDescriptors(r2)) : t(Object(r2)).forEach(function(t2) {
              Object.defineProperty(e2, t2, Object.getOwnPropertyDescriptor(r2, t2));
            });
          }
          return e2;
        }
        function n(t2) {
          return n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
            return typeof t3;
          } : function(t3) {
            return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
          }, n(t2);
        }
        function r(t2, e2) {
          if (!(t2 instanceof e2)) throw new TypeError("Cannot call a class as a function");
        }
        function i(t2, e2) {
          for (var n2 = 0; n2 < e2.length; n2++) {
            var r2 = e2[n2];
            r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(t2, d(r2.key), r2);
          }
        }
        function o(t2, e2, n2) {
          return e2 && i(t2.prototype, e2), n2 && i(t2, n2), Object.defineProperty(t2, "prototype", { writable: false }), t2;
        }
        function a(t2, e2, n2) {
          return (e2 = d(e2)) in t2 ? Object.defineProperty(t2, e2, { value: n2, enumerable: true, configurable: true, writable: true }) : t2[e2] = n2, t2;
        }
        function s(t2, e2) {
          if ("function" != typeof e2 && null !== e2) throw new TypeError("Super expression must either be null or a function");
          t2.prototype = Object.create(e2 && e2.prototype, { constructor: { value: t2, writable: true, configurable: true } }), Object.defineProperty(t2, "prototype", { writable: false }), e2 && l(t2, e2);
        }
        function c(t2) {
          return c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
            return t3.__proto__ || Object.getPrototypeOf(t3);
          }, c(t2);
        }
        function l(t2, e2) {
          return l = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
            return t3.__proto__ = e3, t3;
          }, l(t2, e2);
        }
        function u(t2) {
          if (void 0 === t2) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
          return t2;
        }
        function p(t2) {
          var e2 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t3) {
              return false;
            }
          }();
          return function() {
            var n2, r2 = c(t2);
            if (e2) {
              var i2 = c(this).constructor;
              n2 = Reflect.construct(r2, arguments, i2);
            } else n2 = r2.apply(this, arguments);
            return function(t3, e3) {
              if (e3 && ("object" == typeof e3 || "function" == typeof e3)) return e3;
              if (void 0 !== e3) throw new TypeError("Derived constructors may only return object or undefined");
              return u(t3);
            }(this, n2);
          };
        }
        function f() {
          return f = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function(t2, e2, n2) {
            var r2 = function(t3, e3) {
              for (; !Object.prototype.hasOwnProperty.call(t3, e3) && null !== (t3 = c(t3)); ) ;
              return t3;
            }(t2, e2);
            if (r2) {
              var i2 = Object.getOwnPropertyDescriptor(r2, e2);
              return i2.get ? i2.get.call(arguments.length < 3 ? t2 : n2) : i2.value;
            }
          }, f.apply(this, arguments);
        }
        function d(t2) {
          var e2 = function(t3, e3) {
            if ("object" != typeof t3 || null === t3) return t3;
            var n2 = t3[Symbol.toPrimitive];
            if (void 0 !== n2) {
              var r2 = n2.call(t3, e3 || "default");
              if ("object" != typeof r2) return r2;
              throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            return ("string" === e3 ? String : Number)(t3);
          }(t2, "string");
          return "symbol" == typeof e2 ? e2 : e2 + "";
        }
        var h = function(t2) {
          return !(!t2 || !t2.Window) && t2 instanceof t2.Window;
        }, v = void 0, g = void 0;
        function m(t2) {
          v = t2;
          var e2 = t2.document.createTextNode("");
          e2.ownerDocument !== t2.document && "function" == typeof t2.wrap && t2.wrap(e2) === e2 && (t2 = t2.wrap(t2)), g = t2;
        }
        function y(t2) {
          return h(t2) ? t2 : (t2.ownerDocument || t2).defaultView || g.window;
        }
        "undefined" != typeof window && window && m(window);
        var b = function(t2) {
          return !!t2 && "object" === n(t2);
        }, x = function(t2) {
          return "function" == typeof t2;
        }, w = { window: function(t2) {
          return t2 === g || h(t2);
        }, docFrag: function(t2) {
          return b(t2) && 11 === t2.nodeType;
        }, object: b, func: x, number: function(t2) {
          return "number" == typeof t2;
        }, bool: function(t2) {
          return "boolean" == typeof t2;
        }, string: function(t2) {
          return "string" == typeof t2;
        }, element: function(t2) {
          if (!t2 || "object" !== n(t2)) return false;
          var e2 = y(t2) || g;
          return /object|function/.test("undefined" == typeof Element ? "undefined" : n(Element)) ? t2 instanceof Element || t2 instanceof e2.Element : 1 === t2.nodeType && "string" == typeof t2.nodeName;
        }, plainObject: function(t2) {
          return b(t2) && !!t2.constructor && /function Object\b/.test(t2.constructor.toString());
        }, array: function(t2) {
          return b(t2) && void 0 !== t2.length && x(t2.splice);
        } };
        function E(t2) {
          var e2 = t2.interaction;
          if ("drag" === e2.prepared.name) {
            var n2 = e2.prepared.axis;
            "x" === n2 ? (e2.coords.cur.page.y = e2.coords.start.page.y, e2.coords.cur.client.y = e2.coords.start.client.y, e2.coords.velocity.client.y = 0, e2.coords.velocity.page.y = 0) : "y" === n2 && (e2.coords.cur.page.x = e2.coords.start.page.x, e2.coords.cur.client.x = e2.coords.start.client.x, e2.coords.velocity.client.x = 0, e2.coords.velocity.page.x = 0);
          }
        }
        function T(t2) {
          var e2 = t2.iEvent, n2 = t2.interaction;
          if ("drag" === n2.prepared.name) {
            var r2 = n2.prepared.axis;
            if ("x" === r2 || "y" === r2) {
              var i2 = "x" === r2 ? "y" : "x";
              e2.page[i2] = n2.coords.start.page[i2], e2.client[i2] = n2.coords.start.client[i2], e2.delta[i2] = 0;
            }
          }
        }
        var S = { id: "actions/drag", install: function(t2) {
          var e2 = t2.actions, n2 = t2.Interactable, r2 = t2.defaults;
          n2.prototype.draggable = S.draggable, e2.map.drag = S, e2.methodDict.drag = "draggable", r2.actions.drag = S.defaults;
        }, listeners: { "interactions:before-action-move": E, "interactions:action-resume": E, "interactions:action-move": T, "auto-start:check": function(t2) {
          var e2 = t2.interaction, n2 = t2.interactable, r2 = t2.buttons, i2 = n2.options.drag;
          if (i2 && i2.enabled && (!e2.pointerIsDown || !/mouse|pointer/.test(e2.pointerType) || 0 != (r2 & n2.options.drag.mouseButtons))) return t2.action = { name: "drag", axis: "start" === i2.lockAxis ? i2.startAxis : i2.lockAxis }, false;
        } }, draggable: function(t2) {
          return w.object(t2) ? (this.options.drag.enabled = false !== t2.enabled, this.setPerAction("drag", t2), this.setOnEvents("drag", t2), /^(xy|x|y|start)$/.test(t2.lockAxis) && (this.options.drag.lockAxis = t2.lockAxis), /^(xy|x|y)$/.test(t2.startAxis) && (this.options.drag.startAxis = t2.startAxis), this) : w.bool(t2) ? (this.options.drag.enabled = t2, this) : this.options.drag;
        }, beforeMove: E, move: T, defaults: { startAxis: "xy", lockAxis: "xy" }, getCursor: function() {
          return "move";
        }, filterEventType: function(t2) {
          return 0 === t2.search("drag");
        } }, _ = S, P = { init: function(t2) {
          var e2 = t2;
          P.document = e2.document, P.DocumentFragment = e2.DocumentFragment || O, P.SVGElement = e2.SVGElement || O, P.SVGSVGElement = e2.SVGSVGElement || O, P.SVGElementInstance = e2.SVGElementInstance || O, P.Element = e2.Element || O, P.HTMLElement = e2.HTMLElement || P.Element, P.Event = e2.Event, P.Touch = e2.Touch || O, P.PointerEvent = e2.PointerEvent || e2.MSPointerEvent;
        }, document: null, DocumentFragment: null, SVGElement: null, SVGSVGElement: null, SVGElementInstance: null, Element: null, HTMLElement: null, Event: null, Touch: null, PointerEvent: null };
        function O() {
        }
        var k = P;
        var D = { init: function(t2) {
          var e2 = k.Element, n2 = t2.navigator || {};
          D.supportsTouch = "ontouchstart" in t2 || w.func(t2.DocumentTouch) && k.document instanceof t2.DocumentTouch, D.supportsPointerEvent = false !== n2.pointerEnabled && !!k.PointerEvent, D.isIOS = /iP(hone|od|ad)/.test(n2.platform), D.isIOS7 = /iP(hone|od|ad)/.test(n2.platform) && /OS 7[^\d]/.test(n2.appVersion), D.isIe9 = /MSIE 9/.test(n2.userAgent), D.isOperaMobile = "Opera" === n2.appName && D.supportsTouch && /Presto/.test(n2.userAgent), D.prefixedMatchesSelector = "matches" in e2.prototype ? "matches" : "webkitMatchesSelector" in e2.prototype ? "webkitMatchesSelector" : "mozMatchesSelector" in e2.prototype ? "mozMatchesSelector" : "oMatchesSelector" in e2.prototype ? "oMatchesSelector" : "msMatchesSelector", D.pEventTypes = D.supportsPointerEvent ? k.PointerEvent === t2.MSPointerEvent ? { up: "MSPointerUp", down: "MSPointerDown", over: "mouseover", out: "mouseout", move: "MSPointerMove", cancel: "MSPointerCancel" } : { up: "pointerup", down: "pointerdown", over: "pointerover", out: "pointerout", move: "pointermove", cancel: "pointercancel" } : null, D.wheelEvent = k.document && "onmousewheel" in k.document ? "mousewheel" : "wheel";
        }, supportsTouch: null, supportsPointerEvent: null, isIOS7: null, isIOS: null, isIe9: null, isOperaMobile: null, prefixedMatchesSelector: null, pEventTypes: null, wheelEvent: null };
        var I = D;
        function M(t2, e2) {
          if (t2.contains) return t2.contains(e2);
          for (; e2; ) {
            if (e2 === t2) return true;
            e2 = e2.parentNode;
          }
          return false;
        }
        function z(t2, e2) {
          for (; w.element(t2); ) {
            if (R(t2, e2)) return t2;
            t2 = A(t2);
          }
          return null;
        }
        function A(t2) {
          var e2 = t2.parentNode;
          if (w.docFrag(e2)) {
            for (; (e2 = e2.host) && w.docFrag(e2); ) ;
            return e2;
          }
          return e2;
        }
        function R(t2, e2) {
          return g !== v && (e2 = e2.replace(/\/deep\//g, " ")), t2[I.prefixedMatchesSelector](e2);
        }
        var C = function(t2) {
          return t2.parentNode || t2.host;
        };
        function j(t2, e2) {
          for (var n2, r2 = [], i2 = t2; (n2 = C(i2)) && i2 !== e2 && n2 !== i2.ownerDocument; ) r2.unshift(i2), i2 = n2;
          return r2;
        }
        function F(t2, e2, n2) {
          for (; w.element(t2); ) {
            if (R(t2, e2)) return true;
            if ((t2 = A(t2)) === n2) return R(t2, e2);
          }
          return false;
        }
        function X(t2) {
          return t2.correspondingUseElement || t2;
        }
        function Y(t2) {
          var e2 = t2 instanceof k.SVGElement ? t2.getBoundingClientRect() : t2.getClientRects()[0];
          return e2 && { left: e2.left, right: e2.right, top: e2.top, bottom: e2.bottom, width: e2.width || e2.right - e2.left, height: e2.height || e2.bottom - e2.top };
        }
        function L(t2) {
          var e2, n2 = Y(t2);
          if (!I.isIOS7 && n2) {
            var r2 = { x: (e2 = (e2 = y(t2)) || g).scrollX || e2.document.documentElement.scrollLeft, y: e2.scrollY || e2.document.documentElement.scrollTop };
            n2.left += r2.x, n2.right += r2.x, n2.top += r2.y, n2.bottom += r2.y;
          }
          return n2;
        }
        function q(t2) {
          for (var e2 = []; t2; ) e2.push(t2), t2 = A(t2);
          return e2;
        }
        function B(t2) {
          return !!w.string(t2) && (k.document.querySelector(t2), true);
        }
        function V(t2, e2) {
          for (var n2 in e2) t2[n2] = e2[n2];
          return t2;
        }
        function W(t2, e2, n2) {
          return "parent" === t2 ? A(n2) : "self" === t2 ? e2.getRect(n2) : z(n2, t2);
        }
        function G(t2, e2, n2, r2) {
          var i2 = t2;
          return w.string(i2) ? i2 = W(i2, e2, n2) : w.func(i2) && (i2 = i2.apply(void 0, r2)), w.element(i2) && (i2 = L(i2)), i2;
        }
        function N(t2) {
          return t2 && { x: "x" in t2 ? t2.x : t2.left, y: "y" in t2 ? t2.y : t2.top };
        }
        function U(t2) {
          return !t2 || "x" in t2 && "y" in t2 || ((t2 = V({}, t2)).x = t2.left || 0, t2.y = t2.top || 0, t2.width = t2.width || (t2.right || 0) - t2.x, t2.height = t2.height || (t2.bottom || 0) - t2.y), t2;
        }
        function H(t2, e2, n2) {
          t2.left && (e2.left += n2.x), t2.right && (e2.right += n2.x), t2.top && (e2.top += n2.y), t2.bottom && (e2.bottom += n2.y), e2.width = e2.right - e2.left, e2.height = e2.bottom - e2.top;
        }
        function K(t2, e2, n2) {
          var r2 = n2 && t2.options[n2];
          return N(G(r2 && r2.origin || t2.options.origin, t2, e2, [t2 && e2])) || { x: 0, y: 0 };
        }
        function $(t2, e2) {
          var n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : function(t3) {
            return true;
          }, r2 = arguments.length > 3 ? arguments[3] : void 0;
          if (r2 = r2 || {}, w.string(t2) && -1 !== t2.search(" ") && (t2 = J(t2)), w.array(t2)) return t2.forEach(function(t3) {
            return $(t3, e2, n2, r2);
          }), r2;
          if (w.object(t2) && (e2 = t2, t2 = ""), w.func(e2) && n2(t2)) r2[t2] = r2[t2] || [], r2[t2].push(e2);
          else if (w.array(e2)) for (var i2 = 0, o2 = e2; i2 < o2.length; i2++) {
            var a2 = o2[i2];
            $(t2, a2, n2, r2);
          }
          else if (w.object(e2)) for (var s2 in e2) {
            $(J(s2).map(function(e3) {
              return "".concat(t2).concat(e3);
            }), e2[s2], n2, r2);
          }
          return r2;
        }
        function J(t2) {
          return t2.trim().split(/ +/);
        }
        var Q = function(t2, e2) {
          return Math.sqrt(t2 * t2 + e2 * e2);
        }, Z = ["webkit", "moz"];
        function tt(t2, e2) {
          t2.__set || (t2.__set = {});
          var n2 = function(n3) {
            if (Z.some(function(t3) {
              return 0 === n3.indexOf(t3);
            })) return 1;
            "function" != typeof t2[n3] && "__set" !== n3 && Object.defineProperty(t2, n3, { get: function() {
              return n3 in t2.__set ? t2.__set[n3] : t2.__set[n3] = e2[n3];
            }, set: function(e3) {
              t2.__set[n3] = e3;
            }, configurable: true });
          };
          for (var r2 in e2) n2(r2);
          return t2;
        }
        function et(t2, e2) {
          t2.page = t2.page || {}, t2.page.x = e2.page.x, t2.page.y = e2.page.y, t2.client = t2.client || {}, t2.client.x = e2.client.x, t2.client.y = e2.client.y, t2.timeStamp = e2.timeStamp;
        }
        function nt(t2) {
          t2.page.x = 0, t2.page.y = 0, t2.client.x = 0, t2.client.y = 0;
        }
        function rt(t2) {
          return t2 instanceof k.Event || t2 instanceof k.Touch;
        }
        function it(t2, e2, n2) {
          return t2 = t2 || "page", (n2 = n2 || {}).x = e2[t2 + "X"], n2.y = e2[t2 + "Y"], n2;
        }
        function ot(t2, e2) {
          return e2 = e2 || { x: 0, y: 0 }, I.isOperaMobile && rt(t2) ? (it("screen", t2, e2), e2.x += window.scrollX, e2.y += window.scrollY) : it("page", t2, e2), e2;
        }
        function at(t2) {
          return w.number(t2.pointerId) ? t2.pointerId : t2.identifier;
        }
        function st(t2, e2, n2) {
          var r2 = e2.length > 1 ? lt(e2) : e2[0];
          ot(r2, t2.page), function(t3, e3) {
            e3 = e3 || {}, I.isOperaMobile && rt(t3) ? it("screen", t3, e3) : it("client", t3, e3);
          }(r2, t2.client), t2.timeStamp = n2;
        }
        function ct(t2) {
          var e2 = [];
          return w.array(t2) ? (e2[0] = t2[0], e2[1] = t2[1]) : "touchend" === t2.type ? 1 === t2.touches.length ? (e2[0] = t2.touches[0], e2[1] = t2.changedTouches[0]) : 0 === t2.touches.length && (e2[0] = t2.changedTouches[0], e2[1] = t2.changedTouches[1]) : (e2[0] = t2.touches[0], e2[1] = t2.touches[1]), e2;
        }
        function lt(t2) {
          for (var e2 = { pageX: 0, pageY: 0, clientX: 0, clientY: 0, screenX: 0, screenY: 0 }, n2 = 0; n2 < t2.length; n2++) {
            var r2 = t2[n2];
            for (var i2 in e2) e2[i2] += r2[i2];
          }
          for (var o2 in e2) e2[o2] /= t2.length;
          return e2;
        }
        function ut(t2) {
          if (!t2.length) return null;
          var e2 = ct(t2), n2 = Math.min(e2[0].pageX, e2[1].pageX), r2 = Math.min(e2[0].pageY, e2[1].pageY), i2 = Math.max(e2[0].pageX, e2[1].pageX), o2 = Math.max(e2[0].pageY, e2[1].pageY);
          return { x: n2, y: r2, left: n2, top: r2, right: i2, bottom: o2, width: i2 - n2, height: o2 - r2 };
        }
        function pt(t2, e2) {
          var n2 = e2 + "X", r2 = e2 + "Y", i2 = ct(t2), o2 = i2[0][n2] - i2[1][n2], a2 = i2[0][r2] - i2[1][r2];
          return Q(o2, a2);
        }
        function ft(t2, e2) {
          var n2 = e2 + "X", r2 = e2 + "Y", i2 = ct(t2), o2 = i2[1][n2] - i2[0][n2], a2 = i2[1][r2] - i2[0][r2];
          return 180 * Math.atan2(a2, o2) / Math.PI;
        }
        function dt(t2) {
          return w.string(t2.pointerType) ? t2.pointerType : w.number(t2.pointerType) ? [void 0, void 0, "touch", "pen", "mouse"][t2.pointerType] : /touch/.test(t2.type || "") || t2 instanceof k.Touch ? "touch" : "mouse";
        }
        function ht(t2) {
          var e2 = w.func(t2.composedPath) ? t2.composedPath() : t2.path;
          return [X(e2 ? e2[0] : t2.target), X(t2.currentTarget)];
        }
        var vt = function() {
          function t2(e2) {
            r(this, t2), this.immediatePropagationStopped = false, this.propagationStopped = false, this._interaction = e2;
          }
          return o(t2, [{ key: "preventDefault", value: function() {
          } }, { key: "stopPropagation", value: function() {
            this.propagationStopped = true;
          } }, { key: "stopImmediatePropagation", value: function() {
            this.immediatePropagationStopped = this.propagationStopped = true;
          } }]), t2;
        }();
        Object.defineProperty(vt.prototype, "interaction", { get: function() {
          return this._interaction._proxy;
        }, set: function() {
        } });
        var gt = function(t2, e2) {
          for (var n2 = 0; n2 < e2.length; n2++) {
            var r2 = e2[n2];
            t2.push(r2);
          }
          return t2;
        }, mt = function(t2) {
          return gt([], t2);
        }, yt = function(t2, e2) {
          for (var n2 = 0; n2 < t2.length; n2++) if (e2(t2[n2], n2, t2)) return n2;
          return -1;
        }, bt = function(t2, e2) {
          return t2[yt(t2, e2)];
        }, xt = function(t2) {
          s(n2, t2);
          var e2 = p(n2);
          function n2(t3, i2, o2) {
            var a2;
            r(this, n2), (a2 = e2.call(this, i2._interaction)).dropzone = void 0, a2.dragEvent = void 0, a2.relatedTarget = void 0, a2.draggable = void 0, a2.propagationStopped = false, a2.immediatePropagationStopped = false;
            var s2 = "dragleave" === o2 ? t3.prev : t3.cur, c2 = s2.element, l2 = s2.dropzone;
            return a2.type = o2, a2.target = c2, a2.currentTarget = c2, a2.dropzone = l2, a2.dragEvent = i2, a2.relatedTarget = i2.target, a2.draggable = i2.interactable, a2.timeStamp = i2.timeStamp, a2;
          }
          return o(n2, [{ key: "reject", value: function() {
            var t3 = this, e3 = this._interaction.dropState;
            if ("dropactivate" === this.type || this.dropzone && e3.cur.dropzone === this.dropzone && e3.cur.element === this.target) if (e3.prev.dropzone = this.dropzone, e3.prev.element = this.target, e3.rejected = true, e3.events.enter = null, this.stopImmediatePropagation(), "dropactivate" === this.type) {
              var r2 = e3.activeDrops, i2 = yt(r2, function(e4) {
                var n3 = e4.dropzone, r3 = e4.element;
                return n3 === t3.dropzone && r3 === t3.target;
              });
              e3.activeDrops.splice(i2, 1);
              var o2 = new n2(e3, this.dragEvent, "dropdeactivate");
              o2.dropzone = this.dropzone, o2.target = this.target, this.dropzone.fire(o2);
            } else this.dropzone.fire(new n2(e3, this.dragEvent, "dragleave"));
          } }, { key: "preventDefault", value: function() {
          } }, { key: "stopPropagation", value: function() {
            this.propagationStopped = true;
          } }, { key: "stopImmediatePropagation", value: function() {
            this.immediatePropagationStopped = this.propagationStopped = true;
          } }]), n2;
        }(vt);
        function wt(t2, e2) {
          for (var n2 = 0, r2 = t2.slice(); n2 < r2.length; n2++) {
            var i2 = r2[n2], o2 = i2.dropzone, a2 = i2.element;
            e2.dropzone = o2, e2.target = a2, o2.fire(e2), e2.propagationStopped = e2.immediatePropagationStopped = false;
          }
        }
        function Et(t2, e2) {
          for (var n2 = function(t3, e3) {
            for (var n3 = [], r3 = 0, i3 = t3.interactables.list; r3 < i3.length; r3++) {
              var o2 = i3[r3];
              if (o2.options.drop.enabled) {
                var a2 = o2.options.drop.accept;
                if (!(w.element(a2) && a2 !== e3 || w.string(a2) && !R(e3, a2) || w.func(a2) && !a2({ dropzone: o2, draggableElement: e3 }))) for (var s2 = 0, c2 = o2.getAllElements(); s2 < c2.length; s2++) {
                  var l2 = c2[s2];
                  l2 !== e3 && n3.push({ dropzone: o2, element: l2, rect: o2.getRect(l2) });
                }
              }
            }
            return n3;
          }(t2, e2), r2 = 0; r2 < n2.length; r2++) {
            var i2 = n2[r2];
            i2.rect = i2.dropzone.getRect(i2.element);
          }
          return n2;
        }
        function Tt(t2, e2, n2) {
          for (var r2 = t2.dropState, i2 = t2.interactable, o2 = t2.element, a2 = [], s2 = 0, c2 = r2.activeDrops; s2 < c2.length; s2++) {
            var l2 = c2[s2], u2 = l2.dropzone, p2 = l2.element, f2 = l2.rect, d2 = u2.dropCheck(e2, n2, i2, o2, p2, f2);
            a2.push(d2 ? p2 : null);
          }
          var h2 = function(t3) {
            for (var e3, n3, r3, i3 = [], o3 = 0; o3 < t3.length; o3++) {
              var a3 = t3[o3], s3 = t3[e3];
              if (a3 && o3 !== e3) if (s3) {
                var c3 = C(a3), l3 = C(s3);
                if (c3 !== a3.ownerDocument) if (l3 !== a3.ownerDocument) if (c3 !== l3) {
                  i3 = i3.length ? i3 : j(s3);
                  var u3 = void 0;
                  if (s3 instanceof k.HTMLElement && a3 instanceof k.SVGElement && !(a3 instanceof k.SVGSVGElement)) {
                    if (a3 === l3) continue;
                    u3 = a3.ownerSVGElement;
                  } else u3 = a3;
                  for (var p3 = j(u3, s3.ownerDocument), f3 = 0; p3[f3] && p3[f3] === i3[f3]; ) f3++;
                  var d3 = [p3[f3 - 1], p3[f3], i3[f3]];
                  if (d3[0]) for (var h3 = d3[0].lastChild; h3; ) {
                    if (h3 === d3[1]) {
                      e3 = o3, i3 = p3;
                      break;
                    }
                    if (h3 === d3[2]) break;
                    h3 = h3.previousSibling;
                  }
                } else r3 = s3, void 0, void 0, (parseInt(y(n3 = a3).getComputedStyle(n3).zIndex, 10) || 0) >= (parseInt(y(r3).getComputedStyle(r3).zIndex, 10) || 0) && (e3 = o3);
                else e3 = o3;
              } else e3 = o3;
            }
            return e3;
          }(a2);
          return r2.activeDrops[h2] || null;
        }
        function St(t2, e2, n2) {
          var r2 = t2.dropState, i2 = { enter: null, leave: null, activate: null, deactivate: null, move: null, drop: null };
          return "dragstart" === n2.type && (i2.activate = new xt(r2, n2, "dropactivate"), i2.activate.target = null, i2.activate.dropzone = null), "dragend" === n2.type && (i2.deactivate = new xt(r2, n2, "dropdeactivate"), i2.deactivate.target = null, i2.deactivate.dropzone = null), r2.rejected || (r2.cur.element !== r2.prev.element && (r2.prev.dropzone && (i2.leave = new xt(r2, n2, "dragleave"), n2.dragLeave = i2.leave.target = r2.prev.element, n2.prevDropzone = i2.leave.dropzone = r2.prev.dropzone), r2.cur.dropzone && (i2.enter = new xt(r2, n2, "dragenter"), n2.dragEnter = r2.cur.element, n2.dropzone = r2.cur.dropzone)), "dragend" === n2.type && r2.cur.dropzone && (i2.drop = new xt(r2, n2, "drop"), n2.dropzone = r2.cur.dropzone, n2.relatedTarget = r2.cur.element), "dragmove" === n2.type && r2.cur.dropzone && (i2.move = new xt(r2, n2, "dropmove"), n2.dropzone = r2.cur.dropzone)), i2;
        }
        function _t(t2, e2) {
          var n2 = t2.dropState, r2 = n2.activeDrops, i2 = n2.cur, o2 = n2.prev;
          e2.leave && o2.dropzone.fire(e2.leave), e2.enter && i2.dropzone.fire(e2.enter), e2.move && i2.dropzone.fire(e2.move), e2.drop && i2.dropzone.fire(e2.drop), e2.deactivate && wt(r2, e2.deactivate), n2.prev.dropzone = i2.dropzone, n2.prev.element = i2.element;
        }
        function Pt(t2, e2) {
          var n2 = t2.interaction, r2 = t2.iEvent, i2 = t2.event;
          if ("dragmove" === r2.type || "dragend" === r2.type) {
            var o2 = n2.dropState;
            e2.dynamicDrop && (o2.activeDrops = Et(e2, n2.element));
            var a2 = r2, s2 = Tt(n2, a2, i2);
            o2.rejected = o2.rejected && !!s2 && s2.dropzone === o2.cur.dropzone && s2.element === o2.cur.element, o2.cur.dropzone = s2 && s2.dropzone, o2.cur.element = s2 && s2.element, o2.events = St(n2, 0, a2);
          }
        }
        var Ot = { id: "actions/drop", install: function(t2) {
          var e2 = t2.actions, n2 = t2.interactStatic, r2 = t2.Interactable, i2 = t2.defaults;
          t2.usePlugin(_), r2.prototype.dropzone = function(t3) {
            return function(t4, e3) {
              if (w.object(e3)) {
                if (t4.options.drop.enabled = false !== e3.enabled, e3.listeners) {
                  var n3 = $(e3.listeners), r3 = Object.keys(n3).reduce(function(t5, e4) {
                    return t5[/^(enter|leave)/.test(e4) ? "drag".concat(e4) : /^(activate|deactivate|move)/.test(e4) ? "drop".concat(e4) : e4] = n3[e4], t5;
                  }, {}), i3 = t4.options.drop.listeners;
                  i3 && t4.off(i3), t4.on(r3), t4.options.drop.listeners = r3;
                }
                return w.func(e3.ondrop) && t4.on("drop", e3.ondrop), w.func(e3.ondropactivate) && t4.on("dropactivate", e3.ondropactivate), w.func(e3.ondropdeactivate) && t4.on("dropdeactivate", e3.ondropdeactivate), w.func(e3.ondragenter) && t4.on("dragenter", e3.ondragenter), w.func(e3.ondragleave) && t4.on("dragleave", e3.ondragleave), w.func(e3.ondropmove) && t4.on("dropmove", e3.ondropmove), /^(pointer|center)$/.test(e3.overlap) ? t4.options.drop.overlap = e3.overlap : w.number(e3.overlap) && (t4.options.drop.overlap = Math.max(Math.min(1, e3.overlap), 0)), "accept" in e3 && (t4.options.drop.accept = e3.accept), "checker" in e3 && (t4.options.drop.checker = e3.checker), t4;
              }
              if (w.bool(e3)) return t4.options.drop.enabled = e3, t4;
              return t4.options.drop;
            }(this, t3);
          }, r2.prototype.dropCheck = function(t3, e3, n3, r3, i3, o2) {
            return function(t4, e4, n4, r4, i4, o3, a2) {
              var s2 = false;
              if (!(a2 = a2 || t4.getRect(o3))) return !!t4.options.drop.checker && t4.options.drop.checker(e4, n4, s2, t4, o3, r4, i4);
              var c2 = t4.options.drop.overlap;
              if ("pointer" === c2) {
                var l2 = K(r4, i4, "drag"), u2 = ot(e4);
                u2.x += l2.x, u2.y += l2.y;
                var p2 = u2.x > a2.left && u2.x < a2.right, f2 = u2.y > a2.top && u2.y < a2.bottom;
                s2 = p2 && f2;
              }
              var d2 = r4.getRect(i4);
              if (d2 && "center" === c2) {
                var h2 = d2.left + d2.width / 2, v2 = d2.top + d2.height / 2;
                s2 = h2 >= a2.left && h2 <= a2.right && v2 >= a2.top && v2 <= a2.bottom;
              }
              if (d2 && w.number(c2)) {
                s2 = Math.max(0, Math.min(a2.right, d2.right) - Math.max(a2.left, d2.left)) * Math.max(0, Math.min(a2.bottom, d2.bottom) - Math.max(a2.top, d2.top)) / (d2.width * d2.height) >= c2;
              }
              t4.options.drop.checker && (s2 = t4.options.drop.checker(e4, n4, s2, t4, o3, r4, i4));
              return s2;
            }(this, t3, e3, n3, r3, i3, o2);
          }, n2.dynamicDrop = function(e3) {
            return w.bool(e3) ? (t2.dynamicDrop = e3, n2) : t2.dynamicDrop;
          }, V(e2.phaselessTypes, { dragenter: true, dragleave: true, dropactivate: true, dropdeactivate: true, dropmove: true, drop: true }), e2.methodDict.drop = "dropzone", t2.dynamicDrop = false, i2.actions.drop = Ot.defaults;
        }, listeners: { "interactions:before-action-start": function(t2) {
          var e2 = t2.interaction;
          "drag" === e2.prepared.name && (e2.dropState = { cur: { dropzone: null, element: null }, prev: { dropzone: null, element: null }, rejected: null, events: null, activeDrops: [] });
        }, "interactions:after-action-start": function(t2, e2) {
          var n2 = t2.interaction, r2 = (t2.event, t2.iEvent);
          if ("drag" === n2.prepared.name) {
            var i2 = n2.dropState;
            i2.activeDrops = [], i2.events = {}, i2.activeDrops = Et(e2, n2.element), i2.events = St(n2, 0, r2), i2.events.activate && (wt(i2.activeDrops, i2.events.activate), e2.fire("actions/drop:start", { interaction: n2, dragEvent: r2 }));
          }
        }, "interactions:action-move": Pt, "interactions:after-action-move": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.iEvent;
          if ("drag" === n2.prepared.name) {
            var i2 = n2.dropState;
            _t(n2, i2.events), e2.fire("actions/drop:move", { interaction: n2, dragEvent: r2 }), i2.events = {};
          }
        }, "interactions:action-end": function(t2, e2) {
          if ("drag" === t2.interaction.prepared.name) {
            var n2 = t2.interaction, r2 = t2.iEvent;
            Pt(t2, e2), _t(n2, n2.dropState.events), e2.fire("actions/drop:end", { interaction: n2, dragEvent: r2 });
          }
        }, "interactions:stop": function(t2) {
          var e2 = t2.interaction;
          if ("drag" === e2.prepared.name) {
            var n2 = e2.dropState;
            n2 && (n2.activeDrops = null, n2.events = null, n2.cur.dropzone = null, n2.cur.element = null, n2.prev.dropzone = null, n2.prev.element = null, n2.rejected = false);
          }
        } }, getActiveDrops: Et, getDrop: Tt, getDropEvents: St, fireDropEvents: _t, filterEventType: function(t2) {
          return 0 === t2.search("drag") || 0 === t2.search("drop");
        }, defaults: { enabled: false, accept: null, overlap: "pointer" } }, kt = Ot;
        function Dt(t2) {
          var e2 = t2.interaction, n2 = t2.iEvent, r2 = t2.phase;
          if ("gesture" === e2.prepared.name) {
            var i2 = e2.pointers.map(function(t3) {
              return t3.pointer;
            }), o2 = "start" === r2, a2 = "end" === r2, s2 = e2.interactable.options.deltaSource;
            if (n2.touches = [i2[0], i2[1]], o2) n2.distance = pt(i2, s2), n2.box = ut(i2), n2.scale = 1, n2.ds = 0, n2.angle = ft(i2, s2), n2.da = 0, e2.gesture.startDistance = n2.distance, e2.gesture.startAngle = n2.angle;
            else if (a2 || e2.pointers.length < 2) {
              var c2 = e2.prevEvent;
              n2.distance = c2.distance, n2.box = c2.box, n2.scale = c2.scale, n2.ds = 0, n2.angle = c2.angle, n2.da = 0;
            } else n2.distance = pt(i2, s2), n2.box = ut(i2), n2.scale = n2.distance / e2.gesture.startDistance, n2.angle = ft(i2, s2), n2.ds = n2.scale - e2.gesture.scale, n2.da = n2.angle - e2.gesture.angle;
            e2.gesture.distance = n2.distance, e2.gesture.angle = n2.angle, w.number(n2.scale) && n2.scale !== 1 / 0 && !isNaN(n2.scale) && (e2.gesture.scale = n2.scale);
          }
        }
        var It = { id: "actions/gesture", before: ["actions/drag", "actions/resize"], install: function(t2) {
          var e2 = t2.actions, n2 = t2.Interactable, r2 = t2.defaults;
          n2.prototype.gesturable = function(t3) {
            return w.object(t3) ? (this.options.gesture.enabled = false !== t3.enabled, this.setPerAction("gesture", t3), this.setOnEvents("gesture", t3), this) : w.bool(t3) ? (this.options.gesture.enabled = t3, this) : this.options.gesture;
          }, e2.map.gesture = It, e2.methodDict.gesture = "gesturable", r2.actions.gesture = It.defaults;
        }, listeners: { "interactions:action-start": Dt, "interactions:action-move": Dt, "interactions:action-end": Dt, "interactions:new": function(t2) {
          t2.interaction.gesture = { angle: 0, distance: 0, scale: 1, startAngle: 0, startDistance: 0 };
        }, "auto-start:check": function(t2) {
          if (!(t2.interaction.pointers.length < 2)) {
            var e2 = t2.interactable.options.gesture;
            if (e2 && e2.enabled) return t2.action = { name: "gesture" }, false;
          }
        } }, defaults: {}, getCursor: function() {
          return "";
        }, filterEventType: function(t2) {
          return 0 === t2.search("gesture");
        } }, Mt = It;
        function zt(t2, e2, n2, r2, i2, o2, a2) {
          if (!e2) return false;
          if (true === e2) {
            var s2 = w.number(o2.width) ? o2.width : o2.right - o2.left, c2 = w.number(o2.height) ? o2.height : o2.bottom - o2.top;
            if (a2 = Math.min(a2, Math.abs(("left" === t2 || "right" === t2 ? s2 : c2) / 2)), s2 < 0 && ("left" === t2 ? t2 = "right" : "right" === t2 && (t2 = "left")), c2 < 0 && ("top" === t2 ? t2 = "bottom" : "bottom" === t2 && (t2 = "top")), "left" === t2) {
              var l2 = s2 >= 0 ? o2.left : o2.right;
              return n2.x < l2 + a2;
            }
            if ("top" === t2) {
              var u2 = c2 >= 0 ? o2.top : o2.bottom;
              return n2.y < u2 + a2;
            }
            if ("right" === t2) return n2.x > (s2 >= 0 ? o2.right : o2.left) - a2;
            if ("bottom" === t2) return n2.y > (c2 >= 0 ? o2.bottom : o2.top) - a2;
          }
          return !!w.element(r2) && (w.element(e2) ? e2 === r2 : F(r2, e2, i2));
        }
        function At(t2) {
          var e2 = t2.iEvent, n2 = t2.interaction;
          if ("resize" === n2.prepared.name && n2.resizeAxes) {
            var r2 = e2;
            n2.interactable.options.resize.square ? ("y" === n2.resizeAxes ? r2.delta.x = r2.delta.y : r2.delta.y = r2.delta.x, r2.axes = "xy") : (r2.axes = n2.resizeAxes, "x" === n2.resizeAxes ? r2.delta.y = 0 : "y" === n2.resizeAxes && (r2.delta.x = 0));
          }
        }
        var Rt, Ct, jt = { id: "actions/resize", before: ["actions/drag"], install: function(t2) {
          var e2 = t2.actions, n2 = t2.browser, r2 = t2.Interactable, i2 = t2.defaults;
          jt.cursors = function(t3) {
            return t3.isIe9 ? { x: "e-resize", y: "s-resize", xy: "se-resize", top: "n-resize", left: "w-resize", bottom: "s-resize", right: "e-resize", topleft: "se-resize", bottomright: "se-resize", topright: "ne-resize", bottomleft: "ne-resize" } : { x: "ew-resize", y: "ns-resize", xy: "nwse-resize", top: "ns-resize", left: "ew-resize", bottom: "ns-resize", right: "ew-resize", topleft: "nwse-resize", bottomright: "nwse-resize", topright: "nesw-resize", bottomleft: "nesw-resize" };
          }(n2), jt.defaultMargin = n2.supportsTouch || n2.supportsPointerEvent ? 20 : 10, r2.prototype.resizable = function(e3) {
            return function(t3, e4, n3) {
              if (w.object(e4)) return t3.options.resize.enabled = false !== e4.enabled, t3.setPerAction("resize", e4), t3.setOnEvents("resize", e4), w.string(e4.axis) && /^x$|^y$|^xy$/.test(e4.axis) ? t3.options.resize.axis = e4.axis : null === e4.axis && (t3.options.resize.axis = n3.defaults.actions.resize.axis), w.bool(e4.preserveAspectRatio) ? t3.options.resize.preserveAspectRatio = e4.preserveAspectRatio : w.bool(e4.square) && (t3.options.resize.square = e4.square), t3;
              if (w.bool(e4)) return t3.options.resize.enabled = e4, t3;
              return t3.options.resize;
            }(this, e3, t2);
          }, e2.map.resize = jt, e2.methodDict.resize = "resizable", i2.actions.resize = jt.defaults;
        }, listeners: { "interactions:new": function(t2) {
          t2.interaction.resizeAxes = "xy";
        }, "interactions:action-start": function(t2) {
          !function(t3) {
            var e2 = t3.iEvent, n2 = t3.interaction;
            if ("resize" === n2.prepared.name && n2.prepared.edges) {
              var r2 = e2, i2 = n2.rect;
              n2._rects = { start: V({}, i2), corrected: V({}, i2), previous: V({}, i2), delta: { left: 0, right: 0, width: 0, top: 0, bottom: 0, height: 0 } }, r2.edges = n2.prepared.edges, r2.rect = n2._rects.corrected, r2.deltaRect = n2._rects.delta;
            }
          }(t2), At(t2);
        }, "interactions:action-move": function(t2) {
          !function(t3) {
            var e2 = t3.iEvent, n2 = t3.interaction;
            if ("resize" === n2.prepared.name && n2.prepared.edges) {
              var r2 = e2, i2 = n2.interactable.options.resize.invert, o2 = "reposition" === i2 || "negate" === i2, a2 = n2.rect, s2 = n2._rects, c2 = s2.start, l2 = s2.corrected, u2 = s2.delta, p2 = s2.previous;
              if (V(p2, l2), o2) {
                if (V(l2, a2), "reposition" === i2) {
                  if (l2.top > l2.bottom) {
                    var f2 = l2.top;
                    l2.top = l2.bottom, l2.bottom = f2;
                  }
                  if (l2.left > l2.right) {
                    var d2 = l2.left;
                    l2.left = l2.right, l2.right = d2;
                  }
                }
              } else l2.top = Math.min(a2.top, c2.bottom), l2.bottom = Math.max(a2.bottom, c2.top), l2.left = Math.min(a2.left, c2.right), l2.right = Math.max(a2.right, c2.left);
              for (var h2 in l2.width = l2.right - l2.left, l2.height = l2.bottom - l2.top, l2) u2[h2] = l2[h2] - p2[h2];
              r2.edges = n2.prepared.edges, r2.rect = l2, r2.deltaRect = u2;
            }
          }(t2), At(t2);
        }, "interactions:action-end": function(t2) {
          var e2 = t2.iEvent, n2 = t2.interaction;
          if ("resize" === n2.prepared.name && n2.prepared.edges) {
            var r2 = e2;
            r2.edges = n2.prepared.edges, r2.rect = n2._rects.corrected, r2.deltaRect = n2._rects.delta;
          }
        }, "auto-start:check": function(t2) {
          var e2 = t2.interaction, n2 = t2.interactable, r2 = t2.element, i2 = t2.rect, o2 = t2.buttons;
          if (i2) {
            var a2 = V({}, e2.coords.cur.page), s2 = n2.options.resize;
            if (s2 && s2.enabled && (!e2.pointerIsDown || !/mouse|pointer/.test(e2.pointerType) || 0 != (o2 & s2.mouseButtons))) {
              if (w.object(s2.edges)) {
                var c2 = { left: false, right: false, top: false, bottom: false };
                for (var l2 in c2) c2[l2] = zt(l2, s2.edges[l2], a2, e2._latestPointer.eventTarget, r2, i2, s2.margin || jt.defaultMargin);
                c2.left = c2.left && !c2.right, c2.top = c2.top && !c2.bottom, (c2.left || c2.right || c2.top || c2.bottom) && (t2.action = { name: "resize", edges: c2 });
              } else {
                var u2 = "y" !== s2.axis && a2.x > i2.right - jt.defaultMargin, p2 = "x" !== s2.axis && a2.y > i2.bottom - jt.defaultMargin;
                (u2 || p2) && (t2.action = { name: "resize", axes: (u2 ? "x" : "") + (p2 ? "y" : "") });
              }
              return !t2.action && void 0;
            }
          }
        } }, defaults: { square: false, preserveAspectRatio: false, axis: "xy", margin: NaN, edges: null, invert: "none" }, cursors: null, getCursor: function(t2) {
          var e2 = t2.edges, n2 = t2.axis, r2 = t2.name, i2 = jt.cursors, o2 = null;
          if (n2) o2 = i2[r2 + n2];
          else if (e2) {
            for (var a2 = "", s2 = 0, c2 = ["top", "bottom", "left", "right"]; s2 < c2.length; s2++) {
              var l2 = c2[s2];
              e2[l2] && (a2 += l2);
            }
            o2 = i2[a2];
          }
          return o2;
        }, filterEventType: function(t2) {
          return 0 === t2.search("resize");
        }, defaultMargin: null }, Ft = jt, Xt = { id: "actions", install: function(t2) {
          t2.usePlugin(Mt), t2.usePlugin(Ft), t2.usePlugin(_), t2.usePlugin(kt);
        } }, Yt = 0;
        var Lt = { request: function(t2) {
          return Rt(t2);
        }, cancel: function(t2) {
          return Ct(t2);
        }, init: function(t2) {
          if (Rt = t2.requestAnimationFrame, Ct = t2.cancelAnimationFrame, !Rt) for (var e2 = ["ms", "moz", "webkit", "o"], n2 = 0; n2 < e2.length; n2++) {
            var r2 = e2[n2];
            Rt = t2["".concat(r2, "RequestAnimationFrame")], Ct = t2["".concat(r2, "CancelAnimationFrame")] || t2["".concat(r2, "CancelRequestAnimationFrame")];
          }
          Rt = Rt && Rt.bind(t2), Ct = Ct && Ct.bind(t2), Rt || (Rt = function(e3) {
            var n3 = Date.now(), r3 = Math.max(0, 16 - (n3 - Yt)), i2 = t2.setTimeout(function() {
              e3(n3 + r3);
            }, r3);
            return Yt = n3 + r3, i2;
          }, Ct = function(t3) {
            return clearTimeout(t3);
          });
        } };
        var qt = { defaults: { enabled: false, margin: 60, container: null, speed: 300 }, now: Date.now, interaction: null, i: 0, x: 0, y: 0, isScrolling: false, prevTime: 0, margin: 0, speed: 0, start: function(t2) {
          qt.isScrolling = true, Lt.cancel(qt.i), t2.autoScroll = qt, qt.interaction = t2, qt.prevTime = qt.now(), qt.i = Lt.request(qt.scroll);
        }, stop: function() {
          qt.isScrolling = false, qt.interaction && (qt.interaction.autoScroll = null), Lt.cancel(qt.i);
        }, scroll: function() {
          var t2 = qt.interaction, e2 = t2.interactable, n2 = t2.element, r2 = t2.prepared.name, i2 = e2.options[r2].autoScroll, o2 = Bt(i2.container, e2, n2), a2 = qt.now(), s2 = (a2 - qt.prevTime) / 1e3, c2 = i2.speed * s2;
          if (c2 >= 1) {
            var l2 = { x: qt.x * c2, y: qt.y * c2 };
            if (l2.x || l2.y) {
              var u2 = Vt(o2);
              w.window(o2) ? o2.scrollBy(l2.x, l2.y) : o2 && (o2.scrollLeft += l2.x, o2.scrollTop += l2.y);
              var p2 = Vt(o2), f2 = { x: p2.x - u2.x, y: p2.y - u2.y };
              (f2.x || f2.y) && e2.fire({ type: "autoscroll", target: n2, interactable: e2, delta: f2, interaction: t2, container: o2 });
            }
            qt.prevTime = a2;
          }
          qt.isScrolling && (Lt.cancel(qt.i), qt.i = Lt.request(qt.scroll));
        }, check: function(t2, e2) {
          var n2;
          return null == (n2 = t2.options[e2].autoScroll) ? void 0 : n2.enabled;
        }, onInteractionMove: function(t2) {
          var e2 = t2.interaction, n2 = t2.pointer;
          if (e2.interacting() && qt.check(e2.interactable, e2.prepared.name)) if (e2.simulation) qt.x = qt.y = 0;
          else {
            var r2, i2, o2, a2, s2 = e2.interactable, c2 = e2.element, l2 = e2.prepared.name, u2 = s2.options[l2].autoScroll, p2 = Bt(u2.container, s2, c2);
            if (w.window(p2)) a2 = n2.clientX < qt.margin, r2 = n2.clientY < qt.margin, i2 = n2.clientX > p2.innerWidth - qt.margin, o2 = n2.clientY > p2.innerHeight - qt.margin;
            else {
              var f2 = Y(p2);
              a2 = n2.clientX < f2.left + qt.margin, r2 = n2.clientY < f2.top + qt.margin, i2 = n2.clientX > f2.right - qt.margin, o2 = n2.clientY > f2.bottom - qt.margin;
            }
            qt.x = i2 ? 1 : a2 ? -1 : 0, qt.y = o2 ? 1 : r2 ? -1 : 0, qt.isScrolling || (qt.margin = u2.margin, qt.speed = u2.speed, qt.start(e2));
          }
        } };
        function Bt(t2, e2, n2) {
          return (w.string(t2) ? W(t2, e2, n2) : t2) || y(n2);
        }
        function Vt(t2) {
          return w.window(t2) && (t2 = window.document.body), { x: t2.scrollLeft, y: t2.scrollTop };
        }
        var Wt = { id: "auto-scroll", install: function(t2) {
          var e2 = t2.defaults, n2 = t2.actions;
          t2.autoScroll = qt, qt.now = function() {
            return t2.now();
          }, n2.phaselessTypes.autoscroll = true, e2.perAction.autoScroll = qt.defaults;
        }, listeners: { "interactions:new": function(t2) {
          t2.interaction.autoScroll = null;
        }, "interactions:destroy": function(t2) {
          t2.interaction.autoScroll = null, qt.stop(), qt.interaction && (qt.interaction = null);
        }, "interactions:stop": qt.stop, "interactions:action-move": function(t2) {
          return qt.onInteractionMove(t2);
        } } }, Gt = Wt;
        function Nt(t2, e2) {
          var n2 = false;
          return function() {
            return n2 || (g.console.warn(e2), n2 = true), t2.apply(this, arguments);
          };
        }
        function Ut(t2, e2) {
          return t2.name = e2.name, t2.axis = e2.axis, t2.edges = e2.edges, t2;
        }
        function Ht(t2) {
          return w.bool(t2) ? (this.options.styleCursor = t2, this) : null === t2 ? (delete this.options.styleCursor, this) : this.options.styleCursor;
        }
        function Kt(t2) {
          return w.func(t2) ? (this.options.actionChecker = t2, this) : null === t2 ? (delete this.options.actionChecker, this) : this.options.actionChecker;
        }
        var $t = { id: "auto-start/interactableMethods", install: function(t2) {
          var e2 = t2.Interactable;
          e2.prototype.getAction = function(e3, n2, r2, i2) {
            var o2 = function(t3, e4, n3, r3, i3) {
              var o3 = t3.getRect(r3), a2 = e4.buttons || { 0: 1, 1: 4, 3: 8, 4: 16 }[e4.button], s2 = { action: null, interactable: t3, interaction: n3, element: r3, rect: o3, buttons: a2 };
              return i3.fire("auto-start:check", s2), s2.action;
            }(this, n2, r2, i2, t2);
            return this.options.actionChecker ? this.options.actionChecker(e3, n2, o2, this, i2, r2) : o2;
          }, e2.prototype.ignoreFrom = Nt(function(t3) {
            return this._backCompatOption("ignoreFrom", t3);
          }, "Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."), e2.prototype.allowFrom = Nt(function(t3) {
            return this._backCompatOption("allowFrom", t3);
          }, "Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."), e2.prototype.actionChecker = Kt, e2.prototype.styleCursor = Ht;
        } };
        function Jt(t2, e2, n2, r2, i2) {
          return e2.testIgnoreAllow(e2.options[t2.name], n2, r2) && e2.options[t2.name].enabled && ee(e2, n2, t2, i2) ? t2 : null;
        }
        function Qt(t2, e2, n2, r2, i2, o2, a2) {
          for (var s2 = 0, c2 = r2.length; s2 < c2; s2++) {
            var l2 = r2[s2], u2 = i2[s2], p2 = l2.getAction(e2, n2, t2, u2);
            if (p2) {
              var f2 = Jt(p2, l2, u2, o2, a2);
              if (f2) return { action: f2, interactable: l2, element: u2 };
            }
          }
          return { action: null, interactable: null, element: null };
        }
        function Zt(t2, e2, n2, r2, i2) {
          var o2 = [], a2 = [], s2 = r2;
          function c2(t3) {
            o2.push(t3), a2.push(s2);
          }
          for (; w.element(s2); ) {
            o2 = [], a2 = [], i2.interactables.forEachMatch(s2, c2);
            var l2 = Qt(t2, e2, n2, o2, a2, r2, i2);
            if (l2.action && !l2.interactable.options[l2.action.name].manualStart) return l2;
            s2 = A(s2);
          }
          return { action: null, interactable: null, element: null };
        }
        function te(t2, e2, n2) {
          var r2 = e2.action, i2 = e2.interactable, o2 = e2.element;
          r2 = r2 || { name: null }, t2.interactable = i2, t2.element = o2, Ut(t2.prepared, r2), t2.rect = i2 && r2.name ? i2.getRect(o2) : null, ie(t2, n2), n2.fire("autoStart:prepared", { interaction: t2 });
        }
        function ee(t2, e2, n2, r2) {
          var i2 = t2.options, o2 = i2[n2.name].max, a2 = i2[n2.name].maxPerElement, s2 = r2.autoStart.maxInteractions, c2 = 0, l2 = 0, u2 = 0;
          if (!(o2 && a2 && s2)) return false;
          for (var p2 = 0, f2 = r2.interactions.list; p2 < f2.length; p2++) {
            var d2 = f2[p2], h2 = d2.prepared.name;
            if (d2.interacting()) {
              if (++c2 >= s2) return false;
              if (d2.interactable === t2) {
                if ((l2 += h2 === n2.name ? 1 : 0) >= o2) return false;
                if (d2.element === e2 && (u2++, h2 === n2.name && u2 >= a2)) return false;
              }
            }
          }
          return s2 > 0;
        }
        function ne(t2, e2) {
          return w.number(t2) ? (e2.autoStart.maxInteractions = t2, this) : e2.autoStart.maxInteractions;
        }
        function re(t2, e2, n2) {
          var r2 = n2.autoStart.cursorElement;
          r2 && r2 !== t2 && (r2.style.cursor = ""), t2.ownerDocument.documentElement.style.cursor = e2, t2.style.cursor = e2, n2.autoStart.cursorElement = e2 ? t2 : null;
        }
        function ie(t2, e2) {
          var n2 = t2.interactable, r2 = t2.element, i2 = t2.prepared;
          if ("mouse" === t2.pointerType && n2 && n2.options.styleCursor) {
            var o2 = "";
            if (i2.name) {
              var a2 = n2.options[i2.name].cursorChecker;
              o2 = w.func(a2) ? a2(i2, n2, r2, t2._interacting) : e2.actions.map[i2.name].getCursor(i2);
            }
            re(t2.element, o2 || "", e2);
          } else e2.autoStart.cursorElement && re(e2.autoStart.cursorElement, "", e2);
        }
        var oe = { id: "auto-start/base", before: ["actions"], install: function(t2) {
          var e2 = t2.interactStatic, n2 = t2.defaults;
          t2.usePlugin($t), n2.base.actionChecker = null, n2.base.styleCursor = true, V(n2.perAction, { manualStart: false, max: 1 / 0, maxPerElement: 1, allowFrom: null, ignoreFrom: null, mouseButtons: 1 }), e2.maxInteractions = function(e3) {
            return ne(e3, t2);
          }, t2.autoStart = { maxInteractions: 1 / 0, withinInteractionLimit: ee, cursorElement: null };
        }, listeners: { "interactions:down": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointer, i2 = t2.event, o2 = t2.eventTarget;
          n2.interacting() || te(n2, Zt(n2, r2, i2, o2, e2), e2);
        }, "interactions:move": function(t2, e2) {
          !function(t3, e3) {
            var n2 = t3.interaction, r2 = t3.pointer, i2 = t3.event, o2 = t3.eventTarget;
            "mouse" !== n2.pointerType || n2.pointerIsDown || n2.interacting() || te(n2, Zt(n2, r2, i2, o2, e3), e3);
          }(t2, e2), function(t3, e3) {
            var n2 = t3.interaction;
            if (n2.pointerIsDown && !n2.interacting() && n2.pointerWasMoved && n2.prepared.name) {
              e3.fire("autoStart:before-start", t3);
              var r2 = n2.interactable, i2 = n2.prepared.name;
              i2 && r2 && (r2.options[i2].manualStart || !ee(r2, n2.element, n2.prepared, e3) ? n2.stop() : (n2.start(n2.prepared, r2, n2.element), ie(n2, e3)));
            }
          }(t2, e2);
        }, "interactions:stop": function(t2, e2) {
          var n2 = t2.interaction, r2 = n2.interactable;
          r2 && r2.options.styleCursor && re(n2.element, "", e2);
        } }, maxInteractions: ne, withinInteractionLimit: ee, validateAction: Jt }, ae = oe;
        var se = { id: "auto-start/dragAxis", listeners: { "autoStart:before-start": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.eventTarget, i2 = t2.dx, o2 = t2.dy;
          if ("drag" === n2.prepared.name) {
            var a2 = Math.abs(i2), s2 = Math.abs(o2), c2 = n2.interactable.options.drag, l2 = c2.startAxis, u2 = a2 > s2 ? "x" : a2 < s2 ? "y" : "xy";
            if (n2.prepared.axis = "start" === c2.lockAxis ? u2[0] : c2.lockAxis, "xy" !== u2 && "xy" !== l2 && l2 !== u2) {
              n2.prepared.name = null;
              for (var p2 = r2, f2 = function(t3) {
                if (t3 !== n2.interactable) {
                  var i3 = n2.interactable.options.drag;
                  if (!i3.manualStart && t3.testIgnoreAllow(i3, p2, r2)) {
                    var o3 = t3.getAction(n2.downPointer, n2.downEvent, n2, p2);
                    if (o3 && "drag" === o3.name && function(t4, e3) {
                      if (!e3) return false;
                      var n3 = e3.options.drag.startAxis;
                      return "xy" === t4 || "xy" === n3 || n3 === t4;
                    }(u2, t3) && ae.validateAction(o3, t3, p2, r2, e2)) return t3;
                  }
                }
              }; w.element(p2); ) {
                var d2 = e2.interactables.forEachMatch(p2, f2);
                if (d2) {
                  n2.prepared.name = "drag", n2.interactable = d2, n2.element = p2;
                  break;
                }
                p2 = A(p2);
              }
            }
          }
        } } };
        function ce(t2) {
          var e2 = t2.prepared && t2.prepared.name;
          if (!e2) return null;
          var n2 = t2.interactable.options;
          return n2[e2].hold || n2[e2].delay;
        }
        var le = { id: "auto-start/hold", install: function(t2) {
          var e2 = t2.defaults;
          t2.usePlugin(ae), e2.perAction.hold = 0, e2.perAction.delay = 0;
        }, listeners: { "interactions:new": function(t2) {
          t2.interaction.autoStartHoldTimer = null;
        }, "autoStart:prepared": function(t2) {
          var e2 = t2.interaction, n2 = ce(e2);
          n2 > 0 && (e2.autoStartHoldTimer = setTimeout(function() {
            e2.start(e2.prepared, e2.interactable, e2.element);
          }, n2));
        }, "interactions:move": function(t2) {
          var e2 = t2.interaction, n2 = t2.duplicate;
          e2.autoStartHoldTimer && e2.pointerWasMoved && !n2 && (clearTimeout(e2.autoStartHoldTimer), e2.autoStartHoldTimer = null);
        }, "autoStart:before-start": function(t2) {
          var e2 = t2.interaction;
          ce(e2) > 0 && (e2.prepared.name = null);
        } }, getHoldDuration: ce }, ue = le, pe = { id: "auto-start", install: function(t2) {
          t2.usePlugin(ae), t2.usePlugin(ue), t2.usePlugin(se);
        } }, fe = function(t2) {
          return /^(always|never|auto)$/.test(t2) ? (this.options.preventDefault = t2, this) : w.bool(t2) ? (this.options.preventDefault = t2 ? "always" : "never", this) : this.options.preventDefault;
        };
        function de(t2) {
          var e2 = t2.interaction, n2 = t2.event;
          e2.interactable && e2.interactable.checkAndPreventDefault(n2);
        }
        var he = { id: "core/interactablePreventDefault", install: function(t2) {
          var e2 = t2.Interactable;
          e2.prototype.preventDefault = fe, e2.prototype.checkAndPreventDefault = function(e3) {
            return function(t3, e4, n2) {
              var r2 = t3.options.preventDefault;
              if ("never" !== r2) if ("always" !== r2) {
                if (e4.events.supportsPassive && /^touch(start|move)$/.test(n2.type)) {
                  var i2 = y(n2.target).document, o2 = e4.getDocOptions(i2);
                  if (!o2 || !o2.events || false !== o2.events.passive) return;
                }
                /^(mouse|pointer|touch)*(down|start)/i.test(n2.type) || w.element(n2.target) && R(n2.target, "input,select,textarea,[contenteditable=true],[contenteditable=true] *") || n2.preventDefault();
              } else n2.preventDefault();
            }(this, t2, e3);
          }, t2.interactions.docEvents.push({ type: "dragstart", listener: function(e3) {
            for (var n2 = 0, r2 = t2.interactions.list; n2 < r2.length; n2++) {
              var i2 = r2[n2];
              if (i2.element && (i2.element === e3.target || M(i2.element, e3.target))) return void i2.interactable.checkAndPreventDefault(e3);
            }
          } });
        }, listeners: ["down", "move", "up", "cancel"].reduce(function(t2, e2) {
          return t2["interactions:".concat(e2)] = de, t2;
        }, {}) };
        function ve(t2, e2) {
          if (e2.phaselessTypes[t2]) return true;
          for (var n2 in e2.map) if (0 === t2.indexOf(n2) && t2.substr(n2.length) in e2.phases) return true;
          return false;
        }
        function ge(t2) {
          var e2 = {};
          for (var n2 in t2) {
            var r2 = t2[n2];
            w.plainObject(r2) ? e2[n2] = ge(r2) : w.array(r2) ? e2[n2] = mt(r2) : e2[n2] = r2;
          }
          return e2;
        }
        var me = function() {
          function t2(e2) {
            r(this, t2), this.states = [], this.startOffset = { left: 0, right: 0, top: 0, bottom: 0 }, this.startDelta = void 0, this.result = void 0, this.endResult = void 0, this.startEdges = void 0, this.edges = void 0, this.interaction = void 0, this.interaction = e2, this.result = ye(), this.edges = { left: false, right: false, top: false, bottom: false };
          }
          return o(t2, [{ key: "start", value: function(t3, e2) {
            var n2, r2, i2 = t3.phase, o2 = this.interaction, a2 = function(t4) {
              var e3 = t4.interactable.options[t4.prepared.name], n3 = e3.modifiers;
              if (n3 && n3.length) return n3;
              return ["snap", "snapSize", "snapEdges", "restrict", "restrictEdges", "restrictSize"].map(function(t5) {
                var n4 = e3[t5];
                return n4 && n4.enabled && { options: n4, methods: n4._methods };
              }).filter(function(t5) {
                return !!t5;
              });
            }(o2);
            this.prepareStates(a2), this.startEdges = V({}, o2.edges), this.edges = V({}, this.startEdges), this.startOffset = (n2 = o2.rect, r2 = e2, n2 ? { left: r2.x - n2.left, top: r2.y - n2.top, right: n2.right - r2.x, bottom: n2.bottom - r2.y } : { left: 0, top: 0, right: 0, bottom: 0 }), this.startDelta = { x: 0, y: 0 };
            var s2 = this.fillArg({ phase: i2, pageCoords: e2, preEnd: false });
            return this.result = ye(), this.startAll(s2), this.result = this.setAll(s2);
          } }, { key: "fillArg", value: function(t3) {
            var e2 = this.interaction;
            return t3.interaction = e2, t3.interactable = e2.interactable, t3.element = e2.element, t3.rect || (t3.rect = e2.rect), t3.edges || (t3.edges = this.startEdges), t3.startOffset = this.startOffset, t3;
          } }, { key: "startAll", value: function(t3) {
            for (var e2 = 0, n2 = this.states; e2 < n2.length; e2++) {
              var r2 = n2[e2];
              r2.methods.start && (t3.state = r2, r2.methods.start(t3));
            }
          } }, { key: "setAll", value: function(t3) {
            var e2 = t3.phase, n2 = t3.preEnd, r2 = t3.skipModifiers, i2 = t3.rect, o2 = t3.edges;
            t3.coords = V({}, t3.pageCoords), t3.rect = V({}, i2), t3.edges = V({}, o2);
            for (var a2 = r2 ? this.states.slice(r2) : this.states, s2 = ye(t3.coords, t3.rect), c2 = 0; c2 < a2.length; c2++) {
              var l2, u2 = a2[c2], p2 = u2.options, f2 = V({}, t3.coords), d2 = null;
              null != (l2 = u2.methods) && l2.set && this.shouldDo(p2, n2, e2) && (t3.state = u2, d2 = u2.methods.set(t3), H(t3.edges, t3.rect, { x: t3.coords.x - f2.x, y: t3.coords.y - f2.y })), s2.eventProps.push(d2);
            }
            V(this.edges, t3.edges), s2.delta.x = t3.coords.x - t3.pageCoords.x, s2.delta.y = t3.coords.y - t3.pageCoords.y, s2.rectDelta.left = t3.rect.left - i2.left, s2.rectDelta.right = t3.rect.right - i2.right, s2.rectDelta.top = t3.rect.top - i2.top, s2.rectDelta.bottom = t3.rect.bottom - i2.bottom;
            var h2 = this.result.coords, v2 = this.result.rect;
            if (h2 && v2) {
              var g2 = s2.rect.left !== v2.left || s2.rect.right !== v2.right || s2.rect.top !== v2.top || s2.rect.bottom !== v2.bottom;
              s2.changed = g2 || h2.x !== s2.coords.x || h2.y !== s2.coords.y;
            }
            return s2;
          } }, { key: "applyToInteraction", value: function(t3) {
            var e2 = this.interaction, n2 = t3.phase, r2 = e2.coords.cur, i2 = e2.coords.start, o2 = this.result, a2 = this.startDelta, s2 = o2.delta;
            "start" === n2 && V(this.startDelta, o2.delta);
            for (var c2 = 0, l2 = [[i2, a2], [r2, s2]]; c2 < l2.length; c2++) {
              var u2 = l2[c2], p2 = u2[0], f2 = u2[1];
              p2.page.x += f2.x, p2.page.y += f2.y, p2.client.x += f2.x, p2.client.y += f2.y;
            }
            var d2 = this.result.rectDelta, h2 = t3.rect || e2.rect;
            h2.left += d2.left, h2.right += d2.right, h2.top += d2.top, h2.bottom += d2.bottom, h2.width = h2.right - h2.left, h2.height = h2.bottom - h2.top;
          } }, { key: "setAndApply", value: function(t3) {
            var e2 = this.interaction, n2 = t3.phase, r2 = t3.preEnd, i2 = t3.skipModifiers, o2 = this.setAll(this.fillArg({ preEnd: r2, phase: n2, pageCoords: t3.modifiedCoords || e2.coords.cur.page }));
            if (this.result = o2, !o2.changed && (!i2 || i2 < this.states.length) && e2.interacting()) return false;
            if (t3.modifiedCoords) {
              var a2 = e2.coords.cur.page, s2 = { x: t3.modifiedCoords.x - a2.x, y: t3.modifiedCoords.y - a2.y };
              o2.coords.x += s2.x, o2.coords.y += s2.y, o2.delta.x += s2.x, o2.delta.y += s2.y;
            }
            this.applyToInteraction(t3);
          } }, { key: "beforeEnd", value: function(t3) {
            var e2 = t3.interaction, n2 = t3.event, r2 = this.states;
            if (r2 && r2.length) {
              for (var i2 = false, o2 = 0; o2 < r2.length; o2++) {
                var a2 = r2[o2];
                t3.state = a2;
                var s2 = a2.options, c2 = a2.methods, l2 = c2.beforeEnd && c2.beforeEnd(t3);
                if (l2) return this.endResult = l2, false;
                i2 = i2 || !i2 && this.shouldDo(s2, true, t3.phase, true);
              }
              i2 && e2.move({ event: n2, preEnd: true });
            }
          } }, { key: "stop", value: function(t3) {
            var e2 = t3.interaction;
            if (this.states && this.states.length) {
              var n2 = V({ states: this.states, interactable: e2.interactable, element: e2.element, rect: null }, t3);
              this.fillArg(n2);
              for (var r2 = 0, i2 = this.states; r2 < i2.length; r2++) {
                var o2 = i2[r2];
                n2.state = o2, o2.methods.stop && o2.methods.stop(n2);
              }
              this.states = null, this.endResult = null;
            }
          } }, { key: "prepareStates", value: function(t3) {
            this.states = [];
            for (var e2 = 0; e2 < t3.length; e2++) {
              var n2 = t3[e2], r2 = n2.options, i2 = n2.methods, o2 = n2.name;
              this.states.push({ options: r2, methods: i2, index: e2, name: o2 });
            }
            return this.states;
          } }, { key: "restoreInteractionCoords", value: function(t3) {
            var e2 = t3.interaction, n2 = e2.coords, r2 = e2.rect, i2 = e2.modification;
            if (i2.result) {
              for (var o2 = i2.startDelta, a2 = i2.result, s2 = a2.delta, c2 = a2.rectDelta, l2 = 0, u2 = [[n2.start, o2], [n2.cur, s2]]; l2 < u2.length; l2++) {
                var p2 = u2[l2], f2 = p2[0], d2 = p2[1];
                f2.page.x -= d2.x, f2.page.y -= d2.y, f2.client.x -= d2.x, f2.client.y -= d2.y;
              }
              r2.left -= c2.left, r2.right -= c2.right, r2.top -= c2.top, r2.bottom -= c2.bottom;
            }
          } }, { key: "shouldDo", value: function(t3, e2, n2, r2) {
            return !(!t3 || false === t3.enabled || r2 && !t3.endOnly || t3.endOnly && !e2 || "start" === n2 && !t3.setStart);
          } }, { key: "copyFrom", value: function(t3) {
            this.startOffset = t3.startOffset, this.startDelta = t3.startDelta, this.startEdges = t3.startEdges, this.edges = t3.edges, this.states = t3.states.map(function(t4) {
              return ge(t4);
            }), this.result = ye(V({}, t3.result.coords), V({}, t3.result.rect));
          } }, { key: "destroy", value: function() {
            for (var t3 in this) this[t3] = null;
          } }]), t2;
        }();
        function ye(t2, e2) {
          return { rect: e2, coords: t2, delta: { x: 0, y: 0 }, rectDelta: { left: 0, right: 0, top: 0, bottom: 0 }, eventProps: [], changed: true };
        }
        function be(t2, e2) {
          var n2 = t2.defaults, r2 = { start: t2.start, set: t2.set, beforeEnd: t2.beforeEnd, stop: t2.stop }, i2 = function(t3) {
            var i3 = t3 || {};
            for (var o2 in i3.enabled = false !== i3.enabled, n2) o2 in i3 || (i3[o2] = n2[o2]);
            var a2 = { options: i3, methods: r2, name: e2, enable: function() {
              return i3.enabled = true, a2;
            }, disable: function() {
              return i3.enabled = false, a2;
            } };
            return a2;
          };
          return e2 && "string" == typeof e2 && (i2._defaults = n2, i2._methods = r2), i2;
        }
        function xe(t2) {
          var e2 = t2.iEvent, n2 = t2.interaction.modification.result;
          n2 && (e2.modifiers = n2.eventProps);
        }
        var we = { id: "modifiers/base", before: ["actions"], install: function(t2) {
          t2.defaults.perAction.modifiers = [];
        }, listeners: { "interactions:new": function(t2) {
          var e2 = t2.interaction;
          e2.modification = new me(e2);
        }, "interactions:before-action-start": function(t2) {
          var e2 = t2.interaction, n2 = t2.interaction.modification;
          n2.start(t2, e2.coords.start.page), e2.edges = n2.edges, n2.applyToInteraction(t2);
        }, "interactions:before-action-move": function(t2) {
          var e2 = t2.interaction, n2 = e2.modification, r2 = n2.setAndApply(t2);
          return e2.edges = n2.edges, r2;
        }, "interactions:before-action-end": function(t2) {
          var e2 = t2.interaction, n2 = e2.modification, r2 = n2.beforeEnd(t2);
          return e2.edges = n2.startEdges, r2;
        }, "interactions:action-start": xe, "interactions:action-move": xe, "interactions:action-end": xe, "interactions:after-action-start": function(t2) {
          return t2.interaction.modification.restoreInteractionCoords(t2);
        }, "interactions:after-action-move": function(t2) {
          return t2.interaction.modification.restoreInteractionCoords(t2);
        }, "interactions:stop": function(t2) {
          return t2.interaction.modification.stop(t2);
        } } }, Ee = we, Te = { base: { preventDefault: "auto", deltaSource: "page" }, perAction: { enabled: false, origin: { x: 0, y: 0 } }, actions: {} }, Se = function(t2) {
          s(n2, t2);
          var e2 = p(n2);
          function n2(t3, i2, o2, a2, s2, c2, l2) {
            var p2;
            r(this, n2), (p2 = e2.call(this, t3)).relatedTarget = null, p2.screenX = void 0, p2.screenY = void 0, p2.button = void 0, p2.buttons = void 0, p2.ctrlKey = void 0, p2.shiftKey = void 0, p2.altKey = void 0, p2.metaKey = void 0, p2.page = void 0, p2.client = void 0, p2.delta = void 0, p2.rect = void 0, p2.x0 = void 0, p2.y0 = void 0, p2.t0 = void 0, p2.dt = void 0, p2.duration = void 0, p2.clientX0 = void 0, p2.clientY0 = void 0, p2.velocity = void 0, p2.speed = void 0, p2.swipe = void 0, p2.axes = void 0, p2.preEnd = void 0, s2 = s2 || t3.element;
            var f2 = t3.interactable, d2 = (f2 && f2.options || Te).deltaSource, h2 = K(f2, s2, o2), v2 = "start" === a2, g2 = "end" === a2, m2 = v2 ? u(p2) : t3.prevEvent, y2 = v2 ? t3.coords.start : g2 ? { page: m2.page, client: m2.client, timeStamp: t3.coords.cur.timeStamp } : t3.coords.cur;
            return p2.page = V({}, y2.page), p2.client = V({}, y2.client), p2.rect = V({}, t3.rect), p2.timeStamp = y2.timeStamp, g2 || (p2.page.x -= h2.x, p2.page.y -= h2.y, p2.client.x -= h2.x, p2.client.y -= h2.y), p2.ctrlKey = i2.ctrlKey, p2.altKey = i2.altKey, p2.shiftKey = i2.shiftKey, p2.metaKey = i2.metaKey, p2.button = i2.button, p2.buttons = i2.buttons, p2.target = s2, p2.currentTarget = s2, p2.preEnd = c2, p2.type = l2 || o2 + (a2 || ""), p2.interactable = f2, p2.t0 = v2 ? t3.pointers[t3.pointers.length - 1].downTime : m2.t0, p2.x0 = t3.coords.start.page.x - h2.x, p2.y0 = t3.coords.start.page.y - h2.y, p2.clientX0 = t3.coords.start.client.x - h2.x, p2.clientY0 = t3.coords.start.client.y - h2.y, p2.delta = v2 || g2 ? { x: 0, y: 0 } : { x: p2[d2].x - m2[d2].x, y: p2[d2].y - m2[d2].y }, p2.dt = t3.coords.delta.timeStamp, p2.duration = p2.timeStamp - p2.t0, p2.velocity = V({}, t3.coords.velocity[d2]), p2.speed = Q(p2.velocity.x, p2.velocity.y), p2.swipe = g2 || "inertiastart" === a2 ? p2.getSwipe() : null, p2;
          }
          return o(n2, [{ key: "getSwipe", value: function() {
            var t3 = this._interaction;
            if (t3.prevEvent.speed < 600 || this.timeStamp - t3.prevEvent.timeStamp > 150) return null;
            var e3 = 180 * Math.atan2(t3.prevEvent.velocityY, t3.prevEvent.velocityX) / Math.PI;
            e3 < 0 && (e3 += 360);
            var n3 = 112.5 <= e3 && e3 < 247.5, r2 = 202.5 <= e3 && e3 < 337.5;
            return { up: r2, down: !r2 && 22.5 <= e3 && e3 < 157.5, left: n3, right: !n3 && (292.5 <= e3 || e3 < 67.5), angle: e3, speed: t3.prevEvent.speed, velocity: { x: t3.prevEvent.velocityX, y: t3.prevEvent.velocityY } };
          } }, { key: "preventDefault", value: function() {
          } }, { key: "stopImmediatePropagation", value: function() {
            this.immediatePropagationStopped = this.propagationStopped = true;
          } }, { key: "stopPropagation", value: function() {
            this.propagationStopped = true;
          } }]), n2;
        }(vt);
        Object.defineProperties(Se.prototype, { pageX: { get: function() {
          return this.page.x;
        }, set: function(t2) {
          this.page.x = t2;
        } }, pageY: { get: function() {
          return this.page.y;
        }, set: function(t2) {
          this.page.y = t2;
        } }, clientX: { get: function() {
          return this.client.x;
        }, set: function(t2) {
          this.client.x = t2;
        } }, clientY: { get: function() {
          return this.client.y;
        }, set: function(t2) {
          this.client.y = t2;
        } }, dx: { get: function() {
          return this.delta.x;
        }, set: function(t2) {
          this.delta.x = t2;
        } }, dy: { get: function() {
          return this.delta.y;
        }, set: function(t2) {
          this.delta.y = t2;
        } }, velocityX: { get: function() {
          return this.velocity.x;
        }, set: function(t2) {
          this.velocity.x = t2;
        } }, velocityY: { get: function() {
          return this.velocity.y;
        }, set: function(t2) {
          this.velocity.y = t2;
        } } });
        var _e = o(function t2(e2, n2, i2, o2, a2) {
          r(this, t2), this.id = void 0, this.pointer = void 0, this.event = void 0, this.downTime = void 0, this.downTarget = void 0, this.id = e2, this.pointer = n2, this.event = i2, this.downTime = o2, this.downTarget = a2;
        }), Pe = function(t2) {
          return t2.interactable = "", t2.element = "", t2.prepared = "", t2.pointerIsDown = "", t2.pointerWasMoved = "", t2._proxy = "", t2;
        }({}), Oe = function(t2) {
          return t2.start = "", t2.move = "", t2.end = "", t2.stop = "", t2.interacting = "", t2;
        }({}), ke = 0, De = function() {
          function t2(e2) {
            var n2 = this, i2 = e2.pointerType, o2 = e2.scopeFire;
            r(this, t2), this.interactable = null, this.element = null, this.rect = null, this._rects = void 0, this.edges = null, this._scopeFire = void 0, this.prepared = { name: null, axis: null, edges: null }, this.pointerType = void 0, this.pointers = [], this.downEvent = null, this.downPointer = {}, this._latestPointer = { pointer: null, event: null, eventTarget: null }, this.prevEvent = null, this.pointerIsDown = false, this.pointerWasMoved = false, this._interacting = false, this._ending = false, this._stopped = true, this._proxy = void 0, this.simulation = null, this.doMove = Nt(function(t3) {
              this.move(t3);
            }, "The interaction.doMove() method has been renamed to interaction.move()"), this.coords = { start: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 }, prev: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 }, cur: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 }, delta: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 }, velocity: { page: { x: 0, y: 0 }, client: { x: 0, y: 0 }, timeStamp: 0 } }, this._id = ke++, this._scopeFire = o2, this.pointerType = i2;
            var a2 = this;
            this._proxy = {};
            var s2 = function(t3) {
              Object.defineProperty(n2._proxy, t3, { get: function() {
                return a2[t3];
              } });
            };
            for (var c2 in Pe) s2(c2);
            var l2 = function(t3) {
              Object.defineProperty(n2._proxy, t3, { value: function() {
                return a2[t3].apply(a2, arguments);
              } });
            };
            for (var u2 in Oe) l2(u2);
            this._scopeFire("interactions:new", { interaction: this });
          }
          return o(t2, [{ key: "pointerMoveTolerance", get: function() {
            return 1;
          } }, { key: "pointerDown", value: function(t3, e2, n2) {
            var r2 = this.updatePointer(t3, e2, n2, true), i2 = this.pointers[r2];
            this._scopeFire("interactions:down", { pointer: t3, event: e2, eventTarget: n2, pointerIndex: r2, pointerInfo: i2, type: "down", interaction: this });
          } }, { key: "start", value: function(t3, e2, n2) {
            return !(this.interacting() || !this.pointerIsDown || this.pointers.length < ("gesture" === t3.name ? 2 : 1) || !e2.options[t3.name].enabled) && (Ut(this.prepared, t3), this.interactable = e2, this.element = n2, this.rect = e2.getRect(n2), this.edges = this.prepared.edges ? V({}, this.prepared.edges) : { left: true, right: true, top: true, bottom: true }, this._stopped = false, this._interacting = this._doPhase({ interaction: this, event: this.downEvent, phase: "start" }) && !this._stopped, this._interacting);
          } }, { key: "pointerMove", value: function(t3, e2, n2) {
            this.simulation || this.modification && this.modification.endResult || this.updatePointer(t3, e2, n2, false);
            var r2, i2, o2 = this.coords.cur.page.x === this.coords.prev.page.x && this.coords.cur.page.y === this.coords.prev.page.y && this.coords.cur.client.x === this.coords.prev.client.x && this.coords.cur.client.y === this.coords.prev.client.y;
            this.pointerIsDown && !this.pointerWasMoved && (r2 = this.coords.cur.client.x - this.coords.start.client.x, i2 = this.coords.cur.client.y - this.coords.start.client.y, this.pointerWasMoved = Q(r2, i2) > this.pointerMoveTolerance);
            var a2, s2, c2, l2 = this.getPointerIndex(t3), u2 = { pointer: t3, pointerIndex: l2, pointerInfo: this.pointers[l2], event: e2, type: "move", eventTarget: n2, dx: r2, dy: i2, duplicate: o2, interaction: this };
            o2 || (a2 = this.coords.velocity, s2 = this.coords.delta, c2 = Math.max(s2.timeStamp / 1e3, 1e-3), a2.page.x = s2.page.x / c2, a2.page.y = s2.page.y / c2, a2.client.x = s2.client.x / c2, a2.client.y = s2.client.y / c2, a2.timeStamp = c2), this._scopeFire("interactions:move", u2), o2 || this.simulation || (this.interacting() && (u2.type = null, this.move(u2)), this.pointerWasMoved && et(this.coords.prev, this.coords.cur));
          } }, { key: "move", value: function(t3) {
            t3 && t3.event || nt(this.coords.delta), (t3 = V({ pointer: this._latestPointer.pointer, event: this._latestPointer.event, eventTarget: this._latestPointer.eventTarget, interaction: this }, t3 || {})).phase = "move", this._doPhase(t3);
          } }, { key: "pointerUp", value: function(t3, e2, n2, r2) {
            var i2 = this.getPointerIndex(t3);
            -1 === i2 && (i2 = this.updatePointer(t3, e2, n2, false));
            var o2 = /cancel$/i.test(e2.type) ? "cancel" : "up";
            this._scopeFire("interactions:".concat(o2), { pointer: t3, pointerIndex: i2, pointerInfo: this.pointers[i2], event: e2, eventTarget: n2, type: o2, curEventTarget: r2, interaction: this }), this.simulation || this.end(e2), this.removePointer(t3, e2);
          } }, { key: "documentBlur", value: function(t3) {
            this.end(t3), this._scopeFire("interactions:blur", { event: t3, type: "blur", interaction: this });
          } }, { key: "end", value: function(t3) {
            var e2;
            this._ending = true, t3 = t3 || this._latestPointer.event, this.interacting() && (e2 = this._doPhase({ event: t3, interaction: this, phase: "end" })), this._ending = false, true === e2 && this.stop();
          } }, { key: "currentAction", value: function() {
            return this._interacting ? this.prepared.name : null;
          } }, { key: "interacting", value: function() {
            return this._interacting;
          } }, { key: "stop", value: function() {
            this._scopeFire("interactions:stop", { interaction: this }), this.interactable = this.element = null, this._interacting = false, this._stopped = true, this.prepared.name = this.prevEvent = null;
          } }, { key: "getPointerIndex", value: function(t3) {
            var e2 = at(t3);
            return "mouse" === this.pointerType || "pen" === this.pointerType ? this.pointers.length - 1 : yt(this.pointers, function(t4) {
              return t4.id === e2;
            });
          } }, { key: "getPointerInfo", value: function(t3) {
            return this.pointers[this.getPointerIndex(t3)];
          } }, { key: "updatePointer", value: function(t3, e2, n2, r2) {
            var i2, o2, a2, s2 = at(t3), c2 = this.getPointerIndex(t3), l2 = this.pointers[c2];
            return r2 = false !== r2 && (r2 || /(down|start)$/i.test(e2.type)), l2 ? l2.pointer = t3 : (l2 = new _e(s2, t3, e2, null, null), c2 = this.pointers.length, this.pointers.push(l2)), st(this.coords.cur, this.pointers.map(function(t4) {
              return t4.pointer;
            }), this._now()), i2 = this.coords.delta, o2 = this.coords.prev, a2 = this.coords.cur, i2.page.x = a2.page.x - o2.page.x, i2.page.y = a2.page.y - o2.page.y, i2.client.x = a2.client.x - o2.client.x, i2.client.y = a2.client.y - o2.client.y, i2.timeStamp = a2.timeStamp - o2.timeStamp, r2 && (this.pointerIsDown = true, l2.downTime = this.coords.cur.timeStamp, l2.downTarget = n2, tt(this.downPointer, t3), this.interacting() || (et(this.coords.start, this.coords.cur), et(this.coords.prev, this.coords.cur), this.downEvent = e2, this.pointerWasMoved = false)), this._updateLatestPointer(t3, e2, n2), this._scopeFire("interactions:update-pointer", { pointer: t3, event: e2, eventTarget: n2, down: r2, pointerInfo: l2, pointerIndex: c2, interaction: this }), c2;
          } }, { key: "removePointer", value: function(t3, e2) {
            var n2 = this.getPointerIndex(t3);
            if (-1 !== n2) {
              var r2 = this.pointers[n2];
              this._scopeFire("interactions:remove-pointer", { pointer: t3, event: e2, eventTarget: null, pointerIndex: n2, pointerInfo: r2, interaction: this }), this.pointers.splice(n2, 1), this.pointerIsDown = false;
            }
          } }, { key: "_updateLatestPointer", value: function(t3, e2, n2) {
            this._latestPointer.pointer = t3, this._latestPointer.event = e2, this._latestPointer.eventTarget = n2;
          } }, { key: "destroy", value: function() {
            this._latestPointer.pointer = null, this._latestPointer.event = null, this._latestPointer.eventTarget = null;
          } }, { key: "_createPreparedEvent", value: function(t3, e2, n2, r2) {
            return new Se(this, t3, this.prepared.name, e2, this.element, n2, r2);
          } }, { key: "_fireEvent", value: function(t3) {
            var e2;
            null == (e2 = this.interactable) || e2.fire(t3), (!this.prevEvent || t3.timeStamp >= this.prevEvent.timeStamp) && (this.prevEvent = t3);
          } }, { key: "_doPhase", value: function(t3) {
            var e2 = t3.event, n2 = t3.phase, r2 = t3.preEnd, i2 = t3.type, o2 = this.rect;
            if (o2 && "move" === n2 && (H(this.edges, o2, this.coords.delta[this.interactable.options.deltaSource]), o2.width = o2.right - o2.left, o2.height = o2.bottom - o2.top), false === this._scopeFire("interactions:before-action-".concat(n2), t3)) return false;
            var a2 = t3.iEvent = this._createPreparedEvent(e2, n2, r2, i2);
            return this._scopeFire("interactions:action-".concat(n2), t3), "start" === n2 && (this.prevEvent = a2), this._fireEvent(a2), this._scopeFire("interactions:after-action-".concat(n2), t3), true;
          } }, { key: "_now", value: function() {
            return Date.now();
          } }]), t2;
        }();
        function Ie(t2) {
          Me(t2.interaction);
        }
        function Me(t2) {
          if (!function(t3) {
            return !(!t3.offset.pending.x && !t3.offset.pending.y);
          }(t2)) return false;
          var e2 = t2.offset.pending;
          return Ae(t2.coords.cur, e2), Ae(t2.coords.delta, e2), H(t2.edges, t2.rect, e2), e2.x = 0, e2.y = 0, true;
        }
        function ze(t2) {
          var e2 = t2.x, n2 = t2.y;
          this.offset.pending.x += e2, this.offset.pending.y += n2, this.offset.total.x += e2, this.offset.total.y += n2;
        }
        function Ae(t2, e2) {
          var n2 = t2.page, r2 = t2.client, i2 = e2.x, o2 = e2.y;
          n2.x += i2, n2.y += o2, r2.x += i2, r2.y += o2;
        }
        Oe.offsetBy = "";
        var Re = { id: "offset", before: ["modifiers", "pointer-events", "actions", "inertia"], install: function(t2) {
          t2.Interaction.prototype.offsetBy = ze;
        }, listeners: { "interactions:new": function(t2) {
          t2.interaction.offset = { total: { x: 0, y: 0 }, pending: { x: 0, y: 0 } };
        }, "interactions:update-pointer": function(t2) {
          return function(t3) {
            t3.pointerIsDown && (Ae(t3.coords.cur, t3.offset.total), t3.offset.pending.x = 0, t3.offset.pending.y = 0);
          }(t2.interaction);
        }, "interactions:before-action-start": Ie, "interactions:before-action-move": Ie, "interactions:before-action-end": function(t2) {
          var e2 = t2.interaction;
          if (Me(e2)) return e2.move({ offset: true }), e2.end(), false;
        }, "interactions:stop": function(t2) {
          var e2 = t2.interaction;
          e2.offset.total.x = 0, e2.offset.total.y = 0, e2.offset.pending.x = 0, e2.offset.pending.y = 0;
        } } }, Ce = Re;
        var je = function() {
          function t2(e2) {
            r(this, t2), this.active = false, this.isModified = false, this.smoothEnd = false, this.allowResume = false, this.modification = void 0, this.modifierCount = 0, this.modifierArg = void 0, this.startCoords = void 0, this.t0 = 0, this.v0 = 0, this.te = 0, this.targetOffset = void 0, this.modifiedOffset = void 0, this.currentOffset = void 0, this.lambda_v0 = 0, this.one_ve_v0 = 0, this.timeout = void 0, this.interaction = void 0, this.interaction = e2;
          }
          return o(t2, [{ key: "start", value: function(t3) {
            var e2 = this.interaction, n2 = Fe(e2);
            if (!n2 || !n2.enabled) return false;
            var r2 = e2.coords.velocity.client, i2 = Q(r2.x, r2.y), o2 = this.modification || (this.modification = new me(e2));
            if (o2.copyFrom(e2.modification), this.t0 = e2._now(), this.allowResume = n2.allowResume, this.v0 = i2, this.currentOffset = { x: 0, y: 0 }, this.startCoords = e2.coords.cur.page, this.modifierArg = o2.fillArg({ pageCoords: this.startCoords, preEnd: true, phase: "inertiastart" }), this.t0 - e2.coords.cur.timeStamp < 50 && i2 > n2.minSpeed && i2 > n2.endSpeed) this.startInertia();
            else {
              if (o2.result = o2.setAll(this.modifierArg), !o2.result.changed) return false;
              this.startSmoothEnd();
            }
            return e2.modification.result.rect = null, e2.offsetBy(this.targetOffset), e2._doPhase({ interaction: e2, event: t3, phase: "inertiastart" }), e2.offsetBy({ x: -this.targetOffset.x, y: -this.targetOffset.y }), e2.modification.result.rect = null, this.active = true, e2.simulation = this, true;
          } }, { key: "startInertia", value: function() {
            var t3 = this, e2 = this.interaction.coords.velocity.client, n2 = Fe(this.interaction), r2 = n2.resistance, i2 = -Math.log(n2.endSpeed / this.v0) / r2;
            this.targetOffset = { x: (e2.x - i2) / r2, y: (e2.y - i2) / r2 }, this.te = i2, this.lambda_v0 = r2 / this.v0, this.one_ve_v0 = 1 - n2.endSpeed / this.v0;
            var o2 = this.modification, a2 = this.modifierArg;
            a2.pageCoords = { x: this.startCoords.x + this.targetOffset.x, y: this.startCoords.y + this.targetOffset.y }, o2.result = o2.setAll(a2), o2.result.changed && (this.isModified = true, this.modifiedOffset = { x: this.targetOffset.x + o2.result.delta.x, y: this.targetOffset.y + o2.result.delta.y }), this.onNextFrame(function() {
              return t3.inertiaTick();
            });
          } }, { key: "startSmoothEnd", value: function() {
            var t3 = this;
            this.smoothEnd = true, this.isModified = true, this.targetOffset = { x: this.modification.result.delta.x, y: this.modification.result.delta.y }, this.onNextFrame(function() {
              return t3.smoothEndTick();
            });
          } }, { key: "onNextFrame", value: function(t3) {
            var e2 = this;
            this.timeout = Lt.request(function() {
              e2.active && t3();
            });
          } }, { key: "inertiaTick", value: function() {
            var t3, e2, n2, r2, i2, o2, a2, s2 = this, c2 = this.interaction, l2 = Fe(c2).resistance, u2 = (c2._now() - this.t0) / 1e3;
            if (u2 < this.te) {
              var p2, f2 = 1 - (Math.exp(-l2 * u2) - this.lambda_v0) / this.one_ve_v0;
              this.isModified ? (t3 = 0, e2 = 0, n2 = this.targetOffset.x, r2 = this.targetOffset.y, i2 = this.modifiedOffset.x, o2 = this.modifiedOffset.y, p2 = { x: Ye(a2 = f2, t3, n2, i2), y: Ye(a2, e2, r2, o2) }) : p2 = { x: this.targetOffset.x * f2, y: this.targetOffset.y * f2 };
              var d2 = { x: p2.x - this.currentOffset.x, y: p2.y - this.currentOffset.y };
              this.currentOffset.x += d2.x, this.currentOffset.y += d2.y, c2.offsetBy(d2), c2.move(), this.onNextFrame(function() {
                return s2.inertiaTick();
              });
            } else c2.offsetBy({ x: this.modifiedOffset.x - this.currentOffset.x, y: this.modifiedOffset.y - this.currentOffset.y }), this.end();
          } }, { key: "smoothEndTick", value: function() {
            var t3 = this, e2 = this.interaction, n2 = e2._now() - this.t0, r2 = Fe(e2).smoothEndDuration;
            if (n2 < r2) {
              var i2 = { x: Le(n2, 0, this.targetOffset.x, r2), y: Le(n2, 0, this.targetOffset.y, r2) }, o2 = { x: i2.x - this.currentOffset.x, y: i2.y - this.currentOffset.y };
              this.currentOffset.x += o2.x, this.currentOffset.y += o2.y, e2.offsetBy(o2), e2.move({ skipModifiers: this.modifierCount }), this.onNextFrame(function() {
                return t3.smoothEndTick();
              });
            } else e2.offsetBy({ x: this.targetOffset.x - this.currentOffset.x, y: this.targetOffset.y - this.currentOffset.y }), this.end();
          } }, { key: "resume", value: function(t3) {
            var e2 = t3.pointer, n2 = t3.event, r2 = t3.eventTarget, i2 = this.interaction;
            i2.offsetBy({ x: -this.currentOffset.x, y: -this.currentOffset.y }), i2.updatePointer(e2, n2, r2, true), i2._doPhase({ interaction: i2, event: n2, phase: "resume" }), et(i2.coords.prev, i2.coords.cur), this.stop();
          } }, { key: "end", value: function() {
            this.interaction.move(), this.interaction.end(), this.stop();
          } }, { key: "stop", value: function() {
            this.active = this.smoothEnd = false, this.interaction.simulation = null, Lt.cancel(this.timeout);
          } }]), t2;
        }();
        function Fe(t2) {
          var e2 = t2.interactable, n2 = t2.prepared;
          return e2 && e2.options && n2.name && e2.options[n2.name].inertia;
        }
        var Xe = { id: "inertia", before: ["modifiers", "actions"], install: function(t2) {
          var e2 = t2.defaults;
          t2.usePlugin(Ce), t2.usePlugin(Ee), t2.actions.phases.inertiastart = true, t2.actions.phases.resume = true, e2.perAction.inertia = { enabled: false, resistance: 10, minSpeed: 100, endSpeed: 10, allowResume: true, smoothEndDuration: 300 };
        }, listeners: { "interactions:new": function(t2) {
          var e2 = t2.interaction;
          e2.inertia = new je(e2);
        }, "interactions:before-action-end": function(t2) {
          var e2 = t2.interaction, n2 = t2.event;
          return (!e2._interacting || e2.simulation || !e2.inertia.start(n2)) && null;
        }, "interactions:down": function(t2) {
          var e2 = t2.interaction, n2 = t2.eventTarget, r2 = e2.inertia;
          if (r2.active) for (var i2 = n2; w.element(i2); ) {
            if (i2 === e2.element) {
              r2.resume(t2);
              break;
            }
            i2 = A(i2);
          }
        }, "interactions:stop": function(t2) {
          var e2 = t2.interaction.inertia;
          e2.active && e2.stop();
        }, "interactions:before-action-resume": function(t2) {
          var e2 = t2.interaction.modification;
          e2.stop(t2), e2.start(t2, t2.interaction.coords.cur.page), e2.applyToInteraction(t2);
        }, "interactions:before-action-inertiastart": function(t2) {
          return t2.interaction.modification.setAndApply(t2);
        }, "interactions:action-resume": xe, "interactions:action-inertiastart": xe, "interactions:after-action-inertiastart": function(t2) {
          return t2.interaction.modification.restoreInteractionCoords(t2);
        }, "interactions:after-action-resume": function(t2) {
          return t2.interaction.modification.restoreInteractionCoords(t2);
        } } };
        function Ye(t2, e2, n2, r2) {
          var i2 = 1 - t2;
          return i2 * i2 * e2 + 2 * i2 * t2 * n2 + t2 * t2 * r2;
        }
        function Le(t2, e2, n2, r2) {
          return -n2 * (t2 /= r2) * (t2 - 2) + e2;
        }
        var qe = Xe;
        function Be(t2, e2) {
          for (var n2 = 0; n2 < e2.length; n2++) {
            var r2 = e2[n2];
            if (t2.immediatePropagationStopped) break;
            r2(t2);
          }
        }
        var Ve = function() {
          function t2(e2) {
            r(this, t2), this.options = void 0, this.types = {}, this.propagationStopped = false, this.immediatePropagationStopped = false, this.global = void 0, this.options = V({}, e2 || {});
          }
          return o(t2, [{ key: "fire", value: function(t3) {
            var e2, n2 = this.global;
            (e2 = this.types[t3.type]) && Be(t3, e2), !t3.propagationStopped && n2 && (e2 = n2[t3.type]) && Be(t3, e2);
          } }, { key: "on", value: function(t3, e2) {
            var n2 = $(t3, e2);
            for (t3 in n2) this.types[t3] = gt(this.types[t3] || [], n2[t3]);
          } }, { key: "off", value: function(t3, e2) {
            var n2 = $(t3, e2);
            for (t3 in n2) {
              var r2 = this.types[t3];
              if (r2 && r2.length) for (var i2 = 0, o2 = n2[t3]; i2 < o2.length; i2++) {
                var a2 = o2[i2], s2 = r2.indexOf(a2);
                -1 !== s2 && r2.splice(s2, 1);
              }
            }
          } }, { key: "getRect", value: function(t3) {
            return null;
          } }]), t2;
        }();
        var We = function() {
          function t2(e2) {
            r(this, t2), this.currentTarget = void 0, this.originalEvent = void 0, this.type = void 0, this.originalEvent = e2, tt(this, e2);
          }
          return o(t2, [{ key: "preventOriginalDefault", value: function() {
            this.originalEvent.preventDefault();
          } }, { key: "stopPropagation", value: function() {
            this.originalEvent.stopPropagation();
          } }, { key: "stopImmediatePropagation", value: function() {
            this.originalEvent.stopImmediatePropagation();
          } }]), t2;
        }();
        function Ge(t2) {
          return w.object(t2) ? { capture: !!t2.capture, passive: !!t2.passive } : { capture: !!t2, passive: false };
        }
        function Ne(t2, e2) {
          return t2 === e2 || ("boolean" == typeof t2 ? !!e2.capture === t2 && false == !!e2.passive : !!t2.capture == !!e2.capture && !!t2.passive == !!e2.passive);
        }
        var Ue = { id: "events", install: function(t2) {
          var e2, n2 = [], r2 = {}, i2 = [], o2 = { add: a2, remove: s2, addDelegate: function(t3, e3, n3, o3, s3) {
            var u2 = Ge(s3);
            if (!r2[n3]) {
              r2[n3] = [];
              for (var p2 = 0; p2 < i2.length; p2++) {
                var f2 = i2[p2];
                a2(f2, n3, c2), a2(f2, n3, l2, true);
              }
            }
            var d2 = r2[n3], h2 = bt(d2, function(n4) {
              return n4.selector === t3 && n4.context === e3;
            });
            h2 || (h2 = { selector: t3, context: e3, listeners: [] }, d2.push(h2));
            h2.listeners.push({ func: o3, options: u2 });
          }, removeDelegate: function(t3, e3, n3, i3, o3) {
            var a3, u2 = Ge(o3), p2 = r2[n3], f2 = false;
            if (!p2) return;
            for (a3 = p2.length - 1; a3 >= 0; a3--) {
              var d2 = p2[a3];
              if (d2.selector === t3 && d2.context === e3) {
                for (var h2 = d2.listeners, v2 = h2.length - 1; v2 >= 0; v2--) {
                  var g2 = h2[v2];
                  if (g2.func === i3 && Ne(g2.options, u2)) {
                    h2.splice(v2, 1), h2.length || (p2.splice(a3, 1), s2(e3, n3, c2), s2(e3, n3, l2, true)), f2 = true;
                    break;
                  }
                }
                if (f2) break;
              }
            }
          }, delegateListener: c2, delegateUseCapture: l2, delegatedEvents: r2, documents: i2, targets: n2, supportsOptions: false, supportsPassive: false };
          function a2(t3, e3, r3, i3) {
            if (t3.addEventListener) {
              var a3 = Ge(i3), s3 = bt(n2, function(e4) {
                return e4.eventTarget === t3;
              });
              s3 || (s3 = { eventTarget: t3, events: {} }, n2.push(s3)), s3.events[e3] || (s3.events[e3] = []), bt(s3.events[e3], function(t4) {
                return t4.func === r3 && Ne(t4.options, a3);
              }) || (t3.addEventListener(e3, r3, o2.supportsOptions ? a3 : a3.capture), s3.events[e3].push({ func: r3, options: a3 }));
            }
          }
          function s2(t3, e3, r3, i3) {
            if (t3.addEventListener && t3.removeEventListener) {
              var a3 = yt(n2, function(e4) {
                return e4.eventTarget === t3;
              }), c3 = n2[a3];
              if (c3 && c3.events) if ("all" !== e3) {
                var l3 = false, u2 = c3.events[e3];
                if (u2) {
                  if ("all" === r3) {
                    for (var p2 = u2.length - 1; p2 >= 0; p2--) {
                      var f2 = u2[p2];
                      s2(t3, e3, f2.func, f2.options);
                    }
                    return;
                  }
                  for (var d2 = Ge(i3), h2 = 0; h2 < u2.length; h2++) {
                    var v2 = u2[h2];
                    if (v2.func === r3 && Ne(v2.options, d2)) {
                      t3.removeEventListener(e3, r3, o2.supportsOptions ? d2 : d2.capture), u2.splice(h2, 1), 0 === u2.length && (delete c3.events[e3], l3 = true);
                      break;
                    }
                  }
                }
                l3 && !Object.keys(c3.events).length && n2.splice(a3, 1);
              } else for (e3 in c3.events) c3.events.hasOwnProperty(e3) && s2(t3, e3, "all");
            }
          }
          function c2(t3, e3) {
            for (var n3 = Ge(e3), i3 = new We(t3), o3 = r2[t3.type], a3 = ht(t3)[0], s3 = a3; w.element(s3); ) {
              for (var c3 = 0; c3 < o3.length; c3++) {
                var l3 = o3[c3], u2 = l3.selector, p2 = l3.context;
                if (R(s3, u2) && M(p2, a3) && M(p2, s3)) {
                  var f2 = l3.listeners;
                  i3.currentTarget = s3;
                  for (var d2 = 0; d2 < f2.length; d2++) {
                    var h2 = f2[d2];
                    Ne(h2.options, n3) && h2.func(i3);
                  }
                }
              }
              s3 = A(s3);
            }
          }
          function l2(t3) {
            return c2(t3, true);
          }
          return null == (e2 = t2.document) || e2.createElement("div").addEventListener("test", null, { get capture() {
            return o2.supportsOptions = true;
          }, get passive() {
            return o2.supportsPassive = true;
          } }), t2.events = o2, o2;
        } }, He = { methodOrder: ["simulationResume", "mouseOrPen", "hasPointer", "idle"], search: function(t2) {
          for (var e2 = 0, n2 = He.methodOrder; e2 < n2.length; e2++) {
            var r2 = n2[e2], i2 = He[r2](t2);
            if (i2) return i2;
          }
          return null;
        }, simulationResume: function(t2) {
          var e2 = t2.pointerType, n2 = t2.eventType, r2 = t2.eventTarget, i2 = t2.scope;
          if (!/down|start/i.test(n2)) return null;
          for (var o2 = 0, a2 = i2.interactions.list; o2 < a2.length; o2++) {
            var s2 = a2[o2], c2 = r2;
            if (s2.simulation && s2.simulation.allowResume && s2.pointerType === e2) for (; c2; ) {
              if (c2 === s2.element) return s2;
              c2 = A(c2);
            }
          }
          return null;
        }, mouseOrPen: function(t2) {
          var e2, n2 = t2.pointerId, r2 = t2.pointerType, i2 = t2.eventType, o2 = t2.scope;
          if ("mouse" !== r2 && "pen" !== r2) return null;
          for (var a2 = 0, s2 = o2.interactions.list; a2 < s2.length; a2++) {
            var c2 = s2[a2];
            if (c2.pointerType === r2) {
              if (c2.simulation && !Ke(c2, n2)) continue;
              if (c2.interacting()) return c2;
              e2 || (e2 = c2);
            }
          }
          if (e2) return e2;
          for (var l2 = 0, u2 = o2.interactions.list; l2 < u2.length; l2++) {
            var p2 = u2[l2];
            if (!(p2.pointerType !== r2 || /down/i.test(i2) && p2.simulation)) return p2;
          }
          return null;
        }, hasPointer: function(t2) {
          for (var e2 = t2.pointerId, n2 = 0, r2 = t2.scope.interactions.list; n2 < r2.length; n2++) {
            var i2 = r2[n2];
            if (Ke(i2, e2)) return i2;
          }
          return null;
        }, idle: function(t2) {
          for (var e2 = t2.pointerType, n2 = 0, r2 = t2.scope.interactions.list; n2 < r2.length; n2++) {
            var i2 = r2[n2];
            if (1 === i2.pointers.length) {
              var o2 = i2.interactable;
              if (o2 && (!o2.options.gesture || !o2.options.gesture.enabled)) continue;
            } else if (i2.pointers.length >= 2) continue;
            if (!i2.interacting() && e2 === i2.pointerType) return i2;
          }
          return null;
        } };
        function Ke(t2, e2) {
          return t2.pointers.some(function(t3) {
            return t3.id === e2;
          });
        }
        var $e = He, Je = ["pointerDown", "pointerMove", "pointerUp", "updatePointer", "removePointer", "windowBlur"];
        function Qe(t2, e2) {
          return function(n2) {
            var r2 = e2.interactions.list, i2 = dt(n2), o2 = ht(n2), a2 = o2[0], s2 = o2[1], c2 = [];
            if (/^touch/.test(n2.type)) {
              e2.prevTouchTime = e2.now();
              for (var l2 = 0, u2 = n2.changedTouches; l2 < u2.length; l2++) {
                var p2 = u2[l2], f2 = { pointer: p2, pointerId: at(p2), pointerType: i2, eventType: n2.type, eventTarget: a2, curEventTarget: s2, scope: e2 }, d2 = Ze(f2);
                c2.push([f2.pointer, f2.eventTarget, f2.curEventTarget, d2]);
              }
            } else {
              var h2 = false;
              if (!I.supportsPointerEvent && /mouse/.test(n2.type)) {
                for (var v2 = 0; v2 < r2.length && !h2; v2++) h2 = "mouse" !== r2[v2].pointerType && r2[v2].pointerIsDown;
                h2 = h2 || e2.now() - e2.prevTouchTime < 500 || 0 === n2.timeStamp;
              }
              if (!h2) {
                var g2 = { pointer: n2, pointerId: at(n2), pointerType: i2, eventType: n2.type, curEventTarget: s2, eventTarget: a2, scope: e2 }, m2 = Ze(g2);
                c2.push([g2.pointer, g2.eventTarget, g2.curEventTarget, m2]);
              }
            }
            for (var y2 = 0; y2 < c2.length; y2++) {
              var b2 = c2[y2], x2 = b2[0], w2 = b2[1], E2 = b2[2];
              b2[3][t2](x2, n2, w2, E2);
            }
          };
        }
        function Ze(t2) {
          var e2 = t2.pointerType, n2 = t2.scope, r2 = { interaction: $e.search(t2), searchDetails: t2 };
          return n2.fire("interactions:find", r2), r2.interaction || n2.interactions.new({ pointerType: e2 });
        }
        function tn(t2, e2) {
          var n2 = t2.doc, r2 = t2.scope, i2 = t2.options, o2 = r2.interactions.docEvents, a2 = r2.events, s2 = a2[e2];
          for (var c2 in r2.browser.isIOS && !i2.events && (i2.events = { passive: false }), a2.delegatedEvents) s2(n2, c2, a2.delegateListener), s2(n2, c2, a2.delegateUseCapture, true);
          for (var l2 = i2 && i2.events, u2 = 0; u2 < o2.length; u2++) {
            var p2 = o2[u2];
            s2(n2, p2.type, p2.listener, l2);
          }
        }
        var en = { id: "core/interactions", install: function(t2) {
          for (var e2 = {}, n2 = 0; n2 < Je.length; n2++) {
            var i2 = Je[n2];
            e2[i2] = Qe(i2, t2);
          }
          var a2, c2 = I.pEventTypes;
          function l2() {
            for (var e3 = 0, n3 = t2.interactions.list; e3 < n3.length; e3++) {
              var r2 = n3[e3];
              if (r2.pointerIsDown && "touch" === r2.pointerType && !r2._interacting) for (var i3 = function() {
                var e4 = a3[o2];
                t2.documents.some(function(t3) {
                  return M(t3.doc, e4.downTarget);
                }) || r2.removePointer(e4.pointer, e4.event);
              }, o2 = 0, a3 = r2.pointers; o2 < a3.length; o2++) i3();
            }
          }
          (a2 = k.PointerEvent ? [{ type: c2.down, listener: l2 }, { type: c2.down, listener: e2.pointerDown }, { type: c2.move, listener: e2.pointerMove }, { type: c2.up, listener: e2.pointerUp }, { type: c2.cancel, listener: e2.pointerUp }] : [{ type: "mousedown", listener: e2.pointerDown }, { type: "mousemove", listener: e2.pointerMove }, { type: "mouseup", listener: e2.pointerUp }, { type: "touchstart", listener: l2 }, { type: "touchstart", listener: e2.pointerDown }, { type: "touchmove", listener: e2.pointerMove }, { type: "touchend", listener: e2.pointerUp }, { type: "touchcancel", listener: e2.pointerUp }]).push({ type: "blur", listener: function(e3) {
            for (var n3 = 0, r2 = t2.interactions.list; n3 < r2.length; n3++) {
              r2[n3].documentBlur(e3);
            }
          } }), t2.prevTouchTime = 0, t2.Interaction = function(e3) {
            s(i3, e3);
            var n3 = p(i3);
            function i3() {
              return r(this, i3), n3.apply(this, arguments);
            }
            return o(i3, [{ key: "pointerMoveTolerance", get: function() {
              return t2.interactions.pointerMoveTolerance;
            }, set: function(e4) {
              t2.interactions.pointerMoveTolerance = e4;
            } }, { key: "_now", value: function() {
              return t2.now();
            } }]), i3;
          }(De), t2.interactions = { list: [], new: function(e3) {
            e3.scopeFire = function(e4, n4) {
              return t2.fire(e4, n4);
            };
            var n3 = new t2.Interaction(e3);
            return t2.interactions.list.push(n3), n3;
          }, listeners: e2, docEvents: a2, pointerMoveTolerance: 1 }, t2.usePlugin(he);
        }, listeners: { "scope:add-document": function(t2) {
          return tn(t2, "add");
        }, "scope:remove-document": function(t2) {
          return tn(t2, "remove");
        }, "interactable:unset": function(t2, e2) {
          for (var n2 = t2.interactable, r2 = e2.interactions.list.length - 1; r2 >= 0; r2--) {
            var i2 = e2.interactions.list[r2];
            i2.interactable === n2 && (i2.stop(), e2.fire("interactions:destroy", { interaction: i2 }), i2.destroy(), e2.interactions.list.length > 2 && e2.interactions.list.splice(r2, 1));
          }
        } }, onDocSignal: tn, doOnInteractions: Qe, methodNames: Je }, nn = en, rn = function(t2) {
          return t2[t2.On = 0] = "On", t2[t2.Off = 1] = "Off", t2;
        }(rn || {}), on = function() {
          function t2(e2, n2, i2, o2) {
            r(this, t2), this.target = void 0, this.options = void 0, this._actions = void 0, this.events = new Ve(), this._context = void 0, this._win = void 0, this._doc = void 0, this._scopeEvents = void 0, this._actions = n2.actions, this.target = e2, this._context = n2.context || i2, this._win = y(B(e2) ? this._context : e2), this._doc = this._win.document, this._scopeEvents = o2, this.set(n2);
          }
          return o(t2, [{ key: "_defaults", get: function() {
            return { base: {}, perAction: {}, actions: {} };
          } }, { key: "setOnEvents", value: function(t3, e2) {
            return w.func(e2.onstart) && this.on("".concat(t3, "start"), e2.onstart), w.func(e2.onmove) && this.on("".concat(t3, "move"), e2.onmove), w.func(e2.onend) && this.on("".concat(t3, "end"), e2.onend), w.func(e2.oninertiastart) && this.on("".concat(t3, "inertiastart"), e2.oninertiastart), this;
          } }, { key: "updatePerActionListeners", value: function(t3, e2, n2) {
            var r2, i2 = this, o2 = null == (r2 = this._actions.map[t3]) ? void 0 : r2.filterEventType, a2 = function(t4) {
              return (null == o2 || o2(t4)) && ve(t4, i2._actions);
            };
            (w.array(e2) || w.object(e2)) && this._onOff(rn.Off, t3, e2, void 0, a2), (w.array(n2) || w.object(n2)) && this._onOff(rn.On, t3, n2, void 0, a2);
          } }, { key: "setPerAction", value: function(t3, e2) {
            var n2 = this._defaults;
            for (var r2 in e2) {
              var i2 = r2, o2 = this.options[t3], a2 = e2[i2];
              "listeners" === i2 && this.updatePerActionListeners(t3, o2.listeners, a2), w.array(a2) ? o2[i2] = mt(a2) : w.plainObject(a2) ? (o2[i2] = V(o2[i2] || {}, ge(a2)), w.object(n2.perAction[i2]) && "enabled" in n2.perAction[i2] && (o2[i2].enabled = false !== a2.enabled)) : w.bool(a2) && w.object(n2.perAction[i2]) ? o2[i2].enabled = a2 : o2[i2] = a2;
            }
          } }, { key: "getRect", value: function(t3) {
            return t3 = t3 || (w.element(this.target) ? this.target : null), w.string(this.target) && (t3 = t3 || this._context.querySelector(this.target)), L(t3);
          } }, { key: "rectChecker", value: function(t3) {
            var e2 = this;
            return w.func(t3) ? (this.getRect = function(n2) {
              var r2 = V({}, t3.apply(e2, n2));
              return "width" in r2 || (r2.width = r2.right - r2.left, r2.height = r2.bottom - r2.top), r2;
            }, this) : null === t3 ? (delete this.getRect, this) : this.getRect;
          } }, { key: "_backCompatOption", value: function(t3, e2) {
            if (B(e2) || w.object(e2)) {
              for (var n2 in this.options[t3] = e2, this._actions.map) this.options[n2][t3] = e2;
              return this;
            }
            return this.options[t3];
          } }, { key: "origin", value: function(t3) {
            return this._backCompatOption("origin", t3);
          } }, { key: "deltaSource", value: function(t3) {
            return "page" === t3 || "client" === t3 ? (this.options.deltaSource = t3, this) : this.options.deltaSource;
          } }, { key: "getAllElements", value: function() {
            var t3 = this.target;
            return w.string(t3) ? Array.from(this._context.querySelectorAll(t3)) : w.func(t3) && t3.getAllElements ? t3.getAllElements() : w.element(t3) ? [t3] : [];
          } }, { key: "context", value: function() {
            return this._context;
          } }, { key: "inContext", value: function(t3) {
            return this._context === t3.ownerDocument || M(this._context, t3);
          } }, { key: "testIgnoreAllow", value: function(t3, e2, n2) {
            return !this.testIgnore(t3.ignoreFrom, e2, n2) && this.testAllow(t3.allowFrom, e2, n2);
          } }, { key: "testAllow", value: function(t3, e2, n2) {
            return !t3 || !!w.element(n2) && (w.string(t3) ? F(n2, t3, e2) : !!w.element(t3) && M(t3, n2));
          } }, { key: "testIgnore", value: function(t3, e2, n2) {
            return !(!t3 || !w.element(n2)) && (w.string(t3) ? F(n2, t3, e2) : !!w.element(t3) && M(t3, n2));
          } }, { key: "fire", value: function(t3) {
            return this.events.fire(t3), this;
          } }, { key: "_onOff", value: function(t3, e2, n2, r2, i2) {
            w.object(e2) && !w.array(e2) && (r2 = n2, n2 = null);
            var o2 = $(e2, n2, i2);
            for (var a2 in o2) {
              "wheel" === a2 && (a2 = I.wheelEvent);
              for (var s2 = 0, c2 = o2[a2]; s2 < c2.length; s2++) {
                var l2 = c2[s2];
                ve(a2, this._actions) ? this.events[t3 === rn.On ? "on" : "off"](a2, l2) : w.string(this.target) ? this._scopeEvents[t3 === rn.On ? "addDelegate" : "removeDelegate"](this.target, this._context, a2, l2, r2) : this._scopeEvents[t3 === rn.On ? "add" : "remove"](this.target, a2, l2, r2);
              }
            }
            return this;
          } }, { key: "on", value: function(t3, e2, n2) {
            return this._onOff(rn.On, t3, e2, n2);
          } }, { key: "off", value: function(t3, e2, n2) {
            return this._onOff(rn.Off, t3, e2, n2);
          } }, { key: "set", value: function(t3) {
            var e2 = this._defaults;
            for (var n2 in w.object(t3) || (t3 = {}), this.options = ge(e2.base), this._actions.methodDict) {
              var r2 = n2, i2 = this._actions.methodDict[r2];
              this.options[r2] = {}, this.setPerAction(r2, V(V({}, e2.perAction), e2.actions[r2])), this[i2](t3[r2]);
            }
            for (var o2 in t3) "getRect" !== o2 ? w.func(this[o2]) && this[o2](t3[o2]) : this.rectChecker(t3.getRect);
            return this;
          } }, { key: "unset", value: function() {
            if (w.string(this.target)) for (var t3 in this._scopeEvents.delegatedEvents) for (var e2 = this._scopeEvents.delegatedEvents[t3], n2 = e2.length - 1; n2 >= 0; n2--) {
              var r2 = e2[n2], i2 = r2.selector, o2 = r2.context, a2 = r2.listeners;
              i2 === this.target && o2 === this._context && e2.splice(n2, 1);
              for (var s2 = a2.length - 1; s2 >= 0; s2--) this._scopeEvents.removeDelegate(this.target, this._context, t3, a2[s2][0], a2[s2][1]);
            }
            else this._scopeEvents.remove(this.target, "all");
          } }]), t2;
        }(), an = function() {
          function t2(e2) {
            var n2 = this;
            r(this, t2), this.list = [], this.selectorMap = {}, this.scope = void 0, this.scope = e2, e2.addListeners({ "interactable:unset": function(t3) {
              var e3 = t3.interactable, r2 = e3.target, i2 = w.string(r2) ? n2.selectorMap[r2] : r2[n2.scope.id], o2 = yt(i2, function(t4) {
                return t4 === e3;
              });
              i2.splice(o2, 1);
            } });
          }
          return o(t2, [{ key: "new", value: function(t3, e2) {
            e2 = V(e2 || {}, { actions: this.scope.actions });
            var n2 = new this.scope.Interactable(t3, e2, this.scope.document, this.scope.events);
            return this.scope.addDocument(n2._doc), this.list.push(n2), w.string(t3) ? (this.selectorMap[t3] || (this.selectorMap[t3] = []), this.selectorMap[t3].push(n2)) : (n2.target[this.scope.id] || Object.defineProperty(t3, this.scope.id, { value: [], configurable: true }), t3[this.scope.id].push(n2)), this.scope.fire("interactable:new", { target: t3, options: e2, interactable: n2, win: this.scope._win }), n2;
          } }, { key: "getExisting", value: function(t3, e2) {
            var n2 = e2 && e2.context || this.scope.document, r2 = w.string(t3), i2 = r2 ? this.selectorMap[t3] : t3[this.scope.id];
            if (i2) return bt(i2, function(e3) {
              return e3._context === n2 && (r2 || e3.inContext(t3));
            });
          } }, { key: "forEachMatch", value: function(t3, e2) {
            for (var n2 = 0, r2 = this.list; n2 < r2.length; n2++) {
              var i2 = r2[n2], o2 = void 0;
              if ((w.string(i2.target) ? w.element(t3) && R(t3, i2.target) : t3 === i2.target) && i2.inContext(t3) && (o2 = e2(i2)), void 0 !== o2) return o2;
            }
          } }]), t2;
        }();
        var sn = function() {
          function t2() {
            var e2 = this;
            r(this, t2), this.id = "__interact_scope_".concat(Math.floor(100 * Math.random())), this.isInitialized = false, this.listenerMaps = [], this.browser = I, this.defaults = ge(Te), this.Eventable = Ve, this.actions = { map: {}, phases: { start: true, move: true, end: true }, methodDict: {}, phaselessTypes: {} }, this.interactStatic = function(t3) {
              var e3 = function e4(n3, r2) {
                var i2 = t3.interactables.getExisting(n3, r2);
                return i2 || ((i2 = t3.interactables.new(n3, r2)).events.global = e4.globalEvents), i2;
              };
              return e3.getPointerAverage = lt, e3.getTouchBBox = ut, e3.getTouchDistance = pt, e3.getTouchAngle = ft, e3.getElementRect = L, e3.getElementClientRect = Y, e3.matchesSelector = R, e3.closest = z, e3.globalEvents = {}, e3.version = "1.10.27", e3.scope = t3, e3.use = function(t4, e4) {
                return this.scope.usePlugin(t4, e4), this;
              }, e3.isSet = function(t4, e4) {
                return !!this.scope.interactables.get(t4, e4 && e4.context);
              }, e3.on = Nt(function(t4, e4, n3) {
                if (w.string(t4) && -1 !== t4.search(" ") && (t4 = t4.trim().split(/ +/)), w.array(t4)) {
                  for (var r2 = 0, i2 = t4; r2 < i2.length; r2++) {
                    var o2 = i2[r2];
                    this.on(o2, e4, n3);
                  }
                  return this;
                }
                if (w.object(t4)) {
                  for (var a2 in t4) this.on(a2, t4[a2], e4);
                  return this;
                }
                return ve(t4, this.scope.actions) ? this.globalEvents[t4] ? this.globalEvents[t4].push(e4) : this.globalEvents[t4] = [e4] : this.scope.events.add(this.scope.document, t4, e4, { options: n3 }), this;
              }, "The interact.on() method is being deprecated"), e3.off = Nt(function(t4, e4, n3) {
                if (w.string(t4) && -1 !== t4.search(" ") && (t4 = t4.trim().split(/ +/)), w.array(t4)) {
                  for (var r2 = 0, i2 = t4; r2 < i2.length; r2++) {
                    var o2 = i2[r2];
                    this.off(o2, e4, n3);
                  }
                  return this;
                }
                if (w.object(t4)) {
                  for (var a2 in t4) this.off(a2, t4[a2], e4);
                  return this;
                }
                var s2;
                return ve(t4, this.scope.actions) ? t4 in this.globalEvents && -1 !== (s2 = this.globalEvents[t4].indexOf(e4)) && this.globalEvents[t4].splice(s2, 1) : this.scope.events.remove(this.scope.document, t4, e4, n3), this;
              }, "The interact.off() method is being deprecated"), e3.debug = function() {
                return this.scope;
              }, e3.supportsTouch = function() {
                return I.supportsTouch;
              }, e3.supportsPointerEvent = function() {
                return I.supportsPointerEvent;
              }, e3.stop = function() {
                for (var t4 = 0, e4 = this.scope.interactions.list; t4 < e4.length; t4++) e4[t4].stop();
                return this;
              }, e3.pointerMoveTolerance = function(t4) {
                return w.number(t4) ? (this.scope.interactions.pointerMoveTolerance = t4, this) : this.scope.interactions.pointerMoveTolerance;
              }, e3.addDocument = function(t4, e4) {
                this.scope.addDocument(t4, e4);
              }, e3.removeDocument = function(t4) {
                this.scope.removeDocument(t4);
              }, e3;
            }(this), this.InteractEvent = Se, this.Interactable = void 0, this.interactables = new an(this), this._win = void 0, this.document = void 0, this.window = void 0, this.documents = [], this._plugins = { list: [], map: {} }, this.onWindowUnload = function(t3) {
              return e2.removeDocument(t3.target);
            };
            var n2 = this;
            this.Interactable = function(t3) {
              s(i2, t3);
              var e3 = p(i2);
              function i2() {
                return r(this, i2), e3.apply(this, arguments);
              }
              return o(i2, [{ key: "_defaults", get: function() {
                return n2.defaults;
              } }, { key: "set", value: function(t4) {
                return f(c(i2.prototype), "set", this).call(this, t4), n2.fire("interactable:set", { options: t4, interactable: this }), this;
              } }, { key: "unset", value: function() {
                f(c(i2.prototype), "unset", this).call(this);
                var t4 = n2.interactables.list.indexOf(this);
                t4 < 0 || (n2.interactables.list.splice(t4, 1), n2.fire("interactable:unset", { interactable: this }));
              } }]), i2;
            }(on);
          }
          return o(t2, [{ key: "addListeners", value: function(t3, e2) {
            this.listenerMaps.push({ id: e2, map: t3 });
          } }, { key: "fire", value: function(t3, e2) {
            for (var n2 = 0, r2 = this.listenerMaps; n2 < r2.length; n2++) {
              var i2 = r2[n2].map[t3];
              if (i2 && false === i2(e2, this, t3)) return false;
            }
          } }, { key: "init", value: function(t3) {
            return this.isInitialized ? this : function(t4, e2) {
              t4.isInitialized = true, w.window(e2) && m(e2);
              return k.init(e2), I.init(e2), Lt.init(e2), t4.window = e2, t4.document = e2.document, t4.usePlugin(nn), t4.usePlugin(Ue), t4;
            }(this, t3);
          } }, { key: "pluginIsInstalled", value: function(t3) {
            var e2 = t3.id;
            return e2 ? !!this._plugins.map[e2] : -1 !== this._plugins.list.indexOf(t3);
          } }, { key: "usePlugin", value: function(t3, e2) {
            if (!this.isInitialized) return this;
            if (this.pluginIsInstalled(t3)) return this;
            if (t3.id && (this._plugins.map[t3.id] = t3), this._plugins.list.push(t3), t3.install && t3.install(this, e2), t3.listeners && t3.before) {
              for (var n2 = 0, r2 = this.listenerMaps.length, i2 = t3.before.reduce(function(t4, e3) {
                return t4[e3] = true, t4[cn(e3)] = true, t4;
              }, {}); n2 < r2; n2++) {
                var o2 = this.listenerMaps[n2].id;
                if (o2 && (i2[o2] || i2[cn(o2)])) break;
              }
              this.listenerMaps.splice(n2, 0, { id: t3.id, map: t3.listeners });
            } else t3.listeners && this.listenerMaps.push({ id: t3.id, map: t3.listeners });
            return this;
          } }, { key: "addDocument", value: function(t3, e2) {
            if (-1 !== this.getDocIndex(t3)) return false;
            var n2 = y(t3);
            e2 = e2 ? V({}, e2) : {}, this.documents.push({ doc: t3, options: e2 }), this.events.documents.push(t3), t3 !== this.document && this.events.add(n2, "unload", this.onWindowUnload), this.fire("scope:add-document", { doc: t3, window: n2, scope: this, options: e2 });
          } }, { key: "removeDocument", value: function(t3) {
            var e2 = this.getDocIndex(t3), n2 = y(t3), r2 = this.documents[e2].options;
            this.events.remove(n2, "unload", this.onWindowUnload), this.documents.splice(e2, 1), this.events.documents.splice(e2, 1), this.fire("scope:remove-document", { doc: t3, window: n2, scope: this, options: r2 });
          } }, { key: "getDocIndex", value: function(t3) {
            for (var e2 = 0; e2 < this.documents.length; e2++) if (this.documents[e2].doc === t3) return e2;
            return -1;
          } }, { key: "getDocOptions", value: function(t3) {
            var e2 = this.getDocIndex(t3);
            return -1 === e2 ? null : this.documents[e2].options;
          } }, { key: "now", value: function() {
            return (this.window.Date || Date).now();
          } }]), t2;
        }();
        function cn(t2) {
          return t2 && t2.replace(/\/.*$/, "");
        }
        var ln = new sn(), un = ln.interactStatic, pn = "undefined" != typeof globalThis ? globalThis : window;
        ln.init(pn);
        var fn = Object.freeze({ __proto__: null, edgeTarget: function() {
        }, elements: function() {
        }, grid: function(t2) {
          var e2 = [["x", "y"], ["left", "top"], ["right", "bottom"], ["width", "height"]].filter(function(e3) {
            var n3 = e3[0], r2 = e3[1];
            return n3 in t2 || r2 in t2;
          }), n2 = function(n3, r2) {
            for (var i2 = t2.range, o2 = t2.limits, a2 = void 0 === o2 ? { left: -1 / 0, right: 1 / 0, top: -1 / 0, bottom: 1 / 0 } : o2, s2 = t2.offset, c2 = void 0 === s2 ? { x: 0, y: 0 } : s2, l2 = { range: i2, grid: t2, x: null, y: null }, u2 = 0; u2 < e2.length; u2++) {
              var p2 = e2[u2], f2 = p2[0], d2 = p2[1], h2 = Math.round((n3 - c2.x) / t2[f2]), v2 = Math.round((r2 - c2.y) / t2[d2]);
              l2[f2] = Math.max(a2.left, Math.min(a2.right, h2 * t2[f2] + c2.x)), l2[d2] = Math.max(a2.top, Math.min(a2.bottom, v2 * t2[d2] + c2.y));
            }
            return l2;
          };
          return n2.grid = t2, n2.coordFields = e2, n2;
        } }), dn = { id: "snappers", install: function(t2) {
          var e2 = t2.interactStatic;
          e2.snappers = V(e2.snappers || {}, fn), e2.createSnapGrid = e2.snappers.grid;
        } }, hn = dn, vn = { start: function(t2) {
          var n2 = t2.state, r2 = t2.rect, i2 = t2.edges, o2 = t2.pageCoords, a2 = n2.options, s2 = a2.ratio, c2 = a2.enabled, l2 = n2.options, u2 = l2.equalDelta, p2 = l2.modifiers;
          "preserve" === s2 && (s2 = r2.width / r2.height), n2.startCoords = V({}, o2), n2.startRect = V({}, r2), n2.ratio = s2, n2.equalDelta = u2;
          var f2 = n2.linkedEdges = { top: i2.top || i2.left && !i2.bottom, left: i2.left || i2.top && !i2.right, bottom: i2.bottom || i2.right && !i2.top, right: i2.right || i2.bottom && !i2.left };
          if (n2.xIsPrimaryAxis = !(!i2.left && !i2.right), n2.equalDelta) {
            var d2 = (f2.left ? 1 : -1) * (f2.top ? 1 : -1);
            n2.edgeSign = { x: d2, y: d2 };
          } else n2.edgeSign = { x: f2.left ? -1 : 1, y: f2.top ? -1 : 1 };
          if (false !== c2 && V(i2, f2), null != p2 && p2.length) {
            var h2 = new me(t2.interaction);
            h2.copyFrom(t2.interaction.modification), h2.prepareStates(p2), n2.subModification = h2, h2.startAll(e({}, t2));
          }
        }, set: function(t2) {
          var n2 = t2.state, r2 = t2.rect, i2 = t2.coords, o2 = n2.linkedEdges, a2 = V({}, i2), s2 = n2.equalDelta ? gn : mn;
          if (V(t2.edges, o2), s2(n2, n2.xIsPrimaryAxis, i2, r2), !n2.subModification) return null;
          var c2 = V({}, r2);
          H(o2, c2, { x: i2.x - a2.x, y: i2.y - a2.y });
          var l2 = n2.subModification.setAll(e(e({}, t2), {}, { rect: c2, edges: o2, pageCoords: i2, prevCoords: i2, prevRect: c2 })), u2 = l2.delta;
          l2.changed && (s2(n2, Math.abs(u2.x) > Math.abs(u2.y), l2.coords, l2.rect), V(i2, l2.coords));
          return l2.eventProps;
        }, defaults: { ratio: "preserve", equalDelta: false, modifiers: [], enabled: false } };
        function gn(t2, e2, n2) {
          var r2 = t2.startCoords, i2 = t2.edgeSign;
          e2 ? n2.y = r2.y + (n2.x - r2.x) * i2.y : n2.x = r2.x + (n2.y - r2.y) * i2.x;
        }
        function mn(t2, e2, n2, r2) {
          var i2 = t2.startRect, o2 = t2.startCoords, a2 = t2.ratio, s2 = t2.edgeSign;
          if (e2) {
            var c2 = r2.width / a2;
            n2.y = o2.y + (c2 - i2.height) * s2.y;
          } else {
            var l2 = r2.height * a2;
            n2.x = o2.x + (l2 - i2.width) * s2.x;
          }
        }
        var yn = be(vn, "aspectRatio"), bn = function() {
        };
        bn._defaults = {};
        var xn = bn;
        function wn(t2, e2, n2) {
          return w.func(t2) ? G(t2, e2.interactable, e2.element, [n2.x, n2.y, e2]) : G(t2, e2.interactable, e2.element);
        }
        var En = { start: function(t2) {
          var e2 = t2.rect, n2 = t2.startOffset, r2 = t2.state, i2 = t2.interaction, o2 = t2.pageCoords, a2 = r2.options, s2 = a2.elementRect, c2 = V({ left: 0, top: 0, right: 0, bottom: 0 }, a2.offset || {});
          if (e2 && s2) {
            var l2 = wn(a2.restriction, i2, o2);
            if (l2) {
              var u2 = l2.right - l2.left - e2.width, p2 = l2.bottom - l2.top - e2.height;
              u2 < 0 && (c2.left += u2, c2.right += u2), p2 < 0 && (c2.top += p2, c2.bottom += p2);
            }
            c2.left += n2.left - e2.width * s2.left, c2.top += n2.top - e2.height * s2.top, c2.right += n2.right - e2.width * (1 - s2.right), c2.bottom += n2.bottom - e2.height * (1 - s2.bottom);
          }
          r2.offset = c2;
        }, set: function(t2) {
          var e2 = t2.coords, n2 = t2.interaction, r2 = t2.state, i2 = r2.options, o2 = r2.offset, a2 = wn(i2.restriction, n2, e2);
          if (a2) {
            var s2 = function(t3) {
              return !t3 || "left" in t3 && "top" in t3 || ((t3 = V({}, t3)).left = t3.x || 0, t3.top = t3.y || 0, t3.right = t3.right || t3.left + t3.width, t3.bottom = t3.bottom || t3.top + t3.height), t3;
            }(a2);
            e2.x = Math.max(Math.min(s2.right - o2.right, e2.x), s2.left + o2.left), e2.y = Math.max(Math.min(s2.bottom - o2.bottom, e2.y), s2.top + o2.top);
          }
        }, defaults: { restriction: null, elementRect: null, offset: null, endOnly: false, enabled: false } }, Tn = be(En, "restrict"), Sn = { top: 1 / 0, left: 1 / 0, bottom: -1 / 0, right: -1 / 0 }, _n = { top: -1 / 0, left: -1 / 0, bottom: 1 / 0, right: 1 / 0 };
        function Pn(t2, e2) {
          for (var n2 = 0, r2 = ["top", "left", "bottom", "right"]; n2 < r2.length; n2++) {
            var i2 = r2[n2];
            i2 in t2 || (t2[i2] = e2[i2]);
          }
          return t2;
        }
        var On = { noInner: Sn, noOuter: _n, start: function(t2) {
          var e2, n2 = t2.interaction, r2 = t2.startOffset, i2 = t2.state, o2 = i2.options;
          o2 && (e2 = N(wn(o2.offset, n2, n2.coords.start.page))), e2 = e2 || { x: 0, y: 0 }, i2.offset = { top: e2.y + r2.top, left: e2.x + r2.left, bottom: e2.y - r2.bottom, right: e2.x - r2.right };
        }, set: function(t2) {
          var e2 = t2.coords, n2 = t2.edges, r2 = t2.interaction, i2 = t2.state, o2 = i2.offset, a2 = i2.options;
          if (n2) {
            var s2 = V({}, e2), c2 = wn(a2.inner, r2, s2) || {}, l2 = wn(a2.outer, r2, s2) || {};
            Pn(c2, Sn), Pn(l2, _n), n2.top ? e2.y = Math.min(Math.max(l2.top + o2.top, s2.y), c2.top + o2.top) : n2.bottom && (e2.y = Math.max(Math.min(l2.bottom + o2.bottom, s2.y), c2.bottom + o2.bottom)), n2.left ? e2.x = Math.min(Math.max(l2.left + o2.left, s2.x), c2.left + o2.left) : n2.right && (e2.x = Math.max(Math.min(l2.right + o2.right, s2.x), c2.right + o2.right));
          }
        }, defaults: { inner: null, outer: null, offset: null, endOnly: false, enabled: false } }, kn = be(On, "restrictEdges"), Dn = V({ get elementRect() {
          return { top: 0, left: 0, bottom: 1, right: 1 };
        }, set elementRect(t2) {
        } }, En.defaults), In = be({ start: En.start, set: En.set, defaults: Dn }, "restrictRect"), Mn = { width: -1 / 0, height: -1 / 0 }, zn = { width: 1 / 0, height: 1 / 0 };
        var An = be({ start: function(t2) {
          return On.start(t2);
        }, set: function(t2) {
          var e2 = t2.interaction, n2 = t2.state, r2 = t2.rect, i2 = t2.edges, o2 = n2.options;
          if (i2) {
            var a2 = U(wn(o2.min, e2, t2.coords)) || Mn, s2 = U(wn(o2.max, e2, t2.coords)) || zn;
            n2.options = { endOnly: o2.endOnly, inner: V({}, On.noInner), outer: V({}, On.noOuter) }, i2.top ? (n2.options.inner.top = r2.bottom - a2.height, n2.options.outer.top = r2.bottom - s2.height) : i2.bottom && (n2.options.inner.bottom = r2.top + a2.height, n2.options.outer.bottom = r2.top + s2.height), i2.left ? (n2.options.inner.left = r2.right - a2.width, n2.options.outer.left = r2.right - s2.width) : i2.right && (n2.options.inner.right = r2.left + a2.width, n2.options.outer.right = r2.left + s2.width), On.set(t2), n2.options = o2;
          }
        }, defaults: { min: null, max: null, endOnly: false, enabled: false } }, "restrictSize");
        var Rn = { start: function(t2) {
          var e2, n2 = t2.interaction, r2 = t2.interactable, i2 = t2.element, o2 = t2.rect, a2 = t2.state, s2 = t2.startOffset, c2 = a2.options, l2 = c2.offsetWithOrigin ? function(t3) {
            var e3 = t3.interaction.element, n3 = N(G(t3.state.options.origin, null, null, [e3])), r3 = n3 || K(t3.interactable, e3, t3.interaction.prepared.name);
            return r3;
          }(t2) : { x: 0, y: 0 };
          if ("startCoords" === c2.offset) e2 = { x: n2.coords.start.page.x, y: n2.coords.start.page.y };
          else {
            var u2 = G(c2.offset, r2, i2, [n2]);
            (e2 = N(u2) || { x: 0, y: 0 }).x += l2.x, e2.y += l2.y;
          }
          var p2 = c2.relativePoints;
          a2.offsets = o2 && p2 && p2.length ? p2.map(function(t3, n3) {
            return { index: n3, relativePoint: t3, x: s2.left - o2.width * t3.x + e2.x, y: s2.top - o2.height * t3.y + e2.y };
          }) : [{ index: 0, relativePoint: null, x: e2.x, y: e2.y }];
        }, set: function(t2) {
          var e2 = t2.interaction, n2 = t2.coords, r2 = t2.state, i2 = r2.options, o2 = r2.offsets, a2 = K(e2.interactable, e2.element, e2.prepared.name), s2 = V({}, n2), c2 = [];
          i2.offsetWithOrigin || (s2.x -= a2.x, s2.y -= a2.y);
          for (var l2 = 0, u2 = o2; l2 < u2.length; l2++) for (var p2 = u2[l2], f2 = s2.x - p2.x, d2 = s2.y - p2.y, h2 = 0, v2 = i2.targets.length; h2 < v2; h2++) {
            var g2 = i2.targets[h2], m2 = void 0;
            (m2 = w.func(g2) ? g2(f2, d2, e2._proxy, p2, h2) : g2) && c2.push({ x: (w.number(m2.x) ? m2.x : f2) + p2.x, y: (w.number(m2.y) ? m2.y : d2) + p2.y, range: w.number(m2.range) ? m2.range : i2.range, source: g2, index: h2, offset: p2 });
          }
          for (var y2 = { target: null, inRange: false, distance: 0, range: 0, delta: { x: 0, y: 0 } }, b2 = 0; b2 < c2.length; b2++) {
            var x2 = c2[b2], E2 = x2.range, T2 = x2.x - s2.x, S2 = x2.y - s2.y, _2 = Q(T2, S2), P2 = _2 <= E2;
            E2 === 1 / 0 && y2.inRange && y2.range !== 1 / 0 && (P2 = false), y2.target && !(P2 ? y2.inRange && E2 !== 1 / 0 ? _2 / E2 < y2.distance / y2.range : E2 === 1 / 0 && y2.range !== 1 / 0 || _2 < y2.distance : !y2.inRange && _2 < y2.distance) || (y2.target = x2, y2.distance = _2, y2.range = E2, y2.inRange = P2, y2.delta.x = T2, y2.delta.y = S2);
          }
          return y2.inRange && (n2.x = y2.target.x, n2.y = y2.target.y), r2.closest = y2, y2;
        }, defaults: { range: 1 / 0, targets: null, offset: null, offsetWithOrigin: true, origin: null, relativePoints: null, endOnly: false, enabled: false } }, Cn = be(Rn, "snap");
        var jn = { start: function(t2) {
          var e2 = t2.state, n2 = t2.edges, r2 = e2.options;
          if (!n2) return null;
          t2.state = { options: { targets: null, relativePoints: [{ x: n2.left ? 0 : 1, y: n2.top ? 0 : 1 }], offset: r2.offset || "self", origin: { x: 0, y: 0 }, range: r2.range } }, e2.targetFields = e2.targetFields || [["width", "height"], ["x", "y"]], Rn.start(t2), e2.offsets = t2.state.offsets, t2.state = e2;
        }, set: function(t2) {
          var e2 = t2.interaction, n2 = t2.state, r2 = t2.coords, i2 = n2.options, o2 = n2.offsets, a2 = { x: r2.x - o2[0].x, y: r2.y - o2[0].y };
          n2.options = V({}, i2), n2.options.targets = [];
          for (var s2 = 0, c2 = i2.targets || []; s2 < c2.length; s2++) {
            var l2 = c2[s2], u2 = void 0;
            if (u2 = w.func(l2) ? l2(a2.x, a2.y, e2) : l2) {
              for (var p2 = 0, f2 = n2.targetFields; p2 < f2.length; p2++) {
                var d2 = f2[p2], h2 = d2[0], v2 = d2[1];
                if (h2 in u2 || v2 in u2) {
                  u2.x = u2[h2], u2.y = u2[v2];
                  break;
                }
              }
              n2.options.targets.push(u2);
            }
          }
          var g2 = Rn.set(t2);
          return n2.options = i2, g2;
        }, defaults: { range: 1 / 0, targets: null, offset: null, endOnly: false, enabled: false } }, Fn = be(jn, "snapSize");
        var Xn = { aspectRatio: yn, restrictEdges: kn, restrict: Tn, restrictRect: In, restrictSize: An, snapEdges: be({ start: function(t2) {
          var e2 = t2.edges;
          return e2 ? (t2.state.targetFields = t2.state.targetFields || [[e2.left ? "left" : "right", e2.top ? "top" : "bottom"]], jn.start(t2)) : null;
        }, set: jn.set, defaults: V(ge(jn.defaults), { targets: void 0, range: void 0, offset: { x: 0, y: 0 } }) }, "snapEdges"), snap: Cn, snapSize: Fn, spring: xn, avoid: xn, transform: xn, rubberband: xn }, Yn = { id: "modifiers", install: function(t2) {
          var e2 = t2.interactStatic;
          for (var n2 in t2.usePlugin(Ee), t2.usePlugin(hn), e2.modifiers = Xn, Xn) {
            var r2 = Xn[n2], i2 = r2._defaults, o2 = r2._methods;
            i2._methods = o2, t2.defaults.perAction[n2] = i2;
          }
        } }, Ln = Yn, qn = function(t2) {
          s(n2, t2);
          var e2 = p(n2);
          function n2(t3, i2, o2, a2, s2, c2) {
            var l2;
            if (r(this, n2), tt(u(l2 = e2.call(this, s2)), o2), o2 !== i2 && tt(u(l2), i2), l2.timeStamp = c2, l2.originalEvent = o2, l2.type = t3, l2.pointerId = at(i2), l2.pointerType = dt(i2), l2.target = a2, l2.currentTarget = null, "tap" === t3) {
              var p2 = s2.getPointerIndex(i2);
              l2.dt = l2.timeStamp - s2.pointers[p2].downTime;
              var f2 = l2.timeStamp - s2.tapTime;
              l2.double = !!s2.prevTap && "doubletap" !== s2.prevTap.type && s2.prevTap.target === l2.target && f2 < 500;
            } else "doubletap" === t3 && (l2.dt = i2.timeStamp - s2.tapTime, l2.double = true);
            return l2;
          }
          return o(n2, [{ key: "_subtractOrigin", value: function(t3) {
            var e3 = t3.x, n3 = t3.y;
            return this.pageX -= e3, this.pageY -= n3, this.clientX -= e3, this.clientY -= n3, this;
          } }, { key: "_addOrigin", value: function(t3) {
            var e3 = t3.x, n3 = t3.y;
            return this.pageX += e3, this.pageY += n3, this.clientX += e3, this.clientY += n3, this;
          } }, { key: "preventDefault", value: function() {
            this.originalEvent.preventDefault();
          } }]), n2;
        }(vt), Bn = { id: "pointer-events/base", before: ["inertia", "modifiers", "auto-start", "actions"], install: function(t2) {
          t2.pointerEvents = Bn, t2.defaults.actions.pointerEvents = Bn.defaults, V(t2.actions.phaselessTypes, Bn.types);
        }, listeners: { "interactions:new": function(t2) {
          var e2 = t2.interaction;
          e2.prevTap = null, e2.tapTime = 0;
        }, "interactions:update-pointer": function(t2) {
          var e2 = t2.down, n2 = t2.pointerInfo;
          if (!e2 && n2.hold) return;
          n2.hold = { duration: 1 / 0, timeout: null };
        }, "interactions:move": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointer, i2 = t2.event, o2 = t2.eventTarget;
          t2.duplicate || n2.pointerIsDown && !n2.pointerWasMoved || (n2.pointerIsDown && Gn(t2), Vn({ interaction: n2, pointer: r2, event: i2, eventTarget: o2, type: "move" }, e2));
        }, "interactions:down": function(t2, e2) {
          !function(t3, e3) {
            for (var n2 = t3.interaction, r2 = t3.pointer, i2 = t3.event, o2 = t3.eventTarget, a2 = t3.pointerIndex, s2 = n2.pointers[a2].hold, c2 = q(o2), l2 = { interaction: n2, pointer: r2, event: i2, eventTarget: o2, type: "hold", targets: [], path: c2, node: null }, u2 = 0; u2 < c2.length; u2++) {
              var p2 = c2[u2];
              l2.node = p2, e3.fire("pointerEvents:collect-targets", l2);
            }
            if (!l2.targets.length) return;
            for (var f2 = 1 / 0, d2 = 0, h2 = l2.targets; d2 < h2.length; d2++) {
              var v2 = h2[d2].eventable.options.holdDuration;
              v2 < f2 && (f2 = v2);
            }
            s2.duration = f2, s2.timeout = setTimeout(function() {
              Vn({ interaction: n2, eventTarget: o2, pointer: r2, event: i2, type: "hold" }, e3);
            }, f2);
          }(t2, e2), Vn(t2, e2);
        }, "interactions:up": function(t2, e2) {
          Gn(t2), Vn(t2, e2), function(t3, e3) {
            var n2 = t3.interaction, r2 = t3.pointer, i2 = t3.event, o2 = t3.eventTarget;
            n2.pointerWasMoved || Vn({ interaction: n2, eventTarget: o2, pointer: r2, event: i2, type: "tap" }, e3);
          }(t2, e2);
        }, "interactions:cancel": function(t2, e2) {
          Gn(t2), Vn(t2, e2);
        } }, PointerEvent: qn, fire: Vn, collectEventTargets: Wn, defaults: { holdDuration: 600, ignoreFrom: null, allowFrom: null, origin: { x: 0, y: 0 } }, types: { down: true, move: true, up: true, cancel: true, tap: true, doubletap: true, hold: true } };
        function Vn(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointer, i2 = t2.event, o2 = t2.eventTarget, a2 = t2.type, s2 = t2.targets, c2 = void 0 === s2 ? Wn(t2, e2) : s2, l2 = new qn(a2, r2, i2, o2, n2, e2.now());
          e2.fire("pointerEvents:new", { pointerEvent: l2 });
          for (var u2 = { interaction: n2, pointer: r2, event: i2, eventTarget: o2, targets: c2, type: a2, pointerEvent: l2 }, p2 = 0; p2 < c2.length; p2++) {
            var f2 = c2[p2];
            for (var d2 in f2.props || {}) l2[d2] = f2.props[d2];
            var h2 = K(f2.eventable, f2.node);
            if (l2._subtractOrigin(h2), l2.eventable = f2.eventable, l2.currentTarget = f2.node, f2.eventable.fire(l2), l2._addOrigin(h2), l2.immediatePropagationStopped || l2.propagationStopped && p2 + 1 < c2.length && c2[p2 + 1].node !== l2.currentTarget) break;
          }
          if (e2.fire("pointerEvents:fired", u2), "tap" === a2) {
            var v2 = l2.double ? Vn({ interaction: n2, pointer: r2, event: i2, eventTarget: o2, type: "doubletap" }, e2) : l2;
            n2.prevTap = v2, n2.tapTime = v2.timeStamp;
          }
          return l2;
        }
        function Wn(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointer, i2 = t2.event, o2 = t2.eventTarget, a2 = t2.type, s2 = n2.getPointerIndex(r2), c2 = n2.pointers[s2];
          if ("tap" === a2 && (n2.pointerWasMoved || !c2 || c2.downTarget !== o2)) return [];
          for (var l2 = q(o2), u2 = { interaction: n2, pointer: r2, event: i2, eventTarget: o2, type: a2, path: l2, targets: [], node: null }, p2 = 0; p2 < l2.length; p2++) {
            var f2 = l2[p2];
            u2.node = f2, e2.fire("pointerEvents:collect-targets", u2);
          }
          return "hold" === a2 && (u2.targets = u2.targets.filter(function(t3) {
            var e3, r3;
            return t3.eventable.options.holdDuration === (null == (e3 = n2.pointers[s2]) || null == (r3 = e3.hold) ? void 0 : r3.duration);
          })), u2.targets;
        }
        function Gn(t2) {
          var e2 = t2.interaction, n2 = t2.pointerIndex, r2 = e2.pointers[n2].hold;
          r2 && r2.timeout && (clearTimeout(r2.timeout), r2.timeout = null);
        }
        var Nn = Object.freeze({ __proto__: null, default: Bn });
        function Un(t2) {
          var e2 = t2.interaction;
          e2.holdIntervalHandle && (clearInterval(e2.holdIntervalHandle), e2.holdIntervalHandle = null);
        }
        var Hn = { id: "pointer-events/holdRepeat", install: function(t2) {
          t2.usePlugin(Bn);
          var e2 = t2.pointerEvents;
          e2.defaults.holdRepeatInterval = 0, e2.types.holdrepeat = t2.actions.phaselessTypes.holdrepeat = true;
        }, listeners: ["move", "up", "cancel", "endall"].reduce(function(t2, e2) {
          return t2["pointerEvents:".concat(e2)] = Un, t2;
        }, { "pointerEvents:new": function(t2) {
          var e2 = t2.pointerEvent;
          "hold" === e2.type && (e2.count = (e2.count || 0) + 1);
        }, "pointerEvents:fired": function(t2, e2) {
          var n2 = t2.interaction, r2 = t2.pointerEvent, i2 = t2.eventTarget, o2 = t2.targets;
          if ("hold" === r2.type && o2.length) {
            var a2 = o2[0].eventable.options.holdRepeatInterval;
            a2 <= 0 || (n2.holdIntervalHandle = setTimeout(function() {
              e2.pointerEvents.fire({ interaction: n2, eventTarget: i2, type: "hold", pointer: r2, event: r2 }, e2);
            }, a2));
          }
        } }) }, Kn = Hn;
        var $n = { id: "pointer-events/interactableTargets", install: function(t2) {
          var e2 = t2.Interactable;
          e2.prototype.pointerEvents = function(t3) {
            return V(this.events.options, t3), this;
          };
          var n2 = e2.prototype._backCompatOption;
          e2.prototype._backCompatOption = function(t3, e3) {
            var r2 = n2.call(this, t3, e3);
            return r2 === this && (this.events.options[t3] = e3), r2;
          };
        }, listeners: { "pointerEvents:collect-targets": function(t2, e2) {
          var n2 = t2.targets, r2 = t2.node, i2 = t2.type, o2 = t2.eventTarget;
          e2.interactables.forEachMatch(r2, function(t3) {
            var e3 = t3.events, a2 = e3.options;
            e3.types[i2] && e3.types[i2].length && t3.testIgnoreAllow(a2, r2, o2) && n2.push({ node: r2, eventable: e3, props: { interactable: t3 } });
          });
        }, "interactable:new": function(t2) {
          var e2 = t2.interactable;
          e2.events.getRect = function(t3) {
            return e2.getRect(t3);
          };
        }, "interactable:set": function(t2, e2) {
          var n2 = t2.interactable, r2 = t2.options;
          V(n2.events.options, e2.pointerEvents.defaults), V(n2.events.options, r2.pointerEvents || {});
        } } }, Jn = $n, Qn = { id: "pointer-events", install: function(t2) {
          t2.usePlugin(Nn), t2.usePlugin(Kn), t2.usePlugin(Jn);
        } }, Zn = Qn;
        var tr = { id: "reflow", install: function(t2) {
          var e2 = t2.Interactable;
          t2.actions.phases.reflow = true, e2.prototype.reflow = function(e3) {
            return function(t3, e4, n2) {
              for (var r2 = t3.getAllElements(), i2 = n2.window.Promise, o2 = i2 ? [] : null, a2 = function() {
                var a3 = r2[s2], c2 = t3.getRect(a3);
                if (!c2) return 1;
                var l2, u2 = bt(n2.interactions.list, function(n3) {
                  return n3.interacting() && n3.interactable === t3 && n3.element === a3 && n3.prepared.name === e4.name;
                });
                if (u2) u2.move(), o2 && (l2 = u2._reflowPromise || new i2(function(t4) {
                  u2._reflowResolve = t4;
                }));
                else {
                  var p2 = U(c2), f2 = /* @__PURE__ */ function(t4) {
                    return { coords: t4, get page() {
                      return this.coords.page;
                    }, get client() {
                      return this.coords.client;
                    }, get timeStamp() {
                      return this.coords.timeStamp;
                    }, get pageX() {
                      return this.coords.page.x;
                    }, get pageY() {
                      return this.coords.page.y;
                    }, get clientX() {
                      return this.coords.client.x;
                    }, get clientY() {
                      return this.coords.client.y;
                    }, get pointerId() {
                      return this.coords.pointerId;
                    }, get target() {
                      return this.coords.target;
                    }, get type() {
                      return this.coords.type;
                    }, get pointerType() {
                      return this.coords.pointerType;
                    }, get buttons() {
                      return this.coords.buttons;
                    }, preventDefault: function() {
                    } };
                  }({ page: { x: p2.x, y: p2.y }, client: { x: p2.x, y: p2.y }, timeStamp: n2.now() });
                  l2 = function(t4, e5, n3, r3, i3) {
                    var o3 = t4.interactions.new({ pointerType: "reflow" }), a4 = { interaction: o3, event: i3, pointer: i3, eventTarget: n3, phase: "reflow" };
                    o3.interactable = e5, o3.element = n3, o3.prevEvent = i3, o3.updatePointer(i3, i3, n3, true), nt(o3.coords.delta), Ut(o3.prepared, r3), o3._doPhase(a4);
                    var s3 = t4.window, c3 = s3.Promise, l3 = c3 ? new c3(function(t5) {
                      o3._reflowResolve = t5;
                    }) : void 0;
                    o3._reflowPromise = l3, o3.start(r3, e5, n3), o3._interacting ? (o3.move(a4), o3.end(i3)) : (o3.stop(), o3._reflowResolve());
                    return o3.removePointer(i3, i3), l3;
                  }(n2, t3, a3, e4, f2);
                }
                o2 && o2.push(l2);
              }, s2 = 0; s2 < r2.length && !a2(); s2++) ;
              return o2 && i2.all(o2).then(function() {
                return t3;
              });
            }(this, e3, t2);
          };
        }, listeners: { "interactions:stop": function(t2, e2) {
          var n2 = t2.interaction;
          "reflow" === n2.pointerType && (n2._reflowResolve && n2._reflowResolve(), function(t3, e3) {
            t3.splice(t3.indexOf(e3), 1);
          }(e2.interactions.list, n2));
        } } }, er = tr;
        if (un.use(he), un.use(Ce), un.use(Zn), un.use(qe), un.use(Ln), un.use(pe), un.use(Xt), un.use(Gt), un.use(er), un.default = un, "object" === ("undefined" == typeof module ? "undefined" : n(module)) && module) try {
          module.exports = un;
        } catch (t2) {
        }
        return un.default = un, un;
      });
    }
  });

  // node_modules/@hotwired/turbo/dist/turbo.es2017-esm.js
  var turbo_es2017_esm_exports = {};
  __export(turbo_es2017_esm_exports, {
    FetchEnctype: () => FetchEnctype,
    FetchMethod: () => FetchMethod,
    FetchRequest: () => FetchRequest,
    FetchResponse: () => FetchResponse,
    FrameElement: () => FrameElement,
    FrameLoadingStyle: () => FrameLoadingStyle,
    FrameRenderer: () => FrameRenderer,
    PageRenderer: () => PageRenderer,
    PageSnapshot: () => PageSnapshot,
    StreamActions: () => StreamActions,
    StreamElement: () => StreamElement,
    StreamSourceElement: () => StreamSourceElement,
    cache: () => cache,
    clearCache: () => clearCache,
    connectStreamSource: () => connectStreamSource,
    disconnectStreamSource: () => disconnectStreamSource,
    fetch: () => fetchWithTurboHeaders,
    fetchEnctypeFromString: () => fetchEnctypeFromString,
    fetchMethodFromString: () => fetchMethodFromString,
    isSafe: () => isSafe,
    navigator: () => navigator$1,
    registerAdapter: () => registerAdapter,
    renderStreamMessage: () => renderStreamMessage,
    session: () => session,
    setConfirmMethod: () => setConfirmMethod,
    setFormMode: () => setFormMode,
    setProgressBarDelay: () => setProgressBarDelay,
    start: () => start,
    visit: () => visit
  });
  (function(prototype) {
    if (typeof prototype.requestSubmit == "function") return;
    prototype.requestSubmit = function(submitter) {
      if (submitter) {
        validateSubmitter(submitter, this);
        submitter.click();
      } else {
        submitter = document.createElement("input");
        submitter.type = "submit";
        submitter.hidden = true;
        this.appendChild(submitter);
        submitter.click();
        this.removeChild(submitter);
      }
    };
    function validateSubmitter(submitter, form) {
      submitter instanceof HTMLElement || raise(TypeError, "parameter 1 is not of type 'HTMLElement'");
      submitter.type == "submit" || raise(TypeError, "The specified element is not a submit button");
      submitter.form == form || raise(DOMException, "The specified element is not owned by this form element", "NotFoundError");
    }
    function raise(errorConstructor, message2, name) {
      throw new errorConstructor("Failed to execute 'requestSubmit' on 'HTMLFormElement': " + message2 + ".", name);
    }
  })(HTMLFormElement.prototype);
  var submittersByForm = /* @__PURE__ */ new WeakMap();
  function findSubmitterFromClickTarget(target) {
    const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;
    const candidate = element ? element.closest("input, button") : null;
    return candidate?.type == "submit" ? candidate : null;
  }
  function clickCaptured(event) {
    const submitter = findSubmitterFromClickTarget(event.target);
    if (submitter && submitter.form) {
      submittersByForm.set(submitter.form, submitter);
    }
  }
  (function() {
    if ("submitter" in Event.prototype) return;
    let prototype = window.Event.prototype;
    if ("SubmitEvent" in window) {
      const prototypeOfSubmitEvent = window.SubmitEvent.prototype;
      if (/Apple Computer/.test(navigator.vendor) && !("submitter" in prototypeOfSubmitEvent)) {
        prototype = prototypeOfSubmitEvent;
      } else {
        return;
      }
    }
    addEventListener("click", clickCaptured, true);
    Object.defineProperty(prototype, "submitter", {
      get() {
        if (this.type == "submit" && this.target instanceof HTMLFormElement) {
          return submittersByForm.get(this.target);
        }
      }
    });
  })();
  var FrameLoadingStyle = {
    eager: "eager",
    lazy: "lazy"
  };
  var _FrameElement = class _FrameElement extends HTMLElement {
    constructor() {
      super();
      __publicField(this, "loaded", Promise.resolve());
      this.delegate = new _FrameElement.delegateConstructor(this);
    }
    static get observedAttributes() {
      return ["disabled", "loading", "src"];
    }
    connectedCallback() {
      this.delegate.connect();
    }
    disconnectedCallback() {
      this.delegate.disconnect();
    }
    reload() {
      return this.delegate.sourceURLReloaded();
    }
    attributeChangedCallback(name) {
      if (name == "loading") {
        this.delegate.loadingStyleChanged();
      } else if (name == "src") {
        this.delegate.sourceURLChanged();
      } else if (name == "disabled") {
        this.delegate.disabledChanged();
      }
    }
    /**
     * Gets the URL to lazily load source HTML from
     */
    get src() {
      return this.getAttribute("src");
    }
    /**
     * Sets the URL to lazily load source HTML from
     */
    set src(value) {
      if (value) {
        this.setAttribute("src", value);
      } else {
        this.removeAttribute("src");
      }
    }
    /**
     * Gets the refresh mode for the frame.
     */
    get refresh() {
      return this.getAttribute("refresh");
    }
    /**
     * Sets the refresh mode for the frame.
     */
    set refresh(value) {
      if (value) {
        this.setAttribute("refresh", value);
      } else {
        this.removeAttribute("refresh");
      }
    }
    /**
     * Determines if the element is loading
     */
    get loading() {
      return frameLoadingStyleFromString(this.getAttribute("loading") || "");
    }
    /**
     * Sets the value of if the element is loading
     */
    set loading(value) {
      if (value) {
        this.setAttribute("loading", value);
      } else {
        this.removeAttribute("loading");
      }
    }
    /**
     * Gets the disabled state of the frame.
     *
     * If disabled, no requests will be intercepted by the frame.
     */
    get disabled() {
      return this.hasAttribute("disabled");
    }
    /**
     * Sets the disabled state of the frame.
     *
     * If disabled, no requests will be intercepted by the frame.
     */
    set disabled(value) {
      if (value) {
        this.setAttribute("disabled", "");
      } else {
        this.removeAttribute("disabled");
      }
    }
    /**
     * Gets the autoscroll state of the frame.
     *
     * If true, the frame will be scrolled into view automatically on update.
     */
    get autoscroll() {
      return this.hasAttribute("autoscroll");
    }
    /**
     * Sets the autoscroll state of the frame.
     *
     * If true, the frame will be scrolled into view automatically on update.
     */
    set autoscroll(value) {
      if (value) {
        this.setAttribute("autoscroll", "");
      } else {
        this.removeAttribute("autoscroll");
      }
    }
    /**
     * Determines if the element has finished loading
     */
    get complete() {
      return !this.delegate.isLoading;
    }
    /**
     * Gets the active state of the frame.
     *
     * If inactive, source changes will not be observed.
     */
    get isActive() {
      return this.ownerDocument === document && !this.isPreview;
    }
    /**
     * Sets the active state of the frame.
     *
     * If inactive, source changes will not be observed.
     */
    get isPreview() {
      return this.ownerDocument?.documentElement?.hasAttribute("data-turbo-preview");
    }
  };
  __publicField(_FrameElement, "delegateConstructor");
  var FrameElement = _FrameElement;
  function frameLoadingStyleFromString(style) {
    switch (style.toLowerCase()) {
      case "lazy":
        return FrameLoadingStyle.lazy;
      default:
        return FrameLoadingStyle.eager;
    }
  }
  function expandURL(locatable) {
    return new URL(locatable.toString(), document.baseURI);
  }
  function getAnchor(url) {
    let anchorMatch;
    if (url.hash) {
      return url.hash.slice(1);
    } else if (anchorMatch = url.href.match(/#(.*)$/)) {
      return anchorMatch[1];
    }
  }
  function getAction$1(form, submitter) {
    const action = submitter?.getAttribute("formaction") || form.getAttribute("action") || form.action;
    return expandURL(action);
  }
  function getExtension(url) {
    return (getLastPathComponent(url).match(/\.[^.]*$/) || [])[0] || "";
  }
  function isHTML(url) {
    return !!getExtension(url).match(/^(?:|\.(?:htm|html|xhtml|php))$/);
  }
  function isPrefixedBy(baseURL, url) {
    const prefix = getPrefix(url);
    return baseURL.href === expandURL(prefix).href || baseURL.href.startsWith(prefix);
  }
  function locationIsVisitable(location2, rootLocation) {
    return isPrefixedBy(location2, rootLocation) && isHTML(location2);
  }
  function getRequestURL(url) {
    const anchor = getAnchor(url);
    return anchor != null ? url.href.slice(0, -(anchor.length + 1)) : url.href;
  }
  function toCacheKey(url) {
    return getRequestURL(url);
  }
  function urlsAreEqual(left, right) {
    return expandURL(left).href == expandURL(right).href;
  }
  function getPathComponents(url) {
    return url.pathname.split("/").slice(1);
  }
  function getLastPathComponent(url) {
    return getPathComponents(url).slice(-1)[0];
  }
  function getPrefix(url) {
    return addTrailingSlash(url.origin + url.pathname);
  }
  function addTrailingSlash(value) {
    return value.endsWith("/") ? value : value + "/";
  }
  var FetchResponse = class {
    constructor(response) {
      this.response = response;
    }
    get succeeded() {
      return this.response.ok;
    }
    get failed() {
      return !this.succeeded;
    }
    get clientError() {
      return this.statusCode >= 400 && this.statusCode <= 499;
    }
    get serverError() {
      return this.statusCode >= 500 && this.statusCode <= 599;
    }
    get redirected() {
      return this.response.redirected;
    }
    get location() {
      return expandURL(this.response.url);
    }
    get isHTML() {
      return this.contentType && this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/);
    }
    get statusCode() {
      return this.response.status;
    }
    get contentType() {
      return this.header("Content-Type");
    }
    get responseText() {
      return this.response.clone().text();
    }
    get responseHTML() {
      if (this.isHTML) {
        return this.response.clone().text();
      } else {
        return Promise.resolve(void 0);
      }
    }
    header(name) {
      return this.response.headers.get(name);
    }
  };
  function activateScriptElement(element) {
    if (element.getAttribute("data-turbo-eval") == "false") {
      return element;
    } else {
      const createdScriptElement = document.createElement("script");
      const cspNonce = getMetaContent("csp-nonce");
      if (cspNonce) {
        createdScriptElement.nonce = cspNonce;
      }
      createdScriptElement.textContent = element.textContent;
      createdScriptElement.async = false;
      copyElementAttributes(createdScriptElement, element);
      return createdScriptElement;
    }
  }
  function copyElementAttributes(destinationElement, sourceElement) {
    for (const { name, value } of sourceElement.attributes) {
      destinationElement.setAttribute(name, value);
    }
  }
  function createDocumentFragment(html) {
    const template = document.createElement("template");
    template.innerHTML = html;
    return template.content;
  }
  function dispatch(eventName, { target, cancelable, detail } = {}) {
    const event = new CustomEvent(eventName, {
      cancelable,
      bubbles: true,
      composed: true,
      detail
    });
    if (target && target.isConnected) {
      target.dispatchEvent(event);
    } else {
      document.documentElement.dispatchEvent(event);
    }
    return event;
  }
  function nextRepaint() {
    if (document.visibilityState === "hidden") {
      return nextEventLoopTick();
    } else {
      return nextAnimationFrame();
    }
  }
  function nextAnimationFrame() {
    return new Promise((resolve) => requestAnimationFrame(() => resolve()));
  }
  function nextEventLoopTick() {
    return new Promise((resolve) => setTimeout(() => resolve(), 0));
  }
  function nextMicrotask() {
    return Promise.resolve();
  }
  function parseHTMLDocument(html = "") {
    return new DOMParser().parseFromString(html, "text/html");
  }
  function unindent(strings, ...values) {
    const lines = interpolate(strings, values).replace(/^\n/, "").split("\n");
    const match2 = lines[0].match(/^\s+/);
    const indent = match2 ? match2[0].length : 0;
    return lines.map((line) => line.slice(indent)).join("\n");
  }
  function interpolate(strings, values) {
    return strings.reduce((result, string, i) => {
      const value = values[i] == void 0 ? "" : values[i];
      return result + string + value;
    }, "");
  }
  function uuid() {
    return Array.from({ length: 36 }).map((_, i) => {
      if (i == 8 || i == 13 || i == 18 || i == 23) {
        return "-";
      } else if (i == 14) {
        return "4";
      } else if (i == 19) {
        return (Math.floor(Math.random() * 4) + 8).toString(16);
      } else {
        return Math.floor(Math.random() * 15).toString(16);
      }
    }).join("");
  }
  function getAttribute(attributeName, ...elements) {
    for (const value of elements.map((element) => element?.getAttribute(attributeName))) {
      if (typeof value == "string") return value;
    }
    return null;
  }
  function hasAttribute(attributeName, ...elements) {
    return elements.some((element) => element && element.hasAttribute(attributeName));
  }
  function markAsBusy(...elements) {
    for (const element of elements) {
      if (element.localName == "turbo-frame") {
        element.setAttribute("busy", "");
      }
      element.setAttribute("aria-busy", "true");
    }
  }
  function clearBusyState(...elements) {
    for (const element of elements) {
      if (element.localName == "turbo-frame") {
        element.removeAttribute("busy");
      }
      element.removeAttribute("aria-busy");
    }
  }
  function waitForLoad(element, timeoutInMilliseconds = 2e3) {
    return new Promise((resolve) => {
      const onComplete = () => {
        element.removeEventListener("error", onComplete);
        element.removeEventListener("load", onComplete);
        resolve();
      };
      element.addEventListener("load", onComplete, { once: true });
      element.addEventListener("error", onComplete, { once: true });
      setTimeout(resolve, timeoutInMilliseconds);
    });
  }
  function getHistoryMethodForAction(action) {
    switch (action) {
      case "replace":
        return history.replaceState;
      case "advance":
      case "restore":
        return history.pushState;
    }
  }
  function isAction(action) {
    return action == "advance" || action == "replace" || action == "restore";
  }
  function getVisitAction(...elements) {
    const action = getAttribute("data-turbo-action", ...elements);
    return isAction(action) ? action : null;
  }
  function getMetaElement(name) {
    return document.querySelector(`meta[name="${name}"]`);
  }
  function getMetaContent(name) {
    const element = getMetaElement(name);
    return element && element.content;
  }
  function setMetaContent(name, content) {
    let element = getMetaElement(name);
    if (!element) {
      element = document.createElement("meta");
      element.setAttribute("name", name);
      document.head.appendChild(element);
    }
    element.setAttribute("content", content);
    return element;
  }
  function findClosestRecursively(element, selector) {
    if (element instanceof Element) {
      return element.closest(selector) || findClosestRecursively(element.assignedSlot || element.getRootNode()?.host, selector);
    }
  }
  function elementIsFocusable(element) {
    const inertDisabledOrHidden = "[inert], :disabled, [hidden], details:not([open]), dialog:not([open])";
    return !!element && element.closest(inertDisabledOrHidden) == null && typeof element.focus == "function";
  }
  function queryAutofocusableElement(elementOrDocumentFragment) {
    return Array.from(elementOrDocumentFragment.querySelectorAll("[autofocus]")).find(elementIsFocusable);
  }
  async function around(callback, reader) {
    const before = reader();
    callback();
    await nextAnimationFrame();
    const after = reader();
    return [before, after];
  }
  function doesNotTargetIFrame(anchor) {
    if (anchor.hasAttribute("target")) {
      for (const element of document.getElementsByName(anchor.target)) {
        if (element instanceof HTMLIFrameElement) return false;
      }
    }
    return true;
  }
  function findLinkFromClickTarget(target) {
    return findClosestRecursively(target, "a[href]:not([target^=_]):not([download])");
  }
  function getLocationForLink(link) {
    return expandURL(link.getAttribute("href") || "");
  }
  function debounce(fn, delay) {
    let timeoutId = null;
    return (...args) => {
      const callback = () => fn.apply(this, args);
      clearTimeout(timeoutId);
      timeoutId = setTimeout(callback, delay);
    };
  }
  var LimitedSet = class extends Set {
    constructor(maxSize) {
      super();
      this.maxSize = maxSize;
    }
    add(value) {
      if (this.size >= this.maxSize) {
        const iterator = this.values();
        const oldestValue = iterator.next().value;
        this.delete(oldestValue);
      }
      super.add(value);
    }
  };
  var recentRequests = new LimitedSet(20);
  var nativeFetch = window.fetch;
  function fetchWithTurboHeaders(url, options = {}) {
    const modifiedHeaders = new Headers(options.headers || {});
    const requestUID = uuid();
    recentRequests.add(requestUID);
    modifiedHeaders.append("X-Turbo-Request-Id", requestUID);
    return nativeFetch(url, {
      ...options,
      headers: modifiedHeaders
    });
  }
  function fetchMethodFromString(method) {
    switch (method.toLowerCase()) {
      case "get":
        return FetchMethod.get;
      case "post":
        return FetchMethod.post;
      case "put":
        return FetchMethod.put;
      case "patch":
        return FetchMethod.patch;
      case "delete":
        return FetchMethod.delete;
    }
  }
  var FetchMethod = {
    get: "get",
    post: "post",
    put: "put",
    patch: "patch",
    delete: "delete"
  };
  function fetchEnctypeFromString(encoding) {
    switch (encoding.toLowerCase()) {
      case FetchEnctype.multipart:
        return FetchEnctype.multipart;
      case FetchEnctype.plain:
        return FetchEnctype.plain;
      default:
        return FetchEnctype.urlEncoded;
    }
  }
  var FetchEnctype = {
    urlEncoded: "application/x-www-form-urlencoded",
    multipart: "multipart/form-data",
    plain: "text/plain"
  };
  var _resolveRequestPromise, _FetchRequest_instances, allowRequestToBeIntercepted_fn, willDelegateErrorHandling_fn;
  var FetchRequest = class {
    constructor(delegate, method, location2, requestBody = new URLSearchParams(), target = null, enctype = FetchEnctype.urlEncoded) {
      __privateAdd(this, _FetchRequest_instances);
      __publicField(this, "abortController", new AbortController());
      __privateAdd(this, _resolveRequestPromise, (_value) => {
      });
      const [url, body] = buildResourceAndBody(expandURL(location2), method, requestBody, enctype);
      this.delegate = delegate;
      this.url = url;
      this.target = target;
      this.fetchOptions = {
        credentials: "same-origin",
        redirect: "follow",
        method,
        headers: { ...this.defaultHeaders },
        body,
        signal: this.abortSignal,
        referrer: this.delegate.referrer?.href
      };
      this.enctype = enctype;
    }
    get method() {
      return this.fetchOptions.method;
    }
    set method(value) {
      const fetchBody = this.isSafe ? this.url.searchParams : this.fetchOptions.body || new FormData();
      const fetchMethod = fetchMethodFromString(value) || FetchMethod.get;
      this.url.search = "";
      const [url, body] = buildResourceAndBody(this.url, fetchMethod, fetchBody, this.enctype);
      this.url = url;
      this.fetchOptions.body = body;
      this.fetchOptions.method = fetchMethod;
    }
    get headers() {
      return this.fetchOptions.headers;
    }
    set headers(value) {
      this.fetchOptions.headers = value;
    }
    get body() {
      if (this.isSafe) {
        return this.url.searchParams;
      } else {
        return this.fetchOptions.body;
      }
    }
    set body(value) {
      this.fetchOptions.body = value;
    }
    get location() {
      return this.url;
    }
    get params() {
      return this.url.searchParams;
    }
    get entries() {
      return this.body ? Array.from(this.body.entries()) : [];
    }
    cancel() {
      this.abortController.abort();
    }
    async perform() {
      const { fetchOptions } = this;
      this.delegate.prepareRequest(this);
      const event = await __privateMethod(this, _FetchRequest_instances, allowRequestToBeIntercepted_fn).call(this, fetchOptions);
      try {
        this.delegate.requestStarted(this);
        if (event.detail.fetchRequest) {
          this.response = event.detail.fetchRequest.response;
        } else {
          this.response = fetchWithTurboHeaders(this.url.href, fetchOptions);
        }
        const response = await this.response;
        return await this.receive(response);
      } catch (error2) {
        if (error2.name !== "AbortError") {
          if (__privateMethod(this, _FetchRequest_instances, willDelegateErrorHandling_fn).call(this, error2)) {
            this.delegate.requestErrored(this, error2);
          }
          throw error2;
        }
      } finally {
        this.delegate.requestFinished(this);
      }
    }
    async receive(response) {
      const fetchResponse = new FetchResponse(response);
      const event = dispatch("turbo:before-fetch-response", {
        cancelable: true,
        detail: { fetchResponse },
        target: this.target
      });
      if (event.defaultPrevented) {
        this.delegate.requestPreventedHandlingResponse(this, fetchResponse);
      } else if (fetchResponse.succeeded) {
        this.delegate.requestSucceededWithResponse(this, fetchResponse);
      } else {
        this.delegate.requestFailedWithResponse(this, fetchResponse);
      }
      return fetchResponse;
    }
    get defaultHeaders() {
      return {
        Accept: "text/html, application/xhtml+xml"
      };
    }
    get isSafe() {
      return isSafe(this.method);
    }
    get abortSignal() {
      return this.abortController.signal;
    }
    acceptResponseType(mimeType) {
      this.headers["Accept"] = [mimeType, this.headers["Accept"]].join(", ");
    }
  };
  _resolveRequestPromise = new WeakMap();
  _FetchRequest_instances = new WeakSet();
  allowRequestToBeIntercepted_fn = async function(fetchOptions) {
    const requestInterception = new Promise((resolve) => __privateSet(this, _resolveRequestPromise, resolve));
    const event = dispatch("turbo:before-fetch-request", {
      cancelable: true,
      detail: {
        fetchOptions,
        url: this.url,
        resume: __privateGet(this, _resolveRequestPromise)
      },
      target: this.target
    });
    this.url = event.detail.url;
    if (event.defaultPrevented) await requestInterception;
    return event;
  };
  willDelegateErrorHandling_fn = function(error2) {
    const event = dispatch("turbo:fetch-request-error", {
      target: this.target,
      cancelable: true,
      detail: { request: this, error: error2 }
    });
    return !event.defaultPrevented;
  };
  function isSafe(fetchMethod) {
    return fetchMethodFromString(fetchMethod) == FetchMethod.get;
  }
  function buildResourceAndBody(resource, method, requestBody, enctype) {
    const searchParams = Array.from(requestBody).length > 0 ? new URLSearchParams(entriesExcludingFiles(requestBody)) : resource.searchParams;
    if (isSafe(method)) {
      return [mergeIntoURLSearchParams(resource, searchParams), null];
    } else if (enctype == FetchEnctype.urlEncoded) {
      return [resource, searchParams];
    } else {
      return [resource, requestBody];
    }
  }
  function entriesExcludingFiles(requestBody) {
    const entries = [];
    for (const [name, value] of requestBody) {
      if (value instanceof File) continue;
      else entries.push([name, value]);
    }
    return entries;
  }
  function mergeIntoURLSearchParams(url, requestBody) {
    const searchParams = new URLSearchParams(entriesExcludingFiles(requestBody));
    url.search = searchParams.toString();
    return url;
  }
  var AppearanceObserver = class {
    constructor(delegate, element) {
      __publicField(this, "started", false);
      __publicField(this, "intersect", (entries) => {
        const lastEntry = entries.slice(-1)[0];
        if (lastEntry?.isIntersecting) {
          this.delegate.elementAppearedInViewport(this.element);
        }
      });
      this.delegate = delegate;
      this.element = element;
      this.intersectionObserver = new IntersectionObserver(this.intersect);
    }
    start() {
      if (!this.started) {
        this.started = true;
        this.intersectionObserver.observe(this.element);
      }
    }
    stop() {
      if (this.started) {
        this.started = false;
        this.intersectionObserver.unobserve(this.element);
      }
    }
  };
  var StreamMessage = class {
    static wrap(message2) {
      if (typeof message2 == "string") {
        return new this(createDocumentFragment(message2));
      } else {
        return message2;
      }
    }
    constructor(fragment) {
      this.fragment = importStreamElements(fragment);
    }
  };
  __publicField(StreamMessage, "contentType", "text/vnd.turbo-stream.html");
  function importStreamElements(fragment) {
    for (const element of fragment.querySelectorAll("turbo-stream")) {
      const streamElement = document.importNode(element, true);
      for (const inertScriptElement of streamElement.templateElement.content.querySelectorAll("script")) {
        inertScriptElement.replaceWith(activateScriptElement(inertScriptElement));
      }
      element.replaceWith(streamElement);
    }
    return fragment;
  }
  var PREFETCH_DELAY = 100;
  var _prefetchTimeout, _prefetched;
  var PrefetchCache = class {
    constructor() {
      __privateAdd(this, _prefetchTimeout, null);
      __privateAdd(this, _prefetched, null);
    }
    get(url) {
      if (__privateGet(this, _prefetched) && __privateGet(this, _prefetched).url === url && __privateGet(this, _prefetched).expire > Date.now()) {
        return __privateGet(this, _prefetched).request;
      }
    }
    setLater(url, request, ttl) {
      this.clear();
      __privateSet(this, _prefetchTimeout, setTimeout(() => {
        request.perform();
        this.set(url, request, ttl);
        __privateSet(this, _prefetchTimeout, null);
      }, PREFETCH_DELAY));
    }
    set(url, request, ttl) {
      __privateSet(this, _prefetched, { url, request, expire: new Date((/* @__PURE__ */ new Date()).getTime() + ttl) });
    }
    clear() {
      if (__privateGet(this, _prefetchTimeout)) clearTimeout(__privateGet(this, _prefetchTimeout));
      __privateSet(this, _prefetched, null);
    }
  };
  _prefetchTimeout = new WeakMap();
  _prefetched = new WeakMap();
  var cacheTtl = 10 * 1e3;
  var prefetchCache = new PrefetchCache();
  var FormSubmissionState = {
    initialized: "initialized",
    requesting: "requesting",
    waiting: "waiting",
    receiving: "receiving",
    stopping: "stopping",
    stopped: "stopped"
  };
  var FormSubmission = class _FormSubmission {
    constructor(delegate, formElement, submitter, mustRedirect = false) {
      __publicField(this, "state", FormSubmissionState.initialized);
      const method = getMethod(formElement, submitter);
      const action = getAction(getFormAction(formElement, submitter), method);
      const body = buildFormData(formElement, submitter);
      const enctype = getEnctype(formElement, submitter);
      this.delegate = delegate;
      this.formElement = formElement;
      this.submitter = submitter;
      this.fetchRequest = new FetchRequest(this, method, action, body, formElement, enctype);
      this.mustRedirect = mustRedirect;
    }
    static confirmMethod(message2, _element, _submitter) {
      return Promise.resolve(confirm(message2));
    }
    get method() {
      return this.fetchRequest.method;
    }
    set method(value) {
      this.fetchRequest.method = value;
    }
    get action() {
      return this.fetchRequest.url.toString();
    }
    set action(value) {
      this.fetchRequest.url = expandURL(value);
    }
    get body() {
      return this.fetchRequest.body;
    }
    get enctype() {
      return this.fetchRequest.enctype;
    }
    get isSafe() {
      return this.fetchRequest.isSafe;
    }
    get location() {
      return this.fetchRequest.url;
    }
    // The submission process
    async start() {
      const { initialized, requesting } = FormSubmissionState;
      const confirmationMessage = getAttribute("data-turbo-confirm", this.submitter, this.formElement);
      if (typeof confirmationMessage === "string") {
        const answer = await _FormSubmission.confirmMethod(confirmationMessage, this.formElement, this.submitter);
        if (!answer) {
          return;
        }
      }
      if (this.state == initialized) {
        this.state = requesting;
        return this.fetchRequest.perform();
      }
    }
    stop() {
      const { stopping, stopped } = FormSubmissionState;
      if (this.state != stopping && this.state != stopped) {
        this.state = stopping;
        this.fetchRequest.cancel();
        return true;
      }
    }
    // Fetch request delegate
    prepareRequest(request) {
      if (!request.isSafe) {
        const token = getCookieValue(getMetaContent("csrf-param")) || getMetaContent("csrf-token");
        if (token) {
          request.headers["X-CSRF-Token"] = token;
        }
      }
      if (this.requestAcceptsTurboStreamResponse(request)) {
        request.acceptResponseType(StreamMessage.contentType);
      }
    }
    requestStarted(_request) {
      this.state = FormSubmissionState.waiting;
      this.submitter?.setAttribute("disabled", "");
      this.setSubmitsWith();
      markAsBusy(this.formElement);
      dispatch("turbo:submit-start", {
        target: this.formElement,
        detail: { formSubmission: this }
      });
      this.delegate.formSubmissionStarted(this);
    }
    requestPreventedHandlingResponse(request, response) {
      prefetchCache.clear();
      this.result = { success: response.succeeded, fetchResponse: response };
    }
    requestSucceededWithResponse(request, response) {
      if (response.clientError || response.serverError) {
        this.delegate.formSubmissionFailedWithResponse(this, response);
        return;
      }
      prefetchCache.clear();
      if (this.requestMustRedirect(request) && responseSucceededWithoutRedirect(response)) {
        const error2 = new Error("Form responses must redirect to another location");
        this.delegate.formSubmissionErrored(this, error2);
      } else {
        this.state = FormSubmissionState.receiving;
        this.result = { success: true, fetchResponse: response };
        this.delegate.formSubmissionSucceededWithResponse(this, response);
      }
    }
    requestFailedWithResponse(request, response) {
      this.result = { success: false, fetchResponse: response };
      this.delegate.formSubmissionFailedWithResponse(this, response);
    }
    requestErrored(request, error2) {
      this.result = { success: false, error: error2 };
      this.delegate.formSubmissionErrored(this, error2);
    }
    requestFinished(_request) {
      this.state = FormSubmissionState.stopped;
      this.submitter?.removeAttribute("disabled");
      this.resetSubmitterText();
      clearBusyState(this.formElement);
      dispatch("turbo:submit-end", {
        target: this.formElement,
        detail: { formSubmission: this, ...this.result }
      });
      this.delegate.formSubmissionFinished(this);
    }
    // Private
    setSubmitsWith() {
      if (!this.submitter || !this.submitsWith) return;
      if (this.submitter.matches("button")) {
        this.originalSubmitText = this.submitter.innerHTML;
        this.submitter.innerHTML = this.submitsWith;
      } else if (this.submitter.matches("input")) {
        const input = this.submitter;
        this.originalSubmitText = input.value;
        input.value = this.submitsWith;
      }
    }
    resetSubmitterText() {
      if (!this.submitter || !this.originalSubmitText) return;
      if (this.submitter.matches("button")) {
        this.submitter.innerHTML = this.originalSubmitText;
      } else if (this.submitter.matches("input")) {
        const input = this.submitter;
        input.value = this.originalSubmitText;
      }
    }
    requestMustRedirect(request) {
      return !request.isSafe && this.mustRedirect;
    }
    requestAcceptsTurboStreamResponse(request) {
      return !request.isSafe || hasAttribute("data-turbo-stream", this.submitter, this.formElement);
    }
    get submitsWith() {
      return this.submitter?.getAttribute("data-turbo-submits-with");
    }
  };
  function buildFormData(formElement, submitter) {
    const formData = new FormData(formElement);
    const name = submitter?.getAttribute("name");
    const value = submitter?.getAttribute("value");
    if (name) {
      formData.append(name, value || "");
    }
    return formData;
  }
  function getCookieValue(cookieName) {
    if (cookieName != null) {
      const cookies = document.cookie ? document.cookie.split("; ") : [];
      const cookie = cookies.find((cookie2) => cookie2.startsWith(cookieName));
      if (cookie) {
        const value = cookie.split("=").slice(1).join("=");
        return value ? decodeURIComponent(value) : void 0;
      }
    }
  }
  function responseSucceededWithoutRedirect(response) {
    return response.statusCode == 200 && !response.redirected;
  }
  function getFormAction(formElement, submitter) {
    const formElementAction = typeof formElement.action === "string" ? formElement.action : null;
    if (submitter?.hasAttribute("formaction")) {
      return submitter.getAttribute("formaction") || "";
    } else {
      return formElement.getAttribute("action") || formElementAction || "";
    }
  }
  function getAction(formAction, fetchMethod) {
    const action = expandURL(formAction);
    if (isSafe(fetchMethod)) {
      action.search = "";
    }
    return action;
  }
  function getMethod(formElement, submitter) {
    const method = submitter?.getAttribute("formmethod") || formElement.getAttribute("method") || "";
    return fetchMethodFromString(method.toLowerCase()) || FetchMethod.get;
  }
  function getEnctype(formElement, submitter) {
    return fetchEnctypeFromString(submitter?.getAttribute("formenctype") || formElement.enctype);
  }
  var Snapshot = class {
    constructor(element) {
      this.element = element;
    }
    get activeElement() {
      return this.element.ownerDocument.activeElement;
    }
    get children() {
      return [...this.element.children];
    }
    hasAnchor(anchor) {
      return this.getElementForAnchor(anchor) != null;
    }
    getElementForAnchor(anchor) {
      return anchor ? this.element.querySelector(`[id='${anchor}'], a[name='${anchor}']`) : null;
    }
    get isConnected() {
      return this.element.isConnected;
    }
    get firstAutofocusableElement() {
      return queryAutofocusableElement(this.element);
    }
    get permanentElements() {
      return queryPermanentElementsAll(this.element);
    }
    getPermanentElementById(id) {
      return getPermanentElementById(this.element, id);
    }
    getPermanentElementMapForSnapshot(snapshot) {
      const permanentElementMap = {};
      for (const currentPermanentElement of this.permanentElements) {
        const { id } = currentPermanentElement;
        const newPermanentElement = snapshot.getPermanentElementById(id);
        if (newPermanentElement) {
          permanentElementMap[id] = [currentPermanentElement, newPermanentElement];
        }
      }
      return permanentElementMap;
    }
  };
  function getPermanentElementById(node, id) {
    return node.querySelector(`#${id}[data-turbo-permanent]`);
  }
  function queryPermanentElementsAll(node) {
    return node.querySelectorAll("[id][data-turbo-permanent]");
  }
  var FormSubmitObserver = class {
    constructor(delegate, eventTarget) {
      __publicField(this, "started", false);
      __publicField(this, "submitCaptured", () => {
        this.eventTarget.removeEventListener("submit", this.submitBubbled, false);
        this.eventTarget.addEventListener("submit", this.submitBubbled, false);
      });
      __publicField(this, "submitBubbled", (event) => {
        if (!event.defaultPrevented) {
          const form = event.target instanceof HTMLFormElement ? event.target : void 0;
          const submitter = event.submitter || void 0;
          if (form && submissionDoesNotDismissDialog(form, submitter) && submissionDoesNotTargetIFrame(form, submitter) && this.delegate.willSubmitForm(form, submitter)) {
            event.preventDefault();
            event.stopImmediatePropagation();
            this.delegate.formSubmitted(form, submitter);
          }
        }
      });
      this.delegate = delegate;
      this.eventTarget = eventTarget;
    }
    start() {
      if (!this.started) {
        this.eventTarget.addEventListener("submit", this.submitCaptured, true);
        this.started = true;
      }
    }
    stop() {
      if (this.started) {
        this.eventTarget.removeEventListener("submit", this.submitCaptured, true);
        this.started = false;
      }
    }
  };
  function submissionDoesNotDismissDialog(form, submitter) {
    const method = submitter?.getAttribute("formmethod") || form.getAttribute("method");
    return method != "dialog";
  }
  function submissionDoesNotTargetIFrame(form, submitter) {
    if (submitter?.hasAttribute("formtarget") || form.hasAttribute("target")) {
      const target = submitter?.getAttribute("formtarget") || form.target;
      for (const element of document.getElementsByName(target)) {
        if (element instanceof HTMLIFrameElement) return false;
      }
      return true;
    } else {
      return true;
    }
  }
  var _resolveRenderPromise, _resolveInterceptionPromise;
  var View = class {
    constructor(delegate, element) {
      __privateAdd(this, _resolveRenderPromise, (_value) => {
      });
      __privateAdd(this, _resolveInterceptionPromise, (_value) => {
      });
      this.delegate = delegate;
      this.element = element;
    }
    // Scrolling
    scrollToAnchor(anchor) {
      const element = this.snapshot.getElementForAnchor(anchor);
      if (element) {
        this.scrollToElement(element);
        this.focusElement(element);
      } else {
        this.scrollToPosition({ x: 0, y: 0 });
      }
    }
    scrollToAnchorFromLocation(location2) {
      this.scrollToAnchor(getAnchor(location2));
    }
    scrollToElement(element) {
      element.scrollIntoView();
    }
    focusElement(element) {
      if (element instanceof HTMLElement) {
        if (element.hasAttribute("tabindex")) {
          element.focus();
        } else {
          element.setAttribute("tabindex", "-1");
          element.focus();
          element.removeAttribute("tabindex");
        }
      }
    }
    scrollToPosition({ x, y }) {
      this.scrollRoot.scrollTo(x, y);
    }
    scrollToTop() {
      this.scrollToPosition({ x: 0, y: 0 });
    }
    get scrollRoot() {
      return window;
    }
    // Rendering
    async render(renderer) {
      const { isPreview, shouldRender, willRender, newSnapshot: snapshot } = renderer;
      const shouldInvalidate = willRender;
      if (shouldRender) {
        try {
          this.renderPromise = new Promise((resolve) => __privateSet(this, _resolveRenderPromise, resolve));
          this.renderer = renderer;
          await this.prepareToRenderSnapshot(renderer);
          const renderInterception = new Promise((resolve) => __privateSet(this, _resolveInterceptionPromise, resolve));
          const options = { resume: __privateGet(this, _resolveInterceptionPromise), render: this.renderer.renderElement, renderMethod: this.renderer.renderMethod };
          const immediateRender = this.delegate.allowsImmediateRender(snapshot, options);
          if (!immediateRender) await renderInterception;
          await this.renderSnapshot(renderer);
          this.delegate.viewRenderedSnapshot(snapshot, isPreview, this.renderer.renderMethod);
          this.delegate.preloadOnLoadLinksForView(this.element);
          this.finishRenderingSnapshot(renderer);
        } finally {
          delete this.renderer;
          __privateGet(this, _resolveRenderPromise).call(this, void 0);
          delete this.renderPromise;
        }
      } else if (shouldInvalidate) {
        this.invalidate(renderer.reloadReason);
      }
    }
    invalidate(reason) {
      this.delegate.viewInvalidated(reason);
    }
    async prepareToRenderSnapshot(renderer) {
      this.markAsPreview(renderer.isPreview);
      await renderer.prepareToRender();
    }
    markAsPreview(isPreview) {
      if (isPreview) {
        this.element.setAttribute("data-turbo-preview", "");
      } else {
        this.element.removeAttribute("data-turbo-preview");
      }
    }
    markVisitDirection(direction) {
      this.element.setAttribute("data-turbo-visit-direction", direction);
    }
    unmarkVisitDirection() {
      this.element.removeAttribute("data-turbo-visit-direction");
    }
    async renderSnapshot(renderer) {
      await renderer.render();
    }
    finishRenderingSnapshot(renderer) {
      renderer.finishRendering();
    }
  };
  _resolveRenderPromise = new WeakMap();
  _resolveInterceptionPromise = new WeakMap();
  var FrameView = class extends View {
    missing() {
      this.element.innerHTML = `<strong class="turbo-frame-error">Content missing</strong>`;
    }
    get snapshot() {
      return new Snapshot(this.element);
    }
  };
  var LinkInterceptor = class {
    constructor(delegate, element) {
      __publicField(this, "clickBubbled", (event) => {
        if (this.respondsToEventTarget(event.target)) {
          this.clickEvent = event;
        } else {
          delete this.clickEvent;
        }
      });
      __publicField(this, "linkClicked", (event) => {
        if (this.clickEvent && this.respondsToEventTarget(event.target) && event.target instanceof Element) {
          if (this.delegate.shouldInterceptLinkClick(event.target, event.detail.url, event.detail.originalEvent)) {
            this.clickEvent.preventDefault();
            event.preventDefault();
            this.delegate.linkClickIntercepted(event.target, event.detail.url, event.detail.originalEvent);
          }
        }
        delete this.clickEvent;
      });
      __publicField(this, "willVisit", (_event) => {
        delete this.clickEvent;
      });
      this.delegate = delegate;
      this.element = element;
    }
    start() {
      this.element.addEventListener("click", this.clickBubbled);
      document.addEventListener("turbo:click", this.linkClicked);
      document.addEventListener("turbo:before-visit", this.willVisit);
    }
    stop() {
      this.element.removeEventListener("click", this.clickBubbled);
      document.removeEventListener("turbo:click", this.linkClicked);
      document.removeEventListener("turbo:before-visit", this.willVisit);
    }
    respondsToEventTarget(target) {
      const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;
      return element && element.closest("turbo-frame, html") == this.element;
    }
  };
  var LinkClickObserver = class {
    constructor(delegate, eventTarget) {
      __publicField(this, "started", false);
      __publicField(this, "clickCaptured", () => {
        this.eventTarget.removeEventListener("click", this.clickBubbled, false);
        this.eventTarget.addEventListener("click", this.clickBubbled, false);
      });
      __publicField(this, "clickBubbled", (event) => {
        if (event instanceof MouseEvent && this.clickEventIsSignificant(event)) {
          const target = event.composedPath && event.composedPath()[0] || event.target;
          const link = findLinkFromClickTarget(target);
          if (link && doesNotTargetIFrame(link)) {
            const location2 = getLocationForLink(link);
            if (this.delegate.willFollowLinkToLocation(link, location2, event)) {
              event.preventDefault();
              this.delegate.followedLinkToLocation(link, location2);
            }
          }
        }
      });
      this.delegate = delegate;
      this.eventTarget = eventTarget;
    }
    start() {
      if (!this.started) {
        this.eventTarget.addEventListener("click", this.clickCaptured, true);
        this.started = true;
      }
    }
    stop() {
      if (this.started) {
        this.eventTarget.removeEventListener("click", this.clickCaptured, true);
        this.started = false;
      }
    }
    clickEventIsSignificant(event) {
      return !(event.target && event.target.isContentEditable || event.defaultPrevented || event.which > 1 || event.altKey || event.ctrlKey || event.metaKey || event.shiftKey);
    }
  };
  var FormLinkClickObserver = class {
    constructor(delegate, element) {
      this.delegate = delegate;
      this.linkInterceptor = new LinkClickObserver(this, element);
    }
    start() {
      this.linkInterceptor.start();
    }
    stop() {
      this.linkInterceptor.stop();
    }
    // Link hover observer delegate
    canPrefetchRequestToLocation(link, location2) {
      return false;
    }
    prefetchAndCacheRequestToLocation(link, location2) {
      return;
    }
    // Link click observer delegate
    willFollowLinkToLocation(link, location2, originalEvent) {
      return this.delegate.willSubmitFormLinkToLocation(link, location2, originalEvent) && (link.hasAttribute("data-turbo-method") || link.hasAttribute("data-turbo-stream"));
    }
    followedLinkToLocation(link, location2) {
      const form = document.createElement("form");
      const type = "hidden";
      for (const [name, value] of location2.searchParams) {
        form.append(Object.assign(document.createElement("input"), { type, name, value }));
      }
      const action = Object.assign(location2, { search: "" });
      form.setAttribute("data-turbo", "true");
      form.setAttribute("action", action.href);
      form.setAttribute("hidden", "");
      const method = link.getAttribute("data-turbo-method");
      if (method) form.setAttribute("method", method);
      const turboFrame = link.getAttribute("data-turbo-frame");
      if (turboFrame) form.setAttribute("data-turbo-frame", turboFrame);
      const turboAction = getVisitAction(link);
      if (turboAction) form.setAttribute("data-turbo-action", turboAction);
      const turboConfirm = link.getAttribute("data-turbo-confirm");
      if (turboConfirm) form.setAttribute("data-turbo-confirm", turboConfirm);
      const turboStream = link.hasAttribute("data-turbo-stream");
      if (turboStream) form.setAttribute("data-turbo-stream", "");
      this.delegate.submittedFormLinkToLocation(link, location2, form);
      document.body.appendChild(form);
      form.addEventListener("turbo:submit-end", () => form.remove(), { once: true });
      requestAnimationFrame(() => form.requestSubmit());
    }
  };
  var Bardo = class {
    static async preservingPermanentElements(delegate, permanentElementMap, callback) {
      const bardo = new this(delegate, permanentElementMap);
      bardo.enter();
      await callback();
      bardo.leave();
    }
    constructor(delegate, permanentElementMap) {
      this.delegate = delegate;
      this.permanentElementMap = permanentElementMap;
    }
    enter() {
      for (const id in this.permanentElementMap) {
        const [currentPermanentElement, newPermanentElement] = this.permanentElementMap[id];
        this.delegate.enteringBardo(currentPermanentElement, newPermanentElement);
        this.replaceNewPermanentElementWithPlaceholder(newPermanentElement);
      }
    }
    leave() {
      for (const id in this.permanentElementMap) {
        const [currentPermanentElement] = this.permanentElementMap[id];
        this.replaceCurrentPermanentElementWithClone(currentPermanentElement);
        this.replacePlaceholderWithPermanentElement(currentPermanentElement);
        this.delegate.leavingBardo(currentPermanentElement);
      }
    }
    replaceNewPermanentElementWithPlaceholder(permanentElement) {
      const placeholder = createPlaceholderForPermanentElement(permanentElement);
      permanentElement.replaceWith(placeholder);
    }
    replaceCurrentPermanentElementWithClone(permanentElement) {
      const clone = permanentElement.cloneNode(true);
      permanentElement.replaceWith(clone);
    }
    replacePlaceholderWithPermanentElement(permanentElement) {
      const placeholder = this.getPlaceholderById(permanentElement.id);
      placeholder?.replaceWith(permanentElement);
    }
    getPlaceholderById(id) {
      return this.placeholders.find((element) => element.content == id);
    }
    get placeholders() {
      return [...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")];
    }
  };
  function createPlaceholderForPermanentElement(permanentElement) {
    const element = document.createElement("meta");
    element.setAttribute("name", "turbo-permanent-placeholder");
    element.setAttribute("content", permanentElement.id);
    return element;
  }
  var _activeElement;
  var Renderer = class {
    constructor(currentSnapshot, newSnapshot, renderElement, isPreview, willRender = true) {
      __privateAdd(this, _activeElement, null);
      this.currentSnapshot = currentSnapshot;
      this.newSnapshot = newSnapshot;
      this.isPreview = isPreview;
      this.willRender = willRender;
      this.renderElement = renderElement;
      this.promise = new Promise((resolve, reject) => this.resolvingFunctions = { resolve, reject });
    }
    get shouldRender() {
      return true;
    }
    get reloadReason() {
      return;
    }
    prepareToRender() {
      return;
    }
    render() {
    }
    finishRendering() {
      if (this.resolvingFunctions) {
        this.resolvingFunctions.resolve();
        delete this.resolvingFunctions;
      }
    }
    async preservingPermanentElements(callback) {
      await Bardo.preservingPermanentElements(this, this.permanentElementMap, callback);
    }
    focusFirstAutofocusableElement() {
      const element = this.connectedSnapshot.firstAutofocusableElement;
      if (element) {
        element.focus();
      }
    }
    // Bardo delegate
    enteringBardo(currentPermanentElement) {
      if (__privateGet(this, _activeElement)) return;
      if (currentPermanentElement.contains(this.currentSnapshot.activeElement)) {
        __privateSet(this, _activeElement, this.currentSnapshot.activeElement);
      }
    }
    leavingBardo(currentPermanentElement) {
      if (currentPermanentElement.contains(__privateGet(this, _activeElement)) && __privateGet(this, _activeElement) instanceof HTMLElement) {
        __privateGet(this, _activeElement).focus();
        __privateSet(this, _activeElement, null);
      }
    }
    get connectedSnapshot() {
      return this.newSnapshot.isConnected ? this.newSnapshot : this.currentSnapshot;
    }
    get currentElement() {
      return this.currentSnapshot.element;
    }
    get newElement() {
      return this.newSnapshot.element;
    }
    get permanentElementMap() {
      return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot);
    }
    get renderMethod() {
      return "replace";
    }
  };
  _activeElement = new WeakMap();
  var FrameRenderer = class extends Renderer {
    static renderElement(currentElement, newElement) {
      const destinationRange = document.createRange();
      destinationRange.selectNodeContents(currentElement);
      destinationRange.deleteContents();
      const frameElement = newElement;
      const sourceRange = frameElement.ownerDocument?.createRange();
      if (sourceRange) {
        sourceRange.selectNodeContents(frameElement);
        currentElement.appendChild(sourceRange.extractContents());
      }
    }
    constructor(delegate, currentSnapshot, newSnapshot, renderElement, isPreview, willRender = true) {
      super(currentSnapshot, newSnapshot, renderElement, isPreview, willRender);
      this.delegate = delegate;
    }
    get shouldRender() {
      return true;
    }
    async render() {
      await nextRepaint();
      this.preservingPermanentElements(() => {
        this.loadFrameElement();
      });
      this.scrollFrameIntoView();
      await nextRepaint();
      this.focusFirstAutofocusableElement();
      await nextRepaint();
      this.activateScriptElements();
    }
    loadFrameElement() {
      this.delegate.willRenderFrame(this.currentElement, this.newElement);
      this.renderElement(this.currentElement, this.newElement);
    }
    scrollFrameIntoView() {
      if (this.currentElement.autoscroll || this.newElement.autoscroll) {
        const element = this.currentElement.firstElementChild;
        const block = readScrollLogicalPosition(this.currentElement.getAttribute("data-autoscroll-block"), "end");
        const behavior = readScrollBehavior(this.currentElement.getAttribute("data-autoscroll-behavior"), "auto");
        if (element) {
          element.scrollIntoView({ block, behavior });
          return true;
        }
      }
      return false;
    }
    activateScriptElements() {
      for (const inertScriptElement of this.newScriptElements) {
        const activatedScriptElement = activateScriptElement(inertScriptElement);
        inertScriptElement.replaceWith(activatedScriptElement);
      }
    }
    get newScriptElements() {
      return this.currentElement.querySelectorAll("script");
    }
  };
  function readScrollLogicalPosition(value, defaultValue) {
    if (value == "end" || value == "start" || value == "center" || value == "nearest") {
      return value;
    } else {
      return defaultValue;
    }
  }
  function readScrollBehavior(value, defaultValue) {
    if (value == "auto" || value == "smooth") {
      return value;
    } else {
      return defaultValue;
    }
  }
  var _ProgressBar = class _ProgressBar {
    constructor() {
      __publicField(this, "hiding", false);
      __publicField(this, "value", 0);
      __publicField(this, "visible", false);
      __publicField(this, "trickle", () => {
        this.setValue(this.value + Math.random() / 100);
      });
      this.stylesheetElement = this.createStylesheetElement();
      this.progressElement = this.createProgressElement();
      this.installStylesheetElement();
      this.setValue(0);
    }
    /*ms*/
    static get defaultCSS() {
      return unindent`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${_ProgressBar.animationDuration}ms ease-out,
          opacity ${_ProgressBar.animationDuration / 2}ms ${_ProgressBar.animationDuration / 2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `;
    }
    show() {
      if (!this.visible) {
        this.visible = true;
        this.installProgressElement();
        this.startTrickling();
      }
    }
    hide() {
      if (this.visible && !this.hiding) {
        this.hiding = true;
        this.fadeProgressElement(() => {
          this.uninstallProgressElement();
          this.stopTrickling();
          this.visible = false;
          this.hiding = false;
        });
      }
    }
    setValue(value) {
      this.value = value;
      this.refresh();
    }
    // Private
    installStylesheetElement() {
      document.head.insertBefore(this.stylesheetElement, document.head.firstChild);
    }
    installProgressElement() {
      this.progressElement.style.width = "0";
      this.progressElement.style.opacity = "1";
      document.documentElement.insertBefore(this.progressElement, document.body);
      this.refresh();
    }
    fadeProgressElement(callback) {
      this.progressElement.style.opacity = "0";
      setTimeout(callback, _ProgressBar.animationDuration * 1.5);
    }
    uninstallProgressElement() {
      if (this.progressElement.parentNode) {
        document.documentElement.removeChild(this.progressElement);
      }
    }
    startTrickling() {
      if (!this.trickleInterval) {
        this.trickleInterval = window.setInterval(this.trickle, _ProgressBar.animationDuration);
      }
    }
    stopTrickling() {
      window.clearInterval(this.trickleInterval);
      delete this.trickleInterval;
    }
    refresh() {
      requestAnimationFrame(() => {
        this.progressElement.style.width = `${10 + this.value * 90}%`;
      });
    }
    createStylesheetElement() {
      const element = document.createElement("style");
      element.type = "text/css";
      element.textContent = _ProgressBar.defaultCSS;
      if (this.cspNonce) {
        element.nonce = this.cspNonce;
      }
      return element;
    }
    createProgressElement() {
      const element = document.createElement("div");
      element.className = "turbo-progress-bar";
      return element;
    }
    get cspNonce() {
      return getMetaContent("csp-nonce");
    }
  };
  __publicField(_ProgressBar, "animationDuration", 300);
  var ProgressBar = _ProgressBar;
  var HeadSnapshot = class extends Snapshot {
    constructor() {
      super(...arguments);
      __publicField(this, "detailsByOuterHTML", this.children.filter((element) => !elementIsNoscript(element)).map((element) => elementWithoutNonce(element)).reduce((result, element) => {
        const { outerHTML } = element;
        const details = outerHTML in result ? result[outerHTML] : {
          type: elementType(element),
          tracked: elementIsTracked(element),
          elements: []
        };
        return {
          ...result,
          [outerHTML]: {
            ...details,
            elements: [...details.elements, element]
          }
        };
      }, {}));
    }
    get trackedElementSignature() {
      return Object.keys(this.detailsByOuterHTML).filter((outerHTML) => this.detailsByOuterHTML[outerHTML].tracked).join("");
    }
    getScriptElementsNotInSnapshot(snapshot) {
      return this.getElementsMatchingTypeNotInSnapshot("script", snapshot);
    }
    getStylesheetElementsNotInSnapshot(snapshot) {
      return this.getElementsMatchingTypeNotInSnapshot("stylesheet", snapshot);
    }
    getElementsMatchingTypeNotInSnapshot(matchedType, snapshot) {
      return Object.keys(this.detailsByOuterHTML).filter((outerHTML) => !(outerHTML in snapshot.detailsByOuterHTML)).map((outerHTML) => this.detailsByOuterHTML[outerHTML]).filter(({ type }) => type == matchedType).map(({ elements: [element] }) => element);
    }
    get provisionalElements() {
      return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {
        const { type, tracked, elements } = this.detailsByOuterHTML[outerHTML];
        if (type == null && !tracked) {
          return [...result, ...elements];
        } else if (elements.length > 1) {
          return [...result, ...elements.slice(1)];
        } else {
          return result;
        }
      }, []);
    }
    getMetaValue(name) {
      const element = this.findMetaElementByName(name);
      return element ? element.getAttribute("content") : null;
    }
    findMetaElementByName(name) {
      return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {
        const {
          elements: [element]
        } = this.detailsByOuterHTML[outerHTML];
        return elementIsMetaElementWithName(element, name) ? element : result;
      }, void 0 | void 0);
    }
  };
  function elementType(element) {
    if (elementIsScript(element)) {
      return "script";
    } else if (elementIsStylesheet(element)) {
      return "stylesheet";
    }
  }
  function elementIsTracked(element) {
    return element.getAttribute("data-turbo-track") == "reload";
  }
  function elementIsScript(element) {
    const tagName = element.localName;
    return tagName == "script";
  }
  function elementIsNoscript(element) {
    const tagName = element.localName;
    return tagName == "noscript";
  }
  function elementIsStylesheet(element) {
    const tagName = element.localName;
    return tagName == "style" || tagName == "link" && element.getAttribute("rel") == "stylesheet";
  }
  function elementIsMetaElementWithName(element, name) {
    const tagName = element.localName;
    return tagName == "meta" && element.getAttribute("name") == name;
  }
  function elementWithoutNonce(element) {
    if (element.hasAttribute("nonce")) {
      element.setAttribute("nonce", "");
    }
    return element;
  }
  var PageSnapshot = class _PageSnapshot extends Snapshot {
    static fromHTMLString(html = "") {
      return this.fromDocument(parseHTMLDocument(html));
    }
    static fromElement(element) {
      return this.fromDocument(element.ownerDocument);
    }
    static fromDocument({ documentElement, body, head }) {
      return new this(documentElement, body, new HeadSnapshot(head));
    }
    constructor(documentElement, body, headSnapshot) {
      super(body);
      this.documentElement = documentElement;
      this.headSnapshot = headSnapshot;
    }
    clone() {
      const clonedElement = this.element.cloneNode(true);
      const selectElements = this.element.querySelectorAll("select");
      const clonedSelectElements = clonedElement.querySelectorAll("select");
      for (const [index, source] of selectElements.entries()) {
        const clone = clonedSelectElements[index];
        for (const option of clone.selectedOptions) option.selected = false;
        for (const option of source.selectedOptions) clone.options[option.index].selected = true;
      }
      for (const clonedPasswordInput of clonedElement.querySelectorAll('input[type="password"]')) {
        clonedPasswordInput.value = "";
      }
      return new _PageSnapshot(this.documentElement, clonedElement, this.headSnapshot);
    }
    get lang() {
      return this.documentElement.getAttribute("lang");
    }
    get headElement() {
      return this.headSnapshot.element;
    }
    get rootLocation() {
      const root = this.getSetting("root") ?? "/";
      return expandURL(root);
    }
    get cacheControlValue() {
      return this.getSetting("cache-control");
    }
    get isPreviewable() {
      return this.cacheControlValue != "no-preview";
    }
    get isCacheable() {
      return this.cacheControlValue != "no-cache";
    }
    get isVisitable() {
      return this.getSetting("visit-control") != "reload";
    }
    get prefersViewTransitions() {
      return this.headSnapshot.getMetaValue("view-transition") === "same-origin";
    }
    get shouldMorphPage() {
      return this.getSetting("refresh-method") === "morph";
    }
    get shouldPreserveScrollPosition() {
      return this.getSetting("refresh-scroll") === "preserve";
    }
    // Private
    getSetting(name) {
      return this.headSnapshot.getMetaValue(`turbo-${name}`);
    }
  };
  var _viewTransitionStarted, _lastOperation;
  var ViewTransitioner = class {
    constructor() {
      __privateAdd(this, _viewTransitionStarted, false);
      __privateAdd(this, _lastOperation, Promise.resolve());
    }
    renderChange(useViewTransition, render) {
      if (useViewTransition && this.viewTransitionsAvailable && !__privateGet(this, _viewTransitionStarted)) {
        __privateSet(this, _viewTransitionStarted, true);
        __privateSet(this, _lastOperation, __privateGet(this, _lastOperation).then(async () => {
          await document.startViewTransition(render).finished;
        }));
      } else {
        __privateSet(this, _lastOperation, __privateGet(this, _lastOperation).then(render));
      }
      return __privateGet(this, _lastOperation);
    }
    get viewTransitionsAvailable() {
      return document.startViewTransition;
    }
  };
  _viewTransitionStarted = new WeakMap();
  _lastOperation = new WeakMap();
  var defaultOptions = {
    action: "advance",
    historyChanged: false,
    visitCachedSnapshot: () => {
    },
    willRender: true,
    updateHistory: true,
    shouldCacheSnapshot: true,
    acceptsStreamResponse: false
  };
  var TimingMetric = {
    visitStart: "visitStart",
    requestStart: "requestStart",
    requestEnd: "requestEnd",
    visitEnd: "visitEnd"
  };
  var VisitState = {
    initialized: "initialized",
    started: "started",
    canceled: "canceled",
    failed: "failed",
    completed: "completed"
  };
  var SystemStatusCode = {
    networkFailure: 0,
    timeoutFailure: -1,
    contentTypeMismatch: -2
  };
  var Direction = {
    advance: "forward",
    restore: "back",
    replace: "none"
  };
  var Visit = class {
    constructor(delegate, location2, restorationIdentifier, options = {}) {
      __publicField(this, "identifier", uuid());
      // Required by turbo-ios
      __publicField(this, "timingMetrics", {});
      __publicField(this, "followedRedirect", false);
      __publicField(this, "historyChanged", false);
      __publicField(this, "scrolled", false);
      __publicField(this, "shouldCacheSnapshot", true);
      __publicField(this, "acceptsStreamResponse", false);
      __publicField(this, "snapshotCached", false);
      __publicField(this, "state", VisitState.initialized);
      __publicField(this, "viewTransitioner", new ViewTransitioner());
      this.delegate = delegate;
      this.location = location2;
      this.restorationIdentifier = restorationIdentifier || uuid();
      const {
        action,
        historyChanged,
        referrer,
        snapshot,
        snapshotHTML,
        response,
        visitCachedSnapshot,
        willRender,
        updateHistory,
        shouldCacheSnapshot,
        acceptsStreamResponse,
        direction
      } = {
        ...defaultOptions,
        ...options
      };
      this.action = action;
      this.historyChanged = historyChanged;
      this.referrer = referrer;
      this.snapshot = snapshot;
      this.snapshotHTML = snapshotHTML;
      this.response = response;
      this.isSamePage = this.delegate.locationWithActionIsSamePage(this.location, this.action);
      this.isPageRefresh = this.view.isPageRefresh(this);
      this.visitCachedSnapshot = visitCachedSnapshot;
      this.willRender = willRender;
      this.updateHistory = updateHistory;
      this.scrolled = !willRender;
      this.shouldCacheSnapshot = shouldCacheSnapshot;
      this.acceptsStreamResponse = acceptsStreamResponse;
      this.direction = direction || Direction[action];
    }
    get adapter() {
      return this.delegate.adapter;
    }
    get view() {
      return this.delegate.view;
    }
    get history() {
      return this.delegate.history;
    }
    get restorationData() {
      return this.history.getRestorationDataForIdentifier(this.restorationIdentifier);
    }
    get silent() {
      return this.isSamePage;
    }
    start() {
      if (this.state == VisitState.initialized) {
        this.recordTimingMetric(TimingMetric.visitStart);
        this.state = VisitState.started;
        this.adapter.visitStarted(this);
        this.delegate.visitStarted(this);
      }
    }
    cancel() {
      if (this.state == VisitState.started) {
        if (this.request) {
          this.request.cancel();
        }
        this.cancelRender();
        this.state = VisitState.canceled;
      }
    }
    complete() {
      if (this.state == VisitState.started) {
        this.recordTimingMetric(TimingMetric.visitEnd);
        this.adapter.visitCompleted(this);
        this.state = VisitState.completed;
        this.followRedirect();
        if (!this.followedRedirect) {
          this.delegate.visitCompleted(this);
        }
      }
    }
    fail() {
      if (this.state == VisitState.started) {
        this.state = VisitState.failed;
        this.adapter.visitFailed(this);
        this.delegate.visitCompleted(this);
      }
    }
    changeHistory() {
      if (!this.historyChanged && this.updateHistory) {
        const actionForHistory = this.location.href === this.referrer?.href ? "replace" : this.action;
        const method = getHistoryMethodForAction(actionForHistory);
        this.history.update(method, this.location, this.restorationIdentifier);
        this.historyChanged = true;
      }
    }
    issueRequest() {
      if (this.hasPreloadedResponse()) {
        this.simulateRequest();
      } else if (this.shouldIssueRequest() && !this.request) {
        this.request = new FetchRequest(this, FetchMethod.get, this.location);
        this.request.perform();
      }
    }
    simulateRequest() {
      if (this.response) {
        this.startRequest();
        this.recordResponse();
        this.finishRequest();
      }
    }
    startRequest() {
      this.recordTimingMetric(TimingMetric.requestStart);
      this.adapter.visitRequestStarted(this);
    }
    recordResponse(response = this.response) {
      this.response = response;
      if (response) {
        const { statusCode } = response;
        if (isSuccessful(statusCode)) {
          this.adapter.visitRequestCompleted(this);
        } else {
          this.adapter.visitRequestFailedWithStatusCode(this, statusCode);
        }
      }
    }
    finishRequest() {
      this.recordTimingMetric(TimingMetric.requestEnd);
      this.adapter.visitRequestFinished(this);
    }
    loadResponse() {
      if (this.response) {
        const { statusCode, responseHTML } = this.response;
        this.render(async () => {
          if (this.shouldCacheSnapshot) this.cacheSnapshot();
          if (this.view.renderPromise) await this.view.renderPromise;
          if (isSuccessful(statusCode) && responseHTML != null) {
            const snapshot = PageSnapshot.fromHTMLString(responseHTML);
            await this.renderPageSnapshot(snapshot, false);
            this.adapter.visitRendered(this);
            this.complete();
          } else {
            await this.view.renderError(PageSnapshot.fromHTMLString(responseHTML), this);
            this.adapter.visitRendered(this);
            this.fail();
          }
        });
      }
    }
    getCachedSnapshot() {
      const snapshot = this.view.getCachedSnapshotForLocation(this.location) || this.getPreloadedSnapshot();
      if (snapshot && (!getAnchor(this.location) || snapshot.hasAnchor(getAnchor(this.location)))) {
        if (this.action == "restore" || snapshot.isPreviewable) {
          return snapshot;
        }
      }
    }
    getPreloadedSnapshot() {
      if (this.snapshotHTML) {
        return PageSnapshot.fromHTMLString(this.snapshotHTML);
      }
    }
    hasCachedSnapshot() {
      return this.getCachedSnapshot() != null;
    }
    loadCachedSnapshot() {
      const snapshot = this.getCachedSnapshot();
      if (snapshot) {
        const isPreview = this.shouldIssueRequest();
        this.render(async () => {
          this.cacheSnapshot();
          if (this.isSamePage || this.isPageRefresh) {
            this.adapter.visitRendered(this);
          } else {
            if (this.view.renderPromise) await this.view.renderPromise;
            await this.renderPageSnapshot(snapshot, isPreview);
            this.adapter.visitRendered(this);
            if (!isPreview) {
              this.complete();
            }
          }
        });
      }
    }
    followRedirect() {
      if (this.redirectedToLocation && !this.followedRedirect && this.response?.redirected) {
        this.adapter.visitProposedToLocation(this.redirectedToLocation, {
          action: "replace",
          response: this.response,
          shouldCacheSnapshot: false,
          willRender: false
        });
        this.followedRedirect = true;
      }
    }
    goToSamePageAnchor() {
      if (this.isSamePage) {
        this.render(async () => {
          this.cacheSnapshot();
          this.performScroll();
          this.changeHistory();
          this.adapter.visitRendered(this);
        });
      }
    }
    // Fetch request delegate
    prepareRequest(request) {
      if (this.acceptsStreamResponse) {
        request.acceptResponseType(StreamMessage.contentType);
      }
    }
    requestStarted() {
      this.startRequest();
    }
    requestPreventedHandlingResponse(_request, _response) {
    }
    async requestSucceededWithResponse(request, response) {
      const responseHTML = await response.responseHTML;
      const { redirected, statusCode } = response;
      if (responseHTML == void 0) {
        this.recordResponse({
          statusCode: SystemStatusCode.contentTypeMismatch,
          redirected
        });
      } else {
        this.redirectedToLocation = response.redirected ? response.location : void 0;
        this.recordResponse({ statusCode, responseHTML, redirected });
      }
    }
    async requestFailedWithResponse(request, response) {
      const responseHTML = await response.responseHTML;
      const { redirected, statusCode } = response;
      if (responseHTML == void 0) {
        this.recordResponse({
          statusCode: SystemStatusCode.contentTypeMismatch,
          redirected
        });
      } else {
        this.recordResponse({ statusCode, responseHTML, redirected });
      }
    }
    requestErrored(_request, _error) {
      this.recordResponse({
        statusCode: SystemStatusCode.networkFailure,
        redirected: false
      });
    }
    requestFinished() {
      this.finishRequest();
    }
    // Scrolling
    performScroll() {
      if (!this.scrolled && !this.view.forceReloaded && !this.view.shouldPreserveScrollPosition(this)) {
        if (this.action == "restore") {
          this.scrollToRestoredPosition() || this.scrollToAnchor() || this.view.scrollToTop();
        } else {
          this.scrollToAnchor() || this.view.scrollToTop();
        }
        if (this.isSamePage) {
          this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation, this.location);
        }
        this.scrolled = true;
      }
    }
    scrollToRestoredPosition() {
      const { scrollPosition } = this.restorationData;
      if (scrollPosition) {
        this.view.scrollToPosition(scrollPosition);
        return true;
      }
    }
    scrollToAnchor() {
      const anchor = getAnchor(this.location);
      if (anchor != null) {
        this.view.scrollToAnchor(anchor);
        return true;
      }
    }
    // Instrumentation
    recordTimingMetric(metric) {
      this.timingMetrics[metric] = (/* @__PURE__ */ new Date()).getTime();
    }
    getTimingMetrics() {
      return { ...this.timingMetrics };
    }
    // Private
    getHistoryMethodForAction(action) {
      switch (action) {
        case "replace":
          return history.replaceState;
        case "advance":
        case "restore":
          return history.pushState;
      }
    }
    hasPreloadedResponse() {
      return typeof this.response == "object";
    }
    shouldIssueRequest() {
      if (this.isSamePage) {
        return false;
      } else if (this.action == "restore") {
        return !this.hasCachedSnapshot();
      } else {
        return this.willRender;
      }
    }
    cacheSnapshot() {
      if (!this.snapshotCached) {
        this.view.cacheSnapshot(this.snapshot).then((snapshot) => snapshot && this.visitCachedSnapshot(snapshot));
        this.snapshotCached = true;
      }
    }
    async render(callback) {
      this.cancelRender();
      this.frame = await nextRepaint();
      await callback();
      delete this.frame;
    }
    async renderPageSnapshot(snapshot, isPreview) {
      await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(snapshot), async () => {
        await this.view.renderPage(snapshot, isPreview, this.willRender, this);
        this.performScroll();
      });
    }
    cancelRender() {
      if (this.frame) {
        cancelAnimationFrame(this.frame);
        delete this.frame;
      }
    }
  };
  function isSuccessful(statusCode) {
    return statusCode >= 200 && statusCode < 300;
  }
  var BrowserAdapter = class {
    constructor(session2) {
      __publicField(this, "progressBar", new ProgressBar());
      __publicField(this, "showProgressBar", () => {
        this.progressBar.show();
      });
      this.session = session2;
    }
    visitProposedToLocation(location2, options) {
      if (locationIsVisitable(location2, this.navigator.rootLocation)) {
        this.navigator.startVisit(location2, options?.restorationIdentifier || uuid(), options);
      } else {
        window.location.href = location2.toString();
      }
    }
    visitStarted(visit2) {
      this.location = visit2.location;
      visit2.loadCachedSnapshot();
      visit2.issueRequest();
      visit2.goToSamePageAnchor();
    }
    visitRequestStarted(visit2) {
      this.progressBar.setValue(0);
      if (visit2.hasCachedSnapshot() || visit2.action != "restore") {
        this.showVisitProgressBarAfterDelay();
      } else {
        this.showProgressBar();
      }
    }
    visitRequestCompleted(visit2) {
      visit2.loadResponse();
    }
    visitRequestFailedWithStatusCode(visit2, statusCode) {
      switch (statusCode) {
        case SystemStatusCode.networkFailure:
        case SystemStatusCode.timeoutFailure:
        case SystemStatusCode.contentTypeMismatch:
          return this.reload({
            reason: "request_failed",
            context: {
              statusCode
            }
          });
        default:
          return visit2.loadResponse();
      }
    }
    visitRequestFinished(_visit) {
    }
    visitCompleted(_visit) {
      this.progressBar.setValue(1);
      this.hideVisitProgressBar();
    }
    pageInvalidated(reason) {
      this.reload(reason);
    }
    visitFailed(_visit) {
      this.progressBar.setValue(1);
      this.hideVisitProgressBar();
    }
    visitRendered(_visit) {
    }
    // Form Submission Delegate
    formSubmissionStarted(_formSubmission) {
      this.progressBar.setValue(0);
      this.showFormProgressBarAfterDelay();
    }
    formSubmissionFinished(_formSubmission) {
      this.progressBar.setValue(1);
      this.hideFormProgressBar();
    }
    // Private
    showVisitProgressBarAfterDelay() {
      this.visitProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);
    }
    hideVisitProgressBar() {
      this.progressBar.hide();
      if (this.visitProgressBarTimeout != null) {
        window.clearTimeout(this.visitProgressBarTimeout);
        delete this.visitProgressBarTimeout;
      }
    }
    showFormProgressBarAfterDelay() {
      if (this.formProgressBarTimeout == null) {
        this.formProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);
      }
    }
    hideFormProgressBar() {
      this.progressBar.hide();
      if (this.formProgressBarTimeout != null) {
        window.clearTimeout(this.formProgressBarTimeout);
        delete this.formProgressBarTimeout;
      }
    }
    reload(reason) {
      dispatch("turbo:reload", { detail: reason });
      window.location.href = this.location?.toString() || window.location.href;
    }
    get navigator() {
      return this.session.navigator;
    }
  };
  var CacheObserver = class {
    constructor() {
      __publicField(this, "selector", "[data-turbo-temporary]");
      __publicField(this, "deprecatedSelector", "[data-turbo-cache=false]");
      __publicField(this, "started", false);
      __publicField(this, "removeTemporaryElements", (_event) => {
        for (const element of this.temporaryElements) {
          element.remove();
        }
      });
    }
    start() {
      if (!this.started) {
        this.started = true;
        addEventListener("turbo:before-cache", this.removeTemporaryElements, false);
      }
    }
    stop() {
      if (this.started) {
        this.started = false;
        removeEventListener("turbo:before-cache", this.removeTemporaryElements, false);
      }
    }
    get temporaryElements() {
      return [...document.querySelectorAll(this.selector), ...this.temporaryElementsWithDeprecation];
    }
    get temporaryElementsWithDeprecation() {
      const elements = document.querySelectorAll(this.deprecatedSelector);
      if (elements.length) {
        console.warn(
          `The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`
        );
      }
      return [...elements];
    }
  };
  var _FrameRedirector_instances, shouldSubmit_fn, shouldRedirect_fn, findFrameElement_fn;
  var FrameRedirector = class {
    constructor(session2, element) {
      __privateAdd(this, _FrameRedirector_instances);
      this.session = session2;
      this.element = element;
      this.linkInterceptor = new LinkInterceptor(this, element);
      this.formSubmitObserver = new FormSubmitObserver(this, element);
    }
    start() {
      this.linkInterceptor.start();
      this.formSubmitObserver.start();
    }
    stop() {
      this.linkInterceptor.stop();
      this.formSubmitObserver.stop();
    }
    // Link interceptor delegate
    shouldInterceptLinkClick(element, _location, _event) {
      return __privateMethod(this, _FrameRedirector_instances, shouldRedirect_fn).call(this, element);
    }
    linkClickIntercepted(element, url, event) {
      const frame = __privateMethod(this, _FrameRedirector_instances, findFrameElement_fn).call(this, element);
      if (frame) {
        frame.delegate.linkClickIntercepted(element, url, event);
      }
    }
    // Form submit observer delegate
    willSubmitForm(element, submitter) {
      return element.closest("turbo-frame") == null && __privateMethod(this, _FrameRedirector_instances, shouldSubmit_fn).call(this, element, submitter) && __privateMethod(this, _FrameRedirector_instances, shouldRedirect_fn).call(this, element, submitter);
    }
    formSubmitted(element, submitter) {
      const frame = __privateMethod(this, _FrameRedirector_instances, findFrameElement_fn).call(this, element, submitter);
      if (frame) {
        frame.delegate.formSubmitted(element, submitter);
      }
    }
  };
  _FrameRedirector_instances = new WeakSet();
  shouldSubmit_fn = function(form, submitter) {
    const action = getAction$1(form, submitter);
    const meta = this.element.ownerDocument.querySelector(`meta[name="turbo-root"]`);
    const rootLocation = expandURL(meta?.content ?? "/");
    return __privateMethod(this, _FrameRedirector_instances, shouldRedirect_fn).call(this, form, submitter) && locationIsVisitable(action, rootLocation);
  };
  shouldRedirect_fn = function(element, submitter) {
    const isNavigatable = element instanceof HTMLFormElement ? this.session.submissionIsNavigatable(element, submitter) : this.session.elementIsNavigatable(element);
    if (isNavigatable) {
      const frame = __privateMethod(this, _FrameRedirector_instances, findFrameElement_fn).call(this, element, submitter);
      return frame ? frame != element.closest("turbo-frame") : false;
    } else {
      return false;
    }
  };
  findFrameElement_fn = function(element, submitter) {
    const id = submitter?.getAttribute("data-turbo-frame") || element.getAttribute("data-turbo-frame");
    if (id && id != "_top") {
      const frame = this.element.querySelector(`#${id}:not([disabled])`);
      if (frame instanceof FrameElement) {
        return frame;
      }
    }
  };
  var History = class {
    constructor(delegate) {
      __publicField(this, "location");
      __publicField(this, "restorationIdentifier", uuid());
      __publicField(this, "restorationData", {});
      __publicField(this, "started", false);
      __publicField(this, "pageLoaded", false);
      __publicField(this, "currentIndex", 0);
      // Event handlers
      __publicField(this, "onPopState", (event) => {
        if (this.shouldHandlePopState()) {
          const { turbo } = event.state || {};
          if (turbo) {
            this.location = new URL(window.location.href);
            const { restorationIdentifier, restorationIndex } = turbo;
            this.restorationIdentifier = restorationIdentifier;
            const direction = restorationIndex > this.currentIndex ? "forward" : "back";
            this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location, restorationIdentifier, direction);
            this.currentIndex = restorationIndex;
          }
        }
      });
      __publicField(this, "onPageLoad", async (_event) => {
        await nextMicrotask();
        this.pageLoaded = true;
      });
      this.delegate = delegate;
    }
    start() {
      if (!this.started) {
        addEventListener("popstate", this.onPopState, false);
        addEventListener("load", this.onPageLoad, false);
        this.currentIndex = history.state?.turbo?.restorationIndex || 0;
        this.started = true;
        this.replace(new URL(window.location.href));
      }
    }
    stop() {
      if (this.started) {
        removeEventListener("popstate", this.onPopState, false);
        removeEventListener("load", this.onPageLoad, false);
        this.started = false;
      }
    }
    push(location2, restorationIdentifier) {
      this.update(history.pushState, location2, restorationIdentifier);
    }
    replace(location2, restorationIdentifier) {
      this.update(history.replaceState, location2, restorationIdentifier);
    }
    update(method, location2, restorationIdentifier = uuid()) {
      if (method === history.pushState) ++this.currentIndex;
      const state = { turbo: { restorationIdentifier, restorationIndex: this.currentIndex } };
      method.call(history, state, "", location2.href);
      this.location = location2;
      this.restorationIdentifier = restorationIdentifier;
    }
    // Restoration data
    getRestorationDataForIdentifier(restorationIdentifier) {
      return this.restorationData[restorationIdentifier] || {};
    }
    updateRestorationData(additionalData) {
      const { restorationIdentifier } = this;
      const restorationData = this.restorationData[restorationIdentifier];
      this.restorationData[restorationIdentifier] = {
        ...restorationData,
        ...additionalData
      };
    }
    // Scroll restoration
    assumeControlOfScrollRestoration() {
      if (!this.previousScrollRestoration) {
        this.previousScrollRestoration = history.scrollRestoration ?? "auto";
        history.scrollRestoration = "manual";
      }
    }
    relinquishControlOfScrollRestoration() {
      if (this.previousScrollRestoration) {
        history.scrollRestoration = this.previousScrollRestoration;
        delete this.previousScrollRestoration;
      }
    }
    // Private
    shouldHandlePopState() {
      return this.pageIsLoaded();
    }
    pageIsLoaded() {
      return this.pageLoaded || document.readyState == "complete";
    }
  };
  var _prefetchedLink, _enable, _tryToPrefetchRequest, _cancelRequestIfObsolete, _cancelPrefetchRequest, _tryToUsePrefetchedRequest, _LinkPrefetchObserver_instances, cacheTtl_get, isPrefetchable_fn;
  var LinkPrefetchObserver = class {
    constructor(delegate, eventTarget) {
      __privateAdd(this, _LinkPrefetchObserver_instances);
      __publicField(this, "started", false);
      __privateAdd(this, _prefetchedLink, null);
      __privateAdd(this, _enable, () => {
        this.eventTarget.addEventListener("mouseenter", __privateGet(this, _tryToPrefetchRequest), {
          capture: true,
          passive: true
        });
        this.eventTarget.addEventListener("mouseleave", __privateGet(this, _cancelRequestIfObsolete), {
          capture: true,
          passive: true
        });
        this.eventTarget.addEventListener("turbo:before-fetch-request", __privateGet(this, _tryToUsePrefetchedRequest), true);
        this.started = true;
      });
      __privateAdd(this, _tryToPrefetchRequest, (event) => {
        if (getMetaContent("turbo-prefetch") === "false") return;
        const target = event.target;
        const isLink = target.matches && target.matches("a[href]:not([target^=_]):not([download])");
        if (isLink && __privateMethod(this, _LinkPrefetchObserver_instances, isPrefetchable_fn).call(this, target)) {
          const link = target;
          const location2 = getLocationForLink(link);
          if (this.delegate.canPrefetchRequestToLocation(link, location2)) {
            __privateSet(this, _prefetchedLink, link);
            const fetchRequest = new FetchRequest(
              this,
              FetchMethod.get,
              location2,
              new URLSearchParams(),
              target
            );
            prefetchCache.setLater(location2.toString(), fetchRequest, __privateGet(this, _LinkPrefetchObserver_instances, cacheTtl_get));
          }
        }
      });
      __privateAdd(this, _cancelRequestIfObsolete, (event) => {
        if (event.target === __privateGet(this, _prefetchedLink)) __privateGet(this, _cancelPrefetchRequest).call(this);
      });
      __privateAdd(this, _cancelPrefetchRequest, () => {
        prefetchCache.clear();
        __privateSet(this, _prefetchedLink, null);
      });
      __privateAdd(this, _tryToUsePrefetchedRequest, (event) => {
        if (event.target.tagName !== "FORM" && event.detail.fetchOptions.method === "get") {
          const cached = prefetchCache.get(event.detail.url.toString());
          if (cached) {
            event.detail.fetchRequest = cached;
          }
          prefetchCache.clear();
        }
      });
      this.delegate = delegate;
      this.eventTarget = eventTarget;
    }
    start() {
      if (this.started) return;
      if (this.eventTarget.readyState === "loading") {
        this.eventTarget.addEventListener("DOMContentLoaded", __privateGet(this, _enable), { once: true });
      } else {
        __privateGet(this, _enable).call(this);
      }
    }
    stop() {
      if (!this.started) return;
      this.eventTarget.removeEventListener("mouseenter", __privateGet(this, _tryToPrefetchRequest), {
        capture: true,
        passive: true
      });
      this.eventTarget.removeEventListener("mouseleave", __privateGet(this, _cancelRequestIfObsolete), {
        capture: true,
        passive: true
      });
      this.eventTarget.removeEventListener("turbo:before-fetch-request", __privateGet(this, _tryToUsePrefetchedRequest), true);
      this.started = false;
    }
    prepareRequest(request) {
      const link = request.target;
      request.headers["X-Sec-Purpose"] = "prefetch";
      const turboFrame = link.closest("turbo-frame");
      const turboFrameTarget = link.getAttribute("data-turbo-frame") || turboFrame?.getAttribute("target") || turboFrame?.id;
      if (turboFrameTarget && turboFrameTarget !== "_top") {
        request.headers["Turbo-Frame"] = turboFrameTarget;
      }
    }
    // Fetch request interface
    requestSucceededWithResponse() {
    }
    requestStarted(fetchRequest) {
    }
    requestErrored(fetchRequest) {
    }
    requestFinished(fetchRequest) {
    }
    requestPreventedHandlingResponse(fetchRequest, fetchResponse) {
    }
    requestFailedWithResponse(fetchRequest, fetchResponse) {
    }
  };
  _prefetchedLink = new WeakMap();
  _enable = new WeakMap();
  _tryToPrefetchRequest = new WeakMap();
  _cancelRequestIfObsolete = new WeakMap();
  _cancelPrefetchRequest = new WeakMap();
  _tryToUsePrefetchedRequest = new WeakMap();
  _LinkPrefetchObserver_instances = new WeakSet();
  cacheTtl_get = function() {
    return Number(getMetaContent("turbo-prefetch-cache-time")) || cacheTtl;
  };
  isPrefetchable_fn = function(link) {
    const href = link.getAttribute("href");
    if (!href) return false;
    if (unfetchableLink(link)) return false;
    if (linkToTheSamePage(link)) return false;
    if (linkOptsOut(link)) return false;
    if (nonSafeLink(link)) return false;
    if (eventPrevented(link)) return false;
    return true;
  };
  var unfetchableLink = (link) => {
    return link.origin !== document.location.origin || !["http:", "https:"].includes(link.protocol) || link.hasAttribute("target");
  };
  var linkToTheSamePage = (link) => {
    return link.pathname + link.search === document.location.pathname + document.location.search || link.href.startsWith("#");
  };
  var linkOptsOut = (link) => {
    if (link.getAttribute("data-turbo-prefetch") === "false") return true;
    if (link.getAttribute("data-turbo") === "false") return true;
    const turboPrefetchParent = findClosestRecursively(link, "[data-turbo-prefetch]");
    if (turboPrefetchParent && turboPrefetchParent.getAttribute("data-turbo-prefetch") === "false") return true;
    return false;
  };
  var nonSafeLink = (link) => {
    const turboMethod = link.getAttribute("data-turbo-method");
    if (turboMethod && turboMethod.toLowerCase() !== "get") return true;
    if (isUJS(link)) return true;
    if (link.hasAttribute("data-turbo-confirm")) return true;
    if (link.hasAttribute("data-turbo-stream")) return true;
    return false;
  };
  var isUJS = (link) => {
    return link.hasAttribute("data-remote") || link.hasAttribute("data-behavior") || link.hasAttribute("data-confirm") || link.hasAttribute("data-method");
  };
  var eventPrevented = (link) => {
    const event = dispatch("turbo:before-prefetch", { target: link, cancelable: true });
    return event.defaultPrevented;
  };
  var _Navigator_instances, getActionForFormSubmission_fn, getDefaultAction_fn;
  var Navigator = class {
    constructor(delegate) {
      __privateAdd(this, _Navigator_instances);
      this.delegate = delegate;
    }
    proposeVisit(location2, options = {}) {
      if (this.delegate.allowsVisitingLocationWithAction(location2, options.action)) {
        this.delegate.visitProposedToLocation(location2, options);
      }
    }
    startVisit(locatable, restorationIdentifier, options = {}) {
      this.stop();
      this.currentVisit = new Visit(this, expandURL(locatable), restorationIdentifier, {
        referrer: this.location,
        ...options
      });
      this.currentVisit.start();
    }
    submitForm(form, submitter) {
      this.stop();
      this.formSubmission = new FormSubmission(this, form, submitter, true);
      this.formSubmission.start();
    }
    stop() {
      if (this.formSubmission) {
        this.formSubmission.stop();
        delete this.formSubmission;
      }
      if (this.currentVisit) {
        this.currentVisit.cancel();
        delete this.currentVisit;
      }
    }
    get adapter() {
      return this.delegate.adapter;
    }
    get view() {
      return this.delegate.view;
    }
    get rootLocation() {
      return this.view.snapshot.rootLocation;
    }
    get history() {
      return this.delegate.history;
    }
    // Form submission delegate
    formSubmissionStarted(formSubmission) {
      if (typeof this.adapter.formSubmissionStarted === "function") {
        this.adapter.formSubmissionStarted(formSubmission);
      }
    }
    async formSubmissionSucceededWithResponse(formSubmission, fetchResponse) {
      if (formSubmission == this.formSubmission) {
        const responseHTML = await fetchResponse.responseHTML;
        if (responseHTML) {
          const shouldCacheSnapshot = formSubmission.isSafe;
          if (!shouldCacheSnapshot) {
            this.view.clearSnapshotCache();
          }
          const { statusCode, redirected } = fetchResponse;
          const action = __privateMethod(this, _Navigator_instances, getActionForFormSubmission_fn).call(this, formSubmission, fetchResponse);
          const visitOptions = {
            action,
            shouldCacheSnapshot,
            response: { statusCode, responseHTML, redirected }
          };
          this.proposeVisit(fetchResponse.location, visitOptions);
        }
      }
    }
    async formSubmissionFailedWithResponse(formSubmission, fetchResponse) {
      const responseHTML = await fetchResponse.responseHTML;
      if (responseHTML) {
        const snapshot = PageSnapshot.fromHTMLString(responseHTML);
        if (fetchResponse.serverError) {
          await this.view.renderError(snapshot, this.currentVisit);
        } else {
          await this.view.renderPage(snapshot, false, true, this.currentVisit);
        }
        if (!snapshot.shouldPreserveScrollPosition) {
          this.view.scrollToTop();
        }
        this.view.clearSnapshotCache();
      }
    }
    formSubmissionErrored(formSubmission, error2) {
      console.error(error2);
    }
    formSubmissionFinished(formSubmission) {
      if (typeof this.adapter.formSubmissionFinished === "function") {
        this.adapter.formSubmissionFinished(formSubmission);
      }
    }
    // Visit delegate
    visitStarted(visit2) {
      this.delegate.visitStarted(visit2);
    }
    visitCompleted(visit2) {
      this.delegate.visitCompleted(visit2);
    }
    locationWithActionIsSamePage(location2, action) {
      const anchor = getAnchor(location2);
      const currentAnchor = getAnchor(this.view.lastRenderedLocation);
      const isRestorationToTop = action === "restore" && typeof anchor === "undefined";
      return action !== "replace" && getRequestURL(location2) === getRequestURL(this.view.lastRenderedLocation) && (isRestorationToTop || anchor != null && anchor !== currentAnchor);
    }
    visitScrolledToSamePageLocation(oldURL, newURL) {
      this.delegate.visitScrolledToSamePageLocation(oldURL, newURL);
    }
    // Visits
    get location() {
      return this.history.location;
    }
    get restorationIdentifier() {
      return this.history.restorationIdentifier;
    }
  };
  _Navigator_instances = new WeakSet();
  getActionForFormSubmission_fn = function(formSubmission, fetchResponse) {
    const { submitter, formElement } = formSubmission;
    return getVisitAction(submitter, formElement) || __privateMethod(this, _Navigator_instances, getDefaultAction_fn).call(this, fetchResponse);
  };
  getDefaultAction_fn = function(fetchResponse) {
    const sameLocationRedirect = fetchResponse.redirected && fetchResponse.location.href === this.location?.href;
    return sameLocationRedirect ? "replace" : "advance";
  };
  var PageStage = {
    initial: 0,
    loading: 1,
    interactive: 2,
    complete: 3
  };
  var PageObserver = class {
    constructor(delegate) {
      __publicField(this, "stage", PageStage.initial);
      __publicField(this, "started", false);
      __publicField(this, "interpretReadyState", () => {
        const { readyState } = this;
        if (readyState == "interactive") {
          this.pageIsInteractive();
        } else if (readyState == "complete") {
          this.pageIsComplete();
        }
      });
      __publicField(this, "pageWillUnload", () => {
        this.delegate.pageWillUnload();
      });
      this.delegate = delegate;
    }
    start() {
      if (!this.started) {
        if (this.stage == PageStage.initial) {
          this.stage = PageStage.loading;
        }
        document.addEventListener("readystatechange", this.interpretReadyState, false);
        addEventListener("pagehide", this.pageWillUnload, false);
        this.started = true;
      }
    }
    stop() {
      if (this.started) {
        document.removeEventListener("readystatechange", this.interpretReadyState, false);
        removeEventListener("pagehide", this.pageWillUnload, false);
        this.started = false;
      }
    }
    pageIsInteractive() {
      if (this.stage == PageStage.loading) {
        this.stage = PageStage.interactive;
        this.delegate.pageBecameInteractive();
      }
    }
    pageIsComplete() {
      this.pageIsInteractive();
      if (this.stage == PageStage.interactive) {
        this.stage = PageStage.complete;
        this.delegate.pageLoaded();
      }
    }
    get readyState() {
      return document.readyState;
    }
  };
  var ScrollObserver = class {
    constructor(delegate) {
      __publicField(this, "started", false);
      __publicField(this, "onScroll", () => {
        this.updatePosition({ x: window.pageXOffset, y: window.pageYOffset });
      });
      this.delegate = delegate;
    }
    start() {
      if (!this.started) {
        addEventListener("scroll", this.onScroll, false);
        this.onScroll();
        this.started = true;
      }
    }
    stop() {
      if (this.started) {
        removeEventListener("scroll", this.onScroll, false);
        this.started = false;
      }
    }
    // Private
    updatePosition(position) {
      this.delegate.scrollPositionChanged(position);
    }
  };
  var StreamMessageRenderer = class {
    render({ fragment }) {
      Bardo.preservingPermanentElements(this, getPermanentElementMapForFragment(fragment), () => {
        withAutofocusFromFragment(fragment, () => {
          withPreservedFocus(() => {
            document.documentElement.appendChild(fragment);
          });
        });
      });
    }
    // Bardo delegate
    enteringBardo(currentPermanentElement, newPermanentElement) {
      newPermanentElement.replaceWith(currentPermanentElement.cloneNode(true));
    }
    leavingBardo() {
    }
  };
  function getPermanentElementMapForFragment(fragment) {
    const permanentElementsInDocument = queryPermanentElementsAll(document.documentElement);
    const permanentElementMap = {};
    for (const permanentElementInDocument of permanentElementsInDocument) {
      const { id } = permanentElementInDocument;
      for (const streamElement of fragment.querySelectorAll("turbo-stream")) {
        const elementInStream = getPermanentElementById(streamElement.templateElement.content, id);
        if (elementInStream) {
          permanentElementMap[id] = [permanentElementInDocument, elementInStream];
        }
      }
    }
    return permanentElementMap;
  }
  async function withAutofocusFromFragment(fragment, callback) {
    const generatedID = `turbo-stream-autofocus-${uuid()}`;
    const turboStreams = fragment.querySelectorAll("turbo-stream");
    const elementWithAutofocus = firstAutofocusableElementInStreams(turboStreams);
    let willAutofocusId = null;
    if (elementWithAutofocus) {
      if (elementWithAutofocus.id) {
        willAutofocusId = elementWithAutofocus.id;
      } else {
        willAutofocusId = generatedID;
      }
      elementWithAutofocus.id = willAutofocusId;
    }
    callback();
    await nextRepaint();
    const hasNoActiveElement = document.activeElement == null || document.activeElement == document.body;
    if (hasNoActiveElement && willAutofocusId) {
      const elementToAutofocus = document.getElementById(willAutofocusId);
      if (elementIsFocusable(elementToAutofocus)) {
        elementToAutofocus.focus();
      }
      if (elementToAutofocus && elementToAutofocus.id == generatedID) {
        elementToAutofocus.removeAttribute("id");
      }
    }
  }
  async function withPreservedFocus(callback) {
    const [activeElementBeforeRender, activeElementAfterRender] = await around(callback, () => document.activeElement);
    const restoreFocusTo = activeElementBeforeRender && activeElementBeforeRender.id;
    if (restoreFocusTo) {
      const elementToFocus = document.getElementById(restoreFocusTo);
      if (elementIsFocusable(elementToFocus) && elementToFocus != activeElementAfterRender) {
        elementToFocus.focus();
      }
    }
  }
  function firstAutofocusableElementInStreams(nodeListOfStreamElements) {
    for (const streamElement of nodeListOfStreamElements) {
      const elementWithAutofocus = queryAutofocusableElement(streamElement.templateElement.content);
      if (elementWithAutofocus) return elementWithAutofocus;
    }
    return null;
  }
  var _started;
  var StreamObserver = class {
    constructor(delegate) {
      __publicField(this, "sources", /* @__PURE__ */ new Set());
      __privateAdd(this, _started, false);
      __publicField(this, "inspectFetchResponse", (event) => {
        const response = fetchResponseFromEvent(event);
        if (response && fetchResponseIsStream(response)) {
          event.preventDefault();
          this.receiveMessageResponse(response);
        }
      });
      __publicField(this, "receiveMessageEvent", (event) => {
        if (__privateGet(this, _started) && typeof event.data == "string") {
          this.receiveMessageHTML(event.data);
        }
      });
      this.delegate = delegate;
    }
    start() {
      if (!__privateGet(this, _started)) {
        __privateSet(this, _started, true);
        addEventListener("turbo:before-fetch-response", this.inspectFetchResponse, false);
      }
    }
    stop() {
      if (__privateGet(this, _started)) {
        __privateSet(this, _started, false);
        removeEventListener("turbo:before-fetch-response", this.inspectFetchResponse, false);
      }
    }
    connectStreamSource(source) {
      if (!this.streamSourceIsConnected(source)) {
        this.sources.add(source);
        source.addEventListener("message", this.receiveMessageEvent, false);
      }
    }
    disconnectStreamSource(source) {
      if (this.streamSourceIsConnected(source)) {
        this.sources.delete(source);
        source.removeEventListener("message", this.receiveMessageEvent, false);
      }
    }
    streamSourceIsConnected(source) {
      return this.sources.has(source);
    }
    async receiveMessageResponse(response) {
      const html = await response.responseHTML;
      if (html) {
        this.receiveMessageHTML(html);
      }
    }
    receiveMessageHTML(html) {
      this.delegate.receivedMessageFromStream(StreamMessage.wrap(html));
    }
  };
  _started = new WeakMap();
  function fetchResponseFromEvent(event) {
    const fetchResponse = event.detail?.fetchResponse;
    if (fetchResponse instanceof FetchResponse) {
      return fetchResponse;
    }
  }
  function fetchResponseIsStream(response) {
    const contentType = response.contentType ?? "";
    return contentType.startsWith(StreamMessage.contentType);
  }
  var ErrorRenderer = class extends Renderer {
    static renderElement(currentElement, newElement) {
      const { documentElement, body } = document;
      documentElement.replaceChild(newElement, body);
    }
    async render() {
      this.replaceHeadAndBody();
      this.activateScriptElements();
    }
    replaceHeadAndBody() {
      const { documentElement, head } = document;
      documentElement.replaceChild(this.newHead, head);
      this.renderElement(this.currentElement, this.newElement);
    }
    activateScriptElements() {
      for (const replaceableElement of this.scriptElements) {
        const parentNode = replaceableElement.parentNode;
        if (parentNode) {
          const element = activateScriptElement(replaceableElement);
          parentNode.replaceChild(element, replaceableElement);
        }
      }
    }
    get newHead() {
      return this.newSnapshot.headSnapshot.element;
    }
    get scriptElements() {
      return document.documentElement.querySelectorAll("script");
    }
  };
  var Idiomorph = /* @__PURE__ */ function() {
    let EMPTY_SET = /* @__PURE__ */ new Set();
    let defaults = {
      morphStyle: "outerHTML",
      callbacks: {
        beforeNodeAdded: noOp,
        afterNodeAdded: noOp,
        beforeNodeMorphed: noOp,
        afterNodeMorphed: noOp,
        beforeNodeRemoved: noOp,
        afterNodeRemoved: noOp,
        beforeAttributeUpdated: noOp
      },
      head: {
        style: "merge",
        shouldPreserve: function(elt) {
          return elt.getAttribute("im-preserve") === "true";
        },
        shouldReAppend: function(elt) {
          return elt.getAttribute("im-re-append") === "true";
        },
        shouldRemove: noOp,
        afterHeadMorphed: noOp
      }
    };
    function morph(oldNode, newContent, config = {}) {
      if (oldNode instanceof Document) {
        oldNode = oldNode.documentElement;
      }
      if (typeof newContent === "string") {
        newContent = parseContent(newContent);
      }
      let normalizedContent = normalizeContent(newContent);
      let ctx = createMorphContext(oldNode, normalizedContent, config);
      return morphNormalizedContent(oldNode, normalizedContent, ctx);
    }
    function morphNormalizedContent(oldNode, normalizedNewContent, ctx) {
      if (ctx.head.block) {
        let oldHead = oldNode.querySelector("head");
        let newHead = normalizedNewContent.querySelector("head");
        if (oldHead && newHead) {
          let promises = handleHeadElement(newHead, oldHead, ctx);
          Promise.all(promises).then(function() {
            morphNormalizedContent(oldNode, normalizedNewContent, Object.assign(ctx, {
              head: {
                block: false,
                ignore: true
              }
            }));
          });
          return;
        }
      }
      if (ctx.morphStyle === "innerHTML") {
        morphChildren(normalizedNewContent, oldNode, ctx);
        return oldNode.children;
      } else if (ctx.morphStyle === "outerHTML" || ctx.morphStyle == null) {
        let bestMatch = findBestNodeMatch(normalizedNewContent, oldNode, ctx);
        let previousSibling = bestMatch?.previousSibling;
        let nextSibling = bestMatch?.nextSibling;
        let morphedNode = morphOldNodeTo(oldNode, bestMatch, ctx);
        if (bestMatch) {
          return insertSiblings(previousSibling, morphedNode, nextSibling);
        } else {
          return [];
        }
      } else {
        throw "Do not understand how to morph style " + ctx.morphStyle;
      }
    }
    function ignoreValueOfActiveElement(possibleActiveElement, ctx) {
      return ctx.ignoreActiveValue && possibleActiveElement === document.activeElement && possibleActiveElement !== document.body;
    }
    function morphOldNodeTo(oldNode, newContent, ctx) {
      if (ctx.ignoreActive && oldNode === document.activeElement) ;
      else if (newContent == null) {
        if (ctx.callbacks.beforeNodeRemoved(oldNode) === false) return oldNode;
        oldNode.remove();
        ctx.callbacks.afterNodeRemoved(oldNode);
        return null;
      } else if (!isSoftMatch(oldNode, newContent)) {
        if (ctx.callbacks.beforeNodeRemoved(oldNode) === false) return oldNode;
        if (ctx.callbacks.beforeNodeAdded(newContent) === false) return oldNode;
        oldNode.parentElement.replaceChild(newContent, oldNode);
        ctx.callbacks.afterNodeAdded(newContent);
        ctx.callbacks.afterNodeRemoved(oldNode);
        return newContent;
      } else {
        if (ctx.callbacks.beforeNodeMorphed(oldNode, newContent) === false) return oldNode;
        if (oldNode instanceof HTMLHeadElement && ctx.head.ignore) ;
        else if (oldNode instanceof HTMLHeadElement && ctx.head.style !== "morph") {
          handleHeadElement(newContent, oldNode, ctx);
        } else {
          syncNodeFrom(newContent, oldNode, ctx);
          if (!ignoreValueOfActiveElement(oldNode, ctx)) {
            morphChildren(newContent, oldNode, ctx);
          }
        }
        ctx.callbacks.afterNodeMorphed(oldNode, newContent);
        return oldNode;
      }
    }
    function morphChildren(newParent, oldParent, ctx) {
      let nextNewChild = newParent.firstChild;
      let insertionPoint = oldParent.firstChild;
      let newChild;
      while (nextNewChild) {
        newChild = nextNewChild;
        nextNewChild = newChild.nextSibling;
        if (insertionPoint == null) {
          if (ctx.callbacks.beforeNodeAdded(newChild) === false) return;
          oldParent.appendChild(newChild);
          ctx.callbacks.afterNodeAdded(newChild);
          removeIdsFromConsideration(ctx, newChild);
          continue;
        }
        if (isIdSetMatch(newChild, insertionPoint, ctx)) {
          morphOldNodeTo(insertionPoint, newChild, ctx);
          insertionPoint = insertionPoint.nextSibling;
          removeIdsFromConsideration(ctx, newChild);
          continue;
        }
        let idSetMatch = findIdSetMatch(newParent, oldParent, newChild, insertionPoint, ctx);
        if (idSetMatch) {
          insertionPoint = removeNodesBetween(insertionPoint, idSetMatch, ctx);
          morphOldNodeTo(idSetMatch, newChild, ctx);
          removeIdsFromConsideration(ctx, newChild);
          continue;
        }
        let softMatch = findSoftMatch(newParent, oldParent, newChild, insertionPoint, ctx);
        if (softMatch) {
          insertionPoint = removeNodesBetween(insertionPoint, softMatch, ctx);
          morphOldNodeTo(softMatch, newChild, ctx);
          removeIdsFromConsideration(ctx, newChild);
          continue;
        }
        if (ctx.callbacks.beforeNodeAdded(newChild) === false) return;
        oldParent.insertBefore(newChild, insertionPoint);
        ctx.callbacks.afterNodeAdded(newChild);
        removeIdsFromConsideration(ctx, newChild);
      }
      while (insertionPoint !== null) {
        let tempNode = insertionPoint;
        insertionPoint = insertionPoint.nextSibling;
        removeNode(tempNode, ctx);
      }
    }
    function ignoreAttribute(attr, to, updateType, ctx) {
      if (attr === "value" && ctx.ignoreActiveValue && to === document.activeElement) {
        return true;
      }
      return ctx.callbacks.beforeAttributeUpdated(attr, to, updateType) === false;
    }
    function syncNodeFrom(from, to, ctx) {
      let type = from.nodeType;
      if (type === 1) {
        const fromAttributes = from.attributes;
        const toAttributes = to.attributes;
        for (const fromAttribute of fromAttributes) {
          if (ignoreAttribute(fromAttribute.name, to, "update", ctx)) {
            continue;
          }
          if (to.getAttribute(fromAttribute.name) !== fromAttribute.value) {
            to.setAttribute(fromAttribute.name, fromAttribute.value);
          }
        }
        for (let i = toAttributes.length - 1; 0 <= i; i--) {
          const toAttribute = toAttributes[i];
          if (ignoreAttribute(toAttribute.name, to, "remove", ctx)) {
            continue;
          }
          if (!from.hasAttribute(toAttribute.name)) {
            to.removeAttribute(toAttribute.name);
          }
        }
      }
      if (type === 8 || type === 3) {
        if (to.nodeValue !== from.nodeValue) {
          to.nodeValue = from.nodeValue;
        }
      }
      if (!ignoreValueOfActiveElement(to, ctx)) {
        syncInputValue(from, to, ctx);
      }
    }
    function syncBooleanAttribute(from, to, attributeName, ctx) {
      if (from[attributeName] !== to[attributeName]) {
        let ignoreUpdate = ignoreAttribute(attributeName, to, "update", ctx);
        if (!ignoreUpdate) {
          to[attributeName] = from[attributeName];
        }
        if (from[attributeName]) {
          if (!ignoreUpdate) {
            to.setAttribute(attributeName, from[attributeName]);
          }
        } else {
          if (!ignoreAttribute(attributeName, to, "remove", ctx)) {
            to.removeAttribute(attributeName);
          }
        }
      }
    }
    function syncInputValue(from, to, ctx) {
      if (from instanceof HTMLInputElement && to instanceof HTMLInputElement && from.type !== "file") {
        let fromValue = from.value;
        let toValue = to.value;
        syncBooleanAttribute(from, to, "checked", ctx);
        syncBooleanAttribute(from, to, "disabled", ctx);
        if (!from.hasAttribute("value")) {
          if (!ignoreAttribute("value", to, "remove", ctx)) {
            to.value = "";
            to.removeAttribute("value");
          }
        } else if (fromValue !== toValue) {
          if (!ignoreAttribute("value", to, "update", ctx)) {
            to.setAttribute("value", fromValue);
            to.value = fromValue;
          }
        }
      } else if (from instanceof HTMLOptionElement) {
        syncBooleanAttribute(from, to, "selected", ctx);
      } else if (from instanceof HTMLTextAreaElement && to instanceof HTMLTextAreaElement) {
        let fromValue = from.value;
        let toValue = to.value;
        if (ignoreAttribute("value", to, "update", ctx)) {
          return;
        }
        if (fromValue !== toValue) {
          to.value = fromValue;
        }
        if (to.firstChild && to.firstChild.nodeValue !== fromValue) {
          to.firstChild.nodeValue = fromValue;
        }
      }
    }
    function handleHeadElement(newHeadTag, currentHead, ctx) {
      let added = [];
      let removed = [];
      let preserved = [];
      let nodesToAppend = [];
      let headMergeStyle = ctx.head.style;
      let srcToNewHeadNodes = /* @__PURE__ */ new Map();
      for (const newHeadChild of newHeadTag.children) {
        srcToNewHeadNodes.set(newHeadChild.outerHTML, newHeadChild);
      }
      for (const currentHeadElt of currentHead.children) {
        let inNewContent = srcToNewHeadNodes.has(currentHeadElt.outerHTML);
        let isReAppended = ctx.head.shouldReAppend(currentHeadElt);
        let isPreserved = ctx.head.shouldPreserve(currentHeadElt);
        if (inNewContent || isPreserved) {
          if (isReAppended) {
            removed.push(currentHeadElt);
          } else {
            srcToNewHeadNodes.delete(currentHeadElt.outerHTML);
            preserved.push(currentHeadElt);
          }
        } else {
          if (headMergeStyle === "append") {
            if (isReAppended) {
              removed.push(currentHeadElt);
              nodesToAppend.push(currentHeadElt);
            }
          } else {
            if (ctx.head.shouldRemove(currentHeadElt) !== false) {
              removed.push(currentHeadElt);
            }
          }
        }
      }
      nodesToAppend.push(...srcToNewHeadNodes.values());
      let promises = [];
      for (const newNode of nodesToAppend) {
        let newElt = document.createRange().createContextualFragment(newNode.outerHTML).firstChild;
        if (ctx.callbacks.beforeNodeAdded(newElt) !== false) {
          if (newElt.href || newElt.src) {
            let resolve = null;
            let promise = new Promise(function(_resolve) {
              resolve = _resolve;
            });
            newElt.addEventListener("load", function() {
              resolve();
            });
            promises.push(promise);
          }
          currentHead.appendChild(newElt);
          ctx.callbacks.afterNodeAdded(newElt);
          added.push(newElt);
        }
      }
      for (const removedElement of removed) {
        if (ctx.callbacks.beforeNodeRemoved(removedElement) !== false) {
          currentHead.removeChild(removedElement);
          ctx.callbacks.afterNodeRemoved(removedElement);
        }
      }
      ctx.head.afterHeadMorphed(currentHead, { added, kept: preserved, removed });
      return promises;
    }
    function noOp() {
    }
    function mergeDefaults(config) {
      let finalConfig = {};
      Object.assign(finalConfig, defaults);
      Object.assign(finalConfig, config);
      finalConfig.callbacks = {};
      Object.assign(finalConfig.callbacks, defaults.callbacks);
      Object.assign(finalConfig.callbacks, config.callbacks);
      finalConfig.head = {};
      Object.assign(finalConfig.head, defaults.head);
      Object.assign(finalConfig.head, config.head);
      return finalConfig;
    }
    function createMorphContext(oldNode, newContent, config) {
      config = mergeDefaults(config);
      return {
        target: oldNode,
        newContent,
        config,
        morphStyle: config.morphStyle,
        ignoreActive: config.ignoreActive,
        ignoreActiveValue: config.ignoreActiveValue,
        idMap: createIdMap(oldNode, newContent),
        deadIds: /* @__PURE__ */ new Set(),
        callbacks: config.callbacks,
        head: config.head
      };
    }
    function isIdSetMatch(node1, node2, ctx) {
      if (node1 == null || node2 == null) {
        return false;
      }
      if (node1.nodeType === node2.nodeType && node1.tagName === node2.tagName) {
        if (node1.id !== "" && node1.id === node2.id) {
          return true;
        } else {
          return getIdIntersectionCount(ctx, node1, node2) > 0;
        }
      }
      return false;
    }
    function isSoftMatch(node1, node2) {
      if (node1 == null || node2 == null) {
        return false;
      }
      return node1.nodeType === node2.nodeType && node1.tagName === node2.tagName;
    }
    function removeNodesBetween(startInclusive, endExclusive, ctx) {
      while (startInclusive !== endExclusive) {
        let tempNode = startInclusive;
        startInclusive = startInclusive.nextSibling;
        removeNode(tempNode, ctx);
      }
      removeIdsFromConsideration(ctx, endExclusive);
      return endExclusive.nextSibling;
    }
    function findIdSetMatch(newContent, oldParent, newChild, insertionPoint, ctx) {
      let newChildPotentialIdCount = getIdIntersectionCount(ctx, newChild, oldParent);
      let potentialMatch = null;
      if (newChildPotentialIdCount > 0) {
        let potentialMatch2 = insertionPoint;
        let otherMatchCount = 0;
        while (potentialMatch2 != null) {
          if (isIdSetMatch(newChild, potentialMatch2, ctx)) {
            return potentialMatch2;
          }
          otherMatchCount += getIdIntersectionCount(ctx, potentialMatch2, newContent);
          if (otherMatchCount > newChildPotentialIdCount) {
            return null;
          }
          potentialMatch2 = potentialMatch2.nextSibling;
        }
      }
      return potentialMatch;
    }
    function findSoftMatch(newContent, oldParent, newChild, insertionPoint, ctx) {
      let potentialSoftMatch = insertionPoint;
      let nextSibling = newChild.nextSibling;
      let siblingSoftMatchCount = 0;
      while (potentialSoftMatch != null) {
        if (getIdIntersectionCount(ctx, potentialSoftMatch, newContent) > 0) {
          return null;
        }
        if (isSoftMatch(newChild, potentialSoftMatch)) {
          return potentialSoftMatch;
        }
        if (isSoftMatch(nextSibling, potentialSoftMatch)) {
          siblingSoftMatchCount++;
          nextSibling = nextSibling.nextSibling;
          if (siblingSoftMatchCount >= 2) {
            return null;
          }
        }
        potentialSoftMatch = potentialSoftMatch.nextSibling;
      }
      return potentialSoftMatch;
    }
    function parseContent(newContent) {
      let parser = new DOMParser();
      let contentWithSvgsRemoved = newContent.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim, "");
      if (contentWithSvgsRemoved.match(/<\/html>/) || contentWithSvgsRemoved.match(/<\/head>/) || contentWithSvgsRemoved.match(/<\/body>/)) {
        let content = parser.parseFromString(newContent, "text/html");
        if (contentWithSvgsRemoved.match(/<\/html>/)) {
          content.generatedByIdiomorph = true;
          return content;
        } else {
          let htmlElement = content.firstChild;
          if (htmlElement) {
            htmlElement.generatedByIdiomorph = true;
            return htmlElement;
          } else {
            return null;
          }
        }
      } else {
        let responseDoc = parser.parseFromString("<body><template>" + newContent + "</template></body>", "text/html");
        let content = responseDoc.body.querySelector("template").content;
        content.generatedByIdiomorph = true;
        return content;
      }
    }
    function normalizeContent(newContent) {
      if (newContent == null) {
        const dummyParent = document.createElement("div");
        return dummyParent;
      } else if (newContent.generatedByIdiomorph) {
        return newContent;
      } else if (newContent instanceof Node) {
        const dummyParent = document.createElement("div");
        dummyParent.append(newContent);
        return dummyParent;
      } else {
        const dummyParent = document.createElement("div");
        for (const elt of [...newContent]) {
          dummyParent.append(elt);
        }
        return dummyParent;
      }
    }
    function insertSiblings(previousSibling, morphedNode, nextSibling) {
      let stack = [];
      let added = [];
      while (previousSibling != null) {
        stack.push(previousSibling);
        previousSibling = previousSibling.previousSibling;
      }
      while (stack.length > 0) {
        let node = stack.pop();
        added.push(node);
        morphedNode.parentElement.insertBefore(node, morphedNode);
      }
      added.push(morphedNode);
      while (nextSibling != null) {
        stack.push(nextSibling);
        added.push(nextSibling);
        nextSibling = nextSibling.nextSibling;
      }
      while (stack.length > 0) {
        morphedNode.parentElement.insertBefore(stack.pop(), morphedNode.nextSibling);
      }
      return added;
    }
    function findBestNodeMatch(newContent, oldNode, ctx) {
      let currentElement;
      currentElement = newContent.firstChild;
      let bestElement = currentElement;
      let score = 0;
      while (currentElement) {
        let newScore = scoreElement(currentElement, oldNode, ctx);
        if (newScore > score) {
          bestElement = currentElement;
          score = newScore;
        }
        currentElement = currentElement.nextSibling;
      }
      return bestElement;
    }
    function scoreElement(node1, node2, ctx) {
      if (isSoftMatch(node1, node2)) {
        return 0.5 + getIdIntersectionCount(ctx, node1, node2);
      }
      return 0;
    }
    function removeNode(tempNode, ctx) {
      removeIdsFromConsideration(ctx, tempNode);
      if (ctx.callbacks.beforeNodeRemoved(tempNode) === false) return;
      tempNode.remove();
      ctx.callbacks.afterNodeRemoved(tempNode);
    }
    function isIdInConsideration(ctx, id) {
      return !ctx.deadIds.has(id);
    }
    function idIsWithinNode(ctx, id, targetNode) {
      let idSet = ctx.idMap.get(targetNode) || EMPTY_SET;
      return idSet.has(id);
    }
    function removeIdsFromConsideration(ctx, node) {
      let idSet = ctx.idMap.get(node) || EMPTY_SET;
      for (const id of idSet) {
        ctx.deadIds.add(id);
      }
    }
    function getIdIntersectionCount(ctx, node1, node2) {
      let sourceSet = ctx.idMap.get(node1) || EMPTY_SET;
      let matchCount = 0;
      for (const id of sourceSet) {
        if (isIdInConsideration(ctx, id) && idIsWithinNode(ctx, id, node2)) {
          ++matchCount;
        }
      }
      return matchCount;
    }
    function populateIdMapForNode(node, idMap) {
      let nodeParent = node.parentElement;
      let idElements = node.querySelectorAll("[id]");
      for (const elt of idElements) {
        let current = elt;
        while (current !== nodeParent && current != null) {
          let idSet = idMap.get(current);
          if (idSet == null) {
            idSet = /* @__PURE__ */ new Set();
            idMap.set(current, idSet);
          }
          idSet.add(elt.id);
          current = current.parentElement;
        }
      }
    }
    function createIdMap(oldContent, newContent) {
      let idMap = /* @__PURE__ */ new Map();
      populateIdMapForNode(oldContent, idMap);
      populateIdMapForNode(newContent, idMap);
      return idMap;
    }
    return {
      morph,
      defaults
    };
  }();
  var _PageRenderer_instances, setLanguage_fn;
  var PageRenderer = class extends Renderer {
    constructor() {
      super(...arguments);
      __privateAdd(this, _PageRenderer_instances);
    }
    static renderElement(currentElement, newElement) {
      if (document.body && newElement instanceof HTMLBodyElement) {
        document.body.replaceWith(newElement);
      } else {
        document.documentElement.appendChild(newElement);
      }
    }
    get shouldRender() {
      return this.newSnapshot.isVisitable && this.trackedElementsAreIdentical;
    }
    get reloadReason() {
      if (!this.newSnapshot.isVisitable) {
        return {
          reason: "turbo_visit_control_is_reload"
        };
      }
      if (!this.trackedElementsAreIdentical) {
        return {
          reason: "tracked_element_mismatch"
        };
      }
    }
    async prepareToRender() {
      __privateMethod(this, _PageRenderer_instances, setLanguage_fn).call(this);
      await this.mergeHead();
    }
    async render() {
      if (this.willRender) {
        await this.replaceBody();
      }
    }
    finishRendering() {
      super.finishRendering();
      if (!this.isPreview) {
        this.focusFirstAutofocusableElement();
      }
    }
    get currentHeadSnapshot() {
      return this.currentSnapshot.headSnapshot;
    }
    get newHeadSnapshot() {
      return this.newSnapshot.headSnapshot;
    }
    get newElement() {
      return this.newSnapshot.element;
    }
    async mergeHead() {
      const mergedHeadElements = this.mergeProvisionalElements();
      const newStylesheetElements = this.copyNewHeadStylesheetElements();
      this.copyNewHeadScriptElements();
      await mergedHeadElements;
      await newStylesheetElements;
      if (this.willRender) {
        this.removeUnusedDynamicStylesheetElements();
      }
    }
    async replaceBody() {
      await this.preservingPermanentElements(async () => {
        this.activateNewBody();
        await this.assignNewBody();
      });
    }
    get trackedElementsAreIdentical() {
      return this.currentHeadSnapshot.trackedElementSignature == this.newHeadSnapshot.trackedElementSignature;
    }
    async copyNewHeadStylesheetElements() {
      const loadingElements = [];
      for (const element of this.newHeadStylesheetElements) {
        loadingElements.push(waitForLoad(element));
        document.head.appendChild(element);
      }
      await Promise.all(loadingElements);
    }
    copyNewHeadScriptElements() {
      for (const element of this.newHeadScriptElements) {
        document.head.appendChild(activateScriptElement(element));
      }
    }
    removeUnusedDynamicStylesheetElements() {
      for (const element of this.unusedDynamicStylesheetElements) {
        document.head.removeChild(element);
      }
    }
    async mergeProvisionalElements() {
      const newHeadElements = [...this.newHeadProvisionalElements];
      for (const element of this.currentHeadProvisionalElements) {
        if (!this.isCurrentElementInElementList(element, newHeadElements)) {
          document.head.removeChild(element);
        }
      }
      for (const element of newHeadElements) {
        document.head.appendChild(element);
      }
    }
    isCurrentElementInElementList(element, elementList) {
      for (const [index, newElement] of elementList.entries()) {
        if (element.tagName == "TITLE") {
          if (newElement.tagName != "TITLE") {
            continue;
          }
          if (element.innerHTML == newElement.innerHTML) {
            elementList.splice(index, 1);
            return true;
          }
        }
        if (newElement.isEqualNode(element)) {
          elementList.splice(index, 1);
          return true;
        }
      }
      return false;
    }
    removeCurrentHeadProvisionalElements() {
      for (const element of this.currentHeadProvisionalElements) {
        document.head.removeChild(element);
      }
    }
    copyNewHeadProvisionalElements() {
      for (const element of this.newHeadProvisionalElements) {
        document.head.appendChild(element);
      }
    }
    activateNewBody() {
      document.adoptNode(this.newElement);
      this.activateNewBodyScriptElements();
    }
    activateNewBodyScriptElements() {
      for (const inertScriptElement of this.newBodyScriptElements) {
        const activatedScriptElement = activateScriptElement(inertScriptElement);
        inertScriptElement.replaceWith(activatedScriptElement);
      }
    }
    async assignNewBody() {
      await this.renderElement(this.currentElement, this.newElement);
    }
    get unusedDynamicStylesheetElements() {
      return this.oldHeadStylesheetElements.filter((element) => {
        return element.getAttribute("data-turbo-track") === "dynamic";
      });
    }
    get oldHeadStylesheetElements() {
      return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot);
    }
    get newHeadStylesheetElements() {
      return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot);
    }
    get newHeadScriptElements() {
      return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot);
    }
    get currentHeadProvisionalElements() {
      return this.currentHeadSnapshot.provisionalElements;
    }
    get newHeadProvisionalElements() {
      return this.newHeadSnapshot.provisionalElements;
    }
    get newBodyScriptElements() {
      return this.newElement.querySelectorAll("script");
    }
  };
  _PageRenderer_instances = new WeakSet();
  setLanguage_fn = function() {
    const { documentElement } = this.currentSnapshot;
    const { lang } = this.newSnapshot;
    if (lang) {
      documentElement.setAttribute("lang", lang);
    } else {
      documentElement.removeAttribute("lang");
    }
  };
  var _MorphRenderer_instances, morphBody_fn, morphElements_fn, _shouldAddElement, _shouldMorphElement, _shouldUpdateAttribute, _didMorphElement, _shouldRemoveElement, reloadRemoteFrames_fn, renderFrameWithMorph_fn, _morphFrameUpdate, isFrameReloadedWithMorph_fn, remoteFrames_fn;
  var MorphRenderer = class extends PageRenderer {
    constructor() {
      super(...arguments);
      __privateAdd(this, _MorphRenderer_instances);
      __privateAdd(this, _shouldAddElement, (node) => {
        return !(node.id && node.hasAttribute("data-turbo-permanent") && document.getElementById(node.id));
      });
      __privateAdd(this, _shouldMorphElement, (oldNode, newNode) => {
        if (oldNode instanceof HTMLElement) {
          if (!oldNode.hasAttribute("data-turbo-permanent") && (this.isMorphingTurboFrame || !__privateMethod(this, _MorphRenderer_instances, isFrameReloadedWithMorph_fn).call(this, oldNode))) {
            const event = dispatch("turbo:before-morph-element", {
              cancelable: true,
              target: oldNode,
              detail: {
                newElement: newNode
              }
            });
            return !event.defaultPrevented;
          } else {
            return false;
          }
        }
      });
      __privateAdd(this, _shouldUpdateAttribute, (attributeName, target, mutationType) => {
        const event = dispatch("turbo:before-morph-attribute", { cancelable: true, target, detail: { attributeName, mutationType } });
        return !event.defaultPrevented;
      });
      __privateAdd(this, _didMorphElement, (oldNode, newNode) => {
        if (newNode instanceof HTMLElement) {
          dispatch("turbo:morph-element", {
            target: oldNode,
            detail: {
              newElement: newNode
            }
          });
        }
      });
      __privateAdd(this, _shouldRemoveElement, (node) => {
        return __privateGet(this, _shouldMorphElement).call(this, node);
      });
      __privateAdd(this, _morphFrameUpdate, (currentElement, newElement) => {
        dispatch("turbo:before-frame-morph", {
          target: currentElement,
          detail: { currentElement, newElement }
        });
        __privateMethod(this, _MorphRenderer_instances, morphElements_fn).call(this, currentElement, newElement.children, "innerHTML");
      });
    }
    async render() {
      if (this.willRender) await __privateMethod(this, _MorphRenderer_instances, morphBody_fn).call(this);
    }
    get renderMethod() {
      return "morph";
    }
  };
  _MorphRenderer_instances = new WeakSet();
  morphBody_fn = async function() {
    __privateMethod(this, _MorphRenderer_instances, morphElements_fn).call(this, this.currentElement, this.newElement);
    __privateMethod(this, _MorphRenderer_instances, reloadRemoteFrames_fn).call(this);
    dispatch("turbo:morph", {
      detail: {
        currentElement: this.currentElement,
        newElement: this.newElement
      }
    });
  };
  morphElements_fn = function(currentElement, newElement, morphStyle = "outerHTML") {
    this.isMorphingTurboFrame = __privateMethod(this, _MorphRenderer_instances, isFrameReloadedWithMorph_fn).call(this, currentElement);
    Idiomorph.morph(currentElement, newElement, {
      morphStyle,
      callbacks: {
        beforeNodeAdded: __privateGet(this, _shouldAddElement),
        beforeNodeMorphed: __privateGet(this, _shouldMorphElement),
        beforeAttributeUpdated: __privateGet(this, _shouldUpdateAttribute),
        beforeNodeRemoved: __privateGet(this, _shouldRemoveElement),
        afterNodeMorphed: __privateGet(this, _didMorphElement)
      }
    });
  };
  _shouldAddElement = new WeakMap();
  _shouldMorphElement = new WeakMap();
  _shouldUpdateAttribute = new WeakMap();
  _didMorphElement = new WeakMap();
  _shouldRemoveElement = new WeakMap();
  reloadRemoteFrames_fn = function() {
    __privateMethod(this, _MorphRenderer_instances, remoteFrames_fn).call(this).forEach((frame) => {
      if (__privateMethod(this, _MorphRenderer_instances, isFrameReloadedWithMorph_fn).call(this, frame)) {
        __privateMethod(this, _MorphRenderer_instances, renderFrameWithMorph_fn).call(this, frame);
        frame.reload();
      }
    });
  };
  renderFrameWithMorph_fn = function(frame) {
    frame.addEventListener("turbo:before-frame-render", (event) => {
      event.detail.render = __privateGet(this, _morphFrameUpdate);
    }, { once: true });
  };
  _morphFrameUpdate = new WeakMap();
  isFrameReloadedWithMorph_fn = function(element) {
    return element.src && element.refresh === "morph";
  };
  remoteFrames_fn = function() {
    return Array.from(document.querySelectorAll("turbo-frame[src]")).filter((frame) => {
      return !frame.closest("[data-turbo-permanent]");
    });
  };
  var SnapshotCache = class {
    constructor(size2) {
      __publicField(this, "keys", []);
      __publicField(this, "snapshots", {});
      this.size = size2;
    }
    has(location2) {
      return toCacheKey(location2) in this.snapshots;
    }
    get(location2) {
      if (this.has(location2)) {
        const snapshot = this.read(location2);
        this.touch(location2);
        return snapshot;
      }
    }
    put(location2, snapshot) {
      this.write(location2, snapshot);
      this.touch(location2);
      return snapshot;
    }
    clear() {
      this.snapshots = {};
    }
    // Private
    read(location2) {
      return this.snapshots[toCacheKey(location2)];
    }
    write(location2, snapshot) {
      this.snapshots[toCacheKey(location2)] = snapshot;
    }
    touch(location2) {
      const key = toCacheKey(location2);
      const index = this.keys.indexOf(key);
      if (index > -1) this.keys.splice(index, 1);
      this.keys.unshift(key);
      this.trim();
    }
    trim() {
      for (const key of this.keys.splice(this.size)) {
        delete this.snapshots[key];
      }
    }
  };
  var PageView = class extends View {
    constructor() {
      super(...arguments);
      __publicField(this, "snapshotCache", new SnapshotCache(10));
      __publicField(this, "lastRenderedLocation", new URL(location.href));
      __publicField(this, "forceReloaded", false);
    }
    shouldTransitionTo(newSnapshot) {
      return this.snapshot.prefersViewTransitions && newSnapshot.prefersViewTransitions;
    }
    renderPage(snapshot, isPreview = false, willRender = true, visit2) {
      const shouldMorphPage = this.isPageRefresh(visit2) && this.snapshot.shouldMorphPage;
      const rendererClass = shouldMorphPage ? MorphRenderer : PageRenderer;
      const renderer = new rendererClass(this.snapshot, snapshot, PageRenderer.renderElement, isPreview, willRender);
      if (!renderer.shouldRender) {
        this.forceReloaded = true;
      } else {
        visit2?.changeHistory();
      }
      return this.render(renderer);
    }
    renderError(snapshot, visit2) {
      visit2?.changeHistory();
      const renderer = new ErrorRenderer(this.snapshot, snapshot, ErrorRenderer.renderElement, false);
      return this.render(renderer);
    }
    clearSnapshotCache() {
      this.snapshotCache.clear();
    }
    async cacheSnapshot(snapshot = this.snapshot) {
      if (snapshot.isCacheable) {
        this.delegate.viewWillCacheSnapshot();
        const { lastRenderedLocation: location2 } = this;
        await nextEventLoopTick();
        const cachedSnapshot = snapshot.clone();
        this.snapshotCache.put(location2, cachedSnapshot);
        return cachedSnapshot;
      }
    }
    getCachedSnapshotForLocation(location2) {
      return this.snapshotCache.get(location2);
    }
    isPageRefresh(visit2) {
      return !visit2 || this.lastRenderedLocation.pathname === visit2.location.pathname && visit2.action === "replace";
    }
    shouldPreserveScrollPosition(visit2) {
      return this.isPageRefresh(visit2) && this.snapshot.shouldPreserveScrollPosition;
    }
    get snapshot() {
      return PageSnapshot.fromElement(this.element);
    }
  };
  var _preloadAll;
  var Preloader = class {
    constructor(delegate, snapshotCache) {
      __publicField(this, "selector", "a[data-turbo-preload]");
      __privateAdd(this, _preloadAll, () => {
        this.preloadOnLoadLinksForView(document.body);
      });
      this.delegate = delegate;
      this.snapshotCache = snapshotCache;
    }
    start() {
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", __privateGet(this, _preloadAll));
      } else {
        this.preloadOnLoadLinksForView(document.body);
      }
    }
    stop() {
      document.removeEventListener("DOMContentLoaded", __privateGet(this, _preloadAll));
    }
    preloadOnLoadLinksForView(element) {
      for (const link of element.querySelectorAll(this.selector)) {
        if (this.delegate.shouldPreloadLink(link)) {
          this.preloadURL(link);
        }
      }
    }
    async preloadURL(link) {
      const location2 = new URL(link.href);
      if (this.snapshotCache.has(location2)) {
        return;
      }
      const fetchRequest = new FetchRequest(this, FetchMethod.get, location2, new URLSearchParams(), link);
      await fetchRequest.perform();
    }
    // Fetch request delegate
    prepareRequest(fetchRequest) {
      fetchRequest.headers["X-Sec-Purpose"] = "prefetch";
    }
    async requestSucceededWithResponse(fetchRequest, fetchResponse) {
      try {
        const responseHTML = await fetchResponse.responseHTML;
        const snapshot = PageSnapshot.fromHTMLString(responseHTML);
        this.snapshotCache.put(fetchRequest.url, snapshot);
      } catch (_) {
      }
    }
    requestStarted(fetchRequest) {
    }
    requestErrored(fetchRequest) {
    }
    requestFinished(fetchRequest) {
    }
    requestPreventedHandlingResponse(fetchRequest, fetchResponse) {
    }
    requestFailedWithResponse(fetchRequest, fetchResponse) {
    }
  };
  _preloadAll = new WeakMap();
  var _Cache_instances, setCacheControl_fn;
  var Cache = class {
    constructor(session2) {
      __privateAdd(this, _Cache_instances);
      this.session = session2;
    }
    clear() {
      this.session.clearCache();
    }
    resetCacheControl() {
      __privateMethod(this, _Cache_instances, setCacheControl_fn).call(this, "");
    }
    exemptPageFromCache() {
      __privateMethod(this, _Cache_instances, setCacheControl_fn).call(this, "no-cache");
    }
    exemptPageFromPreview() {
      __privateMethod(this, _Cache_instances, setCacheControl_fn).call(this, "no-preview");
    }
  };
  _Cache_instances = new WeakSet();
  setCacheControl_fn = function(value) {
    setMetaContent("turbo-cache-control", value);
  };
  var _pageRefreshDebouncePeriod;
  var Session = class {
    constructor(recentRequests2) {
      __publicField(this, "navigator", new Navigator(this));
      __publicField(this, "history", new History(this));
      __publicField(this, "view", new PageView(this, document.documentElement));
      __publicField(this, "adapter", new BrowserAdapter(this));
      __publicField(this, "pageObserver", new PageObserver(this));
      __publicField(this, "cacheObserver", new CacheObserver());
      __publicField(this, "linkPrefetchObserver", new LinkPrefetchObserver(this, document));
      __publicField(this, "linkClickObserver", new LinkClickObserver(this, window));
      __publicField(this, "formSubmitObserver", new FormSubmitObserver(this, document));
      __publicField(this, "scrollObserver", new ScrollObserver(this));
      __publicField(this, "streamObserver", new StreamObserver(this));
      __publicField(this, "formLinkClickObserver", new FormLinkClickObserver(this, document.documentElement));
      __publicField(this, "frameRedirector", new FrameRedirector(this, document.documentElement));
      __publicField(this, "streamMessageRenderer", new StreamMessageRenderer());
      __publicField(this, "cache", new Cache(this));
      __publicField(this, "drive", true);
      __publicField(this, "enabled", true);
      __publicField(this, "progressBarDelay", 500);
      __publicField(this, "started", false);
      __publicField(this, "formMode", "on");
      __privateAdd(this, _pageRefreshDebouncePeriod, 150);
      this.recentRequests = recentRequests2;
      this.preloader = new Preloader(this, this.view.snapshotCache);
      this.debouncedRefresh = this.refresh;
      this.pageRefreshDebouncePeriod = this.pageRefreshDebouncePeriod;
    }
    start() {
      if (!this.started) {
        this.pageObserver.start();
        this.cacheObserver.start();
        this.linkPrefetchObserver.start();
        this.formLinkClickObserver.start();
        this.linkClickObserver.start();
        this.formSubmitObserver.start();
        this.scrollObserver.start();
        this.streamObserver.start();
        this.frameRedirector.start();
        this.history.start();
        this.preloader.start();
        this.started = true;
        this.enabled = true;
      }
    }
    disable() {
      this.enabled = false;
    }
    stop() {
      if (this.started) {
        this.pageObserver.stop();
        this.cacheObserver.stop();
        this.linkPrefetchObserver.stop();
        this.formLinkClickObserver.stop();
        this.linkClickObserver.stop();
        this.formSubmitObserver.stop();
        this.scrollObserver.stop();
        this.streamObserver.stop();
        this.frameRedirector.stop();
        this.history.stop();
        this.preloader.stop();
        this.started = false;
      }
    }
    registerAdapter(adapter) {
      this.adapter = adapter;
    }
    visit(location2, options = {}) {
      const frameElement = options.frame ? document.getElementById(options.frame) : null;
      if (frameElement instanceof FrameElement) {
        const action = options.action || getVisitAction(frameElement);
        frameElement.delegate.proposeVisitIfNavigatedWithAction(frameElement, action);
        frameElement.src = location2.toString();
      } else {
        this.navigator.proposeVisit(expandURL(location2), options);
      }
    }
    refresh(url, requestId) {
      const isRecentRequest = requestId && this.recentRequests.has(requestId);
      if (!isRecentRequest) {
        this.visit(url, { action: "replace", shouldCacheSnapshot: false });
      }
    }
    connectStreamSource(source) {
      this.streamObserver.connectStreamSource(source);
    }
    disconnectStreamSource(source) {
      this.streamObserver.disconnectStreamSource(source);
    }
    renderStreamMessage(message2) {
      this.streamMessageRenderer.render(StreamMessage.wrap(message2));
    }
    clearCache() {
      this.view.clearSnapshotCache();
    }
    setProgressBarDelay(delay) {
      this.progressBarDelay = delay;
    }
    setFormMode(mode) {
      this.formMode = mode;
    }
    get location() {
      return this.history.location;
    }
    get restorationIdentifier() {
      return this.history.restorationIdentifier;
    }
    get pageRefreshDebouncePeriod() {
      return __privateGet(this, _pageRefreshDebouncePeriod);
    }
    set pageRefreshDebouncePeriod(value) {
      this.refresh = debounce(this.debouncedRefresh.bind(this), value);
      __privateSet(this, _pageRefreshDebouncePeriod, value);
    }
    // Preloader delegate
    shouldPreloadLink(element) {
      const isUnsafe = element.hasAttribute("data-turbo-method");
      const isStream = element.hasAttribute("data-turbo-stream");
      const frameTarget = element.getAttribute("data-turbo-frame");
      const frame = frameTarget == "_top" ? null : document.getElementById(frameTarget) || findClosestRecursively(element, "turbo-frame:not([disabled])");
      if (isUnsafe || isStream || frame instanceof FrameElement) {
        return false;
      } else {
        const location2 = new URL(element.href);
        return this.elementIsNavigatable(element) && locationIsVisitable(location2, this.snapshot.rootLocation);
      }
    }
    // History delegate
    historyPoppedToLocationWithRestorationIdentifierAndDirection(location2, restorationIdentifier, direction) {
      if (this.enabled) {
        this.navigator.startVisit(location2, restorationIdentifier, {
          action: "restore",
          historyChanged: true,
          direction
        });
      } else {
        this.adapter.pageInvalidated({
          reason: "turbo_disabled"
        });
      }
    }
    // Scroll observer delegate
    scrollPositionChanged(position) {
      this.history.updateRestorationData({ scrollPosition: position });
    }
    // Form click observer delegate
    willSubmitFormLinkToLocation(link, location2) {
      return this.elementIsNavigatable(link) && locationIsVisitable(location2, this.snapshot.rootLocation);
    }
    submittedFormLinkToLocation() {
    }
    // Link hover observer delegate
    canPrefetchRequestToLocation(link, location2) {
      return this.elementIsNavigatable(link) && locationIsVisitable(location2, this.snapshot.rootLocation);
    }
    // Link click observer delegate
    willFollowLinkToLocation(link, location2, event) {
      return this.elementIsNavigatable(link) && locationIsVisitable(location2, this.snapshot.rootLocation) && this.applicationAllowsFollowingLinkToLocation(link, location2, event);
    }
    followedLinkToLocation(link, location2) {
      const action = this.getActionForLink(link);
      const acceptsStreamResponse = link.hasAttribute("data-turbo-stream");
      this.visit(location2.href, { action, acceptsStreamResponse });
    }
    // Navigator delegate
    allowsVisitingLocationWithAction(location2, action) {
      return this.locationWithActionIsSamePage(location2, action) || this.applicationAllowsVisitingLocation(location2);
    }
    visitProposedToLocation(location2, options) {
      extendURLWithDeprecatedProperties(location2);
      this.adapter.visitProposedToLocation(location2, options);
    }
    // Visit delegate
    visitStarted(visit2) {
      if (!visit2.acceptsStreamResponse) {
        markAsBusy(document.documentElement);
        this.view.markVisitDirection(visit2.direction);
      }
      extendURLWithDeprecatedProperties(visit2.location);
      if (!visit2.silent) {
        this.notifyApplicationAfterVisitingLocation(visit2.location, visit2.action);
      }
    }
    visitCompleted(visit2) {
      this.view.unmarkVisitDirection();
      clearBusyState(document.documentElement);
      this.notifyApplicationAfterPageLoad(visit2.getTimingMetrics());
    }
    locationWithActionIsSamePage(location2, action) {
      return this.navigator.locationWithActionIsSamePage(location2, action);
    }
    visitScrolledToSamePageLocation(oldURL, newURL) {
      this.notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL);
    }
    // Form submit observer delegate
    willSubmitForm(form, submitter) {
      const action = getAction$1(form, submitter);
      return this.submissionIsNavigatable(form, submitter) && locationIsVisitable(expandURL(action), this.snapshot.rootLocation);
    }
    formSubmitted(form, submitter) {
      this.navigator.submitForm(form, submitter);
    }
    // Page observer delegate
    pageBecameInteractive() {
      this.view.lastRenderedLocation = this.location;
      this.notifyApplicationAfterPageLoad();
    }
    pageLoaded() {
      this.history.assumeControlOfScrollRestoration();
    }
    pageWillUnload() {
      this.history.relinquishControlOfScrollRestoration();
    }
    // Stream observer delegate
    receivedMessageFromStream(message2) {
      this.renderStreamMessage(message2);
    }
    // Page view delegate
    viewWillCacheSnapshot() {
      if (!this.navigator.currentVisit?.silent) {
        this.notifyApplicationBeforeCachingSnapshot();
      }
    }
    allowsImmediateRender({ element }, options) {
      const event = this.notifyApplicationBeforeRender(element, options);
      const {
        defaultPrevented,
        detail: { render }
      } = event;
      if (this.view.renderer && render) {
        this.view.renderer.renderElement = render;
      }
      return !defaultPrevented;
    }
    viewRenderedSnapshot(_snapshot, _isPreview, renderMethod) {
      this.view.lastRenderedLocation = this.history.location;
      this.notifyApplicationAfterRender(renderMethod);
    }
    preloadOnLoadLinksForView(element) {
      this.preloader.preloadOnLoadLinksForView(element);
    }
    viewInvalidated(reason) {
      this.adapter.pageInvalidated(reason);
    }
    // Frame element
    frameLoaded(frame) {
      this.notifyApplicationAfterFrameLoad(frame);
    }
    frameRendered(fetchResponse, frame) {
      this.notifyApplicationAfterFrameRender(fetchResponse, frame);
    }
    // Application events
    applicationAllowsFollowingLinkToLocation(link, location2, ev) {
      const event = this.notifyApplicationAfterClickingLinkToLocation(link, location2, ev);
      return !event.defaultPrevented;
    }
    applicationAllowsVisitingLocation(location2) {
      const event = this.notifyApplicationBeforeVisitingLocation(location2);
      return !event.defaultPrevented;
    }
    notifyApplicationAfterClickingLinkToLocation(link, location2, event) {
      return dispatch("turbo:click", {
        target: link,
        detail: { url: location2.href, originalEvent: event },
        cancelable: true
      });
    }
    notifyApplicationBeforeVisitingLocation(location2) {
      return dispatch("turbo:before-visit", {
        detail: { url: location2.href },
        cancelable: true
      });
    }
    notifyApplicationAfterVisitingLocation(location2, action) {
      return dispatch("turbo:visit", { detail: { url: location2.href, action } });
    }
    notifyApplicationBeforeCachingSnapshot() {
      return dispatch("turbo:before-cache");
    }
    notifyApplicationBeforeRender(newBody, options) {
      return dispatch("turbo:before-render", {
        detail: { newBody, ...options },
        cancelable: true
      });
    }
    notifyApplicationAfterRender(renderMethod) {
      return dispatch("turbo:render", { detail: { renderMethod } });
    }
    notifyApplicationAfterPageLoad(timing = {}) {
      return dispatch("turbo:load", {
        detail: { url: this.location.href, timing }
      });
    }
    notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL) {
      dispatchEvent(
        new HashChangeEvent("hashchange", {
          oldURL: oldURL.toString(),
          newURL: newURL.toString()
        })
      );
    }
    notifyApplicationAfterFrameLoad(frame) {
      return dispatch("turbo:frame-load", { target: frame });
    }
    notifyApplicationAfterFrameRender(fetchResponse, frame) {
      return dispatch("turbo:frame-render", {
        detail: { fetchResponse },
        target: frame,
        cancelable: true
      });
    }
    // Helpers
    submissionIsNavigatable(form, submitter) {
      if (this.formMode == "off") {
        return false;
      } else {
        const submitterIsNavigatable = submitter ? this.elementIsNavigatable(submitter) : true;
        if (this.formMode == "optin") {
          return submitterIsNavigatable && form.closest('[data-turbo="true"]') != null;
        } else {
          return submitterIsNavigatable && this.elementIsNavigatable(form);
        }
      }
    }
    elementIsNavigatable(element) {
      const container = findClosestRecursively(element, "[data-turbo]");
      const withinFrame = findClosestRecursively(element, "turbo-frame");
      if (this.drive || withinFrame) {
        if (container) {
          return container.getAttribute("data-turbo") != "false";
        } else {
          return true;
        }
      } else {
        if (container) {
          return container.getAttribute("data-turbo") == "true";
        } else {
          return false;
        }
      }
    }
    // Private
    getActionForLink(link) {
      return getVisitAction(link) || "advance";
    }
    get snapshot() {
      return this.view.snapshot;
    }
  };
  _pageRefreshDebouncePeriod = new WeakMap();
  function extendURLWithDeprecatedProperties(url) {
    Object.defineProperties(url, deprecatedLocationPropertyDescriptors);
  }
  var deprecatedLocationPropertyDescriptors = {
    absoluteURL: {
      get() {
        return this.toString();
      }
    }
  };
  var session = new Session(recentRequests);
  var { cache, navigator: navigator$1 } = session;
  function start() {
    session.start();
  }
  function registerAdapter(adapter) {
    session.registerAdapter(adapter);
  }
  function visit(location2, options) {
    session.visit(location2, options);
  }
  function connectStreamSource(source) {
    session.connectStreamSource(source);
  }
  function disconnectStreamSource(source) {
    session.disconnectStreamSource(source);
  }
  function renderStreamMessage(message2) {
    session.renderStreamMessage(message2);
  }
  function clearCache() {
    console.warn(
      "Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"
    );
    session.clearCache();
  }
  function setProgressBarDelay(delay) {
    session.setProgressBarDelay(delay);
  }
  function setConfirmMethod(confirmMethod) {
    FormSubmission.confirmMethod = confirmMethod;
  }
  function setFormMode(mode) {
    session.setFormMode(mode);
  }
  var Turbo = /* @__PURE__ */ Object.freeze({
    __proto__: null,
    navigator: navigator$1,
    session,
    cache,
    PageRenderer,
    PageSnapshot,
    FrameRenderer,
    fetch: fetchWithTurboHeaders,
    start,
    registerAdapter,
    visit,
    connectStreamSource,
    disconnectStreamSource,
    renderStreamMessage,
    clearCache,
    setProgressBarDelay,
    setConfirmMethod,
    setFormMode
  });
  var TurboFrameMissingError = class extends Error {
  };
  var _currentFetchRequest, _resolveVisitPromise, _connected, _hasBeenLoaded, _ignoredAttributes, _FrameController_instances, loadSourceURL_fn, loadFrameResponse_fn, visit_fn, navigateFrame_fn, handleUnvisitableFrameResponse_fn, willHandleFrameMissingFromResponse_fn, handleFrameMissingFromResponse_fn, throwFrameMissingError_fn, visitResponse_fn, findFrameElement_fn2, formActionIsVisitable_fn, shouldInterceptNavigation_fn, isIgnoringChangesTo_fn, ignoringChangesToAttribute_fn, withCurrentNavigationElement_fn;
  var FrameController = class {
    constructor(element) {
      __privateAdd(this, _FrameController_instances);
      __publicField(this, "fetchResponseLoaded", (_fetchResponse) => Promise.resolve());
      __privateAdd(this, _currentFetchRequest, null);
      __privateAdd(this, _resolveVisitPromise, () => {
      });
      __privateAdd(this, _connected, false);
      __privateAdd(this, _hasBeenLoaded, false);
      __privateAdd(this, _ignoredAttributes, /* @__PURE__ */ new Set());
      __publicField(this, "action", null);
      __publicField(this, "visitCachedSnapshot", ({ element }) => {
        const frame = element.querySelector("#" + this.element.id);
        if (frame && this.previousFrameElement) {
          frame.replaceChildren(...this.previousFrameElement.children);
        }
        delete this.previousFrameElement;
      });
      this.element = element;
      this.view = new FrameView(this, this.element);
      this.appearanceObserver = new AppearanceObserver(this, this.element);
      this.formLinkClickObserver = new FormLinkClickObserver(this, this.element);
      this.linkInterceptor = new LinkInterceptor(this, this.element);
      this.restorationIdentifier = uuid();
      this.formSubmitObserver = new FormSubmitObserver(this, this.element);
    }
    // Frame delegate
    connect() {
      if (!__privateGet(this, _connected)) {
        __privateSet(this, _connected, true);
        if (this.loadingStyle == FrameLoadingStyle.lazy) {
          this.appearanceObserver.start();
        } else {
          __privateMethod(this, _FrameController_instances, loadSourceURL_fn).call(this);
        }
        this.formLinkClickObserver.start();
        this.linkInterceptor.start();
        this.formSubmitObserver.start();
      }
    }
    disconnect() {
      if (__privateGet(this, _connected)) {
        __privateSet(this, _connected, false);
        this.appearanceObserver.stop();
        this.formLinkClickObserver.stop();
        this.linkInterceptor.stop();
        this.formSubmitObserver.stop();
      }
    }
    disabledChanged() {
      if (this.loadingStyle == FrameLoadingStyle.eager) {
        __privateMethod(this, _FrameController_instances, loadSourceURL_fn).call(this);
      }
    }
    sourceURLChanged() {
      if (__privateMethod(this, _FrameController_instances, isIgnoringChangesTo_fn).call(this, "src")) return;
      if (this.element.isConnected) {
        this.complete = false;
      }
      if (this.loadingStyle == FrameLoadingStyle.eager || __privateGet(this, _hasBeenLoaded)) {
        __privateMethod(this, _FrameController_instances, loadSourceURL_fn).call(this);
      }
    }
    sourceURLReloaded() {
      const { src } = this.element;
      this.element.removeAttribute("complete");
      this.element.src = null;
      this.element.src = src;
      return this.element.loaded;
    }
    loadingStyleChanged() {
      if (this.loadingStyle == FrameLoadingStyle.lazy) {
        this.appearanceObserver.start();
      } else {
        this.appearanceObserver.stop();
        __privateMethod(this, _FrameController_instances, loadSourceURL_fn).call(this);
      }
    }
    async loadResponse(fetchResponse) {
      if (fetchResponse.redirected || fetchResponse.succeeded && fetchResponse.isHTML) {
        this.sourceURL = fetchResponse.response.url;
      }
      try {
        const html = await fetchResponse.responseHTML;
        if (html) {
          const document2 = parseHTMLDocument(html);
          const pageSnapshot = PageSnapshot.fromDocument(document2);
          if (pageSnapshot.isVisitable) {
            await __privateMethod(this, _FrameController_instances, loadFrameResponse_fn).call(this, fetchResponse, document2);
          } else {
            await __privateMethod(this, _FrameController_instances, handleUnvisitableFrameResponse_fn).call(this, fetchResponse);
          }
        }
      } finally {
        this.fetchResponseLoaded = () => Promise.resolve();
      }
    }
    // Appearance observer delegate
    elementAppearedInViewport(element) {
      this.proposeVisitIfNavigatedWithAction(element, getVisitAction(element));
      __privateMethod(this, _FrameController_instances, loadSourceURL_fn).call(this);
    }
    // Form link click observer delegate
    willSubmitFormLinkToLocation(link) {
      return __privateMethod(this, _FrameController_instances, shouldInterceptNavigation_fn).call(this, link);
    }
    submittedFormLinkToLocation(link, _location, form) {
      const frame = __privateMethod(this, _FrameController_instances, findFrameElement_fn2).call(this, link);
      if (frame) form.setAttribute("data-turbo-frame", frame.id);
    }
    // Link interceptor delegate
    shouldInterceptLinkClick(element, _location, _event) {
      return __privateMethod(this, _FrameController_instances, shouldInterceptNavigation_fn).call(this, element);
    }
    linkClickIntercepted(element, location2) {
      __privateMethod(this, _FrameController_instances, navigateFrame_fn).call(this, element, location2);
    }
    // Form submit observer delegate
    willSubmitForm(element, submitter) {
      return element.closest("turbo-frame") == this.element && __privateMethod(this, _FrameController_instances, shouldInterceptNavigation_fn).call(this, element, submitter);
    }
    formSubmitted(element, submitter) {
      if (this.formSubmission) {
        this.formSubmission.stop();
      }
      this.formSubmission = new FormSubmission(this, element, submitter);
      const { fetchRequest } = this.formSubmission;
      this.prepareRequest(fetchRequest);
      this.formSubmission.start();
    }
    // Fetch request delegate
    prepareRequest(request) {
      request.headers["Turbo-Frame"] = this.id;
      if (this.currentNavigationElement?.hasAttribute("data-turbo-stream")) {
        request.acceptResponseType(StreamMessage.contentType);
      }
    }
    requestStarted(_request) {
      markAsBusy(this.element);
    }
    requestPreventedHandlingResponse(_request, _response) {
      __privateGet(this, _resolveVisitPromise).call(this);
    }
    async requestSucceededWithResponse(request, response) {
      await this.loadResponse(response);
      __privateGet(this, _resolveVisitPromise).call(this);
    }
    async requestFailedWithResponse(request, response) {
      await this.loadResponse(response);
      __privateGet(this, _resolveVisitPromise).call(this);
    }
    requestErrored(request, error2) {
      console.error(error2);
      __privateGet(this, _resolveVisitPromise).call(this);
    }
    requestFinished(_request) {
      clearBusyState(this.element);
    }
    // Form submission delegate
    formSubmissionStarted({ formElement }) {
      markAsBusy(formElement, __privateMethod(this, _FrameController_instances, findFrameElement_fn2).call(this, formElement));
    }
    formSubmissionSucceededWithResponse(formSubmission, response) {
      const frame = __privateMethod(this, _FrameController_instances, findFrameElement_fn2).call(this, formSubmission.formElement, formSubmission.submitter);
      frame.delegate.proposeVisitIfNavigatedWithAction(frame, getVisitAction(formSubmission.submitter, formSubmission.formElement, frame));
      frame.delegate.loadResponse(response);
      if (!formSubmission.isSafe) {
        session.clearCache();
      }
    }
    formSubmissionFailedWithResponse(formSubmission, fetchResponse) {
      this.element.delegate.loadResponse(fetchResponse);
      session.clearCache();
    }
    formSubmissionErrored(formSubmission, error2) {
      console.error(error2);
    }
    formSubmissionFinished({ formElement }) {
      clearBusyState(formElement, __privateMethod(this, _FrameController_instances, findFrameElement_fn2).call(this, formElement));
    }
    // View delegate
    allowsImmediateRender({ element: newFrame }, options) {
      const event = dispatch("turbo:before-frame-render", {
        target: this.element,
        detail: { newFrame, ...options },
        cancelable: true
      });
      const {
        defaultPrevented,
        detail: { render }
      } = event;
      if (this.view.renderer && render) {
        this.view.renderer.renderElement = render;
      }
      return !defaultPrevented;
    }
    viewRenderedSnapshot(_snapshot, _isPreview, _renderMethod) {
    }
    preloadOnLoadLinksForView(element) {
      session.preloadOnLoadLinksForView(element);
    }
    viewInvalidated() {
    }
    // Frame renderer delegate
    willRenderFrame(currentElement, _newElement) {
      this.previousFrameElement = currentElement.cloneNode(true);
    }
    proposeVisitIfNavigatedWithAction(frame, action = null) {
      this.action = action;
      if (this.action) {
        const pageSnapshot = PageSnapshot.fromElement(frame).clone();
        const { visitCachedSnapshot } = frame.delegate;
        frame.delegate.fetchResponseLoaded = async (fetchResponse) => {
          if (frame.src) {
            const { statusCode, redirected } = fetchResponse;
            const responseHTML = await fetchResponse.responseHTML;
            const response = { statusCode, redirected, responseHTML };
            const options = {
              response,
              visitCachedSnapshot,
              willRender: false,
              updateHistory: false,
              restorationIdentifier: this.restorationIdentifier,
              snapshot: pageSnapshot
            };
            if (this.action) options.action = this.action;
            session.visit(frame.src, options);
          }
        };
      }
    }
    changeHistory() {
      if (this.action) {
        const method = getHistoryMethodForAction(this.action);
        session.history.update(method, expandURL(this.element.src || ""), this.restorationIdentifier);
      }
    }
    async extractForeignFrameElement(container) {
      let element;
      const id = CSS.escape(this.id);
      try {
        element = activateElement(container.querySelector(`turbo-frame#${id}`), this.sourceURL);
        if (element) {
          return element;
        }
        element = activateElement(container.querySelector(`turbo-frame[src][recurse~=${id}]`), this.sourceURL);
        if (element) {
          await element.loaded;
          return await this.extractForeignFrameElement(element);
        }
      } catch (error2) {
        console.error(error2);
        return new FrameElement();
      }
      return null;
    }
    // Computed properties
    get id() {
      return this.element.id;
    }
    get enabled() {
      return !this.element.disabled;
    }
    get sourceURL() {
      if (this.element.src) {
        return this.element.src;
      }
    }
    set sourceURL(sourceURL) {
      __privateMethod(this, _FrameController_instances, ignoringChangesToAttribute_fn).call(this, "src", () => {
        this.element.src = sourceURL ?? null;
      });
    }
    get loadingStyle() {
      return this.element.loading;
    }
    get isLoading() {
      return this.formSubmission !== void 0 || __privateGet(this, _resolveVisitPromise).call(this) !== void 0;
    }
    get complete() {
      return this.element.hasAttribute("complete");
    }
    set complete(value) {
      if (value) {
        this.element.setAttribute("complete", "");
      } else {
        this.element.removeAttribute("complete");
      }
    }
    get isActive() {
      return this.element.isActive && __privateGet(this, _connected);
    }
    get rootLocation() {
      const meta = this.element.ownerDocument.querySelector(`meta[name="turbo-root"]`);
      const root = meta?.content ?? "/";
      return expandURL(root);
    }
  };
  _currentFetchRequest = new WeakMap();
  _resolveVisitPromise = new WeakMap();
  _connected = new WeakMap();
  _hasBeenLoaded = new WeakMap();
  _ignoredAttributes = new WeakMap();
  _FrameController_instances = new WeakSet();
  loadSourceURL_fn = async function() {
    if (this.enabled && this.isActive && !this.complete && this.sourceURL) {
      this.element.loaded = __privateMethod(this, _FrameController_instances, visit_fn).call(this, expandURL(this.sourceURL));
      this.appearanceObserver.stop();
      await this.element.loaded;
      __privateSet(this, _hasBeenLoaded, true);
    }
  };
  loadFrameResponse_fn = async function(fetchResponse, document2) {
    const newFrameElement = await this.extractForeignFrameElement(document2.body);
    if (newFrameElement) {
      const snapshot = new Snapshot(newFrameElement);
      const renderer = new FrameRenderer(this, this.view.snapshot, snapshot, FrameRenderer.renderElement, false, false);
      if (this.view.renderPromise) await this.view.renderPromise;
      this.changeHistory();
      await this.view.render(renderer);
      this.complete = true;
      session.frameRendered(fetchResponse, this.element);
      session.frameLoaded(this.element);
      await this.fetchResponseLoaded(fetchResponse);
    } else if (__privateMethod(this, _FrameController_instances, willHandleFrameMissingFromResponse_fn).call(this, fetchResponse)) {
      __privateMethod(this, _FrameController_instances, handleFrameMissingFromResponse_fn).call(this, fetchResponse);
    }
  };
  visit_fn = async function(url) {
    const request = new FetchRequest(this, FetchMethod.get, url, new URLSearchParams(), this.element);
    __privateGet(this, _currentFetchRequest)?.cancel();
    __privateSet(this, _currentFetchRequest, request);
    return new Promise((resolve) => {
      __privateSet(this, _resolveVisitPromise, () => {
        __privateSet(this, _resolveVisitPromise, () => {
        });
        __privateSet(this, _currentFetchRequest, null);
        resolve();
      });
      request.perform();
    });
  };
  navigateFrame_fn = function(element, url, submitter) {
    const frame = __privateMethod(this, _FrameController_instances, findFrameElement_fn2).call(this, element, submitter);
    frame.delegate.proposeVisitIfNavigatedWithAction(frame, getVisitAction(submitter, element, frame));
    __privateMethod(this, _FrameController_instances, withCurrentNavigationElement_fn).call(this, element, () => {
      frame.src = url;
    });
  };
  handleUnvisitableFrameResponse_fn = async function(fetchResponse) {
    console.warn(
      `The response (${fetchResponse.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`
    );
    await __privateMethod(this, _FrameController_instances, visitResponse_fn).call(this, fetchResponse.response);
  };
  willHandleFrameMissingFromResponse_fn = function(fetchResponse) {
    this.element.setAttribute("complete", "");
    const response = fetchResponse.response;
    const visit2 = async (url, options) => {
      if (url instanceof Response) {
        __privateMethod(this, _FrameController_instances, visitResponse_fn).call(this, url);
      } else {
        session.visit(url, options);
      }
    };
    const event = dispatch("turbo:frame-missing", {
      target: this.element,
      detail: { response, visit: visit2 },
      cancelable: true
    });
    return !event.defaultPrevented;
  };
  handleFrameMissingFromResponse_fn = function(fetchResponse) {
    this.view.missing();
    __privateMethod(this, _FrameController_instances, throwFrameMissingError_fn).call(this, fetchResponse);
  };
  throwFrameMissingError_fn = function(fetchResponse) {
    const message2 = `The response (${fetchResponse.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;
    throw new TurboFrameMissingError(message2);
  };
  visitResponse_fn = async function(response) {
    const wrapped = new FetchResponse(response);
    const responseHTML = await wrapped.responseHTML;
    const { location: location2, redirected, statusCode } = wrapped;
    return session.visit(location2, { response: { redirected, statusCode, responseHTML } });
  };
  findFrameElement_fn2 = function(element, submitter) {
    const id = getAttribute("data-turbo-frame", submitter, element) || this.element.getAttribute("target");
    return getFrameElementById(id) ?? this.element;
  };
  formActionIsVisitable_fn = function(form, submitter) {
    const action = getAction$1(form, submitter);
    return locationIsVisitable(expandURL(action), this.rootLocation);
  };
  shouldInterceptNavigation_fn = function(element, submitter) {
    const id = getAttribute("data-turbo-frame", submitter, element) || this.element.getAttribute("target");
    if (element instanceof HTMLFormElement && !__privateMethod(this, _FrameController_instances, formActionIsVisitable_fn).call(this, element, submitter)) {
      return false;
    }
    if (!this.enabled || id == "_top") {
      return false;
    }
    if (id) {
      const frameElement = getFrameElementById(id);
      if (frameElement) {
        return !frameElement.disabled;
      }
    }
    if (!session.elementIsNavigatable(element)) {
      return false;
    }
    if (submitter && !session.elementIsNavigatable(submitter)) {
      return false;
    }
    return true;
  };
  isIgnoringChangesTo_fn = function(attributeName) {
    return __privateGet(this, _ignoredAttributes).has(attributeName);
  };
  ignoringChangesToAttribute_fn = function(attributeName, callback) {
    __privateGet(this, _ignoredAttributes).add(attributeName);
    callback();
    __privateGet(this, _ignoredAttributes).delete(attributeName);
  };
  withCurrentNavigationElement_fn = function(element, callback) {
    this.currentNavigationElement = element;
    callback();
    delete this.currentNavigationElement;
  };
  function getFrameElementById(id) {
    if (id != null) {
      const element = document.getElementById(id);
      if (element instanceof FrameElement) {
        return element;
      }
    }
  }
  function activateElement(element, currentURL) {
    if (element) {
      const src = element.getAttribute("src");
      if (src != null && currentURL != null && urlsAreEqual(src, currentURL)) {
        throw new Error(`Matching <turbo-frame id="${element.id}"> element has a source URL which references itself`);
      }
      if (element.ownerDocument !== document) {
        element = document.importNode(element, true);
      }
      if (element instanceof FrameElement) {
        element.connectedCallback();
        element.disconnectedCallback();
        return element;
      }
    }
  }
  var StreamActions = {
    after() {
      this.targetElements.forEach((e) => e.parentElement?.insertBefore(this.templateContent, e.nextSibling));
    },
    append() {
      this.removeDuplicateTargetChildren();
      this.targetElements.forEach((e) => e.append(this.templateContent));
    },
    before() {
      this.targetElements.forEach((e) => e.parentElement?.insertBefore(this.templateContent, e));
    },
    prepend() {
      this.removeDuplicateTargetChildren();
      this.targetElements.forEach((e) => e.prepend(this.templateContent));
    },
    remove() {
      this.targetElements.forEach((e) => e.remove());
    },
    replace() {
      this.targetElements.forEach((e) => e.replaceWith(this.templateContent));
    },
    update() {
      this.targetElements.forEach((targetElement) => {
        targetElement.innerHTML = "";
        targetElement.append(this.templateContent);
      });
    },
    refresh() {
      session.refresh(this.baseURI, this.requestId);
    }
  };
  var _StreamElement_instances, raise_fn;
  var _StreamElement = class _StreamElement extends HTMLElement {
    constructor() {
      super(...arguments);
      __privateAdd(this, _StreamElement_instances);
    }
    static async renderElement(newElement) {
      await newElement.performAction();
    }
    async connectedCallback() {
      try {
        await this.render();
      } catch (error2) {
        console.error(error2);
      } finally {
        this.disconnect();
      }
    }
    async render() {
      return this.renderPromise ?? (this.renderPromise = (async () => {
        const event = this.beforeRenderEvent;
        if (this.dispatchEvent(event)) {
          await nextRepaint();
          await event.detail.render(this);
        }
      })());
    }
    disconnect() {
      try {
        this.remove();
      } catch {
      }
    }
    /**
     * Removes duplicate children (by ID)
     */
    removeDuplicateTargetChildren() {
      this.duplicateChildren.forEach((c) => c.remove());
    }
    /**
     * Gets the list of duplicate children (i.e. those with the same ID)
     */
    get duplicateChildren() {
      const existingChildren = this.targetElements.flatMap((e) => [...e.children]).filter((c) => !!c.id);
      const newChildrenIds = [...this.templateContent?.children || []].filter((c) => !!c.id).map((c) => c.id);
      return existingChildren.filter((c) => newChildrenIds.includes(c.id));
    }
    /**
     * Gets the action function to be performed.
     */
    get performAction() {
      if (this.action) {
        const actionFunction = StreamActions[this.action];
        if (actionFunction) {
          return actionFunction;
        }
        __privateMethod(this, _StreamElement_instances, raise_fn).call(this, "unknown action");
      }
      __privateMethod(this, _StreamElement_instances, raise_fn).call(this, "action attribute is missing");
    }
    /**
     * Gets the target elements which the template will be rendered to.
     */
    get targetElements() {
      if (this.target) {
        return this.targetElementsById;
      } else if (this.targets) {
        return this.targetElementsByQuery;
      } else {
        __privateMethod(this, _StreamElement_instances, raise_fn).call(this, "target or targets attribute is missing");
      }
    }
    /**
     * Gets the contents of the main `<template>`.
     */
    get templateContent() {
      return this.templateElement.content.cloneNode(true);
    }
    /**
     * Gets the main `<template>` used for rendering
     */
    get templateElement() {
      if (this.firstElementChild === null) {
        const template = this.ownerDocument.createElement("template");
        this.appendChild(template);
        return template;
      } else if (this.firstElementChild instanceof HTMLTemplateElement) {
        return this.firstElementChild;
      }
      __privateMethod(this, _StreamElement_instances, raise_fn).call(this, "first child element must be a <template> element");
    }
    /**
     * Gets the current action.
     */
    get action() {
      return this.getAttribute("action");
    }
    /**
     * Gets the current target (an element ID) to which the result will
     * be rendered.
     */
    get target() {
      return this.getAttribute("target");
    }
    /**
     * Gets the current "targets" selector (a CSS selector)
     */
    get targets() {
      return this.getAttribute("targets");
    }
    /**
     * Reads the request-id attribute
     */
    get requestId() {
      return this.getAttribute("request-id");
    }
    get description() {
      return (this.outerHTML.match(/<[^>]+>/) ?? [])[0] ?? "<turbo-stream>";
    }
    get beforeRenderEvent() {
      return new CustomEvent("turbo:before-stream-render", {
        bubbles: true,
        cancelable: true,
        detail: { newStream: this, render: _StreamElement.renderElement }
      });
    }
    get targetElementsById() {
      const element = this.ownerDocument?.getElementById(this.target);
      if (element !== null) {
        return [element];
      } else {
        return [];
      }
    }
    get targetElementsByQuery() {
      const elements = this.ownerDocument?.querySelectorAll(this.targets);
      if (elements.length !== 0) {
        return Array.prototype.slice.call(elements);
      } else {
        return [];
      }
    }
  };
  _StreamElement_instances = new WeakSet();
  raise_fn = function(message2) {
    throw new Error(`${this.description}: ${message2}`);
  };
  var StreamElement = _StreamElement;
  var StreamSourceElement = class extends HTMLElement {
    constructor() {
      super(...arguments);
      __publicField(this, "streamSource", null);
    }
    connectedCallback() {
      this.streamSource = this.src.match(/^ws{1,2}:/) ? new WebSocket(this.src) : new EventSource(this.src);
      connectStreamSource(this.streamSource);
    }
    disconnectedCallback() {
      if (this.streamSource) {
        this.streamSource.close();
        disconnectStreamSource(this.streamSource);
      }
    }
    get src() {
      return this.getAttribute("src") || "";
    }
  };
  FrameElement.delegateConstructor = FrameController;
  if (customElements.get("turbo-frame") === void 0) {
    customElements.define("turbo-frame", FrameElement);
  }
  if (customElements.get("turbo-stream") === void 0) {
    customElements.define("turbo-stream", StreamElement);
  }
  if (customElements.get("turbo-stream-source") === void 0) {
    customElements.define("turbo-stream-source", StreamSourceElement);
  }
  (() => {
    let element = document.currentScript;
    if (!element) return;
    if (element.hasAttribute("data-turbo-suppress-warning")) return;
    element = element.parentElement;
    while (element) {
      if (element == document.body) {
        return console.warn(
          unindent`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ——
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,
          element.outerHTML
        );
      }
      element = element.parentElement;
    }
  })();
  window.Turbo = { ...Turbo, StreamActions };
  start();

  // node_modules/@hotwired/turbo-rails/app/javascript/turbo/cable.js
  var consumer;
  async function getConsumer() {
    return consumer || setConsumer(createConsumer2().then(setConsumer));
  }
  function setConsumer(newConsumer) {
    return consumer = newConsumer;
  }
  async function createConsumer2() {
    const { createConsumer: createConsumer3 } = await Promise.resolve().then(() => (init_src(), src_exports));
    return createConsumer3();
  }
  async function subscribeTo(channel, mixin) {
    const { subscriptions } = await getConsumer();
    return subscriptions.create(channel, mixin);
  }

  // node_modules/@hotwired/turbo-rails/app/javascript/turbo/snakeize.js
  function walk(obj) {
    if (!obj || typeof obj !== "object") return obj;
    if (obj instanceof Date || obj instanceof RegExp) return obj;
    if (Array.isArray(obj)) return obj.map(walk);
    return Object.keys(obj).reduce(function(acc, key) {
      var camel = key[0].toLowerCase() + key.slice(1).replace(/([A-Z]+)/g, function(m, x) {
        return "_" + x.toLowerCase();
      });
      acc[camel] = walk(obj[key]);
      return acc;
    }, {});
  }

  // node_modules/@hotwired/turbo-rails/app/javascript/turbo/cable_stream_source_element.js
  var TurboCableStreamSourceElement = class extends HTMLElement {
    async connectedCallback() {
      connectStreamSource(this);
      this.subscription = await subscribeTo(this.channel, {
        received: this.dispatchMessageEvent.bind(this),
        connected: this.subscriptionConnected.bind(this),
        disconnected: this.subscriptionDisconnected.bind(this)
      });
    }
    disconnectedCallback() {
      disconnectStreamSource(this);
      if (this.subscription) this.subscription.unsubscribe();
    }
    dispatchMessageEvent(data) {
      const event = new MessageEvent("message", { data });
      return this.dispatchEvent(event);
    }
    subscriptionConnected() {
      this.setAttribute("connected", "");
    }
    subscriptionDisconnected() {
      this.removeAttribute("connected");
    }
    get channel() {
      const channel = this.getAttribute("channel");
      const signed_stream_name = this.getAttribute("signed-stream-name");
      return { channel, signed_stream_name, ...walk({ ...this.dataset }) };
    }
  };
  if (customElements.get("turbo-cable-stream-source") === void 0) {
    customElements.define("turbo-cable-stream-source", TurboCableStreamSourceElement);
  }

  // node_modules/@hotwired/turbo-rails/app/javascript/turbo/fetch_requests.js
  function encodeMethodIntoRequestBody(event) {
    if (event.target instanceof HTMLFormElement) {
      const { target: form, detail: { fetchOptions } } = event;
      form.addEventListener("turbo:submit-start", ({ detail: { formSubmission: { submitter } } }) => {
        const body = isBodyInit(fetchOptions.body) ? fetchOptions.body : new URLSearchParams();
        const method = determineFetchMethod(submitter, body, form);
        if (!/get/i.test(method)) {
          if (/post/i.test(method)) {
            body.delete("_method");
          } else {
            body.set("_method", method);
          }
          fetchOptions.method = "post";
        }
      }, { once: true });
    }
  }
  function determineFetchMethod(submitter, body, form) {
    const formMethod = determineFormMethod(submitter);
    const overrideMethod = body.get("_method");
    const method = form.getAttribute("method") || "get";
    if (typeof formMethod == "string") {
      return formMethod;
    } else if (typeof overrideMethod == "string") {
      return overrideMethod;
    } else {
      return method;
    }
  }
  function determineFormMethod(submitter) {
    if (submitter instanceof HTMLButtonElement || submitter instanceof HTMLInputElement) {
      if (submitter.name === "_method") {
        return submitter.value;
      } else if (submitter.hasAttribute("formmethod")) {
        return submitter.formMethod;
      } else {
        return null;
      }
    } else {
      return null;
    }
  }
  function isBodyInit(body) {
    return body instanceof FormData || body instanceof URLSearchParams;
  }

  // node_modules/@hotwired/turbo-rails/app/javascript/turbo/index.js
  window.Turbo = turbo_es2017_esm_exports;
  addEventListener("turbo:before-fetch-request", encodeMethodIntoRequestBody);

  // node_modules/@hotwired/stimulus/dist/stimulus.js
  var EventListener = class {
    constructor(eventTarget, eventName, eventOptions) {
      this.eventTarget = eventTarget;
      this.eventName = eventName;
      this.eventOptions = eventOptions;
      this.unorderedBindings = /* @__PURE__ */ new Set();
    }
    connect() {
      this.eventTarget.addEventListener(this.eventName, this, this.eventOptions);
    }
    disconnect() {
      this.eventTarget.removeEventListener(this.eventName, this, this.eventOptions);
    }
    bindingConnected(binding) {
      this.unorderedBindings.add(binding);
    }
    bindingDisconnected(binding) {
      this.unorderedBindings.delete(binding);
    }
    handleEvent(event) {
      const extendedEvent2 = extendEvent(event);
      for (const binding of this.bindings) {
        if (extendedEvent2.immediatePropagationStopped) {
          break;
        } else {
          binding.handleEvent(extendedEvent2);
        }
      }
    }
    hasBindings() {
      return this.unorderedBindings.size > 0;
    }
    get bindings() {
      return Array.from(this.unorderedBindings).sort((left, right) => {
        const leftIndex = left.index, rightIndex = right.index;
        return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;
      });
    }
  };
  function extendEvent(event) {
    if ("immediatePropagationStopped" in event) {
      return event;
    } else {
      const { stopImmediatePropagation } = event;
      return Object.assign(event, {
        immediatePropagationStopped: false,
        stopImmediatePropagation() {
          this.immediatePropagationStopped = true;
          stopImmediatePropagation.call(this);
        }
      });
    }
  }
  var Dispatcher = class {
    constructor(application2) {
      this.application = application2;
      this.eventListenerMaps = /* @__PURE__ */ new Map();
      this.started = false;
    }
    start() {
      if (!this.started) {
        this.started = true;
        this.eventListeners.forEach((eventListener) => eventListener.connect());
      }
    }
    stop() {
      if (this.started) {
        this.started = false;
        this.eventListeners.forEach((eventListener) => eventListener.disconnect());
      }
    }
    get eventListeners() {
      return Array.from(this.eventListenerMaps.values()).reduce((listeners, map) => listeners.concat(Array.from(map.values())), []);
    }
    bindingConnected(binding) {
      this.fetchEventListenerForBinding(binding).bindingConnected(binding);
    }
    bindingDisconnected(binding, clearEventListeners = false) {
      this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);
      if (clearEventListeners)
        this.clearEventListenersForBinding(binding);
    }
    handleError(error2, message2, detail = {}) {
      this.application.handleError(error2, `Error ${message2}`, detail);
    }
    clearEventListenersForBinding(binding) {
      const eventListener = this.fetchEventListenerForBinding(binding);
      if (!eventListener.hasBindings()) {
        eventListener.disconnect();
        this.removeMappedEventListenerFor(binding);
      }
    }
    removeMappedEventListenerFor(binding) {
      const { eventTarget, eventName, eventOptions } = binding;
      const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);
      const cacheKey = this.cacheKey(eventName, eventOptions);
      eventListenerMap.delete(cacheKey);
      if (eventListenerMap.size == 0)
        this.eventListenerMaps.delete(eventTarget);
    }
    fetchEventListenerForBinding(binding) {
      const { eventTarget, eventName, eventOptions } = binding;
      return this.fetchEventListener(eventTarget, eventName, eventOptions);
    }
    fetchEventListener(eventTarget, eventName, eventOptions) {
      const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);
      const cacheKey = this.cacheKey(eventName, eventOptions);
      let eventListener = eventListenerMap.get(cacheKey);
      if (!eventListener) {
        eventListener = this.createEventListener(eventTarget, eventName, eventOptions);
        eventListenerMap.set(cacheKey, eventListener);
      }
      return eventListener;
    }
    createEventListener(eventTarget, eventName, eventOptions) {
      const eventListener = new EventListener(eventTarget, eventName, eventOptions);
      if (this.started) {
        eventListener.connect();
      }
      return eventListener;
    }
    fetchEventListenerMapForEventTarget(eventTarget) {
      let eventListenerMap = this.eventListenerMaps.get(eventTarget);
      if (!eventListenerMap) {
        eventListenerMap = /* @__PURE__ */ new Map();
        this.eventListenerMaps.set(eventTarget, eventListenerMap);
      }
      return eventListenerMap;
    }
    cacheKey(eventName, eventOptions) {
      const parts = [eventName];
      Object.keys(eventOptions).sort().forEach((key) => {
        parts.push(`${eventOptions[key] ? "" : "!"}${key}`);
      });
      return parts.join(":");
    }
  };
  var defaultActionDescriptorFilters = {
    stop({ event, value }) {
      if (value)
        event.stopPropagation();
      return true;
    },
    prevent({ event, value }) {
      if (value)
        event.preventDefault();
      return true;
    },
    self({ event, value, element }) {
      if (value) {
        return element === event.target;
      } else {
        return true;
      }
    }
  };
  var descriptorPattern = /^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;
  function parseActionDescriptorString(descriptorString) {
    const source = descriptorString.trim();
    const matches = source.match(descriptorPattern) || [];
    let eventName = matches[2];
    let keyFilter = matches[3];
    if (keyFilter && !["keydown", "keyup", "keypress"].includes(eventName)) {
      eventName += `.${keyFilter}`;
      keyFilter = "";
    }
    return {
      eventTarget: parseEventTarget(matches[4]),
      eventName,
      eventOptions: matches[7] ? parseEventOptions(matches[7]) : {},
      identifier: matches[5],
      methodName: matches[6],
      keyFilter: matches[1] || keyFilter
    };
  }
  function parseEventTarget(eventTargetName) {
    if (eventTargetName == "window") {
      return window;
    } else if (eventTargetName == "document") {
      return document;
    }
  }
  function parseEventOptions(eventOptions) {
    return eventOptions.split(":").reduce((options, token) => Object.assign(options, { [token.replace(/^!/, "")]: !/^!/.test(token) }), {});
  }
  function stringifyEventTarget(eventTarget) {
    if (eventTarget == window) {
      return "window";
    } else if (eventTarget == document) {
      return "document";
    }
  }
  function camelize(value) {
    return value.replace(/(?:[_-])([a-z0-9])/g, (_, char) => char.toUpperCase());
  }
  function namespaceCamelize(value) {
    return camelize(value.replace(/--/g, "-").replace(/__/g, "_"));
  }
  function capitalize(value) {
    return value.charAt(0).toUpperCase() + value.slice(1);
  }
  function dasherize(value) {
    return value.replace(/([A-Z])/g, (_, char) => `-${char.toLowerCase()}`);
  }
  function tokenize(value) {
    return value.match(/[^\s]+/g) || [];
  }
  function isSomething(object) {
    return object !== null && object !== void 0;
  }
  function hasProperty(object, property) {
    return Object.prototype.hasOwnProperty.call(object, property);
  }
  var allModifiers = ["meta", "ctrl", "alt", "shift"];
  var Action = class {
    constructor(element, index, descriptor, schema) {
      this.element = element;
      this.index = index;
      this.eventTarget = descriptor.eventTarget || element;
      this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error("missing event name");
      this.eventOptions = descriptor.eventOptions || {};
      this.identifier = descriptor.identifier || error("missing identifier");
      this.methodName = descriptor.methodName || error("missing method name");
      this.keyFilter = descriptor.keyFilter || "";
      this.schema = schema;
    }
    static forToken(token, schema) {
      return new this(token.element, token.index, parseActionDescriptorString(token.content), schema);
    }
    toString() {
      const eventFilter = this.keyFilter ? `.${this.keyFilter}` : "";
      const eventTarget = this.eventTargetName ? `@${this.eventTargetName}` : "";
      return `${this.eventName}${eventFilter}${eventTarget}->${this.identifier}#${this.methodName}`;
    }
    shouldIgnoreKeyboardEvent(event) {
      if (!this.keyFilter) {
        return false;
      }
      const filters = this.keyFilter.split("+");
      if (this.keyFilterDissatisfied(event, filters)) {
        return true;
      }
      const standardFilter = filters.filter((key) => !allModifiers.includes(key))[0];
      if (!standardFilter) {
        return false;
      }
      if (!hasProperty(this.keyMappings, standardFilter)) {
        error(`contains unknown key filter: ${this.keyFilter}`);
      }
      return this.keyMappings[standardFilter].toLowerCase() !== event.key.toLowerCase();
    }
    shouldIgnoreMouseEvent(event) {
      if (!this.keyFilter) {
        return false;
      }
      const filters = [this.keyFilter];
      if (this.keyFilterDissatisfied(event, filters)) {
        return true;
      }
      return false;
    }
    get params() {
      const params = {};
      const pattern = new RegExp(`^data-${this.identifier}-(.+)-param$`, "i");
      for (const { name, value } of Array.from(this.element.attributes)) {
        const match2 = name.match(pattern);
        const key = match2 && match2[1];
        if (key) {
          params[camelize(key)] = typecast(value);
        }
      }
      return params;
    }
    get eventTargetName() {
      return stringifyEventTarget(this.eventTarget);
    }
    get keyMappings() {
      return this.schema.keyMappings;
    }
    keyFilterDissatisfied(event, filters) {
      const [meta, ctrl, alt, shift3] = allModifiers.map((modifier) => filters.includes(modifier));
      return event.metaKey !== meta || event.ctrlKey !== ctrl || event.altKey !== alt || event.shiftKey !== shift3;
    }
  };
  var defaultEventNames = {
    a: () => "click",
    button: () => "click",
    form: () => "submit",
    details: () => "toggle",
    input: (e) => e.getAttribute("type") == "submit" ? "click" : "input",
    select: () => "change",
    textarea: () => "input"
  };
  function getDefaultEventNameForElement(element) {
    const tagName = element.tagName.toLowerCase();
    if (tagName in defaultEventNames) {
      return defaultEventNames[tagName](element);
    }
  }
  function error(message2) {
    throw new Error(message2);
  }
  function typecast(value) {
    try {
      return JSON.parse(value);
    } catch (o_O) {
      return value;
    }
  }
  var Binding = class {
    constructor(context, action) {
      this.context = context;
      this.action = action;
    }
    get index() {
      return this.action.index;
    }
    get eventTarget() {
      return this.action.eventTarget;
    }
    get eventOptions() {
      return this.action.eventOptions;
    }
    get identifier() {
      return this.context.identifier;
    }
    handleEvent(event) {
      const actionEvent = this.prepareActionEvent(event);
      if (this.willBeInvokedByEvent(event) && this.applyEventModifiers(actionEvent)) {
        this.invokeWithEvent(actionEvent);
      }
    }
    get eventName() {
      return this.action.eventName;
    }
    get method() {
      const method = this.controller[this.methodName];
      if (typeof method == "function") {
        return method;
      }
      throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`);
    }
    applyEventModifiers(event) {
      const { element } = this.action;
      const { actionDescriptorFilters } = this.context.application;
      const { controller } = this.context;
      let passes = true;
      for (const [name, value] of Object.entries(this.eventOptions)) {
        if (name in actionDescriptorFilters) {
          const filter2 = actionDescriptorFilters[name];
          passes = passes && filter2({ name, value, event, element, controller });
        } else {
          continue;
        }
      }
      return passes;
    }
    prepareActionEvent(event) {
      return Object.assign(event, { params: this.action.params });
    }
    invokeWithEvent(event) {
      const { target, currentTarget } = event;
      try {
        this.method.call(this.controller, event);
        this.context.logDebugActivity(this.methodName, { event, target, currentTarget, action: this.methodName });
      } catch (error2) {
        const { identifier, controller, element, index } = this;
        const detail = { identifier, controller, element, index, event };
        this.context.handleError(error2, `invoking action "${this.action}"`, detail);
      }
    }
    willBeInvokedByEvent(event) {
      const eventTarget = event.target;
      if (event instanceof KeyboardEvent && this.action.shouldIgnoreKeyboardEvent(event)) {
        return false;
      }
      if (event instanceof MouseEvent && this.action.shouldIgnoreMouseEvent(event)) {
        return false;
      }
      if (this.element === eventTarget) {
        return true;
      } else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {
        return this.scope.containsElement(eventTarget);
      } else {
        return this.scope.containsElement(this.action.element);
      }
    }
    get controller() {
      return this.context.controller;
    }
    get methodName() {
      return this.action.methodName;
    }
    get element() {
      return this.scope.element;
    }
    get scope() {
      return this.context.scope;
    }
  };
  var ElementObserver = class {
    constructor(element, delegate) {
      this.mutationObserverInit = { attributes: true, childList: true, subtree: true };
      this.element = element;
      this.started = false;
      this.delegate = delegate;
      this.elements = /* @__PURE__ */ new Set();
      this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));
    }
    start() {
      if (!this.started) {
        this.started = true;
        this.mutationObserver.observe(this.element, this.mutationObserverInit);
        this.refresh();
      }
    }
    pause(callback) {
      if (this.started) {
        this.mutationObserver.disconnect();
        this.started = false;
      }
      callback();
      if (!this.started) {
        this.mutationObserver.observe(this.element, this.mutationObserverInit);
        this.started = true;
      }
    }
    stop() {
      if (this.started) {
        this.mutationObserver.takeRecords();
        this.mutationObserver.disconnect();
        this.started = false;
      }
    }
    refresh() {
      if (this.started) {
        const matches = new Set(this.matchElementsInTree());
        for (const element of Array.from(this.elements)) {
          if (!matches.has(element)) {
            this.removeElement(element);
          }
        }
        for (const element of Array.from(matches)) {
          this.addElement(element);
        }
      }
    }
    processMutations(mutations) {
      if (this.started) {
        for (const mutation of mutations) {
          this.processMutation(mutation);
        }
      }
    }
    processMutation(mutation) {
      if (mutation.type == "attributes") {
        this.processAttributeChange(mutation.target, mutation.attributeName);
      } else if (mutation.type == "childList") {
        this.processRemovedNodes(mutation.removedNodes);
        this.processAddedNodes(mutation.addedNodes);
      }
    }
    processAttributeChange(element, attributeName) {
      if (this.elements.has(element)) {
        if (this.delegate.elementAttributeChanged && this.matchElement(element)) {
          this.delegate.elementAttributeChanged(element, attributeName);
        } else {
          this.removeElement(element);
        }
      } else if (this.matchElement(element)) {
        this.addElement(element);
      }
    }
    processRemovedNodes(nodes) {
      for (const node of Array.from(nodes)) {
        const element = this.elementFromNode(node);
        if (element) {
          this.processTree(element, this.removeElement);
        }
      }
    }
    processAddedNodes(nodes) {
      for (const node of Array.from(nodes)) {
        const element = this.elementFromNode(node);
        if (element && this.elementIsActive(element)) {
          this.processTree(element, this.addElement);
        }
      }
    }
    matchElement(element) {
      return this.delegate.matchElement(element);
    }
    matchElementsInTree(tree = this.element) {
      return this.delegate.matchElementsInTree(tree);
    }
    processTree(tree, processor) {
      for (const element of this.matchElementsInTree(tree)) {
        processor.call(this, element);
      }
    }
    elementFromNode(node) {
      if (node.nodeType == Node.ELEMENT_NODE) {
        return node;
      }
    }
    elementIsActive(element) {
      if (element.isConnected != this.element.isConnected) {
        return false;
      } else {
        return this.element.contains(element);
      }
    }
    addElement(element) {
      if (!this.elements.has(element)) {
        if (this.elementIsActive(element)) {
          this.elements.add(element);
          if (this.delegate.elementMatched) {
            this.delegate.elementMatched(element);
          }
        }
      }
    }
    removeElement(element) {
      if (this.elements.has(element)) {
        this.elements.delete(element);
        if (this.delegate.elementUnmatched) {
          this.delegate.elementUnmatched(element);
        }
      }
    }
  };
  var AttributeObserver = class {
    constructor(element, attributeName, delegate) {
      this.attributeName = attributeName;
      this.delegate = delegate;
      this.elementObserver = new ElementObserver(element, this);
    }
    get element() {
      return this.elementObserver.element;
    }
    get selector() {
      return `[${this.attributeName}]`;
    }
    start() {
      this.elementObserver.start();
    }
    pause(callback) {
      this.elementObserver.pause(callback);
    }
    stop() {
      this.elementObserver.stop();
    }
    refresh() {
      this.elementObserver.refresh();
    }
    get started() {
      return this.elementObserver.started;
    }
    matchElement(element) {
      return element.hasAttribute(this.attributeName);
    }
    matchElementsInTree(tree) {
      const match2 = this.matchElement(tree) ? [tree] : [];
      const matches = Array.from(tree.querySelectorAll(this.selector));
      return match2.concat(matches);
    }
    elementMatched(element) {
      if (this.delegate.elementMatchedAttribute) {
        this.delegate.elementMatchedAttribute(element, this.attributeName);
      }
    }
    elementUnmatched(element) {
      if (this.delegate.elementUnmatchedAttribute) {
        this.delegate.elementUnmatchedAttribute(element, this.attributeName);
      }
    }
    elementAttributeChanged(element, attributeName) {
      if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {
        this.delegate.elementAttributeValueChanged(element, attributeName);
      }
    }
  };
  function add(map, key, value) {
    fetch(map, key).add(value);
  }
  function del(map, key, value) {
    fetch(map, key).delete(value);
    prune(map, key);
  }
  function fetch(map, key) {
    let values = map.get(key);
    if (!values) {
      values = /* @__PURE__ */ new Set();
      map.set(key, values);
    }
    return values;
  }
  function prune(map, key) {
    const values = map.get(key);
    if (values != null && values.size == 0) {
      map.delete(key);
    }
  }
  var Multimap = class {
    constructor() {
      this.valuesByKey = /* @__PURE__ */ new Map();
    }
    get keys() {
      return Array.from(this.valuesByKey.keys());
    }
    get values() {
      const sets = Array.from(this.valuesByKey.values());
      return sets.reduce((values, set) => values.concat(Array.from(set)), []);
    }
    get size() {
      const sets = Array.from(this.valuesByKey.values());
      return sets.reduce((size2, set) => size2 + set.size, 0);
    }
    add(key, value) {
      add(this.valuesByKey, key, value);
    }
    delete(key, value) {
      del(this.valuesByKey, key, value);
    }
    has(key, value) {
      const values = this.valuesByKey.get(key);
      return values != null && values.has(value);
    }
    hasKey(key) {
      return this.valuesByKey.has(key);
    }
    hasValue(value) {
      const sets = Array.from(this.valuesByKey.values());
      return sets.some((set) => set.has(value));
    }
    getValuesForKey(key) {
      const values = this.valuesByKey.get(key);
      return values ? Array.from(values) : [];
    }
    getKeysForValue(value) {
      return Array.from(this.valuesByKey).filter(([_key, values]) => values.has(value)).map(([key, _values]) => key);
    }
  };
  var SelectorObserver = class {
    constructor(element, selector, delegate, details) {
      this._selector = selector;
      this.details = details;
      this.elementObserver = new ElementObserver(element, this);
      this.delegate = delegate;
      this.matchesByElement = new Multimap();
    }
    get started() {
      return this.elementObserver.started;
    }
    get selector() {
      return this._selector;
    }
    set selector(selector) {
      this._selector = selector;
      this.refresh();
    }
    start() {
      this.elementObserver.start();
    }
    pause(callback) {
      this.elementObserver.pause(callback);
    }
    stop() {
      this.elementObserver.stop();
    }
    refresh() {
      this.elementObserver.refresh();
    }
    get element() {
      return this.elementObserver.element;
    }
    matchElement(element) {
      const { selector } = this;
      if (selector) {
        const matches = element.matches(selector);
        if (this.delegate.selectorMatchElement) {
          return matches && this.delegate.selectorMatchElement(element, this.details);
        }
        return matches;
      } else {
        return false;
      }
    }
    matchElementsInTree(tree) {
      const { selector } = this;
      if (selector) {
        const match2 = this.matchElement(tree) ? [tree] : [];
        const matches = Array.from(tree.querySelectorAll(selector)).filter((match3) => this.matchElement(match3));
        return match2.concat(matches);
      } else {
        return [];
      }
    }
    elementMatched(element) {
      const { selector } = this;
      if (selector) {
        this.selectorMatched(element, selector);
      }
    }
    elementUnmatched(element) {
      const selectors = this.matchesByElement.getKeysForValue(element);
      for (const selector of selectors) {
        this.selectorUnmatched(element, selector);
      }
    }
    elementAttributeChanged(element, _attributeName) {
      const { selector } = this;
      if (selector) {
        const matches = this.matchElement(element);
        const matchedBefore = this.matchesByElement.has(selector, element);
        if (matches && !matchedBefore) {
          this.selectorMatched(element, selector);
        } else if (!matches && matchedBefore) {
          this.selectorUnmatched(element, selector);
        }
      }
    }
    selectorMatched(element, selector) {
      this.delegate.selectorMatched(element, selector, this.details);
      this.matchesByElement.add(selector, element);
    }
    selectorUnmatched(element, selector) {
      this.delegate.selectorUnmatched(element, selector, this.details);
      this.matchesByElement.delete(selector, element);
    }
  };
  var StringMapObserver = class {
    constructor(element, delegate) {
      this.element = element;
      this.delegate = delegate;
      this.started = false;
      this.stringMap = /* @__PURE__ */ new Map();
      this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));
    }
    start() {
      if (!this.started) {
        this.started = true;
        this.mutationObserver.observe(this.element, { attributes: true, attributeOldValue: true });
        this.refresh();
      }
    }
    stop() {
      if (this.started) {
        this.mutationObserver.takeRecords();
        this.mutationObserver.disconnect();
        this.started = false;
      }
    }
    refresh() {
      if (this.started) {
        for (const attributeName of this.knownAttributeNames) {
          this.refreshAttribute(attributeName, null);
        }
      }
    }
    processMutations(mutations) {
      if (this.started) {
        for (const mutation of mutations) {
          this.processMutation(mutation);
        }
      }
    }
    processMutation(mutation) {
      const attributeName = mutation.attributeName;
      if (attributeName) {
        this.refreshAttribute(attributeName, mutation.oldValue);
      }
    }
    refreshAttribute(attributeName, oldValue) {
      const key = this.delegate.getStringMapKeyForAttribute(attributeName);
      if (key != null) {
        if (!this.stringMap.has(attributeName)) {
          this.stringMapKeyAdded(key, attributeName);
        }
        const value = this.element.getAttribute(attributeName);
        if (this.stringMap.get(attributeName) != value) {
          this.stringMapValueChanged(value, key, oldValue);
        }
        if (value == null) {
          const oldValue2 = this.stringMap.get(attributeName);
          this.stringMap.delete(attributeName);
          if (oldValue2)
            this.stringMapKeyRemoved(key, attributeName, oldValue2);
        } else {
          this.stringMap.set(attributeName, value);
        }
      }
    }
    stringMapKeyAdded(key, attributeName) {
      if (this.delegate.stringMapKeyAdded) {
        this.delegate.stringMapKeyAdded(key, attributeName);
      }
    }
    stringMapValueChanged(value, key, oldValue) {
      if (this.delegate.stringMapValueChanged) {
        this.delegate.stringMapValueChanged(value, key, oldValue);
      }
    }
    stringMapKeyRemoved(key, attributeName, oldValue) {
      if (this.delegate.stringMapKeyRemoved) {
        this.delegate.stringMapKeyRemoved(key, attributeName, oldValue);
      }
    }
    get knownAttributeNames() {
      return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)));
    }
    get currentAttributeNames() {
      return Array.from(this.element.attributes).map((attribute) => attribute.name);
    }
    get recordedAttributeNames() {
      return Array.from(this.stringMap.keys());
    }
  };
  var TokenListObserver = class {
    constructor(element, attributeName, delegate) {
      this.attributeObserver = new AttributeObserver(element, attributeName, this);
      this.delegate = delegate;
      this.tokensByElement = new Multimap();
    }
    get started() {
      return this.attributeObserver.started;
    }
    start() {
      this.attributeObserver.start();
    }
    pause(callback) {
      this.attributeObserver.pause(callback);
    }
    stop() {
      this.attributeObserver.stop();
    }
    refresh() {
      this.attributeObserver.refresh();
    }
    get element() {
      return this.attributeObserver.element;
    }
    get attributeName() {
      return this.attributeObserver.attributeName;
    }
    elementMatchedAttribute(element) {
      this.tokensMatched(this.readTokensForElement(element));
    }
    elementAttributeValueChanged(element) {
      const [unmatchedTokens, matchedTokens] = this.refreshTokensForElement(element);
      this.tokensUnmatched(unmatchedTokens);
      this.tokensMatched(matchedTokens);
    }
    elementUnmatchedAttribute(element) {
      this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));
    }
    tokensMatched(tokens) {
      tokens.forEach((token) => this.tokenMatched(token));
    }
    tokensUnmatched(tokens) {
      tokens.forEach((token) => this.tokenUnmatched(token));
    }
    tokenMatched(token) {
      this.delegate.tokenMatched(token);
      this.tokensByElement.add(token.element, token);
    }
    tokenUnmatched(token) {
      this.delegate.tokenUnmatched(token);
      this.tokensByElement.delete(token.element, token);
    }
    refreshTokensForElement(element) {
      const previousTokens = this.tokensByElement.getValuesForKey(element);
      const currentTokens = this.readTokensForElement(element);
      const firstDifferingIndex = zip(previousTokens, currentTokens).findIndex(([previousToken, currentToken]) => !tokensAreEqual(previousToken, currentToken));
      if (firstDifferingIndex == -1) {
        return [[], []];
      } else {
        return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];
      }
    }
    readTokensForElement(element) {
      const attributeName = this.attributeName;
      const tokenString = element.getAttribute(attributeName) || "";
      return parseTokenString(tokenString, element, attributeName);
    }
  };
  function parseTokenString(tokenString, element, attributeName) {
    return tokenString.trim().split(/\s+/).filter((content) => content.length).map((content, index) => ({ element, attributeName, content, index }));
  }
  function zip(left, right) {
    const length = Math.max(left.length, right.length);
    return Array.from({ length }, (_, index) => [left[index], right[index]]);
  }
  function tokensAreEqual(left, right) {
    return left && right && left.index == right.index && left.content == right.content;
  }
  var ValueListObserver = class {
    constructor(element, attributeName, delegate) {
      this.tokenListObserver = new TokenListObserver(element, attributeName, this);
      this.delegate = delegate;
      this.parseResultsByToken = /* @__PURE__ */ new WeakMap();
      this.valuesByTokenByElement = /* @__PURE__ */ new WeakMap();
    }
    get started() {
      return this.tokenListObserver.started;
    }
    start() {
      this.tokenListObserver.start();
    }
    stop() {
      this.tokenListObserver.stop();
    }
    refresh() {
      this.tokenListObserver.refresh();
    }
    get element() {
      return this.tokenListObserver.element;
    }
    get attributeName() {
      return this.tokenListObserver.attributeName;
    }
    tokenMatched(token) {
      const { element } = token;
      const { value } = this.fetchParseResultForToken(token);
      if (value) {
        this.fetchValuesByTokenForElement(element).set(token, value);
        this.delegate.elementMatchedValue(element, value);
      }
    }
    tokenUnmatched(token) {
      const { element } = token;
      const { value } = this.fetchParseResultForToken(token);
      if (value) {
        this.fetchValuesByTokenForElement(element).delete(token);
        this.delegate.elementUnmatchedValue(element, value);
      }
    }
    fetchParseResultForToken(token) {
      let parseResult = this.parseResultsByToken.get(token);
      if (!parseResult) {
        parseResult = this.parseToken(token);
        this.parseResultsByToken.set(token, parseResult);
      }
      return parseResult;
    }
    fetchValuesByTokenForElement(element) {
      let valuesByToken = this.valuesByTokenByElement.get(element);
      if (!valuesByToken) {
        valuesByToken = /* @__PURE__ */ new Map();
        this.valuesByTokenByElement.set(element, valuesByToken);
      }
      return valuesByToken;
    }
    parseToken(token) {
      try {
        const value = this.delegate.parseValueForToken(token);
        return { value };
      } catch (error2) {
        return { error: error2 };
      }
    }
  };
  var BindingObserver = class {
    constructor(context, delegate) {
      this.context = context;
      this.delegate = delegate;
      this.bindingsByAction = /* @__PURE__ */ new Map();
    }
    start() {
      if (!this.valueListObserver) {
        this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);
        this.valueListObserver.start();
      }
    }
    stop() {
      if (this.valueListObserver) {
        this.valueListObserver.stop();
        delete this.valueListObserver;
        this.disconnectAllActions();
      }
    }
    get element() {
      return this.context.element;
    }
    get identifier() {
      return this.context.identifier;
    }
    get actionAttribute() {
      return this.schema.actionAttribute;
    }
    get schema() {
      return this.context.schema;
    }
    get bindings() {
      return Array.from(this.bindingsByAction.values());
    }
    connectAction(action) {
      const binding = new Binding(this.context, action);
      this.bindingsByAction.set(action, binding);
      this.delegate.bindingConnected(binding);
    }
    disconnectAction(action) {
      const binding = this.bindingsByAction.get(action);
      if (binding) {
        this.bindingsByAction.delete(action);
        this.delegate.bindingDisconnected(binding);
      }
    }
    disconnectAllActions() {
      this.bindings.forEach((binding) => this.delegate.bindingDisconnected(binding, true));
      this.bindingsByAction.clear();
    }
    parseValueForToken(token) {
      const action = Action.forToken(token, this.schema);
      if (action.identifier == this.identifier) {
        return action;
      }
    }
    elementMatchedValue(element, action) {
      this.connectAction(action);
    }
    elementUnmatchedValue(element, action) {
      this.disconnectAction(action);
    }
  };
  var ValueObserver = class {
    constructor(context, receiver) {
      this.context = context;
      this.receiver = receiver;
      this.stringMapObserver = new StringMapObserver(this.element, this);
      this.valueDescriptorMap = this.controller.valueDescriptorMap;
    }
    start() {
      this.stringMapObserver.start();
      this.invokeChangedCallbacksForDefaultValues();
    }
    stop() {
      this.stringMapObserver.stop();
    }
    get element() {
      return this.context.element;
    }
    get controller() {
      return this.context.controller;
    }
    getStringMapKeyForAttribute(attributeName) {
      if (attributeName in this.valueDescriptorMap) {
        return this.valueDescriptorMap[attributeName].name;
      }
    }
    stringMapKeyAdded(key, attributeName) {
      const descriptor = this.valueDescriptorMap[attributeName];
      if (!this.hasValue(key)) {
        this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), descriptor.writer(descriptor.defaultValue));
      }
    }
    stringMapValueChanged(value, name, oldValue) {
      const descriptor = this.valueDescriptorNameMap[name];
      if (value === null)
        return;
      if (oldValue === null) {
        oldValue = descriptor.writer(descriptor.defaultValue);
      }
      this.invokeChangedCallback(name, value, oldValue);
    }
    stringMapKeyRemoved(key, attributeName, oldValue) {
      const descriptor = this.valueDescriptorNameMap[key];
      if (this.hasValue(key)) {
        this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), oldValue);
      } else {
        this.invokeChangedCallback(key, descriptor.writer(descriptor.defaultValue), oldValue);
      }
    }
    invokeChangedCallbacksForDefaultValues() {
      for (const { key, name, defaultValue, writer } of this.valueDescriptors) {
        if (defaultValue != void 0 && !this.controller.data.has(key)) {
          this.invokeChangedCallback(name, writer(defaultValue), void 0);
        }
      }
    }
    invokeChangedCallback(name, rawValue, rawOldValue) {
      const changedMethodName = `${name}Changed`;
      const changedMethod = this.receiver[changedMethodName];
      if (typeof changedMethod == "function") {
        const descriptor = this.valueDescriptorNameMap[name];
        try {
          const value = descriptor.reader(rawValue);
          let oldValue = rawOldValue;
          if (rawOldValue) {
            oldValue = descriptor.reader(rawOldValue);
          }
          changedMethod.call(this.receiver, value, oldValue);
        } catch (error2) {
          if (error2 instanceof TypeError) {
            error2.message = `Stimulus Value "${this.context.identifier}.${descriptor.name}" - ${error2.message}`;
          }
          throw error2;
        }
      }
    }
    get valueDescriptors() {
      const { valueDescriptorMap } = this;
      return Object.keys(valueDescriptorMap).map((key) => valueDescriptorMap[key]);
    }
    get valueDescriptorNameMap() {
      const descriptors = {};
      Object.keys(this.valueDescriptorMap).forEach((key) => {
        const descriptor = this.valueDescriptorMap[key];
        descriptors[descriptor.name] = descriptor;
      });
      return descriptors;
    }
    hasValue(attributeName) {
      const descriptor = this.valueDescriptorNameMap[attributeName];
      const hasMethodName = `has${capitalize(descriptor.name)}`;
      return this.receiver[hasMethodName];
    }
  };
  var TargetObserver = class {
    constructor(context, delegate) {
      this.context = context;
      this.delegate = delegate;
      this.targetsByName = new Multimap();
    }
    start() {
      if (!this.tokenListObserver) {
        this.tokenListObserver = new TokenListObserver(this.element, this.attributeName, this);
        this.tokenListObserver.start();
      }
    }
    stop() {
      if (this.tokenListObserver) {
        this.disconnectAllTargets();
        this.tokenListObserver.stop();
        delete this.tokenListObserver;
      }
    }
    tokenMatched({ element, content: name }) {
      if (this.scope.containsElement(element)) {
        this.connectTarget(element, name);
      }
    }
    tokenUnmatched({ element, content: name }) {
      this.disconnectTarget(element, name);
    }
    connectTarget(element, name) {
      var _a;
      if (!this.targetsByName.has(name, element)) {
        this.targetsByName.add(name, element);
        (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetConnected(element, name));
      }
    }
    disconnectTarget(element, name) {
      var _a;
      if (this.targetsByName.has(name, element)) {
        this.targetsByName.delete(name, element);
        (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetDisconnected(element, name));
      }
    }
    disconnectAllTargets() {
      for (const name of this.targetsByName.keys) {
        for (const element of this.targetsByName.getValuesForKey(name)) {
          this.disconnectTarget(element, name);
        }
      }
    }
    get attributeName() {
      return `data-${this.context.identifier}-target`;
    }
    get element() {
      return this.context.element;
    }
    get scope() {
      return this.context.scope;
    }
  };
  function readInheritableStaticArrayValues(constructor, propertyName) {
    const ancestors = getAncestorsForConstructor(constructor);
    return Array.from(ancestors.reduce((values, constructor2) => {
      getOwnStaticArrayValues(constructor2, propertyName).forEach((name) => values.add(name));
      return values;
    }, /* @__PURE__ */ new Set()));
  }
  function readInheritableStaticObjectPairs(constructor, propertyName) {
    const ancestors = getAncestorsForConstructor(constructor);
    return ancestors.reduce((pairs, constructor2) => {
      pairs.push(...getOwnStaticObjectPairs(constructor2, propertyName));
      return pairs;
    }, []);
  }
  function getAncestorsForConstructor(constructor) {
    const ancestors = [];
    while (constructor) {
      ancestors.push(constructor);
      constructor = Object.getPrototypeOf(constructor);
    }
    return ancestors.reverse();
  }
  function getOwnStaticArrayValues(constructor, propertyName) {
    const definition = constructor[propertyName];
    return Array.isArray(definition) ? definition : [];
  }
  function getOwnStaticObjectPairs(constructor, propertyName) {
    const definition = constructor[propertyName];
    return definition ? Object.keys(definition).map((key) => [key, definition[key]]) : [];
  }
  var OutletObserver = class {
    constructor(context, delegate) {
      this.started = false;
      this.context = context;
      this.delegate = delegate;
      this.outletsByName = new Multimap();
      this.outletElementsByName = new Multimap();
      this.selectorObserverMap = /* @__PURE__ */ new Map();
      this.attributeObserverMap = /* @__PURE__ */ new Map();
    }
    start() {
      if (!this.started) {
        this.outletDefinitions.forEach((outletName) => {
          this.setupSelectorObserverForOutlet(outletName);
          this.setupAttributeObserverForOutlet(outletName);
        });
        this.started = true;
        this.dependentContexts.forEach((context) => context.refresh());
      }
    }
    refresh() {
      this.selectorObserverMap.forEach((observer) => observer.refresh());
      this.attributeObserverMap.forEach((observer) => observer.refresh());
    }
    stop() {
      if (this.started) {
        this.started = false;
        this.disconnectAllOutlets();
        this.stopSelectorObservers();
        this.stopAttributeObservers();
      }
    }
    stopSelectorObservers() {
      if (this.selectorObserverMap.size > 0) {
        this.selectorObserverMap.forEach((observer) => observer.stop());
        this.selectorObserverMap.clear();
      }
    }
    stopAttributeObservers() {
      if (this.attributeObserverMap.size > 0) {
        this.attributeObserverMap.forEach((observer) => observer.stop());
        this.attributeObserverMap.clear();
      }
    }
    selectorMatched(element, _selector, { outletName }) {
      const outlet = this.getOutlet(element, outletName);
      if (outlet) {
        this.connectOutlet(outlet, element, outletName);
      }
    }
    selectorUnmatched(element, _selector, { outletName }) {
      const outlet = this.getOutletFromMap(element, outletName);
      if (outlet) {
        this.disconnectOutlet(outlet, element, outletName);
      }
    }
    selectorMatchElement(element, { outletName }) {
      const selector = this.selector(outletName);
      const hasOutlet = this.hasOutlet(element, outletName);
      const hasOutletController = element.matches(`[${this.schema.controllerAttribute}~=${outletName}]`);
      if (selector) {
        return hasOutlet && hasOutletController && element.matches(selector);
      } else {
        return false;
      }
    }
    elementMatchedAttribute(_element, attributeName) {
      const outletName = this.getOutletNameFromOutletAttributeName(attributeName);
      if (outletName) {
        this.updateSelectorObserverForOutlet(outletName);
      }
    }
    elementAttributeValueChanged(_element, attributeName) {
      const outletName = this.getOutletNameFromOutletAttributeName(attributeName);
      if (outletName) {
        this.updateSelectorObserverForOutlet(outletName);
      }
    }
    elementUnmatchedAttribute(_element, attributeName) {
      const outletName = this.getOutletNameFromOutletAttributeName(attributeName);
      if (outletName) {
        this.updateSelectorObserverForOutlet(outletName);
      }
    }
    connectOutlet(outlet, element, outletName) {
      var _a;
      if (!this.outletElementsByName.has(outletName, element)) {
        this.outletsByName.add(outletName, outlet);
        this.outletElementsByName.add(outletName, element);
        (_a = this.selectorObserverMap.get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletConnected(outlet, element, outletName));
      }
    }
    disconnectOutlet(outlet, element, outletName) {
      var _a;
      if (this.outletElementsByName.has(outletName, element)) {
        this.outletsByName.delete(outletName, outlet);
        this.outletElementsByName.delete(outletName, element);
        (_a = this.selectorObserverMap.get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletDisconnected(outlet, element, outletName));
      }
    }
    disconnectAllOutlets() {
      for (const outletName of this.outletElementsByName.keys) {
        for (const element of this.outletElementsByName.getValuesForKey(outletName)) {
          for (const outlet of this.outletsByName.getValuesForKey(outletName)) {
            this.disconnectOutlet(outlet, element, outletName);
          }
        }
      }
    }
    updateSelectorObserverForOutlet(outletName) {
      const observer = this.selectorObserverMap.get(outletName);
      if (observer) {
        observer.selector = this.selector(outletName);
      }
    }
    setupSelectorObserverForOutlet(outletName) {
      const selector = this.selector(outletName);
      const selectorObserver = new SelectorObserver(document.body, selector, this, { outletName });
      this.selectorObserverMap.set(outletName, selectorObserver);
      selectorObserver.start();
    }
    setupAttributeObserverForOutlet(outletName) {
      const attributeName = this.attributeNameForOutletName(outletName);
      const attributeObserver = new AttributeObserver(this.scope.element, attributeName, this);
      this.attributeObserverMap.set(outletName, attributeObserver);
      attributeObserver.start();
    }
    selector(outletName) {
      return this.scope.outlets.getSelectorForOutletName(outletName);
    }
    attributeNameForOutletName(outletName) {
      return this.scope.schema.outletAttributeForScope(this.identifier, outletName);
    }
    getOutletNameFromOutletAttributeName(attributeName) {
      return this.outletDefinitions.find((outletName) => this.attributeNameForOutletName(outletName) === attributeName);
    }
    get outletDependencies() {
      const dependencies = new Multimap();
      this.router.modules.forEach((module) => {
        const constructor = module.definition.controllerConstructor;
        const outlets = readInheritableStaticArrayValues(constructor, "outlets");
        outlets.forEach((outlet) => dependencies.add(outlet, module.identifier));
      });
      return dependencies;
    }
    get outletDefinitions() {
      return this.outletDependencies.getKeysForValue(this.identifier);
    }
    get dependentControllerIdentifiers() {
      return this.outletDependencies.getValuesForKey(this.identifier);
    }
    get dependentContexts() {
      const identifiers = this.dependentControllerIdentifiers;
      return this.router.contexts.filter((context) => identifiers.includes(context.identifier));
    }
    hasOutlet(element, outletName) {
      return !!this.getOutlet(element, outletName) || !!this.getOutletFromMap(element, outletName);
    }
    getOutlet(element, outletName) {
      return this.application.getControllerForElementAndIdentifier(element, outletName);
    }
    getOutletFromMap(element, outletName) {
      return this.outletsByName.getValuesForKey(outletName).find((outlet) => outlet.element === element);
    }
    get scope() {
      return this.context.scope;
    }
    get schema() {
      return this.context.schema;
    }
    get identifier() {
      return this.context.identifier;
    }
    get application() {
      return this.context.application;
    }
    get router() {
      return this.application.router;
    }
  };
  var Context = class {
    constructor(module, scope) {
      this.logDebugActivity = (functionName, detail = {}) => {
        const { identifier, controller, element } = this;
        detail = Object.assign({ identifier, controller, element }, detail);
        this.application.logDebugActivity(this.identifier, functionName, detail);
      };
      this.module = module;
      this.scope = scope;
      this.controller = new module.controllerConstructor(this);
      this.bindingObserver = new BindingObserver(this, this.dispatcher);
      this.valueObserver = new ValueObserver(this, this.controller);
      this.targetObserver = new TargetObserver(this, this);
      this.outletObserver = new OutletObserver(this, this);
      try {
        this.controller.initialize();
        this.logDebugActivity("initialize");
      } catch (error2) {
        this.handleError(error2, "initializing controller");
      }
    }
    connect() {
      this.bindingObserver.start();
      this.valueObserver.start();
      this.targetObserver.start();
      this.outletObserver.start();
      try {
        this.controller.connect();
        this.logDebugActivity("connect");
      } catch (error2) {
        this.handleError(error2, "connecting controller");
      }
    }
    refresh() {
      this.outletObserver.refresh();
    }
    disconnect() {
      try {
        this.controller.disconnect();
        this.logDebugActivity("disconnect");
      } catch (error2) {
        this.handleError(error2, "disconnecting controller");
      }
      this.outletObserver.stop();
      this.targetObserver.stop();
      this.valueObserver.stop();
      this.bindingObserver.stop();
    }
    get application() {
      return this.module.application;
    }
    get identifier() {
      return this.module.identifier;
    }
    get schema() {
      return this.application.schema;
    }
    get dispatcher() {
      return this.application.dispatcher;
    }
    get element() {
      return this.scope.element;
    }
    get parentElement() {
      return this.element.parentElement;
    }
    handleError(error2, message2, detail = {}) {
      const { identifier, controller, element } = this;
      detail = Object.assign({ identifier, controller, element }, detail);
      this.application.handleError(error2, `Error ${message2}`, detail);
    }
    targetConnected(element, name) {
      this.invokeControllerMethod(`${name}TargetConnected`, element);
    }
    targetDisconnected(element, name) {
      this.invokeControllerMethod(`${name}TargetDisconnected`, element);
    }
    outletConnected(outlet, element, name) {
      this.invokeControllerMethod(`${namespaceCamelize(name)}OutletConnected`, outlet, element);
    }
    outletDisconnected(outlet, element, name) {
      this.invokeControllerMethod(`${namespaceCamelize(name)}OutletDisconnected`, outlet, element);
    }
    invokeControllerMethod(methodName, ...args) {
      const controller = this.controller;
      if (typeof controller[methodName] == "function") {
        controller[methodName](...args);
      }
    }
  };
  function bless(constructor) {
    return shadow(constructor, getBlessedProperties(constructor));
  }
  function shadow(constructor, properties) {
    const shadowConstructor = extend2(constructor);
    const shadowProperties = getShadowProperties(constructor.prototype, properties);
    Object.defineProperties(shadowConstructor.prototype, shadowProperties);
    return shadowConstructor;
  }
  function getBlessedProperties(constructor) {
    const blessings = readInheritableStaticArrayValues(constructor, "blessings");
    return blessings.reduce((blessedProperties, blessing) => {
      const properties = blessing(constructor);
      for (const key in properties) {
        const descriptor = blessedProperties[key] || {};
        blessedProperties[key] = Object.assign(descriptor, properties[key]);
      }
      return blessedProperties;
    }, {});
  }
  function getShadowProperties(prototype, properties) {
    return getOwnKeys(properties).reduce((shadowProperties, key) => {
      const descriptor = getShadowedDescriptor(prototype, properties, key);
      if (descriptor) {
        Object.assign(shadowProperties, { [key]: descriptor });
      }
      return shadowProperties;
    }, {});
  }
  function getShadowedDescriptor(prototype, properties, key) {
    const shadowingDescriptor = Object.getOwnPropertyDescriptor(prototype, key);
    const shadowedByValue = shadowingDescriptor && "value" in shadowingDescriptor;
    if (!shadowedByValue) {
      const descriptor = Object.getOwnPropertyDescriptor(properties, key).value;
      if (shadowingDescriptor) {
        descriptor.get = shadowingDescriptor.get || descriptor.get;
        descriptor.set = shadowingDescriptor.set || descriptor.set;
      }
      return descriptor;
    }
  }
  var getOwnKeys = (() => {
    if (typeof Object.getOwnPropertySymbols == "function") {
      return (object) => [...Object.getOwnPropertyNames(object), ...Object.getOwnPropertySymbols(object)];
    } else {
      return Object.getOwnPropertyNames;
    }
  })();
  var extend2 = (() => {
    function extendWithReflect(constructor) {
      function extended() {
        return Reflect.construct(constructor, arguments, new.target);
      }
      extended.prototype = Object.create(constructor.prototype, {
        constructor: { value: extended }
      });
      Reflect.setPrototypeOf(extended, constructor);
      return extended;
    }
    function testReflectExtension() {
      const a = function() {
        this.a.call(this);
      };
      const b = extendWithReflect(a);
      b.prototype.a = function() {
      };
      return new b();
    }
    try {
      testReflectExtension();
      return extendWithReflect;
    } catch (error2) {
      return (constructor) => class extended extends constructor {
      };
    }
  })();
  function blessDefinition(definition) {
    return {
      identifier: definition.identifier,
      controllerConstructor: bless(definition.controllerConstructor)
    };
  }
  var Module = class {
    constructor(application2, definition) {
      this.application = application2;
      this.definition = blessDefinition(definition);
      this.contextsByScope = /* @__PURE__ */ new WeakMap();
      this.connectedContexts = /* @__PURE__ */ new Set();
    }
    get identifier() {
      return this.definition.identifier;
    }
    get controllerConstructor() {
      return this.definition.controllerConstructor;
    }
    get contexts() {
      return Array.from(this.connectedContexts);
    }
    connectContextForScope(scope) {
      const context = this.fetchContextForScope(scope);
      this.connectedContexts.add(context);
      context.connect();
    }
    disconnectContextForScope(scope) {
      const context = this.contextsByScope.get(scope);
      if (context) {
        this.connectedContexts.delete(context);
        context.disconnect();
      }
    }
    fetchContextForScope(scope) {
      let context = this.contextsByScope.get(scope);
      if (!context) {
        context = new Context(this, scope);
        this.contextsByScope.set(scope, context);
      }
      return context;
    }
  };
  var ClassMap = class {
    constructor(scope) {
      this.scope = scope;
    }
    has(name) {
      return this.data.has(this.getDataKey(name));
    }
    get(name) {
      return this.getAll(name)[0];
    }
    getAll(name) {
      const tokenString = this.data.get(this.getDataKey(name)) || "";
      return tokenize(tokenString);
    }
    getAttributeName(name) {
      return this.data.getAttributeNameForKey(this.getDataKey(name));
    }
    getDataKey(name) {
      return `${name}-class`;
    }
    get data() {
      return this.scope.data;
    }
  };
  var DataMap = class {
    constructor(scope) {
      this.scope = scope;
    }
    get element() {
      return this.scope.element;
    }
    get identifier() {
      return this.scope.identifier;
    }
    get(key) {
      const name = this.getAttributeNameForKey(key);
      return this.element.getAttribute(name);
    }
    set(key, value) {
      const name = this.getAttributeNameForKey(key);
      this.element.setAttribute(name, value);
      return this.get(key);
    }
    has(key) {
      const name = this.getAttributeNameForKey(key);
      return this.element.hasAttribute(name);
    }
    delete(key) {
      if (this.has(key)) {
        const name = this.getAttributeNameForKey(key);
        this.element.removeAttribute(name);
        return true;
      } else {
        return false;
      }
    }
    getAttributeNameForKey(key) {
      return `data-${this.identifier}-${dasherize(key)}`;
    }
  };
  var Guide = class {
    constructor(logger) {
      this.warnedKeysByObject = /* @__PURE__ */ new WeakMap();
      this.logger = logger;
    }
    warn(object, key, message2) {
      let warnedKeys = this.warnedKeysByObject.get(object);
      if (!warnedKeys) {
        warnedKeys = /* @__PURE__ */ new Set();
        this.warnedKeysByObject.set(object, warnedKeys);
      }
      if (!warnedKeys.has(key)) {
        warnedKeys.add(key);
        this.logger.warn(message2, object);
      }
    }
  };
  function attributeValueContainsToken(attributeName, token) {
    return `[${attributeName}~="${token}"]`;
  }
  var TargetSet = class {
    constructor(scope) {
      this.scope = scope;
    }
    get element() {
      return this.scope.element;
    }
    get identifier() {
      return this.scope.identifier;
    }
    get schema() {
      return this.scope.schema;
    }
    has(targetName) {
      return this.find(targetName) != null;
    }
    find(...targetNames) {
      return targetNames.reduce((target, targetName) => target || this.findTarget(targetName) || this.findLegacyTarget(targetName), void 0);
    }
    findAll(...targetNames) {
      return targetNames.reduce((targets, targetName) => [
        ...targets,
        ...this.findAllTargets(targetName),
        ...this.findAllLegacyTargets(targetName)
      ], []);
    }
    findTarget(targetName) {
      const selector = this.getSelectorForTargetName(targetName);
      return this.scope.findElement(selector);
    }
    findAllTargets(targetName) {
      const selector = this.getSelectorForTargetName(targetName);
      return this.scope.findAllElements(selector);
    }
    getSelectorForTargetName(targetName) {
      const attributeName = this.schema.targetAttributeForScope(this.identifier);
      return attributeValueContainsToken(attributeName, targetName);
    }
    findLegacyTarget(targetName) {
      const selector = this.getLegacySelectorForTargetName(targetName);
      return this.deprecate(this.scope.findElement(selector), targetName);
    }
    findAllLegacyTargets(targetName) {
      const selector = this.getLegacySelectorForTargetName(targetName);
      return this.scope.findAllElements(selector).map((element) => this.deprecate(element, targetName));
    }
    getLegacySelectorForTargetName(targetName) {
      const targetDescriptor = `${this.identifier}.${targetName}`;
      return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);
    }
    deprecate(element, targetName) {
      if (element) {
        const { identifier } = this;
        const attributeName = this.schema.targetAttribute;
        const revisedAttributeName = this.schema.targetAttributeForScope(identifier);
        this.guide.warn(element, `target:${targetName}`, `Please replace ${attributeName}="${identifier}.${targetName}" with ${revisedAttributeName}="${targetName}". The ${attributeName} attribute is deprecated and will be removed in a future version of Stimulus.`);
      }
      return element;
    }
    get guide() {
      return this.scope.guide;
    }
  };
  var OutletSet = class {
    constructor(scope, controllerElement) {
      this.scope = scope;
      this.controllerElement = controllerElement;
    }
    get element() {
      return this.scope.element;
    }
    get identifier() {
      return this.scope.identifier;
    }
    get schema() {
      return this.scope.schema;
    }
    has(outletName) {
      return this.find(outletName) != null;
    }
    find(...outletNames) {
      return outletNames.reduce((outlet, outletName) => outlet || this.findOutlet(outletName), void 0);
    }
    findAll(...outletNames) {
      return outletNames.reduce((outlets, outletName) => [...outlets, ...this.findAllOutlets(outletName)], []);
    }
    getSelectorForOutletName(outletName) {
      const attributeName = this.schema.outletAttributeForScope(this.identifier, outletName);
      return this.controllerElement.getAttribute(attributeName);
    }
    findOutlet(outletName) {
      const selector = this.getSelectorForOutletName(outletName);
      if (selector)
        return this.findElement(selector, outletName);
    }
    findAllOutlets(outletName) {
      const selector = this.getSelectorForOutletName(outletName);
      return selector ? this.findAllElements(selector, outletName) : [];
    }
    findElement(selector, outletName) {
      const elements = this.scope.queryElements(selector);
      return elements.filter((element) => this.matchesElement(element, selector, outletName))[0];
    }
    findAllElements(selector, outletName) {
      const elements = this.scope.queryElements(selector);
      return elements.filter((element) => this.matchesElement(element, selector, outletName));
    }
    matchesElement(element, selector, outletName) {
      const controllerAttribute = element.getAttribute(this.scope.schema.controllerAttribute) || "";
      return element.matches(selector) && controllerAttribute.split(" ").includes(outletName);
    }
  };
  var Scope = class _Scope {
    constructor(schema, element, identifier, logger) {
      this.targets = new TargetSet(this);
      this.classes = new ClassMap(this);
      this.data = new DataMap(this);
      this.containsElement = (element2) => {
        return element2.closest(this.controllerSelector) === this.element;
      };
      this.schema = schema;
      this.element = element;
      this.identifier = identifier;
      this.guide = new Guide(logger);
      this.outlets = new OutletSet(this.documentScope, element);
    }
    findElement(selector) {
      return this.element.matches(selector) ? this.element : this.queryElements(selector).find(this.containsElement);
    }
    findAllElements(selector) {
      return [
        ...this.element.matches(selector) ? [this.element] : [],
        ...this.queryElements(selector).filter(this.containsElement)
      ];
    }
    queryElements(selector) {
      return Array.from(this.element.querySelectorAll(selector));
    }
    get controllerSelector() {
      return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);
    }
    get isDocumentScope() {
      return this.element === document.documentElement;
    }
    get documentScope() {
      return this.isDocumentScope ? this : new _Scope(this.schema, document.documentElement, this.identifier, this.guide.logger);
    }
  };
  var ScopeObserver = class {
    constructor(element, schema, delegate) {
      this.element = element;
      this.schema = schema;
      this.delegate = delegate;
      this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);
      this.scopesByIdentifierByElement = /* @__PURE__ */ new WeakMap();
      this.scopeReferenceCounts = /* @__PURE__ */ new WeakMap();
    }
    start() {
      this.valueListObserver.start();
    }
    stop() {
      this.valueListObserver.stop();
    }
    get controllerAttribute() {
      return this.schema.controllerAttribute;
    }
    parseValueForToken(token) {
      const { element, content: identifier } = token;
      return this.parseValueForElementAndIdentifier(element, identifier);
    }
    parseValueForElementAndIdentifier(element, identifier) {
      const scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);
      let scope = scopesByIdentifier.get(identifier);
      if (!scope) {
        scope = this.delegate.createScopeForElementAndIdentifier(element, identifier);
        scopesByIdentifier.set(identifier, scope);
      }
      return scope;
    }
    elementMatchedValue(element, value) {
      const referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;
      this.scopeReferenceCounts.set(value, referenceCount);
      if (referenceCount == 1) {
        this.delegate.scopeConnected(value);
      }
    }
    elementUnmatchedValue(element, value) {
      const referenceCount = this.scopeReferenceCounts.get(value);
      if (referenceCount) {
        this.scopeReferenceCounts.set(value, referenceCount - 1);
        if (referenceCount == 1) {
          this.delegate.scopeDisconnected(value);
        }
      }
    }
    fetchScopesByIdentifierForElement(element) {
      let scopesByIdentifier = this.scopesByIdentifierByElement.get(element);
      if (!scopesByIdentifier) {
        scopesByIdentifier = /* @__PURE__ */ new Map();
        this.scopesByIdentifierByElement.set(element, scopesByIdentifier);
      }
      return scopesByIdentifier;
    }
  };
  var Router = class {
    constructor(application2) {
      this.application = application2;
      this.scopeObserver = new ScopeObserver(this.element, this.schema, this);
      this.scopesByIdentifier = new Multimap();
      this.modulesByIdentifier = /* @__PURE__ */ new Map();
    }
    get element() {
      return this.application.element;
    }
    get schema() {
      return this.application.schema;
    }
    get logger() {
      return this.application.logger;
    }
    get controllerAttribute() {
      return this.schema.controllerAttribute;
    }
    get modules() {
      return Array.from(this.modulesByIdentifier.values());
    }
    get contexts() {
      return this.modules.reduce((contexts, module) => contexts.concat(module.contexts), []);
    }
    start() {
      this.scopeObserver.start();
    }
    stop() {
      this.scopeObserver.stop();
    }
    loadDefinition(definition) {
      this.unloadIdentifier(definition.identifier);
      const module = new Module(this.application, definition);
      this.connectModule(module);
      const afterLoad = definition.controllerConstructor.afterLoad;
      if (afterLoad) {
        afterLoad.call(definition.controllerConstructor, definition.identifier, this.application);
      }
    }
    unloadIdentifier(identifier) {
      const module = this.modulesByIdentifier.get(identifier);
      if (module) {
        this.disconnectModule(module);
      }
    }
    getContextForElementAndIdentifier(element, identifier) {
      const module = this.modulesByIdentifier.get(identifier);
      if (module) {
        return module.contexts.find((context) => context.element == element);
      }
    }
    proposeToConnectScopeForElementAndIdentifier(element, identifier) {
      const scope = this.scopeObserver.parseValueForElementAndIdentifier(element, identifier);
      if (scope) {
        this.scopeObserver.elementMatchedValue(scope.element, scope);
      } else {
        console.error(`Couldn't find or create scope for identifier: "${identifier}" and element:`, element);
      }
    }
    handleError(error2, message2, detail) {
      this.application.handleError(error2, message2, detail);
    }
    createScopeForElementAndIdentifier(element, identifier) {
      return new Scope(this.schema, element, identifier, this.logger);
    }
    scopeConnected(scope) {
      this.scopesByIdentifier.add(scope.identifier, scope);
      const module = this.modulesByIdentifier.get(scope.identifier);
      if (module) {
        module.connectContextForScope(scope);
      }
    }
    scopeDisconnected(scope) {
      this.scopesByIdentifier.delete(scope.identifier, scope);
      const module = this.modulesByIdentifier.get(scope.identifier);
      if (module) {
        module.disconnectContextForScope(scope);
      }
    }
    connectModule(module) {
      this.modulesByIdentifier.set(module.identifier, module);
      const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);
      scopes.forEach((scope) => module.connectContextForScope(scope));
    }
    disconnectModule(module) {
      this.modulesByIdentifier.delete(module.identifier);
      const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);
      scopes.forEach((scope) => module.disconnectContextForScope(scope));
    }
  };
  var defaultSchema = {
    controllerAttribute: "data-controller",
    actionAttribute: "data-action",
    targetAttribute: "data-target",
    targetAttributeForScope: (identifier) => `data-${identifier}-target`,
    outletAttributeForScope: (identifier, outlet) => `data-${identifier}-${outlet}-outlet`,
    keyMappings: Object.assign(Object.assign({ enter: "Enter", tab: "Tab", esc: "Escape", space: " ", up: "ArrowUp", down: "ArrowDown", left: "ArrowLeft", right: "ArrowRight", home: "Home", end: "End", page_up: "PageUp", page_down: "PageDown" }, objectFromEntries("abcdefghijklmnopqrstuvwxyz".split("").map((c) => [c, c]))), objectFromEntries("0123456789".split("").map((n) => [n, n])))
  };
  function objectFromEntries(array) {
    return array.reduce((memo, [k, v]) => Object.assign(Object.assign({}, memo), { [k]: v }), {});
  }
  var Application = class {
    constructor(element = document.documentElement, schema = defaultSchema) {
      this.logger = console;
      this.debug = false;
      this.logDebugActivity = (identifier, functionName, detail = {}) => {
        if (this.debug) {
          this.logFormattedMessage(identifier, functionName, detail);
        }
      };
      this.element = element;
      this.schema = schema;
      this.dispatcher = new Dispatcher(this);
      this.router = new Router(this);
      this.actionDescriptorFilters = Object.assign({}, defaultActionDescriptorFilters);
    }
    static start(element, schema) {
      const application2 = new this(element, schema);
      application2.start();
      return application2;
    }
    async start() {
      await domReady();
      this.logDebugActivity("application", "starting");
      this.dispatcher.start();
      this.router.start();
      this.logDebugActivity("application", "start");
    }
    stop() {
      this.logDebugActivity("application", "stopping");
      this.dispatcher.stop();
      this.router.stop();
      this.logDebugActivity("application", "stop");
    }
    register(identifier, controllerConstructor) {
      this.load({ identifier, controllerConstructor });
    }
    registerActionOption(name, filter2) {
      this.actionDescriptorFilters[name] = filter2;
    }
    load(head, ...rest) {
      const definitions = Array.isArray(head) ? head : [head, ...rest];
      definitions.forEach((definition) => {
        if (definition.controllerConstructor.shouldLoad) {
          this.router.loadDefinition(definition);
        }
      });
    }
    unload(head, ...rest) {
      const identifiers = Array.isArray(head) ? head : [head, ...rest];
      identifiers.forEach((identifier) => this.router.unloadIdentifier(identifier));
    }
    get controllers() {
      return this.router.contexts.map((context) => context.controller);
    }
    getControllerForElementAndIdentifier(element, identifier) {
      const context = this.router.getContextForElementAndIdentifier(element, identifier);
      return context ? context.controller : null;
    }
    handleError(error2, message2, detail) {
      var _a;
      this.logger.error(`%s

%o

%o`, message2, error2, detail);
      (_a = window.onerror) === null || _a === void 0 ? void 0 : _a.call(window, message2, "", 0, 0, error2);
    }
    logFormattedMessage(identifier, functionName, detail = {}) {
      detail = Object.assign({ application: this }, detail);
      this.logger.groupCollapsed(`${identifier} #${functionName}`);
      this.logger.log("details:", Object.assign({}, detail));
      this.logger.groupEnd();
    }
  };
  function domReady() {
    return new Promise((resolve) => {
      if (document.readyState == "loading") {
        document.addEventListener("DOMContentLoaded", () => resolve());
      } else {
        resolve();
      }
    });
  }
  function ClassPropertiesBlessing(constructor) {
    const classes = readInheritableStaticArrayValues(constructor, "classes");
    return classes.reduce((properties, classDefinition) => {
      return Object.assign(properties, propertiesForClassDefinition(classDefinition));
    }, {});
  }
  function propertiesForClassDefinition(key) {
    return {
      [`${key}Class`]: {
        get() {
          const { classes } = this;
          if (classes.has(key)) {
            return classes.get(key);
          } else {
            const attribute = classes.getAttributeName(key);
            throw new Error(`Missing attribute "${attribute}"`);
          }
        }
      },
      [`${key}Classes`]: {
        get() {
          return this.classes.getAll(key);
        }
      },
      [`has${capitalize(key)}Class`]: {
        get() {
          return this.classes.has(key);
        }
      }
    };
  }
  function OutletPropertiesBlessing(constructor) {
    const outlets = readInheritableStaticArrayValues(constructor, "outlets");
    return outlets.reduce((properties, outletDefinition) => {
      return Object.assign(properties, propertiesForOutletDefinition(outletDefinition));
    }, {});
  }
  function getOutletController(controller, element, identifier) {
    return controller.application.getControllerForElementAndIdentifier(element, identifier);
  }
  function getControllerAndEnsureConnectedScope(controller, element, outletName) {
    let outletController = getOutletController(controller, element, outletName);
    if (outletController)
      return outletController;
    controller.application.router.proposeToConnectScopeForElementAndIdentifier(element, outletName);
    outletController = getOutletController(controller, element, outletName);
    if (outletController)
      return outletController;
  }
  function propertiesForOutletDefinition(name) {
    const camelizedName = namespaceCamelize(name);
    return {
      [`${camelizedName}Outlet`]: {
        get() {
          const outletElement = this.outlets.find(name);
          const selector = this.outlets.getSelectorForOutletName(name);
          if (outletElement) {
            const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);
            if (outletController)
              return outletController;
            throw new Error(`The provided outlet element is missing an outlet controller "${name}" instance for host controller "${this.identifier}"`);
          }
          throw new Error(`Missing outlet element "${name}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${selector}".`);
        }
      },
      [`${camelizedName}Outlets`]: {
        get() {
          const outlets = this.outlets.findAll(name);
          if (outlets.length > 0) {
            return outlets.map((outletElement) => {
              const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);
              if (outletController)
                return outletController;
              console.warn(`The provided outlet element is missing an outlet controller "${name}" instance for host controller "${this.identifier}"`, outletElement);
            }).filter((controller) => controller);
          }
          return [];
        }
      },
      [`${camelizedName}OutletElement`]: {
        get() {
          const outletElement = this.outlets.find(name);
          const selector = this.outlets.getSelectorForOutletName(name);
          if (outletElement) {
            return outletElement;
          } else {
            throw new Error(`Missing outlet element "${name}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${selector}".`);
          }
        }
      },
      [`${camelizedName}OutletElements`]: {
        get() {
          return this.outlets.findAll(name);
        }
      },
      [`has${capitalize(camelizedName)}Outlet`]: {
        get() {
          return this.outlets.has(name);
        }
      }
    };
  }
  function TargetPropertiesBlessing(constructor) {
    const targets = readInheritableStaticArrayValues(constructor, "targets");
    return targets.reduce((properties, targetDefinition) => {
      return Object.assign(properties, propertiesForTargetDefinition(targetDefinition));
    }, {});
  }
  function propertiesForTargetDefinition(name) {
    return {
      [`${name}Target`]: {
        get() {
          const target = this.targets.find(name);
          if (target) {
            return target;
          } else {
            throw new Error(`Missing target element "${name}" for "${this.identifier}" controller`);
          }
        }
      },
      [`${name}Targets`]: {
        get() {
          return this.targets.findAll(name);
        }
      },
      [`has${capitalize(name)}Target`]: {
        get() {
          return this.targets.has(name);
        }
      }
    };
  }
  function ValuePropertiesBlessing(constructor) {
    const valueDefinitionPairs = readInheritableStaticObjectPairs(constructor, "values");
    const propertyDescriptorMap = {
      valueDescriptorMap: {
        get() {
          return valueDefinitionPairs.reduce((result, valueDefinitionPair) => {
            const valueDescriptor = parseValueDefinitionPair(valueDefinitionPair, this.identifier);
            const attributeName = this.data.getAttributeNameForKey(valueDescriptor.key);
            return Object.assign(result, { [attributeName]: valueDescriptor });
          }, {});
        }
      }
    };
    return valueDefinitionPairs.reduce((properties, valueDefinitionPair) => {
      return Object.assign(properties, propertiesForValueDefinitionPair(valueDefinitionPair));
    }, propertyDescriptorMap);
  }
  function propertiesForValueDefinitionPair(valueDefinitionPair, controller) {
    const definition = parseValueDefinitionPair(valueDefinitionPair, controller);
    const { key, name, reader: read, writer: write } = definition;
    return {
      [name]: {
        get() {
          const value = this.data.get(key);
          if (value !== null) {
            return read(value);
          } else {
            return definition.defaultValue;
          }
        },
        set(value) {
          if (value === void 0) {
            this.data.delete(key);
          } else {
            this.data.set(key, write(value));
          }
        }
      },
      [`has${capitalize(name)}`]: {
        get() {
          return this.data.has(key) || definition.hasCustomDefaultValue;
        }
      }
    };
  }
  function parseValueDefinitionPair([token, typeDefinition], controller) {
    return valueDescriptorForTokenAndTypeDefinition({
      controller,
      token,
      typeDefinition
    });
  }
  function parseValueTypeConstant(constant) {
    switch (constant) {
      case Array:
        return "array";
      case Boolean:
        return "boolean";
      case Number:
        return "number";
      case Object:
        return "object";
      case String:
        return "string";
    }
  }
  function parseValueTypeDefault(defaultValue) {
    switch (typeof defaultValue) {
      case "boolean":
        return "boolean";
      case "number":
        return "number";
      case "string":
        return "string";
    }
    if (Array.isArray(defaultValue))
      return "array";
    if (Object.prototype.toString.call(defaultValue) === "[object Object]")
      return "object";
  }
  function parseValueTypeObject(payload) {
    const { controller, token, typeObject } = payload;
    const hasType = isSomething(typeObject.type);
    const hasDefault = isSomething(typeObject.default);
    const fullObject = hasType && hasDefault;
    const onlyType = hasType && !hasDefault;
    const onlyDefault = !hasType && hasDefault;
    const typeFromObject = parseValueTypeConstant(typeObject.type);
    const typeFromDefaultValue = parseValueTypeDefault(payload.typeObject.default);
    if (onlyType)
      return typeFromObject;
    if (onlyDefault)
      return typeFromDefaultValue;
    if (typeFromObject !== typeFromDefaultValue) {
      const propertyPath = controller ? `${controller}.${token}` : token;
      throw new Error(`The specified default value for the Stimulus Value "${propertyPath}" must match the defined type "${typeFromObject}". The provided default value of "${typeObject.default}" is of type "${typeFromDefaultValue}".`);
    }
    if (fullObject)
      return typeFromObject;
  }
  function parseValueTypeDefinition(payload) {
    const { controller, token, typeDefinition } = payload;
    const typeObject = { controller, token, typeObject: typeDefinition };
    const typeFromObject = parseValueTypeObject(typeObject);
    const typeFromDefaultValue = parseValueTypeDefault(typeDefinition);
    const typeFromConstant = parseValueTypeConstant(typeDefinition);
    const type = typeFromObject || typeFromDefaultValue || typeFromConstant;
    if (type)
      return type;
    const propertyPath = controller ? `${controller}.${typeDefinition}` : token;
    throw new Error(`Unknown value type "${propertyPath}" for "${token}" value`);
  }
  function defaultValueForDefinition(typeDefinition) {
    const constant = parseValueTypeConstant(typeDefinition);
    if (constant)
      return defaultValuesByType[constant];
    const hasDefault = hasProperty(typeDefinition, "default");
    const hasType = hasProperty(typeDefinition, "type");
    const typeObject = typeDefinition;
    if (hasDefault)
      return typeObject.default;
    if (hasType) {
      const { type } = typeObject;
      const constantFromType = parseValueTypeConstant(type);
      if (constantFromType)
        return defaultValuesByType[constantFromType];
    }
    return typeDefinition;
  }
  function valueDescriptorForTokenAndTypeDefinition(payload) {
    const { token, typeDefinition } = payload;
    const key = `${dasherize(token)}-value`;
    const type = parseValueTypeDefinition(payload);
    return {
      type,
      key,
      name: camelize(key),
      get defaultValue() {
        return defaultValueForDefinition(typeDefinition);
      },
      get hasCustomDefaultValue() {
        return parseValueTypeDefault(typeDefinition) !== void 0;
      },
      reader: readers[type],
      writer: writers[type] || writers.default
    };
  }
  var defaultValuesByType = {
    get array() {
      return [];
    },
    boolean: false,
    number: 0,
    get object() {
      return {};
    },
    string: ""
  };
  var readers = {
    array(value) {
      const array = JSON.parse(value);
      if (!Array.isArray(array)) {
        throw new TypeError(`expected value of type "array" but instead got value "${value}" of type "${parseValueTypeDefault(array)}"`);
      }
      return array;
    },
    boolean(value) {
      return !(value == "0" || String(value).toLowerCase() == "false");
    },
    number(value) {
      return Number(value.replace(/_/g, ""));
    },
    object(value) {
      const object = JSON.parse(value);
      if (object === null || typeof object != "object" || Array.isArray(object)) {
        throw new TypeError(`expected value of type "object" but instead got value "${value}" of type "${parseValueTypeDefault(object)}"`);
      }
      return object;
    },
    string(value) {
      return value;
    }
  };
  var writers = {
    default: writeString,
    array: writeJSON,
    object: writeJSON
  };
  function writeJSON(value) {
    return JSON.stringify(value);
  }
  function writeString(value) {
    return `${value}`;
  }
  var Controller = class {
    constructor(context) {
      this.context = context;
    }
    static get shouldLoad() {
      return true;
    }
    static afterLoad(_identifier, _application) {
      return;
    }
    get application() {
      return this.context.application;
    }
    get scope() {
      return this.context.scope;
    }
    get element() {
      return this.scope.element;
    }
    get identifier() {
      return this.scope.identifier;
    }
    get targets() {
      return this.scope.targets;
    }
    get outlets() {
      return this.scope.outlets;
    }
    get classes() {
      return this.scope.classes;
    }
    get data() {
      return this.scope.data;
    }
    initialize() {
    }
    connect() {
    }
    disconnect() {
    }
    dispatch(eventName, { target = this.element, detail = {}, prefix = this.identifier, bubbles = true, cancelable = true } = {}) {
      const type = prefix ? `${prefix}:${eventName}` : eventName;
      const event = new CustomEvent(type, { detail, bubbles, cancelable });
      target.dispatchEvent(event);
      return event;
    }
  };
  Controller.blessings = [
    ClassPropertiesBlessing,
    TargetPropertiesBlessing,
    ValuePropertiesBlessing,
    OutletPropertiesBlessing
  ];
  Controller.targets = [];
  Controller.outlets = [];
  Controller.values = {};

  // app/javascript/controllers/application.js
  var application = Application.start();
  application.debug = false;
  window.Stimulus = application;

  // app/javascript/controllers/dark_mode_controller.js
  var dark_mode_controller_exports = {};
  __export(dark_mode_controller_exports, {
    default: () => dark_mode_controller_default,
    getCookie: () => getCookie,
    getTheme: () => getTheme
  });
  var dark_mode_controller_default = class extends Controller {
    connect() {
      this.element.classList.add(getTheme());
    }
    toggle(e) {
      e.preventDefault();
      this.element.classList.remove("light");
      this.element.classList.remove("dark");
      const newTheme = getTheme() === "light" ? "dark" : "light";
      this.setCookie("darkmode", newTheme, 30);
      this.element.classList.add(newTheme);
      const themeChangedEvent = new CustomEvent("themeChanged", {
        detail: { theme: newTheme }
      });
      window.dispatchEvent(themeChangedEvent);
    }
    setCookie(cname, cvalue, exdays) {
      const d = /* @__PURE__ */ new Date();
      d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1e3);
      const expires = "expires=" + d.toUTCString();
      document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
    }
  };
  function getCookie(cname) {
    const name = cname + "=";
    const ca = document.cookie.split(";");
    for (let i = 0; i < ca.length; i++) {
      let c = ca[i];
      while (c.charAt(0) === " ") {
        c = c.substring(1);
      }
      if (c.indexOf(name) === 0) {
        return c.substring(name.length, c.length);
      }
    }
    return "";
  }
  function getTheme() {
    const themeCookie = getCookie("darkmode");
    return themeCookie ? themeCookie : "light";
  }

  // app/javascript/controllers/hello_controller.js
  var hello_controller_exports = {};
  __export(hello_controller_exports, {
    default: () => hello_controller_default
  });
  var hello_controller_default = class extends Controller {
    connect() {
      this.element.textContent = "Hello World!";
    }
  };

  // rails:/Users/michelson/Documents/cience/rails_ui/test/dummy/app/javascript/controllers/**/*_controller.js
  var modules = [{ name: "dark-mode", module: dark_mode_controller_exports, filename: "dark_mode_controller.js" }, { name: "hello", module: hello_controller_exports, filename: "hello_controller.js" }];
  var controller_default = modules;

  // ../../app/ui/components/rails_ui/accordion/index.js
  var accordion_exports = {};
  __export(accordion_exports, {
    default: () => accordion_default
  });
  var accordion_default = class extends Controller {
    toggle(event) {
      const clickedItem = event.currentTarget.closest('[data-ui-accordion-target="item"]');
      const clickedIndex = this.itemTargets.indexOf(clickedItem);
      this.itemTargets.forEach((item, index) => {
        if (index === clickedIndex) {
          this.toggleItem(item);
        } else {
          this.closeItem(item);
        }
      });
    }
    toggleItem(item) {
      const isOpen = item.dataset.uiAccordionOpenValue === "true";
      if (isOpen) {
        this.closeItem(item);
      } else {
        this.openItem(item);
      }
    }
    openItem(item) {
      const content = item.querySelector('[data-ui-accordion-target="content"]');
      const button = item.querySelector("button");
      item.dataset.uiAccordionOpenValue = "true";
      content.dataset.uiAccordionOpenValue = "true";
      content.removeAttribute("hidden");
      button.setAttribute("aria-expanded", "true");
    }
    closeItem(item) {
      const content = item.querySelector('[data-ui-accordion-target="content"]');
      const button = item.querySelector("button");
      item.dataset.uiAccordionOpenValue = "false";
      content.dataset.uiAccordionOpenValue = "false";
      content.setAttribute("hidden", "");
      button.setAttribute("aria-expanded", "false");
    }
  };
  __publicField(accordion_default, "targets", ["item", "content"]);

  // ../../app/ui/components/rails_ui/accordion_item/index.js
  var accordion_item_exports = {};

  // ../../app/ui/components/rails_ui/alert/index.js
  var alert_exports = {};

  // ../../app/ui/components/rails_ui/alert_dialog/index.js
  var alert_dialog_exports = {};
  __export(alert_dialog_exports, {
    default: () => alert_dialog_default
  });

  // node_modules/stimulus-use/dist/index.js
  var composeEventName = (name, controller, eventPrefix) => {
    let composedName = name;
    if (eventPrefix === true) {
      composedName = `${controller.identifier}:${name}`;
    } else if (typeof eventPrefix === "string") {
      composedName = `${eventPrefix}:${name}`;
    }
    return composedName;
  };
  var extendedEvent = (type, event, detail) => {
    const { bubbles, cancelable, composed } = event || {
      bubbles: true,
      cancelable: true,
      composed: true
    };
    if (event) {
      Object.assign(detail, {
        originalEvent: event
      });
    }
    const customEvent = new CustomEvent(type, {
      bubbles,
      cancelable,
      composed,
      detail
    });
    return customEvent;
  };
  function isElementInViewport(el) {
    const rect = el.getBoundingClientRect();
    const windowHeight = window.innerHeight || document.documentElement.clientHeight;
    const windowWidth = window.innerWidth || document.documentElement.clientWidth;
    const vertInView = rect.top <= windowHeight && rect.top + rect.height > 0;
    const horInView = rect.left <= windowWidth && rect.left + rect.width > 0;
    return vertInView && horInView;
  }
  var defaultOptions$5 = {
    events: ["click", "touchend"],
    onlyVisible: true,
    dispatchEvent: true,
    eventPrefix: true
  };
  var useClickOutside = (composableController, options = {}) => {
    const controller = composableController;
    const { onlyVisible, dispatchEvent: dispatchEvent2, events, eventPrefix } = Object.assign({}, defaultOptions$5, options);
    const onEvent = (event) => {
      const targetElement = (options === null || options === void 0 ? void 0 : options.element) || controller.element;
      if (targetElement.contains(event.target) || !isElementInViewport(targetElement) && onlyVisible) {
        return;
      }
      if (controller.clickOutside) {
        controller.clickOutside(event);
      }
      if (dispatchEvent2) {
        const eventName = composeEventName("click:outside", controller, eventPrefix);
        const clickOutsideEvent = extendedEvent(eventName, event, {
          controller
        });
        targetElement.dispatchEvent(clickOutsideEvent);
      }
    };
    const observe = () => {
      events === null || events === void 0 ? void 0 : events.forEach((event) => {
        window.addEventListener(event, onEvent, true);
      });
    };
    const unobserve = () => {
      events === null || events === void 0 ? void 0 : events.forEach((event) => {
        window.removeEventListener(event, onEvent, true);
      });
    };
    const controllerDisconnect = controller.disconnect.bind(controller);
    Object.assign(controller, {
      disconnect() {
        unobserve();
        controllerDisconnect();
      }
    });
    observe();
    return [observe, unobserve];
  };
  var DebounceController = class extends Controller {
  };
  DebounceController.debounces = [];
  var ThrottleController = class extends Controller {
  };
  ThrottleController.throttles = [];
  var alpineNames = {
    enterFromClass: "enter",
    enterActiveClass: "enterStart",
    enterToClass: "enterEnd",
    leaveFromClass: "leave",
    leaveActiveClass: "leaveStart",
    leaveToClass: "leaveEnd"
  };
  var defaultOptions2 = {
    transitioned: false,
    hiddenClass: "hidden",
    preserveOriginalClass: true,
    removeToClasses: true
  };
  var useTransition = (composableController, options = {}) => {
    var _a, _b, _c;
    const controller = composableController;
    const targetName = controller.element.dataset.transitionTarget;
    let targetFromAttribute;
    if (targetName) {
      targetFromAttribute = controller[`${targetName}Target`];
    }
    const targetElement = (options === null || options === void 0 ? void 0 : options.element) || targetFromAttribute || controller.element;
    if (!(targetElement instanceof HTMLElement || targetElement instanceof SVGElement)) return;
    const dataset = targetElement.dataset;
    const leaveAfter = parseInt(dataset.leaveAfter || "") || options.leaveAfter || 0;
    const { transitioned, hiddenClass, preserveOriginalClass, removeToClasses } = Object.assign({}, defaultOptions2, options);
    const controllerEnter = (_a = controller.enter) === null || _a === void 0 ? void 0 : _a.bind(controller);
    const controllerLeave = (_b = controller.leave) === null || _b === void 0 ? void 0 : _b.bind(controller);
    const controllerToggleTransition = (_c = controller.toggleTransition) === null || _c === void 0 ? void 0 : _c.bind(controller);
    async function enter2(event) {
      if (controller.transitioned) return;
      controller.transitioned = true;
      controllerEnter && controllerEnter(event);
      const enterFromClasses = getAttribute2("enterFrom", options, dataset);
      const enterActiveClasses = getAttribute2("enterActive", options, dataset);
      const enterToClasses = getAttribute2("enterTo", options, dataset);
      const leaveToClasses = getAttribute2("leaveTo", options, dataset);
      if (!!hiddenClass) {
        targetElement.classList.remove(hiddenClass);
      }
      if (!removeToClasses) {
        removeClasses2(targetElement, leaveToClasses);
      }
      await transition2(targetElement, enterFromClasses, enterActiveClasses, enterToClasses, hiddenClass, preserveOriginalClass, removeToClasses);
      if (leaveAfter > 0) {
        setTimeout(() => {
          leave2(event);
        }, leaveAfter);
      }
    }
    async function leave2(event) {
      if (!controller.transitioned) return;
      controller.transitioned = false;
      controllerLeave && controllerLeave(event);
      const leaveFromClasses = getAttribute2("leaveFrom", options, dataset);
      const leaveActiveClasses = getAttribute2("leaveActive", options, dataset);
      const leaveToClasses = getAttribute2("leaveTo", options, dataset);
      const enterToClasses = getAttribute2("enterTo", options, dataset);
      if (!removeToClasses) {
        removeClasses2(targetElement, enterToClasses);
      }
      await transition2(targetElement, leaveFromClasses, leaveActiveClasses, leaveToClasses, hiddenClass, preserveOriginalClass, removeToClasses);
      if (!!hiddenClass) {
        targetElement.classList.add(hiddenClass);
      }
    }
    function toggleTransition(event) {
      controllerToggleTransition && controllerToggleTransition(event);
      if (controller.transitioned) {
        leave2();
      } else {
        enter2();
      }
    }
    async function transition2(element, initialClasses, activeClasses, endClasses, hiddenClass2, preserveOriginalClass2, removeEndClasses) {
      const stashedClasses = [];
      if (preserveOriginalClass2) {
        initialClasses.forEach((cls) => element.classList.contains(cls) && cls !== hiddenClass2 && stashedClasses.push(cls));
        activeClasses.forEach((cls) => element.classList.contains(cls) && cls !== hiddenClass2 && stashedClasses.push(cls));
        endClasses.forEach((cls) => element.classList.contains(cls) && cls !== hiddenClass2 && stashedClasses.push(cls));
      }
      addClasses2(element, initialClasses);
      removeClasses2(element, stashedClasses);
      addClasses2(element, activeClasses);
      await nextAnimationFrame2();
      removeClasses2(element, initialClasses);
      addClasses2(element, endClasses);
      await afterTransition(element);
      removeClasses2(element, activeClasses);
      if (removeEndClasses) {
        removeClasses2(element, endClasses);
      }
      addClasses2(element, stashedClasses);
    }
    function initialState() {
      controller.transitioned = transitioned;
      if (transitioned) {
        if (!!hiddenClass) {
          targetElement.classList.remove(hiddenClass);
        }
        enter2();
      } else {
        if (!!hiddenClass) {
          targetElement.classList.add(hiddenClass);
        }
        leave2();
      }
    }
    function addClasses2(element, classes) {
      if (classes.length > 0) {
        element.classList.add(...classes);
      }
    }
    function removeClasses2(element, classes) {
      if (classes.length > 0) {
        element.classList.remove(...classes);
      }
    }
    initialState();
    Object.assign(controller, {
      enter: enter2,
      leave: leave2,
      toggleTransition
    });
    return [enter2, leave2, toggleTransition];
  };
  function getAttribute2(name, options, dataset) {
    const datasetName = `transition${name[0].toUpperCase()}${name.substr(1)}`;
    const datasetAlpineName = alpineNames[name];
    const classes = options[name] || dataset[datasetName] || dataset[datasetAlpineName] || " ";
    return isEmpty(classes) ? [] : classes.split(" ");
  }
  async function afterTransition(element) {
    return new Promise((resolve) => {
      const duration = Number(getComputedStyle(element).transitionDuration.split(",")[0].replace("s", "")) * 1e3;
      setTimeout(() => {
        resolve(duration);
      }, duration);
    });
  }
  async function nextAnimationFrame2() {
    return new Promise((resolve) => {
      requestAnimationFrame(() => {
        requestAnimationFrame(resolve);
      });
    });
  }
  function isEmpty(str) {
    return str.length === 0 || !str.trim();
  }

  // ../../app/ui/components/rails_ui/alert_dialog/index.js
  var alert_dialog_default = class extends Controller {
    connect() {
      if (this.closeOnClickOutsideValue) {
        useClickOutside(this, { element: this.contentTarget });
      }
    }
    open() {
      this.overlayTarget.style.display = "block";
      this.contentTarget.style.display = "block";
      setTimeout(() => {
        this.overlayTarget.dataset.uiAlertDialogState = "open";
        this.contentTarget.dataset.uiAlertDialogState = "open";
      }, 10);
    }
    close() {
      this.overlayTarget.dataset.uiAlertDialogState = "closed";
      this.contentTarget.dataset.uiAlertDialogState = "closed";
      setTimeout(() => {
        this.overlayTarget.style.display = "none";
        this.contentTarget.style.display = "none";
      }, 30);
    }
    cancel(event) {
      event.preventDefault();
      this.close();
    }
    clickOutside(event) {
      if (this.closeOnClickOutsideValue) {
        this.close();
      }
    }
  };
  __publicField(alert_dialog_default, "targets", ["overlay", "content"]);
  __publicField(alert_dialog_default, "values", {
    closeOnClickOutside: Boolean
  });

  // ../../app/ui/components/rails_ui/aspect_ratio/index.js
  var aspect_ratio_exports = {};

  // ../../app/ui/components/rails_ui/avatar/index.js
  var avatar_exports = {};

  // ../../app/ui/components/rails_ui/badge/index.js
  var badge_exports = {};

  // ../../app/ui/components/rails_ui/breadcrumb/index.js
  var breadcrumb_exports = {};

  // ../../app/ui/components/rails_ui/breadcrumb_item/index.js
  var breadcrumb_item_exports = {};

  // ../../app/ui/components/rails_ui/button/index.js
  var button_exports = {};

  // ../../app/ui/components/rails_ui/calendar/index.js
  var calendar_exports = {};
  __export(calendar_exports, {
    default: () => calendar_default
  });

  // node_modules/date-fns/toDate.mjs
  function toDate(argument) {
    const argStr = Object.prototype.toString.call(argument);
    if (argument instanceof Date || typeof argument === "object" && argStr === "[object Date]") {
      return new argument.constructor(+argument);
    } else if (typeof argument === "number" || argStr === "[object Number]" || typeof argument === "string" || argStr === "[object String]") {
      return new Date(argument);
    } else {
      return /* @__PURE__ */ new Date(NaN);
    }
  }

  // node_modules/date-fns/constructFrom.mjs
  function constructFrom(date, value) {
    if (date instanceof Date) {
      return new date.constructor(value);
    } else {
      return new Date(value);
    }
  }

  // node_modules/date-fns/addMonths.mjs
  function addMonths(date, amount) {
    const _date = toDate(date);
    if (isNaN(amount)) return constructFrom(date, NaN);
    if (!amount) {
      return _date;
    }
    const dayOfMonth = _date.getDate();
    const endOfDesiredMonth = constructFrom(date, _date.getTime());
    endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);
    const daysInMonth = endOfDesiredMonth.getDate();
    if (dayOfMonth >= daysInMonth) {
      return endOfDesiredMonth;
    } else {
      _date.setFullYear(
        endOfDesiredMonth.getFullYear(),
        endOfDesiredMonth.getMonth(),
        dayOfMonth
      );
      return _date;
    }
  }

  // node_modules/date-fns/constants.mjs
  var daysInYear = 365.2425;
  var maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1e3;
  var minTime = -maxTime;
  var millisecondsInWeek = 6048e5;
  var millisecondsInDay = 864e5;
  var secondsInHour = 3600;
  var secondsInDay = secondsInHour * 24;
  var secondsInWeek = secondsInDay * 7;
  var secondsInYear = secondsInDay * daysInYear;
  var secondsInMonth = secondsInYear / 12;
  var secondsInQuarter = secondsInMonth * 3;

  // node_modules/date-fns/_lib/defaultOptions.mjs
  var defaultOptions3 = {};
  function getDefaultOptions() {
    return defaultOptions3;
  }

  // node_modules/date-fns/startOfWeek.mjs
  function startOfWeek(date, options) {
    const defaultOptions5 = getDefaultOptions();
    const weekStartsOn = options?.weekStartsOn ?? options?.locale?.options?.weekStartsOn ?? defaultOptions5.weekStartsOn ?? defaultOptions5.locale?.options?.weekStartsOn ?? 0;
    const _date = toDate(date);
    const day = _date.getDay();
    const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;
    _date.setDate(_date.getDate() - diff);
    _date.setHours(0, 0, 0, 0);
    return _date;
  }

  // node_modules/date-fns/startOfISOWeek.mjs
  function startOfISOWeek(date) {
    return startOfWeek(date, { weekStartsOn: 1 });
  }

  // node_modules/date-fns/getISOWeekYear.mjs
  function getISOWeekYear(date) {
    const _date = toDate(date);
    const year = _date.getFullYear();
    const fourthOfJanuaryOfNextYear = constructFrom(date, 0);
    fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);
    fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);
    const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);
    const fourthOfJanuaryOfThisYear = constructFrom(date, 0);
    fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);
    fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);
    const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);
    if (_date.getTime() >= startOfNextYear.getTime()) {
      return year + 1;
    } else if (_date.getTime() >= startOfThisYear.getTime()) {
      return year;
    } else {
      return year - 1;
    }
  }

  // node_modules/date-fns/startOfDay.mjs
  function startOfDay(date) {
    const _date = toDate(date);
    _date.setHours(0, 0, 0, 0);
    return _date;
  }

  // node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.mjs
  function getTimezoneOffsetInMilliseconds(date) {
    const _date = toDate(date);
    const utcDate = new Date(
      Date.UTC(
        _date.getFullYear(),
        _date.getMonth(),
        _date.getDate(),
        _date.getHours(),
        _date.getMinutes(),
        _date.getSeconds(),
        _date.getMilliseconds()
      )
    );
    utcDate.setUTCFullYear(_date.getFullYear());
    return +date - +utcDate;
  }

  // node_modules/date-fns/differenceInCalendarDays.mjs
  function differenceInCalendarDays(dateLeft, dateRight) {
    const startOfDayLeft = startOfDay(dateLeft);
    const startOfDayRight = startOfDay(dateRight);
    const timestampLeft = +startOfDayLeft - getTimezoneOffsetInMilliseconds(startOfDayLeft);
    const timestampRight = +startOfDayRight - getTimezoneOffsetInMilliseconds(startOfDayRight);
    return Math.round((timestampLeft - timestampRight) / millisecondsInDay);
  }

  // node_modules/date-fns/startOfISOWeekYear.mjs
  function startOfISOWeekYear(date) {
    const year = getISOWeekYear(date);
    const fourthOfJanuary = constructFrom(date, 0);
    fourthOfJanuary.setFullYear(year, 0, 4);
    fourthOfJanuary.setHours(0, 0, 0, 0);
    return startOfISOWeek(fourthOfJanuary);
  }

  // node_modules/date-fns/constructNow.mjs
  function constructNow(date) {
    return constructFrom(date, Date.now());
  }

  // node_modules/date-fns/isSameDay.mjs
  function isSameDay(dateLeft, dateRight) {
    const dateLeftStartOfDay = startOfDay(dateLeft);
    const dateRightStartOfDay = startOfDay(dateRight);
    return +dateLeftStartOfDay === +dateRightStartOfDay;
  }

  // node_modules/date-fns/isDate.mjs
  function isDate(value) {
    return value instanceof Date || typeof value === "object" && Object.prototype.toString.call(value) === "[object Date]";
  }

  // node_modules/date-fns/isValid.mjs
  function isValid(date) {
    if (!isDate(date) && typeof date !== "number") {
      return false;
    }
    const _date = toDate(date);
    return !isNaN(Number(_date));
  }

  // node_modules/date-fns/endOfMonth.mjs
  function endOfMonth(date) {
    const _date = toDate(date);
    const month = _date.getMonth();
    _date.setFullYear(_date.getFullYear(), month + 1, 0);
    _date.setHours(23, 59, 59, 999);
    return _date;
  }

  // node_modules/date-fns/eachDayOfInterval.mjs
  function eachDayOfInterval(interval, options) {
    const startDate = toDate(interval.start);
    const endDate = toDate(interval.end);
    let reversed = +startDate > +endDate;
    const endTime = reversed ? +startDate : +endDate;
    const currentDate = reversed ? endDate : startDate;
    currentDate.setHours(0, 0, 0, 0);
    let step = options?.step ?? 1;
    if (!step) return [];
    if (step < 0) {
      step = -step;
      reversed = !reversed;
    }
    const dates = [];
    while (+currentDate <= endTime) {
      dates.push(toDate(currentDate));
      currentDate.setDate(currentDate.getDate() + step);
      currentDate.setHours(0, 0, 0, 0);
    }
    return reversed ? dates.reverse() : dates;
  }

  // node_modules/date-fns/startOfMonth.mjs
  function startOfMonth(date) {
    const _date = toDate(date);
    _date.setDate(1);
    _date.setHours(0, 0, 0, 0);
    return _date;
  }

  // node_modules/date-fns/startOfYear.mjs
  function startOfYear(date) {
    const cleanDate = toDate(date);
    const _date = constructFrom(date, 0);
    _date.setFullYear(cleanDate.getFullYear(), 0, 1);
    _date.setHours(0, 0, 0, 0);
    return _date;
  }

  // node_modules/date-fns/endOfWeek.mjs
  function endOfWeek(date, options) {
    const defaultOptions5 = getDefaultOptions();
    const weekStartsOn = options?.weekStartsOn ?? options?.locale?.options?.weekStartsOn ?? defaultOptions5.weekStartsOn ?? defaultOptions5.locale?.options?.weekStartsOn ?? 0;
    const _date = toDate(date);
    const day = _date.getDay();
    const diff = (day < weekStartsOn ? -7 : 0) + 6 - (day - weekStartsOn);
    _date.setDate(_date.getDate() + diff);
    _date.setHours(23, 59, 59, 999);
    return _date;
  }

  // node_modules/date-fns/locale/en-US/_lib/formatDistance.mjs
  var formatDistanceLocale = {
    lessThanXSeconds: {
      one: "less than a second",
      other: "less than {{count}} seconds"
    },
    xSeconds: {
      one: "1 second",
      other: "{{count}} seconds"
    },
    halfAMinute: "half a minute",
    lessThanXMinutes: {
      one: "less than a minute",
      other: "less than {{count}} minutes"
    },
    xMinutes: {
      one: "1 minute",
      other: "{{count}} minutes"
    },
    aboutXHours: {
      one: "about 1 hour",
      other: "about {{count}} hours"
    },
    xHours: {
      one: "1 hour",
      other: "{{count}} hours"
    },
    xDays: {
      one: "1 day",
      other: "{{count}} days"
    },
    aboutXWeeks: {
      one: "about 1 week",
      other: "about {{count}} weeks"
    },
    xWeeks: {
      one: "1 week",
      other: "{{count}} weeks"
    },
    aboutXMonths: {
      one: "about 1 month",
      other: "about {{count}} months"
    },
    xMonths: {
      one: "1 month",
      other: "{{count}} months"
    },
    aboutXYears: {
      one: "about 1 year",
      other: "about {{count}} years"
    },
    xYears: {
      one: "1 year",
      other: "{{count}} years"
    },
    overXYears: {
      one: "over 1 year",
      other: "over {{count}} years"
    },
    almostXYears: {
      one: "almost 1 year",
      other: "almost {{count}} years"
    }
  };
  var formatDistance = (token, count, options) => {
    let result;
    const tokenValue = formatDistanceLocale[token];
    if (typeof tokenValue === "string") {
      result = tokenValue;
    } else if (count === 1) {
      result = tokenValue.one;
    } else {
      result = tokenValue.other.replace("{{count}}", count.toString());
    }
    if (options?.addSuffix) {
      if (options.comparison && options.comparison > 0) {
        return "in " + result;
      } else {
        return result + " ago";
      }
    }
    return result;
  };

  // node_modules/date-fns/locale/_lib/buildFormatLongFn.mjs
  function buildFormatLongFn(args) {
    return (options = {}) => {
      const width = options.width ? String(options.width) : args.defaultWidth;
      const format2 = args.formats[width] || args.formats[args.defaultWidth];
      return format2;
    };
  }

  // node_modules/date-fns/locale/en-US/_lib/formatLong.mjs
  var dateFormats = {
    full: "EEEE, MMMM do, y",
    long: "MMMM do, y",
    medium: "MMM d, y",
    short: "MM/dd/yyyy"
  };
  var timeFormats = {
    full: "h:mm:ss a zzzz",
    long: "h:mm:ss a z",
    medium: "h:mm:ss a",
    short: "h:mm a"
  };
  var dateTimeFormats = {
    full: "{{date}} 'at' {{time}}",
    long: "{{date}} 'at' {{time}}",
    medium: "{{date}}, {{time}}",
    short: "{{date}}, {{time}}"
  };
  var formatLong = {
    date: buildFormatLongFn({
      formats: dateFormats,
      defaultWidth: "full"
    }),
    time: buildFormatLongFn({
      formats: timeFormats,
      defaultWidth: "full"
    }),
    dateTime: buildFormatLongFn({
      formats: dateTimeFormats,
      defaultWidth: "full"
    })
  };

  // node_modules/date-fns/locale/en-US/_lib/formatRelative.mjs
  var formatRelativeLocale = {
    lastWeek: "'last' eeee 'at' p",
    yesterday: "'yesterday at' p",
    today: "'today at' p",
    tomorrow: "'tomorrow at' p",
    nextWeek: "eeee 'at' p",
    other: "P"
  };
  var formatRelative = (token, _date, _baseDate, _options) => formatRelativeLocale[token];

  // node_modules/date-fns/locale/_lib/buildLocalizeFn.mjs
  function buildLocalizeFn(args) {
    return (value, options) => {
      const context = options?.context ? String(options.context) : "standalone";
      let valuesArray;
      if (context === "formatting" && args.formattingValues) {
        const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;
        const width = options?.width ? String(options.width) : defaultWidth;
        valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];
      } else {
        const defaultWidth = args.defaultWidth;
        const width = options?.width ? String(options.width) : args.defaultWidth;
        valuesArray = args.values[width] || args.values[defaultWidth];
      }
      const index = args.argumentCallback ? args.argumentCallback(value) : value;
      return valuesArray[index];
    };
  }

  // node_modules/date-fns/locale/en-US/_lib/localize.mjs
  var eraValues = {
    narrow: ["B", "A"],
    abbreviated: ["BC", "AD"],
    wide: ["Before Christ", "Anno Domini"]
  };
  var quarterValues = {
    narrow: ["1", "2", "3", "4"],
    abbreviated: ["Q1", "Q2", "Q3", "Q4"],
    wide: ["1st quarter", "2nd quarter", "3rd quarter", "4th quarter"]
  };
  var monthValues = {
    narrow: ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"],
    abbreviated: [
      "Jan",
      "Feb",
      "Mar",
      "Apr",
      "May",
      "Jun",
      "Jul",
      "Aug",
      "Sep",
      "Oct",
      "Nov",
      "Dec"
    ],
    wide: [
      "January",
      "February",
      "March",
      "April",
      "May",
      "June",
      "July",
      "August",
      "September",
      "October",
      "November",
      "December"
    ]
  };
  var dayValues = {
    narrow: ["S", "M", "T", "W", "T", "F", "S"],
    short: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
    abbreviated: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
    wide: [
      "Sunday",
      "Monday",
      "Tuesday",
      "Wednesday",
      "Thursday",
      "Friday",
      "Saturday"
    ]
  };
  var dayPeriodValues = {
    narrow: {
      am: "a",
      pm: "p",
      midnight: "mi",
      noon: "n",
      morning: "morning",
      afternoon: "afternoon",
      evening: "evening",
      night: "night"
    },
    abbreviated: {
      am: "AM",
      pm: "PM",
      midnight: "midnight",
      noon: "noon",
      morning: "morning",
      afternoon: "afternoon",
      evening: "evening",
      night: "night"
    },
    wide: {
      am: "a.m.",
      pm: "p.m.",
      midnight: "midnight",
      noon: "noon",
      morning: "morning",
      afternoon: "afternoon",
      evening: "evening",
      night: "night"
    }
  };
  var formattingDayPeriodValues = {
    narrow: {
      am: "a",
      pm: "p",
      midnight: "mi",
      noon: "n",
      morning: "in the morning",
      afternoon: "in the afternoon",
      evening: "in the evening",
      night: "at night"
    },
    abbreviated: {
      am: "AM",
      pm: "PM",
      midnight: "midnight",
      noon: "noon",
      morning: "in the morning",
      afternoon: "in the afternoon",
      evening: "in the evening",
      night: "at night"
    },
    wide: {
      am: "a.m.",
      pm: "p.m.",
      midnight: "midnight",
      noon: "noon",
      morning: "in the morning",
      afternoon: "in the afternoon",
      evening: "in the evening",
      night: "at night"
    }
  };
  var ordinalNumber = (dirtyNumber, _options) => {
    const number = Number(dirtyNumber);
    const rem100 = number % 100;
    if (rem100 > 20 || rem100 < 10) {
      switch (rem100 % 10) {
        case 1:
          return number + "st";
        case 2:
          return number + "nd";
        case 3:
          return number + "rd";
      }
    }
    return number + "th";
  };
  var localize = {
    ordinalNumber,
    era: buildLocalizeFn({
      values: eraValues,
      defaultWidth: "wide"
    }),
    quarter: buildLocalizeFn({
      values: quarterValues,
      defaultWidth: "wide",
      argumentCallback: (quarter) => quarter - 1
    }),
    month: buildLocalizeFn({
      values: monthValues,
      defaultWidth: "wide"
    }),
    day: buildLocalizeFn({
      values: dayValues,
      defaultWidth: "wide"
    }),
    dayPeriod: buildLocalizeFn({
      values: dayPeriodValues,
      defaultWidth: "wide",
      formattingValues: formattingDayPeriodValues,
      defaultFormattingWidth: "wide"
    })
  };

  // node_modules/date-fns/locale/_lib/buildMatchFn.mjs
  function buildMatchFn(args) {
    return (string, options = {}) => {
      const width = options.width;
      const matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];
      const matchResult = string.match(matchPattern);
      if (!matchResult) {
        return null;
      }
      const matchedString = matchResult[0];
      const parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];
      const key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString)) : (
        // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type
        findKey(parsePatterns, (pattern) => pattern.test(matchedString))
      );
      let value;
      value = args.valueCallback ? args.valueCallback(key) : key;
      value = options.valueCallback ? (
        // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type
        options.valueCallback(value)
      ) : value;
      const rest = string.slice(matchedString.length);
      return { value, rest };
    };
  }
  function findKey(object, predicate) {
    for (const key in object) {
      if (Object.prototype.hasOwnProperty.call(object, key) && predicate(object[key])) {
        return key;
      }
    }
    return void 0;
  }
  function findIndex(array, predicate) {
    for (let key = 0; key < array.length; key++) {
      if (predicate(array[key])) {
        return key;
      }
    }
    return void 0;
  }

  // node_modules/date-fns/locale/_lib/buildMatchPatternFn.mjs
  function buildMatchPatternFn(args) {
    return (string, options = {}) => {
      const matchResult = string.match(args.matchPattern);
      if (!matchResult) return null;
      const matchedString = matchResult[0];
      const parseResult = string.match(args.parsePattern);
      if (!parseResult) return null;
      let value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];
      value = options.valueCallback ? options.valueCallback(value) : value;
      const rest = string.slice(matchedString.length);
      return { value, rest };
    };
  }

  // node_modules/date-fns/locale/en-US/_lib/match.mjs
  var matchOrdinalNumberPattern = /^(\d+)(th|st|nd|rd)?/i;
  var parseOrdinalNumberPattern = /\d+/i;
  var matchEraPatterns = {
    narrow: /^(b|a)/i,
    abbreviated: /^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,
    wide: /^(before christ|before common era|anno domini|common era)/i
  };
  var parseEraPatterns = {
    any: [/^b/i, /^(a|c)/i]
  };
  var matchQuarterPatterns = {
    narrow: /^[1234]/i,
    abbreviated: /^q[1234]/i,
    wide: /^[1234](th|st|nd|rd)? quarter/i
  };
  var parseQuarterPatterns = {
    any: [/1/i, /2/i, /3/i, /4/i]
  };
  var matchMonthPatterns = {
    narrow: /^[jfmasond]/i,
    abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,
    wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i
  };
  var parseMonthPatterns = {
    narrow: [
      /^j/i,
      /^f/i,
      /^m/i,
      /^a/i,
      /^m/i,
      /^j/i,
      /^j/i,
      /^a/i,
      /^s/i,
      /^o/i,
      /^n/i,
      /^d/i
    ],
    any: [
      /^ja/i,
      /^f/i,
      /^mar/i,
      /^ap/i,
      /^may/i,
      /^jun/i,
      /^jul/i,
      /^au/i,
      /^s/i,
      /^o/i,
      /^n/i,
      /^d/i
    ]
  };
  var matchDayPatterns = {
    narrow: /^[smtwf]/i,
    short: /^(su|mo|tu|we|th|fr|sa)/i,
    abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,
    wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i
  };
  var parseDayPatterns = {
    narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],
    any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]
  };
  var matchDayPeriodPatterns = {
    narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,
    any: /^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i
  };
  var parseDayPeriodPatterns = {
    any: {
      am: /^a/i,
      pm: /^p/i,
      midnight: /^mi/i,
      noon: /^no/i,
      morning: /morning/i,
      afternoon: /afternoon/i,
      evening: /evening/i,
      night: /night/i
    }
  };
  var match = {
    ordinalNumber: buildMatchPatternFn({
      matchPattern: matchOrdinalNumberPattern,
      parsePattern: parseOrdinalNumberPattern,
      valueCallback: (value) => parseInt(value, 10)
    }),
    era: buildMatchFn({
      matchPatterns: matchEraPatterns,
      defaultMatchWidth: "wide",
      parsePatterns: parseEraPatterns,
      defaultParseWidth: "any"
    }),
    quarter: buildMatchFn({
      matchPatterns: matchQuarterPatterns,
      defaultMatchWidth: "wide",
      parsePatterns: parseQuarterPatterns,
      defaultParseWidth: "any",
      valueCallback: (index) => index + 1
    }),
    month: buildMatchFn({
      matchPatterns: matchMonthPatterns,
      defaultMatchWidth: "wide",
      parsePatterns: parseMonthPatterns,
      defaultParseWidth: "any"
    }),
    day: buildMatchFn({
      matchPatterns: matchDayPatterns,
      defaultMatchWidth: "wide",
      parsePatterns: parseDayPatterns,
      defaultParseWidth: "any"
    }),
    dayPeriod: buildMatchFn({
      matchPatterns: matchDayPeriodPatterns,
      defaultMatchWidth: "any",
      parsePatterns: parseDayPeriodPatterns,
      defaultParseWidth: "any"
    })
  };

  // node_modules/date-fns/locale/en-US.mjs
  var enUS = {
    code: "en-US",
    formatDistance,
    formatLong,
    formatRelative,
    localize,
    match,
    options: {
      weekStartsOn: 0,
      firstWeekContainsDate: 1
    }
  };

  // node_modules/date-fns/getDayOfYear.mjs
  function getDayOfYear(date) {
    const _date = toDate(date);
    const diff = differenceInCalendarDays(_date, startOfYear(_date));
    const dayOfYear = diff + 1;
    return dayOfYear;
  }

  // node_modules/date-fns/getISOWeek.mjs
  function getISOWeek(date) {
    const _date = toDate(date);
    const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);
    return Math.round(diff / millisecondsInWeek) + 1;
  }

  // node_modules/date-fns/getWeekYear.mjs
  function getWeekYear(date, options) {
    const _date = toDate(date);
    const year = _date.getFullYear();
    const defaultOptions5 = getDefaultOptions();
    const firstWeekContainsDate = options?.firstWeekContainsDate ?? options?.locale?.options?.firstWeekContainsDate ?? defaultOptions5.firstWeekContainsDate ?? defaultOptions5.locale?.options?.firstWeekContainsDate ?? 1;
    const firstWeekOfNextYear = constructFrom(date, 0);
    firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);
    firstWeekOfNextYear.setHours(0, 0, 0, 0);
    const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);
    const firstWeekOfThisYear = constructFrom(date, 0);
    firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);
    firstWeekOfThisYear.setHours(0, 0, 0, 0);
    const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);
    if (_date.getTime() >= startOfNextYear.getTime()) {
      return year + 1;
    } else if (_date.getTime() >= startOfThisYear.getTime()) {
      return year;
    } else {
      return year - 1;
    }
  }

  // node_modules/date-fns/startOfWeekYear.mjs
  function startOfWeekYear(date, options) {
    const defaultOptions5 = getDefaultOptions();
    const firstWeekContainsDate = options?.firstWeekContainsDate ?? options?.locale?.options?.firstWeekContainsDate ?? defaultOptions5.firstWeekContainsDate ?? defaultOptions5.locale?.options?.firstWeekContainsDate ?? 1;
    const year = getWeekYear(date, options);
    const firstWeek = constructFrom(date, 0);
    firstWeek.setFullYear(year, 0, firstWeekContainsDate);
    firstWeek.setHours(0, 0, 0, 0);
    const _date = startOfWeek(firstWeek, options);
    return _date;
  }

  // node_modules/date-fns/getWeek.mjs
  function getWeek(date, options) {
    const _date = toDate(date);
    const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);
    return Math.round(diff / millisecondsInWeek) + 1;
  }

  // node_modules/date-fns/_lib/addLeadingZeros.mjs
  function addLeadingZeros(number, targetLength) {
    const sign = number < 0 ? "-" : "";
    const output = Math.abs(number).toString().padStart(targetLength, "0");
    return sign + output;
  }

  // node_modules/date-fns/_lib/format/lightFormatters.mjs
  var lightFormatters = {
    // Year
    y(date, token) {
      const signedYear = date.getFullYear();
      const year = signedYear > 0 ? signedYear : 1 - signedYear;
      return addLeadingZeros(token === "yy" ? year % 100 : year, token.length);
    },
    // Month
    M(date, token) {
      const month = date.getMonth();
      return token === "M" ? String(month + 1) : addLeadingZeros(month + 1, 2);
    },
    // Day of the month
    d(date, token) {
      return addLeadingZeros(date.getDate(), token.length);
    },
    // AM or PM
    a(date, token) {
      const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? "pm" : "am";
      switch (token) {
        case "a":
        case "aa":
          return dayPeriodEnumValue.toUpperCase();
        case "aaa":
          return dayPeriodEnumValue;
        case "aaaaa":
          return dayPeriodEnumValue[0];
        case "aaaa":
        default:
          return dayPeriodEnumValue === "am" ? "a.m." : "p.m.";
      }
    },
    // Hour [1-12]
    h(date, token) {
      return addLeadingZeros(date.getHours() % 12 || 12, token.length);
    },
    // Hour [0-23]
    H(date, token) {
      return addLeadingZeros(date.getHours(), token.length);
    },
    // Minute
    m(date, token) {
      return addLeadingZeros(date.getMinutes(), token.length);
    },
    // Second
    s(date, token) {
      return addLeadingZeros(date.getSeconds(), token.length);
    },
    // Fraction of second
    S(date, token) {
      const numberOfDigits = token.length;
      const milliseconds = date.getMilliseconds();
      const fractionalSeconds = Math.trunc(
        milliseconds * Math.pow(10, numberOfDigits - 3)
      );
      return addLeadingZeros(fractionalSeconds, token.length);
    }
  };

  // node_modules/date-fns/_lib/format/formatters.mjs
  var dayPeriodEnum = {
    am: "am",
    pm: "pm",
    midnight: "midnight",
    noon: "noon",
    morning: "morning",
    afternoon: "afternoon",
    evening: "evening",
    night: "night"
  };
  var formatters = {
    // Era
    G: function(date, token, localize2) {
      const era = date.getFullYear() > 0 ? 1 : 0;
      switch (token) {
        case "G":
        case "GG":
        case "GGG":
          return localize2.era(era, { width: "abbreviated" });
        case "GGGGG":
          return localize2.era(era, { width: "narrow" });
        case "GGGG":
        default:
          return localize2.era(era, { width: "wide" });
      }
    },
    // Year
    y: function(date, token, localize2) {
      if (token === "yo") {
        const signedYear = date.getFullYear();
        const year = signedYear > 0 ? signedYear : 1 - signedYear;
        return localize2.ordinalNumber(year, { unit: "year" });
      }
      return lightFormatters.y(date, token);
    },
    // Local week-numbering year
    Y: function(date, token, localize2, options) {
      const signedWeekYear = getWeekYear(date, options);
      const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;
      if (token === "YY") {
        const twoDigitYear = weekYear % 100;
        return addLeadingZeros(twoDigitYear, 2);
      }
      if (token === "Yo") {
        return localize2.ordinalNumber(weekYear, { unit: "year" });
      }
      return addLeadingZeros(weekYear, token.length);
    },
    // ISO week-numbering year
    R: function(date, token) {
      const isoWeekYear = getISOWeekYear(date);
      return addLeadingZeros(isoWeekYear, token.length);
    },
    // Extended year. This is a single number designating the year of this calendar system.
    // The main difference between `y` and `u` localizers are B.C. years:
    // | Year | `y` | `u` |
    // |------|-----|-----|
    // | AC 1 |   1 |   1 |
    // | BC 1 |   1 |   0 |
    // | BC 2 |   2 |  -1 |
    // Also `yy` always returns the last two digits of a year,
    // while `uu` pads single digit years to 2 characters and returns other years unchanged.
    u: function(date, token) {
      const year = date.getFullYear();
      return addLeadingZeros(year, token.length);
    },
    // Quarter
    Q: function(date, token, localize2) {
      const quarter = Math.ceil((date.getMonth() + 1) / 3);
      switch (token) {
        case "Q":
          return String(quarter);
        case "QQ":
          return addLeadingZeros(quarter, 2);
        case "Qo":
          return localize2.ordinalNumber(quarter, { unit: "quarter" });
        case "QQQ":
          return localize2.quarter(quarter, {
            width: "abbreviated",
            context: "formatting"
          });
        case "QQQQQ":
          return localize2.quarter(quarter, {
            width: "narrow",
            context: "formatting"
          });
        case "QQQQ":
        default:
          return localize2.quarter(quarter, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // Stand-alone quarter
    q: function(date, token, localize2) {
      const quarter = Math.ceil((date.getMonth() + 1) / 3);
      switch (token) {
        case "q":
          return String(quarter);
        case "qq":
          return addLeadingZeros(quarter, 2);
        case "qo":
          return localize2.ordinalNumber(quarter, { unit: "quarter" });
        case "qqq":
          return localize2.quarter(quarter, {
            width: "abbreviated",
            context: "standalone"
          });
        case "qqqqq":
          return localize2.quarter(quarter, {
            width: "narrow",
            context: "standalone"
          });
        case "qqqq":
        default:
          return localize2.quarter(quarter, {
            width: "wide",
            context: "standalone"
          });
      }
    },
    // Month
    M: function(date, token, localize2) {
      const month = date.getMonth();
      switch (token) {
        case "M":
        case "MM":
          return lightFormatters.M(date, token);
        case "Mo":
          return localize2.ordinalNumber(month + 1, { unit: "month" });
        case "MMM":
          return localize2.month(month, {
            width: "abbreviated",
            context: "formatting"
          });
        case "MMMMM":
          return localize2.month(month, {
            width: "narrow",
            context: "formatting"
          });
        case "MMMM":
        default:
          return localize2.month(month, { width: "wide", context: "formatting" });
      }
    },
    // Stand-alone month
    L: function(date, token, localize2) {
      const month = date.getMonth();
      switch (token) {
        case "L":
          return String(month + 1);
        case "LL":
          return addLeadingZeros(month + 1, 2);
        case "Lo":
          return localize2.ordinalNumber(month + 1, { unit: "month" });
        case "LLL":
          return localize2.month(month, {
            width: "abbreviated",
            context: "standalone"
          });
        case "LLLLL":
          return localize2.month(month, {
            width: "narrow",
            context: "standalone"
          });
        case "LLLL":
        default:
          return localize2.month(month, { width: "wide", context: "standalone" });
      }
    },
    // Local week of year
    w: function(date, token, localize2, options) {
      const week = getWeek(date, options);
      if (token === "wo") {
        return localize2.ordinalNumber(week, { unit: "week" });
      }
      return addLeadingZeros(week, token.length);
    },
    // ISO week of year
    I: function(date, token, localize2) {
      const isoWeek = getISOWeek(date);
      if (token === "Io") {
        return localize2.ordinalNumber(isoWeek, { unit: "week" });
      }
      return addLeadingZeros(isoWeek, token.length);
    },
    // Day of the month
    d: function(date, token, localize2) {
      if (token === "do") {
        return localize2.ordinalNumber(date.getDate(), { unit: "date" });
      }
      return lightFormatters.d(date, token);
    },
    // Day of year
    D: function(date, token, localize2) {
      const dayOfYear = getDayOfYear(date);
      if (token === "Do") {
        return localize2.ordinalNumber(dayOfYear, { unit: "dayOfYear" });
      }
      return addLeadingZeros(dayOfYear, token.length);
    },
    // Day of week
    E: function(date, token, localize2) {
      const dayOfWeek = date.getDay();
      switch (token) {
        case "E":
        case "EE":
        case "EEE":
          return localize2.day(dayOfWeek, {
            width: "abbreviated",
            context: "formatting"
          });
        case "EEEEE":
          return localize2.day(dayOfWeek, {
            width: "narrow",
            context: "formatting"
          });
        case "EEEEEE":
          return localize2.day(dayOfWeek, {
            width: "short",
            context: "formatting"
          });
        case "EEEE":
        default:
          return localize2.day(dayOfWeek, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // Local day of week
    e: function(date, token, localize2, options) {
      const dayOfWeek = date.getDay();
      const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;
      switch (token) {
        case "e":
          return String(localDayOfWeek);
        case "ee":
          return addLeadingZeros(localDayOfWeek, 2);
        case "eo":
          return localize2.ordinalNumber(localDayOfWeek, { unit: "day" });
        case "eee":
          return localize2.day(dayOfWeek, {
            width: "abbreviated",
            context: "formatting"
          });
        case "eeeee":
          return localize2.day(dayOfWeek, {
            width: "narrow",
            context: "formatting"
          });
        case "eeeeee":
          return localize2.day(dayOfWeek, {
            width: "short",
            context: "formatting"
          });
        case "eeee":
        default:
          return localize2.day(dayOfWeek, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // Stand-alone local day of week
    c: function(date, token, localize2, options) {
      const dayOfWeek = date.getDay();
      const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;
      switch (token) {
        case "c":
          return String(localDayOfWeek);
        case "cc":
          return addLeadingZeros(localDayOfWeek, token.length);
        case "co":
          return localize2.ordinalNumber(localDayOfWeek, { unit: "day" });
        case "ccc":
          return localize2.day(dayOfWeek, {
            width: "abbreviated",
            context: "standalone"
          });
        case "ccccc":
          return localize2.day(dayOfWeek, {
            width: "narrow",
            context: "standalone"
          });
        case "cccccc":
          return localize2.day(dayOfWeek, {
            width: "short",
            context: "standalone"
          });
        case "cccc":
        default:
          return localize2.day(dayOfWeek, {
            width: "wide",
            context: "standalone"
          });
      }
    },
    // ISO day of week
    i: function(date, token, localize2) {
      const dayOfWeek = date.getDay();
      const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;
      switch (token) {
        case "i":
          return String(isoDayOfWeek);
        case "ii":
          return addLeadingZeros(isoDayOfWeek, token.length);
        case "io":
          return localize2.ordinalNumber(isoDayOfWeek, { unit: "day" });
        case "iii":
          return localize2.day(dayOfWeek, {
            width: "abbreviated",
            context: "formatting"
          });
        case "iiiii":
          return localize2.day(dayOfWeek, {
            width: "narrow",
            context: "formatting"
          });
        case "iiiiii":
          return localize2.day(dayOfWeek, {
            width: "short",
            context: "formatting"
          });
        case "iiii":
        default:
          return localize2.day(dayOfWeek, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // AM or PM
    a: function(date, token, localize2) {
      const hours = date.getHours();
      const dayPeriodEnumValue = hours / 12 >= 1 ? "pm" : "am";
      switch (token) {
        case "a":
        case "aa":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          });
        case "aaa":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          }).toLowerCase();
        case "aaaaa":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "narrow",
            context: "formatting"
          });
        case "aaaa":
        default:
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // AM, PM, midnight, noon
    b: function(date, token, localize2) {
      const hours = date.getHours();
      let dayPeriodEnumValue;
      if (hours === 12) {
        dayPeriodEnumValue = dayPeriodEnum.noon;
      } else if (hours === 0) {
        dayPeriodEnumValue = dayPeriodEnum.midnight;
      } else {
        dayPeriodEnumValue = hours / 12 >= 1 ? "pm" : "am";
      }
      switch (token) {
        case "b":
        case "bb":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          });
        case "bbb":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          }).toLowerCase();
        case "bbbbb":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "narrow",
            context: "formatting"
          });
        case "bbbb":
        default:
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // in the morning, in the afternoon, in the evening, at night
    B: function(date, token, localize2) {
      const hours = date.getHours();
      let dayPeriodEnumValue;
      if (hours >= 17) {
        dayPeriodEnumValue = dayPeriodEnum.evening;
      } else if (hours >= 12) {
        dayPeriodEnumValue = dayPeriodEnum.afternoon;
      } else if (hours >= 4) {
        dayPeriodEnumValue = dayPeriodEnum.morning;
      } else {
        dayPeriodEnumValue = dayPeriodEnum.night;
      }
      switch (token) {
        case "B":
        case "BB":
        case "BBB":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "abbreviated",
            context: "formatting"
          });
        case "BBBBB":
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "narrow",
            context: "formatting"
          });
        case "BBBB":
        default:
          return localize2.dayPeriod(dayPeriodEnumValue, {
            width: "wide",
            context: "formatting"
          });
      }
    },
    // Hour [1-12]
    h: function(date, token, localize2) {
      if (token === "ho") {
        let hours = date.getHours() % 12;
        if (hours === 0) hours = 12;
        return localize2.ordinalNumber(hours, { unit: "hour" });
      }
      return lightFormatters.h(date, token);
    },
    // Hour [0-23]
    H: function(date, token, localize2) {
      if (token === "Ho") {
        return localize2.ordinalNumber(date.getHours(), { unit: "hour" });
      }
      return lightFormatters.H(date, token);
    },
    // Hour [0-11]
    K: function(date, token, localize2) {
      const hours = date.getHours() % 12;
      if (token === "Ko") {
        return localize2.ordinalNumber(hours, { unit: "hour" });
      }
      return addLeadingZeros(hours, token.length);
    },
    // Hour [1-24]
    k: function(date, token, localize2) {
      let hours = date.getHours();
      if (hours === 0) hours = 24;
      if (token === "ko") {
        return localize2.ordinalNumber(hours, { unit: "hour" });
      }
      return addLeadingZeros(hours, token.length);
    },
    // Minute
    m: function(date, token, localize2) {
      if (token === "mo") {
        return localize2.ordinalNumber(date.getMinutes(), { unit: "minute" });
      }
      return lightFormatters.m(date, token);
    },
    // Second
    s: function(date, token, localize2) {
      if (token === "so") {
        return localize2.ordinalNumber(date.getSeconds(), { unit: "second" });
      }
      return lightFormatters.s(date, token);
    },
    // Fraction of second
    S: function(date, token) {
      return lightFormatters.S(date, token);
    },
    // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)
    X: function(date, token, _localize) {
      const timezoneOffset = date.getTimezoneOffset();
      if (timezoneOffset === 0) {
        return "Z";
      }
      switch (token) {
        case "X":
          return formatTimezoneWithOptionalMinutes(timezoneOffset);
        case "XXXX":
        case "XX":
          return formatTimezone(timezoneOffset);
        case "XXXXX":
        case "XXX":
        default:
          return formatTimezone(timezoneOffset, ":");
      }
    },
    // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)
    x: function(date, token, _localize) {
      const timezoneOffset = date.getTimezoneOffset();
      switch (token) {
        case "x":
          return formatTimezoneWithOptionalMinutes(timezoneOffset);
        case "xxxx":
        case "xx":
          return formatTimezone(timezoneOffset);
        case "xxxxx":
        case "xxx":
        default:
          return formatTimezone(timezoneOffset, ":");
      }
    },
    // Timezone (GMT)
    O: function(date, token, _localize) {
      const timezoneOffset = date.getTimezoneOffset();
      switch (token) {
        case "O":
        case "OO":
        case "OOO":
          return "GMT" + formatTimezoneShort(timezoneOffset, ":");
        case "OOOO":
        default:
          return "GMT" + formatTimezone(timezoneOffset, ":");
      }
    },
    // Timezone (specific non-location)
    z: function(date, token, _localize) {
      const timezoneOffset = date.getTimezoneOffset();
      switch (token) {
        case "z":
        case "zz":
        case "zzz":
          return "GMT" + formatTimezoneShort(timezoneOffset, ":");
        case "zzzz":
        default:
          return "GMT" + formatTimezone(timezoneOffset, ":");
      }
    },
    // Seconds timestamp
    t: function(date, token, _localize) {
      const timestamp = Math.trunc(date.getTime() / 1e3);
      return addLeadingZeros(timestamp, token.length);
    },
    // Milliseconds timestamp
    T: function(date, token, _localize) {
      const timestamp = date.getTime();
      return addLeadingZeros(timestamp, token.length);
    }
  };
  function formatTimezoneShort(offset3, delimiter = "") {
    const sign = offset3 > 0 ? "-" : "+";
    const absOffset = Math.abs(offset3);
    const hours = Math.trunc(absOffset / 60);
    const minutes = absOffset % 60;
    if (minutes === 0) {
      return sign + String(hours);
    }
    return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);
  }
  function formatTimezoneWithOptionalMinutes(offset3, delimiter) {
    if (offset3 % 60 === 0) {
      const sign = offset3 > 0 ? "-" : "+";
      return sign + addLeadingZeros(Math.abs(offset3) / 60, 2);
    }
    return formatTimezone(offset3, delimiter);
  }
  function formatTimezone(offset3, delimiter = "") {
    const sign = offset3 > 0 ? "-" : "+";
    const absOffset = Math.abs(offset3);
    const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);
    const minutes = addLeadingZeros(absOffset % 60, 2);
    return sign + hours + delimiter + minutes;
  }

  // node_modules/date-fns/_lib/format/longFormatters.mjs
  var dateLongFormatter = (pattern, formatLong2) => {
    switch (pattern) {
      case "P":
        return formatLong2.date({ width: "short" });
      case "PP":
        return formatLong2.date({ width: "medium" });
      case "PPP":
        return formatLong2.date({ width: "long" });
      case "PPPP":
      default:
        return formatLong2.date({ width: "full" });
    }
  };
  var timeLongFormatter = (pattern, formatLong2) => {
    switch (pattern) {
      case "p":
        return formatLong2.time({ width: "short" });
      case "pp":
        return formatLong2.time({ width: "medium" });
      case "ppp":
        return formatLong2.time({ width: "long" });
      case "pppp":
      default:
        return formatLong2.time({ width: "full" });
    }
  };
  var dateTimeLongFormatter = (pattern, formatLong2) => {
    const matchResult = pattern.match(/(P+)(p+)?/) || [];
    const datePattern = matchResult[1];
    const timePattern = matchResult[2];
    if (!timePattern) {
      return dateLongFormatter(pattern, formatLong2);
    }
    let dateTimeFormat;
    switch (datePattern) {
      case "P":
        dateTimeFormat = formatLong2.dateTime({ width: "short" });
        break;
      case "PP":
        dateTimeFormat = formatLong2.dateTime({ width: "medium" });
        break;
      case "PPP":
        dateTimeFormat = formatLong2.dateTime({ width: "long" });
        break;
      case "PPPP":
      default:
        dateTimeFormat = formatLong2.dateTime({ width: "full" });
        break;
    }
    return dateTimeFormat.replace("{{date}}", dateLongFormatter(datePattern, formatLong2)).replace("{{time}}", timeLongFormatter(timePattern, formatLong2));
  };
  var longFormatters = {
    p: timeLongFormatter,
    P: dateTimeLongFormatter
  };

  // node_modules/date-fns/_lib/protectedTokens.mjs
  var dayOfYearTokenRE = /^D+$/;
  var weekYearTokenRE = /^Y+$/;
  var throwTokens = ["D", "DD", "YY", "YYYY"];
  function isProtectedDayOfYearToken(token) {
    return dayOfYearTokenRE.test(token);
  }
  function isProtectedWeekYearToken(token) {
    return weekYearTokenRE.test(token);
  }
  function warnOrThrowProtectedError(token, format2, input) {
    const _message = message(token, format2, input);
    console.warn(_message);
    if (throwTokens.includes(token)) throw new RangeError(_message);
  }
  function message(token, format2, input) {
    const subject = token[0] === "Y" ? "years" : "days of the month";
    return `Use \`${token.toLowerCase()}\` instead of \`${token}\` (in \`${format2}\`) for formatting ${subject} to the input \`${input}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;
  }

  // node_modules/date-fns/format.mjs
  var formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g;
  var longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;
  var escapedStringRegExp = /^'([^]*?)'?$/;
  var doubleQuoteRegExp = /''/g;
  var unescapedLatinCharacterRegExp = /[a-zA-Z]/;
  function format(date, formatStr, options) {
    const defaultOptions5 = getDefaultOptions();
    const locale = options?.locale ?? defaultOptions5.locale ?? enUS;
    const firstWeekContainsDate = options?.firstWeekContainsDate ?? options?.locale?.options?.firstWeekContainsDate ?? defaultOptions5.firstWeekContainsDate ?? defaultOptions5.locale?.options?.firstWeekContainsDate ?? 1;
    const weekStartsOn = options?.weekStartsOn ?? options?.locale?.options?.weekStartsOn ?? defaultOptions5.weekStartsOn ?? defaultOptions5.locale?.options?.weekStartsOn ?? 0;
    const originalDate = toDate(date);
    if (!isValid(originalDate)) {
      throw new RangeError("Invalid time value");
    }
    let parts = formatStr.match(longFormattingTokensRegExp).map((substring) => {
      const firstCharacter = substring[0];
      if (firstCharacter === "p" || firstCharacter === "P") {
        const longFormatter = longFormatters[firstCharacter];
        return longFormatter(substring, locale.formatLong);
      }
      return substring;
    }).join("").match(formattingTokensRegExp).map((substring) => {
      if (substring === "''") {
        return { isToken: false, value: "'" };
      }
      const firstCharacter = substring[0];
      if (firstCharacter === "'") {
        return { isToken: false, value: cleanEscapedString(substring) };
      }
      if (formatters[firstCharacter]) {
        return { isToken: true, value: substring };
      }
      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {
        throw new RangeError(
          "Format string contains an unescaped latin alphabet character `" + firstCharacter + "`"
        );
      }
      return { isToken: false, value: substring };
    });
    if (locale.localize.preprocessor) {
      parts = locale.localize.preprocessor(originalDate, parts);
    }
    const formatterOptions = {
      firstWeekContainsDate,
      weekStartsOn,
      locale
    };
    return parts.map((part) => {
      if (!part.isToken) return part.value;
      const token = part.value;
      if (!options?.useAdditionalWeekYearTokens && isProtectedWeekYearToken(token) || !options?.useAdditionalDayOfYearTokens && isProtectedDayOfYearToken(token)) {
        warnOrThrowProtectedError(token, formatStr, String(date));
      }
      const formatter = formatters[token[0]];
      return formatter(originalDate, token, locale.localize, formatterOptions);
    }).join("");
  }
  function cleanEscapedString(input) {
    const matched = input.match(escapedStringRegExp);
    if (!matched) {
      return input;
    }
    return matched[1].replace(doubleQuoteRegExp, "'");
  }

  // node_modules/date-fns/isSameMonth.mjs
  function isSameMonth(dateLeft, dateRight) {
    const _dateLeft = toDate(dateLeft);
    const _dateRight = toDate(dateRight);
    return _dateLeft.getFullYear() === _dateRight.getFullYear() && _dateLeft.getMonth() === _dateRight.getMonth();
  }

  // node_modules/date-fns/isToday.mjs
  function isToday(date) {
    return isSameDay(date, constructNow(date));
  }

  // ../../app/ui/components/rails_ui/calendar/index.js
  var calendar_default = class extends Controller {
    connect() {
      this.viewDate = new Date(this.viewDateValue);
      this.selectedDate = this.selectedDateValue ? new Date(this.selectedDateValue) : null;
      this.renderCalendar();
    }
    renderCalendar() {
      this.titleTarget.textContent = format(this.viewDate, "MMMM yyyy");
      const start2 = startOfWeek(startOfMonth(this.viewDate));
      const end = endOfWeek(endOfMonth(this.viewDate));
      const days = eachDayOfInterval({ start: start2, end });
      const calendarContainer = this.calendarTarget;
      const weekdayHeaders = calendarContainer.querySelectorAll("div:nth-child(-n+7)");
      calendarContainer.innerHTML = "";
      weekdayHeaders.forEach((header) => calendarContainer.appendChild(header));
      days.forEach((day) => {
        const dayElement = this.createDayElement(day);
        calendarContainer.appendChild(dayElement);
      });
      this.updateInput();
    }
    createDayElement(day) {
      const template = this.dayTemplateTarget.content.cloneNode(true);
      const button = template.querySelector("button");
      button.textContent = format(day, "d");
      button.dataset.day = day.toISOString();
      let buttonClass = "hover:bg-accent hover:text-accent-foreground";
      if (!isSameMonth(day, this.viewDate)) {
        buttonClass += " text-muted-foreground";
      } else if (isToday(day)) {
        buttonClass += " bg-accent text-accent-foreground";
      }
      if (this.selectedDate && isSameDay(day, this.selectedDate)) {
        buttonClass += " bg-primary text-primary-foreground";
      }
      button.className = button.className.replace("{{buttonClass}}", buttonClass);
      return template;
    }
    prevMonth() {
      this.viewDate = addMonths(this.viewDate, -1);
      this.renderCalendar();
    }
    nextMonth() {
      this.viewDate = addMonths(this.viewDate, 1);
      this.renderCalendar();
    }
    selectDay(event) {
      const selectedDay = new Date(event.currentTarget.dataset.day);
      this.selectedDate = selectedDay;
      this.selectedDateValue = selectedDay.toISOString();
      this.renderCalendar();
    }
    updateInput() {
      const inputElement = document.getElementById(this.inputIdValue);
      if (inputElement && this.selectedDate) {
        inputElement.value = format(this.selectedDate, this.formatValue);
      }
    }
  };
  __publicField(calendar_default, "targets", ["title", "calendar", "dayTemplate", "input"]);
  __publicField(calendar_default, "values", {
    format: String,
    viewDate: String,
    selectedDate: { type: String, default: null },
    inputId: String
  });

  // ../../app/ui/components/rails_ui/card/index.js
  var card_exports = {};

  // ../../app/ui/components/rails_ui/carousel/index.js
  var carousel_exports = {};
  __export(carousel_exports, {
    default: () => carousel_default
  });
  var carousel_default = class extends Controller {
    connect() {
      useTransition(this, {
        element: () => this.slideTargets[this.currentIndexValue],
        enterActive: "transition ease-out duration-300",
        enterFrom: "opacity-0",
        enterTo: "opacity-100",
        leaveActive: "transition ease-in duration-300",
        leaveFrom: "opacity-100",
        leaveTo: "opacity-0"
      });
      this.updateSlidePosition();
      this.updateButtonStates();
      if (this.autoPlayValue) {
        this.startAutoPlay();
      }
    }
    disconnect() {
      this.stopAutoPlay();
    }
    next() {
      this.currentIndexValue = (this.currentIndexValue + 1) % this.slideTargets.length;
      this.updateSlidePosition();
      this.updateButtonStates();
    }
    previous() {
      this.currentIndexValue = (this.currentIndexValue - 1 + this.slideTargets.length) % this.slideTargets.length;
      this.updateSlidePosition();
      this.updateButtonStates();
    }
    updateSlidePosition() {
      const offset3 = this.currentIndexValue * -100;
      this.element.querySelector(".flex").style.transform = `translate3d(${offset3}%, 0px, 0px)`;
    }
    updateButtonStates() {
      if (this.hasPreviousButtonTarget && this.hasNextButtonTarget) {
        this.previousButtonTarget.disabled = this.currentIndexValue === 0;
        this.nextButtonTarget.disabled = this.currentIndexValue === this.slideTargets.length - 1;
      }
    }
    startAutoPlay() {
      this.autoPlayInterval = setInterval(() => {
        this.next();
      }, this.intervalValue);
    }
    stopAutoPlay() {
      if (this.autoPlayInterval) {
        clearInterval(this.autoPlayInterval);
      }
    }
  };
  __publicField(carousel_default, "targets", ["slide", "previousButton", "nextButton"]);
  __publicField(carousel_default, "values", {
    currentIndex: { type: Number, default: 0 },
    autoPlay: { type: Boolean, default: false },
    interval: { type: Number, default: 5e3 }
    // 5 seconds
  });

  // ../../app/ui/components/rails_ui/collapsible/index.js
  var collapsible_exports = {};
  __export(collapsible_exports, {
    default: () => collapsible_default
  });
  var collapsible_default = class extends Controller {
    connect() {
      this.updateVisibility();
    }
    toggle() {
      this.openValue = !this.openValue;
    }
    openValueChanged() {
      this.updateVisibility();
    }
    updateVisibility() {
      if (this.openValue) {
        this.contentTarget.classList.remove("hidden");
      } else {
        this.contentTarget.classList.add("hidden");
      }
    }
  };
  __publicField(collapsible_default, "targets", ["content"]);
  __publicField(collapsible_default, "values", {
    open: Boolean
  });

  // ../../app/ui/components/rails_ui/command/index.js
  var command_exports = {};
  __export(command_exports, {
    default: () => command_default
  });

  // node_modules/hotkeys-js/dist/hotkeys.esm.js
  var isff = typeof navigator !== "undefined" ? navigator.userAgent.toLowerCase().indexOf("firefox") > 0 : false;
  function addEvent(object, event, method, useCapture) {
    if (object.addEventListener) {
      object.addEventListener(event, method, useCapture);
    } else if (object.attachEvent) {
      object.attachEvent("on".concat(event), method);
    }
  }
  function removeEvent(object, event, method, useCapture) {
    if (object.removeEventListener) {
      object.removeEventListener(event, method, useCapture);
    } else if (object.detachEvent) {
      object.detachEvent("on".concat(event), method);
    }
  }
  function getMods(modifier, key) {
    const mods = key.slice(0, key.length - 1);
    for (let i = 0; i < mods.length; i++) mods[i] = modifier[mods[i].toLowerCase()];
    return mods;
  }
  function getKeys(key) {
    if (typeof key !== "string") key = "";
    key = key.replace(/\s/g, "");
    const keys = key.split(",");
    let index = keys.lastIndexOf("");
    for (; index >= 0; ) {
      keys[index - 1] += ",";
      keys.splice(index, 1);
      index = keys.lastIndexOf("");
    }
    return keys;
  }
  function compareArray(a1, a2) {
    const arr1 = a1.length >= a2.length ? a1 : a2;
    const arr2 = a1.length >= a2.length ? a2 : a1;
    let isIndex = true;
    for (let i = 0; i < arr1.length; i++) {
      if (arr2.indexOf(arr1[i]) === -1) isIndex = false;
    }
    return isIndex;
  }
  var _keyMap = {
    backspace: 8,
    "\u232B": 8,
    tab: 9,
    clear: 12,
    enter: 13,
    "\u21A9": 13,
    return: 13,
    esc: 27,
    escape: 27,
    space: 32,
    left: 37,
    up: 38,
    right: 39,
    down: 40,
    del: 46,
    delete: 46,
    ins: 45,
    insert: 45,
    home: 36,
    end: 35,
    pageup: 33,
    pagedown: 34,
    capslock: 20,
    num_0: 96,
    num_1: 97,
    num_2: 98,
    num_3: 99,
    num_4: 100,
    num_5: 101,
    num_6: 102,
    num_7: 103,
    num_8: 104,
    num_9: 105,
    num_multiply: 106,
    num_add: 107,
    num_enter: 108,
    num_subtract: 109,
    num_decimal: 110,
    num_divide: 111,
    "\u21EA": 20,
    ",": 188,
    ".": 190,
    "/": 191,
    "`": 192,
    "-": isff ? 173 : 189,
    "=": isff ? 61 : 187,
    ";": isff ? 59 : 186,
    "'": 222,
    "[": 219,
    "]": 221,
    "\\": 220
  };
  var _modifier = {
    // shiftKey
    "\u21E7": 16,
    shift: 16,
    // altKey
    "\u2325": 18,
    alt: 18,
    option: 18,
    // ctrlKey
    "\u2303": 17,
    ctrl: 17,
    control: 17,
    // metaKey
    "\u2318": 91,
    cmd: 91,
    command: 91
  };
  var modifierMap = {
    16: "shiftKey",
    18: "altKey",
    17: "ctrlKey",
    91: "metaKey",
    shiftKey: 16,
    ctrlKey: 17,
    altKey: 18,
    metaKey: 91
  };
  var _mods = {
    16: false,
    18: false,
    17: false,
    91: false
  };
  var _handlers = {};
  for (let k = 1; k < 20; k++) {
    _keyMap["f".concat(k)] = 111 + k;
  }
  var _downKeys = [];
  var winListendFocus = null;
  var _scope = "all";
  var elementEventMap = /* @__PURE__ */ new Map();
  var code = (x) => _keyMap[x.toLowerCase()] || _modifier[x.toLowerCase()] || x.toUpperCase().charCodeAt(0);
  var getKey = (x) => Object.keys(_keyMap).find((k) => _keyMap[k] === x);
  var getModifier = (x) => Object.keys(_modifier).find((k) => _modifier[k] === x);
  function setScope(scope) {
    _scope = scope || "all";
  }
  function getScope() {
    return _scope || "all";
  }
  function getPressedKeyCodes() {
    return _downKeys.slice(0);
  }
  function getPressedKeyString() {
    return _downKeys.map((c) => getKey(c) || getModifier(c) || String.fromCharCode(c));
  }
  function getAllKeyCodes() {
    const result = [];
    Object.keys(_handlers).forEach((k) => {
      _handlers[k].forEach((_ref) => {
        let {
          key,
          scope,
          mods,
          shortcut
        } = _ref;
        result.push({
          scope,
          shortcut,
          mods,
          keys: key.split("+").map((v) => code(v))
        });
      });
    });
    return result;
  }
  function filter(event) {
    const target = event.target || event.srcElement;
    const {
      tagName
    } = target;
    let flag = true;
    const isInput = tagName === "INPUT" && !["checkbox", "radio", "range", "button", "file", "reset", "submit", "color"].includes(target.type);
    if (target.isContentEditable || (isInput || tagName === "TEXTAREA" || tagName === "SELECT") && !target.readOnly) {
      flag = false;
    }
    return flag;
  }
  function isPressed(keyCode) {
    if (typeof keyCode === "string") {
      keyCode = code(keyCode);
    }
    return _downKeys.indexOf(keyCode) !== -1;
  }
  function deleteScope(scope, newScope) {
    let handlers;
    let i;
    if (!scope) scope = getScope();
    for (const key in _handlers) {
      if (Object.prototype.hasOwnProperty.call(_handlers, key)) {
        handlers = _handlers[key];
        for (i = 0; i < handlers.length; ) {
          if (handlers[i].scope === scope) {
            const deleteItems = handlers.splice(i, 1);
            deleteItems.forEach((_ref2) => {
              let {
                element
              } = _ref2;
              return removeKeyEvent(element);
            });
          } else {
            i++;
          }
        }
      }
    }
    if (getScope() === scope) setScope(newScope || "all");
  }
  function clearModifier(event) {
    let key = event.keyCode || event.which || event.charCode;
    const i = _downKeys.indexOf(key);
    if (i >= 0) {
      _downKeys.splice(i, 1);
    }
    if (event.key && event.key.toLowerCase() === "meta") {
      _downKeys.splice(0, _downKeys.length);
    }
    if (key === 93 || key === 224) key = 91;
    if (key in _mods) {
      _mods[key] = false;
      for (const k in _modifier) if (_modifier[k] === key) hotkeys[k] = false;
    }
  }
  function unbind(keysInfo) {
    if (typeof keysInfo === "undefined") {
      Object.keys(_handlers).forEach((key) => {
        Array.isArray(_handlers[key]) && _handlers[key].forEach((info) => eachUnbind(info));
        delete _handlers[key];
      });
      removeKeyEvent(null);
    } else if (Array.isArray(keysInfo)) {
      keysInfo.forEach((info) => {
        if (info.key) eachUnbind(info);
      });
    } else if (typeof keysInfo === "object") {
      if (keysInfo.key) eachUnbind(keysInfo);
    } else if (typeof keysInfo === "string") {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }
      let [scope, method] = args;
      if (typeof scope === "function") {
        method = scope;
        scope = "";
      }
      eachUnbind({
        key: keysInfo,
        scope,
        method,
        splitKey: "+"
      });
    }
  }
  var eachUnbind = (_ref3) => {
    let {
      key,
      scope,
      method,
      splitKey = "+"
    } = _ref3;
    const multipleKeys = getKeys(key);
    multipleKeys.forEach((originKey) => {
      const unbindKeys = originKey.split(splitKey);
      const len = unbindKeys.length;
      const lastKey = unbindKeys[len - 1];
      const keyCode = lastKey === "*" ? "*" : code(lastKey);
      if (!_handlers[keyCode]) return;
      if (!scope) scope = getScope();
      const mods = len > 1 ? getMods(_modifier, unbindKeys) : [];
      const unbindElements = [];
      _handlers[keyCode] = _handlers[keyCode].filter((record) => {
        const isMatchingMethod = method ? record.method === method : true;
        const isUnbind = isMatchingMethod && record.scope === scope && compareArray(record.mods, mods);
        if (isUnbind) unbindElements.push(record.element);
        return !isUnbind;
      });
      unbindElements.forEach((element) => removeKeyEvent(element));
    });
  };
  function eventHandler(event, handler, scope, element) {
    if (handler.element !== element) {
      return;
    }
    let modifiersMatch;
    if (handler.scope === scope || handler.scope === "all") {
      modifiersMatch = handler.mods.length > 0;
      for (const y in _mods) {
        if (Object.prototype.hasOwnProperty.call(_mods, y)) {
          if (!_mods[y] && handler.mods.indexOf(+y) > -1 || _mods[y] && handler.mods.indexOf(+y) === -1) {
            modifiersMatch = false;
          }
        }
      }
      if (handler.mods.length === 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91] || modifiersMatch || handler.shortcut === "*") {
        handler.keys = [];
        handler.keys = handler.keys.concat(_downKeys);
        if (handler.method(event, handler) === false) {
          if (event.preventDefault) event.preventDefault();
          else event.returnValue = false;
          if (event.stopPropagation) event.stopPropagation();
          if (event.cancelBubble) event.cancelBubble = true;
        }
      }
    }
  }
  function dispatch2(event, element) {
    const asterisk = _handlers["*"];
    let key = event.keyCode || event.which || event.charCode;
    if (!hotkeys.filter.call(this, event)) return;
    if (key === 93 || key === 224) key = 91;
    if (_downKeys.indexOf(key) === -1 && key !== 229) _downKeys.push(key);
    ["ctrlKey", "altKey", "shiftKey", "metaKey"].forEach((keyName) => {
      const keyNum = modifierMap[keyName];
      if (event[keyName] && _downKeys.indexOf(keyNum) === -1) {
        _downKeys.push(keyNum);
      } else if (!event[keyName] && _downKeys.indexOf(keyNum) > -1) {
        _downKeys.splice(_downKeys.indexOf(keyNum), 1);
      } else if (keyName === "metaKey" && event[keyName] && _downKeys.length === 3) {
        if (!(event.ctrlKey || event.shiftKey || event.altKey)) {
          _downKeys = _downKeys.slice(_downKeys.indexOf(keyNum));
        }
      }
    });
    if (key in _mods) {
      _mods[key] = true;
      for (const k in _modifier) {
        if (_modifier[k] === key) hotkeys[k] = true;
      }
      if (!asterisk) return;
    }
    for (const e in _mods) {
      if (Object.prototype.hasOwnProperty.call(_mods, e)) {
        _mods[e] = event[modifierMap[e]];
      }
    }
    if (event.getModifierState && !(event.altKey && !event.ctrlKey) && event.getModifierState("AltGraph")) {
      if (_downKeys.indexOf(17) === -1) {
        _downKeys.push(17);
      }
      if (_downKeys.indexOf(18) === -1) {
        _downKeys.push(18);
      }
      _mods[17] = true;
      _mods[18] = true;
    }
    const scope = getScope();
    if (asterisk) {
      for (let i = 0; i < asterisk.length; i++) {
        if (asterisk[i].scope === scope && (event.type === "keydown" && asterisk[i].keydown || event.type === "keyup" && asterisk[i].keyup)) {
          eventHandler(event, asterisk[i], scope, element);
        }
      }
    }
    if (!(key in _handlers)) return;
    const handlerKey = _handlers[key];
    const keyLen = handlerKey.length;
    for (let i = 0; i < keyLen; i++) {
      if (event.type === "keydown" && handlerKey[i].keydown || event.type === "keyup" && handlerKey[i].keyup) {
        if (handlerKey[i].key) {
          const record = handlerKey[i];
          const {
            splitKey
          } = record;
          const keyShortcut = record.key.split(splitKey);
          const _downKeysCurrent = [];
          for (let a = 0; a < keyShortcut.length; a++) {
            _downKeysCurrent.push(code(keyShortcut[a]));
          }
          if (_downKeysCurrent.sort().join("") === _downKeys.sort().join("")) {
            eventHandler(event, record, scope, element);
          }
        }
      }
    }
  }
  function hotkeys(key, option, method) {
    _downKeys = [];
    const keys = getKeys(key);
    let mods = [];
    let scope = "all";
    let element = document;
    let i = 0;
    let keyup = false;
    let keydown = true;
    let splitKey = "+";
    let capture = false;
    let single = false;
    if (method === void 0 && typeof option === "function") {
      method = option;
    }
    if (Object.prototype.toString.call(option) === "[object Object]") {
      if (option.scope) scope = option.scope;
      if (option.element) element = option.element;
      if (option.keyup) keyup = option.keyup;
      if (option.keydown !== void 0) keydown = option.keydown;
      if (option.capture !== void 0) capture = option.capture;
      if (typeof option.splitKey === "string") splitKey = option.splitKey;
      if (option.single === true) single = true;
    }
    if (typeof option === "string") scope = option;
    if (single) unbind(key, scope);
    for (; i < keys.length; i++) {
      key = keys[i].split(splitKey);
      mods = [];
      if (key.length > 1) mods = getMods(_modifier, key);
      key = key[key.length - 1];
      key = key === "*" ? "*" : code(key);
      if (!(key in _handlers)) _handlers[key] = [];
      _handlers[key].push({
        keyup,
        keydown,
        scope,
        mods,
        shortcut: keys[i],
        method,
        key: keys[i],
        splitKey,
        element
      });
    }
    if (typeof element !== "undefined" && window) {
      if (!elementEventMap.has(element)) {
        const keydownListener = function() {
          let event = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : window.event;
          return dispatch2(event, element);
        };
        const keyupListenr = function() {
          let event = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : window.event;
          dispatch2(event, element);
          clearModifier(event);
        };
        elementEventMap.set(element, {
          keydownListener,
          keyupListenr,
          capture
        });
        addEvent(element, "keydown", keydownListener, capture);
        addEvent(element, "keyup", keyupListenr, capture);
      }
      if (!winListendFocus) {
        const listener = () => {
          _downKeys = [];
        };
        winListendFocus = {
          listener,
          capture
        };
        addEvent(window, "focus", listener, capture);
      }
    }
  }
  function trigger(shortcut) {
    let scope = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "all";
    Object.keys(_handlers).forEach((key) => {
      const dataList = _handlers[key].filter((item) => item.scope === scope && item.shortcut === shortcut);
      dataList.forEach((data) => {
        if (data && data.method) {
          data.method();
        }
      });
    });
  }
  function removeKeyEvent(element) {
    const values = Object.values(_handlers).flat();
    const findindex = values.findIndex((_ref4) => {
      let {
        element: el
      } = _ref4;
      return el === element;
    });
    if (findindex < 0) {
      const {
        keydownListener,
        keyupListenr,
        capture
      } = elementEventMap.get(element) || {};
      if (keydownListener && keyupListenr) {
        removeEvent(element, "keyup", keyupListenr, capture);
        removeEvent(element, "keydown", keydownListener, capture);
        elementEventMap.delete(element);
      }
    }
    if (values.length <= 0 || elementEventMap.size <= 0) {
      const eventKeys = Object.keys(elementEventMap);
      eventKeys.forEach((el) => {
        const {
          keydownListener,
          keyupListenr,
          capture
        } = elementEventMap.get(el) || {};
        if (keydownListener && keyupListenr) {
          removeEvent(el, "keyup", keyupListenr, capture);
          removeEvent(el, "keydown", keydownListener, capture);
          elementEventMap.delete(el);
        }
      });
      elementEventMap.clear();
      Object.keys(_handlers).forEach((key) => delete _handlers[key]);
      if (winListendFocus) {
        const {
          listener,
          capture
        } = winListendFocus;
        removeEvent(window, "focus", listener, capture);
        winListendFocus = null;
      }
    }
  }
  var _api = {
    getPressedKeyString,
    setScope,
    getScope,
    deleteScope,
    getPressedKeyCodes,
    getAllKeyCodes,
    isPressed,
    filter,
    trigger,
    unbind,
    keyMap: _keyMap,
    modifier: _modifier,
    modifierMap
  };
  for (const a in _api) {
    if (Object.prototype.hasOwnProperty.call(_api, a)) {
      hotkeys[a] = _api[a];
    }
  }
  if (typeof window !== "undefined") {
    const _hotkeys = window.hotkeys;
    hotkeys.noConflict = (deep) => {
      if (deep && window.hotkeys === hotkeys) {
        window.hotkeys = _hotkeys;
      }
      return hotkeys;
    };
    window.hotkeys = hotkeys;
  }

  // node_modules/stimulus-use/dist/hotkeys.js
  function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
    }
    return t;
  }
  var defaultOptions4 = {
    debug: false,
    logger: console,
    dispatchEvent: true,
    eventPrefix: true
  };
  var StimulusUse = class {
    constructor(controller, options = {}) {
      var _a, _b, _c;
      this.log = (functionName, args) => {
        if (!this.debug) return;
        this.logger.groupCollapsed(`%c${this.controller.identifier} %c#${functionName}`, "color: #3B82F6", "color: unset");
        this.logger.log(Object.assign({
          controllerId: this.controllerId
        }, args));
        this.logger.groupEnd();
      };
      this.warn = (message2) => {
        this.logger.warn(`%c${this.controller.identifier} %c${message2}`, "color: #3B82F6; font-weight: bold", "color: unset");
      };
      this.dispatch = (eventName, details = {}) => {
        if (this.dispatchEvent) {
          const { event } = details, eventDetails = __rest(details, ["event"]);
          const customEvent = this.extendedEvent(eventName, event || null, eventDetails);
          this.targetElement.dispatchEvent(customEvent);
          this.log("dispatchEvent", Object.assign({
            eventName: customEvent.type
          }, eventDetails));
        }
      };
      this.call = (methodName, args = {}) => {
        const method = this.controller[methodName];
        if (typeof method == "function") {
          return method.call(this.controller, args);
        }
      };
      this.extendedEvent = (name, event, detail) => {
        const { bubbles, cancelable, composed } = event || {
          bubbles: true,
          cancelable: true,
          composed: true
        };
        if (event) {
          Object.assign(detail, {
            originalEvent: event
          });
        }
        const customEvent = new CustomEvent(this.composeEventName(name), {
          bubbles,
          cancelable,
          composed,
          detail
        });
        return customEvent;
      };
      this.composeEventName = (name) => {
        let composedName = name;
        if (this.eventPrefix === true) {
          composedName = `${this.controller.identifier}:${name}`;
        } else if (typeof this.eventPrefix === "string") {
          composedName = `${this.eventPrefix}:${name}`;
        }
        return composedName;
      };
      this.debug = (_b = (_a = options === null || options === void 0 ? void 0 : options.debug) !== null && _a !== void 0 ? _a : controller.application.stimulusUseDebug) !== null && _b !== void 0 ? _b : defaultOptions4.debug;
      this.logger = (_c = options === null || options === void 0 ? void 0 : options.logger) !== null && _c !== void 0 ? _c : defaultOptions4.logger;
      this.controller = controller;
      this.controllerId = controller.element.id || controller.element.dataset.id;
      this.targetElement = (options === null || options === void 0 ? void 0 : options.element) || controller.element;
      const { dispatchEvent: dispatchEvent2, eventPrefix } = Object.assign({}, defaultOptions4, options);
      Object.assign(this, {
        dispatchEvent: dispatchEvent2,
        eventPrefix
      });
      this.controllerInitialize = controller.initialize.bind(controller);
      this.controllerConnect = controller.connect.bind(controller);
      this.controllerDisconnect = controller.disconnect.bind(controller);
    }
  };
  var UseHotkeys = class extends StimulusUse {
    constructor(controller, hotkeysOptions) {
      super(controller, hotkeysOptions);
      this.bind = () => {
        for (const [hotkey, definition] of Object.entries(this.hotkeysOptions.hotkeys)) {
          const handler = definition.handler.bind(this.controller);
          hotkeys(hotkey, definition.options, (e) => handler(e, e));
        }
      };
      this.unbind = () => {
        for (const hotkey in this.hotkeysOptions.hotkeys) {
          hotkeys.unbind(hotkey);
        }
      };
      this.controller = controller;
      this.hotkeysOptions = hotkeysOptions;
      this.enhanceController();
      this.bind();
    }
    enhanceController() {
      if (this.hotkeysOptions.filter) {
        hotkeys.filter = this.hotkeysOptions.filter;
      }
      const controllerDisconnect = this.controller.disconnect.bind(this.controller);
      const disconnect = () => {
        this.unbind();
        controllerDisconnect();
      };
      Object.assign(this.controller, {
        disconnect
      });
    }
  };
  var convertSimpleHotkeyDefinition = (definition) => ({
    handler: definition[0],
    options: {
      element: definition[1]
    }
  });
  var coerceOptions = (options) => {
    if (!options.hotkeys) {
      const hotkeys2 = {};
      Object.entries(options).forEach(([hotkey, definition]) => {
        Object.defineProperty(hotkeys2, hotkey, {
          value: convertSimpleHotkeyDefinition(definition),
          writable: false,
          enumerable: true
        });
      });
      options = {
        hotkeys: hotkeys2
      };
    }
    return options;
  };
  var useHotkeys = (controller, options) => new UseHotkeys(controller, coerceOptions(options));

  // ../../app/ui/components/rails_ui/command/index.js
  var command_default = class extends Controller {
    connect() {
      useHotkeys(this, {
        ...this.hotkeysValue,
        "ArrowUp": (event) => this.navigateItems(event, -1),
        "ArrowDown": (event) => this.navigateItems(event, 1),
        "Enter": (event) => this.selectItem(event)
      });
      this.currentIndex = -1;
    }
    navigateItems(event, direction) {
      event.preventDefault();
      this.currentIndex += direction;
      if (this.currentIndex < 0) this.currentIndex = this.itemTargets.length - 1;
      if (this.currentIndex >= this.itemTargets.length) this.currentIndex = 0;
      this.highlightItem();
    }
    highlightItem() {
      this.itemTargets.forEach((item, index) => {
        if (index === this.currentIndex) {
          item.setAttribute("aria-selected", "true");
          item.scrollIntoView({ block: "nearest" });
        } else {
          item.setAttribute("aria-selected", "false");
        }
      });
    }
    selectItem(event) {
      event.preventDefault();
      const selectedItem = this.itemTargets[this.currentIndex];
      if (selectedItem) {
        console.log("Selected:", selectedItem.dataset.value);
      }
    }
    search() {
      const query = this.inputTarget.value.toLowerCase();
      this.itemTargets.forEach((item) => {
        const matches = item.textContent.toLowerCase().includes(query);
        item.style.display = matches ? "" : "none";
      });
    }
  };
  __publicField(command_default, "targets", ["input", "list", "item"]);
  __publicField(command_default, "values", {
    hotkeys: Object
  });

  // ../../app/ui/components/rails_ui/context_menu/index.js
  var context_menu_exports = {};
  __export(context_menu_exports, {
    default: () => context_menu_default
  });

  // node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs
  var min = Math.min;
  var max = Math.max;
  var round = Math.round;
  var floor = Math.floor;
  var createCoords = (v) => ({
    x: v,
    y: v
  });
  var oppositeSideMap = {
    left: "right",
    right: "left",
    bottom: "top",
    top: "bottom"
  };
  var oppositeAlignmentMap = {
    start: "end",
    end: "start"
  };
  function clamp(start2, value, end) {
    return max(start2, min(value, end));
  }
  function evaluate(value, param) {
    return typeof value === "function" ? value(param) : value;
  }
  function getSide(placement) {
    return placement.split("-")[0];
  }
  function getAlignment(placement) {
    return placement.split("-")[1];
  }
  function getOppositeAxis(axis) {
    return axis === "x" ? "y" : "x";
  }
  function getAxisLength(axis) {
    return axis === "y" ? "height" : "width";
  }
  function getSideAxis(placement) {
    return ["top", "bottom"].includes(getSide(placement)) ? "y" : "x";
  }
  function getAlignmentAxis(placement) {
    return getOppositeAxis(getSideAxis(placement));
  }
  function getAlignmentSides(placement, rects, rtl) {
    if (rtl === void 0) {
      rtl = false;
    }
    const alignment = getAlignment(placement);
    const alignmentAxis = getAlignmentAxis(placement);
    const length = getAxisLength(alignmentAxis);
    let mainAlignmentSide = alignmentAxis === "x" ? alignment === (rtl ? "end" : "start") ? "right" : "left" : alignment === "start" ? "bottom" : "top";
    if (rects.reference[length] > rects.floating[length]) {
      mainAlignmentSide = getOppositePlacement(mainAlignmentSide);
    }
    return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];
  }
  function getExpandedPlacements(placement) {
    const oppositePlacement = getOppositePlacement(placement);
    return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];
  }
  function getOppositeAlignmentPlacement(placement) {
    return placement.replace(/start|end/g, (alignment) => oppositeAlignmentMap[alignment]);
  }
  function getSideList(side, isStart, rtl) {
    const lr = ["left", "right"];
    const rl = ["right", "left"];
    const tb = ["top", "bottom"];
    const bt = ["bottom", "top"];
    switch (side) {
      case "top":
      case "bottom":
        if (rtl) return isStart ? rl : lr;
        return isStart ? lr : rl;
      case "left":
      case "right":
        return isStart ? tb : bt;
      default:
        return [];
    }
  }
  function getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {
    const alignment = getAlignment(placement);
    let list = getSideList(getSide(placement), direction === "start", rtl);
    if (alignment) {
      list = list.map((side) => side + "-" + alignment);
      if (flipAlignment) {
        list = list.concat(list.map(getOppositeAlignmentPlacement));
      }
    }
    return list;
  }
  function getOppositePlacement(placement) {
    return placement.replace(/left|right|bottom|top/g, (side) => oppositeSideMap[side]);
  }
  function expandPaddingObject(padding) {
    return {
      top: 0,
      right: 0,
      bottom: 0,
      left: 0,
      ...padding
    };
  }
  function getPaddingObject(padding) {
    return typeof padding !== "number" ? expandPaddingObject(padding) : {
      top: padding,
      right: padding,
      bottom: padding,
      left: padding
    };
  }
  function rectToClientRect(rect) {
    const {
      x,
      y,
      width,
      height
    } = rect;
    return {
      width,
      height,
      top: y,
      left: x,
      right: x + width,
      bottom: y + height,
      x,
      y
    };
  }

  // node_modules/@floating-ui/core/dist/floating-ui.core.mjs
  function computeCoordsFromPlacement(_ref, placement, rtl) {
    let {
      reference,
      floating
    } = _ref;
    const sideAxis = getSideAxis(placement);
    const alignmentAxis = getAlignmentAxis(placement);
    const alignLength = getAxisLength(alignmentAxis);
    const side = getSide(placement);
    const isVertical = sideAxis === "y";
    const commonX = reference.x + reference.width / 2 - floating.width / 2;
    const commonY = reference.y + reference.height / 2 - floating.height / 2;
    const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;
    let coords;
    switch (side) {
      case "top":
        coords = {
          x: commonX,
          y: reference.y - floating.height
        };
        break;
      case "bottom":
        coords = {
          x: commonX,
          y: reference.y + reference.height
        };
        break;
      case "right":
        coords = {
          x: reference.x + reference.width,
          y: commonY
        };
        break;
      case "left":
        coords = {
          x: reference.x - floating.width,
          y: commonY
        };
        break;
      default:
        coords = {
          x: reference.x,
          y: reference.y
        };
    }
    switch (getAlignment(placement)) {
      case "start":
        coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);
        break;
      case "end":
        coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);
        break;
    }
    return coords;
  }
  var computePosition = async (reference, floating, config) => {
    const {
      placement = "bottom",
      strategy = "absolute",
      middleware = [],
      platform: platform2
    } = config;
    const validMiddleware = middleware.filter(Boolean);
    const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(floating));
    let rects = await platform2.getElementRects({
      reference,
      floating,
      strategy
    });
    let {
      x,
      y
    } = computeCoordsFromPlacement(rects, placement, rtl);
    let statefulPlacement = placement;
    let middlewareData = {};
    let resetCount = 0;
    for (let i = 0; i < validMiddleware.length; i++) {
      const {
        name,
        fn
      } = validMiddleware[i];
      const {
        x: nextX,
        y: nextY,
        data,
        reset
      } = await fn({
        x,
        y,
        initialPlacement: placement,
        placement: statefulPlacement,
        strategy,
        middlewareData,
        rects,
        platform: platform2,
        elements: {
          reference,
          floating
        }
      });
      x = nextX != null ? nextX : x;
      y = nextY != null ? nextY : y;
      middlewareData = {
        ...middlewareData,
        [name]: {
          ...middlewareData[name],
          ...data
        }
      };
      if (reset && resetCount <= 50) {
        resetCount++;
        if (typeof reset === "object") {
          if (reset.placement) {
            statefulPlacement = reset.placement;
          }
          if (reset.rects) {
            rects = reset.rects === true ? await platform2.getElementRects({
              reference,
              floating,
              strategy
            }) : reset.rects;
          }
          ({
            x,
            y
          } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));
        }
        i = -1;
      }
    }
    return {
      x,
      y,
      placement: statefulPlacement,
      strategy,
      middlewareData
    };
  };
  async function detectOverflow(state, options) {
    var _await$platform$isEle;
    if (options === void 0) {
      options = {};
    }
    const {
      x,
      y,
      platform: platform2,
      rects,
      elements,
      strategy
    } = state;
    const {
      boundary = "clippingAncestors",
      rootBoundary = "viewport",
      elementContext = "floating",
      altBoundary = false,
      padding = 0
    } = evaluate(options, state);
    const paddingObject = getPaddingObject(padding);
    const altContext = elementContext === "floating" ? "reference" : "floating";
    const element = elements[altBoundary ? altContext : elementContext];
    const clippingClientRect = rectToClientRect(await platform2.getClippingRect({
      element: ((_await$platform$isEle = await (platform2.isElement == null ? void 0 : platform2.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || await (platform2.getDocumentElement == null ? void 0 : platform2.getDocumentElement(elements.floating)),
      boundary,
      rootBoundary,
      strategy
    }));
    const rect = elementContext === "floating" ? {
      x,
      y,
      width: rects.floating.width,
      height: rects.floating.height
    } : rects.reference;
    const offsetParent = await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(elements.floating));
    const offsetScale = await (platform2.isElement == null ? void 0 : platform2.isElement(offsetParent)) ? await (platform2.getScale == null ? void 0 : platform2.getScale(offsetParent)) || {
      x: 1,
      y: 1
    } : {
      x: 1,
      y: 1
    };
    const elementClientRect = rectToClientRect(platform2.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform2.convertOffsetParentRelativeRectToViewportRelativeRect({
      elements,
      rect,
      offsetParent,
      strategy
    }) : rect);
    return {
      top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,
      bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,
      left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,
      right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x
    };
  }
  var arrow = (options) => ({
    name: "arrow",
    options,
    async fn(state) {
      const {
        x,
        y,
        placement,
        rects,
        platform: platform2,
        elements,
        middlewareData
      } = state;
      const {
        element,
        padding = 0
      } = evaluate(options, state) || {};
      if (element == null) {
        return {};
      }
      const paddingObject = getPaddingObject(padding);
      const coords = {
        x,
        y
      };
      const axis = getAlignmentAxis(placement);
      const length = getAxisLength(axis);
      const arrowDimensions = await platform2.getDimensions(element);
      const isYAxis = axis === "y";
      const minProp = isYAxis ? "top" : "left";
      const maxProp = isYAxis ? "bottom" : "right";
      const clientProp = isYAxis ? "clientHeight" : "clientWidth";
      const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];
      const startDiff = coords[axis] - rects.reference[axis];
      const arrowOffsetParent = await (platform2.getOffsetParent == null ? void 0 : platform2.getOffsetParent(element));
      let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;
      if (!clientSize || !await (platform2.isElement == null ? void 0 : platform2.isElement(arrowOffsetParent))) {
        clientSize = elements.floating[clientProp] || rects.floating[length];
      }
      const centerToReference = endDiff / 2 - startDiff / 2;
      const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;
      const minPadding = min(paddingObject[minProp], largestPossiblePadding);
      const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);
      const min$1 = minPadding;
      const max2 = clientSize - arrowDimensions[length] - maxPadding;
      const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;
      const offset3 = clamp(min$1, center, max2);
      const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset3 && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;
      const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max2 : 0;
      return {
        [axis]: coords[axis] + alignmentOffset,
        data: {
          [axis]: offset3,
          centerOffset: center - offset3 - alignmentOffset,
          ...shouldAddOffset && {
            alignmentOffset
          }
        },
        reset: shouldAddOffset
      };
    }
  });
  var flip = function(options) {
    if (options === void 0) {
      options = {};
    }
    return {
      name: "flip",
      options,
      async fn(state) {
        var _middlewareData$arrow, _middlewareData$flip;
        const {
          placement,
          middlewareData,
          rects,
          initialPlacement,
          platform: platform2,
          elements
        } = state;
        const {
          mainAxis: checkMainAxis = true,
          crossAxis: checkCrossAxis = true,
          fallbackPlacements: specifiedFallbackPlacements,
          fallbackStrategy = "bestFit",
          fallbackAxisSideDirection = "none",
          flipAlignment = true,
          ...detectOverflowOptions
        } = evaluate(options, state);
        if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {
          return {};
        }
        const side = getSide(placement);
        const initialSideAxis = getSideAxis(initialPlacement);
        const isBasePlacement = getSide(initialPlacement) === initialPlacement;
        const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));
        const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));
        const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== "none";
        if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {
          fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));
        }
        const placements2 = [initialPlacement, ...fallbackPlacements];
        const overflow = await detectOverflow(state, detectOverflowOptions);
        const overflows = [];
        let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];
        if (checkMainAxis) {
          overflows.push(overflow[side]);
        }
        if (checkCrossAxis) {
          const sides2 = getAlignmentSides(placement, rects, rtl);
          overflows.push(overflow[sides2[0]], overflow[sides2[1]]);
        }
        overflowsData = [...overflowsData, {
          placement,
          overflows
        }];
        if (!overflows.every((side2) => side2 <= 0)) {
          var _middlewareData$flip2, _overflowsData$filter;
          const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;
          const nextPlacement = placements2[nextIndex];
          if (nextPlacement) {
            return {
              data: {
                index: nextIndex,
                overflows: overflowsData
              },
              reset: {
                placement: nextPlacement
              }
            };
          }
          let resetPlacement = (_overflowsData$filter = overflowsData.filter((d) => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;
          if (!resetPlacement) {
            switch (fallbackStrategy) {
              case "bestFit": {
                var _overflowsData$filter2;
                const placement2 = (_overflowsData$filter2 = overflowsData.filter((d) => {
                  if (hasFallbackAxisSideDirection) {
                    const currentSideAxis = getSideAxis(d.placement);
                    return currentSideAxis === initialSideAxis || // Create a bias to the `y` side axis due to horizontal
                    // reading directions favoring greater width.
                    currentSideAxis === "y";
                  }
                  return true;
                }).map((d) => [d.placement, d.overflows.filter((overflow2) => overflow2 > 0).reduce((acc, overflow2) => acc + overflow2, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];
                if (placement2) {
                  resetPlacement = placement2;
                }
                break;
              }
              case "initialPlacement":
                resetPlacement = initialPlacement;
                break;
            }
          }
          if (placement !== resetPlacement) {
            return {
              reset: {
                placement: resetPlacement
              }
            };
          }
        }
        return {};
      }
    };
  };
  async function convertValueToCoords(state, options) {
    const {
      placement,
      platform: platform2,
      elements
    } = state;
    const rtl = await (platform2.isRTL == null ? void 0 : platform2.isRTL(elements.floating));
    const side = getSide(placement);
    const alignment = getAlignment(placement);
    const isVertical = getSideAxis(placement) === "y";
    const mainAxisMulti = ["left", "top"].includes(side) ? -1 : 1;
    const crossAxisMulti = rtl && isVertical ? -1 : 1;
    const rawValue = evaluate(options, state);
    let {
      mainAxis,
      crossAxis,
      alignmentAxis
    } = typeof rawValue === "number" ? {
      mainAxis: rawValue,
      crossAxis: 0,
      alignmentAxis: null
    } : {
      mainAxis: 0,
      crossAxis: 0,
      alignmentAxis: null,
      ...rawValue
    };
    if (alignment && typeof alignmentAxis === "number") {
      crossAxis = alignment === "end" ? alignmentAxis * -1 : alignmentAxis;
    }
    return isVertical ? {
      x: crossAxis * crossAxisMulti,
      y: mainAxis * mainAxisMulti
    } : {
      x: mainAxis * mainAxisMulti,
      y: crossAxis * crossAxisMulti
    };
  }
  var offset = function(options) {
    if (options === void 0) {
      options = 0;
    }
    return {
      name: "offset",
      options,
      async fn(state) {
        var _middlewareData$offse, _middlewareData$arrow;
        const {
          x,
          y,
          placement,
          middlewareData
        } = state;
        const diffCoords = await convertValueToCoords(state, options);
        if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {
          return {};
        }
        return {
          x: x + diffCoords.x,
          y: y + diffCoords.y,
          data: {
            ...diffCoords,
            placement
          }
        };
      }
    };
  };
  var shift = function(options) {
    if (options === void 0) {
      options = {};
    }
    return {
      name: "shift",
      options,
      async fn(state) {
        const {
          x,
          y,
          placement
        } = state;
        const {
          mainAxis: checkMainAxis = true,
          crossAxis: checkCrossAxis = false,
          limiter = {
            fn: (_ref) => {
              let {
                x: x2,
                y: y2
              } = _ref;
              return {
                x: x2,
                y: y2
              };
            }
          },
          ...detectOverflowOptions
        } = evaluate(options, state);
        const coords = {
          x,
          y
        };
        const overflow = await detectOverflow(state, detectOverflowOptions);
        const crossAxis = getSideAxis(getSide(placement));
        const mainAxis = getOppositeAxis(crossAxis);
        let mainAxisCoord = coords[mainAxis];
        let crossAxisCoord = coords[crossAxis];
        if (checkMainAxis) {
          const minSide = mainAxis === "y" ? "top" : "left";
          const maxSide = mainAxis === "y" ? "bottom" : "right";
          const min2 = mainAxisCoord + overflow[minSide];
          const max2 = mainAxisCoord - overflow[maxSide];
          mainAxisCoord = clamp(min2, mainAxisCoord, max2);
        }
        if (checkCrossAxis) {
          const minSide = crossAxis === "y" ? "top" : "left";
          const maxSide = crossAxis === "y" ? "bottom" : "right";
          const min2 = crossAxisCoord + overflow[minSide];
          const max2 = crossAxisCoord - overflow[maxSide];
          crossAxisCoord = clamp(min2, crossAxisCoord, max2);
        }
        const limitedCoords = limiter.fn({
          ...state,
          [mainAxis]: mainAxisCoord,
          [crossAxis]: crossAxisCoord
        });
        return {
          ...limitedCoords,
          data: {
            x: limitedCoords.x - x,
            y: limitedCoords.y - y
          }
        };
      }
    };
  };

  // node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs
  function getNodeName(node) {
    if (isNode(node)) {
      return (node.nodeName || "").toLowerCase();
    }
    return "#document";
  }
  function getWindow(node) {
    var _node$ownerDocument;
    return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;
  }
  function getDocumentElement(node) {
    var _ref;
    return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;
  }
  function isNode(value) {
    return value instanceof Node || value instanceof getWindow(value).Node;
  }
  function isElement(value) {
    return value instanceof Element || value instanceof getWindow(value).Element;
  }
  function isHTMLElement(value) {
    return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;
  }
  function isShadowRoot(value) {
    if (typeof ShadowRoot === "undefined") {
      return false;
    }
    return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;
  }
  function isOverflowElement(element) {
    const {
      overflow,
      overflowX,
      overflowY,
      display
    } = getComputedStyle2(element);
    return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !["inline", "contents"].includes(display);
  }
  function isTableElement(element) {
    return ["table", "td", "th"].includes(getNodeName(element));
  }
  function isTopLayer(element) {
    return [":popover-open", ":modal"].some((selector) => {
      try {
        return element.matches(selector);
      } catch (e) {
        return false;
      }
    });
  }
  function isContainingBlock(element) {
    const webkit = isWebKit();
    const css = getComputedStyle2(element);
    return css.transform !== "none" || css.perspective !== "none" || (css.containerType ? css.containerType !== "normal" : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== "none" : false) || !webkit && (css.filter ? css.filter !== "none" : false) || ["transform", "perspective", "filter"].some((value) => (css.willChange || "").includes(value)) || ["paint", "layout", "strict", "content"].some((value) => (css.contain || "").includes(value));
  }
  function getContainingBlock(element) {
    let currentNode = getParentNode(element);
    while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {
      if (isTopLayer(currentNode)) {
        return null;
      }
      if (isContainingBlock(currentNode)) {
        return currentNode;
      }
      currentNode = getParentNode(currentNode);
    }
    return null;
  }
  function isWebKit() {
    if (typeof CSS === "undefined" || !CSS.supports) return false;
    return CSS.supports("-webkit-backdrop-filter", "none");
  }
  function isLastTraversableNode(node) {
    return ["html", "body", "#document"].includes(getNodeName(node));
  }
  function getComputedStyle2(element) {
    return getWindow(element).getComputedStyle(element);
  }
  function getNodeScroll(element) {
    if (isElement(element)) {
      return {
        scrollLeft: element.scrollLeft,
        scrollTop: element.scrollTop
      };
    }
    return {
      scrollLeft: element.scrollX,
      scrollTop: element.scrollY
    };
  }
  function getParentNode(node) {
    if (getNodeName(node) === "html") {
      return node;
    }
    const result = (
      // Step into the shadow DOM of the parent of a slotted node.
      node.assignedSlot || // DOM Element detected.
      node.parentNode || // ShadowRoot detected.
      isShadowRoot(node) && node.host || // Fallback.
      getDocumentElement(node)
    );
    return isShadowRoot(result) ? result.host : result;
  }
  function getNearestOverflowAncestor(node) {
    const parentNode = getParentNode(node);
    if (isLastTraversableNode(parentNode)) {
      return node.ownerDocument ? node.ownerDocument.body : node.body;
    }
    if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {
      return parentNode;
    }
    return getNearestOverflowAncestor(parentNode);
  }
  function getOverflowAncestors(node, list, traverseIframes) {
    var _node$ownerDocument2;
    if (list === void 0) {
      list = [];
    }
    if (traverseIframes === void 0) {
      traverseIframes = true;
    }
    const scrollableAncestor = getNearestOverflowAncestor(node);
    const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);
    const win = getWindow(scrollableAncestor);
    if (isBody) {
      return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);
    }
    return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));
  }

  // node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs
  function getCssDimensions(element) {
    const css = getComputedStyle2(element);
    let width = parseFloat(css.width) || 0;
    let height = parseFloat(css.height) || 0;
    const hasOffset = isHTMLElement(element);
    const offsetWidth = hasOffset ? element.offsetWidth : width;
    const offsetHeight = hasOffset ? element.offsetHeight : height;
    const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;
    if (shouldFallback) {
      width = offsetWidth;
      height = offsetHeight;
    }
    return {
      width,
      height,
      $: shouldFallback
    };
  }
  function unwrapElement(element) {
    return !isElement(element) ? element.contextElement : element;
  }
  function getScale(element) {
    const domElement = unwrapElement(element);
    if (!isHTMLElement(domElement)) {
      return createCoords(1);
    }
    const rect = domElement.getBoundingClientRect();
    const {
      width,
      height,
      $
    } = getCssDimensions(domElement);
    let x = ($ ? round(rect.width) : rect.width) / width;
    let y = ($ ? round(rect.height) : rect.height) / height;
    if (!x || !Number.isFinite(x)) {
      x = 1;
    }
    if (!y || !Number.isFinite(y)) {
      y = 1;
    }
    return {
      x,
      y
    };
  }
  var noOffsets = /* @__PURE__ */ createCoords(0);
  function getVisualOffsets(element) {
    const win = getWindow(element);
    if (!isWebKit() || !win.visualViewport) {
      return noOffsets;
    }
    return {
      x: win.visualViewport.offsetLeft,
      y: win.visualViewport.offsetTop
    };
  }
  function shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {
    if (isFixed === void 0) {
      isFixed = false;
    }
    if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {
      return false;
    }
    return isFixed;
  }
  function getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {
    if (includeScale === void 0) {
      includeScale = false;
    }
    if (isFixedStrategy === void 0) {
      isFixedStrategy = false;
    }
    const clientRect = element.getBoundingClientRect();
    const domElement = unwrapElement(element);
    let scale = createCoords(1);
    if (includeScale) {
      if (offsetParent) {
        if (isElement(offsetParent)) {
          scale = getScale(offsetParent);
        }
      } else {
        scale = getScale(element);
      }
    }
    const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);
    let x = (clientRect.left + visualOffsets.x) / scale.x;
    let y = (clientRect.top + visualOffsets.y) / scale.y;
    let width = clientRect.width / scale.x;
    let height = clientRect.height / scale.y;
    if (domElement) {
      const win = getWindow(domElement);
      const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;
      let currentWin = win;
      let currentIFrame = currentWin.frameElement;
      while (currentIFrame && offsetParent && offsetWin !== currentWin) {
        const iframeScale = getScale(currentIFrame);
        const iframeRect = currentIFrame.getBoundingClientRect();
        const css = getComputedStyle2(currentIFrame);
        const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;
        const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;
        x *= iframeScale.x;
        y *= iframeScale.y;
        width *= iframeScale.x;
        height *= iframeScale.y;
        x += left;
        y += top;
        currentWin = getWindow(currentIFrame);
        currentIFrame = currentWin.frameElement;
      }
    }
    return rectToClientRect({
      width,
      height,
      x,
      y
    });
  }
  function convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {
    let {
      elements,
      rect,
      offsetParent,
      strategy
    } = _ref;
    const isFixed = strategy === "fixed";
    const documentElement = getDocumentElement(offsetParent);
    const topLayer = elements ? isTopLayer(elements.floating) : false;
    if (offsetParent === documentElement || topLayer && isFixed) {
      return rect;
    }
    let scroll = {
      scrollLeft: 0,
      scrollTop: 0
    };
    let scale = createCoords(1);
    const offsets = createCoords(0);
    const isOffsetParentAnElement = isHTMLElement(offsetParent);
    if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {
      if (getNodeName(offsetParent) !== "body" || isOverflowElement(documentElement)) {
        scroll = getNodeScroll(offsetParent);
      }
      if (isHTMLElement(offsetParent)) {
        const offsetRect = getBoundingClientRect(offsetParent);
        scale = getScale(offsetParent);
        offsets.x = offsetRect.x + offsetParent.clientLeft;
        offsets.y = offsetRect.y + offsetParent.clientTop;
      }
    }
    return {
      width: rect.width * scale.x,
      height: rect.height * scale.y,
      x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,
      y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y
    };
  }
  function getClientRects(element) {
    return Array.from(element.getClientRects());
  }
  function getWindowScrollBarX(element) {
    return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;
  }
  function getDocumentRect(element) {
    const html = getDocumentElement(element);
    const scroll = getNodeScroll(element);
    const body = element.ownerDocument.body;
    const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);
    const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);
    let x = -scroll.scrollLeft + getWindowScrollBarX(element);
    const y = -scroll.scrollTop;
    if (getComputedStyle2(body).direction === "rtl") {
      x += max(html.clientWidth, body.clientWidth) - width;
    }
    return {
      width,
      height,
      x,
      y
    };
  }
  function getViewportRect(element, strategy) {
    const win = getWindow(element);
    const html = getDocumentElement(element);
    const visualViewport = win.visualViewport;
    let width = html.clientWidth;
    let height = html.clientHeight;
    let x = 0;
    let y = 0;
    if (visualViewport) {
      width = visualViewport.width;
      height = visualViewport.height;
      const visualViewportBased = isWebKit();
      if (!visualViewportBased || visualViewportBased && strategy === "fixed") {
        x = visualViewport.offsetLeft;
        y = visualViewport.offsetTop;
      }
    }
    return {
      width,
      height,
      x,
      y
    };
  }
  function getInnerBoundingClientRect(element, strategy) {
    const clientRect = getBoundingClientRect(element, true, strategy === "fixed");
    const top = clientRect.top + element.clientTop;
    const left = clientRect.left + element.clientLeft;
    const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);
    const width = element.clientWidth * scale.x;
    const height = element.clientHeight * scale.y;
    const x = left * scale.x;
    const y = top * scale.y;
    return {
      width,
      height,
      x,
      y
    };
  }
  function getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {
    let rect;
    if (clippingAncestor === "viewport") {
      rect = getViewportRect(element, strategy);
    } else if (clippingAncestor === "document") {
      rect = getDocumentRect(getDocumentElement(element));
    } else if (isElement(clippingAncestor)) {
      rect = getInnerBoundingClientRect(clippingAncestor, strategy);
    } else {
      const visualOffsets = getVisualOffsets(element);
      rect = {
        ...clippingAncestor,
        x: clippingAncestor.x - visualOffsets.x,
        y: clippingAncestor.y - visualOffsets.y
      };
    }
    return rectToClientRect(rect);
  }
  function hasFixedPositionAncestor(element, stopNode) {
    const parentNode = getParentNode(element);
    if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {
      return false;
    }
    return getComputedStyle2(parentNode).position === "fixed" || hasFixedPositionAncestor(parentNode, stopNode);
  }
  function getClippingElementAncestors(element, cache2) {
    const cachedResult = cache2.get(element);
    if (cachedResult) {
      return cachedResult;
    }
    let result = getOverflowAncestors(element, [], false).filter((el) => isElement(el) && getNodeName(el) !== "body");
    let currentContainingBlockComputedStyle = null;
    const elementIsFixed = getComputedStyle2(element).position === "fixed";
    let currentNode = elementIsFixed ? getParentNode(element) : element;
    while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {
      const computedStyle = getComputedStyle2(currentNode);
      const currentNodeIsContaining = isContainingBlock(currentNode);
      if (!currentNodeIsContaining && computedStyle.position === "fixed") {
        currentContainingBlockComputedStyle = null;
      }
      const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === "static" && !!currentContainingBlockComputedStyle && ["absolute", "fixed"].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);
      if (shouldDropCurrentNode) {
        result = result.filter((ancestor) => ancestor !== currentNode);
      } else {
        currentContainingBlockComputedStyle = computedStyle;
      }
      currentNode = getParentNode(currentNode);
    }
    cache2.set(element, result);
    return result;
  }
  function getClippingRect(_ref) {
    let {
      element,
      boundary,
      rootBoundary,
      strategy
    } = _ref;
    const elementClippingAncestors = boundary === "clippingAncestors" ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);
    const clippingAncestors = [...elementClippingAncestors, rootBoundary];
    const firstClippingAncestor = clippingAncestors[0];
    const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {
      const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);
      accRect.top = max(rect.top, accRect.top);
      accRect.right = min(rect.right, accRect.right);
      accRect.bottom = min(rect.bottom, accRect.bottom);
      accRect.left = max(rect.left, accRect.left);
      return accRect;
    }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));
    return {
      width: clippingRect.right - clippingRect.left,
      height: clippingRect.bottom - clippingRect.top,
      x: clippingRect.left,
      y: clippingRect.top
    };
  }
  function getDimensions(element) {
    const {
      width,
      height
    } = getCssDimensions(element);
    return {
      width,
      height
    };
  }
  function getRectRelativeToOffsetParent(element, offsetParent, strategy) {
    const isOffsetParentAnElement = isHTMLElement(offsetParent);
    const documentElement = getDocumentElement(offsetParent);
    const isFixed = strategy === "fixed";
    const rect = getBoundingClientRect(element, true, isFixed, offsetParent);
    let scroll = {
      scrollLeft: 0,
      scrollTop: 0
    };
    const offsets = createCoords(0);
    if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {
      if (getNodeName(offsetParent) !== "body" || isOverflowElement(documentElement)) {
        scroll = getNodeScroll(offsetParent);
      }
      if (isOffsetParentAnElement) {
        const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);
        offsets.x = offsetRect.x + offsetParent.clientLeft;
        offsets.y = offsetRect.y + offsetParent.clientTop;
      } else if (documentElement) {
        offsets.x = getWindowScrollBarX(documentElement);
      }
    }
    const x = rect.left + scroll.scrollLeft - offsets.x;
    const y = rect.top + scroll.scrollTop - offsets.y;
    return {
      x,
      y,
      width: rect.width,
      height: rect.height
    };
  }
  function isStaticPositioned(element) {
    return getComputedStyle2(element).position === "static";
  }
  function getTrueOffsetParent(element, polyfill) {
    if (!isHTMLElement(element) || getComputedStyle2(element).position === "fixed") {
      return null;
    }
    if (polyfill) {
      return polyfill(element);
    }
    return element.offsetParent;
  }
  function getOffsetParent(element, polyfill) {
    const win = getWindow(element);
    if (isTopLayer(element)) {
      return win;
    }
    if (!isHTMLElement(element)) {
      let svgOffsetParent = getParentNode(element);
      while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {
        if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {
          return svgOffsetParent;
        }
        svgOffsetParent = getParentNode(svgOffsetParent);
      }
      return win;
    }
    let offsetParent = getTrueOffsetParent(element, polyfill);
    while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {
      offsetParent = getTrueOffsetParent(offsetParent, polyfill);
    }
    if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {
      return win;
    }
    return offsetParent || getContainingBlock(element) || win;
  }
  var getElementRects = async function(data) {
    const getOffsetParentFn = this.getOffsetParent || getOffsetParent;
    const getDimensionsFn = this.getDimensions;
    const floatingDimensions = await getDimensionsFn(data.floating);
    return {
      reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),
      floating: {
        x: 0,
        y: 0,
        width: floatingDimensions.width,
        height: floatingDimensions.height
      }
    };
  };
  function isRTL(element) {
    return getComputedStyle2(element).direction === "rtl";
  }
  var platform = {
    convertOffsetParentRelativeRectToViewportRelativeRect,
    getDocumentElement,
    getClippingRect,
    getOffsetParent,
    getElementRects,
    getClientRects,
    getDimensions,
    getScale,
    isElement,
    isRTL
  };
  function observeMove(element, onMove) {
    let io = null;
    let timeoutId;
    const root = getDocumentElement(element);
    function cleanup() {
      var _io;
      clearTimeout(timeoutId);
      (_io = io) == null || _io.disconnect();
      io = null;
    }
    function refresh(skip, threshold) {
      if (skip === void 0) {
        skip = false;
      }
      if (threshold === void 0) {
        threshold = 1;
      }
      cleanup();
      const {
        left,
        top,
        width,
        height
      } = element.getBoundingClientRect();
      if (!skip) {
        onMove();
      }
      if (!width || !height) {
        return;
      }
      const insetTop = floor(top);
      const insetRight = floor(root.clientWidth - (left + width));
      const insetBottom = floor(root.clientHeight - (top + height));
      const insetLeft = floor(left);
      const rootMargin = -insetTop + "px " + -insetRight + "px " + -insetBottom + "px " + -insetLeft + "px";
      const options = {
        rootMargin,
        threshold: max(0, min(1, threshold)) || 1
      };
      let isFirstUpdate = true;
      function handleObserve(entries) {
        const ratio = entries[0].intersectionRatio;
        if (ratio !== threshold) {
          if (!isFirstUpdate) {
            return refresh();
          }
          if (!ratio) {
            timeoutId = setTimeout(() => {
              refresh(false, 1e-7);
            }, 1e3);
          } else {
            refresh(false, ratio);
          }
        }
        isFirstUpdate = false;
      }
      try {
        io = new IntersectionObserver(handleObserve, {
          ...options,
          // Handle <iframe>s
          root: root.ownerDocument
        });
      } catch (e) {
        io = new IntersectionObserver(handleObserve, options);
      }
      io.observe(element);
    }
    refresh(true);
    return cleanup;
  }
  function autoUpdate(reference, floating, update, options) {
    if (options === void 0) {
      options = {};
    }
    const {
      ancestorScroll = true,
      ancestorResize = true,
      elementResize = typeof ResizeObserver === "function",
      layoutShift = typeof IntersectionObserver === "function",
      animationFrame = false
    } = options;
    const referenceEl = unwrapElement(reference);
    const ancestors = ancestorScroll || ancestorResize ? [...referenceEl ? getOverflowAncestors(referenceEl) : [], ...getOverflowAncestors(floating)] : [];
    ancestors.forEach((ancestor) => {
      ancestorScroll && ancestor.addEventListener("scroll", update, {
        passive: true
      });
      ancestorResize && ancestor.addEventListener("resize", update);
    });
    const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;
    let reobserveFrame = -1;
    let resizeObserver = null;
    if (elementResize) {
      resizeObserver = new ResizeObserver((_ref) => {
        let [firstEntry] = _ref;
        if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {
          resizeObserver.unobserve(floating);
          cancelAnimationFrame(reobserveFrame);
          reobserveFrame = requestAnimationFrame(() => {
            var _resizeObserver;
            (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);
          });
        }
        update();
      });
      if (referenceEl && !animationFrame) {
        resizeObserver.observe(referenceEl);
      }
      resizeObserver.observe(floating);
    }
    let frameId;
    let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;
    if (animationFrame) {
      frameLoop();
    }
    function frameLoop() {
      const nextRefRect = getBoundingClientRect(reference);
      if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {
        update();
      }
      prevRefRect = nextRefRect;
      frameId = requestAnimationFrame(frameLoop);
    }
    update();
    return () => {
      var _resizeObserver2;
      ancestors.forEach((ancestor) => {
        ancestorScroll && ancestor.removeEventListener("scroll", update);
        ancestorResize && ancestor.removeEventListener("resize", update);
      });
      cleanupIo == null || cleanupIo();
      (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();
      resizeObserver = null;
      if (animationFrame) {
        cancelAnimationFrame(frameId);
      }
    };
  }
  var offset2 = offset;
  var shift2 = shift;
  var flip2 = flip;
  var arrow2 = arrow;
  var computePosition2 = (reference, floating, options) => {
    const cache2 = /* @__PURE__ */ new Map();
    const mergedOptions = {
      platform,
      ...options
    };
    const platformWithCache = {
      ...mergedOptions.platform,
      _c: cache2
    };
    return computePosition(reference, floating, {
      ...mergedOptions,
      platform: platformWithCache
    });
  };

  // ../../app/ui/components/rails_ui/context_menu/index.js
  var context_menu_default = class extends Controller {
    connect() {
      this.element.addEventListener("contextmenu", this.showMenu.bind(this));
      document.addEventListener("click", this.hideMenu.bind(this));
    }
    disconnect() {
      this.element.removeEventListener("contextmenu", this.showMenu.bind(this));
      document.removeEventListener("click", this.hideMenu.bind(this));
    }
    showMenu(event) {
      event.preventDefault();
      this.menuTarget.classList.remove("hidden");
      this.menuTarget.dataset.state = "open";
      computePosition2(
        { x: event.clientX, y: event.clientY },
        this.menuTarget,
        {
          placement: `${this.sideValue}-${this.alignValue}`,
          middleware: [
            offset2(5),
            flip2(),
            shift2({ padding: 5 })
          ]
        }
      ).then(({ x, y }) => {
        Object.assign(this.menuTarget.style, {
          left: `${x}px`,
          top: `${y}px`
        });
      });
    }
    hideMenu(event) {
      if (!this.menuTarget.contains(event.target)) {
        this.menuTarget.dataset.state = "closed";
        setTimeout(() => {
          this.menuTarget.classList.add("hidden");
        }, 200);
      }
    }
    showSubmenu(event) {
      const submenu = event.currentTarget.querySelector('[data-ui-context-menu-target="submenu"]');
      if (submenu) {
        submenu.classList.remove("hidden");
        computePosition2(event.currentTarget, submenu, {
          placement: "right-start",
          middleware: [
            offset2(5),
            flip2(),
            shift2({ padding: 5 })
          ]
        }).then(({ x, y }) => {
          Object.assign(submenu.style, {
            left: `${x}px`,
            top: `${y}px`
          });
        });
      }
    }
    hideSubmenu(event) {
      const submenu = event.currentTarget.querySelector('[data-ui-context-menu-target="submenu"]');
      if (submenu) {
        submenu.classList.add("hidden");
      }
    }
  };
  __publicField(context_menu_default, "targets", ["menu", "submenuTrigger", "submenu"]);
  __publicField(context_menu_default, "values", {
    side: String,
    align: String
  });

  // ../../app/ui/components/rails_ui/dialog/index.js
  var dialog_exports = {};
  __export(dialog_exports, {
    default: () => dialog_default
  });
  var dialog_default = class extends Controller {
    connect() {
      if (this.closeOnClickOutsideValue) {
        useClickOutside(this, { element: this.contentTarget });
      }
    }
    open() {
      this.overlayTarget.style.display = "block";
      this.contentTarget.style.display = "block";
      setTimeout(() => {
        this.overlayTarget.dataset.uiDialogState = "open";
        this.contentTarget.dataset.uiDialogState = "open";
      }, 10);
    }
    close() {
      this.overlayTarget.dataset.uiDialogState = "closed";
      this.contentTarget.dataset.uiDialogState = "closed";
      setTimeout(() => {
        this.overlayTarget.style.display = "none";
        this.contentTarget.style.display = "none";
      }, 30);
    }
    cancel(event) {
      event.preventDefault();
      this.close();
    }
    clickOutside(event) {
      if (this.closeOnClickOutsideValue) {
        this.close();
      }
    }
  };
  __publicField(dialog_default, "targets", ["overlay", "content"]);
  __publicField(dialog_default, "values", {
    closeOnClickOutside: Boolean
  });

  // ../../app/ui/components/rails_ui/dropdown_menu/index.js
  var dropdown_menu_exports = {};
  __export(dropdown_menu_exports, {
    default: () => dropdown_menu_default
  });
  var dropdown_menu_default = class extends Controller {
    connect() {
      this.closeMenu = this.closeMenu.bind(this);
    }
    toggle() {
      if (this.menuTarget.classList.contains(this.activeClass)) {
        this.closeMenu();
      } else {
        this.openMenu();
      }
    }
    openMenu() {
      this.menuTarget.classList.add(this.activeClass);
      this.menuTarget.removeAttribute("hidden");
      document.addEventListener("click", this.closeMenu);
      this.updatePosition();
    }
    closeMenu(event) {
      if (!event || !this.element.contains(event.target)) {
        this.menuTarget.classList.remove(this.activeClass);
        this.menuTarget.setAttribute("hidden", "");
        document.removeEventListener("click", this.closeMenu);
      }
    }
    updatePosition() {
      computePosition2(this.triggerTarget, this.menuTarget, {
        placement: "bottom-start",
        middleware: [
          offset2(6),
          flip2(),
          shift2({ padding: 5 })
        ]
      }).then(({ x, y }) => {
        Object.assign(this.menuTarget.style, {
          left: `${x}px`,
          top: `${y}px`
        });
      });
    }
  };
  __publicField(dropdown_menu_default, "targets", ["trigger", "menu"]);
  __publicField(dropdown_menu_default, "classes", ["active"]);

  // ../../app/ui/components/rails_ui/dropdown_menu_item/index.js
  var dropdown_menu_item_exports = {};

  // ../../app/ui/components/rails_ui/input_otp/index.js
  var input_otp_exports = {};
  __export(input_otp_exports, {
    default: () => input_otp_default
  });
  var input_otp_default = class extends Controller {
    connect() {
      this.inputTarget.addEventListener("input", this.handleInput.bind(this));
      this.inputTarget.addEventListener("keydown", this.handleKeydown.bind(this));
      this.inputTarget.addEventListener("focus", this.handleFocus.bind(this));
      this.inputTarget.addEventListener("blur", this.handleBlur.bind(this));
    }
    handleInput(event) {
      const input = event.target;
      const value = input.value.replace(/\D/g, "").slice(0, this.totalDigits);
      input.value = value;
      this.updateDigits(value);
      this.focusDigit(value.length);
    }
    handleKeydown(event) {
      if (event.key === "Backspace" && event.target.value === "") {
        this.focusPreviousInput();
      }
    }
    handleFocus() {
      this.element.classList.add("focused");
      this.focusDigit(this.inputTarget.value.length);
    }
    handleBlur() {
      this.element.classList.remove("focused");
      this.digitTargets.forEach((digit) => {
        digit.classList.remove("ring-2", "ring-ring", "ring-offset-background");
      });
    }
    updateDigits(value) {
      this.digitTargets.forEach((digit, index) => {
        digit.textContent = value[index] || "";
        digit.classList.toggle("filled", !!value[index]);
      });
    }
    focusDigit(index) {
      this.digitTargets.forEach((digit, i) => {
        if (i === index) {
          digit.classList.add("ring-2", "ring-ring", "ring-offset-background");
        } else {
          digit.classList.remove("ring-2", "ring-ring", "ring-offset-background");
        }
      });
    }
    focusPreviousInput() {
      const currentValue = this.inputTarget.value;
      if (currentValue.length > 0) {
        this.inputTarget.value = currentValue.slice(0, -1);
        this.updateDigits(this.inputTarget.value);
        this.focusDigit(this.inputTarget.value.length);
      }
    }
    get totalDigits() {
      return this.groupsValue.reduce((sum, group) => sum + group, 0);
    }
  };
  __publicField(input_otp_default, "targets", ["input", "digit"]);
  __publicField(input_otp_default, "values", {
    groups: Array
  });

  // ../../app/ui/components/rails_ui/menubar/index.js
  var menubar_exports = {};
  __export(menubar_exports, {
    default: () => menubar_default
  });
  var menubar_default = class extends Controller {
    connect() {
      this.activeSubmenus = /* @__PURE__ */ new Set();
      this.cleanup = null;
      this.submenus = /* @__PURE__ */ new Map();
      this.hideTimeout = null;
      document.addEventListener("click", this.handleClick.bind(this));
      document.addEventListener("mouseover", this.handleMouseOver.bind(this));
      document.addEventListener("mouseout", this.handleMouseOut.bind(this));
    }
    disconnect() {
      this.cleanupAllSubmenus();
      document.removeEventListener("click", this.handleClick.bind(this));
      document.removeEventListener("mouseover", this.handleMouseOver.bind(this));
      document.removeEventListener("mouseout", this.handleMouseOut.bind(this));
    }
    handleClick(event) {
      const menuItem = event.target.closest("[data-ui-menubar-item], [data-ui-menubar-submenu-item]");
      if (menuItem) {
        event.stopPropagation();
        if (menuItem.closest("[data-ui-menubar-top-level]") || menuItem.closest("[data-ui-menubar-submenu]")) {
          this.toggleMenu(menuItem);
        }
      } else if (!event.target.closest("[data-ui-menubar-submenu]")) {
        this.closeAllSubmenus();
      }
    }
    handleMouseOver(event) {
      const submenuItem = event.target.closest("[data-ui-menubar-submenu-item]");
      if (submenuItem && submenuItem.closest("[data-ui-menubar-top-level]")) {
        clearTimeout(this.hideTimeout);
        this.showSubmenu(submenuItem);
      }
    }
    handleMouseOut(event) {
      const submenuItem = event.target.closest("[data-ui-menubar-submenu-item]");
      if (submenuItem && submenuItem.closest("[data-ui-menubar-top-level]")) {
        this.hideSubmenuWithDelay(submenuItem);
      }
    }
    toggleMenu(menuItem) {
      const index = menuItem.dataset.uiMenubarItem || menuItem.dataset.uiMenubarSubmenuItem;
      const hasSubmenu = menuItem.dataset.hasSubmenu === "true";
      if (hasSubmenu) {
        if (this.activeSubmenus.has(index)) {
          this.closeSubmenu(this.submenus.get(index));
        } else {
          this.showSubmenu(menuItem);
        }
      } else {
        console.log(`Clicked menu item: ${menuItem.textContent.trim()}`);
        this.closeAllSubmenus();
      }
    }
    showSubmenu(menuItem) {
      const index = menuItem.dataset.uiMenubarItem || menuItem.dataset.uiMenubarSubmenuItem;
      const hasSubmenu = menuItem.dataset.hasSubmenu === "true";
      if (hasSubmenu) {
        this.closeSiblingSubmenus(menuItem);
        if (!this.submenus.has(index)) {
          this.createSubmenu(menuItem, index);
        } else {
          this.openSubmenu(menuItem, this.submenus.get(index));
        }
      }
    }
    hideSubmenuWithDelay(menuItem) {
      this.hideTimeout = setTimeout(() => {
        const submenuIndex = menuItem.dataset.uiMenubarItem || menuItem.dataset.uiMenubarSubmenuItem;
        if (submenuIndex && this.submenus.has(submenuIndex)) {
          const submenu = this.submenus.get(submenuIndex);
          if (!submenu.contains(document.activeElement)) {
            this.closeSubmenu(submenu);
          }
        }
      }, 300);
    }
    createSubmenu(menuItem, index) {
      const template = this.submenuTemplateTarget;
      const submenuContent = template.content.querySelector(`[data-submenu-for="${index}"]`);
      if (submenuContent) {
        const submenu = submenuContent.cloneNode(true);
        document.body.appendChild(submenu);
        this.submenus.set(index, submenu);
        this.openSubmenu(menuItem, submenu);
      }
    }
    openSubmenu(menuItem, submenu) {
      menuItem.setAttribute("aria-expanded", "true");
      menuItem.dataset.state = "open";
      submenu.dataset.state = "open";
      submenu.style.display = "block";
      const index = menuItem.dataset.uiMenubarItem || menuItem.dataset.uiMenubarSubmenuItem;
      this.activeSubmenus.add(index);
      this.cleanup = autoUpdate(menuItem, submenu, () => {
        this.positionSubmenu(menuItem, submenu);
      });
    }
    closeSubmenu(submenu) {
      const index = submenu.dataset.submenuFor;
      const menuItem = document.querySelector(`[data-ui-menubar-item="${index}"], [data-ui-menubar-submenu-item="${index}"]`);
      if (menuItem) {
        menuItem.setAttribute("aria-expanded", "false");
        menuItem.dataset.state = "closed";
      }
      submenu.dataset.state = "closed";
      submenu.style.display = "none";
      this.activeSubmenus.delete(index);
      if (this.cleanup) {
        this.cleanup();
        this.cleanup = null;
      }
      submenu.querySelectorAll("[data-ui-menubar-submenu-item]").forEach((childItem) => {
        const childIndex = childItem.dataset.uiMenubarSubmenuItem;
        if (this.submenus.has(childIndex)) {
          this.closeSubmenu(this.submenus.get(childIndex));
        }
      });
    }
    closeSiblingSubmenus(menuItem) {
      const parentSubmenu = menuItem.closest("[data-ui-menubar-submenu]");
      const siblingItems = parentSubmenu ? parentSubmenu.querySelectorAll(":scope > [data-ui-menubar-submenu-item]") : this.menuItemTargets;
      siblingItems.forEach((sibling) => {
        if (sibling !== menuItem) {
          const siblingIndex = sibling.dataset.uiMenubarItem || sibling.dataset.uiMenubarSubmenuItem;
          if (this.activeSubmenus.has(siblingIndex)) {
            this.closeSubmenu(this.submenus.get(siblingIndex));
          }
        }
      });
    }
    closeAllSubmenus() {
      this.activeSubmenus.forEach((index) => {
        if (this.submenus.has(index)) {
          this.closeSubmenu(this.submenus.get(index));
        }
      });
    }
    cleanupAllSubmenus() {
      this.submenus.forEach((submenu) => {
        if (submenu.parentNode) {
          submenu.parentNode.removeChild(submenu);
        }
      });
      this.submenus.clear();
      this.activeSubmenus.clear();
      if (this.cleanup) {
        this.cleanup();
        this.cleanup = null;
      }
    }
    positionSubmenu(menuItem, submenu) {
      const parentSubmenu = menuItem.closest("[data-ui-menubar-submenu]");
      const placement = parentSubmenu ? "right-start" : "bottom-start";
      computePosition2(menuItem, submenu, {
        placement,
        middleware: [
          offset2(4),
          flip2(),
          shift2({ padding: 5 })
        ]
      }).then(({ x, y }) => {
        Object.assign(submenu.style, {
          position: "absolute",
          left: `${x}px`,
          top: `${y}px`
        });
      });
    }
  };
  __publicField(menubar_default, "targets", ["menuItem", "submenuTemplate"]);

  // ../../app/ui/components/rails_ui/popover/index.js
  var popover_exports = {};
  __export(popover_exports, {
    default: () => popover_default
  });
  var popover_default = class extends Controller {
    connect() {
      this.visible = false;
      this.clickOutsideHandler = this.clickOutside.bind(this);
      if (this.triggerTypeValue === "hover") {
        this.triggerTarget.addEventListener("mouseenter", this.show.bind(this));
        this.triggerTarget.addEventListener("mouseleave", this.hide.bind(this));
      }
    }
    disconnect() {
      document.removeEventListener("click", this.clickOutsideHandler);
      if (this.triggerTypeValue === "hover") {
        this.triggerTarget.removeEventListener("mouseenter", this.show.bind(this));
        this.triggerTarget.removeEventListener("mouseleave", this.hide.bind(this));
      }
      if (this.popoverContent) {
        document.body.removeChild(this.popoverContent);
      }
    }
    toggle(event) {
      event.stopPropagation();
      this.visible ? this.hide() : this.show();
    }
    show() {
      if (!this.popoverContent) {
        this.popoverContent = this.contentTemplateTarget.content.firstElementChild.cloneNode(true);
        document.body.appendChild(this.popoverContent);
      }
      this.popoverContent.style.display = "block";
      this.popoverContent.style.visibility = "hidden";
      setTimeout(() => {
        this.positionPopover();
        this.popoverContent.style.visibility = "visible";
      }, 0);
      this.visible = true;
      if (this.triggerTypeValue === "click") {
        document.addEventListener("click", this.clickOutsideHandler);
      }
    }
    hide() {
      if (this.popoverContent) {
        this.popoverContent.style.display = "none";
      }
      this.visible = false;
      if (this.triggerTypeValue === "click") {
        document.removeEventListener("click", this.clickOutsideHandler);
      }
    }
    clickOutside(event) {
      if (!this.element.contains(event.target) && !this.popoverContent.contains(event.target)) {
        this.hide();
      }
    }
    positionPopover() {
      const middleware = [
        offset2(this.offsetValue),
        flip2(),
        shift2({ padding: 5 })
      ];
      if (this.arrowValue) {
        const arrowElement = this.popoverContent.querySelector('[data-ui-popover-target="arrow"]');
        if (arrowElement) {
          middleware.push(arrow2({ element: arrowElement }));
        }
      }
      computePosition2(this.triggerTarget, this.popoverContent, {
        placement: this.placementValue,
        middleware
      }).then(({ x, y, placement, middlewareData }) => {
        Object.assign(this.popoverContent.style, {
          position: "absolute",
          left: `${x}px`,
          top: `${y}px`,
          zIndex: 1e3
        });
        if (this.arrowValue) {
          const arrowElement = this.popoverContent.querySelector('[data-ui-popover-target="arrow"]');
          if (arrowElement) {
            const { x: arrowX, y: arrowY } = middlewareData.arrow;
            const staticSide = {
              top: "bottom",
              right: "left",
              bottom: "top",
              left: "right"
            }[placement.split("-")[0]];
            Object.assign(arrowElement.style, {
              left: arrowX != null ? `${arrowX}px` : "",
              top: arrowY != null ? `${arrowY}px` : "",
              right: "",
              bottom: "",
              [staticSide]: "-4px"
            });
          }
        }
      });
    }
  };
  __publicField(popover_default, "targets", ["trigger", "contentTemplate", "arrow"]);
  __publicField(popover_default, "values", {
    placement: String,
    offset: Number,
    arrow: Boolean,
    triggerType: String
  });

  // ../../app/ui/components/rails_ui/progress/index.js
  var progress_exports = {};

  // ../../app/ui/components/rails_ui/resizable/index.js
  var resizable_exports = {};
  __export(resizable_exports, {
    default: () => resizable_default
  });
  var import_interactjs = __toESM(require_interact_min());
  var resizable_default = class extends Controller {
    connect() {
      this.initializeResizable();
    }
    initializeResizable() {
      const isHorizontal = this.directionValue === "horizontal";
      const handles = this.element.querySelectorAll('[data-panel-resize-handle-enabled="true"]');
      handles.forEach((handle, index) => {
        (0, import_interactjs.default)(handle).draggable({
          axis: isHorizontal ? "x" : "y",
          listeners: {
            move: (event) => {
              const prevPanel = this.element.querySelector(`[data-panel-id="${this.element.id}-panel-${index}"]`);
              const nextPanel = this.element.querySelector(`[data-panel-id="${this.element.id}-panel-${index + 1}"]`);
              const prevSize = parseFloat(prevPanel.dataset.panelSize);
              const nextSize = parseFloat(nextPanel.dataset.panelSize);
              const totalSize = prevSize + nextSize;
              const delta = isHorizontal ? event.dx / this.element.offsetWidth * totalSize : event.dy / this.element.offsetHeight * totalSize;
              const newPrevSize = Math.max(10, Math.min(90, prevSize + delta));
              const newNextSize = totalSize - newPrevSize;
              prevPanel.style.flex = `${newPrevSize} 1 0%`;
              nextPanel.style.flex = `${newNextSize} 1 0%`;
              prevPanel.dataset.panelSize = newPrevSize.toString();
              nextPanel.dataset.panelSize = newNextSize.toString();
              handle.setAttribute("aria-valuenow", newPrevSize.toFixed(0));
              handle.setAttribute("aria-valuemax", "90");
              handle.setAttribute("aria-valuemin", "10");
            }
          }
        });
      });
    }
  };
  __publicField(resizable_default, "values", {
    direction: String,
    panels: Array
  });

  // ../../app/ui/components/rails_ui/separator/index.js
  var separator_exports = {};

  // ../../app/ui/components/rails_ui/sheet/index.js
  var sheet_exports = {};
  __export(sheet_exports, {
    default: () => sheet_default
  });
  var sheet_default = class extends Controller {
    connect() {
      useTransition(this, {
        element: this.contentTarget,
        enterActive: "transition ease-out duration-300",
        enterFrom: this.getEnterFromClass(),
        enterTo: this.getEnterToClass(),
        leaveActive: "transition ease-in duration-200",
        leaveFrom: this.getEnterToClass(),
        leaveTo: this.getEnterFromClass()
      });
    }
    open() {
      this.overlayTarget.classList.remove("hidden");
      this.contentTarget.classList.remove("hidden");
      this.enter();
    }
    close() {
      this.leave();
      setTimeout(() => {
        this.overlayTarget.classList.add("hidden");
        this.contentTarget.classList.add("hidden");
      }, 200);
    }
    clickOutside(event) {
      if (!this.contentTarget.contains(event.target)) {
        this.close();
      }
    }
    getEnterFromClass() {
      const side = this.contentTarget.dataset.side;
      switch (side) {
        case "top":
          return "-translate-y-full";
        case "right":
          return "translate-x-full";
        case "bottom":
          return "translate-y-full";
        case "left":
          return "-translate-x-full";
        default:
          return "translate-x-full";
      }
    }
    getEnterToClass() {
      return "translate-y-0 translate-x-0";
    }
  };
  __publicField(sheet_default, "targets", ["overlay", "content"]);

  // ../../app/ui/components/rails_ui/skeleton/index.js
  var skeleton_exports = {};
  __export(skeleton_exports, {
    default: () => Controller2
  });
  var Controller2 = class extends Controller {
    connect() {
    }
    disconnect() {
    }
  };

  // ../../app/ui/components/rails_ui/switch/index.js
  var switch_exports = {};
  __export(switch_exports, {
    default: () => switch_default
  });

  // node_modules/@rails/request.js/src/fetch_response.js
  var FetchResponse2 = class {
    constructor(response) {
      this.response = response;
    }
    get statusCode() {
      return this.response.status;
    }
    get redirected() {
      return this.response.redirected;
    }
    get ok() {
      return this.response.ok;
    }
    get unauthenticated() {
      return this.statusCode === 401;
    }
    get unprocessableEntity() {
      return this.statusCode === 422;
    }
    get authenticationURL() {
      return this.response.headers.get("WWW-Authenticate");
    }
    get contentType() {
      const contentType = this.response.headers.get("Content-Type") || "";
      return contentType.replace(/;.*$/, "");
    }
    get headers() {
      return this.response.headers;
    }
    get html() {
      if (this.contentType.match(/^(application|text)\/(html|xhtml\+xml)$/)) {
        return this.text;
      }
      return Promise.reject(new Error(`Expected an HTML response but got "${this.contentType}" instead`));
    }
    get json() {
      if (this.contentType.match(/^application\/.*json$/)) {
        return this.responseJson || (this.responseJson = this.response.json());
      }
      return Promise.reject(new Error(`Expected a JSON response but got "${this.contentType}" instead`));
    }
    get text() {
      return this.responseText || (this.responseText = this.response.text());
    }
    get isTurboStream() {
      return this.contentType.match(/^text\/vnd\.turbo-stream\.html/);
    }
    get isScript() {
      return this.contentType.match(/\b(?:java|ecma)script\b/);
    }
    async renderTurboStream() {
      if (this.isTurboStream) {
        if (window.Turbo) {
          await window.Turbo.renderStreamMessage(await this.text);
        } else {
          console.warn("You must set `window.Turbo = Turbo` to automatically process Turbo Stream events with request.js");
        }
      } else {
        return Promise.reject(new Error(`Expected a Turbo Stream response but got "${this.contentType}" instead`));
      }
    }
    async activeScript() {
      if (this.isScript) {
        const script = document.createElement("script");
        const metaTag = document.querySelector("meta[name=csp-nonce]");
        const nonce = metaTag && metaTag.content;
        if (nonce) {
          script.setAttribute("nonce", nonce);
        }
        script.innerHTML = await this.text;
        document.body.appendChild(script);
      } else {
        return Promise.reject(new Error(`Expected a Script response but got "${this.contentType}" instead`));
      }
    }
  };

  // node_modules/@rails/request.js/src/request_interceptor.js
  var RequestInterceptor = class {
    static register(interceptor) {
      this.interceptor = interceptor;
    }
    static get() {
      return this.interceptor;
    }
    static reset() {
      this.interceptor = void 0;
    }
  };

  // node_modules/@rails/request.js/src/lib/utils.js
  function getCookie2(name) {
    const cookies = document.cookie ? document.cookie.split("; ") : [];
    const prefix = `${encodeURIComponent(name)}=`;
    const cookie = cookies.find((cookie2) => cookie2.startsWith(prefix));
    if (cookie) {
      const value = cookie.split("=").slice(1).join("=");
      if (value) {
        return decodeURIComponent(value);
      }
    }
  }
  function compact(object) {
    const result = {};
    for (const key in object) {
      const value = object[key];
      if (value !== void 0) {
        result[key] = value;
      }
    }
    return result;
  }
  function metaContent(name) {
    const element = document.head.querySelector(`meta[name="${name}"]`);
    return element && element.content;
  }
  function stringEntriesFromFormData(formData) {
    return [...formData].reduce((entries, [name, value]) => {
      return entries.concat(typeof value === "string" ? [[name, value]] : []);
    }, []);
  }
  function mergeEntries(searchParams, entries) {
    for (const [name, value] of entries) {
      if (value instanceof window.File) continue;
      if (searchParams.has(name) && !name.includes("[]")) {
        searchParams.delete(name);
        searchParams.set(name, value);
      } else {
        searchParams.append(name, value);
      }
    }
  }

  // node_modules/@rails/request.js/src/fetch_request.js
  var FetchRequest2 = class {
    constructor(method, url, options = {}) {
      this.method = method;
      this.options = options;
      this.originalUrl = url.toString();
    }
    async perform() {
      try {
        const requestInterceptor = RequestInterceptor.get();
        if (requestInterceptor) {
          await requestInterceptor(this);
        }
      } catch (error2) {
        console.error(error2);
      }
      const fetch2 = this.responseKind === "turbo-stream" && window.Turbo ? window.Turbo.fetch : window.fetch;
      const response = new FetchResponse2(await fetch2(this.url, this.fetchOptions));
      if (response.unauthenticated && response.authenticationURL) {
        return Promise.reject(window.location.href = response.authenticationURL);
      }
      if (response.isScript) {
        await response.activeScript();
      }
      const responseStatusIsTurboStreamable = response.ok || response.unprocessableEntity;
      if (responseStatusIsTurboStreamable && response.isTurboStream) {
        await response.renderTurboStream();
      }
      return response;
    }
    addHeader(key, value) {
      const headers = this.additionalHeaders;
      headers[key] = value;
      this.options.headers = headers;
    }
    sameHostname() {
      if (!this.originalUrl.startsWith("http:")) {
        return true;
      }
      try {
        return new URL(this.originalUrl).hostname === window.location.hostname;
      } catch (_) {
        return true;
      }
    }
    get fetchOptions() {
      return {
        method: this.method.toUpperCase(),
        headers: this.headers,
        body: this.formattedBody,
        signal: this.signal,
        credentials: this.credentials,
        redirect: this.redirect
      };
    }
    get headers() {
      const baseHeaders = {
        "X-Requested-With": "XMLHttpRequest",
        "Content-Type": this.contentType,
        Accept: this.accept
      };
      if (this.sameHostname()) {
        baseHeaders["X-CSRF-Token"] = this.csrfToken;
      }
      return compact(
        Object.assign(baseHeaders, this.additionalHeaders)
      );
    }
    get csrfToken() {
      return getCookie2(metaContent("csrf-param")) || metaContent("csrf-token");
    }
    get contentType() {
      if (this.options.contentType) {
        return this.options.contentType;
      } else if (this.body == null || this.body instanceof window.FormData) {
        return void 0;
      } else if (this.body instanceof window.File) {
        return this.body.type;
      }
      return "application/json";
    }
    get accept() {
      switch (this.responseKind) {
        case "html":
          return "text/html, application/xhtml+xml";
        case "turbo-stream":
          return "text/vnd.turbo-stream.html, text/html, application/xhtml+xml";
        case "json":
          return "application/json, application/vnd.api+json";
        case "script":
          return "text/javascript, application/javascript";
        default:
          return "*/*";
      }
    }
    get body() {
      return this.options.body;
    }
    get query() {
      const originalQuery = (this.originalUrl.split("?")[1] || "").split("#")[0];
      const params = new URLSearchParams(originalQuery);
      let requestQuery = this.options.query;
      if (requestQuery instanceof window.FormData) {
        requestQuery = stringEntriesFromFormData(requestQuery);
      } else if (requestQuery instanceof window.URLSearchParams) {
        requestQuery = requestQuery.entries();
      } else {
        requestQuery = Object.entries(requestQuery || {});
      }
      mergeEntries(params, requestQuery);
      const query = params.toString();
      return query.length > 0 ? `?${query}` : "";
    }
    get url() {
      return this.originalUrl.split("?")[0].split("#")[0] + this.query;
    }
    get responseKind() {
      return this.options.responseKind || "html";
    }
    get signal() {
      return this.options.signal;
    }
    get redirect() {
      return this.options.redirect || "follow";
    }
    get credentials() {
      return this.options.credentials || "same-origin";
    }
    get additionalHeaders() {
      return this.options.headers || {};
    }
    get formattedBody() {
      const bodyIsAString = Object.prototype.toString.call(this.body) === "[object String]";
      const contentTypeIsJson = this.headers["Content-Type"] === "application/json";
      if (contentTypeIsJson && !bodyIsAString) {
        return JSON.stringify(this.body);
      }
      return this.body;
    }
  };

  // node_modules/@rails/request.js/src/verbs.js
  async function put(url, options) {
    const request = new FetchRequest2("put", url, options);
    return request.perform();
  }

  // ../../app/ui/components/rails_ui/switch/index.js
  var switch_default = class extends Controller {
    connect() {
    }
    disconnect() {
    }
    sendPutRequest(event) {
      put(event.currentTarget.dataset.url, { responseKind: "turbo" }).then((response) => {
        if (response.ok) {
          return response.text();
        }
        throw new Error("Network response was not ok");
      }).then((data) => {
        console.log(data);
      }).catch((error2) => {
        console.error("There was a problem with the fetch operation:", error2);
      });
    }
  };

  // ../../app/ui/components/rails_ui/table/index.js
  var table_exports = {};

  // ../../app/ui/components/rails_ui/tabs/index.js
  var tabs_exports = {};

  // ../../app/ui/components/rails_ui/toast/index.js
  var toast_exports = {};
  __export(toast_exports, {
    default: () => toast_default
  });

  // node_modules/el-transition/index.js
  async function enter(element, transitionName = null) {
    element.classList.remove("hidden");
    await transition("enter", element, transitionName);
  }
  async function leave(element, transitionName = null) {
    await transition("leave", element, transitionName);
    element.classList.add("hidden");
  }
  async function transition(direction, element, animation) {
    const dataset = element.dataset;
    const animationClass = animation ? `${animation}-${direction}` : direction;
    let transition2 = `transition${direction.charAt(0).toUpperCase() + direction.slice(1)}`;
    const genesis = dataset[transition2] ? dataset[transition2].split(" ") : [animationClass];
    const start2 = dataset[`${transition2}Start`] ? dataset[`${transition2}Start`].split(" ") : [`${animationClass}-start`];
    const end = dataset[`${transition2}End`] ? dataset[`${transition2}End`].split(" ") : [`${animationClass}-end`];
    addClasses(element, genesis);
    addClasses(element, start2);
    await nextFrame();
    removeClasses(element, start2);
    addClasses(element, end);
    await afterTransition2(element);
    removeClasses(element, end);
    removeClasses(element, genesis);
  }
  function addClasses(element, classes) {
    element.classList.add(...classes);
  }
  function removeClasses(element, classes) {
    element.classList.remove(...classes);
  }
  function nextFrame() {
    return new Promise((resolve) => {
      requestAnimationFrame(() => {
        requestAnimationFrame(resolve);
      });
    });
  }
  function afterTransition2(element) {
    return new Promise((resolve) => {
      const computedDuration = getComputedStyle(element).transitionDuration.split(",")[0];
      const duration = Number(computedDuration.replace("s", "")) * 1e3;
      setTimeout(() => {
        resolve();
      }, duration);
    });
  }

  // ../../app/ui/components/rails_ui/toast/index.js
  var toast_default = class extends Controller {
    connect() {
      this.setupCustomEvent();
      this.setupTurboStreamListener();
    }
    setupCustomEvent() {
      document.addEventListener("ui:toast", this.handleCustomToast.bind(this));
    }
    setupTurboStreamListener() {
      document.addEventListener("turbo:before-stream-render", (event) => {
        const turboStream = event.target;
        if (turboStream.action === "append" && turboStream.target === "toasts") {
          event.preventDefault();
          this.appendToast(turboStream.templateContent.querySelector("li"));
        }
      });
    }
    handleCustomToast(event) {
      const { title, content, type } = event.detail;
      this.appendToast(this.createToastElement(title, content, type));
    }
    createToastElement(title, content, type) {
      const toast = document.createElement("li");
      toast.innerHTML = `
      <div data-content="">
        <div data-title="">${title}</div>
        <div>${content}</div>
      </div>
    `;
      toast.className = "mb-2 p-4 rounded-md shadow-md transition-all duration-300 transform translate-y-full opacity-0-";
      toast.dataset.uiToastTarget = "item";
      toast.dataset.action = "click->ui-toast#dismiss";
      return toast;
    }
    appendToast(toastElement) {
      this.containerTarget.appendChild(toastElement);
      enter(toastElement);
    }
    dismiss(event) {
      const toast = event.target.closest('[data-ui-toast-target="item"]');
      leave(toast).then(() => {
        toast.remove();
      });
    }
  };
  __publicField(toast_default, "targets", ["container", "item"]);
  __publicField(toast_default, "values", {
    theme: String,
    positionY: String,
    positionX: String
  });

  // ../../app/ui/components/rails_ui/toast_item/index.js
  var toast_item_exports = {};

  // ../../app/ui/components/rails_ui/toggle/index.js
  var toggle_exports = {};
  __export(toggle_exports, {
    default: () => toggle_default
  });
  var toggle_default = class extends Controller {
    connect() {
      this.updatePressed();
    }
    toggle() {
      this.pressedValue = !this.pressedValue;
      this.updatePressed();
    }
    updatePressed() {
      this.buttonTarget.setAttribute("aria-pressed", this.pressedValue);
      this.buttonTarget.dataset.state = this.pressedValue ? "on" : "off";
    }
  };
  __publicField(toggle_default, "targets", ["button"]);
  __publicField(toggle_default, "values", {
    pressed: Boolean
  });

  // ../../app/ui/components/rails_ui/tooltip/index.js
  var tooltip_exports = {};
  __export(tooltip_exports, {
    default: () => tooltip_default
  });
  var tooltip_default = class extends Controller {
    connect() {
      this.showTooltipBound = this.showTooltip.bind(this);
      this.hideTooltipBound = this.hideTooltip.bind(this);
      this.triggerTarget.addEventListener("mouseenter", this.showTooltipBound);
      this.triggerTarget.addEventListener("mouseleave", this.hideTooltipBound);
      this.triggerTarget.addEventListener("focus", this.showTooltipBound);
      this.triggerTarget.addEventListener("blur", this.hideTooltipBound);
      this.cleanup = autoUpdate(
        this.triggerTarget,
        this.contentTarget,
        this.updatePosition.bind(this)
      );
    }
    disconnect() {
      this.triggerTarget.removeEventListener("mouseenter", this.showTooltipBound);
      this.triggerTarget.removeEventListener("mouseleave", this.hideTooltipBound);
      this.triggerTarget.removeEventListener("focus", this.showTooltipBound);
      this.triggerTarget.removeEventListener("blur", this.hideTooltipBound);
      if (this.cleanup) {
        this.cleanup();
      }
    }
    showTooltip() {
      clearTimeout(this.hideTimeout);
      this.showTimeout = setTimeout(() => {
        this.contentTarget.classList.remove("hidden");
        this.updatePosition();
      }, this.delayValue);
    }
    hideTooltip() {
      clearTimeout(this.showTimeout);
      this.hideTimeout = setTimeout(() => {
        this.contentTarget.classList.add("hidden");
      }, 40);
    }
    updatePosition() {
      computePosition2(this.triggerTarget, this.contentTarget, {
        placement: this.placementValue,
        middleware: [
          offset2(6),
          flip2(),
          shift2({ padding: 5 }),
          arrow2({ element: this.arrowTarget })
        ]
      }).then(({ x, y, placement, middlewareData }) => {
        Object.assign(this.contentTarget.style, {
          left: `${x}px`,
          top: `${y}px`
        });
        const { x: arrowX, y: arrowY } = middlewareData.arrow;
        const staticSide = {
          top: "bottom",
          right: "left",
          bottom: "top",
          left: "right"
        }[placement.split("-")[0]];
        Object.assign(this.arrowTarget.style, {
          left: arrowX != null ? `${arrowX}px` : "",
          top: arrowY != null ? `${arrowY}px` : "",
          right: "",
          bottom: "",
          [staticSide]: "-4px"
        });
      });
    }
  };
  __publicField(tooltip_default, "targets", ["trigger", "content", "arrow"]);
  __publicField(tooltip_default, "values", {
    delay: Number,
    placement: String
  });

  // rails:/Users/michelson/Documents/cience/rails_ui/app/ui/components/rails_ui/**/*index.js
  var modules2 = [{ name: "..--..--..--..--..--app--ui--components--rails-ui--accordion--index.js", module: accordion_exports, filename: "../../../../../app/ui/components/rails_ui/accordion/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--accordion-item--index.js", module: accordion_item_exports, filename: "../../../../../app/ui/components/rails_ui/accordion_item/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--alert--index.js", module: alert_exports, filename: "../../../../../app/ui/components/rails_ui/alert/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--alert-dialog--index.js", module: alert_dialog_exports, filename: "../../../../../app/ui/components/rails_ui/alert_dialog/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--aspect-ratio--index.js", module: aspect_ratio_exports, filename: "../../../../../app/ui/components/rails_ui/aspect_ratio/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--avatar--index.js", module: avatar_exports, filename: "../../../../../app/ui/components/rails_ui/avatar/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--badge--index.js", module: badge_exports, filename: "../../../../../app/ui/components/rails_ui/badge/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--breadcrumb--index.js", module: breadcrumb_exports, filename: "../../../../../app/ui/components/rails_ui/breadcrumb/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--breadcrumb-item--index.js", module: breadcrumb_item_exports, filename: "../../../../../app/ui/components/rails_ui/breadcrumb_item/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--button--index.js", module: button_exports, filename: "../../../../../app/ui/components/rails_ui/button/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--calendar--index.js", module: calendar_exports, filename: "../../../../../app/ui/components/rails_ui/calendar/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--card--index.js", module: card_exports, filename: "../../../../../app/ui/components/rails_ui/card/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--carousel--index.js", module: carousel_exports, filename: "../../../../../app/ui/components/rails_ui/carousel/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--collapsible--index.js", module: collapsible_exports, filename: "../../../../../app/ui/components/rails_ui/collapsible/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--command--index.js", module: command_exports, filename: "../../../../../app/ui/components/rails_ui/command/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--context-menu--index.js", module: context_menu_exports, filename: "../../../../../app/ui/components/rails_ui/context_menu/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--dialog--index.js", module: dialog_exports, filename: "../../../../../app/ui/components/rails_ui/dialog/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--dropdown-menu--index.js", module: dropdown_menu_exports, filename: "../../../../../app/ui/components/rails_ui/dropdown_menu/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--dropdown-menu-item--index.js", module: dropdown_menu_item_exports, filename: "../../../../../app/ui/components/rails_ui/dropdown_menu_item/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--input-otp--index.js", module: input_otp_exports, filename: "../../../../../app/ui/components/rails_ui/input_otp/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--menubar--index.js", module: menubar_exports, filename: "../../../../../app/ui/components/rails_ui/menubar/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--popover--index.js", module: popover_exports, filename: "../../../../../app/ui/components/rails_ui/popover/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--progress--index.js", module: progress_exports, filename: "../../../../../app/ui/components/rails_ui/progress/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--resizable--index.js", module: resizable_exports, filename: "../../../../../app/ui/components/rails_ui/resizable/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--separator--index.js", module: separator_exports, filename: "../../../../../app/ui/components/rails_ui/separator/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--sheet--index.js", module: sheet_exports, filename: "../../../../../app/ui/components/rails_ui/sheet/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--skeleton--index.js", module: skeleton_exports, filename: "../../../../../app/ui/components/rails_ui/skeleton/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--switch--index.js", module: switch_exports, filename: "../../../../../app/ui/components/rails_ui/switch/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--table--index.js", module: table_exports, filename: "../../../../../app/ui/components/rails_ui/table/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--tabs--index.js", module: tabs_exports, filename: "../../../../../app/ui/components/rails_ui/tabs/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--toast--index.js", module: toast_exports, filename: "../../../../../app/ui/components/rails_ui/toast/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--toast-item--index.js", module: toast_item_exports, filename: "../../../../../app/ui/components/rails_ui/toast_item/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--toggle--index.js", module: toggle_exports, filename: "../../../../../app/ui/components/rails_ui/toggle/index.js" }, { name: "..--..--..--..--..--app--ui--components--rails-ui--tooltip--index.js", module: tooltip_exports, filename: "../../../../../app/ui/components/rails_ui/tooltip/index.js" }];
  var index_default = modules2;

  // app/javascript/controllers/index.js
  controller_default.forEach((controller) => {
    application.register(controller.name, controller.module.default);
  });
  console.log(index_default);
  index_default.forEach((controller) => {
    if (controller.module.default) {
      let name = controller.name.replace("--index.js", "");
      name = name.replace("..--..--..--..--..--app--ui--components--rails-ui--", "");
      name = `ui-${name}`;
      console.log("ADDINDG CONTROLLER", name);
      application.register(name, controller.module.default);
    }
  });
  console.log(application);

  // app/javascript/application.js
  window.Turbo = turbo_es2017_esm_exports;
})();
/*! Bundled license information:

@hotwired/turbo/dist/turbo.es2017-esm.js:
  (*!
  Turbo 8.0.4
  Copyright © 2024 37signals LLC
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0ByYWlscy9hY3Rpb25jYWJsZS9zcmMvYWRhcHRlcnMuanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0ByYWlscy9hY3Rpb25jYWJsZS9zcmMvbG9nZ2VyLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AcmFpbHMvYWN0aW9uY2FibGUvc3JjL2Nvbm5lY3Rpb25fbW9uaXRvci5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHJhaWxzL2FjdGlvbmNhYmxlL3NyYy9pbnRlcm5hbC5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHJhaWxzL2FjdGlvbmNhYmxlL3NyYy9jb25uZWN0aW9uLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AcmFpbHMvYWN0aW9uY2FibGUvc3JjL3N1YnNjcmlwdGlvbi5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHJhaWxzL2FjdGlvbmNhYmxlL3NyYy9zdWJzY3JpcHRpb25fZ3VhcmFudG9yLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AcmFpbHMvYWN0aW9uY2FibGUvc3JjL3N1YnNjcmlwdGlvbnMuanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0ByYWlscy9hY3Rpb25jYWJsZS9zcmMvY29uc3VtZXIuanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0ByYWlscy9hY3Rpb25jYWJsZS9zcmMvaW5kZXguanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL2lzV2luZG93LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy93aW5kb3cudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL2lzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL2RyYWcvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9kb21PYmplY3RzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9icm93c2VyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9yZWN0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9nZXRPcmlnaW5YWS50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvbm9ybWFsaXplTGlzdGVuZXJzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy91dGlscy9oeXBvdC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvcG9pbnRlckV4dGVuZC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvcG9pbnRlclV0aWxzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9jb3JlL0Jhc2VFdmVudC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvYXJyLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL2Ryb3AvRHJvcEV2ZW50LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL2Ryb3AvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL2dlc3R1cmUvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hY3Rpb25zL3Jlc2l6ZS9wbHVnaW4udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL3JhZi50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvYWN0aW9ucy9wbHVnaW4udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2F1dG8tc2Nyb2xsL3BsdWdpbi50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvdXRpbHMvbWlzYy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvYXV0by1zdGFydC9JbnRlcmFjdGFibGVNZXRob2RzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9hdXRvLXN0YXJ0L2Jhc2UudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2F1dG8tc3RhcnQvZHJhZ0F4aXMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2F1dG8tc3RhcnQvaG9sZC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvYXV0by1zdGFydC9wbHVnaW4udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvaW50ZXJhY3RhYmxlUHJldmVudERlZmF1bHQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL2lzTm9uTmF0aXZlRXZlbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3V0aWxzL2Nsb25lLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvTW9kaWZpY2F0aW9uLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvYmFzZS50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvY29yZS9vcHRpb25zLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0RXZlbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvUG9pbnRlckluZm8udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL29mZnNldC9wbHVnaW4udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2luZXJ0aWEvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9jb3JlL0V2ZW50YWJsZS50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvY29yZS9ldmVudHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvaW50ZXJhY3Rpb25GaW5kZXIudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvaW50ZXJhY3Rpb25zLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZS50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGVTZXQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RTdGF0aWMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL2ludGVyYWN0L2luZGV4LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9zbmFwcGVycy9lZGdlVGFyZ2V0LnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9zbmFwcGVycy9lbGVtZW50cy50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvc25hcHBlcnMvZ3JpZC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvc25hcHBlcnMvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvYXNwZWN0UmF0aW8udHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL21vZGlmaWVycy9ub29wLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvcmVzdHJpY3QvcG9pbnRlci50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvbW9kaWZpZXJzL3Jlc3RyaWN0L2VkZ2VzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvcmVzdHJpY3QvcmVjdC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvbW9kaWZpZXJzL3Jlc3RyaWN0L3NpemUudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL21vZGlmaWVycy9zbmFwL3BvaW50ZXIudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL21vZGlmaWVycy9zbmFwL3NpemUudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL21vZGlmaWVycy9zbmFwL2VkZ2VzLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvYWxsLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9tb2RpZmllcnMvcGx1Z2luLnRzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW50ZXJhY3Rqcy9wb2ludGVyLWV2ZW50cy9Qb2ludGVyRXZlbnQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL2Jhc2UudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL2hvbGRSZXBlYXQudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL2ludGVyYWN0YWJsZVRhcmdldHMudHMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL3BsdWdpbi50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvcmVmbG93L3BsdWdpbi50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvaW50ZXJhY3Rqcy9pbmRleC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGludGVyYWN0anMvaW50ZXJhY3Rqcy9pbmRleC50cyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGhvdHdpcmVkL3R1cmJvL2Rpc3QvdHVyYm8uZXMyMDE3LWVzbS5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGhvdHdpcmVkL3R1cmJvLXJhaWxzL2FwcC9qYXZhc2NyaXB0L3R1cmJvL2NhYmxlLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaG90d2lyZWQvdHVyYm8tcmFpbHMvYXBwL2phdmFzY3JpcHQvdHVyYm8vc25ha2VpemUuanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bob3R3aXJlZC90dXJiby1yYWlscy9hcHAvamF2YXNjcmlwdC90dXJiby9jYWJsZV9zdHJlYW1fc291cmNlX2VsZW1lbnQuanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bob3R3aXJlZC90dXJiby1yYWlscy9hcHAvamF2YXNjcmlwdC90dXJiby9mZXRjaF9yZXF1ZXN0cy5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGhvdHdpcmVkL3R1cmJvLXJhaWxzL2FwcC9qYXZhc2NyaXB0L3R1cmJvL2luZGV4LmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaG90d2lyZWQvc3RpbXVsdXMvZGlzdC9zdGltdWx1cy5qcyIsICIuLi8uLi9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL2FwcGxpY2F0aW9uLmpzIiwgIi4uLy4uL2phdmFzY3JpcHQvY29udHJvbGxlcnMvZGFya19tb2RlX2NvbnRyb2xsZXIuanMiLCAiLi4vLi4vamF2YXNjcmlwdC9jb250cm9sbGVycy9oZWxsb19jb250cm9sbGVyLmpzIiwgInJhaWxzOi9Vc2Vycy9taWNoZWxzb24vRG9jdW1lbnRzL2NpZW5jZS9yYWlsc191aS90ZXN0L2R1bW15L2FwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzLyoqLypfY29udHJvbGxlci5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hY2NvcmRpb24vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYWNjb3JkaW9uX2l0ZW0vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYWxlcnQvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYWxlcnRfZGlhbG9nL2luZGV4LmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdGltdWx1cy11c2UvZGlzdC9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hc3BlY3RfcmF0aW8vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYXZhdGFyL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2JhZGdlL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2JyZWFkY3J1bWIvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYnJlYWRjcnVtYl9pdGVtL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2J1dHRvbi9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jYWxlbmRhci9pbmRleC5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvdG9EYXRlLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvY29uc3RydWN0RnJvbS5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2FkZE1vbnRocy5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2NvbnN0YW50cy5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZGVmYXVsdE9wdGlvbnMubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdGFydE9mV2Vlay5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3N0YXJ0T2ZJU09XZWVrLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0SVNPV2Vla1llYXIubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdGFydE9mRGF5Lm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9nZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZklTT1dlZWtZZWFyLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvY29uc3RydWN0Tm93Lm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvaXNTYW1lRGF5Lm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvaXNEYXRlLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvaXNWYWxpZC5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VuZE9mTW9udGgubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lYWNoRGF5T2ZJbnRlcnZhbC5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3N0YXJ0T2ZNb250aC5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL3N0YXJ0T2ZZZWFyLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZW5kT2ZXZWVrLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTL19saWIvZm9ybWF0RGlzdGFuY2UubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvX2xpYi9idWlsZEZvcm1hdExvbmdGbi5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy9fbGliL2Zvcm1hdExvbmcubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvX2xpYi9mb3JtYXRSZWxhdGl2ZS5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9fbGliL2J1aWxkTG9jYWxpemVGbi5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy9fbGliL2xvY2FsaXplLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL19saWIvYnVpbGRNYXRjaEZuLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL19saWIvYnVpbGRNYXRjaFBhdHRlcm5Gbi5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy9fbGliL21hdGNoLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0RGF5T2ZZZWFyLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0SVNPV2Vlay5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2dldFdlZWtZZWFyLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZldlZWtZZWFyLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0V2Vlay5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvYWRkTGVhZGluZ1plcm9zLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9mb3JtYXQvbGlnaHRGb3JtYXR0ZXJzLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9mb3JtYXQvZm9ybWF0dGVycy5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZm9ybWF0L2xvbmdGb3JtYXR0ZXJzLm1qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9wcm90ZWN0ZWRUb2tlbnMubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9mb3JtYXQubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9pc1NhbWVNb250aC5tanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2lzVG9kYXkubWpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2NhcmQvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY2Fyb3VzZWwvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY29sbGFwc2libGUvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY29tbWFuZC9pbmRleC5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvaG90a2V5cy1qcy9kaXN0L2hvdGtleXMuZXNtLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdGltdWx1cy11c2UvZGlzdC9ob3RrZXlzLmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2NvbnRleHRfbWVudS9pbmRleC5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGZsb2F0aW5nLXVpL3V0aWxzL2Rpc3QvZmxvYXRpbmctdWkudXRpbHMubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZmxvYXRpbmctdWkvY29yZS9kaXN0L2Zsb2F0aW5nLXVpLmNvcmUubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZmxvYXRpbmctdWkvdXRpbHMvZGlzdC9mbG9hdGluZy11aS51dGlscy5kb20ubWpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZmxvYXRpbmctdWkvZG9tL2Rpc3QvZmxvYXRpbmctdWkuZG9tLm1qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9kaWFsb2cvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvZHJvcGRvd25fbWVudS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9kcm9wZG93bl9tZW51X2l0ZW0vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvaW5wdXRfb3RwL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL21lbnViYXIvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvcG9wb3Zlci9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9wcm9ncmVzcy9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9yZXNpemFibGUvaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvc2VwYXJhdG9yL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3NoZWV0L2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3NrZWxldG9uL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3N3aXRjaC9pbmRleC5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHJhaWxzL3JlcXVlc3QuanMvc3JjL2ZldGNoX3Jlc3BvbnNlLmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AcmFpbHMvcmVxdWVzdC5qcy9zcmMvcmVxdWVzdF9pbnRlcmNlcHRvci5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHJhaWxzL3JlcXVlc3QuanMvc3JjL2xpYi91dGlscy5qcyIsICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHJhaWxzL3JlcXVlc3QuanMvc3JjL2ZldGNoX3JlcXVlc3QuanMiLCAiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0ByYWlscy9yZXF1ZXN0LmpzL3NyYy92ZXJicy5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90YWJsZS9pbmRleC5qcyIsICIuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90YWJzL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3RvYXN0L2luZGV4LmpzIiwgIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9lbC10cmFuc2l0aW9uL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3RvYXN0X2l0ZW0vaW5kZXguanMiLCAiLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvdG9nZ2xlL2luZGV4LmpzIiwgIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3Rvb2x0aXAvaW5kZXguanMiLCAicmFpbHM6L1VzZXJzL21pY2hlbHNvbi9Eb2N1bWVudHMvY2llbmNlL3JhaWxzX3VpL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpLyoqLyppbmRleC5qcyIsICIuLi8uLi9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL2luZGV4LmpzIiwgIi4uLy4uL2phdmFzY3JpcHQvYXBwbGljYXRpb24uanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImV4cG9ydCBkZWZhdWx0IHtcbiAgbG9nZ2VyOiB0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIiA/IGNvbnNvbGUgOiB1bmRlZmluZWQsXG4gIFdlYlNvY2tldDogdHlwZW9mIFdlYlNvY2tldCAhPT0gXCJ1bmRlZmluZWRcIiA/IFdlYlNvY2tldCA6IHVuZGVmaW5lZCxcbn1cbiIsICJpbXBvcnQgYWRhcHRlcnMgZnJvbSBcIi4vYWRhcHRlcnNcIlxuXG4vLyBUaGUgbG9nZ2VyIGlzIGRpc2FibGVkIGJ5IGRlZmF1bHQuIFlvdSBjYW4gZW5hYmxlIGl0IHdpdGg6XG4vL1xuLy8gICBBY3Rpb25DYWJsZS5sb2dnZXIuZW5hYmxlZCA9IHRydWVcbi8vXG4vLyAgIEV4YW1wbGU6XG4vL1xuLy8gICBpbXBvcnQgKiBhcyBBY3Rpb25DYWJsZSBmcm9tICdAcmFpbHMvYWN0aW9uY2FibGUnXG4vL1xuLy8gICBBY3Rpb25DYWJsZS5sb2dnZXIuZW5hYmxlZCA9IHRydWVcbi8vICAgQWN0aW9uQ2FibGUubG9nZ2VyLmxvZygnQ29ubmVjdGlvbiBFc3RhYmxpc2hlZC4nKVxuLy9cblxuZXhwb3J0IGRlZmF1bHQge1xuICBsb2coLi4ubWVzc2FnZXMpIHtcbiAgICBpZiAodGhpcy5lbmFibGVkKSB7XG4gICAgICBtZXNzYWdlcy5wdXNoKERhdGUubm93KCkpXG4gICAgICBhZGFwdGVycy5sb2dnZXIubG9nKFwiW0FjdGlvbkNhYmxlXVwiLCAuLi5tZXNzYWdlcylcbiAgICB9XG4gIH0sXG59XG4iLCAiaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi9sb2dnZXJcIlxuXG4vLyBSZXNwb25zaWJsZSBmb3IgZW5zdXJpbmcgdGhlIGNhYmxlIGNvbm5lY3Rpb24gaXMgaW4gZ29vZCBoZWFsdGggYnkgdmFsaWRhdGluZyB0aGUgaGVhcnRiZWF0IHBpbmdzIHNlbnQgZnJvbSB0aGUgc2VydmVyLCBhbmQgYXR0ZW1wdGluZ1xuLy8gcmV2aXZhbCByZWNvbm5lY3Rpb25zIGlmIHRoaW5ncyBnbyBhc3RyYXkuIEludGVybmFsIGNsYXNzLCBub3QgaW50ZW5kZWQgZm9yIGRpcmVjdCB1c2VyIG1hbmlwdWxhdGlvbi5cblxuY29uc3Qgbm93ID0gKCkgPT4gbmV3IERhdGUoKS5nZXRUaW1lKClcblxuY29uc3Qgc2Vjb25kc1NpbmNlID0gdGltZSA9PiAobm93KCkgLSB0aW1lKSAvIDEwMDBcblxuY2xhc3MgQ29ubmVjdGlvbk1vbml0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25uZWN0aW9uKSB7XG4gICAgdGhpcy52aXNpYmlsaXR5RGlkQ2hhbmdlID0gdGhpcy52aXNpYmlsaXR5RGlkQ2hhbmdlLmJpbmQodGhpcylcbiAgICB0aGlzLmNvbm5lY3Rpb24gPSBjb25uZWN0aW9uXG4gICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cyA9IDBcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIGlmICghdGhpcy5pc1J1bm5pbmcoKSkge1xuICAgICAgdGhpcy5zdGFydGVkQXQgPSBub3coKVxuICAgICAgZGVsZXRlIHRoaXMuc3RvcHBlZEF0XG4gICAgICB0aGlzLnN0YXJ0UG9sbGluZygpXG4gICAgICBhZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB0aGlzLnZpc2liaWxpdHlEaWRDaGFuZ2UpXG4gICAgICBsb2dnZXIubG9nKGBDb25uZWN0aW9uTW9uaXRvciBzdGFydGVkLiBzdGFsZSB0aHJlc2hvbGQgPSAke3RoaXMuY29uc3RydWN0b3Iuc3RhbGVUaHJlc2hvbGR9IHNgKVxuICAgIH1cbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgaWYgKHRoaXMuaXNSdW5uaW5nKCkpIHtcbiAgICAgIHRoaXMuc3RvcHBlZEF0ID0gbm93KClcbiAgICAgIHRoaXMuc3RvcFBvbGxpbmcoKVxuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdGhpcy52aXNpYmlsaXR5RGlkQ2hhbmdlKVxuICAgICAgbG9nZ2VyLmxvZyhcIkNvbm5lY3Rpb25Nb25pdG9yIHN0b3BwZWRcIilcbiAgICB9XG4gIH1cblxuICBpc1J1bm5pbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhcnRlZEF0ICYmICF0aGlzLnN0b3BwZWRBdFxuICB9XG5cbiAgcmVjb3JkUGluZygpIHtcbiAgICB0aGlzLnBpbmdlZEF0ID0gbm93KClcbiAgfVxuXG4gIHJlY29yZENvbm5lY3QoKSB7XG4gICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cyA9IDBcbiAgICB0aGlzLnJlY29yZFBpbmcoKVxuICAgIGRlbGV0ZSB0aGlzLmRpc2Nvbm5lY3RlZEF0XG4gICAgbG9nZ2VyLmxvZyhcIkNvbm5lY3Rpb25Nb25pdG9yIHJlY29yZGVkIGNvbm5lY3RcIilcbiAgfVxuXG4gIHJlY29yZERpc2Nvbm5lY3QoKSB7XG4gICAgdGhpcy5kaXNjb25uZWN0ZWRBdCA9IG5vdygpXG4gICAgbG9nZ2VyLmxvZyhcIkNvbm5lY3Rpb25Nb25pdG9yIHJlY29yZGVkIGRpc2Nvbm5lY3RcIilcbiAgfVxuXG4gIC8vIFByaXZhdGVcblxuICBzdGFydFBvbGxpbmcoKSB7XG4gICAgdGhpcy5zdG9wUG9sbGluZygpXG4gICAgdGhpcy5wb2xsKClcbiAgfVxuXG4gIHN0b3BQb2xsaW5nKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnBvbGxUaW1lb3V0KVxuICB9XG5cbiAgcG9sbCgpIHtcbiAgICB0aGlzLnBvbGxUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnJlY29ubmVjdElmU3RhbGUoKVxuICAgICAgdGhpcy5wb2xsKClcbiAgICB9XG4gICAgLCB0aGlzLmdldFBvbGxJbnRlcnZhbCgpKVxuICB9XG5cbiAgZ2V0UG9sbEludGVydmFsKCkge1xuICAgIGNvbnN0IHsgc3RhbGVUaHJlc2hvbGQsIHJlY29ubmVjdGlvbkJhY2tvZmZSYXRlIH0gPSB0aGlzLmNvbnN0cnVjdG9yXG4gICAgY29uc3QgYmFja29mZiA9IE1hdGgucG93KDEgKyByZWNvbm5lY3Rpb25CYWNrb2ZmUmF0ZSwgTWF0aC5taW4odGhpcy5yZWNvbm5lY3RBdHRlbXB0cywgMTApKVxuICAgIGNvbnN0IGppdHRlck1heCA9IHRoaXMucmVjb25uZWN0QXR0ZW1wdHMgPT09IDAgPyAxLjAgOiByZWNvbm5lY3Rpb25CYWNrb2ZmUmF0ZVxuICAgIGNvbnN0IGppdHRlciA9IGppdHRlck1heCAqIE1hdGgucmFuZG9tKClcbiAgICByZXR1cm4gc3RhbGVUaHJlc2hvbGQgKiAxMDAwICogYmFja29mZiAqICgxICsgaml0dGVyKVxuICB9XG5cbiAgcmVjb25uZWN0SWZTdGFsZSgpIHtcbiAgICBpZiAodGhpcy5jb25uZWN0aW9uSXNTdGFsZSgpKSB7XG4gICAgICBsb2dnZXIubG9nKGBDb25uZWN0aW9uTW9uaXRvciBkZXRlY3RlZCBzdGFsZSBjb25uZWN0aW9uLiByZWNvbm5lY3RBdHRlbXB0cyA9ICR7dGhpcy5yZWNvbm5lY3RBdHRlbXB0c30sIHRpbWUgc3RhbGUgPSAke3NlY29uZHNTaW5jZSh0aGlzLnJlZnJlc2hlZEF0KX0gcywgc3RhbGUgdGhyZXNob2xkID0gJHt0aGlzLmNvbnN0cnVjdG9yLnN0YWxlVGhyZXNob2xkfSBzYClcbiAgICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMrK1xuICAgICAgaWYgKHRoaXMuZGlzY29ubmVjdGVkUmVjZW50bHkoKSkge1xuICAgICAgICBsb2dnZXIubG9nKGBDb25uZWN0aW9uTW9uaXRvciBza2lwcGluZyByZW9wZW5pbmcgcmVjZW50IGRpc2Nvbm5lY3QuIHRpbWUgZGlzY29ubmVjdGVkID0gJHtzZWNvbmRzU2luY2UodGhpcy5kaXNjb25uZWN0ZWRBdCl9IHNgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIkNvbm5lY3Rpb25Nb25pdG9yIHJlb3BlbmluZ1wiKVxuICAgICAgICB0aGlzLmNvbm5lY3Rpb24ucmVvcGVuKClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXQgcmVmcmVzaGVkQXQoKSB7XG4gICAgcmV0dXJuIHRoaXMucGluZ2VkQXQgPyB0aGlzLnBpbmdlZEF0IDogdGhpcy5zdGFydGVkQXRcbiAgfVxuXG4gIGNvbm5lY3Rpb25Jc1N0YWxlKCkge1xuICAgIHJldHVybiBzZWNvbmRzU2luY2UodGhpcy5yZWZyZXNoZWRBdCkgPiB0aGlzLmNvbnN0cnVjdG9yLnN0YWxlVGhyZXNob2xkXG4gIH1cblxuICBkaXNjb25uZWN0ZWRSZWNlbnRseSgpIHtcbiAgICByZXR1cm4gdGhpcy5kaXNjb25uZWN0ZWRBdCAmJiAoc2Vjb25kc1NpbmNlKHRoaXMuZGlzY29ubmVjdGVkQXQpIDwgdGhpcy5jb25zdHJ1Y3Rvci5zdGFsZVRocmVzaG9sZClcbiAgfVxuXG4gIHZpc2liaWxpdHlEaWRDaGFuZ2UoKSB7XG4gICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gXCJ2aXNpYmxlXCIpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uSXNTdGFsZSgpIHx8ICF0aGlzLmNvbm5lY3Rpb24uaXNPcGVuKCkpIHtcbiAgICAgICAgICBsb2dnZXIubG9nKGBDb25uZWN0aW9uTW9uaXRvciByZW9wZW5pbmcgc3RhbGUgY29ubmVjdGlvbiBvbiB2aXNpYmlsaXR5Y2hhbmdlLiB2aXNpYmlsaXR5U3RhdGUgPSAke2RvY3VtZW50LnZpc2liaWxpdHlTdGF0ZX1gKVxuICAgICAgICAgIHRoaXMuY29ubmVjdGlvbi5yZW9wZW4oKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAsIDIwMClcbiAgICB9XG4gIH1cblxufVxuXG5Db25uZWN0aW9uTW9uaXRvci5zdGFsZVRocmVzaG9sZCA9IDYgLy8gU2VydmVyOjpDb25uZWN0aW9uczo6QkVBVF9JTlRFUlZBTCAqIDIgKG1pc3NlZCB0d28gcGluZ3MpXG5Db25uZWN0aW9uTW9uaXRvci5yZWNvbm5lY3Rpb25CYWNrb2ZmUmF0ZSA9IDAuMTVcblxuZXhwb3J0IGRlZmF1bHQgQ29ubmVjdGlvbk1vbml0b3JcbiIsICJleHBvcnQgZGVmYXVsdCB7XG4gIFwibWVzc2FnZV90eXBlc1wiOiB7XG4gICAgXCJ3ZWxjb21lXCI6IFwid2VsY29tZVwiLFxuICAgIFwiZGlzY29ubmVjdFwiOiBcImRpc2Nvbm5lY3RcIixcbiAgICBcInBpbmdcIjogXCJwaW5nXCIsXG4gICAgXCJjb25maXJtYXRpb25cIjogXCJjb25maXJtX3N1YnNjcmlwdGlvblwiLFxuICAgIFwicmVqZWN0aW9uXCI6IFwicmVqZWN0X3N1YnNjcmlwdGlvblwiXG4gIH0sXG4gIFwiZGlzY29ubmVjdF9yZWFzb25zXCI6IHtcbiAgICBcInVuYXV0aG9yaXplZFwiOiBcInVuYXV0aG9yaXplZFwiLFxuICAgIFwiaW52YWxpZF9yZXF1ZXN0XCI6IFwiaW52YWxpZF9yZXF1ZXN0XCIsXG4gICAgXCJzZXJ2ZXJfcmVzdGFydFwiOiBcInNlcnZlcl9yZXN0YXJ0XCIsXG4gICAgXCJyZW1vdGVcIjogXCJyZW1vdGVcIlxuICB9LFxuICBcImRlZmF1bHRfbW91bnRfcGF0aFwiOiBcIi9jYWJsZVwiLFxuICBcInByb3RvY29sc1wiOiBbXG4gICAgXCJhY3Rpb25jYWJsZS12MS1qc29uXCIsXG4gICAgXCJhY3Rpb25jYWJsZS11bnN1cHBvcnRlZFwiXG4gIF1cbn1cbiIsICJpbXBvcnQgYWRhcHRlcnMgZnJvbSBcIi4vYWRhcHRlcnNcIlxuaW1wb3J0IENvbm5lY3Rpb25Nb25pdG9yIGZyb20gXCIuL2Nvbm5lY3Rpb25fbW9uaXRvclwiXG5pbXBvcnQgSU5URVJOQUwgZnJvbSBcIi4vaW50ZXJuYWxcIlxuaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi9sb2dnZXJcIlxuXG4vLyBFbmNhcHN1bGF0ZSB0aGUgY2FibGUgY29ubmVjdGlvbiBoZWxkIGJ5IHRoZSBjb25zdW1lci4gVGhpcyBpcyBhbiBpbnRlcm5hbCBjbGFzcyBub3QgaW50ZW5kZWQgZm9yIGRpcmVjdCB1c2VyIG1hbmlwdWxhdGlvbi5cblxuY29uc3Qge21lc3NhZ2VfdHlwZXMsIHByb3RvY29sc30gPSBJTlRFUk5BTFxuY29uc3Qgc3VwcG9ydGVkUHJvdG9jb2xzID0gcHJvdG9jb2xzLnNsaWNlKDAsIHByb3RvY29scy5sZW5ndGggLSAxKVxuXG5jb25zdCBpbmRleE9mID0gW10uaW5kZXhPZlxuXG5jbGFzcyBDb25uZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoY29uc3VtZXIpIHtcbiAgICB0aGlzLm9wZW4gPSB0aGlzLm9wZW4uYmluZCh0aGlzKVxuICAgIHRoaXMuY29uc3VtZXIgPSBjb25zdW1lclxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IHRoaXMuY29uc3VtZXIuc3Vic2NyaXB0aW9uc1xuICAgIHRoaXMubW9uaXRvciA9IG5ldyBDb25uZWN0aW9uTW9uaXRvcih0aGlzKVxuICAgIHRoaXMuZGlzY29ubmVjdGVkID0gdHJ1ZVxuICB9XG5cbiAgc2VuZChkYXRhKSB7XG4gICAgaWYgKHRoaXMuaXNPcGVuKCkpIHtcbiAgICAgIHRoaXMud2ViU29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoZGF0YSkpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBvcGVuKCkge1xuICAgIGlmICh0aGlzLmlzQWN0aXZlKCkpIHtcbiAgICAgIGxvZ2dlci5sb2coYEF0dGVtcHRlZCB0byBvcGVuIFdlYlNvY2tldCwgYnV0IGV4aXN0aW5nIHNvY2tldCBpcyAke3RoaXMuZ2V0U3RhdGUoKX1gKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNvY2tldFByb3RvY29scyA9IFsuLi5wcm90b2NvbHMsIC4uLnRoaXMuY29uc3VtZXIuc3VicHJvdG9jb2xzIHx8IFtdXVxuICAgICAgbG9nZ2VyLmxvZyhgT3BlbmluZyBXZWJTb2NrZXQsIGN1cnJlbnQgc3RhdGUgaXMgJHt0aGlzLmdldFN0YXRlKCl9LCBzdWJwcm90b2NvbHM6ICR7c29ja2V0UHJvdG9jb2xzfWApXG4gICAgICBpZiAodGhpcy53ZWJTb2NrZXQpIHsgdGhpcy51bmluc3RhbGxFdmVudEhhbmRsZXJzKCkgfVxuICAgICAgdGhpcy53ZWJTb2NrZXQgPSBuZXcgYWRhcHRlcnMuV2ViU29ja2V0KHRoaXMuY29uc3VtZXIudXJsLCBzb2NrZXRQcm90b2NvbHMpXG4gICAgICB0aGlzLmluc3RhbGxFdmVudEhhbmRsZXJzKClcbiAgICAgIHRoaXMubW9uaXRvci5zdGFydCgpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIGNsb3NlKHthbGxvd1JlY29ubmVjdH0gPSB7YWxsb3dSZWNvbm5lY3Q6IHRydWV9KSB7XG4gICAgaWYgKCFhbGxvd1JlY29ubmVjdCkgeyB0aGlzLm1vbml0b3Iuc3RvcCgpIH1cbiAgICAvLyBBdm9pZCBjbG9zaW5nIHdlYnNvY2tldHMgaW4gYSBcImNvbm5lY3RpbmdcIiBzdGF0ZSBkdWUgdG8gU2FmYXJpIDE1LjErIGJ1Zy4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vcmFpbHMvcmFpbHMvaXNzdWVzLzQzODM1I2lzc3VlY29tbWVudC0xMDAyMjg4NDc4XG4gICAgaWYgKHRoaXMuaXNPcGVuKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLndlYlNvY2tldC5jbG9zZSgpXG4gICAgfVxuICB9XG5cbiAgcmVvcGVuKCkge1xuICAgIGxvZ2dlci5sb2coYFJlb3BlbmluZyBXZWJTb2NrZXQsIGN1cnJlbnQgc3RhdGUgaXMgJHt0aGlzLmdldFN0YXRlKCl9YClcbiAgICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9zZSgpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIubG9nKFwiRmFpbGVkIHRvIHJlb3BlbiBXZWJTb2NrZXRcIiwgZXJyb3IpXG4gICAgICB9XG4gICAgICBmaW5hbGx5IHtcbiAgICAgICAgbG9nZ2VyLmxvZyhgUmVvcGVuaW5nIFdlYlNvY2tldCBpbiAke3RoaXMuY29uc3RydWN0b3IucmVvcGVuRGVsYXl9bXNgKVxuICAgICAgICBzZXRUaW1lb3V0KHRoaXMub3BlbiwgdGhpcy5jb25zdHJ1Y3Rvci5yZW9wZW5EZWxheSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMub3BlbigpXG4gICAgfVxuICB9XG5cbiAgZ2V0UHJvdG9jb2woKSB7XG4gICAgaWYgKHRoaXMud2ViU29ja2V0KSB7XG4gICAgICByZXR1cm4gdGhpcy53ZWJTb2NrZXQucHJvdG9jb2xcbiAgICB9XG4gIH1cblxuICBpc09wZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNTdGF0ZShcIm9wZW5cIilcbiAgfVxuXG4gIGlzQWN0aXZlKCkge1xuICAgIHJldHVybiB0aGlzLmlzU3RhdGUoXCJvcGVuXCIsIFwiY29ubmVjdGluZ1wiKVxuICB9XG5cbiAgdHJpZWRUb1JlY29ubmVjdCgpIHtcbiAgICByZXR1cm4gdGhpcy5tb25pdG9yLnJlY29ubmVjdEF0dGVtcHRzID4gMFxuICB9XG5cbiAgLy8gUHJpdmF0ZVxuXG4gIGlzUHJvdG9jb2xTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIGluZGV4T2YuY2FsbChzdXBwb3J0ZWRQcm90b2NvbHMsIHRoaXMuZ2V0UHJvdG9jb2woKSkgPj0gMFxuICB9XG5cbiAgaXNTdGF0ZSguLi5zdGF0ZXMpIHtcbiAgICByZXR1cm4gaW5kZXhPZi5jYWxsKHN0YXRlcywgdGhpcy5nZXRTdGF0ZSgpKSA+PSAwXG4gIH1cblxuICBnZXRTdGF0ZSgpIHtcbiAgICBpZiAodGhpcy53ZWJTb2NrZXQpIHtcbiAgICAgIGZvciAobGV0IHN0YXRlIGluIGFkYXB0ZXJzLldlYlNvY2tldCkge1xuICAgICAgICBpZiAoYWRhcHRlcnMuV2ViU29ja2V0W3N0YXRlXSA9PT0gdGhpcy53ZWJTb2NrZXQucmVhZHlTdGF0ZSkge1xuICAgICAgICAgIHJldHVybiBzdGF0ZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGluc3RhbGxFdmVudEhhbmRsZXJzKCkge1xuICAgIGZvciAobGV0IGV2ZW50TmFtZSBpbiB0aGlzLmV2ZW50cykge1xuICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0uYmluZCh0aGlzKVxuICAgICAgdGhpcy53ZWJTb2NrZXRbYG9uJHtldmVudE5hbWV9YF0gPSBoYW5kbGVyXG4gICAgfVxuICB9XG5cbiAgdW5pbnN0YWxsRXZlbnRIYW5kbGVycygpIHtcbiAgICBmb3IgKGxldCBldmVudE5hbWUgaW4gdGhpcy5ldmVudHMpIHtcbiAgICAgIHRoaXMud2ViU29ja2V0W2BvbiR7ZXZlbnROYW1lfWBdID0gZnVuY3Rpb24oKSB7fVxuICAgIH1cbiAgfVxuXG59XG5cbkNvbm5lY3Rpb24ucmVvcGVuRGVsYXkgPSA1MDBcblxuQ29ubmVjdGlvbi5wcm90b3R5cGUuZXZlbnRzID0ge1xuICBtZXNzYWdlKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmlzUHJvdG9jb2xTdXBwb3J0ZWQoKSkgeyByZXR1cm4gfVxuICAgIGNvbnN0IHtpZGVudGlmaWVyLCBtZXNzYWdlLCByZWFzb24sIHJlY29ubmVjdCwgdHlwZX0gPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIG1lc3NhZ2VfdHlwZXMud2VsY29tZTpcbiAgICAgICAgaWYgKHRoaXMudHJpZWRUb1JlY29ubmVjdCgpKSB7XG4gICAgICAgICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0ZWQgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb25pdG9yLnJlY29yZENvbm5lY3QoKVxuICAgICAgICByZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLnJlbG9hZCgpXG4gICAgICBjYXNlIG1lc3NhZ2VfdHlwZXMuZGlzY29ubmVjdDpcbiAgICAgICAgbG9nZ2VyLmxvZyhgRGlzY29ubmVjdGluZy4gUmVhc29uOiAke3JlYXNvbn1gKVxuICAgICAgICByZXR1cm4gdGhpcy5jbG9zZSh7YWxsb3dSZWNvbm5lY3Q6IHJlY29ubmVjdH0pXG4gICAgICBjYXNlIG1lc3NhZ2VfdHlwZXMucGluZzpcbiAgICAgICAgcmV0dXJuIHRoaXMubW9uaXRvci5yZWNvcmRQaW5nKClcbiAgICAgIGNhc2UgbWVzc2FnZV90eXBlcy5jb25maXJtYXRpb246XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5jb25maXJtU3Vic2NyaXB0aW9uKGlkZW50aWZpZXIpXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdEF0dGVtcHRlZCkge1xuICAgICAgICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdGVkID0gZmFsc2VcbiAgICAgICAgICByZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLm5vdGlmeShpZGVudGlmaWVyLCBcImNvbm5lY3RlZFwiLCB7cmVjb25uZWN0ZWQ6IHRydWV9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLnN1YnNjcmlwdGlvbnMubm90aWZ5KGlkZW50aWZpZXIsIFwiY29ubmVjdGVkXCIsIHtyZWNvbm5lY3RlZDogZmFsc2V9KVxuICAgICAgICB9XG4gICAgICBjYXNlIG1lc3NhZ2VfdHlwZXMucmVqZWN0aW9uOlxuICAgICAgICByZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLnJlamVjdChpZGVudGlmaWVyKVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5ub3RpZnkoaWRlbnRpZmllciwgXCJyZWNlaXZlZFwiLCBtZXNzYWdlKVxuICAgIH1cbiAgfSxcblxuICBvcGVuKCkge1xuICAgIGxvZ2dlci5sb2coYFdlYlNvY2tldCBvbm9wZW4gZXZlbnQsIHVzaW5nICcke3RoaXMuZ2V0UHJvdG9jb2woKX0nIHN1YnByb3RvY29sYClcbiAgICB0aGlzLmRpc2Nvbm5lY3RlZCA9IGZhbHNlXG4gICAgaWYgKCF0aGlzLmlzUHJvdG9jb2xTdXBwb3J0ZWQoKSkge1xuICAgICAgbG9nZ2VyLmxvZyhcIlByb3RvY29sIGlzIHVuc3VwcG9ydGVkLiBTdG9wcGluZyBtb25pdG9yIGFuZCBkaXNjb25uZWN0aW5nLlwiKVxuICAgICAgcmV0dXJuIHRoaXMuY2xvc2Uoe2FsbG93UmVjb25uZWN0OiBmYWxzZX0pXG4gICAgfVxuICB9LFxuXG4gIGNsb3NlKGV2ZW50KSB7XG4gICAgbG9nZ2VyLmxvZyhcIldlYlNvY2tldCBvbmNsb3NlIGV2ZW50XCIpXG4gICAgaWYgKHRoaXMuZGlzY29ubmVjdGVkKSB7IHJldHVybiB9XG4gICAgdGhpcy5kaXNjb25uZWN0ZWQgPSB0cnVlXG4gICAgdGhpcy5tb25pdG9yLnJlY29yZERpc2Nvbm5lY3QoKVxuICAgIHJldHVybiB0aGlzLnN1YnNjcmlwdGlvbnMubm90aWZ5QWxsKFwiZGlzY29ubmVjdGVkXCIsIHt3aWxsQXR0ZW1wdFJlY29ubmVjdDogdGhpcy5tb25pdG9yLmlzUnVubmluZygpfSlcbiAgfSxcblxuICBlcnJvcigpIHtcbiAgICBsb2dnZXIubG9nKFwiV2ViU29ja2V0IG9uZXJyb3IgZXZlbnRcIilcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb25uZWN0aW9uXG4iLCAiLy8gQSBuZXcgc3Vic2NyaXB0aW9uIGlzIGNyZWF0ZWQgdGhyb3VnaCB0aGUgQWN0aW9uQ2FibGUuU3Vic2NyaXB0aW9ucyBpbnN0YW5jZSBhdmFpbGFibGUgb24gdGhlIGNvbnN1bWVyLlxuLy8gSXQgcHJvdmlkZXMgYSBudW1iZXIgb2YgY2FsbGJhY2tzIGFuZCBhIG1ldGhvZCBmb3IgY2FsbGluZyByZW1vdGUgcHJvY2VkdXJlIGNhbGxzIG9uIHRoZSBjb3JyZXNwb25kaW5nXG4vLyBDaGFubmVsIGluc3RhbmNlIG9uIHRoZSBzZXJ2ZXIgc2lkZS5cbi8vXG4vLyBBbiBleGFtcGxlIGRlbW9uc3RyYXRlcyB0aGUgYmFzaWMgZnVuY3Rpb25hbGl0eTpcbi8vXG4vLyAgIEFwcC5hcHBlYXJhbmNlID0gQXBwLmNhYmxlLnN1YnNjcmlwdGlvbnMuY3JlYXRlKFwiQXBwZWFyYW5jZUNoYW5uZWxcIiwge1xuLy8gICAgIGNvbm5lY3RlZCgpIHtcbi8vICAgICAgIC8vIENhbGxlZCBvbmNlIHRoZSBzdWJzY3JpcHRpb24gaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGNvbXBsZXRlZFxuLy8gICAgIH0sXG4vL1xuLy8gICAgIGRpc2Nvbm5lY3RlZCh7IHdpbGxBdHRlbXB0UmVjb25uZWN0OiBib29sZWFuIH0pIHtcbi8vICAgICAgIC8vIENhbGxlZCB3aGVuIHRoZSBjbGllbnQgaGFzIGRpc2Nvbm5lY3RlZCB3aXRoIHRoZSBzZXJ2ZXIuXG4vLyAgICAgICAvLyBUaGUgb2JqZWN0IHdpbGwgaGF2ZSBhbiBgd2lsbEF0dGVtcHRSZWNvbm5lY3RgIHByb3BlcnR5IHdoaWNoXG4vLyAgICAgICAvLyBzYXlzIHdoZXRoZXIgdGhlIGNsaWVudCBoYXMgdGhlIGludGVudGlvbiBvZiBhdHRlbXB0aW5nXG4vLyAgICAgICAvLyB0byByZWNvbm5lY3QuXG4vLyAgICAgfSxcbi8vXG4vLyAgICAgYXBwZWFyKCkge1xuLy8gICAgICAgdGhpcy5wZXJmb3JtKCdhcHBlYXInLCB7YXBwZWFyaW5nX29uOiB0aGlzLmFwcGVhcmluZ09uKCl9KVxuLy8gICAgIH0sXG4vL1xuLy8gICAgIGF3YXkoKSB7XG4vLyAgICAgICB0aGlzLnBlcmZvcm0oJ2F3YXknKVxuLy8gICAgIH0sXG4vL1xuLy8gICAgIGFwcGVhcmluZ09uKCkge1xuLy8gICAgICAgJCgnbWFpbicpLmRhdGEoJ2FwcGVhcmluZy1vbicpXG4vLyAgICAgfVxuLy8gICB9KVxuLy9cbi8vIFRoZSBtZXRob2RzICNhcHBlYXIgYW5kICNhd2F5IGZvcndhcmQgdGhlaXIgaW50ZW50IHRvIHRoZSByZW1vdGUgQXBwZWFyYW5jZUNoYW5uZWwgaW5zdGFuY2Ugb24gdGhlIHNlcnZlclxuLy8gYnkgY2FsbGluZyB0aGUgYHBlcmZvcm1gIG1ldGhvZCB3aXRoIHRoZSBmaXJzdCBwYXJhbWV0ZXIgYmVpbmcgdGhlIGFjdGlvbiAod2hpY2ggbWFwcyB0byBBcHBlYXJhbmNlQ2hhbm5lbCNhcHBlYXIvYXdheSkuXG4vLyBUaGUgc2Vjb25kIHBhcmFtZXRlciBpcyBhIGhhc2ggdGhhdCdsbCBnZXQgSlNPTiBlbmNvZGVkIGFuZCBtYWRlIGF2YWlsYWJsZSBvbiB0aGUgc2VydmVyIGluIHRoZSBkYXRhIHBhcmFtZXRlci5cbi8vXG4vLyBUaGlzIGlzIGhvdyB0aGUgc2VydmVyIGNvbXBvbmVudCB3b3VsZCBsb29rOlxuLy9cbi8vICAgY2xhc3MgQXBwZWFyYW5jZUNoYW5uZWwgPCBBcHBsaWNhdGlvbkFjdGlvbkNhYmxlOjpDaGFubmVsXG4vLyAgICAgZGVmIHN1YnNjcmliZWRcbi8vICAgICAgIGN1cnJlbnRfdXNlci5hcHBlYXJcbi8vICAgICBlbmRcbi8vXG4vLyAgICAgZGVmIHVuc3Vic2NyaWJlZFxuLy8gICAgICAgY3VycmVudF91c2VyLmRpc2FwcGVhclxuLy8gICAgIGVuZFxuLy9cbi8vICAgICBkZWYgYXBwZWFyKGRhdGEpXG4vLyAgICAgICBjdXJyZW50X3VzZXIuYXBwZWFyIG9uOiBkYXRhWydhcHBlYXJpbmdfb24nXVxuLy8gICAgIGVuZFxuLy9cbi8vICAgICBkZWYgYXdheVxuLy8gICAgICAgY3VycmVudF91c2VyLmF3YXlcbi8vICAgICBlbmRcbi8vICAgZW5kXG4vL1xuLy8gVGhlIFwiQXBwZWFyYW5jZUNoYW5uZWxcIiBuYW1lIGlzIGF1dG9tYXRpY2FsbHkgbWFwcGVkIGJldHdlZW4gdGhlIGNsaWVudC1zaWRlIHN1YnNjcmlwdGlvbiBjcmVhdGlvbiBhbmQgdGhlIHNlcnZlci1zaWRlIFJ1YnkgY2xhc3MgbmFtZS5cbi8vIFRoZSBBcHBlYXJhbmNlQ2hhbm5lbCNhcHBlYXIvYXdheSBwdWJsaWMgbWV0aG9kcyBhcmUgZXhwb3NlZCBhdXRvbWF0aWNhbGx5IHRvIGNsaWVudC1zaWRlIGludm9jYXRpb24gdGhyb3VnaCB0aGUgcGVyZm9ybSBtZXRob2QuXG5cbmNvbnN0IGV4dGVuZCA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydGllcykge1xuICBpZiAocHJvcGVydGllcyAhPSBudWxsKSB7XG4gICAgZm9yIChsZXQga2V5IGluIHByb3BlcnRpZXMpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gcHJvcGVydGllc1trZXldXG4gICAgICBvYmplY3Rba2V5XSA9IHZhbHVlXG4gICAgfVxuICB9XG4gIHJldHVybiBvYmplY3Rcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3Vic2NyaXB0aW9uIHtcbiAgY29uc3RydWN0b3IoY29uc3VtZXIsIHBhcmFtcyA9IHt9LCBtaXhpbikge1xuICAgIHRoaXMuY29uc3VtZXIgPSBjb25zdW1lclxuICAgIHRoaXMuaWRlbnRpZmllciA9IEpTT04uc3RyaW5naWZ5KHBhcmFtcylcbiAgICBleHRlbmQodGhpcywgbWl4aW4pXG4gIH1cblxuICAvLyBQZXJmb3JtIGEgY2hhbm5lbCBhY3Rpb24gd2l0aCB0aGUgb3B0aW9uYWwgZGF0YSBwYXNzZWQgYXMgYW4gYXR0cmlidXRlXG4gIHBlcmZvcm0oYWN0aW9uLCBkYXRhID0ge30pIHtcbiAgICBkYXRhLmFjdGlvbiA9IGFjdGlvblxuICAgIHJldHVybiB0aGlzLnNlbmQoZGF0YSlcbiAgfVxuXG4gIHNlbmQoZGF0YSkge1xuICAgIHJldHVybiB0aGlzLmNvbnN1bWVyLnNlbmQoe2NvbW1hbmQ6IFwibWVzc2FnZVwiLCBpZGVudGlmaWVyOiB0aGlzLmlkZW50aWZpZXIsIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpfSlcbiAgfVxuXG4gIHVuc3Vic2NyaWJlKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnN1bWVyLnN1YnNjcmlwdGlvbnMucmVtb3ZlKHRoaXMpXG4gIH1cbn1cbiIsICJpbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlclwiXG5cbi8vIFJlc3BvbnNpYmxlIGZvciBlbnN1cmluZyBjaGFubmVsIHN1YnNjcmliZSBjb21tYW5kIGlzIGNvbmZpcm1lZCwgcmV0cnlpbmcgdW50aWwgY29uZmlybWF0aW9uIGlzIHJlY2VpdmVkLlxuLy8gSW50ZXJuYWwgY2xhc3MsIG5vdCBpbnRlbmRlZCBmb3IgZGlyZWN0IHVzZXIgbWFuaXB1bGF0aW9uLlxuXG5jbGFzcyBTdWJzY3JpcHRpb25HdWFyYW50b3Ige1xuICBjb25zdHJ1Y3RvcihzdWJzY3JpcHRpb25zKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zID0gc3Vic2NyaXB0aW9uc1xuICAgIHRoaXMucGVuZGluZ1N1YnNjcmlwdGlvbnMgPSBbXVxuICB9XG5cbiAgZ3VhcmFudGVlKHN1YnNjcmlwdGlvbikge1xuICAgIGlmKHRoaXMucGVuZGluZ1N1YnNjcmlwdGlvbnMuaW5kZXhPZihzdWJzY3JpcHRpb24pID09IC0xKXsgXG4gICAgICBsb2dnZXIubG9nKGBTdWJzY3JpcHRpb25HdWFyYW50b3IgZ3VhcmFudGVlaW5nICR7c3Vic2NyaXB0aW9uLmlkZW50aWZpZXJ9YClcbiAgICAgIHRoaXMucGVuZGluZ1N1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpcHRpb24pIFxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGxvZ2dlci5sb2coYFN1YnNjcmlwdGlvbkd1YXJhbnRvciBhbHJlYWR5IGd1YXJhbnRlZWluZyAke3N1YnNjcmlwdGlvbi5pZGVudGlmaWVyfWApXG4gICAgfVxuICAgIHRoaXMuc3RhcnRHdWFyYW50ZWVpbmcoKVxuICB9XG5cbiAgZm9yZ2V0KHN1YnNjcmlwdGlvbikge1xuICAgIGxvZ2dlci5sb2coYFN1YnNjcmlwdGlvbkd1YXJhbnRvciBmb3JnZXR0aW5nICR7c3Vic2NyaXB0aW9uLmlkZW50aWZpZXJ9YClcbiAgICB0aGlzLnBlbmRpbmdTdWJzY3JpcHRpb25zID0gKHRoaXMucGVuZGluZ1N1YnNjcmlwdGlvbnMuZmlsdGVyKChzKSA9PiBzICE9PSBzdWJzY3JpcHRpb24pKVxuICB9XG5cbiAgc3RhcnRHdWFyYW50ZWVpbmcoKSB7XG4gICAgdGhpcy5zdG9wR3VhcmFudGVlaW5nKClcbiAgICB0aGlzLnJldHJ5U3Vic2NyaWJpbmcoKVxuICB9XG4gIFxuICBzdG9wR3VhcmFudGVlaW5nKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnJldHJ5VGltZW91dClcbiAgfVxuXG4gIHJldHJ5U3Vic2NyaWJpbmcoKSB7XG4gICAgdGhpcy5yZXRyeVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbnMgJiYgdHlwZW9mKHRoaXMuc3Vic2NyaXB0aW9ucy5zdWJzY3JpYmUpID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhpcy5wZW5kaW5nU3Vic2NyaXB0aW9ucy5tYXAoKHN1YnNjcmlwdGlvbikgPT4ge1xuICAgICAgICAgIGxvZ2dlci5sb2coYFN1YnNjcmlwdGlvbkd1YXJhbnRvciByZXN1YnNjcmliaW5nICR7c3Vic2NyaXB0aW9uLmlkZW50aWZpZXJ9YClcbiAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMuc3Vic2NyaWJlKHN1YnNjcmlwdGlvbilcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgLCA1MDApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3Vic2NyaXB0aW9uR3VhcmFudG9yIiwgImltcG9ydCBTdWJzY3JpcHRpb24gZnJvbSBcIi4vc3Vic2NyaXB0aW9uXCJcbmltcG9ydCBTdWJzY3JpcHRpb25HdWFyYW50b3IgZnJvbSBcIi4vc3Vic2NyaXB0aW9uX2d1YXJhbnRvclwiXG5pbXBvcnQgbG9nZ2VyIGZyb20gXCIuL2xvZ2dlclwiXG5cbi8vIENvbGxlY3Rpb24gY2xhc3MgZm9yIGNyZWF0aW5nIChhbmQgaW50ZXJuYWxseSBtYW5hZ2luZykgY2hhbm5lbCBzdWJzY3JpcHRpb25zLlxuLy8gVGhlIG9ubHkgbWV0aG9kIGludGVuZGVkIHRvIGJlIHRyaWdnZXJlZCBieSB0aGUgdXNlciBpcyBBY3Rpb25DYWJsZS5TdWJzY3JpcHRpb25zI2NyZWF0ZSxcbi8vIGFuZCBpdCBzaG91bGQgYmUgY2FsbGVkIHRocm91Z2ggdGhlIGNvbnN1bWVyIGxpa2Ugc286XG4vL1xuLy8gICBBcHAgPSB7fVxuLy8gICBBcHAuY2FibGUgPSBBY3Rpb25DYWJsZS5jcmVhdGVDb25zdW1lcihcIndzOi8vZXhhbXBsZS5jb20vYWNjb3VudHMvMVwiKVxuLy8gICBBcHAuYXBwZWFyYW5jZSA9IEFwcC5jYWJsZS5zdWJzY3JpcHRpb25zLmNyZWF0ZShcIkFwcGVhcmFuY2VDaGFubmVsXCIpXG4vL1xuLy8gRm9yIG1vcmUgZGV0YWlscyBvbiBob3cgeW91J2QgY29uZmlndXJlIGFuIGFjdHVhbCBjaGFubmVsIHN1YnNjcmlwdGlvbiwgc2VlIEFjdGlvbkNhYmxlLlN1YnNjcmlwdGlvbi5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3Vic2NyaXB0aW9ucyB7XG4gIGNvbnN0cnVjdG9yKGNvbnN1bWVyKSB7XG4gICAgdGhpcy5jb25zdW1lciA9IGNvbnN1bWVyXG4gICAgdGhpcy5ndWFyYW50b3IgPSBuZXcgU3Vic2NyaXB0aW9uR3VhcmFudG9yKHRoaXMpXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zID0gW11cbiAgfVxuXG4gIGNyZWF0ZShjaGFubmVsTmFtZSwgbWl4aW4pIHtcbiAgICBjb25zdCBjaGFubmVsID0gY2hhbm5lbE5hbWVcbiAgICBjb25zdCBwYXJhbXMgPSB0eXBlb2YgY2hhbm5lbCA9PT0gXCJvYmplY3RcIiA/IGNoYW5uZWwgOiB7Y2hhbm5lbH1cbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKHRoaXMuY29uc3VtZXIsIHBhcmFtcywgbWl4aW4pXG4gICAgcmV0dXJuIHRoaXMuYWRkKHN1YnNjcmlwdGlvbilcbiAgfVxuXG4gIC8vIFByaXZhdGVcblxuICBhZGQoc3Vic2NyaXB0aW9uKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaXB0aW9uKVxuICAgIHRoaXMuY29uc3VtZXIuZW5zdXJlQWN0aXZlQ29ubmVjdGlvbigpXG4gICAgdGhpcy5ub3RpZnkoc3Vic2NyaXB0aW9uLCBcImluaXRpYWxpemVkXCIpXG4gICAgdGhpcy5zdWJzY3JpYmUoc3Vic2NyaXB0aW9uKVxuICAgIHJldHVybiBzdWJzY3JpcHRpb25cbiAgfVxuXG4gIHJlbW92ZShzdWJzY3JpcHRpb24pIHtcbiAgICB0aGlzLmZvcmdldChzdWJzY3JpcHRpb24pXG4gICAgaWYgKCF0aGlzLmZpbmRBbGwoc3Vic2NyaXB0aW9uLmlkZW50aWZpZXIpLmxlbmd0aCkge1xuICAgICAgdGhpcy5zZW5kQ29tbWFuZChzdWJzY3JpcHRpb24sIFwidW5zdWJzY3JpYmVcIilcbiAgICB9XG4gICAgcmV0dXJuIHN1YnNjcmlwdGlvblxuICB9XG5cbiAgcmVqZWN0KGlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gdGhpcy5maW5kQWxsKGlkZW50aWZpZXIpLm1hcCgoc3Vic2NyaXB0aW9uKSA9PiB7XG4gICAgICB0aGlzLmZvcmdldChzdWJzY3JpcHRpb24pXG4gICAgICB0aGlzLm5vdGlmeShzdWJzY3JpcHRpb24sIFwicmVqZWN0ZWRcIilcbiAgICAgIHJldHVybiBzdWJzY3JpcHRpb25cbiAgICB9KVxuICB9XG5cbiAgZm9yZ2V0KHN1YnNjcmlwdGlvbikge1xuICAgIHRoaXMuZ3VhcmFudG9yLmZvcmdldChzdWJzY3JpcHRpb24pXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zID0gKHRoaXMuc3Vic2NyaXB0aW9ucy5maWx0ZXIoKHMpID0+IHMgIT09IHN1YnNjcmlwdGlvbikpXG4gICAgcmV0dXJuIHN1YnNjcmlwdGlvblxuICB9XG5cbiAgZmluZEFsbChpZGVudGlmaWVyKSB7XG4gICAgcmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5maWx0ZXIoKHMpID0+IHMuaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcilcbiAgfVxuXG4gIHJlbG9hZCgpIHtcbiAgICByZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLm1hcCgoc3Vic2NyaXB0aW9uKSA9PlxuICAgICAgdGhpcy5zdWJzY3JpYmUoc3Vic2NyaXB0aW9uKSlcbiAgfVxuXG4gIG5vdGlmeUFsbChjYWxsYmFja05hbWUsIC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLm1hcCgoc3Vic2NyaXB0aW9uKSA9PlxuICAgICAgdGhpcy5ub3RpZnkoc3Vic2NyaXB0aW9uLCBjYWxsYmFja05hbWUsIC4uLmFyZ3MpKVxuICB9XG5cbiAgbm90aWZ5KHN1YnNjcmlwdGlvbiwgY2FsbGJhY2tOYW1lLCAuLi5hcmdzKSB7XG4gICAgbGV0IHN1YnNjcmlwdGlvbnNcbiAgICBpZiAodHlwZW9mIHN1YnNjcmlwdGlvbiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgc3Vic2NyaXB0aW9ucyA9IHRoaXMuZmluZEFsbChzdWJzY3JpcHRpb24pXG4gICAgfSBlbHNlIHtcbiAgICAgIHN1YnNjcmlwdGlvbnMgPSBbc3Vic2NyaXB0aW9uXVxuICAgIH1cblxuICAgIHJldHVybiBzdWJzY3JpcHRpb25zLm1hcCgoc3Vic2NyaXB0aW9uKSA9PlxuICAgICAgKHR5cGVvZiBzdWJzY3JpcHRpb25bY2FsbGJhY2tOYW1lXSA9PT0gXCJmdW5jdGlvblwiID8gc3Vic2NyaXB0aW9uW2NhbGxiYWNrTmFtZV0oLi4uYXJncykgOiB1bmRlZmluZWQpKVxuICB9XG5cbiAgc3Vic2NyaWJlKHN1YnNjcmlwdGlvbikge1xuICAgIGlmICh0aGlzLnNlbmRDb21tYW5kKHN1YnNjcmlwdGlvbiwgXCJzdWJzY3JpYmVcIikpIHtcbiAgICAgIHRoaXMuZ3VhcmFudG9yLmd1YXJhbnRlZShzdWJzY3JpcHRpb24pXG4gICAgfVxuICB9XG5cbiAgY29uZmlybVN1YnNjcmlwdGlvbihpZGVudGlmaWVyKSB7XG4gICAgbG9nZ2VyLmxvZyhgU3Vic2NyaXB0aW9uIGNvbmZpcm1lZCAke2lkZW50aWZpZXJ9YClcbiAgICB0aGlzLmZpbmRBbGwoaWRlbnRpZmllcikubWFwKChzdWJzY3JpcHRpb24pID0+XG4gICAgICB0aGlzLmd1YXJhbnRvci5mb3JnZXQoc3Vic2NyaXB0aW9uKSlcbiAgfVxuXG4gIHNlbmRDb21tYW5kKHN1YnNjcmlwdGlvbiwgY29tbWFuZCkge1xuICAgIGNvbnN0IHtpZGVudGlmaWVyfSA9IHN1YnNjcmlwdGlvblxuICAgIHJldHVybiB0aGlzLmNvbnN1bWVyLnNlbmQoe2NvbW1hbmQsIGlkZW50aWZpZXJ9KVxuICB9XG59XG4iLCAiaW1wb3J0IENvbm5lY3Rpb24gZnJvbSBcIi4vY29ubmVjdGlvblwiXG5pbXBvcnQgU3Vic2NyaXB0aW9ucyBmcm9tIFwiLi9zdWJzY3JpcHRpb25zXCJcblxuLy8gVGhlIEFjdGlvbkNhYmxlLkNvbnN1bWVyIGVzdGFibGlzaGVzIHRoZSBjb25uZWN0aW9uIHRvIGEgc2VydmVyLXNpZGUgUnVieSBDb25uZWN0aW9uIG9iamVjdC4gT25jZSBlc3RhYmxpc2hlZCxcbi8vIHRoZSBBY3Rpb25DYWJsZS5Db25uZWN0aW9uTW9uaXRvciB3aWxsIGVuc3VyZSB0aGF0IGl0cyBwcm9wZXJseSBtYWludGFpbmVkIHRocm91Z2ggaGVhcnRiZWF0cyBhbmQgY2hlY2tpbmcgZm9yIHN0YWxlIHVwZGF0ZXMuXG4vLyBUaGUgQ29uc3VtZXIgaW5zdGFuY2UgaXMgYWxzbyB0aGUgZ2F0ZXdheSB0byBlc3RhYmxpc2hpbmcgc3Vic2NyaXB0aW9ucyB0byBkZXNpcmVkIGNoYW5uZWxzIHRocm91Z2ggdGhlICNjcmVhdGVTdWJzY3JpcHRpb25cbi8vIG1ldGhvZC5cbi8vXG4vLyBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRoaXMgY2FuIGJlIHNldCB1cDpcbi8vXG4vLyAgIEFwcCA9IHt9XG4vLyAgIEFwcC5jYWJsZSA9IEFjdGlvbkNhYmxlLmNyZWF0ZUNvbnN1bWVyKFwid3M6Ly9leGFtcGxlLmNvbS9hY2NvdW50cy8xXCIpXG4vLyAgIEFwcC5hcHBlYXJhbmNlID0gQXBwLmNhYmxlLnN1YnNjcmlwdGlvbnMuY3JlYXRlKFwiQXBwZWFyYW5jZUNoYW5uZWxcIilcbi8vXG4vLyBGb3IgbW9yZSBkZXRhaWxzIG9uIGhvdyB5b3UnZCBjb25maWd1cmUgYW4gYWN0dWFsIGNoYW5uZWwgc3Vic2NyaXB0aW9uLCBzZWUgQWN0aW9uQ2FibGUuU3Vic2NyaXB0aW9uLlxuLy9cbi8vIFdoZW4gYSBjb25zdW1lciBpcyBjcmVhdGVkLCBpdCBhdXRvbWF0aWNhbGx5IGNvbm5lY3RzIHdpdGggdGhlIHNlcnZlci5cbi8vXG4vLyBUbyBkaXNjb25uZWN0IGZyb20gdGhlIHNlcnZlciwgY2FsbFxuLy9cbi8vICAgQXBwLmNhYmxlLmRpc2Nvbm5lY3QoKVxuLy9cbi8vIGFuZCB0byByZXN0YXJ0IHRoZSBjb25uZWN0aW9uOlxuLy9cbi8vICAgQXBwLmNhYmxlLmNvbm5lY3QoKVxuLy9cbi8vIEFueSBjaGFubmVsIHN1YnNjcmlwdGlvbnMgd2hpY2ggZXhpc3RlZCBwcmlvciB0byBkaXNjb25uZWN0aW5nIHdpbGxcbi8vIGF1dG9tYXRpY2FsbHkgcmVzdWJzY3JpYmUuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnN1bWVyIHtcbiAgY29uc3RydWN0b3IodXJsKSB7XG4gICAgdGhpcy5fdXJsID0gdXJsXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zID0gbmV3IFN1YnNjcmlwdGlvbnModGhpcylcbiAgICB0aGlzLmNvbm5lY3Rpb24gPSBuZXcgQ29ubmVjdGlvbih0aGlzKVxuICAgIHRoaXMuc3VicHJvdG9jb2xzID0gW11cbiAgfVxuXG4gIGdldCB1cmwoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVdlYlNvY2tldFVSTCh0aGlzLl91cmwpXG4gIH1cblxuICBzZW5kKGRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uLnNlbmQoZGF0YSlcbiAgfVxuXG4gIGNvbm5lY3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5vcGVuKClcbiAgfVxuXG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5jbG9zZSh7YWxsb3dSZWNvbm5lY3Q6IGZhbHNlfSlcbiAgfVxuXG4gIGVuc3VyZUFjdGl2ZUNvbm5lY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLmNvbm5lY3Rpb24uaXNBY3RpdmUoKSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5vcGVuKClcbiAgICB9XG4gIH1cblxuICBhZGRTdWJQcm90b2NvbChzdWJwcm90b2NvbCkge1xuICAgIHRoaXMuc3VicHJvdG9jb2xzID0gWy4uLnRoaXMuc3VicHJvdG9jb2xzLCBzdWJwcm90b2NvbF1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlV2ViU29ja2V0VVJMKHVybCkge1xuICBpZiAodHlwZW9mIHVybCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdXJsID0gdXJsKClcbiAgfVxuXG4gIGlmICh1cmwgJiYgIS9ed3NzPzovaS50ZXN0KHVybCkpIHtcbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIilcbiAgICBhLmhyZWYgPSB1cmxcbiAgICAvLyBGaXggcG9wdWxhdGluZyBMb2NhdGlvbiBwcm9wZXJ0aWVzIGluIElFLiBPdGhlcndpc2UsIHByb3RvY29sIHdpbGwgYmUgYmxhbmsuXG4gICAgYS5ocmVmID0gYS5ocmVmXG4gICAgYS5wcm90b2NvbCA9IGEucHJvdG9jb2wucmVwbGFjZShcImh0dHBcIiwgXCJ3c1wiKVxuICAgIHJldHVybiBhLmhyZWZcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdXJsXG4gIH1cbn1cbiIsICJpbXBvcnQgQ29ubmVjdGlvbiBmcm9tIFwiLi9jb25uZWN0aW9uXCJcbmltcG9ydCBDb25uZWN0aW9uTW9uaXRvciBmcm9tIFwiLi9jb25uZWN0aW9uX21vbml0b3JcIlxuaW1wb3J0IENvbnN1bWVyLCB7IGNyZWF0ZVdlYlNvY2tldFVSTCB9IGZyb20gXCIuL2NvbnN1bWVyXCJcbmltcG9ydCBJTlRFUk5BTCBmcm9tIFwiLi9pbnRlcm5hbFwiXG5pbXBvcnQgU3Vic2NyaXB0aW9uIGZyb20gXCIuL3N1YnNjcmlwdGlvblwiXG5pbXBvcnQgU3Vic2NyaXB0aW9ucyBmcm9tIFwiLi9zdWJzY3JpcHRpb25zXCJcbmltcG9ydCBTdWJzY3JpcHRpb25HdWFyYW50b3IgZnJvbSBcIi4vc3Vic2NyaXB0aW9uX2d1YXJhbnRvclwiXG5pbXBvcnQgYWRhcHRlcnMgZnJvbSBcIi4vYWRhcHRlcnNcIlxuaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi9sb2dnZXJcIlxuXG5leHBvcnQge1xuICBDb25uZWN0aW9uLFxuICBDb25uZWN0aW9uTW9uaXRvcixcbiAgQ29uc3VtZXIsXG4gIElOVEVSTkFMLFxuICBTdWJzY3JpcHRpb24sXG4gIFN1YnNjcmlwdGlvbnMsXG4gIFN1YnNjcmlwdGlvbkd1YXJhbnRvcixcbiAgYWRhcHRlcnMsXG4gIGNyZWF0ZVdlYlNvY2tldFVSTCxcbiAgbG9nZ2VyLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29uc3VtZXIodXJsID0gZ2V0Q29uZmlnKFwidXJsXCIpIHx8IElOVEVSTkFMLmRlZmF1bHRfbW91bnRfcGF0aCkge1xuICByZXR1cm4gbmV3IENvbnN1bWVyKHVybClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbmZpZyhuYW1lKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoYG1ldGFbbmFtZT0nYWN0aW9uLWNhYmxlLSR7bmFtZX0nXWApXG4gIGlmIChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKVxuICB9XG59XG4iLCAiZXhwb3J0IGRlZmF1bHQgKHRoaW5nOiBhbnkpID0+ICEhKHRoaW5nICYmIHRoaW5nLldpbmRvdykgJiYgdGhpbmcgaW5zdGFuY2VvZiB0aGluZy5XaW5kb3dcbiIsICJpbXBvcnQgaXNXaW5kb3cgZnJvbSAnLi9pc1dpbmRvdydcblxuZXhwb3J0IGxldCByZWFsV2luZG93ID0gdW5kZWZpbmVkIGFzIFdpbmRvd1xuXG5sZXQgd2luID0gdW5kZWZpbmVkIGFzIFdpbmRvd1xuZXhwb3J0IHsgd2luIGFzIHdpbmRvdyB9XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KHdpbmRvdzogV2luZG93ICYgeyB3cmFwPzogKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkgfSkge1xuICAvLyBnZXQgd3JhcHBlZCB3aW5kb3cgaWYgdXNpbmcgU2hhZG93IERPTSBwb2x5ZmlsbFxuXG4gIHJlYWxXaW5kb3cgPSB3aW5kb3dcblxuICAvLyBjcmVhdGUgYSBUZXh0Tm9kZVxuICBjb25zdCBlbCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJylcblxuICAvLyBjaGVjayBpZiBpdCdzIHdyYXBwZWQgYnkgYSBwb2x5ZmlsbFxuICBpZiAoZWwub3duZXJEb2N1bWVudCAhPT0gd2luZG93LmRvY3VtZW50ICYmIHR5cGVvZiB3aW5kb3cud3JhcCA9PT0gJ2Z1bmN0aW9uJyAmJiB3aW5kb3cud3JhcChlbCkgPT09IGVsKSB7XG4gICAgLy8gdXNlIHdyYXBwZWQgd2luZG93XG4gICAgd2luZG93ID0gd2luZG93LndyYXAod2luZG93KVxuICB9XG5cbiAgd2luID0gd2luZG93XG59XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAhIXdpbmRvdykge1xuICBpbml0KHdpbmRvdylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFdpbmRvdyhub2RlOiBhbnkpIHtcbiAgaWYgKGlzV2luZG93KG5vZGUpKSB7XG4gICAgcmV0dXJuIG5vZGVcbiAgfVxuXG4gIGNvbnN0IHJvb3ROb2RlID0gbm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGVcblxuICByZXR1cm4gcm9vdE5vZGUuZGVmYXVsdFZpZXcgfHwgd2luLndpbmRvd1xufVxuIiwgImltcG9ydCBpc1dpbmRvdyBmcm9tICcuL2lzV2luZG93J1xuaW1wb3J0ICogYXMgd2luIGZyb20gJy4vd2luZG93J1xuXG5jb25zdCB3aW5kb3cgPSAodGhpbmc6IGFueSk6IHRoaW5nIGlzIFdpbmRvdyA9PiB0aGluZyA9PT0gd2luLndpbmRvdyB8fCBpc1dpbmRvdyh0aGluZylcblxuY29uc3QgZG9jRnJhZyA9ICh0aGluZzogYW55KTogdGhpbmcgaXMgRG9jdW1lbnRGcmFnbWVudCA9PiBvYmplY3QodGhpbmcpICYmIHRoaW5nLm5vZGVUeXBlID09PSAxMVxuXG5jb25zdCBvYmplY3QgPSAodGhpbmc6IGFueSk6IHRoaW5nIGlzIHsgW2luZGV4OiBzdHJpbmddOiBhbnkgfSA9PiAhIXRoaW5nICYmIHR5cGVvZiB0aGluZyA9PT0gJ29iamVjdCdcblxuY29uc3QgZnVuYyA9ICh0aGluZzogYW55KTogdGhpbmcgaXMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkgPT4gdHlwZW9mIHRoaW5nID09PSAnZnVuY3Rpb24nXG5cbmNvbnN0IG51bWJlciA9ICh0aGluZzogYW55KTogdGhpbmcgaXMgbnVtYmVyID0+IHR5cGVvZiB0aGluZyA9PT0gJ251bWJlcidcblxuY29uc3QgYm9vbCA9ICh0aGluZzogYW55KTogdGhpbmcgaXMgYm9vbGVhbiA9PiB0eXBlb2YgdGhpbmcgPT09ICdib29sZWFuJ1xuXG5jb25zdCBzdHJpbmcgPSAodGhpbmc6IGFueSk6IHRoaW5nIGlzIHN0cmluZyA9PiB0eXBlb2YgdGhpbmcgPT09ICdzdHJpbmcnXG5cbmNvbnN0IGVsZW1lbnQgPSAodGhpbmc6IGFueSk6IHRoaW5nIGlzIEhUTUxFbGVtZW50IHwgU1ZHRWxlbWVudCA9PiB7XG4gIGlmICghdGhpbmcgfHwgdHlwZW9mIHRoaW5nICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgY29uc3QgX3dpbmRvdyA9IHdpbi5nZXRXaW5kb3codGhpbmcpIHx8IHdpbi53aW5kb3dcblxuICByZXR1cm4gL29iamVjdHxmdW5jdGlvbi8udGVzdCh0eXBlb2YgRWxlbWVudClcbiAgICA/IHRoaW5nIGluc3RhbmNlb2YgRWxlbWVudCB8fCB0aGluZyBpbnN0YW5jZW9mIF93aW5kb3cuRWxlbWVudFxuICAgIDogdGhpbmcubm9kZVR5cGUgPT09IDEgJiYgdHlwZW9mIHRoaW5nLm5vZGVOYW1lID09PSAnc3RyaW5nJ1xufVxuXG5jb25zdCBwbGFpbk9iamVjdDogdHlwZW9mIG9iamVjdCA9ICh0aGluZzogYW55KTogdGhpbmcgaXMgeyBbaW5kZXg6IHN0cmluZ106IGFueSB9ID0+XG4gIG9iamVjdCh0aGluZykgJiYgISF0aGluZy5jb25zdHJ1Y3RvciAmJiAvZnVuY3Rpb24gT2JqZWN0XFxiLy50ZXN0KHRoaW5nLmNvbnN0cnVjdG9yLnRvU3RyaW5nKCkpXG5cbmNvbnN0IGFycmF5ID0gPFQgZXh0ZW5kcyB1bmtub3duPih0aGluZzogYW55KTogdGhpbmcgaXMgVFtdID0+XG4gIG9iamVjdCh0aGluZykgJiYgdHlwZW9mIHRoaW5nLmxlbmd0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgZnVuYyh0aGluZy5zcGxpY2UpXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgd2luZG93LFxuICBkb2NGcmFnLFxuICBvYmplY3QsXG4gIGZ1bmMsXG4gIG51bWJlcixcbiAgYm9vbCxcbiAgc3RyaW5nLFxuICBlbGVtZW50LFxuICBwbGFpbk9iamVjdCxcbiAgYXJyYXksXG59XG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIHsgSW50ZXJhY3RFdmVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RFdmVudCdcbmltcG9ydCB0eXBlIHsgUGVyQWN0aW9uRGVmYXVsdHMgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnXG5pbXBvcnQgdHlwZSB7IFNjb3BlLCBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBMaXN0ZW5lcnNBcmcsIE9yQm9vbGVhbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZScge1xuICBpbnRlcmZhY2UgSW50ZXJhY3RhYmxlIHtcbiAgICBkcmFnZ2FibGUob3B0aW9uczogUGFydGlhbDxPckJvb2xlYW48RHJhZ2dhYmxlT3B0aW9ucz4+IHwgYm9vbGVhbik6IHRoaXNcbiAgICBkcmFnZ2FibGUoKTogRHJhZ2dhYmxlT3B0aW9uc1xuICAgIC8qKlxuICAgICAqIGBgYGpzXG4gICAgICogaW50ZXJhY3QoZWxlbWVudCkuZHJhZ2dhYmxlKHtcbiAgICAgKiAgICAgb25zdGFydDogZnVuY3Rpb24gKGV2ZW50KSB7fSxcbiAgICAgKiAgICAgb25tb3ZlIDogZnVuY3Rpb24gKGV2ZW50KSB7fSxcbiAgICAgKiAgICAgb25lbmQgIDogZnVuY3Rpb24gKGV2ZW50KSB7fSxcbiAgICAgKlxuICAgICAqICAgICAvLyB0aGUgYXhpcyBpbiB3aGljaCB0aGUgZmlyc3QgbW92ZW1lbnQgbXVzdCBiZVxuICAgICAqICAgICAvLyBmb3IgdGhlIGRyYWcgc2VxdWVuY2UgdG8gc3RhcnRcbiAgICAgKiAgICAgLy8gJ3h5JyBieSBkZWZhdWx0IC0gYW55IGRpcmVjdGlvblxuICAgICAqICAgICBzdGFydEF4aXM6ICd4JyB8fCAneScgfHwgJ3h5JyxcbiAgICAgKlxuICAgICAqICAgICAvLyAneHknIGJ5IGRlZmF1bHQgLSBkb24ndCByZXN0cmljdCB0byBvbmUgYXhpcyAobW92ZSBpbiBhbnkgZGlyZWN0aW9uKVxuICAgICAqICAgICAvLyAneCcgb3IgJ3knIHRvIHJlc3RyaWN0IG1vdmVtZW50IHRvIGVpdGhlciBheGlzXG4gICAgICogICAgIC8vICdzdGFydCcgdG8gcmVzdHJpY3QgbW92ZW1lbnQgdG8gdGhlIGF4aXMgdGhlIGRyYWcgc3RhcnRlZCBpblxuICAgICAqICAgICBsb2NrQXhpczogJ3gnIHx8ICd5JyB8fCAneHknIHx8ICdzdGFydCcsXG4gICAgICpcbiAgICAgKiAgICAgLy8gbWF4IG51bWJlciBvZiBkcmFncyB0aGF0IGNhbiBoYXBwZW4gY29uY3VycmVudGx5XG4gICAgICogICAgIC8vIHdpdGggZWxlbWVudHMgb2YgdGhpcyBJbnRlcmFjdGFibGUuIEluZmluaXR5IGJ5IGRlZmF1bHRcbiAgICAgKiAgICAgbWF4OiBJbmZpbml0eSxcbiAgICAgKlxuICAgICAqICAgICAvLyBtYXggbnVtYmVyIG9mIGRyYWdzIHRoYXQgY2FuIHRhcmdldCB0aGUgc2FtZSBlbGVtZW50K0ludGVyYWN0YWJsZVxuICAgICAqICAgICAvLyAxIGJ5IGRlZmF1bHRcbiAgICAgKiAgICAgbWF4UGVyRWxlbWVudDogMlxuICAgICAqIH0pXG4gICAgICpcbiAgICAgKiB2YXIgaXNEcmFnZ2FibGUgPSBpbnRlcmFjdCgnZWxlbWVudCcpLmRyYWdnYWJsZSgpOyAvLyB0cnVlXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBHZXQgb3Igc2V0IHdoZXRoZXIgZHJhZyBhY3Rpb25zIGNhbiBiZSBwZXJmb3JtZWQgb24gdGhlIHRhcmdldFxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSB0cnVlL2ZhbHNlIG9yIEFuIG9iamVjdCB3aXRoIGV2ZW50XG4gICAgICogbGlzdGVuZXJzIHRvIGJlIGZpcmVkIG9uIGRyYWcgZXZlbnRzIChvYmplY3QgbWFrZXMgdGhlIEludGVyYWN0YWJsZVxuICAgICAqIGRyYWdnYWJsZSlcbiAgICAgKi9cbiAgICBkcmFnZ2FibGUob3B0aW9ucz86IFBhcnRpYWw8T3JCb29sZWFuPERyYWdnYWJsZU9wdGlvbnM+PiB8IGJvb2xlYW4pOiB0aGlzIHwgRHJhZ2dhYmxlT3B0aW9uc1xuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnIHtcbiAgaW50ZXJmYWNlIEFjdGlvbkRlZmF1bHRzIHtcbiAgICBkcmFnOiBEcmFnZ2FibGVPcHRpb25zXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnIHtcbiAgaW50ZXJmYWNlIEFjdGlvbk1hcCB7XG4gICAgZHJhZz86IHR5cGVvZiBkcmFnXG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgRHJhZ0V2ZW50ID0gSW50ZXJhY3RFdmVudDwnZHJhZyc+XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJhZ2dhYmxlT3B0aW9ucyBleHRlbmRzIFBlckFjdGlvbkRlZmF1bHRzIHtcbiAgc3RhcnRBeGlzPzogJ3gnIHwgJ3knIHwgJ3h5J1xuICBsb2NrQXhpcz86ICd4JyB8ICd5JyB8ICd4eScgfCAnc3RhcnQnXG4gIG9uaW5lcnRpYXN0YXJ0PzogTGlzdGVuZXJzQXJnXG4gIG9uc3RhcnQ/OiBMaXN0ZW5lcnNBcmdcbiAgb25tb3ZlPzogTGlzdGVuZXJzQXJnXG4gIG9uZW5kPzogTGlzdGVuZXJzQXJnXG59XG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgYWN0aW9ucywgSW50ZXJhY3RhYmxlLCBkZWZhdWx0cyB9ID0gc2NvcGVcblxuICBJbnRlcmFjdGFibGUucHJvdG90eXBlLmRyYWdnYWJsZSA9IGRyYWcuZHJhZ2dhYmxlXG5cbiAgYWN0aW9ucy5tYXAuZHJhZyA9IGRyYWdcbiAgYWN0aW9ucy5tZXRob2REaWN0LmRyYWcgPSAnZHJhZ2dhYmxlJ1xuXG4gIGRlZmF1bHRzLmFjdGlvbnMuZHJhZyA9IGRyYWcuZGVmYXVsdHNcbn1cblxuZnVuY3Rpb24gYmVmb3JlTW92ZSh7IGludGVyYWN0aW9uIH0pIHtcbiAgaWYgKGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgIT09ICdkcmFnJykgcmV0dXJuXG5cbiAgY29uc3QgYXhpcyA9IGludGVyYWN0aW9uLnByZXBhcmVkLmF4aXNcblxuICBpZiAoYXhpcyA9PT0gJ3gnKSB7XG4gICAgaW50ZXJhY3Rpb24uY29vcmRzLmN1ci5wYWdlLnkgPSBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQucGFnZS55XG4gICAgaW50ZXJhY3Rpb24uY29vcmRzLmN1ci5jbGllbnQueSA9IGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydC5jbGllbnQueVxuXG4gICAgaW50ZXJhY3Rpb24uY29vcmRzLnZlbG9jaXR5LmNsaWVudC55ID0gMFxuICAgIGludGVyYWN0aW9uLmNvb3Jkcy52ZWxvY2l0eS5wYWdlLnkgPSAwXG4gIH0gZWxzZSBpZiAoYXhpcyA9PT0gJ3knKSB7XG4gICAgaW50ZXJhY3Rpb24uY29vcmRzLmN1ci5wYWdlLnggPSBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQucGFnZS54XG4gICAgaW50ZXJhY3Rpb24uY29vcmRzLmN1ci5jbGllbnQueCA9IGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydC5jbGllbnQueFxuXG4gICAgaW50ZXJhY3Rpb24uY29vcmRzLnZlbG9jaXR5LmNsaWVudC54ID0gMFxuICAgIGludGVyYWN0aW9uLmNvb3Jkcy52ZWxvY2l0eS5wYWdlLnggPSAwXG4gIH1cbn1cblxuZnVuY3Rpb24gbW92ZSh7IGlFdmVudCwgaW50ZXJhY3Rpb24gfSkge1xuICBpZiAoaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSAhPT0gJ2RyYWcnKSByZXR1cm5cblxuICBjb25zdCBheGlzID0gaW50ZXJhY3Rpb24ucHJlcGFyZWQuYXhpc1xuXG4gIGlmIChheGlzID09PSAneCcgfHwgYXhpcyA9PT0gJ3knKSB7XG4gICAgY29uc3Qgb3Bwb3NpdGUgPSBheGlzID09PSAneCcgPyAneScgOiAneCdcblxuICAgIGlFdmVudC5wYWdlW29wcG9zaXRlXSA9IGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydC5wYWdlW29wcG9zaXRlXVxuICAgIGlFdmVudC5jbGllbnRbb3Bwb3NpdGVdID0gaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LmNsaWVudFtvcHBvc2l0ZV1cbiAgICBpRXZlbnQuZGVsdGFbb3Bwb3NpdGVdID0gMFxuICB9XG59XG5cbmNvbnN0IGRyYWdnYWJsZTogSW50ZXJhY3RhYmxlWydkcmFnZ2FibGUnXSA9IGZ1bmN0aW9uIGRyYWdnYWJsZShcbiAgdGhpczogSW50ZXJhY3RhYmxlLFxuICBvcHRpb25zPzogRHJhZ2dhYmxlT3B0aW9ucyB8IGJvb2xlYW4sXG4pOiBhbnkge1xuICBpZiAoaXMub2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgdGhpcy5vcHRpb25zLmRyYWcuZW5hYmxlZCA9IG9wdGlvbnMuZW5hYmxlZCAhPT0gZmFsc2VcbiAgICB0aGlzLnNldFBlckFjdGlvbignZHJhZycsIG9wdGlvbnMpXG4gICAgdGhpcy5zZXRPbkV2ZW50cygnZHJhZycsIG9wdGlvbnMpXG5cbiAgICBpZiAoL14oeHl8eHx5fHN0YXJ0KSQvLnRlc3Qob3B0aW9ucy5sb2NrQXhpcykpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5kcmFnLmxvY2tBeGlzID0gb3B0aW9ucy5sb2NrQXhpc1xuICAgIH1cbiAgICBpZiAoL14oeHl8eHx5KSQvLnRlc3Qob3B0aW9ucy5zdGFydEF4aXMpKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuZHJhZy5zdGFydEF4aXMgPSBvcHRpb25zLnN0YXJ0QXhpc1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBpZiAoaXMuYm9vbChvcHRpb25zKSkge1xuICAgIHRoaXMub3B0aW9ucy5kcmFnLmVuYWJsZWQgPSBvcHRpb25zXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgcmV0dXJuIHRoaXMub3B0aW9ucy5kcmFnIGFzIERyYWdnYWJsZU9wdGlvbnNcbn1cblxuY29uc3QgZHJhZzogUGx1Z2luID0ge1xuICBpZDogJ2FjdGlvbnMvZHJhZycsXG4gIGluc3RhbGwsXG4gIGxpc3RlbmVyczoge1xuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1tb3ZlJzogYmVmb3JlTW92ZSxcbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1yZXN1bWUnOiBiZWZvcmVNb3ZlLFxuXG4gICAgLy8gZHJhZ21vdmVcbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1tb3ZlJzogbW92ZSxcbiAgICAnYXV0by1zdGFydDpjaGVjayc6IChhcmcpID0+IHtcbiAgICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24sIGludGVyYWN0YWJsZSwgYnV0dG9ucyB9ID0gYXJnXG4gICAgICBjb25zdCBkcmFnT3B0aW9ucyA9IGludGVyYWN0YWJsZS5vcHRpb25zLmRyYWdcblxuICAgICAgaWYgKFxuICAgICAgICAhKGRyYWdPcHRpb25zICYmIGRyYWdPcHRpb25zLmVuYWJsZWQpIHx8XG4gICAgICAgIC8vIGNoZWNrIG1vdXNlQnV0dG9uIHNldHRpbmcgaWYgdGhlIHBvaW50ZXIgaXMgZG93blxuICAgICAgICAoaW50ZXJhY3Rpb24ucG9pbnRlcklzRG93biAmJlxuICAgICAgICAgIC9tb3VzZXxwb2ludGVyLy50ZXN0KGludGVyYWN0aW9uLnBvaW50ZXJUeXBlKSAmJlxuICAgICAgICAgIChidXR0b25zICYgaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJhZy5tb3VzZUJ1dHRvbnMpID09PSAwKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgIH1cblxuICAgICAgYXJnLmFjdGlvbiA9IHtcbiAgICAgICAgbmFtZTogJ2RyYWcnLFxuICAgICAgICBheGlzOiBkcmFnT3B0aW9ucy5sb2NrQXhpcyA9PT0gJ3N0YXJ0JyA/IGRyYWdPcHRpb25zLnN0YXJ0QXhpcyA6IGRyYWdPcHRpb25zLmxvY2tBeGlzLFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9LFxuICB9LFxuICBkcmFnZ2FibGUsXG4gIGJlZm9yZU1vdmUsXG4gIG1vdmUsXG4gIGRlZmF1bHRzOiB7XG4gICAgc3RhcnRBeGlzOiAneHknLFxuICAgIGxvY2tBeGlzOiAneHknLFxuICB9IGFzIERyYWdnYWJsZU9wdGlvbnMsXG5cbiAgZ2V0Q3Vyc29yKCkge1xuICAgIHJldHVybiAnbW92ZSdcbiAgfSxcblxuICBmaWx0ZXJFdmVudFR5cGU6ICh0eXBlOiBzdHJpbmcpID0+IHR5cGUuc2VhcmNoKCdkcmFnJykgPT09IDAsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGRyYWdcbiIsICJjb25zdCBkb21PYmplY3RzOiB7XG4gIGluaXQ6IGFueVxuICBkb2N1bWVudDogRG9jdW1lbnRcbiAgRG9jdW1lbnRGcmFnbWVudDogdHlwZW9mIERvY3VtZW50RnJhZ21lbnRcbiAgU1ZHRWxlbWVudDogdHlwZW9mIFNWR0VsZW1lbnRcbiAgU1ZHU1ZHRWxlbWVudDogdHlwZW9mIFNWR1NWR0VsZW1lbnRcbiAgU1ZHRWxlbWVudEluc3RhbmNlOiBhbnlcbiAgRWxlbWVudDogdHlwZW9mIEVsZW1lbnRcbiAgSFRNTEVsZW1lbnQ6IHR5cGVvZiBIVE1MRWxlbWVudFxuICBFdmVudDogdHlwZW9mIEV2ZW50XG4gIFRvdWNoOiB0eXBlb2YgVG91Y2hcbiAgUG9pbnRlckV2ZW50OiB0eXBlb2YgUG9pbnRlckV2ZW50XG59ID0ge1xuICBpbml0LFxuICBkb2N1bWVudDogbnVsbCxcbiAgRG9jdW1lbnRGcmFnbWVudDogbnVsbCxcbiAgU1ZHRWxlbWVudDogbnVsbCxcbiAgU1ZHU1ZHRWxlbWVudDogbnVsbCxcbiAgU1ZHRWxlbWVudEluc3RhbmNlOiBudWxsLFxuICBFbGVtZW50OiBudWxsLFxuICBIVE1MRWxlbWVudDogbnVsbCxcbiAgRXZlbnQ6IG51bGwsXG4gIFRvdWNoOiBudWxsLFxuICBQb2ludGVyRXZlbnQ6IG51bGwsXG59XG5cbmZ1bmN0aW9uIGJsYW5rKCkge31cblxuZXhwb3J0IGRlZmF1bHQgZG9tT2JqZWN0c1xuXG5mdW5jdGlvbiBpbml0KHdpbmRvdzogV2luZG93KSB7XG4gIGNvbnN0IHdpbiA9IHdpbmRvdyBhcyBhbnlcblxuICBkb21PYmplY3RzLmRvY3VtZW50ID0gd2luLmRvY3VtZW50XG4gIGRvbU9iamVjdHMuRG9jdW1lbnRGcmFnbWVudCA9IHdpbi5Eb2N1bWVudEZyYWdtZW50IHx8IGJsYW5rXG4gIGRvbU9iamVjdHMuU1ZHRWxlbWVudCA9IHdpbi5TVkdFbGVtZW50IHx8IGJsYW5rXG4gIGRvbU9iamVjdHMuU1ZHU1ZHRWxlbWVudCA9IHdpbi5TVkdTVkdFbGVtZW50IHx8IGJsYW5rXG4gIGRvbU9iamVjdHMuU1ZHRWxlbWVudEluc3RhbmNlID0gd2luLlNWR0VsZW1lbnRJbnN0YW5jZSB8fCBibGFua1xuICBkb21PYmplY3RzLkVsZW1lbnQgPSB3aW4uRWxlbWVudCB8fCBibGFua1xuICBkb21PYmplY3RzLkhUTUxFbGVtZW50ID0gd2luLkhUTUxFbGVtZW50IHx8IGRvbU9iamVjdHMuRWxlbWVudFxuXG4gIGRvbU9iamVjdHMuRXZlbnQgPSB3aW4uRXZlbnRcbiAgZG9tT2JqZWN0cy5Ub3VjaCA9IHdpbi5Ub3VjaCB8fCBibGFua1xuICBkb21PYmplY3RzLlBvaW50ZXJFdmVudCA9IHdpbi5Qb2ludGVyRXZlbnQgfHwgd2luLk1TUG9pbnRlckV2ZW50XG59XG4iLCAiaW1wb3J0IGRvbU9iamVjdHMgZnJvbSAnLi9kb21PYmplY3RzJ1xuaW1wb3J0IGlzIGZyb20gJy4vaXMnXG5cbmNvbnN0IGJyb3dzZXIgPSB7XG4gIGluaXQsXG4gIHN1cHBvcnRzVG91Y2g6IG51bGwgYXMgYm9vbGVhbixcbiAgc3VwcG9ydHNQb2ludGVyRXZlbnQ6IG51bGwgYXMgYm9vbGVhbixcbiAgaXNJT1M3OiBudWxsIGFzIGJvb2xlYW4sXG4gIGlzSU9TOiBudWxsIGFzIGJvb2xlYW4sXG4gIGlzSWU5OiBudWxsIGFzIGJvb2xlYW4sXG4gIGlzT3BlcmFNb2JpbGU6IG51bGwgYXMgYm9vbGVhbixcbiAgcHJlZml4ZWRNYXRjaGVzU2VsZWN0b3I6IG51bGwgYXMgJ21hdGNoZXMnLFxuICBwRXZlbnRUeXBlczogbnVsbCBhcyB7XG4gICAgdXA6IHN0cmluZ1xuICAgIGRvd246IHN0cmluZ1xuICAgIG92ZXI6IHN0cmluZ1xuICAgIG91dDogc3RyaW5nXG4gICAgbW92ZTogc3RyaW5nXG4gICAgY2FuY2VsOiBzdHJpbmdcbiAgfSxcbiAgd2hlZWxFdmVudDogbnVsbCBhcyBzdHJpbmcsXG59XG5cbmZ1bmN0aW9uIGluaXQod2luZG93OiBhbnkpIHtcbiAgY29uc3QgRWxlbWVudCA9IGRvbU9iamVjdHMuRWxlbWVudFxuICBjb25zdCBuYXZpZ2F0b3I6IFBhcnRpYWw8TmF2aWdhdG9yPiA9IHdpbmRvdy5uYXZpZ2F0b3IgfHwge31cblxuICAvLyBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgdG91Y2ggaW5wdXQ/XG4gIGJyb3dzZXIuc3VwcG9ydHNUb3VjaCA9XG4gICAgJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8XG4gICAgKGlzLmZ1bmMod2luZG93LkRvY3VtZW50VG91Y2gpICYmIGRvbU9iamVjdHMuZG9jdW1lbnQgaW5zdGFuY2VvZiB3aW5kb3cuRG9jdW1lbnRUb3VjaClcblxuICAvLyBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgUG9pbnRlckV2ZW50c1xuICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGF5ZS9pbnRlcmFjdC5qcy9pc3N1ZXMvNzAzI2lzc3VlY29tbWVudC00NzE1NzA0OTJcbiAgYnJvd3Nlci5zdXBwb3J0c1BvaW50ZXJFdmVudCA9IChuYXZpZ2F0b3IgYXMgYW55KS5wb2ludGVyRW5hYmxlZCAhPT0gZmFsc2UgJiYgISFkb21PYmplY3RzLlBvaW50ZXJFdmVudFxuXG4gIGJyb3dzZXIuaXNJT1MgPSAvaVAoaG9uZXxvZHxhZCkvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKVxuXG4gIC8vIHNjcm9sbGluZyBkb2Vzbid0IGNoYW5nZSB0aGUgcmVzdWx0IG9mIGdldENsaWVudFJlY3RzIG9uIGlPUyA3XG4gIGJyb3dzZXIuaXNJT1M3ID0gL2lQKGhvbmV8b2R8YWQpLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkgJiYgL09TIDdbXlxcZF0vLnRlc3QobmF2aWdhdG9yLmFwcFZlcnNpb24pXG5cbiAgYnJvd3Nlci5pc0llOSA9IC9NU0lFIDkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcblxuICAvLyBPcGVyYSBNb2JpbGUgbXVzdCBiZSBoYW5kbGVkIGRpZmZlcmVudGx5XG4gIGJyb3dzZXIuaXNPcGVyYU1vYmlsZSA9XG4gICAgbmF2aWdhdG9yLmFwcE5hbWUgPT09ICdPcGVyYScgJiYgYnJvd3Nlci5zdXBwb3J0c1RvdWNoICYmIC9QcmVzdG8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcblxuICAvLyBwcmVmaXggbWF0Y2hlc1NlbGVjdG9yXG4gIGJyb3dzZXIucHJlZml4ZWRNYXRjaGVzU2VsZWN0b3IgPSAoXG4gICAgJ21hdGNoZXMnIGluIEVsZW1lbnQucHJvdG90eXBlXG4gICAgICA/ICdtYXRjaGVzJ1xuICAgICAgOiAnd2Via2l0TWF0Y2hlc1NlbGVjdG9yJyBpbiBFbGVtZW50LnByb3RvdHlwZVxuICAgICAgICA/ICd3ZWJraXRNYXRjaGVzU2VsZWN0b3InXG4gICAgICAgIDogJ21vek1hdGNoZXNTZWxlY3RvcicgaW4gRWxlbWVudC5wcm90b3R5cGVcbiAgICAgICAgICA/ICdtb3pNYXRjaGVzU2VsZWN0b3InXG4gICAgICAgICAgOiAnb01hdGNoZXNTZWxlY3RvcicgaW4gRWxlbWVudC5wcm90b3R5cGVcbiAgICAgICAgICAgID8gJ29NYXRjaGVzU2VsZWN0b3InXG4gICAgICAgICAgICA6ICdtc01hdGNoZXNTZWxlY3RvcidcbiAgKSBhcyAnbWF0Y2hlcydcblxuICBicm93c2VyLnBFdmVudFR5cGVzID0gYnJvd3Nlci5zdXBwb3J0c1BvaW50ZXJFdmVudFxuICAgID8gZG9tT2JqZWN0cy5Qb2ludGVyRXZlbnQgPT09IHdpbmRvdy5NU1BvaW50ZXJFdmVudFxuICAgICAgPyB7XG4gICAgICAgICAgdXA6ICdNU1BvaW50ZXJVcCcsXG4gICAgICAgICAgZG93bjogJ01TUG9pbnRlckRvd24nLFxuICAgICAgICAgIG92ZXI6ICdtb3VzZW92ZXInLFxuICAgICAgICAgIG91dDogJ21vdXNlb3V0JyxcbiAgICAgICAgICBtb3ZlOiAnTVNQb2ludGVyTW92ZScsXG4gICAgICAgICAgY2FuY2VsOiAnTVNQb2ludGVyQ2FuY2VsJyxcbiAgICAgICAgfVxuICAgICAgOiB7XG4gICAgICAgICAgdXA6ICdwb2ludGVydXAnLFxuICAgICAgICAgIGRvd246ICdwb2ludGVyZG93bicsXG4gICAgICAgICAgb3ZlcjogJ3BvaW50ZXJvdmVyJyxcbiAgICAgICAgICBvdXQ6ICdwb2ludGVyb3V0JyxcbiAgICAgICAgICBtb3ZlOiAncG9pbnRlcm1vdmUnLFxuICAgICAgICAgIGNhbmNlbDogJ3BvaW50ZXJjYW5jZWwnLFxuICAgICAgICB9XG4gICAgOiBudWxsXG5cbiAgLy8gYmVjYXVzZSBXZWJraXQgYW5kIE9wZXJhIHN0aWxsIHVzZSAnbW91c2V3aGVlbCcgZXZlbnQgdHlwZVxuICBicm93c2VyLndoZWVsRXZlbnQgPSBkb21PYmplY3RzLmRvY3VtZW50ICYmICdvbm1vdXNld2hlZWwnIGluIGRvbU9iamVjdHMuZG9jdW1lbnQgPyAnbW91c2V3aGVlbCcgOiAnd2hlZWwnXG59XG5cbmV4cG9ydCBkZWZhdWx0IGJyb3dzZXJcbiIsICJpbXBvcnQgdHlwZSB7IFJlY3QsIFRhcmdldCwgRWxlbWVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmltcG9ydCBicm93c2VyIGZyb20gJy4vYnJvd3NlcidcbmltcG9ydCBkb21PYmplY3RzIGZyb20gJy4vZG9tT2JqZWN0cydcbmltcG9ydCBpcyBmcm9tICcuL2lzJ1xuaW1wb3J0ICogYXMgd2luIGZyb20gJy4vd2luZG93J1xuXG5leHBvcnQgZnVuY3Rpb24gbm9kZUNvbnRhaW5zKHBhcmVudDogTm9kZSwgY2hpbGQ6IE5vZGUpIHtcbiAgaWYgKHBhcmVudC5jb250YWlucykge1xuICAgIHJldHVybiBwYXJlbnQuY29udGFpbnMoY2hpbGQgYXMgTm9kZSlcbiAgfVxuXG4gIHdoaWxlIChjaGlsZCkge1xuICAgIGlmIChjaGlsZCA9PT0gcGFyZW50KSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGNoaWxkID0gKGNoaWxkIGFzIE5vZGUpLnBhcmVudE5vZGVcbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VzdChlbGVtZW50OiBOb2RlLCBzZWxlY3Rvcjogc3RyaW5nKSB7XG4gIHdoaWxlIChpcy5lbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgaWYgKG1hdGNoZXNTZWxlY3RvcihlbGVtZW50LCBzZWxlY3RvcikpIHtcbiAgICAgIHJldHVybiBlbGVtZW50XG4gICAgfVxuXG4gICAgZWxlbWVudCA9IHBhcmVudE5vZGUoZWxlbWVudClcbiAgfVxuXG4gIHJldHVybiBudWxsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJlbnROb2RlKG5vZGU6IE5vZGUgfCBEb2N1bWVudCkge1xuICBsZXQgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlXG5cbiAgaWYgKGlzLmRvY0ZyYWcocGFyZW50KSkge1xuICAgIC8vIHNraXAgcGFzdCAjc2hhZG8tcm9vdCBmcmFnbWVudHNcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICB3aGlsZSAoKHBhcmVudCA9IChwYXJlbnQgYXMgYW55KS5ob3N0KSAmJiBpcy5kb2NGcmFnKHBhcmVudCkpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmVudFxuICB9XG5cbiAgcmV0dXJuIHBhcmVudFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hlc1NlbGVjdG9yKGVsZW1lbnQ6IEVsZW1lbnQsIHNlbGVjdG9yOiBzdHJpbmcpIHtcbiAgLy8gcmVtb3ZlIC9kZWVwLyBmcm9tIHNlbGVjdG9ycyBpZiBzaGFkb3dET00gcG9seWZpbGwgaXMgdXNlZFxuICBpZiAod2luLndpbmRvdyAhPT0gd2luLnJlYWxXaW5kb3cpIHtcbiAgICBzZWxlY3RvciA9IHNlbGVjdG9yLnJlcGxhY2UoL1xcL2RlZXBcXC8vZywgJyAnKVxuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnRbYnJvd3Nlci5wcmVmaXhlZE1hdGNoZXNTZWxlY3Rvcl0oc2VsZWN0b3IpXG59XG5cbmNvbnN0IGdldFBhcmVudCA9IChlbDogTm9kZSB8IERvY3VtZW50IHwgU2hhZG93Um9vdCkgPT4gZWwucGFyZW50Tm9kZSB8fCAoZWwgYXMgU2hhZG93Um9vdCkuaG9zdFxuXG4vLyBUZXN0IGZvciB0aGUgZWxlbWVudCB0aGF0J3MgXCJhYm92ZVwiIGFsbCBvdGhlciBxdWFsaWZpZXJzXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZkRlZXBlc3RFbGVtZW50KGVsZW1lbnRzOiBFbGVtZW50W10gfCBOb2RlTGlzdE9mPGdsb2JhbFRoaXMuRWxlbWVudD4pIHtcbiAgbGV0IGRlZXBlc3ROb2RlUGFyZW50czogTm9kZVtdID0gW11cbiAgbGV0IGRlZXBlc3ROb2RlSW5kZXg6IG51bWJlclxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjdXJyZW50Tm9kZSA9IGVsZW1lbnRzW2ldXG4gICAgY29uc3QgZGVlcGVzdE5vZGU6IE5vZGUgPSBlbGVtZW50c1tkZWVwZXN0Tm9kZUluZGV4XVxuXG4gICAgLy8gbm9kZSBtYXkgYXBwZWFyIGluIGVsZW1lbnRzIGFycmF5IG11bHRpcGxlIHRpbWVzXG4gICAgaWYgKCFjdXJyZW50Tm9kZSB8fCBpID09PSBkZWVwZXN0Tm9kZUluZGV4KSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGlmICghZGVlcGVzdE5vZGUpIHtcbiAgICAgIGRlZXBlc3ROb2RlSW5kZXggPSBpXG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnROb2RlUGFyZW50ID0gZ2V0UGFyZW50KGN1cnJlbnROb2RlKVxuICAgIGNvbnN0IGRlZXBlc3ROb2RlUGFyZW50ID0gZ2V0UGFyZW50KGRlZXBlc3ROb2RlKVxuXG4gICAgLy8gY2hlY2sgaWYgdGhlIGRlZXBlc3Qgb3IgY3VycmVudCBhcmUgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50L3Jvb3RFbGVtZW50XG4gICAgLy8gLSBpZiB0aGUgY3VycmVudCBub2RlIGlzLCBkbyBub3RoaW5nIGFuZCBjb250aW51ZVxuICAgIGlmIChjdXJyZW50Tm9kZVBhcmVudCA9PT0gY3VycmVudE5vZGUub3duZXJEb2N1bWVudCkge1xuICAgICAgY29udGludWVcbiAgICB9XG4gICAgLy8gLSBpZiBkZWVwZXN0IGlzLCB1cGRhdGUgd2l0aCB0aGUgY3VycmVudCBub2RlIGFuZCBjb250aW51ZSB0byBuZXh0XG4gICAgZWxzZSBpZiAoZGVlcGVzdE5vZGVQYXJlbnQgPT09IGN1cnJlbnROb2RlLm93bmVyRG9jdW1lbnQpIHtcbiAgICAgIGRlZXBlc3ROb2RlSW5kZXggPSBpXG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIC8vIGNvbXBhcmUgekluZGV4IG9mIHNpYmxpbmdzXG4gICAgaWYgKGN1cnJlbnROb2RlUGFyZW50ID09PSBkZWVwZXN0Tm9kZVBhcmVudCkge1xuICAgICAgaWYgKHpJbmRleElzSGlnaGVyVGhhbihjdXJyZW50Tm9kZSwgZGVlcGVzdE5vZGUpKSB7XG4gICAgICAgIGRlZXBlc3ROb2RlSW5kZXggPSBpXG4gICAgICB9XG5cbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgLy8gcG9wdWxhdGUgdGhlIGFuY2VzdHJ5IGFycmF5IGZvciB0aGUgbGF0ZXN0IGRlZXBlc3Qgbm9kZVxuICAgIGRlZXBlc3ROb2RlUGFyZW50cyA9IGRlZXBlc3ROb2RlUGFyZW50cy5sZW5ndGggPyBkZWVwZXN0Tm9kZVBhcmVudHMgOiBnZXROb2RlUGFyZW50cyhkZWVwZXN0Tm9kZSlcblxuICAgIGxldCBhbmNlc3RyeVN0YXJ0OiBOb2RlXG5cbiAgICAvLyBpZiB0aGUgZGVlcGVzdCBub2RlIGlzIGFuIEhUTUxFbGVtZW50IGFuZCB0aGUgY3VycmVudCBub2RlIGlzIGEgbm9uIHJvb3Qgc3ZnIGVsZW1lbnRcbiAgICBpZiAoXG4gICAgICBkZWVwZXN0Tm9kZSBpbnN0YW5jZW9mIGRvbU9iamVjdHMuSFRNTEVsZW1lbnQgJiZcbiAgICAgIGN1cnJlbnROb2RlIGluc3RhbmNlb2YgZG9tT2JqZWN0cy5TVkdFbGVtZW50ICYmXG4gICAgICAhKGN1cnJlbnROb2RlIGluc3RhbmNlb2YgZG9tT2JqZWN0cy5TVkdTVkdFbGVtZW50KVxuICAgICkge1xuICAgICAgLy8gVE9ETzogaXMgdGhpcyBjaGVjayBuZWNlc3Nhcnk/IFdhcyB0aGlzIGZvciBIVE1MIGVsZW1lbnRzIGVtYmVkZGVkIGluIFNWRz9cbiAgICAgIGlmIChjdXJyZW50Tm9kZSA9PT0gZGVlcGVzdE5vZGVQYXJlbnQpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgYW5jZXN0cnlTdGFydCA9IGN1cnJlbnROb2RlLm93bmVyU1ZHRWxlbWVudFxuICAgIH0gZWxzZSB7XG4gICAgICBhbmNlc3RyeVN0YXJ0ID0gY3VycmVudE5vZGVcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50Tm9kZVBhcmVudHMgPSBnZXROb2RlUGFyZW50cyhhbmNlc3RyeVN0YXJ0LCBkZWVwZXN0Tm9kZS5vd25lckRvY3VtZW50KVxuICAgIGxldCBjb21tb25JbmRleCA9IDBcblxuICAgIC8vIGdldCAocG9zaXRpb24gb2YgY2xvc2VzdCBjb21tb24gYW5jZXN0b3IpICsgMVxuICAgIHdoaWxlIChcbiAgICAgIGN1cnJlbnROb2RlUGFyZW50c1tjb21tb25JbmRleF0gJiZcbiAgICAgIGN1cnJlbnROb2RlUGFyZW50c1tjb21tb25JbmRleF0gPT09IGRlZXBlc3ROb2RlUGFyZW50c1tjb21tb25JbmRleF1cbiAgICApIHtcbiAgICAgIGNvbW1vbkluZGV4KytcbiAgICB9XG5cbiAgICBjb25zdCBwYXJlbnRzID0gW1xuICAgICAgY3VycmVudE5vZGVQYXJlbnRzW2NvbW1vbkluZGV4IC0gMV0sXG4gICAgICBjdXJyZW50Tm9kZVBhcmVudHNbY29tbW9uSW5kZXhdLFxuICAgICAgZGVlcGVzdE5vZGVQYXJlbnRzW2NvbW1vbkluZGV4XSxcbiAgICBdXG5cbiAgICBpZiAocGFyZW50c1swXSkge1xuICAgICAgbGV0IGNoaWxkID0gcGFyZW50c1swXS5sYXN0Q2hpbGRcblxuICAgICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICAgIGlmIChjaGlsZCA9PT0gcGFyZW50c1sxXSkge1xuICAgICAgICAgIGRlZXBlc3ROb2RlSW5kZXggPSBpXG4gICAgICAgICAgZGVlcGVzdE5vZGVQYXJlbnRzID0gY3VycmVudE5vZGVQYXJlbnRzXG5cbiAgICAgICAgICBicmVha1xuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkID09PSBwYXJlbnRzWzJdKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkID0gY2hpbGQucHJldmlvdXNTaWJsaW5nXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRlZXBlc3ROb2RlSW5kZXhcbn1cblxuZnVuY3Rpb24gZ2V0Tm9kZVBhcmVudHMobm9kZTogTm9kZSwgbGltaXQ/OiBOb2RlKSB7XG4gIGNvbnN0IHBhcmVudHM6IE5vZGVbXSA9IFtdXG4gIGxldCBwYXJlbnQ6IE5vZGUgPSBub2RlXG4gIGxldCBwYXJlbnRQYXJlbnQ6IE5vZGVcblxuICB3aGlsZSAoKHBhcmVudFBhcmVudCA9IGdldFBhcmVudChwYXJlbnQpKSAmJiBwYXJlbnQgIT09IGxpbWl0ICYmIHBhcmVudFBhcmVudCAhPT0gcGFyZW50Lm93bmVyRG9jdW1lbnQpIHtcbiAgICBwYXJlbnRzLnVuc2hpZnQocGFyZW50KVxuICAgIHBhcmVudCA9IHBhcmVudFBhcmVudFxuICB9XG5cbiAgcmV0dXJuIHBhcmVudHNcbn1cblxuZnVuY3Rpb24gekluZGV4SXNIaWdoZXJUaGFuKGhpZ2hlck5vZGU6IE5vZGUsIGxvd2VyTm9kZTogTm9kZSkge1xuICBjb25zdCBoaWdoZXJJbmRleCA9IHBhcnNlSW50KHdpbi5nZXRXaW5kb3coaGlnaGVyTm9kZSkuZ2V0Q29tcHV0ZWRTdHlsZShoaWdoZXJOb2RlKS56SW5kZXgsIDEwKSB8fCAwXG4gIGNvbnN0IGxvd2VySW5kZXggPSBwYXJzZUludCh3aW4uZ2V0V2luZG93KGxvd2VyTm9kZSkuZ2V0Q29tcHV0ZWRTdHlsZShsb3dlck5vZGUpLnpJbmRleCwgMTApIHx8IDBcblxuICByZXR1cm4gaGlnaGVySW5kZXggPj0gbG93ZXJJbmRleFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hlc1VwVG8oZWxlbWVudDogRWxlbWVudCwgc2VsZWN0b3I6IHN0cmluZywgbGltaXQ6IE5vZGUpIHtcbiAgd2hpbGUgKGlzLmVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICBpZiAobWF0Y2hlc1NlbGVjdG9yKGVsZW1lbnQsIHNlbGVjdG9yKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBlbGVtZW50ID0gcGFyZW50Tm9kZShlbGVtZW50KSBhcyBFbGVtZW50XG5cbiAgICBpZiAoZWxlbWVudCA9PT0gbGltaXQpIHtcbiAgICAgIHJldHVybiBtYXRjaGVzU2VsZWN0b3IoZWxlbWVudCwgc2VsZWN0b3IpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBY3R1YWxFbGVtZW50KGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgcmV0dXJuIChlbGVtZW50IGFzIGFueSkuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQgfHwgZWxlbWVudFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2Nyb2xsWFkocmVsZXZhbnRXaW5kb3c/OiBXaW5kb3cpIHtcbiAgcmVsZXZhbnRXaW5kb3cgPSByZWxldmFudFdpbmRvdyB8fCB3aW4ud2luZG93XG4gIHJldHVybiB7XG4gICAgeDogcmVsZXZhbnRXaW5kb3cuc2Nyb2xsWCB8fCByZWxldmFudFdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCxcbiAgICB5OiByZWxldmFudFdpbmRvdy5zY3JvbGxZIHx8IHJlbGV2YW50V2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRDbGllbnRSZWN0KGVsZW1lbnQ6IEVsZW1lbnQpOiBSZXF1aXJlZDxSZWN0PiB7XG4gIGNvbnN0IGNsaWVudFJlY3QgPVxuICAgIGVsZW1lbnQgaW5zdGFuY2VvZiBkb21PYmplY3RzLlNWR0VsZW1lbnQgPyBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogZWxlbWVudC5nZXRDbGllbnRSZWN0cygpWzBdXG5cbiAgcmV0dXJuIChcbiAgICBjbGllbnRSZWN0ICYmIHtcbiAgICAgIGxlZnQ6IGNsaWVudFJlY3QubGVmdCxcbiAgICAgIHJpZ2h0OiBjbGllbnRSZWN0LnJpZ2h0LFxuICAgICAgdG9wOiBjbGllbnRSZWN0LnRvcCxcbiAgICAgIGJvdHRvbTogY2xpZW50UmVjdC5ib3R0b20sXG4gICAgICB3aWR0aDogY2xpZW50UmVjdC53aWR0aCB8fCBjbGllbnRSZWN0LnJpZ2h0IC0gY2xpZW50UmVjdC5sZWZ0LFxuICAgICAgaGVpZ2h0OiBjbGllbnRSZWN0LmhlaWdodCB8fCBjbGllbnRSZWN0LmJvdHRvbSAtIGNsaWVudFJlY3QudG9wLFxuICAgIH1cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFJlY3QoZWxlbWVudDogRWxlbWVudCkge1xuICBjb25zdCBjbGllbnRSZWN0ID0gZ2V0RWxlbWVudENsaWVudFJlY3QoZWxlbWVudClcblxuICBpZiAoIWJyb3dzZXIuaXNJT1M3ICYmIGNsaWVudFJlY3QpIHtcbiAgICBjb25zdCBzY3JvbGwgPSBnZXRTY3JvbGxYWSh3aW4uZ2V0V2luZG93KGVsZW1lbnQpKVxuXG4gICAgY2xpZW50UmVjdC5sZWZ0ICs9IHNjcm9sbC54XG4gICAgY2xpZW50UmVjdC5yaWdodCArPSBzY3JvbGwueFxuICAgIGNsaWVudFJlY3QudG9wICs9IHNjcm9sbC55XG4gICAgY2xpZW50UmVjdC5ib3R0b20gKz0gc2Nyb2xsLnlcbiAgfVxuXG4gIHJldHVybiBjbGllbnRSZWN0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXRoKG5vZGU6IE5vZGUgfCBEb2N1bWVudCkge1xuICBjb25zdCBwYXRoID0gW11cblxuICB3aGlsZSAobm9kZSkge1xuICAgIHBhdGgucHVzaChub2RlKVxuICAgIG5vZGUgPSBwYXJlbnROb2RlKG5vZGUpXG4gIH1cblxuICByZXR1cm4gcGF0aFxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJ5U2VsZWN0b3IodmFsdWU6IFRhcmdldCkge1xuICBpZiAoIWlzLnN0cmluZyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIGFuIGV4Y2VwdGlvbiB3aWxsIGJlIHJhaXNlZCBpZiBpdCBpcyBpbnZhbGlkXG4gIGRvbU9iamVjdHMuZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih2YWx1ZSlcbiAgcmV0dXJuIHRydWVcbn1cbiIsICJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBleHRlbmQ8VCwgVSBleHRlbmRzIG9iamVjdD4oZGVzdDogVSAmIFBhcnRpYWw8VD4sIHNvdXJjZTogVCk6IFQgJiBVIHtcbiAgZm9yIChjb25zdCBwcm9wIGluIHNvdXJjZSkge1xuICAgIDsoZGVzdCBhcyB1bmtub3duIGFzIFQpW3Byb3BdID0gc291cmNlW3Byb3BdXG4gIH1cblxuICBjb25zdCByZXQgPSBkZXN0IGFzIFQgJiBVXG5cbiAgcmV0dXJuIHJldFxufVxuIiwgImltcG9ydCB0eXBlIHtcbiAgSGFzR2V0UmVjdCxcbiAgUmVjdFJlc29sdmFibGUsXG4gIFJlY3QsXG4gIEVsZW1lbnQsXG4gIFBvaW50LFxuICBGdWxsUmVjdCxcbiAgRWRnZU9wdGlvbnMsXG59IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmltcG9ydCB7IGNsb3Nlc3QsIGdldEVsZW1lbnRSZWN0LCBwYXJlbnROb2RlIH0gZnJvbSAnLi9kb21VdGlscydcbmltcG9ydCBleHRlbmQgZnJvbSAnLi9leHRlbmQnXG5pbXBvcnQgaXMgZnJvbSAnLi9pcydcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0cmluZ09wdGlvblJlc3VsdCh2YWx1ZTogYW55LCB0YXJnZXQ6IEhhc0dldFJlY3QsIGVsZW1lbnQ6IE5vZGUpIHtcbiAgaWYgKHZhbHVlID09PSAncGFyZW50Jykge1xuICAgIHJldHVybiBwYXJlbnROb2RlKGVsZW1lbnQpXG4gIH1cblxuICBpZiAodmFsdWUgPT09ICdzZWxmJykge1xuICAgIHJldHVybiB0YXJnZXQuZ2V0UmVjdChlbGVtZW50IGFzIEVsZW1lbnQpXG4gIH1cblxuICByZXR1cm4gY2xvc2VzdChlbGVtZW50LCB2YWx1ZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVSZWN0TGlrZTxUIGV4dGVuZHMgYW55W10+KFxuICB2YWx1ZTogUmVjdFJlc29sdmFibGU8VD4sXG4gIHRhcmdldD86IEhhc0dldFJlY3QsXG4gIGVsZW1lbnQ/OiBOb2RlLFxuICBmdW5jdGlvbkFyZ3M/OiBULFxuKSB7XG4gIGxldCByZXR1cm5WYWx1ZTogYW55ID0gdmFsdWVcbiAgaWYgKGlzLnN0cmluZyhyZXR1cm5WYWx1ZSkpIHtcbiAgICByZXR1cm5WYWx1ZSA9IGdldFN0cmluZ09wdGlvblJlc3VsdChyZXR1cm5WYWx1ZSwgdGFyZ2V0LCBlbGVtZW50KVxuICB9IGVsc2UgaWYgKGlzLmZ1bmMocmV0dXJuVmFsdWUpKSB7XG4gICAgcmV0dXJuVmFsdWUgPSByZXR1cm5WYWx1ZSguLi5mdW5jdGlvbkFyZ3MpXG4gIH1cblxuICBpZiAoaXMuZWxlbWVudChyZXR1cm5WYWx1ZSkpIHtcbiAgICByZXR1cm5WYWx1ZSA9IGdldEVsZW1lbnRSZWN0KHJldHVyblZhbHVlKVxuICB9XG5cbiAgcmV0dXJuIHJldHVyblZhbHVlIGFzIFJlY3Rcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRnVsbFJlY3QocmVjdDogUmVjdCk6IEZ1bGxSZWN0IHtcbiAgY29uc3QgeyB0b3AsIGxlZnQsIGJvdHRvbSwgcmlnaHQgfSA9IHJlY3RcbiAgY29uc3Qgd2lkdGggPSByZWN0LndpZHRoID8/IHJlY3QucmlnaHQgLSByZWN0LmxlZnRcbiAgY29uc3QgaGVpZ2h0ID0gcmVjdC5oZWlnaHQgPz8gcmVjdC5ib3R0b20gLSByZWN0LnRvcFxuXG4gIHJldHVybiB7IHRvcCwgbGVmdCwgYm90dG9tLCByaWdodCwgd2lkdGgsIGhlaWdodCB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWN0VG9YWShyZWN0OiBSZWN0IHwgUG9pbnQpIHtcbiAgcmV0dXJuIChcbiAgICByZWN0ICYmIHtcbiAgICAgIHg6ICd4JyBpbiByZWN0ID8gcmVjdC54IDogcmVjdC5sZWZ0LFxuICAgICAgeTogJ3knIGluIHJlY3QgPyByZWN0LnkgOiByZWN0LnRvcCxcbiAgICB9XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHh5d2hUb1RsYnI8VCBleHRlbmRzIFBhcnRpYWw8UmVjdCAmIFBvaW50Pj4ocmVjdDogVCkge1xuICBpZiAocmVjdCAmJiAhKCdsZWZ0JyBpbiByZWN0ICYmICd0b3AnIGluIHJlY3QpKSB7XG4gICAgcmVjdCA9IGV4dGVuZCh7fSwgcmVjdClcblxuICAgIHJlY3QubGVmdCA9IHJlY3QueCB8fCAwXG4gICAgcmVjdC50b3AgPSByZWN0LnkgfHwgMFxuICAgIHJlY3QucmlnaHQgPSByZWN0LnJpZ2h0IHx8IHJlY3QubGVmdCArIHJlY3Qud2lkdGhcbiAgICByZWN0LmJvdHRvbSA9IHJlY3QuYm90dG9tIHx8IHJlY3QudG9wICsgcmVjdC5oZWlnaHRcbiAgfVxuXG4gIHJldHVybiByZWN0IGFzIFJlY3QgJiBUXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0bGJyVG9YeXdoKHJlY3Q6IFJlY3QgJiBQYXJ0aWFsPFBvaW50Pikge1xuICBpZiAocmVjdCAmJiAhKCd4JyBpbiByZWN0ICYmICd5JyBpbiByZWN0KSkge1xuICAgIHJlY3QgPSBleHRlbmQoe30sIHJlY3QpXG5cbiAgICByZWN0LnggPSByZWN0LmxlZnQgfHwgMFxuICAgIHJlY3QueSA9IHJlY3QudG9wIHx8IDBcbiAgICByZWN0LndpZHRoID0gcmVjdC53aWR0aCB8fCAocmVjdC5yaWdodCB8fCAwKSAtIHJlY3QueFxuICAgIHJlY3QuaGVpZ2h0ID0gcmVjdC5oZWlnaHQgfHwgKHJlY3QuYm90dG9tIHx8IDApIC0gcmVjdC55XG4gIH1cblxuICByZXR1cm4gcmVjdCBhcyBGdWxsUmVjdCAmIFBvaW50XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRFZGdlcyhlZGdlczogRWRnZU9wdGlvbnMsIHJlY3Q6IFJlY3QsIGRlbHRhOiBQb2ludCkge1xuICBpZiAoZWRnZXMubGVmdCkge1xuICAgIHJlY3QubGVmdCArPSBkZWx0YS54XG4gIH1cbiAgaWYgKGVkZ2VzLnJpZ2h0KSB7XG4gICAgcmVjdC5yaWdodCArPSBkZWx0YS54XG4gIH1cbiAgaWYgKGVkZ2VzLnRvcCkge1xuICAgIHJlY3QudG9wICs9IGRlbHRhLnlcbiAgfVxuICBpZiAoZWRnZXMuYm90dG9tKSB7XG4gICAgcmVjdC5ib3R0b20gKz0gZGVsdGEueVxuICB9XG5cbiAgcmVjdC53aWR0aCA9IHJlY3QucmlnaHQgLSByZWN0LmxlZnRcbiAgcmVjdC5oZWlnaHQgPSByZWN0LmJvdHRvbSAtIHJlY3QudG9wXG59XG4iLCAiaW1wb3J0IHR5cGUgeyBQZXJBY3Rpb25EZWZhdWx0cyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucydcbmltcG9ydCB0eXBlIHsgQWN0aW9uTmFtZSwgSGFzR2V0UmVjdCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmltcG9ydCB7IHJlY3RUb1hZLCByZXNvbHZlUmVjdExpa2UgfSBmcm9tICcuL3JlY3QnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldE9yaWdpblhZKFxuICB0YXJnZXQ6IEhhc0dldFJlY3QgJiB7IG9wdGlvbnM6IFBlckFjdGlvbkRlZmF1bHRzIH0sXG4gIGVsZW1lbnQ6IE5vZGUsXG4gIGFjdGlvbk5hbWU/OiBBY3Rpb25OYW1lLFxuKSB7XG4gIGNvbnN0IGFjdGlvbk9wdGlvbnMgPSBhY3Rpb25OYW1lICYmICh0YXJnZXQub3B0aW9ucyBhcyBhbnkpW2FjdGlvbk5hbWVdXG4gIGNvbnN0IGFjdGlvbk9yaWdpbiA9IGFjdGlvbk9wdGlvbnMgJiYgYWN0aW9uT3B0aW9ucy5vcmlnaW5cbiAgY29uc3Qgb3JpZ2luID0gYWN0aW9uT3JpZ2luIHx8IHRhcmdldC5vcHRpb25zLm9yaWdpblxuXG4gIGNvbnN0IG9yaWdpblJlY3QgPSByZXNvbHZlUmVjdExpa2Uob3JpZ2luLCB0YXJnZXQsIGVsZW1lbnQsIFt0YXJnZXQgJiYgZWxlbWVudF0pXG5cbiAgcmV0dXJuIHJlY3RUb1hZKG9yaWdpblJlY3QpIHx8IHsgeDogMCwgeTogMCB9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBFdmVudFR5cGVzLCBMaXN0ZW5lciwgTGlzdGVuZXJzQXJnIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuaW1wb3J0IGlzIGZyb20gJy4vaXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9ybWFsaXplZExpc3RlbmVycyB7XG4gIFt0eXBlOiBzdHJpbmddOiBMaXN0ZW5lcltdXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG5vcm1hbGl6ZShcbiAgdHlwZTogRXZlbnRUeXBlcyxcbiAgbGlzdGVuZXJzPzogTGlzdGVuZXJzQXJnIHwgTGlzdGVuZXJzQXJnW10gfCBudWxsLFxuICBmaWx0ZXIgPSAoX3R5cGVPclByZWZpeDogc3RyaW5nKSA9PiB0cnVlLFxuICByZXN1bHQ/OiBOb3JtYWxpemVkTGlzdGVuZXJzLFxuKTogTm9ybWFsaXplZExpc3RlbmVycyB7XG4gIHJlc3VsdCA9IHJlc3VsdCB8fCB7fVxuXG4gIGlmIChpcy5zdHJpbmcodHlwZSkgJiYgdHlwZS5zZWFyY2goJyAnKSAhPT0gLTEpIHtcbiAgICB0eXBlID0gc3BsaXQodHlwZSlcbiAgfVxuXG4gIGlmIChpcy5hcnJheSh0eXBlKSkge1xuICAgIHR5cGUuZm9yRWFjaCgodCkgPT4gbm9ybWFsaXplKHQsIGxpc3RlbmVycywgZmlsdGVyLCByZXN1bHQpKVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8vIGJlZm9yZTogIHR5cGUgPSBbeyBkcmFnOiAoKSA9PiB7fSB9XSwgbGlzdGVuZXJzID0gdW5kZWZpbmVkXG4gIC8vIGFmdGVyOiAgIHR5cGUgPSAnJyAgICAgICAgICAgICAgICAgICwgbGlzdGVuZXJzID0gW3sgZHJhZzogKCkgPT4ge30gfV1cbiAgaWYgKGlzLm9iamVjdCh0eXBlKSkge1xuICAgIGxpc3RlbmVycyA9IHR5cGVcbiAgICB0eXBlID0gJydcbiAgfVxuXG4gIGlmIChpcy5mdW5jKGxpc3RlbmVycykgJiYgZmlsdGVyKHR5cGUpKSB7XG4gICAgcmVzdWx0W3R5cGVdID0gcmVzdWx0W3R5cGVdIHx8IFtdXG4gICAgcmVzdWx0W3R5cGVdLnB1c2gobGlzdGVuZXJzKVxuICB9IGVsc2UgaWYgKGlzLmFycmF5KGxpc3RlbmVycykpIHtcbiAgICBmb3IgKGNvbnN0IGwgb2YgbGlzdGVuZXJzKSB7XG4gICAgICBub3JtYWxpemUodHlwZSwgbCwgZmlsdGVyLCByZXN1bHQpXG4gICAgfVxuICB9IGVsc2UgaWYgKGlzLm9iamVjdChsaXN0ZW5lcnMpKSB7XG4gICAgZm9yIChjb25zdCBwcmVmaXggaW4gbGlzdGVuZXJzKSB7XG4gICAgICBjb25zdCBjb21iaW5lZFR5cGVzID0gc3BsaXQocHJlZml4KS5tYXAoKHApID0+IGAke3R5cGV9JHtwfWApXG5cbiAgICAgIG5vcm1hbGl6ZShjb21iaW5lZFR5cGVzLCBsaXN0ZW5lcnNbcHJlZml4XSwgZmlsdGVyLCByZXN1bHQpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdCBhcyBOb3JtYWxpemVkTGlzdGVuZXJzXG59XG5cbmZ1bmN0aW9uIHNwbGl0KHR5cGU6IHN0cmluZykge1xuICByZXR1cm4gdHlwZS50cmltKCkuc3BsaXQoLyArLylcbn1cbiIsICJleHBvcnQgZGVmYXVsdCAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IE1hdGguc3FydCh4ICogeCArIHkgKiB5KVxuIiwgImNvbnN0IFZFTkRPUl9QUkVGSVhFUyA9IFsnd2Via2l0JywgJ21veiddXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvaW50ZXJFeHRlbmQ8VD4oZGVzdDogUGFydGlhbDxUICYgeyBfX3NldD86IFBhcnRpYWw8VD4gfT4sIHNvdXJjZTogVCkge1xuICBkZXN0Ll9fc2V0IHx8PSB7fSBhcyBhbnlcblxuICBmb3IgKGNvbnN0IHByb3AgaW4gc291cmNlKSB7XG4gICAgLy8gc2tpcCBkZXByZWNhdGVkIHByZWZpeGVkIHByb3BlcnRpZXNcbiAgICBpZiAoVkVORE9SX1BSRUZJWEVTLnNvbWUoKHByZWZpeCkgPT4gcHJvcC5pbmRleE9mKHByZWZpeCkgPT09IDApKSBjb250aW51ZVxuXG4gICAgaWYgKHR5cGVvZiBkZXN0W3Byb3BdICE9PSAnZnVuY3Rpb24nICYmIHByb3AgIT09ICdfX3NldCcpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkZXN0LCBwcm9wLCB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICBpZiAocHJvcCBpbiBkZXN0Ll9fc2V0KSByZXR1cm4gZGVzdC5fX3NldFtwcm9wXVxuXG4gICAgICAgICAgcmV0dXJuIChkZXN0Ll9fc2V0W3Byb3BdID0gc291cmNlW3Byb3BdIGFzIGFueSlcbiAgICAgICAgfSxcbiAgICAgICAgc2V0KHZhbHVlOiBhbnkpIHtcbiAgICAgICAgICBkZXN0Ll9fc2V0W3Byb3BdID0gdmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgfSlcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlc3Rcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0RXZlbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0RXZlbnQnXG5pbXBvcnQgdHlwZSB7IENvb3Jkc1NldE1lbWJlciwgUG9pbnRlclR5cGUsIFBvaW50LCBQb2ludGVyRXZlbnRUeXBlLCBFbGVtZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuaW1wb3J0IGJyb3dzZXIgZnJvbSAnLi9icm93c2VyJ1xuaW1wb3J0IGRvbSBmcm9tICcuL2RvbU9iamVjdHMnXG5pbXBvcnQgKiBhcyBkb21VdGlscyBmcm9tICcuL2RvbVV0aWxzJ1xuaW1wb3J0IGh5cG90IGZyb20gJy4vaHlwb3QnXG5pbXBvcnQgaXMgZnJvbSAnLi9pcydcbmltcG9ydCBwb2ludGVyRXh0ZW5kIGZyb20gJy4vcG9pbnRlckV4dGVuZCdcblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHlDb29yZHMoZGVzdDogQ29vcmRzU2V0TWVtYmVyLCBzcmM6IENvb3Jkc1NldE1lbWJlcikge1xuICBkZXN0LnBhZ2UgPSBkZXN0LnBhZ2UgfHwgKHt9IGFzIGFueSlcbiAgZGVzdC5wYWdlLnggPSBzcmMucGFnZS54XG4gIGRlc3QucGFnZS55ID0gc3JjLnBhZ2UueVxuXG4gIGRlc3QuY2xpZW50ID0gZGVzdC5jbGllbnQgfHwgKHt9IGFzIGFueSlcbiAgZGVzdC5jbGllbnQueCA9IHNyYy5jbGllbnQueFxuICBkZXN0LmNsaWVudC55ID0gc3JjLmNsaWVudC55XG5cbiAgZGVzdC50aW1lU3RhbXAgPSBzcmMudGltZVN0YW1wXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb29yZERlbHRhcyh0YXJnZXRPYmo6IENvb3Jkc1NldE1lbWJlciwgcHJldjogQ29vcmRzU2V0TWVtYmVyLCBjdXI6IENvb3Jkc1NldE1lbWJlcikge1xuICB0YXJnZXRPYmoucGFnZS54ID0gY3VyLnBhZ2UueCAtIHByZXYucGFnZS54XG4gIHRhcmdldE9iai5wYWdlLnkgPSBjdXIucGFnZS55IC0gcHJldi5wYWdlLnlcbiAgdGFyZ2V0T2JqLmNsaWVudC54ID0gY3VyLmNsaWVudC54IC0gcHJldi5jbGllbnQueFxuICB0YXJnZXRPYmouY2xpZW50LnkgPSBjdXIuY2xpZW50LnkgLSBwcmV2LmNsaWVudC55XG4gIHRhcmdldE9iai50aW1lU3RhbXAgPSBjdXIudGltZVN0YW1wIC0gcHJldi50aW1lU3RhbXBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldENvb3JkVmVsb2NpdHkodGFyZ2V0T2JqOiBDb29yZHNTZXRNZW1iZXIsIGRlbHRhOiBDb29yZHNTZXRNZW1iZXIpIHtcbiAgY29uc3QgZHQgPSBNYXRoLm1heChkZWx0YS50aW1lU3RhbXAgLyAxMDAwLCAwLjAwMSlcblxuICB0YXJnZXRPYmoucGFnZS54ID0gZGVsdGEucGFnZS54IC8gZHRcbiAgdGFyZ2V0T2JqLnBhZ2UueSA9IGRlbHRhLnBhZ2UueSAvIGR0XG4gIHRhcmdldE9iai5jbGllbnQueCA9IGRlbHRhLmNsaWVudC54IC8gZHRcbiAgdGFyZ2V0T2JqLmNsaWVudC55ID0gZGVsdGEuY2xpZW50LnkgLyBkdFxuICB0YXJnZXRPYmoudGltZVN0YW1wID0gZHRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFplcm9Db29yZHModGFyZ2V0T2JqOiBDb29yZHNTZXRNZW1iZXIpIHtcbiAgdGFyZ2V0T2JqLnBhZ2UueCA9IDBcbiAgdGFyZ2V0T2JqLnBhZ2UueSA9IDBcbiAgdGFyZ2V0T2JqLmNsaWVudC54ID0gMFxuICB0YXJnZXRPYmouY2xpZW50LnkgPSAwXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc05hdGl2ZVBvaW50ZXIocG9pbnRlcjogYW55KSB7XG4gIHJldHVybiBwb2ludGVyIGluc3RhbmNlb2YgZG9tLkV2ZW50IHx8IHBvaW50ZXIgaW5zdGFuY2VvZiBkb20uVG91Y2hcbn1cblxuLy8gR2V0IHNwZWNpZmllZCBYL1kgY29vcmRzIGZvciBtb3VzZSBvciBldmVudC50b3VjaGVzWzBdXG5leHBvcnQgZnVuY3Rpb24gZ2V0WFkodHlwZTogc3RyaW5nLCBwb2ludGVyOiBQb2ludGVyVHlwZSB8IEludGVyYWN0RXZlbnQsIHh5OiBQb2ludCkge1xuICB4eSA9IHh5IHx8ICh7fSBhcyBQb2ludClcbiAgdHlwZSA9IHR5cGUgfHwgJ3BhZ2UnXG5cbiAgeHkueCA9IHBvaW50ZXJbKHR5cGUgKyAnWCcpIGFzICdwYWdlWCddXG4gIHh5LnkgPSBwb2ludGVyWyh0eXBlICsgJ1knKSBhcyAncGFnZVknXVxuXG4gIHJldHVybiB4eVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFnZVhZKHBvaW50ZXI6IFBvaW50ZXJUeXBlIHwgSW50ZXJhY3RFdmVudCwgcGFnZT86IFBvaW50KSB7XG4gIHBhZ2UgPSBwYWdlIHx8IHsgeDogMCwgeTogMCB9XG5cbiAgLy8gT3BlcmEgTW9iaWxlIGhhbmRsZXMgdGhlIHZpZXdwb3J0IGFuZCBzY3JvbGxpbmcgb2RkbHlcbiAgaWYgKGJyb3dzZXIuaXNPcGVyYU1vYmlsZSAmJiBpc05hdGl2ZVBvaW50ZXIocG9pbnRlcikpIHtcbiAgICBnZXRYWSgnc2NyZWVuJywgcG9pbnRlciwgcGFnZSlcblxuICAgIHBhZ2UueCArPSB3aW5kb3cuc2Nyb2xsWFxuICAgIHBhZ2UueSArPSB3aW5kb3cuc2Nyb2xsWVxuICB9IGVsc2Uge1xuICAgIGdldFhZKCdwYWdlJywgcG9pbnRlciwgcGFnZSlcbiAgfVxuXG4gIHJldHVybiBwYWdlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDbGllbnRYWShwb2ludGVyOiBQb2ludGVyVHlwZSwgY2xpZW50OiBQb2ludCkge1xuICBjbGllbnQgPSBjbGllbnQgfHwgKHt9IGFzIGFueSlcblxuICBpZiAoYnJvd3Nlci5pc09wZXJhTW9iaWxlICYmIGlzTmF0aXZlUG9pbnRlcihwb2ludGVyKSkge1xuICAgIC8vIE9wZXJhIE1vYmlsZSBoYW5kbGVzIHRoZSB2aWV3cG9ydCBhbmQgc2Nyb2xsaW5nIG9kZGx5XG4gICAgZ2V0WFkoJ3NjcmVlbicsIHBvaW50ZXIsIGNsaWVudClcbiAgfSBlbHNlIHtcbiAgICBnZXRYWSgnY2xpZW50JywgcG9pbnRlciwgY2xpZW50KVxuICB9XG5cbiAgcmV0dXJuIGNsaWVudFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9pbnRlcklkKHBvaW50ZXI6IHsgcG9pbnRlcklkPzogbnVtYmVyOyBpZGVudGlmaWVyPzogbnVtYmVyOyB0eXBlPzogc3RyaW5nIH0pIHtcbiAgcmV0dXJuIGlzLm51bWJlcihwb2ludGVyLnBvaW50ZXJJZCkgPyBwb2ludGVyLnBvaW50ZXJJZCEgOiBwb2ludGVyLmlkZW50aWZpZXIhXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb29yZHMoZGVzdDogQ29vcmRzU2V0TWVtYmVyLCBwb2ludGVyczogYW55W10sIHRpbWVTdGFtcDogbnVtYmVyKSB7XG4gIGNvbnN0IHBvaW50ZXIgPSBwb2ludGVycy5sZW5ndGggPiAxID8gcG9pbnRlckF2ZXJhZ2UocG9pbnRlcnMpIDogcG9pbnRlcnNbMF1cblxuICBnZXRQYWdlWFkocG9pbnRlciwgZGVzdC5wYWdlKVxuICBnZXRDbGllbnRYWShwb2ludGVyLCBkZXN0LmNsaWVudClcblxuICBkZXN0LnRpbWVTdGFtcCA9IHRpbWVTdGFtcFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG91Y2hQYWlyKGV2ZW50OiBUb3VjaEV2ZW50IHwgUG9pbnRlclR5cGVbXSkge1xuICBjb25zdCB0b3VjaGVzOiBQb2ludGVyVHlwZVtdID0gW11cblxuICAvLyBhcnJheSBvZiB0b3VjaGVzIGlzIHN1cHBsaWVkXG4gIGlmIChpcy5hcnJheShldmVudCkpIHtcbiAgICB0b3VjaGVzWzBdID0gZXZlbnRbMF1cbiAgICB0b3VjaGVzWzFdID0gZXZlbnRbMV1cbiAgfVxuICAvLyBhbiBldmVudFxuICBlbHNlIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3RvdWNoZW5kJykge1xuICAgICAgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHRvdWNoZXNbMF0gPSBldmVudC50b3VjaGVzWzBdXG4gICAgICAgIHRvdWNoZXNbMV0gPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXVxuICAgICAgfSBlbHNlIGlmIChldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0b3VjaGVzWzBdID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF1cbiAgICAgICAgdG91Y2hlc1sxXSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzFdXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvdWNoZXNbMF0gPSBldmVudC50b3VjaGVzWzBdXG4gICAgICB0b3VjaGVzWzFdID0gZXZlbnQudG91Y2hlc1sxXVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0b3VjaGVzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb2ludGVyQXZlcmFnZShwb2ludGVyczogUG9pbnRlclR5cGVbXSkge1xuICBjb25zdCBhdmVyYWdlID0ge1xuICAgIHBhZ2VYOiAwLFxuICAgIHBhZ2VZOiAwLFxuICAgIGNsaWVudFg6IDAsXG4gICAgY2xpZW50WTogMCxcbiAgICBzY3JlZW5YOiAwLFxuICAgIHNjcmVlblk6IDAsXG4gIH1cblxuICB0eXBlIENvb3JkS2V5cyA9IGtleW9mIHR5cGVvZiBhdmVyYWdlXG5cbiAgZm9yIChjb25zdCBwb2ludGVyIG9mIHBvaW50ZXJzKSB7XG4gICAgZm9yIChjb25zdCBwcm9wIGluIGF2ZXJhZ2UpIHtcbiAgICAgIGF2ZXJhZ2VbcHJvcCBhcyBDb29yZEtleXNdICs9IHBvaW50ZXJbcHJvcCBhcyBDb29yZEtleXNdXG4gICAgfVxuICB9XG4gIGZvciAoY29uc3QgcHJvcCBpbiBhdmVyYWdlKSB7XG4gICAgYXZlcmFnZVtwcm9wIGFzIENvb3JkS2V5c10gLz0gcG9pbnRlcnMubGVuZ3RoXG4gIH1cblxuICByZXR1cm4gYXZlcmFnZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG91Y2hCQm94KGV2ZW50OiBQb2ludGVyVHlwZVtdKSB7XG4gIGlmICghZXZlbnQubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIGNvbnN0IHRvdWNoZXMgPSBnZXRUb3VjaFBhaXIoZXZlbnQpXG4gIGNvbnN0IG1pblggPSBNYXRoLm1pbih0b3VjaGVzWzBdLnBhZ2VYLCB0b3VjaGVzWzFdLnBhZ2VYKVxuICBjb25zdCBtaW5ZID0gTWF0aC5taW4odG91Y2hlc1swXS5wYWdlWSwgdG91Y2hlc1sxXS5wYWdlWSlcbiAgY29uc3QgbWF4WCA9IE1hdGgubWF4KHRvdWNoZXNbMF0ucGFnZVgsIHRvdWNoZXNbMV0ucGFnZVgpXG4gIGNvbnN0IG1heFkgPSBNYXRoLm1heCh0b3VjaGVzWzBdLnBhZ2VZLCB0b3VjaGVzWzFdLnBhZ2VZKVxuXG4gIHJldHVybiB7XG4gICAgeDogbWluWCxcbiAgICB5OiBtaW5ZLFxuICAgIGxlZnQ6IG1pblgsXG4gICAgdG9wOiBtaW5ZLFxuICAgIHJpZ2h0OiBtYXhYLFxuICAgIGJvdHRvbTogbWF4WSxcbiAgICB3aWR0aDogbWF4WCAtIG1pblgsXG4gICAgaGVpZ2h0OiBtYXhZIC0gbWluWSxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG91Y2hEaXN0YW5jZShldmVudDogUG9pbnRlclR5cGVbXSB8IFRvdWNoRXZlbnQsIGRlbHRhU291cmNlOiBzdHJpbmcpIHtcbiAgY29uc3Qgc291cmNlWCA9IChkZWx0YVNvdXJjZSArICdYJykgYXMgJ3BhZ2VYJ1xuICBjb25zdCBzb3VyY2VZID0gKGRlbHRhU291cmNlICsgJ1knKSBhcyAncGFnZVknXG4gIGNvbnN0IHRvdWNoZXMgPSBnZXRUb3VjaFBhaXIoZXZlbnQpXG5cbiAgY29uc3QgZHggPSB0b3VjaGVzWzBdW3NvdXJjZVhdIC0gdG91Y2hlc1sxXVtzb3VyY2VYXVxuICBjb25zdCBkeSA9IHRvdWNoZXNbMF1bc291cmNlWV0gLSB0b3VjaGVzWzFdW3NvdXJjZVldXG5cbiAgcmV0dXJuIGh5cG90KGR4LCBkeSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvdWNoQW5nbGUoZXZlbnQ6IFBvaW50ZXJUeXBlW10gfCBUb3VjaEV2ZW50LCBkZWx0YVNvdXJjZTogc3RyaW5nKSB7XG4gIGNvbnN0IHNvdXJjZVggPSAoZGVsdGFTb3VyY2UgKyAnWCcpIGFzICdwYWdlWCdcbiAgY29uc3Qgc291cmNlWSA9IChkZWx0YVNvdXJjZSArICdZJykgYXMgJ3BhZ2VZJ1xuICBjb25zdCB0b3VjaGVzID0gZ2V0VG91Y2hQYWlyKGV2ZW50KVxuICBjb25zdCBkeCA9IHRvdWNoZXNbMV1bc291cmNlWF0gLSB0b3VjaGVzWzBdW3NvdXJjZVhdXG4gIGNvbnN0IGR5ID0gdG91Y2hlc1sxXVtzb3VyY2VZXSAtIHRvdWNoZXNbMF1bc291cmNlWV1cbiAgY29uc3QgYW5nbGUgPSAoMTgwICogTWF0aC5hdGFuMihkeSwgZHgpKSAvIE1hdGguUElcblxuICByZXR1cm4gYW5nbGVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvaW50ZXJUeXBlKHBvaW50ZXI6IHsgcG9pbnRlclR5cGU/OiBzdHJpbmc7IGlkZW50aWZpZXI/OiBudW1iZXI7IHR5cGU/OiBzdHJpbmcgfSkge1xuICByZXR1cm4gaXMuc3RyaW5nKHBvaW50ZXIucG9pbnRlclR5cGUpXG4gICAgPyBwb2ludGVyLnBvaW50ZXJUeXBlXG4gICAgOiBpcy5udW1iZXIocG9pbnRlci5wb2ludGVyVHlwZSlcbiAgICAgID8gW3VuZGVmaW5lZCwgdW5kZWZpbmVkLCAndG91Y2gnLCAncGVuJywgJ21vdXNlJ11bcG9pbnRlci5wb2ludGVyVHlwZV0hXG4gICAgICA6IC8vIGlmIHRoZSBQb2ludGVyRXZlbnQgQVBJIGlzbid0IGF2YWlsYWJsZSwgdGhlbiB0aGUgXCJwb2ludGVyXCIgbXVzdFxuICAgICAgICAvLyBiZSBlaXRoZXIgYSBNb3VzZUV2ZW50LCBUb3VjaEV2ZW50LCBvciBUb3VjaCBvYmplY3RcbiAgICAgICAgL3RvdWNoLy50ZXN0KHBvaW50ZXIudHlwZSB8fCAnJykgfHwgcG9pbnRlciBpbnN0YW5jZW9mIGRvbS5Ub3VjaFxuICAgICAgICA/ICd0b3VjaCdcbiAgICAgICAgOiAnbW91c2UnXG59XG5cbi8vIFsgZXZlbnQudGFyZ2V0LCBldmVudC5jdXJyZW50VGFyZ2V0IF1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFdmVudFRhcmdldHMoZXZlbnQ6IEV2ZW50KSB7XG4gIGNvbnN0IHBhdGggPSBpcy5mdW5jKGV2ZW50LmNvbXBvc2VkUGF0aClcbiAgICA/IChldmVudC5jb21wb3NlZFBhdGgoKSBhcyBFbGVtZW50W10pXG4gICAgOiAoZXZlbnQgYXMgdW5rbm93biBhcyB7IHBhdGg6IEVsZW1lbnRbXSB9KS5wYXRoXG5cbiAgcmV0dXJuIFtcbiAgICBkb21VdGlscy5nZXRBY3R1YWxFbGVtZW50KHBhdGggPyBwYXRoWzBdIDogKGV2ZW50LnRhcmdldCBhcyBFbGVtZW50KSksXG4gICAgZG9tVXRpbHMuZ2V0QWN0dWFsRWxlbWVudChldmVudC5jdXJyZW50VGFyZ2V0IGFzIEVsZW1lbnQpLFxuICBdXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXdDb29yZHMoKTogQ29vcmRzU2V0TWVtYmVyIHtcbiAgcmV0dXJuIHtcbiAgICBwYWdlOiB7IHg6IDAsIHk6IDAgfSxcbiAgICBjbGllbnQ6IHsgeDogMCwgeTogMCB9LFxuICAgIHRpbWVTdGFtcDogMCxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29vcmRzVG9FdmVudChjb29yZHM6IE1vY2tDb29yZHMpIHtcbiAgY29uc3QgZXZlbnQgPSB7XG4gICAgY29vcmRzLFxuICAgIGdldCBwYWdlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29vcmRzLnBhZ2VcbiAgICB9LFxuICAgIGdldCBjbGllbnQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb29yZHMuY2xpZW50XG4gICAgfSxcbiAgICBnZXQgdGltZVN0YW1wKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29vcmRzLnRpbWVTdGFtcFxuICAgIH0sXG4gICAgZ2V0IHBhZ2VYKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29vcmRzLnBhZ2UueFxuICAgIH0sXG4gICAgZ2V0IHBhZ2VZKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29vcmRzLnBhZ2UueVxuICAgIH0sXG4gICAgZ2V0IGNsaWVudFgoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb29yZHMuY2xpZW50LnhcbiAgICB9LFxuICAgIGdldCBjbGllbnRZKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29vcmRzLmNsaWVudC55XG4gICAgfSxcbiAgICBnZXQgcG9pbnRlcklkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29vcmRzLnBvaW50ZXJJZFxuICAgIH0sXG4gICAgZ2V0IHRhcmdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy50YXJnZXRcbiAgICB9LFxuICAgIGdldCB0eXBlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29vcmRzLnR5cGVcbiAgICB9LFxuICAgIGdldCBwb2ludGVyVHlwZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvb3Jkcy5wb2ludGVyVHlwZVxuICAgIH0sXG4gICAgZ2V0IGJ1dHRvbnMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb29yZHMuYnV0dG9uc1xuICAgIH0sXG4gICAgcHJldmVudERlZmF1bHQoKSB7fSxcbiAgfVxuXG4gIHJldHVybiBldmVudCBhcyB0eXBlb2YgZXZlbnQgJiBQb2ludGVyVHlwZSAmIFBvaW50ZXJFdmVudFR5cGVcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb2NrQ29vcmRzIHtcbiAgcGFnZTogUG9pbnRcbiAgY2xpZW50OiBQb2ludFxuICB0aW1lU3RhbXA/OiBudW1iZXJcbiAgcG9pbnRlcklkPzogYW55XG4gIHRhcmdldD86IGFueVxuICB0eXBlPzogc3RyaW5nXG4gIHBvaW50ZXJUeXBlPzogc3RyaW5nXG4gIGJ1dHRvbnM/OiBudW1iZXJcbn1cblxuZXhwb3J0IHsgcG9pbnRlckV4dGVuZCB9XG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIHsgSW50ZXJhY3Rpb24sIEludGVyYWN0aW9uUHJveHkgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25OYW1lIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuZXhwb3J0IGNsYXNzIEJhc2VFdmVudDxUIGV4dGVuZHMgQWN0aW9uTmFtZSB8IG51bGwgPSBuZXZlcj4ge1xuICBkZWNsYXJlIHR5cGU6IHN0cmluZ1xuICBkZWNsYXJlIHRhcmdldDogRXZlbnRUYXJnZXRcbiAgZGVjbGFyZSBjdXJyZW50VGFyZ2V0OiBOb2RlXG4gIGRlY2xhcmUgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGVcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBkZWNsYXJlIF9pbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248VD5cbiAgZGVjbGFyZSB0aW1lU3RhbXA6IG51bWJlclxuICBpbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSBmYWxzZVxuICBwcm9wYWdhdGlvblN0b3BwZWQgPSBmYWxzZVxuXG4gIGNvbnN0cnVjdG9yKGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxUPikge1xuICAgIHRoaXMuX2ludGVyYWN0aW9uID0gaW50ZXJhY3Rpb25cbiAgfVxuXG4gIHByZXZlbnREZWZhdWx0KCkge31cblxuICAvKipcbiAgICogRG9uJ3QgY2FsbCBhbnkgb3RoZXIgbGlzdGVuZXJzIChldmVuIG9uIHRoZSBjdXJyZW50IHRhcmdldClcbiAgICovXG4gIHN0b3BQcm9wYWdhdGlvbigpIHtcbiAgICB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBEb24ndCBjYWxsIGxpc3RlbmVycyBvbiB0aGUgcmVtYWluaW5nIHRhcmdldHNcbiAgICovXG4gIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpIHtcbiAgICB0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZVxuICB9XG59XG5cbi8vIGRlZmluZWQgb3V0c2lkZSBvZiBjbGFzcyBkZWZpbml0aW9uIHRvIGF2b2lkIGFzc2lnbm1lbnQgb2YgdW5kZWZpbmVkIGR1cmluZ1xuLy8gY29uc3RydWN0aW9uXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VFdmVudDxUIGV4dGVuZHMgQWN0aW9uTmFtZSB8IG51bGwgPSBuZXZlcj4ge1xuICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb25Qcm94eTxUPlxufVxuXG4vLyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIGRlZmluZWQgaGVyZSB0byBzdXBwb3J0IHR5cGVzY3JpcHQgMy42IGFuZCBiZWxvdyB3aGljaFxuLy8gZG9uJ3Qgc3VwcG9ydCBnZXR0ZXIgYW5kIHNldHRlcnMgaW4gLmQudHMgZmlsZXNcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlRXZlbnQucHJvdG90eXBlLCAnaW50ZXJhY3Rpb24nLCB7XG4gIGdldCh0aGlzOiBCYXNlRXZlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5faW50ZXJhY3Rpb24uX3Byb3h5XG4gIH0sXG4gIHNldCh0aGlzOiBCYXNlRXZlbnQpIHt9LFxufSlcbiIsICJ0eXBlIEZpbHRlcjxUPiA9IChlbGVtZW50OiBULCBpbmRleDogbnVtYmVyLCBhcnJheTogVFtdKSA9PiBib29sZWFuXG5cbmV4cG9ydCBjb25zdCBjb250YWlucyA9IDxUPihhcnJheTogVFtdLCB0YXJnZXQ6IFQpID0+IGFycmF5LmluZGV4T2YodGFyZ2V0KSAhPT0gLTFcblxuZXhwb3J0IGNvbnN0IHJlbW92ZSA9IDxUPihhcnJheTogVFtdLCB0YXJnZXQ6IFQpID0+IGFycmF5LnNwbGljZShhcnJheS5pbmRleE9mKHRhcmdldCksIDEpXG5cbmV4cG9ydCBjb25zdCBtZXJnZSA9IDxULCBVPih0YXJnZXQ6IEFycmF5PFQgfCBVPiwgc291cmNlOiBVW10pID0+IHtcbiAgZm9yIChjb25zdCBpdGVtIG9mIHNvdXJjZSkge1xuICAgIHRhcmdldC5wdXNoKGl0ZW0pXG4gIH1cblxuICByZXR1cm4gdGFyZ2V0XG59XG5cbmV4cG9ydCBjb25zdCBmcm9tID0gPFQgPSBhbnk+KHNvdXJjZTogQXJyYXlMaWtlPFQ+KSA9PiBtZXJnZShbXSBhcyBUW10sIHNvdXJjZSBhcyBUW10pXG5cbmV4cG9ydCBjb25zdCBmaW5kSW5kZXggPSA8VD4oYXJyYXk6IFRbXSwgZnVuYzogRmlsdGVyPFQ+KSA9PiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZnVuYyhhcnJheVtpXSwgaSwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4gaVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMVxufVxuXG5leHBvcnQgY29uc3QgZmluZCA9IDxUID0gYW55PihhcnJheTogVFtdLCBmdW5jOiBGaWx0ZXI8VD4pOiBUIHwgdW5kZWZpbmVkID0+IGFycmF5W2ZpbmRJbmRleChhcnJheSwgZnVuYyldXG4iLCAiaW1wb3J0IHsgQmFzZUV2ZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9CYXNlRXZlbnQnXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdEV2ZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdEV2ZW50J1xuaW1wb3J0IHR5cGUgeyBFbGVtZW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCAqIGFzIGFyciBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9hcnInXG5cbmltcG9ydCB0eXBlIHsgRHJvcFN0YXRlIH0gZnJvbSAnLi9wbHVnaW4nXG5cbmV4cG9ydCBjbGFzcyBEcm9wRXZlbnQgZXh0ZW5kcyBCYXNlRXZlbnQ8J2RyYWcnPiB7XG4gIGRlY2xhcmUgdGFyZ2V0OiBFbGVtZW50XG4gIGRyb3B6b25lOiBJbnRlcmFjdGFibGVcbiAgZHJhZ0V2ZW50OiBJbnRlcmFjdEV2ZW50PCdkcmFnJz5cbiAgcmVsYXRlZFRhcmdldDogRWxlbWVudFxuICBkcmFnZ2FibGU6IEludGVyYWN0YWJsZVxuICBwcm9wYWdhdGlvblN0b3BwZWQgPSBmYWxzZVxuICBpbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSBmYWxzZVxuXG4gIC8qKlxuICAgKiBDbGFzcyBvZiBldmVudHMgZmlyZWQgb24gZHJvcHpvbmVzIGR1cmluZyBkcmFncyB3aXRoIGFjY2VwdGFibGUgdGFyZ2V0cy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGRyb3BTdGF0ZTogRHJvcFN0YXRlLCBkcmFnRXZlbnQ6IEludGVyYWN0RXZlbnQ8J2RyYWcnPiwgdHlwZTogc3RyaW5nKSB7XG4gICAgc3VwZXIoZHJhZ0V2ZW50Ll9pbnRlcmFjdGlvbilcblxuICAgIGNvbnN0IHsgZWxlbWVudCwgZHJvcHpvbmUgfSA9IHR5cGUgPT09ICdkcmFnbGVhdmUnID8gZHJvcFN0YXRlLnByZXYgOiBkcm9wU3RhdGUuY3VyXG5cbiAgICB0aGlzLnR5cGUgPSB0eXBlXG4gICAgdGhpcy50YXJnZXQgPSBlbGVtZW50XG4gICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gZWxlbWVudFxuICAgIHRoaXMuZHJvcHpvbmUgPSBkcm9wem9uZVxuICAgIHRoaXMuZHJhZ0V2ZW50ID0gZHJhZ0V2ZW50XG4gICAgdGhpcy5yZWxhdGVkVGFyZ2V0ID0gZHJhZ0V2ZW50LnRhcmdldFxuICAgIHRoaXMuZHJhZ2dhYmxlID0gZHJhZ0V2ZW50LmludGVyYWN0YWJsZVxuICAgIHRoaXMudGltZVN0YW1wID0gZHJhZ0V2ZW50LnRpbWVTdGFtcFxuICB9XG5cbiAgLyoqXG4gICAqIElmIHRoaXMgaXMgYSBgZHJvcGFjdGl2YXRlYCBldmVudCwgdGhlIGRyb3B6b25lIGVsZW1lbnQgd2lsbCBiZVxuICAgKiBkZWFjdGl2YXRlZC5cbiAgICpcbiAgICogSWYgdGhpcyBpcyBhIGBkcmFnbW92ZWAgb3IgYGRyYWdlbnRlcmAsIGEgYGRyYWdsZWF2ZWAgd2lsbCBiZSBmaXJlZCBvbiB0aGVcbiAgICogZHJvcHpvbmUgZWxlbWVudCBhbmQgbW9yZS5cbiAgICovXG4gIHJlamVjdCgpIHtcbiAgICBjb25zdCB7IGRyb3BTdGF0ZSB9ID0gdGhpcy5faW50ZXJhY3Rpb25cblxuICAgIGlmIChcbiAgICAgIHRoaXMudHlwZSAhPT0gJ2Ryb3BhY3RpdmF0ZScgJiZcbiAgICAgICghdGhpcy5kcm9wem9uZSB8fCBkcm9wU3RhdGUuY3VyLmRyb3B6b25lICE9PSB0aGlzLmRyb3B6b25lIHx8IGRyb3BTdGF0ZS5jdXIuZWxlbWVudCAhPT0gdGhpcy50YXJnZXQpXG4gICAgKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBkcm9wU3RhdGUucHJldi5kcm9wem9uZSA9IHRoaXMuZHJvcHpvbmVcbiAgICBkcm9wU3RhdGUucHJldi5lbGVtZW50ID0gdGhpcy50YXJnZXRcblxuICAgIGRyb3BTdGF0ZS5yZWplY3RlZCA9IHRydWVcbiAgICBkcm9wU3RhdGUuZXZlbnRzLmVudGVyID0gbnVsbFxuXG4gICAgdGhpcy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuXG4gICAgaWYgKHRoaXMudHlwZSA9PT0gJ2Ryb3BhY3RpdmF0ZScpIHtcbiAgICAgIGNvbnN0IGFjdGl2ZURyb3BzID0gZHJvcFN0YXRlLmFjdGl2ZURyb3BzXG4gICAgICBjb25zdCBpbmRleCA9IGFyci5maW5kSW5kZXgoXG4gICAgICAgIGFjdGl2ZURyb3BzLFxuICAgICAgICAoeyBkcm9wem9uZSwgZWxlbWVudCB9KSA9PiBkcm9wem9uZSA9PT0gdGhpcy5kcm9wem9uZSAmJiBlbGVtZW50ID09PSB0aGlzLnRhcmdldCxcbiAgICAgIClcblxuICAgICAgZHJvcFN0YXRlLmFjdGl2ZURyb3BzLnNwbGljZShpbmRleCwgMSlcblxuICAgICAgY29uc3QgZGVhY3RpdmF0ZUV2ZW50ID0gbmV3IERyb3BFdmVudChkcm9wU3RhdGUsIHRoaXMuZHJhZ0V2ZW50LCAnZHJvcGRlYWN0aXZhdGUnKVxuXG4gICAgICBkZWFjdGl2YXRlRXZlbnQuZHJvcHpvbmUgPSB0aGlzLmRyb3B6b25lXG4gICAgICBkZWFjdGl2YXRlRXZlbnQudGFyZ2V0ID0gdGhpcy50YXJnZXRcblxuICAgICAgdGhpcy5kcm9wem9uZS5maXJlKGRlYWN0aXZhdGVFdmVudClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kcm9wem9uZS5maXJlKG5ldyBEcm9wRXZlbnQoZHJvcFN0YXRlLCB0aGlzLmRyYWdFdmVudCwgJ2RyYWdsZWF2ZScpKVxuICAgIH1cbiAgfVxuXG4gIHByZXZlbnREZWZhdWx0KCkge31cblxuICBzdG9wUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlXG4gIH1cblxuICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWVcbiAgfVxufVxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IEV2ZW50UGhhc2UsIEludGVyYWN0RXZlbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0RXZlbnQnXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0aW9uLCBEb1BoYXNlQXJnIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgUGVyQWN0aW9uRGVmYXVsdHMgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnXG5pbXBvcnQgdHlwZSB7IFNjb3BlLCBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBFbGVtZW50LCBQb2ludGVyRXZlbnRUeXBlLCBSZWN0LCBMaXN0ZW5lcnNBcmcgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0ICogYXMgZG9tVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCBnZXRPcmlnaW5YWSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9nZXRPcmlnaW5YWSdcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcbmltcG9ydCBub3JtYWxpemVMaXN0ZW5lcnMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvbm9ybWFsaXplTGlzdGVuZXJzJ1xuaW1wb3J0ICogYXMgcG9pbnRlclV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3BvaW50ZXJVdGlscydcblxuLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgLS0gZm9yIHR5cGVzY3JpcHQgbW9kdWxlIGF1Z21lbnRhdGlvbnMgKi9cbmltcG9ydCAnLi4vZHJhZy9wbHVnaW4nXG5cbmltcG9ydCB0eXBlIHsgRHJhZ0V2ZW50IH0gZnJvbSAnLi4vZHJhZy9wbHVnaW4nXG5pbXBvcnQgZHJhZyBmcm9tICcuLi9kcmFnL3BsdWdpbidcbi8qIGVzbGludC1lbmFibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgKi9cblxuaW1wb3J0IHsgRHJvcEV2ZW50IH0gZnJvbSAnLi9Ecm9wRXZlbnQnXG5cbmV4cG9ydCB0eXBlIERyb3BGdW5jdGlvbkNoZWNrZXIgPSAoXG4gIGRyYWdFdmVudDogYW55LCAvLyByZWxhdGVkIGRyYWcgb3BlcmF0aW9uXG4gIGV2ZW50OiBhbnksIC8vIHRvdWNoIG9yIG1vdXNlIEV2ZW50RW1pdHRlclxuICBkcm9wcGVkOiBib29sZWFuLCAvLyBkZWZhdWx0IGNoZWNrZXIgcmVzdWx0XG4gIGRyb3B6b25lOiBJbnRlcmFjdGFibGUsIC8vIGRyb3B6b25lIGludGVyYWN0YWJsZVxuICBkcm9wRWxlbWVudDogRWxlbWVudCwgLy8gZHJvcCB6b25lIGVsZW1lbnRcbiAgZHJhZ2dhYmxlOiBJbnRlcmFjdGFibGUsIC8vIGRyYWdnYWJsZSdzIEludGVyYWN0YWJsZVxuICBkcmFnZ2FibGVFbGVtZW50OiBFbGVtZW50LCAvLyBkcmFnZ2VkIGVsZW1lbnRcbikgPT4gYm9vbGVhblxuXG5leHBvcnQgaW50ZXJmYWNlIERyb3B6b25lT3B0aW9ucyBleHRlbmRzIFBlckFjdGlvbkRlZmF1bHRzIHtcbiAgYWNjZXB0PzpcbiAgICB8IHN0cmluZ1xuICAgIHwgRWxlbWVudFxuICAgIHwgKCh7IGRyb3B6b25lLCBkcmFnZ2FibGVFbGVtZW50IH06IHsgZHJvcHpvbmU6IEludGVyYWN0YWJsZTsgZHJhZ2dhYmxlRWxlbWVudDogRWxlbWVudCB9KSA9PiBib29sZWFuKVxuICAvLyBIb3cgdGhlIG92ZXJsYXAgaXMgY2hlY2tlZCBvbiB0aGUgZHJvcCB6b25lXG4gIG92ZXJsYXA/OiAncG9pbnRlcicgfCAnY2VudGVyJyB8IG51bWJlclxuICBjaGVja2VyPzogRHJvcEZ1bmN0aW9uQ2hlY2tlclxuXG4gIG9uZHJvcGFjdGl2YXRlPzogTGlzdGVuZXJzQXJnXG4gIG9uZHJvcGRlYWN0aXZhdGU/OiBMaXN0ZW5lcnNBcmdcbiAgb25kcmFnZW50ZXI/OiBMaXN0ZW5lcnNBcmdcbiAgb25kcmFnbGVhdmU/OiBMaXN0ZW5lcnNBcmdcbiAgb25kcm9wbW92ZT86IExpc3RlbmVyc0FyZ1xuICBvbmRyb3A/OiBMaXN0ZW5lcnNBcmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEcm9wem9uZU1ldGhvZCB7XG4gICh0aGlzOiBJbnRlcmFjdGFibGUsIG9wdGlvbnM6IERyb3B6b25lT3B0aW9ucyB8IGJvb2xlYW4pOiBJbnRlcmFjdGFibGVcbiAgKCk6IERyb3B6b25lT3B0aW9uc1xufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0YWJsZSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGludGVyYWN0KCcuZHJvcCcpLmRyb3B6b25lKHtcbiAgICAgKiAgIGFjY2VwdDogJy5jYW4tZHJvcCcgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpbmdsZS1kcm9wJyksXG4gICAgICogICBvdmVybGFwOiAncG9pbnRlcicgfHwgJ2NlbnRlcicgfHwgemVyb1RvT25lXG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogUmV0dXJucyBvciBzZXRzIHdoZXRoZXIgZHJhZ2dhYmxlcyBjYW4gYmUgZHJvcHBlZCBvbnRvIHRoaXMgdGFyZ2V0IHRvXG4gICAgICogdHJpZ2dlciBkcm9wIGV2ZW50c1xuICAgICAqXG4gICAgICogRHJvcHpvbmVzIGNhbiByZWNlaXZlIHRoZSBmb2xsb3dpbmcgZXZlbnRzOlxuICAgICAqICAtIGBkcm9wYWN0aXZhdGVgIGFuZCBgZHJvcGRlYWN0aXZhdGVgIHdoZW4gYW4gYWNjZXB0YWJsZSBkcmFnIHN0YXJ0cyBhbmQgZW5kc1xuICAgICAqICAtIGBkcmFnZW50ZXJgIGFuZCBgZHJhZ2xlYXZlYCB3aGVuIGEgZHJhZ2dhYmxlIGVudGVycyBhbmQgbGVhdmVzIHRoZSBkcm9wem9uZVxuICAgICAqICAtIGBkcmFnbW92ZWAgd2hlbiBhIGRyYWdnYWJsZSB0aGF0IGhhcyBlbnRlcmVkIHRoZSBkcm9wem9uZSBpcyBtb3ZlZFxuICAgICAqICAtIGBkcm9wYCB3aGVuIGEgZHJhZ2dhYmxlIGlzIGRyb3BwZWQgaW50byB0aGlzIGRyb3B6b25lXG4gICAgICpcbiAgICAgKiBVc2UgdGhlIGBhY2NlcHRgIG9wdGlvbiB0byBhbGxvdyBvbmx5IGVsZW1lbnRzIHRoYXQgbWF0Y2ggdGhlIGdpdmVuIENTU1xuICAgICAqIHNlbGVjdG9yIG9yIGVsZW1lbnQuIFRoZSB2YWx1ZSBjYW4gYmU6XG4gICAgICpcbiAgICAgKiAgLSAqKmFuIEVsZW1lbnQqKiAtIG9ubHkgdGhhdCBlbGVtZW50IGNhbiBiZSBkcm9wcGVkIGludG8gdGhpcyBkcm9wem9uZS5cbiAgICAgKiAgLSAqKmEgc3RyaW5nKiosIC0gdGhlIGVsZW1lbnQgYmVpbmcgZHJhZ2dlZCBtdXN0IG1hdGNoIGl0IGFzIGEgQ1NTIHNlbGVjdG9yLlxuICAgICAqICAtICoqYG51bGxgKiogLSBhY2NlcHQgb3B0aW9ucyBpcyBjbGVhcmVkIC0gaXQgYWNjZXB0cyBhbnkgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIFVzZSB0aGUgYG92ZXJsYXBgIG9wdGlvbiB0byBzZXQgaG93IGRyb3BzIGFyZSBjaGVja2VkIGZvci4gVGhlIGFsbG93ZWRcbiAgICAgKiB2YWx1ZXMgYXJlOlxuICAgICAqXG4gICAgICogICAtIGAncG9pbnRlcidgLCB0aGUgcG9pbnRlciBtdXN0IGJlIG92ZXIgdGhlIGRyb3B6b25lIChkZWZhdWx0KVxuICAgICAqICAgLSBgJ2NlbnRlcidgLCB0aGUgZHJhZ2dhYmxlIGVsZW1lbnQncyBjZW50ZXIgbXVzdCBiZSBvdmVyIHRoZSBkcm9wem9uZVxuICAgICAqICAgLSBhIG51bWJlciBmcm9tIDAtMSB3aGljaCBpcyB0aGUgYChpbnRlcnNlY3Rpb24gYXJlYSkgLyAoZHJhZ2dhYmxlIGFyZWEpYC5cbiAgICAgKiAgIGUuZy4gYDAuNWAgZm9yIGRyb3AgdG8gaGFwcGVuIHdoZW4gaGFsZiBvZiB0aGUgYXJlYSBvZiB0aGUgZHJhZ2dhYmxlIGlzXG4gICAgICogICBvdmVyIHRoZSBkcm9wem9uZVxuICAgICAqXG4gICAgICogVXNlIHRoZSBgY2hlY2tlcmAgb3B0aW9uIHRvIHNwZWNpZnkgYSBmdW5jdGlvbiB0byBjaGVjayBpZiBhIGRyYWdnZWQgZWxlbWVudFxuICAgICAqIGlzIG92ZXIgdGhpcyBJbnRlcmFjdGFibGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBuZXcgb3B0aW9ucyB0byBiZSBzZXRcbiAgICAgKi9cbiAgICBkcm9wem9uZShvcHRpb25zOiBEcm9wem9uZU9wdGlvbnMgfCBib29sZWFuKTogSW50ZXJhY3RhYmxlXG4gICAgLyoqIEByZXR1cm5zIFRoZSBjdXJyZW50IHNldHRpbmcgKi9cbiAgICBkcm9wem9uZSgpOiBEcm9wem9uZU9wdGlvbnNcblxuICAgIC8qKlxuICAgICAqIGBgYGpzXG4gICAgICogaW50ZXJhY3QodGFyZ2V0KVxuICAgICAqIC5kcm9wQ2hlY2tlcihmdW5jdGlvbihkcmFnRXZlbnQsICAgICAgICAgLy8gcmVsYXRlZCBkcmFnbW92ZSBvciBkcmFnZW5kIGV2ZW50XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LCAgICAgICAgICAgICAvLyBUb3VjaEV2ZW50L1BvaW50ZXJFdmVudC9Nb3VzZUV2ZW50XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgIGRyb3BwZWQsICAgICAgICAgICAvLyBib29sIHJlc3VsdCBvZiB0aGUgZGVmYXVsdCBjaGVja2VyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgIGRyb3B6b25lLCAgICAgICAgICAvLyBkcm9wem9uZSBJbnRlcmFjdGFibGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgZHJvcEVsZW1lbnQsICAgICAgIC8vIGRyb3B6b25lIGVsZW1udFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGUsICAgICAgICAgLy8gZHJhZ2dhYmxlIEludGVyYWN0YWJsZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGVFbGVtZW50KSB7Ly8gZHJhZ2dhYmxlIGVsZW1lbnRcbiAgICAgKlxuICAgICAqICAgcmV0dXJuIGRyb3BwZWQgJiYgZXZlbnQudGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnYWxsb3ctZHJvcCcpXG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGRyb3BDaGVjayhcbiAgICAgIGRyYWdFdmVudDogSW50ZXJhY3RFdmVudCxcbiAgICAgIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLFxuICAgICAgZHJhZ2dhYmxlOiBJbnRlcmFjdGFibGUsXG4gICAgICBkcmFnZ2FibGVFbGVtZW50OiBFbGVtZW50LFxuICAgICAgZHJvcEVsZW1lbjogRWxlbWVudCxcbiAgICAgIHJlY3Q6IGFueSxcbiAgICApOiBib29sZWFuXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0aW9uIHtcbiAgICBkcm9wU3RhdGU/OiBEcm9wU3RhdGVcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdEV2ZW50JyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdEV2ZW50IHtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgcHJldkRyb3B6b25lPzogSW50ZXJhY3RhYmxlXG4gICAgZHJvcHpvbmU/OiBJbnRlcmFjdGFibGVcbiAgICBkcmFnRW50ZXI/OiBFbGVtZW50XG4gICAgZHJhZ0xlYXZlPzogRWxlbWVudFxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnIHtcbiAgaW50ZXJmYWNlIEFjdGlvbkRlZmF1bHRzIHtcbiAgICBkcm9wOiBEcm9wem9uZU9wdGlvbnNcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9zY29wZScge1xuICBpbnRlcmZhY2UgU2NvcGUge1xuICAgIGR5bmFtaWNEcm9wPzogYm9vbGVhblxuICB9XG5cbiAgaW50ZXJmYWNlIFNpZ25hbEFyZ3Mge1xuICAgICdhY3Rpb25zL2Ryb3A6c3RhcnQnOiBEcm9wU2lnbmFsQXJnXG4gICAgJ2FjdGlvbnMvZHJvcDptb3ZlJzogRHJvcFNpZ25hbEFyZ1xuICAgICdhY3Rpb25zL2Ryb3A6ZW5kJzogRHJvcFNpZ25hbEFyZ1xuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJyB7XG4gIGludGVyZmFjZSBBY3Rpb25NYXAge1xuICAgIGRyb3A/OiB0eXBlb2YgZHJvcFxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0U3RhdGljJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdFN0YXRpYyB7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvciBzZXRzIHdoZXRoZXIgdGhlIGRpbWVuc2lvbnMgb2YgZHJvcHpvbmUgZWxlbWVudHMgYXJlIGNhbGN1bGF0ZWRcbiAgICAgKiBvbiBldmVyeSBkcmFnbW92ZSBvciBvbmx5IG9uIGRyYWdzdGFydCBmb3IgdGhlIGRlZmF1bHQgZHJvcENoZWNrZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW25ld1ZhbHVlXSBUcnVlIHRvIGNoZWNrIG9uIGVhY2ggbW92ZS4gRmFsc2UgdG8gY2hlY2sgb25seVxuICAgICAqIGJlZm9yZSBzdGFydFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW4gfCBpbnRlcmFjdH0gVGhlIGN1cnJlbnQgc2V0dGluZyBvciBpbnRlcmFjdFxuICAgICAqL1xuICAgIGR5bmFtaWNEcm9wOiAobmV3VmFsdWU/OiBib29sZWFuKSA9PiBib29sZWFuIHwgdGhpc1xuICB9XG59XG5cbmludGVyZmFjZSBEcm9wU2lnbmFsQXJnIHtcbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPCdkcmFnJz5cbiAgZHJhZ0V2ZW50OiBEcmFnRXZlbnRcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBY3RpdmVEcm9wIHtcbiAgZHJvcHpvbmU6IEludGVyYWN0YWJsZVxuICBlbGVtZW50OiBFbGVtZW50XG4gIHJlY3Q6IFJlY3Rcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEcm9wU3RhdGUge1xuICBjdXI6IHtcbiAgICAvLyB0aGUgZHJvcHpvbmUgYSBkcmFnIHRhcmdldCBtaWdodCBiZSBkcm9wcGVkIGludG9cbiAgICBkcm9wem9uZTogSW50ZXJhY3RhYmxlXG4gICAgLy8gdGhlIGVsZW1lbnQgYXQgdGhlIHRpbWUgb2YgY2hlY2tpbmdcbiAgICBlbGVtZW50OiBFbGVtZW50XG4gIH1cbiAgcHJldjoge1xuICAgIC8vIHRoZSBkcm9wem9uZSB0aGF0IHdhcyByZWNlbnRseSBkcmFnZ2VkIGF3YXkgZnJvbVxuICAgIGRyb3B6b25lOiBJbnRlcmFjdGFibGVcbiAgICAvLyB0aGUgZWxlbWVudCBhdCB0aGUgdGltZSBvZiBjaGVja2luZ1xuICAgIGVsZW1lbnQ6IEVsZW1lbnRcbiAgfVxuICAvLyB3aGVhdGhlciB0aGUgcG90ZW50aWFsIGRyb3Agd2FzIHJlamVjdGVkIGZyb20gYSBsaXN0ZW5lclxuICByZWplY3RlZDogYm9vbGVhblxuICAvLyB0aGUgZHJvcCBldmVudHMgcmVsYXRlZCB0byB0aGUgY3VycmVudCBkcmFnIGV2ZW50XG4gIGV2ZW50czogRmlyZWREcm9wRXZlbnRzXG4gIGFjdGl2ZURyb3BzOiBBY3RpdmVEcm9wW11cbn1cblxuZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBhY3Rpb25zLCBpbnRlcmFjdFN0YXRpYzogaW50ZXJhY3QsIEludGVyYWN0YWJsZSwgZGVmYXVsdHMgfSA9IHNjb3BlXG5cbiAgc2NvcGUudXNlUGx1Z2luKGRyYWcpXG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5kcm9wem9uZSA9IGZ1bmN0aW9uICh0aGlzOiBJbnRlcmFjdGFibGUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZHJvcHpvbmVNZXRob2QodGhpcywgb3B0aW9ucylcbiAgfSBhcyBJbnRlcmFjdGFibGVbJ2Ryb3B6b25lJ11cblxuICBJbnRlcmFjdGFibGUucHJvdG90eXBlLmRyb3BDaGVjayA9IGZ1bmN0aW9uIChcbiAgICB0aGlzOiBJbnRlcmFjdGFibGUsXG4gICAgZHJhZ0V2ZW50LFxuICAgIGV2ZW50LFxuICAgIGRyYWdnYWJsZSxcbiAgICBkcmFnZ2FibGVFbGVtZW50LFxuICAgIGRyb3BFbGVtZW50LFxuICAgIHJlY3QsXG4gICkge1xuICAgIHJldHVybiBkcm9wQ2hlY2tNZXRob2QodGhpcywgZHJhZ0V2ZW50LCBldmVudCwgZHJhZ2dhYmxlLCBkcmFnZ2FibGVFbGVtZW50LCBkcm9wRWxlbWVudCwgcmVjdClcbiAgfVxuXG4gIGludGVyYWN0LmR5bmFtaWNEcm9wID0gZnVuY3Rpb24gKG5ld1ZhbHVlPzogYm9vbGVhbikge1xuICAgIGlmIChpcy5ib29sKG5ld1ZhbHVlKSkge1xuICAgICAgLy8gaWYgKGRyYWdnaW5nICYmIHNjb3BlLmR5bmFtaWNEcm9wICE9PSBuZXdWYWx1ZSAmJiAhbmV3VmFsdWUpIHtcbiAgICAgIC8vICBjYWxjUmVjdHMoZHJvcHpvbmVzKVxuICAgICAgLy8gfVxuXG4gICAgICBzY29wZS5keW5hbWljRHJvcCA9IG5ld1ZhbHVlXG5cbiAgICAgIHJldHVybiBpbnRlcmFjdFxuICAgIH1cbiAgICByZXR1cm4gc2NvcGUuZHluYW1pY0Ryb3AhXG4gIH1cblxuICBleHRlbmQoYWN0aW9ucy5waGFzZWxlc3NUeXBlcywge1xuICAgIGRyYWdlbnRlcjogdHJ1ZSxcbiAgICBkcmFnbGVhdmU6IHRydWUsXG4gICAgZHJvcGFjdGl2YXRlOiB0cnVlLFxuICAgIGRyb3BkZWFjdGl2YXRlOiB0cnVlLFxuICAgIGRyb3Btb3ZlOiB0cnVlLFxuICAgIGRyb3A6IHRydWUsXG4gIH0pXG4gIGFjdGlvbnMubWV0aG9kRGljdC5kcm9wID0gJ2Ryb3B6b25lJ1xuXG4gIHNjb3BlLmR5bmFtaWNEcm9wID0gZmFsc2VcblxuICBkZWZhdWx0cy5hY3Rpb25zLmRyb3AgPSBkcm9wLmRlZmF1bHRzXG59XG5cbmZ1bmN0aW9uIGNvbGxlY3REcm9wem9uZXMoeyBpbnRlcmFjdGFibGVzIH06IFNjb3BlLCBkcmFnZ2FibGVFbGVtZW50OiBFbGVtZW50KSB7XG4gIGNvbnN0IGRyb3BzOiBBY3RpdmVEcm9wW10gPSBbXVxuXG4gIC8vIGNvbGxlY3QgYWxsIGRyb3B6b25lcyBhbmQgdGhlaXIgZWxlbWVudHMgd2hpY2ggcXVhbGlmeSBmb3IgYSBkcm9wXG4gIGZvciAoY29uc3QgZHJvcHpvbmUgb2YgaW50ZXJhY3RhYmxlcy5saXN0KSB7XG4gICAgaWYgKCFkcm9wem9uZS5vcHRpb25zLmRyb3AuZW5hYmxlZCkge1xuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBjb25zdCBhY2NlcHQgPSBkcm9wem9uZS5vcHRpb25zLmRyb3AuYWNjZXB0XG5cbiAgICAvLyB0ZXN0IHRoZSBkcmFnZ2FibGUgZHJhZ2dhYmxlRWxlbWVudCBhZ2FpbnN0IHRoZSBkcm9wem9uZSdzIGFjY2VwdCBzZXR0aW5nXG4gICAgaWYgKFxuICAgICAgKGlzLmVsZW1lbnQoYWNjZXB0KSAmJiBhY2NlcHQgIT09IGRyYWdnYWJsZUVsZW1lbnQpIHx8XG4gICAgICAoaXMuc3RyaW5nKGFjY2VwdCkgJiYgIWRvbVV0aWxzLm1hdGNoZXNTZWxlY3RvcihkcmFnZ2FibGVFbGVtZW50LCBhY2NlcHQpKSB8fFxuICAgICAgKGlzLmZ1bmMoYWNjZXB0KSAmJiAhYWNjZXB0KHsgZHJvcHpvbmUsIGRyYWdnYWJsZUVsZW1lbnQgfSkpXG4gICAgKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgZHJvcHpvbmVFbGVtZW50IG9mIGRyb3B6b25lLmdldEFsbEVsZW1lbnRzKCkpIHtcbiAgICAgIGlmIChkcm9wem9uZUVsZW1lbnQgIT09IGRyYWdnYWJsZUVsZW1lbnQpIHtcbiAgICAgICAgZHJvcHMucHVzaCh7XG4gICAgICAgICAgZHJvcHpvbmUsXG4gICAgICAgICAgZWxlbWVudDogZHJvcHpvbmVFbGVtZW50LFxuICAgICAgICAgIHJlY3Q6IGRyb3B6b25lLmdldFJlY3QoZHJvcHpvbmVFbGVtZW50KSxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZHJvcHNcbn1cblxuZnVuY3Rpb24gZmlyZUFjdGl2YXRpb25FdmVudHMoYWN0aXZlRHJvcHM6IEFjdGl2ZURyb3BbXSwgZXZlbnQ6IERyb3BFdmVudCkge1xuICAvLyBsb29wIHRocm91Z2ggYWxsIGFjdGl2ZSBkcm9wem9uZXMgYW5kIHRyaWdnZXIgZXZlbnRcbiAgZm9yIChjb25zdCB7IGRyb3B6b25lLCBlbGVtZW50IH0gb2YgYWN0aXZlRHJvcHMuc2xpY2UoKSkge1xuICAgIGV2ZW50LmRyb3B6b25lID0gZHJvcHpvbmVcblxuICAgIC8vIHNldCBjdXJyZW50IGVsZW1lbnQgYXMgZXZlbnQgdGFyZ2V0XG4gICAgZXZlbnQudGFyZ2V0ID0gZWxlbWVudFxuICAgIGRyb3B6b25lLmZpcmUoZXZlbnQpXG4gICAgZXZlbnQucHJvcGFnYXRpb25TdG9wcGVkID0gZXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gZmFsc2VcbiAgfVxufVxuXG4vLyByZXR1cm4gYSBuZXcgYXJyYXkgb2YgcG9zc2libGUgZHJvcHMuIGdldEFjdGl2ZURyb3BzIHNob3VsZCBhbHdheXMgYmVcbi8vIGNhbGxlZCB3aGVuIGEgZHJhZyBoYXMganVzdCBzdGFydGVkIG9yIGEgZHJhZyBldmVudCBoYXBwZW5zIHdoaWxlXG4vLyBkeW5hbWljRHJvcCBpcyB0cnVlXG5mdW5jdGlvbiBnZXRBY3RpdmVEcm9wcyhzY29wZTogU2NvcGUsIGRyYWdFbGVtZW50OiBFbGVtZW50KSB7XG4gIC8vIGdldCBkcm9wem9uZXMgYW5kIHRoZWlyIGVsZW1lbnRzIHRoYXQgY291bGQgcmVjZWl2ZSB0aGUgZHJhZ2dhYmxlXG4gIGNvbnN0IGFjdGl2ZURyb3BzID0gY29sbGVjdERyb3B6b25lcyhzY29wZSwgZHJhZ0VsZW1lbnQpXG5cbiAgZm9yIChjb25zdCBhY3RpdmVEcm9wIG9mIGFjdGl2ZURyb3BzKSB7XG4gICAgYWN0aXZlRHJvcC5yZWN0ID0gYWN0aXZlRHJvcC5kcm9wem9uZS5nZXRSZWN0KGFjdGl2ZURyb3AuZWxlbWVudClcbiAgfVxuXG4gIHJldHVybiBhY3RpdmVEcm9wc1xufVxuXG5mdW5jdGlvbiBnZXREcm9wKFxuICB7IGRyb3BTdGF0ZSwgaW50ZXJhY3RhYmxlOiBkcmFnZ2FibGUsIGVsZW1lbnQ6IGRyYWdFbGVtZW50IH06IEludGVyYWN0aW9uLFxuICBkcmFnRXZlbnQsXG4gIHBvaW50ZXJFdmVudCxcbikge1xuICBjb25zdCB2YWxpZERyb3BzOiBFbGVtZW50W10gPSBbXVxuXG4gIC8vIGNvbGxlY3QgYWxsIGRyb3B6b25lcyBhbmQgdGhlaXIgZWxlbWVudHMgd2hpY2ggcXVhbGlmeSBmb3IgYSBkcm9wXG4gIGZvciAoY29uc3QgeyBkcm9wem9uZSwgZWxlbWVudDogZHJvcHpvbmVFbGVtZW50LCByZWN0IH0gb2YgZHJvcFN0YXRlLmFjdGl2ZURyb3BzKSB7XG4gICAgY29uc3QgaXNWYWxpZCA9IGRyb3B6b25lLmRyb3BDaGVjayhcbiAgICAgIGRyYWdFdmVudCxcbiAgICAgIHBvaW50ZXJFdmVudCxcbiAgICAgIGRyYWdnYWJsZSEsXG4gICAgICBkcmFnRWxlbWVudCEsXG4gICAgICBkcm9wem9uZUVsZW1lbnQsXG4gICAgICByZWN0LFxuICAgIClcbiAgICB2YWxpZERyb3BzLnB1c2goaXNWYWxpZCA/IGRyb3B6b25lRWxlbWVudCA6IG51bGwpXG4gIH1cblxuICAvLyBnZXQgdGhlIG1vc3QgYXBwcm9wcmlhdGUgZHJvcHpvbmUgYmFzZWQgb24gRE9NIGRlcHRoIGFuZCBvcmRlclxuICBjb25zdCBkcm9wSW5kZXggPSBkb21VdGlscy5pbmRleE9mRGVlcGVzdEVsZW1lbnQodmFsaWREcm9wcylcblxuICByZXR1cm4gZHJvcFN0YXRlIS5hY3RpdmVEcm9wc1tkcm9wSW5kZXhdIHx8IG51bGxcbn1cblxuZnVuY3Rpb24gZ2V0RHJvcEV2ZW50cyhpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24sIF9wb2ludGVyRXZlbnQsIGRyYWdFdmVudDogRHJhZ0V2ZW50KSB7XG4gIGNvbnN0IGRyb3BTdGF0ZSA9IGludGVyYWN0aW9uLmRyb3BTdGF0ZSFcbiAgY29uc3QgZHJvcEV2ZW50czogUmVjb3JkPHN0cmluZywgRHJvcEV2ZW50IHwgbnVsbD4gPSB7XG4gICAgZW50ZXI6IG51bGwsXG4gICAgbGVhdmU6IG51bGwsXG4gICAgYWN0aXZhdGU6IG51bGwsXG4gICAgZGVhY3RpdmF0ZTogbnVsbCxcbiAgICBtb3ZlOiBudWxsLFxuICAgIGRyb3A6IG51bGwsXG4gIH1cblxuICBpZiAoZHJhZ0V2ZW50LnR5cGUgPT09ICdkcmFnc3RhcnQnKSB7XG4gICAgZHJvcEV2ZW50cy5hY3RpdmF0ZSA9IG5ldyBEcm9wRXZlbnQoZHJvcFN0YXRlLCBkcmFnRXZlbnQsICdkcm9wYWN0aXZhdGUnKVxuXG4gICAgZHJvcEV2ZW50cy5hY3RpdmF0ZS50YXJnZXQgPSBudWxsIGFzIG5ldmVyXG4gICAgZHJvcEV2ZW50cy5hY3RpdmF0ZS5kcm9wem9uZSA9IG51bGwgYXMgbmV2ZXJcbiAgfVxuICBpZiAoZHJhZ0V2ZW50LnR5cGUgPT09ICdkcmFnZW5kJykge1xuICAgIGRyb3BFdmVudHMuZGVhY3RpdmF0ZSA9IG5ldyBEcm9wRXZlbnQoZHJvcFN0YXRlLCBkcmFnRXZlbnQsICdkcm9wZGVhY3RpdmF0ZScpXG5cbiAgICBkcm9wRXZlbnRzLmRlYWN0aXZhdGUudGFyZ2V0ID0gbnVsbCBhcyBuZXZlclxuICAgIGRyb3BFdmVudHMuZGVhY3RpdmF0ZS5kcm9wem9uZSA9IG51bGwgYXMgbmV2ZXJcbiAgfVxuXG4gIGlmIChkcm9wU3RhdGUucmVqZWN0ZWQpIHtcbiAgICByZXR1cm4gZHJvcEV2ZW50c1xuICB9XG5cbiAgaWYgKGRyb3BTdGF0ZS5jdXIuZWxlbWVudCAhPT0gZHJvcFN0YXRlLnByZXYuZWxlbWVudCkge1xuICAgIC8vIGlmIHRoZXJlIHdhcyBhIHByZXZpb3VzIGRyb3B6b25lLCBjcmVhdGUgYSBkcmFnbGVhdmUgZXZlbnRcbiAgICBpZiAoZHJvcFN0YXRlLnByZXYuZHJvcHpvbmUpIHtcbiAgICAgIGRyb3BFdmVudHMubGVhdmUgPSBuZXcgRHJvcEV2ZW50KGRyb3BTdGF0ZSwgZHJhZ0V2ZW50LCAnZHJhZ2xlYXZlJylcblxuICAgICAgZHJhZ0V2ZW50LmRyYWdMZWF2ZSA9IGRyb3BFdmVudHMubGVhdmUudGFyZ2V0ID0gZHJvcFN0YXRlLnByZXYuZWxlbWVudFxuICAgICAgZHJhZ0V2ZW50LnByZXZEcm9wem9uZSA9IGRyb3BFdmVudHMubGVhdmUuZHJvcHpvbmUgPSBkcm9wU3RhdGUucHJldi5kcm9wem9uZVxuICAgIH1cbiAgICAvLyBpZiBkcm9wem9uZSBpcyBub3QgbnVsbCwgY3JlYXRlIGEgZHJhZ2VudGVyIGV2ZW50XG4gICAgaWYgKGRyb3BTdGF0ZS5jdXIuZHJvcHpvbmUpIHtcbiAgICAgIGRyb3BFdmVudHMuZW50ZXIgPSBuZXcgRHJvcEV2ZW50KGRyb3BTdGF0ZSwgZHJhZ0V2ZW50LCAnZHJhZ2VudGVyJylcblxuICAgICAgZHJhZ0V2ZW50LmRyYWdFbnRlciA9IGRyb3BTdGF0ZS5jdXIuZWxlbWVudFxuICAgICAgZHJhZ0V2ZW50LmRyb3B6b25lID0gZHJvcFN0YXRlLmN1ci5kcm9wem9uZVxuICAgIH1cbiAgfVxuXG4gIGlmIChkcmFnRXZlbnQudHlwZSA9PT0gJ2RyYWdlbmQnICYmIGRyb3BTdGF0ZS5jdXIuZHJvcHpvbmUpIHtcbiAgICBkcm9wRXZlbnRzLmRyb3AgPSBuZXcgRHJvcEV2ZW50KGRyb3BTdGF0ZSwgZHJhZ0V2ZW50LCAnZHJvcCcpXG5cbiAgICBkcmFnRXZlbnQuZHJvcHpvbmUgPSBkcm9wU3RhdGUuY3VyLmRyb3B6b25lXG4gICAgZHJhZ0V2ZW50LnJlbGF0ZWRUYXJnZXQgPSBkcm9wU3RhdGUuY3VyLmVsZW1lbnRcbiAgfVxuICBpZiAoZHJhZ0V2ZW50LnR5cGUgPT09ICdkcmFnbW92ZScgJiYgZHJvcFN0YXRlLmN1ci5kcm9wem9uZSkge1xuICAgIGRyb3BFdmVudHMubW92ZSA9IG5ldyBEcm9wRXZlbnQoZHJvcFN0YXRlLCBkcmFnRXZlbnQsICdkcm9wbW92ZScpXG5cbiAgICBkcmFnRXZlbnQuZHJvcHpvbmUgPSBkcm9wU3RhdGUuY3VyLmRyb3B6b25lXG4gIH1cblxuICByZXR1cm4gZHJvcEV2ZW50c1xufVxuXG50eXBlIEZpcmVkRHJvcEV2ZW50cyA9IFBhcnRpYWw8XG4gIFJlY29yZDwnbGVhdmUnIHwgJ2VudGVyJyB8ICdtb3ZlJyB8ICdkcm9wJyB8ICdhY3RpdmF0ZScgfCAnZGVhY3RpdmF0ZScsIERyb3BFdmVudD5cbj5cblxuZnVuY3Rpb24gZmlyZURyb3BFdmVudHMoaW50ZXJhY3Rpb246IEludGVyYWN0aW9uLCBldmVudHM6IEZpcmVkRHJvcEV2ZW50cykge1xuICBjb25zdCBkcm9wU3RhdGUgPSBpbnRlcmFjdGlvbi5kcm9wU3RhdGUhXG4gIGNvbnN0IHsgYWN0aXZlRHJvcHMsIGN1ciwgcHJldiB9ID0gZHJvcFN0YXRlXG5cbiAgaWYgKGV2ZW50cy5sZWF2ZSkge1xuICAgIHByZXYuZHJvcHpvbmUuZmlyZShldmVudHMubGVhdmUpXG4gIH1cbiAgaWYgKGV2ZW50cy5lbnRlcikge1xuICAgIGN1ci5kcm9wem9uZS5maXJlKGV2ZW50cy5lbnRlcilcbiAgfVxuICBpZiAoZXZlbnRzLm1vdmUpIHtcbiAgICBjdXIuZHJvcHpvbmUuZmlyZShldmVudHMubW92ZSlcbiAgfVxuICBpZiAoZXZlbnRzLmRyb3ApIHtcbiAgICBjdXIuZHJvcHpvbmUuZmlyZShldmVudHMuZHJvcClcbiAgfVxuXG4gIGlmIChldmVudHMuZGVhY3RpdmF0ZSkge1xuICAgIGZpcmVBY3RpdmF0aW9uRXZlbnRzKGFjdGl2ZURyb3BzLCBldmVudHMuZGVhY3RpdmF0ZSlcbiAgfVxuXG4gIGRyb3BTdGF0ZS5wcmV2LmRyb3B6b25lID0gY3VyLmRyb3B6b25lXG4gIGRyb3BTdGF0ZS5wcmV2LmVsZW1lbnQgPSBjdXIuZWxlbWVudFxufVxuXG5mdW5jdGlvbiBvbkV2ZW50Q3JlYXRlZCh7IGludGVyYWN0aW9uLCBpRXZlbnQsIGV2ZW50IH06IERvUGhhc2VBcmc8J2RyYWcnLCBFdmVudFBoYXNlPiwgc2NvcGU6IFNjb3BlKSB7XG4gIGlmIChpRXZlbnQudHlwZSAhPT0gJ2RyYWdtb3ZlJyAmJiBpRXZlbnQudHlwZSAhPT0gJ2RyYWdlbmQnKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBkcm9wU3RhdGUgPSBpbnRlcmFjdGlvbi5kcm9wU3RhdGUhXG5cbiAgaWYgKHNjb3BlLmR5bmFtaWNEcm9wKSB7XG4gICAgZHJvcFN0YXRlLmFjdGl2ZURyb3BzID0gZ2V0QWN0aXZlRHJvcHMoc2NvcGUsIGludGVyYWN0aW9uLmVsZW1lbnQhKVxuICB9XG5cbiAgY29uc3QgZHJhZ0V2ZW50ID0gaUV2ZW50XG4gIGNvbnN0IGRyb3BSZXN1bHQgPSBnZXREcm9wKGludGVyYWN0aW9uLCBkcmFnRXZlbnQsIGV2ZW50KVxuXG4gIC8vIHVwZGF0ZSByZWplY3RlZCBzdGF0dXNcbiAgZHJvcFN0YXRlLnJlamVjdGVkID1cbiAgICBkcm9wU3RhdGUucmVqZWN0ZWQgJiZcbiAgICAhIWRyb3BSZXN1bHQgJiZcbiAgICBkcm9wUmVzdWx0LmRyb3B6b25lID09PSBkcm9wU3RhdGUuY3VyLmRyb3B6b25lICYmXG4gICAgZHJvcFJlc3VsdC5lbGVtZW50ID09PSBkcm9wU3RhdGUuY3VyLmVsZW1lbnRcblxuICBkcm9wU3RhdGUuY3VyLmRyb3B6b25lID0gZHJvcFJlc3VsdCAmJiBkcm9wUmVzdWx0LmRyb3B6b25lXG4gIGRyb3BTdGF0ZS5jdXIuZWxlbWVudCA9IGRyb3BSZXN1bHQgJiYgZHJvcFJlc3VsdC5lbGVtZW50XG5cbiAgZHJvcFN0YXRlLmV2ZW50cyA9IGdldERyb3BFdmVudHMoaW50ZXJhY3Rpb24sIGV2ZW50LCBkcmFnRXZlbnQpXG59XG5cbmZ1bmN0aW9uIGRyb3B6b25lTWV0aG9kKGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlKTogRHJvcHpvbmVPcHRpb25zXG5mdW5jdGlvbiBkcm9wem9uZU1ldGhvZChpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSwgb3B0aW9uczogRHJvcHpvbmVPcHRpb25zIHwgYm9vbGVhbik6IEludGVyYWN0YWJsZVxuZnVuY3Rpb24gZHJvcHpvbmVNZXRob2QoaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUsIG9wdGlvbnM/OiBEcm9wem9uZU9wdGlvbnMgfCBib29sZWFuKSB7XG4gIGlmIChpcy5vYmplY3Qob3B0aW9ucykpIHtcbiAgICBpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wLmVuYWJsZWQgPSBvcHRpb25zLmVuYWJsZWQgIT09IGZhbHNlXG5cbiAgICBpZiAob3B0aW9ucy5saXN0ZW5lcnMpIHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVMaXN0ZW5lcnMob3B0aW9ucy5saXN0ZW5lcnMpXG4gICAgICAvLyByZW5hbWUgJ2Ryb3AnIHRvICcnIGFzIGl0IHdpbGwgYmUgcHJlZml4ZWQgd2l0aCAnZHJvcCdcbiAgICAgIGNvbnN0IGNvcnJlY3RlZCA9IE9iamVjdC5rZXlzKG5vcm1hbGl6ZWQpLnJlZHVjZSgoYWNjLCB0eXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvcnJlY3RlZFR5cGUgPSAvXihlbnRlcnxsZWF2ZSkvLnRlc3QodHlwZSlcbiAgICAgICAgICA/IGBkcmFnJHt0eXBlfWBcbiAgICAgICAgICA6IC9eKGFjdGl2YXRlfGRlYWN0aXZhdGV8bW92ZSkvLnRlc3QodHlwZSlcbiAgICAgICAgICAgID8gYGRyb3Ake3R5cGV9YFxuICAgICAgICAgICAgOiB0eXBlXG5cbiAgICAgICAgYWNjW2NvcnJlY3RlZFR5cGVdID0gbm9ybWFsaXplZFt0eXBlXVxuXG4gICAgICAgIHJldHVybiBhY2NcbiAgICAgIH0sIHt9KVxuXG4gICAgICBjb25zdCBwcmV2TGlzdGVuZXJzID0gaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJvcC5saXN0ZW5lcnNcbiAgICAgIHByZXZMaXN0ZW5lcnMgJiYgaW50ZXJhY3RhYmxlLm9mZihwcmV2TGlzdGVuZXJzKVxuXG4gICAgICBpbnRlcmFjdGFibGUub24oY29ycmVjdGVkKVxuICAgICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJvcC5saXN0ZW5lcnMgPSBjb3JyZWN0ZWRcbiAgICB9XG5cbiAgICBpZiAoaXMuZnVuYyhvcHRpb25zLm9uZHJvcCkpIHtcbiAgICAgIGludGVyYWN0YWJsZS5vbignZHJvcCcsIG9wdGlvbnMub25kcm9wKVxuICAgIH1cbiAgICBpZiAoaXMuZnVuYyhvcHRpb25zLm9uZHJvcGFjdGl2YXRlKSkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9uKCdkcm9wYWN0aXZhdGUnLCBvcHRpb25zLm9uZHJvcGFjdGl2YXRlKVxuICAgIH1cbiAgICBpZiAoaXMuZnVuYyhvcHRpb25zLm9uZHJvcGRlYWN0aXZhdGUpKSB7XG4gICAgICBpbnRlcmFjdGFibGUub24oJ2Ryb3BkZWFjdGl2YXRlJywgb3B0aW9ucy5vbmRyb3BkZWFjdGl2YXRlKVxuICAgIH1cbiAgICBpZiAoaXMuZnVuYyhvcHRpb25zLm9uZHJhZ2VudGVyKSkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9uKCdkcmFnZW50ZXInLCBvcHRpb25zLm9uZHJhZ2VudGVyKVxuICAgIH1cbiAgICBpZiAoaXMuZnVuYyhvcHRpb25zLm9uZHJhZ2xlYXZlKSkge1xuICAgICAgaW50ZXJhY3RhYmxlLm9uKCdkcmFnbGVhdmUnLCBvcHRpb25zLm9uZHJhZ2xlYXZlKVxuICAgIH1cbiAgICBpZiAoaXMuZnVuYyhvcHRpb25zLm9uZHJvcG1vdmUpKSB7XG4gICAgICBpbnRlcmFjdGFibGUub24oJ2Ryb3Btb3ZlJywgb3B0aW9ucy5vbmRyb3Btb3ZlKVxuICAgIH1cblxuICAgIGlmICgvXihwb2ludGVyfGNlbnRlcikkLy50ZXN0KG9wdGlvbnMub3ZlcmxhcCBhcyBzdHJpbmcpKSB7XG4gICAgICBpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wLm92ZXJsYXAgPSBvcHRpb25zLm92ZXJsYXBcbiAgICB9IGVsc2UgaWYgKGlzLm51bWJlcihvcHRpb25zLm92ZXJsYXApKSB7XG4gICAgICBpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wLm92ZXJsYXAgPSBNYXRoLm1heChNYXRoLm1pbigxLCBvcHRpb25zLm92ZXJsYXApLCAwKVxuICAgIH1cbiAgICBpZiAoJ2FjY2VwdCcgaW4gb3B0aW9ucykge1xuICAgICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJvcC5hY2NlcHQgPSBvcHRpb25zLmFjY2VwdFxuICAgIH1cbiAgICBpZiAoJ2NoZWNrZXInIGluIG9wdGlvbnMpIHtcbiAgICAgIGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3AuY2hlY2tlciA9IG9wdGlvbnMuY2hlY2tlclxuICAgIH1cblxuICAgIHJldHVybiBpbnRlcmFjdGFibGVcbiAgfVxuXG4gIGlmIChpcy5ib29sKG9wdGlvbnMpKSB7XG4gICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJvcC5lbmFibGVkID0gb3B0aW9uc1xuXG4gICAgcmV0dXJuIGludGVyYWN0YWJsZVxuICB9XG5cbiAgcmV0dXJuIGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3Bcbn1cblxuZnVuY3Rpb24gZHJvcENoZWNrTWV0aG9kKFxuICBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSxcbiAgZHJhZ0V2ZW50OiBJbnRlcmFjdEV2ZW50LFxuICBldmVudDogUG9pbnRlckV2ZW50VHlwZSxcbiAgZHJhZ2dhYmxlOiBJbnRlcmFjdGFibGUsXG4gIGRyYWdnYWJsZUVsZW1lbnQ6IEVsZW1lbnQsXG4gIGRyb3BFbGVtZW50OiBFbGVtZW50LFxuICByZWN0OiBhbnksXG4pIHtcbiAgbGV0IGRyb3BwZWQgPSBmYWxzZVxuXG4gIC8vIGlmIHRoZSBkcm9wem9uZSBoYXMgbm8gcmVjdCAoZWcuIGRpc3BsYXk6IG5vbmUpXG4gIC8vIGNhbGwgdGhlIGN1c3RvbSBkcm9wQ2hlY2tlciBvciBqdXN0IHJldHVybiBmYWxzZVxuICBpZiAoIShyZWN0ID0gcmVjdCB8fCBpbnRlcmFjdGFibGUuZ2V0UmVjdChkcm9wRWxlbWVudCkpKSB7XG4gICAgcmV0dXJuIGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3AuY2hlY2tlclxuICAgICAgPyBpbnRlcmFjdGFibGUub3B0aW9ucy5kcm9wLmNoZWNrZXIoXG4gICAgICAgICAgZHJhZ0V2ZW50LFxuICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgIGRyb3BwZWQsXG4gICAgICAgICAgaW50ZXJhY3RhYmxlLFxuICAgICAgICAgIGRyb3BFbGVtZW50LFxuICAgICAgICAgIGRyYWdnYWJsZSxcbiAgICAgICAgICBkcmFnZ2FibGVFbGVtZW50LFxuICAgICAgICApXG4gICAgICA6IGZhbHNlXG4gIH1cblxuICBjb25zdCBkcm9wT3ZlcmxhcCA9IGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3Aub3ZlcmxhcFxuXG4gIGlmIChkcm9wT3ZlcmxhcCA9PT0gJ3BvaW50ZXInKSB7XG4gICAgY29uc3Qgb3JpZ2luID0gZ2V0T3JpZ2luWFkoZHJhZ2dhYmxlLCBkcmFnZ2FibGVFbGVtZW50LCAnZHJhZycpXG4gICAgY29uc3QgcGFnZSA9IHBvaW50ZXJVdGlscy5nZXRQYWdlWFkoZHJhZ0V2ZW50KVxuXG4gICAgcGFnZS54ICs9IG9yaWdpbi54XG4gICAgcGFnZS55ICs9IG9yaWdpbi55XG5cbiAgICBjb25zdCBob3Jpem9udGFsID0gcGFnZS54ID4gcmVjdC5sZWZ0ICYmIHBhZ2UueCA8IHJlY3QucmlnaHRcbiAgICBjb25zdCB2ZXJ0aWNhbCA9IHBhZ2UueSA+IHJlY3QudG9wICYmIHBhZ2UueSA8IHJlY3QuYm90dG9tXG5cbiAgICBkcm9wcGVkID0gaG9yaXpvbnRhbCAmJiB2ZXJ0aWNhbFxuICB9XG5cbiAgY29uc3QgZHJhZ1JlY3QgPSBkcmFnZ2FibGUuZ2V0UmVjdChkcmFnZ2FibGVFbGVtZW50KVxuXG4gIGlmIChkcmFnUmVjdCAmJiBkcm9wT3ZlcmxhcCA9PT0gJ2NlbnRlcicpIHtcbiAgICBjb25zdCBjeCA9IGRyYWdSZWN0LmxlZnQgKyBkcmFnUmVjdC53aWR0aCAvIDJcbiAgICBjb25zdCBjeSA9IGRyYWdSZWN0LnRvcCArIGRyYWdSZWN0LmhlaWdodCAvIDJcblxuICAgIGRyb3BwZWQgPSBjeCA+PSByZWN0LmxlZnQgJiYgY3ggPD0gcmVjdC5yaWdodCAmJiBjeSA+PSByZWN0LnRvcCAmJiBjeSA8PSByZWN0LmJvdHRvbVxuICB9XG5cbiAgaWYgKGRyYWdSZWN0ICYmIGlzLm51bWJlcihkcm9wT3ZlcmxhcCkpIHtcbiAgICBjb25zdCBvdmVybGFwQXJlYSA9XG4gICAgICBNYXRoLm1heCgwLCBNYXRoLm1pbihyZWN0LnJpZ2h0LCBkcmFnUmVjdC5yaWdodCkgLSBNYXRoLm1heChyZWN0LmxlZnQsIGRyYWdSZWN0LmxlZnQpKSAqXG4gICAgICBNYXRoLm1heCgwLCBNYXRoLm1pbihyZWN0LmJvdHRvbSwgZHJhZ1JlY3QuYm90dG9tKSAtIE1hdGgubWF4KHJlY3QudG9wLCBkcmFnUmVjdC50b3ApKVxuXG4gICAgY29uc3Qgb3ZlcmxhcFJhdGlvID0gb3ZlcmxhcEFyZWEgLyAoZHJhZ1JlY3Qud2lkdGggKiBkcmFnUmVjdC5oZWlnaHQpXG5cbiAgICBkcm9wcGVkID0gb3ZlcmxhcFJhdGlvID49IGRyb3BPdmVybGFwXG4gIH1cblxuICBpZiAoaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJvcC5jaGVja2VyKSB7XG4gICAgZHJvcHBlZCA9IGludGVyYWN0YWJsZS5vcHRpb25zLmRyb3AuY2hlY2tlcihcbiAgICAgIGRyYWdFdmVudCxcbiAgICAgIGV2ZW50LFxuICAgICAgZHJvcHBlZCxcbiAgICAgIGludGVyYWN0YWJsZSxcbiAgICAgIGRyb3BFbGVtZW50LFxuICAgICAgZHJhZ2dhYmxlLFxuICAgICAgZHJhZ2dhYmxlRWxlbWVudCxcbiAgICApXG4gIH1cblxuICByZXR1cm4gZHJvcHBlZFxufVxuXG5jb25zdCBkcm9wOiBQbHVnaW4gPSB7XG4gIGlkOiAnYWN0aW9ucy9kcm9wJyxcbiAgaW5zdGFsbCxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLXN0YXJ0JzogKHsgaW50ZXJhY3Rpb24gfSkgPT4ge1xuICAgICAgaWYgKGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgIT09ICdkcmFnJykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaW50ZXJhY3Rpb24uZHJvcFN0YXRlID0ge1xuICAgICAgICBjdXI6IHtcbiAgICAgICAgICBkcm9wem9uZTogbnVsbCxcbiAgICAgICAgICBlbGVtZW50OiBudWxsLFxuICAgICAgICB9LFxuICAgICAgICBwcmV2OiB7XG4gICAgICAgICAgZHJvcHpvbmU6IG51bGwsXG4gICAgICAgICAgZWxlbWVudDogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgICAgcmVqZWN0ZWQ6IG51bGwsXG4gICAgICAgIGV2ZW50czogbnVsbCxcbiAgICAgICAgYWN0aXZlRHJvcHM6IFtdLFxuICAgICAgfVxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1zdGFydCc6IChcbiAgICAgIHsgaW50ZXJhY3Rpb24sIGV2ZW50LCBpRXZlbnQ6IGRyYWdFdmVudCB9OiBEb1BoYXNlQXJnPCdkcmFnJywgRXZlbnRQaGFzZT4sXG4gICAgICBzY29wZSxcbiAgICApID0+IHtcbiAgICAgIGlmIChpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lICE9PSAnZHJhZycpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRyb3BTdGF0ZSA9IGludGVyYWN0aW9uLmRyb3BTdGF0ZSFcblxuICAgICAgLy8gcmVzZXQgYWN0aXZlIGRyb3B6b25lc1xuICAgICAgZHJvcFN0YXRlLmFjdGl2ZURyb3BzID0gW11cbiAgICAgIGRyb3BTdGF0ZS5ldmVudHMgPSB7fVxuICAgICAgZHJvcFN0YXRlLmFjdGl2ZURyb3BzID0gZ2V0QWN0aXZlRHJvcHMoc2NvcGUsIGludGVyYWN0aW9uLmVsZW1lbnQhKVxuICAgICAgZHJvcFN0YXRlLmV2ZW50cyA9IGdldERyb3BFdmVudHMoaW50ZXJhY3Rpb24sIGV2ZW50LCBkcmFnRXZlbnQpXG5cbiAgICAgIGlmIChkcm9wU3RhdGUuZXZlbnRzLmFjdGl2YXRlKSB7XG4gICAgICAgIGZpcmVBY3RpdmF0aW9uRXZlbnRzKGRyb3BTdGF0ZS5hY3RpdmVEcm9wcywgZHJvcFN0YXRlLmV2ZW50cy5hY3RpdmF0ZSlcbiAgICAgICAgc2NvcGUuZmlyZSgnYWN0aW9ucy9kcm9wOnN0YXJ0JywgeyBpbnRlcmFjdGlvbiwgZHJhZ0V2ZW50IH0pXG4gICAgICB9XG4gICAgfSxcblxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLW1vdmUnOiBvbkV2ZW50Q3JlYXRlZCxcblxuICAgICdpbnRlcmFjdGlvbnM6YWZ0ZXItYWN0aW9uLW1vdmUnOiAoXG4gICAgICB7IGludGVyYWN0aW9uLCBpRXZlbnQ6IGRyYWdFdmVudCB9OiBEb1BoYXNlQXJnPCdkcmFnJywgRXZlbnRQaGFzZT4sXG4gICAgICBzY29wZSxcbiAgICApID0+IHtcbiAgICAgIGlmIChpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lICE9PSAnZHJhZycpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRyb3BTdGF0ZSA9IGludGVyYWN0aW9uLmRyb3BTdGF0ZSFcbiAgICAgIGZpcmVEcm9wRXZlbnRzKGludGVyYWN0aW9uLCBkcm9wU3RhdGUuZXZlbnRzKVxuXG4gICAgICBzY29wZS5maXJlKCdhY3Rpb25zL2Ryb3A6bW92ZScsIHsgaW50ZXJhY3Rpb24sIGRyYWdFdmVudCB9KVxuICAgICAgZHJvcFN0YXRlLmV2ZW50cyA9IHt9XG4gICAgfSxcblxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLWVuZCc6IChhcmc6IERvUGhhc2VBcmc8J2RyYWcnLCBFdmVudFBoYXNlPiwgc2NvcGUpID0+IHtcbiAgICAgIGlmIChhcmcuaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSAhPT0gJ2RyYWcnKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCB7IGludGVyYWN0aW9uLCBpRXZlbnQ6IGRyYWdFdmVudCB9ID0gYXJnXG5cbiAgICAgIG9uRXZlbnRDcmVhdGVkKGFyZywgc2NvcGUpXG4gICAgICBmaXJlRHJvcEV2ZW50cyhpbnRlcmFjdGlvbiwgaW50ZXJhY3Rpb24uZHJvcFN0YXRlIS5ldmVudHMpXG4gICAgICBzY29wZS5maXJlKCdhY3Rpb25zL2Ryb3A6ZW5kJywgeyBpbnRlcmFjdGlvbiwgZHJhZ0V2ZW50IH0pXG4gICAgfSxcblxuICAgICdpbnRlcmFjdGlvbnM6c3RvcCc6ICh7IGludGVyYWN0aW9uIH0pID0+IHtcbiAgICAgIGlmIChpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lICE9PSAnZHJhZycpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgZHJvcFN0YXRlIH0gPSBpbnRlcmFjdGlvblxuXG4gICAgICBpZiAoZHJvcFN0YXRlKSB7XG4gICAgICAgIGRyb3BTdGF0ZS5hY3RpdmVEcm9wcyA9IG51bGwgYXMgbmV2ZXJcbiAgICAgICAgZHJvcFN0YXRlLmV2ZW50cyA9IG51bGwgYXMgbmV2ZXJcbiAgICAgICAgZHJvcFN0YXRlLmN1ci5kcm9wem9uZSA9IG51bGwgYXMgbmV2ZXJcbiAgICAgICAgZHJvcFN0YXRlLmN1ci5lbGVtZW50ID0gbnVsbCBhcyBuZXZlclxuICAgICAgICBkcm9wU3RhdGUucHJldi5kcm9wem9uZSA9IG51bGwgYXMgbmV2ZXJcbiAgICAgICAgZHJvcFN0YXRlLnByZXYuZWxlbWVudCA9IG51bGwgYXMgbmV2ZXJcbiAgICAgICAgZHJvcFN0YXRlLnJlamVjdGVkID0gZmFsc2VcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuICBnZXRBY3RpdmVEcm9wcyxcbiAgZ2V0RHJvcCxcbiAgZ2V0RHJvcEV2ZW50cyxcbiAgZmlyZURyb3BFdmVudHMsXG5cbiAgZmlsdGVyRXZlbnRUeXBlOiAodHlwZTogc3RyaW5nKSA9PiB0eXBlLnNlYXJjaCgnZHJhZycpID09PSAwIHx8IHR5cGUuc2VhcmNoKCdkcm9wJykgPT09IDAsXG5cbiAgZGVmYXVsdHM6IHtcbiAgICBlbmFibGVkOiBmYWxzZSxcbiAgICBhY2NlcHQ6IG51bGwgYXMgbmV2ZXIsXG4gICAgb3ZlcmxhcDogJ3BvaW50ZXInLFxuICB9IGFzIERyb3B6b25lT3B0aW9ucyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgZHJvcFxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0RXZlbnQsIEV2ZW50UGhhc2UgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0RXZlbnQnXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0aW9uLCBEb1BoYXNlQXJnIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgUGVyQWN0aW9uRGVmYXVsdHMgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnXG5pbXBvcnQgdHlwZSB7IFNjb3BlLCBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBSZWN0LCBQb2ludGVyVHlwZSwgTGlzdGVuZXJzQXJnLCBPckJvb2xlYW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuaW1wb3J0ICogYXMgcG9pbnRlclV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3BvaW50ZXJVdGlscydcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0aW9uIHtcbiAgICBnZXN0dXJlPzoge1xuICAgICAgYW5nbGU6IG51bWJlciAvLyBhbmdsZSBmcm9tIGZpcnN0IHRvIHNlY29uZCB0b3VjaFxuICAgICAgZGlzdGFuY2U6IG51bWJlclxuICAgICAgc2NhbGU6IG51bWJlciAvLyBnZXN0dXJlLmRpc3RhbmNlIC8gZ2VzdHVyZS5zdGFydERpc3RhbmNlXG4gICAgICBzdGFydEFuZ2xlOiBudW1iZXIgLy8gYW5nbGUgb2YgbGluZSBqb2luaW5nIHR3byB0b3VjaGVzXG4gICAgICBzdGFydERpc3RhbmNlOiBudW1iZXIgLy8gZGlzdGFuY2UgYmV0d2VlbiB0d28gdG91Y2hlcyBvZiB0b3VjaFN0YXJ0XG4gICAgfVxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZScge1xuICBpbnRlcmZhY2UgSW50ZXJhY3RhYmxlIHtcbiAgICBnZXN0dXJhYmxlKG9wdGlvbnM6IFBhcnRpYWw8T3JCb29sZWFuPEdlc3R1cmFibGVPcHRpb25zPj4gfCBib29sZWFuKTogdGhpc1xuICAgIGdlc3R1cmFibGUoKTogR2VzdHVyYWJsZU9wdGlvbnNcbiAgICAvKipcbiAgICAgKiBgYGBqc1xuICAgICAqIGludGVyYWN0KGVsZW1lbnQpLmdlc3R1cmFibGUoe1xuICAgICAqICAgICBvbnN0YXJ0OiBmdW5jdGlvbiAoZXZlbnQpIHt9LFxuICAgICAqICAgICBvbm1vdmUgOiBmdW5jdGlvbiAoZXZlbnQpIHt9LFxuICAgICAqICAgICBvbmVuZCAgOiBmdW5jdGlvbiAoZXZlbnQpIHt9LFxuICAgICAqXG4gICAgICogICAgIC8vIGxpbWl0IG11bHRpcGxlIGdlc3R1cmVzLlxuICAgICAqICAgICAvLyBTZWUgdGhlIGV4cGxhbmF0aW9uIGluIHtAbGluayBJbnRlcmFjdGFibGUuZHJhZ2dhYmxlfSBleGFtcGxlXG4gICAgICogICAgIG1heDogSW5maW5pdHksXG4gICAgICogICAgIG1heFBlckVsZW1lbnQ6IDEsXG4gICAgICogfSlcbiAgICAgKlxuICAgICAqIHZhciBpc0dlc3R1cmVhYmxlID0gaW50ZXJhY3QoZWxlbWVudCkuZ2VzdHVyYWJsZSgpXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBHZXRzIG9yIHNldHMgd2hldGhlciBtdWx0aXRvdWNoIGdlc3R1cmVzIGNhbiBiZSBwZXJmb3JtZWQgb24gdGhlIHRhcmdldFxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSB0cnVlL2ZhbHNlIG9yIEFuIG9iamVjdCB3aXRoIGV2ZW50IGxpc3RlbmVycyB0byBiZSBmaXJlZCBvbiBnZXN0dXJlIGV2ZW50cyAobWFrZXMgdGhlIEludGVyYWN0YWJsZSBnZXN0dXJhYmxlKVxuICAgICAqIEByZXR1cm5zIEEgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIHRoaXMgY2FuIGJlIHRoZSB0YXJnZXQgb2YgZ2VzdHVyZSBldmVudHMsIG9yIHRoaXMgSW50ZXJhY3RhYmxlXG4gICAgICovXG4gICAgZ2VzdHVyYWJsZShvcHRpb25zPzogUGFydGlhbDxPckJvb2xlYW48R2VzdHVyYWJsZU9wdGlvbnM+PiB8IGJvb2xlYW4pOiB0aGlzIHwgR2VzdHVyYWJsZU9wdGlvbnNcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJyB7XG4gIGludGVyZmFjZSBBY3Rpb25EZWZhdWx0cyB7XG4gICAgZ2VzdHVyZTogR2VzdHVyYWJsZU9wdGlvbnNcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS90eXBlcycge1xuICBpbnRlcmZhY2UgQWN0aW9uTWFwIHtcbiAgICBnZXN0dXJlPzogdHlwZW9mIGdlc3R1cmVcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdlc3R1cmFibGVPcHRpb25zIGV4dGVuZHMgUGVyQWN0aW9uRGVmYXVsdHMge1xuICBvbnN0YXJ0PzogTGlzdGVuZXJzQXJnXG4gIG9ubW92ZT86IExpc3RlbmVyc0FyZ1xuICBvbmVuZD86IExpc3RlbmVyc0FyZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdlc3R1cmVFdmVudCBleHRlbmRzIEludGVyYWN0RXZlbnQ8J2dlc3R1cmUnPiB7XG4gIGRpc3RhbmNlOiBudW1iZXJcbiAgYW5nbGU6IG51bWJlclxuICBkYTogbnVtYmVyIC8vIGFuZ2xlIGNoYW5nZVxuICBzY2FsZTogbnVtYmVyIC8vIHJhdGlvIG9mIGRpc3RhbmNlIHN0YXJ0IHRvIGN1cnJlbnQgZXZlbnRcbiAgZHM6IG51bWJlciAvLyBzY2FsZSBjaGFuZ2VcbiAgYm94OiBSZWN0IC8vIGVuY2xvc2luZyBib3ggb2YgYWxsIHBvaW50c1xuICB0b3VjaGVzOiBQb2ludGVyVHlwZVtdXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2VzdHVyZVNpZ25hbEFyZyBleHRlbmRzIERvUGhhc2VBcmc8J2dlc3R1cmUnLCBFdmVudFBoYXNlPiB7XG4gIGlFdmVudDogR2VzdHVyZUV2ZW50XG4gIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjwnZ2VzdHVyZSc+XG59XG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgYWN0aW9ucywgSW50ZXJhY3RhYmxlLCBkZWZhdWx0cyB9ID0gc2NvcGVcblxuICBJbnRlcmFjdGFibGUucHJvdG90eXBlLmdlc3R1cmFibGUgPSBmdW5jdGlvbiAoXG4gICAgdGhpczogSW5zdGFuY2VUeXBlPHR5cGVvZiBJbnRlcmFjdGFibGU+LFxuICAgIG9wdGlvbnM6IEdlc3R1cmFibGVPcHRpb25zIHwgYm9vbGVhbixcbiAgKSB7XG4gICAgaWYgKGlzLm9iamVjdChvcHRpb25zKSkge1xuICAgICAgdGhpcy5vcHRpb25zLmdlc3R1cmUuZW5hYmxlZCA9IG9wdGlvbnMuZW5hYmxlZCAhPT0gZmFsc2VcbiAgICAgIHRoaXMuc2V0UGVyQWN0aW9uKCdnZXN0dXJlJywgb3B0aW9ucylcbiAgICAgIHRoaXMuc2V0T25FdmVudHMoJ2dlc3R1cmUnLCBvcHRpb25zKVxuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGlmIChpcy5ib29sKG9wdGlvbnMpKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuZ2VzdHVyZS5lbmFibGVkID0gb3B0aW9uc1xuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZ2VzdHVyZSBhcyBHZXN0dXJhYmxlT3B0aW9uc1xuICB9IGFzIEludGVyYWN0YWJsZVsnZ2VzdHVyYWJsZSddXG5cbiAgYWN0aW9ucy5tYXAuZ2VzdHVyZSA9IGdlc3R1cmVcbiAgYWN0aW9ucy5tZXRob2REaWN0Lmdlc3R1cmUgPSAnZ2VzdHVyYWJsZSdcblxuICBkZWZhdWx0cy5hY3Rpb25zLmdlc3R1cmUgPSBnZXN0dXJlLmRlZmF1bHRzXG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUdlc3R1cmVQcm9wcyh7IGludGVyYWN0aW9uLCBpRXZlbnQsIHBoYXNlIH06IEdlc3R1cmVTaWduYWxBcmcpIHtcbiAgaWYgKGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgIT09ICdnZXN0dXJlJykgcmV0dXJuXG5cbiAgY29uc3QgcG9pbnRlcnMgPSBpbnRlcmFjdGlvbi5wb2ludGVycy5tYXAoKHApID0+IHAucG9pbnRlcilcbiAgY29uc3Qgc3RhcnRpbmcgPSBwaGFzZSA9PT0gJ3N0YXJ0J1xuICBjb25zdCBlbmRpbmcgPSBwaGFzZSA9PT0gJ2VuZCdcbiAgY29uc3QgZGVsdGFTb3VyY2UgPSBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUub3B0aW9ucy5kZWx0YVNvdXJjZVxuXG4gIGlFdmVudC50b3VjaGVzID0gW3BvaW50ZXJzWzBdLCBwb2ludGVyc1sxXV1cblxuICBpZiAoc3RhcnRpbmcpIHtcbiAgICBpRXZlbnQuZGlzdGFuY2UgPSBwb2ludGVyVXRpbHMudG91Y2hEaXN0YW5jZShwb2ludGVycywgZGVsdGFTb3VyY2UpXG4gICAgaUV2ZW50LmJveCA9IHBvaW50ZXJVdGlscy50b3VjaEJCb3gocG9pbnRlcnMpXG4gICAgaUV2ZW50LnNjYWxlID0gMVxuICAgIGlFdmVudC5kcyA9IDBcbiAgICBpRXZlbnQuYW5nbGUgPSBwb2ludGVyVXRpbHMudG91Y2hBbmdsZShwb2ludGVycywgZGVsdGFTb3VyY2UpXG4gICAgaUV2ZW50LmRhID0gMFxuXG4gICAgaW50ZXJhY3Rpb24uZ2VzdHVyZS5zdGFydERpc3RhbmNlID0gaUV2ZW50LmRpc3RhbmNlXG4gICAgaW50ZXJhY3Rpb24uZ2VzdHVyZS5zdGFydEFuZ2xlID0gaUV2ZW50LmFuZ2xlXG4gIH0gZWxzZSBpZiAoZW5kaW5nIHx8IGludGVyYWN0aW9uLnBvaW50ZXJzLmxlbmd0aCA8IDIpIHtcbiAgICBjb25zdCBwcmV2RXZlbnQgPSBpbnRlcmFjdGlvbi5wcmV2RXZlbnQgYXMgR2VzdHVyZUV2ZW50XG5cbiAgICBpRXZlbnQuZGlzdGFuY2UgPSBwcmV2RXZlbnQuZGlzdGFuY2VcbiAgICBpRXZlbnQuYm94ID0gcHJldkV2ZW50LmJveFxuICAgIGlFdmVudC5zY2FsZSA9IHByZXZFdmVudC5zY2FsZVxuICAgIGlFdmVudC5kcyA9IDBcbiAgICBpRXZlbnQuYW5nbGUgPSBwcmV2RXZlbnQuYW5nbGVcbiAgICBpRXZlbnQuZGEgPSAwXG4gIH0gZWxzZSB7XG4gICAgaUV2ZW50LmRpc3RhbmNlID0gcG9pbnRlclV0aWxzLnRvdWNoRGlzdGFuY2UocG9pbnRlcnMsIGRlbHRhU291cmNlKVxuICAgIGlFdmVudC5ib3ggPSBwb2ludGVyVXRpbHMudG91Y2hCQm94KHBvaW50ZXJzKVxuICAgIGlFdmVudC5zY2FsZSA9IGlFdmVudC5kaXN0YW5jZSAvIGludGVyYWN0aW9uLmdlc3R1cmUuc3RhcnREaXN0YW5jZVxuICAgIGlFdmVudC5hbmdsZSA9IHBvaW50ZXJVdGlscy50b3VjaEFuZ2xlKHBvaW50ZXJzLCBkZWx0YVNvdXJjZSlcblxuICAgIGlFdmVudC5kcyA9IGlFdmVudC5zY2FsZSAtIGludGVyYWN0aW9uLmdlc3R1cmUuc2NhbGVcbiAgICBpRXZlbnQuZGEgPSBpRXZlbnQuYW5nbGUgLSBpbnRlcmFjdGlvbi5nZXN0dXJlLmFuZ2xlXG4gIH1cblxuICBpbnRlcmFjdGlvbi5nZXN0dXJlLmRpc3RhbmNlID0gaUV2ZW50LmRpc3RhbmNlXG4gIGludGVyYWN0aW9uLmdlc3R1cmUuYW5nbGUgPSBpRXZlbnQuYW5nbGVcblxuICBpZiAoaXMubnVtYmVyKGlFdmVudC5zY2FsZSkgJiYgaUV2ZW50LnNjYWxlICE9PSBJbmZpbml0eSAmJiAhaXNOYU4oaUV2ZW50LnNjYWxlKSkge1xuICAgIGludGVyYWN0aW9uLmdlc3R1cmUuc2NhbGUgPSBpRXZlbnQuc2NhbGVcbiAgfVxufVxuXG5jb25zdCBnZXN0dXJlOiBQbHVnaW4gPSB7XG4gIGlkOiAnYWN0aW9ucy9nZXN0dXJlJyxcbiAgYmVmb3JlOiBbJ2FjdGlvbnMvZHJhZycsICdhY3Rpb25zL3Jlc2l6ZSddLFxuICBpbnN0YWxsLFxuICBsaXN0ZW5lcnM6IHtcbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1zdGFydCc6IHVwZGF0ZUdlc3R1cmVQcm9wcyxcbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1tb3ZlJzogdXBkYXRlR2VzdHVyZVByb3BzLFxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLWVuZCc6IHVwZGF0ZUdlc3R1cmVQcm9wcyxcblxuICAgICdpbnRlcmFjdGlvbnM6bmV3JzogKHsgaW50ZXJhY3Rpb24gfSkgPT4ge1xuICAgICAgaW50ZXJhY3Rpb24uZ2VzdHVyZSA9IHtcbiAgICAgICAgYW5nbGU6IDAsXG4gICAgICAgIGRpc3RhbmNlOiAwLFxuICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgc3RhcnRBbmdsZTogMCxcbiAgICAgICAgc3RhcnREaXN0YW5jZTogMCxcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgJ2F1dG8tc3RhcnQ6Y2hlY2snOiAoYXJnKSA9PiB7XG4gICAgICBpZiAoYXJnLmludGVyYWN0aW9uLnBvaW50ZXJzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgfVxuXG4gICAgICBjb25zdCBnZXN0dXJlT3B0aW9ucyA9IGFyZy5pbnRlcmFjdGFibGUub3B0aW9ucy5nZXN0dXJlXG5cbiAgICAgIGlmICghKGdlc3R1cmVPcHRpb25zICYmIGdlc3R1cmVPcHRpb25zLmVuYWJsZWQpKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgIH1cblxuICAgICAgYXJnLmFjdGlvbiA9IHsgbmFtZTogJ2dlc3R1cmUnIH1cblxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSxcbiAgfSxcblxuICBkZWZhdWx0czoge30sXG5cbiAgZ2V0Q3Vyc29yKCkge1xuICAgIHJldHVybiAnJ1xuICB9LFxuXG4gIGZpbHRlckV2ZW50VHlwZTogKHR5cGU6IHN0cmluZykgPT4gdHlwZS5zZWFyY2goJ2dlc3R1cmUnKSA9PT0gMCxcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2VzdHVyZVxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSB7IEV2ZW50UGhhc2UsIEludGVyYWN0RXZlbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0RXZlbnQnXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0aW9uIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgUGVyQWN0aW9uRGVmYXVsdHMgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnXG5pbXBvcnQgdHlwZSB7IFNjb3BlLCBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUge1xuICBBY3Rpb25OYW1lLFxuICBBY3Rpb25Qcm9wcyxcbiAgRWRnZU9wdGlvbnMsXG4gIEZ1bGxSZWN0LFxuICBMaXN0ZW5lcnNBcmcsXG4gIE9yQm9vbGVhbixcbiAgUG9pbnQsXG4gIFJlY3QsXG59IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgKiBhcyBkb20gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcblxuZXhwb3J0IHR5cGUgRWRnZU5hbWUgPSAndG9wJyB8ICdsZWZ0JyB8ICdib3R0b20nIHwgJ3JpZ2h0J1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0YWJsZSB7XG4gICAgcmVzaXphYmxlKCk6IFJlc2l6YWJsZU9wdGlvbnNcbiAgICByZXNpemFibGUob3B0aW9uczogUGFydGlhbDxPckJvb2xlYW48UmVzaXphYmxlT3B0aW9ucz4+IHwgYm9vbGVhbik6IHRoaXNcbiAgICAvKipcbiAgICAgKiBgYGBqc1xuICAgICAqIGludGVyYWN0KGVsZW1lbnQpLnJlc2l6YWJsZSh7XG4gICAgICogICBvbnN0YXJ0OiBmdW5jdGlvbiAoZXZlbnQpIHt9LFxuICAgICAqICAgb25tb3ZlIDogZnVuY3Rpb24gKGV2ZW50KSB7fSxcbiAgICAgKiAgIG9uZW5kICA6IGZ1bmN0aW9uIChldmVudCkge30sXG4gICAgICpcbiAgICAgKiAgIGVkZ2VzOiB7XG4gICAgICogICAgIHRvcCAgIDogdHJ1ZSwgICAgICAgLy8gVXNlIHBvaW50ZXIgY29vcmRzIHRvIGNoZWNrIGZvciByZXNpemUuXG4gICAgICogICAgIGxlZnQgIDogZmFsc2UsICAgICAgLy8gRGlzYWJsZSByZXNpemluZyBmcm9tIGxlZnQgZWRnZS5cbiAgICAgKiAgICAgYm90dG9tOiAnLnJlc2l6ZS1zJywvLyBSZXNpemUgaWYgcG9pbnRlciB0YXJnZXQgbWF0Y2hlcyBzZWxlY3RvclxuICAgICAqICAgICByaWdodCA6IGhhbmRsZUVsICAgIC8vIFJlc2l6ZSBpZiBwb2ludGVyIHRhcmdldCBpcyB0aGUgZ2l2ZW4gRWxlbWVudFxuICAgICAqICAgfSxcbiAgICAgKlxuICAgICAqICAgLy8gV2lkdGggYW5kIGhlaWdodCBjYW4gYmUgYWRqdXN0ZWQgaW5kZXBlbmRlbnRseS4gV2hlbiBgdHJ1ZWAsIHdpZHRoIGFuZFxuICAgICAqICAgLy8gaGVpZ2h0IGFyZSBhZGp1c3RlZCBhdCBhIDE6MSByYXRpby5cbiAgICAgKiAgIHNxdWFyZTogZmFsc2UsXG4gICAgICpcbiAgICAgKiAgIC8vIFdpZHRoIGFuZCBoZWlnaHQgY2FuIGJlIGFkanVzdGVkIGluZGVwZW5kZW50bHkuIFdoZW4gYHRydWVgLCB3aWR0aCBhbmRcbiAgICAgKiAgIC8vIGhlaWdodCBtYWludGFpbiB0aGUgYXNwZWN0IHJhdGlvIHRoZXkgaGFkIHdoZW4gcmVzaXppbmcgc3RhcnRlZC5cbiAgICAgKiAgIHByZXNlcnZlQXNwZWN0UmF0aW86IGZhbHNlLFxuICAgICAqXG4gICAgICogICAvLyBhIHZhbHVlIG9mICdub25lJyB3aWxsIGxpbWl0IHRoZSByZXNpemUgcmVjdCB0byBhIG1pbmltdW0gb2YgMHgwXG4gICAgICogICAvLyAnbmVnYXRlJyB3aWxsIGFsbG93IHRoZSByZWN0IHRvIGhhdmUgbmVnYXRpdmUgd2lkdGgvaGVpZ2h0XG4gICAgICogICAvLyAncmVwb3NpdGlvbicgd2lsbCBrZWVwIHRoZSB3aWR0aC9oZWlnaHQgcG9zaXRpdmUgYnkgc3dhcHBpbmdcbiAgICAgKiAgIC8vIHRoZSB0b3AgYW5kIGJvdHRvbSBlZGdlcyBhbmQvb3Igc3dhcHBpbmcgdGhlIGxlZnQgYW5kIHJpZ2h0IGVkZ2VzXG4gICAgICogICBpbnZlcnQ6ICdub25lJyB8fCAnbmVnYXRlJyB8fCAncmVwb3NpdGlvbidcbiAgICAgKlxuICAgICAqICAgLy8gbGltaXQgbXVsdGlwbGUgcmVzaXplcy5cbiAgICAgKiAgIC8vIFNlZSB0aGUgZXhwbGFuYXRpb24gaW4gdGhlIHtAbGluayBJbnRlcmFjdGFibGUuZHJhZ2dhYmxlfSBleGFtcGxlXG4gICAgICogICBtYXg6IEluZmluaXR5LFxuICAgICAqICAgbWF4UGVyRWxlbWVudDogMSxcbiAgICAgKiB9KVxuICAgICAqXG4gICAgICogdmFyIGlzUmVzaXplYWJsZSA9IGludGVyYWN0KGVsZW1lbnQpLnJlc2l6YWJsZSgpXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBHZXRzIG9yIHNldHMgd2hldGhlciByZXNpemUgYWN0aW9ucyBjYW4gYmUgcGVyZm9ybWVkIG9uIHRoZSB0YXJnZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gdHJ1ZS9mYWxzZSBvciBBbiBvYmplY3Qgd2l0aCBldmVudFxuICAgICAqIGxpc3RlbmVycyB0byBiZSBmaXJlZCBvbiByZXNpemUgZXZlbnRzIChvYmplY3QgbWFrZXMgdGhlIEludGVyYWN0YWJsZVxuICAgICAqIHJlc2l6YWJsZSlcbiAgICAgKiBAcmV0dXJucyBBIGJvb2xlYW4gaW5kaWNhdGluZyBpZiB0aGlzIGNhbiBiZSB0aGVcbiAgICAgKiB0YXJnZXQgb2YgcmVzaXplIGVsZW1lbnRzLCBvciB0aGlzIEludGVyYWN0YWJsZVxuICAgICAqL1xuICAgIHJlc2l6YWJsZShvcHRpb25zPzogUGFydGlhbDxPckJvb2xlYW48UmVzaXphYmxlT3B0aW9ucz4+IHwgYm9vbGVhbik6IHRoaXMgfCBSZXNpemFibGVPcHRpb25zXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0aW9uPFQgZXh0ZW5kcyBBY3Rpb25OYW1lIHwgbnVsbCA9IEFjdGlvbk5hbWU+IHtcbiAgICByZXNpemVBeGVzOiAneCcgfCAneScgfCAneHknXG4gICAgc3R5bGVDdXJzb3IobmV3VmFsdWU6IGJvb2xlYW4pOiB0aGlzXG4gICAgc3R5bGVDdXJzb3IoKTogYm9vbGVhblxuICAgIHJlc2l6ZVN0YXJ0QXNwZWN0UmF0aW86IG51bWJlclxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnIHtcbiAgaW50ZXJmYWNlIEFjdGlvbkRlZmF1bHRzIHtcbiAgICByZXNpemU6IFJlc2l6YWJsZU9wdGlvbnNcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS90eXBlcycge1xuICBpbnRlcmZhY2UgQWN0aW9uTWFwIHtcbiAgICByZXNpemU/OiB0eXBlb2YgcmVzaXplXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXNpemFibGVPcHRpb25zIGV4dGVuZHMgUGVyQWN0aW9uRGVmYXVsdHMge1xuICBzcXVhcmU/OiBib29sZWFuXG4gIHByZXNlcnZlQXNwZWN0UmF0aW8/OiBib29sZWFuXG4gIGVkZ2VzPzogRWRnZU9wdGlvbnMgfCBudWxsXG4gIGF4aXM/OiAneCcgfCAneScgfCAneHknIC8vIGRlcHJlY2F0ZWRcbiAgaW52ZXJ0PzogJ25vbmUnIHwgJ25lZ2F0ZScgfCAncmVwb3NpdGlvbidcbiAgbWFyZ2luPzogbnVtYmVyXG4gIHNxdWFyZVJlc2l6ZT86IGJvb2xlYW5cbiAgb25pbmVydGlhc3RhcnQ/OiBMaXN0ZW5lcnNBcmdcbiAgb25zdGFydD86IExpc3RlbmVyc0FyZ1xuICBvbm1vdmU/OiBMaXN0ZW5lcnNBcmdcbiAgb25lbmQ/OiBMaXN0ZW5lcnNBcmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXNpemVFdmVudDxQIGV4dGVuZHMgRXZlbnRQaGFzZSA9IEV2ZW50UGhhc2U+IGV4dGVuZHMgSW50ZXJhY3RFdmVudDwncmVzaXplJywgUD4ge1xuICBkZWx0YVJlY3Q/OiBGdWxsUmVjdFxuICBlZGdlcz86IEFjdGlvblByb3BzWydlZGdlcyddXG59XG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHtcbiAgICBhY3Rpb25zLFxuICAgIGJyb3dzZXIsXG4gICAgSW50ZXJhY3RhYmxlLCAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lIG5vLXNoYWRvd2VkLXZhcmlhYmxlXG4gICAgZGVmYXVsdHMsXG4gIH0gPSBzY29wZVxuXG4gIC8vIExlc3MgUHJlY2lzaW9uIHdpdGggdG91Y2ggaW5wdXRcblxuICByZXNpemUuY3Vyc29ycyA9IGluaXRDdXJzb3JzKGJyb3dzZXIpXG4gIHJlc2l6ZS5kZWZhdWx0TWFyZ2luID0gYnJvd3Nlci5zdXBwb3J0c1RvdWNoIHx8IGJyb3dzZXIuc3VwcG9ydHNQb2ludGVyRXZlbnQgPyAyMCA6IDEwXG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5yZXNpemFibGUgPSBmdW5jdGlvbiAodGhpczogSW50ZXJhY3RhYmxlLCBvcHRpb25zOiBSZXNpemFibGVPcHRpb25zIHwgYm9vbGVhbikge1xuICAgIHJldHVybiByZXNpemFibGUodGhpcywgb3B0aW9ucywgc2NvcGUpXG4gIH0gYXMgSW50ZXJhY3RhYmxlWydyZXNpemFibGUnXVxuXG4gIGFjdGlvbnMubWFwLnJlc2l6ZSA9IHJlc2l6ZVxuICBhY3Rpb25zLm1ldGhvZERpY3QucmVzaXplID0gJ3Jlc2l6YWJsZSdcblxuICBkZWZhdWx0cy5hY3Rpb25zLnJlc2l6ZSA9IHJlc2l6ZS5kZWZhdWx0c1xufVxuXG5mdW5jdGlvbiByZXNpemVDaGVja2VyKGFyZykge1xuICBjb25zdCB7IGludGVyYWN0aW9uLCBpbnRlcmFjdGFibGUsIGVsZW1lbnQsIHJlY3QsIGJ1dHRvbnMgfSA9IGFyZ1xuXG4gIGlmICghcmVjdCkge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIGNvbnN0IHBhZ2UgPSBleHRlbmQoe30sIGludGVyYWN0aW9uLmNvb3Jkcy5jdXIucGFnZSlcbiAgY29uc3QgcmVzaXplT3B0aW9ucyA9IGludGVyYWN0YWJsZS5vcHRpb25zLnJlc2l6ZVxuXG4gIGlmIChcbiAgICAhKHJlc2l6ZU9wdGlvbnMgJiYgcmVzaXplT3B0aW9ucy5lbmFibGVkKSB8fFxuICAgIC8vIGNoZWNrIG1vdXNlQnV0dG9uIHNldHRpbmcgaWYgdGhlIHBvaW50ZXIgaXMgZG93blxuICAgIChpbnRlcmFjdGlvbi5wb2ludGVySXNEb3duICYmXG4gICAgICAvbW91c2V8cG9pbnRlci8udGVzdChpbnRlcmFjdGlvbi5wb2ludGVyVHlwZSkgJiZcbiAgICAgIChidXR0b25zICYgcmVzaXplT3B0aW9ucy5tb3VzZUJ1dHRvbnMpID09PSAwKVxuICApIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICAvLyBpZiB1c2luZyByZXNpemUuZWRnZXNcbiAgaWYgKGlzLm9iamVjdChyZXNpemVPcHRpb25zLmVkZ2VzKSkge1xuICAgIGNvbnN0IHJlc2l6ZUVkZ2VzID0ge1xuICAgICAgbGVmdDogZmFsc2UsXG4gICAgICByaWdodDogZmFsc2UsXG4gICAgICB0b3A6IGZhbHNlLFxuICAgICAgYm90dG9tOiBmYWxzZSxcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGVkZ2UgaW4gcmVzaXplRWRnZXMpIHtcbiAgICAgIHJlc2l6ZUVkZ2VzW2VkZ2VdID0gY2hlY2tSZXNpemVFZGdlKFxuICAgICAgICBlZGdlLFxuICAgICAgICByZXNpemVPcHRpb25zLmVkZ2VzW2VkZ2VdLFxuICAgICAgICBwYWdlLFxuICAgICAgICBpbnRlcmFjdGlvbi5fbGF0ZXN0UG9pbnRlci5ldmVudFRhcmdldCxcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgcmVjdCxcbiAgICAgICAgcmVzaXplT3B0aW9ucy5tYXJnaW4gfHwgcmVzaXplLmRlZmF1bHRNYXJnaW4sXG4gICAgICApXG4gICAgfVxuXG4gICAgcmVzaXplRWRnZXMubGVmdCA9IHJlc2l6ZUVkZ2VzLmxlZnQgJiYgIXJlc2l6ZUVkZ2VzLnJpZ2h0XG4gICAgcmVzaXplRWRnZXMudG9wID0gcmVzaXplRWRnZXMudG9wICYmICFyZXNpemVFZGdlcy5ib3R0b21cblxuICAgIGlmIChyZXNpemVFZGdlcy5sZWZ0IHx8IHJlc2l6ZUVkZ2VzLnJpZ2h0IHx8IHJlc2l6ZUVkZ2VzLnRvcCB8fCByZXNpemVFZGdlcy5ib3R0b20pIHtcbiAgICAgIGFyZy5hY3Rpb24gPSB7XG4gICAgICAgIG5hbWU6ICdyZXNpemUnLFxuICAgICAgICBlZGdlczogcmVzaXplRWRnZXMsXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IHJpZ2h0ID0gcmVzaXplT3B0aW9ucy5heGlzICE9PSAneScgJiYgcGFnZS54ID4gcmVjdC5yaWdodCAtIHJlc2l6ZS5kZWZhdWx0TWFyZ2luXG4gICAgY29uc3QgYm90dG9tID0gcmVzaXplT3B0aW9ucy5heGlzICE9PSAneCcgJiYgcGFnZS55ID4gcmVjdC5ib3R0b20gLSByZXNpemUuZGVmYXVsdE1hcmdpblxuXG4gICAgaWYgKHJpZ2h0IHx8IGJvdHRvbSkge1xuICAgICAgYXJnLmFjdGlvbiA9IHtcbiAgICAgICAgbmFtZTogJ3Jlc2l6ZScsXG4gICAgICAgIGF4ZXM6IChyaWdodCA/ICd4JyA6ICcnKSArIChib3R0b20gPyAneScgOiAnJyksXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyZy5hY3Rpb24gPyBmYWxzZSA6IHVuZGVmaW5lZFxufVxuXG5mdW5jdGlvbiByZXNpemFibGUoaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUsIG9wdGlvbnM6IE9yQm9vbGVhbjxSZXNpemFibGVPcHRpb25zPiB8IGJvb2xlYW4sIHNjb3BlOiBTY29wZSkge1xuICBpZiAoaXMub2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgaW50ZXJhY3RhYmxlLm9wdGlvbnMucmVzaXplLmVuYWJsZWQgPSBvcHRpb25zLmVuYWJsZWQgIT09IGZhbHNlXG4gICAgaW50ZXJhY3RhYmxlLnNldFBlckFjdGlvbigncmVzaXplJywgb3B0aW9ucylcbiAgICBpbnRlcmFjdGFibGUuc2V0T25FdmVudHMoJ3Jlc2l6ZScsIG9wdGlvbnMpXG5cbiAgICBpZiAoaXMuc3RyaW5nKG9wdGlvbnMuYXhpcykgJiYgL154JHxeeSR8Xnh5JC8udGVzdChvcHRpb25zLmF4aXMpKSB7XG4gICAgICBpbnRlcmFjdGFibGUub3B0aW9ucy5yZXNpemUuYXhpcyA9IG9wdGlvbnMuYXhpc1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5heGlzID09PSBudWxsKSB7XG4gICAgICBpbnRlcmFjdGFibGUub3B0aW9ucy5yZXNpemUuYXhpcyA9IHNjb3BlLmRlZmF1bHRzLmFjdGlvbnMucmVzaXplLmF4aXNcbiAgICB9XG5cbiAgICBpZiAoaXMuYm9vbChvcHRpb25zLnByZXNlcnZlQXNwZWN0UmF0aW8pKSB7XG4gICAgICBpbnRlcmFjdGFibGUub3B0aW9ucy5yZXNpemUucHJlc2VydmVBc3BlY3RSYXRpbyA9IG9wdGlvbnMucHJlc2VydmVBc3BlY3RSYXRpb1xuICAgIH0gZWxzZSBpZiAoaXMuYm9vbChvcHRpb25zLnNxdWFyZSkpIHtcbiAgICAgIGludGVyYWN0YWJsZS5vcHRpb25zLnJlc2l6ZS5zcXVhcmUgPSBvcHRpb25zLnNxdWFyZVxuICAgIH1cblxuICAgIHJldHVybiBpbnRlcmFjdGFibGVcbiAgfVxuICBpZiAoaXMuYm9vbChvcHRpb25zKSkge1xuICAgIGludGVyYWN0YWJsZS5vcHRpb25zLnJlc2l6ZS5lbmFibGVkID0gb3B0aW9uc1xuXG4gICAgcmV0dXJuIGludGVyYWN0YWJsZVxuICB9XG4gIHJldHVybiBpbnRlcmFjdGFibGUub3B0aW9ucy5yZXNpemVcbn1cblxuZnVuY3Rpb24gY2hlY2tSZXNpemVFZGdlKFxuICBuYW1lOiBzdHJpbmcsXG4gIHZhbHVlOiBhbnksXG4gIHBhZ2U6IFBvaW50LFxuICBlbGVtZW50OiBOb2RlLFxuICBpbnRlcmFjdGFibGVFbGVtZW50OiBFbGVtZW50LFxuICByZWN0OiBSZWN0LFxuICBtYXJnaW46IG51bWJlcixcbikge1xuICAvLyBmYWxzZSwgJycsIHVuZGVmaW5lZCwgbnVsbFxuICBpZiAoIXZhbHVlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvLyB0cnVlIHZhbHVlLCB1c2UgcG9pbnRlciBjb29yZHMgYW5kIGVsZW1lbnQgcmVjdFxuICBpZiAodmFsdWUgPT09IHRydWUpIHtcbiAgICAvLyBpZiBkaW1lbnNpb25zIGFyZSBuZWdhdGl2ZSwgXCJzd2l0Y2hcIiBlZGdlc1xuICAgIGNvbnN0IHdpZHRoID0gaXMubnVtYmVyKHJlY3Qud2lkdGgpID8gcmVjdC53aWR0aCA6IHJlY3QucmlnaHQgLSByZWN0LmxlZnRcbiAgICBjb25zdCBoZWlnaHQgPSBpcy5udW1iZXIocmVjdC5oZWlnaHQpID8gcmVjdC5oZWlnaHQgOiByZWN0LmJvdHRvbSAtIHJlY3QudG9wXG5cbiAgICAvLyBkb24ndCB1c2UgbWFyZ2luIGdyZWF0ZXIgdGhhbiBoYWxmIHRoZSByZWxldmVudCBkaW1lbnNpb25cbiAgICBtYXJnaW4gPSBNYXRoLm1pbihtYXJnaW4sIE1hdGguYWJzKChuYW1lID09PSAnbGVmdCcgfHwgbmFtZSA9PT0gJ3JpZ2h0JyA/IHdpZHRoIDogaGVpZ2h0KSAvIDIpKVxuXG4gICAgaWYgKHdpZHRoIDwgMCkge1xuICAgICAgaWYgKG5hbWUgPT09ICdsZWZ0Jykge1xuICAgICAgICBuYW1lID0gJ3JpZ2h0J1xuICAgICAgfSBlbHNlIGlmIChuYW1lID09PSAncmlnaHQnKSB7XG4gICAgICAgIG5hbWUgPSAnbGVmdCdcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGhlaWdodCA8IDApIHtcbiAgICAgIGlmIChuYW1lID09PSAndG9wJykge1xuICAgICAgICBuYW1lID0gJ2JvdHRvbSdcbiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgbmFtZSA9ICd0b3AnXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5hbWUgPT09ICdsZWZ0Jykge1xuICAgICAgY29uc3QgZWRnZSA9IHdpZHRoID49IDAgPyByZWN0LmxlZnQgOiByZWN0LnJpZ2h0XG4gICAgICByZXR1cm4gcGFnZS54IDwgZWRnZSArIG1hcmdpblxuICAgIH1cbiAgICBpZiAobmFtZSA9PT0gJ3RvcCcpIHtcbiAgICAgIGNvbnN0IGVkZ2UgPSBoZWlnaHQgPj0gMCA/IHJlY3QudG9wIDogcmVjdC5ib3R0b21cbiAgICAgIHJldHVybiBwYWdlLnkgPCBlZGdlICsgbWFyZ2luXG4gICAgfVxuXG4gICAgaWYgKG5hbWUgPT09ICdyaWdodCcpIHtcbiAgICAgIHJldHVybiBwYWdlLnggPiAod2lkdGggPj0gMCA/IHJlY3QucmlnaHQgOiByZWN0LmxlZnQpIC0gbWFyZ2luXG4gICAgfVxuICAgIGlmIChuYW1lID09PSAnYm90dG9tJykge1xuICAgICAgcmV0dXJuIHBhZ2UueSA+IChoZWlnaHQgPj0gMCA/IHJlY3QuYm90dG9tIDogcmVjdC50b3ApIC0gbWFyZ2luXG4gICAgfVxuICB9XG5cbiAgLy8gdGhlIHJlbWFpbmluZyBjaGVja3MgcmVxdWlyZSBhbiBlbGVtZW50XG4gIGlmICghaXMuZWxlbWVudChlbGVtZW50KSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmV0dXJuIGlzLmVsZW1lbnQodmFsdWUpXG4gICAgPyAvLyB0aGUgdmFsdWUgaXMgYW4gZWxlbWVudCB0byB1c2UgYXMgYSByZXNpemUgaGFuZGxlXG4gICAgICB2YWx1ZSA9PT0gZWxlbWVudFxuICAgIDogLy8gb3RoZXJ3aXNlIGNoZWNrIGlmIGVsZW1lbnQgbWF0Y2hlcyB2YWx1ZSBhcyBzZWxlY3RvclxuICAgICAgZG9tLm1hdGNoZXNVcFRvKGVsZW1lbnQsIHZhbHVlLCBpbnRlcmFjdGFibGVFbGVtZW50KVxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBtdWx0aWxpbmUtdGVybmFyeSAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9jb25zaXN0ZW50LXR5cGUtaW1wb3J0c1xuZnVuY3Rpb24gaW5pdEN1cnNvcnMoYnJvd3NlcjogdHlwZW9mIGltcG9ydCgnQGludGVyYWN0anMvdXRpbHMvYnJvd3NlcicpLmRlZmF1bHQpIHtcbiAgcmV0dXJuIGJyb3dzZXIuaXNJZTlcbiAgICA/IHtcbiAgICAgICAgeDogJ2UtcmVzaXplJyxcbiAgICAgICAgeTogJ3MtcmVzaXplJyxcbiAgICAgICAgeHk6ICdzZS1yZXNpemUnLFxuXG4gICAgICAgIHRvcDogJ24tcmVzaXplJyxcbiAgICAgICAgbGVmdDogJ3ctcmVzaXplJyxcbiAgICAgICAgYm90dG9tOiAncy1yZXNpemUnLFxuICAgICAgICByaWdodDogJ2UtcmVzaXplJyxcbiAgICAgICAgdG9wbGVmdDogJ3NlLXJlc2l6ZScsXG4gICAgICAgIGJvdHRvbXJpZ2h0OiAnc2UtcmVzaXplJyxcbiAgICAgICAgdG9wcmlnaHQ6ICduZS1yZXNpemUnLFxuICAgICAgICBib3R0b21sZWZ0OiAnbmUtcmVzaXplJyxcbiAgICAgIH1cbiAgICA6IHtcbiAgICAgICAgeDogJ2V3LXJlc2l6ZScsXG4gICAgICAgIHk6ICducy1yZXNpemUnLFxuICAgICAgICB4eTogJ253c2UtcmVzaXplJyxcblxuICAgICAgICB0b3A6ICducy1yZXNpemUnLFxuICAgICAgICBsZWZ0OiAnZXctcmVzaXplJyxcbiAgICAgICAgYm90dG9tOiAnbnMtcmVzaXplJyxcbiAgICAgICAgcmlnaHQ6ICdldy1yZXNpemUnLFxuICAgICAgICB0b3BsZWZ0OiAnbndzZS1yZXNpemUnLFxuICAgICAgICBib3R0b21yaWdodDogJ253c2UtcmVzaXplJyxcbiAgICAgICAgdG9wcmlnaHQ6ICduZXN3LXJlc2l6ZScsXG4gICAgICAgIGJvdHRvbWxlZnQ6ICduZXN3LXJlc2l6ZScsXG4gICAgICB9XG59XG4vKiBlc2xpbnQtZW5hYmxlIG11bHRpbGluZS10ZXJuYXJ5ICovXG5cbmZ1bmN0aW9uIHN0YXJ0KHsgaUV2ZW50LCBpbnRlcmFjdGlvbiB9OiB7IGlFdmVudDogSW50ZXJhY3RFdmVudDxhbnksIGFueT47IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiB9KSB7XG4gIGlmIChpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lICE9PSAncmVzaXplJyB8fCAhaW50ZXJhY3Rpb24ucHJlcGFyZWQuZWRnZXMpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IHJlc2l6ZUV2ZW50ID0gaUV2ZW50IGFzIFJlc2l6ZUV2ZW50XG4gIGNvbnN0IHJlY3QgPSBpbnRlcmFjdGlvbi5yZWN0XG5cbiAgaW50ZXJhY3Rpb24uX3JlY3RzID0ge1xuICAgIHN0YXJ0OiBleHRlbmQoe30sIHJlY3QpLFxuICAgIGNvcnJlY3RlZDogZXh0ZW5kKHt9LCByZWN0KSxcbiAgICBwcmV2aW91czogZXh0ZW5kKHt9LCByZWN0KSxcbiAgICBkZWx0YToge1xuICAgICAgbGVmdDogMCxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgd2lkdGg6IDAsXG4gICAgICB0b3A6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgICBoZWlnaHQ6IDAsXG4gICAgfSxcbiAgfVxuXG4gIHJlc2l6ZUV2ZW50LmVkZ2VzID0gaW50ZXJhY3Rpb24ucHJlcGFyZWQuZWRnZXNcbiAgcmVzaXplRXZlbnQucmVjdCA9IGludGVyYWN0aW9uLl9yZWN0cy5jb3JyZWN0ZWRcbiAgcmVzaXplRXZlbnQuZGVsdGFSZWN0ID0gaW50ZXJhY3Rpb24uX3JlY3RzLmRlbHRhXG59XG5cbmZ1bmN0aW9uIG1vdmUoeyBpRXZlbnQsIGludGVyYWN0aW9uIH06IHsgaUV2ZW50OiBJbnRlcmFjdEV2ZW50PGFueSwgYW55PjsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uIH0pIHtcbiAgaWYgKGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgIT09ICdyZXNpemUnIHx8ICFpbnRlcmFjdGlvbi5wcmVwYXJlZC5lZGdlcykgcmV0dXJuXG5cbiAgY29uc3QgcmVzaXplRXZlbnQgPSBpRXZlbnQgYXMgUmVzaXplRXZlbnRcbiAgY29uc3QgcmVzaXplT3B0aW9ucyA9IGludGVyYWN0aW9uLmludGVyYWN0YWJsZS5vcHRpb25zLnJlc2l6ZVxuICBjb25zdCBpbnZlcnQgPSByZXNpemVPcHRpb25zLmludmVydFxuICBjb25zdCBpbnZlcnRpYmxlID0gaW52ZXJ0ID09PSAncmVwb3NpdGlvbicgfHwgaW52ZXJ0ID09PSAnbmVnYXRlJ1xuXG4gIGNvbnN0IGN1cnJlbnQgPSBpbnRlcmFjdGlvbi5yZWN0XG4gIGNvbnN0IHsgc3RhcnQ6IHN0YXJ0UmVjdCwgY29ycmVjdGVkLCBkZWx0YTogZGVsdGFSZWN0LCBwcmV2aW91cyB9ID0gaW50ZXJhY3Rpb24uX3JlY3RzXG5cbiAgZXh0ZW5kKHByZXZpb3VzLCBjb3JyZWN0ZWQpXG5cbiAgaWYgKGludmVydGlibGUpIHtcbiAgICAvLyBpZiBpbnZlcnRpYmxlLCBjb3B5IHRoZSBjdXJyZW50IHJlY3RcbiAgICBleHRlbmQoY29ycmVjdGVkLCBjdXJyZW50KVxuXG4gICAgaWYgKGludmVydCA9PT0gJ3JlcG9zaXRpb24nKSB7XG4gICAgICAvLyBzd2FwIGVkZ2UgdmFsdWVzIGlmIG5lY2Vzc2FyeSB0byBrZWVwIHdpZHRoL2hlaWdodCBwb3NpdGl2ZVxuICAgICAgaWYgKGNvcnJlY3RlZC50b3AgPiBjb3JyZWN0ZWQuYm90dG9tKSB7XG4gICAgICAgIGNvbnN0IHN3YXAgPSBjb3JyZWN0ZWQudG9wXG5cbiAgICAgICAgY29ycmVjdGVkLnRvcCA9IGNvcnJlY3RlZC5ib3R0b21cbiAgICAgICAgY29ycmVjdGVkLmJvdHRvbSA9IHN3YXBcbiAgICAgIH1cbiAgICAgIGlmIChjb3JyZWN0ZWQubGVmdCA+IGNvcnJlY3RlZC5yaWdodCkge1xuICAgICAgICBjb25zdCBzd2FwID0gY29ycmVjdGVkLmxlZnRcblxuICAgICAgICBjb3JyZWN0ZWQubGVmdCA9IGNvcnJlY3RlZC5yaWdodFxuICAgICAgICBjb3JyZWN0ZWQucmlnaHQgPSBzd2FwXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGlmIG5vdCBpbnZlcnRpYmxlLCByZXN0cmljdCB0byBtaW5pbXVtIG9mIDB4MCByZWN0XG4gICAgY29ycmVjdGVkLnRvcCA9IE1hdGgubWluKGN1cnJlbnQudG9wLCBzdGFydFJlY3QuYm90dG9tKVxuICAgIGNvcnJlY3RlZC5ib3R0b20gPSBNYXRoLm1heChjdXJyZW50LmJvdHRvbSwgc3RhcnRSZWN0LnRvcClcbiAgICBjb3JyZWN0ZWQubGVmdCA9IE1hdGgubWluKGN1cnJlbnQubGVmdCwgc3RhcnRSZWN0LnJpZ2h0KVxuICAgIGNvcnJlY3RlZC5yaWdodCA9IE1hdGgubWF4KGN1cnJlbnQucmlnaHQsIHN0YXJ0UmVjdC5sZWZ0KVxuICB9XG5cbiAgY29ycmVjdGVkLndpZHRoID0gY29ycmVjdGVkLnJpZ2h0IC0gY29ycmVjdGVkLmxlZnRcbiAgY29ycmVjdGVkLmhlaWdodCA9IGNvcnJlY3RlZC5ib3R0b20gLSBjb3JyZWN0ZWQudG9wXG5cbiAgZm9yIChjb25zdCBlZGdlIGluIGNvcnJlY3RlZCkge1xuICAgIGRlbHRhUmVjdFtlZGdlXSA9IGNvcnJlY3RlZFtlZGdlXSAtIHByZXZpb3VzW2VkZ2VdXG4gIH1cblxuICByZXNpemVFdmVudC5lZGdlcyA9IGludGVyYWN0aW9uLnByZXBhcmVkLmVkZ2VzXG4gIHJlc2l6ZUV2ZW50LnJlY3QgPSBjb3JyZWN0ZWRcbiAgcmVzaXplRXZlbnQuZGVsdGFSZWN0ID0gZGVsdGFSZWN0XG59XG5cbmZ1bmN0aW9uIGVuZCh7IGlFdmVudCwgaW50ZXJhY3Rpb24gfTogeyBpRXZlbnQ6IEludGVyYWN0RXZlbnQ8YW55LCBhbnk+OyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfSkge1xuICBpZiAoaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSAhPT0gJ3Jlc2l6ZScgfHwgIWludGVyYWN0aW9uLnByZXBhcmVkLmVkZ2VzKSByZXR1cm5cblxuICBjb25zdCByZXNpemVFdmVudCA9IGlFdmVudCBhcyBSZXNpemVFdmVudFxuXG4gIHJlc2l6ZUV2ZW50LmVkZ2VzID0gaW50ZXJhY3Rpb24ucHJlcGFyZWQuZWRnZXNcbiAgcmVzaXplRXZlbnQucmVjdCA9IGludGVyYWN0aW9uLl9yZWN0cy5jb3JyZWN0ZWRcbiAgcmVzaXplRXZlbnQuZGVsdGFSZWN0ID0gaW50ZXJhY3Rpb24uX3JlY3RzLmRlbHRhXG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUV2ZW50QXhlcyh7XG4gIGlFdmVudCxcbiAgaW50ZXJhY3Rpb24sXG59OiB7XG4gIGlFdmVudDogSW50ZXJhY3RFdmVudDxhbnksIGFueT5cbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uXG59KSB7XG4gIGlmIChpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lICE9PSAncmVzaXplJyB8fCAhaW50ZXJhY3Rpb24ucmVzaXplQXhlcykgcmV0dXJuXG5cbiAgY29uc3Qgb3B0aW9ucyA9IGludGVyYWN0aW9uLmludGVyYWN0YWJsZS5vcHRpb25zXG4gIGNvbnN0IHJlc2l6ZUV2ZW50ID0gaUV2ZW50IGFzIFJlc2l6ZUV2ZW50XG5cbiAgaWYgKG9wdGlvbnMucmVzaXplLnNxdWFyZSkge1xuICAgIGlmIChpbnRlcmFjdGlvbi5yZXNpemVBeGVzID09PSAneScpIHtcbiAgICAgIHJlc2l6ZUV2ZW50LmRlbHRhLnggPSByZXNpemVFdmVudC5kZWx0YS55XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc2l6ZUV2ZW50LmRlbHRhLnkgPSByZXNpemVFdmVudC5kZWx0YS54XG4gICAgfVxuICAgIHJlc2l6ZUV2ZW50LmF4ZXMgPSAneHknXG4gIH0gZWxzZSB7XG4gICAgcmVzaXplRXZlbnQuYXhlcyA9IGludGVyYWN0aW9uLnJlc2l6ZUF4ZXNcblxuICAgIGlmIChpbnRlcmFjdGlvbi5yZXNpemVBeGVzID09PSAneCcpIHtcbiAgICAgIHJlc2l6ZUV2ZW50LmRlbHRhLnkgPSAwXG4gICAgfSBlbHNlIGlmIChpbnRlcmFjdGlvbi5yZXNpemVBeGVzID09PSAneScpIHtcbiAgICAgIHJlc2l6ZUV2ZW50LmRlbHRhLnggPSAwXG4gICAgfVxuICB9XG59XG5cbmNvbnN0IHJlc2l6ZTogUGx1Z2luID0ge1xuICBpZDogJ2FjdGlvbnMvcmVzaXplJyxcbiAgYmVmb3JlOiBbJ2FjdGlvbnMvZHJhZyddLFxuICBpbnN0YWxsLFxuICBsaXN0ZW5lcnM6IHtcbiAgICAnaW50ZXJhY3Rpb25zOm5ldyc6ICh7IGludGVyYWN0aW9uIH0pID0+IHtcbiAgICAgIGludGVyYWN0aW9uLnJlc2l6ZUF4ZXMgPSAneHknXG4gICAgfSxcblxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLXN0YXJ0JzogKGFyZykgPT4ge1xuICAgICAgc3RhcnQoYXJnKVxuICAgICAgdXBkYXRlRXZlbnRBeGVzKGFyZylcbiAgICB9LFxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLW1vdmUnOiAoYXJnKSA9PiB7XG4gICAgICBtb3ZlKGFyZylcbiAgICAgIHVwZGF0ZUV2ZW50QXhlcyhhcmcpXG4gICAgfSxcbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1lbmQnOiBlbmQsXG4gICAgJ2F1dG8tc3RhcnQ6Y2hlY2snOiByZXNpemVDaGVja2VyLFxuICB9LFxuXG4gIGRlZmF1bHRzOiB7XG4gICAgc3F1YXJlOiBmYWxzZSxcbiAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBmYWxzZSxcbiAgICBheGlzOiAneHknLFxuXG4gICAgLy8gdXNlIGRlZmF1bHQgbWFyZ2luXG4gICAgbWFyZ2luOiBOYU4sXG5cbiAgICAvLyBvYmplY3Qgd2l0aCBwcm9wcyBsZWZ0LCByaWdodCwgdG9wLCBib3R0b20gd2hpY2ggYXJlXG4gICAgLy8gdHJ1ZS9mYWxzZSB2YWx1ZXMgdG8gcmVzaXplIHdoZW4gdGhlIHBvaW50ZXIgaXMgb3ZlciB0aGF0IGVkZ2UsXG4gICAgLy8gQ1NTIHNlbGVjdG9ycyB0byBtYXRjaCB0aGUgaGFuZGxlcyBmb3IgZWFjaCBkaXJlY3Rpb25cbiAgICAvLyBvciB0aGUgRWxlbWVudHMgZm9yIGVhY2ggaGFuZGxlXG4gICAgZWRnZXM6IG51bGwsXG5cbiAgICAvLyBhIHZhbHVlIG9mICdub25lJyB3aWxsIGxpbWl0IHRoZSByZXNpemUgcmVjdCB0byBhIG1pbmltdW0gb2YgMHgwXG4gICAgLy8gJ25lZ2F0ZScgd2lsbCBhbG93IHRoZSByZWN0IHRvIGhhdmUgbmVnYXRpdmUgd2lkdGgvaGVpZ2h0XG4gICAgLy8gJ3JlcG9zaXRpb24nIHdpbGwga2VlcCB0aGUgd2lkdGgvaGVpZ2h0IHBvc2l0aXZlIGJ5IHN3YXBwaW5nXG4gICAgLy8gdGhlIHRvcCBhbmQgYm90dG9tIGVkZ2VzIGFuZC9vciBzd2FwcGluZyB0aGUgbGVmdCBhbmQgcmlnaHQgZWRnZXNcbiAgICBpbnZlcnQ6ICdub25lJyxcbiAgfSBhcyBSZXNpemFibGVPcHRpb25zLFxuXG4gIGN1cnNvcnM6IG51bGwgYXMgUmV0dXJuVHlwZTx0eXBlb2YgaW5pdEN1cnNvcnM+LFxuXG4gIGdldEN1cnNvcih7IGVkZ2VzLCBheGlzLCBuYW1lIH06IEFjdGlvblByb3BzKSB7XG4gICAgY29uc3QgY3Vyc29ycyA9IHJlc2l6ZS5jdXJzb3JzXG4gICAgbGV0IHJlc3VsdDogc3RyaW5nID0gbnVsbFxuXG4gICAgaWYgKGF4aXMpIHtcbiAgICAgIHJlc3VsdCA9IGN1cnNvcnNbbmFtZSArIGF4aXNdXG4gICAgfSBlbHNlIGlmIChlZGdlcykge1xuICAgICAgbGV0IGN1cnNvcktleSA9ICcnXG5cbiAgICAgIGZvciAoY29uc3QgZWRnZSBvZiBbJ3RvcCcsICdib3R0b20nLCAnbGVmdCcsICdyaWdodCddKSB7XG4gICAgICAgIGlmIChlZGdlc1tlZGdlXSkge1xuICAgICAgICAgIGN1cnNvcktleSArPSBlZGdlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVzdWx0ID0gY3Vyc29yc1tjdXJzb3JLZXldXG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9LFxuXG4gIGZpbHRlckV2ZW50VHlwZTogKHR5cGU6IHN0cmluZykgPT4gdHlwZS5zZWFyY2goJ3Jlc2l6ZScpID09PSAwLFxuXG4gIGRlZmF1bHRNYXJnaW46IG51bGwgYXMgbnVtYmVyLFxufVxuXG5leHBvcnQgZGVmYXVsdCByZXNpemVcbiIsICJsZXQgbGFzdFRpbWUgPSAwXG5sZXQgcmVxdWVzdDogdHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZVxubGV0IGNhbmNlbDogdHlwZW9mIGNhbmNlbEFuaW1hdGlvbkZyYW1lXG5cbmZ1bmN0aW9uIGluaXQoZ2xvYmFsOiBXaW5kb3cgfCB0eXBlb2YgZ2xvYmFsVGhpcykge1xuICByZXF1ZXN0ID0gZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZVxuICBjYW5jZWwgPSBnbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWVcblxuICBpZiAoIXJlcXVlc3QpIHtcbiAgICBjb25zdCB2ZW5kb3JzID0gWydtcycsICdtb3onLCAnd2Via2l0JywgJ28nXVxuXG4gICAgZm9yIChjb25zdCB2ZW5kb3Igb2YgdmVuZG9ycykge1xuICAgICAgcmVxdWVzdCA9IGdsb2JhbFtgJHt2ZW5kb3J9UmVxdWVzdEFuaW1hdGlvbkZyYW1lYCBhcyAncmVxdWVzdEFuaW1hdGlvbkZyYW1lJ11cbiAgICAgIGNhbmNlbCA9XG4gICAgICAgIGdsb2JhbFtgJHt2ZW5kb3J9Q2FuY2VsQW5pbWF0aW9uRnJhbWVgIGFzICdjYW5jZWxBbmltYXRpb25GcmFtZSddIHx8XG4gICAgICAgIGdsb2JhbFtgJHt2ZW5kb3J9Q2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lYCBhcyAnY2FuY2VsQW5pbWF0aW9uRnJhbWUnXVxuICAgIH1cbiAgfVxuXG4gIHJlcXVlc3QgPSByZXF1ZXN0ICYmIHJlcXVlc3QuYmluZChnbG9iYWwpXG4gIGNhbmNlbCA9IGNhbmNlbCAmJiBjYW5jZWwuYmluZChnbG9iYWwpXG5cbiAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgcmVxdWVzdCA9IChjYWxsYmFjaykgPT4ge1xuICAgICAgY29uc3QgY3VyclRpbWUgPSBEYXRlLm5vdygpXG4gICAgICBjb25zdCB0aW1lVG9DYWxsID0gTWF0aC5tYXgoMCwgMTYgLSAoY3VyclRpbWUgLSBsYXN0VGltZSkpXG4gICAgICBjb25zdCB0b2tlbiA9IGdsb2JhbC5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG4vbm8tY2FsbGJhY2stbGl0ZXJhbFxuICAgICAgICBjYWxsYmFjayhjdXJyVGltZSArIHRpbWVUb0NhbGwpXG4gICAgICB9LCB0aW1lVG9DYWxsKVxuXG4gICAgICBsYXN0VGltZSA9IGN1cnJUaW1lICsgdGltZVRvQ2FsbFxuICAgICAgcmV0dXJuIHRva2VuIGFzIGFueVxuICAgIH1cblxuICAgIGNhbmNlbCA9ICh0b2tlbikgPT4gY2xlYXJUaW1lb3V0KHRva2VuKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmVxdWVzdDogKGNhbGxiYWNrOiBGcmFtZVJlcXVlc3RDYWxsYmFjaykgPT4gcmVxdWVzdChjYWxsYmFjayksXG4gIGNhbmNlbDogKHRva2VuOiBudW1iZXIpID0+IGNhbmNlbCh0b2tlbiksXG4gIGluaXQsXG59XG4iLCAiaW1wb3J0IHR5cGUgeyBTY29wZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5cbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzIC0tIGZvciB0eXBlc2NyaXB0IG1vZHVsZSBhdWdtZW50YXRpb25zICovXG5pbXBvcnQgJy4vZHJhZy9wbHVnaW4nXG5pbXBvcnQgJy4vZHJvcC9wbHVnaW4nXG5pbXBvcnQgJy4vZ2VzdHVyZS9wbHVnaW4nXG5pbXBvcnQgJy4vcmVzaXplL3BsdWdpbidcblxuaW1wb3J0IGRyYWcgZnJvbSAnLi9kcmFnL3BsdWdpbidcbmltcG9ydCBkcm9wIGZyb20gJy4vZHJvcC9wbHVnaW4nXG5pbXBvcnQgZ2VzdHVyZSBmcm9tICcuL2dlc3R1cmUvcGx1Z2luJ1xuaW1wb3J0IHJlc2l6ZSBmcm9tICcuL3Jlc2l6ZS9wbHVnaW4nXG4vKiBlc2xpbnQtZW5hYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzICovXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaWQ6ICdhY3Rpb25zJyxcbiAgaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgICBzY29wZS51c2VQbHVnaW4oZ2VzdHVyZSlcbiAgICBzY29wZS51c2VQbHVnaW4ocmVzaXplKVxuICAgIHNjb3BlLnVzZVBsdWdpbihkcmFnKVxuICAgIHNjb3BlLnVzZVBsdWdpbihkcm9wKVxuICB9LFxufVxuIiwgImltcG9ydCB0eXBlIHsgSW50ZXJhY3RhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnXG5pbXBvcnQgdHlwZSBJbnRlcmFjdGlvbiBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSwgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgQWN0aW9uTmFtZSwgUG9pbnRlclR5cGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0ICogYXMgZG9tVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5pbXBvcnQgcmFmIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3JhZidcbmltcG9ydCB7IGdldFN0cmluZ09wdGlvblJlc3VsdCB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3JlY3QnXG5pbXBvcnQgeyBnZXRXaW5kb3cgfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy93aW5kb3cnXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJyB7XG4gIGludGVyZmFjZSBTY29wZSB7XG4gICAgYXV0b1Njcm9sbDogdHlwZW9mIGF1dG9TY3JvbGxcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbicge1xuICBpbnRlcmZhY2UgSW50ZXJhY3Rpb24ge1xuICAgIGF1dG9TY3JvbGw/OiB0eXBlb2YgYXV0b1Njcm9sbFxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnIHtcbiAgaW50ZXJmYWNlIFBlckFjdGlvbkRlZmF1bHRzIHtcbiAgICBhdXRvU2Nyb2xsPzogQXV0b1Njcm9sbE9wdGlvbnNcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF1dG9TY3JvbGxPcHRpb25zIHtcbiAgY29udGFpbmVyPzogV2luZG93IHwgSFRNTEVsZW1lbnQgfCBzdHJpbmdcbiAgbWFyZ2luPzogbnVtYmVyXG4gIGRpc3RhbmNlPzogbnVtYmVyXG4gIGludGVydmFsPzogbnVtYmVyXG4gIHNwZWVkPzogbnVtYmVyXG4gIGVuYWJsZWQ/OiBib29sZWFuXG59XG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgZGVmYXVsdHMsIGFjdGlvbnMgfSA9IHNjb3BlXG5cbiAgc2NvcGUuYXV0b1Njcm9sbCA9IGF1dG9TY3JvbGxcbiAgYXV0b1Njcm9sbC5ub3cgPSAoKSA9PiBzY29wZS5ub3coKVxuXG4gIGFjdGlvbnMucGhhc2VsZXNzVHlwZXMuYXV0b3Njcm9sbCA9IHRydWVcbiAgZGVmYXVsdHMucGVyQWN0aW9uLmF1dG9TY3JvbGwgPSBhdXRvU2Nyb2xsLmRlZmF1bHRzXG59XG5cbmNvbnN0IGF1dG9TY3JvbGwgPSB7XG4gIGRlZmF1bHRzOiB7XG4gICAgZW5hYmxlZDogZmFsc2UsXG4gICAgbWFyZ2luOiA2MCxcblxuICAgIC8vIHRoZSBpdGVtIHRoYXQgaXMgc2Nyb2xsZWQgKFdpbmRvdyBvciBIVE1MRWxlbWVudClcbiAgICBjb250YWluZXI6IG51bGwgYXMgQXV0b1Njcm9sbE9wdGlvbnNbJ2NvbnRhaW5lciddLFxuXG4gICAgLy8gdGhlIHNjcm9sbCBzcGVlZCBpbiBwaXhlbHMgcGVyIHNlY29uZFxuICAgIHNwZWVkOiAzMDAsXG4gIH0gYXMgQXV0b1Njcm9sbE9wdGlvbnMsXG5cbiAgbm93OiBEYXRlLm5vdyxcblxuICBpbnRlcmFjdGlvbjogbnVsbCBhcyBJbnRlcmFjdGlvbjxBY3Rpb25OYW1lPiB8IG51bGwsXG4gIGk6IDAsIC8vIHRoZSBoYW5kbGUgcmV0dXJuZWQgYnkgd2luZG93LnNldEludGVydmFsXG5cbiAgLy8gRGlyZWN0aW9uIGVhY2ggcHVsc2UgaXMgdG8gc2Nyb2xsIGluXG4gIHg6IDAsXG4gIHk6IDAsXG5cbiAgaXNTY3JvbGxpbmc6IGZhbHNlLFxuICBwcmV2VGltZTogMCxcbiAgbWFyZ2luOiAwLFxuICBzcGVlZDogMCxcblxuICBzdGFydChpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24pIHtcbiAgICBhdXRvU2Nyb2xsLmlzU2Nyb2xsaW5nID0gdHJ1ZVxuICAgIHJhZi5jYW5jZWwoYXV0b1Njcm9sbC5pKVxuXG4gICAgaW50ZXJhY3Rpb24uYXV0b1Njcm9sbCA9IGF1dG9TY3JvbGxcbiAgICBhdXRvU2Nyb2xsLmludGVyYWN0aW9uID0gaW50ZXJhY3Rpb25cbiAgICBhdXRvU2Nyb2xsLnByZXZUaW1lID0gYXV0b1Njcm9sbC5ub3coKVxuICAgIGF1dG9TY3JvbGwuaSA9IHJhZi5yZXF1ZXN0KGF1dG9TY3JvbGwuc2Nyb2xsKVxuICB9LFxuXG4gIHN0b3AoKSB7XG4gICAgYXV0b1Njcm9sbC5pc1Njcm9sbGluZyA9IGZhbHNlXG4gICAgaWYgKGF1dG9TY3JvbGwuaW50ZXJhY3Rpb24pIHtcbiAgICAgIGF1dG9TY3JvbGwuaW50ZXJhY3Rpb24uYXV0b1Njcm9sbCA9IG51bGxcbiAgICB9XG4gICAgcmFmLmNhbmNlbChhdXRvU2Nyb2xsLmkpXG4gIH0sXG5cbiAgLy8gc2Nyb2xsIHRoZSB3aW5kb3cgYnkgdGhlIHZhbHVlcyBpbiBzY3JvbGwueC95XG4gIHNjcm9sbCgpIHtcbiAgICBjb25zdCB7IGludGVyYWN0aW9uIH0gPSBhdXRvU2Nyb2xsXG4gICAgY29uc3QgeyBpbnRlcmFjdGFibGUsIGVsZW1lbnQgfSA9IGludGVyYWN0aW9uXG4gICAgY29uc3QgYWN0aW9uTmFtZSA9IGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWVcbiAgICBjb25zdCBvcHRpb25zID0gaW50ZXJhY3RhYmxlLm9wdGlvbnNbYWN0aW9uTmFtZV0uYXV0b1Njcm9sbFxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGdldENvbnRhaW5lcihvcHRpb25zLmNvbnRhaW5lciwgaW50ZXJhY3RhYmxlLCBlbGVtZW50KVxuICAgIGNvbnN0IG5vdyA9IGF1dG9TY3JvbGwubm93KClcbiAgICAvLyBjaGFuZ2UgaW4gdGltZSBpbiBzZWNvbmRzXG4gICAgY29uc3QgZHQgPSAobm93IC0gYXV0b1Njcm9sbC5wcmV2VGltZSkgLyAxMDAwXG4gICAgLy8gZGlzcGxhY2VtZW50XG4gICAgY29uc3QgcyA9IG9wdGlvbnMuc3BlZWQgKiBkdFxuXG4gICAgaWYgKHMgPj0gMSkge1xuICAgICAgY29uc3Qgc2Nyb2xsQnkgPSB7XG4gICAgICAgIHg6IGF1dG9TY3JvbGwueCAqIHMsXG4gICAgICAgIHk6IGF1dG9TY3JvbGwueSAqIHMsXG4gICAgICB9XG5cbiAgICAgIGlmIChzY3JvbGxCeS54IHx8IHNjcm9sbEJ5LnkpIHtcbiAgICAgICAgY29uc3QgcHJldlNjcm9sbCA9IGdldFNjcm9sbChjb250YWluZXIpXG5cbiAgICAgICAgaWYgKGlzLndpbmRvdyhjb250YWluZXIpKSB7XG4gICAgICAgICAgY29udGFpbmVyLnNjcm9sbEJ5KHNjcm9sbEJ5LngsIHNjcm9sbEJ5LnkpXG4gICAgICAgIH0gZWxzZSBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgY29udGFpbmVyLnNjcm9sbExlZnQgKz0gc2Nyb2xsQnkueFxuICAgICAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgKz0gc2Nyb2xsQnkueVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3VyU2Nyb2xsID0gZ2V0U2Nyb2xsKGNvbnRhaW5lcilcbiAgICAgICAgY29uc3QgZGVsdGEgPSB7XG4gICAgICAgICAgeDogY3VyU2Nyb2xsLnggLSBwcmV2U2Nyb2xsLngsXG4gICAgICAgICAgeTogY3VyU2Nyb2xsLnkgLSBwcmV2U2Nyb2xsLnksXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVsdGEueCB8fCBkZWx0YS55KSB7XG4gICAgICAgICAgaW50ZXJhY3RhYmxlLmZpcmUoe1xuICAgICAgICAgICAgdHlwZTogJ2F1dG9zY3JvbGwnLFxuICAgICAgICAgICAgdGFyZ2V0OiBlbGVtZW50LFxuICAgICAgICAgICAgaW50ZXJhY3RhYmxlLFxuICAgICAgICAgICAgZGVsdGEsXG4gICAgICAgICAgICBpbnRlcmFjdGlvbixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGF1dG9TY3JvbGwucHJldlRpbWUgPSBub3dcbiAgICB9XG5cbiAgICBpZiAoYXV0b1Njcm9sbC5pc1Njcm9sbGluZykge1xuICAgICAgcmFmLmNhbmNlbChhdXRvU2Nyb2xsLmkpXG4gICAgICBhdXRvU2Nyb2xsLmkgPSByYWYucmVxdWVzdChhdXRvU2Nyb2xsLnNjcm9sbClcbiAgICB9XG4gIH0sXG4gIGNoZWNrKGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlLCBhY3Rpb25OYW1lOiBBY3Rpb25OYW1lKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGludGVyYWN0YWJsZS5vcHRpb25zXG5cbiAgICByZXR1cm4gb3B0aW9uc1thY3Rpb25OYW1lXS5hdXRvU2Nyb2xsPy5lbmFibGVkXG4gIH0sXG4gIG9uSW50ZXJhY3Rpb25Nb3ZlPFQgZXh0ZW5kcyBBY3Rpb25OYW1lPih7XG4gICAgaW50ZXJhY3Rpb24sXG4gICAgcG9pbnRlcixcbiAgfToge1xuICAgIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxUPlxuICAgIHBvaW50ZXI6IFBvaW50ZXJUeXBlXG4gIH0pIHtcbiAgICBpZiAoXG4gICAgICAhKGludGVyYWN0aW9uLmludGVyYWN0aW5nKCkgJiYgYXV0b1Njcm9sbC5jaGVjayhpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUsIGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUpKVxuICAgICkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKGludGVyYWN0aW9uLnNpbXVsYXRpb24pIHtcbiAgICAgIGF1dG9TY3JvbGwueCA9IGF1dG9TY3JvbGwueSA9IDBcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGxldCB0b3A6IGJvb2xlYW5cbiAgICBsZXQgcmlnaHQ6IGJvb2xlYW5cbiAgICBsZXQgYm90dG9tOiBib29sZWFuXG4gICAgbGV0IGxlZnQ6IGJvb2xlYW5cblxuICAgIGNvbnN0IHsgaW50ZXJhY3RhYmxlLCBlbGVtZW50IH0gPSBpbnRlcmFjdGlvblxuICAgIGNvbnN0IGFjdGlvbk5hbWUgPSBpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lXG4gICAgY29uc3Qgb3B0aW9ucyA9IGludGVyYWN0YWJsZS5vcHRpb25zW2FjdGlvbk5hbWVdLmF1dG9TY3JvbGxcbiAgICBjb25zdCBjb250YWluZXIgPSBnZXRDb250YWluZXIob3B0aW9ucy5jb250YWluZXIsIGludGVyYWN0YWJsZSwgZWxlbWVudClcblxuICAgIGlmIChpcy53aW5kb3coY29udGFpbmVyKSkge1xuICAgICAgbGVmdCA9IHBvaW50ZXIuY2xpZW50WCA8IGF1dG9TY3JvbGwubWFyZ2luXG4gICAgICB0b3AgPSBwb2ludGVyLmNsaWVudFkgPCBhdXRvU2Nyb2xsLm1hcmdpblxuICAgICAgcmlnaHQgPSBwb2ludGVyLmNsaWVudFggPiBjb250YWluZXIuaW5uZXJXaWR0aCAtIGF1dG9TY3JvbGwubWFyZ2luXG4gICAgICBib3R0b20gPSBwb2ludGVyLmNsaWVudFkgPiBjb250YWluZXIuaW5uZXJIZWlnaHQgLSBhdXRvU2Nyb2xsLm1hcmdpblxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByZWN0ID0gZG9tVXRpbHMuZ2V0RWxlbWVudENsaWVudFJlY3QoY29udGFpbmVyKVxuXG4gICAgICBsZWZ0ID0gcG9pbnRlci5jbGllbnRYIDwgcmVjdC5sZWZ0ICsgYXV0b1Njcm9sbC5tYXJnaW5cbiAgICAgIHRvcCA9IHBvaW50ZXIuY2xpZW50WSA8IHJlY3QudG9wICsgYXV0b1Njcm9sbC5tYXJnaW5cbiAgICAgIHJpZ2h0ID0gcG9pbnRlci5jbGllbnRYID4gcmVjdC5yaWdodCAtIGF1dG9TY3JvbGwubWFyZ2luXG4gICAgICBib3R0b20gPSBwb2ludGVyLmNsaWVudFkgPiByZWN0LmJvdHRvbSAtIGF1dG9TY3JvbGwubWFyZ2luXG4gICAgfVxuXG4gICAgYXV0b1Njcm9sbC54ID0gcmlnaHQgPyAxIDogbGVmdCA/IC0xIDogMFxuICAgIGF1dG9TY3JvbGwueSA9IGJvdHRvbSA/IDEgOiB0b3AgPyAtMSA6IDBcblxuICAgIGlmICghYXV0b1Njcm9sbC5pc1Njcm9sbGluZykge1xuICAgICAgLy8gc2V0IHRoZSBhdXRvU2Nyb2xsIHByb3BlcnRpZXMgdG8gdGhvc2Ugb2YgdGhlIHRhcmdldFxuICAgICAgYXV0b1Njcm9sbC5tYXJnaW4gPSBvcHRpb25zLm1hcmdpblxuICAgICAgYXV0b1Njcm9sbC5zcGVlZCA9IG9wdGlvbnMuc3BlZWRcblxuICAgICAgYXV0b1Njcm9sbC5zdGFydChpbnRlcmFjdGlvbilcbiAgICB9XG4gIH0sXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250YWluZXIodmFsdWU6IGFueSwgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUsIGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgcmV0dXJuIChcbiAgICAoaXMuc3RyaW5nKHZhbHVlKSA/IGdldFN0cmluZ09wdGlvblJlc3VsdCh2YWx1ZSwgaW50ZXJhY3RhYmxlLCBlbGVtZW50KSA6IHZhbHVlKSB8fCBnZXRXaW5kb3coZWxlbWVudClcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2Nyb2xsKGNvbnRhaW5lcjogYW55KSB7XG4gIGlmIChpcy53aW5kb3coY29udGFpbmVyKSkge1xuICAgIGNvbnRhaW5lciA9IHdpbmRvdy5kb2N1bWVudC5ib2R5XG4gIH1cblxuICByZXR1cm4geyB4OiBjb250YWluZXIuc2Nyb2xsTGVmdCwgeTogY29udGFpbmVyLnNjcm9sbFRvcCB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY3JvbGxTaXplKGNvbnRhaW5lcjogYW55KSB7XG4gIGlmIChpcy53aW5kb3coY29udGFpbmVyKSkge1xuICAgIGNvbnRhaW5lciA9IHdpbmRvdy5kb2N1bWVudC5ib2R5XG4gIH1cblxuICByZXR1cm4geyB4OiBjb250YWluZXIuc2Nyb2xsV2lkdGgsIHk6IGNvbnRhaW5lci5zY3JvbGxIZWlnaHQgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2Nyb2xsU2l6ZURlbHRhPFQgZXh0ZW5kcyBBY3Rpb25OYW1lPihcbiAge1xuICAgIGludGVyYWN0aW9uLFxuICAgIGVsZW1lbnQsXG4gIH06IHtcbiAgICBpbnRlcmFjdGlvbjogUGFydGlhbDxJbnRlcmFjdGlvbjxUPj5cbiAgICBlbGVtZW50OiBFbGVtZW50XG4gIH0sXG4gIGZ1bmM6IGFueSxcbikge1xuICBjb25zdCBzY3JvbGxPcHRpb25zID0gaW50ZXJhY3Rpb24gJiYgaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLm9wdGlvbnNbaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZV0uYXV0b1Njcm9sbFxuXG4gIGlmICghc2Nyb2xsT3B0aW9ucyB8fCAhc2Nyb2xsT3B0aW9ucy5lbmFibGVkKSB7XG4gICAgZnVuYygpXG4gICAgcmV0dXJuIHsgeDogMCwgeTogMCB9XG4gIH1cblxuICBjb25zdCBzY3JvbGxDb250YWluZXIgPSBnZXRDb250YWluZXIoc2Nyb2xsT3B0aW9ucy5jb250YWluZXIsIGludGVyYWN0aW9uLmludGVyYWN0YWJsZSwgZWxlbWVudClcblxuICBjb25zdCBwcmV2U2l6ZSA9IGdldFNjcm9sbChzY3JvbGxDb250YWluZXIpXG4gIGZ1bmMoKVxuICBjb25zdCBjdXJTaXplID0gZ2V0U2Nyb2xsKHNjcm9sbENvbnRhaW5lcilcblxuICByZXR1cm4ge1xuICAgIHg6IGN1clNpemUueCAtIHByZXZTaXplLngsXG4gICAgeTogY3VyU2l6ZS55IC0gcHJldlNpemUueSxcbiAgfVxufVxuXG5jb25zdCBhdXRvU2Nyb2xsUGx1Z2luOiBQbHVnaW4gPSB7XG4gIGlkOiAnYXV0by1zY3JvbGwnLFxuICBpbnN0YWxsLFxuICBsaXN0ZW5lcnM6IHtcbiAgICAnaW50ZXJhY3Rpb25zOm5ldyc6ICh7IGludGVyYWN0aW9uIH0pID0+IHtcbiAgICAgIGludGVyYWN0aW9uLmF1dG9TY3JvbGwgPSBudWxsXG4gICAgfSxcblxuICAgICdpbnRlcmFjdGlvbnM6ZGVzdHJveSc6ICh7IGludGVyYWN0aW9uIH0pID0+IHtcbiAgICAgIGludGVyYWN0aW9uLmF1dG9TY3JvbGwgPSBudWxsXG4gICAgICBhdXRvU2Nyb2xsLnN0b3AoKVxuICAgICAgaWYgKGF1dG9TY3JvbGwuaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgYXV0b1Njcm9sbC5pbnRlcmFjdGlvbiA9IG51bGxcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgJ2ludGVyYWN0aW9uczpzdG9wJzogYXV0b1Njcm9sbC5zdG9wLFxuXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tbW92ZSc6IChhcmc6IGFueSkgPT4gYXV0b1Njcm9sbC5vbkludGVyYWN0aW9uTW92ZShhcmcpLFxuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBhdXRvU2Nyb2xsUGx1Z2luXG4iLCAiaW1wb3J0IHR5cGUgeyBBY3Rpb25OYW1lLCBBY3Rpb25Qcm9wcyB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmltcG9ydCB7IHdpbmRvdyB9IGZyb20gJy4vd2luZG93J1xuXG5leHBvcnQgZnVuY3Rpb24gd2Fybk9uY2U8VD4odGhpczogVCwgbWV0aG9kOiAoLi4uYXJnczogYW55W10pID0+IGFueSwgbWVzc2FnZTogc3RyaW5nKSB7XG4gIGxldCB3YXJuZWQgPSBmYWxzZVxuXG4gIHJldHVybiBmdW5jdGlvbiAodGhpczogVCkge1xuICAgIGlmICghd2FybmVkKSB7XG4gICAgICA7KHdpbmRvdyBhcyBhbnkpLmNvbnNvbGUud2FybihtZXNzYWdlKVxuICAgICAgd2FybmVkID0gdHJ1ZVxuICAgIH1cblxuICAgIHJldHVybiBtZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5QWN0aW9uPFQgZXh0ZW5kcyBBY3Rpb25OYW1lPihkZXN0OiBBY3Rpb25Qcm9wczxhbnk+LCBzcmM6IEFjdGlvblByb3BzPFQ+KSB7XG4gIGRlc3QubmFtZSA9IHNyYy5uYW1lXG4gIGRlc3QuYXhpcyA9IHNyYy5heGlzXG4gIGRlc3QuZWRnZXMgPSBzcmMuZWRnZXNcblxuICByZXR1cm4gZGVzdFxufVxuXG5leHBvcnQgY29uc3Qgc2lnbiA9IChuOiBudW1iZXIpID0+IChuID49IDAgPyAxIDogLTEpXG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIHsgSW50ZXJhY3Rpb24gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IEFjdGlvblByb3BzLCBQb2ludGVyVHlwZSwgUG9pbnRlckV2ZW50VHlwZSwgRWxlbWVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5pbXBvcnQgeyB3YXJuT25jZSB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL21pc2MnXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZScge1xuICBpbnRlcmZhY2UgSW50ZXJhY3RhYmxlIHtcbiAgICBnZXRBY3Rpb246IChcbiAgICAgIHRoaXM6IEludGVyYWN0YWJsZSxcbiAgICAgIHBvaW50ZXI6IFBvaW50ZXJUeXBlLFxuICAgICAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsXG4gICAgICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24sXG4gICAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgICkgPT4gQWN0aW9uUHJvcHMgfCBudWxsXG4gICAgc3R5bGVDdXJzb3IobmV3VmFsdWU6IGJvb2xlYW4pOiB0aGlzXG4gICAgc3R5bGVDdXJzb3IoKTogYm9vbGVhblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb3Igc2V0cyB3aGV0aGVyIHRoZSB0aGUgY3Vyc29yIHNob3VsZCBiZSBjaGFuZ2VkIGRlcGVuZGluZyBvbiB0aGVcbiAgICAgKiBhY3Rpb24gdGhhdCB3b3VsZCBiZSBwZXJmb3JtZWQgaWYgdGhlIG1vdXNlIHdlcmUgcHJlc3NlZCBhbmQgZHJhZ2dlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW25ld1ZhbHVlXVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW4gfCBJbnRlcmFjdGFibGV9IFRoZSBjdXJyZW50IHNldHRpbmcgb3IgdGhpcyBJbnRlcmFjdGFibGVcbiAgICAgKi9cbiAgICBzdHlsZUN1cnNvcihuZXdWYWx1ZT86IGJvb2xlYW4pOiBib29sZWFuIHwgdGhpc1xuICAgIGFjdGlvbkNoZWNrZXIoY2hlY2tlcjogRnVuY3Rpb24pOiBJbnRlcmFjdGFibGVcbiAgICBhY3Rpb25DaGVja2VyKCk6IEZ1bmN0aW9uXG4gICAgLyoqXG4gICAgICogYGBganNcbiAgICAgKiBpbnRlcmFjdCgnLnJlc2l6ZS1kcmFnJylcbiAgICAgKiAgIC5yZXNpemFibGUodHJ1ZSlcbiAgICAgKiAgIC5kcmFnZ2FibGUodHJ1ZSlcbiAgICAgKiAgIC5hY3Rpb25DaGVja2VyKGZ1bmN0aW9uIChwb2ludGVyLCBldmVudCwgYWN0aW9uLCBpbnRlcmFjdGFibGUsIGVsZW1lbnQsIGludGVyYWN0aW9uKSB7XG4gICAgICpcbiAgICAgKiAgICAgaWYgKGludGVyYWN0Lm1hdGNoZXNTZWxlY3RvcihldmVudC50YXJnZXQsICcuZHJhZy1oYW5kbGUnKSkge1xuICAgICAqICAgICAgIC8vIGZvcmNlIGRyYWcgd2l0aCBoYW5kbGUgdGFyZ2V0XG4gICAgICogICAgICAgYWN0aW9uLm5hbWUgPSBkcmFnXG4gICAgICogICAgIH1cbiAgICAgKiAgICAgZWxzZSB7XG4gICAgICogICAgICAgLy8gcmVzaXplIGZyb20gdGhlIHRvcCBhbmQgcmlnaHQgZWRnZXNcbiAgICAgKiAgICAgICBhY3Rpb24ubmFtZSAgPSAncmVzaXplJ1xuICAgICAqICAgICAgIGFjdGlvbi5lZGdlcyA9IHsgdG9wOiB0cnVlLCByaWdodDogdHJ1ZSB9XG4gICAgICogICAgIH1cbiAgICAgKlxuICAgICAqICAgICByZXR1cm4gYWN0aW9uXG4gICAgICogfSlcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFJldHVybnMgb3Igc2V0cyB0aGUgZnVuY3Rpb24gdXNlZCB0byBjaGVjayBhY3Rpb24gdG8gYmUgcGVyZm9ybWVkIG9uXG4gICAgICogcG9pbnRlckRvd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjaGVja2VyIC0gQSBmdW5jdGlvbiB3aGljaCB0YWtlcyBhIHBvaW50ZXIgZXZlbnQsXG4gICAgICogZGVmYXVsdEFjdGlvbiBzdHJpbmcsIGludGVyYWN0YWJsZSwgZWxlbWVudCBhbmQgaW50ZXJhY3Rpb24gYXMgcGFyYW1ldGVyc1xuICAgICAqIGFuZCByZXR1cm5zIGFuIG9iamVjdCB3aXRoIG5hbWUgcHJvcGVydHkgJ2RyYWcnICdyZXNpemUnIG9yICdnZXN0dXJlJyBhbmRcbiAgICAgKiBvcHRpb25hbGx5IGFuIGBlZGdlc2Agb2JqZWN0IHdpdGggYm9vbGVhbiAndG9wJywgJ2xlZnQnLCAnYm90dG9tJyBhbmQgcmlnaHRcbiAgICAgKiBwcm9wcy5cbiAgICAgKiBAcmV0dXJucyBUaGUgY2hlY2tlciBmdW5jdGlvbiBvciB0aGlzIEludGVyYWN0YWJsZVxuICAgICAqL1xuICAgIGFjdGlvbkNoZWNrZXIoY2hlY2tlcj86IEZ1bmN0aW9uKTogSW50ZXJhY3RhYmxlIHwgRnVuY3Rpb25cbiAgICAvKiogQHJldHVybnMgVGhpcyBpbnRlcmFjdGFibGUgKi9cbiAgICBpZ25vcmVGcm9tKG5ld1ZhbHVlOiBzdHJpbmcgfCBFbGVtZW50IHwgbnVsbCk6IEludGVyYWN0YWJsZVxuICAgIC8qKiBAcmV0dXJucyBUaGUgY3VycmVudCBpZ25vcmVGcm9tIHZhbHVlICovXG4gICAgaWdub3JlRnJvbSgpOiBzdHJpbmcgfCBFbGVtZW50IHwgbnVsbFxuICAgIC8qKlxuICAgICAqIElmIHRoZSB0YXJnZXQgb2YgdGhlIGBtb3VzZWRvd25gLCBgcG9pbnRlcmRvd25gIG9yIGB0b3VjaHN0YXJ0YCBldmVudCBvciBhbnlcbiAgICAgKiBvZiBpdCdzIHBhcmVudHMgbWF0Y2ggdGhlIGdpdmVuIENTUyBzZWxlY3RvciBvciBFbGVtZW50LCBub1xuICAgICAqIGRyYWcvcmVzaXplL2dlc3R1cmUgaXMgc3RhcnRlZC5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogRG9uJ3QgdXNlIHRoaXMgbWV0aG9kLiBJbnN0ZWFkIHNldCB0aGUgYGlnbm9yZUZyb21gIG9wdGlvbiBmb3IgZWFjaCBhY3Rpb25cbiAgICAgKiBvciBmb3IgYHBvaW50ZXJFdmVudHNgXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGludGVyYWN0KHRhcmdldHQpXG4gICAgICogICAuZHJhZ2dhYmxlKHtcbiAgICAgKiAgICAgaWdub3JlRnJvbTogJ2lucHV0LCB0ZXh0YXJlYSwgYVtocmVmXScnLFxuICAgICAqICAgfSlcbiAgICAgKiAgIC5wb2ludGVyRXZlbnRzKHtcbiAgICAgKiAgICAgaWdub3JlRnJvbTogJ1tuby1wb2ludGVyXScsXG4gICAgICogICB9KVxuICAgICAqIGBgYFxuICAgICAqIEludGVyYWN0YWJsZVxuICAgICAqL1xuICAgIGlnbm9yZUZyb20oXG4gICAgICAvKiogYSBDU1Mgc2VsZWN0b3Igc3RyaW5nLCBhbiBFbGVtZW50IG9yIGBudWxsYCB0byBub3QgaWdub3JlIGFueSBlbGVtZW50cyAqL1xuICAgICAgbmV3VmFsdWU/OiBzdHJpbmcgfCBFbGVtZW50IHwgbnVsbCxcbiAgICApOiBJbnRlcmFjdGFibGUgfCBzdHJpbmcgfCBFbGVtZW50IHwgbnVsbFxuICAgIGFsbG93RnJvbSgpOiBib29sZWFuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBBIGRyYWcvcmVzaXplL2dlc3R1cmUgaXMgc3RhcnRlZCBvbmx5IElmIHRoZSB0YXJnZXQgb2YgdGhlIGBtb3VzZWRvd25gLFxuICAgICAqIGBwb2ludGVyZG93bmAgb3IgYHRvdWNoc3RhcnRgIGV2ZW50IG9yIGFueSBvZiBpdCdzIHBhcmVudHMgbWF0Y2ggdGhlIGdpdmVuXG4gICAgICogQ1NTIHNlbGVjdG9yIG9yIEVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIERvbid0IHVzZSB0aGlzIG1ldGhvZC4gSW5zdGVhZCBzZXQgdGhlIGBhbGxvd0Zyb21gIG9wdGlvbiBmb3IgZWFjaCBhY3Rpb25cbiAgICAgKiBvciBmb3IgYHBvaW50ZXJFdmVudHNgXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGludGVyYWN0KHRhcmdldHQpXG4gICAgICogICAucmVzaXphYmxlKHtcbiAgICAgKiAgICAgYWxsb3dGcm9tOiAnLnJlc2l6ZS1oYW5kbGUnLFxuICAgICAqICAgLnBvaW50ZXJFdmVudHMoe1xuICAgICAqICAgICBhbGxvd0Zyb206ICcuaGFuZGxlJywsXG4gICAgICogICB9KVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCBFbGVtZW50IHwgbnVsbH0gW25ld1ZhbHVlXVxuICAgICAqIEByZXR1cm4ge3N0cmluZyB8IEVsZW1lbnQgfCBvYmplY3R9IFRoZSBjdXJyZW50IGFsbG93RnJvbSB2YWx1ZSBvciB0aGlzXG4gICAgICogSW50ZXJhY3RhYmxlXG4gICAgICovXG4gICAgYWxsb3dGcm9tKFxuICAgICAgLyoqIEEgQ1NTIHNlbGVjdG9yIHN0cmluZywgYW4gRWxlbWVudCBvciBgbnVsbGAgdG8gYWxsb3cgZnJvbSBhbnkgZWxlbWVudCAqL1xuICAgICAgbmV3VmFsdWU6IHN0cmluZyB8IEVsZW1lbnQgfCBudWxsLFxuICAgICk6IEludGVyYWN0YWJsZVxuICB9XG59XG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHtcbiAgICBJbnRlcmFjdGFibGUsIC8vIHRzbGludDpkaXNhYmxlLWxpbmUgbm8tc2hhZG93ZWQtdmFyaWFibGVcbiAgfSA9IHNjb3BlXG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5nZXRBY3Rpb24gPSBmdW5jdGlvbiBnZXRBY3Rpb24oXG4gICAgdGhpczogSW50ZXJhY3RhYmxlLFxuICAgIHBvaW50ZXI6IFBvaW50ZXJUeXBlLFxuICAgIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLFxuICAgIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbixcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICApOiBBY3Rpb25Qcm9wcyB7XG4gICAgY29uc3QgYWN0aW9uID0gZGVmYXVsdEFjdGlvbkNoZWNrZXIodGhpcywgZXZlbnQsIGludGVyYWN0aW9uLCBlbGVtZW50LCBzY29wZSlcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYWN0aW9uQ2hlY2tlcikge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5hY3Rpb25DaGVja2VyKHBvaW50ZXIsIGV2ZW50LCBhY3Rpb24sIHRoaXMsIGVsZW1lbnQsIGludGVyYWN0aW9uKVxuICAgIH1cblxuICAgIHJldHVybiBhY3Rpb25cbiAgfVxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUuaWdub3JlRnJvbSA9IHdhcm5PbmNlKGZ1bmN0aW9uICh0aGlzOiBJbnRlcmFjdGFibGUsIG5ld1ZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JhY2tDb21wYXRPcHRpb24oJ2lnbm9yZUZyb20nLCBuZXdWYWx1ZSlcbiAgfSwgJ0ludGVyYWN0YWJsZS5pZ25vcmVGcm9tKCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIEludGVyYWN0YmxlLmRyYWdnYWJsZSh7aWdub3JlRnJvbTogbmV3VmFsdWV9KS4nKVxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUuYWxsb3dGcm9tID0gd2Fybk9uY2UoZnVuY3Rpb24gKHRoaXM6IEludGVyYWN0YWJsZSwgbmV3VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5fYmFja0NvbXBhdE9wdGlvbignYWxsb3dGcm9tJywgbmV3VmFsdWUpXG4gIH0sICdJbnRlcmFjdGFibGUuYWxsb3dGcm9tKCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIEludGVyYWN0YmxlLmRyYWdnYWJsZSh7YWxsb3dGcm9tOiBuZXdWYWx1ZX0pLicpXG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5hY3Rpb25DaGVja2VyID0gYWN0aW9uQ2hlY2tlclxuXG4gIEludGVyYWN0YWJsZS5wcm90b3R5cGUuc3R5bGVDdXJzb3IgPSBzdHlsZUN1cnNvclxufVxuXG5mdW5jdGlvbiBkZWZhdWx0QWN0aW9uQ2hlY2tlcihcbiAgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUsXG4gIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLFxuICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24sXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXG4gIHNjb3BlOiBTY29wZSxcbikge1xuICBjb25zdCByZWN0ID0gaW50ZXJhY3RhYmxlLmdldFJlY3QoZWxlbWVudClcbiAgY29uc3QgYnV0dG9ucyA9XG4gICAgKGV2ZW50IGFzIE1vdXNlRXZlbnQpLmJ1dHRvbnMgfHxcbiAgICB7XG4gICAgICAwOiAxLFxuICAgICAgMTogNCxcbiAgICAgIDM6IDgsXG4gICAgICA0OiAxNixcbiAgICB9WyhldmVudCBhcyBNb3VzZUV2ZW50KS5idXR0b24gYXMgMCB8IDEgfCAzIHwgNF1cbiAgY29uc3QgYXJnID0ge1xuICAgIGFjdGlvbjogbnVsbCxcbiAgICBpbnRlcmFjdGFibGUsXG4gICAgaW50ZXJhY3Rpb24sXG4gICAgZWxlbWVudCxcbiAgICByZWN0LFxuICAgIGJ1dHRvbnMsXG4gIH1cblxuICBzY29wZS5maXJlKCdhdXRvLXN0YXJ0OmNoZWNrJywgYXJnKVxuXG4gIHJldHVybiBhcmcuYWN0aW9uXG59XG5cbmZ1bmN0aW9uIHN0eWxlQ3Vyc29yKHRoaXM6IEludGVyYWN0YWJsZSwgbmV3VmFsdWU/OiBib29sZWFuKSB7XG4gIGlmIChpcy5ib29sKG5ld1ZhbHVlKSkge1xuICAgIHRoaXMub3B0aW9ucy5zdHlsZUN1cnNvciA9IG5ld1ZhbHVlXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgaWYgKG5ld1ZhbHVlID09PSBudWxsKSB7XG4gICAgZGVsZXRlIHRoaXMub3B0aW9ucy5zdHlsZUN1cnNvclxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHJldHVybiB0aGlzLm9wdGlvbnMuc3R5bGVDdXJzb3Jcbn1cblxuZnVuY3Rpb24gYWN0aW9uQ2hlY2tlcih0aGlzOiBJbnRlcmFjdGFibGUsIGNoZWNrZXI/OiBhbnkpIHtcbiAgaWYgKGlzLmZ1bmMoY2hlY2tlcikpIHtcbiAgICB0aGlzLm9wdGlvbnMuYWN0aW9uQ2hlY2tlciA9IGNoZWNrZXJcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBpZiAoY2hlY2tlciA9PT0gbnVsbCkge1xuICAgIGRlbGV0ZSB0aGlzLm9wdGlvbnMuYWN0aW9uQ2hlY2tlclxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHJldHVybiB0aGlzLm9wdGlvbnMuYWN0aW9uQ2hlY2tlclxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlkOiAnYXV0by1zdGFydC9pbnRlcmFjdGFibGVNZXRob2RzJyxcbiAgaW5zdGFsbCxcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGlvbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFNjb3BlLCBTaWduYWxBcmdzLCBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUge1xuICBDdXJzb3JDaGVja2VyLFxuICBQb2ludGVyVHlwZSxcbiAgUG9pbnRlckV2ZW50VHlwZSxcbiAgRWxlbWVudCxcbiAgQWN0aW9uTmFtZSxcbiAgQWN0aW9uUHJvcHMsXG59IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgKiBhcyBkb21VdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscydcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuaW1wb3J0IHsgY29weUFjdGlvbiB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL21pc2MnXG5cbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzIC0tIGZvciB0eXBlc2NyaXB0IG1vZHVsZSBhdWdtZW50YXRpb25zICovXG5pbXBvcnQgJy4vSW50ZXJhY3RhYmxlTWV0aG9kcydcbmltcG9ydCBJbnRlcmFjdGFibGVNZXRob2RzIGZyb20gJy4vSW50ZXJhY3RhYmxlTWV0aG9kcydcbi8qIGVzbGludC1lbmFibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgKi9cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RTdGF0aWMnIHtcbiAgZXhwb3J0IGludGVyZmFjZSBJbnRlcmFjdFN0YXRpYyB7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvciBzZXRzIHRoZSBtYXhpbXVtIG51bWJlciBvZiBjb25jdXJyZW50IGludGVyYWN0aW9ucyBhbGxvd2VkLiAgQnlcbiAgICAgKiBkZWZhdWx0IG9ubHkgMSBpbnRlcmFjdGlvbiBpcyBhbGxvd2VkIGF0IGEgdGltZSAoZm9yIGJhY2t3YXJkc1xuICAgICAqIGNvbXBhdGliaWxpdHkpLiBUbyBhbGxvdyBtdWx0aXBsZSBpbnRlcmFjdGlvbnMgb24gdGhlIHNhbWUgSW50ZXJhY3RhYmxlcyBhbmRcbiAgICAgKiBlbGVtZW50cywgeW91IG5lZWQgdG8gZW5hYmxlIGl0IGluIHRoZSBkcmFnZ2FibGUsIHJlc2l6YWJsZSBhbmQgZ2VzdHVyYWJsZVxuICAgICAqIGAnbWF4J2AgYW5kIGAnbWF4UGVyRWxlbWVudCdgIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW25ld1ZhbHVlXSBBbnkgbnVtYmVyLiBuZXdWYWx1ZSA8PSAwIG1lYW5zIG5vIGludGVyYWN0aW9ucy5cbiAgICAgKi9cbiAgICBtYXhJbnRlcmFjdGlvbnM6IChuZXdWYWx1ZTogYW55KSA9PiBhbnlcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9zY29wZScge1xuICBpbnRlcmZhY2UgU2NvcGUge1xuICAgIGF1dG9TdGFydDogQXV0b1N0YXJ0XG4gIH1cblxuICBpbnRlcmZhY2UgU2lnbmFsQXJncyB7XG4gICAgJ2F1dG9TdGFydDpiZWZvcmUtc3RhcnQnOiBPbWl0PFNpZ25hbEFyZ3NbJ2ludGVyYWN0aW9uczptb3ZlJ10sICdpbnRlcmFjdGlvbic+ICYge1xuICAgICAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPEFjdGlvbk5hbWU+XG4gICAgfVxuICAgICdhdXRvU3RhcnQ6cHJlcGFyZWQnOiB7IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiB9XG4gICAgJ2F1dG8tc3RhcnQ6Y2hlY2snOiBDaGVja1NpZ25hbEFyZ1xuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnIHtcbiAgaW50ZXJmYWNlIEJhc2VEZWZhdWx0cyB7XG4gICAgYWN0aW9uQ2hlY2tlcj86IGFueVxuICAgIGN1cnNvckNoZWNrZXI/OiBhbnlcbiAgICBzdHlsZUN1cnNvcj86IGFueVxuICB9XG5cbiAgaW50ZXJmYWNlIFBlckFjdGlvbkRlZmF1bHRzIHtcbiAgICBtYW51YWxTdGFydD86IGJvb2xlYW5cbiAgICBtYXg/OiBudW1iZXJcbiAgICBtYXhQZXJFbGVtZW50PzogbnVtYmVyXG4gICAgYWxsb3dGcm9tPzogc3RyaW5nIHwgRWxlbWVudFxuICAgIGlnbm9yZUZyb20/OiBzdHJpbmcgfCBFbGVtZW50XG4gICAgY3Vyc29yQ2hlY2tlcj86IEN1cnNvckNoZWNrZXJcblxuICAgIC8vIG9ubHkgYWxsb3cgbGVmdCBidXR0b24gYnkgZGVmYXVsdFxuICAgIC8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25zI1JldHVybl92YWx1ZVxuICAgIC8vIFRPRE86IGRvY3N0XG4gICAgbW91c2VCdXR0b25zPzogMCB8IDEgfCAyIHwgNCB8IDggfCAxNlxuICB9XG59XG5cbmludGVyZmFjZSBDaGVja1NpZ25hbEFyZyB7XG4gIGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlXG4gIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvblxuICBlbGVtZW50OiBFbGVtZW50XG4gIGFjdGlvbjogQWN0aW9uUHJvcHM8QWN0aW9uTmFtZT5cbiAgYnV0dG9uczogbnVtYmVyXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXV0b1N0YXJ0IHtcbiAgLy8gQWxsb3cgdGhpcyBtYW55IGludGVyYWN0aW9ucyB0byBoYXBwZW4gc2ltdWx0YW5lb3VzbHlcbiAgbWF4SW50ZXJhY3Rpb25zOiBudW1iZXJcbiAgd2l0aGluSW50ZXJhY3Rpb25MaW1pdDogdHlwZW9mIHdpdGhpbkludGVyYWN0aW9uTGltaXRcbiAgY3Vyc29yRWxlbWVudDogRWxlbWVudFxufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IGludGVyYWN0U3RhdGljOiBpbnRlcmFjdCwgZGVmYXVsdHMgfSA9IHNjb3BlXG5cbiAgc2NvcGUudXNlUGx1Z2luKEludGVyYWN0YWJsZU1ldGhvZHMpXG5cbiAgZGVmYXVsdHMuYmFzZS5hY3Rpb25DaGVja2VyID0gbnVsbFxuICBkZWZhdWx0cy5iYXNlLnN0eWxlQ3Vyc29yID0gdHJ1ZVxuXG4gIGV4dGVuZChkZWZhdWx0cy5wZXJBY3Rpb24sIHtcbiAgICBtYW51YWxTdGFydDogZmFsc2UsXG4gICAgbWF4OiBJbmZpbml0eSxcbiAgICBtYXhQZXJFbGVtZW50OiAxLFxuICAgIGFsbG93RnJvbTogbnVsbCxcbiAgICBpZ25vcmVGcm9tOiBudWxsLFxuXG4gICAgLy8gb25seSBhbGxvdyBsZWZ0IGJ1dHRvbiBieSBkZWZhdWx0XG4gICAgLy8gc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50L2J1dHRvbnMjUmV0dXJuX3ZhbHVlXG4gICAgbW91c2VCdXR0b25zOiAxLFxuICB9KVxuXG4gIGludGVyYWN0Lm1heEludGVyYWN0aW9ucyA9IChuZXdWYWx1ZTogbnVtYmVyKSA9PiBtYXhJbnRlcmFjdGlvbnMobmV3VmFsdWUsIHNjb3BlKVxuXG4gIHNjb3BlLmF1dG9TdGFydCA9IHtcbiAgICAvLyBBbGxvdyB0aGlzIG1hbnkgaW50ZXJhY3Rpb25zIHRvIGhhcHBlbiBzaW11bHRhbmVvdXNseVxuICAgIG1heEludGVyYWN0aW9uczogSW5maW5pdHksXG4gICAgd2l0aGluSW50ZXJhY3Rpb25MaW1pdCxcbiAgICBjdXJzb3JFbGVtZW50OiBudWxsLFxuICB9XG59XG5cbmZ1bmN0aW9uIHByZXBhcmVPbkRvd24oXG4gIHsgaW50ZXJhY3Rpb24sIHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCB9OiBTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6ZG93biddLFxuICBzY29wZTogU2NvcGUsXG4pIHtcbiAgaWYgKGludGVyYWN0aW9uLmludGVyYWN0aW5nKCkpIHJldHVyblxuXG4gIGNvbnN0IGFjdGlvbkluZm8gPSBnZXRBY3Rpb25JbmZvKGludGVyYWN0aW9uLCBwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQsIHNjb3BlKVxuICBwcmVwYXJlKGludGVyYWN0aW9uLCBhY3Rpb25JbmZvLCBzY29wZSlcbn1cblxuZnVuY3Rpb24gcHJlcGFyZU9uTW92ZShcbiAgeyBpbnRlcmFjdGlvbiwgcG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0IH06IFNpZ25hbEFyZ3NbJ2ludGVyYWN0aW9uczptb3ZlJ10sXG4gIHNjb3BlOiBTY29wZSxcbikge1xuICBpZiAoaW50ZXJhY3Rpb24ucG9pbnRlclR5cGUgIT09ICdtb3VzZScgfHwgaW50ZXJhY3Rpb24ucG9pbnRlcklzRG93biB8fCBpbnRlcmFjdGlvbi5pbnRlcmFjdGluZygpKSByZXR1cm5cblxuICBjb25zdCBhY3Rpb25JbmZvID0gZ2V0QWN0aW9uSW5mbyhpbnRlcmFjdGlvbiwgcG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0IGFzIEVsZW1lbnQsIHNjb3BlKVxuICBwcmVwYXJlKGludGVyYWN0aW9uLCBhY3Rpb25JbmZvLCBzY29wZSlcbn1cblxuZnVuY3Rpb24gc3RhcnRPbk1vdmUoYXJnOiBTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6bW92ZSddLCBzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gYXJnXG5cbiAgaWYgKFxuICAgICFpbnRlcmFjdGlvbi5wb2ludGVySXNEb3duIHx8XG4gICAgaW50ZXJhY3Rpb24uaW50ZXJhY3RpbmcoKSB8fFxuICAgICFpbnRlcmFjdGlvbi5wb2ludGVyV2FzTW92ZWQgfHxcbiAgICAhaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZVxuICApIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHNjb3BlLmZpcmUoJ2F1dG9TdGFydDpiZWZvcmUtc3RhcnQnLCBhcmcpXG5cbiAgY29uc3QgeyBpbnRlcmFjdGFibGUgfSA9IGludGVyYWN0aW9uXG4gIGNvbnN0IGFjdGlvbk5hbWUgPSAoaW50ZXJhY3Rpb24gYXMgSW50ZXJhY3Rpb248QWN0aW9uTmFtZT4pLnByZXBhcmVkLm5hbWVcblxuICBpZiAoYWN0aW9uTmFtZSAmJiBpbnRlcmFjdGFibGUpIHtcbiAgICAvLyBjaGVjayBtYW51YWxTdGFydCBhbmQgaW50ZXJhY3Rpb24gbGltaXRcbiAgICBpZiAoXG4gICAgICBpbnRlcmFjdGFibGUub3B0aW9uc1thY3Rpb25OYW1lXS5tYW51YWxTdGFydCB8fFxuICAgICAgIXdpdGhpbkludGVyYWN0aW9uTGltaXQoaW50ZXJhY3RhYmxlLCBpbnRlcmFjdGlvbi5lbGVtZW50LCBpbnRlcmFjdGlvbi5wcmVwYXJlZCwgc2NvcGUpXG4gICAgKSB7XG4gICAgICBpbnRlcmFjdGlvbi5zdG9wKClcbiAgICB9IGVsc2Uge1xuICAgICAgaW50ZXJhY3Rpb24uc3RhcnQoaW50ZXJhY3Rpb24ucHJlcGFyZWQsIGludGVyYWN0YWJsZSwgaW50ZXJhY3Rpb24uZWxlbWVudClcbiAgICAgIHNldEludGVyYWN0aW9uQ3Vyc29yKGludGVyYWN0aW9uLCBzY29wZSlcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xlYXJDdXJzb3JPblN0b3AoeyBpbnRlcmFjdGlvbiB9OiB7IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiB9LCBzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBpbnRlcmFjdGFibGUgfSA9IGludGVyYWN0aW9uXG5cbiAgaWYgKGludGVyYWN0YWJsZSAmJiBpbnRlcmFjdGFibGUub3B0aW9ucy5zdHlsZUN1cnNvcikge1xuICAgIHNldEN1cnNvcihpbnRlcmFjdGlvbi5lbGVtZW50LCAnJywgc2NvcGUpXG4gIH1cbn1cblxuLy8gQ2hlY2sgaWYgdGhlIGN1cnJlbnQgaW50ZXJhY3RhYmxlIHN1cHBvcnRzIHRoZSBhY3Rpb24uXG4vLyBJZiBzbywgcmV0dXJuIHRoZSB2YWxpZGF0ZWQgYWN0aW9uLiBPdGhlcndpc2UsIHJldHVybiBudWxsXG5mdW5jdGlvbiB2YWxpZGF0ZUFjdGlvbjxUIGV4dGVuZHMgQWN0aW9uTmFtZT4oXG4gIGFjdGlvbjogQWN0aW9uUHJvcHM8VD4sXG4gIGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlLFxuICBlbGVtZW50OiBFbGVtZW50LFxuICBldmVudFRhcmdldDogTm9kZSxcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGlmIChcbiAgICBpbnRlcmFjdGFibGUudGVzdElnbm9yZUFsbG93KGludGVyYWN0YWJsZS5vcHRpb25zW2FjdGlvbi5uYW1lXSwgZWxlbWVudCwgZXZlbnRUYXJnZXQpICYmXG4gICAgaW50ZXJhY3RhYmxlLm9wdGlvbnNbYWN0aW9uLm5hbWVdLmVuYWJsZWQgJiZcbiAgICB3aXRoaW5JbnRlcmFjdGlvbkxpbWl0KGludGVyYWN0YWJsZSwgZWxlbWVudCwgYWN0aW9uLCBzY29wZSlcbiAgKSB7XG4gICAgcmV0dXJuIGFjdGlvblxuICB9XG5cbiAgcmV0dXJuIG51bGxcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVNYXRjaGVzKFxuICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24sXG4gIHBvaW50ZXI6IFBvaW50ZXJUeXBlLFxuICBldmVudDogUG9pbnRlckV2ZW50VHlwZSxcbiAgbWF0Y2hlczogSW50ZXJhY3RhYmxlW10sXG4gIG1hdGNoRWxlbWVudHM6IEVsZW1lbnRbXSxcbiAgZXZlbnRUYXJnZXQ6IE5vZGUsXG4gIHNjb3BlOiBTY29wZSxcbikge1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gbWF0Y2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IG1hdGNoID0gbWF0Y2hlc1tpXVxuICAgIGNvbnN0IG1hdGNoRWxlbWVudCA9IG1hdGNoRWxlbWVudHNbaV1cbiAgICBjb25zdCBtYXRjaEFjdGlvbiA9IG1hdGNoLmdldEFjdGlvbihwb2ludGVyLCBldmVudCwgaW50ZXJhY3Rpb24sIG1hdGNoRWxlbWVudClcblxuICAgIGlmICghbWF0Y2hBY3Rpb24pIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgY29uc3QgYWN0aW9uID0gdmFsaWRhdGVBY3Rpb248QWN0aW9uTmFtZT4obWF0Y2hBY3Rpb24sIG1hdGNoLCBtYXRjaEVsZW1lbnQsIGV2ZW50VGFyZ2V0LCBzY29wZSlcblxuICAgIGlmIChhY3Rpb24pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFjdGlvbixcbiAgICAgICAgaW50ZXJhY3RhYmxlOiBtYXRjaCxcbiAgICAgICAgZWxlbWVudDogbWF0Y2hFbGVtZW50LFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7IGFjdGlvbjogbnVsbCwgaW50ZXJhY3RhYmxlOiBudWxsLCBlbGVtZW50OiBudWxsIH1cbn1cblxuZnVuY3Rpb24gZ2V0QWN0aW9uSW5mbyhcbiAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uLFxuICBwb2ludGVyOiBQb2ludGVyVHlwZSxcbiAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsXG4gIGV2ZW50VGFyZ2V0OiBOb2RlLFxuICBzY29wZTogU2NvcGUsXG4pIHtcbiAgbGV0IG1hdGNoZXM6IEludGVyYWN0YWJsZVtdID0gW11cbiAgbGV0IG1hdGNoRWxlbWVudHM6IEVsZW1lbnRbXSA9IFtdXG5cbiAgbGV0IGVsZW1lbnQgPSBldmVudFRhcmdldCBhcyBFbGVtZW50XG5cbiAgZnVuY3Rpb24gcHVzaE1hdGNoZXMoaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUpIHtcbiAgICBtYXRjaGVzLnB1c2goaW50ZXJhY3RhYmxlKVxuICAgIG1hdGNoRWxlbWVudHMucHVzaChlbGVtZW50KVxuICB9XG5cbiAgd2hpbGUgKGlzLmVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICBtYXRjaGVzID0gW11cbiAgICBtYXRjaEVsZW1lbnRzID0gW11cblxuICAgIHNjb3BlLmludGVyYWN0YWJsZXMuZm9yRWFjaE1hdGNoKGVsZW1lbnQsIHB1c2hNYXRjaGVzKVxuXG4gICAgY29uc3QgYWN0aW9uSW5mbyA9IHZhbGlkYXRlTWF0Y2hlcyhcbiAgICAgIGludGVyYWN0aW9uLFxuICAgICAgcG9pbnRlcixcbiAgICAgIGV2ZW50LFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIG1hdGNoRWxlbWVudHMsXG4gICAgICBldmVudFRhcmdldCxcbiAgICAgIHNjb3BlLFxuICAgIClcblxuICAgIGlmIChhY3Rpb25JbmZvLmFjdGlvbiAmJiAhYWN0aW9uSW5mby5pbnRlcmFjdGFibGUub3B0aW9uc1thY3Rpb25JbmZvLmFjdGlvbi5uYW1lXS5tYW51YWxTdGFydCkge1xuICAgICAgcmV0dXJuIGFjdGlvbkluZm9cbiAgICB9XG5cbiAgICBlbGVtZW50ID0gZG9tVXRpbHMucGFyZW50Tm9kZShlbGVtZW50KSBhcyBFbGVtZW50XG4gIH1cblxuICByZXR1cm4geyBhY3Rpb246IG51bGwsIGludGVyYWN0YWJsZTogbnVsbCwgZWxlbWVudDogbnVsbCB9XG59XG5cbmZ1bmN0aW9uIHByZXBhcmUoXG4gIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbixcbiAge1xuICAgIGFjdGlvbixcbiAgICBpbnRlcmFjdGFibGUsXG4gICAgZWxlbWVudCxcbiAgfToge1xuICAgIGFjdGlvbjogQWN0aW9uUHJvcHM8YW55PlxuICAgIGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlXG4gICAgZWxlbWVudDogRWxlbWVudFxuICB9LFxuICBzY29wZTogU2NvcGUsXG4pIHtcbiAgYWN0aW9uID0gYWN0aW9uIHx8IHsgbmFtZTogbnVsbCB9XG5cbiAgaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlID0gaW50ZXJhY3RhYmxlXG4gIGludGVyYWN0aW9uLmVsZW1lbnQgPSBlbGVtZW50XG4gIGNvcHlBY3Rpb24oaW50ZXJhY3Rpb24ucHJlcGFyZWQsIGFjdGlvbilcblxuICBpbnRlcmFjdGlvbi5yZWN0ID0gaW50ZXJhY3RhYmxlICYmIGFjdGlvbi5uYW1lID8gaW50ZXJhY3RhYmxlLmdldFJlY3QoZWxlbWVudCkgOiBudWxsXG5cbiAgc2V0SW50ZXJhY3Rpb25DdXJzb3IoaW50ZXJhY3Rpb24sIHNjb3BlKVxuXG4gIHNjb3BlLmZpcmUoJ2F1dG9TdGFydDpwcmVwYXJlZCcsIHsgaW50ZXJhY3Rpb24gfSlcbn1cblxuZnVuY3Rpb24gd2l0aGluSW50ZXJhY3Rpb25MaW1pdDxUIGV4dGVuZHMgQWN0aW9uTmFtZT4oXG4gIGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlLFxuICBlbGVtZW50OiBFbGVtZW50LFxuICBhY3Rpb246IEFjdGlvblByb3BzPFQ+LFxuICBzY29wZTogU2NvcGUsXG4pIHtcbiAgY29uc3Qgb3B0aW9ucyA9IGludGVyYWN0YWJsZS5vcHRpb25zXG4gIGNvbnN0IG1heEFjdGlvbnMgPSBvcHRpb25zW2FjdGlvbi5uYW1lXS5tYXhcbiAgY29uc3QgbWF4UGVyRWxlbWVudCA9IG9wdGlvbnNbYWN0aW9uLm5hbWVdLm1heFBlckVsZW1lbnRcbiAgY29uc3QgYXV0b1N0YXJ0TWF4ID0gc2NvcGUuYXV0b1N0YXJ0Lm1heEludGVyYWN0aW9uc1xuICBsZXQgYWN0aXZlSW50ZXJhY3Rpb25zID0gMFxuICBsZXQgaW50ZXJhY3RhYmxlQ291bnQgPSAwXG4gIGxldCBlbGVtZW50Q291bnQgPSAwXG5cbiAgLy8gbm8gYWN0aW9ucyBpZiBhbnkgb2YgdGhlc2UgdmFsdWVzID09IDBcbiAgaWYgKCEobWF4QWN0aW9ucyAmJiBtYXhQZXJFbGVtZW50ICYmIGF1dG9TdGFydE1heCkpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGZvciAoY29uc3QgaW50ZXJhY3Rpb24gb2Ygc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QpIHtcbiAgICBjb25zdCBvdGhlckFjdGlvbiA9IGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWVcblxuICAgIGlmICghaW50ZXJhY3Rpb24uaW50ZXJhY3RpbmcoKSkge1xuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBhY3RpdmVJbnRlcmFjdGlvbnMrK1xuXG4gICAgaWYgKGFjdGl2ZUludGVyYWN0aW9ucyA+PSBhdXRvU3RhcnRNYXgpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmIChpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUgIT09IGludGVyYWN0YWJsZSkge1xuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBpbnRlcmFjdGFibGVDb3VudCArPSBvdGhlckFjdGlvbiA9PT0gYWN0aW9uLm5hbWUgPyAxIDogMFxuXG4gICAgaWYgKGludGVyYWN0YWJsZUNvdW50ID49IG1heEFjdGlvbnMpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmIChpbnRlcmFjdGlvbi5lbGVtZW50ID09PSBlbGVtZW50KSB7XG4gICAgICBlbGVtZW50Q291bnQrK1xuXG4gICAgICBpZiAob3RoZXJBY3Rpb24gPT09IGFjdGlvbi5uYW1lICYmIGVsZW1lbnRDb3VudCA+PSBtYXhQZXJFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhdXRvU3RhcnRNYXggPiAwXG59XG5cbmZ1bmN0aW9uIG1heEludGVyYWN0aW9ucyhuZXdWYWx1ZTogYW55LCBzY29wZTogU2NvcGUpIHtcbiAgaWYgKGlzLm51bWJlcihuZXdWYWx1ZSkpIHtcbiAgICBzY29wZS5hdXRvU3RhcnQubWF4SW50ZXJhY3Rpb25zID0gbmV3VmFsdWVcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICByZXR1cm4gc2NvcGUuYXV0b1N0YXJ0Lm1heEludGVyYWN0aW9uc1xufVxuXG5mdW5jdGlvbiBzZXRDdXJzb3IoZWxlbWVudDogRWxlbWVudCwgY3Vyc29yOiBzdHJpbmcsIHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IGN1cnNvckVsZW1lbnQ6IHByZXZDdXJzb3JFbGVtZW50IH0gPSBzY29wZS5hdXRvU3RhcnRcblxuICBpZiAocHJldkN1cnNvckVsZW1lbnQgJiYgcHJldkN1cnNvckVsZW1lbnQgIT09IGVsZW1lbnQpIHtcbiAgICBwcmV2Q3Vyc29yRWxlbWVudC5zdHlsZS5jdXJzb3IgPSAnJ1xuICB9XG5cbiAgZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5jdXJzb3IgPSBjdXJzb3JcbiAgZWxlbWVudC5zdHlsZS5jdXJzb3IgPSBjdXJzb3JcbiAgc2NvcGUuYXV0b1N0YXJ0LmN1cnNvckVsZW1lbnQgPSBjdXJzb3IgPyBlbGVtZW50IDogbnVsbFxufVxuXG5mdW5jdGlvbiBzZXRJbnRlcmFjdGlvbkN1cnNvcjxUIGV4dGVuZHMgQWN0aW9uTmFtZT4oaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPFQ+LCBzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBpbnRlcmFjdGFibGUsIGVsZW1lbnQsIHByZXBhcmVkIH0gPSBpbnRlcmFjdGlvblxuXG4gIGlmICghKGludGVyYWN0aW9uLnBvaW50ZXJUeXBlID09PSAnbW91c2UnICYmIGludGVyYWN0YWJsZSAmJiBpbnRlcmFjdGFibGUub3B0aW9ucy5zdHlsZUN1cnNvcikpIHtcbiAgICAvLyBjbGVhciBwcmV2aW91cyB0YXJnZXQgZWxlbWVudCBjdXJzb3JcbiAgICBpZiAoc2NvcGUuYXV0b1N0YXJ0LmN1cnNvckVsZW1lbnQpIHtcbiAgICAgIHNldEN1cnNvcihzY29wZS5hdXRvU3RhcnQuY3Vyc29yRWxlbWVudCwgJycsIHNjb3BlKVxuICAgIH1cblxuICAgIHJldHVyblxuICB9XG5cbiAgbGV0IGN1cnNvciA9ICcnXG5cbiAgaWYgKHByZXBhcmVkLm5hbWUpIHtcbiAgICBjb25zdCBjdXJzb3JDaGVja2VyID0gaW50ZXJhY3RhYmxlLm9wdGlvbnNbcHJlcGFyZWQubmFtZV0uY3Vyc29yQ2hlY2tlclxuXG4gICAgaWYgKGlzLmZ1bmMoY3Vyc29yQ2hlY2tlcikpIHtcbiAgICAgIGN1cnNvciA9IGN1cnNvckNoZWNrZXIocHJlcGFyZWQsIGludGVyYWN0YWJsZSwgZWxlbWVudCwgaW50ZXJhY3Rpb24uX2ludGVyYWN0aW5nKVxuICAgIH0gZWxzZSB7XG4gICAgICBjdXJzb3IgPSBzY29wZS5hY3Rpb25zLm1hcFtwcmVwYXJlZC5uYW1lXS5nZXRDdXJzb3IocHJlcGFyZWQpXG4gICAgfVxuICB9XG5cbiAgc2V0Q3Vyc29yKGludGVyYWN0aW9uLmVsZW1lbnQsIGN1cnNvciB8fCAnJywgc2NvcGUpXG59XG5cbmNvbnN0IGF1dG9TdGFydDogUGx1Z2luID0ge1xuICBpZDogJ2F1dG8tc3RhcnQvYmFzZScsXG4gIGJlZm9yZTogWydhY3Rpb25zJ10sXG4gIGluc3RhbGwsXG4gIGxpc3RlbmVyczoge1xuICAgICdpbnRlcmFjdGlvbnM6ZG93bic6IHByZXBhcmVPbkRvd24sXG4gICAgJ2ludGVyYWN0aW9uczptb3ZlJzogKGFyZywgc2NvcGUpID0+IHtcbiAgICAgIHByZXBhcmVPbk1vdmUoYXJnLCBzY29wZSlcbiAgICAgIHN0YXJ0T25Nb3ZlKGFyZywgc2NvcGUpXG4gICAgfSxcbiAgICAnaW50ZXJhY3Rpb25zOnN0b3AnOiBjbGVhckN1cnNvck9uU3RvcCxcbiAgfSxcbiAgbWF4SW50ZXJhY3Rpb25zLFxuICB3aXRoaW5JbnRlcmFjdGlvbkxpbWl0LFxuICB2YWxpZGF0ZUFjdGlvbixcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXV0b1N0YXJ0XG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIEludGVyYWN0aW9uIGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFNpZ25hbEFyZ3MsIFNjb3BlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgQWN0aW9uTmFtZSwgRWxlbWVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgeyBwYXJlbnROb2RlIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5cbmltcG9ydCBhdXRvU3RhcnQgZnJvbSAnLi9iYXNlJ1xuXG5mdW5jdGlvbiBiZWZvcmVTdGFydCh7IGludGVyYWN0aW9uLCBldmVudFRhcmdldCwgZHgsIGR5IH06IFNpZ25hbEFyZ3NbJ2ludGVyYWN0aW9uczptb3ZlJ10sIHNjb3BlOiBTY29wZSkge1xuICBpZiAoaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSAhPT0gJ2RyYWcnKSByZXR1cm5cblxuICAvLyBjaGVjayBpZiBhIGRyYWcgaXMgaW4gdGhlIGNvcnJlY3QgYXhpc1xuICBjb25zdCBhYnNYID0gTWF0aC5hYnMoZHgpXG4gIGNvbnN0IGFic1kgPSBNYXRoLmFicyhkeSlcbiAgY29uc3QgdGFyZ2V0T3B0aW9ucyA9IGludGVyYWN0aW9uLmludGVyYWN0YWJsZS5vcHRpb25zLmRyYWdcbiAgY29uc3Qgc3RhcnRBeGlzID0gdGFyZ2V0T3B0aW9ucy5zdGFydEF4aXNcbiAgY29uc3QgY3VycmVudEF4aXMgPSBhYnNYID4gYWJzWSA/ICd4JyA6IGFic1ggPCBhYnNZID8gJ3knIDogJ3h5J1xuXG4gIGludGVyYWN0aW9uLnByZXBhcmVkLmF4aXMgPVxuICAgIHRhcmdldE9wdGlvbnMubG9ja0F4aXMgPT09ICdzdGFydCdcbiAgICAgID8gKGN1cnJlbnRBeGlzWzBdIGFzICd4JyB8ICd5JykgLy8gYWx3YXlzIGxvY2sgdG8gb25lIGF4aXMgZXZlbiBpZiBjdXJyZW50QXhpcyA9PT0gJ3h5J1xuICAgICAgOiB0YXJnZXRPcHRpb25zLmxvY2tBeGlzXG5cbiAgLy8gaWYgdGhlIG1vdmVtZW50IGlzbid0IGluIHRoZSBzdGFydEF4aXMgb2YgdGhlIGludGVyYWN0YWJsZVxuICBpZiAoY3VycmVudEF4aXMgIT09ICd4eScgJiYgc3RhcnRBeGlzICE9PSAneHknICYmIHN0YXJ0QXhpcyAhPT0gY3VycmVudEF4aXMpIHtcbiAgICAvLyBjYW5jZWwgdGhlIHByZXBhcmVkIGFjdGlvblxuICAgIDsoaW50ZXJhY3Rpb24gYXMgSW50ZXJhY3Rpb248QWN0aW9uTmFtZT4pLnByZXBhcmVkLm5hbWUgPSBudWxsXG5cbiAgICAvLyB0aGVuIHRyeSB0byBnZXQgYSBkcmFnIGZyb20gYW5vdGhlciBpbmVyYWN0YWJsZVxuICAgIGxldCBlbGVtZW50ID0gZXZlbnRUYXJnZXQgYXMgRWxlbWVudFxuXG4gICAgY29uc3QgZ2V0RHJhZ2dhYmxlID0gZnVuY3Rpb24gKGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlKTogSW50ZXJhY3RhYmxlIHwgdm9pZCB7XG4gICAgICBpZiAoaW50ZXJhY3RhYmxlID09PSBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUpIHJldHVyblxuXG4gICAgICBjb25zdCBvcHRpb25zID0gaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLm9wdGlvbnMuZHJhZ1xuXG4gICAgICBpZiAoIW9wdGlvbnMubWFudWFsU3RhcnQgJiYgaW50ZXJhY3RhYmxlLnRlc3RJZ25vcmVBbGxvdyhvcHRpb25zLCBlbGVtZW50LCBldmVudFRhcmdldCkpIHtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gaW50ZXJhY3RhYmxlLmdldEFjdGlvbihcbiAgICAgICAgICBpbnRlcmFjdGlvbi5kb3duUG9pbnRlcixcbiAgICAgICAgICBpbnRlcmFjdGlvbi5kb3duRXZlbnQsXG4gICAgICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgKVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBhY3Rpb24gJiZcbiAgICAgICAgICBhY3Rpb24ubmFtZSA9PT0gJ2RyYWcnICYmXG4gICAgICAgICAgY2hlY2tTdGFydEF4aXMoY3VycmVudEF4aXMsIGludGVyYWN0YWJsZSkgJiZcbiAgICAgICAgICBhdXRvU3RhcnQudmFsaWRhdGVBY3Rpb24oYWN0aW9uLCBpbnRlcmFjdGFibGUsIGVsZW1lbnQsIGV2ZW50VGFyZ2V0LCBzY29wZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGludGVyYWN0YWJsZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgYWxsIGludGVyYWN0YWJsZXNcbiAgICB3aGlsZSAoaXMuZWxlbWVudChlbGVtZW50KSkge1xuICAgICAgY29uc3QgaW50ZXJhY3RhYmxlID0gc2NvcGUuaW50ZXJhY3RhYmxlcy5mb3JFYWNoTWF0Y2goZWxlbWVudCwgZ2V0RHJhZ2dhYmxlKVxuXG4gICAgICBpZiAoaW50ZXJhY3RhYmxlKSB7XG4gICAgICAgIDsoaW50ZXJhY3Rpb24gYXMgSW50ZXJhY3Rpb248QWN0aW9uTmFtZT4pLnByZXBhcmVkLm5hbWUgPSAnZHJhZydcbiAgICAgICAgaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlID0gaW50ZXJhY3RhYmxlXG4gICAgICAgIGludGVyYWN0aW9uLmVsZW1lbnQgPSBlbGVtZW50XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQgPSBwYXJlbnROb2RlKGVsZW1lbnQpIGFzIEVsZW1lbnRcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tTdGFydEF4aXMoc3RhcnRBeGlzOiBzdHJpbmcsIGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlKSB7XG4gIGlmICghaW50ZXJhY3RhYmxlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBjb25zdCB0aGlzQXhpcyA9IGludGVyYWN0YWJsZS5vcHRpb25zLmRyYWcuc3RhcnRBeGlzXG5cbiAgcmV0dXJuIHN0YXJ0QXhpcyA9PT0gJ3h5JyB8fCB0aGlzQXhpcyA9PT0gJ3h5JyB8fCB0aGlzQXhpcyA9PT0gc3RhcnRBeGlzXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaWQ6ICdhdXRvLXN0YXJ0L2RyYWdBeGlzJyxcbiAgbGlzdGVuZXJzOiB7ICdhdXRvU3RhcnQ6YmVmb3JlLXN0YXJ0JzogYmVmb3JlU3RhcnQgfSxcbn1cbiIsICJpbXBvcnQgdHlwZSBJbnRlcmFjdGlvbiBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSwgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcblxuLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgLS0gZm9yIHR5cGVzY3JpcHQgbW9kdWxlIGF1Z21lbnRhdGlvbnMgKi9cbmltcG9ydCAnLi9iYXNlJ1xuaW1wb3J0IGJhc2VQbHVnaW4gZnJvbSAnLi9iYXNlJ1xuLyogZXNsaW50LWVuYWJsZSAqL1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJyB7XG4gIGludGVyZmFjZSBQZXJBY3Rpb25EZWZhdWx0cyB7XG4gICAgaG9sZD86IG51bWJlclxuICAgIGRlbGF5PzogbnVtYmVyXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0aW9uIHtcbiAgICBhdXRvU3RhcnRIb2xkVGltZXI/OiBhbnlcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IGRlZmF1bHRzIH0gPSBzY29wZVxuXG4gIHNjb3BlLnVzZVBsdWdpbihiYXNlUGx1Z2luKVxuXG4gIGRlZmF1bHRzLnBlckFjdGlvbi5ob2xkID0gMFxuICBkZWZhdWx0cy5wZXJBY3Rpb24uZGVsYXkgPSAwXG59XG5cbmZ1bmN0aW9uIGdldEhvbGREdXJhdGlvbihpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24pIHtcbiAgY29uc3QgYWN0aW9uTmFtZSA9IGludGVyYWN0aW9uLnByZXBhcmVkICYmIGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWVcblxuICBpZiAoIWFjdGlvbk5hbWUpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgY29uc3Qgb3B0aW9ucyA9IGludGVyYWN0aW9uLmludGVyYWN0YWJsZS5vcHRpb25zXG5cbiAgcmV0dXJuIG9wdGlvbnNbYWN0aW9uTmFtZV0uaG9sZCB8fCBvcHRpb25zW2FjdGlvbk5hbWVdLmRlbGF5XG59XG5cbmNvbnN0IGhvbGQ6IFBsdWdpbiA9IHtcbiAgaWQ6ICdhdXRvLXN0YXJ0L2hvbGQnLFxuICBpbnN0YWxsLFxuICBsaXN0ZW5lcnM6IHtcbiAgICAnaW50ZXJhY3Rpb25zOm5ldyc6ICh7IGludGVyYWN0aW9uIH0pID0+IHtcbiAgICAgIGludGVyYWN0aW9uLmF1dG9TdGFydEhvbGRUaW1lciA9IG51bGxcbiAgICB9LFxuXG4gICAgJ2F1dG9TdGFydDpwcmVwYXJlZCc6ICh7IGludGVyYWN0aW9uIH0pID0+IHtcbiAgICAgIGNvbnN0IGhvbGQgPSBnZXRIb2xkRHVyYXRpb24oaW50ZXJhY3Rpb24pXG5cbiAgICAgIGlmIChob2xkID4gMCkge1xuICAgICAgICBpbnRlcmFjdGlvbi5hdXRvU3RhcnRIb2xkVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpbnRlcmFjdGlvbi5zdGFydChpbnRlcmFjdGlvbi5wcmVwYXJlZCwgaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlLCBpbnRlcmFjdGlvbi5lbGVtZW50KVxuICAgICAgICB9LCBob2xkKVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOm1vdmUnOiAoeyBpbnRlcmFjdGlvbiwgZHVwbGljYXRlIH0pID0+IHtcbiAgICAgIGlmIChpbnRlcmFjdGlvbi5hdXRvU3RhcnRIb2xkVGltZXIgJiYgaW50ZXJhY3Rpb24ucG9pbnRlcldhc01vdmVkICYmICFkdXBsaWNhdGUpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGludGVyYWN0aW9uLmF1dG9TdGFydEhvbGRUaW1lcilcbiAgICAgICAgaW50ZXJhY3Rpb24uYXV0b1N0YXJ0SG9sZFRpbWVyID0gbnVsbFxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBwcmV2ZW50IHJlZ3VsYXIgZG93bi0+bW92ZSBhdXRvU3RhcnRcbiAgICAnYXV0b1N0YXJ0OmJlZm9yZS1zdGFydCc6ICh7IGludGVyYWN0aW9uIH0pID0+IHtcbiAgICAgIGNvbnN0IGhvbGREdXJhdGlvbiA9IGdldEhvbGREdXJhdGlvbihpbnRlcmFjdGlvbilcblxuICAgICAgaWYgKGhvbGREdXJhdGlvbiA+IDApIHtcbiAgICAgICAgaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSA9IG51bGxcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuICBnZXRIb2xkRHVyYXRpb24sXG59XG5leHBvcnQgZGVmYXVsdCBob2xkXG4iLCAiaW1wb3J0IHR5cGUgeyBTY29wZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5cbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzIC0tIGZvciB0eXBlc2NyaXB0IG1vZHVsZSBhdWdtZW50YXRpb25zICovXG5pbXBvcnQgJy4vYmFzZSdcbmltcG9ydCAnLi9kcmFnQXhpcydcbmltcG9ydCAnLi9ob2xkJ1xuXG5pbXBvcnQgYXV0b1N0YXJ0IGZyb20gJy4vYmFzZSdcbmltcG9ydCBkcmFnQXhpcyBmcm9tICcuL2RyYWdBeGlzJ1xuaW1wb3J0IGhvbGQgZnJvbSAnLi9ob2xkJ1xuLyogZXNsaW50LWVuYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAqL1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlkOiAnYXV0by1zdGFydCcsXG4gIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gICAgc2NvcGUudXNlUGx1Z2luKGF1dG9TdGFydClcbiAgICBzY29wZS51c2VQbHVnaW4oaG9sZClcbiAgICBzY29wZS51c2VQbHVnaW4oZHJhZ0F4aXMpXG4gIH0sXG59XG4iLCAiaW1wb3J0IHsgbWF0Y2hlc1NlbGVjdG9yLCBub2RlQ29udGFpbnMgfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscydcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcbmltcG9ydCB7IGdldFdpbmRvdyB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3dpbmRvdydcblxuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIEludGVyYWN0aW9uIGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IFNjb3BlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgUG9pbnRlckV2ZW50VHlwZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbnR5cGUgUHJldmVudERlZmF1bHRWYWx1ZSA9ICdhbHdheXMnIHwgJ25ldmVyJyB8ICdhdXRvJ1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0YWJsZSB7XG4gICAgcHJldmVudERlZmF1bHQobmV3VmFsdWU6IFByZXZlbnREZWZhdWx0VmFsdWUpOiB0aGlzXG4gICAgcHJldmVudERlZmF1bHQoKTogUHJldmVudERlZmF1bHRWYWx1ZVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb3Igc2V0cyB3aGV0aGVyIHRvIHByZXZlbnQgdGhlIGJyb3dzZXIncyBkZWZhdWx0IGJlaGF2aW91ciBpblxuICAgICAqIHJlc3BvbnNlIHRvIHBvaW50ZXIgZXZlbnRzLiBDYW4gYmUgc2V0IHRvOlxuICAgICAqICAtIGAnYWx3YXlzJ2AgdG8gYWx3YXlzIHByZXZlbnRcbiAgICAgKiAgLSBgJ25ldmVyJ2AgdG8gbmV2ZXIgcHJldmVudFxuICAgICAqICAtIGAnYXV0bydgIHRvIGxldCBpbnRlcmFjdC5qcyB0cnkgdG8gZGV0ZXJtaW5lIHdoYXQgd291bGQgYmUgYmVzdFxuICAgICAqXG4gICAgICogQHBhcmFtIG5ld1ZhbHVlIC0gYCdhbHdheXMnYCwgYCduZXZlcidgIG9yIGAnYXV0bydgXG4gICAgICogQHJldHVybnMgVGhlIGN1cnJlbnQgc2V0dGluZyBvciB0aGlzIEludGVyYWN0YWJsZVxuICAgICAqL1xuICAgIHByZXZlbnREZWZhdWx0KG5ld1ZhbHVlPzogUHJldmVudERlZmF1bHRWYWx1ZSk6IFByZXZlbnREZWZhdWx0VmFsdWUgfCB0aGlzXG4gICAgY2hlY2tBbmRQcmV2ZW50RGVmYXVsdChldmVudDogRXZlbnQpOiB2b2lkXG4gIH1cbn1cblxuY29uc3QgcHJldmVudERlZmF1bHQgPSBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCh0aGlzOiBJbnRlcmFjdGFibGUsIG5ld1ZhbHVlPzogUHJldmVudERlZmF1bHRWYWx1ZSkge1xuICBpZiAoL14oYWx3YXlzfG5ldmVyfGF1dG8pJC8udGVzdChuZXdWYWx1ZSkpIHtcbiAgICB0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHQgPSBuZXdWYWx1ZVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBpZiAoaXMuYm9vbChuZXdWYWx1ZSkpIHtcbiAgICB0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHQgPSBuZXdWYWx1ZSA/ICdhbHdheXMnIDogJ25ldmVyJ1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICByZXR1cm4gdGhpcy5vcHRpb25zLnByZXZlbnREZWZhdWx0XG59IGFzIEludGVyYWN0YWJsZVsncHJldmVudERlZmF1bHQnXVxuXG5mdW5jdGlvbiBjaGVja0FuZFByZXZlbnREZWZhdWx0KGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlLCBzY29wZTogU2NvcGUsIGV2ZW50OiBFdmVudCkge1xuICBjb25zdCBzZXR0aW5nID0gaW50ZXJhY3RhYmxlLm9wdGlvbnMucHJldmVudERlZmF1bHRcblxuICBpZiAoc2V0dGluZyA9PT0gJ25ldmVyJykgcmV0dXJuXG5cbiAgaWYgKHNldHRpbmcgPT09ICdhbHdheXMnKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIHJldHVyblxuICB9XG5cbiAgLy8gc2V0dGluZyA9PT0gJ2F1dG8nXG5cbiAgLy8gaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgcGFzc2l2ZSBldmVudCBsaXN0ZW5lcnMgYW5kIGlzbid0IHJ1bm5pbmcgb24gaU9TLFxuICAvLyBkb24ndCBwcmV2ZW50RGVmYXVsdCBvZiB0b3VjaHtzdGFydCxtb3ZlfSBldmVudHMuIENTUyB0b3VjaC1hY3Rpb24gYW5kXG4gIC8vIHVzZXItc2VsZWN0IHNob3VsZCBiZSB1c2VkIGluc3RlYWQgb2YgY2FsbGluZyBldmVudC5wcmV2ZW50RGVmYXVsdCgpLlxuICBpZiAoc2NvcGUuZXZlbnRzLnN1cHBvcnRzUGFzc2l2ZSAmJiAvXnRvdWNoKHN0YXJ0fG1vdmUpJC8udGVzdChldmVudC50eXBlKSkge1xuICAgIGNvbnN0IGRvYyA9IGdldFdpbmRvdyhldmVudC50YXJnZXQpLmRvY3VtZW50XG4gICAgY29uc3QgZG9jT3B0aW9ucyA9IHNjb3BlLmdldERvY09wdGlvbnMoZG9jKVxuXG4gICAgaWYgKCEoZG9jT3B0aW9ucyAmJiBkb2NPcHRpb25zLmV2ZW50cykgfHwgZG9jT3B0aW9ucy5ldmVudHMucGFzc2l2ZSAhPT0gZmFsc2UpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgfVxuXG4gIC8vIGRvbid0IHByZXZlbnREZWZhdWx0IG9mIHBvaW50ZXJkb3duIGV2ZW50c1xuICBpZiAoL14obW91c2V8cG9pbnRlcnx0b3VjaCkqKGRvd258c3RhcnQpL2kudGVzdChldmVudC50eXBlKSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgLy8gZG9uJ3QgcHJldmVudERlZmF1bHQgb24gZWRpdGFibGUgZWxlbWVudHNcbiAgaWYgKFxuICAgIGlzLmVsZW1lbnQoZXZlbnQudGFyZ2V0KSAmJlxuICAgIG1hdGNoZXNTZWxlY3RvcihldmVudC50YXJnZXQsICdpbnB1dCxzZWxlY3QsdGV4dGFyZWEsW2NvbnRlbnRlZGl0YWJsZT10cnVlXSxbY29udGVudGVkaXRhYmxlPXRydWVdIConKVxuICApIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbn1cblxuZnVuY3Rpb24gb25JbnRlcmFjdGlvbkV2ZW50KHsgaW50ZXJhY3Rpb24sIGV2ZW50IH06IHsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uOyBldmVudDogUG9pbnRlckV2ZW50VHlwZSB9KSB7XG4gIGlmIChpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUpIHtcbiAgICBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUuY2hlY2tBbmRQcmV2ZW50RGVmYXVsdChldmVudCBhcyBFdmVudClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBJbnRlcmFjdGFibGUgfSA9IHNjb3BlXG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdCA9IHByZXZlbnREZWZhdWx0XG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5jaGVja0FuZFByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuIGNoZWNrQW5kUHJldmVudERlZmF1bHQodGhpcywgc2NvcGUsIGV2ZW50KVxuICB9XG5cbiAgLy8gcHJldmVudCBuYXRpdmUgSFRNTDUgZHJhZyBvbiBpbnRlcmFjdC5qcyB0YXJnZXQgZWxlbWVudHNcbiAgc2NvcGUuaW50ZXJhY3Rpb25zLmRvY0V2ZW50cy5wdXNoKHtcbiAgICB0eXBlOiAnZHJhZ3N0YXJ0JyxcbiAgICBsaXN0ZW5lcihldmVudCkge1xuICAgICAgZm9yIChjb25zdCBpbnRlcmFjdGlvbiBvZiBzY29wZS5pbnRlcmFjdGlvbnMubGlzdCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaW50ZXJhY3Rpb24uZWxlbWVudCAmJlxuICAgICAgICAgIChpbnRlcmFjdGlvbi5lbGVtZW50ID09PSBldmVudC50YXJnZXQgfHwgbm9kZUNvbnRhaW5zKGludGVyYWN0aW9uLmVsZW1lbnQsIGV2ZW50LnRhcmdldCkpXG4gICAgICAgICkge1xuICAgICAgICAgIGludGVyYWN0aW9uLmludGVyYWN0YWJsZS5jaGVja0FuZFByZXZlbnREZWZhdWx0KGV2ZW50KVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpZDogJ2NvcmUvaW50ZXJhY3RhYmxlUHJldmVudERlZmF1bHQnLFxuICBpbnN0YWxsLFxuICBsaXN0ZW5lcnM6IFsnZG93bicsICdtb3ZlJywgJ3VwJywgJ2NhbmNlbCddLnJlZHVjZSgoYWNjLCBldmVudFR5cGUpID0+IHtcbiAgICBhY2NbYGludGVyYWN0aW9uczoke2V2ZW50VHlwZX1gXSA9IG9uSW50ZXJhY3Rpb25FdmVudFxuICAgIHJldHVybiBhY2NcbiAgfSwge30gYXMgYW55KSxcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEFjdGlvbnMgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc05vbk5hdGl2ZUV2ZW50KHR5cGU6IHN0cmluZywgYWN0aW9uczogQWN0aW9ucykge1xuICBpZiAoYWN0aW9ucy5waGFzZWxlc3NUeXBlc1t0eXBlXSkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBmb3IgKGNvbnN0IG5hbWUgaW4gYWN0aW9ucy5tYXApIHtcbiAgICBpZiAodHlwZS5pbmRleE9mKG5hbWUpID09PSAwICYmIHR5cGUuc3Vic3RyKG5hbWUubGVuZ3RoKSBpbiBhY3Rpb25zLnBoYXNlcykge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2Vcbn1cbiIsICJpbXBvcnQgKiBhcyBhcnIgZnJvbSAnLi9hcnInXG5pbXBvcnQgaXMgZnJvbSAnLi9pcydcblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lIGJhbi10eXBlc1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xvbmU8VCBleHRlbmRzIE9iamVjdD4oc291cmNlOiBUKTogUGFydGlhbDxUPiB7XG4gIGNvbnN0IGRlc3QgPSB7fSBhcyBQYXJ0aWFsPFQ+XG5cbiAgZm9yIChjb25zdCBwcm9wIGluIHNvdXJjZSkge1xuICAgIGNvbnN0IHZhbHVlID0gc291cmNlW3Byb3BdXG5cbiAgICBpZiAoaXMucGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgICBkZXN0W3Byb3BdID0gY2xvbmUodmFsdWUpIGFzIGFueVxuICAgIH0gZWxzZSBpZiAoaXMuYXJyYXkodmFsdWUpKSB7XG4gICAgICBkZXN0W3Byb3BdID0gYXJyLmZyb20odmFsdWUpIGFzIHR5cGVvZiB2YWx1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBkZXN0W3Byb3BdID0gdmFsdWVcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGVzdFxufVxuIiwgImltcG9ydCB0eXBlIHsgRXZlbnRQaGFzZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RFdmVudCdcbmltcG9ydCB0eXBlIHsgSW50ZXJhY3Rpb24sIERvQW55UGhhc2VBcmcgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBFZGdlT3B0aW9ucywgRnVsbFJlY3QsIFBvaW50LCBSZWN0IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCBjbG9uZSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9jbG9uZSdcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0ICogYXMgcmVjdFV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3JlY3QnXG5cbmltcG9ydCB0eXBlIHsgTW9kaWZpZXIsIE1vZGlmaWVyQXJnLCBNb2RpZmllclN0YXRlIH0gZnJvbSAnLi90eXBlcydcblxuZXhwb3J0IGludGVyZmFjZSBNb2RpZmljYXRpb25SZXN1bHQge1xuICBkZWx0YTogUG9pbnRcbiAgcmVjdERlbHRhOiBSZWN0XG4gIGNvb3JkczogUG9pbnRcbiAgcmVjdDogRnVsbFJlY3RcbiAgZXZlbnRQcm9wczogYW55W11cbiAgY2hhbmdlZDogYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgTWV0aG9kQXJnIHtcbiAgcGhhc2U6IEV2ZW50UGhhc2VcbiAgcGFnZUNvb3JkczogUG9pbnRcbiAgcmVjdDogRnVsbFJlY3RcbiAgY29vcmRzOiBQb2ludFxuICBwcmVFbmQ/OiBib29sZWFuXG4gIHNraXBNb2RpZmllcnM/OiBudW1iZXJcbn1cblxuZXhwb3J0IGNsYXNzIE1vZGlmaWNhdGlvbiB7XG4gIHN0YXRlczogTW9kaWZpZXJTdGF0ZVtdID0gW11cbiAgc3RhcnRPZmZzZXQ6IFJlY3QgPSB7IGxlZnQ6IDAsIHJpZ2h0OiAwLCB0b3A6IDAsIGJvdHRvbTogMCB9XG4gIHN0YXJ0RGVsdGEhOiBQb2ludFxuICByZXN1bHQhOiBNb2RpZmljYXRpb25SZXN1bHRcbiAgZW5kUmVzdWx0ITogUG9pbnRcbiAgc3RhcnRFZGdlcyE6IEVkZ2VPcHRpb25zXG4gIGVkZ2VzOiBFZGdlT3B0aW9uc1xuICByZWFkb25seSBpbnRlcmFjdGlvbjogUmVhZG9ubHk8SW50ZXJhY3Rpb24+XG5cbiAgY29uc3RydWN0b3IoaW50ZXJhY3Rpb246IEludGVyYWN0aW9uKSB7XG4gICAgdGhpcy5pbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uXG4gICAgdGhpcy5yZXN1bHQgPSBjcmVhdGVSZXN1bHQoKVxuICAgIHRoaXMuZWRnZXMgPSB7XG4gICAgICBsZWZ0OiBmYWxzZSxcbiAgICAgIHJpZ2h0OiBmYWxzZSxcbiAgICAgIHRvcDogZmFsc2UsXG4gICAgICBib3R0b206IGZhbHNlLFxuICAgIH1cbiAgfVxuXG4gIHN0YXJ0KHsgcGhhc2UgfTogeyBwaGFzZTogRXZlbnRQaGFzZSB9LCBwYWdlQ29vcmRzOiBQb2ludCkge1xuICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IHRoaXNcbiAgICBjb25zdCBtb2RpZmllckxpc3QgPSBnZXRNb2RpZmllckxpc3QoaW50ZXJhY3Rpb24pXG4gICAgdGhpcy5wcmVwYXJlU3RhdGVzKG1vZGlmaWVyTGlzdClcblxuICAgIHRoaXMuc3RhcnRFZGdlcyA9IGV4dGVuZCh7fSwgaW50ZXJhY3Rpb24uZWRnZXMpXG4gICAgdGhpcy5lZGdlcyA9IGV4dGVuZCh7fSwgdGhpcy5zdGFydEVkZ2VzKVxuICAgIHRoaXMuc3RhcnRPZmZzZXQgPSBnZXRSZWN0T2Zmc2V0KGludGVyYWN0aW9uLnJlY3QsIHBhZ2VDb29yZHMpXG4gICAgdGhpcy5zdGFydERlbHRhID0geyB4OiAwLCB5OiAwIH1cblxuICAgIGNvbnN0IGFyZyA9IHRoaXMuZmlsbEFyZyh7XG4gICAgICBwaGFzZSxcbiAgICAgIHBhZ2VDb29yZHMsXG4gICAgICBwcmVFbmQ6IGZhbHNlLFxuICAgIH0pXG5cbiAgICB0aGlzLnJlc3VsdCA9IGNyZWF0ZVJlc3VsdCgpXG4gICAgdGhpcy5zdGFydEFsbChhcmcpXG5cbiAgICBjb25zdCByZXN1bHQgPSAodGhpcy5yZXN1bHQgPSB0aGlzLnNldEFsbChhcmcpKVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgZmlsbEFyZyhhcmc6IFBhcnRpYWw8TW9kaWZpZXJBcmc+KSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gdGhpc1xuXG4gICAgYXJnLmludGVyYWN0aW9uID0gaW50ZXJhY3Rpb25cbiAgICBhcmcuaW50ZXJhY3RhYmxlID0gaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlXG4gICAgYXJnLmVsZW1lbnQgPSBpbnRlcmFjdGlvbi5lbGVtZW50XG4gICAgYXJnLnJlY3QgfHw9IGludGVyYWN0aW9uLnJlY3RcbiAgICBhcmcuZWRnZXMgfHw9IHRoaXMuc3RhcnRFZGdlc1xuICAgIGFyZy5zdGFydE9mZnNldCA9IHRoaXMuc3RhcnRPZmZzZXRcblxuICAgIHJldHVybiBhcmcgYXMgTW9kaWZpZXJBcmdcbiAgfVxuXG4gIHN0YXJ0QWxsKGFyZzogTWV0aG9kQXJnICYgUGFydGlhbDxNb2RpZmllckFyZz4pIHtcbiAgICBmb3IgKGNvbnN0IHN0YXRlIG9mIHRoaXMuc3RhdGVzKSB7XG4gICAgICBpZiAoc3RhdGUubWV0aG9kcy5zdGFydCkge1xuICAgICAgICBhcmcuc3RhdGUgPSBzdGF0ZVxuICAgICAgICBzdGF0ZS5tZXRob2RzLnN0YXJ0KGFyZyBhcyBNb2RpZmllckFyZylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZXRBbGwoYXJnOiBNZXRob2RBcmcgJiBQYXJ0aWFsPE1vZGlmaWVyQXJnPik6IE1vZGlmaWNhdGlvblJlc3VsdCB7XG4gICAgY29uc3QgeyBwaGFzZSwgcHJlRW5kLCBza2lwTW9kaWZpZXJzLCByZWN0OiB1bm1vZGlmaWVkUmVjdCwgZWRnZXM6IHVubW9kaWZpZWRFZGdlcyB9ID0gYXJnXG5cbiAgICBhcmcuY29vcmRzID0gZXh0ZW5kKHt9LCBhcmcucGFnZUNvb3JkcylcbiAgICBhcmcucmVjdCA9IGV4dGVuZCh7fSwgdW5tb2RpZmllZFJlY3QpXG4gICAgYXJnLmVkZ2VzID0gZXh0ZW5kKHt9LCB1bm1vZGlmaWVkRWRnZXMpXG5cbiAgICBjb25zdCBzdGF0ZXMgPSBza2lwTW9kaWZpZXJzID8gdGhpcy5zdGF0ZXMuc2xpY2Uoc2tpcE1vZGlmaWVycykgOiB0aGlzLnN0YXRlc1xuXG4gICAgY29uc3QgbmV3UmVzdWx0ID0gY3JlYXRlUmVzdWx0KGFyZy5jb29yZHMsIGFyZy5yZWN0KVxuXG4gICAgZm9yIChjb25zdCBzdGF0ZSBvZiBzdGF0ZXMpIHtcbiAgICAgIGNvbnN0IHsgb3B0aW9ucyB9ID0gc3RhdGVcbiAgICAgIGNvbnN0IGxhc3RNb2RpZmllckNvb3JkcyA9IGV4dGVuZCh7fSwgYXJnLmNvb3JkcylcbiAgICAgIGxldCByZXR1cm5WYWx1ZSA9IG51bGxcblxuICAgICAgaWYgKHN0YXRlLm1ldGhvZHM/LnNldCAmJiB0aGlzLnNob3VsZERvKG9wdGlvbnMsIHByZUVuZCwgcGhhc2UpKSB7XG4gICAgICAgIGFyZy5zdGF0ZSA9IHN0YXRlXG4gICAgICAgIHJldHVyblZhbHVlID0gc3RhdGUubWV0aG9kcy5zZXQoYXJnIGFzIE1vZGlmaWVyQXJnPG5ldmVyPilcblxuICAgICAgICByZWN0VXRpbHMuYWRkRWRnZXMoYXJnLmVkZ2VzLCBhcmcucmVjdCwge1xuICAgICAgICAgIHg6IGFyZy5jb29yZHMueCAtIGxhc3RNb2RpZmllckNvb3Jkcy54LFxuICAgICAgICAgIHk6IGFyZy5jb29yZHMueSAtIGxhc3RNb2RpZmllckNvb3Jkcy55LFxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBuZXdSZXN1bHQuZXZlbnRQcm9wcy5wdXNoKHJldHVyblZhbHVlKVxuICAgIH1cblxuICAgIGV4dGVuZCh0aGlzLmVkZ2VzLCBhcmcuZWRnZXMpXG5cbiAgICBuZXdSZXN1bHQuZGVsdGEueCA9IGFyZy5jb29yZHMueCAtIGFyZy5wYWdlQ29vcmRzLnhcbiAgICBuZXdSZXN1bHQuZGVsdGEueSA9IGFyZy5jb29yZHMueSAtIGFyZy5wYWdlQ29vcmRzLnlcblxuICAgIG5ld1Jlc3VsdC5yZWN0RGVsdGEubGVmdCA9IGFyZy5yZWN0LmxlZnQgLSB1bm1vZGlmaWVkUmVjdC5sZWZ0XG4gICAgbmV3UmVzdWx0LnJlY3REZWx0YS5yaWdodCA9IGFyZy5yZWN0LnJpZ2h0IC0gdW5tb2RpZmllZFJlY3QucmlnaHRcbiAgICBuZXdSZXN1bHQucmVjdERlbHRhLnRvcCA9IGFyZy5yZWN0LnRvcCAtIHVubW9kaWZpZWRSZWN0LnRvcFxuICAgIG5ld1Jlc3VsdC5yZWN0RGVsdGEuYm90dG9tID0gYXJnLnJlY3QuYm90dG9tIC0gdW5tb2RpZmllZFJlY3QuYm90dG9tXG5cbiAgICBjb25zdCBwcmV2Q29vcmRzID0gdGhpcy5yZXN1bHQuY29vcmRzXG4gICAgY29uc3QgcHJldlJlY3QgPSB0aGlzLnJlc3VsdC5yZWN0XG5cbiAgICBpZiAocHJldkNvb3JkcyAmJiBwcmV2UmVjdCkge1xuICAgICAgY29uc3QgcmVjdENoYW5nZWQgPVxuICAgICAgICBuZXdSZXN1bHQucmVjdC5sZWZ0ICE9PSBwcmV2UmVjdC5sZWZ0IHx8XG4gICAgICAgIG5ld1Jlc3VsdC5yZWN0LnJpZ2h0ICE9PSBwcmV2UmVjdC5yaWdodCB8fFxuICAgICAgICBuZXdSZXN1bHQucmVjdC50b3AgIT09IHByZXZSZWN0LnRvcCB8fFxuICAgICAgICBuZXdSZXN1bHQucmVjdC5ib3R0b20gIT09IHByZXZSZWN0LmJvdHRvbVxuXG4gICAgICBuZXdSZXN1bHQuY2hhbmdlZCA9XG4gICAgICAgIHJlY3RDaGFuZ2VkIHx8IHByZXZDb29yZHMueCAhPT0gbmV3UmVzdWx0LmNvb3Jkcy54IHx8IHByZXZDb29yZHMueSAhPT0gbmV3UmVzdWx0LmNvb3Jkcy55XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld1Jlc3VsdFxuICB9XG5cbiAgYXBwbHlUb0ludGVyYWN0aW9uKGFyZzogeyBwaGFzZTogRXZlbnRQaGFzZTsgcmVjdD86IFJlY3QgfSkge1xuICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IHRoaXNcbiAgICBjb25zdCB7IHBoYXNlIH0gPSBhcmdcbiAgICBjb25zdCBjdXJDb29yZHMgPSBpbnRlcmFjdGlvbi5jb29yZHMuY3VyXG4gICAgY29uc3Qgc3RhcnRDb29yZHMgPSBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnRcbiAgICBjb25zdCB7IHJlc3VsdCwgc3RhcnREZWx0YSB9ID0gdGhpc1xuICAgIGNvbnN0IGN1ckRlbHRhID0gcmVzdWx0LmRlbHRhXG5cbiAgICBpZiAocGhhc2UgPT09ICdzdGFydCcpIHtcbiAgICAgIGV4dGVuZCh0aGlzLnN0YXJ0RGVsdGEsIHJlc3VsdC5kZWx0YSlcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IFtjb29yZHNTZXQsIGRlbHRhXSBvZiBbXG4gICAgICBbc3RhcnRDb29yZHMsIHN0YXJ0RGVsdGFdLFxuICAgICAgW2N1ckNvb3JkcywgY3VyRGVsdGFdLFxuICAgIF0gYXMgY29uc3QpIHtcbiAgICAgIGNvb3Jkc1NldC5wYWdlLnggKz0gZGVsdGEueFxuICAgICAgY29vcmRzU2V0LnBhZ2UueSArPSBkZWx0YS55XG4gICAgICBjb29yZHNTZXQuY2xpZW50LnggKz0gZGVsdGEueFxuICAgICAgY29vcmRzU2V0LmNsaWVudC55ICs9IGRlbHRhLnlcbiAgICB9XG5cbiAgICBjb25zdCB7IHJlY3REZWx0YSB9ID0gdGhpcy5yZXN1bHRcbiAgICBjb25zdCByZWN0ID0gYXJnLnJlY3QgfHwgaW50ZXJhY3Rpb24ucmVjdFxuXG4gICAgcmVjdC5sZWZ0ICs9IHJlY3REZWx0YS5sZWZ0XG4gICAgcmVjdC5yaWdodCArPSByZWN0RGVsdGEucmlnaHRcbiAgICByZWN0LnRvcCArPSByZWN0RGVsdGEudG9wXG4gICAgcmVjdC5ib3R0b20gKz0gcmVjdERlbHRhLmJvdHRvbVxuXG4gICAgcmVjdC53aWR0aCA9IHJlY3QucmlnaHQgLSByZWN0LmxlZnRcbiAgICByZWN0LmhlaWdodCA9IHJlY3QuYm90dG9tIC0gcmVjdC50b3BcbiAgfVxuXG4gIHNldEFuZEFwcGx5KFxuICAgIGFyZzogUGFydGlhbDxEb0FueVBoYXNlQXJnPiAmIHtcbiAgICAgIHBoYXNlOiBFdmVudFBoYXNlXG4gICAgICBwcmVFbmQ/OiBib29sZWFuXG4gICAgICBza2lwTW9kaWZpZXJzPzogbnVtYmVyXG4gICAgICBtb2RpZmllZENvb3Jkcz86IFBvaW50XG4gICAgfSxcbiAgKTogdm9pZCB8IGZhbHNlIHtcbiAgICBjb25zdCB7IGludGVyYWN0aW9uIH0gPSB0aGlzXG4gICAgY29uc3QgeyBwaGFzZSwgcHJlRW5kLCBza2lwTW9kaWZpZXJzIH0gPSBhcmdcblxuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuc2V0QWxsKFxuICAgICAgdGhpcy5maWxsQXJnKHtcbiAgICAgICAgcHJlRW5kLFxuICAgICAgICBwaGFzZSxcbiAgICAgICAgcGFnZUNvb3JkczogYXJnLm1vZGlmaWVkQ29vcmRzIHx8IGludGVyYWN0aW9uLmNvb3Jkcy5jdXIucGFnZSxcbiAgICAgIH0pLFxuICAgIClcblxuICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0XG5cbiAgICAvLyBkb24ndCBmaXJlIGFuIGFjdGlvbiBtb3ZlIGlmIGEgbW9kaWZpZXIgd291bGQga2VlcCB0aGUgZXZlbnQgaW4gdGhlIHNhbWVcbiAgICAvLyBjb3JkaW5hdGVzIGFzIGJlZm9yZVxuICAgIGlmIChcbiAgICAgICFyZXN1bHQuY2hhbmdlZCAmJlxuICAgICAgKCFza2lwTW9kaWZpZXJzIHx8IHNraXBNb2RpZmllcnMgPCB0aGlzLnN0YXRlcy5sZW5ndGgpICYmXG4gICAgICBpbnRlcmFjdGlvbi5pbnRlcmFjdGluZygpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoYXJnLm1vZGlmaWVkQ29vcmRzKSB7XG4gICAgICBjb25zdCB7IHBhZ2UgfSA9IGludGVyYWN0aW9uLmNvb3Jkcy5jdXJcbiAgICAgIGNvbnN0IGFkanVzdG1lbnQgPSB7XG4gICAgICAgIHg6IGFyZy5tb2RpZmllZENvb3Jkcy54IC0gcGFnZS54LFxuICAgICAgICB5OiBhcmcubW9kaWZpZWRDb29yZHMueSAtIHBhZ2UueSxcbiAgICAgIH1cblxuICAgICAgcmVzdWx0LmNvb3Jkcy54ICs9IGFkanVzdG1lbnQueFxuICAgICAgcmVzdWx0LmNvb3Jkcy55ICs9IGFkanVzdG1lbnQueVxuICAgICAgcmVzdWx0LmRlbHRhLnggKz0gYWRqdXN0bWVudC54XG4gICAgICByZXN1bHQuZGVsdGEueSArPSBhZGp1c3RtZW50LnlcbiAgICB9XG5cbiAgICB0aGlzLmFwcGx5VG9JbnRlcmFjdGlvbihhcmcpXG4gIH1cblxuICBiZWZvcmVFbmQoYXJnOiBPbWl0PERvQW55UGhhc2VBcmcsICdpRXZlbnQnPiAmIHsgc3RhdGU/OiBNb2RpZmllclN0YXRlIH0pOiB2b2lkIHwgZmFsc2Uge1xuICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24sIGV2ZW50IH0gPSBhcmdcbiAgICBjb25zdCBzdGF0ZXMgPSB0aGlzLnN0YXRlc1xuXG4gICAgaWYgKCFzdGF0ZXMgfHwgIXN0YXRlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGxldCBkb1ByZWVuZCA9IGZhbHNlXG5cbiAgICBmb3IgKGNvbnN0IHN0YXRlIG9mIHN0YXRlcykge1xuICAgICAgYXJnLnN0YXRlID0gc3RhdGVcbiAgICAgIGNvbnN0IHsgb3B0aW9ucywgbWV0aG9kcyB9ID0gc3RhdGVcblxuICAgICAgY29uc3QgZW5kUG9zaXRpb24gPSBtZXRob2RzLmJlZm9yZUVuZCAmJiBtZXRob2RzLmJlZm9yZUVuZChhcmcgYXMgdW5rbm93biBhcyBNb2RpZmllckFyZylcblxuICAgICAgaWYgKGVuZFBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuZW5kUmVzdWx0ID0gZW5kUG9zaXRpb25cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIGRvUHJlZW5kID0gZG9QcmVlbmQgfHwgKCFkb1ByZWVuZCAmJiB0aGlzLnNob3VsZERvKG9wdGlvbnMsIHRydWUsIGFyZy5waGFzZSwgdHJ1ZSkpXG4gICAgfVxuXG4gICAgaWYgKGRvUHJlZW5kKSB7XG4gICAgICAvLyB0cmlnZ2VyIGEgZmluYWwgbW9kaWZpZWQgbW92ZSBiZWZvcmUgZW5kaW5nXG4gICAgICBpbnRlcmFjdGlvbi5tb3ZlKHsgZXZlbnQsIHByZUVuZDogdHJ1ZSB9KVxuICAgIH1cbiAgfVxuXG4gIHN0b3AoYXJnOiB7IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiB9KSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gYXJnXG5cbiAgICBpZiAoIXRoaXMuc3RhdGVzIHx8ICF0aGlzLnN0YXRlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IG1vZGlmaWVyQXJnOiBQYXJ0aWFsPE1vZGlmaWVyQXJnPiA9IGV4dGVuZChcbiAgICAgIHtcbiAgICAgICAgc3RhdGVzOiB0aGlzLnN0YXRlcyxcbiAgICAgICAgaW50ZXJhY3RhYmxlOiBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUsXG4gICAgICAgIGVsZW1lbnQ6IGludGVyYWN0aW9uLmVsZW1lbnQsXG4gICAgICAgIHJlY3Q6IG51bGwsXG4gICAgICB9LFxuICAgICAgYXJnLFxuICAgIClcblxuICAgIHRoaXMuZmlsbEFyZyhtb2RpZmllckFyZylcblxuICAgIGZvciAoY29uc3Qgc3RhdGUgb2YgdGhpcy5zdGF0ZXMpIHtcbiAgICAgIG1vZGlmaWVyQXJnLnN0YXRlID0gc3RhdGVcblxuICAgICAgaWYgKHN0YXRlLm1ldGhvZHMuc3RvcCkge1xuICAgICAgICBzdGF0ZS5tZXRob2RzLnN0b3AobW9kaWZpZXJBcmcgYXMgTW9kaWZpZXJBcmcpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZXMgPSBudWxsXG4gICAgdGhpcy5lbmRSZXN1bHQgPSBudWxsXG4gIH1cblxuICBwcmVwYXJlU3RhdGVzKG1vZGlmaWVyTGlzdDogTW9kaWZpZXJbXSkge1xuICAgIHRoaXMuc3RhdGVzID0gW11cblxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBtb2RpZmllckxpc3QubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCB7IG9wdGlvbnMsIG1ldGhvZHMsIG5hbWUgfSA9IG1vZGlmaWVyTGlzdFtpbmRleF1cblxuICAgICAgdGhpcy5zdGF0ZXMucHVzaCh7XG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIG1ldGhvZHMsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBuYW1lLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zdGF0ZXNcbiAgfVxuXG4gIHJlc3RvcmVJbnRlcmFjdGlvbkNvb3Jkcyh7IGludGVyYWN0aW9uOiB7IGNvb3JkcywgcmVjdCwgbW9kaWZpY2F0aW9uIH0gfTogeyBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24gfSkge1xuICAgIGlmICghbW9kaWZpY2F0aW9uLnJlc3VsdCkgcmV0dXJuXG5cbiAgICBjb25zdCB7IHN0YXJ0RGVsdGEgfSA9IG1vZGlmaWNhdGlvblxuICAgIGNvbnN0IHsgZGVsdGE6IGN1ckRlbHRhLCByZWN0RGVsdGEgfSA9IG1vZGlmaWNhdGlvbi5yZXN1bHRcblxuICAgIGNvbnN0IGNvb3Jkc0FuZERlbHRhcyA9IFtcbiAgICAgIFtjb29yZHMuc3RhcnQsIHN0YXJ0RGVsdGFdLFxuICAgICAgW2Nvb3Jkcy5jdXIsIGN1ckRlbHRhXSxcbiAgICBdXG5cbiAgICBmb3IgKGNvbnN0IFtjb29yZHNTZXQsIGRlbHRhXSBvZiBjb29yZHNBbmREZWx0YXMgYXMgYW55KSB7XG4gICAgICBjb29yZHNTZXQucGFnZS54IC09IGRlbHRhLnhcbiAgICAgIGNvb3Jkc1NldC5wYWdlLnkgLT0gZGVsdGEueVxuICAgICAgY29vcmRzU2V0LmNsaWVudC54IC09IGRlbHRhLnhcbiAgICAgIGNvb3Jkc1NldC5jbGllbnQueSAtPSBkZWx0YS55XG4gICAgfVxuXG4gICAgcmVjdC5sZWZ0IC09IHJlY3REZWx0YS5sZWZ0XG4gICAgcmVjdC5yaWdodCAtPSByZWN0RGVsdGEucmlnaHRcbiAgICByZWN0LnRvcCAtPSByZWN0RGVsdGEudG9wXG4gICAgcmVjdC5ib3R0b20gLT0gcmVjdERlbHRhLmJvdHRvbVxuICB9XG5cbiAgc2hvdWxkRG8ob3B0aW9ucywgcHJlRW5kPzogYm9vbGVhbiwgcGhhc2U/OiBzdHJpbmcsIHJlcXVpcmVFbmRPbmx5PzogYm9vbGVhbikge1xuICAgIGlmIChcbiAgICAgIC8vIGlnbm9yZSBkaXNhYmxlZCBtb2RpZmllcnNcbiAgICAgICFvcHRpb25zIHx8XG4gICAgICBvcHRpb25zLmVuYWJsZWQgPT09IGZhbHNlIHx8XG4gICAgICAvLyBjaGVjayBpZiB3ZSByZXF1aXJlIGVuZE9ubHkgb3B0aW9uIHRvIGZpcmUgbW92ZSBiZWZvcmUgZW5kXG4gICAgICAocmVxdWlyZUVuZE9ubHkgJiYgIW9wdGlvbnMuZW5kT25seSkgfHxcbiAgICAgIC8vIGRvbid0IGFwcGx5IGVuZE9ubHkgbW9kaWZpZXJzIHdoZW4gbm90IGVuZGluZ1xuICAgICAgKG9wdGlvbnMuZW5kT25seSAmJiAhcHJlRW5kKSB8fFxuICAgICAgLy8gY2hlY2sgaWYgbW9kaWZpZXIgc2hvdWxkIHJ1biBiZSBhcHBsaWVkIG9uIHN0YXJ0XG4gICAgICAocGhhc2UgPT09ICdzdGFydCcgJiYgIW9wdGlvbnMuc2V0U3RhcnQpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgY29weUZyb20ob3RoZXI6IE1vZGlmaWNhdGlvbikge1xuICAgIHRoaXMuc3RhcnRPZmZzZXQgPSBvdGhlci5zdGFydE9mZnNldFxuICAgIHRoaXMuc3RhcnREZWx0YSA9IG90aGVyLnN0YXJ0RGVsdGFcbiAgICB0aGlzLnN0YXJ0RWRnZXMgPSBvdGhlci5zdGFydEVkZ2VzXG4gICAgdGhpcy5lZGdlcyA9IG90aGVyLmVkZ2VzXG4gICAgdGhpcy5zdGF0ZXMgPSBvdGhlci5zdGF0ZXMubWFwKChzKSA9PiBjbG9uZShzKSBhcyBNb2RpZmllclN0YXRlKVxuICAgIHRoaXMucmVzdWx0ID0gY3JlYXRlUmVzdWx0KGV4dGVuZCh7fSwgb3RoZXIucmVzdWx0LmNvb3JkcyksIGV4dGVuZCh7fSwgb3RoZXIucmVzdWx0LnJlY3QpKVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gdGhpcykge1xuICAgICAgdGhpc1twcm9wXSA9IG51bGxcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlUmVzdWx0KGNvb3Jkcz86IFBvaW50LCByZWN0PzogRnVsbFJlY3QpOiBNb2RpZmljYXRpb25SZXN1bHQge1xuICByZXR1cm4ge1xuICAgIHJlY3QsXG4gICAgY29vcmRzLFxuICAgIGRlbHRhOiB7IHg6IDAsIHk6IDAgfSxcbiAgICByZWN0RGVsdGE6IHtcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIHRvcDogMCxcbiAgICAgIGJvdHRvbTogMCxcbiAgICB9LFxuICAgIGV2ZW50UHJvcHM6IFtdLFxuICAgIGNoYW5nZWQ6IHRydWUsXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0TW9kaWZpZXJMaXN0KGludGVyYWN0aW9uKSB7XG4gIGNvbnN0IGFjdGlvbk9wdGlvbnMgPSBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUub3B0aW9uc1tpbnRlcmFjdGlvbi5wcmVwYXJlZC5uYW1lXVxuICBjb25zdCBhY3Rpb25Nb2RpZmllcnMgPSBhY3Rpb25PcHRpb25zLm1vZGlmaWVyc1xuXG4gIGlmIChhY3Rpb25Nb2RpZmllcnMgJiYgYWN0aW9uTW9kaWZpZXJzLmxlbmd0aCkge1xuICAgIHJldHVybiBhY3Rpb25Nb2RpZmllcnNcbiAgfVxuXG4gIHJldHVybiBbJ3NuYXAnLCAnc25hcFNpemUnLCAnc25hcEVkZ2VzJywgJ3Jlc3RyaWN0JywgJ3Jlc3RyaWN0RWRnZXMnLCAncmVzdHJpY3RTaXplJ11cbiAgICAubWFwKCh0eXBlKSA9PiB7XG4gICAgICBjb25zdCBvcHRpb25zID0gYWN0aW9uT3B0aW9uc1t0eXBlXVxuXG4gICAgICByZXR1cm4gKFxuICAgICAgICBvcHRpb25zICYmXG4gICAgICAgIG9wdGlvbnMuZW5hYmxlZCAmJiB7XG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICBtZXRob2RzOiBvcHRpb25zLl9tZXRob2RzLFxuICAgICAgICB9XG4gICAgICApXG4gICAgfSlcbiAgICAuZmlsdGVyKChtKSA9PiAhIW0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWN0T2Zmc2V0KHJlY3QsIGNvb3Jkcykge1xuICByZXR1cm4gcmVjdFxuICAgID8ge1xuICAgICAgICBsZWZ0OiBjb29yZHMueCAtIHJlY3QubGVmdCxcbiAgICAgICAgdG9wOiBjb29yZHMueSAtIHJlY3QudG9wLFxuICAgICAgICByaWdodDogcmVjdC5yaWdodCAtIGNvb3Jkcy54LFxuICAgICAgICBib3R0b206IHJlY3QuYm90dG9tIC0gY29vcmRzLnksXG4gICAgICB9XG4gICAgOiB7XG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgIGJvdHRvbTogMCxcbiAgICAgIH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0RXZlbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0RXZlbnQnXG5pbXBvcnQgdHlwZSBJbnRlcmFjdGlvbiBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuXG5pbXBvcnQgeyBNb2RpZmljYXRpb24gfSBmcm9tICcuL01vZGlmaWNhdGlvbidcbmltcG9ydCB0eXBlIHsgTW9kaWZpZXIsIE1vZGlmaWVyTW9kdWxlLCBNb2RpZmllclN0YXRlIH0gZnJvbSAnLi90eXBlcydcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0aW9uIHtcbiAgICBtb2RpZmljYXRpb24/OiBNb2RpZmljYXRpb25cbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdEV2ZW50JyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdEV2ZW50IHtcbiAgICBtb2RpZmllcnM/OiBBcnJheTx7XG4gICAgICBuYW1lOiBzdHJpbmdcbiAgICAgIFtrZXk6IHN0cmluZ106IGFueVxuICAgIH0+XG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvb3B0aW9ucycge1xuICBpbnRlcmZhY2UgUGVyQWN0aW9uRGVmYXVsdHMge1xuICAgIG1vZGlmaWVycz86IE1vZGlmaWVyW11cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZU1vZGlmaWVyPFxuICBEZWZhdWx0cyBleHRlbmRzIHsgZW5hYmxlZD86IGJvb2xlYW4gfSxcbiAgU3RhdGUgZXh0ZW5kcyBNb2RpZmllclN0YXRlLFxuICBOYW1lIGV4dGVuZHMgc3RyaW5nLFxuICBSZXN1bHQsXG4+KG1vZHVsZTogTW9kaWZpZXJNb2R1bGU8RGVmYXVsdHMsIFN0YXRlLCBSZXN1bHQ+LCBuYW1lPzogTmFtZSkge1xuICBjb25zdCB7IGRlZmF1bHRzIH0gPSBtb2R1bGVcbiAgY29uc3QgbWV0aG9kcyA9IHtcbiAgICBzdGFydDogbW9kdWxlLnN0YXJ0LFxuICAgIHNldDogbW9kdWxlLnNldCxcbiAgICBiZWZvcmVFbmQ6IG1vZHVsZS5iZWZvcmVFbmQsXG4gICAgc3RvcDogbW9kdWxlLnN0b3AsXG4gIH1cblxuICBjb25zdCBtb2RpZmllciA9IChfb3B0aW9ucz86IFBhcnRpYWw8RGVmYXVsdHM+KSA9PiB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IChfb3B0aW9ucyB8fCB7fSkgYXMgRGVmYXVsdHNcblxuICAgIG9wdGlvbnMuZW5hYmxlZCA9IG9wdGlvbnMuZW5hYmxlZCAhPT0gZmFsc2VcblxuICAgIC8vIGFkZCBtaXNzaW5nIGRlZmF1bHRzIHRvIG9wdGlvbnNcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gZGVmYXVsdHMpIHtcbiAgICAgIGlmICghKHByb3AgaW4gb3B0aW9ucykpIHtcbiAgICAgICAgOyhvcHRpb25zIGFzIGFueSlbcHJvcF0gPSBkZWZhdWx0c1twcm9wXVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG06IE1vZGlmaWVyPERlZmF1bHRzLCBTdGF0ZSwgTmFtZSwgUmVzdWx0PiA9IHtcbiAgICAgIG9wdGlvbnMsXG4gICAgICBtZXRob2RzLFxuICAgICAgbmFtZSxcbiAgICAgIGVuYWJsZTogKCkgPT4ge1xuICAgICAgICBvcHRpb25zLmVuYWJsZWQgPSB0cnVlXG4gICAgICAgIHJldHVybiBtXG4gICAgICB9LFxuICAgICAgZGlzYWJsZTogKCkgPT4ge1xuICAgICAgICBvcHRpb25zLmVuYWJsZWQgPSBmYWxzZVxuICAgICAgICByZXR1cm4gbVxuICAgICAgfSxcbiAgICB9XG5cbiAgICByZXR1cm4gbVxuICB9XG5cbiAgaWYgKG5hbWUgJiYgdHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZm9yIGJhY2t3cmFkcyBjb21wYXRpYmlsaXR5XG4gICAgbW9kaWZpZXIuX2RlZmF1bHRzID0gZGVmYXVsdHNcbiAgICBtb2RpZmllci5fbWV0aG9kcyA9IG1ldGhvZHNcbiAgfVxuXG4gIHJldHVybiBtb2RpZmllclxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkRXZlbnRNb2RpZmllcnMoe1xuICBpRXZlbnQsXG4gIGludGVyYWN0aW9uLFxufToge1xuICBpRXZlbnQ6IEludGVyYWN0RXZlbnQ8YW55PlxuICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248YW55PlxufSkge1xuICBjb25zdCByZXN1bHQgPSBpbnRlcmFjdGlvbi5tb2RpZmljYXRpb24hLnJlc3VsdFxuXG4gIGlmIChyZXN1bHQpIHtcbiAgICBpRXZlbnQubW9kaWZpZXJzID0gcmVzdWx0LmV2ZW50UHJvcHNcbiAgfVxufVxuXG5jb25zdCBtb2RpZmllcnNCYXNlOiBQbHVnaW4gPSB7XG4gIGlkOiAnbW9kaWZpZXJzL2Jhc2UnLFxuICBiZWZvcmU6IFsnYWN0aW9ucyddLFxuICBpbnN0YWxsOiAoc2NvcGUpID0+IHtcbiAgICBzY29wZS5kZWZhdWx0cy5wZXJBY3Rpb24ubW9kaWZpZXJzID0gW11cbiAgfSxcbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2ludGVyYWN0aW9uczpuZXcnOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiB7XG4gICAgICBpbnRlcmFjdGlvbi5tb2RpZmljYXRpb24gPSBuZXcgTW9kaWZpY2F0aW9uKGludGVyYWN0aW9uKVxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tc3RhcnQnOiAoYXJnKSA9PiB7XG4gICAgICBjb25zdCB7IGludGVyYWN0aW9uIH0gPSBhcmdcbiAgICAgIGNvbnN0IG1vZGlmaWNhdGlvbiA9IGFyZy5pbnRlcmFjdGlvbi5tb2RpZmljYXRpb24hXG5cbiAgICAgIG1vZGlmaWNhdGlvbi5zdGFydChhcmcsIGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydC5wYWdlKVxuICAgICAgaW50ZXJhY3Rpb24uZWRnZXMgPSBtb2RpZmljYXRpb24uZWRnZXNcbiAgICAgIG1vZGlmaWNhdGlvbi5hcHBseVRvSW50ZXJhY3Rpb24oYXJnKVxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tbW92ZSc6IChhcmcpID0+IHtcbiAgICAgIGNvbnN0IHsgaW50ZXJhY3Rpb24gfSA9IGFyZ1xuICAgICAgY29uc3QgeyBtb2RpZmljYXRpb24gfSA9IGludGVyYWN0aW9uXG4gICAgICBjb25zdCByZXQgPSBtb2RpZmljYXRpb24uc2V0QW5kQXBwbHkoYXJnKVxuICAgICAgaW50ZXJhY3Rpb24uZWRnZXMgPSBtb2RpZmljYXRpb24uZWRnZXNcblxuICAgICAgcmV0dXJuIHJldFxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tZW5kJzogKGFyZykgPT4ge1xuICAgICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gYXJnXG4gICAgICBjb25zdCB7IG1vZGlmaWNhdGlvbiB9ID0gaW50ZXJhY3Rpb25cbiAgICAgIGNvbnN0IHJldCA9IG1vZGlmaWNhdGlvbi5iZWZvcmVFbmQoYXJnKVxuICAgICAgaW50ZXJhY3Rpb24uZWRnZXMgPSBtb2RpZmljYXRpb24uc3RhcnRFZGdlc1xuXG4gICAgICByZXR1cm4gcmV0XG4gICAgfSxcblxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLXN0YXJ0JzogYWRkRXZlbnRNb2RpZmllcnMsXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tbW92ZSc6IGFkZEV2ZW50TW9kaWZpZXJzLFxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLWVuZCc6IGFkZEV2ZW50TW9kaWZpZXJzLFxuXG4gICAgJ2ludGVyYWN0aW9uczphZnRlci1hY3Rpb24tc3RhcnQnOiAoYXJnKSA9PiBhcmcuaW50ZXJhY3Rpb24ubW9kaWZpY2F0aW9uLnJlc3RvcmVJbnRlcmFjdGlvbkNvb3JkcyhhcmcpLFxuICAgICdpbnRlcmFjdGlvbnM6YWZ0ZXItYWN0aW9uLW1vdmUnOiAoYXJnKSA9PiBhcmcuaW50ZXJhY3Rpb24ubW9kaWZpY2F0aW9uLnJlc3RvcmVJbnRlcmFjdGlvbkNvb3JkcyhhcmcpLFxuXG4gICAgJ2ludGVyYWN0aW9uczpzdG9wJzogKGFyZykgPT4gYXJnLmludGVyYWN0aW9uLm1vZGlmaWNhdGlvbi5zdG9wKGFyZyksXG4gIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IG1vZGlmaWVyc0Jhc2VcbiIsICJpbXBvcnQgdHlwZSB7IFBvaW50LCBMaXN0ZW5lcnMsIE9yQm9vbGVhbiwgRWxlbWVudCwgUmVjdCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVmYXVsdHMge1xuICBiYXNlOiBCYXNlRGVmYXVsdHNcbiAgcGVyQWN0aW9uOiBQZXJBY3Rpb25EZWZhdWx0c1xuICBhY3Rpb25zOiBBY3Rpb25EZWZhdWx0c1xufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWludGVyZmFjZVxuZXhwb3J0IGludGVyZmFjZSBBY3Rpb25EZWZhdWx0cyB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VEZWZhdWx0cyB7XG4gIHByZXZlbnREZWZhdWx0PzogJ2Fsd2F5cycgfCAnbmV2ZXInIHwgJ2F1dG8nXG4gIGRlbHRhU291cmNlPzogJ3BhZ2UnIHwgJ2NsaWVudCdcbiAgY29udGV4dD86IE5vZGVcbiAgZ2V0UmVjdD86IChlbGVtZW50OiBFbGVtZW50KSA9PiBSZWN0XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVyQWN0aW9uRGVmYXVsdHMge1xuICBlbmFibGVkPzogYm9vbGVhblxuICBvcmlnaW4/OiBQb2ludCB8IHN0cmluZyB8IEVsZW1lbnRcbiAgbGlzdGVuZXJzPzogTGlzdGVuZXJzXG4gIGFsbG93RnJvbT86IHN0cmluZyB8IEVsZW1lbnRcbiAgaWdub3JlRnJvbT86IHN0cmluZyB8IEVsZW1lbnRcbn1cblxuZXhwb3J0IHR5cGUgT3B0aW9ucyA9IFBhcnRpYWw8QmFzZURlZmF1bHRzPiAmXG4gIFBhcnRpYWw8UGVyQWN0aW9uRGVmYXVsdHM+ICYge1xuICAgIFtQIGluIGtleW9mIEFjdGlvbkRlZmF1bHRzXT86IFBhcnRpYWw8QWN0aW9uRGVmYXVsdHNbUF0+XG4gIH1cblxuZXhwb3J0IGludGVyZmFjZSBPcHRpb25zQXJnIGV4dGVuZHMgQmFzZURlZmF1bHRzLCBPckJvb2xlYW48UGFydGlhbDxBY3Rpb25EZWZhdWx0cz4+IHt9XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0czogRGVmYXVsdHMgPSB7XG4gIGJhc2U6IHtcbiAgICBwcmV2ZW50RGVmYXVsdDogJ2F1dG8nLFxuICAgIGRlbHRhU291cmNlOiAncGFnZScsXG4gIH0sXG5cbiAgcGVyQWN0aW9uOiB7XG4gICAgZW5hYmxlZDogZmFsc2UsXG4gICAgb3JpZ2luOiB7IHg6IDAsIHk6IDAgfSxcbiAgfSxcblxuICBhY3Rpb25zOiB7fSBhcyBBY3Rpb25EZWZhdWx0cyxcbn1cbiIsICJpbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCBnZXRPcmlnaW5YWSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9nZXRPcmlnaW5YWSdcbmltcG9ydCBoeXBvdCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9oeXBvdCdcblxuaW1wb3J0IHR5cGUgeyBQb2ludCwgRnVsbFJlY3QsIFBvaW50ZXJFdmVudFR5cGUsIEVsZW1lbnQsIEFjdGlvbk5hbWUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5pbXBvcnQgeyBCYXNlRXZlbnQgfSBmcm9tICcuL0Jhc2VFdmVudCdcbmltcG9ydCB0eXBlIHsgSW50ZXJhY3Rpb24gfSBmcm9tICcuL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHsgZGVmYXVsdHMgfSBmcm9tICcuL29wdGlvbnMnXG5cbmV4cG9ydCB0eXBlIEV2ZW50UGhhc2UgPSBrZXlvZiBQaGFzZU1hcFxuXG5leHBvcnQgaW50ZXJmYWNlIFBoYXNlTWFwIHtcbiAgc3RhcnQ6IHRydWVcbiAgbW92ZTogdHJ1ZVxuICBlbmQ6IHRydWVcbn1cblxuLy8gZGVmaW5lZCBvdXRzaWRlIG9mIGNsYXNzIGRlZmluaXRpb24gdG8gYXZvaWQgYXNzaWdubWVudCBvZiB1bmRlZmluZWQgZHVyaW5nXG4vLyBjb25zdHJ1Y3Rpb25cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZXJhY3RFdmVudCB7XG4gIHBhZ2VYOiBudW1iZXJcbiAgcGFnZVk6IG51bWJlclxuXG4gIGNsaWVudFg6IG51bWJlclxuICBjbGllbnRZOiBudW1iZXJcblxuICBkeDogbnVtYmVyXG4gIGR5OiBudW1iZXJcblxuICB2ZWxvY2l0eVg6IG51bWJlclxuICB2ZWxvY2l0eVk6IG51bWJlclxufVxuXG5leHBvcnQgY2xhc3MgSW50ZXJhY3RFdmVudDxcbiAgVCBleHRlbmRzIEFjdGlvbk5hbWUgPSBuZXZlcixcbiAgUCBleHRlbmRzIEV2ZW50UGhhc2UgPSBFdmVudFBoYXNlLFxuPiBleHRlbmRzIEJhc2VFdmVudDxUPiB7XG4gIGRlY2xhcmUgdGFyZ2V0OiBFbGVtZW50XG4gIGRlY2xhcmUgY3VycmVudFRhcmdldDogRWxlbWVudFxuICByZWxhdGVkVGFyZ2V0OiBFbGVtZW50IHwgbnVsbCA9IG51bGxcbiAgc2NyZWVuWD86IG51bWJlclxuICBzY3JlZW5ZPzogbnVtYmVyXG4gIGJ1dHRvbjogbnVtYmVyXG4gIGJ1dHRvbnM6IG51bWJlclxuICBjdHJsS2V5OiBib29sZWFuXG4gIHNoaWZ0S2V5OiBib29sZWFuXG4gIGFsdEtleTogYm9vbGVhblxuICBtZXRhS2V5OiBib29sZWFuXG4gIHBhZ2U6IFBvaW50XG4gIGNsaWVudDogUG9pbnRcbiAgZGVsdGE6IFBvaW50XG4gIHJlY3Q6IEZ1bGxSZWN0XG4gIHgwOiBudW1iZXJcbiAgeTA6IG51bWJlclxuICB0MDogbnVtYmVyXG4gIGR0OiBudW1iZXJcbiAgZHVyYXRpb246IG51bWJlclxuICBjbGllbnRYMDogbnVtYmVyXG4gIGNsaWVudFkwOiBudW1iZXJcbiAgdmVsb2NpdHk6IFBvaW50XG4gIHNwZWVkOiBudW1iZXJcbiAgc3dpcGU6IFJldHVyblR5cGU8SW50ZXJhY3RFdmVudDxUPlsnZ2V0U3dpcGUnXT5cbiAgLy8gcmVzaXplXG4gIGF4ZXM/OiAneCcgfCAneScgfCAneHknXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJlRW5kPzogYm9vbGVhblxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxUPixcbiAgICBldmVudDogUG9pbnRlckV2ZW50VHlwZSxcbiAgICBhY3Rpb25OYW1lOiBULFxuICAgIHBoYXNlOiBQLFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgcHJlRW5kPzogYm9vbGVhbixcbiAgICB0eXBlPzogc3RyaW5nLFxuICApIHtcbiAgICBzdXBlcihpbnRlcmFjdGlvbilcblxuICAgIGVsZW1lbnQgPSBlbGVtZW50IHx8IGludGVyYWN0aW9uLmVsZW1lbnRcblxuICAgIGNvbnN0IHRhcmdldCA9IGludGVyYWN0aW9uLmludGVyYWN0YWJsZVxuICAgIGNvbnN0IGRlbHRhU291cmNlID0gKCgodGFyZ2V0ICYmIHRhcmdldC5vcHRpb25zKSB8fCBkZWZhdWx0cykgYXMgYW55KS5kZWx0YVNvdXJjZSBhcyAncGFnZScgfCAnY2xpZW50J1xuICAgIGNvbnN0IG9yaWdpbiA9IGdldE9yaWdpblhZKHRhcmdldCwgZWxlbWVudCwgYWN0aW9uTmFtZSlcbiAgICBjb25zdCBzdGFydGluZyA9IHBoYXNlID09PSAnc3RhcnQnXG4gICAgY29uc3QgZW5kaW5nID0gcGhhc2UgPT09ICdlbmQnXG4gICAgY29uc3QgcHJldkV2ZW50ID0gc3RhcnRpbmcgPyB0aGlzIDogaW50ZXJhY3Rpb24ucHJldkV2ZW50XG4gICAgY29uc3QgY29vcmRzID0gc3RhcnRpbmdcbiAgICAgID8gaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0XG4gICAgICA6IGVuZGluZ1xuICAgICAgICA/IHsgcGFnZTogcHJldkV2ZW50LnBhZ2UsIGNsaWVudDogcHJldkV2ZW50LmNsaWVudCwgdGltZVN0YW1wOiBpbnRlcmFjdGlvbi5jb29yZHMuY3VyLnRpbWVTdGFtcCB9XG4gICAgICAgIDogaW50ZXJhY3Rpb24uY29vcmRzLmN1clxuXG4gICAgdGhpcy5wYWdlID0gZXh0ZW5kKHt9LCBjb29yZHMucGFnZSlcbiAgICB0aGlzLmNsaWVudCA9IGV4dGVuZCh7fSwgY29vcmRzLmNsaWVudClcbiAgICB0aGlzLnJlY3QgPSBleHRlbmQoe30sIGludGVyYWN0aW9uLnJlY3QpXG4gICAgdGhpcy50aW1lU3RhbXAgPSBjb29yZHMudGltZVN0YW1wXG5cbiAgICBpZiAoIWVuZGluZykge1xuICAgICAgdGhpcy5wYWdlLnggLT0gb3JpZ2luLnhcbiAgICAgIHRoaXMucGFnZS55IC09IG9yaWdpbi55XG5cbiAgICAgIHRoaXMuY2xpZW50LnggLT0gb3JpZ2luLnhcbiAgICAgIHRoaXMuY2xpZW50LnkgLT0gb3JpZ2luLnlcbiAgICB9XG5cbiAgICB0aGlzLmN0cmxLZXkgPSBldmVudC5jdHJsS2V5XG4gICAgdGhpcy5hbHRLZXkgPSBldmVudC5hbHRLZXlcbiAgICB0aGlzLnNoaWZ0S2V5ID0gZXZlbnQuc2hpZnRLZXlcbiAgICB0aGlzLm1ldGFLZXkgPSBldmVudC5tZXRhS2V5XG4gICAgdGhpcy5idXR0b24gPSAoZXZlbnQgYXMgTW91c2VFdmVudCkuYnV0dG9uXG4gICAgdGhpcy5idXR0b25zID0gKGV2ZW50IGFzIE1vdXNlRXZlbnQpLmJ1dHRvbnNcbiAgICB0aGlzLnRhcmdldCA9IGVsZW1lbnRcbiAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBlbGVtZW50XG4gICAgdGhpcy5wcmVFbmQgPSBwcmVFbmRcbiAgICB0aGlzLnR5cGUgPSB0eXBlIHx8IGFjdGlvbk5hbWUgKyAocGhhc2UgfHwgJycpXG4gICAgdGhpcy5pbnRlcmFjdGFibGUgPSB0YXJnZXRcblxuICAgIHRoaXMudDAgPSBzdGFydGluZyA/IGludGVyYWN0aW9uLnBvaW50ZXJzW2ludGVyYWN0aW9uLnBvaW50ZXJzLmxlbmd0aCAtIDFdLmRvd25UaW1lIDogcHJldkV2ZW50LnQwXG5cbiAgICB0aGlzLngwID0gaW50ZXJhY3Rpb24uY29vcmRzLnN0YXJ0LnBhZ2UueCAtIG9yaWdpbi54XG4gICAgdGhpcy55MCA9IGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydC5wYWdlLnkgLSBvcmlnaW4ueVxuICAgIHRoaXMuY2xpZW50WDAgPSBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQuY2xpZW50LnggLSBvcmlnaW4ueFxuICAgIHRoaXMuY2xpZW50WTAgPSBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQuY2xpZW50LnkgLSBvcmlnaW4ueVxuXG4gICAgaWYgKHN0YXJ0aW5nIHx8IGVuZGluZykge1xuICAgICAgdGhpcy5kZWx0YSA9IHsgeDogMCwgeTogMCB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVsdGEgPSB7XG4gICAgICAgIHg6IHRoaXNbZGVsdGFTb3VyY2VdLnggLSBwcmV2RXZlbnRbZGVsdGFTb3VyY2VdLngsXG4gICAgICAgIHk6IHRoaXNbZGVsdGFTb3VyY2VdLnkgLSBwcmV2RXZlbnRbZGVsdGFTb3VyY2VdLnksXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5kdCA9IGludGVyYWN0aW9uLmNvb3Jkcy5kZWx0YS50aW1lU3RhbXBcbiAgICB0aGlzLmR1cmF0aW9uID0gdGhpcy50aW1lU3RhbXAgLSB0aGlzLnQwXG5cbiAgICAvLyB2ZWxvY2l0eSBhbmQgc3BlZWQgaW4gcGl4ZWxzIHBlciBzZWNvbmRcbiAgICB0aGlzLnZlbG9jaXR5ID0gZXh0ZW5kKHt9LCBpbnRlcmFjdGlvbi5jb29yZHMudmVsb2NpdHlbZGVsdGFTb3VyY2VdKVxuICAgIHRoaXMuc3BlZWQgPSBoeXBvdCh0aGlzLnZlbG9jaXR5LngsIHRoaXMudmVsb2NpdHkueSlcblxuICAgIHRoaXMuc3dpcGUgPSBlbmRpbmcgfHwgcGhhc2UgPT09ICdpbmVydGlhc3RhcnQnID8gdGhpcy5nZXRTd2lwZSgpIDogbnVsbFxuICB9XG5cbiAgZ2V0U3dpcGUoKSB7XG4gICAgY29uc3QgaW50ZXJhY3Rpb24gPSB0aGlzLl9pbnRlcmFjdGlvblxuXG4gICAgaWYgKGludGVyYWN0aW9uLnByZXZFdmVudC5zcGVlZCA8IDYwMCB8fCB0aGlzLnRpbWVTdGFtcCAtIGludGVyYWN0aW9uLnByZXZFdmVudC50aW1lU3RhbXAgPiAxNTApIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgbGV0IGFuZ2xlID0gKDE4MCAqIE1hdGguYXRhbjIoaW50ZXJhY3Rpb24ucHJldkV2ZW50LnZlbG9jaXR5WSwgaW50ZXJhY3Rpb24ucHJldkV2ZW50LnZlbG9jaXR5WCkpIC8gTWF0aC5QSVxuICAgIGNvbnN0IG92ZXJsYXAgPSAyMi41XG5cbiAgICBpZiAoYW5nbGUgPCAwKSB7XG4gICAgICBhbmdsZSArPSAzNjBcbiAgICB9XG5cbiAgICBjb25zdCBsZWZ0ID0gMTM1IC0gb3ZlcmxhcCA8PSBhbmdsZSAmJiBhbmdsZSA8IDIyNSArIG92ZXJsYXBcbiAgICBjb25zdCB1cCA9IDIyNSAtIG92ZXJsYXAgPD0gYW5nbGUgJiYgYW5nbGUgPCAzMTUgKyBvdmVybGFwXG5cbiAgICBjb25zdCByaWdodCA9ICFsZWZ0ICYmICgzMTUgLSBvdmVybGFwIDw9IGFuZ2xlIHx8IGFuZ2xlIDwgNDUgKyBvdmVybGFwKVxuICAgIGNvbnN0IGRvd24gPSAhdXAgJiYgNDUgLSBvdmVybGFwIDw9IGFuZ2xlICYmIGFuZ2xlIDwgMTM1ICsgb3ZlcmxhcFxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHVwLFxuICAgICAgZG93bixcbiAgICAgIGxlZnQsXG4gICAgICByaWdodCxcbiAgICAgIGFuZ2xlLFxuICAgICAgc3BlZWQ6IGludGVyYWN0aW9uLnByZXZFdmVudC5zcGVlZCxcbiAgICAgIHZlbG9jaXR5OiB7XG4gICAgICAgIHg6IGludGVyYWN0aW9uLnByZXZFdmVudC52ZWxvY2l0eVgsXG4gICAgICAgIHk6IGludGVyYWN0aW9uLnByZXZFdmVudC52ZWxvY2l0eVksXG4gICAgICB9LFxuICAgIH1cbiAgfVxuXG4gIHByZXZlbnREZWZhdWx0KCkge31cblxuICAvKipcbiAgICogRG9uJ3QgY2FsbCBsaXN0ZW5lcnMgb24gdGhlIHJlbWFpbmluZyB0YXJnZXRzXG4gICAqL1xuICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBEb24ndCBjYWxsIGFueSBvdGhlciBsaXN0ZW5lcnMgKGV2ZW4gb24gdGhlIGN1cnJlbnQgdGFyZ2V0KVxuICAgKi9cbiAgc3RvcFByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZVxuICB9XG59XG5cbi8vIGdldHRlcnMgYW5kIHNldHRlcnMgZGVmaW5lZCBoZXJlIHRvIHN1cHBvcnQgdHlwZXNjcmlwdCAzLjYgYW5kIGJlbG93IHdoaWNoXG4vLyBkb24ndCBzdXBwb3J0IGdldHRlciBhbmQgc2V0dGVycyBpbiAuZC50cyBmaWxlc1xuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoSW50ZXJhY3RFdmVudC5wcm90b3R5cGUsIHtcbiAgcGFnZVg6IHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYWdlLnhcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgdGhpcy5wYWdlLnggPSB2YWx1ZVxuICAgIH0sXG4gIH0sXG4gIHBhZ2VZOiB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFnZS55XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMucGFnZS55ID0gdmFsdWVcbiAgICB9LFxuICB9LFxuXG4gIGNsaWVudFg6IHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbGllbnQueFxuICAgIH0sXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICB0aGlzLmNsaWVudC54ID0gdmFsdWVcbiAgICB9LFxuICB9LFxuICBjbGllbnRZOiB7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xpZW50LnlcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgdGhpcy5jbGllbnQueSA9IHZhbHVlXG4gICAgfSxcbiAgfSxcblxuICBkeDoge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlbHRhLnhcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgdGhpcy5kZWx0YS54ID0gdmFsdWVcbiAgICB9LFxuICB9LFxuICBkeToge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlbHRhLnlcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgdGhpcy5kZWx0YS55ID0gdmFsdWVcbiAgICB9LFxuICB9LFxuXG4gIHZlbG9jaXR5WDoge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZlbG9jaXR5LnhcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgdGhpcy52ZWxvY2l0eS54ID0gdmFsdWVcbiAgICB9LFxuICB9LFxuICB2ZWxvY2l0eVk6IHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy52ZWxvY2l0eS55XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHRoaXMudmVsb2NpdHkueSA9IHZhbHVlXG4gICAgfSxcbiAgfSxcbn0pXG4iLCAiaW1wb3J0IHR5cGUgeyBQb2ludGVyRXZlbnRUeXBlLCBQb2ludGVyVHlwZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmV4cG9ydCBjbGFzcyBQb2ludGVySW5mbyB7XG4gIGlkOiBudW1iZXJcbiAgcG9pbnRlcjogUG9pbnRlclR5cGVcbiAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGVcbiAgZG93blRpbWU6IG51bWJlclxuICBkb3duVGFyZ2V0OiBOb2RlXG5cbiAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgcG9pbnRlcjogUG9pbnRlclR5cGUsIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLCBkb3duVGltZTogbnVtYmVyLCBkb3duVGFyZ2V0OiBOb2RlKSB7XG4gICAgdGhpcy5pZCA9IGlkXG4gICAgdGhpcy5wb2ludGVyID0gcG9pbnRlclxuICAgIHRoaXMuZXZlbnQgPSBldmVudFxuICAgIHRoaXMuZG93blRpbWUgPSBkb3duVGltZVxuICAgIHRoaXMuZG93blRhcmdldCA9IGRvd25UYXJnZXRcbiAgfVxufVxuIiwgImltcG9ydCAqIGFzIGFyciBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9hcnInXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCBoeXBvdCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9oeXBvdCdcbmltcG9ydCB7IHdhcm5PbmNlLCBjb3B5QWN0aW9uIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvbWlzYydcbmltcG9ydCAqIGFzIHBvaW50ZXJVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9wb2ludGVyVXRpbHMnXG5pbXBvcnQgKiBhcyByZWN0VXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcmVjdCdcblxuaW1wb3J0IHR5cGUge1xuICBFbGVtZW50LFxuICBFZGdlT3B0aW9ucyxcbiAgUG9pbnRlckV2ZW50VHlwZSxcbiAgUG9pbnRlclR5cGUsXG4gIEZ1bGxSZWN0LFxuICBDb29yZHNTZXQsXG4gIEFjdGlvbk5hbWUsXG4gIEFjdGlvblByb3BzLFxufSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJy4vSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgeyBFdmVudFBoYXNlIH0gZnJvbSAnLi9JbnRlcmFjdEV2ZW50J1xuaW1wb3J0IHsgSW50ZXJhY3RFdmVudCB9IGZyb20gJy4vSW50ZXJhY3RFdmVudCdcbmltcG9ydCB0eXBlIHsgQWN0aW9uRGVmYXVsdHMgfSBmcm9tICcuL29wdGlvbnMnXG5pbXBvcnQgeyBQb2ludGVySW5mbyB9IGZyb20gJy4vUG9pbnRlckluZm8nXG5pbXBvcnQgdHlwZSB7IFNjb3BlIH0gZnJvbSAnLi9zY29wZSdcblxuZXhwb3J0IGVudW0gX1Byb3h5VmFsdWVzIHtcbiAgaW50ZXJhY3RhYmxlID0gJycsXG4gIGVsZW1lbnQgPSAnJyxcbiAgcHJlcGFyZWQgPSAnJyxcbiAgcG9pbnRlcklzRG93biA9ICcnLFxuICBwb2ludGVyV2FzTW92ZWQgPSAnJyxcbiAgX3Byb3h5ID0gJycsXG59XG5cbmV4cG9ydCBlbnVtIF9Qcm94eU1ldGhvZHMge1xuICBzdGFydCA9ICcnLFxuICBtb3ZlID0gJycsXG4gIGVuZCA9ICcnLFxuICBzdG9wID0gJycsXG4gIGludGVyYWN0aW5nID0gJycsXG59XG5cbmV4cG9ydCB0eXBlIFBvaW50ZXJBcmdQcm9wczxUIGV4dGVuZHMge30gPSB7fT4gPSB7XG4gIHBvaW50ZXI6IFBvaW50ZXJUeXBlXG4gIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlXG4gIGV2ZW50VGFyZ2V0OiBOb2RlXG4gIHBvaW50ZXJJbmRleDogbnVtYmVyXG4gIHBvaW50ZXJJbmZvOiBQb2ludGVySW5mb1xuICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248bmV2ZXI+XG59ICYgVFxuXG5leHBvcnQgaW50ZXJmYWNlIERvUGhhc2VBcmc8VCBleHRlbmRzIEFjdGlvbk5hbWUsIFAgZXh0ZW5kcyBFdmVudFBoYXNlPiB7XG4gIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlXG4gIHBoYXNlOiBFdmVudFBoYXNlXG4gIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxUPlxuICBpRXZlbnQ6IEludGVyYWN0RXZlbnQ8VCwgUD5cbiAgcHJlRW5kPzogYm9vbGVhblxuICB0eXBlPzogc3RyaW5nXG59XG5cbmV4cG9ydCB0eXBlIERvQW55UGhhc2VBcmcgPSBEb1BoYXNlQXJnPEFjdGlvbk5hbWUsIEV2ZW50UGhhc2U+XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJyB7XG4gIGludGVyZmFjZSBTaWduYWxBcmdzIHtcbiAgICAnaW50ZXJhY3Rpb25zOm5ldyc6IHsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPEFjdGlvbk5hbWU+IH1cbiAgICAnaW50ZXJhY3Rpb25zOmRvd24nOiBQb2ludGVyQXJnUHJvcHM8e1xuICAgICAgdHlwZTogJ2Rvd24nXG4gICAgfT5cbiAgICAnaW50ZXJhY3Rpb25zOm1vdmUnOiBQb2ludGVyQXJnUHJvcHM8e1xuICAgICAgdHlwZTogJ21vdmUnXG4gICAgICBkeDogbnVtYmVyXG4gICAgICBkeTogbnVtYmVyXG4gICAgICBkdXBsaWNhdGU6IGJvb2xlYW5cbiAgICB9PlxuICAgICdpbnRlcmFjdGlvbnM6dXAnOiBQb2ludGVyQXJnUHJvcHM8e1xuICAgICAgdHlwZTogJ3VwJ1xuICAgICAgY3VyRXZlbnRUYXJnZXQ6IEV2ZW50VGFyZ2V0XG4gICAgfT5cbiAgICAnaW50ZXJhY3Rpb25zOmNhbmNlbCc6IFNpZ25hbEFyZ3NbJ2ludGVyYWN0aW9uczp1cCddICYge1xuICAgICAgdHlwZTogJ2NhbmNlbCdcbiAgICAgIGN1ckV2ZW50VGFyZ2V0OiBFdmVudFRhcmdldFxuICAgIH1cbiAgICAnaW50ZXJhY3Rpb25zOnVwZGF0ZS1wb2ludGVyJzogUG9pbnRlckFyZ1Byb3BzPHtcbiAgICAgIGRvd246IGJvb2xlYW5cbiAgICB9PlxuICAgICdpbnRlcmFjdGlvbnM6cmVtb3ZlLXBvaW50ZXInOiBQb2ludGVyQXJnUHJvcHNcbiAgICAnaW50ZXJhY3Rpb25zOmJsdXInOiB7IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxuZXZlcj47IGV2ZW50OiBFdmVudDsgdHlwZTogJ2JsdXInIH1cbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tc3RhcnQnOiBPbWl0PERvQW55UGhhc2VBcmcsICdpRXZlbnQnPlxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLXN0YXJ0JzogRG9BbnlQaGFzZUFyZ1xuICAgICdpbnRlcmFjdGlvbnM6YWZ0ZXItYWN0aW9uLXN0YXJ0JzogRG9BbnlQaGFzZUFyZ1xuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1tb3ZlJzogT21pdDxEb0FueVBoYXNlQXJnLCAnaUV2ZW50Jz5cbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1tb3ZlJzogRG9BbnlQaGFzZUFyZ1xuICAgICdpbnRlcmFjdGlvbnM6YWZ0ZXItYWN0aW9uLW1vdmUnOiBEb0FueVBoYXNlQXJnXG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLWVuZCc6IE9taXQ8RG9BbnlQaGFzZUFyZywgJ2lFdmVudCc+XG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tZW5kJzogRG9BbnlQaGFzZUFyZ1xuICAgICdpbnRlcmFjdGlvbnM6YWZ0ZXItYWN0aW9uLWVuZCc6IERvQW55UGhhc2VBcmdcbiAgICAnaW50ZXJhY3Rpb25zOnN0b3AnOiB7IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiB9XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgSW50ZXJhY3Rpb25Qcm94eTxUIGV4dGVuZHMgQWN0aW9uTmFtZSB8IG51bGwgPSBuZXZlcj4gPSBQaWNrPFxuICBJbnRlcmFjdGlvbjxUPixcbiAgRXhjbHVkZTxrZXlvZiB0eXBlb2YgX1Byb3h5VmFsdWVzIHwga2V5b2YgdHlwZW9mIF9Qcm94eU1ldGhvZHMsICdfcHJveHknPlxuPlxuXG5sZXQgaWRDb3VudGVyID0gMFxuXG5leHBvcnQgY2xhc3MgSW50ZXJhY3Rpb248VCBleHRlbmRzIEFjdGlvbk5hbWUgfCBudWxsID0gQWN0aW9uTmFtZT4ge1xuICAvKiogY3VycmVudCBpbnRlcmFjdGFibGUgYmVpbmcgaW50ZXJhY3RlZCB3aXRoICovXG4gIGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlIHwgbnVsbCA9IG51bGxcblxuICAvKiogdGhlIHRhcmdldCBlbGVtZW50IG9mIHRoZSBpbnRlcmFjdGFibGUgKi9cbiAgZWxlbWVudDogRWxlbWVudCB8IG51bGwgPSBudWxsXG4gIHJlY3Q6IEZ1bGxSZWN0IHwgbnVsbCA9IG51bGxcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfcmVjdHM/OiB7XG4gICAgc3RhcnQ6IEZ1bGxSZWN0XG4gICAgY29ycmVjdGVkOiBGdWxsUmVjdFxuICAgIHByZXZpb3VzOiBGdWxsUmVjdFxuICAgIGRlbHRhOiBGdWxsUmVjdFxuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZWRnZXM6IEVkZ2VPcHRpb25zIHwgbnVsbCA9IG51bGxcblxuICAvKiogQGludGVybmFsICovXG4gIF9zY29wZUZpcmU6IFNjb3BlWydmaXJlJ11cblxuICAvLyBhY3Rpb24gdGhhdCdzIHJlYWR5IHRvIGJlIGZpcmVkIG9uIG5leHQgbW92ZSBldmVudFxuICBwcmVwYXJlZDogQWN0aW9uUHJvcHM8VD4gPSB7XG4gICAgbmFtZTogbnVsbCxcbiAgICBheGlzOiBudWxsLFxuICAgIGVkZ2VzOiBudWxsLFxuICB9XG5cbiAgcG9pbnRlclR5cGU6IHN0cmluZ1xuXG4gIC8qKiBAaW50ZXJuYWwga2VlcCB0cmFjayBvZiBhZGRlZCBwb2ludGVycyAqL1xuICBwb2ludGVyczogUG9pbnRlckluZm9bXSA9IFtdXG5cbiAgLyoqIEBpbnRlcm5hbCBwb2ludGVyZG93bi9tb3VzZWRvd24vdG91Y2hzdGFydCBldmVudCAqL1xuICBkb3duRXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUgfCBudWxsID0gbnVsbFxuXG4gIC8qKiBAaW50ZXJuYWwgKi8gZG93blBvaW50ZXI6IFBvaW50ZXJUeXBlID0ge30gYXMgUG9pbnRlclR5cGVcblxuICAvKiogQGludGVybmFsICovXG4gIF9sYXRlc3RQb2ludGVyOiB7XG4gICAgcG9pbnRlcjogUG9pbnRlclR5cGVcbiAgICBldmVudDogUG9pbnRlckV2ZW50VHlwZVxuICAgIGV2ZW50VGFyZ2V0OiBOb2RlXG4gIH0gPSB7XG4gICAgcG9pbnRlcjogbnVsbCxcbiAgICBldmVudDogbnVsbCxcbiAgICBldmVudFRhcmdldDogbnVsbCxcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi8gcHJldkV2ZW50OiBJbnRlcmFjdEV2ZW50PFQsIEV2ZW50UGhhc2U+ID0gbnVsbFxuXG4gIHBvaW50ZXJJc0Rvd24gPSBmYWxzZVxuICBwb2ludGVyV2FzTW92ZWQgPSBmYWxzZVxuICAvKiogQGludGVybmFsICovIF9pbnRlcmFjdGluZyA9IGZhbHNlXG4gIC8qKiBAaW50ZXJuYWwgKi8gX2VuZGluZyA9IGZhbHNlXG4gIC8qKiBAaW50ZXJuYWwgKi8gX3N0b3BwZWQgPSB0cnVlXG4gIC8qKiBAaW50ZXJuYWwgKi8gX3Byb3h5OiBJbnRlcmFjdGlvblByb3h5PFQ+XG5cbiAgLyoqIEBpbnRlcm5hbCAqLyBzaW11bGF0aW9uID0gbnVsbFxuXG4gIC8qKiBAaW50ZXJuYWwgKi8gZ2V0IHBvaW50ZXJNb3ZlVG9sZXJhbmNlKCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICBkb01vdmUgPSB3YXJuT25jZShmdW5jdGlvbiAodGhpczogSW50ZXJhY3Rpb24sIHNpZ25hbEFyZzogYW55KSB7XG4gICAgdGhpcy5tb3ZlKHNpZ25hbEFyZylcbiAgfSwgJ1RoZSBpbnRlcmFjdGlvbi5kb01vdmUoKSBtZXRob2QgaGFzIGJlZW4gcmVuYW1lZCB0byBpbnRlcmFjdGlvbi5tb3ZlKCknKVxuXG4gIGNvb3JkczogQ29vcmRzU2V0ID0ge1xuICAgIC8vIFN0YXJ0aW5nIEludGVyYWN0RXZlbnQgcG9pbnRlciBjb29yZGluYXRlc1xuICAgIHN0YXJ0OiBwb2ludGVyVXRpbHMubmV3Q29vcmRzKCksXG4gICAgLy8gUHJldmlvdXMgbmF0aXZlIHBvaW50ZXIgbW92ZSBldmVudCBjb29yZGluYXRlc1xuICAgIHByZXY6IHBvaW50ZXJVdGlscy5uZXdDb29yZHMoKSxcbiAgICAvLyBjdXJyZW50IG5hdGl2ZSBwb2ludGVyIG1vdmUgZXZlbnQgY29vcmRpbmF0ZXNcbiAgICBjdXI6IHBvaW50ZXJVdGlscy5uZXdDb29yZHMoKSxcbiAgICAvLyBDaGFuZ2UgaW4gY29vcmRpbmF0ZXMgYW5kIHRpbWUgb2YgdGhlIHBvaW50ZXJcbiAgICBkZWx0YTogcG9pbnRlclV0aWxzLm5ld0Nvb3JkcygpLFxuICAgIC8vIHBvaW50ZXIgdmVsb2NpdHlcbiAgICB2ZWxvY2l0eTogcG9pbnRlclV0aWxzLm5ld0Nvb3JkcygpLFxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqLyByZWFkb25seSBfaWQ6IG51bWJlciA9IGlkQ291bnRlcisrXG5cbiAgY29uc3RydWN0b3IoeyBwb2ludGVyVHlwZSwgc2NvcGVGaXJlIH06IHsgcG9pbnRlclR5cGU/OiBzdHJpbmc7IHNjb3BlRmlyZTogU2NvcGVbJ2ZpcmUnXSB9KSB7XG4gICAgdGhpcy5fc2NvcGVGaXJlID0gc2NvcGVGaXJlXG4gICAgdGhpcy5wb2ludGVyVHlwZSA9IHBvaW50ZXJUeXBlXG5cbiAgICBjb25zdCB0aGF0ID0gdGhpc1xuXG4gICAgdGhpcy5fcHJveHkgPSB7fSBhcyBJbnRlcmFjdGlvblByb3h5PFQ+XG5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBfUHJveHlWYWx1ZXMpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLl9wcm94eSwga2V5LCB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhhdFtrZXldXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgIH1cblxuICAgIGZvciAoY29uc3Qga2V5IGluIF9Qcm94eU1ldGhvZHMpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLl9wcm94eSwga2V5LCB7XG4gICAgICAgIHZhbHVlOiAoLi4uYXJnczogYW55W10pID0+IHRoYXRba2V5XSguLi5hcmdzKSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgdGhpcy5fc2NvcGVGaXJlKCdpbnRlcmFjdGlvbnM6bmV3JywgeyBpbnRlcmFjdGlvbjogdGhpcyB9KVxuICB9XG5cbiAgcG9pbnRlckRvd24ocG9pbnRlcjogUG9pbnRlclR5cGUsIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlLCBldmVudFRhcmdldDogTm9kZSkge1xuICAgIGNvbnN0IHBvaW50ZXJJbmRleCA9IHRoaXMudXBkYXRlUG9pbnRlcihwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQsIHRydWUpXG4gICAgY29uc3QgcG9pbnRlckluZm8gPSB0aGlzLnBvaW50ZXJzW3BvaW50ZXJJbmRleF1cblxuICAgIHRoaXMuX3Njb3BlRmlyZSgnaW50ZXJhY3Rpb25zOmRvd24nLCB7XG4gICAgICBwb2ludGVyLFxuICAgICAgZXZlbnQsXG4gICAgICBldmVudFRhcmdldCxcbiAgICAgIHBvaW50ZXJJbmRleCxcbiAgICAgIHBvaW50ZXJJbmZvLFxuICAgICAgdHlwZTogJ2Rvd24nLFxuICAgICAgaW50ZXJhY3Rpb246IHRoaXMgYXMgdW5rbm93biBhcyBJbnRlcmFjdGlvbjxuZXZlcj4sXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBgYGBqc1xuICAgKiBpbnRlcmFjdCh0YXJnZXQpXG4gICAqICAgLmRyYWdnYWJsZSh7XG4gICAqICAgICAvLyBkaXNhYmxlIHRoZSBkZWZhdWx0IGRyYWcgc3RhcnQgYnkgZG93bi0+bW92ZVxuICAgKiAgICAgbWFudWFsU3RhcnQ6IHRydWVcbiAgICogICB9KVxuICAgKiAgIC8vIHN0YXJ0IGRyYWdnaW5nIGFmdGVyIHRoZSB1c2VyIGhvbGRzIHRoZSBwb2ludGVyIGRvd25cbiAgICogICAub24oJ2hvbGQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICogICAgIHZhciBpbnRlcmFjdGlvbiA9IGV2ZW50LmludGVyYWN0aW9uXG4gICAqXG4gICAqICAgICBpZiAoIWludGVyYWN0aW9uLmludGVyYWN0aW5nKCkpIHtcbiAgICogICAgICAgaW50ZXJhY3Rpb24uc3RhcnQoeyBuYW1lOiAnZHJhZycgfSxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuaW50ZXJhY3RhYmxlLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0KVxuICAgKiAgICAgfVxuICAgKiB9KVxuICAgKiBgYGBcbiAgICpcbiAgICogU3RhcnQgYW4gYWN0aW9uIHdpdGggdGhlIGdpdmVuIEludGVyYWN0YWJsZSBhbmQgRWxlbWVudCBhcyB0YXJ0Z2V0cy4gVGhlXG4gICAqIGFjdGlvbiBtdXN0IGJlIGVuYWJsZWQgZm9yIHRoZSB0YXJnZXQgSW50ZXJhY3RhYmxlIGFuZCBhbiBhcHByb3ByaWF0ZVxuICAgKiBudW1iZXIgb2YgcG9pbnRlcnMgbXVzdCBiZSBoZWxkIGRvd24gLSAxIGZvciBkcmFnL3Jlc2l6ZSwgMiBmb3IgZ2VzdHVyZS5cbiAgICpcbiAgICogVXNlIGl0IHdpdGggYGludGVyYWN0YWJsZS48YWN0aW9uPmFibGUoeyBtYW51YWxTdGFydDogZmFsc2UgfSlgIHRvIGFsd2F5c1xuICAgKiBbc3RhcnQgYWN0aW9ucyBtYW51YWxseV0oaHR0cHM6Ly9naXRodWIuY29tL3RheWUvaW50ZXJhY3QuanMvaXNzdWVzLzExNClcbiAgICpcbiAgICogQHBhcmFtIGFjdGlvbiAtIFRoZSBhY3Rpb24gdG8gYmUgcGVyZm9ybWVkIC0gZHJhZywgcmVzaXplLCBldGMuXG4gICAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgSW50ZXJhY3RhYmxlIHRvIHRhcmdldFxuICAgKiBAcGFyYW0gZWxlbWVudCAtIFRoZSBET00gRWxlbWVudCB0byB0YXJnZXRcbiAgICogQHJldHVybnMgV2hldGhlciB0aGUgaW50ZXJhY3Rpb24gd2FzIHN1Y2Nlc3NmdWxseSBzdGFydGVkXG4gICAqL1xuICBzdGFydDxBIGV4dGVuZHMgQWN0aW9uTmFtZT4oYWN0aW9uOiBBY3Rpb25Qcm9wczxBPiwgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUsIGVsZW1lbnQ6IEVsZW1lbnQpOiBib29sZWFuIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmludGVyYWN0aW5nKCkgfHxcbiAgICAgICF0aGlzLnBvaW50ZXJJc0Rvd24gfHxcbiAgICAgIHRoaXMucG9pbnRlcnMubGVuZ3RoIDwgKGFjdGlvbi5uYW1lID09PSAnZ2VzdHVyZScgPyAyIDogMSkgfHxcbiAgICAgICFpbnRlcmFjdGFibGUub3B0aW9uc1thY3Rpb24ubmFtZSBhcyBrZXlvZiBBY3Rpb25EZWZhdWx0c10uZW5hYmxlZFxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29weUFjdGlvbih0aGlzLnByZXBhcmVkLCBhY3Rpb24pXG5cbiAgICB0aGlzLmludGVyYWN0YWJsZSA9IGludGVyYWN0YWJsZVxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICB0aGlzLnJlY3QgPSBpbnRlcmFjdGFibGUuZ2V0UmVjdChlbGVtZW50KVxuICAgIHRoaXMuZWRnZXMgPSB0aGlzLnByZXBhcmVkLmVkZ2VzXG4gICAgICA/IGV4dGVuZCh7fSwgdGhpcy5wcmVwYXJlZC5lZGdlcylcbiAgICAgIDogeyBsZWZ0OiB0cnVlLCByaWdodDogdHJ1ZSwgdG9wOiB0cnVlLCBib3R0b206IHRydWUgfVxuICAgIHRoaXMuX3N0b3BwZWQgPSBmYWxzZVxuICAgIHRoaXMuX2ludGVyYWN0aW5nID1cbiAgICAgIHRoaXMuX2RvUGhhc2Uoe1xuICAgICAgICBpbnRlcmFjdGlvbjogdGhpcyxcbiAgICAgICAgZXZlbnQ6IHRoaXMuZG93bkV2ZW50LFxuICAgICAgICBwaGFzZTogJ3N0YXJ0JyxcbiAgICAgIH0pICYmICF0aGlzLl9zdG9wcGVkXG5cbiAgICByZXR1cm4gdGhpcy5faW50ZXJhY3RpbmdcbiAgfVxuXG4gIHBvaW50ZXJNb3ZlKHBvaW50ZXI6IFBvaW50ZXJUeXBlLCBldmVudDogUG9pbnRlckV2ZW50VHlwZSwgZXZlbnRUYXJnZXQ6IE5vZGUpIHtcbiAgICBpZiAoIXRoaXMuc2ltdWxhdGlvbiAmJiAhKHRoaXMubW9kaWZpY2F0aW9uICYmIHRoaXMubW9kaWZpY2F0aW9uLmVuZFJlc3VsdCkpIHtcbiAgICAgIHRoaXMudXBkYXRlUG9pbnRlcihwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQsIGZhbHNlKVxuICAgIH1cblxuICAgIGNvbnN0IGR1cGxpY2F0ZU1vdmUgPVxuICAgICAgdGhpcy5jb29yZHMuY3VyLnBhZ2UueCA9PT0gdGhpcy5jb29yZHMucHJldi5wYWdlLnggJiZcbiAgICAgIHRoaXMuY29vcmRzLmN1ci5wYWdlLnkgPT09IHRoaXMuY29vcmRzLnByZXYucGFnZS55ICYmXG4gICAgICB0aGlzLmNvb3Jkcy5jdXIuY2xpZW50LnggPT09IHRoaXMuY29vcmRzLnByZXYuY2xpZW50LnggJiZcbiAgICAgIHRoaXMuY29vcmRzLmN1ci5jbGllbnQueSA9PT0gdGhpcy5jb29yZHMucHJldi5jbGllbnQueVxuXG4gICAgbGV0IGR4OiBudW1iZXJcbiAgICBsZXQgZHk6IG51bWJlclxuXG4gICAgLy8gcmVnaXN0ZXIgbW92ZW1lbnQgZ3JlYXRlciB0aGFuIHBvaW50ZXJNb3ZlVG9sZXJhbmNlXG4gICAgaWYgKHRoaXMucG9pbnRlcklzRG93biAmJiAhdGhpcy5wb2ludGVyV2FzTW92ZWQpIHtcbiAgICAgIGR4ID0gdGhpcy5jb29yZHMuY3VyLmNsaWVudC54IC0gdGhpcy5jb29yZHMuc3RhcnQuY2xpZW50LnhcbiAgICAgIGR5ID0gdGhpcy5jb29yZHMuY3VyLmNsaWVudC55IC0gdGhpcy5jb29yZHMuc3RhcnQuY2xpZW50LnlcblxuICAgICAgdGhpcy5wb2ludGVyV2FzTW92ZWQgPSBoeXBvdChkeCwgZHkpID4gdGhpcy5wb2ludGVyTW92ZVRvbGVyYW5jZVxuICAgIH1cblxuICAgIGNvbnN0IHBvaW50ZXJJbmRleCA9IHRoaXMuZ2V0UG9pbnRlckluZGV4KHBvaW50ZXIpXG4gICAgY29uc3Qgc2lnbmFsQXJnID0ge1xuICAgICAgcG9pbnRlcixcbiAgICAgIHBvaW50ZXJJbmRleCxcbiAgICAgIHBvaW50ZXJJbmZvOiB0aGlzLnBvaW50ZXJzW3BvaW50ZXJJbmRleF0sXG4gICAgICBldmVudCxcbiAgICAgIHR5cGU6ICdtb3ZlJyBhcyBjb25zdCxcbiAgICAgIGV2ZW50VGFyZ2V0LFxuICAgICAgZHgsXG4gICAgICBkeSxcbiAgICAgIGR1cGxpY2F0ZTogZHVwbGljYXRlTW92ZSxcbiAgICAgIGludGVyYWN0aW9uOiB0aGlzIGFzIHVua25vd24gYXMgSW50ZXJhY3Rpb248bmV2ZXI+LFxuICAgIH1cblxuICAgIGlmICghZHVwbGljYXRlTW92ZSkge1xuICAgICAgLy8gc2V0IHBvaW50ZXIgY29vcmRpbmF0ZSwgdGltZSBjaGFuZ2VzIGFuZCB2ZWxvY2l0eVxuICAgICAgcG9pbnRlclV0aWxzLnNldENvb3JkVmVsb2NpdHkodGhpcy5jb29yZHMudmVsb2NpdHksIHRoaXMuY29vcmRzLmRlbHRhKVxuICAgIH1cblxuICAgIHRoaXMuX3Njb3BlRmlyZSgnaW50ZXJhY3Rpb25zOm1vdmUnLCBzaWduYWxBcmcpXG5cbiAgICBpZiAoIWR1cGxpY2F0ZU1vdmUgJiYgIXRoaXMuc2ltdWxhdGlvbikge1xuICAgICAgLy8gaWYgaW50ZXJhY3RpbmcsIGZpcmUgYW4gJ2FjdGlvbi1tb3ZlJyBzaWduYWwgZXRjXG4gICAgICBpZiAodGhpcy5pbnRlcmFjdGluZygpKSB7XG4gICAgICAgIHNpZ25hbEFyZy50eXBlID0gbnVsbFxuICAgICAgICB0aGlzLm1vdmUoc2lnbmFsQXJnKVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wb2ludGVyV2FzTW92ZWQpIHtcbiAgICAgICAgcG9pbnRlclV0aWxzLmNvcHlDb29yZHModGhpcy5jb29yZHMucHJldiwgdGhpcy5jb29yZHMuY3VyKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBgYGBqc1xuICAgKiBpbnRlcmFjdCh0YXJnZXQpXG4gICAqICAgLmRyYWdnYWJsZSh0cnVlKVxuICAgKiAgIC5vbignZHJhZ21vdmUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICogICAgIGlmIChzb21lQ29uZGl0aW9uKSB7XG4gICAqICAgICAgIC8vIGNoYW5nZSB0aGUgc25hcCBzZXR0aW5nc1xuICAgKiAgICAgICBldmVudC5pbnRlcmFjdGFibGUuZHJhZ2dhYmxlKHsgc25hcDogeyB0YXJnZXRzOiBbXSB9fSlcbiAgICogICAgICAgLy8gZmlyZSBhbm90aGVyIG1vdmUgZXZlbnQgd2l0aCByZS1jYWxjdWxhdGVkIHNuYXBcbiAgICogICAgICAgZXZlbnQuaW50ZXJhY3Rpb24ubW92ZSgpXG4gICAqICAgICB9XG4gICAqICAgfSlcbiAgICogYGBgXG4gICAqXG4gICAqIEZvcmNlIGEgbW92ZSBvZiB0aGUgY3VycmVudCBhY3Rpb24gYXQgdGhlIHNhbWUgY29vcmRpbmF0ZXMuIFVzZWZ1bCBpZlxuICAgKiBzbmFwL3Jlc3RyaWN0IGhhcyBiZWVuIGNoYW5nZWQgYW5kIHlvdSB3YW50IGEgbW92ZW1lbnQgd2l0aCB0aGUgbmV3XG4gICAqIHNldHRpbmdzLlxuICAgKi9cbiAgbW92ZShzaWduYWxBcmc/OiBhbnkpIHtcbiAgICBpZiAoIXNpZ25hbEFyZyB8fCAhc2lnbmFsQXJnLmV2ZW50KSB7XG4gICAgICBwb2ludGVyVXRpbHMuc2V0WmVyb0Nvb3Jkcyh0aGlzLmNvb3Jkcy5kZWx0YSlcbiAgICB9XG5cbiAgICBzaWduYWxBcmcgPSBleHRlbmQoXG4gICAgICB7XG4gICAgICAgIHBvaW50ZXI6IHRoaXMuX2xhdGVzdFBvaW50ZXIucG9pbnRlcixcbiAgICAgICAgZXZlbnQ6IHRoaXMuX2xhdGVzdFBvaW50ZXIuZXZlbnQsXG4gICAgICAgIGV2ZW50VGFyZ2V0OiB0aGlzLl9sYXRlc3RQb2ludGVyLmV2ZW50VGFyZ2V0LFxuICAgICAgICBpbnRlcmFjdGlvbjogdGhpcyxcbiAgICAgIH0sXG4gICAgICBzaWduYWxBcmcgfHwge30sXG4gICAgKVxuXG4gICAgc2lnbmFsQXJnLnBoYXNlID0gJ21vdmUnXG5cbiAgICB0aGlzLl9kb1BoYXNlKHNpZ25hbEFyZylcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogRW5kIGludGVyYWN0IG1vdmUgZXZlbnRzIGFuZCBzdG9wIGF1dG8tc2Nyb2xsIHVubGVzcyBzaW11bGF0aW9uIGlzIHJ1bm5pbmdcbiAgICovXG4gIHBvaW50ZXJVcChwb2ludGVyOiBQb2ludGVyVHlwZSwgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsIGV2ZW50VGFyZ2V0OiBOb2RlLCBjdXJFdmVudFRhcmdldDogRXZlbnRUYXJnZXQpIHtcbiAgICBsZXQgcG9pbnRlckluZGV4ID0gdGhpcy5nZXRQb2ludGVySW5kZXgocG9pbnRlcilcblxuICAgIGlmIChwb2ludGVySW5kZXggPT09IC0xKSB7XG4gICAgICBwb2ludGVySW5kZXggPSB0aGlzLnVwZGF0ZVBvaW50ZXIocG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0LCBmYWxzZSlcbiAgICB9XG5cbiAgICBjb25zdCB0eXBlID0gL2NhbmNlbCQvaS50ZXN0KGV2ZW50LnR5cGUpID8gJ2NhbmNlbCcgOiAndXAnXG5cbiAgICB0aGlzLl9zY29wZUZpcmUoYGludGVyYWN0aW9uczoke3R5cGV9YCBhcyAnaW50ZXJhY3Rpb25zOnVwJyB8ICdpbnRlcmFjdGlvbnM6Y2FuY2VsJywge1xuICAgICAgcG9pbnRlcixcbiAgICAgIHBvaW50ZXJJbmRleCxcbiAgICAgIHBvaW50ZXJJbmZvOiB0aGlzLnBvaW50ZXJzW3BvaW50ZXJJbmRleF0sXG4gICAgICBldmVudCxcbiAgICAgIGV2ZW50VGFyZ2V0LFxuICAgICAgdHlwZTogdHlwZSBhcyBhbnksXG4gICAgICBjdXJFdmVudFRhcmdldCxcbiAgICAgIGludGVyYWN0aW9uOiB0aGlzIGFzIHVua25vd24gYXMgSW50ZXJhY3Rpb248bmV2ZXI+LFxuICAgIH0pXG5cbiAgICBpZiAoIXRoaXMuc2ltdWxhdGlvbikge1xuICAgICAgdGhpcy5lbmQoZXZlbnQpXG4gICAgfVxuXG4gICAgdGhpcy5yZW1vdmVQb2ludGVyKHBvaW50ZXIsIGV2ZW50KVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBkb2N1bWVudEJsdXIoZXZlbnQ6IEV2ZW50KSB7XG4gICAgdGhpcy5lbmQoZXZlbnQgYXMgYW55KVxuICAgIHRoaXMuX3Njb3BlRmlyZSgnaW50ZXJhY3Rpb25zOmJsdXInLCB7XG4gICAgICBldmVudCxcbiAgICAgIHR5cGU6ICdibHVyJyxcbiAgICAgIGludGVyYWN0aW9uOiB0aGlzIGFzIHVua25vd24gYXMgSW50ZXJhY3Rpb248bmV2ZXI+LFxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogYGBganNcbiAgICogaW50ZXJhY3QodGFyZ2V0KVxuICAgKiAgIC5kcmFnZ2FibGUodHJ1ZSlcbiAgICogICAub24oJ21vdmUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICogICAgIGlmIChldmVudC5wYWdlWCA+IDEwMDApIHtcbiAgICogICAgICAgLy8gZW5kIHRoZSBjdXJyZW50IGFjdGlvblxuICAgKiAgICAgICBldmVudC5pbnRlcmFjdGlvbi5lbmQoKVxuICAgKiAgICAgICAvLyBzdG9wIGFsbCBmdXJ0aGVyIGxpc3RlbmVycyBmcm9tIGJlaW5nIGNhbGxlZFxuICAgKiAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuICAgKiAgICAgfVxuICAgKiAgIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgZW5kKGV2ZW50PzogUG9pbnRlckV2ZW50VHlwZSkge1xuICAgIHRoaXMuX2VuZGluZyA9IHRydWVcbiAgICBldmVudCA9IGV2ZW50IHx8IHRoaXMuX2xhdGVzdFBvaW50ZXIuZXZlbnRcbiAgICBsZXQgZW5kUGhhc2VSZXN1bHQ6IGJvb2xlYW5cblxuICAgIGlmICh0aGlzLmludGVyYWN0aW5nKCkpIHtcbiAgICAgIGVuZFBoYXNlUmVzdWx0ID0gdGhpcy5fZG9QaGFzZSh7XG4gICAgICAgIGV2ZW50LFxuICAgICAgICBpbnRlcmFjdGlvbjogdGhpcyxcbiAgICAgICAgcGhhc2U6ICdlbmQnLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICB0aGlzLl9lbmRpbmcgPSBmYWxzZVxuXG4gICAgaWYgKGVuZFBoYXNlUmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICB0aGlzLnN0b3AoKVxuICAgIH1cbiAgfVxuXG4gIGN1cnJlbnRBY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludGVyYWN0aW5nID8gdGhpcy5wcmVwYXJlZC5uYW1lIDogbnVsbFxuICB9XG5cbiAgaW50ZXJhY3RpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludGVyYWN0aW5nXG4gIH1cblxuICBzdG9wKCkge1xuICAgIHRoaXMuX3Njb3BlRmlyZSgnaW50ZXJhY3Rpb25zOnN0b3AnLCB7IGludGVyYWN0aW9uOiB0aGlzIH0pXG5cbiAgICB0aGlzLmludGVyYWN0YWJsZSA9IHRoaXMuZWxlbWVudCA9IG51bGxcblxuICAgIHRoaXMuX2ludGVyYWN0aW5nID0gZmFsc2VcbiAgICB0aGlzLl9zdG9wcGVkID0gdHJ1ZVxuICAgIHRoaXMucHJlcGFyZWQubmFtZSA9IHRoaXMucHJldkV2ZW50ID0gbnVsbFxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXRQb2ludGVySW5kZXgocG9pbnRlcjogYW55KSB7XG4gICAgY29uc3QgcG9pbnRlcklkID0gcG9pbnRlclV0aWxzLmdldFBvaW50ZXJJZChwb2ludGVyKVxuXG4gICAgLy8gbW91c2UgYW5kIHBlbiBpbnRlcmFjdGlvbnMgbWF5IGhhdmUgb25seSBvbmUgcG9pbnRlclxuICAgIHJldHVybiB0aGlzLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IHRoaXMucG9pbnRlclR5cGUgPT09ICdwZW4nXG4gICAgICA/IHRoaXMucG9pbnRlcnMubGVuZ3RoIC0gMVxuICAgICAgOiBhcnIuZmluZEluZGV4KHRoaXMucG9pbnRlcnMsIChjdXJQb2ludGVyKSA9PiBjdXJQb2ludGVyLmlkID09PSBwb2ludGVySWQpXG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIGdldFBvaW50ZXJJbmZvKHBvaW50ZXI6IGFueSkge1xuICAgIHJldHVybiB0aGlzLnBvaW50ZXJzW3RoaXMuZ2V0UG9pbnRlckluZGV4KHBvaW50ZXIpXVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICB1cGRhdGVQb2ludGVyKHBvaW50ZXI6IFBvaW50ZXJUeXBlLCBldmVudDogUG9pbnRlckV2ZW50VHlwZSwgZXZlbnRUYXJnZXQ6IE5vZGUsIGRvd24/OiBib29sZWFuKSB7XG4gICAgY29uc3QgaWQgPSBwb2ludGVyVXRpbHMuZ2V0UG9pbnRlcklkKHBvaW50ZXIpXG4gICAgbGV0IHBvaW50ZXJJbmRleCA9IHRoaXMuZ2V0UG9pbnRlckluZGV4KHBvaW50ZXIpXG4gICAgbGV0IHBvaW50ZXJJbmZvID0gdGhpcy5wb2ludGVyc1twb2ludGVySW5kZXhdXG5cbiAgICBkb3duID0gZG93biA9PT0gZmFsc2UgPyBmYWxzZSA6IGRvd24gfHwgLyhkb3dufHN0YXJ0KSQvaS50ZXN0KGV2ZW50LnR5cGUpXG5cbiAgICBpZiAoIXBvaW50ZXJJbmZvKSB7XG4gICAgICBwb2ludGVySW5mbyA9IG5ldyBQb2ludGVySW5mbyhpZCwgcG9pbnRlciwgZXZlbnQsIG51bGwsIG51bGwpXG5cbiAgICAgIHBvaW50ZXJJbmRleCA9IHRoaXMucG9pbnRlcnMubGVuZ3RoXG4gICAgICB0aGlzLnBvaW50ZXJzLnB1c2gocG9pbnRlckluZm8pXG4gICAgfSBlbHNlIHtcbiAgICAgIHBvaW50ZXJJbmZvLnBvaW50ZXIgPSBwb2ludGVyXG4gICAgfVxuXG4gICAgcG9pbnRlclV0aWxzLnNldENvb3JkcyhcbiAgICAgIHRoaXMuY29vcmRzLmN1cixcbiAgICAgIHRoaXMucG9pbnRlcnMubWFwKChwKSA9PiBwLnBvaW50ZXIpLFxuICAgICAgdGhpcy5fbm93KCksXG4gICAgKVxuICAgIHBvaW50ZXJVdGlscy5zZXRDb29yZERlbHRhcyh0aGlzLmNvb3Jkcy5kZWx0YSwgdGhpcy5jb29yZHMucHJldiwgdGhpcy5jb29yZHMuY3VyKVxuXG4gICAgaWYgKGRvd24pIHtcbiAgICAgIHRoaXMucG9pbnRlcklzRG93biA9IHRydWVcblxuICAgICAgcG9pbnRlckluZm8uZG93blRpbWUgPSB0aGlzLmNvb3Jkcy5jdXIudGltZVN0YW1wXG4gICAgICBwb2ludGVySW5mby5kb3duVGFyZ2V0ID0gZXZlbnRUYXJnZXRcbiAgICAgIHBvaW50ZXJVdGlscy5wb2ludGVyRXh0ZW5kKHRoaXMuZG93blBvaW50ZXIsIHBvaW50ZXIpXG5cbiAgICAgIGlmICghdGhpcy5pbnRlcmFjdGluZygpKSB7XG4gICAgICAgIHBvaW50ZXJVdGlscy5jb3B5Q29vcmRzKHRoaXMuY29vcmRzLnN0YXJ0LCB0aGlzLmNvb3Jkcy5jdXIpXG4gICAgICAgIHBvaW50ZXJVdGlscy5jb3B5Q29vcmRzKHRoaXMuY29vcmRzLnByZXYsIHRoaXMuY29vcmRzLmN1cilcblxuICAgICAgICB0aGlzLmRvd25FdmVudCA9IGV2ZW50XG4gICAgICAgIHRoaXMucG9pbnRlcldhc01vdmVkID0gZmFsc2VcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl91cGRhdGVMYXRlc3RQb2ludGVyKHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldClcblxuICAgIHRoaXMuX3Njb3BlRmlyZSgnaW50ZXJhY3Rpb25zOnVwZGF0ZS1wb2ludGVyJywge1xuICAgICAgcG9pbnRlcixcbiAgICAgIGV2ZW50LFxuICAgICAgZXZlbnRUYXJnZXQsXG4gICAgICBkb3duLFxuICAgICAgcG9pbnRlckluZm8sXG4gICAgICBwb2ludGVySW5kZXgsXG4gICAgICBpbnRlcmFjdGlvbjogdGhpcyBhcyB1bmtub3duIGFzIEludGVyYWN0aW9uPG5ldmVyPixcbiAgICB9KVxuXG4gICAgcmV0dXJuIHBvaW50ZXJJbmRleFxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICByZW1vdmVQb2ludGVyKHBvaW50ZXI6IFBvaW50ZXJUeXBlLCBldmVudDogUG9pbnRlckV2ZW50VHlwZSkge1xuICAgIGNvbnN0IHBvaW50ZXJJbmRleCA9IHRoaXMuZ2V0UG9pbnRlckluZGV4KHBvaW50ZXIpXG5cbiAgICBpZiAocG9pbnRlckluZGV4ID09PSAtMSkgcmV0dXJuXG5cbiAgICBjb25zdCBwb2ludGVySW5mbyA9IHRoaXMucG9pbnRlcnNbcG9pbnRlckluZGV4XVxuXG4gICAgdGhpcy5fc2NvcGVGaXJlKCdpbnRlcmFjdGlvbnM6cmVtb3ZlLXBvaW50ZXInLCB7XG4gICAgICBwb2ludGVyLFxuICAgICAgZXZlbnQsXG4gICAgICBldmVudFRhcmdldDogbnVsbCxcbiAgICAgIHBvaW50ZXJJbmRleCxcbiAgICAgIHBvaW50ZXJJbmZvLFxuICAgICAgaW50ZXJhY3Rpb246IHRoaXMgYXMgdW5rbm93biBhcyBJbnRlcmFjdGlvbjxuZXZlcj4sXG4gICAgfSlcblxuICAgIHRoaXMucG9pbnRlcnMuc3BsaWNlKHBvaW50ZXJJbmRleCwgMSlcbiAgICB0aGlzLnBvaW50ZXJJc0Rvd24gPSBmYWxzZVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfdXBkYXRlTGF0ZXN0UG9pbnRlcihwb2ludGVyOiBQb2ludGVyVHlwZSwgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsIGV2ZW50VGFyZ2V0OiBOb2RlKSB7XG4gICAgdGhpcy5fbGF0ZXN0UG9pbnRlci5wb2ludGVyID0gcG9pbnRlclxuICAgIHRoaXMuX2xhdGVzdFBvaW50ZXIuZXZlbnQgPSBldmVudFxuICAgIHRoaXMuX2xhdGVzdFBvaW50ZXIuZXZlbnRUYXJnZXQgPSBldmVudFRhcmdldFxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9sYXRlc3RQb2ludGVyLnBvaW50ZXIgPSBudWxsXG4gICAgdGhpcy5fbGF0ZXN0UG9pbnRlci5ldmVudCA9IG51bGxcbiAgICB0aGlzLl9sYXRlc3RQb2ludGVyLmV2ZW50VGFyZ2V0ID0gbnVsbFxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfY3JlYXRlUHJlcGFyZWRFdmVudDxQIGV4dGVuZHMgRXZlbnRQaGFzZT4oXG4gICAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsXG4gICAgcGhhc2U6IFAsXG4gICAgcHJlRW5kPzogYm9vbGVhbixcbiAgICB0eXBlPzogc3RyaW5nLFxuICApIHtcbiAgICByZXR1cm4gbmV3IEludGVyYWN0RXZlbnQ8VCwgUD4odGhpcywgZXZlbnQsIHRoaXMucHJlcGFyZWQubmFtZSwgcGhhc2UsIHRoaXMuZWxlbWVudCwgcHJlRW5kLCB0eXBlKVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfZmlyZUV2ZW50PFAgZXh0ZW5kcyBFdmVudFBoYXNlPihpRXZlbnQ6IEludGVyYWN0RXZlbnQ8VCwgUD4pIHtcbiAgICB0aGlzLmludGVyYWN0YWJsZT8uZmlyZShpRXZlbnQpXG5cbiAgICBpZiAoIXRoaXMucHJldkV2ZW50IHx8IGlFdmVudC50aW1lU3RhbXAgPj0gdGhpcy5wcmV2RXZlbnQudGltZVN0YW1wKSB7XG4gICAgICB0aGlzLnByZXZFdmVudCA9IGlFdmVudFxuICAgIH1cbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2RvUGhhc2U8UCBleHRlbmRzIEV2ZW50UGhhc2U+KFxuICAgIHNpZ25hbEFyZzogT21pdDxEb1BoYXNlQXJnPFQsIFA+LCAnaUV2ZW50Jz4gJiB7IGlFdmVudD86IEludGVyYWN0RXZlbnQ8VCwgUD4gfSxcbiAgKSB7XG4gICAgY29uc3QgeyBldmVudCwgcGhhc2UsIHByZUVuZCwgdHlwZSB9ID0gc2lnbmFsQXJnXG4gICAgY29uc3QgeyByZWN0IH0gPSB0aGlzXG5cbiAgICBpZiAocmVjdCAmJiBwaGFzZSA9PT0gJ21vdmUnKSB7XG4gICAgICAvLyB1cGRhdGUgdGhlIHJlY3QgY2hhbmdlcyBkdWUgdG8gcG9pbnRlciBtb3ZlXG4gICAgICByZWN0VXRpbHMuYWRkRWRnZXModGhpcy5lZGdlcywgcmVjdCwgdGhpcy5jb29yZHMuZGVsdGFbdGhpcy5pbnRlcmFjdGFibGUub3B0aW9ucy5kZWx0YVNvdXJjZV0pXG5cbiAgICAgIHJlY3Qud2lkdGggPSByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0XG4gICAgICByZWN0LmhlaWdodCA9IHJlY3QuYm90dG9tIC0gcmVjdC50b3BcbiAgICB9XG5cbiAgICBjb25zdCBiZWZvcmVSZXN1bHQgPSB0aGlzLl9zY29wZUZpcmUoYGludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLSR7cGhhc2V9YCBhcyBhbnksIHNpZ25hbEFyZylcblxuICAgIGlmIChiZWZvcmVSZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBpRXZlbnQgPSAoc2lnbmFsQXJnLmlFdmVudCA9IHRoaXMuX2NyZWF0ZVByZXBhcmVkRXZlbnQoZXZlbnQsIHBoYXNlLCBwcmVFbmQsIHR5cGUpKVxuXG4gICAgdGhpcy5fc2NvcGVGaXJlKGBpbnRlcmFjdGlvbnM6YWN0aW9uLSR7cGhhc2V9YCBhcyBhbnksIHNpZ25hbEFyZylcblxuICAgIGlmIChwaGFzZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgdGhpcy5wcmV2RXZlbnQgPSBpRXZlbnRcbiAgICB9XG5cbiAgICB0aGlzLl9maXJlRXZlbnQoaUV2ZW50KVxuXG4gICAgdGhpcy5fc2NvcGVGaXJlKGBpbnRlcmFjdGlvbnM6YWZ0ZXItYWN0aW9uLSR7cGhhc2V9YCBhcyBhbnksIHNpZ25hbEFyZylcblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9ub3coKSB7XG4gICAgcmV0dXJuIERhdGUubm93KClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbnRlcmFjdGlvblxuZXhwb3J0IHsgUG9pbnRlckluZm8gfVxuIiwgImltcG9ydCB0eXBlIEludGVyYWN0aW9uIGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgeyBfUHJveHlNZXRob2RzIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgUG9pbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0ICogYXMgcmVjdFV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3JlY3QnXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGlvbiB7XG4gICAgb2Zmc2V0Qnk/OiB0eXBlb2Ygb2Zmc2V0QnlcbiAgICBvZmZzZXQ6IHtcbiAgICAgIHRvdGFsOiBQb2ludFxuICAgICAgcGVuZGluZzogUG9pbnRcbiAgICB9XG4gIH1cblxuICBlbnVtIF9Qcm94eU1ldGhvZHMge1xuICAgIG9mZnNldEJ5ID0gJycsXG4gIH1cbn1cblxuOyhfUHJveHlNZXRob2RzIGFzIGFueSkub2Zmc2V0QnkgPSAnJ1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkVG90YWwoaW50ZXJhY3Rpb246IEludGVyYWN0aW9uKSB7XG4gIGlmICghaW50ZXJhY3Rpb24ucG9pbnRlcklzRG93bikge1xuICAgIHJldHVyblxuICB9XG5cbiAgYWRkVG9Db29yZHMoaW50ZXJhY3Rpb24uY29vcmRzLmN1ciwgaW50ZXJhY3Rpb24ub2Zmc2V0LnRvdGFsKVxuXG4gIGludGVyYWN0aW9uLm9mZnNldC5wZW5kaW5nLnggPSAwXG4gIGludGVyYWN0aW9uLm9mZnNldC5wZW5kaW5nLnkgPSAwXG59XG5cbmZ1bmN0aW9uIGJlZm9yZUFjdGlvbih7IGludGVyYWN0aW9uIH06IHsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uIH0pIHtcbiAgYXBwbHlQZW5kaW5nKGludGVyYWN0aW9uKVxufVxuXG5mdW5jdGlvbiBiZWZvcmVFbmQoeyBpbnRlcmFjdGlvbiB9OiB7IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiB9KTogYm9vbGVhbiB8IHZvaWQge1xuICBjb25zdCBoYWRQZW5kaW5nID0gYXBwbHlQZW5kaW5nKGludGVyYWN0aW9uKVxuXG4gIGlmICghaGFkUGVuZGluZykgcmV0dXJuXG5cbiAgaW50ZXJhY3Rpb24ubW92ZSh7IG9mZnNldDogdHJ1ZSB9KVxuICBpbnRlcmFjdGlvbi5lbmQoKVxuXG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBlbmQoeyBpbnRlcmFjdGlvbiB9OiB7IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiB9KSB7XG4gIGludGVyYWN0aW9uLm9mZnNldC50b3RhbC54ID0gMFxuICBpbnRlcmFjdGlvbi5vZmZzZXQudG90YWwueSA9IDBcbiAgaW50ZXJhY3Rpb24ub2Zmc2V0LnBlbmRpbmcueCA9IDBcbiAgaW50ZXJhY3Rpb24ub2Zmc2V0LnBlbmRpbmcueSA9IDBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5UGVuZGluZyhpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24pIHtcbiAgaWYgKCFoYXNQZW5kaW5nKGludGVyYWN0aW9uKSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgY29uc3QgeyBwZW5kaW5nIH0gPSBpbnRlcmFjdGlvbi5vZmZzZXRcblxuICBhZGRUb0Nvb3JkcyhpbnRlcmFjdGlvbi5jb29yZHMuY3VyLCBwZW5kaW5nKVxuICBhZGRUb0Nvb3JkcyhpbnRlcmFjdGlvbi5jb29yZHMuZGVsdGEsIHBlbmRpbmcpXG4gIHJlY3RVdGlscy5hZGRFZGdlcyhpbnRlcmFjdGlvbi5lZGdlcywgaW50ZXJhY3Rpb24ucmVjdCwgcGVuZGluZylcblxuICBwZW5kaW5nLnggPSAwXG4gIHBlbmRpbmcueSA9IDBcblxuICByZXR1cm4gdHJ1ZVxufVxuXG5mdW5jdGlvbiBvZmZzZXRCeSh0aGlzOiBJbnRlcmFjdGlvbiwgeyB4LCB5IH06IFBvaW50KSB7XG4gIHRoaXMub2Zmc2V0LnBlbmRpbmcueCArPSB4XG4gIHRoaXMub2Zmc2V0LnBlbmRpbmcueSArPSB5XG5cbiAgdGhpcy5vZmZzZXQudG90YWwueCArPSB4XG4gIHRoaXMub2Zmc2V0LnRvdGFsLnkgKz0geVxufVxuXG5mdW5jdGlvbiBhZGRUb0Nvb3Jkcyh7IHBhZ2UsIGNsaWVudCB9LCB7IHgsIHkgfTogUG9pbnQpIHtcbiAgcGFnZS54ICs9IHhcbiAgcGFnZS55ICs9IHlcbiAgY2xpZW50LnggKz0geFxuICBjbGllbnQueSArPSB5XG59XG5cbmZ1bmN0aW9uIGhhc1BlbmRpbmcoaW50ZXJhY3Rpb246IEludGVyYWN0aW9uKSB7XG4gIHJldHVybiAhIShpbnRlcmFjdGlvbi5vZmZzZXQucGVuZGluZy54IHx8IGludGVyYWN0aW9uLm9mZnNldC5wZW5kaW5nLnkpXG59XG5cbmNvbnN0IG9mZnNldDogUGx1Z2luID0ge1xuICBpZDogJ29mZnNldCcsXG4gIGJlZm9yZTogWydtb2RpZmllcnMnLCAncG9pbnRlci1ldmVudHMnLCAnYWN0aW9ucycsICdpbmVydGlhJ10sXG4gIGluc3RhbGwoc2NvcGUpIHtcbiAgICBzY29wZS5JbnRlcmFjdGlvbi5wcm90b3R5cGUub2Zmc2V0QnkgPSBvZmZzZXRCeVxuICB9LFxuICBsaXN0ZW5lcnM6IHtcbiAgICAnaW50ZXJhY3Rpb25zOm5ldyc6ICh7IGludGVyYWN0aW9uIH0pID0+IHtcbiAgICAgIGludGVyYWN0aW9uLm9mZnNldCA9IHtcbiAgICAgICAgdG90YWw6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICBwZW5kaW5nOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgIH1cbiAgICB9LFxuICAgICdpbnRlcmFjdGlvbnM6dXBkYXRlLXBvaW50ZXInOiAoeyBpbnRlcmFjdGlvbiB9KSA9PiBhZGRUb3RhbChpbnRlcmFjdGlvbiksXG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLXN0YXJ0JzogYmVmb3JlQWN0aW9uLFxuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1tb3ZlJzogYmVmb3JlQWN0aW9uLFxuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1lbmQnOiBiZWZvcmVFbmQsXG4gICAgJ2ludGVyYWN0aW9uczpzdG9wJzogZW5kLFxuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBvZmZzZXRcbiIsICJpbXBvcnQgdHlwZSB7IEludGVyYWN0aW9uLCBEb1BoYXNlQXJnIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgU2NvcGUsIFNpZ25hbEFyZ3MsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IEFjdGlvbk5hbWUsIFBvaW50LCBQb2ludGVyRXZlbnRUeXBlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzIC0tIGZvciB0eXBlc2NyaXB0IG1vZHVsZSBhdWdtZW50YXRpb25zICovXG5pbXBvcnQgJ0BpbnRlcmFjdGpzL21vZGlmaWVycy9iYXNlJ1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9vZmZzZXQvcGx1Z2luJ1xuaW1wb3J0ICogYXMgbW9kaWZpZXJzIGZyb20gJ0BpbnRlcmFjdGpzL21vZGlmaWVycy9iYXNlJ1xuaW1wb3J0IHsgTW9kaWZpY2F0aW9uIH0gZnJvbSAnQGludGVyYWN0anMvbW9kaWZpZXJzL01vZGlmaWNhdGlvbidcbmltcG9ydCB0eXBlIHsgTW9kaWZpZXJBcmcgfSBmcm9tICdAaW50ZXJhY3Rqcy9tb2RpZmllcnMvdHlwZXMnXG5pbXBvcnQgb2Zmc2V0IGZyb20gJ0BpbnRlcmFjdGpzL29mZnNldC9wbHVnaW4nXG4vKiBlc2xpbnQtZW5hYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzICovXG5pbXBvcnQgKiBhcyBkb20gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5pbXBvcnQgaHlwb3QgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaHlwb3QnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5pbXBvcnQgeyBjb3B5Q29vcmRzIH0gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcG9pbnRlclV0aWxzJ1xuaW1wb3J0IHJhZiBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yYWYnXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0RXZlbnQnIHtcbiAgaW50ZXJmYWNlIFBoYXNlTWFwIHtcbiAgICByZXN1bWU/OiB0cnVlXG4gICAgaW5lcnRpYXN0YXJ0PzogdHJ1ZVxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGlvbiB7XG4gICAgaW5lcnRpYT86IEluZXJ0aWFTdGF0ZVxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnIHtcbiAgaW50ZXJmYWNlIFBlckFjdGlvbkRlZmF1bHRzIHtcbiAgICBpbmVydGlhPzoge1xuICAgICAgZW5hYmxlZD86IGJvb2xlYW5cbiAgICAgIHJlc2lzdGFuY2U/OiBudW1iZXIgLy8gdGhlIGxhbWJkYSBpbiBleHBvbmVudGlhbCBkZWNheVxuICAgICAgbWluU3BlZWQ/OiBudW1iZXIgLy8gdGFyZ2V0IHNwZWVkIG11c3QgYmUgYWJvdmUgdGhpcyBmb3IgaW5lcnRpYSB0byBzdGFydFxuICAgICAgZW5kU3BlZWQ/OiBudW1iZXIgLy8gdGhlIHNwZWVkIGF0IHdoaWNoIGluZXJ0aWEgaXMgc2xvdyBlbm91Z2ggdG8gc3RvcFxuICAgICAgYWxsb3dSZXN1bWU/OiB0cnVlIC8vIGFsbG93IHJlc3VtaW5nIGFuIGFjdGlvbiBpbiBpbmVydGlhIHBoYXNlXG4gICAgICBzbW9vdGhFbmREdXJhdGlvbj86IG51bWJlciAvLyBhbmltYXRlIHRvIHNuYXAvcmVzdHJpY3QgZW5kT25seSBpZiB0aGVyZSdzIG5vIGluZXJ0aWFcbiAgICB9XG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnIHtcbiAgaW50ZXJmYWNlIFNpZ25hbEFyZ3Mge1xuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1pbmVydGlhc3RhcnQnOiBPbWl0PERvUGhhc2VBcmc8QWN0aW9uTmFtZSwgJ2luZXJ0aWFzdGFydCc+LCAnaUV2ZW50Jz5cbiAgICAnaW50ZXJhY3Rpb25zOmFjdGlvbi1pbmVydGlhc3RhcnQnOiBEb1BoYXNlQXJnPEFjdGlvbk5hbWUsICdpbmVydGlhc3RhcnQnPlxuICAgICdpbnRlcmFjdGlvbnM6YWZ0ZXItYWN0aW9uLWluZXJ0aWFzdGFydCc6IERvUGhhc2VBcmc8QWN0aW9uTmFtZSwgJ2luZXJ0aWFzdGFydCc+XG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLXJlc3VtZSc6IE9taXQ8RG9QaGFzZUFyZzxBY3Rpb25OYW1lLCAncmVzdW1lJz4sICdpRXZlbnQnPlxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLXJlc3VtZSc6IERvUGhhc2VBcmc8QWN0aW9uTmFtZSwgJ3Jlc3VtZSc+XG4gICAgJ2ludGVyYWN0aW9uczphZnRlci1hY3Rpb24tcmVzdW1lJzogRG9QaGFzZUFyZzxBY3Rpb25OYW1lLCAncmVzdW1lJz5cbiAgfVxufVxuXG5mdW5jdGlvbiBpbnN0YWxsKHNjb3BlOiBTY29wZSkge1xuICBjb25zdCB7IGRlZmF1bHRzIH0gPSBzY29wZVxuXG4gIHNjb3BlLnVzZVBsdWdpbihvZmZzZXQpXG4gIHNjb3BlLnVzZVBsdWdpbihtb2RpZmllcnMuZGVmYXVsdClcbiAgc2NvcGUuYWN0aW9ucy5waGFzZXMuaW5lcnRpYXN0YXJ0ID0gdHJ1ZVxuICBzY29wZS5hY3Rpb25zLnBoYXNlcy5yZXN1bWUgPSB0cnVlXG5cbiAgZGVmYXVsdHMucGVyQWN0aW9uLmluZXJ0aWEgPSB7XG4gICAgZW5hYmxlZDogZmFsc2UsXG4gICAgcmVzaXN0YW5jZTogMTAsIC8vIHRoZSBsYW1iZGEgaW4gZXhwb25lbnRpYWwgZGVjYXlcbiAgICBtaW5TcGVlZDogMTAwLCAvLyB0YXJnZXQgc3BlZWQgbXVzdCBiZSBhYm92ZSB0aGlzIGZvciBpbmVydGlhIHRvIHN0YXJ0XG4gICAgZW5kU3BlZWQ6IDEwLCAvLyB0aGUgc3BlZWQgYXQgd2hpY2ggaW5lcnRpYSBpcyBzbG93IGVub3VnaCB0byBzdG9wXG4gICAgYWxsb3dSZXN1bWU6IHRydWUsIC8vIGFsbG93IHJlc3VtaW5nIGFuIGFjdGlvbiBpbiBpbmVydGlhIHBoYXNlXG4gICAgc21vb3RoRW5kRHVyYXRpb246IDMwMCwgLy8gYW5pbWF0ZSB0byBzbmFwL3Jlc3RyaWN0IGVuZE9ubHkgaWYgdGhlcmUncyBubyBpbmVydGlhXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEluZXJ0aWFTdGF0ZSB7XG4gIGFjdGl2ZSA9IGZhbHNlXG4gIGlzTW9kaWZpZWQgPSBmYWxzZVxuICBzbW9vdGhFbmQgPSBmYWxzZVxuICBhbGxvd1Jlc3VtZSA9IGZhbHNlXG5cbiAgbW9kaWZpY2F0aW9uITogTW9kaWZpY2F0aW9uXG4gIG1vZGlmaWVyQ291bnQgPSAwXG4gIG1vZGlmaWVyQXJnITogTW9kaWZpZXJBcmdcblxuICBzdGFydENvb3JkcyE6IFBvaW50XG4gIHQwID0gMFxuICB2MCA9IDBcblxuICB0ZSA9IDBcbiAgdGFyZ2V0T2Zmc2V0ITogUG9pbnRcbiAgbW9kaWZpZWRPZmZzZXQhOiBQb2ludFxuICBjdXJyZW50T2Zmc2V0ITogUG9pbnRcblxuICBsYW1iZGFfdjA/ID0gMCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbWVsY2FzZVxuICBvbmVfdmVfdjA/ID0gMCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNhbWVsY2FzZVxuICB0aW1lb3V0ITogbnVtYmVyXG4gIHJlYWRvbmx5IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvblxuXG4gIGNvbnN0cnVjdG9yKGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbikge1xuICAgIHRoaXMuaW50ZXJhY3Rpb24gPSBpbnRlcmFjdGlvblxuICB9XG5cbiAgc3RhcnQoZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUpIHtcbiAgICBjb25zdCB7IGludGVyYWN0aW9uIH0gPSB0aGlzXG4gICAgY29uc3Qgb3B0aW9ucyA9IGdldE9wdGlvbnMoaW50ZXJhY3Rpb24pXG5cbiAgICBpZiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMuZW5hYmxlZCkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgeyBjbGllbnQ6IHZlbG9jaXR5Q2xpZW50IH0gPSBpbnRlcmFjdGlvbi5jb29yZHMudmVsb2NpdHlcbiAgICBjb25zdCBwb2ludGVyU3BlZWQgPSBoeXBvdCh2ZWxvY2l0eUNsaWVudC54LCB2ZWxvY2l0eUNsaWVudC55KVxuICAgIGNvbnN0IG1vZGlmaWNhdGlvbiA9IHRoaXMubW9kaWZpY2F0aW9uIHx8ICh0aGlzLm1vZGlmaWNhdGlvbiA9IG5ldyBNb2RpZmljYXRpb24oaW50ZXJhY3Rpb24pKVxuXG4gICAgbW9kaWZpY2F0aW9uLmNvcHlGcm9tKGludGVyYWN0aW9uLm1vZGlmaWNhdGlvbilcblxuICAgIHRoaXMudDAgPSBpbnRlcmFjdGlvbi5fbm93KClcbiAgICB0aGlzLmFsbG93UmVzdW1lID0gb3B0aW9ucy5hbGxvd1Jlc3VtZVxuICAgIHRoaXMudjAgPSBwb2ludGVyU3BlZWRcbiAgICB0aGlzLmN1cnJlbnRPZmZzZXQgPSB7IHg6IDAsIHk6IDAgfVxuICAgIHRoaXMuc3RhcnRDb29yZHMgPSBpbnRlcmFjdGlvbi5jb29yZHMuY3VyLnBhZ2VcblxuICAgIHRoaXMubW9kaWZpZXJBcmcgPSBtb2RpZmljYXRpb24uZmlsbEFyZyh7XG4gICAgICBwYWdlQ29vcmRzOiB0aGlzLnN0YXJ0Q29vcmRzLFxuICAgICAgcHJlRW5kOiB0cnVlLFxuICAgICAgcGhhc2U6ICdpbmVydGlhc3RhcnQnLFxuICAgIH0pXG5cbiAgICBjb25zdCB0aHJvd24gPVxuICAgICAgdGhpcy50MCAtIGludGVyYWN0aW9uLmNvb3Jkcy5jdXIudGltZVN0YW1wIDwgNTAgJiZcbiAgICAgIHBvaW50ZXJTcGVlZCA+IG9wdGlvbnMubWluU3BlZWQgJiZcbiAgICAgIHBvaW50ZXJTcGVlZCA+IG9wdGlvbnMuZW5kU3BlZWRcblxuICAgIGlmICh0aHJvd24pIHtcbiAgICAgIHRoaXMuc3RhcnRJbmVydGlhKClcbiAgICB9IGVsc2Uge1xuICAgICAgbW9kaWZpY2F0aW9uLnJlc3VsdCA9IG1vZGlmaWNhdGlvbi5zZXRBbGwodGhpcy5tb2RpZmllckFyZylcblxuICAgICAgaWYgKCFtb2RpZmljYXRpb24ucmVzdWx0LmNoYW5nZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhcnRTbW9vdGhFbmQoKVxuICAgIH1cblxuICAgIC8vIGZvcmNlIG1vZGlmaWNhdGlvbiBjaGFuZ2VcbiAgICBpbnRlcmFjdGlvbi5tb2RpZmljYXRpb24ucmVzdWx0LnJlY3QgPSBudWxsXG5cbiAgICAvLyBicmluZyBpbmVydGlhc3RhcnQgZXZlbnQgdG8gdGhlIHRhcmdldCBjb29yZHNcbiAgICBpbnRlcmFjdGlvbi5vZmZzZXRCeSh0aGlzLnRhcmdldE9mZnNldClcbiAgICBpbnRlcmFjdGlvbi5fZG9QaGFzZSh7XG4gICAgICBpbnRlcmFjdGlvbixcbiAgICAgIGV2ZW50LFxuICAgICAgcGhhc2U6ICdpbmVydGlhc3RhcnQnLFxuICAgIH0pXG4gICAgaW50ZXJhY3Rpb24ub2Zmc2V0QnkoeyB4OiAtdGhpcy50YXJnZXRPZmZzZXQueCwgeTogLXRoaXMudGFyZ2V0T2Zmc2V0LnkgfSlcbiAgICAvLyBmb3JjZSBtb2RpZmljYXRpb24gY2hhbmdlXG4gICAgaW50ZXJhY3Rpb24ubW9kaWZpY2F0aW9uLnJlc3VsdC5yZWN0ID0gbnVsbFxuXG4gICAgdGhpcy5hY3RpdmUgPSB0cnVlXG4gICAgaW50ZXJhY3Rpb24uc2ltdWxhdGlvbiA9IHRoaXNcblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBzdGFydEluZXJ0aWEoKSB7XG4gICAgY29uc3Qgc3RhcnRWZWxvY2l0eSA9IHRoaXMuaW50ZXJhY3Rpb24uY29vcmRzLnZlbG9jaXR5LmNsaWVudFxuICAgIGNvbnN0IG9wdGlvbnMgPSBnZXRPcHRpb25zKHRoaXMuaW50ZXJhY3Rpb24pXG4gICAgY29uc3QgbGFtYmRhID0gb3B0aW9ucy5yZXNpc3RhbmNlXG4gICAgY29uc3QgaW5lcnRpYUR1ciA9IC1NYXRoLmxvZyhvcHRpb25zLmVuZFNwZWVkIC8gdGhpcy52MCkgLyBsYW1iZGFcblxuICAgIHRoaXMudGFyZ2V0T2Zmc2V0ID0ge1xuICAgICAgeDogKHN0YXJ0VmVsb2NpdHkueCAtIGluZXJ0aWFEdXIpIC8gbGFtYmRhLFxuICAgICAgeTogKHN0YXJ0VmVsb2NpdHkueSAtIGluZXJ0aWFEdXIpIC8gbGFtYmRhLFxuICAgIH1cblxuICAgIHRoaXMudGUgPSBpbmVydGlhRHVyXG4gICAgdGhpcy5sYW1iZGFfdjAgPSBsYW1iZGEgLyB0aGlzLnYwXG4gICAgdGhpcy5vbmVfdmVfdjAgPSAxIC0gb3B0aW9ucy5lbmRTcGVlZCAvIHRoaXMudjBcblxuICAgIGNvbnN0IHsgbW9kaWZpY2F0aW9uLCBtb2RpZmllckFyZyB9ID0gdGhpc1xuXG4gICAgbW9kaWZpZXJBcmcucGFnZUNvb3JkcyA9IHtcbiAgICAgIHg6IHRoaXMuc3RhcnRDb29yZHMueCArIHRoaXMudGFyZ2V0T2Zmc2V0LngsXG4gICAgICB5OiB0aGlzLnN0YXJ0Q29vcmRzLnkgKyB0aGlzLnRhcmdldE9mZnNldC55LFxuICAgIH1cblxuICAgIG1vZGlmaWNhdGlvbi5yZXN1bHQgPSBtb2RpZmljYXRpb24uc2V0QWxsKG1vZGlmaWVyQXJnKVxuXG4gICAgaWYgKG1vZGlmaWNhdGlvbi5yZXN1bHQuY2hhbmdlZCkge1xuICAgICAgdGhpcy5pc01vZGlmaWVkID0gdHJ1ZVxuICAgICAgdGhpcy5tb2RpZmllZE9mZnNldCA9IHtcbiAgICAgICAgeDogdGhpcy50YXJnZXRPZmZzZXQueCArIG1vZGlmaWNhdGlvbi5yZXN1bHQuZGVsdGEueCxcbiAgICAgICAgeTogdGhpcy50YXJnZXRPZmZzZXQueSArIG1vZGlmaWNhdGlvbi5yZXN1bHQuZGVsdGEueSxcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm9uTmV4dEZyYW1lKCgpID0+IHRoaXMuaW5lcnRpYVRpY2soKSlcbiAgfVxuXG4gIHN0YXJ0U21vb3RoRW5kKCkge1xuICAgIHRoaXMuc21vb3RoRW5kID0gdHJ1ZVxuICAgIHRoaXMuaXNNb2RpZmllZCA9IHRydWVcbiAgICB0aGlzLnRhcmdldE9mZnNldCA9IHtcbiAgICAgIHg6IHRoaXMubW9kaWZpY2F0aW9uLnJlc3VsdC5kZWx0YS54LFxuICAgICAgeTogdGhpcy5tb2RpZmljYXRpb24ucmVzdWx0LmRlbHRhLnksXG4gICAgfVxuXG4gICAgdGhpcy5vbk5leHRGcmFtZSgoKSA9PiB0aGlzLnNtb290aEVuZFRpY2soKSlcbiAgfVxuXG4gIG9uTmV4dEZyYW1lKHRpY2tGbjogKCkgPT4gdm9pZCkge1xuICAgIHRoaXMudGltZW91dCA9IHJhZi5yZXF1ZXN0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICB0aWNrRm4oKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBpbmVydGlhVGljaygpIHtcbiAgICBjb25zdCB7IGludGVyYWN0aW9uIH0gPSB0aGlzXG4gICAgY29uc3Qgb3B0aW9ucyA9IGdldE9wdGlvbnMoaW50ZXJhY3Rpb24pXG4gICAgY29uc3QgbGFtYmRhID0gb3B0aW9ucy5yZXNpc3RhbmNlXG4gICAgY29uc3QgdCA9IChpbnRlcmFjdGlvbi5fbm93KCkgLSB0aGlzLnQwKSAvIDEwMDBcblxuICAgIGlmICh0IDwgdGhpcy50ZSkge1xuICAgICAgY29uc3QgcHJvZ3Jlc3MgPSAxIC0gKE1hdGguZXhwKC1sYW1iZGEgKiB0KSAtIHRoaXMubGFtYmRhX3YwKSAvIHRoaXMub25lX3ZlX3YwXG4gICAgICBsZXQgbmV3T2Zmc2V0OiBQb2ludFxuXG4gICAgICBpZiAodGhpcy5pc01vZGlmaWVkKSB7XG4gICAgICAgIG5ld09mZnNldCA9IGdldFF1YWRyYXRpY0N1cnZlUG9pbnQoXG4gICAgICAgICAgMCxcbiAgICAgICAgICAwLFxuICAgICAgICAgIHRoaXMudGFyZ2V0T2Zmc2V0LngsXG4gICAgICAgICAgdGhpcy50YXJnZXRPZmZzZXQueSxcbiAgICAgICAgICB0aGlzLm1vZGlmaWVkT2Zmc2V0LngsXG4gICAgICAgICAgdGhpcy5tb2RpZmllZE9mZnNldC55LFxuICAgICAgICAgIHByb2dyZXNzLFxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdPZmZzZXQgPSB7XG4gICAgICAgICAgeDogdGhpcy50YXJnZXRPZmZzZXQueCAqIHByb2dyZXNzLFxuICAgICAgICAgIHk6IHRoaXMudGFyZ2V0T2Zmc2V0LnkgKiBwcm9ncmVzcyxcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBkZWx0YSA9IHsgeDogbmV3T2Zmc2V0LnggLSB0aGlzLmN1cnJlbnRPZmZzZXQueCwgeTogbmV3T2Zmc2V0LnkgLSB0aGlzLmN1cnJlbnRPZmZzZXQueSB9XG5cbiAgICAgIHRoaXMuY3VycmVudE9mZnNldC54ICs9IGRlbHRhLnhcbiAgICAgIHRoaXMuY3VycmVudE9mZnNldC55ICs9IGRlbHRhLnlcblxuICAgICAgaW50ZXJhY3Rpb24ub2Zmc2V0QnkoZGVsdGEpXG4gICAgICBpbnRlcmFjdGlvbi5tb3ZlKClcblxuICAgICAgdGhpcy5vbk5leHRGcmFtZSgoKSA9PiB0aGlzLmluZXJ0aWFUaWNrKCkpXG4gICAgfSBlbHNlIHtcbiAgICAgIGludGVyYWN0aW9uLm9mZnNldEJ5KHtcbiAgICAgICAgeDogdGhpcy5tb2RpZmllZE9mZnNldC54IC0gdGhpcy5jdXJyZW50T2Zmc2V0LngsXG4gICAgICAgIHk6IHRoaXMubW9kaWZpZWRPZmZzZXQueSAtIHRoaXMuY3VycmVudE9mZnNldC55LFxuICAgICAgfSlcblxuICAgICAgdGhpcy5lbmQoKVxuICAgIH1cbiAgfVxuXG4gIHNtb290aEVuZFRpY2soKSB7XG4gICAgY29uc3QgeyBpbnRlcmFjdGlvbiB9ID0gdGhpc1xuICAgIGNvbnN0IHQgPSBpbnRlcmFjdGlvbi5fbm93KCkgLSB0aGlzLnQwXG4gICAgY29uc3QgeyBzbW9vdGhFbmREdXJhdGlvbjogZHVyYXRpb24gfSA9IGdldE9wdGlvbnMoaW50ZXJhY3Rpb24pXG5cbiAgICBpZiAodCA8IGR1cmF0aW9uKSB7XG4gICAgICBjb25zdCBuZXdPZmZzZXQgPSB7XG4gICAgICAgIHg6IGVhc2VPdXRRdWFkKHQsIDAsIHRoaXMudGFyZ2V0T2Zmc2V0LngsIGR1cmF0aW9uKSxcbiAgICAgICAgeTogZWFzZU91dFF1YWQodCwgMCwgdGhpcy50YXJnZXRPZmZzZXQueSwgZHVyYXRpb24pLFxuICAgICAgfVxuICAgICAgY29uc3QgZGVsdGEgPSB7XG4gICAgICAgIHg6IG5ld09mZnNldC54IC0gdGhpcy5jdXJyZW50T2Zmc2V0LngsXG4gICAgICAgIHk6IG5ld09mZnNldC55IC0gdGhpcy5jdXJyZW50T2Zmc2V0LnksXG4gICAgICB9XG5cbiAgICAgIHRoaXMuY3VycmVudE9mZnNldC54ICs9IGRlbHRhLnhcbiAgICAgIHRoaXMuY3VycmVudE9mZnNldC55ICs9IGRlbHRhLnlcblxuICAgICAgaW50ZXJhY3Rpb24ub2Zmc2V0QnkoZGVsdGEpXG4gICAgICBpbnRlcmFjdGlvbi5tb3ZlKHsgc2tpcE1vZGlmaWVyczogdGhpcy5tb2RpZmllckNvdW50IH0pXG5cbiAgICAgIHRoaXMub25OZXh0RnJhbWUoKCkgPT4gdGhpcy5zbW9vdGhFbmRUaWNrKCkpXG4gICAgfSBlbHNlIHtcbiAgICAgIGludGVyYWN0aW9uLm9mZnNldEJ5KHtcbiAgICAgICAgeDogdGhpcy50YXJnZXRPZmZzZXQueCAtIHRoaXMuY3VycmVudE9mZnNldC54LFxuICAgICAgICB5OiB0aGlzLnRhcmdldE9mZnNldC55IC0gdGhpcy5jdXJyZW50T2Zmc2V0LnksXG4gICAgICB9KVxuXG4gICAgICB0aGlzLmVuZCgpXG4gICAgfVxuICB9XG5cbiAgcmVzdW1lKHsgcG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0IH06IFNpZ25hbEFyZ3NbJ2ludGVyYWN0aW9uczpkb3duJ10pIHtcbiAgICBjb25zdCB7IGludGVyYWN0aW9uIH0gPSB0aGlzXG5cbiAgICAvLyB1bmRvIGluZXJ0aWEgY2hhbmdlcyB0byBpbnRlcmFjdGlvbiBjb29yZHNcbiAgICBpbnRlcmFjdGlvbi5vZmZzZXRCeSh7XG4gICAgICB4OiAtdGhpcy5jdXJyZW50T2Zmc2V0LngsXG4gICAgICB5OiAtdGhpcy5jdXJyZW50T2Zmc2V0LnksXG4gICAgfSlcblxuICAgIC8vIHVwZGF0ZSBwb2ludGVyIGF0IHBvaW50ZXIgZG93biBwb3NpdGlvblxuICAgIGludGVyYWN0aW9uLnVwZGF0ZVBvaW50ZXIocG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0LCB0cnVlKVxuXG4gICAgLy8gZmlyZSByZXN1bWUgc2lnbmFscyBhbmQgZXZlbnRcbiAgICBpbnRlcmFjdGlvbi5fZG9QaGFzZSh7XG4gICAgICBpbnRlcmFjdGlvbixcbiAgICAgIGV2ZW50LFxuICAgICAgcGhhc2U6ICdyZXN1bWUnLFxuICAgIH0pXG4gICAgY29weUNvb3JkcyhpbnRlcmFjdGlvbi5jb29yZHMucHJldiwgaW50ZXJhY3Rpb24uY29vcmRzLmN1cilcblxuICAgIHRoaXMuc3RvcCgpXG4gIH1cblxuICBlbmQoKSB7XG4gICAgdGhpcy5pbnRlcmFjdGlvbi5tb3ZlKClcbiAgICB0aGlzLmludGVyYWN0aW9uLmVuZCgpXG4gICAgdGhpcy5zdG9wKClcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgdGhpcy5hY3RpdmUgPSB0aGlzLnNtb290aEVuZCA9IGZhbHNlXG4gICAgdGhpcy5pbnRlcmFjdGlvbi5zaW11bGF0aW9uID0gbnVsbFxuICAgIHJhZi5jYW5jZWwodGhpcy50aW1lb3V0KVxuICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0KHsgaW50ZXJhY3Rpb24sIGV2ZW50IH06IERvUGhhc2VBcmc8QWN0aW9uTmFtZSwgJ2VuZCc+KSB7XG4gIGlmICghaW50ZXJhY3Rpb24uX2ludGVyYWN0aW5nIHx8IGludGVyYWN0aW9uLnNpbXVsYXRpb24pIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgY29uc3Qgc3RhcnRlZCA9IGludGVyYWN0aW9uLmluZXJ0aWEuc3RhcnQoZXZlbnQpXG5cbiAgLy8gcHJldmVudCBhY3Rpb24gZW5kIGlmIGluZXJ0aWEgb3Igc21vb3RoRW5kXG4gIHJldHVybiBzdGFydGVkID8gZmFsc2UgOiBudWxsXG59XG5cbi8vIENoZWNrIGlmIHRoZSBkb3duIGV2ZW50IGhpdHMgdGhlIGN1cnJlbnQgaW5lcnRpYSB0YXJnZXRcbi8vIGNvbnRyb2wgc2hvdWxkIGJlIHJldHVybiB0byB0aGUgdXNlclxuZnVuY3Rpb24gcmVzdW1lKGFyZzogU2lnbmFsQXJnc1snaW50ZXJhY3Rpb25zOmRvd24nXSkge1xuICBjb25zdCB7IGludGVyYWN0aW9uLCBldmVudFRhcmdldCB9ID0gYXJnXG4gIGNvbnN0IHN0YXRlID0gaW50ZXJhY3Rpb24uaW5lcnRpYVxuXG4gIGlmICghc3RhdGUuYWN0aXZlKSByZXR1cm5cblxuICBsZXQgZWxlbWVudCA9IGV2ZW50VGFyZ2V0IGFzIE5vZGVcblxuICAvLyBjbGltYiB1cCB0aGUgRE9NIHRyZWUgZnJvbSB0aGUgZXZlbnQgdGFyZ2V0XG4gIHdoaWxlIChpcy5lbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgLy8gaWYgaW50ZXJhY3Rpb24gZWxlbWVudCBpcyB0aGUgY3VycmVudCBpbmVydGlhIHRhcmdldCBlbGVtZW50XG4gICAgaWYgKGVsZW1lbnQgPT09IGludGVyYWN0aW9uLmVsZW1lbnQpIHtcbiAgICAgIHN0YXRlLnJlc3VtZShhcmcpXG4gICAgICBicmVha1xuICAgIH1cblxuICAgIGVsZW1lbnQgPSBkb20ucGFyZW50Tm9kZShlbGVtZW50KVxuICB9XG59XG5cbmZ1bmN0aW9uIHN0b3AoeyBpbnRlcmFjdGlvbiB9OiB7IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiB9KSB7XG4gIGNvbnN0IHN0YXRlID0gaW50ZXJhY3Rpb24uaW5lcnRpYVxuXG4gIGlmIChzdGF0ZS5hY3RpdmUpIHtcbiAgICBzdGF0ZS5zdG9wKClcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRPcHRpb25zKHsgaW50ZXJhY3RhYmxlLCBwcmVwYXJlZCB9OiBJbnRlcmFjdGlvbikge1xuICByZXR1cm4gaW50ZXJhY3RhYmxlICYmIGludGVyYWN0YWJsZS5vcHRpb25zICYmIHByZXBhcmVkLm5hbWUgJiYgaW50ZXJhY3RhYmxlLm9wdGlvbnNbcHJlcGFyZWQubmFtZV0uaW5lcnRpYVxufVxuXG5jb25zdCBpbmVydGlhOiBQbHVnaW4gPSB7XG4gIGlkOiAnaW5lcnRpYScsXG4gIGJlZm9yZTogWydtb2RpZmllcnMnLCAnYWN0aW9ucyddLFxuICBpbnN0YWxsLFxuICBsaXN0ZW5lcnM6IHtcbiAgICAnaW50ZXJhY3Rpb25zOm5ldyc6ICh7IGludGVyYWN0aW9uIH0pID0+IHtcbiAgICAgIGludGVyYWN0aW9uLmluZXJ0aWEgPSBuZXcgSW5lcnRpYVN0YXRlKGludGVyYWN0aW9uKVxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tZW5kJzogc3RhcnQsXG4gICAgJ2ludGVyYWN0aW9uczpkb3duJzogcmVzdW1lLFxuICAgICdpbnRlcmFjdGlvbnM6c3RvcCc6IHN0b3AsXG5cbiAgICAnaW50ZXJhY3Rpb25zOmJlZm9yZS1hY3Rpb24tcmVzdW1lJzogKGFyZykgPT4ge1xuICAgICAgY29uc3QgeyBtb2RpZmljYXRpb24gfSA9IGFyZy5pbnRlcmFjdGlvblxuXG4gICAgICBtb2RpZmljYXRpb24uc3RvcChhcmcpXG4gICAgICBtb2RpZmljYXRpb24uc3RhcnQoYXJnLCBhcmcuaW50ZXJhY3Rpb24uY29vcmRzLmN1ci5wYWdlKVxuICAgICAgbW9kaWZpY2F0aW9uLmFwcGx5VG9JbnRlcmFjdGlvbihhcmcpXG4gICAgfSxcblxuICAgICdpbnRlcmFjdGlvbnM6YmVmb3JlLWFjdGlvbi1pbmVydGlhc3RhcnQnOiAoYXJnKSA9PiBhcmcuaW50ZXJhY3Rpb24ubW9kaWZpY2F0aW9uLnNldEFuZEFwcGx5KGFyZyksXG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tcmVzdW1lJzogbW9kaWZpZXJzLmFkZEV2ZW50TW9kaWZpZXJzLFxuICAgICdpbnRlcmFjdGlvbnM6YWN0aW9uLWluZXJ0aWFzdGFydCc6IG1vZGlmaWVycy5hZGRFdmVudE1vZGlmaWVycyxcbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1pbmVydGlhc3RhcnQnOiAoYXJnKSA9PlxuICAgICAgYXJnLmludGVyYWN0aW9uLm1vZGlmaWNhdGlvbi5yZXN0b3JlSW50ZXJhY3Rpb25Db29yZHMoYXJnKSxcbiAgICAnaW50ZXJhY3Rpb25zOmFmdGVyLWFjdGlvbi1yZXN1bWUnOiAoYXJnKSA9PiBhcmcuaW50ZXJhY3Rpb24ubW9kaWZpY2F0aW9uLnJlc3RvcmVJbnRlcmFjdGlvbkNvb3JkcyhhcmcpLFxuICB9LFxufVxuXG4vLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81NjM0NTI4LzIyODA4ODhcbmZ1bmN0aW9uIF9nZXRRQmV6aWVyVmFsdWUodDogbnVtYmVyLCBwMTogbnVtYmVyLCBwMjogbnVtYmVyLCBwMzogbnVtYmVyKSB7XG4gIGNvbnN0IGlUID0gMSAtIHRcbiAgcmV0dXJuIGlUICogaVQgKiBwMSArIDIgKiBpVCAqIHQgKiBwMiArIHQgKiB0ICogcDNcbn1cblxuZnVuY3Rpb24gZ2V0UXVhZHJhdGljQ3VydmVQb2ludChcbiAgc3RhcnRYOiBudW1iZXIsXG4gIHN0YXJ0WTogbnVtYmVyLFxuICBjcFg6IG51bWJlcixcbiAgY3BZOiBudW1iZXIsXG4gIGVuZFg6IG51bWJlcixcbiAgZW5kWTogbnVtYmVyLFxuICBwb3NpdGlvbjogbnVtYmVyLFxuKSB7XG4gIHJldHVybiB7XG4gICAgeDogX2dldFFCZXppZXJWYWx1ZShwb3NpdGlvbiwgc3RhcnRYLCBjcFgsIGVuZFgpLFxuICAgIHk6IF9nZXRRQmV6aWVyVmFsdWUocG9zaXRpb24sIHN0YXJ0WSwgY3BZLCBlbmRZKSxcbiAgfVxufVxuXG4vLyBodHRwOi8vZ2l6bWEuY29tL2Vhc2luZy9cbmZ1bmN0aW9uIGVhc2VPdXRRdWFkKHQ6IG51bWJlciwgYjogbnVtYmVyLCBjOiBudW1iZXIsIGQ6IG51bWJlcikge1xuICB0IC89IGRcbiAgcmV0dXJuIC1jICogdCAqICh0IC0gMikgKyBiXG59XG5cbmV4cG9ydCBkZWZhdWx0IGluZXJ0aWFcbiIsICJpbXBvcnQgKiBhcyBhcnIgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvYXJyJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgdHlwZSB7IE5vcm1hbGl6ZWRMaXN0ZW5lcnMgfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9ub3JtYWxpemVMaXN0ZW5lcnMnXG5pbXBvcnQgbm9ybWFsaXplIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL25vcm1hbGl6ZUxpc3RlbmVycydcblxuaW1wb3J0IHR5cGUgeyBMaXN0ZW5lciwgTGlzdGVuZXJzQXJnLCBSZWN0IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuZnVuY3Rpb24gZmlyZVVudGlsSW1tZWRpYXRlU3RvcHBlZChldmVudDogYW55LCBsaXN0ZW5lcnM6IExpc3RlbmVyW10pIHtcbiAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnMpIHtcbiAgICBpZiAoZXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKSB7XG4gICAgICBicmVha1xuICAgIH1cblxuICAgIGxpc3RlbmVyKGV2ZW50KVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFdmVudGFibGUge1xuICBvcHRpb25zOiBhbnlcbiAgdHlwZXM6IE5vcm1hbGl6ZWRMaXN0ZW5lcnMgPSB7fVxuICBwcm9wYWdhdGlvblN0b3BwZWQgPSBmYWxzZVxuICBpbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSBmYWxzZVxuICBnbG9iYWw6IGFueVxuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiB7IFtpbmRleDogc3RyaW5nXTogYW55IH0pIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoe30sIG9wdGlvbnMgfHwge30pXG4gIH1cblxuICBmaXJlPFQgZXh0ZW5kcyB7IHR5cGU6IHN0cmluZzsgcHJvcGFnYXRpb25TdG9wcGVkPzogYm9vbGVhbiB9PihldmVudDogVCkge1xuICAgIGxldCBsaXN0ZW5lcnM6IExpc3RlbmVyW11cbiAgICBjb25zdCBnbG9iYWwgPSB0aGlzLmdsb2JhbFxuXG4gICAgLy8gSW50ZXJhY3RhYmxlI29uKCkgbGlzdGVuZXJzXG4gICAgLy8gdHNsaW50OmRpc2FibGUgbm8tY29uZGl0aW9uYWwtYXNzaWdubWVudFxuICAgIGlmICgobGlzdGVuZXJzID0gdGhpcy50eXBlc1tldmVudC50eXBlXSkpIHtcbiAgICAgIGZpcmVVbnRpbEltbWVkaWF0ZVN0b3BwZWQoZXZlbnQsIGxpc3RlbmVycylcbiAgICB9XG5cbiAgICAvLyBpbnRlcmFjdC5vbigpIGxpc3RlbmVyc1xuICAgIGlmICghZXZlbnQucHJvcGFnYXRpb25TdG9wcGVkICYmIGdsb2JhbCAmJiAobGlzdGVuZXJzID0gZ2xvYmFsW2V2ZW50LnR5cGVdKSkge1xuICAgICAgZmlyZVVudGlsSW1tZWRpYXRlU3RvcHBlZChldmVudCwgbGlzdGVuZXJzKVxuICAgIH1cbiAgfVxuXG4gIG9uKHR5cGU6IHN0cmluZywgbGlzdGVuZXI6IExpc3RlbmVyc0FyZykge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IG5vcm1hbGl6ZSh0eXBlLCBsaXN0ZW5lcilcblxuICAgIGZvciAodHlwZSBpbiBsaXN0ZW5lcnMpIHtcbiAgICAgIHRoaXMudHlwZXNbdHlwZV0gPSBhcnIubWVyZ2UodGhpcy50eXBlc1t0eXBlXSB8fCBbXSwgbGlzdGVuZXJzW3R5cGVdKVxuICAgIH1cbiAgfVxuXG4gIG9mZih0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiBMaXN0ZW5lcnNBcmcpIHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSBub3JtYWxpemUodHlwZSwgbGlzdGVuZXIpXG5cbiAgICBmb3IgKHR5cGUgaW4gbGlzdGVuZXJzKSB7XG4gICAgICBjb25zdCBldmVudExpc3QgPSB0aGlzLnR5cGVzW3R5cGVdXG5cbiAgICAgIGlmICghZXZlbnRMaXN0IHx8ICFldmVudExpc3QubGVuZ3RoKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3Qgc3ViTGlzdGVuZXIgb2YgbGlzdGVuZXJzW3R5cGVdKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gZXZlbnRMaXN0LmluZGV4T2Yoc3ViTGlzdGVuZXIpXG5cbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIGV2ZW50TGlzdC5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRSZWN0KF9lbGVtZW50OiBFbGVtZW50KTogUmVjdCB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuIiwgImltcG9ydCAqIGFzIGFyciBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9hcnInXG5pbXBvcnQgKiBhcyBkb21VdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscydcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcbmltcG9ydCBwRXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3BvaW50ZXJFeHRlbmQnXG5pbXBvcnQgKiBhcyBwb2ludGVyVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvcG9pbnRlclV0aWxzJ1xuXG5pbXBvcnQgdHlwZSB7IFNjb3BlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgRWxlbWVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmltcG9ydCB0eXBlIHsgTmF0aXZlRXZlbnRUYXJnZXQgfSBmcm9tICcuL05hdGl2ZVR5cGVzJ1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9zY29wZScge1xuICBpbnRlcmZhY2UgU2NvcGUge1xuICAgIGV2ZW50czogUmV0dXJuVHlwZTx0eXBlb2YgaW5zdGFsbD5cbiAgfVxufVxuXG5pbnRlcmZhY2UgRXZlbnRPcHRpb25zIHtcbiAgY2FwdHVyZTogYm9vbGVhblxuICBwYXNzaXZlOiBib29sZWFuXG59XG5cbnR5cGUgUGFydGlhbEV2ZW50VGFyZ2V0ID0gUGFydGlhbDxOYXRpdmVFdmVudFRhcmdldD5cblxudHlwZSBMaXN0ZW5lckVudHJ5ID0geyBmdW5jOiAoZXZlbnQ6IEV2ZW50IHwgRmFrZUV2ZW50KSA9PiBhbnk7IG9wdGlvbnM6IEV2ZW50T3B0aW9ucyB9XG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHRhcmdldHM6IEFycmF5PHtcbiAgICBldmVudFRhcmdldDogUGFydGlhbEV2ZW50VGFyZ2V0XG4gICAgZXZlbnRzOiB7IFt0eXBlOiBzdHJpbmddOiBMaXN0ZW5lckVudHJ5W10gfVxuICB9PiA9IFtdXG5cbiAgY29uc3QgZGVsZWdhdGVkRXZlbnRzOiB7XG4gICAgW3R5cGU6IHN0cmluZ106IEFycmF5PHtcbiAgICAgIHNlbGVjdG9yOiBzdHJpbmdcbiAgICAgIGNvbnRleHQ6IE5vZGVcbiAgICAgIGxpc3RlbmVyczogTGlzdGVuZXJFbnRyeVtdXG4gICAgfT5cbiAgfSA9IHt9XG4gIGNvbnN0IGRvY3VtZW50czogRG9jdW1lbnRbXSA9IFtdXG5cbiAgY29uc3QgZXZlbnRzTWV0aG9kcyA9IHtcbiAgICBhZGQsXG4gICAgcmVtb3ZlLFxuXG4gICAgYWRkRGVsZWdhdGUsXG4gICAgcmVtb3ZlRGVsZWdhdGUsXG5cbiAgICBkZWxlZ2F0ZUxpc3RlbmVyLFxuICAgIGRlbGVnYXRlVXNlQ2FwdHVyZSxcbiAgICBkZWxlZ2F0ZWRFdmVudHMsXG4gICAgZG9jdW1lbnRzLFxuXG4gICAgdGFyZ2V0cyxcblxuICAgIHN1cHBvcnRzT3B0aW9uczogZmFsc2UsXG4gICAgc3VwcG9ydHNQYXNzaXZlOiBmYWxzZSxcbiAgfVxuXG4gIC8vIGNoZWNrIGlmIGJyb3dzZXIgc3VwcG9ydHMgcGFzc2l2ZSBldmVudHMgYW5kIG9wdGlvbnMgYXJnXG4gIHNjb3BlLmRvY3VtZW50Py5jcmVhdGVFbGVtZW50KCdkaXYnKS5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwge1xuICAgIGdldCBjYXB0dXJlKCkge1xuICAgICAgcmV0dXJuIChldmVudHNNZXRob2RzLnN1cHBvcnRzT3B0aW9ucyA9IHRydWUpXG4gICAgfSxcbiAgICBnZXQgcGFzc2l2ZSgpIHtcbiAgICAgIHJldHVybiAoZXZlbnRzTWV0aG9kcy5zdXBwb3J0c1Bhc3NpdmUgPSB0cnVlKVxuICAgIH0sXG4gIH0pXG5cbiAgc2NvcGUuZXZlbnRzID0gZXZlbnRzTWV0aG9kc1xuXG4gIGZ1bmN0aW9uIGFkZChcbiAgICBldmVudFRhcmdldDogUGFydGlhbEV2ZW50VGFyZ2V0LFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBsaXN0ZW5lcjogTGlzdGVuZXJFbnRyeVsnZnVuYyddLFxuICAgIG9wdGlvbmFsQXJnPzogYm9vbGVhbiB8IEV2ZW50T3B0aW9ucyxcbiAgKSB7XG4gICAgaWYgKCFldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKSByZXR1cm5cblxuICAgIGNvbnN0IG9wdGlvbnMgPSBnZXRPcHRpb25zKG9wdGlvbmFsQXJnKVxuICAgIGxldCB0YXJnZXQgPSBhcnIuZmluZCh0YXJnZXRzLCAodCkgPT4gdC5ldmVudFRhcmdldCA9PT0gZXZlbnRUYXJnZXQpXG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGFyZ2V0ID0ge1xuICAgICAgICBldmVudFRhcmdldCxcbiAgICAgICAgZXZlbnRzOiB7fSxcbiAgICAgIH1cblxuICAgICAgdGFyZ2V0cy5wdXNoKHRhcmdldClcbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldC5ldmVudHNbdHlwZV0pIHtcbiAgICAgIHRhcmdldC5ldmVudHNbdHlwZV0gPSBbXVxuICAgIH1cblxuICAgIGlmICghYXJyLmZpbmQodGFyZ2V0LmV2ZW50c1t0eXBlXSwgKGwpID0+IGwuZnVuYyA9PT0gbGlzdGVuZXIgJiYgb3B0aW9uc01hdGNoKGwub3B0aW9ucywgb3B0aW9ucykpKSB7XG4gICAgICBldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICB0eXBlLFxuICAgICAgICBsaXN0ZW5lciBhcyBhbnksXG4gICAgICAgIGV2ZW50c01ldGhvZHMuc3VwcG9ydHNPcHRpb25zID8gb3B0aW9ucyA6IG9wdGlvbnMuY2FwdHVyZSxcbiAgICAgIClcbiAgICAgIHRhcmdldC5ldmVudHNbdHlwZV0ucHVzaCh7IGZ1bmM6IGxpc3RlbmVyLCBvcHRpb25zIH0pXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlKFxuICAgIGV2ZW50VGFyZ2V0OiBQYXJ0aWFsRXZlbnRUYXJnZXQsXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGxpc3RlbmVyPzogJ2FsbCcgfCBMaXN0ZW5lckVudHJ5WydmdW5jJ10sXG4gICAgb3B0aW9uYWxBcmc/OiBib29sZWFuIHwgRXZlbnRPcHRpb25zLFxuICApIHtcbiAgICBpZiAoIWV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIgfHwgIWV2ZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHJldHVyblxuXG4gICAgY29uc3QgdGFyZ2V0SW5kZXggPSBhcnIuZmluZEluZGV4KHRhcmdldHMsICh0KSA9PiB0LmV2ZW50VGFyZ2V0ID09PSBldmVudFRhcmdldClcbiAgICBjb25zdCB0YXJnZXQgPSB0YXJnZXRzW3RhcmdldEluZGV4XVxuXG4gICAgaWYgKCF0YXJnZXQgfHwgIXRhcmdldC5ldmVudHMpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICh0eXBlID09PSAnYWxsJykge1xuICAgICAgZm9yICh0eXBlIGluIHRhcmdldC5ldmVudHMpIHtcbiAgICAgICAgaWYgKHRhcmdldC5ldmVudHMuaGFzT3duUHJvcGVydHkodHlwZSkpIHtcbiAgICAgICAgICByZW1vdmUoZXZlbnRUYXJnZXQsIHR5cGUsICdhbGwnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsZXQgdHlwZUlzRW1wdHkgPSBmYWxzZVxuICAgIGNvbnN0IHR5cGVMaXN0ZW5lcnMgPSB0YXJnZXQuZXZlbnRzW3R5cGVdXG5cbiAgICBpZiAodHlwZUxpc3RlbmVycykge1xuICAgICAgaWYgKGxpc3RlbmVyID09PSAnYWxsJykge1xuICAgICAgICBmb3IgKGxldCBpID0gdHlwZUxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGNvbnN0IGVudHJ5ID0gdHlwZUxpc3RlbmVyc1tpXVxuICAgICAgICAgIHJlbW92ZShldmVudFRhcmdldCwgdHlwZSwgZW50cnkuZnVuYywgZW50cnkub3B0aW9ucylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBnZXRPcHRpb25zKG9wdGlvbmFsQXJnKVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZUxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGVudHJ5ID0gdHlwZUxpc3RlbmVyc1tpXVxuICAgICAgICAgIGlmIChlbnRyeS5mdW5jID09PSBsaXN0ZW5lciAmJiBvcHRpb25zTWF0Y2goZW50cnkub3B0aW9ucywgb3B0aW9ucykpIHtcbiAgICAgICAgICAgIGV2ZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIGxpc3RlbmVyIGFzIGFueSxcbiAgICAgICAgICAgICAgZXZlbnRzTWV0aG9kcy5zdXBwb3J0c09wdGlvbnMgPyBvcHRpb25zIDogb3B0aW9ucy5jYXB0dXJlLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgdHlwZUxpc3RlbmVycy5zcGxpY2UoaSwgMSlcblxuICAgICAgICAgICAgaWYgKHR5cGVMaXN0ZW5lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXQuZXZlbnRzW3R5cGVdXG4gICAgICAgICAgICAgIHR5cGVJc0VtcHR5ID0gdHJ1ZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlSXNFbXB0eSAmJiAhT2JqZWN0LmtleXModGFyZ2V0LmV2ZW50cykubGVuZ3RoKSB7XG4gICAgICB0YXJnZXRzLnNwbGljZSh0YXJnZXRJbmRleCwgMSlcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhZGREZWxlZ2F0ZShcbiAgICBzZWxlY3Rvcjogc3RyaW5nLFxuICAgIGNvbnRleHQ6IE5vZGUsXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGxpc3RlbmVyOiBMaXN0ZW5lckVudHJ5WydmdW5jJ10sXG4gICAgb3B0aW9uYWxBcmc/OiBhbnksXG4gICkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBnZXRPcHRpb25zKG9wdGlvbmFsQXJnKVxuICAgIGlmICghZGVsZWdhdGVkRXZlbnRzW3R5cGVdKSB7XG4gICAgICBkZWxlZ2F0ZWRFdmVudHNbdHlwZV0gPSBbXVxuXG4gICAgICAvLyBhZGQgZGVsZWdhdGUgbGlzdGVuZXIgZnVuY3Rpb25zXG4gICAgICBmb3IgKGNvbnN0IGRvYyBvZiBkb2N1bWVudHMpIHtcbiAgICAgICAgYWRkKGRvYywgdHlwZSwgZGVsZWdhdGVMaXN0ZW5lcilcbiAgICAgICAgYWRkKGRvYywgdHlwZSwgZGVsZWdhdGVVc2VDYXB0dXJlLCB0cnVlKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGRlbGVnYXRlcyA9IGRlbGVnYXRlZEV2ZW50c1t0eXBlXVxuICAgIGxldCBkZWxlZ2F0ZSA9IGFyci5maW5kKGRlbGVnYXRlcywgKGQpID0+IGQuc2VsZWN0b3IgPT09IHNlbGVjdG9yICYmIGQuY29udGV4dCA9PT0gY29udGV4dClcblxuICAgIGlmICghZGVsZWdhdGUpIHtcbiAgICAgIGRlbGVnYXRlID0geyBzZWxlY3RvciwgY29udGV4dCwgbGlzdGVuZXJzOiBbXSB9XG4gICAgICBkZWxlZ2F0ZXMucHVzaChkZWxlZ2F0ZSlcbiAgICB9XG5cbiAgICBkZWxlZ2F0ZS5saXN0ZW5lcnMucHVzaCh7IGZ1bmM6IGxpc3RlbmVyLCBvcHRpb25zIH0pXG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVEZWxlZ2F0ZShcbiAgICBzZWxlY3Rvcjogc3RyaW5nLFxuICAgIGNvbnRleHQ6IERvY3VtZW50IHwgRWxlbWVudCxcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgbGlzdGVuZXI/OiBMaXN0ZW5lckVudHJ5WydmdW5jJ10sXG4gICAgb3B0aW9uYWxBcmc/OiBhbnksXG4gICkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBnZXRPcHRpb25zKG9wdGlvbmFsQXJnKVxuICAgIGNvbnN0IGRlbGVnYXRlcyA9IGRlbGVnYXRlZEV2ZW50c1t0eXBlXVxuICAgIGxldCBtYXRjaEZvdW5kID0gZmFsc2VcbiAgICBsZXQgaW5kZXg6IG51bWJlclxuXG4gICAgaWYgKCFkZWxlZ2F0ZXMpIHJldHVyblxuXG4gICAgLy8gY291bnQgZnJvbSBsYXN0IGluZGV4IG9mIGRlbGVnYXRlZCB0byAwXG4gICAgZm9yIChpbmRleCA9IGRlbGVnYXRlcy5sZW5ndGggLSAxOyBpbmRleCA+PSAwOyBpbmRleC0tKSB7XG4gICAgICBjb25zdCBjdXIgPSBkZWxlZ2F0ZXNbaW5kZXhdXG4gICAgICAvLyBsb29rIGZvciBtYXRjaGluZyBzZWxlY3RvciBhbmQgY29udGV4dCBOb2RlXG4gICAgICBpZiAoY3VyLnNlbGVjdG9yID09PSBzZWxlY3RvciAmJiBjdXIuY29udGV4dCA9PT0gY29udGV4dCkge1xuICAgICAgICBjb25zdCB7IGxpc3RlbmVycyB9ID0gY3VyXG5cbiAgICAgICAgLy8gZWFjaCBpdGVtIG9mIHRoZSBsaXN0ZW5lcnMgYXJyYXkgaXMgYW4gYXJyYXk6IFtmdW5jdGlvbiwgY2FwdHVyZSwgcGFzc2l2ZV1cbiAgICAgICAgZm9yIChsZXQgaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGNvbnN0IGVudHJ5ID0gbGlzdGVuZXJzW2ldXG5cbiAgICAgICAgICAvLyBjaGVjayBpZiB0aGUgbGlzdGVuZXIgZnVuY3Rpb25zIGFuZCBjYXB0dXJlIGFuZCBwYXNzaXZlIGZsYWdzIG1hdGNoXG4gICAgICAgICAgaWYgKGVudHJ5LmZ1bmMgPT09IGxpc3RlbmVyICYmIG9wdGlvbnNNYXRjaChlbnRyeS5vcHRpb25zLCBvcHRpb25zKSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBsaXN0ZW5lciBmcm9tIHRoZSBhcnJheSBvZiBsaXN0ZW5lcnNcbiAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSlcblxuICAgICAgICAgICAgLy8gaWYgYWxsIGxpc3RlbmVycyBmb3IgdGhpcyB0YXJnZXQgaGF2ZSBiZWVuIHJlbW92ZWRcbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgdGFyZ2V0IGZyb20gdGhlIGRlbGVnYXRlcyBhcnJheVxuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGRlbGVnYXRlcy5zcGxpY2UoaW5kZXgsIDEpXG5cbiAgICAgICAgICAgICAgLy8gcmVtb3ZlIGRlbGVnYXRlIGZ1bmN0aW9uIGZyb20gY29udGV4dFxuICAgICAgICAgICAgICByZW1vdmUoY29udGV4dCwgdHlwZSwgZGVsZWdhdGVMaXN0ZW5lcilcbiAgICAgICAgICAgICAgcmVtb3ZlKGNvbnRleHQsIHR5cGUsIGRlbGVnYXRlVXNlQ2FwdHVyZSwgdHJ1ZSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb25seSByZW1vdmUgb25lIGxpc3RlbmVyXG4gICAgICAgICAgICBtYXRjaEZvdW5kID0gdHJ1ZVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWF0Y2hGb3VuZCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBib3VuZCB0byB0aGUgaW50ZXJhY3RhYmxlIGNvbnRleHQgd2hlbiBhIERPTSBldmVudFxuICAvLyBsaXN0ZW5lciBpcyBhZGRlZCB0byBhIHNlbGVjdG9yIGludGVyYWN0YWJsZVxuICBmdW5jdGlvbiBkZWxlZ2F0ZUxpc3RlbmVyKGV2ZW50OiBFdmVudCB8IEZha2VFdmVudCwgb3B0aW9uYWxBcmc/OiBhbnkpIHtcbiAgICBjb25zdCBvcHRpb25zID0gZ2V0T3B0aW9ucyhvcHRpb25hbEFyZylcbiAgICBjb25zdCBmYWtlRXZlbnQgPSBuZXcgRmFrZUV2ZW50KGV2ZW50IGFzIEV2ZW50KVxuICAgIGNvbnN0IGRlbGVnYXRlcyA9IGRlbGVnYXRlZEV2ZW50c1tldmVudC50eXBlXVxuICAgIGNvbnN0IFtldmVudFRhcmdldF0gPSBwb2ludGVyVXRpbHMuZ2V0RXZlbnRUYXJnZXRzKGV2ZW50IGFzIEV2ZW50KVxuICAgIGxldCBlbGVtZW50OiBOb2RlID0gZXZlbnRUYXJnZXRcblxuICAgIC8vIGNsaW1iIHVwIGRvY3VtZW50IHRyZWUgbG9va2luZyBmb3Igc2VsZWN0b3IgbWF0Y2hlc1xuICAgIHdoaWxlIChpcy5lbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlbGVnYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjdXIgPSBkZWxlZ2F0ZXNbaV1cbiAgICAgICAgY29uc3QgeyBzZWxlY3RvciwgY29udGV4dCB9ID0gY3VyXG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRvbVV0aWxzLm1hdGNoZXNTZWxlY3RvcihlbGVtZW50LCBzZWxlY3RvcikgJiZcbiAgICAgICAgICBkb21VdGlscy5ub2RlQ29udGFpbnMoY29udGV4dCwgZXZlbnRUYXJnZXQpICYmXG4gICAgICAgICAgZG9tVXRpbHMubm9kZUNvbnRhaW5zKGNvbnRleHQsIGVsZW1lbnQpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHsgbGlzdGVuZXJzIH0gPSBjdXJcblxuICAgICAgICAgIGZha2VFdmVudC5jdXJyZW50VGFyZ2V0ID0gZWxlbWVudFxuXG4gICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zTWF0Y2goZW50cnkub3B0aW9ucywgb3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgZW50cnkuZnVuYyhmYWtlRXZlbnQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQgPSBkb21VdGlscy5wYXJlbnROb2RlKGVsZW1lbnQpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGVsZWdhdGVVc2VDYXB0dXJlKHRoaXM6IEVsZW1lbnQsIGV2ZW50OiBFdmVudCB8IEZha2VFdmVudCkge1xuICAgIHJldHVybiBkZWxlZ2F0ZUxpc3RlbmVyLmNhbGwodGhpcywgZXZlbnQsIHRydWUpXG4gIH1cblxuICAvLyBmb3IgdHlwZSBpbmZlcnJlbmNlXG4gIHJldHVybiBldmVudHNNZXRob2RzXG59XG5cbmNsYXNzIEZha2VFdmVudCBpbXBsZW1lbnRzIFBhcnRpYWw8RXZlbnQ+IHtcbiAgY3VycmVudFRhcmdldDogTm9kZVxuICBvcmlnaW5hbEV2ZW50OiBFdmVudFxuICB0eXBlOiBzdHJpbmdcblxuICBjb25zdHJ1Y3RvcihvcmlnaW5hbEV2ZW50OiBFdmVudCkge1xuICAgIHRoaXMub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnRcbiAgICAvLyBkdXBsaWNhdGUgdGhlIGV2ZW50IHNvIHRoYXQgY3VycmVudFRhcmdldCBjYW4gYmUgY2hhbmdlZFxuICAgIHBFeHRlbmQodGhpcywgb3JpZ2luYWxFdmVudClcbiAgfVxuXG4gIHByZXZlbnRPcmlnaW5hbERlZmF1bHQoKSB7XG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgfVxuXG4gIHN0b3BQcm9wYWdhdGlvbigpIHtcbiAgICB0aGlzLm9yaWdpbmFsRXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgfVxuXG4gIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpIHtcbiAgICB0aGlzLm9yaWdpbmFsRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRPcHRpb25zKHBhcmFtOiB7IFtpbmRleDogc3RyaW5nXTogYW55IH0gfCBib29sZWFuKTogeyBjYXB0dXJlOiBib29sZWFuOyBwYXNzaXZlOiBib29sZWFuIH0ge1xuICBpZiAoIWlzLm9iamVjdChwYXJhbSkpIHtcbiAgICByZXR1cm4geyBjYXB0dXJlOiAhIXBhcmFtLCBwYXNzaXZlOiBmYWxzZSB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGNhcHR1cmU6ICEhcGFyYW0uY2FwdHVyZSxcbiAgICBwYXNzaXZlOiAhIXBhcmFtLnBhc3NpdmUsXG4gIH1cbn1cblxuZnVuY3Rpb24gb3B0aW9uc01hdGNoKGE6IFBhcnRpYWw8RXZlbnRPcHRpb25zPiB8IGJvb2xlYW4sIGI6IFBhcnRpYWw8RXZlbnRPcHRpb25zPikge1xuICBpZiAoYSA9PT0gYikgcmV0dXJuIHRydWVcblxuICBpZiAodHlwZW9mIGEgPT09ICdib29sZWFuJykgcmV0dXJuICEhYi5jYXB0dXJlID09PSBhICYmICEhYi5wYXNzaXZlID09PSBmYWxzZVxuXG4gIHJldHVybiAhIWEuY2FwdHVyZSA9PT0gISFiLmNhcHR1cmUgJiYgISFhLnBhc3NpdmUgPT09ICEhYi5wYXNzaXZlXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaWQ6ICdldmVudHMnLFxuICBpbnN0YWxsLFxufVxuIiwgImltcG9ydCAqIGFzIGRvbSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscydcblxuaW1wb3J0IHR5cGUgSW50ZXJhY3Rpb24gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgU2NvcGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBQb2ludGVyVHlwZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VhcmNoRGV0YWlscyB7XG4gIHBvaW50ZXI6IFBvaW50ZXJUeXBlXG4gIHBvaW50ZXJJZDogbnVtYmVyXG4gIHBvaW50ZXJUeXBlOiBzdHJpbmdcbiAgZXZlbnRUeXBlOiBzdHJpbmdcbiAgZXZlbnRUYXJnZXQ6IEV2ZW50VGFyZ2V0XG4gIGN1ckV2ZW50VGFyZ2V0OiBFdmVudFRhcmdldFxuICBzY29wZTogU2NvcGVcbn1cblxuY29uc3QgZmluZGVyID0ge1xuICBtZXRob2RPcmRlcjogWydzaW11bGF0aW9uUmVzdW1lJywgJ21vdXNlT3JQZW4nLCAnaGFzUG9pbnRlcicsICdpZGxlJ10gYXMgY29uc3QsXG5cbiAgc2VhcmNoKGRldGFpbHM6IFNlYXJjaERldGFpbHMpIHtcbiAgICBmb3IgKGNvbnN0IG1ldGhvZCBvZiBmaW5kZXIubWV0aG9kT3JkZXIpIHtcbiAgICAgIGNvbnN0IGludGVyYWN0aW9uID0gZmluZGVyW21ldGhvZF0oZGV0YWlscylcblxuICAgICAgaWYgKGludGVyYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvblxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsXG4gIH0sXG5cbiAgLy8gdHJ5IHRvIHJlc3VtZSBzaW11bGF0aW9uIHdpdGggYSBuZXcgcG9pbnRlclxuICBzaW11bGF0aW9uUmVzdW1lKHsgcG9pbnRlclR5cGUsIGV2ZW50VHlwZSwgZXZlbnRUYXJnZXQsIHNjb3BlIH06IFNlYXJjaERldGFpbHMpIHtcbiAgICBpZiAoIS9kb3dufHN0YXJ0L2kudGVzdChldmVudFR5cGUpKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGZvciAoY29uc3QgaW50ZXJhY3Rpb24gb2Ygc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QpIHtcbiAgICAgIGxldCBlbGVtZW50ID0gZXZlbnRUYXJnZXQgYXMgTm9kZVxuXG4gICAgICBpZiAoXG4gICAgICAgIGludGVyYWN0aW9uLnNpbXVsYXRpb24gJiZcbiAgICAgICAgaW50ZXJhY3Rpb24uc2ltdWxhdGlvbi5hbGxvd1Jlc3VtZSAmJlxuICAgICAgICBpbnRlcmFjdGlvbi5wb2ludGVyVHlwZSA9PT0gcG9pbnRlclR5cGVcbiAgICAgICkge1xuICAgICAgICB3aGlsZSAoZWxlbWVudCkge1xuICAgICAgICAgIC8vIGlmIHRoZSBlbGVtZW50IGlzIHRoZSBpbnRlcmFjdGlvbiBlbGVtZW50XG4gICAgICAgICAgaWYgKGVsZW1lbnQgPT09IGludGVyYWN0aW9uLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnRlcmFjdGlvblxuICAgICAgICAgIH1cbiAgICAgICAgICBlbGVtZW50ID0gZG9tLnBhcmVudE5vZGUoZWxlbWVudClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsXG4gIH0sXG5cbiAgLy8gaWYgaXQncyBhIG1vdXNlIG9yIHBlbiBpbnRlcmFjdGlvblxuICBtb3VzZU9yUGVuKHsgcG9pbnRlcklkLCBwb2ludGVyVHlwZSwgZXZlbnRUeXBlLCBzY29wZSB9OiBTZWFyY2hEZXRhaWxzKSB7XG4gICAgaWYgKHBvaW50ZXJUeXBlICE9PSAnbW91c2UnICYmIHBvaW50ZXJUeXBlICE9PSAncGVuJykge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBsZXQgZmlyc3ROb25BY3RpdmVcblxuICAgIGZvciAoY29uc3QgaW50ZXJhY3Rpb24gb2Ygc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QpIHtcbiAgICAgIGlmIChpbnRlcmFjdGlvbi5wb2ludGVyVHlwZSA9PT0gcG9pbnRlclR5cGUpIHtcbiAgICAgICAgLy8gaWYgaXQncyBhIGRvd24gZXZlbnQsIHNraXAgaW50ZXJhY3Rpb25zIHdpdGggcnVubmluZyBzaW11bGF0aW9uc1xuICAgICAgICBpZiAoaW50ZXJhY3Rpb24uc2ltdWxhdGlvbiAmJiAhaGFzUG9pbnRlcklkKGludGVyYWN0aW9uLCBwb2ludGVySWQpKSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSBpbnRlcmFjdGlvbiBpcyBhY3RpdmUsIHJldHVybiBpdCBpbW1lZGlhdGVseVxuICAgICAgICBpZiAoaW50ZXJhY3Rpb24uaW50ZXJhY3RpbmcoKSkge1xuICAgICAgICAgIHJldHVybiBpbnRlcmFjdGlvblxuICAgICAgICB9XG4gICAgICAgIC8vIG90aGVyd2lzZSBzYXZlIGl0IGFuZCBsb29rIGZvciBhbm90aGVyIGFjdGl2ZSBpbnRlcmFjdGlvblxuICAgICAgICBlbHNlIGlmICghZmlyc3ROb25BY3RpdmUpIHtcbiAgICAgICAgICBmaXJzdE5vbkFjdGl2ZSA9IGludGVyYWN0aW9uXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpZiBubyBhY3RpdmUgbW91c2UgaW50ZXJhY3Rpb24gd2FzIGZvdW5kIHVzZSB0aGUgZmlyc3QgaW5hY3RpdmUgbW91c2VcbiAgICAvLyBpbnRlcmFjdGlvblxuICAgIGlmIChmaXJzdE5vbkFjdGl2ZSkge1xuICAgICAgcmV0dXJuIGZpcnN0Tm9uQWN0aXZlXG4gICAgfVxuXG4gICAgLy8gZmluZCBhbnkgbW91c2Ugb3IgcGVuIGludGVyYWN0aW9uLlxuICAgIC8vIGlnbm9yZSB0aGUgaW50ZXJhY3Rpb24gaWYgdGhlIGV2ZW50VHlwZSBpcyBhICpkb3duLCBhbmQgYSBzaW11bGF0aW9uXG4gICAgLy8gaXMgYWN0aXZlXG4gICAgZm9yIChjb25zdCBpbnRlcmFjdGlvbiBvZiBzY29wZS5pbnRlcmFjdGlvbnMubGlzdCkge1xuICAgICAgaWYgKGludGVyYWN0aW9uLnBvaW50ZXJUeXBlID09PSBwb2ludGVyVHlwZSAmJiAhKC9kb3duL2kudGVzdChldmVudFR5cGUpICYmIGludGVyYWN0aW9uLnNpbXVsYXRpb24pKSB7XG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvblxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsXG4gIH0sXG5cbiAgLy8gZ2V0IGludGVyYWN0aW9uIHRoYXQgaGFzIHRoaXMgcG9pbnRlclxuICBoYXNQb2ludGVyKHsgcG9pbnRlcklkLCBzY29wZSB9OiBTZWFyY2hEZXRhaWxzKSB7XG4gICAgZm9yIChjb25zdCBpbnRlcmFjdGlvbiBvZiBzY29wZS5pbnRlcmFjdGlvbnMubGlzdCkge1xuICAgICAgaWYgKGhhc1BvaW50ZXJJZChpbnRlcmFjdGlvbiwgcG9pbnRlcklkKSkge1xuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbFxuICB9LFxuXG4gIC8vIGdldCBmaXJzdCBpZGxlIGludGVyYWN0aW9uIHdpdGggYSBtYXRjaGluZyBwb2ludGVyVHlwZVxuICBpZGxlKHsgcG9pbnRlclR5cGUsIHNjb3BlIH06IFNlYXJjaERldGFpbHMpIHtcbiAgICBmb3IgKGNvbnN0IGludGVyYWN0aW9uIG9mIHNjb3BlLmludGVyYWN0aW9ucy5saXN0KSB7XG4gICAgICAvLyBpZiB0aGVyZSdzIGFscmVhZHkgYSBwb2ludGVyIGhlbGQgZG93blxuICAgICAgaWYgKGludGVyYWN0aW9uLnBvaW50ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGVcbiAgICAgICAgLy8gZG9uJ3QgYWRkIHRoaXMgcG9pbnRlciBpZiB0aGVyZSBpcyBhIHRhcmdldCBpbnRlcmFjdGFibGUgYW5kIGl0XG4gICAgICAgIC8vIGlzbid0IGdlc3R1cmFibGVcbiAgICAgICAgaWYgKHRhcmdldCAmJiAhKHRhcmdldC5vcHRpb25zLmdlc3R1cmUgJiYgdGFyZ2V0Lm9wdGlvbnMuZ2VzdHVyZS5lbmFibGVkKSkge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIG1heGltdW0gb2YgMiBwb2ludGVycyBwZXIgaW50ZXJhY3Rpb25cbiAgICAgIGVsc2UgaWYgKGludGVyYWN0aW9uLnBvaW50ZXJzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGlmICghaW50ZXJhY3Rpb24uaW50ZXJhY3RpbmcoKSAmJiBwb2ludGVyVHlwZSA9PT0gaW50ZXJhY3Rpb24ucG9pbnRlclR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGxcbiAgfSxcbn1cblxuZnVuY3Rpb24gaGFzUG9pbnRlcklkKGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiwgcG9pbnRlcklkOiBudW1iZXIpIHtcbiAgcmV0dXJuIGludGVyYWN0aW9uLnBvaW50ZXJzLnNvbWUoKHsgaWQgfSkgPT4gaWQgPT09IHBvaW50ZXJJZClcbn1cblxuZXhwb3J0IGRlZmF1bHQgZmluZGVyXG4iLCAiaW1wb3J0IGJyb3dzZXIgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvYnJvd3NlcidcbmltcG9ydCBkb21PYmplY3RzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbU9iamVjdHMnXG5pbXBvcnQgeyBub2RlQ29udGFpbnMgfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscydcbmltcG9ydCAqIGFzIHBvaW50ZXJVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9wb2ludGVyVXRpbHMnXG5cbmltcG9ydCB0eXBlIHsgU2NvcGUsIFNpZ25hbEFyZ3MsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IEFjdGlvbk5hbWUsIExpc3RlbmVyIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgLS0gZm9yIHR5cGVzY3JpcHQgbW9kdWxlIGF1Z21lbnRhdGlvbnMgKi9cbmltcG9ydCAnLi9pbnRlcmFjdGFibGVQcmV2ZW50RGVmYXVsdCdcbmltcG9ydCBpbnRlcmFjdGFibGVQcmV2ZW50RGVmYXVsdCBmcm9tICcuL2ludGVyYWN0YWJsZVByZXZlbnREZWZhdWx0J1xuaW1wb3J0IEludGVyYWN0aW9uQmFzZSBmcm9tICcuL0ludGVyYWN0aW9uJ1xuLyogZXNsaW50LWVuYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAqL1xuaW1wb3J0IHR5cGUgeyBTZWFyY2hEZXRhaWxzIH0gZnJvbSAnLi9pbnRlcmFjdGlvbkZpbmRlcidcbmltcG9ydCBmaW5kZXIgZnJvbSAnLi9pbnRlcmFjdGlvbkZpbmRlcidcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnIHtcbiAgaW50ZXJmYWNlIFNjb3BlIHtcbiAgICBJbnRlcmFjdGlvbjogdHlwZW9mIEludGVyYWN0aW9uQmFzZVxuICAgIGludGVyYWN0aW9uczoge1xuICAgICAgbmV3OiA8VCBleHRlbmRzIEFjdGlvbk5hbWU+KG9wdGlvbnM6IGFueSkgPT4gSW50ZXJhY3Rpb25CYXNlPFQ+XG4gICAgICBsaXN0OiBBcnJheTxJbnRlcmFjdGlvbkJhc2U8QWN0aW9uTmFtZT4+XG4gICAgICBsaXN0ZW5lcnM6IHsgW3R5cGU6IHN0cmluZ106IExpc3RlbmVyIH1cbiAgICAgIGRvY0V2ZW50czogQXJyYXk8eyB0eXBlOiBzdHJpbmc7IGxpc3RlbmVyOiBMaXN0ZW5lciB9PlxuICAgICAgcG9pbnRlck1vdmVUb2xlcmFuY2U6IG51bWJlclxuICAgIH1cbiAgICBwcmV2VG91Y2hUaW1lOiBudW1iZXJcbiAgfVxuXG4gIGludGVyZmFjZSBTaWduYWxBcmdzIHtcbiAgICAnaW50ZXJhY3Rpb25zOmZpbmQnOiB7XG4gICAgICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb25CYXNlXG4gICAgICBzZWFyY2hEZXRhaWxzOiBTZWFyY2hEZXRhaWxzXG4gICAgfVxuICB9XG59XG5cbmNvbnN0IG1ldGhvZE5hbWVzID0gW1xuICAncG9pbnRlckRvd24nLFxuICAncG9pbnRlck1vdmUnLFxuICAncG9pbnRlclVwJyxcbiAgJ3VwZGF0ZVBvaW50ZXInLFxuICAncmVtb3ZlUG9pbnRlcicsXG4gICd3aW5kb3dCbHVyJyxcbl1cblxuZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgbGlzdGVuZXJzID0ge30gYXMgYW55XG5cbiAgZm9yIChjb25zdCBtZXRob2Qgb2YgbWV0aG9kTmFtZXMpIHtcbiAgICBsaXN0ZW5lcnNbbWV0aG9kXSA9IGRvT25JbnRlcmFjdGlvbnMobWV0aG9kLCBzY29wZSlcbiAgfVxuXG4gIGNvbnN0IHBFdmVudFR5cGVzID0gYnJvd3Nlci5wRXZlbnRUeXBlc1xuICBsZXQgZG9jRXZlbnRzOiB0eXBlb2Ygc2NvcGUuaW50ZXJhY3Rpb25zLmRvY0V2ZW50c1xuXG4gIGlmIChkb21PYmplY3RzLlBvaW50ZXJFdmVudCkge1xuICAgIGRvY0V2ZW50cyA9IFtcbiAgICAgIHsgdHlwZTogcEV2ZW50VHlwZXMuZG93biwgbGlzdGVuZXI6IHJlbGVhc2VQb2ludGVyc09uUmVtb3ZlZEVscyB9LFxuICAgICAgeyB0eXBlOiBwRXZlbnRUeXBlcy5kb3duLCBsaXN0ZW5lcjogbGlzdGVuZXJzLnBvaW50ZXJEb3duIH0sXG4gICAgICB7IHR5cGU6IHBFdmVudFR5cGVzLm1vdmUsIGxpc3RlbmVyOiBsaXN0ZW5lcnMucG9pbnRlck1vdmUgfSxcbiAgICAgIHsgdHlwZTogcEV2ZW50VHlwZXMudXAsIGxpc3RlbmVyOiBsaXN0ZW5lcnMucG9pbnRlclVwIH0sXG4gICAgICB7IHR5cGU6IHBFdmVudFR5cGVzLmNhbmNlbCwgbGlzdGVuZXI6IGxpc3RlbmVycy5wb2ludGVyVXAgfSxcbiAgICBdXG4gIH0gZWxzZSB7XG4gICAgZG9jRXZlbnRzID0gW1xuICAgICAgeyB0eXBlOiAnbW91c2Vkb3duJywgbGlzdGVuZXI6IGxpc3RlbmVycy5wb2ludGVyRG93biB9LFxuICAgICAgeyB0eXBlOiAnbW91c2Vtb3ZlJywgbGlzdGVuZXI6IGxpc3RlbmVycy5wb2ludGVyTW92ZSB9LFxuICAgICAgeyB0eXBlOiAnbW91c2V1cCcsIGxpc3RlbmVyOiBsaXN0ZW5lcnMucG9pbnRlclVwIH0sXG5cbiAgICAgIHsgdHlwZTogJ3RvdWNoc3RhcnQnLCBsaXN0ZW5lcjogcmVsZWFzZVBvaW50ZXJzT25SZW1vdmVkRWxzIH0sXG4gICAgICB7IHR5cGU6ICd0b3VjaHN0YXJ0JywgbGlzdGVuZXI6IGxpc3RlbmVycy5wb2ludGVyRG93biB9LFxuICAgICAgeyB0eXBlOiAndG91Y2htb3ZlJywgbGlzdGVuZXI6IGxpc3RlbmVycy5wb2ludGVyTW92ZSB9LFxuICAgICAgeyB0eXBlOiAndG91Y2hlbmQnLCBsaXN0ZW5lcjogbGlzdGVuZXJzLnBvaW50ZXJVcCB9LFxuICAgICAgeyB0eXBlOiAndG91Y2hjYW5jZWwnLCBsaXN0ZW5lcjogbGlzdGVuZXJzLnBvaW50ZXJVcCB9LFxuICAgIF1cbiAgfVxuXG4gIGRvY0V2ZW50cy5wdXNoKHtcbiAgICB0eXBlOiAnYmx1cicsXG4gICAgbGlzdGVuZXIoZXZlbnQpIHtcbiAgICAgIGZvciAoY29uc3QgaW50ZXJhY3Rpb24gb2Ygc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QpIHtcbiAgICAgICAgaW50ZXJhY3Rpb24uZG9jdW1lbnRCbHVyKGV2ZW50KVxuICAgICAgfVxuICAgIH0sXG4gIH0pXG5cbiAgLy8gZm9yIGlnbm9yaW5nIGJyb3dzZXIncyBzaW11bGF0ZWQgbW91c2UgZXZlbnRzXG4gIHNjb3BlLnByZXZUb3VjaFRpbWUgPSAwXG5cbiAgc2NvcGUuSW50ZXJhY3Rpb24gPSBjbGFzczxUIGV4dGVuZHMgQWN0aW9uTmFtZT4gZXh0ZW5kcyBJbnRlcmFjdGlvbkJhc2U8VD4ge1xuICAgIGdldCBwb2ludGVyTW92ZVRvbGVyYW5jZSgpIHtcbiAgICAgIHJldHVybiBzY29wZS5pbnRlcmFjdGlvbnMucG9pbnRlck1vdmVUb2xlcmFuY2VcbiAgICB9XG5cbiAgICBzZXQgcG9pbnRlck1vdmVUb2xlcmFuY2UodmFsdWUpIHtcbiAgICAgIHNjb3BlLmludGVyYWN0aW9ucy5wb2ludGVyTW92ZVRvbGVyYW5jZSA9IHZhbHVlXG4gICAgfVxuXG4gICAgX25vdygpIHtcbiAgICAgIHJldHVybiBzY29wZS5ub3coKVxuICAgIH1cbiAgfVxuXG4gIHNjb3BlLmludGVyYWN0aW9ucyA9IHtcbiAgICAvLyBhbGwgYWN0aXZlIGFuZCBpZGxlIGludGVyYWN0aW9uc1xuICAgIGxpc3Q6IFtdLFxuICAgIG5ldzxUIGV4dGVuZHMgQWN0aW9uTmFtZT4ob3B0aW9uczogeyBwb2ludGVyVHlwZT86IHN0cmluZzsgc2NvcGVGaXJlPzogU2NvcGVbJ2ZpcmUnXSB9KSB7XG4gICAgICBvcHRpb25zLnNjb3BlRmlyZSA9IChuYW1lLCBhcmcpID0+IHNjb3BlLmZpcmUobmFtZSwgYXJnKVxuXG4gICAgICBjb25zdCBpbnRlcmFjdGlvbiA9IG5ldyBzY29wZS5JbnRlcmFjdGlvbjxUPihvcHRpb25zIGFzIFJlcXVpcmVkPHR5cGVvZiBvcHRpb25zPilcblxuICAgICAgc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QucHVzaChpbnRlcmFjdGlvbilcbiAgICAgIHJldHVybiBpbnRlcmFjdGlvblxuICAgIH0sXG4gICAgbGlzdGVuZXJzLFxuICAgIGRvY0V2ZW50cyxcbiAgICBwb2ludGVyTW92ZVRvbGVyYW5jZTogMSxcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbGVhc2VQb2ludGVyc09uUmVtb3ZlZEVscygpIHtcbiAgICAvLyBmb3IgYWxsIGluYWN0aXZlIHRvdWNoIGludGVyYWN0aW9ucyB3aXRoIHBvaW50ZXJzIGRvd25cbiAgICBmb3IgKGNvbnN0IGludGVyYWN0aW9uIG9mIHNjb3BlLmludGVyYWN0aW9ucy5saXN0KSB7XG4gICAgICBpZiAoIWludGVyYWN0aW9uLnBvaW50ZXJJc0Rvd24gfHwgaW50ZXJhY3Rpb24ucG9pbnRlclR5cGUgIT09ICd0b3VjaCcgfHwgaW50ZXJhY3Rpb24uX2ludGVyYWN0aW5nKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIGlmIGEgcG9pbnRlciBpcyBkb3duIG9uIGFuIGVsZW1lbnQgdGhhdCBpcyBubyBsb25nZXIgaW4gdGhlIERPTSB0cmVlXG4gICAgICBmb3IgKGNvbnN0IHBvaW50ZXIgb2YgaW50ZXJhY3Rpb24ucG9pbnRlcnMpIHtcbiAgICAgICAgaWYgKCFzY29wZS5kb2N1bWVudHMuc29tZSgoeyBkb2MgfSkgPT4gbm9kZUNvbnRhaW5zKGRvYywgcG9pbnRlci5kb3duVGFyZ2V0KSkpIHtcbiAgICAgICAgICAvLyByZW1vdmUgdGhlIHBvaW50ZXIgZnJvbSB0aGUgaW50ZXJhY3Rpb25cbiAgICAgICAgICBpbnRlcmFjdGlvbi5yZW1vdmVQb2ludGVyKHBvaW50ZXIucG9pbnRlciwgcG9pbnRlci5ldmVudClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNjb3BlLnVzZVBsdWdpbihpbnRlcmFjdGFibGVQcmV2ZW50RGVmYXVsdClcbn1cblxuZnVuY3Rpb24gZG9PbkludGVyYWN0aW9ucyhtZXRob2Q6IHN0cmluZywgc2NvcGU6IFNjb3BlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZXZlbnQ6IEV2ZW50KSB7XG4gICAgY29uc3QgaW50ZXJhY3Rpb25zID0gc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3RcblxuICAgIGNvbnN0IHBvaW50ZXJUeXBlID0gcG9pbnRlclV0aWxzLmdldFBvaW50ZXJUeXBlKGV2ZW50KVxuICAgIGNvbnN0IFtldmVudFRhcmdldCwgY3VyRXZlbnRUYXJnZXRdID0gcG9pbnRlclV0aWxzLmdldEV2ZW50VGFyZ2V0cyhldmVudClcbiAgICBjb25zdCBtYXRjaGVzOiBhbnlbXSA9IFtdIC8vIFsgW3BvaW50ZXIsIGludGVyYWN0aW9uXSwgLi4uXVxuXG4gICAgaWYgKC9edG91Y2gvLnRlc3QoZXZlbnQudHlwZSkpIHtcbiAgICAgIHNjb3BlLnByZXZUb3VjaFRpbWUgPSBzY29wZS5ub3coKVxuXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICBmb3IgKGNvbnN0IGNoYW5nZWRUb3VjaCBvZiBldmVudC5jaGFuZ2VkVG91Y2hlcykge1xuICAgICAgICBjb25zdCBwb2ludGVyID0gY2hhbmdlZFRvdWNoXG4gICAgICAgIGNvbnN0IHBvaW50ZXJJZCA9IHBvaW50ZXJVdGlscy5nZXRQb2ludGVySWQocG9pbnRlcilcbiAgICAgICAgY29uc3Qgc2VhcmNoRGV0YWlsczogU2VhcmNoRGV0YWlscyA9IHtcbiAgICAgICAgICBwb2ludGVyLFxuICAgICAgICAgIHBvaW50ZXJJZCxcbiAgICAgICAgICBwb2ludGVyVHlwZSxcbiAgICAgICAgICBldmVudFR5cGU6IGV2ZW50LnR5cGUsXG4gICAgICAgICAgZXZlbnRUYXJnZXQsXG4gICAgICAgICAgY3VyRXZlbnRUYXJnZXQsXG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb24gPSBnZXRJbnRlcmFjdGlvbihzZWFyY2hEZXRhaWxzKVxuXG4gICAgICAgIG1hdGNoZXMucHVzaChbXG4gICAgICAgICAgc2VhcmNoRGV0YWlscy5wb2ludGVyLFxuICAgICAgICAgIHNlYXJjaERldGFpbHMuZXZlbnRUYXJnZXQsXG4gICAgICAgICAgc2VhcmNoRGV0YWlscy5jdXJFdmVudFRhcmdldCxcbiAgICAgICAgICBpbnRlcmFjdGlvbixcbiAgICAgICAgXSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGludmFsaWRQb2ludGVyID0gZmFsc2VcblxuICAgICAgaWYgKCFicm93c2VyLnN1cHBvcnRzUG9pbnRlckV2ZW50ICYmIC9tb3VzZS8udGVzdChldmVudC50eXBlKSkge1xuICAgICAgICAvLyBpZ25vcmUgbW91c2UgZXZlbnRzIHdoaWxlIHRvdWNoIGludGVyYWN0aW9ucyBhcmUgYWN0aXZlXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW50ZXJhY3Rpb25zLmxlbmd0aCAmJiAhaW52YWxpZFBvaW50ZXI7IGkrKykge1xuICAgICAgICAgIGludmFsaWRQb2ludGVyID0gaW50ZXJhY3Rpb25zW2ldLnBvaW50ZXJUeXBlICE9PSAnbW91c2UnICYmIGludGVyYWN0aW9uc1tpXS5wb2ludGVySXNEb3duXG4gICAgICAgIH1cblxuICAgICAgICAvLyB0cnkgdG8gaWdub3JlIG1vdXNlIGV2ZW50cyB0aGF0IGFyZSBzaW11bGF0ZWQgYnkgdGhlIGJyb3dzZXJcbiAgICAgICAgLy8gYWZ0ZXIgYSB0b3VjaCBldmVudFxuICAgICAgICBpbnZhbGlkUG9pbnRlciA9XG4gICAgICAgICAgaW52YWxpZFBvaW50ZXIgfHxcbiAgICAgICAgICBzY29wZS5ub3coKSAtIHNjb3BlLnByZXZUb3VjaFRpbWUgPCA1MDAgfHxcbiAgICAgICAgICAvLyBvbiBpT1MgYW5kIEZpcmVmb3ggTW9iaWxlLCBNb3VzZUV2ZW50LnRpbWVTdGFtcCBpcyB6ZXJvIGlmIHNpbXVsYXRlZFxuICAgICAgICAgIGV2ZW50LnRpbWVTdGFtcCA9PT0gMFxuICAgICAgfVxuXG4gICAgICBpZiAoIWludmFsaWRQb2ludGVyKSB7XG4gICAgICAgIGNvbnN0IHNlYXJjaERldGFpbHMgPSB7XG4gICAgICAgICAgcG9pbnRlcjogZXZlbnQgYXMgUG9pbnRlckV2ZW50LFxuICAgICAgICAgIHBvaW50ZXJJZDogcG9pbnRlclV0aWxzLmdldFBvaW50ZXJJZChldmVudCBhcyBQb2ludGVyRXZlbnQpLFxuICAgICAgICAgIHBvaW50ZXJUeXBlLFxuICAgICAgICAgIGV2ZW50VHlwZTogZXZlbnQudHlwZSxcbiAgICAgICAgICBjdXJFdmVudFRhcmdldCxcbiAgICAgICAgICBldmVudFRhcmdldCxcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGludGVyYWN0aW9uID0gZ2V0SW50ZXJhY3Rpb24oc2VhcmNoRGV0YWlscylcblxuICAgICAgICBtYXRjaGVzLnB1c2goW1xuICAgICAgICAgIHNlYXJjaERldGFpbHMucG9pbnRlcixcbiAgICAgICAgICBzZWFyY2hEZXRhaWxzLmV2ZW50VGFyZ2V0LFxuICAgICAgICAgIHNlYXJjaERldGFpbHMuY3VyRXZlbnRUYXJnZXQsXG4gICAgICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICAgIF0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuICAgIGZvciAoY29uc3QgW3BvaW50ZXIsIGV2ZW50VGFyZ2V0LCBjdXJFdmVudFRhcmdldCwgaW50ZXJhY3Rpb25dIG9mIG1hdGNoZXMpIHtcbiAgICAgIGludGVyYWN0aW9uW21ldGhvZF0ocG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0LCBjdXJFdmVudFRhcmdldClcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0SW50ZXJhY3Rpb24oc2VhcmNoRGV0YWlsczogU2VhcmNoRGV0YWlscykge1xuICBjb25zdCB7IHBvaW50ZXJUeXBlLCBzY29wZSB9ID0gc2VhcmNoRGV0YWlsc1xuXG4gIGNvbnN0IGZvdW5kSW50ZXJhY3Rpb24gPSBmaW5kZXIuc2VhcmNoKHNlYXJjaERldGFpbHMpXG4gIGNvbnN0IHNpZ25hbEFyZyA9IHsgaW50ZXJhY3Rpb246IGZvdW5kSW50ZXJhY3Rpb24sIHNlYXJjaERldGFpbHMgfVxuXG4gIHNjb3BlLmZpcmUoJ2ludGVyYWN0aW9uczpmaW5kJywgc2lnbmFsQXJnKVxuXG4gIHJldHVybiBzaWduYWxBcmcuaW50ZXJhY3Rpb24gfHwgc2NvcGUuaW50ZXJhY3Rpb25zLm5ldyh7IHBvaW50ZXJUeXBlIH0pXG59XG5cbmZ1bmN0aW9uIG9uRG9jU2lnbmFsPFQgZXh0ZW5kcyAnc2NvcGU6YWRkLWRvY3VtZW50JyB8ICdzY29wZTpyZW1vdmUtZG9jdW1lbnQnPihcbiAgeyBkb2MsIHNjb3BlLCBvcHRpb25zIH06IFNpZ25hbEFyZ3NbVF0sXG4gIGV2ZW50TWV0aG9kTmFtZTogJ2FkZCcgfCAncmVtb3ZlJyxcbikge1xuICBjb25zdCB7XG4gICAgaW50ZXJhY3Rpb25zOiB7IGRvY0V2ZW50cyB9LFxuICAgIGV2ZW50cyxcbiAgfSA9IHNjb3BlXG4gIGNvbnN0IGV2ZW50TWV0aG9kID0gZXZlbnRzW2V2ZW50TWV0aG9kTmFtZV1cblxuICBpZiAoc2NvcGUuYnJvd3Nlci5pc0lPUyAmJiAhb3B0aW9ucy5ldmVudHMpIHtcbiAgICBvcHRpb25zLmV2ZW50cyA9IHsgcGFzc2l2ZTogZmFsc2UgfVxuICB9XG5cbiAgLy8gZGVsZWdhdGUgZXZlbnQgbGlzdGVuZXJcbiAgZm9yIChjb25zdCBldmVudFR5cGUgaW4gZXZlbnRzLmRlbGVnYXRlZEV2ZW50cykge1xuICAgIGV2ZW50TWV0aG9kKGRvYywgZXZlbnRUeXBlLCBldmVudHMuZGVsZWdhdGVMaXN0ZW5lcilcbiAgICBldmVudE1ldGhvZChkb2MsIGV2ZW50VHlwZSwgZXZlbnRzLmRlbGVnYXRlVXNlQ2FwdHVyZSwgdHJ1ZSlcbiAgfVxuXG4gIGNvbnN0IGV2ZW50T3B0aW9ucyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5ldmVudHNcblxuICBmb3IgKGNvbnN0IHsgdHlwZSwgbGlzdGVuZXIgfSBvZiBkb2NFdmVudHMpIHtcbiAgICBldmVudE1ldGhvZChkb2MsIHR5cGUsIGxpc3RlbmVyLCBldmVudE9wdGlvbnMpXG4gIH1cbn1cblxuY29uc3QgaW50ZXJhY3Rpb25zOiBQbHVnaW4gPSB7XG4gIGlkOiAnY29yZS9pbnRlcmFjdGlvbnMnLFxuICBpbnN0YWxsLFxuICBsaXN0ZW5lcnM6IHtcbiAgICAnc2NvcGU6YWRkLWRvY3VtZW50JzogKGFyZykgPT4gb25Eb2NTaWduYWwoYXJnLCAnYWRkJyksXG4gICAgJ3Njb3BlOnJlbW92ZS1kb2N1bWVudCc6IChhcmcpID0+IG9uRG9jU2lnbmFsKGFyZywgJ3JlbW92ZScpLFxuICAgICdpbnRlcmFjdGFibGU6dW5zZXQnOiAoeyBpbnRlcmFjdGFibGUgfSwgc2NvcGUpID0+IHtcbiAgICAgIC8vIFN0b3AgYW5kIGRlc3Ryb3kgcmVsYXRlZCBpbnRlcmFjdGlvbnMgd2hlbiBhbiBJbnRlcmFjdGFibGUgaXMgdW5zZXRcbiAgICAgIGZvciAobGV0IGkgPSBzY29wZS5pbnRlcmFjdGlvbnMubGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbiA9IHNjb3BlLmludGVyYWN0aW9ucy5saXN0W2ldXG5cbiAgICAgICAgaWYgKGludGVyYWN0aW9uLmludGVyYWN0YWJsZSAhPT0gaW50ZXJhY3RhYmxlKSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIGludGVyYWN0aW9uLnN0b3AoKVxuICAgICAgICBzY29wZS5maXJlKCdpbnRlcmFjdGlvbnM6ZGVzdHJveScsIHsgaW50ZXJhY3Rpb24gfSlcbiAgICAgICAgaW50ZXJhY3Rpb24uZGVzdHJveSgpXG5cbiAgICAgICAgaWYgKHNjb3BlLmludGVyYWN0aW9ucy5saXN0Lmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICBzY29wZS5pbnRlcmFjdGlvbnMubGlzdC5zcGxpY2UoaSwgMSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gIH0sXG4gIG9uRG9jU2lnbmFsLFxuICBkb09uSW50ZXJhY3Rpb25zLFxuICBtZXRob2ROYW1lcyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgaW50ZXJhY3Rpb25zXG4iLCAiLyogZXNsaW50LWRpc2FibGUgbm8tZHVwZS1jbGFzcy1tZW1iZXJzICovXG5pbXBvcnQgKiBhcyBhcnIgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvYXJyJ1xuaW1wb3J0IGJyb3dzZXIgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvYnJvd3NlcidcbmltcG9ydCBjbG9uZSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9jbG9uZSdcbmltcG9ydCB7IGdldEVsZW1lbnRSZWN0LCBtYXRjaGVzVXBUbywgbm9kZUNvbnRhaW5zLCB0cnlTZWxlY3RvciB9IGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2RvbVV0aWxzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5pbXBvcnQgaXNOb25OYXRpdmVFdmVudCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pc05vbk5hdGl2ZUV2ZW50J1xuaW1wb3J0IG5vcm1hbGl6ZUxpc3RlbmVycyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9ub3JtYWxpemVMaXN0ZW5lcnMnXG5pbXBvcnQgeyBnZXRXaW5kb3cgfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy93aW5kb3cnXG5cbmltcG9ydCB0eXBlIHsgU2NvcGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUge1xuICBBY3Rpb25NYXAsXG4gIEFjdGlvbk1ldGhvZCxcbiAgQWN0aW9uTmFtZSxcbiAgQWN0aW9ucyxcbiAgQ29udGV4dCxcbiAgRWxlbWVudCxcbiAgRXZlbnRUeXBlcyxcbiAgTGlzdGVuZXJzLFxuICBMaXN0ZW5lcnNBcmcsXG4gIE9yQm9vbGVhbixcbiAgVGFyZ2V0LFxufSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuXG5pbXBvcnQgeyBFdmVudGFibGUgfSBmcm9tICcuL0V2ZW50YWJsZSdcbmltcG9ydCB0eXBlIHsgQWN0aW9uRGVmYXVsdHMsIERlZmF1bHRzLCBPcHRpb25zQXJnLCBQZXJBY3Rpb25EZWZhdWx0cywgT3B0aW9ucyB9IGZyb20gJy4vb3B0aW9ucydcblxudHlwZSBJZ25vcmVWYWx1ZSA9IHN0cmluZyB8IEVsZW1lbnQgfCBib29sZWFuXG50eXBlIERlbHRhU291cmNlID0gJ3BhZ2UnIHwgJ2NsaWVudCdcblxuY29uc3QgZW51bSBPbk9mZk1ldGhvZCB7XG4gIE9uLFxuICBPZmYsXG59XG5cbi8qKlxuICogYGBgdHNcbiAqIGNvbnN0IGludGVyYWN0YWJsZSA9IGludGVyYWN0KCcuY2FyZHMnKVxuICogICAuZHJhZ2dhYmxlKHtcbiAqICAgICBsaXN0ZW5lcnM6IHsgbW92ZTogZXZlbnQgPT4gY29uc29sZS5sb2coZXZlbnQudHlwZSwgZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZKSB9XG4gKiAgIH0pXG4gKiAgIC5yZXNpemFibGUoe1xuICogICAgIGxpc3RlbmVyczogeyBtb3ZlOiBldmVudCA9PiBjb25zb2xlLmxvZyhldmVudC5yZWN0KSB9LFxuICogICAgIG1vZGlmaWVyczogW2ludGVyYWN0Lm1vZGlmaWVycy5yZXN0cmljdEVkZ2VzKHsgb3V0ZXI6ICdwYXJlbnQnIH0pXVxuICogICB9KVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnRlcmFjdGFibGUgaW1wbGVtZW50cyBQYXJ0aWFsPEV2ZW50YWJsZT4ge1xuICAvKiogQGludGVybmFsICovIGdldCBfZGVmYXVsdHMoKTogRGVmYXVsdHMge1xuICAgIHJldHVybiB7XG4gICAgICBiYXNlOiB7fSxcbiAgICAgIHBlckFjdGlvbjoge30sXG4gICAgICBhY3Rpb25zOiB7fSBhcyBBY3Rpb25EZWZhdWx0cyxcbiAgICB9XG4gIH1cblxuICByZWFkb25seSB0YXJnZXQ6IFRhcmdldFxuICAvKiogQGludGVybmFsICovIHJlYWRvbmx5IG9wdGlvbnMhOiBSZXF1aXJlZDxPcHRpb25zPlxuICAvKiogQGludGVybmFsICovIHJlYWRvbmx5IF9hY3Rpb25zOiBBY3Rpb25zXG4gIC8qKiBAaW50ZXJuYWwgKi8gcmVhZG9ubHkgZXZlbnRzID0gbmV3IEV2ZW50YWJsZSgpXG4gIC8qKiBAaW50ZXJuYWwgKi8gcmVhZG9ubHkgX2NvbnRleHQ6IENvbnRleHRcbiAgLyoqIEBpbnRlcm5hbCAqLyByZWFkb25seSBfd2luOiBXaW5kb3dcbiAgLyoqIEBpbnRlcm5hbCAqLyByZWFkb25seSBfZG9jOiBEb2N1bWVudFxuICAvKiogQGludGVybmFsICovIHJlYWRvbmx5IF9zY29wZUV2ZW50czogU2NvcGVbJ2V2ZW50cyddXG5cbiAgY29uc3RydWN0b3IoXG4gICAgdGFyZ2V0OiBUYXJnZXQsXG4gICAgb3B0aW9uczogYW55LFxuICAgIGRlZmF1bHRDb250ZXh0OiBEb2N1bWVudCB8IEVsZW1lbnQsXG4gICAgc2NvcGVFdmVudHM6IFNjb3BlWydldmVudHMnXSxcbiAgKSB7XG4gICAgdGhpcy5fYWN0aW9ucyA9IG9wdGlvbnMuYWN0aW9uc1xuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0XG4gICAgdGhpcy5fY29udGV4dCA9IG9wdGlvbnMuY29udGV4dCB8fCBkZWZhdWx0Q29udGV4dFxuICAgIHRoaXMuX3dpbiA9IGdldFdpbmRvdyh0cnlTZWxlY3Rvcih0YXJnZXQpID8gdGhpcy5fY29udGV4dCA6IHRhcmdldClcbiAgICB0aGlzLl9kb2MgPSB0aGlzLl93aW4uZG9jdW1lbnRcbiAgICB0aGlzLl9zY29wZUV2ZW50cyA9IHNjb3BlRXZlbnRzXG5cbiAgICB0aGlzLnNldChvcHRpb25zKVxuICB9XG5cbiAgc2V0T25FdmVudHMoYWN0aW9uTmFtZTogQWN0aW9uTmFtZSwgcGhhc2VzOiBOb25OdWxsYWJsZTxhbnk+KSB7XG4gICAgaWYgKGlzLmZ1bmMocGhhc2VzLm9uc3RhcnQpKSB7XG4gICAgICB0aGlzLm9uKGAke2FjdGlvbk5hbWV9c3RhcnRgLCBwaGFzZXMub25zdGFydClcbiAgICB9XG4gICAgaWYgKGlzLmZ1bmMocGhhc2VzLm9ubW92ZSkpIHtcbiAgICAgIHRoaXMub24oYCR7YWN0aW9uTmFtZX1tb3ZlYCwgcGhhc2VzLm9ubW92ZSlcbiAgICB9XG4gICAgaWYgKGlzLmZ1bmMocGhhc2VzLm9uZW5kKSkge1xuICAgICAgdGhpcy5vbihgJHthY3Rpb25OYW1lfWVuZGAsIHBoYXNlcy5vbmVuZClcbiAgICB9XG4gICAgaWYgKGlzLmZ1bmMocGhhc2VzLm9uaW5lcnRpYXN0YXJ0KSkge1xuICAgICAgdGhpcy5vbihgJHthY3Rpb25OYW1lfWluZXJ0aWFzdGFydGAsIHBoYXNlcy5vbmluZXJ0aWFzdGFydClcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgdXBkYXRlUGVyQWN0aW9uTGlzdGVuZXJzKGFjdGlvbk5hbWU6IEFjdGlvbk5hbWUsIHByZXY6IExpc3RlbmVycyB8IHVuZGVmaW5lZCwgY3VyOiBMaXN0ZW5lcnMgfCB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBhY3Rpb25GaWx0ZXIgPSAodGhpcy5fYWN0aW9ucy5tYXBbYWN0aW9uTmFtZV0gYXMgeyBmaWx0ZXJFdmVudFR5cGU/OiAodHlwZTogc3RyaW5nKSA9PiBib29sZWFuIH0pXG4gICAgICA/LmZpbHRlckV2ZW50VHlwZVxuICAgIGNvbnN0IGZpbHRlciA9ICh0eXBlOiBzdHJpbmcpID0+XG4gICAgICAoYWN0aW9uRmlsdGVyID09IG51bGwgfHwgYWN0aW9uRmlsdGVyKHR5cGUpKSAmJiBpc05vbk5hdGl2ZUV2ZW50KHR5cGUsIHRoaXMuX2FjdGlvbnMpXG5cbiAgICBpZiAoaXMuYXJyYXkocHJldikgfHwgaXMub2JqZWN0KHByZXYpKSB7XG4gICAgICB0aGlzLl9vbk9mZihPbk9mZk1ldGhvZC5PZmYsIGFjdGlvbk5hbWUsIHByZXYsIHVuZGVmaW5lZCwgZmlsdGVyKVxuICAgIH1cblxuICAgIGlmIChpcy5hcnJheShjdXIpIHx8IGlzLm9iamVjdChjdXIpKSB7XG4gICAgICB0aGlzLl9vbk9mZihPbk9mZk1ldGhvZC5PbiwgYWN0aW9uTmFtZSwgY3VyLCB1bmRlZmluZWQsIGZpbHRlcilcbiAgICB9XG4gIH1cblxuICBzZXRQZXJBY3Rpb24oYWN0aW9uTmFtZTogQWN0aW9uTmFtZSwgb3B0aW9uczogT3JCb29sZWFuPE9wdGlvbnM+KSB7XG4gICAgY29uc3QgZGVmYXVsdHMgPSB0aGlzLl9kZWZhdWx0c1xuXG4gICAgLy8gZm9yIGFsbCB0aGUgZGVmYXVsdCBwZXItYWN0aW9uIG9wdGlvbnNcbiAgICBmb3IgKGNvbnN0IG9wdGlvbk5hbWVfIGluIG9wdGlvbnMpIHtcbiAgICAgIGNvbnN0IG9wdGlvbk5hbWUgPSBvcHRpb25OYW1lXyBhcyBrZXlvZiBQZXJBY3Rpb25EZWZhdWx0c1xuICAgICAgY29uc3QgYWN0aW9uT3B0aW9ucyA9IHRoaXMub3B0aW9uc1thY3Rpb25OYW1lXVxuICAgICAgY29uc3Qgb3B0aW9uVmFsdWU6IGFueSA9IG9wdGlvbnNbb3B0aW9uTmFtZV1cblxuICAgICAgLy8gcmVtb3ZlIG9sZCBldmVudCBsaXN0ZW5lcnMgYW5kIGFkZCBuZXcgb25lc1xuICAgICAgaWYgKG9wdGlvbk5hbWUgPT09ICdsaXN0ZW5lcnMnKSB7XG4gICAgICAgIHRoaXMudXBkYXRlUGVyQWN0aW9uTGlzdGVuZXJzKGFjdGlvbk5hbWUsIGFjdGlvbk9wdGlvbnMubGlzdGVuZXJzLCBvcHRpb25WYWx1ZSBhcyBMaXN0ZW5lcnMpXG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHRoZSBvcHRpb24gdmFsdWUgaXMgYW4gYXJyYXlcbiAgICAgIGlmIChpcy5hcnJheShvcHRpb25WYWx1ZSkpIHtcbiAgICAgICAgOyhhY3Rpb25PcHRpb25zW29wdGlvbk5hbWVdIGFzIGFueSkgPSBhcnIuZnJvbShvcHRpb25WYWx1ZSlcbiAgICAgIH1cbiAgICAgIC8vIGlmIHRoZSBvcHRpb24gdmFsdWUgaXMgYW4gb2JqZWN0XG4gICAgICBlbHNlIGlmIChpcy5wbGFpbk9iamVjdChvcHRpb25WYWx1ZSkpIHtcbiAgICAgICAgLy8gY29weSB0aGUgb2JqZWN0XG4gICAgICAgIDsoYWN0aW9uT3B0aW9uc1tvcHRpb25OYW1lXSBhcyBhbnkpID0gZXh0ZW5kKFxuICAgICAgICAgIGFjdGlvbk9wdGlvbnNbb3B0aW9uTmFtZV0gfHwgKHt9IGFzIGFueSksXG4gICAgICAgICAgY2xvbmUob3B0aW9uVmFsdWUpLFxuICAgICAgICApXG5cbiAgICAgICAgLy8gc2V0IGFuYWJsZWQgZmllbGQgdG8gdHJ1ZSBpZiBpdCBleGlzdHMgaW4gdGhlIGRlZmF1bHRzXG4gICAgICAgIGlmIChcbiAgICAgICAgICBpcy5vYmplY3QoZGVmYXVsdHMucGVyQWN0aW9uW29wdGlvbk5hbWVdKSAmJlxuICAgICAgICAgICdlbmFibGVkJyBpbiAoZGVmYXVsdHMucGVyQWN0aW9uW29wdGlvbk5hbWVdIGFzIGFueSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgOyhhY3Rpb25PcHRpb25zW29wdGlvbk5hbWVdIGFzIGFueSkuZW5hYmxlZCA9IG9wdGlvblZhbHVlLmVuYWJsZWQgIT09IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGlmIHRoZSBvcHRpb24gdmFsdWUgaXMgYSBib29sZWFuIGFuZCB0aGUgZGVmYXVsdCBpcyBhbiBvYmplY3RcbiAgICAgIGVsc2UgaWYgKGlzLmJvb2wob3B0aW9uVmFsdWUpICYmIGlzLm9iamVjdChkZWZhdWx0cy5wZXJBY3Rpb25bb3B0aW9uTmFtZV0pKSB7XG4gICAgICAgIDsoYWN0aW9uT3B0aW9uc1tvcHRpb25OYW1lXSBhcyBhbnkpLmVuYWJsZWQgPSBvcHRpb25WYWx1ZVxuICAgICAgfVxuICAgICAgLy8gaWYgaXQncyBhbnl0aGluZyBlbHNlLCBkbyBhIHBsYWluIGFzc2lnbm1lbnRcbiAgICAgIGVsc2Uge1xuICAgICAgICA7KGFjdGlvbk9wdGlvbnNbb3B0aW9uTmFtZV0gYXMgYW55KSA9IG9wdGlvblZhbHVlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGZ1bmN0aW9uIHRvIGdldCBhbiBJbnRlcmFjdGFibGVzIGJvdW5kaW5nIHJlY3QuIENhbiBiZVxuICAgKiBvdmVycmlkZGVuIHVzaW5nIHtAbGluayBJbnRlcmFjdGFibGUucmVjdENoZWNrZXJ9LlxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IFtlbGVtZW50XSBUaGUgZWxlbWVudCB0byBtZWFzdXJlLlxuICAgKiBAcmV0dXJuIHtSZWN0fSBUaGUgb2JqZWN0J3MgYm91bmRpbmcgcmVjdGFuZ2xlLlxuICAgKi9cbiAgZ2V0UmVjdChlbGVtZW50OiBFbGVtZW50KSB7XG4gICAgZWxlbWVudCA9IGVsZW1lbnQgfHwgKGlzLmVsZW1lbnQodGhpcy50YXJnZXQpID8gdGhpcy50YXJnZXQgOiBudWxsKVxuXG4gICAgaWYgKGlzLnN0cmluZyh0aGlzLnRhcmdldCkpIHtcbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50IHx8IHRoaXMuX2NvbnRleHQucXVlcnlTZWxlY3Rvcih0aGlzLnRhcmdldClcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0RWxlbWVudFJlY3QoZWxlbWVudClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG9yIHNldHMgdGhlIGZ1bmN0aW9uIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBpbnRlcmFjdGFibGUnc1xuICAgKiBlbGVtZW50J3MgcmVjdGFuZ2xlXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjaGVja2VyXSBBIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgdGhpcyBJbnRlcmFjdGFibGUnc1xuICAgKiBib3VuZGluZyByZWN0YW5nbGUuIFNlZSB7QGxpbmsgSW50ZXJhY3RhYmxlLmdldFJlY3R9XG4gICAqIEByZXR1cm4ge2Z1bmN0aW9uIHwgb2JqZWN0fSBUaGUgY2hlY2tlciBmdW5jdGlvbiBvciB0aGlzIEludGVyYWN0YWJsZVxuICAgKi9cbiAgcmVjdENoZWNrZXIoKTogKGVsZW1lbnQ6IEVsZW1lbnQpID0+IGFueSB8IG51bGxcbiAgcmVjdENoZWNrZXIoY2hlY2tlcjogKGVsZW1lbnQ6IEVsZW1lbnQpID0+IGFueSk6IHRoaXNcbiAgcmVjdENoZWNrZXIoY2hlY2tlcj86IChlbGVtZW50OiBFbGVtZW50KSA9PiBhbnkpIHtcbiAgICBpZiAoaXMuZnVuYyhjaGVja2VyKSkge1xuICAgICAgdGhpcy5nZXRSZWN0ID0gKGVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgcmVjdCA9IGV4dGVuZCh7fSwgY2hlY2tlci5hcHBseSh0aGlzLCBlbGVtZW50KSlcblxuICAgICAgICBpZiAoISgoJ3dpZHRoJyBpbiByZWN0KSBhcyB1bmtub3duKSkge1xuICAgICAgICAgIHJlY3Qud2lkdGggPSByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0XG4gICAgICAgICAgcmVjdC5oZWlnaHQgPSByZWN0LmJvdHRvbSAtIHJlY3QudG9wXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVjdFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGlmIChjaGVja2VyID09PSBudWxsKSB7XG4gICAgICBkZWxldGUgKHRoaXMgYXMgUGFydGlhbDx0eXBlb2YgdGhpcz4pLmdldFJlY3RcblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5nZXRSZWN0XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9iYWNrQ29tcGF0T3B0aW9uKG9wdGlvbk5hbWU6IGtleW9mIE9wdGlvbnMsIG5ld1ZhbHVlOiBhbnkpIHtcbiAgICBpZiAodHJ5U2VsZWN0b3IobmV3VmFsdWUpIHx8IGlzLm9iamVjdChuZXdWYWx1ZSkpIHtcbiAgICAgIDsodGhpcy5vcHRpb25zW29wdGlvbk5hbWVdIGFzIGFueSkgPSBuZXdWYWx1ZVxuXG4gICAgICBmb3IgKGNvbnN0IGFjdGlvbiBpbiB0aGlzLl9hY3Rpb25zLm1hcCkge1xuICAgICAgICA7KHRoaXMub3B0aW9uc1thY3Rpb24gYXMga2V5b2YgQWN0aW9uTWFwXSBhcyBhbnkpW29wdGlvbk5hbWVdID0gbmV3VmFsdWVcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5vcHRpb25zW29wdGlvbk5hbWVdXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBvciBzZXRzIHRoZSBvcmlnaW4gb2YgdGhlIEludGVyYWN0YWJsZSdzIGVsZW1lbnQuICBUaGUgeCBhbmQgeVxuICAgKiBvZiB0aGUgb3JpZ2luIHdpbGwgYmUgc3VidHJhY3RlZCBmcm9tIGFjdGlvbiBldmVudCBjb29yZGluYXRlcy5cbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50IHwgb2JqZWN0IHwgc3RyaW5nfSBbb3JpZ2luXSBBbiBIVE1MIG9yIFNWRyBFbGVtZW50IHdob3NlXG4gICAqIHJlY3Qgd2lsbCBiZSB1c2VkLCBhbiBvYmplY3QgZWcuIHsgeDogMCwgeTogMCB9IG9yIHN0cmluZyAncGFyZW50JywgJ3NlbGYnXG4gICAqIG9yIGFueSBDU1Mgc2VsZWN0b3JcbiAgICpcbiAgICogQHJldHVybiB7b2JqZWN0fSBUaGUgY3VycmVudCBvcmlnaW4gb3IgdGhpcyBJbnRlcmFjdGFibGVcbiAgICovXG4gIG9yaWdpbihuZXdWYWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuX2JhY2tDb21wYXRPcHRpb24oJ29yaWdpbicsIG5ld1ZhbHVlKVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgb3Igc2V0cyB0aGUgbW91c2UgY29vcmRpbmF0ZSB0eXBlcyB1c2VkIHRvIGNhbGN1bGF0ZSB0aGVcbiAgICogbW92ZW1lbnQgb2YgdGhlIHBvaW50ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbmV3VmFsdWVdIFVzZSAnY2xpZW50JyBpZiB5b3Ugd2lsbCBiZSBzY3JvbGxpbmcgd2hpbGVcbiAgICogaW50ZXJhY3Rpbmc7IFVzZSAncGFnZScgaWYgeW91IHdhbnQgYXV0b1Njcm9sbCB0byB3b3JrXG4gICAqIEByZXR1cm4ge3N0cmluZyB8IG9iamVjdH0gVGhlIGN1cnJlbnQgZGVsdGFTb3VyY2Ugb3IgdGhpcyBJbnRlcmFjdGFibGVcbiAgICovXG4gIGRlbHRhU291cmNlKCk6IERlbHRhU291cmNlXG4gIGRlbHRhU291cmNlKG5ld1ZhbHVlOiBEZWx0YVNvdXJjZSk6IHRoaXNcbiAgZGVsdGFTb3VyY2UobmV3VmFsdWU/OiBEZWx0YVNvdXJjZSkge1xuICAgIGlmIChuZXdWYWx1ZSA9PT0gJ3BhZ2UnIHx8IG5ld1ZhbHVlID09PSAnY2xpZW50Jykge1xuICAgICAgdGhpcy5vcHRpb25zLmRlbHRhU291cmNlID0gbmV3VmFsdWVcblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmRlbHRhU291cmNlXG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIGdldEFsbEVsZW1lbnRzKCk6IEVsZW1lbnRbXSB7XG4gICAgY29uc3QgeyB0YXJnZXQgfSA9IHRoaXNcblxuICAgIGlmIChpcy5zdHJpbmcodGFyZ2V0KSkge1xuICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKHRhcmdldCkpXG4gICAgfVxuXG4gICAgaWYgKGlzLmZ1bmModGFyZ2V0KSAmJiAodGFyZ2V0IGFzIGFueSkuZ2V0QWxsRWxlbWVudHMpIHtcbiAgICAgIHJldHVybiAodGFyZ2V0IGFzIGFueSkuZ2V0QWxsRWxlbWVudHMoKVxuICAgIH1cblxuICAgIHJldHVybiBpcy5lbGVtZW50KHRhcmdldCkgPyBbdGFyZ2V0XSA6IFtdXG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgc2VsZWN0b3IgY29udGV4dCBOb2RlIG9mIHRoZSBJbnRlcmFjdGFibGUuIFRoZSBkZWZhdWx0IGlzXG4gICAqIGB3aW5kb3cuZG9jdW1lbnRgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtOb2RlfSBUaGUgY29udGV4dCBOb2RlIG9mIHRoaXMgSW50ZXJhY3RhYmxlXG4gICAqL1xuICBjb250ZXh0KCkge1xuICAgIHJldHVybiB0aGlzLl9jb250ZXh0XG4gIH1cblxuICBpbkNvbnRleHQoZWxlbWVudDogRG9jdW1lbnQgfCBOb2RlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbnRleHQgPT09IGVsZW1lbnQub3duZXJEb2N1bWVudCB8fCBub2RlQ29udGFpbnModGhpcy5fY29udGV4dCwgZWxlbWVudClcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgdGVzdElnbm9yZUFsbG93KFxuICAgIHRoaXM6IEludGVyYWN0YWJsZSxcbiAgICBvcHRpb25zOiB7IGlnbm9yZUZyb20/OiBJZ25vcmVWYWx1ZTsgYWxsb3dGcm9tPzogSWdub3JlVmFsdWUgfSxcbiAgICB0YXJnZXROb2RlOiBOb2RlLFxuICAgIGV2ZW50VGFyZ2V0OiBOb2RlLFxuICApIHtcbiAgICByZXR1cm4gKFxuICAgICAgIXRoaXMudGVzdElnbm9yZShvcHRpb25zLmlnbm9yZUZyb20sIHRhcmdldE5vZGUsIGV2ZW50VGFyZ2V0KSAmJlxuICAgICAgdGhpcy50ZXN0QWxsb3cob3B0aW9ucy5hbGxvd0Zyb20sIHRhcmdldE5vZGUsIGV2ZW50VGFyZ2V0KVxuICAgIClcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgdGVzdEFsbG93KHRoaXM6IEludGVyYWN0YWJsZSwgYWxsb3dGcm9tOiBJZ25vcmVWYWx1ZSB8IHVuZGVmaW5lZCwgdGFyZ2V0Tm9kZTogTm9kZSwgZWxlbWVudDogTm9kZSkge1xuICAgIGlmICghYWxsb3dGcm9tKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGlmICghaXMuZWxlbWVudChlbGVtZW50KSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKGlzLnN0cmluZyhhbGxvd0Zyb20pKSB7XG4gICAgICByZXR1cm4gbWF0Y2hlc1VwVG8oZWxlbWVudCwgYWxsb3dGcm9tLCB0YXJnZXROb2RlKVxuICAgIH0gZWxzZSBpZiAoaXMuZWxlbWVudChhbGxvd0Zyb20pKSB7XG4gICAgICByZXR1cm4gbm9kZUNvbnRhaW5zKGFsbG93RnJvbSwgZWxlbWVudClcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgdGVzdElnbm9yZSh0aGlzOiBJbnRlcmFjdGFibGUsIGlnbm9yZUZyb206IElnbm9yZVZhbHVlIHwgdW5kZWZpbmVkLCB0YXJnZXROb2RlOiBOb2RlLCBlbGVtZW50OiBOb2RlKSB7XG4gICAgaWYgKCFpZ25vcmVGcm9tIHx8ICFpcy5lbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoaXMuc3RyaW5nKGlnbm9yZUZyb20pKSB7XG4gICAgICByZXR1cm4gbWF0Y2hlc1VwVG8oZWxlbWVudCwgaWdub3JlRnJvbSwgdGFyZ2V0Tm9kZSlcbiAgICB9IGVsc2UgaWYgKGlzLmVsZW1lbnQoaWdub3JlRnJvbSkpIHtcbiAgICAgIHJldHVybiBub2RlQ29udGFpbnMoaWdub3JlRnJvbSwgZWxlbWVudClcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyBsaXN0ZW5lcnMgZm9yIHRoZSBnaXZlbiBJbnRlcmFjdEV2ZW50IHR5cGUgYm91bmQgZ2xvYmFsbHlcbiAgICogYW5kIGRpcmVjdGx5IHRvIHRoaXMgSW50ZXJhY3RhYmxlXG4gICAqXG4gICAqIEBwYXJhbSB7SW50ZXJhY3RFdmVudH0gaUV2ZW50IFRoZSBJbnRlcmFjdEV2ZW50IG9iamVjdCB0byBiZSBmaXJlZCBvbiB0aGlzXG4gICAqIEludGVyYWN0YWJsZVxuICAgKiBAcmV0dXJuIHtJbnRlcmFjdGFibGV9IHRoaXMgSW50ZXJhY3RhYmxlXG4gICAqL1xuICBmaXJlPEUgZXh0ZW5kcyB7IHR5cGU6IHN0cmluZyB9PihpRXZlbnQ6IEUpIHtcbiAgICB0aGlzLmV2ZW50cy5maXJlKGlFdmVudClcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9vbk9mZihcbiAgICBtZXRob2Q6IE9uT2ZmTWV0aG9kLFxuICAgIHR5cGVBcmc6IEV2ZW50VHlwZXMsXG4gICAgbGlzdGVuZXJBcmc/OiBMaXN0ZW5lcnNBcmcgfCBudWxsLFxuICAgIG9wdGlvbnM/OiBhbnksXG4gICAgZmlsdGVyPzogKHR5cGU6IHN0cmluZykgPT4gYm9vbGVhbixcbiAgKSB7XG4gICAgaWYgKGlzLm9iamVjdCh0eXBlQXJnKSAmJiAhaXMuYXJyYXkodHlwZUFyZykpIHtcbiAgICAgIG9wdGlvbnMgPSBsaXN0ZW5lckFyZ1xuICAgICAgbGlzdGVuZXJBcmcgPSBudWxsXG4gICAgfVxuXG4gICAgY29uc3QgbGlzdGVuZXJzID0gbm9ybWFsaXplTGlzdGVuZXJzKHR5cGVBcmcsIGxpc3RlbmVyQXJnLCBmaWx0ZXIpXG5cbiAgICBmb3IgKGxldCB0eXBlIGluIGxpc3RlbmVycykge1xuICAgICAgaWYgKHR5cGUgPT09ICd3aGVlbCcpIHtcbiAgICAgICAgdHlwZSA9IGJyb3dzZXIud2hlZWxFdmVudFxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIGxpc3RlbmVyc1t0eXBlXSkge1xuICAgICAgICAvLyBpZiBpdCBpcyBhbiBhY3Rpb24gZXZlbnQgdHlwZVxuICAgICAgICBpZiAoaXNOb25OYXRpdmVFdmVudCh0eXBlLCB0aGlzLl9hY3Rpb25zKSkge1xuICAgICAgICAgIHRoaXMuZXZlbnRzW21ldGhvZCA9PT0gT25PZmZNZXRob2QuT24gPyAnb24nIDogJ29mZiddKHR5cGUsIGxpc3RlbmVyKVxuICAgICAgICB9XG4gICAgICAgIC8vIGRlbGVnYXRlZCBldmVudFxuICAgICAgICBlbHNlIGlmIChpcy5zdHJpbmcodGhpcy50YXJnZXQpKSB7XG4gICAgICAgICAgdGhpcy5fc2NvcGVFdmVudHNbbWV0aG9kID09PSBPbk9mZk1ldGhvZC5PbiA/ICdhZGREZWxlZ2F0ZScgOiAncmVtb3ZlRGVsZWdhdGUnXShcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0LFxuICAgICAgICAgICAgdGhpcy5fY29udGV4dCxcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBsaXN0ZW5lcixcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIC8vIHJlbW92ZSBsaXN0ZW5lciBmcm9tIHRoaXMgSW50ZXJhY3RhYmxlJ3MgZWxlbWVudFxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9zY29wZUV2ZW50c1ttZXRob2QgPT09IE9uT2ZmTWV0aG9kLk9uID8gJ2FkZCcgOiAncmVtb3ZlJ10oXG4gICAgICAgICAgICB0aGlzLnRhcmdldCxcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBsaXN0ZW5lcixcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kcyBhIGxpc3RlbmVyIGZvciBhbiBJbnRlcmFjdEV2ZW50LCBwb2ludGVyRXZlbnQgb3IgRE9NIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IGFycmF5IHwgb2JqZWN0fSB0eXBlcyBUaGUgdHlwZXMgb2YgZXZlbnRzIHRvIGxpc3RlblxuICAgKiBmb3JcbiAgICogQHBhcmFtIHtmdW5jdGlvbiB8IGFycmF5IHwgb2JqZWN0fSBbbGlzdGVuZXJdIFRoZSBldmVudCBsaXN0ZW5lciBmdW5jdGlvbihzKVxuICAgKiBAcGFyYW0ge29iamVjdCB8IGJvb2xlYW59IFtvcHRpb25zXSBvcHRpb25zIG9iamVjdCBvciB1c2VDYXB0dXJlIGZsYWcgZm9yXG4gICAqIGFkZEV2ZW50TGlzdGVuZXJcbiAgICogQHJldHVybiB7SW50ZXJhY3RhYmxlfSBUaGlzIEludGVyYWN0YWJsZVxuICAgKi9cbiAgb24odHlwZXM6IEV2ZW50VHlwZXMsIGxpc3RlbmVyPzogTGlzdGVuZXJzQXJnLCBvcHRpb25zPzogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuX29uT2ZmKE9uT2ZmTWV0aG9kLk9uLCB0eXBlcywgbGlzdGVuZXIsIG9wdGlvbnMpXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBJbnRlcmFjdEV2ZW50LCBwb2ludGVyRXZlbnQgb3IgRE9NIGV2ZW50IGxpc3RlbmVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IGFycmF5IHwgb2JqZWN0fSB0eXBlcyBUaGUgdHlwZXMgb2YgZXZlbnRzIHRoYXQgd2VyZVxuICAgKiBsaXN0ZW5lZCBmb3JcbiAgICogQHBhcmFtIHtmdW5jdGlvbiB8IGFycmF5IHwgb2JqZWN0fSBbbGlzdGVuZXJdIFRoZSBldmVudCBsaXN0ZW5lciBmdW5jdGlvbihzKVxuICAgKiBAcGFyYW0ge29iamVjdCB8IGJvb2xlYW59IFtvcHRpb25zXSBvcHRpb25zIG9iamVjdCBvciB1c2VDYXB0dXJlIGZsYWcgZm9yXG4gICAqIHJlbW92ZUV2ZW50TGlzdGVuZXJcbiAgICogQHJldHVybiB7SW50ZXJhY3RhYmxlfSBUaGlzIEludGVyYWN0YWJsZVxuICAgKi9cbiAgb2ZmKHR5cGVzOiBzdHJpbmcgfCBzdHJpbmdbXSB8IEV2ZW50VHlwZXMsIGxpc3RlbmVyPzogTGlzdGVuZXJzQXJnLCBvcHRpb25zPzogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuX29uT2ZmKE9uT2ZmTWV0aG9kLk9mZiwgdHlwZXMsIGxpc3RlbmVyLCBvcHRpb25zKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IHRoZSBvcHRpb25zIG9mIHRoaXMgSW50ZXJhY3RhYmxlXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIFRoZSBuZXcgc2V0dGluZ3MgdG8gYXBwbHlcbiAgICogQHJldHVybiB7b2JqZWN0fSBUaGlzIEludGVyYWN0YWJsZVxuICAgKi9cbiAgc2V0KG9wdGlvbnM6IE9wdGlvbnNBcmcpIHtcbiAgICBjb25zdCBkZWZhdWx0cyA9IHRoaXMuX2RlZmF1bHRzXG5cbiAgICBpZiAoIWlzLm9iamVjdChvcHRpb25zKSkge1xuICAgICAgb3B0aW9ucyA9IHt9XG4gICAgfVxuXG4gICAgOyh0aGlzLm9wdGlvbnMgYXMgUmVxdWlyZWQ8T3B0aW9ucz4pID0gY2xvbmUoZGVmYXVsdHMuYmFzZSkgYXMgUmVxdWlyZWQ8T3B0aW9ucz5cblxuICAgIGZvciAoY29uc3QgYWN0aW9uTmFtZV8gaW4gdGhpcy5fYWN0aW9ucy5tZXRob2REaWN0KSB7XG4gICAgICBjb25zdCBhY3Rpb25OYW1lID0gYWN0aW9uTmFtZV8gYXMgQWN0aW9uTmFtZVxuICAgICAgY29uc3QgbWV0aG9kTmFtZSA9IHRoaXMuX2FjdGlvbnMubWV0aG9kRGljdFthY3Rpb25OYW1lXVxuXG4gICAgICB0aGlzLm9wdGlvbnNbYWN0aW9uTmFtZV0gPSB7fVxuICAgICAgdGhpcy5zZXRQZXJBY3Rpb24oYWN0aW9uTmFtZSwgZXh0ZW5kKGV4dGVuZCh7fSwgZGVmYXVsdHMucGVyQWN0aW9uKSwgZGVmYXVsdHMuYWN0aW9uc1thY3Rpb25OYW1lXSkpXG4gICAgICA7KHRoaXNbbWV0aG9kTmFtZV0gYXMgQWN0aW9uTWV0aG9kPHVua25vd24+KShvcHRpb25zW2FjdGlvbk5hbWVdKVxuICAgIH1cblxuICAgIGZvciAoY29uc3Qgc2V0dGluZyBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAoc2V0dGluZyA9PT0gJ2dldFJlY3QnKSB7XG4gICAgICAgIHRoaXMucmVjdENoZWNrZXIob3B0aW9ucy5nZXRSZWN0KVxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBpZiAoaXMuZnVuYygodGhpcyBhcyBhbnkpW3NldHRpbmddKSkge1xuICAgICAgICA7KHRoaXMgYXMgYW55KVtzZXR0aW5nXShvcHRpb25zW3NldHRpbmcgYXMga2V5b2YgdHlwZW9mIG9wdGlvbnNdKVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRoaXMgaW50ZXJhY3RhYmxlIGZyb20gdGhlIGxpc3Qgb2YgaW50ZXJhY3RhYmxlcyBhbmQgcmVtb3ZlIGl0J3NcbiAgICogYWN0aW9uIGNhcGFiaWxpdGllcyBhbmQgZXZlbnQgbGlzdGVuZXJzXG4gICAqL1xuICB1bnNldCgpIHtcbiAgICBpZiAoaXMuc3RyaW5nKHRoaXMudGFyZ2V0KSkge1xuICAgICAgLy8gcmVtb3ZlIGRlbGVnYXRlZCBldmVudHNcbiAgICAgIGZvciAoY29uc3QgdHlwZSBpbiB0aGlzLl9zY29wZUV2ZW50cy5kZWxlZ2F0ZWRFdmVudHMpIHtcbiAgICAgICAgY29uc3QgZGVsZWdhdGVkID0gdGhpcy5fc2NvcGVFdmVudHMuZGVsZWdhdGVkRXZlbnRzW3R5cGVdXG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGRlbGVnYXRlZC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGNvbnN0IHsgc2VsZWN0b3IsIGNvbnRleHQsIGxpc3RlbmVycyB9ID0gZGVsZWdhdGVkW2ldXG5cbiAgICAgICAgICBpZiAoc2VsZWN0b3IgPT09IHRoaXMudGFyZ2V0ICYmIGNvbnRleHQgPT09IHRoaXMuX2NvbnRleHQpIHtcbiAgICAgICAgICAgIGRlbGVnYXRlZC5zcGxpY2UoaSwgMSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3IgKGxldCBsID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGwgPj0gMDsgbC0tKSB7XG4gICAgICAgICAgICB0aGlzLl9zY29wZUV2ZW50cy5yZW1vdmVEZWxlZ2F0ZShcbiAgICAgICAgICAgICAgdGhpcy50YXJnZXQsXG4gICAgICAgICAgICAgIHRoaXMuX2NvbnRleHQsXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIGxpc3RlbmVyc1tsXVswXSxcbiAgICAgICAgICAgICAgbGlzdGVuZXJzW2xdWzFdLFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zY29wZUV2ZW50cy5yZW1vdmUodGhpcy50YXJnZXQsICdhbGwnKVxuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCAqIGFzIGFyciBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9hcnInXG5pbXBvcnQgKiBhcyBkb21VdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9kb21VdGlscydcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0YWJsZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHR5cGUgeyBPcHRpb25zQXJnLCBPcHRpb25zIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IFRhcmdldCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJyB7XG4gIGludGVyZmFjZSBTaWduYWxBcmdzIHtcbiAgICAnaW50ZXJhY3RhYmxlOm5ldyc6IHtcbiAgICAgIGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlXG4gICAgICB0YXJnZXQ6IFRhcmdldFxuICAgICAgb3B0aW9uczogT3B0aW9uc0FyZ1xuICAgICAgd2luOiBXaW5kb3dcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEludGVyYWN0YWJsZVNldCB7XG4gIC8vIGFsbCBzZXQgaW50ZXJhY3RhYmxlc1xuICBsaXN0OiBJbnRlcmFjdGFibGVbXSA9IFtdXG5cbiAgc2VsZWN0b3JNYXA6IHtcbiAgICBbc2VsZWN0b3I6IHN0cmluZ106IEludGVyYWN0YWJsZVtdXG4gIH0gPSB7fVxuXG4gIHNjb3BlOiBTY29wZVxuXG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBTY29wZSkge1xuICAgIHRoaXMuc2NvcGUgPSBzY29wZVxuICAgIHNjb3BlLmFkZExpc3RlbmVycyh7XG4gICAgICAnaW50ZXJhY3RhYmxlOnVuc2V0JzogKHsgaW50ZXJhY3RhYmxlIH0pID0+IHtcbiAgICAgICAgY29uc3QgeyB0YXJnZXQgfSA9IGludGVyYWN0YWJsZVxuICAgICAgICBjb25zdCBpbnRlcmFjdGFibGVzT25UYXJnZXQ6IEludGVyYWN0YWJsZVtdID0gaXMuc3RyaW5nKHRhcmdldClcbiAgICAgICAgICA/IHRoaXMuc2VsZWN0b3JNYXBbdGFyZ2V0XVxuICAgICAgICAgIDogKHRhcmdldCBhcyBhbnkpW3RoaXMuc2NvcGUuaWRdXG5cbiAgICAgICAgY29uc3QgdGFyZ2V0SW5kZXggPSBhcnIuZmluZEluZGV4KGludGVyYWN0YWJsZXNPblRhcmdldCwgKGkpID0+IGkgPT09IGludGVyYWN0YWJsZSlcbiAgICAgICAgaW50ZXJhY3RhYmxlc09uVGFyZ2V0LnNwbGljZSh0YXJnZXRJbmRleCwgMSlcbiAgICAgIH0sXG4gICAgfSlcbiAgfVxuXG4gIG5ldyh0YXJnZXQ6IFRhcmdldCwgb3B0aW9ucz86IGFueSk6IEludGVyYWN0YWJsZSB7XG4gICAgb3B0aW9ucyA9IGV4dGVuZChvcHRpb25zIHx8IHt9LCB7XG4gICAgICBhY3Rpb25zOiB0aGlzLnNjb3BlLmFjdGlvbnMsXG4gICAgfSlcbiAgICBjb25zdCBpbnRlcmFjdGFibGUgPSBuZXcgdGhpcy5zY29wZS5JbnRlcmFjdGFibGUodGFyZ2V0LCBvcHRpb25zLCB0aGlzLnNjb3BlLmRvY3VtZW50LCB0aGlzLnNjb3BlLmV2ZW50cylcblxuICAgIHRoaXMuc2NvcGUuYWRkRG9jdW1lbnQoaW50ZXJhY3RhYmxlLl9kb2MpXG4gICAgdGhpcy5saXN0LnB1c2goaW50ZXJhY3RhYmxlKVxuXG4gICAgaWYgKGlzLnN0cmluZyh0YXJnZXQpKSB7XG4gICAgICBpZiAoIXRoaXMuc2VsZWN0b3JNYXBbdGFyZ2V0XSkge1xuICAgICAgICB0aGlzLnNlbGVjdG9yTWFwW3RhcmdldF0gPSBbXVxuICAgICAgfVxuICAgICAgdGhpcy5zZWxlY3Rvck1hcFt0YXJnZXRdLnB1c2goaW50ZXJhY3RhYmxlKVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIShpbnRlcmFjdGFibGUudGFyZ2V0IGFzIGFueSlbdGhpcy5zY29wZS5pZF0pIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgdGhpcy5zY29wZS5pZCwge1xuICAgICAgICAgIHZhbHVlOiBbXSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIDsodGFyZ2V0IGFzIGFueSlbdGhpcy5zY29wZS5pZF0ucHVzaChpbnRlcmFjdGFibGUpXG4gICAgfVxuXG4gICAgdGhpcy5zY29wZS5maXJlKCdpbnRlcmFjdGFibGU6bmV3Jywge1xuICAgICAgdGFyZ2V0LFxuICAgICAgb3B0aW9ucyxcbiAgICAgIGludGVyYWN0YWJsZSxcbiAgICAgIHdpbjogdGhpcy5zY29wZS5fd2luLFxuICAgIH0pXG5cbiAgICByZXR1cm4gaW50ZXJhY3RhYmxlXG4gIH1cblxuICBnZXRFeGlzdGluZyh0YXJnZXQ6IFRhcmdldCwgb3B0aW9ucz86IE9wdGlvbnMpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5jb250ZXh0KSB8fCB0aGlzLnNjb3BlLmRvY3VtZW50XG4gICAgY29uc3QgaXNTZWxlY3RvciA9IGlzLnN0cmluZyh0YXJnZXQpXG4gICAgY29uc3QgaW50ZXJhY3RhYmxlc09uVGFyZ2V0OiBJbnRlcmFjdGFibGVbXSA9IGlzU2VsZWN0b3JcbiAgICAgID8gdGhpcy5zZWxlY3Rvck1hcFt0YXJnZXQgYXMgc3RyaW5nXVxuICAgICAgOiAodGFyZ2V0IGFzIGFueSlbdGhpcy5zY29wZS5pZF1cblxuICAgIGlmICghaW50ZXJhY3RhYmxlc09uVGFyZ2V0KSByZXR1cm4gdW5kZWZpbmVkXG5cbiAgICByZXR1cm4gYXJyLmZpbmQoXG4gICAgICBpbnRlcmFjdGFibGVzT25UYXJnZXQsXG4gICAgICAoaW50ZXJhY3RhYmxlKSA9PlxuICAgICAgICBpbnRlcmFjdGFibGUuX2NvbnRleHQgPT09IGNvbnRleHQgJiYgKGlzU2VsZWN0b3IgfHwgaW50ZXJhY3RhYmxlLmluQ29udGV4dCh0YXJnZXQgYXMgYW55KSksXG4gICAgKVxuICB9XG5cbiAgZm9yRWFjaE1hdGNoPFQ+KG5vZGU6IE5vZGUsIGNhbGxiYWNrOiAoaW50ZXJhY3RhYmxlOiBJbnRlcmFjdGFibGUpID0+IFQpOiBUIHwgdm9pZCB7XG4gICAgZm9yIChjb25zdCBpbnRlcmFjdGFibGUgb2YgdGhpcy5saXN0KSB7XG4gICAgICBsZXQgcmV0OiBUXG5cbiAgICAgIGlmIChcbiAgICAgICAgKGlzLnN0cmluZyhpbnRlcmFjdGFibGUudGFyZ2V0KVxuICAgICAgICAgID8gLy8gdGFyZ2V0IGlzIGEgc2VsZWN0b3IgYW5kIHRoZSBlbGVtZW50IG1hdGNoZXNcbiAgICAgICAgICAgIGlzLmVsZW1lbnQobm9kZSkgJiYgZG9tVXRpbHMubWF0Y2hlc1NlbGVjdG9yKG5vZGUsIGludGVyYWN0YWJsZS50YXJnZXQpXG4gICAgICAgICAgOiAvLyB0YXJnZXQgaXMgdGhlIGVsZW1lbnRcbiAgICAgICAgICAgIG5vZGUgPT09IGludGVyYWN0YWJsZS50YXJnZXQpICYmXG4gICAgICAgIC8vIHRoZSBlbGVtZW50IGlzIGluIGNvbnRleHRcbiAgICAgICAgaW50ZXJhY3RhYmxlLmluQ29udGV4dChub2RlKVxuICAgICAgKSB7XG4gICAgICAgIHJldCA9IGNhbGxiYWNrKGludGVyYWN0YWJsZSlcbiAgICAgIH1cblxuICAgICAgaWYgKHJldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiByZXRcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgYnJvd3NlciBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9icm93c2VyJ1xuaW1wb3J0IGNsb25lIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2Nsb25lJ1xuaW1wb3J0IGRvbU9iamVjdHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tT2JqZWN0cydcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuaW1wb3J0IHJhZiBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yYWYnXG5pbXBvcnQgKiBhcyB3aW4gZnJvbSAnQGludGVyYWN0anMvdXRpbHMvd2luZG93J1xuXG5pbXBvcnQgdHlwZSBJbnRlcmFjdGlvbiBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuXG5pbXBvcnQgeyBFdmVudGFibGUgfSBmcm9tICcuL0V2ZW50YWJsZSdcbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzIC0tIGZvciB0eXBlc2NyaXB0IG1vZHVsZSBhdWdtZW50YXRpb25zICovXG5pbXBvcnQgJy4vZXZlbnRzJ1xuaW1wb3J0ICcuL2ludGVyYWN0aW9ucydcbmltcG9ydCBldmVudHMgZnJvbSAnLi9ldmVudHMnXG5pbXBvcnQgeyBJbnRlcmFjdGFibGUgYXMgSW50ZXJhY3RhYmxlQmFzZSB9IGZyb20gJy4vSW50ZXJhY3RhYmxlJ1xuaW1wb3J0IHsgSW50ZXJhY3RhYmxlU2V0IH0gZnJvbSAnLi9JbnRlcmFjdGFibGVTZXQnXG5pbXBvcnQgeyBJbnRlcmFjdEV2ZW50IH0gZnJvbSAnLi9JbnRlcmFjdEV2ZW50J1xuaW1wb3J0IGludGVyYWN0aW9ucyBmcm9tICcuL2ludGVyYWN0aW9ucydcbi8qIGVzbGludC1lbmFibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgKi9cbmltcG9ydCB7IGNyZWF0ZUludGVyYWN0U3RhdGljIH0gZnJvbSAnLi9JbnRlcmFjdFN0YXRpYydcbmltcG9ydCB0eXBlIHsgT3B0aW9uc0FyZyB9IGZyb20gJy4vb3B0aW9ucydcbmltcG9ydCB7IGRlZmF1bHRzIH0gZnJvbSAnLi9vcHRpb25zJ1xuaW1wb3J0IHR5cGUgeyBBY3Rpb25zIH0gZnJvbSAnLi90eXBlcydcblxuZXhwb3J0IGludGVyZmFjZSBTaWduYWxBcmdzIHtcbiAgJ3Njb3BlOmFkZC1kb2N1bWVudCc6IERvY1NpZ25hbEFyZ1xuICAnc2NvcGU6cmVtb3ZlLWRvY3VtZW50JzogRG9jU2lnbmFsQXJnXG4gICdpbnRlcmFjdGFibGU6dW5zZXQnOiB7IGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlQmFzZSB9XG4gICdpbnRlcmFjdGFibGU6c2V0JzogeyBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZUJhc2U7IG9wdGlvbnM6IE9wdGlvbnNBcmcgfVxuICAnaW50ZXJhY3Rpb25zOmRlc3Ryb3knOiB7IGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbiB9XG59XG5cbmV4cG9ydCB0eXBlIExpc3RlbmVyTmFtZSA9IGtleW9mIFNpZ25hbEFyZ3NcblxuZXhwb3J0IHR5cGUgTGlzdGVuZXJNYXAgPSB7XG4gIFtQIGluIExpc3RlbmVyTmFtZV0/OiAoYXJnOiBTaWduYWxBcmdzW1BdLCBzY29wZTogU2NvcGUsIHNpZ25hbE5hbWU6IFApID0+IHZvaWQgfCBib29sZWFuXG59XG5cbmludGVyZmFjZSBEb2NTaWduYWxBcmcge1xuICBkb2M6IERvY3VtZW50XG4gIHdpbmRvdzogV2luZG93XG4gIHNjb3BlOiBTY29wZVxuICBvcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGx1Z2luIHtcbiAgW2tleTogc3RyaW5nXTogYW55XG4gIGlkPzogc3RyaW5nXG4gIGxpc3RlbmVycz86IExpc3RlbmVyTWFwXG4gIGJlZm9yZT86IHN0cmluZ1tdXG4gIGluc3RhbGw/KHNjb3BlOiBTY29wZSwgb3B0aW9ucz86IGFueSk6IHZvaWRcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNsYXNzIFNjb3BlIHtcbiAgaWQgPSBgX19pbnRlcmFjdF9zY29wZV8ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCl9YFxuICBpc0luaXRpYWxpemVkID0gZmFsc2VcbiAgbGlzdGVuZXJNYXBzOiBBcnJheTx7XG4gICAgbWFwOiBMaXN0ZW5lck1hcFxuICAgIGlkPzogc3RyaW5nXG4gIH0+ID0gW11cblxuICBicm93c2VyID0gYnJvd3NlclxuICBkZWZhdWx0cyA9IGNsb25lKGRlZmF1bHRzKSBhcyB0eXBlb2YgZGVmYXVsdHNcbiAgRXZlbnRhYmxlID0gRXZlbnRhYmxlXG4gIGFjdGlvbnM6IEFjdGlvbnMgPSB7XG4gICAgbWFwOiB7fSxcbiAgICBwaGFzZXM6IHtcbiAgICAgIHN0YXJ0OiB0cnVlLFxuICAgICAgbW92ZTogdHJ1ZSxcbiAgICAgIGVuZDogdHJ1ZSxcbiAgICB9LFxuICAgIG1ldGhvZERpY3Q6IHt9IGFzIGFueSxcbiAgICBwaGFzZWxlc3NUeXBlczoge30sXG4gIH1cblxuICBpbnRlcmFjdFN0YXRpYyA9IGNyZWF0ZUludGVyYWN0U3RhdGljKHRoaXMpXG4gIEludGVyYWN0RXZlbnQgPSBJbnRlcmFjdEV2ZW50XG4gIEludGVyYWN0YWJsZTogdHlwZW9mIEludGVyYWN0YWJsZUJhc2VcbiAgaW50ZXJhY3RhYmxlcyA9IG5ldyBJbnRlcmFjdGFibGVTZXQodGhpcylcblxuICAvLyBtYWluIHdpbmRvd1xuICBfd2luITogV2luZG93XG5cbiAgLy8gbWFpbiBkb2N1bWVudFxuICBkb2N1bWVudCE6IERvY3VtZW50XG5cbiAgLy8gbWFpbiB3aW5kb3dcbiAgd2luZG93ITogV2luZG93XG5cbiAgLy8gYWxsIGRvY3VtZW50cyBiZWluZyBsaXN0ZW5lZCB0b1xuICBkb2N1bWVudHM6IEFycmF5PHsgZG9jOiBEb2N1bWVudDsgb3B0aW9uczogYW55IH0+ID0gW11cblxuICBfcGx1Z2luczoge1xuICAgIGxpc3Q6IFBsdWdpbltdXG4gICAgbWFwOiB7IFtpZDogc3RyaW5nXTogUGx1Z2luIH1cbiAgfSA9IHtcbiAgICBsaXN0OiBbXSxcbiAgICBtYXA6IHt9LFxuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzXG5cbiAgICB0aGlzLkludGVyYWN0YWJsZSA9IGNsYXNzIGV4dGVuZHMgSW50ZXJhY3RhYmxlQmFzZSB7XG4gICAgICBnZXQgX2RlZmF1bHRzKCkge1xuICAgICAgICByZXR1cm4gc2NvcGUuZGVmYXVsdHNcbiAgICAgIH1cblxuICAgICAgc2V0PFQgZXh0ZW5kcyBJbnRlcmFjdGFibGVCYXNlPih0aGlzOiBULCBvcHRpb25zOiBPcHRpb25zQXJnKSB7XG4gICAgICAgIHN1cGVyLnNldChvcHRpb25zKVxuXG4gICAgICAgIHNjb3BlLmZpcmUoJ2ludGVyYWN0YWJsZTpzZXQnLCB7XG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICBpbnRlcmFjdGFibGU6IHRoaXMsXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgIH1cblxuICAgICAgdW5zZXQodGhpczogSW50ZXJhY3RhYmxlQmFzZSkge1xuICAgICAgICBzdXBlci51bnNldCgpXG5cbiAgICAgICAgY29uc3QgaW5kZXggPSBzY29wZS5pbnRlcmFjdGFibGVzLmxpc3QuaW5kZXhPZih0aGlzKVxuICAgICAgICBpZiAoaW5kZXggPCAwKSByZXR1cm5cblxuICAgICAgICBzY29wZS5pbnRlcmFjdGFibGVzLmxpc3Quc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICBzY29wZS5maXJlKCdpbnRlcmFjdGFibGU6dW5zZXQnLCB7IGludGVyYWN0YWJsZTogdGhpcyB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFkZExpc3RlbmVycyhtYXA6IExpc3RlbmVyTWFwLCBpZD86IHN0cmluZykge1xuICAgIHRoaXMubGlzdGVuZXJNYXBzLnB1c2goeyBpZCwgbWFwIH0pXG4gIH1cblxuICBmaXJlPFQgZXh0ZW5kcyBMaXN0ZW5lck5hbWU+KG5hbWU6IFQsIGFyZzogU2lnbmFsQXJnc1tUXSk6IHZvaWQgfCBmYWxzZSB7XG4gICAgZm9yIChjb25zdCB7XG4gICAgICBtYXA6IHsgW25hbWVdOiBsaXN0ZW5lciB9LFxuICAgIH0gb2YgdGhpcy5saXN0ZW5lck1hcHMpIHtcbiAgICAgIGlmICghIWxpc3RlbmVyICYmIGxpc3RlbmVyKGFyZyBhcyBhbnksIHRoaXMsIG5hbWUgYXMgbmV2ZXIpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvbldpbmRvd1VubG9hZCA9IChldmVudDogQmVmb3JlVW5sb2FkRXZlbnQpID0+IHRoaXMucmVtb3ZlRG9jdW1lbnQoZXZlbnQudGFyZ2V0IGFzIERvY3VtZW50KVxuXG4gIGluaXQod2luZG93OiBXaW5kb3cgfCB0eXBlb2YgZ2xvYmFsVGhpcykge1xuICAgIHJldHVybiB0aGlzLmlzSW5pdGlhbGl6ZWQgPyB0aGlzIDogaW5pdFNjb3BlKHRoaXMsIHdpbmRvdylcbiAgfVxuXG4gIHBsdWdpbklzSW5zdGFsbGVkKHBsdWdpbjogUGx1Z2luKSB7XG4gICAgY29uc3QgeyBpZCB9ID0gcGx1Z2luXG4gICAgcmV0dXJuIGlkID8gISF0aGlzLl9wbHVnaW5zLm1hcFtpZF0gOiB0aGlzLl9wbHVnaW5zLmxpc3QuaW5kZXhPZihwbHVnaW4pICE9PSAtMVxuICB9XG5cbiAgdXNlUGx1Z2luKHBsdWdpbjogUGx1Z2luLCBvcHRpb25zPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSkge1xuICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSB7XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBsdWdpbklzSW5zdGFsbGVkKHBsdWdpbikpIHtcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgaWYgKHBsdWdpbi5pZCkge1xuICAgICAgdGhpcy5fcGx1Z2lucy5tYXBbcGx1Z2luLmlkXSA9IHBsdWdpblxuICAgIH1cbiAgICB0aGlzLl9wbHVnaW5zLmxpc3QucHVzaChwbHVnaW4pXG5cbiAgICBpZiAocGx1Z2luLmluc3RhbGwpIHtcbiAgICAgIHBsdWdpbi5pbnN0YWxsKHRoaXMsIG9wdGlvbnMpXG4gICAgfVxuXG4gICAgaWYgKHBsdWdpbi5saXN0ZW5lcnMgJiYgcGx1Z2luLmJlZm9yZSkge1xuICAgICAgbGV0IGluZGV4ID0gMFxuICAgICAgY29uc3QgbGVuID0gdGhpcy5saXN0ZW5lck1hcHMubGVuZ3RoXG4gICAgICBjb25zdCBiZWZvcmUgPSBwbHVnaW4uYmVmb3JlLnJlZHVjZSgoYWNjLCBpZCkgPT4ge1xuICAgICAgICBhY2NbaWRdID0gdHJ1ZVxuICAgICAgICBhY2NbcGx1Z2luSWRSb290KGlkKV0gPSB0cnVlXG4gICAgICAgIHJldHVybiBhY2NcbiAgICAgIH0sIHt9KVxuXG4gICAgICBmb3IgKDsgaW5kZXggPCBsZW47IGluZGV4KyspIHtcbiAgICAgICAgY29uc3Qgb3RoZXJJZCA9IHRoaXMubGlzdGVuZXJNYXBzW2luZGV4XS5pZFxuXG4gICAgICAgIGlmIChvdGhlcklkICYmIChiZWZvcmVbb3RoZXJJZF0gfHwgYmVmb3JlW3BsdWdpbklkUm9vdChvdGhlcklkKV0pKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmxpc3RlbmVyTWFwcy5zcGxpY2UoaW5kZXgsIDAsIHsgaWQ6IHBsdWdpbi5pZCwgbWFwOiBwbHVnaW4ubGlzdGVuZXJzIH0pXG4gICAgfSBlbHNlIGlmIChwbHVnaW4ubGlzdGVuZXJzKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyTWFwcy5wdXNoKHsgaWQ6IHBsdWdpbi5pZCwgbWFwOiBwbHVnaW4ubGlzdGVuZXJzIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGFkZERvY3VtZW50KGRvYzogRG9jdW1lbnQsIG9wdGlvbnM/OiBhbnkpOiB2b2lkIHwgZmFsc2Uge1xuICAgIC8vIGRvIG5vdGhpbmcgaWYgZG9jdW1lbnQgaXMgYWxyZWFkeSBrbm93blxuICAgIGlmICh0aGlzLmdldERvY0luZGV4KGRvYykgIT09IC0xKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCB3aW5kb3cgPSB3aW4uZ2V0V2luZG93KGRvYylcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gZXh0ZW5kKHt9LCBvcHRpb25zKSA6IHt9XG5cbiAgICB0aGlzLmRvY3VtZW50cy5wdXNoKHsgZG9jLCBvcHRpb25zIH0pXG4gICAgdGhpcy5ldmVudHMuZG9jdW1lbnRzLnB1c2goZG9jKVxuXG4gICAgLy8gZG9uJ3QgYWRkIGFuIHVubG9hZCBldmVudCBmb3IgdGhlIG1haW4gZG9jdW1lbnRcbiAgICAvLyBzbyB0aGF0IHRoZSBwYWdlIG1heSBiZSBjYWNoZWQgaW4gYnJvd3NlciBoaXN0b3J5XG4gICAgaWYgKGRvYyAhPT0gdGhpcy5kb2N1bWVudCkge1xuICAgICAgdGhpcy5ldmVudHMuYWRkKHdpbmRvdywgJ3VubG9hZCcsIHRoaXMub25XaW5kb3dVbmxvYWQpXG4gICAgfVxuXG4gICAgdGhpcy5maXJlKCdzY29wZTphZGQtZG9jdW1lbnQnLCB7IGRvYywgd2luZG93LCBzY29wZTogdGhpcywgb3B0aW9ucyB9KVxuICB9XG5cbiAgcmVtb3ZlRG9jdW1lbnQoZG9jOiBEb2N1bWVudCkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5nZXREb2NJbmRleChkb2MpXG5cbiAgICBjb25zdCB3aW5kb3cgPSB3aW4uZ2V0V2luZG93KGRvYylcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5kb2N1bWVudHNbaW5kZXhdLm9wdGlvbnNcblxuICAgIHRoaXMuZXZlbnRzLnJlbW92ZSh3aW5kb3csICd1bmxvYWQnLCB0aGlzLm9uV2luZG93VW5sb2FkKVxuXG4gICAgdGhpcy5kb2N1bWVudHMuc3BsaWNlKGluZGV4LCAxKVxuICAgIHRoaXMuZXZlbnRzLmRvY3VtZW50cy5zcGxpY2UoaW5kZXgsIDEpXG5cbiAgICB0aGlzLmZpcmUoJ3Njb3BlOnJlbW92ZS1kb2N1bWVudCcsIHsgZG9jLCB3aW5kb3csIHNjb3BlOiB0aGlzLCBvcHRpb25zIH0pXG4gIH1cblxuICBnZXREb2NJbmRleChkb2M6IERvY3VtZW50KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRvY3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuZG9jdW1lbnRzW2ldLmRvYyA9PT0gZG9jKSB7XG4gICAgICAgIHJldHVybiBpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIC0xXG4gIH1cblxuICBnZXREb2NPcHRpb25zKGRvYzogRG9jdW1lbnQpIHtcbiAgICBjb25zdCBkb2NJbmRleCA9IHRoaXMuZ2V0RG9jSW5kZXgoZG9jKVxuXG4gICAgcmV0dXJuIGRvY0luZGV4ID09PSAtMSA/IG51bGwgOiB0aGlzLmRvY3VtZW50c1tkb2NJbmRleF0ub3B0aW9uc1xuICB9XG5cbiAgbm93KCkge1xuICAgIHJldHVybiAoKCh0aGlzLndpbmRvdyBhcyBhbnkpLkRhdGUgYXMgdHlwZW9mIERhdGUpIHx8IERhdGUpLm5vdygpXG4gIH1cbn1cblxuLy8gS2VlcCBTY29wZSBjbGFzcyBpbnRlcm5hbCwgYnV0IGV4cG9zZSBtaW5pbWFsIGludGVyZmFjZSB0byBhdm9pZCBicm9rZW4gdHlwZXMgd2hlbiBTY29wZSBpcyBzdHJpcHBlZCBvdXRcbmV4cG9ydCBpbnRlcmZhY2UgU2NvcGUge1xuICBmaXJlPFQgZXh0ZW5kcyBMaXN0ZW5lck5hbWU+KG5hbWU6IFQsIGFyZzogU2lnbmFsQXJnc1tUXSk6IHZvaWQgfCBmYWxzZVxufVxuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdFNjb3BlKHNjb3BlOiBTY29wZSwgd2luZG93OiBXaW5kb3cgfCB0eXBlb2YgZ2xvYmFsVGhpcykge1xuICBzY29wZS5pc0luaXRpYWxpemVkID0gdHJ1ZVxuXG4gIGlmIChpcy53aW5kb3cod2luZG93KSkge1xuICAgIHdpbi5pbml0KHdpbmRvdylcbiAgfVxuXG4gIGRvbU9iamVjdHMuaW5pdCh3aW5kb3cpXG4gIGJyb3dzZXIuaW5pdCh3aW5kb3cpXG4gIHJhZi5pbml0KHdpbmRvdylcblxuICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gIHNjb3BlLndpbmRvdyA9IHdpbmRvd1xuICBzY29wZS5kb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudFxuXG4gIHNjb3BlLnVzZVBsdWdpbihpbnRlcmFjdGlvbnMpXG4gIHNjb3BlLnVzZVBsdWdpbihldmVudHMpXG5cbiAgcmV0dXJuIHNjb3BlXG59XG5cbmZ1bmN0aW9uIHBsdWdpbklkUm9vdChpZDogc3RyaW5nKSB7XG4gIHJldHVybiBpZCAmJiBpZC5yZXBsYWNlKC9cXC8uKiQvLCAnJylcbn1cbiIsICJpbXBvcnQgYnJvd3NlciBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9icm93c2VyJ1xuaW1wb3J0ICogYXMgZG9tVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5pbXBvcnQgaXMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvaXMnXG5pbXBvcnQgaXNOb25OYXRpdmVFdmVudCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pc05vbk5hdGl2ZUV2ZW50J1xuaW1wb3J0IHsgd2Fybk9uY2UgfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9taXNjJ1xuaW1wb3J0ICogYXMgcG9pbnRlclV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3BvaW50ZXJVdGlscydcblxuaW1wb3J0IHR5cGUgeyBTY29wZSwgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgQ29udGV4dCwgRXZlbnRUeXBlcywgTGlzdGVuZXIsIExpc3RlbmVyc0FyZywgVGFyZ2V0IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcblxuaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICcuL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIHsgT3B0aW9ucyB9IGZyb20gJy4vb3B0aW9ucydcblxuLyoqXG4gKiBgYGBqc1xuICogaW50ZXJhY3QoJyNkcmFnZ2FibGUnKS5kcmFnZ2FibGUodHJ1ZSlcbiAqXG4gKiB2YXIgcmVjdGFibGVzID0gaW50ZXJhY3QoJ3JlY3QnKVxuICogcmVjdGFibGVzXG4gKiAgIC5nZXN0dXJhYmxlKHRydWUpXG4gKiAgIC5vbignZ2VzdHVyZW1vdmUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAqICAgICAgIC8vIC4uLlxuICogICB9KVxuICogYGBgXG4gKlxuICogVGhlIG1ldGhvZHMgb2YgdGhpcyB2YXJpYWJsZSBjYW4gYmUgdXNlZCB0byBzZXQgZWxlbWVudHMgYXMgaW50ZXJhY3RhYmxlc1xuICogYW5kIGFsc28gdG8gY2hhbmdlIHZhcmlvdXMgZGVmYXVsdCBzZXR0aW5ncy5cbiAqXG4gKiBDYWxsaW5nIGl0IGFzIGEgZnVuY3Rpb24gYW5kIHBhc3NpbmcgYW4gZWxlbWVudCBvciBhIHZhbGlkIENTUyBzZWxlY3RvclxuICogc3RyaW5nIHJldHVybnMgYW4gSW50ZXJhY3RhYmxlIG9iamVjdCB3aGljaCBoYXMgdmFyaW91cyBtZXRob2RzIHRvIGNvbmZpZ3VyZVxuICogaXQuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50IHwgc3RyaW5nfSB0YXJnZXQgVGhlIEhUTUwgb3IgU1ZHIEVsZW1lbnQgdG8gaW50ZXJhY3Qgd2l0aFxuICogb3IgQ1NTIHNlbGVjdG9yXG4gKiBAcmV0dXJuIHtJbnRlcmFjdGFibGV9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZXJhY3RTdGF0aWMge1xuICAodGFyZ2V0OiBUYXJnZXQsIG9wdGlvbnM/OiBPcHRpb25zKTogSW50ZXJhY3RhYmxlXG4gIGdldFBvaW50ZXJBdmVyYWdlOiB0eXBlb2YgcG9pbnRlclV0aWxzLnBvaW50ZXJBdmVyYWdlXG4gIGdldFRvdWNoQkJveDogdHlwZW9mIHBvaW50ZXJVdGlscy50b3VjaEJCb3hcbiAgZ2V0VG91Y2hEaXN0YW5jZTogdHlwZW9mIHBvaW50ZXJVdGlscy50b3VjaERpc3RhbmNlXG4gIGdldFRvdWNoQW5nbGU6IHR5cGVvZiBwb2ludGVyVXRpbHMudG91Y2hBbmdsZVxuICBnZXRFbGVtZW50UmVjdDogdHlwZW9mIGRvbVV0aWxzLmdldEVsZW1lbnRSZWN0XG4gIGdldEVsZW1lbnRDbGllbnRSZWN0OiB0eXBlb2YgZG9tVXRpbHMuZ2V0RWxlbWVudENsaWVudFJlY3RcbiAgbWF0Y2hlc1NlbGVjdG9yOiB0eXBlb2YgZG9tVXRpbHMubWF0Y2hlc1NlbGVjdG9yXG4gIGNsb3Nlc3Q6IHR5cGVvZiBkb21VdGlscy5jbG9zZXN0XG4gIC8qKiBAaW50ZXJuYWwgKi8gZ2xvYmFsRXZlbnRzOiBhbnlcbiAgdmVyc2lvbjogc3RyaW5nXG4gIC8qKiBAaW50ZXJuYWwgKi8gc2NvcGU6IFNjb3BlXG4gIC8qKlxuICAgKiBVc2UgYSBwbHVnaW5cbiAgICovXG4gIHVzZShcbiAgICBwbHVnaW46IFBsdWdpbixcbiAgICBvcHRpb25zPzoge1xuICAgICAgW2tleTogc3RyaW5nXTogYW55XG4gICAgfSxcbiAgKTogYW55XG4gIC8qKlxuICAgKiBDaGVjayBpZiBhbiBlbGVtZW50IG9yIHNlbGVjdG9yIGhhcyBiZWVuIHNldCB3aXRoIHRoZSBgaW50ZXJhY3QodGFyZ2V0KWBcbiAgICogZnVuY3Rpb25cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gSW5kaWNhdGVzIGlmIHRoZSBlbGVtZW50IG9yIENTUyBzZWxlY3RvciB3YXMgcHJldmlvdXNseVxuICAgKiBwYXNzZWQgdG8gaW50ZXJhY3RcbiAgICovXG4gIGlzU2V0KFxuICAgIC8qIFRoZSBFbGVtZW50IG9yIHN0cmluZyBiZWluZyBzZWFyY2hlZCBmb3IgKi9cbiAgICB0YXJnZXQ6IFRhcmdldCxcbiAgICBvcHRpb25zPzogYW55LFxuICApOiBib29sZWFuXG4gIG9uKHR5cGU6IHN0cmluZyB8IEV2ZW50VHlwZXMsIGxpc3RlbmVyOiBMaXN0ZW5lcnNBcmcsIG9wdGlvbnM/OiBvYmplY3QpOiBhbnlcbiAgb2ZmKHR5cGU6IEV2ZW50VHlwZXMsIGxpc3RlbmVyOiBhbnksIG9wdGlvbnM/OiBvYmplY3QpOiBhbnlcbiAgZGVidWcoKTogYW55XG4gIC8qKlxuICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgYnJvd3NlciBzdXBwb3J0cyB0b3VjaCBpbnB1dFxuICAgKi9cbiAgc3VwcG9ydHNUb3VjaCgpOiBib29sZWFuXG4gIC8qKlxuICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgYnJvd3NlciBzdXBwb3J0cyBQb2ludGVyRXZlbnRzXG4gICAqL1xuICBzdXBwb3J0c1BvaW50ZXJFdmVudCgpOiBib29sZWFuXG4gIC8qKlxuICAgKiBDYW5jZWxzIGFsbCBpbnRlcmFjdGlvbnMgKGVuZCBldmVudHMgYXJlIG5vdCBmaXJlZClcbiAgICovXG4gIHN0b3AoKTogSW50ZXJhY3RTdGF0aWNcbiAgLyoqXG4gICAqIFJldHVybnMgb3Igc2V0cyB0aGUgZGlzdGFuY2UgdGhlIHBvaW50ZXIgbXVzdCBiZSBtb3ZlZCBiZWZvcmUgYW4gYWN0aW9uXG4gICAqIHNlcXVlbmNlIG9jY3Vycy4gVGhpcyBhbHNvIGFmZmVjdHMgdG9sZXJhbmNlIGZvciB0YXAgZXZlbnRzLlxuICAgKi9cbiAgcG9pbnRlck1vdmVUb2xlcmFuY2UoXG4gICAgLyoqIFRoZSBtb3ZlbWVudCBmcm9tIHRoZSBzdGFydCBwb3NpdGlvbiBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB0aGlzIHZhbHVlICovXG4gICAgbmV3VmFsdWU/OiBudW1iZXIsXG4gICk6IEludGVyYWN0U3RhdGljIHwgbnVtYmVyXG4gIGFkZERvY3VtZW50KGRvYzogRG9jdW1lbnQsIG9wdGlvbnM/OiBvYmplY3QpOiB2b2lkXG4gIHJlbW92ZURvY3VtZW50KGRvYzogRG9jdW1lbnQpOiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnRlcmFjdFN0YXRpYyhzY29wZTogU2NvcGUpOiBJbnRlcmFjdFN0YXRpYyB7XG4gIGNvbnN0IGludGVyYWN0ID0gKCh0YXJnZXQ6IFRhcmdldCwgb3B0aW9uczogT3B0aW9ucykgPT4ge1xuICAgIGxldCBpbnRlcmFjdGFibGUgPSBzY29wZS5pbnRlcmFjdGFibGVzLmdldEV4aXN0aW5nKHRhcmdldCwgb3B0aW9ucylcblxuICAgIGlmICghaW50ZXJhY3RhYmxlKSB7XG4gICAgICBpbnRlcmFjdGFibGUgPSBzY29wZS5pbnRlcmFjdGFibGVzLm5ldyh0YXJnZXQsIG9wdGlvbnMpXG4gICAgICBpbnRlcmFjdGFibGUuZXZlbnRzLmdsb2JhbCA9IGludGVyYWN0Lmdsb2JhbEV2ZW50c1xuICAgIH1cblxuICAgIHJldHVybiBpbnRlcmFjdGFibGVcbiAgfSkgYXMgSW50ZXJhY3RTdGF0aWNcblxuICAvLyBleHBvc2UgdGhlIGZ1bmN0aW9ucyB1c2VkIHRvIGNhbGN1bGF0ZSBtdWx0aS10b3VjaCBwcm9wZXJ0aWVzXG4gIGludGVyYWN0LmdldFBvaW50ZXJBdmVyYWdlID0gcG9pbnRlclV0aWxzLnBvaW50ZXJBdmVyYWdlXG4gIGludGVyYWN0LmdldFRvdWNoQkJveCA9IHBvaW50ZXJVdGlscy50b3VjaEJCb3hcbiAgaW50ZXJhY3QuZ2V0VG91Y2hEaXN0YW5jZSA9IHBvaW50ZXJVdGlscy50b3VjaERpc3RhbmNlXG4gIGludGVyYWN0LmdldFRvdWNoQW5nbGUgPSBwb2ludGVyVXRpbHMudG91Y2hBbmdsZVxuXG4gIGludGVyYWN0LmdldEVsZW1lbnRSZWN0ID0gZG9tVXRpbHMuZ2V0RWxlbWVudFJlY3RcbiAgaW50ZXJhY3QuZ2V0RWxlbWVudENsaWVudFJlY3QgPSBkb21VdGlscy5nZXRFbGVtZW50Q2xpZW50UmVjdFxuICBpbnRlcmFjdC5tYXRjaGVzU2VsZWN0b3IgPSBkb21VdGlscy5tYXRjaGVzU2VsZWN0b3JcbiAgaW50ZXJhY3QuY2xvc2VzdCA9IGRvbVV0aWxzLmNsb3Nlc3RcblxuICBpbnRlcmFjdC5nbG9iYWxFdmVudHMgPSB7fSBhcyBhbnlcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgaW50ZXJhY3QudmVyc2lvbiA9IHByb2Nlc3MuZW52Lm5wbV9wYWNrYWdlX3ZlcnNpb25cbiAgaW50ZXJhY3Quc2NvcGUgPSBzY29wZVxuICBpbnRlcmFjdC51c2UgPSBmdW5jdGlvbiAocGx1Z2luLCBvcHRpb25zKSB7XG4gICAgdGhpcy5zY29wZS51c2VQbHVnaW4ocGx1Z2luLCBvcHRpb25zKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGludGVyYWN0LmlzU2V0ID0gZnVuY3Rpb24gKHRhcmdldDogVGFyZ2V0LCBvcHRpb25zPzogeyBjb250ZXh0PzogQ29udGV4dCB9KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhdGhpcy5zY29wZS5pbnRlcmFjdGFibGVzLmdldCh0YXJnZXQsIG9wdGlvbnMgJiYgb3B0aW9ucy5jb250ZXh0KVxuICB9XG5cbiAgaW50ZXJhY3Qub24gPSB3YXJuT25jZShmdW5jdGlvbiBvbih0eXBlOiBzdHJpbmcgfCBFdmVudFR5cGVzLCBsaXN0ZW5lcjogTGlzdGVuZXJzQXJnLCBvcHRpb25zPzogb2JqZWN0KSB7XG4gICAgaWYgKGlzLnN0cmluZyh0eXBlKSAmJiB0eXBlLnNlYXJjaCgnICcpICE9PSAtMSkge1xuICAgICAgdHlwZSA9IHR5cGUudHJpbSgpLnNwbGl0KC8gKy8pXG4gICAgfVxuXG4gICAgaWYgKGlzLmFycmF5KHR5cGUpKSB7XG4gICAgICBmb3IgKGNvbnN0IGV2ZW50VHlwZSBvZiB0eXBlIGFzIGFueVtdKSB7XG4gICAgICAgIHRoaXMub24oZXZlbnRUeXBlLCBsaXN0ZW5lciwgb3B0aW9ucylcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBpZiAoaXMub2JqZWN0KHR5cGUpKSB7XG4gICAgICBmb3IgKGNvbnN0IHByb3AgaW4gdHlwZSkge1xuICAgICAgICB0aGlzLm9uKHByb3AsICh0eXBlIGFzIGFueSlbcHJvcF0sIGxpc3RlbmVyKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8vIGlmIGl0IGlzIGFuIEludGVyYWN0RXZlbnQgdHlwZSwgYWRkIGxpc3RlbmVyIHRvIGdsb2JhbEV2ZW50c1xuICAgIGlmIChpc05vbk5hdGl2ZUV2ZW50KHR5cGUsIHRoaXMuc2NvcGUuYWN0aW9ucykpIHtcbiAgICAgIC8vIGlmIHRoaXMgdHlwZSBvZiBldmVudCB3YXMgbmV2ZXIgYm91bmRcbiAgICAgIGlmICghdGhpcy5nbG9iYWxFdmVudHNbdHlwZV0pIHtcbiAgICAgICAgdGhpcy5nbG9iYWxFdmVudHNbdHlwZV0gPSBbbGlzdGVuZXJdXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmdsb2JhbEV2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBJZiBub24gSW50ZXJhY3RFdmVudCB0eXBlLCBhZGRFdmVudExpc3RlbmVyIHRvIGRvY3VtZW50XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnNjb3BlLmV2ZW50cy5hZGQodGhpcy5zY29wZS5kb2N1bWVudCwgdHlwZSwgbGlzdGVuZXIgYXMgTGlzdGVuZXIsIHsgb3B0aW9ucyB9KVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH0sICdUaGUgaW50ZXJhY3Qub24oKSBtZXRob2QgaXMgYmVpbmcgZGVwcmVjYXRlZCcpXG5cbiAgaW50ZXJhY3Qub2ZmID0gd2Fybk9uY2UoZnVuY3Rpb24gb2ZmKHR5cGU6IEV2ZW50VHlwZXMsIGxpc3RlbmVyOiBhbnksIG9wdGlvbnM/OiBvYmplY3QpIHtcbiAgICBpZiAoaXMuc3RyaW5nKHR5cGUpICYmIHR5cGUuc2VhcmNoKCcgJykgIT09IC0xKSB7XG4gICAgICB0eXBlID0gdHlwZS50cmltKCkuc3BsaXQoLyArLylcbiAgICB9XG5cbiAgICBpZiAoaXMuYXJyYXkodHlwZSkpIHtcbiAgICAgIGZvciAoY29uc3QgZXZlbnRUeXBlIG9mIHR5cGUpIHtcbiAgICAgICAgdGhpcy5vZmYoZXZlbnRUeXBlLCBsaXN0ZW5lciwgb3B0aW9ucylcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBpZiAoaXMub2JqZWN0KHR5cGUpKSB7XG4gICAgICBmb3IgKGNvbnN0IHByb3AgaW4gdHlwZSkge1xuICAgICAgICB0aGlzLm9mZihwcm9wLCB0eXBlW3Byb3BdLCBsaXN0ZW5lcilcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBpZiAoaXNOb25OYXRpdmVFdmVudCh0eXBlLCB0aGlzLnNjb3BlLmFjdGlvbnMpKSB7XG4gICAgICBsZXQgaW5kZXg6IG51bWJlclxuXG4gICAgICBpZiAodHlwZSBpbiB0aGlzLmdsb2JhbEV2ZW50cyAmJiAoaW5kZXggPSB0aGlzLmdsb2JhbEV2ZW50c1t0eXBlXS5pbmRleE9mKGxpc3RlbmVyKSkgIT09IC0xKSB7XG4gICAgICAgIHRoaXMuZ2xvYmFsRXZlbnRzW3R5cGVdLnNwbGljZShpbmRleCwgMSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zY29wZS5ldmVudHMucmVtb3ZlKHRoaXMuc2NvcGUuZG9jdW1lbnQsIHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH0sICdUaGUgaW50ZXJhY3Qub2ZmKCkgbWV0aG9kIGlzIGJlaW5nIGRlcHJlY2F0ZWQnKVxuXG4gIGludGVyYWN0LmRlYnVnID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnNjb3BlXG4gIH1cblxuICBpbnRlcmFjdC5zdXBwb3J0c1RvdWNoID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBicm93c2VyLnN1cHBvcnRzVG91Y2hcbiAgfVxuXG4gIGludGVyYWN0LnN1cHBvcnRzUG9pbnRlckV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBicm93c2VyLnN1cHBvcnRzUG9pbnRlckV2ZW50XG4gIH1cblxuICBpbnRlcmFjdC5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgIGZvciAoY29uc3QgaW50ZXJhY3Rpb24gb2YgdGhpcy5zY29wZS5pbnRlcmFjdGlvbnMubGlzdCkge1xuICAgICAgaW50ZXJhY3Rpb24uc3RvcCgpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGludGVyYWN0LnBvaW50ZXJNb3ZlVG9sZXJhbmNlID0gZnVuY3Rpb24gKG5ld1ZhbHVlPzogbnVtYmVyKSB7XG4gICAgaWYgKGlzLm51bWJlcihuZXdWYWx1ZSkpIHtcbiAgICAgIHRoaXMuc2NvcGUuaW50ZXJhY3Rpb25zLnBvaW50ZXJNb3ZlVG9sZXJhbmNlID0gbmV3VmFsdWVcblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zY29wZS5pbnRlcmFjdGlvbnMucG9pbnRlck1vdmVUb2xlcmFuY2VcbiAgfVxuXG4gIGludGVyYWN0LmFkZERvY3VtZW50ID0gZnVuY3Rpb24gKGRvYzogRG9jdW1lbnQsIG9wdGlvbnM/OiBvYmplY3QpIHtcbiAgICB0aGlzLnNjb3BlLmFkZERvY3VtZW50KGRvYywgb3B0aW9ucylcbiAgfVxuXG4gIGludGVyYWN0LnJlbW92ZURvY3VtZW50ID0gZnVuY3Rpb24gKGRvYzogRG9jdW1lbnQpIHtcbiAgICB0aGlzLnNjb3BlLnJlbW92ZURvY3VtZW50KGRvYylcbiAgfVxuXG4gIHJldHVybiBpbnRlcmFjdFxufVxuIiwgImltcG9ydCB7IFNjb3BlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcblxuY29uc3Qgc2NvcGUgPSBuZXcgU2NvcGUoKVxuXG5jb25zdCBpbnRlcmFjdCA9IHNjb3BlLmludGVyYWN0U3RhdGljXG5cbmV4cG9ydCBkZWZhdWx0IGludGVyYWN0XG5cbmNvbnN0IF9nbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzXG5zY29wZS5pbml0KF9nbG9iYWwpXG4iLCAiZXhwb3J0IGRlZmF1bHQgKCkgPT4ge31cbiIsICJleHBvcnQgZGVmYXVsdCAoKSA9PiB7fVxuIiwgImltcG9ydCB0eXBlIHsgUmVjdCwgUG9pbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBTbmFwRnVuY3Rpb24sIFNuYXBUYXJnZXQgfSBmcm9tICdAaW50ZXJhY3Rqcy9tb2RpZmllcnMvc25hcC9wb2ludGVyJ1xuXG5leHBvcnQgaW50ZXJmYWNlIEdyaWRPcHRpb25zQmFzZSB7XG4gIHJhbmdlPzogbnVtYmVyXG4gIGxpbWl0cz86IFJlY3RcbiAgb2Zmc2V0PzogUG9pbnRcbn1cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZE9wdGlvbnNYWSBleHRlbmRzIEdyaWRPcHRpb25zQmFzZSB7XG4gIHg6IG51bWJlclxuICB5OiBudW1iZXJcbn1cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZE9wdGlvbnNUb3BMZWZ0IGV4dGVuZHMgR3JpZE9wdGlvbnNCYXNlIHtcbiAgdG9wPzogbnVtYmVyXG4gIGxlZnQ/OiBudW1iZXJcbn1cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZE9wdGlvbnNCb3R0b21SaWdodCBleHRlbmRzIEdyaWRPcHRpb25zQmFzZSB7XG4gIGJvdHRvbT86IG51bWJlclxuICByaWdodD86IG51bWJlclxufVxuZXhwb3J0IGludGVyZmFjZSBHcmlkT3B0aW9uc1dpZHRoSGVpZ2h0IGV4dGVuZHMgR3JpZE9wdGlvbnNCYXNlIHtcbiAgd2lkdGg/OiBudW1iZXJcbiAgaGVpZ2h0PzogbnVtYmVyXG59XG5cbmV4cG9ydCB0eXBlIEdyaWRPcHRpb25zID0gR3JpZE9wdGlvbnNYWSB8IEdyaWRPcHRpb25zVG9wTGVmdCB8IEdyaWRPcHRpb25zQm90dG9tUmlnaHQgfCBHcmlkT3B0aW9uc1dpZHRoSGVpZ2h0XG5cbmV4cG9ydCBkZWZhdWx0IChncmlkOiBHcmlkT3B0aW9ucykgPT4ge1xuICBjb25zdCBjb29yZEZpZWxkcyA9IChcbiAgICBbXG4gICAgICBbJ3gnLCAneSddLFxuICAgICAgWydsZWZ0JywgJ3RvcCddLFxuICAgICAgWydyaWdodCcsICdib3R0b20nXSxcbiAgICAgIFsnd2lkdGgnLCAnaGVpZ2h0J10sXG4gICAgXSBhcyBjb25zdFxuICApLmZpbHRlcigoW3hGaWVsZCwgeUZpZWxkXSkgPT4geEZpZWxkIGluIGdyaWQgfHwgeUZpZWxkIGluIGdyaWQpXG5cbiAgY29uc3QgZ3JpZEZ1bmM6IFNuYXBGdW5jdGlvbiAmIHtcbiAgICBncmlkOiB0eXBlb2YgZ3JpZFxuICAgIGNvb3JkRmllbGRzOiB0eXBlb2YgY29vcmRGaWVsZHNcbiAgfSA9ICh4LCB5KSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgcmFuZ2UsXG4gICAgICBsaW1pdHMgPSB7XG4gICAgICAgIGxlZnQ6IC1JbmZpbml0eSxcbiAgICAgICAgcmlnaHQ6IEluZmluaXR5LFxuICAgICAgICB0b3A6IC1JbmZpbml0eSxcbiAgICAgICAgYm90dG9tOiBJbmZpbml0eSxcbiAgICAgIH0sXG4gICAgICBvZmZzZXQgPSB7IHg6IDAsIHk6IDAgfSxcbiAgICB9ID0gZ3JpZFxuXG4gICAgY29uc3QgcmVzdWx0OiBTbmFwVGFyZ2V0ICYge1xuICAgICAgZ3JpZDogdHlwZW9mIGdyaWRcbiAgICB9ID0geyByYW5nZSwgZ3JpZCwgeDogbnVsbCBhcyBudW1iZXIsIHk6IG51bGwgYXMgbnVtYmVyIH1cblxuICAgIGZvciAoY29uc3QgW3hGaWVsZCwgeUZpZWxkXSBvZiBjb29yZEZpZWxkcykge1xuICAgICAgY29uc3QgZ3JpZHggPSBNYXRoLnJvdW5kKCh4IC0gb2Zmc2V0LngpIC8gKGdyaWQgYXMgYW55KVt4RmllbGRdKVxuICAgICAgY29uc3QgZ3JpZHkgPSBNYXRoLnJvdW5kKCh5IC0gb2Zmc2V0LnkpIC8gKGdyaWQgYXMgYW55KVt5RmllbGRdKVxuXG4gICAgICByZXN1bHRbeEZpZWxkXSA9IE1hdGgubWF4KGxpbWl0cy5sZWZ0LCBNYXRoLm1pbihsaW1pdHMucmlnaHQsIGdyaWR4ICogKGdyaWQgYXMgYW55KVt4RmllbGRdICsgb2Zmc2V0LngpKVxuICAgICAgcmVzdWx0W3lGaWVsZF0gPSBNYXRoLm1heChsaW1pdHMudG9wLCBNYXRoLm1pbihsaW1pdHMuYm90dG9tLCBncmlkeSAqIChncmlkIGFzIGFueSlbeUZpZWxkXSArIG9mZnNldC55KSlcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBncmlkRnVuYy5ncmlkID0gZ3JpZFxuICBncmlkRnVuYy5jb29yZEZpZWxkcyA9IGNvb3JkRmllbGRzXG5cbiAgcmV0dXJuIGdyaWRGdW5jXG59XG4iLCAiaW1wb3J0IHR5cGUgeyBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5cbmltcG9ydCAqIGFzIGFsbFNuYXBwZXJzIGZyb20gJy4vYWxsJ1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdFN0YXRpYycge1xuICBleHBvcnQgaW50ZXJmYWNlIEludGVyYWN0U3RhdGljIHtcbiAgICBzbmFwcGVyczogdHlwZW9mIGFsbFNuYXBwZXJzXG4gICAgY3JlYXRlU25hcEdyaWQ6IHR5cGVvZiBhbGxTbmFwcGVycy5ncmlkXG4gIH1cbn1cblxuY29uc3Qgc25hcHBlcnNQbHVnaW46IFBsdWdpbiA9IHtcbiAgaWQ6ICdzbmFwcGVycycsXG4gIGluc3RhbGwoc2NvcGUpIHtcbiAgICBjb25zdCB7IGludGVyYWN0U3RhdGljOiBpbnRlcmFjdCB9ID0gc2NvcGVcblxuICAgIGludGVyYWN0LnNuYXBwZXJzID0gZXh0ZW5kKGludGVyYWN0LnNuYXBwZXJzIHx8IHt9LCBhbGxTbmFwcGVycylcbiAgICBpbnRlcmFjdC5jcmVhdGVTbmFwR3JpZCA9IGludGVyYWN0LnNuYXBwZXJzLmdyaWRcbiAgfSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgc25hcHBlcnNQbHVnaW5cbiIsICIvKipcbiAqIEBtb2R1bGUgbW9kaWZpZXJzL2FzcGVjdFJhdGlvXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIG1vZGlmaWVyIGZvcmNlcyBlbGVtZW50cyB0byBiZSByZXNpemVkIHdpdGggYSBzcGVjaWZpZWQgZHgvZHkgcmF0aW8uXG4gKlxuICogYGBganNcbiAqIGludGVyYWN0KHRhcmdldCkucmVzaXphYmxlKHtcbiAqICAgbW9kaWZpZXJzOiBbXG4gKiAgICAgaW50ZXJhY3QubW9kaWZpZXJzLnNuYXBTaXplKHtcbiAqICAgICAgIHRhcmdldHM6IFsgaW50ZXJhY3Quc25hcHBlcnMuZ3JpZCh7IHg6IDIwLCB5OiAyMCB9KSBdLFxuICogICAgIH0pLFxuICogICAgIGludGVyYWN0LmFzcGVjdFJhdGlvKHsgcmF0aW86ICdwcmVzZXJ2ZScgfSksXG4gKiAgIF0sXG4gKiB9KTtcbiAqIGBgYFxuICovXG5cbmltcG9ydCB0eXBlIHsgUG9pbnQsIFJlY3QsIEVkZ2VPcHRpb25zIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0IHsgYWRkRWRnZXMgfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yZWN0J1xuXG5pbXBvcnQgeyBtYWtlTW9kaWZpZXIgfSBmcm9tICcuL2Jhc2UnXG5pbXBvcnQgeyBNb2RpZmljYXRpb24gfSBmcm9tICcuL01vZGlmaWNhdGlvbidcbmltcG9ydCB0eXBlIHsgTW9kaWZpZXIsIE1vZGlmaWVyTW9kdWxlLCBNb2RpZmllclN0YXRlIH0gZnJvbSAnLi90eXBlcydcblxuZXhwb3J0IGludGVyZmFjZSBBc3BlY3RSYXRpb09wdGlvbnMge1xuICByYXRpbz86IG51bWJlciB8ICdwcmVzZXJ2ZSdcbiAgZXF1YWxEZWx0YT86IGJvb2xlYW5cbiAgbW9kaWZpZXJzPzogTW9kaWZpZXJbXVxuICBlbmFibGVkPzogYm9vbGVhblxufVxuXG5leHBvcnQgdHlwZSBBc3BlY3RSYXRpb1N0YXRlID0gTW9kaWZpZXJTdGF0ZTxcbiAgQXNwZWN0UmF0aW9PcHRpb25zLFxuICB7XG4gICAgc3RhcnRDb29yZHM6IFBvaW50XG4gICAgc3RhcnRSZWN0OiBSZWN0XG4gICAgbGlua2VkRWRnZXM6IEVkZ2VPcHRpb25zXG4gICAgcmF0aW86IG51bWJlclxuICAgIGVxdWFsRGVsdGE6IGJvb2xlYW5cbiAgICB4SXNQcmltYXJ5QXhpczogYm9vbGVhblxuICAgIGVkZ2VTaWduOiB7XG4gICAgICB4OiBudW1iZXJcbiAgICAgIHk6IG51bWJlclxuICAgIH1cbiAgICBzdWJNb2RpZmljYXRpb246IE1vZGlmaWNhdGlvblxuICB9XG4+XG5cbmNvbnN0IGFzcGVjdFJhdGlvOiBNb2RpZmllck1vZHVsZTxBc3BlY3RSYXRpb09wdGlvbnMsIEFzcGVjdFJhdGlvU3RhdGU+ID0ge1xuICBzdGFydChhcmcpIHtcbiAgICBjb25zdCB7IHN0YXRlLCByZWN0LCBlZGdlcywgcGFnZUNvb3JkczogY29vcmRzIH0gPSBhcmdcbiAgICBsZXQgeyByYXRpbywgZW5hYmxlZCB9ID0gc3RhdGUub3B0aW9uc1xuICAgIGNvbnN0IHsgZXF1YWxEZWx0YSwgbW9kaWZpZXJzIH0gPSBzdGF0ZS5vcHRpb25zXG5cbiAgICBpZiAocmF0aW8gPT09ICdwcmVzZXJ2ZScpIHtcbiAgICAgIHJhdGlvID0gcmVjdC53aWR0aCAvIHJlY3QuaGVpZ2h0XG4gICAgfVxuXG4gICAgc3RhdGUuc3RhcnRDb29yZHMgPSBleHRlbmQoe30sIGNvb3JkcylcbiAgICBzdGF0ZS5zdGFydFJlY3QgPSBleHRlbmQoe30sIHJlY3QpXG4gICAgc3RhdGUucmF0aW8gPSByYXRpb1xuICAgIHN0YXRlLmVxdWFsRGVsdGEgPSBlcXVhbERlbHRhXG5cbiAgICBjb25zdCBsaW5rZWRFZGdlcyA9IChzdGF0ZS5saW5rZWRFZGdlcyA9IHtcbiAgICAgIHRvcDogZWRnZXMudG9wIHx8IChlZGdlcy5sZWZ0ICYmICFlZGdlcy5ib3R0b20pLFxuICAgICAgbGVmdDogZWRnZXMubGVmdCB8fCAoZWRnZXMudG9wICYmICFlZGdlcy5yaWdodCksXG4gICAgICBib3R0b206IGVkZ2VzLmJvdHRvbSB8fCAoZWRnZXMucmlnaHQgJiYgIWVkZ2VzLnRvcCksXG4gICAgICByaWdodDogZWRnZXMucmlnaHQgfHwgKGVkZ2VzLmJvdHRvbSAmJiAhZWRnZXMubGVmdCksXG4gICAgfSlcblxuICAgIHN0YXRlLnhJc1ByaW1hcnlBeGlzID0gISEoZWRnZXMubGVmdCB8fCBlZGdlcy5yaWdodClcblxuICAgIGlmIChzdGF0ZS5lcXVhbERlbHRhKSB7XG4gICAgICBjb25zdCBzaWduID0gKGxpbmtlZEVkZ2VzLmxlZnQgPyAxIDogLTEpICogKGxpbmtlZEVkZ2VzLnRvcCA/IDEgOiAtMSlcbiAgICAgIHN0YXRlLmVkZ2VTaWduID0ge1xuICAgICAgICB4OiBzaWduLFxuICAgICAgICB5OiBzaWduLFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5lZGdlU2lnbiA9IHtcbiAgICAgICAgeDogbGlua2VkRWRnZXMubGVmdCA/IC0xIDogMSxcbiAgICAgICAgeTogbGlua2VkRWRnZXMudG9wID8gLTEgOiAxLFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlbmFibGVkICE9PSBmYWxzZSkge1xuICAgICAgZXh0ZW5kKGVkZ2VzLCBsaW5rZWRFZGdlcylcbiAgICB9XG5cbiAgICBpZiAoIW1vZGlmaWVycz8ubGVuZ3RoKSByZXR1cm5cblxuICAgIGNvbnN0IHN1Yk1vZGlmaWNhdGlvbiA9IG5ldyBNb2RpZmljYXRpb24oYXJnLmludGVyYWN0aW9uKVxuXG4gICAgc3ViTW9kaWZpY2F0aW9uLmNvcHlGcm9tKGFyZy5pbnRlcmFjdGlvbi5tb2RpZmljYXRpb24pXG4gICAgc3ViTW9kaWZpY2F0aW9uLnByZXBhcmVTdGF0ZXMobW9kaWZpZXJzKVxuXG4gICAgc3RhdGUuc3ViTW9kaWZpY2F0aW9uID0gc3ViTW9kaWZpY2F0aW9uXG4gICAgc3ViTW9kaWZpY2F0aW9uLnN0YXJ0QWxsKHsgLi4uYXJnIH0pXG4gIH0sXG5cbiAgc2V0KGFyZykge1xuICAgIGNvbnN0IHsgc3RhdGUsIHJlY3QsIGNvb3JkcyB9ID0gYXJnXG4gICAgY29uc3QgeyBsaW5rZWRFZGdlcyB9ID0gc3RhdGVcbiAgICBjb25zdCBpbml0aWFsQ29vcmRzID0gZXh0ZW5kKHt9LCBjb29yZHMpXG4gICAgY29uc3QgYXNwZWN0TWV0aG9kID0gc3RhdGUuZXF1YWxEZWx0YSA/IHNldEVxdWFsRGVsdGEgOiBzZXRSYXRpb1xuXG4gICAgZXh0ZW5kKGFyZy5lZGdlcywgbGlua2VkRWRnZXMpXG4gICAgYXNwZWN0TWV0aG9kKHN0YXRlLCBzdGF0ZS54SXNQcmltYXJ5QXhpcywgY29vcmRzLCByZWN0KVxuXG4gICAgaWYgKCFzdGF0ZS5zdWJNb2RpZmljYXRpb24pIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgY29uc3QgY29ycmVjdGVkUmVjdCA9IGV4dGVuZCh7fSwgcmVjdClcblxuICAgIGFkZEVkZ2VzKGxpbmtlZEVkZ2VzLCBjb3JyZWN0ZWRSZWN0LCB7XG4gICAgICB4OiBjb29yZHMueCAtIGluaXRpYWxDb29yZHMueCxcbiAgICAgIHk6IGNvb3Jkcy55IC0gaW5pdGlhbENvb3Jkcy55LFxuICAgIH0pXG5cbiAgICBjb25zdCByZXN1bHQgPSBzdGF0ZS5zdWJNb2RpZmljYXRpb24uc2V0QWxsKHtcbiAgICAgIC4uLmFyZyxcbiAgICAgIHJlY3Q6IGNvcnJlY3RlZFJlY3QsXG4gICAgICBlZGdlczogbGlua2VkRWRnZXMsXG4gICAgICBwYWdlQ29vcmRzOiBjb29yZHMsXG4gICAgICBwcmV2Q29vcmRzOiBjb29yZHMsXG4gICAgICBwcmV2UmVjdDogY29ycmVjdGVkUmVjdCxcbiAgICB9KVxuXG4gICAgY29uc3QgeyBkZWx0YSB9ID0gcmVzdWx0XG5cbiAgICBpZiAocmVzdWx0LmNoYW5nZWQpIHtcbiAgICAgIGNvbnN0IHhJc0NyaXRpY2FsQXhpcyA9IE1hdGguYWJzKGRlbHRhLngpID4gTWF0aC5hYnMoZGVsdGEueSlcblxuICAgICAgLy8gZG8gYXNwZWN0IG1vZGlmaWNhdGlvbiBhZ2FpbiB3aXRoIGNyaXRpY2FsIGVkZ2UgYXhpcyBhcyBwcmltYXJ5XG4gICAgICBhc3BlY3RNZXRob2Qoc3RhdGUsIHhJc0NyaXRpY2FsQXhpcywgcmVzdWx0LmNvb3JkcywgcmVzdWx0LnJlY3QpXG4gICAgICBleHRlbmQoY29vcmRzLCByZXN1bHQuY29vcmRzKVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQuZXZlbnRQcm9wc1xuICB9LFxuXG4gIGRlZmF1bHRzOiB7XG4gICAgcmF0aW86ICdwcmVzZXJ2ZScsXG4gICAgZXF1YWxEZWx0YTogZmFsc2UsXG4gICAgbW9kaWZpZXJzOiBbXSxcbiAgICBlbmFibGVkOiBmYWxzZSxcbiAgfSxcbn1cblxuZnVuY3Rpb24gc2V0RXF1YWxEZWx0YSh7IHN0YXJ0Q29vcmRzLCBlZGdlU2lnbiB9OiBBc3BlY3RSYXRpb1N0YXRlLCB4SXNQcmltYXJ5QXhpczogYm9vbGVhbiwgY29vcmRzOiBQb2ludCkge1xuICBpZiAoeElzUHJpbWFyeUF4aXMpIHtcbiAgICBjb29yZHMueSA9IHN0YXJ0Q29vcmRzLnkgKyAoY29vcmRzLnggLSBzdGFydENvb3Jkcy54KSAqIGVkZ2VTaWduLnlcbiAgfSBlbHNlIHtcbiAgICBjb29yZHMueCA9IHN0YXJ0Q29vcmRzLnggKyAoY29vcmRzLnkgLSBzdGFydENvb3Jkcy55KSAqIGVkZ2VTaWduLnhcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRSYXRpbyhcbiAgeyBzdGFydFJlY3QsIHN0YXJ0Q29vcmRzLCByYXRpbywgZWRnZVNpZ24gfTogQXNwZWN0UmF0aW9TdGF0ZSxcbiAgeElzUHJpbWFyeUF4aXM6IGJvb2xlYW4sXG4gIGNvb3JkczogUG9pbnQsXG4gIHJlY3Q6IFJlY3QsXG4pIHtcbiAgaWYgKHhJc1ByaW1hcnlBeGlzKSB7XG4gICAgY29uc3QgbmV3SGVpZ2h0ID0gcmVjdC53aWR0aCAvIHJhdGlvXG5cbiAgICBjb29yZHMueSA9IHN0YXJ0Q29vcmRzLnkgKyAobmV3SGVpZ2h0IC0gc3RhcnRSZWN0LmhlaWdodCkgKiBlZGdlU2lnbi55XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbmV3V2lkdGggPSByZWN0LmhlaWdodCAqIHJhdGlvXG5cbiAgICBjb29yZHMueCA9IHN0YXJ0Q29vcmRzLnggKyAobmV3V2lkdGggLSBzdGFydFJlY3Qud2lkdGgpICogZWRnZVNpZ24ueFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1ha2VNb2RpZmllcihhc3BlY3RSYXRpbywgJ2FzcGVjdFJhdGlvJylcbmV4cG9ydCB7IGFzcGVjdFJhdGlvIH1cbiIsICJpbXBvcnQgdHlwZSB7IE1vZGlmaWVyRnVuY3Rpb24gfSBmcm9tICcuL3R5cGVzJ1xuXG5jb25zdCBub29wID0gKCgpID0+IHt9KSBhcyB1bmtub3duIGFzIE1vZGlmaWVyRnVuY3Rpb248YW55LCBhbnksICdub29wJz5cblxubm9vcC5fZGVmYXVsdHMgPSB7fVxuXG5leHBvcnQgZGVmYXVsdCBub29wXG4iLCAiaW1wb3J0IHR5cGUgSW50ZXJhY3Rpb24gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgUmVjdFJlc29sdmFibGUsIFJlY3QsIFBvaW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0IGlzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2lzJ1xuaW1wb3J0ICogYXMgcmVjdFV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3JlY3QnXG5cbmltcG9ydCB7IG1ha2VNb2RpZmllciB9IGZyb20gJy4uL2Jhc2UnXG5pbXBvcnQgdHlwZSB7IE1vZGlmaWVyQXJnLCBNb2RpZmllck1vZHVsZSwgTW9kaWZpZXJTdGF0ZSB9IGZyb20gJy4uL3R5cGVzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlc3RyaWN0T3B0aW9ucyB7XG4gIC8vIHdoZXJlIHRvIGRyYWcgb3ZlclxuICByZXN0cmljdGlvbjogUmVjdFJlc29sdmFibGU8W251bWJlciwgbnVtYmVyLCBJbnRlcmFjdGlvbl0+XG4gIC8vIHdoYXQgcGFydCBvZiBzZWxmIGlzIGFsbG93ZWQgdG8gZHJhZyBvdmVyXG4gIGVsZW1lbnRSZWN0OiBSZWN0XG4gIG9mZnNldDogUmVjdFxuICAvLyByZXN0cmljdCBqdXN0IGJlZm9yZSB0aGUgZW5kIGRyYWdcbiAgZW5kT25seTogYm9vbGVhblxuICBlbmFibGVkPzogYm9vbGVhblxufVxuXG5leHBvcnQgdHlwZSBSZXN0cmljdFN0YXRlID0gTW9kaWZpZXJTdGF0ZTxcbiAgUmVzdHJpY3RPcHRpb25zLFxuICB7XG4gICAgb2Zmc2V0OiBSZWN0XG4gIH1cbj5cblxuZnVuY3Rpb24gc3RhcnQoeyByZWN0LCBzdGFydE9mZnNldCwgc3RhdGUsIGludGVyYWN0aW9uLCBwYWdlQ29vcmRzIH06IE1vZGlmaWVyQXJnPFJlc3RyaWN0U3RhdGU+KSB7XG4gIGNvbnN0IHsgb3B0aW9ucyB9ID0gc3RhdGVcbiAgY29uc3QgeyBlbGVtZW50UmVjdCB9ID0gb3B0aW9uc1xuICBjb25zdCBvZmZzZXQ6IFJlY3QgPSBleHRlbmQoXG4gICAge1xuICAgICAgbGVmdDogMCxcbiAgICAgIHRvcDogMCxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgYm90dG9tOiAwLFxuICAgIH0sXG4gICAgb3B0aW9ucy5vZmZzZXQgfHwge30sXG4gIClcblxuICBpZiAocmVjdCAmJiBlbGVtZW50UmVjdCkge1xuICAgIGNvbnN0IHJlc3RyaWN0aW9uID0gZ2V0UmVzdHJpY3Rpb25SZWN0KG9wdGlvbnMucmVzdHJpY3Rpb24sIGludGVyYWN0aW9uLCBwYWdlQ29vcmRzKVxuXG4gICAgaWYgKHJlc3RyaWN0aW9uKSB7XG4gICAgICBjb25zdCB3aWR0aERpZmYgPSByZXN0cmljdGlvbi5yaWdodCAtIHJlc3RyaWN0aW9uLmxlZnQgLSByZWN0LndpZHRoXG4gICAgICBjb25zdCBoZWlnaHREaWZmID0gcmVzdHJpY3Rpb24uYm90dG9tIC0gcmVzdHJpY3Rpb24udG9wIC0gcmVjdC5oZWlnaHRcblxuICAgICAgaWYgKHdpZHRoRGlmZiA8IDApIHtcbiAgICAgICAgb2Zmc2V0LmxlZnQgKz0gd2lkdGhEaWZmXG4gICAgICAgIG9mZnNldC5yaWdodCArPSB3aWR0aERpZmZcbiAgICAgIH1cbiAgICAgIGlmIChoZWlnaHREaWZmIDwgMCkge1xuICAgICAgICBvZmZzZXQudG9wICs9IGhlaWdodERpZmZcbiAgICAgICAgb2Zmc2V0LmJvdHRvbSArPSBoZWlnaHREaWZmXG4gICAgICB9XG4gICAgfVxuXG4gICAgb2Zmc2V0LmxlZnQgKz0gc3RhcnRPZmZzZXQubGVmdCAtIHJlY3Qud2lkdGggKiBlbGVtZW50UmVjdC5sZWZ0XG4gICAgb2Zmc2V0LnRvcCArPSBzdGFydE9mZnNldC50b3AgLSByZWN0LmhlaWdodCAqIGVsZW1lbnRSZWN0LnRvcFxuXG4gICAgb2Zmc2V0LnJpZ2h0ICs9IHN0YXJ0T2Zmc2V0LnJpZ2h0IC0gcmVjdC53aWR0aCAqICgxIC0gZWxlbWVudFJlY3QucmlnaHQpXG4gICAgb2Zmc2V0LmJvdHRvbSArPSBzdGFydE9mZnNldC5ib3R0b20gLSByZWN0LmhlaWdodCAqICgxIC0gZWxlbWVudFJlY3QuYm90dG9tKVxuICB9XG5cbiAgc3RhdGUub2Zmc2V0ID0gb2Zmc2V0XG59XG5cbmZ1bmN0aW9uIHNldCh7IGNvb3JkcywgaW50ZXJhY3Rpb24sIHN0YXRlIH06IE1vZGlmaWVyQXJnPFJlc3RyaWN0U3RhdGU+KSB7XG4gIGNvbnN0IHsgb3B0aW9ucywgb2Zmc2V0IH0gPSBzdGF0ZVxuXG4gIGNvbnN0IHJlc3RyaWN0aW9uID0gZ2V0UmVzdHJpY3Rpb25SZWN0KG9wdGlvbnMucmVzdHJpY3Rpb24sIGludGVyYWN0aW9uLCBjb29yZHMpXG5cbiAgaWYgKCFyZXN0cmljdGlvbikgcmV0dXJuXG5cbiAgY29uc3QgcmVjdCA9IHJlY3RVdGlscy54eXdoVG9UbGJyKHJlc3RyaWN0aW9uKVxuXG4gIGNvb3Jkcy54ID0gTWF0aC5tYXgoTWF0aC5taW4ocmVjdC5yaWdodCAtIG9mZnNldC5yaWdodCwgY29vcmRzLngpLCByZWN0LmxlZnQgKyBvZmZzZXQubGVmdClcbiAgY29vcmRzLnkgPSBNYXRoLm1heChNYXRoLm1pbihyZWN0LmJvdHRvbSAtIG9mZnNldC5ib3R0b20sIGNvb3Jkcy55KSwgcmVjdC50b3AgKyBvZmZzZXQudG9wKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVzdHJpY3Rpb25SZWN0KFxuICB2YWx1ZTogUmVjdFJlc29sdmFibGU8W251bWJlciwgbnVtYmVyLCBJbnRlcmFjdGlvbl0+LFxuICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb24sXG4gIGNvb3Jkcz86IFBvaW50LFxuKSB7XG4gIGlmIChpcy5mdW5jKHZhbHVlKSkge1xuICAgIHJldHVybiByZWN0VXRpbHMucmVzb2x2ZVJlY3RMaWtlKHZhbHVlLCBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUsIGludGVyYWN0aW9uLmVsZW1lbnQsIFtcbiAgICAgIGNvb3Jkcy54LFxuICAgICAgY29vcmRzLnksXG4gICAgICBpbnRlcmFjdGlvbixcbiAgICBdKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiByZWN0VXRpbHMucmVzb2x2ZVJlY3RMaWtlKHZhbHVlLCBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUsIGludGVyYWN0aW9uLmVsZW1lbnQpXG4gIH1cbn1cblxuY29uc3QgZGVmYXVsdHM6IFJlc3RyaWN0T3B0aW9ucyA9IHtcbiAgcmVzdHJpY3Rpb246IG51bGwsXG4gIGVsZW1lbnRSZWN0OiBudWxsLFxuICBvZmZzZXQ6IG51bGwsXG4gIGVuZE9ubHk6IGZhbHNlLFxuICBlbmFibGVkOiBmYWxzZSxcbn1cblxuY29uc3QgcmVzdHJpY3Q6IE1vZGlmaWVyTW9kdWxlPFJlc3RyaWN0T3B0aW9ucywgUmVzdHJpY3RTdGF0ZT4gPSB7XG4gIHN0YXJ0LFxuICBzZXQsXG4gIGRlZmF1bHRzLFxufVxuXG5leHBvcnQgZGVmYXVsdCBtYWtlTW9kaWZpZXIocmVzdHJpY3QsICdyZXN0cmljdCcpXG5leHBvcnQgeyByZXN0cmljdCB9XG4iLCAiLy8gVGhpcyBtb2RpZmllciBhZGRzIHRoZSBvcHRpb25zLnJlc2l6ZS5yZXN0cmljdEVkZ2VzIHNldHRpbmcgd2hpY2ggc2V0cyBtaW4gYW5kXG4vLyBtYXggZm9yIHRoZSB0b3AsIGxlZnQsIGJvdHRvbSBhbmQgcmlnaHQgZWRnZXMgb2YgdGhlIHRhcmdldCBiZWluZyByZXNpemVkLlxuLy9cbi8vIGludGVyYWN0KHRhcmdldCkucmVzaXplKHtcbi8vICAgZWRnZXM6IHsgdG9wOiB0cnVlLCBsZWZ0OiB0cnVlIH0sXG4vLyAgIHJlc3RyaWN0RWRnZXM6IHtcbi8vICAgICBpbm5lcjogeyB0b3A6IDIwMCwgbGVmdDogMjAwLCByaWdodDogNDAwLCBib3R0b206IDQwMCB9LFxuLy8gICAgIG91dGVyOiB7IHRvcDogICAwLCBsZWZ0OiAgIDAsIHJpZ2h0OiA2MDAsIGJvdHRvbTogNjAwIH0sXG4vLyAgIH0sXG4vLyB9KVxuXG5pbXBvcnQgdHlwZSB7IFBvaW50LCBSZWN0IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0ICogYXMgcmVjdFV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3JlY3QnXG5cbmltcG9ydCB7IG1ha2VNb2RpZmllciB9IGZyb20gJy4uL2Jhc2UnXG5pbXBvcnQgdHlwZSB7IE1vZGlmaWVyQXJnLCBNb2RpZmllclN0YXRlIH0gZnJvbSAnLi4vdHlwZXMnXG5cbmltcG9ydCB0eXBlIHsgUmVzdHJpY3RPcHRpb25zIH0gZnJvbSAnLi9wb2ludGVyJ1xuaW1wb3J0IHsgZ2V0UmVzdHJpY3Rpb25SZWN0IH0gZnJvbSAnLi9wb2ludGVyJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlc3RyaWN0RWRnZXNPcHRpb25zIHtcbiAgaW5uZXI6IFJlc3RyaWN0T3B0aW9uc1sncmVzdHJpY3Rpb24nXVxuICBvdXRlcjogUmVzdHJpY3RPcHRpb25zWydyZXN0cmljdGlvbiddXG4gIG9mZnNldD86IFJlc3RyaWN0T3B0aW9uc1snb2Zmc2V0J11cbiAgZW5kT25seTogYm9vbGVhblxuICBlbmFibGVkPzogYm9vbGVhblxufVxuXG5leHBvcnQgdHlwZSBSZXN0cmljdEVkZ2VzU3RhdGUgPSBNb2RpZmllclN0YXRlPFxuICBSZXN0cmljdEVkZ2VzT3B0aW9ucyxcbiAge1xuICAgIGlubmVyOiBSZWN0XG4gICAgb3V0ZXI6IFJlY3RcbiAgICBvZmZzZXQ6IFJlc3RyaWN0RWRnZXNPcHRpb25zWydvZmZzZXQnXVxuICB9XG4+XG5cbmNvbnN0IG5vSW5uZXIgPSB7IHRvcDogK0luZmluaXR5LCBsZWZ0OiArSW5maW5pdHksIGJvdHRvbTogLUluZmluaXR5LCByaWdodDogLUluZmluaXR5IH1cbmNvbnN0IG5vT3V0ZXIgPSB7IHRvcDogLUluZmluaXR5LCBsZWZ0OiAtSW5maW5pdHksIGJvdHRvbTogK0luZmluaXR5LCByaWdodDogK0luZmluaXR5IH1cblxuZnVuY3Rpb24gc3RhcnQoeyBpbnRlcmFjdGlvbiwgc3RhcnRPZmZzZXQsIHN0YXRlIH06IE1vZGlmaWVyQXJnPFJlc3RyaWN0RWRnZXNTdGF0ZT4pIHtcbiAgY29uc3QgeyBvcHRpb25zIH0gPSBzdGF0ZVxuICBsZXQgb2Zmc2V0OiBQb2ludFxuXG4gIGlmIChvcHRpb25zKSB7XG4gICAgY29uc3Qgb2Zmc2V0UmVjdCA9IGdldFJlc3RyaWN0aW9uUmVjdChvcHRpb25zLm9mZnNldCwgaW50ZXJhY3Rpb24sIGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydC5wYWdlKVxuXG4gICAgb2Zmc2V0ID0gcmVjdFV0aWxzLnJlY3RUb1hZKG9mZnNldFJlY3QpXG4gIH1cblxuICBvZmZzZXQgPSBvZmZzZXQgfHwgeyB4OiAwLCB5OiAwIH1cblxuICBzdGF0ZS5vZmZzZXQgPSB7XG4gICAgdG9wOiBvZmZzZXQueSArIHN0YXJ0T2Zmc2V0LnRvcCxcbiAgICBsZWZ0OiBvZmZzZXQueCArIHN0YXJ0T2Zmc2V0LmxlZnQsXG4gICAgYm90dG9tOiBvZmZzZXQueSAtIHN0YXJ0T2Zmc2V0LmJvdHRvbSxcbiAgICByaWdodDogb2Zmc2V0LnggLSBzdGFydE9mZnNldC5yaWdodCxcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXQoeyBjb29yZHMsIGVkZ2VzLCBpbnRlcmFjdGlvbiwgc3RhdGUgfTogTW9kaWZpZXJBcmc8UmVzdHJpY3RFZGdlc1N0YXRlPikge1xuICBjb25zdCB7IG9mZnNldCwgb3B0aW9ucyB9ID0gc3RhdGVcblxuICBpZiAoIWVkZ2VzKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBwYWdlID0gZXh0ZW5kKHt9LCBjb29yZHMpXG4gIGNvbnN0IGlubmVyID0gZ2V0UmVzdHJpY3Rpb25SZWN0KG9wdGlvbnMuaW5uZXIsIGludGVyYWN0aW9uLCBwYWdlKSB8fCAoe30gYXMgUmVjdClcbiAgY29uc3Qgb3V0ZXIgPSBnZXRSZXN0cmljdGlvblJlY3Qob3B0aW9ucy5vdXRlciwgaW50ZXJhY3Rpb24sIHBhZ2UpIHx8ICh7fSBhcyBSZWN0KVxuXG4gIGZpeFJlY3QoaW5uZXIsIG5vSW5uZXIpXG4gIGZpeFJlY3Qob3V0ZXIsIG5vT3V0ZXIpXG5cbiAgaWYgKGVkZ2VzLnRvcCkge1xuICAgIGNvb3Jkcy55ID0gTWF0aC5taW4oTWF0aC5tYXgob3V0ZXIudG9wICsgb2Zmc2V0LnRvcCwgcGFnZS55KSwgaW5uZXIudG9wICsgb2Zmc2V0LnRvcClcbiAgfSBlbHNlIGlmIChlZGdlcy5ib3R0b20pIHtcbiAgICBjb29yZHMueSA9IE1hdGgubWF4KE1hdGgubWluKG91dGVyLmJvdHRvbSArIG9mZnNldC5ib3R0b20sIHBhZ2UueSksIGlubmVyLmJvdHRvbSArIG9mZnNldC5ib3R0b20pXG4gIH1cbiAgaWYgKGVkZ2VzLmxlZnQpIHtcbiAgICBjb29yZHMueCA9IE1hdGgubWluKE1hdGgubWF4KG91dGVyLmxlZnQgKyBvZmZzZXQubGVmdCwgcGFnZS54KSwgaW5uZXIubGVmdCArIG9mZnNldC5sZWZ0KVxuICB9IGVsc2UgaWYgKGVkZ2VzLnJpZ2h0KSB7XG4gICAgY29vcmRzLnggPSBNYXRoLm1heChNYXRoLm1pbihvdXRlci5yaWdodCArIG9mZnNldC5yaWdodCwgcGFnZS54KSwgaW5uZXIucmlnaHQgKyBvZmZzZXQucmlnaHQpXG4gIH1cbn1cblxuZnVuY3Rpb24gZml4UmVjdChyZWN0OiBSZWN0LCBkZWZhdWx0czogUmVjdCkge1xuICBmb3IgKGNvbnN0IGVkZ2Ugb2YgWyd0b3AnLCAnbGVmdCcsICdib3R0b20nLCAncmlnaHQnXSkge1xuICAgIGlmICghKGVkZ2UgaW4gcmVjdCkpIHtcbiAgICAgIHJlY3RbZWRnZV0gPSBkZWZhdWx0c1tlZGdlXVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZWN0XG59XG5cbmNvbnN0IGRlZmF1bHRzOiBSZXN0cmljdEVkZ2VzT3B0aW9ucyA9IHtcbiAgaW5uZXI6IG51bGwsXG4gIG91dGVyOiBudWxsLFxuICBvZmZzZXQ6IG51bGwsXG4gIGVuZE9ubHk6IGZhbHNlLFxuICBlbmFibGVkOiBmYWxzZSxcbn1cblxuY29uc3QgcmVzdHJpY3RFZGdlcyA9IHtcbiAgbm9Jbm5lcixcbiAgbm9PdXRlcixcbiAgc3RhcnQsXG4gIHNldCxcbiAgZGVmYXVsdHMsXG59XG5cbmV4cG9ydCBkZWZhdWx0IG1ha2VNb2RpZmllcihyZXN0cmljdEVkZ2VzLCAncmVzdHJpY3RFZGdlcycpXG5leHBvcnQgeyByZXN0cmljdEVkZ2VzIH1cbiIsICJpbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcblxuaW1wb3J0IHsgbWFrZU1vZGlmaWVyIH0gZnJvbSAnLi4vYmFzZSdcblxuaW1wb3J0IHsgcmVzdHJpY3QgfSBmcm9tICcuL3BvaW50ZXInXG5cbmNvbnN0IGRlZmF1bHRzID0gZXh0ZW5kKFxuICB7XG4gICAgZ2V0IGVsZW1lbnRSZWN0KCkge1xuICAgICAgcmV0dXJuIHsgdG9wOiAwLCBsZWZ0OiAwLCBib3R0b206IDEsIHJpZ2h0OiAxIH1cbiAgICB9LFxuICAgIHNldCBlbGVtZW50UmVjdChfKSB7fSxcbiAgfSxcbiAgcmVzdHJpY3QuZGVmYXVsdHMsXG4pXG5cbmNvbnN0IHJlc3RyaWN0UmVjdCA9IHtcbiAgc3RhcnQ6IHJlc3RyaWN0LnN0YXJ0LFxuICBzZXQ6IHJlc3RyaWN0LnNldCxcbiAgZGVmYXVsdHMsXG59XG5cbmV4cG9ydCBkZWZhdWx0IG1ha2VNb2RpZmllcihyZXN0cmljdFJlY3QsICdyZXN0cmljdFJlY3QnKVxuZXhwb3J0IHsgcmVzdHJpY3RSZWN0IH1cbiIsICJpbXBvcnQgdHlwZSB7IFBvaW50LCBSZWN0LCBTaXplIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCBleHRlbmQgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZXh0ZW5kJ1xuaW1wb3J0ICogYXMgcmVjdFV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3JlY3QnXG5cbmltcG9ydCB7IG1ha2VNb2RpZmllciB9IGZyb20gJy4uL2Jhc2UnXG5pbXBvcnQgdHlwZSB7IE1vZGlmaWVyQXJnLCBNb2RpZmllclN0YXRlIH0gZnJvbSAnLi4vdHlwZXMnXG5cbmltcG9ydCB0eXBlIHsgUmVzdHJpY3RFZGdlc1N0YXRlIH0gZnJvbSAnLi9lZGdlcydcbmltcG9ydCB7IHJlc3RyaWN0RWRnZXMgfSBmcm9tICcuL2VkZ2VzJ1xuaW1wb3J0IHR5cGUgeyBSZXN0cmljdE9wdGlvbnMgfSBmcm9tICcuL3BvaW50ZXInXG5pbXBvcnQgeyBnZXRSZXN0cmljdGlvblJlY3QgfSBmcm9tICcuL3BvaW50ZXInXG5cbmNvbnN0IG5vTWluID0geyB3aWR0aDogLUluZmluaXR5LCBoZWlnaHQ6IC1JbmZpbml0eSB9XG5jb25zdCBub01heCA9IHsgd2lkdGg6ICtJbmZpbml0eSwgaGVpZ2h0OiArSW5maW5pdHkgfVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlc3RyaWN0U2l6ZU9wdGlvbnMge1xuICBtaW4/OiBTaXplIHwgUG9pbnQgfCBSZXN0cmljdE9wdGlvbnNbJ3Jlc3RyaWN0aW9uJ11cbiAgbWF4PzogU2l6ZSB8IFBvaW50IHwgUmVzdHJpY3RPcHRpb25zWydyZXN0cmljdGlvbiddXG4gIGVuZE9ubHk6IGJvb2xlYW5cbiAgZW5hYmxlZD86IGJvb2xlYW5cbn1cblxuZnVuY3Rpb24gc3RhcnQoYXJnOiBNb2RpZmllckFyZzxSZXN0cmljdEVkZ2VzU3RhdGU+KSB7XG4gIHJldHVybiByZXN0cmljdEVkZ2VzLnN0YXJ0KGFyZylcbn1cblxuZXhwb3J0IHR5cGUgUmVzdHJpY3RTaXplU3RhdGUgPSBSZXN0cmljdEVkZ2VzU3RhdGUgJlxuICBNb2RpZmllclN0YXRlPFxuICAgIFJlc3RyaWN0U2l6ZU9wdGlvbnMgJiB7IGlubmVyOiBSZWN0OyBvdXRlcjogUmVjdCB9LFxuICAgIHtcbiAgICAgIG1pbjogUmVjdFxuICAgICAgbWF4OiBSZWN0XG4gICAgfVxuICA+XG5cbmZ1bmN0aW9uIHNldChhcmc6IE1vZGlmaWVyQXJnPFJlc3RyaWN0U2l6ZVN0YXRlPikge1xuICBjb25zdCB7IGludGVyYWN0aW9uLCBzdGF0ZSwgcmVjdCwgZWRnZXMgfSA9IGFyZ1xuICBjb25zdCB7IG9wdGlvbnMgfSA9IHN0YXRlXG5cbiAgaWYgKCFlZGdlcykge1xuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgbWluU2l6ZSA9XG4gICAgcmVjdFV0aWxzLnRsYnJUb1h5d2goZ2V0UmVzdHJpY3Rpb25SZWN0KG9wdGlvbnMubWluIGFzIGFueSwgaW50ZXJhY3Rpb24sIGFyZy5jb29yZHMpKSB8fCBub01pblxuICBjb25zdCBtYXhTaXplID1cbiAgICByZWN0VXRpbHMudGxiclRvWHl3aChnZXRSZXN0cmljdGlvblJlY3Qob3B0aW9ucy5tYXggYXMgYW55LCBpbnRlcmFjdGlvbiwgYXJnLmNvb3JkcykpIHx8IG5vTWF4XG5cbiAgc3RhdGUub3B0aW9ucyA9IHtcbiAgICBlbmRPbmx5OiBvcHRpb25zLmVuZE9ubHksXG4gICAgaW5uZXI6IGV4dGVuZCh7fSwgcmVzdHJpY3RFZGdlcy5ub0lubmVyKSxcbiAgICBvdXRlcjogZXh0ZW5kKHt9LCByZXN0cmljdEVkZ2VzLm5vT3V0ZXIpLFxuICB9XG5cbiAgaWYgKGVkZ2VzLnRvcCkge1xuICAgIHN0YXRlLm9wdGlvbnMuaW5uZXIudG9wID0gcmVjdC5ib3R0b20gLSBtaW5TaXplLmhlaWdodFxuICAgIHN0YXRlLm9wdGlvbnMub3V0ZXIudG9wID0gcmVjdC5ib3R0b20gLSBtYXhTaXplLmhlaWdodFxuICB9IGVsc2UgaWYgKGVkZ2VzLmJvdHRvbSkge1xuICAgIHN0YXRlLm9wdGlvbnMuaW5uZXIuYm90dG9tID0gcmVjdC50b3AgKyBtaW5TaXplLmhlaWdodFxuICAgIHN0YXRlLm9wdGlvbnMub3V0ZXIuYm90dG9tID0gcmVjdC50b3AgKyBtYXhTaXplLmhlaWdodFxuICB9XG4gIGlmIChlZGdlcy5sZWZ0KSB7XG4gICAgc3RhdGUub3B0aW9ucy5pbm5lci5sZWZ0ID0gcmVjdC5yaWdodCAtIG1pblNpemUud2lkdGhcbiAgICBzdGF0ZS5vcHRpb25zLm91dGVyLmxlZnQgPSByZWN0LnJpZ2h0IC0gbWF4U2l6ZS53aWR0aFxuICB9IGVsc2UgaWYgKGVkZ2VzLnJpZ2h0KSB7XG4gICAgc3RhdGUub3B0aW9ucy5pbm5lci5yaWdodCA9IHJlY3QubGVmdCArIG1pblNpemUud2lkdGhcbiAgICBzdGF0ZS5vcHRpb25zLm91dGVyLnJpZ2h0ID0gcmVjdC5sZWZ0ICsgbWF4U2l6ZS53aWR0aFxuICB9XG5cbiAgcmVzdHJpY3RFZGdlcy5zZXQoYXJnKVxuXG4gIHN0YXRlLm9wdGlvbnMgPSBvcHRpb25zXG59XG5cbmNvbnN0IGRlZmF1bHRzOiBSZXN0cmljdFNpemVPcHRpb25zID0ge1xuICBtaW46IG51bGwsXG4gIG1heDogbnVsbCxcbiAgZW5kT25seTogZmFsc2UsXG4gIGVuYWJsZWQ6IGZhbHNlLFxufVxuXG5jb25zdCByZXN0cmljdFNpemUgPSB7XG4gIHN0YXJ0LFxuICBzZXQsXG4gIGRlZmF1bHRzLFxufVxuXG5leHBvcnQgZGVmYXVsdCBtYWtlTW9kaWZpZXIocmVzdHJpY3RTaXplLCAncmVzdHJpY3RTaXplJylcbmV4cG9ydCB7IHJlc3RyaWN0U2l6ZSB9XG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGlvbiwgSW50ZXJhY3Rpb25Qcm94eSB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IEFjdGlvbk5hbWUsIFBvaW50LCBSZWN0UmVzb2x2YWJsZSwgRWxlbWVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvdHlwZXMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCBnZXRPcmlnaW5YWSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9nZXRPcmlnaW5YWSdcbmltcG9ydCBoeXBvdCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9oeXBvdCdcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcbmltcG9ydCB7IHJlc29sdmVSZWN0TGlrZSwgcmVjdFRvWFkgfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yZWN0J1xuXG5pbXBvcnQgeyBtYWtlTW9kaWZpZXIgfSBmcm9tICcuLi9iYXNlJ1xuaW1wb3J0IHR5cGUgeyBNb2RpZmllckFyZywgTW9kaWZpZXJTdGF0ZSB9IGZyb20gJy4uL3R5cGVzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIE9mZnNldCB7XG4gIHg6IG51bWJlclxuICB5OiBudW1iZXJcbiAgaW5kZXg6IG51bWJlclxuICByZWxhdGl2ZVBvaW50PzogUG9pbnQgfCBudWxsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU25hcFBvc2l0aW9uIHtcbiAgeD86IG51bWJlclxuICB5PzogbnVtYmVyXG4gIHJhbmdlPzogbnVtYmVyXG4gIG9mZnNldD86IE9mZnNldFxuICBbaW5kZXg6IHN0cmluZ106IGFueVxufVxuXG5leHBvcnQgdHlwZSBTbmFwRnVuY3Rpb24gPSAoXG4gIHg6IG51bWJlcixcbiAgeTogbnVtYmVyLFxuICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb25Qcm94eTxBY3Rpb25OYW1lPixcbiAgb2Zmc2V0OiBPZmZzZXQsXG4gIGluZGV4OiBudW1iZXIsXG4pID0+IFNuYXBQb3NpdGlvblxuZXhwb3J0IHR5cGUgU25hcFRhcmdldCA9IFNuYXBQb3NpdGlvbiB8IFNuYXBGdW5jdGlvblxuZXhwb3J0IGludGVyZmFjZSBTbmFwT3B0aW9ucyB7XG4gIHRhcmdldHM/OiBTbmFwVGFyZ2V0W11cbiAgLy8gdGFyZ2V0IHJhbmdlXG4gIHJhbmdlPzogbnVtYmVyXG4gIC8vIHNlbGYgcG9pbnRzIGZvciBzbmFwcGluZy4gWzAsMF0gPSB0b3AgbGVmdCwgWzEsMV0gPSBib3R0b20gcmlnaHRcbiAgcmVsYXRpdmVQb2ludHM/OiBQb2ludFtdXG4gIC8vIHN0YXJ0Q29vcmRzID0gb2Zmc2V0IHNuYXBwaW5nIGZyb20gZHJhZyBzdGFydCBwYWdlIHBvc2l0aW9uXG4gIG9mZnNldD86IFBvaW50IHwgUmVjdFJlc29sdmFibGU8W0ludGVyYWN0aW9uXT4gfCAnc3RhcnRDb29yZHMnXG4gIG9mZnNldFdpdGhPcmlnaW4/OiBib29sZWFuXG4gIG9yaWdpbj86IFJlY3RSZXNvbHZhYmxlPFtFbGVtZW50XT4gfCBQb2ludFxuICBlbmRPbmx5PzogYm9vbGVhblxuICBlbmFibGVkPzogYm9vbGVhblxufVxuXG5leHBvcnQgdHlwZSBTbmFwU3RhdGUgPSBNb2RpZmllclN0YXRlPFxuICBTbmFwT3B0aW9ucyxcbiAge1xuICAgIG9mZnNldHM/OiBPZmZzZXRbXVxuICAgIGNsb3Nlc3Q/OiBhbnlcbiAgICB0YXJnZXRGaWVsZHM/OiBzdHJpbmdbXVtdXG4gIH1cbj5cblxuZnVuY3Rpb24gc3RhcnQoYXJnOiBNb2RpZmllckFyZzxTbmFwU3RhdGU+KSB7XG4gIGNvbnN0IHsgaW50ZXJhY3Rpb24sIGludGVyYWN0YWJsZSwgZWxlbWVudCwgcmVjdCwgc3RhdGUsIHN0YXJ0T2Zmc2V0IH0gPSBhcmdcbiAgY29uc3QgeyBvcHRpb25zIH0gPSBzdGF0ZVxuICBjb25zdCBvcmlnaW4gPSBvcHRpb25zLm9mZnNldFdpdGhPcmlnaW4gPyBnZXRPcmlnaW4oYXJnKSA6IHsgeDogMCwgeTogMCB9XG5cbiAgbGV0IHNuYXBPZmZzZXQ6IFBvaW50XG5cbiAgaWYgKG9wdGlvbnMub2Zmc2V0ID09PSAnc3RhcnRDb29yZHMnKSB7XG4gICAgc25hcE9mZnNldCA9IHtcbiAgICAgIHg6IGludGVyYWN0aW9uLmNvb3Jkcy5zdGFydC5wYWdlLngsXG4gICAgICB5OiBpbnRlcmFjdGlvbi5jb29yZHMuc3RhcnQucGFnZS55LFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCBvZmZzZXRSZWN0ID0gcmVzb2x2ZVJlY3RMaWtlKG9wdGlvbnMub2Zmc2V0IGFzIGFueSwgaW50ZXJhY3RhYmxlLCBlbGVtZW50LCBbaW50ZXJhY3Rpb25dKVxuXG4gICAgc25hcE9mZnNldCA9IHJlY3RUb1hZKG9mZnNldFJlY3QpIHx8IHsgeDogMCwgeTogMCB9XG4gICAgc25hcE9mZnNldC54ICs9IG9yaWdpbi54XG4gICAgc25hcE9mZnNldC55ICs9IG9yaWdpbi55XG4gIH1cblxuICBjb25zdCB7IHJlbGF0aXZlUG9pbnRzIH0gPSBvcHRpb25zXG5cbiAgc3RhdGUub2Zmc2V0cyA9XG4gICAgcmVjdCAmJiByZWxhdGl2ZVBvaW50cyAmJiByZWxhdGl2ZVBvaW50cy5sZW5ndGhcbiAgICAgID8gcmVsYXRpdmVQb2ludHMubWFwKChyZWxhdGl2ZVBvaW50LCBpbmRleCkgPT4gKHtcbiAgICAgICAgICBpbmRleCxcbiAgICAgICAgICByZWxhdGl2ZVBvaW50LFxuICAgICAgICAgIHg6IHN0YXJ0T2Zmc2V0LmxlZnQgLSByZWN0LndpZHRoICogcmVsYXRpdmVQb2ludC54ICsgc25hcE9mZnNldC54LFxuICAgICAgICAgIHk6IHN0YXJ0T2Zmc2V0LnRvcCAtIHJlY3QuaGVpZ2h0ICogcmVsYXRpdmVQb2ludC55ICsgc25hcE9mZnNldC55LFxuICAgICAgICB9KSlcbiAgICAgIDogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGluZGV4OiAwLFxuICAgICAgICAgICAgcmVsYXRpdmVQb2ludDogbnVsbCxcbiAgICAgICAgICAgIHg6IHNuYXBPZmZzZXQueCxcbiAgICAgICAgICAgIHk6IHNuYXBPZmZzZXQueSxcbiAgICAgICAgICB9LFxuICAgICAgICBdXG59XG5cbmZ1bmN0aW9uIHNldChhcmc6IE1vZGlmaWVyQXJnPFNuYXBTdGF0ZT4pIHtcbiAgY29uc3QgeyBpbnRlcmFjdGlvbiwgY29vcmRzLCBzdGF0ZSB9ID0gYXJnXG4gIGNvbnN0IHsgb3B0aW9ucywgb2Zmc2V0cyB9ID0gc3RhdGVcblxuICBjb25zdCBvcmlnaW4gPSBnZXRPcmlnaW5YWShpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUhLCBpbnRlcmFjdGlvbi5lbGVtZW50ISwgaW50ZXJhY3Rpb24ucHJlcGFyZWQubmFtZSlcbiAgY29uc3QgcGFnZSA9IGV4dGVuZCh7fSwgY29vcmRzKVxuICBjb25zdCB0YXJnZXRzOiBTbmFwUG9zaXRpb25bXSA9IFtdXG5cbiAgaWYgKCFvcHRpb25zLm9mZnNldFdpdGhPcmlnaW4pIHtcbiAgICBwYWdlLnggLT0gb3JpZ2luLnhcbiAgICBwYWdlLnkgLT0gb3JpZ2luLnlcbiAgfVxuXG4gIGZvciAoY29uc3Qgb2Zmc2V0IG9mIG9mZnNldHMhKSB7XG4gICAgY29uc3QgcmVsYXRpdmVYID0gcGFnZS54IC0gb2Zmc2V0LnhcbiAgICBjb25zdCByZWxhdGl2ZVkgPSBwYWdlLnkgLSBvZmZzZXQueVxuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwLCBsZW4gPSBvcHRpb25zLnRhcmdldHMhLmxlbmd0aDsgaW5kZXggPCBsZW47IGluZGV4KyspIHtcbiAgICAgIGNvbnN0IHNuYXBUYXJnZXQgPSBvcHRpb25zLnRhcmdldHMhW2luZGV4XVxuICAgICAgbGV0IHRhcmdldDogU25hcFBvc2l0aW9uXG5cbiAgICAgIGlmIChpcy5mdW5jKHNuYXBUYXJnZXQpKSB7XG4gICAgICAgIHRhcmdldCA9IHNuYXBUYXJnZXQocmVsYXRpdmVYLCByZWxhdGl2ZVksIGludGVyYWN0aW9uLl9wcm94eSwgb2Zmc2V0LCBpbmRleClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldCA9IHNuYXBUYXJnZXRcbiAgICAgIH1cblxuICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgdGFyZ2V0cy5wdXNoKHtcbiAgICAgICAgeDogKGlzLm51bWJlcih0YXJnZXQueCkgPyB0YXJnZXQueCA6IHJlbGF0aXZlWCkgKyBvZmZzZXQueCxcbiAgICAgICAgeTogKGlzLm51bWJlcih0YXJnZXQueSkgPyB0YXJnZXQueSA6IHJlbGF0aXZlWSkgKyBvZmZzZXQueSxcblxuICAgICAgICByYW5nZTogaXMubnVtYmVyKHRhcmdldC5yYW5nZSkgPyB0YXJnZXQucmFuZ2UgOiBvcHRpb25zLnJhbmdlLFxuICAgICAgICBzb3VyY2U6IHNuYXBUYXJnZXQsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBvZmZzZXQsXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGNsb3Nlc3QgPSB7XG4gICAgdGFyZ2V0OiBudWxsLFxuICAgIGluUmFuZ2U6IGZhbHNlLFxuICAgIGRpc3RhbmNlOiAwLFxuICAgIHJhbmdlOiAwLFxuICAgIGRlbHRhOiB7IHg6IDAsIHk6IDAgfSxcbiAgfVxuXG4gIGZvciAoY29uc3QgdGFyZ2V0IG9mIHRhcmdldHMpIHtcbiAgICBjb25zdCByYW5nZSA9IHRhcmdldC5yYW5nZVxuICAgIGNvbnN0IGR4ID0gdGFyZ2V0LnggLSBwYWdlLnhcbiAgICBjb25zdCBkeSA9IHRhcmdldC55IC0gcGFnZS55XG4gICAgY29uc3QgZGlzdGFuY2UgPSBoeXBvdChkeCwgZHkpXG4gICAgbGV0IGluUmFuZ2UgPSBkaXN0YW5jZSA8PSByYW5nZVxuXG4gICAgLy8gSW5maW5pdGUgdGFyZ2V0cyBjb3VudCBhcyBiZWluZyBvdXQgb2YgcmFuZ2VcbiAgICAvLyBjb21wYXJlZCB0byBub24gaW5maW5pdGUgb25lcyB0aGF0IGFyZSBpbiByYW5nZVxuICAgIGlmIChyYW5nZSA9PT0gSW5maW5pdHkgJiYgY2xvc2VzdC5pblJhbmdlICYmIGNsb3Nlc3QucmFuZ2UgIT09IEluZmluaXR5KSB7XG4gICAgICBpblJhbmdlID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAhY2xvc2VzdC50YXJnZXQgfHxcbiAgICAgIChpblJhbmdlXG4gICAgICAgID8gLy8gaXMgdGhlIGNsb3Nlc3QgdGFyZ2V0IGluIHJhbmdlP1xuICAgICAgICAgIGNsb3Nlc3QuaW5SYW5nZSAmJiByYW5nZSAhPT0gSW5maW5pdHlcbiAgICAgICAgICA/IC8vIHRoZSBwb2ludGVyIGlzIHJlbGF0aXZlbHkgZGVlcGVyIGluIHRoaXMgdGFyZ2V0XG4gICAgICAgICAgICBkaXN0YW5jZSAvIHJhbmdlIDwgY2xvc2VzdC5kaXN0YW5jZSAvIGNsb3Nlc3QucmFuZ2VcbiAgICAgICAgICA6IC8vIHRoaXMgdGFyZ2V0IGhhcyBJbmZpbml0ZSByYW5nZSBhbmQgdGhlIGNsb3Nlc3QgZG9lc24ndFxuICAgICAgICAgICAgKHJhbmdlID09PSBJbmZpbml0eSAmJiBjbG9zZXN0LnJhbmdlICE9PSBJbmZpbml0eSkgfHxcbiAgICAgICAgICAgIC8vIE9SIHRoaXMgdGFyZ2V0IGlzIGNsb3NlciB0aGF0IHRoZSBwcmV2aW91cyBjbG9zZXN0XG4gICAgICAgICAgICBkaXN0YW5jZSA8IGNsb3Nlc3QuZGlzdGFuY2VcbiAgICAgICAgOiAvLyBUaGUgb3RoZXIgaXMgbm90IGluIHJhbmdlIGFuZCB0aGUgcG9pbnRlciBpcyBjbG9zZXIgdG8gdGhpcyB0YXJnZXRcbiAgICAgICAgICAhY2xvc2VzdC5pblJhbmdlICYmIGRpc3RhbmNlIDwgY2xvc2VzdC5kaXN0YW5jZSlcbiAgICApIHtcbiAgICAgIGNsb3Nlc3QudGFyZ2V0ID0gdGFyZ2V0XG4gICAgICBjbG9zZXN0LmRpc3RhbmNlID0gZGlzdGFuY2VcbiAgICAgIGNsb3Nlc3QucmFuZ2UgPSByYW5nZVxuICAgICAgY2xvc2VzdC5pblJhbmdlID0gaW5SYW5nZVxuICAgICAgY2xvc2VzdC5kZWx0YS54ID0gZHhcbiAgICAgIGNsb3Nlc3QuZGVsdGEueSA9IGR5XG4gICAgfVxuICB9XG5cbiAgaWYgKGNsb3Nlc3QuaW5SYW5nZSkge1xuICAgIGNvb3Jkcy54ID0gY2xvc2VzdC50YXJnZXQueFxuICAgIGNvb3Jkcy55ID0gY2xvc2VzdC50YXJnZXQueVxuICB9XG5cbiAgc3RhdGUuY2xvc2VzdCA9IGNsb3Nlc3RcbiAgcmV0dXJuIGNsb3Nlc3Rcbn1cblxuZnVuY3Rpb24gZ2V0T3JpZ2luKGFyZzogUGFydGlhbDxNb2RpZmllckFyZzxTbmFwU3RhdGU+Pikge1xuICBjb25zdCB7IGVsZW1lbnQgfSA9IGFyZy5pbnRlcmFjdGlvblxuICBjb25zdCBvcHRpb25zT3JpZ2luID0gcmVjdFRvWFkocmVzb2x2ZVJlY3RMaWtlKGFyZy5zdGF0ZS5vcHRpb25zLm9yaWdpbiBhcyBhbnksIG51bGwsIG51bGwsIFtlbGVtZW50XSkpXG4gIGNvbnN0IG9yaWdpbiA9IG9wdGlvbnNPcmlnaW4gfHwgZ2V0T3JpZ2luWFkoYXJnLmludGVyYWN0YWJsZSwgZWxlbWVudCwgYXJnLmludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUpXG5cbiAgcmV0dXJuIG9yaWdpblxufVxuXG5jb25zdCBkZWZhdWx0czogU25hcE9wdGlvbnMgPSB7XG4gIHJhbmdlOiBJbmZpbml0eSxcbiAgdGFyZ2V0czogbnVsbCxcbiAgb2Zmc2V0OiBudWxsLFxuICBvZmZzZXRXaXRoT3JpZ2luOiB0cnVlLFxuICBvcmlnaW46IG51bGwsXG4gIHJlbGF0aXZlUG9pbnRzOiBudWxsLFxuICBlbmRPbmx5OiBmYWxzZSxcbiAgZW5hYmxlZDogZmFsc2UsXG59XG5jb25zdCBzbmFwID0ge1xuICBzdGFydCxcbiAgc2V0LFxuICBkZWZhdWx0cyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFrZU1vZGlmaWVyKHNuYXAsICdzbmFwJylcbmV4cG9ydCB7IHNuYXAgfVxuIiwgIi8vIFRoaXMgbW9kaWZpZXIgYWxsb3dzIHNuYXBwaW5nIG9mIHRoZSBzaXplIG9mIHRhcmdldHMgZHVyaW5nIHJlc2l6ZVxuLy8gaW50ZXJhY3Rpb25zLlxuXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCBpcyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9pcydcblxuaW1wb3J0IHsgbWFrZU1vZGlmaWVyIH0gZnJvbSAnLi4vYmFzZSdcbmltcG9ydCB0eXBlIHsgTW9kaWZpZXJBcmcgfSBmcm9tICcuLi90eXBlcydcblxuaW1wb3J0IHR5cGUgeyBTbmFwT3B0aW9ucywgU25hcFN0YXRlIH0gZnJvbSAnLi9wb2ludGVyJ1xuaW1wb3J0IHsgc25hcCB9IGZyb20gJy4vcG9pbnRlcidcblxuZXhwb3J0IHR5cGUgU25hcFNpemVPcHRpb25zID0gUGljazxTbmFwT3B0aW9ucywgJ3RhcmdldHMnIHwgJ29mZnNldCcgfCAnZW5kT25seScgfCAncmFuZ2UnIHwgJ2VuYWJsZWQnPlxuXG5mdW5jdGlvbiBzdGFydChhcmc6IE1vZGlmaWVyQXJnPFNuYXBTdGF0ZT4pIHtcbiAgY29uc3QgeyBzdGF0ZSwgZWRnZXMgfSA9IGFyZ1xuICBjb25zdCB7IG9wdGlvbnMgfSA9IHN0YXRlXG5cbiAgaWYgKCFlZGdlcykge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBhcmcuc3RhdGUgPSB7XG4gICAgb3B0aW9uczoge1xuICAgICAgdGFyZ2V0czogbnVsbCxcbiAgICAgIHJlbGF0aXZlUG9pbnRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB4OiBlZGdlcy5sZWZ0ID8gMCA6IDEsXG4gICAgICAgICAgeTogZWRnZXMudG9wID8gMCA6IDEsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgb2Zmc2V0OiBvcHRpb25zLm9mZnNldCB8fCAnc2VsZicsXG4gICAgICBvcmlnaW46IHsgeDogMCwgeTogMCB9LFxuICAgICAgcmFuZ2U6IG9wdGlvbnMucmFuZ2UsXG4gICAgfSxcbiAgfVxuXG4gIHN0YXRlLnRhcmdldEZpZWxkcyA9IHN0YXRlLnRhcmdldEZpZWxkcyB8fCBbXG4gICAgWyd3aWR0aCcsICdoZWlnaHQnXSxcbiAgICBbJ3gnLCAneSddLFxuICBdXG5cbiAgc25hcC5zdGFydChhcmcpXG4gIHN0YXRlLm9mZnNldHMgPSBhcmcuc3RhdGUub2Zmc2V0c1xuXG4gIGFyZy5zdGF0ZSA9IHN0YXRlXG59XG5cbmZ1bmN0aW9uIHNldChhcmcpIHtcbiAgY29uc3QgeyBpbnRlcmFjdGlvbiwgc3RhdGUsIGNvb3JkcyB9ID0gYXJnXG4gIGNvbnN0IHsgb3B0aW9ucywgb2Zmc2V0cyB9ID0gc3RhdGVcbiAgY29uc3QgcmVsYXRpdmUgPSB7XG4gICAgeDogY29vcmRzLnggLSBvZmZzZXRzWzBdLngsXG4gICAgeTogY29vcmRzLnkgLSBvZmZzZXRzWzBdLnksXG4gIH1cblxuICBzdGF0ZS5vcHRpb25zID0gZXh0ZW5kKHt9LCBvcHRpb25zKVxuICBzdGF0ZS5vcHRpb25zLnRhcmdldHMgPSBbXVxuXG4gIGZvciAoY29uc3Qgc25hcFRhcmdldCBvZiBvcHRpb25zLnRhcmdldHMgfHwgW10pIHtcbiAgICBsZXQgdGFyZ2V0XG5cbiAgICBpZiAoaXMuZnVuYyhzbmFwVGFyZ2V0KSkge1xuICAgICAgdGFyZ2V0ID0gc25hcFRhcmdldChyZWxhdGl2ZS54LCByZWxhdGl2ZS55LCBpbnRlcmFjdGlvbilcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0ID0gc25hcFRhcmdldFxuICAgIH1cblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgW3hGaWVsZCwgeUZpZWxkXSBvZiBzdGF0ZS50YXJnZXRGaWVsZHMpIHtcbiAgICAgIGlmICh4RmllbGQgaW4gdGFyZ2V0IHx8IHlGaWVsZCBpbiB0YXJnZXQpIHtcbiAgICAgICAgdGFyZ2V0LnggPSB0YXJnZXRbeEZpZWxkXVxuICAgICAgICB0YXJnZXQueSA9IHRhcmdldFt5RmllbGRdXG5cbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0ZS5vcHRpb25zLnRhcmdldHMucHVzaCh0YXJnZXQpXG4gIH1cblxuICBjb25zdCByZXR1cm5WYWx1ZSA9IHNuYXAuc2V0KGFyZylcblxuICBzdGF0ZS5vcHRpb25zID0gb3B0aW9uc1xuXG4gIHJldHVybiByZXR1cm5WYWx1ZVxufVxuXG5jb25zdCBkZWZhdWx0czogU25hcFNpemVPcHRpb25zID0ge1xuICByYW5nZTogSW5maW5pdHksXG4gIHRhcmdldHM6IG51bGwsXG4gIG9mZnNldDogbnVsbCxcbiAgZW5kT25seTogZmFsc2UsXG4gIGVuYWJsZWQ6IGZhbHNlLFxufVxuXG5jb25zdCBzbmFwU2l6ZSA9IHtcbiAgc3RhcnQsXG4gIHNldCxcbiAgZGVmYXVsdHMsXG59XG5cbmV4cG9ydCBkZWZhdWx0IG1ha2VNb2RpZmllcihzbmFwU2l6ZSwgJ3NuYXBTaXplJylcbmV4cG9ydCB7IHNuYXBTaXplIH1cbiIsICIvKipcbiAqIEBtb2R1bGUgbW9kaWZpZXJzL3NuYXBFZGdlc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBtb2RpZmllciBhbGxvd3Mgc25hcHBpbmcgb2YgdGhlIGVkZ2VzIG9mIHRhcmdldHMgZHVyaW5nIHJlc2l6ZVxuICogaW50ZXJhY3Rpb25zLlxuICpcbiAqIGBgYGpzXG4gKiBpbnRlcmFjdCh0YXJnZXQpLnJlc2l6YWJsZSh7XG4gKiAgIHNuYXBFZGdlczoge1xuICogICAgIHRhcmdldHM6IFtpbnRlcmFjdC5zbmFwcGVycy5ncmlkKHsgeDogMTAwLCB5OiA1MCB9KV0sXG4gKiAgIH0sXG4gKiB9KVxuICpcbiAqIGludGVyYWN0KHRhcmdldCkucmVzaXphYmxlKHtcbiAqICAgc25hcEVkZ2VzOiB7XG4gKiAgICAgdGFyZ2V0czogW1xuICogICAgICAgaW50ZXJhY3Quc25hcHBlcnMuZ3JpZCh7XG4gKiAgICAgICAgdG9wOiA1MCxcbiAqICAgICAgICBsZWZ0OiA1MCxcbiAqICAgICAgICBib3R0b206IDEwMCxcbiAqICAgICAgICByaWdodDogMTAwLFxuICogICAgICAgfSksXG4gKiAgICAgXSxcbiAqICAgfSxcbiAqIH0pXG4gKiBgYGBcbiAqL1xuXG5pbXBvcnQgY2xvbmUgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvY2xvbmUnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcblxuaW1wb3J0IHsgbWFrZU1vZGlmaWVyIH0gZnJvbSAnLi4vYmFzZSdcbmltcG9ydCB0eXBlIHsgTW9kaWZpZXJBcmcsIE1vZGlmaWVyTW9kdWxlIH0gZnJvbSAnLi4vdHlwZXMnXG5cbmltcG9ydCB0eXBlIHsgU25hcE9wdGlvbnMsIFNuYXBTdGF0ZSB9IGZyb20gJy4vcG9pbnRlcidcbmltcG9ydCB7IHNuYXBTaXplIH0gZnJvbSAnLi9zaXplJ1xuXG5leHBvcnQgdHlwZSBTbmFwRWRnZXNPcHRpb25zID0gUGljazxTbmFwT3B0aW9ucywgJ3RhcmdldHMnIHwgJ3JhbmdlJyB8ICdvZmZzZXQnIHwgJ2VuZE9ubHknIHwgJ2VuYWJsZWQnPlxuXG5mdW5jdGlvbiBzdGFydChhcmc6IE1vZGlmaWVyQXJnPFNuYXBTdGF0ZT4pIHtcbiAgY29uc3QgeyBlZGdlcyB9ID0gYXJnXG5cbiAgaWYgKCFlZGdlcykge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBhcmcuc3RhdGUudGFyZ2V0RmllbGRzID0gYXJnLnN0YXRlLnRhcmdldEZpZWxkcyB8fCBbXG4gICAgW2VkZ2VzLmxlZnQgPyAnbGVmdCcgOiAncmlnaHQnLCBlZGdlcy50b3AgPyAndG9wJyA6ICdib3R0b20nXSxcbiAgXVxuXG4gIHJldHVybiBzbmFwU2l6ZS5zdGFydChhcmcpXG59XG5cbmNvbnN0IHNuYXBFZGdlczogTW9kaWZpZXJNb2R1bGU8U25hcEVkZ2VzT3B0aW9ucywgU25hcFN0YXRlLCBSZXR1cm5UeXBlPHR5cGVvZiBzbmFwU2l6ZS5zZXQ+PiA9IHtcbiAgc3RhcnQsXG4gIHNldDogc25hcFNpemUuc2V0LFxuICBkZWZhdWx0czogZXh0ZW5kKGNsb25lKHNuYXBTaXplLmRlZmF1bHRzKSwge1xuICAgIHRhcmdldHM6IHVuZGVmaW5lZCxcbiAgICByYW5nZTogdW5kZWZpbmVkLFxuICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gIH0gYXMgY29uc3QpLFxufVxuXG5leHBvcnQgZGVmYXVsdCBtYWtlTW9kaWZpZXIoc25hcEVkZ2VzLCAnc25hcEVkZ2VzJylcbmV4cG9ydCB7IHNuYXBFZGdlcyB9XG4iLCAiLyogZXNsaW50LWRpc2FibGUgbi9uby1leHRyYW5lb3VzLWltcG9ydCwgaW1wb3J0L25vLXVucmVzb2x2ZWQgKi9cbmltcG9ydCBhc3BlY3RSYXRpbyBmcm9tICcuL2FzcGVjdFJhdGlvJ1xuaW1wb3J0IGF2b2lkIGZyb20gJy4vYXZvaWQvYXZvaWQnXG5pbXBvcnQgcmVzdHJpY3RFZGdlcyBmcm9tICcuL3Jlc3RyaWN0L2VkZ2VzJ1xuaW1wb3J0IHJlc3RyaWN0IGZyb20gJy4vcmVzdHJpY3QvcG9pbnRlcidcbmltcG9ydCByZXN0cmljdFJlY3QgZnJvbSAnLi9yZXN0cmljdC9yZWN0J1xuaW1wb3J0IHJlc3RyaWN0U2l6ZSBmcm9tICcuL3Jlc3RyaWN0L3NpemUnXG5pbXBvcnQgcnViYmVyYmFuZCBmcm9tICcuL3J1YmJlcmJhbmQvcnViYmVyYmFuZCdcbmltcG9ydCBzbmFwRWRnZXMgZnJvbSAnLi9zbmFwL2VkZ2VzJ1xuaW1wb3J0IHNuYXAgZnJvbSAnLi9zbmFwL3BvaW50ZXInXG5pbXBvcnQgc25hcFNpemUgZnJvbSAnLi9zbmFwL3NpemUnXG5pbXBvcnQgc3ByaW5nIGZyb20gJy4vc3ByaW5nL3NwcmluZydcbmltcG9ydCB0cmFuc2Zvcm0gZnJvbSAnLi90cmFuc2Zvcm0vdHJhbnNmb3JtJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGFzcGVjdFJhdGlvLFxuICByZXN0cmljdEVkZ2VzLFxuICByZXN0cmljdCxcbiAgcmVzdHJpY3RSZWN0LFxuICByZXN0cmljdFNpemUsXG4gIHNuYXBFZGdlcyxcbiAgc25hcCxcbiAgc25hcFNpemUsXG5cbiAgc3ByaW5nLFxuICBhdm9pZCxcbiAgdHJhbnNmb3JtLFxuICBydWJiZXJiYW5kLFxufVxuIiwgImltcG9ydCB0eXBlIHsgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCBzbmFwcGVycyBmcm9tICdAaW50ZXJhY3Rqcy9zbmFwcGVycy9wbHVnaW4nXG5cbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzIC0tIGZvciB0eXBlc2NyaXB0IG1vZHVsZSBhdWdtZW50YXRpb25zICovXG5pbXBvcnQgJy4vYWxsJ1xuaW1wb3J0ICcuL2Jhc2UnXG5cbmltcG9ydCBhbGwgZnJvbSAnLi9hbGwnXG5pbXBvcnQgYmFzZSBmcm9tICcuL2Jhc2UnXG4vKiBlc2xpbnQtZW5hYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzICovXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0U3RhdGljJyB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgSW50ZXJhY3RTdGF0aWMge1xuICAgIG1vZGlmaWVyczogdHlwZW9mIGFsbFxuICB9XG59XG5cbmNvbnN0IG1vZGlmaWVyczogUGx1Z2luID0ge1xuICBpZDogJ21vZGlmaWVycycsXG4gIGluc3RhbGwoc2NvcGUpIHtcbiAgICBjb25zdCB7IGludGVyYWN0U3RhdGljOiBpbnRlcmFjdCB9ID0gc2NvcGVcblxuICAgIHNjb3BlLnVzZVBsdWdpbihiYXNlKVxuICAgIHNjb3BlLnVzZVBsdWdpbihzbmFwcGVycylcblxuICAgIGludGVyYWN0Lm1vZGlmaWVycyA9IGFsbFxuXG4gICAgLy8gZm9yIGJhY2t3cmFkcyBjb21wYXRpYmlsaXR5XG4gICAgZm9yIChjb25zdCB0eXBlIGluIGFsbCkge1xuICAgICAgY29uc3QgeyBfZGVmYXVsdHMsIF9tZXRob2RzIH0gPSBhbGxbdHlwZSBhcyBrZXlvZiB0eXBlb2YgYWxsXVxuXG4gICAgICA7KF9kZWZhdWx0cyBhcyBhbnkpLl9tZXRob2RzID0gX21ldGhvZHNcbiAgICAgIDsoc2NvcGUuZGVmYXVsdHMucGVyQWN0aW9uIGFzIGFueSlbdHlwZV0gPSBfZGVmYXVsdHNcbiAgICB9XG4gIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IG1vZGlmaWVyc1xuIiwgImltcG9ydCB7IEJhc2VFdmVudCB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvQmFzZUV2ZW50J1xuaW1wb3J0IHR5cGUgSW50ZXJhY3Rpb24gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgUG9pbnRlckV2ZW50VHlwZSwgUG9pbnRlclR5cGUsIFBvaW50IH0gZnJvbSAnQGludGVyYWN0anMvY29yZS90eXBlcydcbmltcG9ydCAqIGFzIHBvaW50ZXJVdGlscyBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9wb2ludGVyVXRpbHMnXG5cbmV4cG9ydCBjbGFzcyBQb2ludGVyRXZlbnQ8VCBleHRlbmRzIHN0cmluZyA9IGFueT4gZXh0ZW5kcyBCYXNlRXZlbnQ8bmV2ZXI+IHtcbiAgZGVjbGFyZSB0eXBlOiBUXG4gIGRlY2xhcmUgb3JpZ2luYWxFdmVudDogUG9pbnRlckV2ZW50VHlwZVxuICBkZWNsYXJlIHBvaW50ZXJJZDogbnVtYmVyXG4gIGRlY2xhcmUgcG9pbnRlclR5cGU6IHN0cmluZ1xuICBkZWNsYXJlIGRvdWJsZTogYm9vbGVhblxuICBkZWNsYXJlIHBhZ2VYOiBudW1iZXJcbiAgZGVjbGFyZSBwYWdlWTogbnVtYmVyXG4gIGRlY2xhcmUgY2xpZW50WDogbnVtYmVyXG4gIGRlY2xhcmUgY2xpZW50WTogbnVtYmVyXG4gIGRlY2xhcmUgZHQ6IG51bWJlclxuICBkZWNsYXJlIGV2ZW50YWJsZTogYW55O1xuICBba2V5OiBzdHJpbmddOiBhbnlcblxuICBjb25zdHJ1Y3RvcihcbiAgICB0eXBlOiBULFxuICAgIHBvaW50ZXI6IFBvaW50ZXJUeXBlIHwgUG9pbnRlckV2ZW50PGFueT4sXG4gICAgZXZlbnQ6IFBvaW50ZXJFdmVudFR5cGUsXG4gICAgZXZlbnRUYXJnZXQ6IE5vZGUsXG4gICAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPG5ldmVyPixcbiAgICB0aW1lU3RhbXA6IG51bWJlcixcbiAgKSB7XG4gICAgc3VwZXIoaW50ZXJhY3Rpb24pXG4gICAgcG9pbnRlclV0aWxzLnBvaW50ZXJFeHRlbmQodGhpcywgZXZlbnQpXG5cbiAgICBpZiAoZXZlbnQgIT09IHBvaW50ZXIpIHtcbiAgICAgIHBvaW50ZXJVdGlscy5wb2ludGVyRXh0ZW5kKHRoaXMsIHBvaW50ZXIpXG4gICAgfVxuXG4gICAgdGhpcy50aW1lU3RhbXAgPSB0aW1lU3RhbXBcbiAgICB0aGlzLm9yaWdpbmFsRXZlbnQgPSBldmVudFxuICAgIHRoaXMudHlwZSA9IHR5cGVcbiAgICB0aGlzLnBvaW50ZXJJZCA9IHBvaW50ZXJVdGlscy5nZXRQb2ludGVySWQocG9pbnRlcilcbiAgICB0aGlzLnBvaW50ZXJUeXBlID0gcG9pbnRlclV0aWxzLmdldFBvaW50ZXJUeXBlKHBvaW50ZXIpXG4gICAgdGhpcy50YXJnZXQgPSBldmVudFRhcmdldFxuICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGxcblxuICAgIGlmICh0eXBlID09PSAndGFwJykge1xuICAgICAgY29uc3QgcG9pbnRlckluZGV4ID0gaW50ZXJhY3Rpb24uZ2V0UG9pbnRlckluZGV4KHBvaW50ZXIpXG4gICAgICB0aGlzLmR0ID0gdGhpcy50aW1lU3RhbXAgLSBpbnRlcmFjdGlvbi5wb2ludGVyc1twb2ludGVySW5kZXhdLmRvd25UaW1lXG5cbiAgICAgIGNvbnN0IGludGVydmFsID0gdGhpcy50aW1lU3RhbXAgLSBpbnRlcmFjdGlvbi50YXBUaW1lXG5cbiAgICAgIHRoaXMuZG91YmxlID1cbiAgICAgICAgISFpbnRlcmFjdGlvbi5wcmV2VGFwICYmXG4gICAgICAgIGludGVyYWN0aW9uLnByZXZUYXAudHlwZSAhPT0gJ2RvdWJsZXRhcCcgJiZcbiAgICAgICAgaW50ZXJhY3Rpb24ucHJldlRhcC50YXJnZXQgPT09IHRoaXMudGFyZ2V0ICYmXG4gICAgICAgIGludGVydmFsIDwgNTAwXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnZG91YmxldGFwJykge1xuICAgICAgdGhpcy5kdCA9IChwb2ludGVyIGFzIFBvaW50ZXJFdmVudDwndGFwJz4pLnRpbWVTdGFtcCAtIGludGVyYWN0aW9uLnRhcFRpbWVcbiAgICAgIHRoaXMuZG91YmxlID0gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIF9zdWJ0cmFjdE9yaWdpbih7IHg6IG9yaWdpblgsIHk6IG9yaWdpblkgfTogUG9pbnQpIHtcbiAgICB0aGlzLnBhZ2VYIC09IG9yaWdpblhcbiAgICB0aGlzLnBhZ2VZIC09IG9yaWdpbllcbiAgICB0aGlzLmNsaWVudFggLT0gb3JpZ2luWFxuICAgIHRoaXMuY2xpZW50WSAtPSBvcmlnaW5ZXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgX2FkZE9yaWdpbih7IHg6IG9yaWdpblgsIHk6IG9yaWdpblkgfTogUG9pbnQpIHtcbiAgICB0aGlzLnBhZ2VYICs9IG9yaWdpblhcbiAgICB0aGlzLnBhZ2VZICs9IG9yaWdpbllcbiAgICB0aGlzLmNsaWVudFggKz0gb3JpZ2luWFxuICAgIHRoaXMuY2xpZW50WSArPSBvcmlnaW5ZXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFByZXZlbnQgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIHRoZSBvcmlnaW5hbCBFdmVudFxuICAgKi9cbiAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgfVxufVxuIiwgImltcG9ydCB0eXBlIHsgRXZlbnRhYmxlIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9FdmVudGFibGUnXG5pbXBvcnQgdHlwZSB7IEludGVyYWN0aW9uIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbidcbmltcG9ydCB0eXBlIHsgUGVyQWN0aW9uRGVmYXVsdHMgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL29wdGlvbnMnXG5pbXBvcnQgdHlwZSB7IFNjb3BlLCBTaWduYWxBcmdzLCBQbHVnaW4gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJ1xuaW1wb3J0IHR5cGUgeyBQb2ludCwgUG9pbnRlclR5cGUsIFBvaW50ZXJFdmVudFR5cGUsIEVsZW1lbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0ICogYXMgZG9tVXRpbHMgZnJvbSAnQGludGVyYWN0anMvdXRpbHMvZG9tVXRpbHMnXG5pbXBvcnQgZXh0ZW5kIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2V4dGVuZCdcbmltcG9ydCBnZXRPcmlnaW5YWSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9nZXRPcmlnaW5YWSdcblxuaW1wb3J0IHsgUG9pbnRlckV2ZW50IH0gZnJvbSAnLi9Qb2ludGVyRXZlbnQnXG5cbmV4cG9ydCB0eXBlIEV2ZW50VGFyZ2V0TGlzdCA9IEFycmF5PHtcbiAgbm9kZTogTm9kZVxuICBldmVudGFibGU6IEV2ZW50YWJsZVxuICBwcm9wczogeyBba2V5OiBzdHJpbmddOiBhbnkgfVxufT5cblxuZXhwb3J0IGludGVyZmFjZSBQb2ludGVyRXZlbnRPcHRpb25zIGV4dGVuZHMgUGVyQWN0aW9uRGVmYXVsdHMge1xuICBlbmFibGVkPzogdW5kZWZpbmVkIC8vIG5vdCB1c2VkXG4gIGhvbGREdXJhdGlvbj86IG51bWJlclxuICBpZ25vcmVGcm9tPzogYW55XG4gIGFsbG93RnJvbT86IGFueVxuICBvcmlnaW4/OiBQb2ludCB8IHN0cmluZyB8IEVsZW1lbnRcbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnIHtcbiAgaW50ZXJmYWNlIFNjb3BlIHtcbiAgICBwb2ludGVyRXZlbnRzOiB0eXBlb2YgcG9pbnRlckV2ZW50c1xuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJyB7XG4gIGludGVyZmFjZSBJbnRlcmFjdGlvbiB7XG4gICAgcHJldlRhcD86IFBvaW50ZXJFdmVudDxzdHJpbmc+XG4gICAgdGFwVGltZT86IG51bWJlclxuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL1BvaW50ZXJJbmZvJyB7XG4gIGludGVyZmFjZSBQb2ludGVySW5mbyB7XG4gICAgaG9sZD86IHtcbiAgICAgIGR1cmF0aW9uOiBudW1iZXJcbiAgICAgIHRpbWVvdXQ6IGFueVxuICAgIH1cbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9vcHRpb25zJyB7XG4gIGludGVyZmFjZSBBY3Rpb25EZWZhdWx0cyB7XG4gICAgcG9pbnRlckV2ZW50czogT3B0aW9uc1xuICB9XG59XG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL3Njb3BlJyB7XG4gIGludGVyZmFjZSBTaWduYWxBcmdzIHtcbiAgICAncG9pbnRlckV2ZW50czpuZXcnOiB7IHBvaW50ZXJFdmVudDogUG9pbnRlckV2ZW50PGFueT4gfVxuICAgICdwb2ludGVyRXZlbnRzOmZpcmVkJzoge1xuICAgICAgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uPG51bGw+XG4gICAgICBwb2ludGVyOiBQb2ludGVyVHlwZSB8IFBvaW50ZXJFdmVudDxhbnk+XG4gICAgICBldmVudDogUG9pbnRlckV2ZW50VHlwZSB8IFBvaW50ZXJFdmVudDxhbnk+XG4gICAgICBldmVudFRhcmdldDogTm9kZVxuICAgICAgcG9pbnRlckV2ZW50OiBQb2ludGVyRXZlbnQ8YW55PlxuICAgICAgdGFyZ2V0cz86IEV2ZW50VGFyZ2V0TGlzdFxuICAgICAgdHlwZTogc3RyaW5nXG4gICAgfVxuICAgICdwb2ludGVyRXZlbnRzOmNvbGxlY3QtdGFyZ2V0cyc6IHtcbiAgICAgIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxhbnk+XG4gICAgICBwb2ludGVyOiBQb2ludGVyVHlwZSB8IFBvaW50ZXJFdmVudDxhbnk+XG4gICAgICBldmVudDogUG9pbnRlckV2ZW50VHlwZSB8IFBvaW50ZXJFdmVudDxhbnk+XG4gICAgICBldmVudFRhcmdldDogTm9kZVxuICAgICAgdGFyZ2V0cz86IEV2ZW50VGFyZ2V0TGlzdFxuICAgICAgdHlwZTogc3RyaW5nXG4gICAgICBwYXRoOiBOb2RlW11cbiAgICAgIG5vZGU6IG51bGxcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgZGVmYXVsdHM6IFBvaW50ZXJFdmVudE9wdGlvbnMgPSB7XG4gIGhvbGREdXJhdGlvbjogNjAwLFxuICBpZ25vcmVGcm9tOiBudWxsLFxuICBhbGxvd0Zyb206IG51bGwsXG4gIG9yaWdpbjogeyB4OiAwLCB5OiAwIH0sXG59XG5cbmNvbnN0IHBvaW50ZXJFdmVudHM6IFBsdWdpbiA9IHtcbiAgaWQ6ICdwb2ludGVyLWV2ZW50cy9iYXNlJyxcbiAgYmVmb3JlOiBbJ2luZXJ0aWEnLCAnbW9kaWZpZXJzJywgJ2F1dG8tc3RhcnQnLCAnYWN0aW9ucyddLFxuICBpbnN0YWxsLFxuICBsaXN0ZW5lcnM6IHtcbiAgICAnaW50ZXJhY3Rpb25zOm5ldyc6IGFkZEludGVyYWN0aW9uUHJvcHMsXG4gICAgJ2ludGVyYWN0aW9uczp1cGRhdGUtcG9pbnRlcic6IGFkZEhvbGRJbmZvLFxuICAgICdpbnRlcmFjdGlvbnM6bW92ZSc6IG1vdmVBbmRDbGVhckhvbGQsXG4gICAgJ2ludGVyYWN0aW9uczpkb3duJzogKGFyZywgc2NvcGUpID0+IHtcbiAgICAgIGRvd25BbmRTdGFydEhvbGQoYXJnLCBzY29wZSlcbiAgICAgIGZpcmUoYXJnLCBzY29wZSlcbiAgICB9LFxuICAgICdpbnRlcmFjdGlvbnM6dXAnOiAoYXJnLCBzY29wZSkgPT4ge1xuICAgICAgY2xlYXJIb2xkKGFyZylcbiAgICAgIGZpcmUoYXJnLCBzY29wZSlcbiAgICAgIHRhcEFmdGVyVXAoYXJnLCBzY29wZSlcbiAgICB9LFxuICAgICdpbnRlcmFjdGlvbnM6Y2FuY2VsJzogKGFyZywgc2NvcGUpID0+IHtcbiAgICAgIGNsZWFySG9sZChhcmcpXG4gICAgICBmaXJlKGFyZywgc2NvcGUpXG4gICAgfSxcbiAgfSxcbiAgUG9pbnRlckV2ZW50LFxuICBmaXJlLFxuICBjb2xsZWN0RXZlbnRUYXJnZXRzLFxuICBkZWZhdWx0cyxcbiAgdHlwZXM6IHtcbiAgICBkb3duOiB0cnVlLFxuICAgIG1vdmU6IHRydWUsXG4gICAgdXA6IHRydWUsXG4gICAgY2FuY2VsOiB0cnVlLFxuICAgIHRhcDogdHJ1ZSxcbiAgICBkb3VibGV0YXA6IHRydWUsXG4gICAgaG9sZDogdHJ1ZSxcbiAgfSBhcyB7IFt0eXBlOiBzdHJpbmddOiB0cnVlIH0sXG59XG5cbmZ1bmN0aW9uIGZpcmU8VCBleHRlbmRzIHN0cmluZz4oXG4gIGFyZzoge1xuICAgIHBvaW50ZXI6IFBvaW50ZXJUeXBlIHwgUG9pbnRlckV2ZW50PGFueT5cbiAgICBldmVudDogUG9pbnRlckV2ZW50VHlwZSB8IFBvaW50ZXJFdmVudDxhbnk+XG4gICAgZXZlbnRUYXJnZXQ6IE5vZGVcbiAgICBpbnRlcmFjdGlvbjogSW50ZXJhY3Rpb248bmV2ZXI+XG4gICAgdHlwZTogVFxuICAgIHRhcmdldHM/OiBFdmVudFRhcmdldExpc3RcbiAgfSxcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGNvbnN0IHsgaW50ZXJhY3Rpb24sIHBvaW50ZXIsIGV2ZW50LCBldmVudFRhcmdldCwgdHlwZSwgdGFyZ2V0cyA9IGNvbGxlY3RFdmVudFRhcmdldHMoYXJnLCBzY29wZSkgfSA9IGFyZ1xuXG4gIGNvbnN0IHBvaW50ZXJFdmVudCA9IG5ldyBQb2ludGVyRXZlbnQodHlwZSwgcG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0LCBpbnRlcmFjdGlvbiwgc2NvcGUubm93KCkpXG5cbiAgc2NvcGUuZmlyZSgncG9pbnRlckV2ZW50czpuZXcnLCB7IHBvaW50ZXJFdmVudCB9KVxuXG4gIGNvbnN0IHNpZ25hbEFyZyA9IHtcbiAgICBpbnRlcmFjdGlvbixcbiAgICBwb2ludGVyLFxuICAgIGV2ZW50LFxuICAgIGV2ZW50VGFyZ2V0LFxuICAgIHRhcmdldHMsXG4gICAgdHlwZSxcbiAgICBwb2ludGVyRXZlbnQsXG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRhcmdldHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB0YXJnZXQgPSB0YXJnZXRzW2ldXG5cbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gdGFyZ2V0LnByb3BzIHx8IHt9KSB7XG4gICAgICA7KHBvaW50ZXJFdmVudCBhcyBhbnkpW3Byb3BdID0gdGFyZ2V0LnByb3BzW3Byb3BdXG4gICAgfVxuXG4gICAgY29uc3Qgb3JpZ2luID0gZ2V0T3JpZ2luWFkodGFyZ2V0LmV2ZW50YWJsZSwgdGFyZ2V0Lm5vZGUpXG5cbiAgICBwb2ludGVyRXZlbnQuX3N1YnRyYWN0T3JpZ2luKG9yaWdpbilcbiAgICBwb2ludGVyRXZlbnQuZXZlbnRhYmxlID0gdGFyZ2V0LmV2ZW50YWJsZVxuICAgIHBvaW50ZXJFdmVudC5jdXJyZW50VGFyZ2V0ID0gdGFyZ2V0Lm5vZGVcblxuICAgIHRhcmdldC5ldmVudGFibGUuZmlyZShwb2ludGVyRXZlbnQpXG5cbiAgICBwb2ludGVyRXZlbnQuX2FkZE9yaWdpbihvcmlnaW4pXG5cbiAgICBpZiAoXG4gICAgICBwb2ludGVyRXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkIHx8XG4gICAgICAocG9pbnRlckV2ZW50LnByb3BhZ2F0aW9uU3RvcHBlZCAmJlxuICAgICAgICBpICsgMSA8IHRhcmdldHMubGVuZ3RoICYmXG4gICAgICAgIHRhcmdldHNbaSArIDFdLm5vZGUgIT09IHBvaW50ZXJFdmVudC5jdXJyZW50VGFyZ2V0KVxuICAgICkge1xuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBzY29wZS5maXJlKCdwb2ludGVyRXZlbnRzOmZpcmVkJywgc2lnbmFsQXJnKVxuXG4gIGlmICh0eXBlID09PSAndGFwJykge1xuICAgIC8vIGlmIHBvaW50ZXJFdmVudCBzaG91bGQgbWFrZSBhIGRvdWJsZSB0YXAsIGNyZWF0ZSBhbmQgZmlyZSBhIGRvdWJsZXRhcFxuICAgIC8vIFBvaW50ZXJFdmVudCBhbmQgdXNlIHRoYXQgYXMgdGhlIHByZXZUYXBcbiAgICBjb25zdCBwcmV2VGFwID0gcG9pbnRlckV2ZW50LmRvdWJsZVxuICAgICAgPyBmaXJlKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uLFxuICAgICAgICAgICAgcG9pbnRlcixcbiAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgZXZlbnRUYXJnZXQsXG4gICAgICAgICAgICB0eXBlOiAnZG91YmxldGFwJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNjb3BlLFxuICAgICAgICApXG4gICAgICA6IHBvaW50ZXJFdmVudFxuXG4gICAgaW50ZXJhY3Rpb24ucHJldlRhcCA9IHByZXZUYXBcbiAgICBpbnRlcmFjdGlvbi50YXBUaW1lID0gcHJldlRhcC50aW1lU3RhbXBcbiAgfVxuXG4gIHJldHVybiBwb2ludGVyRXZlbnRcbn1cblxuZnVuY3Rpb24gY29sbGVjdEV2ZW50VGFyZ2V0czxUIGV4dGVuZHMgc3RyaW5nPihcbiAge1xuICAgIGludGVyYWN0aW9uLFxuICAgIHBvaW50ZXIsXG4gICAgZXZlbnQsXG4gICAgZXZlbnRUYXJnZXQsXG4gICAgdHlwZSxcbiAgfToge1xuICAgIGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbjxhbnk+XG4gICAgcG9pbnRlcjogUG9pbnRlclR5cGUgfCBQb2ludGVyRXZlbnQ8YW55PlxuICAgIGV2ZW50OiBQb2ludGVyRXZlbnRUeXBlIHwgUG9pbnRlckV2ZW50PGFueT5cbiAgICBldmVudFRhcmdldDogTm9kZVxuICAgIHR5cGU6IFRcbiAgfSxcbiAgc2NvcGU6IFNjb3BlLFxuKSB7XG4gIGNvbnN0IHBvaW50ZXJJbmRleCA9IGludGVyYWN0aW9uLmdldFBvaW50ZXJJbmRleChwb2ludGVyKVxuICBjb25zdCBwb2ludGVySW5mbyA9IGludGVyYWN0aW9uLnBvaW50ZXJzW3BvaW50ZXJJbmRleF1cblxuICAvLyBkbyBub3QgZmlyZSBhIHRhcCBldmVudCBpZiB0aGUgcG9pbnRlciB3YXMgbW92ZWQgYmVmb3JlIGJlaW5nIGxpZnRlZFxuICBpZiAoXG4gICAgdHlwZSA9PT0gJ3RhcCcgJiZcbiAgICAoaW50ZXJhY3Rpb24ucG9pbnRlcldhc01vdmVkIHx8XG4gICAgICAvLyBvciBpZiB0aGUgcG9pbnRlcnVwIHRhcmdldCBpcyBkaWZmZXJlbnQgdG8gdGhlIHBvaW50ZXJkb3duIHRhcmdldFxuICAgICAgIShwb2ludGVySW5mbyAmJiBwb2ludGVySW5mby5kb3duVGFyZ2V0ID09PSBldmVudFRhcmdldCkpXG4gICkge1xuICAgIHJldHVybiBbXVxuICB9XG5cbiAgY29uc3QgcGF0aCA9IGRvbVV0aWxzLmdldFBhdGgoZXZlbnRUYXJnZXQgYXMgRWxlbWVudCB8IERvY3VtZW50KVxuICBjb25zdCBzaWduYWxBcmcgPSB7XG4gICAgaW50ZXJhY3Rpb24sXG4gICAgcG9pbnRlcixcbiAgICBldmVudCxcbiAgICBldmVudFRhcmdldCxcbiAgICB0eXBlLFxuICAgIHBhdGgsXG4gICAgdGFyZ2V0czogW10gYXMgRXZlbnRUYXJnZXRMaXN0LFxuICAgIG5vZGU6IG51bGwsXG4gIH1cblxuICBmb3IgKGNvbnN0IG5vZGUgb2YgcGF0aCkge1xuICAgIHNpZ25hbEFyZy5ub2RlID0gbm9kZVxuXG4gICAgc2NvcGUuZmlyZSgncG9pbnRlckV2ZW50czpjb2xsZWN0LXRhcmdldHMnLCBzaWduYWxBcmcpXG4gIH1cblxuICBpZiAodHlwZSA9PT0gJ2hvbGQnKSB7XG4gICAgc2lnbmFsQXJnLnRhcmdldHMgPSBzaWduYWxBcmcudGFyZ2V0cy5maWx0ZXIoXG4gICAgICAodGFyZ2V0KSA9PlxuICAgICAgICB0YXJnZXQuZXZlbnRhYmxlLm9wdGlvbnMuaG9sZER1cmF0aW9uID09PSBpbnRlcmFjdGlvbi5wb2ludGVyc1twb2ludGVySW5kZXhdPy5ob2xkPy5kdXJhdGlvbixcbiAgICApXG4gIH1cblxuICByZXR1cm4gc2lnbmFsQXJnLnRhcmdldHNcbn1cblxuZnVuY3Rpb24gYWRkSW50ZXJhY3Rpb25Qcm9wcyh7IGludGVyYWN0aW9uIH0pIHtcbiAgaW50ZXJhY3Rpb24ucHJldlRhcCA9IG51bGwgLy8gdGhlIG1vc3QgcmVjZW50IHRhcCBldmVudCBvbiB0aGlzIGludGVyYWN0aW9uXG4gIGludGVyYWN0aW9uLnRhcFRpbWUgPSAwIC8vIHRpbWUgb2YgdGhlIG1vc3QgcmVjZW50IHRhcCBldmVudFxufVxuXG5mdW5jdGlvbiBhZGRIb2xkSW5mbyh7IGRvd24sIHBvaW50ZXJJbmZvIH06IFNpZ25hbEFyZ3NbJ2ludGVyYWN0aW9uczp1cGRhdGUtcG9pbnRlciddKSB7XG4gIGlmICghZG93biAmJiBwb2ludGVySW5mby5ob2xkKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBwb2ludGVySW5mby5ob2xkID0geyBkdXJhdGlvbjogSW5maW5pdHksIHRpbWVvdXQ6IG51bGwgfVxufVxuXG5mdW5jdGlvbiBjbGVhckhvbGQoeyBpbnRlcmFjdGlvbiwgcG9pbnRlckluZGV4IH0pIHtcbiAgY29uc3QgaG9sZCA9IGludGVyYWN0aW9uLnBvaW50ZXJzW3BvaW50ZXJJbmRleF0uaG9sZFxuXG4gIGlmIChob2xkICYmIGhvbGQudGltZW91dCkge1xuICAgIGNsZWFyVGltZW91dChob2xkLnRpbWVvdXQpXG4gICAgaG9sZC50aW1lb3V0ID0gbnVsbFxuICB9XG59XG5cbmZ1bmN0aW9uIG1vdmVBbmRDbGVhckhvbGQoYXJnOiBTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6bW92ZSddLCBzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBpbnRlcmFjdGlvbiwgcG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0LCBkdXBsaWNhdGUgfSA9IGFyZ1xuXG4gIGlmICghZHVwbGljYXRlICYmICghaW50ZXJhY3Rpb24ucG9pbnRlcklzRG93biB8fCBpbnRlcmFjdGlvbi5wb2ludGVyV2FzTW92ZWQpKSB7XG4gICAgaWYgKGludGVyYWN0aW9uLnBvaW50ZXJJc0Rvd24pIHtcbiAgICAgIGNsZWFySG9sZChhcmcpXG4gICAgfVxuXG4gICAgZmlyZShcbiAgICAgIHtcbiAgICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICAgIHBvaW50ZXIsXG4gICAgICAgIGV2ZW50LFxuICAgICAgICBldmVudFRhcmdldDogZXZlbnRUYXJnZXQgYXMgRWxlbWVudCxcbiAgICAgICAgdHlwZTogJ21vdmUnLFxuICAgICAgfSxcbiAgICAgIHNjb3BlLFxuICAgIClcbiAgfVxufVxuXG5mdW5jdGlvbiBkb3duQW5kU3RhcnRIb2xkKFxuICB7IGludGVyYWN0aW9uLCBwb2ludGVyLCBldmVudCwgZXZlbnRUYXJnZXQsIHBvaW50ZXJJbmRleCB9OiBTaWduYWxBcmdzWydpbnRlcmFjdGlvbnM6ZG93biddLFxuICBzY29wZTogU2NvcGUsXG4pIHtcbiAgY29uc3QgdGltZXIgPSBpbnRlcmFjdGlvbi5wb2ludGVyc1twb2ludGVySW5kZXhdLmhvbGQhXG4gIGNvbnN0IHBhdGggPSBkb21VdGlscy5nZXRQYXRoKGV2ZW50VGFyZ2V0IGFzIEVsZW1lbnQgfCBEb2N1bWVudClcbiAgY29uc3Qgc2lnbmFsQXJnID0ge1xuICAgIGludGVyYWN0aW9uLFxuICAgIHBvaW50ZXIsXG4gICAgZXZlbnQsXG4gICAgZXZlbnRUYXJnZXQsXG4gICAgdHlwZTogJ2hvbGQnLFxuICAgIHRhcmdldHM6IFtdIGFzIEV2ZW50VGFyZ2V0TGlzdCxcbiAgICBwYXRoLFxuICAgIG5vZGU6IG51bGwsXG4gIH1cblxuICBmb3IgKGNvbnN0IG5vZGUgb2YgcGF0aCkge1xuICAgIHNpZ25hbEFyZy5ub2RlID0gbm9kZVxuXG4gICAgc2NvcGUuZmlyZSgncG9pbnRlckV2ZW50czpjb2xsZWN0LXRhcmdldHMnLCBzaWduYWxBcmcpXG4gIH1cblxuICBpZiAoIXNpZ25hbEFyZy50YXJnZXRzLmxlbmd0aCkgcmV0dXJuXG5cbiAgbGV0IG1pbkR1cmF0aW9uID0gSW5maW5pdHlcblxuICBmb3IgKGNvbnN0IHRhcmdldCBvZiBzaWduYWxBcmcudGFyZ2V0cykge1xuICAgIGNvbnN0IGhvbGREdXJhdGlvbiA9IHRhcmdldC5ldmVudGFibGUub3B0aW9ucy5ob2xkRHVyYXRpb25cblxuICAgIGlmIChob2xkRHVyYXRpb24gPCBtaW5EdXJhdGlvbikge1xuICAgICAgbWluRHVyYXRpb24gPSBob2xkRHVyYXRpb25cbiAgICB9XG4gIH1cblxuICB0aW1lci5kdXJhdGlvbiA9IG1pbkR1cmF0aW9uXG4gIHRpbWVyLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBmaXJlKFxuICAgICAge1xuICAgICAgICBpbnRlcmFjdGlvbixcbiAgICAgICAgZXZlbnRUYXJnZXQsXG4gICAgICAgIHBvaW50ZXIsXG4gICAgICAgIGV2ZW50LFxuICAgICAgICB0eXBlOiAnaG9sZCcsXG4gICAgICB9LFxuICAgICAgc2NvcGUsXG4gICAgKVxuICB9LCBtaW5EdXJhdGlvbilcbn1cblxuZnVuY3Rpb24gdGFwQWZ0ZXJVcChcbiAgeyBpbnRlcmFjdGlvbiwgcG9pbnRlciwgZXZlbnQsIGV2ZW50VGFyZ2V0IH06IFNpZ25hbEFyZ3NbJ2ludGVyYWN0aW9uczp1cCddLFxuICBzY29wZTogU2NvcGUsXG4pIHtcbiAgaWYgKCFpbnRlcmFjdGlvbi5wb2ludGVyV2FzTW92ZWQpIHtcbiAgICBmaXJlKHsgaW50ZXJhY3Rpb24sIGV2ZW50VGFyZ2V0LCBwb2ludGVyLCBldmVudCwgdHlwZTogJ3RhcCcgfSwgc2NvcGUpXG4gIH1cbn1cblxuZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgc2NvcGUucG9pbnRlckV2ZW50cyA9IHBvaW50ZXJFdmVudHNcbiAgc2NvcGUuZGVmYXVsdHMuYWN0aW9ucy5wb2ludGVyRXZlbnRzID0gcG9pbnRlckV2ZW50cy5kZWZhdWx0c1xuICBleHRlbmQoc2NvcGUuYWN0aW9ucy5waGFzZWxlc3NUeXBlcywgcG9pbnRlckV2ZW50cy50eXBlcylcbn1cblxuZXhwb3J0IGRlZmF1bHQgcG9pbnRlckV2ZW50c1xuIiwgImltcG9ydCB0eXBlIEludGVyYWN0aW9uIGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nXG5pbXBvcnQgdHlwZSB7IExpc3RlbmVyTWFwLCBTY29wZSwgU2lnbmFsQXJncywgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcblxuLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWR1cGxpY2F0ZXMgLS0gZm9yIHR5cGVzY3JpcHQgbW9kdWxlIGF1Z21lbnRhdGlvbnMgKi9cbmltcG9ydCAnLi9iYXNlJ1xuaW1wb3J0IGJhc2VQbHVnaW4gZnJvbSAnLi9iYXNlJ1xuLyogZXNsaW50LWVuYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAqL1xuaW1wb3J0IHsgdHlwZSBQb2ludGVyRXZlbnQgfSBmcm9tICcuL1BvaW50ZXJFdmVudCdcblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL2NvcmUvSW50ZXJhY3Rpb24nIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0aW9uIHtcbiAgICBob2xkSW50ZXJ2YWxIYW5kbGU/OiBhbnlcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvcG9pbnRlci1ldmVudHMvUG9pbnRlckV2ZW50JyB7XG4gIGludGVyZmFjZSBQb2ludGVyRXZlbnQ8VCBleHRlbmRzIHN0cmluZyA9IGFueT4ge1xuICAgIGNvdW50PzogbnVtYmVyXG4gIH1cbn1cblxuZGVjbGFyZSBtb2R1bGUgJ0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL2Jhc2UnIHtcbiAgaW50ZXJmYWNlIFBvaW50ZXJFdmVudE9wdGlvbnMge1xuICAgIGhvbGRSZXBlYXRJbnRlcnZhbD86IG51bWJlclxuICB9XG59XG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIHNjb3BlLnVzZVBsdWdpbihiYXNlUGx1Z2luKVxuXG4gIGNvbnN0IHsgcG9pbnRlckV2ZW50cyB9ID0gc2NvcGVcblxuICAvLyBkb24ndCByZXBlYXQgYnkgZGVmYXVsdFxuICBwb2ludGVyRXZlbnRzLmRlZmF1bHRzLmhvbGRSZXBlYXRJbnRlcnZhbCA9IDBcbiAgcG9pbnRlckV2ZW50cy50eXBlcy5ob2xkcmVwZWF0ID0gc2NvcGUuYWN0aW9ucy5waGFzZWxlc3NUeXBlcy5ob2xkcmVwZWF0ID0gdHJ1ZVxufVxuXG5mdW5jdGlvbiBvbk5ldyh7IHBvaW50ZXJFdmVudCB9OiB7IHBvaW50ZXJFdmVudDogUG9pbnRlckV2ZW50PGFueT4gfSkge1xuICBpZiAocG9pbnRlckV2ZW50LnR5cGUgIT09ICdob2xkJykgcmV0dXJuXG5cbiAgcG9pbnRlckV2ZW50LmNvdW50ID0gKHBvaW50ZXJFdmVudC5jb3VudCB8fCAwKSArIDFcbn1cblxuZnVuY3Rpb24gb25GaXJlZChcbiAgeyBpbnRlcmFjdGlvbiwgcG9pbnRlckV2ZW50LCBldmVudFRhcmdldCwgdGFyZ2V0cyB9OiBTaWduYWxBcmdzWydwb2ludGVyRXZlbnRzOmZpcmVkJ10sXG4gIHNjb3BlOiBTY29wZSxcbikge1xuICBpZiAocG9pbnRlckV2ZW50LnR5cGUgIT09ICdob2xkJyB8fCAhdGFyZ2V0cy5sZW5ndGgpIHJldHVyblxuXG4gIC8vIGdldCB0aGUgcmVwZWF0IGludGVydmFsIGZyb20gdGhlIGZpcnN0IGV2ZW50YWJsZVxuICBjb25zdCBpbnRlcnZhbCA9IHRhcmdldHNbMF0uZXZlbnRhYmxlLm9wdGlvbnMuaG9sZFJlcGVhdEludGVydmFsXG5cbiAgLy8gZG9uJ3QgcmVwZWF0IGlmIHRoZSBpbnRlcnZhbCBpcyAwIG9yIGxlc3NcbiAgaWYgKGludGVydmFsIDw9IDApIHJldHVyblxuXG4gIC8vIHNldCBhIHRpbWVvdXQgdG8gZmlyZSB0aGUgaG9sZHJlcGVhdCBldmVudFxuICBpbnRlcmFjdGlvbi5ob2xkSW50ZXJ2YWxIYW5kbGUgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBzY29wZS5wb2ludGVyRXZlbnRzLmZpcmUoXG4gICAgICB7XG4gICAgICAgIGludGVyYWN0aW9uLFxuICAgICAgICBldmVudFRhcmdldCxcbiAgICAgICAgdHlwZTogJ2hvbGQnLFxuICAgICAgICBwb2ludGVyOiBwb2ludGVyRXZlbnQsXG4gICAgICAgIGV2ZW50OiBwb2ludGVyRXZlbnQsXG4gICAgICB9LFxuICAgICAgc2NvcGUsXG4gICAgKVxuICB9LCBpbnRlcnZhbClcbn1cblxuZnVuY3Rpb24gZW5kSG9sZFJlcGVhdCh7IGludGVyYWN0aW9uIH06IHsgaW50ZXJhY3Rpb246IEludGVyYWN0aW9uIH0pIHtcbiAgLy8gc2V0IHRoZSBpbnRlcmFjdGlvbidzIGhvbGRTdG9wVGltZSBwcm9wZXJ0eVxuICAvLyB0byBzdG9wIGZ1cnRoZXIgaG9sZFJlcGVhdCBldmVudHNcbiAgaWYgKGludGVyYWN0aW9uLmhvbGRJbnRlcnZhbEhhbmRsZSkge1xuICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJhY3Rpb24uaG9sZEludGVydmFsSGFuZGxlKVxuICAgIGludGVyYWN0aW9uLmhvbGRJbnRlcnZhbEhhbmRsZSA9IG51bGxcbiAgfVxufVxuXG5jb25zdCBob2xkUmVwZWF0OiBQbHVnaW4gPSB7XG4gIGlkOiAncG9pbnRlci1ldmVudHMvaG9sZFJlcGVhdCcsXG4gIGluc3RhbGwsXG4gIGxpc3RlbmVyczogWydtb3ZlJywgJ3VwJywgJ2NhbmNlbCcsICdlbmRhbGwnXS5yZWR1Y2UoXG4gICAgKGFjYywgZW5kZXJUeXBlcykgPT4ge1xuICAgICAgOyhhY2MgYXMgYW55KVtgcG9pbnRlckV2ZW50czoke2VuZGVyVHlwZXN9YF0gPSBlbmRIb2xkUmVwZWF0XG4gICAgICByZXR1cm4gYWNjXG4gICAgfSxcbiAgICB7XG4gICAgICAncG9pbnRlckV2ZW50czpuZXcnOiBvbk5ldyxcbiAgICAgICdwb2ludGVyRXZlbnRzOmZpcmVkJzogb25GaXJlZCxcbiAgICB9IGFzIExpc3RlbmVyTWFwLFxuICApLFxufVxuXG5leHBvcnQgZGVmYXVsdCBob2xkUmVwZWF0XG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIHsgU2NvcGUsIFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5pbXBvcnQgdHlwZSB7IEVsZW1lbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0IGV4dGVuZCBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9leHRlbmQnXG5cbmltcG9ydCB0eXBlIHsgUG9pbnRlckV2ZW50T3B0aW9ucyB9IGZyb20gJ0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL2Jhc2UnXG5cbmRlY2xhcmUgbW9kdWxlICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZScge1xuICBpbnRlcmZhY2UgSW50ZXJhY3RhYmxlIHtcbiAgICBwb2ludGVyRXZlbnRzKG9wdGlvbnM6IFBhcnRpYWw8UG9pbnRlckV2ZW50T3B0aW9ucz4pOiB0aGlzXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9fYmFja0NvbXBhdE9wdGlvbjogKG9wdGlvbk5hbWU6IHN0cmluZywgbmV3VmFsdWU6IGFueSkgPT4gYW55XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5zdGFsbChzY29wZTogU2NvcGUpIHtcbiAgY29uc3QgeyBJbnRlcmFjdGFibGUgfSA9IHNjb3BlXG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5wb2ludGVyRXZlbnRzID0gZnVuY3Rpb24gKFxuICAgIHRoaXM6IEludGVyYWN0YWJsZSxcbiAgICBvcHRpb25zOiBQYXJ0aWFsPFBvaW50ZXJFdmVudE9wdGlvbnM+LFxuICApIHtcbiAgICBleHRlbmQodGhpcy5ldmVudHMub3B0aW9ucywgb3B0aW9ucylcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBjb25zdCBfX2JhY2tDb21wYXRPcHRpb24gPSBJbnRlcmFjdGFibGUucHJvdG90eXBlLl9iYWNrQ29tcGF0T3B0aW9uXG5cbiAgSW50ZXJhY3RhYmxlLnByb3RvdHlwZS5fYmFja0NvbXBhdE9wdGlvbiA9IGZ1bmN0aW9uIChvcHRpb25OYW1lLCBuZXdWYWx1ZSkge1xuICAgIGNvbnN0IHJldCA9IF9fYmFja0NvbXBhdE9wdGlvbi5jYWxsKHRoaXMsIG9wdGlvbk5hbWUsIG5ld1ZhbHVlKVxuXG4gICAgaWYgKHJldCA9PT0gdGhpcykge1xuICAgICAgdGhpcy5ldmVudHMub3B0aW9uc1tvcHRpb25OYW1lXSA9IG5ld1ZhbHVlXG4gICAgfVxuXG4gICAgcmV0dXJuIHJldFxuICB9XG59XG5cbmNvbnN0IHBsdWdpbjogUGx1Z2luID0ge1xuICBpZDogJ3BvaW50ZXItZXZlbnRzL2ludGVyYWN0YWJsZVRhcmdldHMnLFxuICBpbnN0YWxsLFxuICBsaXN0ZW5lcnM6IHtcbiAgICAncG9pbnRlckV2ZW50czpjb2xsZWN0LXRhcmdldHMnOiAoeyB0YXJnZXRzLCBub2RlLCB0eXBlLCBldmVudFRhcmdldCB9LCBzY29wZSkgPT4ge1xuICAgICAgc2NvcGUuaW50ZXJhY3RhYmxlcy5mb3JFYWNoTWF0Y2gobm9kZSwgKGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlKSA9PiB7XG4gICAgICAgIGNvbnN0IGV2ZW50YWJsZSA9IGludGVyYWN0YWJsZS5ldmVudHNcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGV2ZW50YWJsZS5vcHRpb25zXG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGV2ZW50YWJsZS50eXBlc1t0eXBlXSAmJlxuICAgICAgICAgIGV2ZW50YWJsZS50eXBlc1t0eXBlXS5sZW5ndGggJiZcbiAgICAgICAgICBpbnRlcmFjdGFibGUudGVzdElnbm9yZUFsbG93KG9wdGlvbnMsIG5vZGUsIGV2ZW50VGFyZ2V0KVxuICAgICAgICApIHtcbiAgICAgICAgICB0YXJnZXRzLnB1c2goe1xuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIGV2ZW50YWJsZSxcbiAgICAgICAgICAgIHByb3BzOiB7IGludGVyYWN0YWJsZSB9LFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSxcblxuICAgICdpbnRlcmFjdGFibGU6bmV3JzogKHsgaW50ZXJhY3RhYmxlIH0pID0+IHtcbiAgICAgIGludGVyYWN0YWJsZS5ldmVudHMuZ2V0UmVjdCA9IGZ1bmN0aW9uIChlbGVtZW50OiBFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBpbnRlcmFjdGFibGUuZ2V0UmVjdChlbGVtZW50KVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAnaW50ZXJhY3RhYmxlOnNldCc6ICh7IGludGVyYWN0YWJsZSwgb3B0aW9ucyB9LCBzY29wZSkgPT4ge1xuICAgICAgZXh0ZW5kKGludGVyYWN0YWJsZS5ldmVudHMub3B0aW9ucywgc2NvcGUucG9pbnRlckV2ZW50cy5kZWZhdWx0cylcbiAgICAgIGV4dGVuZChpbnRlcmFjdGFibGUuZXZlbnRzLm9wdGlvbnMsIG9wdGlvbnMucG9pbnRlckV2ZW50cyB8fCB7fSlcbiAgICB9LFxuICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCBwbHVnaW5cbiIsICJpbXBvcnQgdHlwZSB7IFBsdWdpbiB9IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvc2NvcGUnXG5cbi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzIC0tIGZvciB0eXBlc2NyaXB0IG1vZHVsZSBhdWdtZW50YXRpb25zICovXG5pbXBvcnQgJy4vYmFzZSdcbmltcG9ydCAnLi9ob2xkUmVwZWF0J1xuaW1wb3J0ICcuL2ludGVyYWN0YWJsZVRhcmdldHMnXG5cbmltcG9ydCAqIGFzIHBvaW50ZXJFdmVudHMgZnJvbSAnLi9iYXNlJ1xuaW1wb3J0IGhvbGRSZXBlYXQgZnJvbSAnLi9ob2xkUmVwZWF0J1xuaW1wb3J0IGludGVyYWN0YWJsZVRhcmdldHMgZnJvbSAnLi9pbnRlcmFjdGFibGVUYXJnZXRzJ1xuLyogZXNsaW50LWVuYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAqL1xuXG5jb25zdCBwbHVnaW46IFBsdWdpbiA9IHtcbiAgaWQ6ICdwb2ludGVyLWV2ZW50cycsXG4gIGluc3RhbGwoc2NvcGUpIHtcbiAgICBzY29wZS51c2VQbHVnaW4ocG9pbnRlckV2ZW50cylcbiAgICBzY29wZS51c2VQbHVnaW4oaG9sZFJlcGVhdClcbiAgICBzY29wZS51c2VQbHVnaW4oaW50ZXJhY3RhYmxlVGFyZ2V0cylcbiAgfSxcbn1cblxuZXhwb3J0IGRlZmF1bHQgcGx1Z2luXG4iLCAiaW1wb3J0IHR5cGUgeyBJbnRlcmFjdGFibGUgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0YWJsZSdcbmltcG9ydCB0eXBlIHsgRG9BbnlQaGFzZUFyZywgSW50ZXJhY3Rpb24gfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL0ludGVyYWN0aW9uJ1xuaW1wb3J0IHR5cGUgeyBTY29wZSwgUGx1Z2luIH0gZnJvbSAnQGludGVyYWN0anMvY29yZS9zY29wZSdcbmltcG9ydCB0eXBlIHsgQWN0aW9uTmFtZSwgQWN0aW9uUHJvcHMsIEVsZW1lbnQgfSBmcm9tICdAaW50ZXJhY3Rqcy9jb3JlL3R5cGVzJ1xuaW1wb3J0ICogYXMgYXJyIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL2FycidcbmltcG9ydCB7IGNvcHlBY3Rpb24gfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9taXNjJ1xuaW1wb3J0ICogYXMgcG9pbnRlclV0aWxzIGZyb20gJ0BpbnRlcmFjdGpzL3V0aWxzL3BvaW50ZXJVdGlscydcbmltcG9ydCB7IHRsYnJUb1h5d2ggfSBmcm9tICdAaW50ZXJhY3Rqcy91dGlscy9yZWN0J1xuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9zY29wZScge1xuICBpbnRlcmZhY2UgU2lnbmFsQXJncyB7XG4gICAgJ2ludGVyYWN0aW9uczpiZWZvcmUtYWN0aW9uLXJlZmxvdyc6IE9taXQ8RG9BbnlQaGFzZUFyZywgJ2lFdmVudCc+XG4gICAgJ2ludGVyYWN0aW9uczphY3Rpb24tcmVmbG93JzogRG9BbnlQaGFzZUFyZ1xuICAgICdpbnRlcmFjdGlvbnM6YWZ0ZXItYWN0aW9uLXJlZmxvdyc6IERvQW55UGhhc2VBcmdcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGFibGUnIHtcbiAgaW50ZXJmYWNlIEludGVyYWN0YWJsZSB7XG4gICAgLyoqXG4gICAgICogYGBganNcbiAgICAgKiBjb25zdCBpbnRlcmFjdGFibGUgPSBpbnRlcmFjdCh0YXJnZXQpXG4gICAgICogY29uc3QgZHJhZyA9IHsgbmFtZTogZHJhZywgYXhpczogJ3gnIH1cbiAgICAgKiBjb25zdCByZXNpemUgPSB7IG5hbWU6IHJlc2l6ZSwgZWRnZXM6IHsgbGVmdDogdHJ1ZSwgYm90dG9tOiB0cnVlIH1cbiAgICAgKlxuICAgICAqIGludGVyYWN0YWJsZS5yZWZsb3coZHJhZylcbiAgICAgKiBpbnRlcmFjdGFibGUucmVmbG93KHJlc2l6ZSlcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFN0YXJ0IGFuIGFjdGlvbiBzZXF1ZW5jZSB0byByZS1hcHBseSBtb2RpZmllcnMsIGNoZWNrIGRyb3BzLCBldGMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBhY3Rpb24gVGhlIGFjdGlvbiB0byBiZWdpblxuICAgICAqIEBwYXJhbSB7IHN0cmluZyB9IGFjdGlvbi5uYW1lIFRoZSBuYW1lIG9mIHRoZSBhY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7IFByb21pc2UgfSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgYEludGVyYWN0YWJsZWAgd2hlbiBhY3Rpb25zIG9uIGFsbCB0YXJnZXRzIGhhdmUgZW5kZWRcbiAgICAgKi9cbiAgICByZWZsb3c8VCBleHRlbmRzIEFjdGlvbk5hbWU+KGFjdGlvbjogQWN0aW9uUHJvcHM8VD4pOiBSZXR1cm5UeXBlPHR5cGVvZiBkb1JlZmxvdz5cbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdGlvbicge1xuICBpbnRlcmZhY2UgSW50ZXJhY3Rpb24ge1xuICAgIF9yZWZsb3dQcm9taXNlOiBQcm9taXNlPHZvaWQ+XG4gICAgX3JlZmxvd1Jlc29sdmU6ICguLi5hcmdzOiB1bmtub3duW10pID0+IHZvaWRcbiAgfVxufVxuXG5kZWNsYXJlIG1vZHVsZSAnQGludGVyYWN0anMvY29yZS9JbnRlcmFjdEV2ZW50JyB7XG4gIGludGVyZmFjZSBQaGFzZU1hcCB7XG4gICAgcmVmbG93PzogdHJ1ZVxuICB9XG59XG5cbmZ1bmN0aW9uIGluc3RhbGwoc2NvcGU6IFNjb3BlKSB7XG4gIGNvbnN0IHsgSW50ZXJhY3RhYmxlIH0gPSBzY29wZVxuXG4gIHNjb3BlLmFjdGlvbnMucGhhc2VzLnJlZmxvdyA9IHRydWVcblxuICBJbnRlcmFjdGFibGUucHJvdG90eXBlLnJlZmxvdyA9IGZ1bmN0aW9uIChhY3Rpb246IEFjdGlvblByb3BzKSB7XG4gICAgcmV0dXJuIGRvUmVmbG93KHRoaXMsIGFjdGlvbiwgc2NvcGUpXG4gIH1cbn1cblxuZnVuY3Rpb24gZG9SZWZsb3c8VCBleHRlbmRzIEFjdGlvbk5hbWU+KFxuICBpbnRlcmFjdGFibGU6IEludGVyYWN0YWJsZSxcbiAgYWN0aW9uOiBBY3Rpb25Qcm9wczxUPixcbiAgc2NvcGU6IFNjb3BlLFxuKTogUHJvbWlzZTxJbnRlcmFjdGFibGU+IHtcbiAgY29uc3QgZWxlbWVudHMgPSBpbnRlcmFjdGFibGUuZ2V0QWxsRWxlbWVudHMoKVxuXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZSB2YXJpYWJsZS1uYW1lXG4gIGNvbnN0IFByb21pc2UgPSAoc2NvcGUud2luZG93IGFzIGFueSkuUHJvbWlzZVxuICBjb25zdCBwcm9taXNlczogQXJyYXk8UHJvbWlzZTxudWxsPj4gfCBudWxsID0gUHJvbWlzZSA/IFtdIDogbnVsbFxuXG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgIGNvbnN0IHJlY3QgPSBpbnRlcmFjdGFibGUuZ2V0UmVjdChlbGVtZW50IGFzIEhUTUxFbGVtZW50IHwgU1ZHRWxlbWVudClcblxuICAgIGlmICghcmVjdCkge1xuICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBjb25zdCBydW5uaW5nSW50ZXJhY3Rpb24gPSBhcnIuZmluZChzY29wZS5pbnRlcmFjdGlvbnMubGlzdCwgKGludGVyYWN0aW9uOiBJbnRlcmFjdGlvbikgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgaW50ZXJhY3Rpb24uaW50ZXJhY3RpbmcoKSAmJlxuICAgICAgICBpbnRlcmFjdGlvbi5pbnRlcmFjdGFibGUgPT09IGludGVyYWN0YWJsZSAmJlxuICAgICAgICBpbnRlcmFjdGlvbi5lbGVtZW50ID09PSBlbGVtZW50ICYmXG4gICAgICAgIGludGVyYWN0aW9uLnByZXBhcmVkLm5hbWUgPT09IGFjdGlvbi5uYW1lXG4gICAgICApXG4gICAgfSlcbiAgICBsZXQgcmVmbG93UHJvbWlzZTogUHJvbWlzZTxudWxsPlxuXG4gICAgaWYgKHJ1bm5pbmdJbnRlcmFjdGlvbikge1xuICAgICAgcnVubmluZ0ludGVyYWN0aW9uLm1vdmUoKVxuXG4gICAgICBpZiAocHJvbWlzZXMpIHtcbiAgICAgICAgcmVmbG93UHJvbWlzZSA9XG4gICAgICAgICAgcnVubmluZ0ludGVyYWN0aW9uLl9yZWZsb3dQcm9taXNlIHx8XG4gICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmU6IGFueSkgPT4ge1xuICAgICAgICAgICAgcnVubmluZ0ludGVyYWN0aW9uLl9yZWZsb3dSZXNvbHZlID0gcmVzb2x2ZVxuICAgICAgICAgIH0pXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHh5d2ggPSB0bGJyVG9YeXdoKHJlY3QpXG4gICAgICBjb25zdCBjb29yZHMgPSB7XG4gICAgICAgIHBhZ2U6IHsgeDogeHl3aC54LCB5OiB4eXdoLnkgfSxcbiAgICAgICAgY2xpZW50OiB7IHg6IHh5d2gueCwgeTogeHl3aC55IH0sXG4gICAgICAgIHRpbWVTdGFtcDogc2NvcGUubm93KCksXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGV2ZW50ID0gcG9pbnRlclV0aWxzLmNvb3Jkc1RvRXZlbnQoY29vcmRzKVxuICAgICAgcmVmbG93UHJvbWlzZSA9IHN0YXJ0UmVmbG93PFQ+KHNjb3BlLCBpbnRlcmFjdGFibGUsIGVsZW1lbnQsIGFjdGlvbiwgZXZlbnQpXG4gICAgfVxuXG4gICAgaWYgKHByb21pc2VzKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKHJlZmxvd1Byb21pc2UpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHByb21pc2VzICYmIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IGludGVyYWN0YWJsZSlcbn1cblxuZnVuY3Rpb24gc3RhcnRSZWZsb3c8VCBleHRlbmRzIEFjdGlvbk5hbWU+KFxuICBzY29wZTogU2NvcGUsXG4gIGludGVyYWN0YWJsZTogSW50ZXJhY3RhYmxlLFxuICBlbGVtZW50OiBFbGVtZW50LFxuICBhY3Rpb246IEFjdGlvblByb3BzPFQ+LFxuICBldmVudDogYW55LFxuKSB7XG4gIGNvbnN0IGludGVyYWN0aW9uID0gc2NvcGUuaW50ZXJhY3Rpb25zLm5ldyh7IHBvaW50ZXJUeXBlOiAncmVmbG93JyB9KVxuICBjb25zdCBzaWduYWxBcmcgPSB7XG4gICAgaW50ZXJhY3Rpb24sXG4gICAgZXZlbnQsXG4gICAgcG9pbnRlcjogZXZlbnQsXG4gICAgZXZlbnRUYXJnZXQ6IGVsZW1lbnQsXG4gICAgcGhhc2U6ICdyZWZsb3cnLFxuICB9IGFzIGNvbnN0XG5cbiAgaW50ZXJhY3Rpb24uaW50ZXJhY3RhYmxlID0gaW50ZXJhY3RhYmxlXG4gIGludGVyYWN0aW9uLmVsZW1lbnQgPSBlbGVtZW50XG4gIGludGVyYWN0aW9uLnByZXZFdmVudCA9IGV2ZW50XG4gIGludGVyYWN0aW9uLnVwZGF0ZVBvaW50ZXIoZXZlbnQsIGV2ZW50LCBlbGVtZW50LCB0cnVlKVxuICBwb2ludGVyVXRpbHMuc2V0WmVyb0Nvb3JkcyhpbnRlcmFjdGlvbi5jb29yZHMuZGVsdGEpXG5cbiAgY29weUFjdGlvbihpbnRlcmFjdGlvbi5wcmVwYXJlZCwgYWN0aW9uKVxuICBpbnRlcmFjdGlvbi5fZG9QaGFzZShzaWduYWxBcmcpXG5cbiAgY29uc3QgeyBQcm9taXNlIH0gPSBzY29wZS53aW5kb3cgYXMgdW5rbm93biBhcyB7IFByb21pc2U6IFByb21pc2VDb25zdHJ1Y3RvciB9XG4gIGNvbnN0IHJlZmxvd1Byb21pc2UgPSBQcm9taXNlXG4gICAgPyBuZXcgUHJvbWlzZTx1bmRlZmluZWQ+KChyZXNvbHZlKSA9PiB7XG4gICAgICAgIGludGVyYWN0aW9uLl9yZWZsb3dSZXNvbHZlID0gcmVzb2x2ZVxuICAgICAgfSlcbiAgICA6IHVuZGVmaW5lZFxuXG4gIGludGVyYWN0aW9uLl9yZWZsb3dQcm9taXNlID0gcmVmbG93UHJvbWlzZVxuICBpbnRlcmFjdGlvbi5zdGFydChhY3Rpb24sIGludGVyYWN0YWJsZSwgZWxlbWVudClcblxuICBpZiAoaW50ZXJhY3Rpb24uX2ludGVyYWN0aW5nKSB7XG4gICAgaW50ZXJhY3Rpb24ubW92ZShzaWduYWxBcmcpXG4gICAgaW50ZXJhY3Rpb24uZW5kKGV2ZW50KVxuICB9IGVsc2Uge1xuICAgIGludGVyYWN0aW9uLnN0b3AoKVxuICAgIGludGVyYWN0aW9uLl9yZWZsb3dSZXNvbHZlKClcbiAgfVxuXG4gIGludGVyYWN0aW9uLnJlbW92ZVBvaW50ZXIoZXZlbnQsIGV2ZW50KVxuXG4gIHJldHVybiByZWZsb3dQcm9taXNlXG59XG5cbmNvbnN0IHJlZmxvdzogUGx1Z2luID0ge1xuICBpZDogJ3JlZmxvdycsXG4gIGluc3RhbGwsXG4gIGxpc3RlbmVyczoge1xuICAgIC8vIHJlbW92ZSBjb21wbGV0ZWQgcmVmbG93IGludGVyYWN0aW9uc1xuICAgICdpbnRlcmFjdGlvbnM6c3RvcCc6ICh7IGludGVyYWN0aW9uIH0sIHNjb3BlKSA9PiB7XG4gICAgICBpZiAoaW50ZXJhY3Rpb24ucG9pbnRlclR5cGUgPT09ICdyZWZsb3cnKSB7XG4gICAgICAgIGlmIChpbnRlcmFjdGlvbi5fcmVmbG93UmVzb2x2ZSkge1xuICAgICAgICAgIGludGVyYWN0aW9uLl9yZWZsb3dSZXNvbHZlKClcbiAgICAgICAgfVxuXG4gICAgICAgIGFyci5yZW1vdmUoc2NvcGUuaW50ZXJhY3Rpb25zLmxpc3QsIGludGVyYWN0aW9uKVxuICAgICAgfVxuICAgIH0sXG4gIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlZmxvd1xuIiwgIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXNcbmltcG9ydCBpbnRlcmFjdCBmcm9tICdAaW50ZXJhY3Rqcy9pbnRlcmFjdGpzJ1xuXG5leHBvcnQgZGVmYXVsdCBpbnRlcmFjdFxuXG5pZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgISFtb2R1bGUpIHtcbiAgdHJ5IHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGludGVyYWN0XG4gIH0gY2F0Y2gge31cbn1cblxuOyhpbnRlcmFjdCBhcyBhbnkpLmRlZmF1bHQgPSBpbnRlcmFjdFxuIiwgIi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1kdXBsaWNhdGVzIC0tIGZvciB0eXBlc2NyaXB0IG1vZHVsZSBhdWdtZW50YXRpb25zICovXG5pbXBvcnQgJ0BpbnRlcmFjdGpzL2FjdGlvbnMvcGx1Z2luJ1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9hdXRvLXNjcm9sbC9wbHVnaW4nXG5pbXBvcnQgJ0BpbnRlcmFjdGpzL2F1dG8tc3RhcnQvcGx1Z2luJ1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9jb3JlL2ludGVyYWN0YWJsZVByZXZlbnREZWZhdWx0J1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9kZXYtdG9vbHMvcGx1Z2luJ1xuaW1wb3J0ICdAaW50ZXJhY3Rqcy9pbmVydGlhL3BsdWdpbidcbmltcG9ydCAnQGludGVyYWN0anMvaW50ZXJhY3QnXG5pbXBvcnQgJ0BpbnRlcmFjdGpzL21vZGlmaWVycy9wbHVnaW4nXG5pbXBvcnQgJ0BpbnRlcmFjdGpzL29mZnNldC9wbHVnaW4nXG5pbXBvcnQgJ0BpbnRlcmFjdGpzL3BvaW50ZXItZXZlbnRzL3BsdWdpbidcbmltcG9ydCAnQGludGVyYWN0anMvcmVmbG93L3BsdWdpbidcblxuaW1wb3J0IGFjdGlvbnMgZnJvbSAnQGludGVyYWN0anMvYWN0aW9ucy9wbHVnaW4nXG5pbXBvcnQgYXV0b1Njcm9sbCBmcm9tICdAaW50ZXJhY3Rqcy9hdXRvLXNjcm9sbC9wbHVnaW4nXG5pbXBvcnQgYXV0b1N0YXJ0IGZyb20gJ0BpbnRlcmFjdGpzL2F1dG8tc3RhcnQvcGx1Z2luJ1xuaW1wb3J0IGludGVyYWN0YWJsZVByZXZlbnREZWZhdWx0IGZyb20gJ0BpbnRlcmFjdGpzL2NvcmUvaW50ZXJhY3RhYmxlUHJldmVudERlZmF1bHQnXG5pbXBvcnQgZGV2VG9vbHMgZnJvbSAnQGludGVyYWN0anMvZGV2LXRvb2xzL3BsdWdpbidcbmltcG9ydCBpbmVydGlhIGZyb20gJ0BpbnRlcmFjdGpzL2luZXJ0aWEvcGx1Z2luJ1xuaW1wb3J0IGludGVyYWN0IGZyb20gJ0BpbnRlcmFjdGpzL2ludGVyYWN0J1xuaW1wb3J0IG1vZGlmaWVycyBmcm9tICdAaW50ZXJhY3Rqcy9tb2RpZmllcnMvcGx1Z2luJ1xuaW1wb3J0IG9mZnNldCBmcm9tICdAaW50ZXJhY3Rqcy9vZmZzZXQvcGx1Z2luJ1xuaW1wb3J0IHBvaW50ZXJFdmVudHMgZnJvbSAnQGludGVyYWN0anMvcG9pbnRlci1ldmVudHMvcGx1Z2luJ1xuaW1wb3J0IHJlZmxvdyBmcm9tICdAaW50ZXJhY3Rqcy9yZWZsb3cvcGx1Z2luJ1xuLyogZXNsaW50LWVuYWJsZSBpbXBvcnQvbm8tZHVwbGljYXRlcyAqL1xuXG5pbnRlcmFjdC51c2UoaW50ZXJhY3RhYmxlUHJldmVudERlZmF1bHQpXG5cbmludGVyYWN0LnVzZShvZmZzZXQpXG5cbi8vIHBvaW50ZXJFdmVudHNcbmludGVyYWN0LnVzZShwb2ludGVyRXZlbnRzKVxuXG4vLyBpbmVydGlhXG5pbnRlcmFjdC51c2UoaW5lcnRpYSlcblxuLy8gc25hcCwgcmVzaXplLCBldGMuXG5pbnRlcmFjdC51c2UobW9kaWZpZXJzKVxuXG4vLyBhdXRvU3RhcnQsIGhvbGRcbmludGVyYWN0LnVzZShhdXRvU3RhcnQpXG5cbi8vIGRyYWcgYW5kIGRyb3AsIHJlc2l6ZSwgZ2VzdHVyZVxuaW50ZXJhY3QudXNlKGFjdGlvbnMpXG5cbi8vIGF1dG9TY3JvbGxcbmludGVyYWN0LnVzZShhdXRvU2Nyb2xsKVxuXG4vLyByZWZsb3dcbmludGVyYWN0LnVzZShyZWZsb3cpXG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgaW50ZXJhY3QudXNlKGRldlRvb2xzKVxufVxuXG5leHBvcnQgZGVmYXVsdCBpbnRlcmFjdFxuOyhpbnRlcmFjdCBhcyBhbnkpLmRlZmF1bHQgPSBpbnRlcmFjdFxuIiwgIi8qIVxuVHVyYm8gOC4wLjRcbkNvcHlyaWdodCBcdTAwQTkgMjAyNCAzN3NpZ25hbHMgTExDXG4gKi9cbi8qKlxuICogVGhlIE1JVCBMaWNlbnNlIChNSVQpXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE5IEphdmFuIE1ha2htYWxpXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbiAqIFRIRSBTT0ZUV0FSRS5cbiAqL1xuXG4oZnVuY3Rpb24gKHByb3RvdHlwZSkge1xuICBpZiAodHlwZW9mIHByb3RvdHlwZS5yZXF1ZXN0U3VibWl0ID09IFwiZnVuY3Rpb25cIikgcmV0dXJuXG5cbiAgcHJvdG90eXBlLnJlcXVlc3RTdWJtaXQgPSBmdW5jdGlvbiAoc3VibWl0dGVyKSB7XG4gICAgaWYgKHN1Ym1pdHRlcikge1xuICAgICAgdmFsaWRhdGVTdWJtaXR0ZXIoc3VibWl0dGVyLCB0aGlzKTtcbiAgICAgIHN1Ym1pdHRlci5jbGljaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdWJtaXR0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICBzdWJtaXR0ZXIudHlwZSA9IFwic3VibWl0XCI7XG4gICAgICBzdWJtaXR0ZXIuaGlkZGVuID0gdHJ1ZTtcbiAgICAgIHRoaXMuYXBwZW5kQ2hpbGQoc3VibWl0dGVyKTtcbiAgICAgIHN1Ym1pdHRlci5jbGljaygpO1xuICAgICAgdGhpcy5yZW1vdmVDaGlsZChzdWJtaXR0ZXIpO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiB2YWxpZGF0ZVN1Ym1pdHRlcihzdWJtaXR0ZXIsIGZvcm0pIHtcbiAgICBzdWJtaXR0ZXIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCByYWlzZShUeXBlRXJyb3IsIFwicGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgJ0hUTUxFbGVtZW50J1wiKTtcbiAgICBzdWJtaXR0ZXIudHlwZSA9PSBcInN1Ym1pdFwiIHx8IHJhaXNlKFR5cGVFcnJvciwgXCJUaGUgc3BlY2lmaWVkIGVsZW1lbnQgaXMgbm90IGEgc3VibWl0IGJ1dHRvblwiKTtcbiAgICBzdWJtaXR0ZXIuZm9ybSA9PSBmb3JtIHx8XG4gICAgICByYWlzZShET01FeGNlcHRpb24sIFwiVGhlIHNwZWNpZmllZCBlbGVtZW50IGlzIG5vdCBvd25lZCBieSB0aGlzIGZvcm0gZWxlbWVudFwiLCBcIk5vdEZvdW5kRXJyb3JcIik7XG4gIH1cblxuICBmdW5jdGlvbiByYWlzZShlcnJvckNvbnN0cnVjdG9yLCBtZXNzYWdlLCBuYW1lKSB7XG4gICAgdGhyb3cgbmV3IGVycm9yQ29uc3RydWN0b3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAncmVxdWVzdFN1Ym1pdCcgb24gJ0hUTUxGb3JtRWxlbWVudCc6IFwiICsgbWVzc2FnZSArIFwiLlwiLCBuYW1lKVxuICB9XG59KShIVE1MRm9ybUVsZW1lbnQucHJvdG90eXBlKTtcblxuY29uc3Qgc3VibWl0dGVyc0J5Rm9ybSA9IG5ldyBXZWFrTWFwKCk7XG5cbmZ1bmN0aW9uIGZpbmRTdWJtaXR0ZXJGcm9tQ2xpY2tUYXJnZXQodGFyZ2V0KSB7XG4gIGNvbnN0IGVsZW1lbnQgPSB0YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50ID8gdGFyZ2V0IDogdGFyZ2V0IGluc3RhbmNlb2YgTm9kZSA/IHRhcmdldC5wYXJlbnRFbGVtZW50IDogbnVsbDtcbiAgY29uc3QgY2FuZGlkYXRlID0gZWxlbWVudCA/IGVsZW1lbnQuY2xvc2VzdChcImlucHV0LCBidXR0b25cIikgOiBudWxsO1xuICByZXR1cm4gY2FuZGlkYXRlPy50eXBlID09IFwic3VibWl0XCIgPyBjYW5kaWRhdGUgOiBudWxsXG59XG5cbmZ1bmN0aW9uIGNsaWNrQ2FwdHVyZWQoZXZlbnQpIHtcbiAgY29uc3Qgc3VibWl0dGVyID0gZmluZFN1Ym1pdHRlckZyb21DbGlja1RhcmdldChldmVudC50YXJnZXQpO1xuXG4gIGlmIChzdWJtaXR0ZXIgJiYgc3VibWl0dGVyLmZvcm0pIHtcbiAgICBzdWJtaXR0ZXJzQnlGb3JtLnNldChzdWJtaXR0ZXIuZm9ybSwgc3VibWl0dGVyKTtcbiAgfVxufVxuXG4oZnVuY3Rpb24gKCkge1xuICBpZiAoXCJzdWJtaXR0ZXJcIiBpbiBFdmVudC5wcm90b3R5cGUpIHJldHVyblxuXG4gIGxldCBwcm90b3R5cGUgPSB3aW5kb3cuRXZlbnQucHJvdG90eXBlO1xuICAvLyBDZXJ0YWluIHZlcnNpb25zIG9mIFNhZmFyaSAxNSBoYXZlIGEgYnVnIHdoZXJlIHRoZXkgd29uJ3RcbiAgLy8gcG9wdWxhdGUgdGhlIHN1Ym1pdHRlci4gVGhpcyBodXJ0cyBUdXJib0RyaXZlJ3MgZW5hYmxlL2Rpc2FibGUgZGV0ZWN0aW9uLlxuICAvLyBTZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTIyOTY2MFxuICBpZiAoXCJTdWJtaXRFdmVudFwiIGluIHdpbmRvdykge1xuICAgIGNvbnN0IHByb3RvdHlwZU9mU3VibWl0RXZlbnQgPSB3aW5kb3cuU3VibWl0RXZlbnQucHJvdG90eXBlO1xuXG4gICAgaWYgKC9BcHBsZSBDb21wdXRlci8udGVzdChuYXZpZ2F0b3IudmVuZG9yKSAmJiAhKFwic3VibWl0dGVyXCIgaW4gcHJvdG90eXBlT2ZTdWJtaXRFdmVudCkpIHtcbiAgICAgIHByb3RvdHlwZSA9IHByb3RvdHlwZU9mU3VibWl0RXZlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAvLyBwb2x5ZmlsbCBub3QgbmVlZGVkXG4gICAgfVxuICB9XG5cbiAgYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrQ2FwdHVyZWQsIHRydWUpO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90b3R5cGUsIFwic3VibWl0dGVyXCIsIHtcbiAgICBnZXQoKSB7XG4gICAgICBpZiAodGhpcy50eXBlID09IFwic3VibWl0XCIgJiYgdGhpcy50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHN1Ym1pdHRlcnNCeUZvcm0uZ2V0KHRoaXMudGFyZ2V0KVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG59KSgpO1xuXG5jb25zdCBGcmFtZUxvYWRpbmdTdHlsZSA9IHtcbiAgZWFnZXI6IFwiZWFnZXJcIixcbiAgbGF6eTogXCJsYXp5XCJcbn07XG5cbi8qKlxuICogQ29udGFpbnMgYSBmcmFnbWVudCBvZiBIVE1MIHdoaWNoIGlzIHVwZGF0ZWQgYmFzZWQgb24gbmF2aWdhdGlvbiB3aXRoaW5cbiAqIGl0IChlLmcuIHZpYSBsaW5rcyBvciBmb3JtIHN1Ym1pc3Npb25zKS5cbiAqXG4gKiBAY3VzdG9tRWxlbWVudCB0dXJiby1mcmFtZVxuICogQGV4YW1wbGVcbiAqICAgPHR1cmJvLWZyYW1lIGlkPVwibWVzc2FnZXNcIj5cbiAqICAgICA8YSBocmVmPVwiL21lc3NhZ2VzL2V4cGFuZGVkXCI+XG4gKiAgICAgICBTaG93IGFsbCBleHBhbmRlZCBtZXNzYWdlcyBpbiB0aGlzIGZyYW1lLlxuICogICAgIDwvYT5cbiAqXG4gKiAgICAgPGZvcm0gYWN0aW9uPVwiL21lc3NhZ2VzXCI+XG4gKiAgICAgICBTaG93IHJlc3BvbnNlIGZyb20gdGhpcyBmb3JtIHdpdGhpbiB0aGlzIGZyYW1lLlxuICogICAgIDwvZm9ybT5cbiAqICAgPC90dXJiby1mcmFtZT5cbiAqL1xuY2xhc3MgRnJhbWVFbGVtZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBzdGF0aWMgZGVsZWdhdGVDb25zdHJ1Y3RvciA9IHVuZGVmaW5lZFxuXG4gIGxvYWRlZCA9IFByb21pc2UucmVzb2x2ZSgpXG5cbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIFtcImRpc2FibGVkXCIsIFwibG9hZGluZ1wiLCBcInNyY1wiXVxuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmRlbGVnYXRlID0gbmV3IEZyYW1lRWxlbWVudC5kZWxlZ2F0ZUNvbnN0cnVjdG9yKHRoaXMpO1xuICB9XG5cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5kZWxlZ2F0ZS5jb25uZWN0KCk7XG4gIH1cblxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmRlbGVnYXRlLmRpc2Nvbm5lY3QoKTtcbiAgfVxuXG4gIHJlbG9hZCgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5zb3VyY2VVUkxSZWxvYWRlZCgpXG4gIH1cblxuICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSkge1xuICAgIGlmIChuYW1lID09IFwibG9hZGluZ1wiKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlLmxvYWRpbmdTdHlsZUNoYW5nZWQoKTtcbiAgICB9IGVsc2UgaWYgKG5hbWUgPT0gXCJzcmNcIikge1xuICAgICAgdGhpcy5kZWxlZ2F0ZS5zb3VyY2VVUkxDaGFuZ2VkKCk7XG4gICAgfSBlbHNlIGlmIChuYW1lID09IFwiZGlzYWJsZWRcIikge1xuICAgICAgdGhpcy5kZWxlZ2F0ZS5kaXNhYmxlZENoYW5nZWQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgVVJMIHRvIGxhemlseSBsb2FkIHNvdXJjZSBIVE1MIGZyb21cbiAgICovXG4gIGdldCBzcmMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwic3JjXCIpXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgVVJMIHRvIGxhemlseSBsb2FkIHNvdXJjZSBIVE1MIGZyb21cbiAgICovXG4gIHNldCBzcmModmFsdWUpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKFwic3JjXCIsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJzcmNcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHJlZnJlc2ggbW9kZSBmb3IgdGhlIGZyYW1lLlxuICAgKi9cbiAgZ2V0IHJlZnJlc2goKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwicmVmcmVzaFwiKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHJlZnJlc2ggbW9kZSBmb3IgdGhlIGZyYW1lLlxuICAgKi9cbiAgc2V0IHJlZnJlc2godmFsdWUpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKFwicmVmcmVzaFwiLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKFwicmVmcmVzaFwiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGUgZWxlbWVudCBpcyBsb2FkaW5nXG4gICAqL1xuICBnZXQgbG9hZGluZygpIHtcbiAgICByZXR1cm4gZnJhbWVMb2FkaW5nU3R5bGVGcm9tU3RyaW5nKHRoaXMuZ2V0QXR0cmlidXRlKFwibG9hZGluZ1wiKSB8fCBcIlwiKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHZhbHVlIG9mIGlmIHRoZSBlbGVtZW50IGlzIGxvYWRpbmdcbiAgICovXG4gIHNldCBsb2FkaW5nKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZShcImxvYWRpbmdcIiwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImxvYWRpbmdcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGRpc2FibGVkIHN0YXRlIG9mIHRoZSBmcmFtZS5cbiAgICpcbiAgICogSWYgZGlzYWJsZWQsIG5vIHJlcXVlc3RzIHdpbGwgYmUgaW50ZXJjZXB0ZWQgYnkgdGhlIGZyYW1lLlxuICAgKi9cbiAgZ2V0IGRpc2FibGVkKCkge1xuICAgIHJldHVybiB0aGlzLmhhc0F0dHJpYnV0ZShcImRpc2FibGVkXCIpXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZGlzYWJsZWQgc3RhdGUgb2YgdGhlIGZyYW1lLlxuICAgKlxuICAgKiBJZiBkaXNhYmxlZCwgbm8gcmVxdWVzdHMgd2lsbCBiZSBpbnRlcmNlcHRlZCBieSB0aGUgZnJhbWUuXG4gICAqL1xuICBzZXQgZGlzYWJsZWQodmFsdWUpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGF1dG9zY3JvbGwgc3RhdGUgb2YgdGhlIGZyYW1lLlxuICAgKlxuICAgKiBJZiB0cnVlLCB0aGUgZnJhbWUgd2lsbCBiZSBzY3JvbGxlZCBpbnRvIHZpZXcgYXV0b21hdGljYWxseSBvbiB1cGRhdGUuXG4gICAqL1xuICBnZXQgYXV0b3Njcm9sbCgpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNBdHRyaWJ1dGUoXCJhdXRvc2Nyb2xsXCIpXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgYXV0b3Njcm9sbCBzdGF0ZSBvZiB0aGUgZnJhbWUuXG4gICAqXG4gICAqIElmIHRydWUsIHRoZSBmcmFtZSB3aWxsIGJlIHNjcm9sbGVkIGludG8gdmlldyBhdXRvbWF0aWNhbGx5IG9uIHVwZGF0ZS5cbiAgICovXG4gIHNldCBhdXRvc2Nyb2xsKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZShcImF1dG9zY3JvbGxcIiwgXCJcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXV0b3Njcm9sbFwiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGUgZWxlbWVudCBoYXMgZmluaXNoZWQgbG9hZGluZ1xuICAgKi9cbiAgZ2V0IGNvbXBsZXRlKCkge1xuICAgIHJldHVybiAhdGhpcy5kZWxlZ2F0ZS5pc0xvYWRpbmdcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBhY3RpdmUgc3RhdGUgb2YgdGhlIGZyYW1lLlxuICAgKlxuICAgKiBJZiBpbmFjdGl2ZSwgc291cmNlIGNoYW5nZXMgd2lsbCBub3QgYmUgb2JzZXJ2ZWQuXG4gICAqL1xuICBnZXQgaXNBY3RpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMub3duZXJEb2N1bWVudCA9PT0gZG9jdW1lbnQgJiYgIXRoaXMuaXNQcmV2aWV3XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgYWN0aXZlIHN0YXRlIG9mIHRoZSBmcmFtZS5cbiAgICpcbiAgICogSWYgaW5hY3RpdmUsIHNvdXJjZSBjaGFuZ2VzIHdpbGwgbm90IGJlIG9ic2VydmVkLlxuICAgKi9cbiAgZ2V0IGlzUHJldmlldygpIHtcbiAgICByZXR1cm4gdGhpcy5vd25lckRvY3VtZW50Py5kb2N1bWVudEVsZW1lbnQ/Lmhhc0F0dHJpYnV0ZShcImRhdGEtdHVyYm8tcHJldmlld1wiKVxuICB9XG59XG5cbmZ1bmN0aW9uIGZyYW1lTG9hZGluZ1N0eWxlRnJvbVN0cmluZyhzdHlsZSkge1xuICBzd2l0Y2ggKHN0eWxlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlIFwibGF6eVwiOlxuICAgICAgcmV0dXJuIEZyYW1lTG9hZGluZ1N0eWxlLmxhenlcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIEZyYW1lTG9hZGluZ1N0eWxlLmVhZ2VyXG4gIH1cbn1cblxuZnVuY3Rpb24gZXhwYW5kVVJMKGxvY2F0YWJsZSkge1xuICByZXR1cm4gbmV3IFVSTChsb2NhdGFibGUudG9TdHJpbmcoKSwgZG9jdW1lbnQuYmFzZVVSSSlcbn1cblxuZnVuY3Rpb24gZ2V0QW5jaG9yKHVybCkge1xuICBsZXQgYW5jaG9yTWF0Y2g7XG4gIGlmICh1cmwuaGFzaCkge1xuICAgIHJldHVybiB1cmwuaGFzaC5zbGljZSgxKVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25kLWFzc2lnblxuICB9IGVsc2UgaWYgKChhbmNob3JNYXRjaCA9IHVybC5ocmVmLm1hdGNoKC8jKC4qKSQvKSkpIHtcbiAgICByZXR1cm4gYW5jaG9yTWF0Y2hbMV1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRBY3Rpb24kMShmb3JtLCBzdWJtaXR0ZXIpIHtcbiAgY29uc3QgYWN0aW9uID0gc3VibWl0dGVyPy5nZXRBdHRyaWJ1dGUoXCJmb3JtYWN0aW9uXCIpIHx8IGZvcm0uZ2V0QXR0cmlidXRlKFwiYWN0aW9uXCIpIHx8IGZvcm0uYWN0aW9uO1xuXG4gIHJldHVybiBleHBhbmRVUkwoYWN0aW9uKVxufVxuXG5mdW5jdGlvbiBnZXRFeHRlbnNpb24odXJsKSB7XG4gIHJldHVybiAoZ2V0TGFzdFBhdGhDb21wb25lbnQodXJsKS5tYXRjaCgvXFwuW14uXSokLykgfHwgW10pWzBdIHx8IFwiXCJcbn1cblxuZnVuY3Rpb24gaXNIVE1MKHVybCkge1xuICByZXR1cm4gISFnZXRFeHRlbnNpb24odXJsKS5tYXRjaCgvXig/OnxcXC4oPzpodG18aHRtbHx4aHRtbHxwaHApKSQvKVxufVxuXG5mdW5jdGlvbiBpc1ByZWZpeGVkQnkoYmFzZVVSTCwgdXJsKSB7XG4gIGNvbnN0IHByZWZpeCA9IGdldFByZWZpeCh1cmwpO1xuICByZXR1cm4gYmFzZVVSTC5ocmVmID09PSBleHBhbmRVUkwocHJlZml4KS5ocmVmIHx8IGJhc2VVUkwuaHJlZi5zdGFydHNXaXRoKHByZWZpeClcbn1cblxuZnVuY3Rpb24gbG9jYXRpb25Jc1Zpc2l0YWJsZShsb2NhdGlvbiwgcm9vdExvY2F0aW9uKSB7XG4gIHJldHVybiBpc1ByZWZpeGVkQnkobG9jYXRpb24sIHJvb3RMb2NhdGlvbikgJiYgaXNIVE1MKGxvY2F0aW9uKVxufVxuXG5mdW5jdGlvbiBnZXRSZXF1ZXN0VVJMKHVybCkge1xuICBjb25zdCBhbmNob3IgPSBnZXRBbmNob3IodXJsKTtcbiAgcmV0dXJuIGFuY2hvciAhPSBudWxsID8gdXJsLmhyZWYuc2xpY2UoMCwgLShhbmNob3IubGVuZ3RoICsgMSkpIDogdXJsLmhyZWZcbn1cblxuZnVuY3Rpb24gdG9DYWNoZUtleSh1cmwpIHtcbiAgcmV0dXJuIGdldFJlcXVlc3RVUkwodXJsKVxufVxuXG5mdW5jdGlvbiB1cmxzQXJlRXF1YWwobGVmdCwgcmlnaHQpIHtcbiAgcmV0dXJuIGV4cGFuZFVSTChsZWZ0KS5ocmVmID09IGV4cGFuZFVSTChyaWdodCkuaHJlZlxufVxuXG5mdW5jdGlvbiBnZXRQYXRoQ29tcG9uZW50cyh1cmwpIHtcbiAgcmV0dXJuIHVybC5wYXRobmFtZS5zcGxpdChcIi9cIikuc2xpY2UoMSlcbn1cblxuZnVuY3Rpb24gZ2V0TGFzdFBhdGhDb21wb25lbnQodXJsKSB7XG4gIHJldHVybiBnZXRQYXRoQ29tcG9uZW50cyh1cmwpLnNsaWNlKC0xKVswXVxufVxuXG5mdW5jdGlvbiBnZXRQcmVmaXgodXJsKSB7XG4gIHJldHVybiBhZGRUcmFpbGluZ1NsYXNoKHVybC5vcmlnaW4gKyB1cmwucGF0aG5hbWUpXG59XG5cbmZ1bmN0aW9uIGFkZFRyYWlsaW5nU2xhc2godmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlLmVuZHNXaXRoKFwiL1wiKSA/IHZhbHVlIDogdmFsdWUgKyBcIi9cIlxufVxuXG5jbGFzcyBGZXRjaFJlc3BvbnNlIHtcbiAgY29uc3RydWN0b3IocmVzcG9uc2UpIHtcbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gIH1cblxuICBnZXQgc3VjY2VlZGVkKCkge1xuICAgIHJldHVybiB0aGlzLnJlc3BvbnNlLm9rXG4gIH1cblxuICBnZXQgZmFpbGVkKCkge1xuICAgIHJldHVybiAhdGhpcy5zdWNjZWVkZWRcbiAgfVxuXG4gIGdldCBjbGllbnRFcnJvcigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0dXNDb2RlID49IDQwMCAmJiB0aGlzLnN0YXR1c0NvZGUgPD0gNDk5XG4gIH1cblxuICBnZXQgc2VydmVyRXJyb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdHVzQ29kZSA+PSA1MDAgJiYgdGhpcy5zdGF0dXNDb2RlIDw9IDU5OVxuICB9XG5cbiAgZ2V0IHJlZGlyZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2UucmVkaXJlY3RlZFxuICB9XG5cbiAgZ2V0IGxvY2F0aW9uKCkge1xuICAgIHJldHVybiBleHBhbmRVUkwodGhpcy5yZXNwb25zZS51cmwpXG4gIH1cblxuICBnZXQgaXNIVE1MKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnRUeXBlICYmIHRoaXMuY29udGVudFR5cGUubWF0Y2goL14oPzp0ZXh0XFwvKFteXFxzOyxdK1xcYik/aHRtbHxhcHBsaWNhdGlvblxcL3hodG1sXFwreG1sKVxcYi8pXG4gIH1cblxuICBnZXQgc3RhdHVzQ29kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZS5zdGF0dXNcbiAgfVxuXG4gIGdldCBjb250ZW50VHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5oZWFkZXIoXCJDb250ZW50LVR5cGVcIilcbiAgfVxuXG4gIGdldCByZXNwb25zZVRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2UuY2xvbmUoKS50ZXh0KClcbiAgfVxuXG4gIGdldCByZXNwb25zZUhUTUwoKSB7XG4gICAgaWYgKHRoaXMuaXNIVE1MKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXNwb25zZS5jbG9uZSgpLnRleHQoKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZClcbiAgICB9XG4gIH1cblxuICBoZWFkZXIobmFtZSkge1xuICAgIHJldHVybiB0aGlzLnJlc3BvbnNlLmhlYWRlcnMuZ2V0KG5hbWUpXG4gIH1cbn1cblxuZnVuY3Rpb24gYWN0aXZhdGVTY3JpcHRFbGVtZW50KGVsZW1lbnQpIHtcbiAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS10dXJiby1ldmFsXCIpID09IFwiZmFsc2VcIikge1xuICAgIHJldHVybiBlbGVtZW50XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY3JlYXRlZFNjcmlwdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgIGNvbnN0IGNzcE5vbmNlID0gZ2V0TWV0YUNvbnRlbnQoXCJjc3Atbm9uY2VcIik7XG4gICAgaWYgKGNzcE5vbmNlKSB7XG4gICAgICBjcmVhdGVkU2NyaXB0RWxlbWVudC5ub25jZSA9IGNzcE5vbmNlO1xuICAgIH1cbiAgICBjcmVhdGVkU2NyaXB0RWxlbWVudC50ZXh0Q29udGVudCA9IGVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgY3JlYXRlZFNjcmlwdEVsZW1lbnQuYXN5bmMgPSBmYWxzZTtcbiAgICBjb3B5RWxlbWVudEF0dHJpYnV0ZXMoY3JlYXRlZFNjcmlwdEVsZW1lbnQsIGVsZW1lbnQpO1xuICAgIHJldHVybiBjcmVhdGVkU2NyaXB0RWxlbWVudFxuICB9XG59XG5cbmZ1bmN0aW9uIGNvcHlFbGVtZW50QXR0cmlidXRlcyhkZXN0aW5hdGlvbkVsZW1lbnQsIHNvdXJjZUVsZW1lbnQpIHtcbiAgZm9yIChjb25zdCB7IG5hbWUsIHZhbHVlIH0gb2Ygc291cmNlRWxlbWVudC5hdHRyaWJ1dGVzKSB7XG4gICAgZGVzdGluYXRpb25FbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlRG9jdW1lbnRGcmFnbWVudChodG1sKSB7XG4gIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBodG1sO1xuICByZXR1cm4gdGVtcGxhdGUuY29udGVudFxufVxuXG5mdW5jdGlvbiBkaXNwYXRjaChldmVudE5hbWUsIHsgdGFyZ2V0LCBjYW5jZWxhYmxlLCBkZXRhaWwgfSA9IHt9KSB7XG4gIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwge1xuICAgIGNhbmNlbGFibGUsXG4gICAgYnViYmxlczogdHJ1ZSxcbiAgICBjb21wb3NlZDogdHJ1ZSxcbiAgICBkZXRhaWxcbiAgfSk7XG5cbiAgaWYgKHRhcmdldCAmJiB0YXJnZXQuaXNDb25uZWN0ZWQpIHtcbiAgICB0YXJnZXQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICB9XG5cbiAgcmV0dXJuIGV2ZW50XG59XG5cbmZ1bmN0aW9uIG5leHRSZXBhaW50KCkge1xuICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSBcImhpZGRlblwiKSB7XG4gICAgcmV0dXJuIG5leHRFdmVudExvb3BUaWNrKClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV4dEFuaW1hdGlvbkZyYW1lKClcbiAgfVxufVxuXG5mdW5jdGlvbiBuZXh0QW5pbWF0aW9uRnJhbWUoKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHJlc29sdmUoKSkpXG59XG5cbmZ1bmN0aW9uIG5leHRFdmVudExvb3BUaWNrKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZSgpLCAwKSlcbn1cblxuZnVuY3Rpb24gbmV4dE1pY3JvdGFzaygpIHtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG59XG5cbmZ1bmN0aW9uIHBhcnNlSFRNTERvY3VtZW50KGh0bWwgPSBcIlwiKSB7XG4gIHJldHVybiBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGh0bWwsIFwidGV4dC9odG1sXCIpXG59XG5cbmZ1bmN0aW9uIHVuaW5kZW50KHN0cmluZ3MsIC4uLnZhbHVlcykge1xuICBjb25zdCBsaW5lcyA9IGludGVycG9sYXRlKHN0cmluZ3MsIHZhbHVlcykucmVwbGFjZSgvXlxcbi8sIFwiXCIpLnNwbGl0KFwiXFxuXCIpO1xuICBjb25zdCBtYXRjaCA9IGxpbmVzWzBdLm1hdGNoKC9eXFxzKy8pO1xuICBjb25zdCBpbmRlbnQgPSBtYXRjaCA/IG1hdGNoWzBdLmxlbmd0aCA6IDA7XG4gIHJldHVybiBsaW5lcy5tYXAoKGxpbmUpID0+IGxpbmUuc2xpY2UoaW5kZW50KSkuam9pbihcIlxcblwiKVxufVxuXG5mdW5jdGlvbiBpbnRlcnBvbGF0ZShzdHJpbmdzLCB2YWx1ZXMpIHtcbiAgcmV0dXJuIHN0cmluZ3MucmVkdWNlKChyZXN1bHQsIHN0cmluZywgaSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzW2ldID09IHVuZGVmaW5lZCA/IFwiXCIgOiB2YWx1ZXNbaV07XG4gICAgcmV0dXJuIHJlc3VsdCArIHN0cmluZyArIHZhbHVlXG4gIH0sIFwiXCIpXG59XG5cbmZ1bmN0aW9uIHV1aWQoKSB7XG4gIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiAzNiB9KVxuICAgIC5tYXAoKF8sIGkpID0+IHtcbiAgICAgIGlmIChpID09IDggfHwgaSA9PSAxMyB8fCBpID09IDE4IHx8IGkgPT0gMjMpIHtcbiAgICAgICAgcmV0dXJuIFwiLVwiXG4gICAgICB9IGVsc2UgaWYgKGkgPT0gMTQpIHtcbiAgICAgICAgcmV0dXJuIFwiNFwiXG4gICAgICB9IGVsc2UgaWYgKGkgPT0gMTkpIHtcbiAgICAgICAgcmV0dXJuIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KSArIDgpLnRvU3RyaW5nKDE2KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE1KS50b1N0cmluZygxNilcbiAgICAgIH1cbiAgICB9KVxuICAgIC5qb2luKFwiXCIpXG59XG5cbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCAuLi5lbGVtZW50cykge1xuICBmb3IgKGNvbnN0IHZhbHVlIG9mIGVsZW1lbnRzLm1hcCgoZWxlbWVudCkgPT4gZWxlbWVudD8uZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpKSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIikgcmV0dXJuIHZhbHVlXG4gIH1cblxuICByZXR1cm4gbnVsbFxufVxuXG5mdW5jdGlvbiBoYXNBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgLi4uZWxlbWVudHMpIHtcbiAgcmV0dXJuIGVsZW1lbnRzLnNvbWUoKGVsZW1lbnQpID0+IGVsZW1lbnQgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkpXG59XG5cbmZ1bmN0aW9uIG1hcmtBc0J1c3koLi4uZWxlbWVudHMpIHtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgaWYgKGVsZW1lbnQubG9jYWxOYW1lID09IFwidHVyYm8tZnJhbWVcIikge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJidXN5XCIsIFwiXCIpO1xuICAgIH1cbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtYnVzeVwiLCBcInRydWVcIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xlYXJCdXN5U3RhdGUoLi4uZWxlbWVudHMpIHtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgaWYgKGVsZW1lbnQubG9jYWxOYW1lID09IFwidHVyYm8tZnJhbWVcIikge1xuICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJidXN5XCIpO1xuICAgIH1cblxuICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1idXN5XCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdhaXRGb3JMb2FkKGVsZW1lbnQsIHRpbWVvdXRJbk1pbGxpc2Vjb25kcyA9IDIwMDApIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgY29uc3Qgb25Db21wbGV0ZSA9ICgpID0+IHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIG9uQ29tcGxldGUpO1xuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLCBvbkNvbXBsZXRlKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9O1xuXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBvbkNvbXBsZXRlLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgb25Db21wbGV0ZSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZW91dEluTWlsbGlzZWNvbmRzKTtcbiAgfSlcbn1cblxuZnVuY3Rpb24gZ2V0SGlzdG9yeU1ldGhvZEZvckFjdGlvbihhY3Rpb24pIHtcbiAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICBjYXNlIFwicmVwbGFjZVwiOlxuICAgICAgcmV0dXJuIGhpc3RvcnkucmVwbGFjZVN0YXRlXG4gICAgY2FzZSBcImFkdmFuY2VcIjpcbiAgICBjYXNlIFwicmVzdG9yZVwiOlxuICAgICAgcmV0dXJuIGhpc3RvcnkucHVzaFN0YXRlXG4gIH1cbn1cblxuZnVuY3Rpb24gaXNBY3Rpb24oYWN0aW9uKSB7XG4gIHJldHVybiBhY3Rpb24gPT0gXCJhZHZhbmNlXCIgfHwgYWN0aW9uID09IFwicmVwbGFjZVwiIHx8IGFjdGlvbiA9PSBcInJlc3RvcmVcIlxufVxuXG5mdW5jdGlvbiBnZXRWaXNpdEFjdGlvbiguLi5lbGVtZW50cykge1xuICBjb25zdCBhY3Rpb24gPSBnZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLWFjdGlvblwiLCAuLi5lbGVtZW50cyk7XG5cbiAgcmV0dXJuIGlzQWN0aW9uKGFjdGlvbikgPyBhY3Rpb24gOiBudWxsXG59XG5cbmZ1bmN0aW9uIGdldE1ldGFFbGVtZW50KG5hbWUpIHtcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYG1ldGFbbmFtZT1cIiR7bmFtZX1cIl1gKVxufVxuXG5mdW5jdGlvbiBnZXRNZXRhQ29udGVudChuYW1lKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBnZXRNZXRhRWxlbWVudChuYW1lKTtcbiAgcmV0dXJuIGVsZW1lbnQgJiYgZWxlbWVudC5jb250ZW50XG59XG5cbmZ1bmN0aW9uIHNldE1ldGFDb250ZW50KG5hbWUsIGNvbnRlbnQpIHtcbiAgbGV0IGVsZW1lbnQgPSBnZXRNZXRhRWxlbWVudChuYW1lKTtcblxuICBpZiAoIWVsZW1lbnQpIHtcbiAgICBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm1ldGFcIik7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIG5hbWUpO1xuXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgfVxuXG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY29udGVudFwiLCBjb250ZW50KTtcblxuICByZXR1cm4gZWxlbWVudFxufVxuXG5mdW5jdGlvbiBmaW5kQ2xvc2VzdFJlY3Vyc2l2ZWx5KGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gIGlmIChlbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgIHJldHVybiAoXG4gICAgICBlbGVtZW50LmNsb3Nlc3Qoc2VsZWN0b3IpIHx8IGZpbmRDbG9zZXN0UmVjdXJzaXZlbHkoZWxlbWVudC5hc3NpZ25lZFNsb3QgfHwgZWxlbWVudC5nZXRSb290Tm9kZSgpPy5ob3N0LCBzZWxlY3RvcilcbiAgICApXG4gIH1cbn1cblxuZnVuY3Rpb24gZWxlbWVudElzRm9jdXNhYmxlKGVsZW1lbnQpIHtcbiAgY29uc3QgaW5lcnREaXNhYmxlZE9ySGlkZGVuID0gXCJbaW5lcnRdLCA6ZGlzYWJsZWQsIFtoaWRkZW5dLCBkZXRhaWxzOm5vdChbb3Blbl0pLCBkaWFsb2c6bm90KFtvcGVuXSlcIjtcblxuICByZXR1cm4gISFlbGVtZW50ICYmIGVsZW1lbnQuY2xvc2VzdChpbmVydERpc2FibGVkT3JIaWRkZW4pID09IG51bGwgJiYgdHlwZW9mIGVsZW1lbnQuZm9jdXMgPT0gXCJmdW5jdGlvblwiXG59XG5cbmZ1bmN0aW9uIHF1ZXJ5QXV0b2ZvY3VzYWJsZUVsZW1lbnQoZWxlbWVudE9yRG9jdW1lbnRGcmFnbWVudCkge1xuICByZXR1cm4gQXJyYXkuZnJvbShlbGVtZW50T3JEb2N1bWVudEZyYWdtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbYXV0b2ZvY3VzXVwiKSkuZmluZChlbGVtZW50SXNGb2N1c2FibGUpXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGFyb3VuZChjYWxsYmFjaywgcmVhZGVyKSB7XG4gIGNvbnN0IGJlZm9yZSA9IHJlYWRlcigpO1xuXG4gIGNhbGxiYWNrKCk7XG5cbiAgYXdhaXQgbmV4dEFuaW1hdGlvbkZyYW1lKCk7XG5cbiAgY29uc3QgYWZ0ZXIgPSByZWFkZXIoKTtcblxuICByZXR1cm4gW2JlZm9yZSwgYWZ0ZXJdXG59XG5cbmZ1bmN0aW9uIGRvZXNOb3RUYXJnZXRJRnJhbWUoYW5jaG9yKSB7XG4gIGlmIChhbmNob3IuaGFzQXR0cmlidXRlKFwidGFyZ2V0XCIpKSB7XG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKGFuY2hvci50YXJnZXQpKSB7XG4gICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJRnJhbWVFbGVtZW50KSByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZVxufVxuXG5mdW5jdGlvbiBmaW5kTGlua0Zyb21DbGlja1RhcmdldCh0YXJnZXQpIHtcbiAgcmV0dXJuIGZpbmRDbG9zZXN0UmVjdXJzaXZlbHkodGFyZ2V0LCBcImFbaHJlZl06bm90KFt0YXJnZXRePV9dKTpub3QoW2Rvd25sb2FkXSlcIilcbn1cblxuZnVuY3Rpb24gZ2V0TG9jYXRpb25Gb3JMaW5rKGxpbmspIHtcbiAgcmV0dXJuIGV4cGFuZFVSTChsaW5rLmdldEF0dHJpYnV0ZShcImhyZWZcIikgfHwgXCJcIilcbn1cblxuZnVuY3Rpb24gZGVib3VuY2UoZm4sIGRlbGF5KSB7XG4gIGxldCB0aW1lb3V0SWQgPSBudWxsO1xuXG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gZm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgdGltZW91dElkID0gc2V0VGltZW91dChjYWxsYmFjaywgZGVsYXkpO1xuICB9XG59XG5cbmNsYXNzIExpbWl0ZWRTZXQgZXh0ZW5kcyBTZXQge1xuICBjb25zdHJ1Y3RvcihtYXhTaXplKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm1heFNpemUgPSBtYXhTaXplO1xuICB9XG5cbiAgYWRkKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuc2l6ZSA+PSB0aGlzLm1heFNpemUpIHtcbiAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy52YWx1ZXMoKTtcbiAgICAgIGNvbnN0IG9sZGVzdFZhbHVlID0gaXRlcmF0b3IubmV4dCgpLnZhbHVlO1xuICAgICAgdGhpcy5kZWxldGUob2xkZXN0VmFsdWUpO1xuICAgIH1cbiAgICBzdXBlci5hZGQodmFsdWUpO1xuICB9XG59XG5cbmNvbnN0IHJlY2VudFJlcXVlc3RzID0gbmV3IExpbWl0ZWRTZXQoMjApO1xuXG5jb25zdCBuYXRpdmVGZXRjaCA9IHdpbmRvdy5mZXRjaDtcblxuZnVuY3Rpb24gZmV0Y2hXaXRoVHVyYm9IZWFkZXJzKHVybCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IG1vZGlmaWVkSGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycyB8fCB7fSk7XG4gIGNvbnN0IHJlcXVlc3RVSUQgPSB1dWlkKCk7XG4gIHJlY2VudFJlcXVlc3RzLmFkZChyZXF1ZXN0VUlEKTtcbiAgbW9kaWZpZWRIZWFkZXJzLmFwcGVuZChcIlgtVHVyYm8tUmVxdWVzdC1JZFwiLCByZXF1ZXN0VUlEKTtcblxuICByZXR1cm4gbmF0aXZlRmV0Y2godXJsLCB7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBoZWFkZXJzOiBtb2RpZmllZEhlYWRlcnNcbiAgfSlcbn1cblxuZnVuY3Rpb24gZmV0Y2hNZXRob2RGcm9tU3RyaW5nKG1ldGhvZCkge1xuICBzd2l0Y2ggKG1ldGhvZC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSBcImdldFwiOlxuICAgICAgcmV0dXJuIEZldGNoTWV0aG9kLmdldFxuICAgIGNhc2UgXCJwb3N0XCI6XG4gICAgICByZXR1cm4gRmV0Y2hNZXRob2QucG9zdFxuICAgIGNhc2UgXCJwdXRcIjpcbiAgICAgIHJldHVybiBGZXRjaE1ldGhvZC5wdXRcbiAgICBjYXNlIFwicGF0Y2hcIjpcbiAgICAgIHJldHVybiBGZXRjaE1ldGhvZC5wYXRjaFxuICAgIGNhc2UgXCJkZWxldGVcIjpcbiAgICAgIHJldHVybiBGZXRjaE1ldGhvZC5kZWxldGVcbiAgfVxufVxuXG5jb25zdCBGZXRjaE1ldGhvZCA9IHtcbiAgZ2V0OiBcImdldFwiLFxuICBwb3N0OiBcInBvc3RcIixcbiAgcHV0OiBcInB1dFwiLFxuICBwYXRjaDogXCJwYXRjaFwiLFxuICBkZWxldGU6IFwiZGVsZXRlXCJcbn07XG5cbmZ1bmN0aW9uIGZldGNoRW5jdHlwZUZyb21TdHJpbmcoZW5jb2RpbmcpIHtcbiAgc3dpdGNoIChlbmNvZGluZy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSBGZXRjaEVuY3R5cGUubXVsdGlwYXJ0OlxuICAgICAgcmV0dXJuIEZldGNoRW5jdHlwZS5tdWx0aXBhcnRcbiAgICBjYXNlIEZldGNoRW5jdHlwZS5wbGFpbjpcbiAgICAgIHJldHVybiBGZXRjaEVuY3R5cGUucGxhaW5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIEZldGNoRW5jdHlwZS51cmxFbmNvZGVkXG4gIH1cbn1cblxuY29uc3QgRmV0Y2hFbmN0eXBlID0ge1xuICB1cmxFbmNvZGVkOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLFxuICBtdWx0aXBhcnQ6IFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiLFxuICBwbGFpbjogXCJ0ZXh0L3BsYWluXCJcbn07XG5cbmNsYXNzIEZldGNoUmVxdWVzdCB7XG4gIGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKVxuICAjcmVzb2x2ZVJlcXVlc3RQcm9taXNlID0gKF92YWx1ZSkgPT4ge31cblxuICBjb25zdHJ1Y3RvcihkZWxlZ2F0ZSwgbWV0aG9kLCBsb2NhdGlvbiwgcmVxdWVzdEJvZHkgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCksIHRhcmdldCA9IG51bGwsIGVuY3R5cGUgPSBGZXRjaEVuY3R5cGUudXJsRW5jb2RlZCkge1xuICAgIGNvbnN0IFt1cmwsIGJvZHldID0gYnVpbGRSZXNvdXJjZUFuZEJvZHkoZXhwYW5kVVJMKGxvY2F0aW9uKSwgbWV0aG9kLCByZXF1ZXN0Qm9keSwgZW5jdHlwZSk7XG5cbiAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgdGhpcy5mZXRjaE9wdGlvbnMgPSB7XG4gICAgICBjcmVkZW50aWFsczogXCJzYW1lLW9yaWdpblwiLFxuICAgICAgcmVkaXJlY3Q6IFwiZm9sbG93XCIsXG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIGhlYWRlcnM6IHsgLi4udGhpcy5kZWZhdWx0SGVhZGVycyB9LFxuICAgICAgYm9keTogYm9keSxcbiAgICAgIHNpZ25hbDogdGhpcy5hYm9ydFNpZ25hbCxcbiAgICAgIHJlZmVycmVyOiB0aGlzLmRlbGVnYXRlLnJlZmVycmVyPy5ocmVmXG4gICAgfTtcbiAgICB0aGlzLmVuY3R5cGUgPSBlbmN0eXBlO1xuICB9XG5cbiAgZ2V0IG1ldGhvZCgpIHtcbiAgICByZXR1cm4gdGhpcy5mZXRjaE9wdGlvbnMubWV0aG9kXG4gIH1cblxuICBzZXQgbWV0aG9kKHZhbHVlKSB7XG4gICAgY29uc3QgZmV0Y2hCb2R5ID0gdGhpcy5pc1NhZmUgPyB0aGlzLnVybC5zZWFyY2hQYXJhbXMgOiB0aGlzLmZldGNoT3B0aW9ucy5ib2R5IHx8IG5ldyBGb3JtRGF0YSgpO1xuICAgIGNvbnN0IGZldGNoTWV0aG9kID0gZmV0Y2hNZXRob2RGcm9tU3RyaW5nKHZhbHVlKSB8fCBGZXRjaE1ldGhvZC5nZXQ7XG5cbiAgICB0aGlzLnVybC5zZWFyY2ggPSBcIlwiO1xuXG4gICAgY29uc3QgW3VybCwgYm9keV0gPSBidWlsZFJlc291cmNlQW5kQm9keSh0aGlzLnVybCwgZmV0Y2hNZXRob2QsIGZldGNoQm9keSwgdGhpcy5lbmN0eXBlKTtcblxuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIHRoaXMuZmV0Y2hPcHRpb25zLmJvZHkgPSBib2R5O1xuICAgIHRoaXMuZmV0Y2hPcHRpb25zLm1ldGhvZCA9IGZldGNoTWV0aG9kO1xuICB9XG5cbiAgZ2V0IGhlYWRlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmV0Y2hPcHRpb25zLmhlYWRlcnNcbiAgfVxuXG4gIHNldCBoZWFkZXJzKHZhbHVlKSB7XG4gICAgdGhpcy5mZXRjaE9wdGlvbnMuaGVhZGVycyA9IHZhbHVlO1xuICB9XG5cbiAgZ2V0IGJvZHkoKSB7XG4gICAgaWYgKHRoaXMuaXNTYWZlKSB7XG4gICAgICByZXR1cm4gdGhpcy51cmwuc2VhcmNoUGFyYW1zXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmZldGNoT3B0aW9ucy5ib2R5XG4gICAgfVxuICB9XG5cbiAgc2V0IGJvZHkodmFsdWUpIHtcbiAgICB0aGlzLmZldGNoT3B0aW9ucy5ib2R5ID0gdmFsdWU7XG4gIH1cblxuICBnZXQgbG9jYXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudXJsXG4gIH1cblxuICBnZXQgcGFyYW1zKCkge1xuICAgIHJldHVybiB0aGlzLnVybC5zZWFyY2hQYXJhbXNcbiAgfVxuXG4gIGdldCBlbnRyaWVzKCkge1xuICAgIHJldHVybiB0aGlzLmJvZHkgPyBBcnJheS5mcm9tKHRoaXMuYm9keS5lbnRyaWVzKCkpIDogW11cbiAgfVxuXG4gIGNhbmNlbCgpIHtcbiAgICB0aGlzLmFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICB9XG5cbiAgYXN5bmMgcGVyZm9ybSgpIHtcbiAgICBjb25zdCB7IGZldGNoT3B0aW9ucyB9ID0gdGhpcztcbiAgICB0aGlzLmRlbGVnYXRlLnByZXBhcmVSZXF1ZXN0KHRoaXMpO1xuICAgIGNvbnN0IGV2ZW50ID0gYXdhaXQgdGhpcy4jYWxsb3dSZXF1ZXN0VG9CZUludGVyY2VwdGVkKGZldGNoT3B0aW9ucyk7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuZGVsZWdhdGUucmVxdWVzdFN0YXJ0ZWQodGhpcyk7XG5cbiAgICAgIGlmIChldmVudC5kZXRhaWwuZmV0Y2hSZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMucmVzcG9uc2UgPSBldmVudC5kZXRhaWwuZmV0Y2hSZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZXNwb25zZSA9IGZldGNoV2l0aFR1cmJvSGVhZGVycyh0aGlzLnVybC5ocmVmLCBmZXRjaE9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucmVzcG9uc2U7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5yZWNlaXZlKHJlc3BvbnNlKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IubmFtZSAhPT0gXCJBYm9ydEVycm9yXCIpIHtcbiAgICAgICAgaWYgKHRoaXMuI3dpbGxEZWxlZ2F0ZUVycm9ySGFuZGxpbmcoZXJyb3IpKSB7XG4gICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5yZXF1ZXN0RXJyb3JlZCh0aGlzLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5kZWxlZ2F0ZS5yZXF1ZXN0RmluaXNoZWQodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcmVjZWl2ZShyZXNwb25zZSkge1xuICAgIGNvbnN0IGZldGNoUmVzcG9uc2UgPSBuZXcgRmV0Y2hSZXNwb25zZShyZXNwb25zZSk7XG4gICAgY29uc3QgZXZlbnQgPSBkaXNwYXRjaChcInR1cmJvOmJlZm9yZS1mZXRjaC1yZXNwb25zZVwiLCB7XG4gICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgZGV0YWlsOiB7IGZldGNoUmVzcG9uc2UgfSxcbiAgICAgIHRhcmdldDogdGhpcy50YXJnZXRcbiAgICB9KTtcbiAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgdGhpcy5kZWxlZ2F0ZS5yZXF1ZXN0UHJldmVudGVkSGFuZGxpbmdSZXNwb25zZSh0aGlzLCBmZXRjaFJlc3BvbnNlKTtcbiAgICB9IGVsc2UgaWYgKGZldGNoUmVzcG9uc2Uuc3VjY2VlZGVkKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlLnJlcXVlc3RTdWNjZWVkZWRXaXRoUmVzcG9uc2UodGhpcywgZmV0Y2hSZXNwb25zZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUucmVxdWVzdEZhaWxlZFdpdGhSZXNwb25zZSh0aGlzLCBmZXRjaFJlc3BvbnNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZldGNoUmVzcG9uc2VcbiAgfVxuXG4gIGdldCBkZWZhdWx0SGVhZGVycygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgQWNjZXB0OiBcInRleHQvaHRtbCwgYXBwbGljYXRpb24veGh0bWwreG1sXCJcbiAgICB9XG4gIH1cblxuICBnZXQgaXNTYWZlKCkge1xuICAgIHJldHVybiBpc1NhZmUodGhpcy5tZXRob2QpXG4gIH1cblxuICBnZXQgYWJvcnRTaWduYWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbFxuICB9XG5cbiAgYWNjZXB0UmVzcG9uc2VUeXBlKG1pbWVUeXBlKSB7XG4gICAgdGhpcy5oZWFkZXJzW1wiQWNjZXB0XCJdID0gW21pbWVUeXBlLCB0aGlzLmhlYWRlcnNbXCJBY2NlcHRcIl1dLmpvaW4oXCIsIFwiKTtcbiAgfVxuXG4gIGFzeW5jICNhbGxvd1JlcXVlc3RUb0JlSW50ZXJjZXB0ZWQoZmV0Y2hPcHRpb25zKSB7XG4gICAgY29uc3QgcmVxdWVzdEludGVyY2VwdGlvbiA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiAodGhpcy4jcmVzb2x2ZVJlcXVlc3RQcm9taXNlID0gcmVzb2x2ZSkpO1xuICAgIGNvbnN0IGV2ZW50ID0gZGlzcGF0Y2goXCJ0dXJibzpiZWZvcmUtZmV0Y2gtcmVxdWVzdFwiLCB7XG4gICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIGZldGNoT3B0aW9ucyxcbiAgICAgICAgdXJsOiB0aGlzLnVybCxcbiAgICAgICAgcmVzdW1lOiB0aGlzLiNyZXNvbHZlUmVxdWVzdFByb21pc2VcbiAgICAgIH0sXG4gICAgICB0YXJnZXQ6IHRoaXMudGFyZ2V0XG4gICAgfSk7XG4gICAgdGhpcy51cmwgPSBldmVudC5kZXRhaWwudXJsO1xuICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSBhd2FpdCByZXF1ZXN0SW50ZXJjZXB0aW9uO1xuXG4gICAgcmV0dXJuIGV2ZW50XG4gIH1cblxuICAjd2lsbERlbGVnYXRlRXJyb3JIYW5kbGluZyhlcnJvcikge1xuICAgIGNvbnN0IGV2ZW50ID0gZGlzcGF0Y2goXCJ0dXJibzpmZXRjaC1yZXF1ZXN0LWVycm9yXCIsIHtcbiAgICAgIHRhcmdldDogdGhpcy50YXJnZXQsXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgZGV0YWlsOiB7IHJlcXVlc3Q6IHRoaXMsIGVycm9yOiBlcnJvciB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWRcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1NhZmUoZmV0Y2hNZXRob2QpIHtcbiAgcmV0dXJuIGZldGNoTWV0aG9kRnJvbVN0cmluZyhmZXRjaE1ldGhvZCkgPT0gRmV0Y2hNZXRob2QuZ2V0XG59XG5cbmZ1bmN0aW9uIGJ1aWxkUmVzb3VyY2VBbmRCb2R5KHJlc291cmNlLCBtZXRob2QsIHJlcXVlc3RCb2R5LCBlbmN0eXBlKSB7XG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9XG4gICAgQXJyYXkuZnJvbShyZXF1ZXN0Qm9keSkubGVuZ3RoID4gMCA/IG5ldyBVUkxTZWFyY2hQYXJhbXMoZW50cmllc0V4Y2x1ZGluZ0ZpbGVzKHJlcXVlc3RCb2R5KSkgOiByZXNvdXJjZS5zZWFyY2hQYXJhbXM7XG5cbiAgaWYgKGlzU2FmZShtZXRob2QpKSB7XG4gICAgcmV0dXJuIFttZXJnZUludG9VUkxTZWFyY2hQYXJhbXMocmVzb3VyY2UsIHNlYXJjaFBhcmFtcyksIG51bGxdXG4gIH0gZWxzZSBpZiAoZW5jdHlwZSA9PSBGZXRjaEVuY3R5cGUudXJsRW5jb2RlZCkge1xuICAgIHJldHVybiBbcmVzb3VyY2UsIHNlYXJjaFBhcmFtc11cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW3Jlc291cmNlLCByZXF1ZXN0Qm9keV1cbiAgfVxufVxuXG5mdW5jdGlvbiBlbnRyaWVzRXhjbHVkaW5nRmlsZXMocmVxdWVzdEJvZHkpIHtcbiAgY29uc3QgZW50cmllcyA9IFtdO1xuXG4gIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiByZXF1ZXN0Qm9keSkge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEZpbGUpIGNvbnRpbnVlXG4gICAgZWxzZSBlbnRyaWVzLnB1c2goW25hbWUsIHZhbHVlXSk7XG4gIH1cblxuICByZXR1cm4gZW50cmllc1xufVxuXG5mdW5jdGlvbiBtZXJnZUludG9VUkxTZWFyY2hQYXJhbXModXJsLCByZXF1ZXN0Qm9keSkge1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGVudHJpZXNFeGNsdWRpbmdGaWxlcyhyZXF1ZXN0Qm9keSkpO1xuXG4gIHVybC5zZWFyY2ggPSBzZWFyY2hQYXJhbXMudG9TdHJpbmcoKTtcblxuICByZXR1cm4gdXJsXG59XG5cbmNsYXNzIEFwcGVhcmFuY2VPYnNlcnZlciB7XG4gIHN0YXJ0ZWQgPSBmYWxzZVxuXG4gIGNvbnN0cnVjdG9yKGRlbGVnYXRlLCBlbGVtZW50KSB7XG4gICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcih0aGlzLmludGVyc2VjdCk7XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLmVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIGludGVyc2VjdCA9IChlbnRyaWVzKSA9PiB7XG4gICAgY29uc3QgbGFzdEVudHJ5ID0gZW50cmllcy5zbGljZSgtMSlbMF07XG4gICAgaWYgKGxhc3RFbnRyeT8uaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUuZWxlbWVudEFwcGVhcmVkSW5WaWV3cG9ydCh0aGlzLmVsZW1lbnQpO1xuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBTdHJlYW1NZXNzYWdlIHtcbiAgc3RhdGljIGNvbnRlbnRUeXBlID0gXCJ0ZXh0L3ZuZC50dXJiby1zdHJlYW0uaHRtbFwiXG5cbiAgc3RhdGljIHdyYXAobWVzc2FnZSkge1xuICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gbmV3IHRoaXMoY3JlYXRlRG9jdW1lbnRGcmFnbWVudChtZXNzYWdlKSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG1lc3NhZ2VcbiAgICB9XG4gIH1cblxuICBjb25zdHJ1Y3RvcihmcmFnbWVudCkge1xuICAgIHRoaXMuZnJhZ21lbnQgPSBpbXBvcnRTdHJlYW1FbGVtZW50cyhmcmFnbWVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW1wb3J0U3RyZWFtRWxlbWVudHMoZnJhZ21lbnQpIHtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGZyYWdtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0dXJiby1zdHJlYW1cIikpIHtcbiAgICBjb25zdCBzdHJlYW1FbGVtZW50ID0gZG9jdW1lbnQuaW1wb3J0Tm9kZShlbGVtZW50LCB0cnVlKTtcblxuICAgIGZvciAoY29uc3QgaW5lcnRTY3JpcHRFbGVtZW50IG9mIHN0cmVhbUVsZW1lbnQudGVtcGxhdGVFbGVtZW50LmNvbnRlbnQucXVlcnlTZWxlY3RvckFsbChcInNjcmlwdFwiKSkge1xuICAgICAgaW5lcnRTY3JpcHRFbGVtZW50LnJlcGxhY2VXaXRoKGFjdGl2YXRlU2NyaXB0RWxlbWVudChpbmVydFNjcmlwdEVsZW1lbnQpKTtcbiAgICB9XG5cbiAgICBlbGVtZW50LnJlcGxhY2VXaXRoKHN0cmVhbUVsZW1lbnQpO1xuICB9XG5cbiAgcmV0dXJuIGZyYWdtZW50XG59XG5cbmNvbnN0IFBSRUZFVENIX0RFTEFZID0gMTAwO1xuXG5jbGFzcyBQcmVmZXRjaENhY2hlIHtcbiAgI3ByZWZldGNoVGltZW91dCA9IG51bGxcbiAgI3ByZWZldGNoZWQgPSBudWxsXG5cbiAgZ2V0KHVybCkge1xuICAgIGlmICh0aGlzLiNwcmVmZXRjaGVkICYmIHRoaXMuI3ByZWZldGNoZWQudXJsID09PSB1cmwgJiYgdGhpcy4jcHJlZmV0Y2hlZC5leHBpcmUgPiBEYXRlLm5vdygpKSB7XG4gICAgICByZXR1cm4gdGhpcy4jcHJlZmV0Y2hlZC5yZXF1ZXN0XG4gICAgfVxuICB9XG5cbiAgc2V0TGF0ZXIodXJsLCByZXF1ZXN0LCB0dGwpIHtcbiAgICB0aGlzLmNsZWFyKCk7XG5cbiAgICB0aGlzLiNwcmVmZXRjaFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJlcXVlc3QucGVyZm9ybSgpO1xuICAgICAgdGhpcy5zZXQodXJsLCByZXF1ZXN0LCB0dGwpO1xuICAgICAgdGhpcy4jcHJlZmV0Y2hUaW1lb3V0ID0gbnVsbDtcbiAgICB9LCBQUkVGRVRDSF9ERUxBWSk7XG4gIH1cblxuICBzZXQodXJsLCByZXF1ZXN0LCB0dGwpIHtcbiAgICB0aGlzLiNwcmVmZXRjaGVkID0geyB1cmwsIHJlcXVlc3QsIGV4cGlyZTogbmV3IERhdGUobmV3IERhdGUoKS5nZXRUaW1lKCkgKyB0dGwpIH07XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICBpZiAodGhpcy4jcHJlZmV0Y2hUaW1lb3V0KSBjbGVhclRpbWVvdXQodGhpcy4jcHJlZmV0Y2hUaW1lb3V0KTtcbiAgICB0aGlzLiNwcmVmZXRjaGVkID0gbnVsbDtcbiAgfVxufVxuXG5jb25zdCBjYWNoZVR0bCA9IDEwICogMTAwMDtcbmNvbnN0IHByZWZldGNoQ2FjaGUgPSBuZXcgUHJlZmV0Y2hDYWNoZSgpO1xuXG5jb25zdCBGb3JtU3VibWlzc2lvblN0YXRlID0ge1xuICBpbml0aWFsaXplZDogXCJpbml0aWFsaXplZFwiLFxuICByZXF1ZXN0aW5nOiBcInJlcXVlc3RpbmdcIixcbiAgd2FpdGluZzogXCJ3YWl0aW5nXCIsXG4gIHJlY2VpdmluZzogXCJyZWNlaXZpbmdcIixcbiAgc3RvcHBpbmc6IFwic3RvcHBpbmdcIixcbiAgc3RvcHBlZDogXCJzdG9wcGVkXCJcbn07XG5cbmNsYXNzIEZvcm1TdWJtaXNzaW9uIHtcbiAgc3RhdGUgPSBGb3JtU3VibWlzc2lvblN0YXRlLmluaXRpYWxpemVkXG5cbiAgc3RhdGljIGNvbmZpcm1NZXRob2QobWVzc2FnZSwgX2VsZW1lbnQsIF9zdWJtaXR0ZXIpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNvbmZpcm0obWVzc2FnZSkpXG4gIH1cblxuICBjb25zdHJ1Y3RvcihkZWxlZ2F0ZSwgZm9ybUVsZW1lbnQsIHN1Ym1pdHRlciwgbXVzdFJlZGlyZWN0ID0gZmFsc2UpIHtcbiAgICBjb25zdCBtZXRob2QgPSBnZXRNZXRob2QoZm9ybUVsZW1lbnQsIHN1Ym1pdHRlcik7XG4gICAgY29uc3QgYWN0aW9uID0gZ2V0QWN0aW9uKGdldEZvcm1BY3Rpb24oZm9ybUVsZW1lbnQsIHN1Ym1pdHRlciksIG1ldGhvZCk7XG4gICAgY29uc3QgYm9keSA9IGJ1aWxkRm9ybURhdGEoZm9ybUVsZW1lbnQsIHN1Ym1pdHRlcik7XG4gICAgY29uc3QgZW5jdHlwZSA9IGdldEVuY3R5cGUoZm9ybUVsZW1lbnQsIHN1Ym1pdHRlcik7XG5cbiAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgdGhpcy5mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuc3VibWl0dGVyID0gc3VibWl0dGVyO1xuICAgIHRoaXMuZmV0Y2hSZXF1ZXN0ID0gbmV3IEZldGNoUmVxdWVzdCh0aGlzLCBtZXRob2QsIGFjdGlvbiwgYm9keSwgZm9ybUVsZW1lbnQsIGVuY3R5cGUpO1xuICAgIHRoaXMubXVzdFJlZGlyZWN0ID0gbXVzdFJlZGlyZWN0O1xuICB9XG5cbiAgZ2V0IG1ldGhvZCgpIHtcbiAgICByZXR1cm4gdGhpcy5mZXRjaFJlcXVlc3QubWV0aG9kXG4gIH1cblxuICBzZXQgbWV0aG9kKHZhbHVlKSB7XG4gICAgdGhpcy5mZXRjaFJlcXVlc3QubWV0aG9kID0gdmFsdWU7XG4gIH1cblxuICBnZXQgYWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmZldGNoUmVxdWVzdC51cmwudG9TdHJpbmcoKVxuICB9XG5cbiAgc2V0IGFjdGlvbih2YWx1ZSkge1xuICAgIHRoaXMuZmV0Y2hSZXF1ZXN0LnVybCA9IGV4cGFuZFVSTCh2YWx1ZSk7XG4gIH1cblxuICBnZXQgYm9keSgpIHtcbiAgICByZXR1cm4gdGhpcy5mZXRjaFJlcXVlc3QuYm9keVxuICB9XG5cbiAgZ2V0IGVuY3R5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmV0Y2hSZXF1ZXN0LmVuY3R5cGVcbiAgfVxuXG4gIGdldCBpc1NhZmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmV0Y2hSZXF1ZXN0LmlzU2FmZVxuICB9XG5cbiAgZ2V0IGxvY2F0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmZldGNoUmVxdWVzdC51cmxcbiAgfVxuXG4gIC8vIFRoZSBzdWJtaXNzaW9uIHByb2Nlc3NcblxuICBhc3luYyBzdGFydCgpIHtcbiAgICBjb25zdCB7IGluaXRpYWxpemVkLCByZXF1ZXN0aW5nIH0gPSBGb3JtU3VibWlzc2lvblN0YXRlO1xuICAgIGNvbnN0IGNvbmZpcm1hdGlvbk1lc3NhZ2UgPSBnZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLWNvbmZpcm1cIiwgdGhpcy5zdWJtaXR0ZXIsIHRoaXMuZm9ybUVsZW1lbnQpO1xuXG4gICAgaWYgKHR5cGVvZiBjb25maXJtYXRpb25NZXNzYWdlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCBGb3JtU3VibWlzc2lvbi5jb25maXJtTWV0aG9kKGNvbmZpcm1hdGlvbk1lc3NhZ2UsIHRoaXMuZm9ybUVsZW1lbnQsIHRoaXMuc3VibWl0dGVyKTtcbiAgICAgIGlmICghYW5zd2VyKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXRlID09IGluaXRpYWxpemVkKSB7XG4gICAgICB0aGlzLnN0YXRlID0gcmVxdWVzdGluZztcbiAgICAgIHJldHVybiB0aGlzLmZldGNoUmVxdWVzdC5wZXJmb3JtKClcbiAgICB9XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGNvbnN0IHsgc3RvcHBpbmcsIHN0b3BwZWQgfSA9IEZvcm1TdWJtaXNzaW9uU3RhdGU7XG4gICAgaWYgKHRoaXMuc3RhdGUgIT0gc3RvcHBpbmcgJiYgdGhpcy5zdGF0ZSAhPSBzdG9wcGVkKSB7XG4gICAgICB0aGlzLnN0YXRlID0gc3RvcHBpbmc7XG4gICAgICB0aGlzLmZldGNoUmVxdWVzdC5jYW5jZWwoKTtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG5cbiAgLy8gRmV0Y2ggcmVxdWVzdCBkZWxlZ2F0ZVxuXG4gIHByZXBhcmVSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgICBpZiAoIXJlcXVlc3QuaXNTYWZlKSB7XG4gICAgICBjb25zdCB0b2tlbiA9IGdldENvb2tpZVZhbHVlKGdldE1ldGFDb250ZW50KFwiY3NyZi1wYXJhbVwiKSkgfHwgZ2V0TWV0YUNvbnRlbnQoXCJjc3JmLXRva2VuXCIpO1xuICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgIHJlcXVlc3QuaGVhZGVyc1tcIlgtQ1NSRi1Ub2tlblwiXSA9IHRva2VuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnJlcXVlc3RBY2NlcHRzVHVyYm9TdHJlYW1SZXNwb25zZShyZXF1ZXN0KSkge1xuICAgICAgcmVxdWVzdC5hY2NlcHRSZXNwb25zZVR5cGUoU3RyZWFtTWVzc2FnZS5jb250ZW50VHlwZSk7XG4gICAgfVxuICB9XG5cbiAgcmVxdWVzdFN0YXJ0ZWQoX3JlcXVlc3QpIHtcbiAgICB0aGlzLnN0YXRlID0gRm9ybVN1Ym1pc3Npb25TdGF0ZS53YWl0aW5nO1xuICAgIHRoaXMuc3VibWl0dGVyPy5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcIlwiKTtcbiAgICB0aGlzLnNldFN1Ym1pdHNXaXRoKCk7XG4gICAgbWFya0FzQnVzeSh0aGlzLmZvcm1FbGVtZW50KTtcbiAgICBkaXNwYXRjaChcInR1cmJvOnN1Ym1pdC1zdGFydFwiLCB7XG4gICAgICB0YXJnZXQ6IHRoaXMuZm9ybUVsZW1lbnQsXG4gICAgICBkZXRhaWw6IHsgZm9ybVN1Ym1pc3Npb246IHRoaXMgfVxuICAgIH0pO1xuICAgIHRoaXMuZGVsZWdhdGUuZm9ybVN1Ym1pc3Npb25TdGFydGVkKHRoaXMpO1xuICB9XG5cbiAgcmVxdWVzdFByZXZlbnRlZEhhbmRsaW5nUmVzcG9uc2UocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgICBwcmVmZXRjaENhY2hlLmNsZWFyKCk7XG5cbiAgICB0aGlzLnJlc3VsdCA9IHsgc3VjY2VzczogcmVzcG9uc2Uuc3VjY2VlZGVkLCBmZXRjaFJlc3BvbnNlOiByZXNwb25zZSB9O1xuICB9XG5cbiAgcmVxdWVzdFN1Y2NlZWRlZFdpdGhSZXNwb25zZShyZXF1ZXN0LCByZXNwb25zZSkge1xuICAgIGlmIChyZXNwb25zZS5jbGllbnRFcnJvciB8fCByZXNwb25zZS5zZXJ2ZXJFcnJvcikge1xuICAgICAgdGhpcy5kZWxlZ2F0ZS5mb3JtU3VibWlzc2lvbkZhaWxlZFdpdGhSZXNwb25zZSh0aGlzLCByZXNwb25zZSk7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBwcmVmZXRjaENhY2hlLmNsZWFyKCk7XG5cbiAgICBpZiAodGhpcy5yZXF1ZXN0TXVzdFJlZGlyZWN0KHJlcXVlc3QpICYmIHJlc3BvbnNlU3VjY2VlZGVkV2l0aG91dFJlZGlyZWN0KHJlc3BvbnNlKSkge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXCJGb3JtIHJlc3BvbnNlcyBtdXN0IHJlZGlyZWN0IHRvIGFub3RoZXIgbG9jYXRpb25cIik7XG4gICAgICB0aGlzLmRlbGVnYXRlLmZvcm1TdWJtaXNzaW9uRXJyb3JlZCh0aGlzLCBlcnJvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBGb3JtU3VibWlzc2lvblN0YXRlLnJlY2VpdmluZztcbiAgICAgIHRoaXMucmVzdWx0ID0geyBzdWNjZXNzOiB0cnVlLCBmZXRjaFJlc3BvbnNlOiByZXNwb25zZSB9O1xuICAgICAgdGhpcy5kZWxlZ2F0ZS5mb3JtU3VibWlzc2lvblN1Y2NlZWRlZFdpdGhSZXNwb25zZSh0aGlzLCByZXNwb25zZSk7XG4gICAgfVxuICB9XG5cbiAgcmVxdWVzdEZhaWxlZFdpdGhSZXNwb25zZShyZXF1ZXN0LCByZXNwb25zZSkge1xuICAgIHRoaXMucmVzdWx0ID0geyBzdWNjZXNzOiBmYWxzZSwgZmV0Y2hSZXNwb25zZTogcmVzcG9uc2UgfTtcbiAgICB0aGlzLmRlbGVnYXRlLmZvcm1TdWJtaXNzaW9uRmFpbGVkV2l0aFJlc3BvbnNlKHRoaXMsIHJlc3BvbnNlKTtcbiAgfVxuXG4gIHJlcXVlc3RFcnJvcmVkKHJlcXVlc3QsIGVycm9yKSB7XG4gICAgdGhpcy5yZXN1bHQgPSB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvciB9O1xuICAgIHRoaXMuZGVsZWdhdGUuZm9ybVN1Ym1pc3Npb25FcnJvcmVkKHRoaXMsIGVycm9yKTtcbiAgfVxuXG4gIHJlcXVlc3RGaW5pc2hlZChfcmVxdWVzdCkge1xuICAgIHRoaXMuc3RhdGUgPSBGb3JtU3VibWlzc2lvblN0YXRlLnN0b3BwZWQ7XG4gICAgdGhpcy5zdWJtaXR0ZXI/LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgIHRoaXMucmVzZXRTdWJtaXR0ZXJUZXh0KCk7XG4gICAgY2xlYXJCdXN5U3RhdGUodGhpcy5mb3JtRWxlbWVudCk7XG4gICAgZGlzcGF0Y2goXCJ0dXJibzpzdWJtaXQtZW5kXCIsIHtcbiAgICAgIHRhcmdldDogdGhpcy5mb3JtRWxlbWVudCxcbiAgICAgIGRldGFpbDogeyBmb3JtU3VibWlzc2lvbjogdGhpcywgLi4udGhpcy5yZXN1bHQgfVxuICAgIH0pO1xuICAgIHRoaXMuZGVsZWdhdGUuZm9ybVN1Ym1pc3Npb25GaW5pc2hlZCh0aGlzKTtcbiAgfVxuXG4gIC8vIFByaXZhdGVcblxuICBzZXRTdWJtaXRzV2l0aCgpIHtcbiAgICBpZiAoIXRoaXMuc3VibWl0dGVyIHx8ICF0aGlzLnN1Ym1pdHNXaXRoKSByZXR1cm5cblxuICAgIGlmICh0aGlzLnN1Ym1pdHRlci5tYXRjaGVzKFwiYnV0dG9uXCIpKSB7XG4gICAgICB0aGlzLm9yaWdpbmFsU3VibWl0VGV4dCA9IHRoaXMuc3VibWl0dGVyLmlubmVySFRNTDtcbiAgICAgIHRoaXMuc3VibWl0dGVyLmlubmVySFRNTCA9IHRoaXMuc3VibWl0c1dpdGg7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN1Ym1pdHRlci5tYXRjaGVzKFwiaW5wdXRcIikpIHtcbiAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5zdWJtaXR0ZXI7XG4gICAgICB0aGlzLm9yaWdpbmFsU3VibWl0VGV4dCA9IGlucHV0LnZhbHVlO1xuICAgICAgaW5wdXQudmFsdWUgPSB0aGlzLnN1Ym1pdHNXaXRoO1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0U3VibWl0dGVyVGV4dCgpIHtcbiAgICBpZiAoIXRoaXMuc3VibWl0dGVyIHx8ICF0aGlzLm9yaWdpbmFsU3VibWl0VGV4dCkgcmV0dXJuXG5cbiAgICBpZiAodGhpcy5zdWJtaXR0ZXIubWF0Y2hlcyhcImJ1dHRvblwiKSkge1xuICAgICAgdGhpcy5zdWJtaXR0ZXIuaW5uZXJIVE1MID0gdGhpcy5vcmlnaW5hbFN1Ym1pdFRleHQ7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN1Ym1pdHRlci5tYXRjaGVzKFwiaW5wdXRcIikpIHtcbiAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5zdWJtaXR0ZXI7XG4gICAgICBpbnB1dC52YWx1ZSA9IHRoaXMub3JpZ2luYWxTdWJtaXRUZXh0O1xuICAgIH1cbiAgfVxuXG4gIHJlcXVlc3RNdXN0UmVkaXJlY3QocmVxdWVzdCkge1xuICAgIHJldHVybiAhcmVxdWVzdC5pc1NhZmUgJiYgdGhpcy5tdXN0UmVkaXJlY3RcbiAgfVxuXG4gIHJlcXVlc3RBY2NlcHRzVHVyYm9TdHJlYW1SZXNwb25zZShyZXF1ZXN0KSB7XG4gICAgcmV0dXJuICFyZXF1ZXN0LmlzU2FmZSB8fCBoYXNBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLXN0cmVhbVwiLCB0aGlzLnN1Ym1pdHRlciwgdGhpcy5mb3JtRWxlbWVudClcbiAgfVxuXG4gIGdldCBzdWJtaXRzV2l0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5zdWJtaXR0ZXI/LmdldEF0dHJpYnV0ZShcImRhdGEtdHVyYm8tc3VibWl0cy13aXRoXCIpXG4gIH1cbn1cblxuZnVuY3Rpb24gYnVpbGRGb3JtRGF0YShmb3JtRWxlbWVudCwgc3VibWl0dGVyKSB7XG4gIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm1FbGVtZW50KTtcbiAgY29uc3QgbmFtZSA9IHN1Ym1pdHRlcj8uZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtcbiAgY29uc3QgdmFsdWUgPSBzdWJtaXR0ZXI/LmdldEF0dHJpYnV0ZShcInZhbHVlXCIpO1xuXG4gIGlmIChuYW1lKSB7XG4gICAgZm9ybURhdGEuYXBwZW5kKG5hbWUsIHZhbHVlIHx8IFwiXCIpO1xuICB9XG5cbiAgcmV0dXJuIGZvcm1EYXRhXG59XG5cbmZ1bmN0aW9uIGdldENvb2tpZVZhbHVlKGNvb2tpZU5hbWUpIHtcbiAgaWYgKGNvb2tpZU5hbWUgIT0gbnVsbCkge1xuICAgIGNvbnN0IGNvb2tpZXMgPSBkb2N1bWVudC5jb29raWUgPyBkb2N1bWVudC5jb29raWUuc3BsaXQoXCI7IFwiKSA6IFtdO1xuICAgIGNvbnN0IGNvb2tpZSA9IGNvb2tpZXMuZmluZCgoY29va2llKSA9PiBjb29raWUuc3RhcnRzV2l0aChjb29raWVOYW1lKSk7XG4gICAgaWYgKGNvb2tpZSkge1xuICAgICAgY29uc3QgdmFsdWUgPSBjb29raWUuc3BsaXQoXCI9XCIpLnNsaWNlKDEpLmpvaW4oXCI9XCIpO1xuICAgICAgcmV0dXJuIHZhbHVlID8gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSA6IHVuZGVmaW5lZFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNwb25zZVN1Y2NlZWRlZFdpdGhvdXRSZWRpcmVjdChyZXNwb25zZSkge1xuICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzQ29kZSA9PSAyMDAgJiYgIXJlc3BvbnNlLnJlZGlyZWN0ZWRcbn1cblxuZnVuY3Rpb24gZ2V0Rm9ybUFjdGlvbihmb3JtRWxlbWVudCwgc3VibWl0dGVyKSB7XG4gIGNvbnN0IGZvcm1FbGVtZW50QWN0aW9uID0gdHlwZW9mIGZvcm1FbGVtZW50LmFjdGlvbiA9PT0gXCJzdHJpbmdcIiA/IGZvcm1FbGVtZW50LmFjdGlvbiA6IG51bGw7XG5cbiAgaWYgKHN1Ym1pdHRlcj8uaGFzQXR0cmlidXRlKFwiZm9ybWFjdGlvblwiKSkge1xuICAgIHJldHVybiBzdWJtaXR0ZXIuZ2V0QXR0cmlidXRlKFwiZm9ybWFjdGlvblwiKSB8fCBcIlwiXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcImFjdGlvblwiKSB8fCBmb3JtRWxlbWVudEFjdGlvbiB8fCBcIlwiXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QWN0aW9uKGZvcm1BY3Rpb24sIGZldGNoTWV0aG9kKSB7XG4gIGNvbnN0IGFjdGlvbiA9IGV4cGFuZFVSTChmb3JtQWN0aW9uKTtcblxuICBpZiAoaXNTYWZlKGZldGNoTWV0aG9kKSkge1xuICAgIGFjdGlvbi5zZWFyY2ggPSBcIlwiO1xuICB9XG5cbiAgcmV0dXJuIGFjdGlvblxufVxuXG5mdW5jdGlvbiBnZXRNZXRob2QoZm9ybUVsZW1lbnQsIHN1Ym1pdHRlcikge1xuICBjb25zdCBtZXRob2QgPSBzdWJtaXR0ZXI/LmdldEF0dHJpYnV0ZShcImZvcm1tZXRob2RcIikgfHwgZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibWV0aG9kXCIpIHx8IFwiXCI7XG4gIHJldHVybiBmZXRjaE1ldGhvZEZyb21TdHJpbmcobWV0aG9kLnRvTG93ZXJDYXNlKCkpIHx8IEZldGNoTWV0aG9kLmdldFxufVxuXG5mdW5jdGlvbiBnZXRFbmN0eXBlKGZvcm1FbGVtZW50LCBzdWJtaXR0ZXIpIHtcbiAgcmV0dXJuIGZldGNoRW5jdHlwZUZyb21TdHJpbmcoc3VibWl0dGVyPy5nZXRBdHRyaWJ1dGUoXCJmb3JtZW5jdHlwZVwiKSB8fCBmb3JtRWxlbWVudC5lbmN0eXBlKVxufVxuXG5jbGFzcyBTbmFwc2hvdCB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICB9XG5cbiAgZ2V0IGFjdGl2ZUVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnRcbiAgfVxuXG4gIGdldCBjaGlsZHJlbigpIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuZWxlbWVudC5jaGlsZHJlbl1cbiAgfVxuXG4gIGhhc0FuY2hvcihhbmNob3IpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRFbGVtZW50Rm9yQW5jaG9yKGFuY2hvcikgIT0gbnVsbFxuICB9XG5cbiAgZ2V0RWxlbWVudEZvckFuY2hvcihhbmNob3IpIHtcbiAgICByZXR1cm4gYW5jaG9yID8gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYFtpZD0nJHthbmNob3J9J10sIGFbbmFtZT0nJHthbmNob3J9J11gKSA6IG51bGxcbiAgfVxuXG4gIGdldCBpc0Nvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50LmlzQ29ubmVjdGVkXG4gIH1cblxuICBnZXQgZmlyc3RBdXRvZm9jdXNhYmxlRWxlbWVudCgpIHtcbiAgICByZXR1cm4gcXVlcnlBdXRvZm9jdXNhYmxlRWxlbWVudCh0aGlzLmVsZW1lbnQpXG4gIH1cblxuICBnZXQgcGVybWFuZW50RWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIHF1ZXJ5UGVybWFuZW50RWxlbWVudHNBbGwodGhpcy5lbGVtZW50KVxuICB9XG5cbiAgZ2V0UGVybWFuZW50RWxlbWVudEJ5SWQoaWQpIHtcbiAgICByZXR1cm4gZ2V0UGVybWFuZW50RWxlbWVudEJ5SWQodGhpcy5lbGVtZW50LCBpZClcbiAgfVxuXG4gIGdldFBlcm1hbmVudEVsZW1lbnRNYXBGb3JTbmFwc2hvdChzbmFwc2hvdCkge1xuICAgIGNvbnN0IHBlcm1hbmVudEVsZW1lbnRNYXAgPSB7fTtcblxuICAgIGZvciAoY29uc3QgY3VycmVudFBlcm1hbmVudEVsZW1lbnQgb2YgdGhpcy5wZXJtYW5lbnRFbGVtZW50cykge1xuICAgICAgY29uc3QgeyBpZCB9ID0gY3VycmVudFBlcm1hbmVudEVsZW1lbnQ7XG4gICAgICBjb25zdCBuZXdQZXJtYW5lbnRFbGVtZW50ID0gc25hcHNob3QuZ2V0UGVybWFuZW50RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgaWYgKG5ld1Blcm1hbmVudEVsZW1lbnQpIHtcbiAgICAgICAgcGVybWFuZW50RWxlbWVudE1hcFtpZF0gPSBbY3VycmVudFBlcm1hbmVudEVsZW1lbnQsIG5ld1Blcm1hbmVudEVsZW1lbnRdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBwZXJtYW5lbnRFbGVtZW50TWFwXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UGVybWFuZW50RWxlbWVudEJ5SWQobm9kZSwgaWQpIHtcbiAgcmV0dXJuIG5vZGUucXVlcnlTZWxlY3RvcihgIyR7aWR9W2RhdGEtdHVyYm8tcGVybWFuZW50XWApXG59XG5cbmZ1bmN0aW9uIHF1ZXJ5UGVybWFuZW50RWxlbWVudHNBbGwobm9kZSkge1xuICByZXR1cm4gbm9kZS5xdWVyeVNlbGVjdG9yQWxsKFwiW2lkXVtkYXRhLXR1cmJvLXBlcm1hbmVudF1cIilcbn1cblxuY2xhc3MgRm9ybVN1Ym1pdE9ic2VydmVyIHtcbiAgc3RhcnRlZCA9IGZhbHNlXG5cbiAgY29uc3RydWN0b3IoZGVsZWdhdGUsIGV2ZW50VGFyZ2V0KSB7XG4gICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgIHRoaXMuZXZlbnRUYXJnZXQgPSBldmVudFRhcmdldDtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICB0aGlzLmV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5zdWJtaXRDYXB0dXJlZCwgdHJ1ZSk7XG4gICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgdGhpcy5ldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuc3VibWl0Q2FwdHVyZWQsIHRydWUpO1xuICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc3VibWl0Q2FwdHVyZWQgPSAoKSA9PiB7XG4gICAgdGhpcy5ldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuc3VibWl0QnViYmxlZCwgZmFsc2UpO1xuICAgIHRoaXMuZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLnN1Ym1pdEJ1YmJsZWQsIGZhbHNlKTtcbiAgfVxuXG4gIHN1Ym1pdEJ1YmJsZWQgPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIGNvbnN0IGZvcm0gPSBldmVudC50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQgPyBldmVudC50YXJnZXQgOiB1bmRlZmluZWQ7XG4gICAgICBjb25zdCBzdWJtaXR0ZXIgPSBldmVudC5zdWJtaXR0ZXIgfHwgdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoXG4gICAgICAgIGZvcm0gJiZcbiAgICAgICAgc3VibWlzc2lvbkRvZXNOb3REaXNtaXNzRGlhbG9nKGZvcm0sIHN1Ym1pdHRlcikgJiZcbiAgICAgICAgc3VibWlzc2lvbkRvZXNOb3RUYXJnZXRJRnJhbWUoZm9ybSwgc3VibWl0dGVyKSAmJlxuICAgICAgICB0aGlzLmRlbGVnYXRlLndpbGxTdWJtaXRGb3JtKGZvcm0sIHN1Ym1pdHRlcilcbiAgICAgICkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS5mb3JtU3VibWl0dGVkKGZvcm0sIHN1Ym1pdHRlcik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHN1Ym1pc3Npb25Eb2VzTm90RGlzbWlzc0RpYWxvZyhmb3JtLCBzdWJtaXR0ZXIpIHtcbiAgY29uc3QgbWV0aG9kID0gc3VibWl0dGVyPy5nZXRBdHRyaWJ1dGUoXCJmb3JtbWV0aG9kXCIpIHx8IGZvcm0uZ2V0QXR0cmlidXRlKFwibWV0aG9kXCIpO1xuXG4gIHJldHVybiBtZXRob2QgIT0gXCJkaWFsb2dcIlxufVxuXG5mdW5jdGlvbiBzdWJtaXNzaW9uRG9lc05vdFRhcmdldElGcmFtZShmb3JtLCBzdWJtaXR0ZXIpIHtcbiAgaWYgKHN1Ym1pdHRlcj8uaGFzQXR0cmlidXRlKFwiZm9ybXRhcmdldFwiKSB8fCBmb3JtLmhhc0F0dHJpYnV0ZShcInRhcmdldFwiKSkge1xuICAgIGNvbnN0IHRhcmdldCA9IHN1Ym1pdHRlcj8uZ2V0QXR0cmlidXRlKFwiZm9ybXRhcmdldFwiKSB8fCBmb3JtLnRhcmdldDtcblxuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSh0YXJnZXQpKSB7XG4gICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJRnJhbWVFbGVtZW50KSByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9IGVsc2Uge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbn1cblxuY2xhc3MgVmlldyB7XG4gICNyZXNvbHZlUmVuZGVyUHJvbWlzZSA9IChfdmFsdWUpID0+IHt9XG4gICNyZXNvbHZlSW50ZXJjZXB0aW9uUHJvbWlzZSA9IChfdmFsdWUpID0+IHt9XG5cbiAgY29uc3RydWN0b3IoZGVsZWdhdGUsIGVsZW1lbnQpIHtcbiAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgfVxuXG4gIC8vIFNjcm9sbGluZ1xuXG4gIHNjcm9sbFRvQW5jaG9yKGFuY2hvcikge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLnNuYXBzaG90LmdldEVsZW1lbnRGb3JBbmNob3IoYW5jaG9yKTtcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgdGhpcy5zY3JvbGxUb0VsZW1lbnQoZWxlbWVudCk7XG4gICAgICB0aGlzLmZvY3VzRWxlbWVudChlbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zY3JvbGxUb1Bvc2l0aW9uKHsgeDogMCwgeTogMCB9KTtcbiAgICB9XG4gIH1cblxuICBzY3JvbGxUb0FuY2hvckZyb21Mb2NhdGlvbihsb2NhdGlvbikge1xuICAgIHRoaXMuc2Nyb2xsVG9BbmNob3IoZ2V0QW5jaG9yKGxvY2F0aW9uKSk7XG4gIH1cblxuICBzY3JvbGxUb0VsZW1lbnQoZWxlbWVudCkge1xuICAgIGVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgfVxuXG4gIGZvY3VzRWxlbWVudChlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKFwidGFiaW5kZXhcIikpIHtcbiAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLCBcIi0xXCIpO1xuICAgICAgICBlbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwidGFiaW5kZXhcIik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2Nyb2xsVG9Qb3NpdGlvbih7IHgsIHkgfSkge1xuICAgIHRoaXMuc2Nyb2xsUm9vdC5zY3JvbGxUbyh4LCB5KTtcbiAgfVxuXG4gIHNjcm9sbFRvVG9wKCkge1xuICAgIHRoaXMuc2Nyb2xsVG9Qb3NpdGlvbih7IHg6IDAsIHk6IDAgfSk7XG4gIH1cblxuICBnZXQgc2Nyb2xsUm9vdCgpIHtcbiAgICByZXR1cm4gd2luZG93XG4gIH1cblxuICAvLyBSZW5kZXJpbmdcblxuICBhc3luYyByZW5kZXIocmVuZGVyZXIpIHtcbiAgICBjb25zdCB7IGlzUHJldmlldywgc2hvdWxkUmVuZGVyLCB3aWxsUmVuZGVyLCBuZXdTbmFwc2hvdDogc25hcHNob3QgfSA9IHJlbmRlcmVyO1xuXG4gICAgLy8gQSB3b3JrYXJvdW5kIHRvIGlnbm9yZSB0cmFja2VkIGVsZW1lbnQgbWlzbWF0Y2ggcmVsb2FkcyB3aGVuIHBlcmZvcm1pbmdcbiAgICAvLyBhIHByb21vdGVkIFZpc2l0IGZyb20gYSBmcmFtZSBuYXZpZ2F0aW9uXG4gICAgY29uc3Qgc2hvdWxkSW52YWxpZGF0ZSA9IHdpbGxSZW5kZXI7XG5cbiAgICBpZiAoc2hvdWxkUmVuZGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLnJlbmRlclByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gKHRoaXMuI3Jlc29sdmVSZW5kZXJQcm9taXNlID0gcmVzb2x2ZSkpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIGF3YWl0IHRoaXMucHJlcGFyZVRvUmVuZGVyU25hcHNob3QocmVuZGVyZXIpO1xuXG4gICAgICAgIGNvbnN0IHJlbmRlckludGVyY2VwdGlvbiA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiAodGhpcy4jcmVzb2x2ZUludGVyY2VwdGlvblByb21pc2UgPSByZXNvbHZlKSk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7IHJlc3VtZTogdGhpcy4jcmVzb2x2ZUludGVyY2VwdGlvblByb21pc2UsIHJlbmRlcjogdGhpcy5yZW5kZXJlci5yZW5kZXJFbGVtZW50LCByZW5kZXJNZXRob2Q6IHRoaXMucmVuZGVyZXIucmVuZGVyTWV0aG9kIH07XG4gICAgICAgIGNvbnN0IGltbWVkaWF0ZVJlbmRlciA9IHRoaXMuZGVsZWdhdGUuYWxsb3dzSW1tZWRpYXRlUmVuZGVyKHNuYXBzaG90LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCFpbW1lZGlhdGVSZW5kZXIpIGF3YWl0IHJlbmRlckludGVyY2VwdGlvbjtcblxuICAgICAgICBhd2FpdCB0aGlzLnJlbmRlclNuYXBzaG90KHJlbmRlcmVyKTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS52aWV3UmVuZGVyZWRTbmFwc2hvdChzbmFwc2hvdCwgaXNQcmV2aWV3LCB0aGlzLnJlbmRlcmVyLnJlbmRlck1ldGhvZCk7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUucHJlbG9hZE9uTG9hZExpbmtzRm9yVmlldyh0aGlzLmVsZW1lbnQpO1xuICAgICAgICB0aGlzLmZpbmlzaFJlbmRlcmluZ1NuYXBzaG90KHJlbmRlcmVyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB0aGlzLiNyZXNvbHZlUmVuZGVyUHJvbWlzZSh1bmRlZmluZWQpO1xuICAgICAgICBkZWxldGUgdGhpcy5yZW5kZXJQcm9taXNlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2hvdWxkSW52YWxpZGF0ZSkge1xuICAgICAgdGhpcy5pbnZhbGlkYXRlKHJlbmRlcmVyLnJlbG9hZFJlYXNvbik7XG4gICAgfVxuICB9XG5cbiAgaW52YWxpZGF0ZShyZWFzb24pIHtcbiAgICB0aGlzLmRlbGVnYXRlLnZpZXdJbnZhbGlkYXRlZChyZWFzb24pO1xuICB9XG5cbiAgYXN5bmMgcHJlcGFyZVRvUmVuZGVyU25hcHNob3QocmVuZGVyZXIpIHtcbiAgICB0aGlzLm1hcmtBc1ByZXZpZXcocmVuZGVyZXIuaXNQcmV2aWV3KTtcbiAgICBhd2FpdCByZW5kZXJlci5wcmVwYXJlVG9SZW5kZXIoKTtcbiAgfVxuXG4gIG1hcmtBc1ByZXZpZXcoaXNQcmV2aWV3KSB7XG4gICAgaWYgKGlzUHJldmlldykge1xuICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtdHVyYm8tcHJldmlld1wiLCBcIlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtdHVyYm8tcHJldmlld1wiKTtcbiAgICB9XG4gIH1cblxuICBtYXJrVmlzaXREaXJlY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtdHVyYm8tdmlzaXQtZGlyZWN0aW9uXCIsIGRpcmVjdGlvbik7XG4gIH1cblxuICB1bm1hcmtWaXNpdERpcmVjdGlvbigpIHtcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS10dXJiby12aXNpdC1kaXJlY3Rpb25cIik7XG4gIH1cblxuICBhc3luYyByZW5kZXJTbmFwc2hvdChyZW5kZXJlcikge1xuICAgIGF3YWl0IHJlbmRlcmVyLnJlbmRlcigpO1xuICB9XG5cbiAgZmluaXNoUmVuZGVyaW5nU25hcHNob3QocmVuZGVyZXIpIHtcbiAgICByZW5kZXJlci5maW5pc2hSZW5kZXJpbmcoKTtcbiAgfVxufVxuXG5jbGFzcyBGcmFtZVZpZXcgZXh0ZW5kcyBWaWV3IHtcbiAgbWlzc2luZygpIHtcbiAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gYDxzdHJvbmcgY2xhc3M9XCJ0dXJiby1mcmFtZS1lcnJvclwiPkNvbnRlbnQgbWlzc2luZzwvc3Ryb25nPmA7XG4gIH1cblxuICBnZXQgc25hcHNob3QoKSB7XG4gICAgcmV0dXJuIG5ldyBTbmFwc2hvdCh0aGlzLmVsZW1lbnQpXG4gIH1cbn1cblxuY2xhc3MgTGlua0ludGVyY2VwdG9yIHtcbiAgY29uc3RydWN0b3IoZGVsZWdhdGUsIGVsZW1lbnQpIHtcbiAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbGlja0J1YmJsZWQpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0dXJibzpjbGlja1wiLCB0aGlzLmxpbmtDbGlja2VkKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidHVyYm86YmVmb3JlLXZpc2l0XCIsIHRoaXMud2lsbFZpc2l0KTtcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsaWNrQnViYmxlZCk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInR1cmJvOmNsaWNrXCIsIHRoaXMubGlua0NsaWNrZWQpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0dXJibzpiZWZvcmUtdmlzaXRcIiwgdGhpcy53aWxsVmlzaXQpO1xuICB9XG5cbiAgY2xpY2tCdWJibGVkID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKHRoaXMucmVzcG9uZHNUb0V2ZW50VGFyZ2V0KGV2ZW50LnRhcmdldCkpIHtcbiAgICAgIHRoaXMuY2xpY2tFdmVudCA9IGV2ZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdGhpcy5jbGlja0V2ZW50O1xuICAgIH1cbiAgfVxuXG4gIGxpbmtDbGlja2VkID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKHRoaXMuY2xpY2tFdmVudCAmJiB0aGlzLnJlc3BvbmRzVG9FdmVudFRhcmdldChldmVudC50YXJnZXQpICYmIGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgIGlmICh0aGlzLmRlbGVnYXRlLnNob3VsZEludGVyY2VwdExpbmtDbGljayhldmVudC50YXJnZXQsIGV2ZW50LmRldGFpbC51cmwsIGV2ZW50LmRldGFpbC5vcmlnaW5hbEV2ZW50KSkge1xuICAgICAgICB0aGlzLmNsaWNrRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS5saW5rQ2xpY2tJbnRlcmNlcHRlZChldmVudC50YXJnZXQsIGV2ZW50LmRldGFpbC51cmwsIGV2ZW50LmRldGFpbC5vcmlnaW5hbEV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZGVsZXRlIHRoaXMuY2xpY2tFdmVudDtcbiAgfVxuXG4gIHdpbGxWaXNpdCA9IChfZXZlbnQpID0+IHtcbiAgICBkZWxldGUgdGhpcy5jbGlja0V2ZW50O1xuICB9XG5cbiAgcmVzcG9uZHNUb0V2ZW50VGFyZ2V0KHRhcmdldCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50ID8gdGFyZ2V0IDogdGFyZ2V0IGluc3RhbmNlb2YgTm9kZSA/IHRhcmdldC5wYXJlbnRFbGVtZW50IDogbnVsbDtcbiAgICByZXR1cm4gZWxlbWVudCAmJiBlbGVtZW50LmNsb3Nlc3QoXCJ0dXJiby1mcmFtZSwgaHRtbFwiKSA9PSB0aGlzLmVsZW1lbnRcbiAgfVxufVxuXG5jbGFzcyBMaW5rQ2xpY2tPYnNlcnZlciB7XG4gIHN0YXJ0ZWQgPSBmYWxzZVxuXG4gIGNvbnN0cnVjdG9yKGRlbGVnYXRlLCBldmVudFRhcmdldCkge1xuICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICB0aGlzLmV2ZW50VGFyZ2V0ID0gZXZlbnRUYXJnZXQ7XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgdGhpcy5ldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbGlja0NhcHR1cmVkLCB0cnVlKTtcbiAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgc3RvcCgpIHtcbiAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICB0aGlzLmV2ZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsaWNrQ2FwdHVyZWQsIHRydWUpO1xuICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgY2xpY2tDYXB0dXJlZCA9ICgpID0+IHtcbiAgICB0aGlzLmV2ZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsaWNrQnViYmxlZCwgZmFsc2UpO1xuICAgIHRoaXMuZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xpY2tCdWJibGVkLCBmYWxzZSk7XG4gIH1cblxuICBjbGlja0J1YmJsZWQgPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50ICYmIHRoaXMuY2xpY2tFdmVudElzU2lnbmlmaWNhbnQoZXZlbnQpKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSAoZXZlbnQuY29tcG9zZWRQYXRoICYmIGV2ZW50LmNvbXBvc2VkUGF0aCgpWzBdKSB8fCBldmVudC50YXJnZXQ7XG4gICAgICBjb25zdCBsaW5rID0gZmluZExpbmtGcm9tQ2xpY2tUYXJnZXQodGFyZ2V0KTtcbiAgICAgIGlmIChsaW5rICYmIGRvZXNOb3RUYXJnZXRJRnJhbWUobGluaykpIHtcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSBnZXRMb2NhdGlvbkZvckxpbmsobGluayk7XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlLndpbGxGb2xsb3dMaW5rVG9Mb2NhdGlvbihsaW5rLCBsb2NhdGlvbiwgZXZlbnQpKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB0aGlzLmRlbGVnYXRlLmZvbGxvd2VkTGlua1RvTG9jYXRpb24obGluaywgbG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2xpY2tFdmVudElzU2lnbmlmaWNhbnQoZXZlbnQpIHtcbiAgICByZXR1cm4gIShcbiAgICAgIChldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LmlzQ29udGVudEVkaXRhYmxlKSB8fFxuICAgICAgZXZlbnQuZGVmYXVsdFByZXZlbnRlZCB8fFxuICAgICAgZXZlbnQud2hpY2ggPiAxIHx8XG4gICAgICBldmVudC5hbHRLZXkgfHxcbiAgICAgIGV2ZW50LmN0cmxLZXkgfHxcbiAgICAgIGV2ZW50Lm1ldGFLZXkgfHxcbiAgICAgIGV2ZW50LnNoaWZ0S2V5XG4gICAgKVxuICB9XG59XG5cbmNsYXNzIEZvcm1MaW5rQ2xpY2tPYnNlcnZlciB7XG4gIGNvbnN0cnVjdG9yKGRlbGVnYXRlLCBlbGVtZW50KSB7XG4gICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgIHRoaXMubGlua0ludGVyY2VwdG9yID0gbmV3IExpbmtDbGlja09ic2VydmVyKHRoaXMsIGVsZW1lbnQpO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgdGhpcy5saW5rSW50ZXJjZXB0b3Iuc3RhcnQoKTtcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgdGhpcy5saW5rSW50ZXJjZXB0b3Iuc3RvcCgpO1xuICB9XG5cbiAgLy8gTGluayBob3ZlciBvYnNlcnZlciBkZWxlZ2F0ZVxuXG4gIGNhblByZWZldGNoUmVxdWVzdFRvTG9jYXRpb24obGluaywgbG9jYXRpb24pIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHByZWZldGNoQW5kQ2FjaGVSZXF1ZXN0VG9Mb2NhdGlvbihsaW5rLCBsb2NhdGlvbikge1xuICAgIHJldHVyblxuICB9XG5cbiAgLy8gTGluayBjbGljayBvYnNlcnZlciBkZWxlZ2F0ZVxuXG4gIHdpbGxGb2xsb3dMaW5rVG9Mb2NhdGlvbihsaW5rLCBsb2NhdGlvbiwgb3JpZ2luYWxFdmVudCkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmRlbGVnYXRlLndpbGxTdWJtaXRGb3JtTGlua1RvTG9jYXRpb24obGluaywgbG9jYXRpb24sIG9yaWdpbmFsRXZlbnQpICYmXG4gICAgICAobGluay5oYXNBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLW1ldGhvZFwiKSB8fCBsaW5rLmhhc0F0dHJpYnV0ZShcImRhdGEtdHVyYm8tc3RyZWFtXCIpKVxuICAgIClcbiAgfVxuXG4gIGZvbGxvd2VkTGlua1RvTG9jYXRpb24obGluaywgbG9jYXRpb24pIHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XG5cbiAgICBjb25zdCB0eXBlID0gXCJoaWRkZW5cIjtcbiAgICBmb3IgKGNvbnN0IFtuYW1lLCB2YWx1ZV0gb2YgbG9jYXRpb24uc2VhcmNoUGFyYW1zKSB7XG4gICAgICBmb3JtLmFwcGVuZChPYmplY3QuYXNzaWduKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSwgeyB0eXBlLCBuYW1lLCB2YWx1ZSB9KSk7XG4gICAgfVxuXG4gICAgY29uc3QgYWN0aW9uID0gT2JqZWN0LmFzc2lnbihsb2NhdGlvbiwgeyBzZWFyY2g6IFwiXCIgfSk7XG4gICAgZm9ybS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvXCIsIFwidHJ1ZVwiKTtcbiAgICBmb3JtLnNldEF0dHJpYnV0ZShcImFjdGlvblwiLCBhY3Rpb24uaHJlZik7XG4gICAgZm9ybS5zZXRBdHRyaWJ1dGUoXCJoaWRkZW5cIiwgXCJcIik7XG5cbiAgICBjb25zdCBtZXRob2QgPSBsaW5rLmdldEF0dHJpYnV0ZShcImRhdGEtdHVyYm8tbWV0aG9kXCIpO1xuICAgIGlmIChtZXRob2QpIGZvcm0uc2V0QXR0cmlidXRlKFwibWV0aG9kXCIsIG1ldGhvZCk7XG5cbiAgICBjb25zdCB0dXJib0ZyYW1lID0gbGluay5nZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLWZyYW1lXCIpO1xuICAgIGlmICh0dXJib0ZyYW1lKSBmb3JtLnNldEF0dHJpYnV0ZShcImRhdGEtdHVyYm8tZnJhbWVcIiwgdHVyYm9GcmFtZSk7XG5cbiAgICBjb25zdCB0dXJib0FjdGlvbiA9IGdldFZpc2l0QWN0aW9uKGxpbmspO1xuICAgIGlmICh0dXJib0FjdGlvbikgZm9ybS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLWFjdGlvblwiLCB0dXJib0FjdGlvbik7XG5cbiAgICBjb25zdCB0dXJib0NvbmZpcm0gPSBsaW5rLmdldEF0dHJpYnV0ZShcImRhdGEtdHVyYm8tY29uZmlybVwiKTtcbiAgICBpZiAodHVyYm9Db25maXJtKSBmb3JtLnNldEF0dHJpYnV0ZShcImRhdGEtdHVyYm8tY29uZmlybVwiLCB0dXJib0NvbmZpcm0pO1xuXG4gICAgY29uc3QgdHVyYm9TdHJlYW0gPSBsaW5rLmhhc0F0dHJpYnV0ZShcImRhdGEtdHVyYm8tc3RyZWFtXCIpO1xuICAgIGlmICh0dXJib1N0cmVhbSkgZm9ybS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLXN0cmVhbVwiLCBcIlwiKTtcblxuICAgIHRoaXMuZGVsZWdhdGUuc3VibWl0dGVkRm9ybUxpbmtUb0xvY2F0aW9uKGxpbmssIGxvY2F0aW9uLCBmb3JtKTtcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwidHVyYm86c3VibWl0LWVuZFwiLCAoKSA9PiBmb3JtLnJlbW92ZSgpLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IGZvcm0ucmVxdWVzdFN1Ym1pdCgpKTtcbiAgfVxufVxuXG5jbGFzcyBCYXJkbyB7XG4gIHN0YXRpYyBhc3luYyBwcmVzZXJ2aW5nUGVybWFuZW50RWxlbWVudHMoZGVsZWdhdGUsIHBlcm1hbmVudEVsZW1lbnRNYXAsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgYmFyZG8gPSBuZXcgdGhpcyhkZWxlZ2F0ZSwgcGVybWFuZW50RWxlbWVudE1hcCk7XG4gICAgYmFyZG8uZW50ZXIoKTtcbiAgICBhd2FpdCBjYWxsYmFjaygpO1xuICAgIGJhcmRvLmxlYXZlKCk7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihkZWxlZ2F0ZSwgcGVybWFuZW50RWxlbWVudE1hcCkge1xuICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICB0aGlzLnBlcm1hbmVudEVsZW1lbnRNYXAgPSBwZXJtYW5lbnRFbGVtZW50TWFwO1xuICB9XG5cbiAgZW50ZXIoKSB7XG4gICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnBlcm1hbmVudEVsZW1lbnRNYXApIHtcbiAgICAgIGNvbnN0IFtjdXJyZW50UGVybWFuZW50RWxlbWVudCwgbmV3UGVybWFuZW50RWxlbWVudF0gPSB0aGlzLnBlcm1hbmVudEVsZW1lbnRNYXBbaWRdO1xuICAgICAgdGhpcy5kZWxlZ2F0ZS5lbnRlcmluZ0JhcmRvKGN1cnJlbnRQZXJtYW5lbnRFbGVtZW50LCBuZXdQZXJtYW5lbnRFbGVtZW50KTtcbiAgICAgIHRoaXMucmVwbGFjZU5ld1Blcm1hbmVudEVsZW1lbnRXaXRoUGxhY2Vob2xkZXIobmV3UGVybWFuZW50RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgbGVhdmUoKSB7XG4gICAgZm9yIChjb25zdCBpZCBpbiB0aGlzLnBlcm1hbmVudEVsZW1lbnRNYXApIHtcbiAgICAgIGNvbnN0IFtjdXJyZW50UGVybWFuZW50RWxlbWVudF0gPSB0aGlzLnBlcm1hbmVudEVsZW1lbnRNYXBbaWRdO1xuICAgICAgdGhpcy5yZXBsYWNlQ3VycmVudFBlcm1hbmVudEVsZW1lbnRXaXRoQ2xvbmUoY3VycmVudFBlcm1hbmVudEVsZW1lbnQpO1xuICAgICAgdGhpcy5yZXBsYWNlUGxhY2Vob2xkZXJXaXRoUGVybWFuZW50RWxlbWVudChjdXJyZW50UGVybWFuZW50RWxlbWVudCk7XG4gICAgICB0aGlzLmRlbGVnYXRlLmxlYXZpbmdCYXJkbyhjdXJyZW50UGVybWFuZW50RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcmVwbGFjZU5ld1Blcm1hbmVudEVsZW1lbnRXaXRoUGxhY2Vob2xkZXIocGVybWFuZW50RWxlbWVudCkge1xuICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gY3JlYXRlUGxhY2Vob2xkZXJGb3JQZXJtYW5lbnRFbGVtZW50KHBlcm1hbmVudEVsZW1lbnQpO1xuICAgIHBlcm1hbmVudEVsZW1lbnQucmVwbGFjZVdpdGgocGxhY2Vob2xkZXIpO1xuICB9XG5cbiAgcmVwbGFjZUN1cnJlbnRQZXJtYW5lbnRFbGVtZW50V2l0aENsb25lKHBlcm1hbmVudEVsZW1lbnQpIHtcbiAgICBjb25zdCBjbG9uZSA9IHBlcm1hbmVudEVsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgIHBlcm1hbmVudEVsZW1lbnQucmVwbGFjZVdpdGgoY2xvbmUpO1xuICB9XG5cbiAgcmVwbGFjZVBsYWNlaG9sZGVyV2l0aFBlcm1hbmVudEVsZW1lbnQocGVybWFuZW50RWxlbWVudCkge1xuICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gdGhpcy5nZXRQbGFjZWhvbGRlckJ5SWQocGVybWFuZW50RWxlbWVudC5pZCk7XG4gICAgcGxhY2Vob2xkZXI/LnJlcGxhY2VXaXRoKHBlcm1hbmVudEVsZW1lbnQpO1xuICB9XG5cbiAgZ2V0UGxhY2Vob2xkZXJCeUlkKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMucGxhY2Vob2xkZXJzLmZpbmQoKGVsZW1lbnQpID0+IGVsZW1lbnQuY29udGVudCA9PSBpZClcbiAgfVxuXG4gIGdldCBwbGFjZWhvbGRlcnMoKSB7XG4gICAgcmV0dXJuIFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwibWV0YVtuYW1lPXR1cmJvLXBlcm1hbmVudC1wbGFjZWhvbGRlcl1bY29udGVudF1cIildXG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlUGxhY2Vob2xkZXJGb3JQZXJtYW5lbnRFbGVtZW50KHBlcm1hbmVudEVsZW1lbnQpIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJtZXRhXCIpO1xuICBlbGVtZW50LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJ0dXJiby1wZXJtYW5lbnQtcGxhY2Vob2xkZXJcIik7XG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY29udGVudFwiLCBwZXJtYW5lbnRFbGVtZW50LmlkKTtcbiAgcmV0dXJuIGVsZW1lbnRcbn1cblxuY2xhc3MgUmVuZGVyZXIge1xuICAjYWN0aXZlRWxlbWVudCA9IG51bGxcblxuICBjb25zdHJ1Y3RvcihjdXJyZW50U25hcHNob3QsIG5ld1NuYXBzaG90LCByZW5kZXJFbGVtZW50LCBpc1ByZXZpZXcsIHdpbGxSZW5kZXIgPSB0cnVlKSB7XG4gICAgdGhpcy5jdXJyZW50U25hcHNob3QgPSBjdXJyZW50U25hcHNob3Q7XG4gICAgdGhpcy5uZXdTbmFwc2hvdCA9IG5ld1NuYXBzaG90O1xuICAgIHRoaXMuaXNQcmV2aWV3ID0gaXNQcmV2aWV3O1xuICAgIHRoaXMud2lsbFJlbmRlciA9IHdpbGxSZW5kZXI7XG4gICAgdGhpcy5yZW5kZXJFbGVtZW50ID0gcmVuZGVyRWxlbWVudDtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiAodGhpcy5yZXNvbHZpbmdGdW5jdGlvbnMgPSB7IHJlc29sdmUsIHJlamVjdCB9KSk7XG4gIH1cblxuICBnZXQgc2hvdWxkUmVuZGVyKCkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBnZXQgcmVsb2FkUmVhc29uKCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgcHJlcGFyZVRvUmVuZGVyKCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8vIEFic3RyYWN0IG1ldGhvZFxuICB9XG5cbiAgZmluaXNoUmVuZGVyaW5nKCkge1xuICAgIGlmICh0aGlzLnJlc29sdmluZ0Z1bmN0aW9ucykge1xuICAgICAgdGhpcy5yZXNvbHZpbmdGdW5jdGlvbnMucmVzb2x2ZSgpO1xuICAgICAgZGVsZXRlIHRoaXMucmVzb2x2aW5nRnVuY3Rpb25zO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHByZXNlcnZpbmdQZXJtYW5lbnRFbGVtZW50cyhjYWxsYmFjaykge1xuICAgIGF3YWl0IEJhcmRvLnByZXNlcnZpbmdQZXJtYW5lbnRFbGVtZW50cyh0aGlzLCB0aGlzLnBlcm1hbmVudEVsZW1lbnRNYXAsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIGZvY3VzRmlyc3RBdXRvZm9jdXNhYmxlRWxlbWVudCgpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5jb25uZWN0ZWRTbmFwc2hvdC5maXJzdEF1dG9mb2N1c2FibGVFbGVtZW50O1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICBlbGVtZW50LmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gQmFyZG8gZGVsZWdhdGVcblxuICBlbnRlcmluZ0JhcmRvKGN1cnJlbnRQZXJtYW5lbnRFbGVtZW50KSB7XG4gICAgaWYgKHRoaXMuI2FjdGl2ZUVsZW1lbnQpIHJldHVyblxuXG4gICAgaWYgKGN1cnJlbnRQZXJtYW5lbnRFbGVtZW50LmNvbnRhaW5zKHRoaXMuY3VycmVudFNuYXBzaG90LmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICB0aGlzLiNhY3RpdmVFbGVtZW50ID0gdGhpcy5jdXJyZW50U25hcHNob3QuYWN0aXZlRWxlbWVudDtcbiAgICB9XG4gIH1cblxuICBsZWF2aW5nQmFyZG8oY3VycmVudFBlcm1hbmVudEVsZW1lbnQpIHtcbiAgICBpZiAoY3VycmVudFBlcm1hbmVudEVsZW1lbnQuY29udGFpbnModGhpcy4jYWN0aXZlRWxlbWVudCkgJiYgdGhpcy4jYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICB0aGlzLiNhY3RpdmVFbGVtZW50LmZvY3VzKCk7XG5cbiAgICAgIHRoaXMuI2FjdGl2ZUVsZW1lbnQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldCBjb25uZWN0ZWRTbmFwc2hvdCgpIHtcbiAgICByZXR1cm4gdGhpcy5uZXdTbmFwc2hvdC5pc0Nvbm5lY3RlZCA/IHRoaXMubmV3U25hcHNob3QgOiB0aGlzLmN1cnJlbnRTbmFwc2hvdFxuICB9XG5cbiAgZ2V0IGN1cnJlbnRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRTbmFwc2hvdC5lbGVtZW50XG4gIH1cblxuICBnZXQgbmV3RWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5uZXdTbmFwc2hvdC5lbGVtZW50XG4gIH1cblxuICBnZXQgcGVybWFuZW50RWxlbWVudE1hcCgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50U25hcHNob3QuZ2V0UGVybWFuZW50RWxlbWVudE1hcEZvclNuYXBzaG90KHRoaXMubmV3U25hcHNob3QpXG4gIH1cblxuICBnZXQgcmVuZGVyTWV0aG9kKCkge1xuICAgIHJldHVybiBcInJlcGxhY2VcIlxuICB9XG59XG5cbmNsYXNzIEZyYW1lUmVuZGVyZXIgZXh0ZW5kcyBSZW5kZXJlciB7XG4gIHN0YXRpYyByZW5kZXJFbGVtZW50KGN1cnJlbnRFbGVtZW50LCBuZXdFbGVtZW50KSB7XG4gICAgY29uc3QgZGVzdGluYXRpb25SYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgZGVzdGluYXRpb25SYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoY3VycmVudEVsZW1lbnQpO1xuICAgIGRlc3RpbmF0aW9uUmFuZ2UuZGVsZXRlQ29udGVudHMoKTtcblxuICAgIGNvbnN0IGZyYW1lRWxlbWVudCA9IG5ld0VsZW1lbnQ7XG4gICAgY29uc3Qgc291cmNlUmFuZ2UgPSBmcmFtZUVsZW1lbnQub3duZXJEb2N1bWVudD8uY3JlYXRlUmFuZ2UoKTtcbiAgICBpZiAoc291cmNlUmFuZ2UpIHtcbiAgICAgIHNvdXJjZVJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhmcmFtZUVsZW1lbnQpO1xuICAgICAgY3VycmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoc291cmNlUmFuZ2UuZXh0cmFjdENvbnRlbnRzKCkpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0cnVjdG9yKGRlbGVnYXRlLCBjdXJyZW50U25hcHNob3QsIG5ld1NuYXBzaG90LCByZW5kZXJFbGVtZW50LCBpc1ByZXZpZXcsIHdpbGxSZW5kZXIgPSB0cnVlKSB7XG4gICAgc3VwZXIoY3VycmVudFNuYXBzaG90LCBuZXdTbmFwc2hvdCwgcmVuZGVyRWxlbWVudCwgaXNQcmV2aWV3LCB3aWxsUmVuZGVyKTtcbiAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gIH1cblxuICBnZXQgc2hvdWxkUmVuZGVyKCkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBhc3luYyByZW5kZXIoKSB7XG4gICAgYXdhaXQgbmV4dFJlcGFpbnQoKTtcbiAgICB0aGlzLnByZXNlcnZpbmdQZXJtYW5lbnRFbGVtZW50cygoKSA9PiB7XG4gICAgICB0aGlzLmxvYWRGcmFtZUVsZW1lbnQoKTtcbiAgICB9KTtcbiAgICB0aGlzLnNjcm9sbEZyYW1lSW50b1ZpZXcoKTtcbiAgICBhd2FpdCBuZXh0UmVwYWludCgpO1xuICAgIHRoaXMuZm9jdXNGaXJzdEF1dG9mb2N1c2FibGVFbGVtZW50KCk7XG4gICAgYXdhaXQgbmV4dFJlcGFpbnQoKTtcbiAgICB0aGlzLmFjdGl2YXRlU2NyaXB0RWxlbWVudHMoKTtcbiAgfVxuXG4gIGxvYWRGcmFtZUVsZW1lbnQoKSB7XG4gICAgdGhpcy5kZWxlZ2F0ZS53aWxsUmVuZGVyRnJhbWUodGhpcy5jdXJyZW50RWxlbWVudCwgdGhpcy5uZXdFbGVtZW50KTtcbiAgICB0aGlzLnJlbmRlckVsZW1lbnQodGhpcy5jdXJyZW50RWxlbWVudCwgdGhpcy5uZXdFbGVtZW50KTtcbiAgfVxuXG4gIHNjcm9sbEZyYW1lSW50b1ZpZXcoKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudEVsZW1lbnQuYXV0b3Njcm9sbCB8fCB0aGlzLm5ld0VsZW1lbnQuYXV0b3Njcm9sbCkge1xuICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuY3VycmVudEVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICBjb25zdCBibG9jayA9IHJlYWRTY3JvbGxMb2dpY2FsUG9zaXRpb24odGhpcy5jdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF1dG9zY3JvbGwtYmxvY2tcIiksIFwiZW5kXCIpO1xuICAgICAgY29uc3QgYmVoYXZpb3IgPSByZWFkU2Nyb2xsQmVoYXZpb3IodGhpcy5jdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWF1dG9zY3JvbGwtYmVoYXZpb3JcIiksIFwiYXV0b1wiKTtcblxuICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC5zY3JvbGxJbnRvVmlldyh7IGJsb2NrLCBiZWhhdmlvciB9KTtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBhY3RpdmF0ZVNjcmlwdEVsZW1lbnRzKCkge1xuICAgIGZvciAoY29uc3QgaW5lcnRTY3JpcHRFbGVtZW50IG9mIHRoaXMubmV3U2NyaXB0RWxlbWVudHMpIHtcbiAgICAgIGNvbnN0IGFjdGl2YXRlZFNjcmlwdEVsZW1lbnQgPSBhY3RpdmF0ZVNjcmlwdEVsZW1lbnQoaW5lcnRTY3JpcHRFbGVtZW50KTtcbiAgICAgIGluZXJ0U2NyaXB0RWxlbWVudC5yZXBsYWNlV2l0aChhY3RpdmF0ZWRTY3JpcHRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBnZXQgbmV3U2NyaXB0RWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcInNjcmlwdFwiKVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlYWRTY3JvbGxMb2dpY2FsUG9zaXRpb24odmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICBpZiAodmFsdWUgPT0gXCJlbmRcIiB8fCB2YWx1ZSA9PSBcInN0YXJ0XCIgfHwgdmFsdWUgPT0gXCJjZW50ZXJcIiB8fCB2YWx1ZSA9PSBcIm5lYXJlc3RcIikge1xuICAgIHJldHVybiB2YWx1ZVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBkZWZhdWx0VmFsdWVcbiAgfVxufVxuXG5mdW5jdGlvbiByZWFkU2Nyb2xsQmVoYXZpb3IodmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICBpZiAodmFsdWUgPT0gXCJhdXRvXCIgfHwgdmFsdWUgPT0gXCJzbW9vdGhcIikge1xuICAgIHJldHVybiB2YWx1ZVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBkZWZhdWx0VmFsdWVcbiAgfVxufVxuXG5jbGFzcyBQcm9ncmVzc0JhciB7XG4gIHN0YXRpYyBhbmltYXRpb25EdXJhdGlvbiA9IDMwMCAvKm1zKi9cblxuICBzdGF0aWMgZ2V0IGRlZmF1bHRDU1MoKSB7XG4gICAgcmV0dXJuIHVuaW5kZW50YFxuICAgICAgLnR1cmJvLXByb2dyZXNzLWJhciB7XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgaGVpZ2h0OiAzcHg7XG4gICAgICAgIGJhY2tncm91bmQ6ICMwMDc2ZmY7XG4gICAgICAgIHotaW5kZXg6IDIxNDc0ODM2NDc7XG4gICAgICAgIHRyYW5zaXRpb246XG4gICAgICAgICAgd2lkdGggJHtQcm9ncmVzc0Jhci5hbmltYXRpb25EdXJhdGlvbn1tcyBlYXNlLW91dCxcbiAgICAgICAgICBvcGFjaXR5ICR7UHJvZ3Jlc3NCYXIuYW5pbWF0aW9uRHVyYXRpb24gLyAyfW1zICR7UHJvZ3Jlc3NCYXIuYW5pbWF0aW9uRHVyYXRpb24gLyAyfW1zIGVhc2UtaW47XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7XG4gICAgICB9XG4gICAgYFxuICB9XG5cbiAgaGlkaW5nID0gZmFsc2VcbiAgdmFsdWUgPSAwXG4gIHZpc2libGUgPSBmYWxzZVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3R5bGVzaGVldEVsZW1lbnQgPSB0aGlzLmNyZWF0ZVN0eWxlc2hlZXRFbGVtZW50KCk7XG4gICAgdGhpcy5wcm9ncmVzc0VsZW1lbnQgPSB0aGlzLmNyZWF0ZVByb2dyZXNzRWxlbWVudCgpO1xuICAgIHRoaXMuaW5zdGFsbFN0eWxlc2hlZXRFbGVtZW50KCk7XG4gICAgdGhpcy5zZXRWYWx1ZSgwKTtcbiAgfVxuXG4gIHNob3coKSB7XG4gICAgaWYgKCF0aGlzLnZpc2libGUpIHtcbiAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XG4gICAgICB0aGlzLmluc3RhbGxQcm9ncmVzc0VsZW1lbnQoKTtcbiAgICAgIHRoaXMuc3RhcnRUcmlja2xpbmcoKTtcbiAgICB9XG4gIH1cblxuICBoaWRlKCkge1xuICAgIGlmICh0aGlzLnZpc2libGUgJiYgIXRoaXMuaGlkaW5nKSB7XG4gICAgICB0aGlzLmhpZGluZyA9IHRydWU7XG4gICAgICB0aGlzLmZhZGVQcm9ncmVzc0VsZW1lbnQoKCkgPT4ge1xuICAgICAgICB0aGlzLnVuaW5zdGFsbFByb2dyZXNzRWxlbWVudCgpO1xuICAgICAgICB0aGlzLnN0b3BUcmlja2xpbmcoKTtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGlkaW5nID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLnJlZnJlc2goKTtcbiAgfVxuXG4gIC8vIFByaXZhdGVcblxuICBpbnN0YWxsU3R5bGVzaGVldEVsZW1lbnQoKSB7XG4gICAgZG9jdW1lbnQuaGVhZC5pbnNlcnRCZWZvcmUodGhpcy5zdHlsZXNoZWV0RWxlbWVudCwgZG9jdW1lbnQuaGVhZC5maXJzdENoaWxkKTtcbiAgfVxuXG4gIGluc3RhbGxQcm9ncmVzc0VsZW1lbnQoKSB7XG4gICAgdGhpcy5wcm9ncmVzc0VsZW1lbnQuc3R5bGUud2lkdGggPSBcIjBcIjtcbiAgICB0aGlzLnByb2dyZXNzRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lmluc2VydEJlZm9yZSh0aGlzLnByb2dyZXNzRWxlbWVudCwgZG9jdW1lbnQuYm9keSk7XG4gICAgdGhpcy5yZWZyZXNoKCk7XG4gIH1cblxuICBmYWRlUHJvZ3Jlc3NFbGVtZW50KGNhbGxiYWNrKSB7XG4gICAgdGhpcy5wcm9ncmVzc0VsZW1lbnQuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIFByb2dyZXNzQmFyLmFuaW1hdGlvbkR1cmF0aW9uICogMS41KTtcbiAgfVxuXG4gIHVuaW5zdGFsbFByb2dyZXNzRWxlbWVudCgpIHtcbiAgICBpZiAodGhpcy5wcm9ncmVzc0VsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMucHJvZ3Jlc3NFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBzdGFydFRyaWNrbGluZygpIHtcbiAgICBpZiAoIXRoaXMudHJpY2tsZUludGVydmFsKSB7XG4gICAgICB0aGlzLnRyaWNrbGVJbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLnRyaWNrbGUsIFByb2dyZXNzQmFyLmFuaW1hdGlvbkR1cmF0aW9uKTtcbiAgICB9XG4gIH1cblxuICBzdG9wVHJpY2tsaW5nKCkge1xuICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMudHJpY2tsZUludGVydmFsKTtcbiAgICBkZWxldGUgdGhpcy50cmlja2xlSW50ZXJ2YWw7XG4gIH1cblxuICB0cmlja2xlID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0VmFsdWUodGhpcy52YWx1ZSArIE1hdGgucmFuZG9tKCkgLyAxMDApO1xuICB9XG5cbiAgcmVmcmVzaCgpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgdGhpcy5wcm9ncmVzc0VsZW1lbnQuc3R5bGUud2lkdGggPSBgJHsxMCArIHRoaXMudmFsdWUgKiA5MH0lYDtcbiAgICB9KTtcbiAgfVxuXG4gIGNyZWF0ZVN0eWxlc2hlZXRFbGVtZW50KCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgZWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBQcm9ncmVzc0Jhci5kZWZhdWx0Q1NTO1xuICAgIGlmICh0aGlzLmNzcE5vbmNlKSB7XG4gICAgICBlbGVtZW50Lm5vbmNlID0gdGhpcy5jc3BOb25jZTtcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnRcbiAgfVxuXG4gIGNyZWF0ZVByb2dyZXNzRWxlbWVudCgpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9IFwidHVyYm8tcHJvZ3Jlc3MtYmFyXCI7XG4gICAgcmV0dXJuIGVsZW1lbnRcbiAgfVxuXG4gIGdldCBjc3BOb25jZSgpIHtcbiAgICByZXR1cm4gZ2V0TWV0YUNvbnRlbnQoXCJjc3Atbm9uY2VcIilcbiAgfVxufVxuXG5jbGFzcyBIZWFkU25hcHNob3QgZXh0ZW5kcyBTbmFwc2hvdCB7XG4gIGRldGFpbHNCeU91dGVySFRNTCA9IHRoaXMuY2hpbGRyZW5cbiAgICAuZmlsdGVyKChlbGVtZW50KSA9PiAhZWxlbWVudElzTm9zY3JpcHQoZWxlbWVudCkpXG4gICAgLm1hcCgoZWxlbWVudCkgPT4gZWxlbWVudFdpdGhvdXROb25jZShlbGVtZW50KSlcbiAgICAucmVkdWNlKChyZXN1bHQsIGVsZW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IHsgb3V0ZXJIVE1MIH0gPSBlbGVtZW50O1xuICAgICAgY29uc3QgZGV0YWlscyA9XG4gICAgICAgIG91dGVySFRNTCBpbiByZXN1bHRcbiAgICAgICAgICA/IHJlc3VsdFtvdXRlckhUTUxdXG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIHR5cGU6IGVsZW1lbnRUeXBlKGVsZW1lbnQpLFxuICAgICAgICAgICAgICB0cmFja2VkOiBlbGVtZW50SXNUcmFja2VkKGVsZW1lbnQpLFxuICAgICAgICAgICAgICBlbGVtZW50czogW11cbiAgICAgICAgICAgIH07XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgIFtvdXRlckhUTUxdOiB7XG4gICAgICAgICAgLi4uZGV0YWlscyxcbiAgICAgICAgICBlbGVtZW50czogWy4uLmRldGFpbHMuZWxlbWVudHMsIGVsZW1lbnRdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7fSlcblxuICBnZXQgdHJhY2tlZEVsZW1lbnRTaWduYXR1cmUoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZGV0YWlsc0J5T3V0ZXJIVE1MKVxuICAgICAgLmZpbHRlcigob3V0ZXJIVE1MKSA9PiB0aGlzLmRldGFpbHNCeU91dGVySFRNTFtvdXRlckhUTUxdLnRyYWNrZWQpXG4gICAgICAuam9pbihcIlwiKVxuICB9XG5cbiAgZ2V0U2NyaXB0RWxlbWVudHNOb3RJblNuYXBzaG90KHNuYXBzaG90KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RWxlbWVudHNNYXRjaGluZ1R5cGVOb3RJblNuYXBzaG90KFwic2NyaXB0XCIsIHNuYXBzaG90KVxuICB9XG5cbiAgZ2V0U3R5bGVzaGVldEVsZW1lbnRzTm90SW5TbmFwc2hvdChzbmFwc2hvdCkge1xuICAgIHJldHVybiB0aGlzLmdldEVsZW1lbnRzTWF0Y2hpbmdUeXBlTm90SW5TbmFwc2hvdChcInN0eWxlc2hlZXRcIiwgc25hcHNob3QpXG4gIH1cblxuICBnZXRFbGVtZW50c01hdGNoaW5nVHlwZU5vdEluU25hcHNob3QobWF0Y2hlZFR5cGUsIHNuYXBzaG90KSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZGV0YWlsc0J5T3V0ZXJIVE1MKVxuICAgICAgLmZpbHRlcigob3V0ZXJIVE1MKSA9PiAhKG91dGVySFRNTCBpbiBzbmFwc2hvdC5kZXRhaWxzQnlPdXRlckhUTUwpKVxuICAgICAgLm1hcCgob3V0ZXJIVE1MKSA9PiB0aGlzLmRldGFpbHNCeU91dGVySFRNTFtvdXRlckhUTUxdKVxuICAgICAgLmZpbHRlcigoeyB0eXBlIH0pID0+IHR5cGUgPT0gbWF0Y2hlZFR5cGUpXG4gICAgICAubWFwKCh7IGVsZW1lbnRzOiBbZWxlbWVudF0gfSkgPT4gZWxlbWVudClcbiAgfVxuXG4gIGdldCBwcm92aXNpb25hbEVsZW1lbnRzKCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmRldGFpbHNCeU91dGVySFRNTCkucmVkdWNlKChyZXN1bHQsIG91dGVySFRNTCkgPT4ge1xuICAgICAgY29uc3QgeyB0eXBlLCB0cmFja2VkLCBlbGVtZW50cyB9ID0gdGhpcy5kZXRhaWxzQnlPdXRlckhUTUxbb3V0ZXJIVE1MXTtcbiAgICAgIGlmICh0eXBlID09IG51bGwgJiYgIXRyYWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIFsuLi5yZXN1bHQsIC4uLmVsZW1lbnRzXVxuICAgICAgfSBlbHNlIGlmIChlbGVtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHJldHVybiBbLi4ucmVzdWx0LCAuLi5lbGVtZW50cy5zbGljZSgxKV1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgIH1cbiAgICB9LCBbXSlcbiAgfVxuXG4gIGdldE1ldGFWYWx1ZShuYW1lKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZmluZE1ldGFFbGVtZW50QnlOYW1lKG5hbWUpO1xuICAgIHJldHVybiBlbGVtZW50ID8gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpIDogbnVsbFxuICB9XG5cbiAgZmluZE1ldGFFbGVtZW50QnlOYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5kZXRhaWxzQnlPdXRlckhUTUwpLnJlZHVjZSgocmVzdWx0LCBvdXRlckhUTUwpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZWxlbWVudHM6IFtlbGVtZW50XVxuICAgICAgfSA9IHRoaXMuZGV0YWlsc0J5T3V0ZXJIVE1MW291dGVySFRNTF07XG4gICAgICByZXR1cm4gZWxlbWVudElzTWV0YUVsZW1lbnRXaXRoTmFtZShlbGVtZW50LCBuYW1lKSA/IGVsZW1lbnQgOiByZXN1bHRcbiAgICB9LCB1bmRlZmluZWQgfCB1bmRlZmluZWQpXG4gIH1cbn1cblxuZnVuY3Rpb24gZWxlbWVudFR5cGUoZWxlbWVudCkge1xuICBpZiAoZWxlbWVudElzU2NyaXB0KGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIFwic2NyaXB0XCJcbiAgfSBlbHNlIGlmIChlbGVtZW50SXNTdHlsZXNoZWV0KGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIFwic3R5bGVzaGVldFwiXG4gIH1cbn1cblxuZnVuY3Rpb24gZWxlbWVudElzVHJhY2tlZChlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdHVyYm8tdHJhY2tcIikgPT0gXCJyZWxvYWRcIlxufVxuXG5mdW5jdGlvbiBlbGVtZW50SXNTY3JpcHQoZWxlbWVudCkge1xuICBjb25zdCB0YWdOYW1lID0gZWxlbWVudC5sb2NhbE5hbWU7XG4gIHJldHVybiB0YWdOYW1lID09IFwic2NyaXB0XCJcbn1cblxuZnVuY3Rpb24gZWxlbWVudElzTm9zY3JpcHQoZWxlbWVudCkge1xuICBjb25zdCB0YWdOYW1lID0gZWxlbWVudC5sb2NhbE5hbWU7XG4gIHJldHVybiB0YWdOYW1lID09IFwibm9zY3JpcHRcIlxufVxuXG5mdW5jdGlvbiBlbGVtZW50SXNTdHlsZXNoZWV0KGVsZW1lbnQpIHtcbiAgY29uc3QgdGFnTmFtZSA9IGVsZW1lbnQubG9jYWxOYW1lO1xuICByZXR1cm4gdGFnTmFtZSA9PSBcInN0eWxlXCIgfHwgKHRhZ05hbWUgPT0gXCJsaW5rXCIgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJyZWxcIikgPT0gXCJzdHlsZXNoZWV0XCIpXG59XG5cbmZ1bmN0aW9uIGVsZW1lbnRJc01ldGFFbGVtZW50V2l0aE5hbWUoZWxlbWVudCwgbmFtZSkge1xuICBjb25zdCB0YWdOYW1lID0gZWxlbWVudC5sb2NhbE5hbWU7XG4gIHJldHVybiB0YWdOYW1lID09IFwibWV0YVwiICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSA9PSBuYW1lXG59XG5cbmZ1bmN0aW9uIGVsZW1lbnRXaXRob3V0Tm9uY2UoZWxlbWVudCkge1xuICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJub25jZVwiKSkge1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgXCJcIik7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudFxufVxuXG5jbGFzcyBQYWdlU25hcHNob3QgZXh0ZW5kcyBTbmFwc2hvdCB7XG4gIHN0YXRpYyBmcm9tSFRNTFN0cmluZyhodG1sID0gXCJcIikge1xuICAgIHJldHVybiB0aGlzLmZyb21Eb2N1bWVudChwYXJzZUhUTUxEb2N1bWVudChodG1sKSlcbiAgfVxuXG4gIHN0YXRpYyBmcm9tRWxlbWVudChlbGVtZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuZnJvbURvY3VtZW50KGVsZW1lbnQub3duZXJEb2N1bWVudClcbiAgfVxuXG4gIHN0YXRpYyBmcm9tRG9jdW1lbnQoeyBkb2N1bWVudEVsZW1lbnQsIGJvZHksIGhlYWQgfSkge1xuICAgIHJldHVybiBuZXcgdGhpcyhkb2N1bWVudEVsZW1lbnQsIGJvZHksIG5ldyBIZWFkU25hcHNob3QoaGVhZCkpXG4gIH1cblxuICBjb25zdHJ1Y3Rvcihkb2N1bWVudEVsZW1lbnQsIGJvZHksIGhlYWRTbmFwc2hvdCkge1xuICAgIHN1cGVyKGJvZHkpO1xuICAgIHRoaXMuZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnRFbGVtZW50O1xuICAgIHRoaXMuaGVhZFNuYXBzaG90ID0gaGVhZFNuYXBzaG90O1xuICB9XG5cbiAgY2xvbmUoKSB7XG4gICAgY29uc3QgY2xvbmVkRWxlbWVudCA9IHRoaXMuZWxlbWVudC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICBjb25zdCBzZWxlY3RFbGVtZW50cyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic2VsZWN0XCIpO1xuICAgIGNvbnN0IGNsb25lZFNlbGVjdEVsZW1lbnRzID0gY2xvbmVkRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic2VsZWN0XCIpO1xuXG4gICAgZm9yIChjb25zdCBbaW5kZXgsIHNvdXJjZV0gb2Ygc2VsZWN0RWxlbWVudHMuZW50cmllcygpKSB7XG4gICAgICBjb25zdCBjbG9uZSA9IGNsb25lZFNlbGVjdEVsZW1lbnRzW2luZGV4XTtcbiAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIGNsb25lLnNlbGVjdGVkT3B0aW9ucykgb3B0aW9uLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBzb3VyY2Uuc2VsZWN0ZWRPcHRpb25zKSBjbG9uZS5vcHRpb25zW29wdGlvbi5pbmRleF0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgY2xvbmVkUGFzc3dvcmRJbnB1dCBvZiBjbG9uZWRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJwYXNzd29yZFwiXScpKSB7XG4gICAgICBjbG9uZWRQYXNzd29yZElucHV0LnZhbHVlID0gXCJcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFBhZ2VTbmFwc2hvdCh0aGlzLmRvY3VtZW50RWxlbWVudCwgY2xvbmVkRWxlbWVudCwgdGhpcy5oZWFkU25hcHNob3QpXG4gIH1cblxuICBnZXQgbGFuZygpIHtcbiAgICByZXR1cm4gdGhpcy5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibGFuZ1wiKVxuICB9XG5cbiAgZ2V0IGhlYWRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLmhlYWRTbmFwc2hvdC5lbGVtZW50XG4gIH1cblxuICBnZXQgcm9vdExvY2F0aW9uKCkge1xuICAgIGNvbnN0IHJvb3QgPSB0aGlzLmdldFNldHRpbmcoXCJyb290XCIpID8/IFwiL1wiO1xuICAgIHJldHVybiBleHBhbmRVUkwocm9vdClcbiAgfVxuXG4gIGdldCBjYWNoZUNvbnRyb2xWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTZXR0aW5nKFwiY2FjaGUtY29udHJvbFwiKVxuICB9XG5cbiAgZ2V0IGlzUHJldmlld2FibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FjaGVDb250cm9sVmFsdWUgIT0gXCJuby1wcmV2aWV3XCJcbiAgfVxuXG4gIGdldCBpc0NhY2hlYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jYWNoZUNvbnRyb2xWYWx1ZSAhPSBcIm5vLWNhY2hlXCJcbiAgfVxuXG4gIGdldCBpc1Zpc2l0YWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTZXR0aW5nKFwidmlzaXQtY29udHJvbFwiKSAhPSBcInJlbG9hZFwiXG4gIH1cblxuICBnZXQgcHJlZmVyc1ZpZXdUcmFuc2l0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5oZWFkU25hcHNob3QuZ2V0TWV0YVZhbHVlKFwidmlldy10cmFuc2l0aW9uXCIpID09PSBcInNhbWUtb3JpZ2luXCJcbiAgfVxuXG4gIGdldCBzaG91bGRNb3JwaFBhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U2V0dGluZyhcInJlZnJlc2gtbWV0aG9kXCIpID09PSBcIm1vcnBoXCJcbiAgfVxuXG4gIGdldCBzaG91bGRQcmVzZXJ2ZVNjcm9sbFBvc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldFNldHRpbmcoXCJyZWZyZXNoLXNjcm9sbFwiKSA9PT0gXCJwcmVzZXJ2ZVwiXG4gIH1cblxuICAvLyBQcml2YXRlXG5cbiAgZ2V0U2V0dGluZyhuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuaGVhZFNuYXBzaG90LmdldE1ldGFWYWx1ZShgdHVyYm8tJHtuYW1lfWApXG4gIH1cbn1cblxuY2xhc3MgVmlld1RyYW5zaXRpb25lciB7XG4gICN2aWV3VHJhbnNpdGlvblN0YXJ0ZWQgPSBmYWxzZVxuICAjbGFzdE9wZXJhdGlvbiA9IFByb21pc2UucmVzb2x2ZSgpXG5cbiAgcmVuZGVyQ2hhbmdlKHVzZVZpZXdUcmFuc2l0aW9uLCByZW5kZXIpIHtcbiAgICBpZiAodXNlVmlld1RyYW5zaXRpb24gJiYgdGhpcy52aWV3VHJhbnNpdGlvbnNBdmFpbGFibGUgJiYgIXRoaXMuI3ZpZXdUcmFuc2l0aW9uU3RhcnRlZCkge1xuICAgICAgdGhpcy4jdmlld1RyYW5zaXRpb25TdGFydGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuI2xhc3RPcGVyYXRpb24gPSB0aGlzLiNsYXN0T3BlcmF0aW9uLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBkb2N1bWVudC5zdGFydFZpZXdUcmFuc2l0aW9uKHJlbmRlcikuZmluaXNoZWQ7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4jbGFzdE9wZXJhdGlvbiA9IHRoaXMuI2xhc3RPcGVyYXRpb24udGhlbihyZW5kZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLiNsYXN0T3BlcmF0aW9uXG4gIH1cblxuICBnZXQgdmlld1RyYW5zaXRpb25zQXZhaWxhYmxlKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5zdGFydFZpZXdUcmFuc2l0aW9uXG4gIH1cbn1cblxuY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGFjdGlvbjogXCJhZHZhbmNlXCIsXG4gIGhpc3RvcnlDaGFuZ2VkOiBmYWxzZSxcbiAgdmlzaXRDYWNoZWRTbmFwc2hvdDogKCkgPT4ge30sXG4gIHdpbGxSZW5kZXI6IHRydWUsXG4gIHVwZGF0ZUhpc3Rvcnk6IHRydWUsXG4gIHNob3VsZENhY2hlU25hcHNob3Q6IHRydWUsXG4gIGFjY2VwdHNTdHJlYW1SZXNwb25zZTogZmFsc2Vcbn07XG5cbmNvbnN0IFRpbWluZ01ldHJpYyA9IHtcbiAgdmlzaXRTdGFydDogXCJ2aXNpdFN0YXJ0XCIsXG4gIHJlcXVlc3RTdGFydDogXCJyZXF1ZXN0U3RhcnRcIixcbiAgcmVxdWVzdEVuZDogXCJyZXF1ZXN0RW5kXCIsXG4gIHZpc2l0RW5kOiBcInZpc2l0RW5kXCJcbn07XG5cbmNvbnN0IFZpc2l0U3RhdGUgPSB7XG4gIGluaXRpYWxpemVkOiBcImluaXRpYWxpemVkXCIsXG4gIHN0YXJ0ZWQ6IFwic3RhcnRlZFwiLFxuICBjYW5jZWxlZDogXCJjYW5jZWxlZFwiLFxuICBmYWlsZWQ6IFwiZmFpbGVkXCIsXG4gIGNvbXBsZXRlZDogXCJjb21wbGV0ZWRcIlxufTtcblxuY29uc3QgU3lzdGVtU3RhdHVzQ29kZSA9IHtcbiAgbmV0d29ya0ZhaWx1cmU6IDAsXG4gIHRpbWVvdXRGYWlsdXJlOiAtMSxcbiAgY29udGVudFR5cGVNaXNtYXRjaDogLTJcbn07XG5cbmNvbnN0IERpcmVjdGlvbiA9IHtcbiAgYWR2YW5jZTogXCJmb3J3YXJkXCIsXG4gIHJlc3RvcmU6IFwiYmFja1wiLFxuICByZXBsYWNlOiBcIm5vbmVcIlxufTtcblxuY2xhc3MgVmlzaXQge1xuICBpZGVudGlmaWVyID0gdXVpZCgpIC8vIFJlcXVpcmVkIGJ5IHR1cmJvLWlvc1xuICB0aW1pbmdNZXRyaWNzID0ge31cblxuICBmb2xsb3dlZFJlZGlyZWN0ID0gZmFsc2VcbiAgaGlzdG9yeUNoYW5nZWQgPSBmYWxzZVxuICBzY3JvbGxlZCA9IGZhbHNlXG4gIHNob3VsZENhY2hlU25hcHNob3QgPSB0cnVlXG4gIGFjY2VwdHNTdHJlYW1SZXNwb25zZSA9IGZhbHNlXG4gIHNuYXBzaG90Q2FjaGVkID0gZmFsc2VcbiAgc3RhdGUgPSBWaXNpdFN0YXRlLmluaXRpYWxpemVkXG4gIHZpZXdUcmFuc2l0aW9uZXIgPSBuZXcgVmlld1RyYW5zaXRpb25lcigpXG5cbiAgY29uc3RydWN0b3IoZGVsZWdhdGUsIGxvY2F0aW9uLCByZXN0b3JhdGlvbklkZW50aWZpZXIsIG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgdGhpcy5yZXN0b3JhdGlvbklkZW50aWZpZXIgPSByZXN0b3JhdGlvbklkZW50aWZpZXIgfHwgdXVpZCgpO1xuXG4gICAgY29uc3Qge1xuICAgICAgYWN0aW9uLFxuICAgICAgaGlzdG9yeUNoYW5nZWQsXG4gICAgICByZWZlcnJlcixcbiAgICAgIHNuYXBzaG90LFxuICAgICAgc25hcHNob3RIVE1MLFxuICAgICAgcmVzcG9uc2UsXG4gICAgICB2aXNpdENhY2hlZFNuYXBzaG90LFxuICAgICAgd2lsbFJlbmRlcixcbiAgICAgIHVwZGF0ZUhpc3RvcnksXG4gICAgICBzaG91bGRDYWNoZVNuYXBzaG90LFxuICAgICAgYWNjZXB0c1N0cmVhbVJlc3BvbnNlLFxuICAgICAgZGlyZWN0aW9uXG4gICAgfSA9IHtcbiAgICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH07XG4gICAgdGhpcy5hY3Rpb24gPSBhY3Rpb247XG4gICAgdGhpcy5oaXN0b3J5Q2hhbmdlZCA9IGhpc3RvcnlDaGFuZ2VkO1xuICAgIHRoaXMucmVmZXJyZXIgPSByZWZlcnJlcjtcbiAgICB0aGlzLnNuYXBzaG90ID0gc25hcHNob3Q7XG4gICAgdGhpcy5zbmFwc2hvdEhUTUwgPSBzbmFwc2hvdEhUTUw7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMuaXNTYW1lUGFnZSA9IHRoaXMuZGVsZWdhdGUubG9jYXRpb25XaXRoQWN0aW9uSXNTYW1lUGFnZSh0aGlzLmxvY2F0aW9uLCB0aGlzLmFjdGlvbik7XG4gICAgdGhpcy5pc1BhZ2VSZWZyZXNoID0gdGhpcy52aWV3LmlzUGFnZVJlZnJlc2godGhpcyk7XG4gICAgdGhpcy52aXNpdENhY2hlZFNuYXBzaG90ID0gdmlzaXRDYWNoZWRTbmFwc2hvdDtcbiAgICB0aGlzLndpbGxSZW5kZXIgPSB3aWxsUmVuZGVyO1xuICAgIHRoaXMudXBkYXRlSGlzdG9yeSA9IHVwZGF0ZUhpc3Rvcnk7XG4gICAgdGhpcy5zY3JvbGxlZCA9ICF3aWxsUmVuZGVyO1xuICAgIHRoaXMuc2hvdWxkQ2FjaGVTbmFwc2hvdCA9IHNob3VsZENhY2hlU25hcHNob3Q7XG4gICAgdGhpcy5hY2NlcHRzU3RyZWFtUmVzcG9uc2UgPSBhY2NlcHRzU3RyZWFtUmVzcG9uc2U7XG4gICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb24gfHwgRGlyZWN0aW9uW2FjdGlvbl07XG4gIH1cblxuICBnZXQgYWRhcHRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5hZGFwdGVyXG4gIH1cblxuICBnZXQgdmlldygpIHtcbiAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS52aWV3XG4gIH1cblxuICBnZXQgaGlzdG9yeSgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5oaXN0b3J5XG4gIH1cblxuICBnZXQgcmVzdG9yYXRpb25EYXRhKCkge1xuICAgIHJldHVybiB0aGlzLmhpc3RvcnkuZ2V0UmVzdG9yYXRpb25EYXRhRm9ySWRlbnRpZmllcih0aGlzLnJlc3RvcmF0aW9uSWRlbnRpZmllcilcbiAgfVxuXG4gIGdldCBzaWxlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNTYW1lUGFnZVxuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gVmlzaXRTdGF0ZS5pbml0aWFsaXplZCkge1xuICAgICAgdGhpcy5yZWNvcmRUaW1pbmdNZXRyaWMoVGltaW5nTWV0cmljLnZpc2l0U3RhcnQpO1xuICAgICAgdGhpcy5zdGF0ZSA9IFZpc2l0U3RhdGUuc3RhcnRlZDtcbiAgICAgIHRoaXMuYWRhcHRlci52aXNpdFN0YXJ0ZWQodGhpcyk7XG4gICAgICB0aGlzLmRlbGVnYXRlLnZpc2l0U3RhcnRlZCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICBjYW5jZWwoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gVmlzaXRTdGF0ZS5zdGFydGVkKSB7XG4gICAgICBpZiAodGhpcy5yZXF1ZXN0KSB7XG4gICAgICAgIHRoaXMucmVxdWVzdC5jYW5jZWwoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FuY2VsUmVuZGVyKCk7XG4gICAgICB0aGlzLnN0YXRlID0gVmlzaXRTdGF0ZS5jYW5jZWxlZDtcbiAgICB9XG4gIH1cblxuICBjb21wbGV0ZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSA9PSBWaXNpdFN0YXRlLnN0YXJ0ZWQpIHtcbiAgICAgIHRoaXMucmVjb3JkVGltaW5nTWV0cmljKFRpbWluZ01ldHJpYy52aXNpdEVuZCk7XG4gICAgICB0aGlzLmFkYXB0ZXIudmlzaXRDb21wbGV0ZWQodGhpcyk7XG4gICAgICB0aGlzLnN0YXRlID0gVmlzaXRTdGF0ZS5jb21wbGV0ZWQ7XG4gICAgICB0aGlzLmZvbGxvd1JlZGlyZWN0KCk7XG5cbiAgICAgIGlmICghdGhpcy5mb2xsb3dlZFJlZGlyZWN0KSB7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUudmlzaXRDb21wbGV0ZWQodGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZmFpbCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSA9PSBWaXNpdFN0YXRlLnN0YXJ0ZWQpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBWaXNpdFN0YXRlLmZhaWxlZDtcbiAgICAgIHRoaXMuYWRhcHRlci52aXNpdEZhaWxlZCh0aGlzKTtcbiAgICAgIHRoaXMuZGVsZWdhdGUudmlzaXRDb21wbGV0ZWQodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgY2hhbmdlSGlzdG9yeSgpIHtcbiAgICBpZiAoIXRoaXMuaGlzdG9yeUNoYW5nZWQgJiYgdGhpcy51cGRhdGVIaXN0b3J5KSB7XG4gICAgICBjb25zdCBhY3Rpb25Gb3JIaXN0b3J5ID0gdGhpcy5sb2NhdGlvbi5ocmVmID09PSB0aGlzLnJlZmVycmVyPy5ocmVmID8gXCJyZXBsYWNlXCIgOiB0aGlzLmFjdGlvbjtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IGdldEhpc3RvcnlNZXRob2RGb3JBY3Rpb24oYWN0aW9uRm9ySGlzdG9yeSk7XG4gICAgICB0aGlzLmhpc3RvcnkudXBkYXRlKG1ldGhvZCwgdGhpcy5sb2NhdGlvbiwgdGhpcy5yZXN0b3JhdGlvbklkZW50aWZpZXIpO1xuICAgICAgdGhpcy5oaXN0b3J5Q2hhbmdlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaXNzdWVSZXF1ZXN0KCkge1xuICAgIGlmICh0aGlzLmhhc1ByZWxvYWRlZFJlc3BvbnNlKCkpIHtcbiAgICAgIHRoaXMuc2ltdWxhdGVSZXF1ZXN0KCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnNob3VsZElzc3VlUmVxdWVzdCgpICYmICF0aGlzLnJlcXVlc3QpIHtcbiAgICAgIHRoaXMucmVxdWVzdCA9IG5ldyBGZXRjaFJlcXVlc3QodGhpcywgRmV0Y2hNZXRob2QuZ2V0LCB0aGlzLmxvY2F0aW9uKTtcbiAgICAgIHRoaXMucmVxdWVzdC5wZXJmb3JtKCk7XG4gICAgfVxuICB9XG5cbiAgc2ltdWxhdGVSZXF1ZXN0KCkge1xuICAgIGlmICh0aGlzLnJlc3BvbnNlKSB7XG4gICAgICB0aGlzLnN0YXJ0UmVxdWVzdCgpO1xuICAgICAgdGhpcy5yZWNvcmRSZXNwb25zZSgpO1xuICAgICAgdGhpcy5maW5pc2hSZXF1ZXN0KCk7XG4gICAgfVxuICB9XG5cbiAgc3RhcnRSZXF1ZXN0KCkge1xuICAgIHRoaXMucmVjb3JkVGltaW5nTWV0cmljKFRpbWluZ01ldHJpYy5yZXF1ZXN0U3RhcnQpO1xuICAgIHRoaXMuYWRhcHRlci52aXNpdFJlcXVlc3RTdGFydGVkKHRoaXMpO1xuICB9XG5cbiAgcmVjb3JkUmVzcG9uc2UocmVzcG9uc2UgPSB0aGlzLnJlc3BvbnNlKSB7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgY29uc3QgeyBzdGF0dXNDb2RlIH0gPSByZXNwb25zZTtcbiAgICAgIGlmIChpc1N1Y2Nlc3NmdWwoc3RhdHVzQ29kZSkpIHtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnZpc2l0UmVxdWVzdENvbXBsZXRlZCh0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYWRhcHRlci52aXNpdFJlcXVlc3RGYWlsZWRXaXRoU3RhdHVzQ29kZSh0aGlzLCBzdGF0dXNDb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmaW5pc2hSZXF1ZXN0KCkge1xuICAgIHRoaXMucmVjb3JkVGltaW5nTWV0cmljKFRpbWluZ01ldHJpYy5yZXF1ZXN0RW5kKTtcbiAgICB0aGlzLmFkYXB0ZXIudmlzaXRSZXF1ZXN0RmluaXNoZWQodGhpcyk7XG4gIH1cblxuICBsb2FkUmVzcG9uc2UoKSB7XG4gICAgaWYgKHRoaXMucmVzcG9uc2UpIHtcbiAgICAgIGNvbnN0IHsgc3RhdHVzQ29kZSwgcmVzcG9uc2VIVE1MIH0gPSB0aGlzLnJlc3BvbnNlO1xuICAgICAgdGhpcy5yZW5kZXIoYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5zaG91bGRDYWNoZVNuYXBzaG90KSB0aGlzLmNhY2hlU25hcHNob3QoKTtcbiAgICAgICAgaWYgKHRoaXMudmlldy5yZW5kZXJQcm9taXNlKSBhd2FpdCB0aGlzLnZpZXcucmVuZGVyUHJvbWlzZTtcblxuICAgICAgICBpZiAoaXNTdWNjZXNzZnVsKHN0YXR1c0NvZGUpICYmIHJlc3BvbnNlSFRNTCAhPSBudWxsKSB7XG4gICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBQYWdlU25hcHNob3QuZnJvbUhUTUxTdHJpbmcocmVzcG9uc2VIVE1MKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlclBhZ2VTbmFwc2hvdChzbmFwc2hvdCwgZmFsc2UpO1xuXG4gICAgICAgICAgdGhpcy5hZGFwdGVyLnZpc2l0UmVuZGVyZWQodGhpcyk7XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF3YWl0IHRoaXMudmlldy5yZW5kZXJFcnJvcihQYWdlU25hcHNob3QuZnJvbUhUTUxTdHJpbmcocmVzcG9uc2VIVE1MKSwgdGhpcyk7XG4gICAgICAgICAgdGhpcy5hZGFwdGVyLnZpc2l0UmVuZGVyZWQodGhpcyk7XG4gICAgICAgICAgdGhpcy5mYWlsKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldENhY2hlZFNuYXBzaG90KCkge1xuICAgIGNvbnN0IHNuYXBzaG90ID0gdGhpcy52aWV3LmdldENhY2hlZFNuYXBzaG90Rm9yTG9jYXRpb24odGhpcy5sb2NhdGlvbikgfHwgdGhpcy5nZXRQcmVsb2FkZWRTbmFwc2hvdCgpO1xuXG4gICAgaWYgKHNuYXBzaG90ICYmICghZ2V0QW5jaG9yKHRoaXMubG9jYXRpb24pIHx8IHNuYXBzaG90Lmhhc0FuY2hvcihnZXRBbmNob3IodGhpcy5sb2NhdGlvbikpKSkge1xuICAgICAgaWYgKHRoaXMuYWN0aW9uID09IFwicmVzdG9yZVwiIHx8IHNuYXBzaG90LmlzUHJldmlld2FibGUpIHtcbiAgICAgICAgcmV0dXJuIHNuYXBzaG90XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0UHJlbG9hZGVkU25hcHNob3QoKSB7XG4gICAgaWYgKHRoaXMuc25hcHNob3RIVE1MKSB7XG4gICAgICByZXR1cm4gUGFnZVNuYXBzaG90LmZyb21IVE1MU3RyaW5nKHRoaXMuc25hcHNob3RIVE1MKVxuICAgIH1cbiAgfVxuXG4gIGhhc0NhY2hlZFNuYXBzaG90KCkge1xuICAgIHJldHVybiB0aGlzLmdldENhY2hlZFNuYXBzaG90KCkgIT0gbnVsbFxuICB9XG5cbiAgbG9hZENhY2hlZFNuYXBzaG90KCkge1xuICAgIGNvbnN0IHNuYXBzaG90ID0gdGhpcy5nZXRDYWNoZWRTbmFwc2hvdCgpO1xuICAgIGlmIChzbmFwc2hvdCkge1xuICAgICAgY29uc3QgaXNQcmV2aWV3ID0gdGhpcy5zaG91bGRJc3N1ZVJlcXVlc3QoKTtcbiAgICAgIHRoaXMucmVuZGVyKGFzeW5jICgpID0+IHtcbiAgICAgICAgdGhpcy5jYWNoZVNuYXBzaG90KCk7XG4gICAgICAgIGlmICh0aGlzLmlzU2FtZVBhZ2UgfHwgdGhpcy5pc1BhZ2VSZWZyZXNoKSB7XG4gICAgICAgICAgdGhpcy5hZGFwdGVyLnZpc2l0UmVuZGVyZWQodGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRoaXMudmlldy5yZW5kZXJQcm9taXNlKSBhd2FpdCB0aGlzLnZpZXcucmVuZGVyUHJvbWlzZTtcblxuICAgICAgICAgIGF3YWl0IHRoaXMucmVuZGVyUGFnZVNuYXBzaG90KHNuYXBzaG90LCBpc1ByZXZpZXcpO1xuXG4gICAgICAgICAgdGhpcy5hZGFwdGVyLnZpc2l0UmVuZGVyZWQodGhpcyk7XG4gICAgICAgICAgaWYgKCFpc1ByZXZpZXcpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZvbGxvd1JlZGlyZWN0KCkge1xuICAgIGlmICh0aGlzLnJlZGlyZWN0ZWRUb0xvY2F0aW9uICYmICF0aGlzLmZvbGxvd2VkUmVkaXJlY3QgJiYgdGhpcy5yZXNwb25zZT8ucmVkaXJlY3RlZCkge1xuICAgICAgdGhpcy5hZGFwdGVyLnZpc2l0UHJvcG9zZWRUb0xvY2F0aW9uKHRoaXMucmVkaXJlY3RlZFRvTG9jYXRpb24sIHtcbiAgICAgICAgYWN0aW9uOiBcInJlcGxhY2VcIixcbiAgICAgICAgcmVzcG9uc2U6IHRoaXMucmVzcG9uc2UsXG4gICAgICAgIHNob3VsZENhY2hlU25hcHNob3Q6IGZhbHNlLFxuICAgICAgICB3aWxsUmVuZGVyOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICB0aGlzLmZvbGxvd2VkUmVkaXJlY3QgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGdvVG9TYW1lUGFnZUFuY2hvcigpIHtcbiAgICBpZiAodGhpcy5pc1NhbWVQYWdlKSB7XG4gICAgICB0aGlzLnJlbmRlcihhc3luYyAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2FjaGVTbmFwc2hvdCgpO1xuICAgICAgICB0aGlzLnBlcmZvcm1TY3JvbGwoKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VIaXN0b3J5KCk7XG4gICAgICAgIHRoaXMuYWRhcHRlci52aXNpdFJlbmRlcmVkKHRoaXMpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gRmV0Y2ggcmVxdWVzdCBkZWxlZ2F0ZVxuXG4gIHByZXBhcmVSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgICBpZiAodGhpcy5hY2NlcHRzU3RyZWFtUmVzcG9uc2UpIHtcbiAgICAgIHJlcXVlc3QuYWNjZXB0UmVzcG9uc2VUeXBlKFN0cmVhbU1lc3NhZ2UuY29udGVudFR5cGUpO1xuICAgIH1cbiAgfVxuXG4gIHJlcXVlc3RTdGFydGVkKCkge1xuICAgIHRoaXMuc3RhcnRSZXF1ZXN0KCk7XG4gIH1cblxuICByZXF1ZXN0UHJldmVudGVkSGFuZGxpbmdSZXNwb25zZShfcmVxdWVzdCwgX3Jlc3BvbnNlKSB7fVxuXG4gIGFzeW5jIHJlcXVlc3RTdWNjZWVkZWRXaXRoUmVzcG9uc2UocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgICBjb25zdCByZXNwb25zZUhUTUwgPSBhd2FpdCByZXNwb25zZS5yZXNwb25zZUhUTUw7XG4gICAgY29uc3QgeyByZWRpcmVjdGVkLCBzdGF0dXNDb2RlIH0gPSByZXNwb25zZTtcbiAgICBpZiAocmVzcG9uc2VIVE1MID09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5yZWNvcmRSZXNwb25zZSh7XG4gICAgICAgIHN0YXR1c0NvZGU6IFN5c3RlbVN0YXR1c0NvZGUuY29udGVudFR5cGVNaXNtYXRjaCxcbiAgICAgICAgcmVkaXJlY3RlZFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVkaXJlY3RlZFRvTG9jYXRpb24gPSByZXNwb25zZS5yZWRpcmVjdGVkID8gcmVzcG9uc2UubG9jYXRpb24gOiB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnJlY29yZFJlc3BvbnNlKHsgc3RhdHVzQ29kZTogc3RhdHVzQ29kZSwgcmVzcG9uc2VIVE1MLCByZWRpcmVjdGVkIH0pO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHJlcXVlc3RGYWlsZWRXaXRoUmVzcG9uc2UocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgICBjb25zdCByZXNwb25zZUhUTUwgPSBhd2FpdCByZXNwb25zZS5yZXNwb25zZUhUTUw7XG4gICAgY29uc3QgeyByZWRpcmVjdGVkLCBzdGF0dXNDb2RlIH0gPSByZXNwb25zZTtcbiAgICBpZiAocmVzcG9uc2VIVE1MID09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5yZWNvcmRSZXNwb25zZSh7XG4gICAgICAgIHN0YXR1c0NvZGU6IFN5c3RlbVN0YXR1c0NvZGUuY29udGVudFR5cGVNaXNtYXRjaCxcbiAgICAgICAgcmVkaXJlY3RlZFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVjb3JkUmVzcG9uc2UoeyBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlLCByZXNwb25zZUhUTUwsIHJlZGlyZWN0ZWQgfSk7XG4gICAgfVxuICB9XG5cbiAgcmVxdWVzdEVycm9yZWQoX3JlcXVlc3QsIF9lcnJvcikge1xuICAgIHRoaXMucmVjb3JkUmVzcG9uc2Uoe1xuICAgICAgc3RhdHVzQ29kZTogU3lzdGVtU3RhdHVzQ29kZS5uZXR3b3JrRmFpbHVyZSxcbiAgICAgIHJlZGlyZWN0ZWQ6IGZhbHNlXG4gICAgfSk7XG4gIH1cblxuICByZXF1ZXN0RmluaXNoZWQoKSB7XG4gICAgdGhpcy5maW5pc2hSZXF1ZXN0KCk7XG4gIH1cblxuICAvLyBTY3JvbGxpbmdcblxuICBwZXJmb3JtU2Nyb2xsKCkge1xuICAgIGlmICghdGhpcy5zY3JvbGxlZCAmJiAhdGhpcy52aWV3LmZvcmNlUmVsb2FkZWQgJiYgIXRoaXMudmlldy5zaG91bGRQcmVzZXJ2ZVNjcm9sbFBvc2l0aW9uKHRoaXMpKSB7XG4gICAgICBpZiAodGhpcy5hY3Rpb24gPT0gXCJyZXN0b3JlXCIpIHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb1Jlc3RvcmVkUG9zaXRpb24oKSB8fCB0aGlzLnNjcm9sbFRvQW5jaG9yKCkgfHwgdGhpcy52aWV3LnNjcm9sbFRvVG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNjcm9sbFRvQW5jaG9yKCkgfHwgdGhpcy52aWV3LnNjcm9sbFRvVG9wKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pc1NhbWVQYWdlKSB7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUudmlzaXRTY3JvbGxlZFRvU2FtZVBhZ2VMb2NhdGlvbih0aGlzLnZpZXcubGFzdFJlbmRlcmVkTG9jYXRpb24sIHRoaXMubG9jYXRpb24pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNjcm9sbGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBzY3JvbGxUb1Jlc3RvcmVkUG9zaXRpb24oKSB7XG4gICAgY29uc3QgeyBzY3JvbGxQb3NpdGlvbiB9ID0gdGhpcy5yZXN0b3JhdGlvbkRhdGE7XG4gICAgaWYgKHNjcm9sbFBvc2l0aW9uKSB7XG4gICAgICB0aGlzLnZpZXcuc2Nyb2xsVG9Qb3NpdGlvbihzY3JvbGxQb3NpdGlvbik7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIHNjcm9sbFRvQW5jaG9yKCkge1xuICAgIGNvbnN0IGFuY2hvciA9IGdldEFuY2hvcih0aGlzLmxvY2F0aW9uKTtcbiAgICBpZiAoYW5jaG9yICE9IG51bGwpIHtcbiAgICAgIHRoaXMudmlldy5zY3JvbGxUb0FuY2hvcihhbmNob3IpO1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cblxuICAvLyBJbnN0cnVtZW50YXRpb25cblxuICByZWNvcmRUaW1pbmdNZXRyaWMobWV0cmljKSB7XG4gICAgdGhpcy50aW1pbmdNZXRyaWNzW21ldHJpY10gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgfVxuXG4gIGdldFRpbWluZ01ldHJpY3MoKSB7XG4gICAgcmV0dXJuIHsgLi4udGhpcy50aW1pbmdNZXRyaWNzIH1cbiAgfVxuXG4gIC8vIFByaXZhdGVcblxuICBnZXRIaXN0b3J5TWV0aG9kRm9yQWN0aW9uKGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICBjYXNlIFwicmVwbGFjZVwiOlxuICAgICAgICByZXR1cm4gaGlzdG9yeS5yZXBsYWNlU3RhdGVcbiAgICAgIGNhc2UgXCJhZHZhbmNlXCI6XG4gICAgICBjYXNlIFwicmVzdG9yZVwiOlxuICAgICAgICByZXR1cm4gaGlzdG9yeS5wdXNoU3RhdGVcbiAgICB9XG4gIH1cblxuICBoYXNQcmVsb2FkZWRSZXNwb25zZSgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMucmVzcG9uc2UgPT0gXCJvYmplY3RcIlxuICB9XG5cbiAgc2hvdWxkSXNzdWVSZXF1ZXN0KCkge1xuICAgIGlmICh0aGlzLmlzU2FtZVBhZ2UpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSBpZiAodGhpcy5hY3Rpb24gPT0gXCJyZXN0b3JlXCIpIHtcbiAgICAgIHJldHVybiAhdGhpcy5oYXNDYWNoZWRTbmFwc2hvdCgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLndpbGxSZW5kZXJcbiAgICB9XG4gIH1cblxuICBjYWNoZVNuYXBzaG90KCkge1xuICAgIGlmICghdGhpcy5zbmFwc2hvdENhY2hlZCkge1xuICAgICAgdGhpcy52aWV3LmNhY2hlU25hcHNob3QodGhpcy5zbmFwc2hvdCkudGhlbigoc25hcHNob3QpID0+IHNuYXBzaG90ICYmIHRoaXMudmlzaXRDYWNoZWRTbmFwc2hvdChzbmFwc2hvdCkpO1xuICAgICAgdGhpcy5zbmFwc2hvdENhY2hlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcmVuZGVyKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5jYW5jZWxSZW5kZXIoKTtcbiAgICB0aGlzLmZyYW1lID0gYXdhaXQgbmV4dFJlcGFpbnQoKTtcbiAgICBhd2FpdCBjYWxsYmFjaygpO1xuICAgIGRlbGV0ZSB0aGlzLmZyYW1lO1xuICB9XG5cbiAgYXN5bmMgcmVuZGVyUGFnZVNuYXBzaG90KHNuYXBzaG90LCBpc1ByZXZpZXcpIHtcbiAgICBhd2FpdCB0aGlzLnZpZXdUcmFuc2l0aW9uZXIucmVuZGVyQ2hhbmdlKHRoaXMudmlldy5zaG91bGRUcmFuc2l0aW9uVG8oc25hcHNob3QpLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLnZpZXcucmVuZGVyUGFnZShzbmFwc2hvdCwgaXNQcmV2aWV3LCB0aGlzLndpbGxSZW5kZXIsIHRoaXMpO1xuICAgICAgdGhpcy5wZXJmb3JtU2Nyb2xsKCk7XG4gICAgfSk7XG4gIH1cblxuICBjYW5jZWxSZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuZnJhbWUpIHtcbiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuZnJhbWUpO1xuICAgICAgZGVsZXRlIHRoaXMuZnJhbWU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzU3VjY2Vzc2Z1bChzdGF0dXNDb2RlKSB7XG4gIHJldHVybiBzdGF0dXNDb2RlID49IDIwMCAmJiBzdGF0dXNDb2RlIDwgMzAwXG59XG5cbmNsYXNzIEJyb3dzZXJBZGFwdGVyIHtcbiAgcHJvZ3Jlc3NCYXIgPSBuZXcgUHJvZ3Jlc3NCYXIoKVxuXG4gIGNvbnN0cnVjdG9yKHNlc3Npb24pIHtcbiAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICB9XG5cbiAgdmlzaXRQcm9wb3NlZFRvTG9jYXRpb24obG9jYXRpb24sIG9wdGlvbnMpIHtcbiAgICBpZiAobG9jYXRpb25Jc1Zpc2l0YWJsZShsb2NhdGlvbiwgdGhpcy5uYXZpZ2F0b3Iucm9vdExvY2F0aW9uKSkge1xuICAgICAgdGhpcy5uYXZpZ2F0b3Iuc3RhcnRWaXNpdChsb2NhdGlvbiwgb3B0aW9ucz8ucmVzdG9yYXRpb25JZGVudGlmaWVyIHx8IHV1aWQoKSwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gbG9jYXRpb24udG9TdHJpbmcoKTtcbiAgICB9XG4gIH1cblxuICB2aXNpdFN0YXJ0ZWQodmlzaXQpIHtcbiAgICB0aGlzLmxvY2F0aW9uID0gdmlzaXQubG9jYXRpb247XG4gICAgdmlzaXQubG9hZENhY2hlZFNuYXBzaG90KCk7XG4gICAgdmlzaXQuaXNzdWVSZXF1ZXN0KCk7XG4gICAgdmlzaXQuZ29Ub1NhbWVQYWdlQW5jaG9yKCk7XG4gIH1cblxuICB2aXNpdFJlcXVlc3RTdGFydGVkKHZpc2l0KSB7XG4gICAgdGhpcy5wcm9ncmVzc0Jhci5zZXRWYWx1ZSgwKTtcbiAgICBpZiAodmlzaXQuaGFzQ2FjaGVkU25hcHNob3QoKSB8fCB2aXNpdC5hY3Rpb24gIT0gXCJyZXN0b3JlXCIpIHtcbiAgICAgIHRoaXMuc2hvd1Zpc2l0UHJvZ3Jlc3NCYXJBZnRlckRlbGF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2hvd1Byb2dyZXNzQmFyKCk7XG4gICAgfVxuICB9XG5cbiAgdmlzaXRSZXF1ZXN0Q29tcGxldGVkKHZpc2l0KSB7XG4gICAgdmlzaXQubG9hZFJlc3BvbnNlKCk7XG4gIH1cblxuICB2aXNpdFJlcXVlc3RGYWlsZWRXaXRoU3RhdHVzQ29kZSh2aXNpdCwgc3RhdHVzQ29kZSkge1xuICAgIHN3aXRjaCAoc3RhdHVzQ29kZSkge1xuICAgICAgY2FzZSBTeXN0ZW1TdGF0dXNDb2RlLm5ldHdvcmtGYWlsdXJlOlxuICAgICAgY2FzZSBTeXN0ZW1TdGF0dXNDb2RlLnRpbWVvdXRGYWlsdXJlOlxuICAgICAgY2FzZSBTeXN0ZW1TdGF0dXNDb2RlLmNvbnRlbnRUeXBlTWlzbWF0Y2g6XG4gICAgICAgIHJldHVybiB0aGlzLnJlbG9hZCh7XG4gICAgICAgICAgcmVhc29uOiBcInJlcXVlc3RfZmFpbGVkXCIsXG4gICAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgICAgc3RhdHVzQ29kZVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB2aXNpdC5sb2FkUmVzcG9uc2UoKVxuICAgIH1cbiAgfVxuXG4gIHZpc2l0UmVxdWVzdEZpbmlzaGVkKF92aXNpdCkge31cblxuICB2aXNpdENvbXBsZXRlZChfdmlzaXQpIHtcbiAgICB0aGlzLnByb2dyZXNzQmFyLnNldFZhbHVlKDEpO1xuICAgIHRoaXMuaGlkZVZpc2l0UHJvZ3Jlc3NCYXIoKTtcbiAgfVxuXG4gIHBhZ2VJbnZhbGlkYXRlZChyZWFzb24pIHtcbiAgICB0aGlzLnJlbG9hZChyZWFzb24pO1xuICB9XG5cbiAgdmlzaXRGYWlsZWQoX3Zpc2l0KSB7XG4gICAgdGhpcy5wcm9ncmVzc0Jhci5zZXRWYWx1ZSgxKTtcbiAgICB0aGlzLmhpZGVWaXNpdFByb2dyZXNzQmFyKCk7XG4gIH1cblxuICB2aXNpdFJlbmRlcmVkKF92aXNpdCkge31cblxuICAvLyBGb3JtIFN1Ym1pc3Npb24gRGVsZWdhdGVcblxuICBmb3JtU3VibWlzc2lvblN0YXJ0ZWQoX2Zvcm1TdWJtaXNzaW9uKSB7XG4gICAgdGhpcy5wcm9ncmVzc0Jhci5zZXRWYWx1ZSgwKTtcbiAgICB0aGlzLnNob3dGb3JtUHJvZ3Jlc3NCYXJBZnRlckRlbGF5KCk7XG4gIH1cblxuICBmb3JtU3VibWlzc2lvbkZpbmlzaGVkKF9mb3JtU3VibWlzc2lvbikge1xuICAgIHRoaXMucHJvZ3Jlc3NCYXIuc2V0VmFsdWUoMSk7XG4gICAgdGhpcy5oaWRlRm9ybVByb2dyZXNzQmFyKCk7XG4gIH1cblxuICAvLyBQcml2YXRlXG5cbiAgc2hvd1Zpc2l0UHJvZ3Jlc3NCYXJBZnRlckRlbGF5KCkge1xuICAgIHRoaXMudmlzaXRQcm9ncmVzc0JhclRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCh0aGlzLnNob3dQcm9ncmVzc0JhciwgdGhpcy5zZXNzaW9uLnByb2dyZXNzQmFyRGVsYXkpO1xuICB9XG5cbiAgaGlkZVZpc2l0UHJvZ3Jlc3NCYXIoKSB7XG4gICAgdGhpcy5wcm9ncmVzc0Jhci5oaWRlKCk7XG4gICAgaWYgKHRoaXMudmlzaXRQcm9ncmVzc0JhclRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnZpc2l0UHJvZ3Jlc3NCYXJUaW1lb3V0KTtcbiAgICAgIGRlbGV0ZSB0aGlzLnZpc2l0UHJvZ3Jlc3NCYXJUaW1lb3V0O1xuICAgIH1cbiAgfVxuXG4gIHNob3dGb3JtUHJvZ3Jlc3NCYXJBZnRlckRlbGF5KCkge1xuICAgIGlmICh0aGlzLmZvcm1Qcm9ncmVzc0JhclRpbWVvdXQgPT0gbnVsbCkge1xuICAgICAgdGhpcy5mb3JtUHJvZ3Jlc3NCYXJUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQodGhpcy5zaG93UHJvZ3Jlc3NCYXIsIHRoaXMuc2Vzc2lvbi5wcm9ncmVzc0JhckRlbGF5KTtcbiAgICB9XG4gIH1cblxuICBoaWRlRm9ybVByb2dyZXNzQmFyKCkge1xuICAgIHRoaXMucHJvZ3Jlc3NCYXIuaGlkZSgpO1xuICAgIGlmICh0aGlzLmZvcm1Qcm9ncmVzc0JhclRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLmZvcm1Qcm9ncmVzc0JhclRpbWVvdXQpO1xuICAgICAgZGVsZXRlIHRoaXMuZm9ybVByb2dyZXNzQmFyVGltZW91dDtcbiAgICB9XG4gIH1cblxuICBzaG93UHJvZ3Jlc3NCYXIgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9ncmVzc0Jhci5zaG93KCk7XG4gIH1cblxuICByZWxvYWQocmVhc29uKSB7XG4gICAgZGlzcGF0Y2goXCJ0dXJibzpyZWxvYWRcIiwgeyBkZXRhaWw6IHJlYXNvbiB9KTtcblxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdGhpcy5sb2NhdGlvbj8udG9TdHJpbmcoKSB8fCB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgfVxuXG4gIGdldCBuYXZpZ2F0b3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5uYXZpZ2F0b3JcbiAgfVxufVxuXG5jbGFzcyBDYWNoZU9ic2VydmVyIHtcbiAgc2VsZWN0b3IgPSBcIltkYXRhLXR1cmJvLXRlbXBvcmFyeV1cIlxuICBkZXByZWNhdGVkU2VsZWN0b3IgPSBcIltkYXRhLXR1cmJvLWNhY2hlPWZhbHNlXVwiXG5cbiAgc3RhcnRlZCA9IGZhbHNlXG5cbiAgc3RhcnQoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKFwidHVyYm86YmVmb3JlLWNhY2hlXCIsIHRoaXMucmVtb3ZlVGVtcG9yYXJ5RWxlbWVudHMsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihcInR1cmJvOmJlZm9yZS1jYWNoZVwiLCB0aGlzLnJlbW92ZVRlbXBvcmFyeUVsZW1lbnRzLCBmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlVGVtcG9yYXJ5RWxlbWVudHMgPSAoX2V2ZW50KSA9PiB7XG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMudGVtcG9yYXJ5RWxlbWVudHMpIHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IHRlbXBvcmFyeUVsZW1lbnRzKCkge1xuICAgIHJldHVybiBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNlbGVjdG9yKSwgLi4udGhpcy50ZW1wb3JhcnlFbGVtZW50c1dpdGhEZXByZWNhdGlvbl1cbiAgfVxuXG4gIGdldCB0ZW1wb3JhcnlFbGVtZW50c1dpdGhEZXByZWNhdGlvbigpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5kZXByZWNhdGVkU2VsZWN0b3IpO1xuXG4gICAgaWYgKGVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgVGhlICR7dGhpcy5kZXByZWNhdGVkU2VsZWN0b3J9IHNlbGVjdG9yIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uLiBVc2UgJHt0aGlzLnNlbGVjdG9yfSBpbnN0ZWFkLmBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFsuLi5lbGVtZW50c11cbiAgfVxufVxuXG5jbGFzcyBGcmFtZVJlZGlyZWN0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXNzaW9uLCBlbGVtZW50KSB7XG4gICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMubGlua0ludGVyY2VwdG9yID0gbmV3IExpbmtJbnRlcmNlcHRvcih0aGlzLCBlbGVtZW50KTtcbiAgICB0aGlzLmZvcm1TdWJtaXRPYnNlcnZlciA9IG5ldyBGb3JtU3VibWl0T2JzZXJ2ZXIodGhpcywgZWxlbWVudCk7XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICB0aGlzLmxpbmtJbnRlcmNlcHRvci5zdGFydCgpO1xuICAgIHRoaXMuZm9ybVN1Ym1pdE9ic2VydmVyLnN0YXJ0KCk7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIHRoaXMubGlua0ludGVyY2VwdG9yLnN0b3AoKTtcbiAgICB0aGlzLmZvcm1TdWJtaXRPYnNlcnZlci5zdG9wKCk7XG4gIH1cblxuICAvLyBMaW5rIGludGVyY2VwdG9yIGRlbGVnYXRlXG5cbiAgc2hvdWxkSW50ZXJjZXB0TGlua0NsaWNrKGVsZW1lbnQsIF9sb2NhdGlvbiwgX2V2ZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuI3Nob3VsZFJlZGlyZWN0KGVsZW1lbnQpXG4gIH1cblxuICBsaW5rQ2xpY2tJbnRlcmNlcHRlZChlbGVtZW50LCB1cmwsIGV2ZW50KSB7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLiNmaW5kRnJhbWVFbGVtZW50KGVsZW1lbnQpO1xuICAgIGlmIChmcmFtZSkge1xuICAgICAgZnJhbWUuZGVsZWdhdGUubGlua0NsaWNrSW50ZXJjZXB0ZWQoZWxlbWVudCwgdXJsLCBldmVudCk7XG4gICAgfVxuICB9XG5cbiAgLy8gRm9ybSBzdWJtaXQgb2JzZXJ2ZXIgZGVsZWdhdGVcblxuICB3aWxsU3VibWl0Rm9ybShlbGVtZW50LCBzdWJtaXR0ZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgZWxlbWVudC5jbG9zZXN0KFwidHVyYm8tZnJhbWVcIikgPT0gbnVsbCAmJlxuICAgICAgdGhpcy4jc2hvdWxkU3VibWl0KGVsZW1lbnQsIHN1Ym1pdHRlcikgJiZcbiAgICAgIHRoaXMuI3Nob3VsZFJlZGlyZWN0KGVsZW1lbnQsIHN1Ym1pdHRlcilcbiAgICApXG4gIH1cblxuICBmb3JtU3VibWl0dGVkKGVsZW1lbnQsIHN1Ym1pdHRlcikge1xuICAgIGNvbnN0IGZyYW1lID0gdGhpcy4jZmluZEZyYW1lRWxlbWVudChlbGVtZW50LCBzdWJtaXR0ZXIpO1xuICAgIGlmIChmcmFtZSkge1xuICAgICAgZnJhbWUuZGVsZWdhdGUuZm9ybVN1Ym1pdHRlZChlbGVtZW50LCBzdWJtaXR0ZXIpO1xuICAgIH1cbiAgfVxuXG4gICNzaG91bGRTdWJtaXQoZm9ybSwgc3VibWl0dGVyKSB7XG4gICAgY29uc3QgYWN0aW9uID0gZ2V0QWN0aW9uJDEoZm9ybSwgc3VibWl0dGVyKTtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihgbWV0YVtuYW1lPVwidHVyYm8tcm9vdFwiXWApO1xuICAgIGNvbnN0IHJvb3RMb2NhdGlvbiA9IGV4cGFuZFVSTChtZXRhPy5jb250ZW50ID8/IFwiL1wiKTtcblxuICAgIHJldHVybiB0aGlzLiNzaG91bGRSZWRpcmVjdChmb3JtLCBzdWJtaXR0ZXIpICYmIGxvY2F0aW9uSXNWaXNpdGFibGUoYWN0aW9uLCByb290TG9jYXRpb24pXG4gIH1cblxuICAjc2hvdWxkUmVkaXJlY3QoZWxlbWVudCwgc3VibWl0dGVyKSB7XG4gICAgY29uc3QgaXNOYXZpZ2F0YWJsZSA9XG4gICAgICBlbGVtZW50IGluc3RhbmNlb2YgSFRNTEZvcm1FbGVtZW50XG4gICAgICAgID8gdGhpcy5zZXNzaW9uLnN1Ym1pc3Npb25Jc05hdmlnYXRhYmxlKGVsZW1lbnQsIHN1Ym1pdHRlcilcbiAgICAgICAgOiB0aGlzLnNlc3Npb24uZWxlbWVudElzTmF2aWdhdGFibGUoZWxlbWVudCk7XG5cbiAgICBpZiAoaXNOYXZpZ2F0YWJsZSkge1xuICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLiNmaW5kRnJhbWVFbGVtZW50KGVsZW1lbnQsIHN1Ym1pdHRlcik7XG4gICAgICByZXR1cm4gZnJhbWUgPyBmcmFtZSAhPSBlbGVtZW50LmNsb3Nlc3QoXCJ0dXJiby1mcmFtZVwiKSA6IGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gICNmaW5kRnJhbWVFbGVtZW50KGVsZW1lbnQsIHN1Ym1pdHRlcikge1xuICAgIGNvbnN0IGlkID0gc3VibWl0dGVyPy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLWZyYW1lXCIpIHx8IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS10dXJiby1mcmFtZVwiKTtcbiAgICBpZiAoaWQgJiYgaWQgIT0gXCJfdG9wXCIpIHtcbiAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lkfTpub3QoW2Rpc2FibGVkXSlgKTtcbiAgICAgIGlmIChmcmFtZSBpbnN0YW5jZW9mIEZyYW1lRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZnJhbWVcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgSGlzdG9yeSB7XG4gIGxvY2F0aW9uXG4gIHJlc3RvcmF0aW9uSWRlbnRpZmllciA9IHV1aWQoKVxuICByZXN0b3JhdGlvbkRhdGEgPSB7fVxuICBzdGFydGVkID0gZmFsc2VcbiAgcGFnZUxvYWRlZCA9IGZhbHNlXG4gIGN1cnJlbnRJbmRleCA9IDBcblxuICBjb25zdHJ1Y3RvcihkZWxlZ2F0ZSkge1xuICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgdGhpcy5vblBvcFN0YXRlLCBmYWxzZSk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCB0aGlzLm9uUGFnZUxvYWQsIGZhbHNlKTtcbiAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gaGlzdG9yeS5zdGF0ZT8udHVyYm8/LnJlc3RvcmF0aW9uSW5kZXggfHwgMDtcbiAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICB0aGlzLnJlcGxhY2UobmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZikpO1xuICAgIH1cbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIHRoaXMub25Qb3BTdGF0ZSwgZmFsc2UpO1xuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgdGhpcy5vblBhZ2VMb2FkLCBmYWxzZSk7XG4gICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwdXNoKGxvY2F0aW9uLCByZXN0b3JhdGlvbklkZW50aWZpZXIpIHtcbiAgICB0aGlzLnVwZGF0ZShoaXN0b3J5LnB1c2hTdGF0ZSwgbG9jYXRpb24sIHJlc3RvcmF0aW9uSWRlbnRpZmllcik7XG4gIH1cblxuICByZXBsYWNlKGxvY2F0aW9uLCByZXN0b3JhdGlvbklkZW50aWZpZXIpIHtcbiAgICB0aGlzLnVwZGF0ZShoaXN0b3J5LnJlcGxhY2VTdGF0ZSwgbG9jYXRpb24sIHJlc3RvcmF0aW9uSWRlbnRpZmllcik7XG4gIH1cblxuICB1cGRhdGUobWV0aG9kLCBsb2NhdGlvbiwgcmVzdG9yYXRpb25JZGVudGlmaWVyID0gdXVpZCgpKSB7XG4gICAgaWYgKG1ldGhvZCA9PT0gaGlzdG9yeS5wdXNoU3RhdGUpICsrdGhpcy5jdXJyZW50SW5kZXg7XG5cbiAgICBjb25zdCBzdGF0ZSA9IHsgdHVyYm86IHsgcmVzdG9yYXRpb25JZGVudGlmaWVyLCByZXN0b3JhdGlvbkluZGV4OiB0aGlzLmN1cnJlbnRJbmRleCB9IH07XG4gICAgbWV0aG9kLmNhbGwoaGlzdG9yeSwgc3RhdGUsIFwiXCIsIGxvY2F0aW9uLmhyZWYpO1xuICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICB0aGlzLnJlc3RvcmF0aW9uSWRlbnRpZmllciA9IHJlc3RvcmF0aW9uSWRlbnRpZmllcjtcbiAgfVxuXG4gIC8vIFJlc3RvcmF0aW9uIGRhdGFcblxuICBnZXRSZXN0b3JhdGlvbkRhdGFGb3JJZGVudGlmaWVyKHJlc3RvcmF0aW9uSWRlbnRpZmllcikge1xuICAgIHJldHVybiB0aGlzLnJlc3RvcmF0aW9uRGF0YVtyZXN0b3JhdGlvbklkZW50aWZpZXJdIHx8IHt9XG4gIH1cblxuICB1cGRhdGVSZXN0b3JhdGlvbkRhdGEoYWRkaXRpb25hbERhdGEpIHtcbiAgICBjb25zdCB7IHJlc3RvcmF0aW9uSWRlbnRpZmllciB9ID0gdGhpcztcbiAgICBjb25zdCByZXN0b3JhdGlvbkRhdGEgPSB0aGlzLnJlc3RvcmF0aW9uRGF0YVtyZXN0b3JhdGlvbklkZW50aWZpZXJdO1xuICAgIHRoaXMucmVzdG9yYXRpb25EYXRhW3Jlc3RvcmF0aW9uSWRlbnRpZmllcl0gPSB7XG4gICAgICAuLi5yZXN0b3JhdGlvbkRhdGEsXG4gICAgICAuLi5hZGRpdGlvbmFsRGF0YVxuICAgIH07XG4gIH1cblxuICAvLyBTY3JvbGwgcmVzdG9yYXRpb25cblxuICBhc3N1bWVDb250cm9sT2ZTY3JvbGxSZXN0b3JhdGlvbigpIHtcbiAgICBpZiAoIXRoaXMucHJldmlvdXNTY3JvbGxSZXN0b3JhdGlvbikge1xuICAgICAgdGhpcy5wcmV2aW91c1Njcm9sbFJlc3RvcmF0aW9uID0gaGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbiA/PyBcImF1dG9cIjtcbiAgICAgIGhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSBcIm1hbnVhbFwiO1xuICAgIH1cbiAgfVxuXG4gIHJlbGlucXVpc2hDb250cm9sT2ZTY3JvbGxSZXN0b3JhdGlvbigpIHtcbiAgICBpZiAodGhpcy5wcmV2aW91c1Njcm9sbFJlc3RvcmF0aW9uKSB7XG4gICAgICBoaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uID0gdGhpcy5wcmV2aW91c1Njcm9sbFJlc3RvcmF0aW9uO1xuICAgICAgZGVsZXRlIHRoaXMucHJldmlvdXNTY3JvbGxSZXN0b3JhdGlvbjtcbiAgICB9XG4gIH1cblxuICAvLyBFdmVudCBoYW5kbGVyc1xuXG4gIG9uUG9wU3RhdGUgPSAoZXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy5zaG91bGRIYW5kbGVQb3BTdGF0ZSgpKSB7XG4gICAgICBjb25zdCB7IHR1cmJvIH0gPSBldmVudC5zdGF0ZSB8fCB7fTtcbiAgICAgIGlmICh0dXJibykge1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgICAgIGNvbnN0IHsgcmVzdG9yYXRpb25JZGVudGlmaWVyLCByZXN0b3JhdGlvbkluZGV4IH0gPSB0dXJibztcbiAgICAgICAgdGhpcy5yZXN0b3JhdGlvbklkZW50aWZpZXIgPSByZXN0b3JhdGlvbklkZW50aWZpZXI7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHJlc3RvcmF0aW9uSW5kZXggPiB0aGlzLmN1cnJlbnRJbmRleCA/IFwiZm9yd2FyZFwiIDogXCJiYWNrXCI7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUuaGlzdG9yeVBvcHBlZFRvTG9jYXRpb25XaXRoUmVzdG9yYXRpb25JZGVudGlmaWVyQW5kRGlyZWN0aW9uKHRoaXMubG9jYXRpb24sIHJlc3RvcmF0aW9uSWRlbnRpZmllciwgZGlyZWN0aW9uKTtcbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSByZXN0b3JhdGlvbkluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uUGFnZUxvYWQgPSBhc3luYyAoX2V2ZW50KSA9PiB7XG4gICAgYXdhaXQgbmV4dE1pY3JvdGFzaygpO1xuICAgIHRoaXMucGFnZUxvYWRlZCA9IHRydWU7XG4gIH1cblxuICAvLyBQcml2YXRlXG5cbiAgc2hvdWxkSGFuZGxlUG9wU3RhdGUoKSB7XG4gICAgLy8gU2FmYXJpIGRpc3BhdGNoZXMgYSBwb3BzdGF0ZSBldmVudCBhZnRlciB3aW5kb3cncyBsb2FkIGV2ZW50LCBpZ25vcmUgaXRcbiAgICByZXR1cm4gdGhpcy5wYWdlSXNMb2FkZWQoKVxuICB9XG5cbiAgcGFnZUlzTG9hZGVkKCkge1xuICAgIHJldHVybiB0aGlzLnBhZ2VMb2FkZWQgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSBcImNvbXBsZXRlXCJcbiAgfVxufVxuXG5jbGFzcyBMaW5rUHJlZmV0Y2hPYnNlcnZlciB7XG4gIHN0YXJ0ZWQgPSBmYWxzZVxuICAjcHJlZmV0Y2hlZExpbmsgPSBudWxsXG5cbiAgY29uc3RydWN0b3IoZGVsZWdhdGUsIGV2ZW50VGFyZ2V0KSB7XG4gICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgIHRoaXMuZXZlbnRUYXJnZXQgPSBldmVudFRhcmdldDtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHJldHVyblxuXG4gICAgaWYgKHRoaXMuZXZlbnRUYXJnZXQucmVhZHlTdGF0ZSA9PT0gXCJsb2FkaW5nXCIpIHtcbiAgICAgIHRoaXMuZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgdGhpcy4jZW5hYmxlLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI2VuYWJsZSgpO1xuICAgIH1cbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHJldHVyblxuXG4gICAgdGhpcy5ldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCB0aGlzLiN0cnlUb1ByZWZldGNoUmVxdWVzdCwge1xuICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICAgIHBhc3NpdmU6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLmV2ZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMuI2NhbmNlbFJlcXVlc3RJZk9ic29sZXRlLCB7XG4gICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgdGhpcy5ldmVudFRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHVyYm86YmVmb3JlLWZldGNoLXJlcXVlc3RcIiwgdGhpcy4jdHJ5VG9Vc2VQcmVmZXRjaGVkUmVxdWVzdCwgdHJ1ZSk7XG4gICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gIH1cblxuICAjZW5hYmxlID0gKCkgPT4ge1xuICAgIHRoaXMuZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgdGhpcy4jdHJ5VG9QcmVmZXRjaFJlcXVlc3QsIHtcbiAgICAgIGNhcHR1cmU6IHRydWUsXG4gICAgICBwYXNzaXZlOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5ldmVudFRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLiNjYW5jZWxSZXF1ZXN0SWZPYnNvbGV0ZSwge1xuICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICAgIHBhc3NpdmU6IHRydWVcbiAgICB9KTtcblxuICAgIHRoaXMuZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInR1cmJvOmJlZm9yZS1mZXRjaC1yZXF1ZXN0XCIsIHRoaXMuI3RyeVRvVXNlUHJlZmV0Y2hlZFJlcXVlc3QsIHRydWUpO1xuICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gIH1cblxuICAjdHJ5VG9QcmVmZXRjaFJlcXVlc3QgPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoZ2V0TWV0YUNvbnRlbnQoXCJ0dXJiby1wcmVmZXRjaFwiKSA9PT0gXCJmYWxzZVwiKSByZXR1cm5cblxuICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICBjb25zdCBpc0xpbmsgPSB0YXJnZXQubWF0Y2hlcyAmJiB0YXJnZXQubWF0Y2hlcyhcImFbaHJlZl06bm90KFt0YXJnZXRePV9dKTpub3QoW2Rvd25sb2FkXSlcIik7XG5cbiAgICBpZiAoaXNMaW5rICYmIHRoaXMuI2lzUHJlZmV0Y2hhYmxlKHRhcmdldCkpIHtcbiAgICAgIGNvbnN0IGxpbmsgPSB0YXJnZXQ7XG4gICAgICBjb25zdCBsb2NhdGlvbiA9IGdldExvY2F0aW9uRm9yTGluayhsaW5rKTtcblxuICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuY2FuUHJlZmV0Y2hSZXF1ZXN0VG9Mb2NhdGlvbihsaW5rLCBsb2NhdGlvbikpIHtcbiAgICAgICAgdGhpcy4jcHJlZmV0Y2hlZExpbmsgPSBsaW5rO1xuXG4gICAgICAgIGNvbnN0IGZldGNoUmVxdWVzdCA9IG5ldyBGZXRjaFJlcXVlc3QoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBGZXRjaE1ldGhvZC5nZXQsXG4gICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgbmV3IFVSTFNlYXJjaFBhcmFtcygpLFxuICAgICAgICAgIHRhcmdldFxuICAgICAgICApO1xuXG4gICAgICAgIHByZWZldGNoQ2FjaGUuc2V0TGF0ZXIobG9jYXRpb24udG9TdHJpbmcoKSwgZmV0Y2hSZXF1ZXN0LCB0aGlzLiNjYWNoZVR0bCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgI2NhbmNlbFJlcXVlc3RJZk9ic29sZXRlID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcy4jcHJlZmV0Y2hlZExpbmspIHRoaXMuI2NhbmNlbFByZWZldGNoUmVxdWVzdCgpO1xuICB9XG5cbiAgI2NhbmNlbFByZWZldGNoUmVxdWVzdCA9ICgpID0+IHtcbiAgICBwcmVmZXRjaENhY2hlLmNsZWFyKCk7XG4gICAgdGhpcy4jcHJlZmV0Y2hlZExpbmsgPSBudWxsO1xuICB9XG5cbiAgI3RyeVRvVXNlUHJlZmV0Y2hlZFJlcXVlc3QgPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LnRhZ05hbWUgIT09IFwiRk9STVwiICYmIGV2ZW50LmRldGFpbC5mZXRjaE9wdGlvbnMubWV0aG9kID09PSBcImdldFwiKSB7XG4gICAgICBjb25zdCBjYWNoZWQgPSBwcmVmZXRjaENhY2hlLmdldChldmVudC5kZXRhaWwudXJsLnRvU3RyaW5nKCkpO1xuXG4gICAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgIC8vIFVzZXIgY2xpY2tlZCBsaW5rLCB1c2UgY2FjaGUgcmVzcG9uc2VcbiAgICAgICAgZXZlbnQuZGV0YWlsLmZldGNoUmVxdWVzdCA9IGNhY2hlZDtcbiAgICAgIH1cblxuICAgICAgcHJlZmV0Y2hDYWNoZS5jbGVhcigpO1xuICAgIH1cbiAgfVxuXG4gIHByZXBhcmVSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgICBjb25zdCBsaW5rID0gcmVxdWVzdC50YXJnZXQ7XG5cbiAgICByZXF1ZXN0LmhlYWRlcnNbXCJYLVNlYy1QdXJwb3NlXCJdID0gXCJwcmVmZXRjaFwiO1xuXG4gICAgY29uc3QgdHVyYm9GcmFtZSA9IGxpbmsuY2xvc2VzdChcInR1cmJvLWZyYW1lXCIpO1xuICAgIGNvbnN0IHR1cmJvRnJhbWVUYXJnZXQgPSBsaW5rLmdldEF0dHJpYnV0ZShcImRhdGEtdHVyYm8tZnJhbWVcIikgfHwgdHVyYm9GcmFtZT8uZ2V0QXR0cmlidXRlKFwidGFyZ2V0XCIpIHx8IHR1cmJvRnJhbWU/LmlkO1xuXG4gICAgaWYgKHR1cmJvRnJhbWVUYXJnZXQgJiYgdHVyYm9GcmFtZVRhcmdldCAhPT0gXCJfdG9wXCIpIHtcbiAgICAgIHJlcXVlc3QuaGVhZGVyc1tcIlR1cmJvLUZyYW1lXCJdID0gdHVyYm9GcmFtZVRhcmdldDtcbiAgICB9XG4gIH1cblxuICAvLyBGZXRjaCByZXF1ZXN0IGludGVyZmFjZVxuXG4gIHJlcXVlc3RTdWNjZWVkZWRXaXRoUmVzcG9uc2UoKSB7fVxuXG4gIHJlcXVlc3RTdGFydGVkKGZldGNoUmVxdWVzdCkge31cblxuICByZXF1ZXN0RXJyb3JlZChmZXRjaFJlcXVlc3QpIHt9XG5cbiAgcmVxdWVzdEZpbmlzaGVkKGZldGNoUmVxdWVzdCkge31cblxuICByZXF1ZXN0UHJldmVudGVkSGFuZGxpbmdSZXNwb25zZShmZXRjaFJlcXVlc3QsIGZldGNoUmVzcG9uc2UpIHt9XG5cbiAgcmVxdWVzdEZhaWxlZFdpdGhSZXNwb25zZShmZXRjaFJlcXVlc3QsIGZldGNoUmVzcG9uc2UpIHt9XG5cbiAgZ2V0ICNjYWNoZVR0bCgpIHtcbiAgICByZXR1cm4gTnVtYmVyKGdldE1ldGFDb250ZW50KFwidHVyYm8tcHJlZmV0Y2gtY2FjaGUtdGltZVwiKSkgfHwgY2FjaGVUdGxcbiAgfVxuXG4gICNpc1ByZWZldGNoYWJsZShsaW5rKSB7XG4gICAgY29uc3QgaHJlZiA9IGxpbmsuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcblxuICAgIGlmICghaHJlZikgcmV0dXJuIGZhbHNlXG5cbiAgICBpZiAodW5mZXRjaGFibGVMaW5rKGxpbmspKSByZXR1cm4gZmFsc2VcbiAgICBpZiAobGlua1RvVGhlU2FtZVBhZ2UobGluaykpIHJldHVybiBmYWxzZVxuICAgIGlmIChsaW5rT3B0c091dChsaW5rKSkgcmV0dXJuIGZhbHNlXG4gICAgaWYgKG5vblNhZmVMaW5rKGxpbmspKSByZXR1cm4gZmFsc2VcbiAgICBpZiAoZXZlbnRQcmV2ZW50ZWQobGluaykpIHJldHVybiBmYWxzZVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxufVxuXG5jb25zdCB1bmZldGNoYWJsZUxpbmsgPSAobGluaykgPT4ge1xuICByZXR1cm4gbGluay5vcmlnaW4gIT09IGRvY3VtZW50LmxvY2F0aW9uLm9yaWdpbiB8fCAhW1wiaHR0cDpcIiwgXCJodHRwczpcIl0uaW5jbHVkZXMobGluay5wcm90b2NvbCkgfHwgbGluay5oYXNBdHRyaWJ1dGUoXCJ0YXJnZXRcIilcbn07XG5cbmNvbnN0IGxpbmtUb1RoZVNhbWVQYWdlID0gKGxpbmspID0+IHtcbiAgcmV0dXJuIChsaW5rLnBhdGhuYW1lICsgbGluay5zZWFyY2ggPT09IGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lICsgZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoKSB8fCBsaW5rLmhyZWYuc3RhcnRzV2l0aChcIiNcIilcbn07XG5cbmNvbnN0IGxpbmtPcHRzT3V0ID0gKGxpbmspID0+IHtcbiAgaWYgKGxpbmsuZ2V0QXR0cmlidXRlKFwiZGF0YS10dXJiby1wcmVmZXRjaFwiKSA9PT0gXCJmYWxzZVwiKSByZXR1cm4gdHJ1ZVxuICBpZiAobGluay5nZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvXCIpID09PSBcImZhbHNlXCIpIHJldHVybiB0cnVlXG5cbiAgY29uc3QgdHVyYm9QcmVmZXRjaFBhcmVudCA9IGZpbmRDbG9zZXN0UmVjdXJzaXZlbHkobGluaywgXCJbZGF0YS10dXJiby1wcmVmZXRjaF1cIik7XG4gIGlmICh0dXJib1ByZWZldGNoUGFyZW50ICYmIHR1cmJvUHJlZmV0Y2hQYXJlbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS10dXJiby1wcmVmZXRjaFwiKSA9PT0gXCJmYWxzZVwiKSByZXR1cm4gdHJ1ZVxuXG4gIHJldHVybiBmYWxzZVxufTtcblxuY29uc3Qgbm9uU2FmZUxpbmsgPSAobGluaykgPT4ge1xuICBjb25zdCB0dXJib01ldGhvZCA9IGxpbmsuZ2V0QXR0cmlidXRlKFwiZGF0YS10dXJiby1tZXRob2RcIik7XG4gIGlmICh0dXJib01ldGhvZCAmJiB0dXJib01ldGhvZC50b0xvd2VyQ2FzZSgpICE9PSBcImdldFwiKSByZXR1cm4gdHJ1ZVxuXG4gIGlmIChpc1VKUyhsaW5rKSkgcmV0dXJuIHRydWVcbiAgaWYgKGxpbmsuaGFzQXR0cmlidXRlKFwiZGF0YS10dXJiby1jb25maXJtXCIpKSByZXR1cm4gdHJ1ZVxuICBpZiAobGluay5oYXNBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLXN0cmVhbVwiKSkgcmV0dXJuIHRydWVcblxuICByZXR1cm4gZmFsc2Vcbn07XG5cbmNvbnN0IGlzVUpTID0gKGxpbmspID0+IHtcbiAgcmV0dXJuIGxpbmsuaGFzQXR0cmlidXRlKFwiZGF0YS1yZW1vdGVcIikgfHwgbGluay5oYXNBdHRyaWJ1dGUoXCJkYXRhLWJlaGF2aW9yXCIpIHx8IGxpbmsuaGFzQXR0cmlidXRlKFwiZGF0YS1jb25maXJtXCIpIHx8IGxpbmsuaGFzQXR0cmlidXRlKFwiZGF0YS1tZXRob2RcIilcbn07XG5cbmNvbnN0IGV2ZW50UHJldmVudGVkID0gKGxpbmspID0+IHtcbiAgY29uc3QgZXZlbnQgPSBkaXNwYXRjaChcInR1cmJvOmJlZm9yZS1wcmVmZXRjaFwiLCB7IHRhcmdldDogbGluaywgY2FuY2VsYWJsZTogdHJ1ZSB9KTtcbiAgcmV0dXJuIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWRcbn07XG5cbmNsYXNzIE5hdmlnYXRvciB7XG4gIGNvbnN0cnVjdG9yKGRlbGVnYXRlKSB7XG4gICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICB9XG5cbiAgcHJvcG9zZVZpc2l0KGxvY2F0aW9uLCBvcHRpb25zID0ge30pIHtcbiAgICBpZiAodGhpcy5kZWxlZ2F0ZS5hbGxvd3NWaXNpdGluZ0xvY2F0aW9uV2l0aEFjdGlvbihsb2NhdGlvbiwgb3B0aW9ucy5hY3Rpb24pKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlLnZpc2l0UHJvcG9zZWRUb0xvY2F0aW9uKGxvY2F0aW9uLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBzdGFydFZpc2l0KGxvY2F0YWJsZSwgcmVzdG9yYXRpb25JZGVudGlmaWVyLCBvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLnN0b3AoKTtcbiAgICB0aGlzLmN1cnJlbnRWaXNpdCA9IG5ldyBWaXNpdCh0aGlzLCBleHBhbmRVUkwobG9jYXRhYmxlKSwgcmVzdG9yYXRpb25JZGVudGlmaWVyLCB7XG4gICAgICByZWZlcnJlcjogdGhpcy5sb2NhdGlvbixcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9KTtcbiAgICB0aGlzLmN1cnJlbnRWaXNpdC5zdGFydCgpO1xuICB9XG5cbiAgc3VibWl0Rm9ybShmb3JtLCBzdWJtaXR0ZXIpIHtcbiAgICB0aGlzLnN0b3AoKTtcbiAgICB0aGlzLmZvcm1TdWJtaXNzaW9uID0gbmV3IEZvcm1TdWJtaXNzaW9uKHRoaXMsIGZvcm0sIHN1Ym1pdHRlciwgdHJ1ZSk7XG5cbiAgICB0aGlzLmZvcm1TdWJtaXNzaW9uLnN0YXJ0KCk7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLmZvcm1TdWJtaXNzaW9uKSB7XG4gICAgICB0aGlzLmZvcm1TdWJtaXNzaW9uLnN0b3AoKTtcbiAgICAgIGRlbGV0ZSB0aGlzLmZvcm1TdWJtaXNzaW9uO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmN1cnJlbnRWaXNpdCkge1xuICAgICAgdGhpcy5jdXJyZW50VmlzaXQuY2FuY2VsKCk7XG4gICAgICBkZWxldGUgdGhpcy5jdXJyZW50VmlzaXQ7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGFkYXB0ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUuYWRhcHRlclxuICB9XG5cbiAgZ2V0IHZpZXcoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUudmlld1xuICB9XG5cbiAgZ2V0IHJvb3RMb2NhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3LnNuYXBzaG90LnJvb3RMb2NhdGlvblxuICB9XG5cbiAgZ2V0IGhpc3RvcnkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUuaGlzdG9yeVxuICB9XG5cbiAgLy8gRm9ybSBzdWJtaXNzaW9uIGRlbGVnYXRlXG5cbiAgZm9ybVN1Ym1pc3Npb25TdGFydGVkKGZvcm1TdWJtaXNzaW9uKSB7XG4gICAgLy8gTm90IGFsbCBhZGFwdGVycyBpbXBsZW1lbnQgZm9ybVN1Ym1pc3Npb25TdGFydGVkXG4gICAgaWYgKHR5cGVvZiB0aGlzLmFkYXB0ZXIuZm9ybVN1Ym1pc3Npb25TdGFydGVkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRoaXMuYWRhcHRlci5mb3JtU3VibWlzc2lvblN0YXJ0ZWQoZm9ybVN1Ym1pc3Npb24pO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZvcm1TdWJtaXNzaW9uU3VjY2VlZGVkV2l0aFJlc3BvbnNlKGZvcm1TdWJtaXNzaW9uLCBmZXRjaFJlc3BvbnNlKSB7XG4gICAgaWYgKGZvcm1TdWJtaXNzaW9uID09IHRoaXMuZm9ybVN1Ym1pc3Npb24pIHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlSFRNTCA9IGF3YWl0IGZldGNoUmVzcG9uc2UucmVzcG9uc2VIVE1MO1xuICAgICAgaWYgKHJlc3BvbnNlSFRNTCkge1xuICAgICAgICBjb25zdCBzaG91bGRDYWNoZVNuYXBzaG90ID0gZm9ybVN1Ym1pc3Npb24uaXNTYWZlO1xuICAgICAgICBpZiAoIXNob3VsZENhY2hlU25hcHNob3QpIHtcbiAgICAgICAgICB0aGlzLnZpZXcuY2xlYXJTbmFwc2hvdENhY2hlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHN0YXR1c0NvZGUsIHJlZGlyZWN0ZWQgfSA9IGZldGNoUmVzcG9uc2U7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMuI2dldEFjdGlvbkZvckZvcm1TdWJtaXNzaW9uKGZvcm1TdWJtaXNzaW9uLCBmZXRjaFJlc3BvbnNlKTtcbiAgICAgICAgY29uc3QgdmlzaXRPcHRpb25zID0ge1xuICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICBzaG91bGRDYWNoZVNuYXBzaG90LFxuICAgICAgICAgIHJlc3BvbnNlOiB7IHN0YXR1c0NvZGUsIHJlc3BvbnNlSFRNTCwgcmVkaXJlY3RlZCB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucHJvcG9zZVZpc2l0KGZldGNoUmVzcG9uc2UubG9jYXRpb24sIHZpc2l0T3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZm9ybVN1Ym1pc3Npb25GYWlsZWRXaXRoUmVzcG9uc2UoZm9ybVN1Ym1pc3Npb24sIGZldGNoUmVzcG9uc2UpIHtcbiAgICBjb25zdCByZXNwb25zZUhUTUwgPSBhd2FpdCBmZXRjaFJlc3BvbnNlLnJlc3BvbnNlSFRNTDtcblxuICAgIGlmIChyZXNwb25zZUhUTUwpIHtcbiAgICAgIGNvbnN0IHNuYXBzaG90ID0gUGFnZVNuYXBzaG90LmZyb21IVE1MU3RyaW5nKHJlc3BvbnNlSFRNTCk7XG4gICAgICBpZiAoZmV0Y2hSZXNwb25zZS5zZXJ2ZXJFcnJvcikge1xuICAgICAgICBhd2FpdCB0aGlzLnZpZXcucmVuZGVyRXJyb3Ioc25hcHNob3QsIHRoaXMuY3VycmVudFZpc2l0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IHRoaXMudmlldy5yZW5kZXJQYWdlKHNuYXBzaG90LCBmYWxzZSwgdHJ1ZSwgdGhpcy5jdXJyZW50VmlzaXQpO1xuICAgICAgfVxuICAgICAgaWYoIXNuYXBzaG90LnNob3VsZFByZXNlcnZlU2Nyb2xsUG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy52aWV3LnNjcm9sbFRvVG9wKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnZpZXcuY2xlYXJTbmFwc2hvdENhY2hlKCk7XG4gICAgfVxuICB9XG5cbiAgZm9ybVN1Ym1pc3Npb25FcnJvcmVkKGZvcm1TdWJtaXNzaW9uLCBlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICB9XG5cbiAgZm9ybVN1Ym1pc3Npb25GaW5pc2hlZChmb3JtU3VibWlzc2lvbikge1xuICAgIC8vIE5vdCBhbGwgYWRhcHRlcnMgaW1wbGVtZW50IGZvcm1TdWJtaXNzaW9uRmluaXNoZWRcbiAgICBpZiAodHlwZW9mIHRoaXMuYWRhcHRlci5mb3JtU3VibWlzc2lvbkZpbmlzaGVkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRoaXMuYWRhcHRlci5mb3JtU3VibWlzc2lvbkZpbmlzaGVkKGZvcm1TdWJtaXNzaW9uKTtcbiAgICB9XG4gIH1cblxuICAvLyBWaXNpdCBkZWxlZ2F0ZVxuXG4gIHZpc2l0U3RhcnRlZCh2aXNpdCkge1xuICAgIHRoaXMuZGVsZWdhdGUudmlzaXRTdGFydGVkKHZpc2l0KTtcbiAgfVxuXG4gIHZpc2l0Q29tcGxldGVkKHZpc2l0KSB7XG4gICAgdGhpcy5kZWxlZ2F0ZS52aXNpdENvbXBsZXRlZCh2aXNpdCk7XG4gIH1cblxuICBsb2NhdGlvbldpdGhBY3Rpb25Jc1NhbWVQYWdlKGxvY2F0aW9uLCBhY3Rpb24pIHtcbiAgICBjb25zdCBhbmNob3IgPSBnZXRBbmNob3IobG9jYXRpb24pO1xuICAgIGNvbnN0IGN1cnJlbnRBbmNob3IgPSBnZXRBbmNob3IodGhpcy52aWV3Lmxhc3RSZW5kZXJlZExvY2F0aW9uKTtcbiAgICBjb25zdCBpc1Jlc3RvcmF0aW9uVG9Ub3AgPSBhY3Rpb24gPT09IFwicmVzdG9yZVwiICYmIHR5cGVvZiBhbmNob3IgPT09IFwidW5kZWZpbmVkXCI7XG5cbiAgICByZXR1cm4gKFxuICAgICAgYWN0aW9uICE9PSBcInJlcGxhY2VcIiAmJlxuICAgICAgZ2V0UmVxdWVzdFVSTChsb2NhdGlvbikgPT09IGdldFJlcXVlc3RVUkwodGhpcy52aWV3Lmxhc3RSZW5kZXJlZExvY2F0aW9uKSAmJlxuICAgICAgKGlzUmVzdG9yYXRpb25Ub1RvcCB8fCAoYW5jaG9yICE9IG51bGwgJiYgYW5jaG9yICE9PSBjdXJyZW50QW5jaG9yKSlcbiAgICApXG4gIH1cblxuICB2aXNpdFNjcm9sbGVkVG9TYW1lUGFnZUxvY2F0aW9uKG9sZFVSTCwgbmV3VVJMKSB7XG4gICAgdGhpcy5kZWxlZ2F0ZS52aXNpdFNjcm9sbGVkVG9TYW1lUGFnZUxvY2F0aW9uKG9sZFVSTCwgbmV3VVJMKTtcbiAgfVxuXG4gIC8vIFZpc2l0c1xuXG4gIGdldCBsb2NhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5oaXN0b3J5LmxvY2F0aW9uXG4gIH1cblxuICBnZXQgcmVzdG9yYXRpb25JZGVudGlmaWVyKCkge1xuICAgIHJldHVybiB0aGlzLmhpc3RvcnkucmVzdG9yYXRpb25JZGVudGlmaWVyXG4gIH1cblxuICAjZ2V0QWN0aW9uRm9yRm9ybVN1Ym1pc3Npb24oZm9ybVN1Ym1pc3Npb24sIGZldGNoUmVzcG9uc2UpIHtcbiAgICBjb25zdCB7IHN1Ym1pdHRlciwgZm9ybUVsZW1lbnQgfSA9IGZvcm1TdWJtaXNzaW9uO1xuICAgIHJldHVybiBnZXRWaXNpdEFjdGlvbihzdWJtaXR0ZXIsIGZvcm1FbGVtZW50KSB8fCB0aGlzLiNnZXREZWZhdWx0QWN0aW9uKGZldGNoUmVzcG9uc2UpXG4gIH1cblxuICAjZ2V0RGVmYXVsdEFjdGlvbihmZXRjaFJlc3BvbnNlKSB7XG4gICAgY29uc3Qgc2FtZUxvY2F0aW9uUmVkaXJlY3QgPSBmZXRjaFJlc3BvbnNlLnJlZGlyZWN0ZWQgJiYgZmV0Y2hSZXNwb25zZS5sb2NhdGlvbi5ocmVmID09PSB0aGlzLmxvY2F0aW9uPy5ocmVmO1xuICAgIHJldHVybiBzYW1lTG9jYXRpb25SZWRpcmVjdCA/IFwicmVwbGFjZVwiIDogXCJhZHZhbmNlXCJcbiAgfVxufVxuXG5jb25zdCBQYWdlU3RhZ2UgPSB7XG4gIGluaXRpYWw6IDAsXG4gIGxvYWRpbmc6IDEsXG4gIGludGVyYWN0aXZlOiAyLFxuICBjb21wbGV0ZTogM1xufTtcblxuY2xhc3MgUGFnZU9ic2VydmVyIHtcbiAgc3RhZ2UgPSBQYWdlU3RhZ2UuaW5pdGlhbFxuICBzdGFydGVkID0gZmFsc2VcblxuICBjb25zdHJ1Y3RvcihkZWxlZ2F0ZSkge1xuICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICBpZiAodGhpcy5zdGFnZSA9PSBQYWdlU3RhZ2UuaW5pdGlhbCkge1xuICAgICAgICB0aGlzLnN0YWdlID0gUGFnZVN0YWdlLmxvYWRpbmc7XG4gICAgICB9XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCB0aGlzLmludGVycHJldFJlYWR5U3RhdGUsIGZhbHNlKTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCB0aGlzLnBhZ2VXaWxsVW5sb2FkLCBmYWxzZSk7XG4gICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIiwgdGhpcy5pbnRlcnByZXRSZWFkeVN0YXRlLCBmYWxzZSk7XG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgdGhpcy5wYWdlV2lsbFVubG9hZCwgZmFsc2UpO1xuICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaW50ZXJwcmV0UmVhZHlTdGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7IHJlYWR5U3RhdGUgfSA9IHRoaXM7XG4gICAgaWYgKHJlYWR5U3RhdGUgPT0gXCJpbnRlcmFjdGl2ZVwiKSB7XG4gICAgICB0aGlzLnBhZ2VJc0ludGVyYWN0aXZlKCk7XG4gICAgfSBlbHNlIGlmIChyZWFkeVN0YXRlID09IFwiY29tcGxldGVcIikge1xuICAgICAgdGhpcy5wYWdlSXNDb21wbGV0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHBhZ2VJc0ludGVyYWN0aXZlKCkge1xuICAgIGlmICh0aGlzLnN0YWdlID09IFBhZ2VTdGFnZS5sb2FkaW5nKSB7XG4gICAgICB0aGlzLnN0YWdlID0gUGFnZVN0YWdlLmludGVyYWN0aXZlO1xuICAgICAgdGhpcy5kZWxlZ2F0ZS5wYWdlQmVjYW1lSW50ZXJhY3RpdmUoKTtcbiAgICB9XG4gIH1cblxuICBwYWdlSXNDb21wbGV0ZSgpIHtcbiAgICB0aGlzLnBhZ2VJc0ludGVyYWN0aXZlKCk7XG4gICAgaWYgKHRoaXMuc3RhZ2UgPT0gUGFnZVN0YWdlLmludGVyYWN0aXZlKSB7XG4gICAgICB0aGlzLnN0YWdlID0gUGFnZVN0YWdlLmNvbXBsZXRlO1xuICAgICAgdGhpcy5kZWxlZ2F0ZS5wYWdlTG9hZGVkKCk7XG4gICAgfVxuICB9XG5cbiAgcGFnZVdpbGxVbmxvYWQgPSAoKSA9PiB7XG4gICAgdGhpcy5kZWxlZ2F0ZS5wYWdlV2lsbFVubG9hZCgpO1xuICB9XG5cbiAgZ2V0IHJlYWR5U3RhdGUoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LnJlYWR5U3RhdGVcbiAgfVxufVxuXG5jbGFzcyBTY3JvbGxPYnNlcnZlciB7XG4gIHN0YXJ0ZWQgPSBmYWxzZVxuXG4gIGNvbnN0cnVjdG9yKGRlbGVnYXRlKSB7XG4gICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5vblNjcm9sbCwgZmFsc2UpO1xuICAgICAgdGhpcy5vblNjcm9sbCgpO1xuICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5vblNjcm9sbCwgZmFsc2UpO1xuICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgb25TY3JvbGwgPSAoKSA9PiB7XG4gICAgdGhpcy51cGRhdGVQb3NpdGlvbih7IHg6IHdpbmRvdy5wYWdlWE9mZnNldCwgeTogd2luZG93LnBhZ2VZT2Zmc2V0IH0pO1xuICB9XG5cbiAgLy8gUHJpdmF0ZVxuXG4gIHVwZGF0ZVBvc2l0aW9uKHBvc2l0aW9uKSB7XG4gICAgdGhpcy5kZWxlZ2F0ZS5zY3JvbGxQb3NpdGlvbkNoYW5nZWQocG9zaXRpb24pO1xuICB9XG59XG5cbmNsYXNzIFN0cmVhbU1lc3NhZ2VSZW5kZXJlciB7XG4gIHJlbmRlcih7IGZyYWdtZW50IH0pIHtcbiAgICBCYXJkby5wcmVzZXJ2aW5nUGVybWFuZW50RWxlbWVudHModGhpcywgZ2V0UGVybWFuZW50RWxlbWVudE1hcEZvckZyYWdtZW50KGZyYWdtZW50KSwgKCkgPT4ge1xuICAgICAgd2l0aEF1dG9mb2N1c0Zyb21GcmFnbWVudChmcmFnbWVudCwgKCkgPT4ge1xuICAgICAgICB3aXRoUHJlc2VydmVkRm9jdXMoKCkgPT4ge1xuICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBCYXJkbyBkZWxlZ2F0ZVxuXG4gIGVudGVyaW5nQmFyZG8oY3VycmVudFBlcm1hbmVudEVsZW1lbnQsIG5ld1Blcm1hbmVudEVsZW1lbnQpIHtcbiAgICBuZXdQZXJtYW5lbnRFbGVtZW50LnJlcGxhY2VXaXRoKGN1cnJlbnRQZXJtYW5lbnRFbGVtZW50LmNsb25lTm9kZSh0cnVlKSk7XG4gIH1cblxuICBsZWF2aW5nQmFyZG8oKSB7fVxufVxuXG5mdW5jdGlvbiBnZXRQZXJtYW5lbnRFbGVtZW50TWFwRm9yRnJhZ21lbnQoZnJhZ21lbnQpIHtcbiAgY29uc3QgcGVybWFuZW50RWxlbWVudHNJbkRvY3VtZW50ID0gcXVlcnlQZXJtYW5lbnRFbGVtZW50c0FsbChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuICBjb25zdCBwZXJtYW5lbnRFbGVtZW50TWFwID0ge307XG4gIGZvciAoY29uc3QgcGVybWFuZW50RWxlbWVudEluRG9jdW1lbnQgb2YgcGVybWFuZW50RWxlbWVudHNJbkRvY3VtZW50KSB7XG4gICAgY29uc3QgeyBpZCB9ID0gcGVybWFuZW50RWxlbWVudEluRG9jdW1lbnQ7XG5cbiAgICBmb3IgKGNvbnN0IHN0cmVhbUVsZW1lbnQgb2YgZnJhZ21lbnQucXVlcnlTZWxlY3RvckFsbChcInR1cmJvLXN0cmVhbVwiKSkge1xuICAgICAgY29uc3QgZWxlbWVudEluU3RyZWFtID0gZ2V0UGVybWFuZW50RWxlbWVudEJ5SWQoc3RyZWFtRWxlbWVudC50ZW1wbGF0ZUVsZW1lbnQuY29udGVudCwgaWQpO1xuXG4gICAgICBpZiAoZWxlbWVudEluU3RyZWFtKSB7XG4gICAgICAgIHBlcm1hbmVudEVsZW1lbnRNYXBbaWRdID0gW3Blcm1hbmVudEVsZW1lbnRJbkRvY3VtZW50LCBlbGVtZW50SW5TdHJlYW1dO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwZXJtYW5lbnRFbGVtZW50TWFwXG59XG5cbmFzeW5jIGZ1bmN0aW9uIHdpdGhBdXRvZm9jdXNGcm9tRnJhZ21lbnQoZnJhZ21lbnQsIGNhbGxiYWNrKSB7XG4gIGNvbnN0IGdlbmVyYXRlZElEID0gYHR1cmJvLXN0cmVhbS1hdXRvZm9jdXMtJHt1dWlkKCl9YDtcbiAgY29uc3QgdHVyYm9TdHJlYW1zID0gZnJhZ21lbnQucXVlcnlTZWxlY3RvckFsbChcInR1cmJvLXN0cmVhbVwiKTtcbiAgY29uc3QgZWxlbWVudFdpdGhBdXRvZm9jdXMgPSBmaXJzdEF1dG9mb2N1c2FibGVFbGVtZW50SW5TdHJlYW1zKHR1cmJvU3RyZWFtcyk7XG4gIGxldCB3aWxsQXV0b2ZvY3VzSWQgPSBudWxsO1xuXG4gIGlmIChlbGVtZW50V2l0aEF1dG9mb2N1cykge1xuICAgIGlmIChlbGVtZW50V2l0aEF1dG9mb2N1cy5pZCkge1xuICAgICAgd2lsbEF1dG9mb2N1c0lkID0gZWxlbWVudFdpdGhBdXRvZm9jdXMuaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbGxBdXRvZm9jdXNJZCA9IGdlbmVyYXRlZElEO1xuICAgIH1cblxuICAgIGVsZW1lbnRXaXRoQXV0b2ZvY3VzLmlkID0gd2lsbEF1dG9mb2N1c0lkO1xuICB9XG5cbiAgY2FsbGJhY2soKTtcbiAgYXdhaXQgbmV4dFJlcGFpbnQoKTtcblxuICBjb25zdCBoYXNOb0FjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09IG51bGwgfHwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PSBkb2N1bWVudC5ib2R5O1xuXG4gIGlmIChoYXNOb0FjdGl2ZUVsZW1lbnQgJiYgd2lsbEF1dG9mb2N1c0lkKSB7XG4gICAgY29uc3QgZWxlbWVudFRvQXV0b2ZvY3VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQod2lsbEF1dG9mb2N1c0lkKTtcblxuICAgIGlmIChlbGVtZW50SXNGb2N1c2FibGUoZWxlbWVudFRvQXV0b2ZvY3VzKSkge1xuICAgICAgZWxlbWVudFRvQXV0b2ZvY3VzLmZvY3VzKCk7XG4gICAgfVxuICAgIGlmIChlbGVtZW50VG9BdXRvZm9jdXMgJiYgZWxlbWVudFRvQXV0b2ZvY3VzLmlkID09IGdlbmVyYXRlZElEKSB7XG4gICAgICBlbGVtZW50VG9BdXRvZm9jdXMucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik7XG4gICAgfVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHdpdGhQcmVzZXJ2ZWRGb2N1cyhjYWxsYmFjaykge1xuICBjb25zdCBbYWN0aXZlRWxlbWVudEJlZm9yZVJlbmRlciwgYWN0aXZlRWxlbWVudEFmdGVyUmVuZGVyXSA9IGF3YWl0IGFyb3VuZChjYWxsYmFjaywgKCkgPT4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG5cbiAgY29uc3QgcmVzdG9yZUZvY3VzVG8gPSBhY3RpdmVFbGVtZW50QmVmb3JlUmVuZGVyICYmIGFjdGl2ZUVsZW1lbnRCZWZvcmVSZW5kZXIuaWQ7XG5cbiAgaWYgKHJlc3RvcmVGb2N1c1RvKSB7XG4gICAgY29uc3QgZWxlbWVudFRvRm9jdXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyZXN0b3JlRm9jdXNUbyk7XG5cbiAgICBpZiAoZWxlbWVudElzRm9jdXNhYmxlKGVsZW1lbnRUb0ZvY3VzKSAmJiBlbGVtZW50VG9Gb2N1cyAhPSBhY3RpdmVFbGVtZW50QWZ0ZXJSZW5kZXIpIHtcbiAgICAgIGVsZW1lbnRUb0ZvY3VzLmZvY3VzKCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpcnN0QXV0b2ZvY3VzYWJsZUVsZW1lbnRJblN0cmVhbXMobm9kZUxpc3RPZlN0cmVhbUVsZW1lbnRzKSB7XG4gIGZvciAoY29uc3Qgc3RyZWFtRWxlbWVudCBvZiBub2RlTGlzdE9mU3RyZWFtRWxlbWVudHMpIHtcbiAgICBjb25zdCBlbGVtZW50V2l0aEF1dG9mb2N1cyA9IHF1ZXJ5QXV0b2ZvY3VzYWJsZUVsZW1lbnQoc3RyZWFtRWxlbWVudC50ZW1wbGF0ZUVsZW1lbnQuY29udGVudCk7XG5cbiAgICBpZiAoZWxlbWVudFdpdGhBdXRvZm9jdXMpIHJldHVybiBlbGVtZW50V2l0aEF1dG9mb2N1c1xuICB9XG5cbiAgcmV0dXJuIG51bGxcbn1cblxuY2xhc3MgU3RyZWFtT2JzZXJ2ZXIge1xuICBzb3VyY2VzID0gbmV3IFNldCgpXG4gICNzdGFydGVkID0gZmFsc2VcblxuICBjb25zdHJ1Y3RvcihkZWxlZ2F0ZSkge1xuICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIGlmICghdGhpcy4jc3RhcnRlZCkge1xuICAgICAgdGhpcy4jc3RhcnRlZCA9IHRydWU7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKFwidHVyYm86YmVmb3JlLWZldGNoLXJlc3BvbnNlXCIsIHRoaXMuaW5zcGVjdEZldGNoUmVzcG9uc2UsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLiNzdGFydGVkKSB7XG4gICAgICB0aGlzLiNzdGFydGVkID0gZmFsc2U7XG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyKFwidHVyYm86YmVmb3JlLWZldGNoLXJlc3BvbnNlXCIsIHRoaXMuaW5zcGVjdEZldGNoUmVzcG9uc2UsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBjb25uZWN0U3RyZWFtU291cmNlKHNvdXJjZSkge1xuICAgIGlmICghdGhpcy5zdHJlYW1Tb3VyY2VJc0Nvbm5lY3RlZChzb3VyY2UpKSB7XG4gICAgICB0aGlzLnNvdXJjZXMuYWRkKHNvdXJjZSk7XG4gICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgdGhpcy5yZWNlaXZlTWVzc2FnZUV2ZW50LCBmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgZGlzY29ubmVjdFN0cmVhbVNvdXJjZShzb3VyY2UpIHtcbiAgICBpZiAodGhpcy5zdHJlYW1Tb3VyY2VJc0Nvbm5lY3RlZChzb3VyY2UpKSB7XG4gICAgICB0aGlzLnNvdXJjZXMuZGVsZXRlKHNvdXJjZSk7XG4gICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgdGhpcy5yZWNlaXZlTWVzc2FnZUV2ZW50LCBmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgc3RyZWFtU291cmNlSXNDb25uZWN0ZWQoc291cmNlKSB7XG4gICAgcmV0dXJuIHRoaXMuc291cmNlcy5oYXMoc291cmNlKVxuICB9XG5cbiAgaW5zcGVjdEZldGNoUmVzcG9uc2UgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGZldGNoUmVzcG9uc2VGcm9tRXZlbnQoZXZlbnQpO1xuICAgIGlmIChyZXNwb25zZSAmJiBmZXRjaFJlc3BvbnNlSXNTdHJlYW0ocmVzcG9uc2UpKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5yZWNlaXZlTWVzc2FnZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICB9XG4gIH1cblxuICByZWNlaXZlTWVzc2FnZUV2ZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKHRoaXMuI3N0YXJ0ZWQgJiYgdHlwZW9mIGV2ZW50LmRhdGEgPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhpcy5yZWNlaXZlTWVzc2FnZUhUTUwoZXZlbnQuZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcmVjZWl2ZU1lc3NhZ2VSZXNwb25zZShyZXNwb25zZSkge1xuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZXNwb25zZS5yZXNwb25zZUhUTUw7XG4gICAgaWYgKGh0bWwpIHtcbiAgICAgIHRoaXMucmVjZWl2ZU1lc3NhZ2VIVE1MKGh0bWwpO1xuICAgIH1cbiAgfVxuXG4gIHJlY2VpdmVNZXNzYWdlSFRNTChodG1sKSB7XG4gICAgdGhpcy5kZWxlZ2F0ZS5yZWNlaXZlZE1lc3NhZ2VGcm9tU3RyZWFtKFN0cmVhbU1lc3NhZ2Uud3JhcChodG1sKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmV0Y2hSZXNwb25zZUZyb21FdmVudChldmVudCkge1xuICBjb25zdCBmZXRjaFJlc3BvbnNlID0gZXZlbnQuZGV0YWlsPy5mZXRjaFJlc3BvbnNlO1xuICBpZiAoZmV0Y2hSZXNwb25zZSBpbnN0YW5jZW9mIEZldGNoUmVzcG9uc2UpIHtcbiAgICByZXR1cm4gZmV0Y2hSZXNwb25zZVxuICB9XG59XG5cbmZ1bmN0aW9uIGZldGNoUmVzcG9uc2VJc1N0cmVhbShyZXNwb25zZSkge1xuICBjb25zdCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmNvbnRlbnRUeXBlID8/IFwiXCI7XG4gIHJldHVybiBjb250ZW50VHlwZS5zdGFydHNXaXRoKFN0cmVhbU1lc3NhZ2UuY29udGVudFR5cGUpXG59XG5cbmNsYXNzIEVycm9yUmVuZGVyZXIgZXh0ZW5kcyBSZW5kZXJlciB7XG4gIHN0YXRpYyByZW5kZXJFbGVtZW50KGN1cnJlbnRFbGVtZW50LCBuZXdFbGVtZW50KSB7XG4gICAgY29uc3QgeyBkb2N1bWVudEVsZW1lbnQsIGJvZHkgfSA9IGRvY3VtZW50O1xuXG4gICAgZG9jdW1lbnRFbGVtZW50LnJlcGxhY2VDaGlsZChuZXdFbGVtZW50LCBib2R5KTtcbiAgfVxuXG4gIGFzeW5jIHJlbmRlcigpIHtcbiAgICB0aGlzLnJlcGxhY2VIZWFkQW5kQm9keSgpO1xuICAgIHRoaXMuYWN0aXZhdGVTY3JpcHRFbGVtZW50cygpO1xuICB9XG5cbiAgcmVwbGFjZUhlYWRBbmRCb2R5KCkge1xuICAgIGNvbnN0IHsgZG9jdW1lbnRFbGVtZW50LCBoZWFkIH0gPSBkb2N1bWVudDtcbiAgICBkb2N1bWVudEVsZW1lbnQucmVwbGFjZUNoaWxkKHRoaXMubmV3SGVhZCwgaGVhZCk7XG4gICAgdGhpcy5yZW5kZXJFbGVtZW50KHRoaXMuY3VycmVudEVsZW1lbnQsIHRoaXMubmV3RWxlbWVudCk7XG4gIH1cblxuICBhY3RpdmF0ZVNjcmlwdEVsZW1lbnRzKCkge1xuICAgIGZvciAoY29uc3QgcmVwbGFjZWFibGVFbGVtZW50IG9mIHRoaXMuc2NyaXB0RWxlbWVudHMpIHtcbiAgICAgIGNvbnN0IHBhcmVudE5vZGUgPSByZXBsYWNlYWJsZUVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBhY3RpdmF0ZVNjcmlwdEVsZW1lbnQocmVwbGFjZWFibGVFbGVtZW50KTtcbiAgICAgICAgcGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZWxlbWVudCwgcmVwbGFjZWFibGVFbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXQgbmV3SGVhZCgpIHtcbiAgICByZXR1cm4gdGhpcy5uZXdTbmFwc2hvdC5oZWFkU25hcHNob3QuZWxlbWVudFxuICB9XG5cbiAgZ2V0IHNjcmlwdEVsZW1lbnRzKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcInNjcmlwdFwiKVxuICB9XG59XG5cbi8vIGJhc2UgSUlGRSB0byBkZWZpbmUgaWRpb21vcnBoXG52YXIgSWRpb21vcnBoID0gKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIC8vIEFORCBOT1cgSVQgQkVHSU5TLi4uXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgbGV0IEVNUFRZX1NFVCA9IG5ldyBTZXQoKTtcblxuICAgICAgICAvLyBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gdmFsdWVzLCB1cGRhdGFibGUgYnkgdXNlcnMgbm93XG4gICAgICAgIGxldCBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIG1vcnBoU3R5bGU6IFwib3V0ZXJIVE1MXCIsXG4gICAgICAgICAgICBjYWxsYmFja3MgOiB7XG4gICAgICAgICAgICAgICAgYmVmb3JlTm9kZUFkZGVkOiBub09wLFxuICAgICAgICAgICAgICAgIGFmdGVyTm9kZUFkZGVkOiBub09wLFxuICAgICAgICAgICAgICAgIGJlZm9yZU5vZGVNb3JwaGVkOiBub09wLFxuICAgICAgICAgICAgICAgIGFmdGVyTm9kZU1vcnBoZWQ6IG5vT3AsXG4gICAgICAgICAgICAgICAgYmVmb3JlTm9kZVJlbW92ZWQ6IG5vT3AsXG4gICAgICAgICAgICAgICAgYWZ0ZXJOb2RlUmVtb3ZlZDogbm9PcCxcbiAgICAgICAgICAgICAgICBiZWZvcmVBdHRyaWJ1dGVVcGRhdGVkOiBub09wLFxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGVhZDoge1xuICAgICAgICAgICAgICAgIHN0eWxlOiAnbWVyZ2UnLFxuICAgICAgICAgICAgICAgIHNob3VsZFByZXNlcnZlOiBmdW5jdGlvbiAoZWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbHQuZ2V0QXR0cmlidXRlKFwiaW0tcHJlc2VydmVcIikgPT09IFwidHJ1ZVwiO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2hvdWxkUmVBcHBlbmQ6IGZ1bmN0aW9uIChlbHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsdC5nZXRBdHRyaWJ1dGUoXCJpbS1yZS1hcHBlbmRcIikgPT09IFwidHJ1ZVwiO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2hvdWxkUmVtb3ZlOiBub09wLFxuICAgICAgICAgICAgICAgIGFmdGVySGVhZE1vcnBoZWQ6IG5vT3AsXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyBDb3JlIE1vcnBoaW5nIEFsZ29yaXRobSAtIG1vcnBoLCBtb3JwaE5vcm1hbGl6ZWRDb250ZW50LCBtb3JwaE9sZE5vZGVUbywgbW9ycGhDaGlsZHJlblxuICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgIGZ1bmN0aW9uIG1vcnBoKG9sZE5vZGUsIG5ld0NvbnRlbnQsIGNvbmZpZyA9IHt9KSB7XG5cbiAgICAgICAgICAgIGlmIChvbGROb2RlIGluc3RhbmNlb2YgRG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICBvbGROb2RlID0gb2xkTm9kZS5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBuZXdDb250ZW50ID0gcGFyc2VDb250ZW50KG5ld0NvbnRlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgbm9ybWFsaXplZENvbnRlbnQgPSBub3JtYWxpemVDb250ZW50KG5ld0NvbnRlbnQpO1xuXG4gICAgICAgICAgICBsZXQgY3R4ID0gY3JlYXRlTW9ycGhDb250ZXh0KG9sZE5vZGUsIG5vcm1hbGl6ZWRDb250ZW50LCBjb25maWcpO1xuXG4gICAgICAgICAgICByZXR1cm4gbW9ycGhOb3JtYWxpemVkQ29udGVudChvbGROb2RlLCBub3JtYWxpemVkQ29udGVudCwgY3R4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG1vcnBoTm9ybWFsaXplZENvbnRlbnQob2xkTm9kZSwgbm9ybWFsaXplZE5ld0NvbnRlbnQsIGN0eCkge1xuICAgICAgICAgICAgaWYgKGN0eC5oZWFkLmJsb2NrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG9sZEhlYWQgPSBvbGROb2RlLnF1ZXJ5U2VsZWN0b3IoJ2hlYWQnKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3SGVhZCA9IG5vcm1hbGl6ZWROZXdDb250ZW50LnF1ZXJ5U2VsZWN0b3IoJ2hlYWQnKTtcbiAgICAgICAgICAgICAgICBpZiAob2xkSGVhZCAmJiBuZXdIZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcm9taXNlcyA9IGhhbmRsZUhlYWRFbGVtZW50KG5ld0hlYWQsIG9sZEhlYWQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gaGVhZCBwcm9taXNlcyByZXNvbHZlLCBjYWxsIG1vcnBoIGFnYWluLCBpZ25vcmluZyB0aGUgaGVhZCB0YWdcbiAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9ycGhOb3JtYWxpemVkQ29udGVudChvbGROb2RlLCBub3JtYWxpemVkTmV3Q29udGVudCwgT2JqZWN0LmFzc2lnbihjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWdub3JlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGN0eC5tb3JwaFN0eWxlID09PSBcImlubmVySFRNTFwiKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBpbm5lckhUTUwsIHNvIHdlIGFyZSBvbmx5IHVwZGF0aW5nIHRoZSBjaGlsZHJlblxuICAgICAgICAgICAgICAgIG1vcnBoQ2hpbGRyZW4obm9ybWFsaXplZE5ld0NvbnRlbnQsIG9sZE5vZGUsIGN0eCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9sZE5vZGUuY2hpbGRyZW47XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3R4Lm1vcnBoU3R5bGUgPT09IFwib3V0ZXJIVE1MXCIgfHwgY3R4Lm1vcnBoU3R5bGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBmaW5kIHRoZSBiZXN0IGVsZW1lbnQgbWF0Y2ggaW4gdGhlIG5ldyBjb250ZW50LCBtb3JwaCB0aGF0LCBhbmQgbWVyZ2UgaXRzIHNpYmxpbmdzXG4gICAgICAgICAgICAgICAgLy8gaW50byBlaXRoZXIgc2lkZSBvZiB0aGUgYmVzdCBtYXRjaFxuICAgICAgICAgICAgICAgIGxldCBiZXN0TWF0Y2ggPSBmaW5kQmVzdE5vZGVNYXRjaChub3JtYWxpemVkTmV3Q29udGVudCwgb2xkTm9kZSwgY3R4KTtcblxuICAgICAgICAgICAgICAgIC8vIHN0YXNoIHRoZSBzaWJsaW5ncyB0aGF0IHdpbGwgbmVlZCB0byBiZSBpbnNlcnRlZCBvbiBlaXRoZXIgc2lkZSBvZiB0aGUgYmVzdCBtYXRjaFxuICAgICAgICAgICAgICAgIGxldCBwcmV2aW91c1NpYmxpbmcgPSBiZXN0TWF0Y2g/LnByZXZpb3VzU2libGluZztcbiAgICAgICAgICAgICAgICBsZXQgbmV4dFNpYmxpbmcgPSBiZXN0TWF0Y2g/Lm5leHRTaWJsaW5nO1xuXG4gICAgICAgICAgICAgICAgLy8gbW9ycGggaXRcbiAgICAgICAgICAgICAgICBsZXQgbW9ycGhlZE5vZGUgPSBtb3JwaE9sZE5vZGVUbyhvbGROb2RlLCBiZXN0TWF0Y2gsIGN0eCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYmVzdE1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIHdhcyBhIGJlc3QgbWF0Y2gsIG1lcmdlIHRoZSBzaWJsaW5ncyBpbiB0b28gYW5kIHJldHVybiB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hvbGUgYnVuY2hcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluc2VydFNpYmxpbmdzKHByZXZpb3VzU2libGluZywgbW9ycGhlZE5vZGUsIG5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2Ugbm90aGluZyB3YXMgYWRkZWQgdG8gdGhlIERPTVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW11cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IFwiRG8gbm90IHVuZGVyc3RhbmQgaG93IHRvIG1vcnBoIHN0eWxlIFwiICsgY3R4Lm1vcnBoU3R5bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gcG9zc2libGVBY3RpdmVFbGVtZW50XG4gICAgICAgICAqIEBwYXJhbSBjdHhcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBpZ25vcmVWYWx1ZU9mQWN0aXZlRWxlbWVudChwb3NzaWJsZUFjdGl2ZUVsZW1lbnQsIGN0eCkge1xuICAgICAgICAgICAgcmV0dXJuIGN0eC5pZ25vcmVBY3RpdmVWYWx1ZSAmJiBwb3NzaWJsZUFjdGl2ZUVsZW1lbnQgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgcG9zc2libGVBY3RpdmVFbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBvbGROb2RlIHJvb3Qgbm9kZSB0byBtZXJnZSBjb250ZW50IGludG9cbiAgICAgICAgICogQHBhcmFtIG5ld0NvbnRlbnQgbmV3IGNvbnRlbnQgdG8gbWVyZ2VcbiAgICAgICAgICogQHBhcmFtIGN0eCB0aGUgbWVyZ2UgY29udGV4dFxuICAgICAgICAgKiBAcmV0dXJucyB7RWxlbWVudH0gdGhlIGVsZW1lbnQgdGhhdCBlbmRlZCB1cCBpbiB0aGUgRE9NXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBtb3JwaE9sZE5vZGVUbyhvbGROb2RlLCBuZXdDb250ZW50LCBjdHgpIHtcbiAgICAgICAgICAgIGlmIChjdHguaWdub3JlQWN0aXZlICYmIG9sZE5vZGUgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIDsgZWxzZSBpZiAobmV3Q29udGVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN0eC5jYWxsYmFja3MuYmVmb3JlTm9kZVJlbW92ZWQob2xkTm9kZSkgPT09IGZhbHNlKSByZXR1cm4gb2xkTm9kZTtcblxuICAgICAgICAgICAgICAgIG9sZE5vZGUucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgY3R4LmNhbGxiYWNrcy5hZnRlck5vZGVSZW1vdmVkKG9sZE5vZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNTb2Z0TWF0Y2gob2xkTm9kZSwgbmV3Q29udGVudCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3R4LmNhbGxiYWNrcy5iZWZvcmVOb2RlUmVtb3ZlZChvbGROb2RlKSA9PT0gZmFsc2UpIHJldHVybiBvbGROb2RlO1xuICAgICAgICAgICAgICAgIGlmIChjdHguY2FsbGJhY2tzLmJlZm9yZU5vZGVBZGRlZChuZXdDb250ZW50KSA9PT0gZmFsc2UpIHJldHVybiBvbGROb2RlO1xuXG4gICAgICAgICAgICAgICAgb2xkTm9kZS5wYXJlbnRFbGVtZW50LnJlcGxhY2VDaGlsZChuZXdDb250ZW50LCBvbGROb2RlKTtcbiAgICAgICAgICAgICAgICBjdHguY2FsbGJhY2tzLmFmdGVyTm9kZUFkZGVkKG5ld0NvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGN0eC5jYWxsYmFja3MuYWZ0ZXJOb2RlUmVtb3ZlZChvbGROb2RlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3Q29udGVudDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGN0eC5jYWxsYmFja3MuYmVmb3JlTm9kZU1vcnBoZWQob2xkTm9kZSwgbmV3Q29udGVudCkgPT09IGZhbHNlKSByZXR1cm4gb2xkTm9kZTtcblxuICAgICAgICAgICAgICAgIGlmIChvbGROb2RlIGluc3RhbmNlb2YgSFRNTEhlYWRFbGVtZW50ICYmIGN0eC5oZWFkLmlnbm9yZSkgOyBlbHNlIGlmIChvbGROb2RlIGluc3RhbmNlb2YgSFRNTEhlYWRFbGVtZW50ICYmIGN0eC5oZWFkLnN0eWxlICE9PSBcIm1vcnBoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlSGVhZEVsZW1lbnQobmV3Q29udGVudCwgb2xkTm9kZSwgY3R4KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzeW5jTm9kZUZyb20obmV3Q29udGVudCwgb2xkTm9kZSwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpZ25vcmVWYWx1ZU9mQWN0aXZlRWxlbWVudChvbGROb2RlLCBjdHgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3JwaENoaWxkcmVuKG5ld0NvbnRlbnQsIG9sZE5vZGUsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3R4LmNhbGxiYWNrcy5hZnRlck5vZGVNb3JwaGVkKG9sZE5vZGUsIG5ld0NvbnRlbnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBvbGROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGNvcmUgYWxnb3JpdGhtIGZvciBtYXRjaGluZyB1cCBjaGlsZHJlbi4gIFRoZSBpZGVhIGlzIHRvIHVzZSBpZCBzZXRzIHRvIHRyeSB0byBtYXRjaCB1cFxuICAgICAgICAgKiBub2RlcyBhcyBmYWl0aGZ1bGx5IGFzIHBvc3NpYmxlLiAgV2UgZ3JlZWRpbHkgbWF0Y2gsIHdoaWNoIGFsbG93cyB1cyB0byBrZWVwIHRoZSBhbGdvcml0aG0gZmFzdCwgYnV0XG4gICAgICAgICAqIGJ5IHVzaW5nIGlkIHNldHMsIHdlIGFyZSBhYmxlIHRvIGJldHRlciBtYXRjaCB1cCB3aXRoIGNvbnRlbnQgZGVlcGVyIGluIHRoZSBET00uXG4gICAgICAgICAqXG4gICAgICAgICAqIEJhc2ljIGFsZ29yaXRobSBpcywgZm9yIGVhY2ggbm9kZSBpbiB0aGUgbmV3IGNvbnRlbnQ6XG4gICAgICAgICAqXG4gICAgICAgICAqIC0gaWYgd2UgaGF2ZSByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIG9sZCBwYXJlbnQsIGFwcGVuZCB0aGUgbmV3IGNvbnRlbnRcbiAgICAgICAgICogLSBpZiB0aGUgbmV3IGNvbnRlbnQgaGFzIGFuIGlkIHNldCBtYXRjaCB3aXRoIHRoZSBjdXJyZW50IGluc2VydGlvbiBwb2ludCwgbW9ycGhcbiAgICAgICAgICogLSBzZWFyY2ggZm9yIGFuIGlkIHNldCBtYXRjaFxuICAgICAgICAgKiAtIGlmIGlkIHNldCBtYXRjaCBmb3VuZCwgbW9ycGhcbiAgICAgICAgICogLSBvdGhlcndpc2Ugc2VhcmNoIGZvciBhIFwic29mdFwiIG1hdGNoXG4gICAgICAgICAqIC0gaWYgYSBzb2Z0IG1hdGNoIGlzIGZvdW5kLCBtb3JwaFxuICAgICAgICAgKiAtIG90aGVyd2lzZSwgcHJlcGVuZCB0aGUgbmV3IG5vZGUgYmVmb3JlIHRoZSBjdXJyZW50IGluc2VydGlvbiBwb2ludFxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgdHdvIHNlYXJjaCBhbGdvcml0aG1zIHRlcm1pbmF0ZSBpZiBjb21wZXRpbmcgbm9kZSBtYXRjaGVzIGFwcGVhciB0byBvdXR3ZWlnaCB3aGF0IGNhbiBiZSBhY2hpZXZlZFxuICAgICAgICAgKiB3aXRoIHRoZSBjdXJyZW50IG5vZGUuICBTZWUgZmluZElkU2V0TWF0Y2goKSBhbmQgZmluZFNvZnRNYXRjaCgpIGZvciBkZXRhaWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IG5ld1BhcmVudCB0aGUgcGFyZW50IGVsZW1lbnQgb2YgdGhlIG5ldyBjb250ZW50XG4gICAgICAgICAqIEBwYXJhbSB7RWxlbWVudCB9IG9sZFBhcmVudCB0aGUgb2xkIGNvbnRlbnQgdGhhdCB3ZSBhcmUgbWVyZ2luZyB0aGUgbmV3IGNvbnRlbnQgaW50b1xuICAgICAgICAgKiBAcGFyYW0gY3R4IHRoZSBtZXJnZSBjb250ZXh0XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBtb3JwaENoaWxkcmVuKG5ld1BhcmVudCwgb2xkUGFyZW50LCBjdHgpIHtcblxuICAgICAgICAgICAgbGV0IG5leHROZXdDaGlsZCA9IG5ld1BhcmVudC5maXJzdENoaWxkO1xuICAgICAgICAgICAgbGV0IGluc2VydGlvblBvaW50ID0gb2xkUGFyZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICBsZXQgbmV3Q2hpbGQ7XG5cbiAgICAgICAgICAgIC8vIHJ1biB0aHJvdWdoIGFsbCB0aGUgbmV3IGNvbnRlbnRcbiAgICAgICAgICAgIHdoaWxlIChuZXh0TmV3Q2hpbGQpIHtcblxuICAgICAgICAgICAgICAgIG5ld0NoaWxkID0gbmV4dE5ld0NoaWxkO1xuICAgICAgICAgICAgICAgIG5leHROZXdDaGlsZCA9IG5ld0NoaWxkLm5leHRTaWJsaW5nO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGF0IHRoZSBlbmQgb2YgdGhlIGV4aXRpbmcgcGFyZW50J3MgY2hpbGRyZW4sIGp1c3QgYXBwZW5kXG4gICAgICAgICAgICAgICAgaWYgKGluc2VydGlvblBvaW50ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN0eC5jYWxsYmFja3MuYmVmb3JlTm9kZUFkZGVkKG5ld0NoaWxkKSA9PT0gZmFsc2UpIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICBvbGRQYXJlbnQuYXBwZW5kQ2hpbGQobmV3Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICBjdHguY2FsbGJhY2tzLmFmdGVyTm9kZUFkZGVkKG5ld0NoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSWRzRnJvbUNvbnNpZGVyYXRpb24oY3R4LCBuZXdDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBjdXJyZW50IG5vZGUgaGFzIGFuIGlkIHNldCBtYXRjaCB0aGVuIG1vcnBoXG4gICAgICAgICAgICAgICAgaWYgKGlzSWRTZXRNYXRjaChuZXdDaGlsZCwgaW5zZXJ0aW9uUG9pbnQsIGN0eCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9ycGhPbGROb2RlVG8oaW5zZXJ0aW9uUG9pbnQsIG5ld0NoaWxkLCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBpbnNlcnRpb25Qb2ludCA9IGluc2VydGlvblBvaW50Lm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVJZHNGcm9tQ29uc2lkZXJhdGlvbihjdHgsIG5ld0NoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHNlYXJjaCBmb3J3YXJkIGluIHRoZSBleGlzdGluZyBvbGQgY2hpbGRyZW4gZm9yIGFuIGlkIHNldCBtYXRjaFxuICAgICAgICAgICAgICAgIGxldCBpZFNldE1hdGNoID0gZmluZElkU2V0TWF0Y2gobmV3UGFyZW50LCBvbGRQYXJlbnQsIG5ld0NoaWxkLCBpbnNlcnRpb25Qb2ludCwgY3R4KTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGZvdW5kIGEgcG90ZW50aWFsIG1hdGNoLCByZW1vdmUgdGhlIG5vZGVzIHVudGlsIHRoYXQgcG9pbnQgYW5kIG1vcnBoXG4gICAgICAgICAgICAgICAgaWYgKGlkU2V0TWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0aW9uUG9pbnQgPSByZW1vdmVOb2Rlc0JldHdlZW4oaW5zZXJ0aW9uUG9pbnQsIGlkU2V0TWF0Y2gsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIG1vcnBoT2xkTm9kZVRvKGlkU2V0TWF0Y2gsIG5ld0NoaWxkLCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVJZHNGcm9tQ29uc2lkZXJhdGlvbihjdHgsIG5ld0NoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbm8gaWQgc2V0IG1hdGNoIGZvdW5kLCBzbyBzY2FuIGZvcndhcmQgZm9yIGEgc29mdCBtYXRjaCBmb3IgdGhlIGN1cnJlbnQgbm9kZVxuICAgICAgICAgICAgICAgIGxldCBzb2Z0TWF0Y2ggPSBmaW5kU29mdE1hdGNoKG5ld1BhcmVudCwgb2xkUGFyZW50LCBuZXdDaGlsZCwgaW5zZXJ0aW9uUG9pbnQsIGN0eCk7XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBmb3VuZCBhIHNvZnQgbWF0Y2ggZm9yIHRoZSBjdXJyZW50IG5vZGUsIG1vcnBoXG4gICAgICAgICAgICAgICAgaWYgKHNvZnRNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBpbnNlcnRpb25Qb2ludCA9IHJlbW92ZU5vZGVzQmV0d2VlbihpbnNlcnRpb25Qb2ludCwgc29mdE1hdGNoLCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBtb3JwaE9sZE5vZGVUbyhzb2Z0TWF0Y2gsIG5ld0NoaWxkLCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVJZHNGcm9tQ29uc2lkZXJhdGlvbihjdHgsIG5ld0NoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYWJhbmRvbiBhbGwgaG9wZSBvZiBtb3JwaGluZywganVzdCBpbnNlcnQgdGhlIG5ldyBjaGlsZCBiZWZvcmUgdGhlIGluc2VydGlvbiBwb2ludFxuICAgICAgICAgICAgICAgIC8vIGFuZCBtb3ZlIG9uXG4gICAgICAgICAgICAgICAgaWYgKGN0eC5jYWxsYmFja3MuYmVmb3JlTm9kZUFkZGVkKG5ld0NoaWxkKSA9PT0gZmFsc2UpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIG9sZFBhcmVudC5pbnNlcnRCZWZvcmUobmV3Q2hpbGQsIGluc2VydGlvblBvaW50KTtcbiAgICAgICAgICAgICAgICBjdHguY2FsbGJhY2tzLmFmdGVyTm9kZUFkZGVkKG5ld0NoaWxkKTtcbiAgICAgICAgICAgICAgICByZW1vdmVJZHNGcm9tQ29uc2lkZXJhdGlvbihjdHgsIG5ld0NoaWxkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVtb3ZlIGFueSByZW1haW5pbmcgb2xkIG5vZGVzIHRoYXQgZGlkbid0IG1hdGNoIHVwIHdpdGggbmV3IGNvbnRlbnRcbiAgICAgICAgICAgIHdoaWxlIChpbnNlcnRpb25Qb2ludCAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICAgICAgbGV0IHRlbXBOb2RlID0gaW5zZXJ0aW9uUG9pbnQ7XG4gICAgICAgICAgICAgICAgaW5zZXJ0aW9uUG9pbnQgPSBpbnNlcnRpb25Qb2ludC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICByZW1vdmVOb2RlKHRlbXBOb2RlLCBjdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyBBdHRyaWJ1dGUgU3luY2luZyBDb2RlXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIGF0dHIge1N0cmluZ30gdGhlIGF0dHJpYnV0ZSB0byBiZSBtdXRhdGVkXG4gICAgICAgICAqIEBwYXJhbSB0byB7RWxlbWVudH0gdGhlIGVsZW1lbnQgdGhhdCBpcyBnb2luZyB0byBiZSB1cGRhdGVkXG4gICAgICAgICAqIEBwYXJhbSB1cGRhdGVUeXBlIHsoXCJ1cGRhdGVcInxcInJlbW92ZVwiKX1cbiAgICAgICAgICogQHBhcmFtIGN0eCB0aGUgbWVyZ2UgY29udGV4dFxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgYXR0cmlidXRlIHNob3VsZCBiZSBpZ25vcmVkLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGlnbm9yZUF0dHJpYnV0ZShhdHRyLCB0bywgdXBkYXRlVHlwZSwgY3R4KSB7XG4gICAgICAgICAgICBpZihhdHRyID09PSAndmFsdWUnICYmIGN0eC5pZ25vcmVBY3RpdmVWYWx1ZSAmJiB0byA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3R4LmNhbGxiYWNrcy5iZWZvcmVBdHRyaWJ1dGVVcGRhdGVkKGF0dHIsIHRvLCB1cGRhdGVUeXBlKSA9PT0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogc3luY3MgYSBnaXZlbiBub2RlIHdpdGggYW5vdGhlciBub2RlLCBjb3B5aW5nIG92ZXIgYWxsIGF0dHJpYnV0ZXMgYW5kXG4gICAgICAgICAqIGlubmVyIGVsZW1lbnQgc3RhdGUgZnJvbSB0aGUgJ2Zyb20nIG5vZGUgdG8gdGhlICd0bycgbm9kZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGZyb20gdGhlIGVsZW1lbnQgdG8gY29weSBhdHRyaWJ1dGVzICYgc3RhdGUgZnJvbVxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHRvIHRoZSBlbGVtZW50IHRvIGNvcHkgYXR0cmlidXRlcyAmIHN0YXRlIHRvXG4gICAgICAgICAqIEBwYXJhbSBjdHggdGhlIG1lcmdlIGNvbnRleHRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHN5bmNOb2RlRnJvbShmcm9tLCB0bywgY3R4KSB7XG4gICAgICAgICAgICBsZXQgdHlwZSA9IGZyb20ubm9kZVR5cGU7XG5cbiAgICAgICAgICAgIC8vIGlmIGlzIGFuIGVsZW1lbnQgdHlwZSwgc3luYyB0aGUgYXR0cmlidXRlcyBmcm9tIHRoZVxuICAgICAgICAgICAgLy8gbmV3IG5vZGUgaW50byB0aGUgbmV3IG5vZGVcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAxIC8qIGVsZW1lbnQgdHlwZSAqLykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZyb21BdHRyaWJ1dGVzID0gZnJvbS5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvQXR0cmlidXRlcyA9IHRvLmF0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBmcm9tQXR0cmlidXRlIG9mIGZyb21BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZ25vcmVBdHRyaWJ1dGUoZnJvbUF0dHJpYnV0ZS5uYW1lLCB0bywgJ3VwZGF0ZScsIGN0eCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0by5nZXRBdHRyaWJ1dGUoZnJvbUF0dHJpYnV0ZS5uYW1lKSAhPT0gZnJvbUF0dHJpYnV0ZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8uc2V0QXR0cmlidXRlKGZyb21BdHRyaWJ1dGUubmFtZSwgZnJvbUF0dHJpYnV0ZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaXRlcmF0ZSBiYWNrd2FyZHMgdG8gYXZvaWQgc2tpcHBpbmcgb3ZlciBpdGVtcyB3aGVuIGEgZGVsZXRlIG9jY3Vyc1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSB0b0F0dHJpYnV0ZXMubGVuZ3RoIC0gMTsgMCA8PSBpOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9BdHRyaWJ1dGUgPSB0b0F0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZ25vcmVBdHRyaWJ1dGUodG9BdHRyaWJ1dGUubmFtZSwgdG8sICdyZW1vdmUnLCBjdHgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWZyb20uaGFzQXR0cmlidXRlKHRvQXR0cmlidXRlLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0by5yZW1vdmVBdHRyaWJ1dGUodG9BdHRyaWJ1dGUubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHN5bmMgdGV4dCBub2Rlc1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09IDggLyogY29tbWVudCAqLyB8fCB0eXBlID09PSAzIC8qIHRleHQgKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAodG8ubm9kZVZhbHVlICE9PSBmcm9tLm5vZGVWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0by5ub2RlVmFsdWUgPSBmcm9tLm5vZGVWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaWdub3JlVmFsdWVPZkFjdGl2ZUVsZW1lbnQodG8sIGN0eCkpIHtcbiAgICAgICAgICAgICAgICAvLyBzeW5jIGlucHV0IHZhbHVlc1xuICAgICAgICAgICAgICAgIHN5bmNJbnB1dFZhbHVlKGZyb20sIHRvLCBjdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBmcm9tIHtFbGVtZW50fSBlbGVtZW50IHRvIHN5bmMgdGhlIHZhbHVlIGZyb21cbiAgICAgICAgICogQHBhcmFtIHRvIHtFbGVtZW50fSBlbGVtZW50IHRvIHN5bmMgdGhlIHZhbHVlIHRvXG4gICAgICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVOYW1lIHtTdHJpbmd9IHRoZSBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICAgKiBAcGFyYW0gY3R4IHRoZSBtZXJnZSBjb250ZXh0XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzeW5jQm9vbGVhbkF0dHJpYnV0ZShmcm9tLCB0bywgYXR0cmlidXRlTmFtZSwgY3R4KSB7XG4gICAgICAgICAgICBpZiAoZnJvbVthdHRyaWJ1dGVOYW1lXSAhPT0gdG9bYXR0cmlidXRlTmFtZV0pIHtcbiAgICAgICAgICAgICAgICBsZXQgaWdub3JlVXBkYXRlID0gaWdub3JlQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIHRvLCAndXBkYXRlJywgY3R4KTtcbiAgICAgICAgICAgICAgICBpZiAoIWlnbm9yZVVwZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0b1thdHRyaWJ1dGVOYW1lXSA9IGZyb21bYXR0cmlidXRlTmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmcm9tW2F0dHJpYnV0ZU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaWdub3JlVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0by5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgZnJvbVthdHRyaWJ1dGVOYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlnbm9yZUF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCB0bywgJ3JlbW92ZScsIGN0eCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOQjogbWFueSBib3RoYW5zIGRpZWQgdG8gYnJpbmcgdXMgaW5mb3JtYXRpb246XG4gICAgICAgICAqXG4gICAgICAgICAqICBodHRwczovL2dpdGh1Yi5jb20vcGF0cmljay1zdGVlbGUtaWRlbS9tb3JwaGRvbS9ibG9iL21hc3Rlci9zcmMvc3BlY2lhbEVsSGFuZGxlcnMuanNcbiAgICAgICAgICogIGh0dHBzOi8vZ2l0aHViLmNvbS9jaG9vanMvbmFub21vcnBoL2Jsb2IvbWFzdGVyL2xpYi9tb3JwaC5qc0wxMTNcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGZyb20ge0VsZW1lbnR9IHRoZSBlbGVtZW50IHRvIHN5bmMgdGhlIGlucHV0IHZhbHVlIGZyb21cbiAgICAgICAgICogQHBhcmFtIHRvIHtFbGVtZW50fSB0aGUgZWxlbWVudCB0byBzeW5jIHRoZSBpbnB1dCB2YWx1ZSB0b1xuICAgICAgICAgKiBAcGFyYW0gY3R4IHRoZSBtZXJnZSBjb250ZXh0XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzeW5jSW5wdXRWYWx1ZShmcm9tLCB0bywgY3R4KSB7XG4gICAgICAgICAgICBpZiAoZnJvbSBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiZcbiAgICAgICAgICAgICAgICB0byBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiZcbiAgICAgICAgICAgICAgICBmcm9tLnR5cGUgIT09ICdmaWxlJykge1xuXG4gICAgICAgICAgICAgICAgbGV0IGZyb21WYWx1ZSA9IGZyb20udmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IHRvVmFsdWUgPSB0by52YWx1ZTtcblxuICAgICAgICAgICAgICAgIC8vIHN5bmMgYm9vbGVhbiBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAgICAgc3luY0Jvb2xlYW5BdHRyaWJ1dGUoZnJvbSwgdG8sICdjaGVja2VkJywgY3R4KTtcbiAgICAgICAgICAgICAgICBzeW5jQm9vbGVhbkF0dHJpYnV0ZShmcm9tLCB0bywgJ2Rpc2FibGVkJywgY3R4KTtcblxuICAgICAgICAgICAgICAgIGlmICghZnJvbS5oYXNBdHRyaWJ1dGUoJ3ZhbHVlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpZ25vcmVBdHRyaWJ1dGUoJ3ZhbHVlJywgdG8sICdyZW1vdmUnLCBjdHgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0by52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8ucmVtb3ZlQXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmcm9tVmFsdWUgIT09IHRvVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpZ25vcmVBdHRyaWJ1dGUoJ3ZhbHVlJywgdG8sICd1cGRhdGUnLCBjdHgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0by5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgZnJvbVZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvLnZhbHVlID0gZnJvbVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChmcm9tIGluc3RhbmNlb2YgSFRNTE9wdGlvbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBzeW5jQm9vbGVhbkF0dHJpYnV0ZShmcm9tLCB0bywgJ3NlbGVjdGVkJywgY3R4KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZnJvbSBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQgJiYgdG8gaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgbGV0IGZyb21WYWx1ZSA9IGZyb20udmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IHRvVmFsdWUgPSB0by52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoaWdub3JlQXR0cmlidXRlKCd2YWx1ZScsIHRvLCAndXBkYXRlJywgY3R4KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmcm9tVmFsdWUgIT09IHRvVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdG8udmFsdWUgPSBmcm9tVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0by5maXJzdENoaWxkICYmIHRvLmZpcnN0Q2hpbGQubm9kZVZhbHVlICE9PSBmcm9tVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdG8uZmlyc3RDaGlsZC5ub2RlVmFsdWUgPSBmcm9tVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyB0aGUgSEVBRCB0YWcgY2FuIGJlIGhhbmRsZWQgc3BlY2lhbGx5LCBlaXRoZXIgdy8gYSAnbWVyZ2UnIG9yICdhcHBlbmQnIHN0eWxlXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlSGVhZEVsZW1lbnQobmV3SGVhZFRhZywgY3VycmVudEhlYWQsIGN0eCkge1xuXG4gICAgICAgICAgICBsZXQgYWRkZWQgPSBbXTtcbiAgICAgICAgICAgIGxldCByZW1vdmVkID0gW107XG4gICAgICAgICAgICBsZXQgcHJlc2VydmVkID0gW107XG4gICAgICAgICAgICBsZXQgbm9kZXNUb0FwcGVuZCA9IFtdO1xuXG4gICAgICAgICAgICBsZXQgaGVhZE1lcmdlU3R5bGUgPSBjdHguaGVhZC5zdHlsZTtcblxuICAgICAgICAgICAgLy8gcHV0IGFsbCBuZXcgaGVhZCBlbGVtZW50cyBpbnRvIGEgTWFwLCBieSB0aGVpciBvdXRlckhUTUxcbiAgICAgICAgICAgIGxldCBzcmNUb05ld0hlYWROb2RlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbmV3SGVhZENoaWxkIG9mIG5ld0hlYWRUYWcuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBzcmNUb05ld0hlYWROb2Rlcy5zZXQobmV3SGVhZENoaWxkLm91dGVySFRNTCwgbmV3SGVhZENoaWxkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZm9yIGVhY2ggZWx0IGluIHRoZSBjdXJyZW50IGhlYWRcbiAgICAgICAgICAgIGZvciAoY29uc3QgY3VycmVudEhlYWRFbHQgb2YgY3VycmVudEhlYWQuY2hpbGRyZW4pIHtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjdXJyZW50IGhlYWQgZWxlbWVudCBpcyBpbiB0aGUgbWFwXG4gICAgICAgICAgICAgICAgbGV0IGluTmV3Q29udGVudCA9IHNyY1RvTmV3SGVhZE5vZGVzLmhhcyhjdXJyZW50SGVhZEVsdC5vdXRlckhUTUwpO1xuICAgICAgICAgICAgICAgIGxldCBpc1JlQXBwZW5kZWQgPSBjdHguaGVhZC5zaG91bGRSZUFwcGVuZChjdXJyZW50SGVhZEVsdCk7XG4gICAgICAgICAgICAgICAgbGV0IGlzUHJlc2VydmVkID0gY3R4LmhlYWQuc2hvdWxkUHJlc2VydmUoY3VycmVudEhlYWRFbHQpO1xuICAgICAgICAgICAgICAgIGlmIChpbk5ld0NvbnRlbnQgfHwgaXNQcmVzZXJ2ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUmVBcHBlbmRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBjdXJyZW50IHZlcnNpb24gYW5kIGxldCB0aGUgbmV3IHZlcnNpb24gcmVwbGFjZSBpdCBhbmQgcmUtZXhlY3V0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZC5wdXNoKGN1cnJlbnRIZWFkRWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgZWxlbWVudCBhbHJlYWR5IGV4aXN0cyBhbmQgc2hvdWxkIG5vdCBiZSByZS1hcHBlbmRlZCwgc28gcmVtb3ZlIGl0IGZyb21cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBuZXcgY29udGVudCBtYXAsIHByZXNlcnZpbmcgaXQgaW4gdGhlIERPTVxuICAgICAgICAgICAgICAgICAgICAgICAgc3JjVG9OZXdIZWFkTm9kZXMuZGVsZXRlKGN1cnJlbnRIZWFkRWx0Lm91dGVySFRNTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVzZXJ2ZWQucHVzaChjdXJyZW50SGVhZEVsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGVhZE1lcmdlU3R5bGUgPT09IFwiYXBwZW5kXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBhcHBlbmRpbmcgYW5kIHRoaXMgZXhpc3RpbmcgZWxlbWVudCBpcyBub3QgbmV3IGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIGlmIGFuZCBvbmx5IGlmIGl0IGlzIG1hcmtlZCBmb3IgcmUtYXBwZW5kIGRvIHdlIGRvIGFueXRoaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNSZUFwcGVuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZC5wdXNoKGN1cnJlbnRIZWFkRWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2Rlc1RvQXBwZW5kLnB1c2goY3VycmVudEhlYWRFbHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhIG1lcmdlLCB3ZSByZW1vdmUgdGhpcyBjb250ZW50IHNpbmNlIGl0IGlzIG5vdCBpbiB0aGUgbmV3IGhlYWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdHguaGVhZC5zaG91bGRSZW1vdmUoY3VycmVudEhlYWRFbHQpICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZWQucHVzaChjdXJyZW50SGVhZEVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFB1c2ggdGhlIHJlbWFpbmluZyBuZXcgaGVhZCBlbGVtZW50cyBpbiB0aGUgTWFwIGludG8gdGhlXG4gICAgICAgICAgICAvLyBub2RlcyB0byBhcHBlbmQgdG8gdGhlIGhlYWQgdGFnXG4gICAgICAgICAgICBub2Rlc1RvQXBwZW5kLnB1c2goLi4uc3JjVG9OZXdIZWFkTm9kZXMudmFsdWVzKCkpO1xuXG4gICAgICAgICAgICBsZXQgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbmV3Tm9kZSBvZiBub2Rlc1RvQXBwZW5kKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5ld0VsdCA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCkuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KG5ld05vZGUub3V0ZXJIVE1MKS5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgIGlmIChjdHguY2FsbGJhY2tzLmJlZm9yZU5vZGVBZGRlZChuZXdFbHQpICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3RWx0LmhyZWYgfHwgbmV3RWx0LnNyYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc29sdmUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoX3Jlc29sdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlID0gX3Jlc29sdmU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0VsdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChwcm9taXNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50SGVhZC5hcHBlbmRDaGlsZChuZXdFbHQpO1xuICAgICAgICAgICAgICAgICAgICBjdHguY2FsbGJhY2tzLmFmdGVyTm9kZUFkZGVkKG5ld0VsdCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZGVkLnB1c2gobmV3RWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBhbGwgcmVtb3ZlZCBlbGVtZW50cywgYWZ0ZXIgd2UgaGF2ZSBhcHBlbmRlZCB0aGUgbmV3IGVsZW1lbnRzIHRvIGF2b2lkXG4gICAgICAgICAgICAvLyBhZGRpdGlvbmFsIG5ldHdvcmsgcmVxdWVzdHMgZm9yIHRoaW5ncyBsaWtlIHN0eWxlIHNoZWV0c1xuICAgICAgICAgICAgZm9yIChjb25zdCByZW1vdmVkRWxlbWVudCBvZiByZW1vdmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN0eC5jYWxsYmFja3MuYmVmb3JlTm9kZVJlbW92ZWQocmVtb3ZlZEVsZW1lbnQpICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50SGVhZC5yZW1vdmVDaGlsZChyZW1vdmVkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5jYWxsYmFja3MuYWZ0ZXJOb2RlUmVtb3ZlZChyZW1vdmVkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdHguaGVhZC5hZnRlckhlYWRNb3JwaGVkKGN1cnJlbnRIZWFkLCB7YWRkZWQ6IGFkZGVkLCBrZXB0OiBwcmVzZXJ2ZWQsIHJlbW92ZWQ6IHJlbW92ZWR9KTtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlcztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG5vT3AoKSB7XG4gICAgICAgIH1cblxuICAgICAgICAvKlxuICAgICAgICAgIERlZXAgbWVyZ2VzIHRoZSBjb25maWcgb2JqZWN0IGFuZCB0aGUgSWRpb21vcm9waC5kZWZhdWx0cyBvYmplY3QgdG9cbiAgICAgICAgICBwcm9kdWNlIGEgZmluYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG1lcmdlRGVmYXVsdHMoY29uZmlnKSB7XG4gICAgICAgICAgICBsZXQgZmluYWxDb25maWcgPSB7fTtcbiAgICAgICAgICAgIC8vIGNvcHkgdG9wIGxldmVsIHN0dWZmIGludG8gZmluYWwgY29uZmlnXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGZpbmFsQ29uZmlnLCBkZWZhdWx0cyk7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGZpbmFsQ29uZmlnLCBjb25maWcpO1xuXG4gICAgICAgICAgICAvLyBjb3B5IGNhbGxiYWNrcyBpbnRvIGZpbmFsIGNvbmZpZyAoZG8gdGhpcyB0byBkZWVwIG1lcmdlIHRoZSBjYWxsYmFja3MpXG4gICAgICAgICAgICBmaW5hbENvbmZpZy5jYWxsYmFja3MgPSB7fTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZmluYWxDb25maWcuY2FsbGJhY2tzLCBkZWZhdWx0cy5jYWxsYmFja3MpO1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihmaW5hbENvbmZpZy5jYWxsYmFja3MsIGNvbmZpZy5jYWxsYmFja3MpO1xuXG4gICAgICAgICAgICAvLyBjb3B5IGhlYWQgY29uZmlnIGludG8gZmluYWwgY29uZmlnICAoZG8gdGhpcyB0byBkZWVwIG1lcmdlIHRoZSBoZWFkKVxuICAgICAgICAgICAgZmluYWxDb25maWcuaGVhZCA9IHt9O1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihmaW5hbENvbmZpZy5oZWFkLCBkZWZhdWx0cy5oZWFkKTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZmluYWxDb25maWcuaGVhZCwgY29uZmlnLmhlYWQpO1xuICAgICAgICAgICAgcmV0dXJuIGZpbmFsQ29uZmlnO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlTW9ycGhDb250ZXh0KG9sZE5vZGUsIG5ld0NvbnRlbnQsIGNvbmZpZykge1xuICAgICAgICAgICAgY29uZmlnID0gbWVyZ2VEZWZhdWx0cyhjb25maWcpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IG9sZE5vZGUsXG4gICAgICAgICAgICAgICAgbmV3Q29udGVudDogbmV3Q29udGVudCxcbiAgICAgICAgICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgICAgICAgICBtb3JwaFN0eWxlOiBjb25maWcubW9ycGhTdHlsZSxcbiAgICAgICAgICAgICAgICBpZ25vcmVBY3RpdmU6IGNvbmZpZy5pZ25vcmVBY3RpdmUsXG4gICAgICAgICAgICAgICAgaWdub3JlQWN0aXZlVmFsdWU6IGNvbmZpZy5pZ25vcmVBY3RpdmVWYWx1ZSxcbiAgICAgICAgICAgICAgICBpZE1hcDogY3JlYXRlSWRNYXAob2xkTm9kZSwgbmV3Q29udGVudCksXG4gICAgICAgICAgICAgICAgZGVhZElkczogbmV3IFNldCgpLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrczogY29uZmlnLmNhbGxiYWNrcyxcbiAgICAgICAgICAgICAgICBoZWFkOiBjb25maWcuaGVhZFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaXNJZFNldE1hdGNoKG5vZGUxLCBub2RlMiwgY3R4KSB7XG4gICAgICAgICAgICBpZiAobm9kZTEgPT0gbnVsbCB8fCBub2RlMiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUxLm5vZGVUeXBlID09PSBub2RlMi5ub2RlVHlwZSAmJiBub2RlMS50YWdOYW1lID09PSBub2RlMi50YWdOYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUxLmlkICE9PSBcIlwiICYmIG5vZGUxLmlkID09PSBub2RlMi5pZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0SWRJbnRlcnNlY3Rpb25Db3VudChjdHgsIG5vZGUxLCBub2RlMikgPiAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGlzU29mdE1hdGNoKG5vZGUxLCBub2RlMikge1xuICAgICAgICAgICAgaWYgKG5vZGUxID09IG51bGwgfHwgbm9kZTIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBub2RlMS5ub2RlVHlwZSA9PT0gbm9kZTIubm9kZVR5cGUgJiYgbm9kZTEudGFnTmFtZSA9PT0gbm9kZTIudGFnTmFtZVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlTm9kZXNCZXR3ZWVuKHN0YXJ0SW5jbHVzaXZlLCBlbmRFeGNsdXNpdmUsIGN0eCkge1xuICAgICAgICAgICAgd2hpbGUgKHN0YXJ0SW5jbHVzaXZlICE9PSBlbmRFeGNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGVtcE5vZGUgPSBzdGFydEluY2x1c2l2ZTtcbiAgICAgICAgICAgICAgICBzdGFydEluY2x1c2l2ZSA9IHN0YXJ0SW5jbHVzaXZlLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUodGVtcE5vZGUsIGN0eCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW1vdmVJZHNGcm9tQ29uc2lkZXJhdGlvbihjdHgsIGVuZEV4Y2x1c2l2ZSk7XG4gICAgICAgICAgICByZXR1cm4gZW5kRXhjbHVzaXZlLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyBTY2FucyBmb3J3YXJkIGZyb20gdGhlIGluc2VydGlvblBvaW50IGluIHRoZSBvbGQgcGFyZW50IGxvb2tpbmcgZm9yIGEgcG90ZW50aWFsIGlkIG1hdGNoXG4gICAgICAgIC8vIGZvciB0aGUgbmV3Q2hpbGQuICBXZSBzdG9wIGlmIHdlIGZpbmQgYSBwb3RlbnRpYWwgaWQgbWF0Y2ggZm9yIHRoZSBuZXcgY2hpbGQgT1JcbiAgICAgICAgLy8gaWYgdGhlIG51bWJlciBvZiBwb3RlbnRpYWwgaWQgbWF0Y2hlcyB3ZSBhcmUgZGlzY2FyZGluZyBpcyBncmVhdGVyIHRoYW4gdGhlXG4gICAgICAgIC8vIHBvdGVudGlhbCBpZCBtYXRjaGVzIGZvciB0aGUgbmV3IGNoaWxkXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgZnVuY3Rpb24gZmluZElkU2V0TWF0Y2gobmV3Q29udGVudCwgb2xkUGFyZW50LCBuZXdDaGlsZCwgaW5zZXJ0aW9uUG9pbnQsIGN0eCkge1xuXG4gICAgICAgICAgICAvLyBtYXggaWQgbWF0Y2hlcyB3ZSBhcmUgd2lsbGluZyB0byBkaXNjYXJkIGluIG91ciBzZWFyY2hcbiAgICAgICAgICAgIGxldCBuZXdDaGlsZFBvdGVudGlhbElkQ291bnQgPSBnZXRJZEludGVyc2VjdGlvbkNvdW50KGN0eCwgbmV3Q2hpbGQsIG9sZFBhcmVudCk7XG5cbiAgICAgICAgICAgIGxldCBwb3RlbnRpYWxNYXRjaCA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIG9ubHkgc2VhcmNoIGZvcndhcmQgaWYgdGhlcmUgaXMgYSBwb3NzaWJpbGl0eSBvZiBhbiBpZCBtYXRjaFxuICAgICAgICAgICAgaWYgKG5ld0NoaWxkUG90ZW50aWFsSWRDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgcG90ZW50aWFsTWF0Y2ggPSBpbnNlcnRpb25Qb2ludDtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHBvc3NpYmlsaXR5IG9mIGFuIGlkIG1hdGNoLCBzY2FuIGZvcndhcmRcbiAgICAgICAgICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIHRoZSBwb3RlbnRpYWwgaWQgbWF0Y2ggY291bnQgd2UgYXJlIGRpc2NhcmRpbmcgKHRoZVxuICAgICAgICAgICAgICAgIC8vIG5ld0NoaWxkUG90ZW50aWFsSWRDb3VudCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB0aGlzIHRvIG1ha2UgaXQgbGlrZWx5XG4gICAgICAgICAgICAgICAgLy8gd29ydGggaXQpXG4gICAgICAgICAgICAgICAgbGV0IG90aGVyTWF0Y2hDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHBvdGVudGlhbE1hdGNoICE9IG51bGwpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGFuIGlkIG1hdGNoLCByZXR1cm4gdGhlIGN1cnJlbnQgcG90ZW50aWFsIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0lkU2V0TWF0Y2gobmV3Q2hpbGQsIHBvdGVudGlhbE1hdGNoLCBjdHgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG90ZW50aWFsTWF0Y2g7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBjb21wdXRlciB0aGUgb3RoZXIgcG90ZW50aWFsIG1hdGNoZXMgb2YgdGhpcyBuZXcgY29udGVudFxuICAgICAgICAgICAgICAgICAgICBvdGhlck1hdGNoQ291bnQgKz0gZ2V0SWRJbnRlcnNlY3Rpb25Db3VudChjdHgsIHBvdGVudGlhbE1hdGNoLCBuZXdDb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG90aGVyTWF0Y2hDb3VudCA+IG5ld0NoaWxkUG90ZW50aWFsSWRDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBtb3JlIHBvdGVudGlhbCBpZCBtYXRjaGVzIGluIF9vdGhlcl8gY29udGVudCwgd2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdCBoYXZlIGEgZ29vZCBjYW5kaWRhdGUgZm9yIGFuIGlkIG1hdGNoLCBzbyByZXR1cm4gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBhZHZhbmNlZCB0byB0aGUgbmV4dCBvbGQgY29udGVudCBjaGlsZFxuICAgICAgICAgICAgICAgICAgICBwb3RlbnRpYWxNYXRjaCA9IHBvdGVudGlhbE1hdGNoLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwb3RlbnRpYWxNYXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgLy8gU2NhbnMgZm9yd2FyZCBmcm9tIHRoZSBpbnNlcnRpb25Qb2ludCBpbiB0aGUgb2xkIHBhcmVudCBsb29raW5nIGZvciBhIHBvdGVudGlhbCBzb2Z0IG1hdGNoXG4gICAgICAgIC8vIGZvciB0aGUgbmV3Q2hpbGQuICBXZSBzdG9wIGlmIHdlIGZpbmQgYSBwb3RlbnRpYWwgc29mdCBtYXRjaCBmb3IgdGhlIG5ldyBjaGlsZCBPUlxuICAgICAgICAvLyBpZiB3ZSBmaW5kIGEgcG90ZW50aWFsIGlkIG1hdGNoIGluIHRoZSBvbGQgcGFyZW50cyBjaGlsZHJlbiBPUiBpZiB3ZSBmaW5kIHR3b1xuICAgICAgICAvLyBwb3RlbnRpYWwgc29mdCBtYXRjaGVzIGZvciB0aGUgbmV4dCB0d28gcGllY2VzIG9mIG5ldyBjb250ZW50XG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgZnVuY3Rpb24gZmluZFNvZnRNYXRjaChuZXdDb250ZW50LCBvbGRQYXJlbnQsIG5ld0NoaWxkLCBpbnNlcnRpb25Qb2ludCwgY3R4KSB7XG5cbiAgICAgICAgICAgIGxldCBwb3RlbnRpYWxTb2Z0TWF0Y2ggPSBpbnNlcnRpb25Qb2ludDtcbiAgICAgICAgICAgIGxldCBuZXh0U2libGluZyA9IG5ld0NoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgbGV0IHNpYmxpbmdTb2Z0TWF0Y2hDb3VudCA9IDA7XG5cbiAgICAgICAgICAgIHdoaWxlIChwb3RlbnRpYWxTb2Z0TWF0Y2ggIT0gbnVsbCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKGdldElkSW50ZXJzZWN0aW9uQ291bnQoY3R4LCBwb3RlbnRpYWxTb2Z0TWF0Y2gsIG5ld0NvbnRlbnQpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgY3VycmVudCBwb3RlbnRpYWwgc29mdCBtYXRjaCBoYXMgYSBwb3RlbnRpYWwgaWQgc2V0IG1hdGNoIHdpdGggdGhlIHJlbWFpbmluZyBuZXdcbiAgICAgICAgICAgICAgICAgICAgLy8gY29udGVudCBzbyBiYWlsIG91dCBvZiBsb29raW5nXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgYSBzb2Z0IG1hdGNoIHdpdGggdGhlIGN1cnJlbnQgbm9kZSwgcmV0dXJuIGl0XG4gICAgICAgICAgICAgICAgaWYgKGlzU29mdE1hdGNoKG5ld0NoaWxkLCBwb3RlbnRpYWxTb2Z0TWF0Y2gpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3RlbnRpYWxTb2Z0TWF0Y2g7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGlzU29mdE1hdGNoKG5leHRTaWJsaW5nLCBwb3RlbnRpYWxTb2Z0TWF0Y2gpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBuZXh0IG5ldyBub2RlIGhhcyBhIHNvZnQgbWF0Y2ggd2l0aCB0aGlzIG5vZGUsIHNvXG4gICAgICAgICAgICAgICAgICAgIC8vIGluY3JlbWVudCB0aGUgY291bnQgb2YgZnV0dXJlIHNvZnQgbWF0Y2hlc1xuICAgICAgICAgICAgICAgICAgICBzaWJsaW5nU29mdE1hdGNoQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgbmV4dFNpYmxpbmcgPSBuZXh0U2libGluZy5uZXh0U2libGluZztcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgdHdvIGZ1dHVyZSBzb2Z0IG1hdGNoZXMsIGJhaWwgdG8gYWxsb3cgdGhlIHNpYmxpbmdzIHRvIHNvZnQgbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gdGhhdCB3ZSBkb24ndCBjb25zdW1lIGZ1dHVyZSBzb2Z0IG1hdGNoZXMgZm9yIHRoZSBzYWtlIG9mIHRoZSBjdXJyZW50IG5vZGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpYmxpbmdTb2Z0TWF0Y2hDb3VudCA+PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGFkdmFuY2VkIHRvIHRoZSBuZXh0IG9sZCBjb250ZW50IGNoaWxkXG4gICAgICAgICAgICAgICAgcG90ZW50aWFsU29mdE1hdGNoID0gcG90ZW50aWFsU29mdE1hdGNoLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcG90ZW50aWFsU29mdE1hdGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcGFyc2VDb250ZW50KG5ld0NvbnRlbnQpIHtcbiAgICAgICAgICAgIGxldCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBzdmdzIHRvIGF2b2lkIGZhbHNlLXBvc2l0aXZlIG1hdGNoZXMgb24gaGVhZCwgZXRjLlxuICAgICAgICAgICAgbGV0IGNvbnRlbnRXaXRoU3Znc1JlbW92ZWQgPSBuZXdDb250ZW50LnJlcGxhY2UoLzxzdmcoXFxzW14+XSo+fD4pKFtcXHNcXFNdKj8pPFxcL3N2Zz4vZ2ltLCAnJyk7XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZSBuZXdDb250ZW50IGNvbnRhaW5zIGEgaHRtbCwgaGVhZCBvciBib2R5IHRhZywgd2UgY2FuIHNpbXBseSBwYXJzZSBpdCB3L28gd3JhcHBpbmdcbiAgICAgICAgICAgIGlmIChjb250ZW50V2l0aFN2Z3NSZW1vdmVkLm1hdGNoKC88XFwvaHRtbD4vKSB8fCBjb250ZW50V2l0aFN2Z3NSZW1vdmVkLm1hdGNoKC88XFwvaGVhZD4vKSB8fCBjb250ZW50V2l0aFN2Z3NSZW1vdmVkLm1hdGNoKC88XFwvYm9keT4vKSkge1xuICAgICAgICAgICAgICAgIGxldCBjb250ZW50ID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhuZXdDb250ZW50LCBcInRleHQvaHRtbFwiKTtcbiAgICAgICAgICAgICAgICAvLyBpZiBpdCBpcyBhIGZ1bGwgSFRNTCBkb2N1bWVudCwgcmV0dXJuIHRoZSBkb2N1bWVudCBpdHNlbGYgYXMgdGhlIHBhcmVudCBjb250YWluZXJcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudFdpdGhTdmdzUmVtb3ZlZC5tYXRjaCgvPFxcL2h0bWw+LykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudC5nZW5lcmF0ZWRCeUlkaW9tb3JwaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSByZXR1cm4gdGhlIGh0bWwgZWxlbWVudCBhcyB0aGUgcGFyZW50IGNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICBsZXQgaHRtbEVsZW1lbnQgPSBjb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChodG1sRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEVsZW1lbnQuZ2VuZXJhdGVkQnlJZGlvbW9ycGggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh0bWxFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGlmIGl0IGlzIHBhcnRpYWwgSFRNTCwgd3JhcCBpdCBpbiBhIHRlbXBsYXRlIHRhZyB0byBwcm92aWRlIGEgcGFyZW50IGVsZW1lbnQgYW5kIGFsc28gdG8gaGVscFxuICAgICAgICAgICAgICAgIC8vIGRlYWwgd2l0aCB0b3VjaHkgdGFncyBsaWtlIHRyLCB0Ym9keSwgZXRjLlxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZURvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoXCI8Ym9keT48dGVtcGxhdGU+XCIgKyBuZXdDb250ZW50ICsgXCI8L3RlbXBsYXRlPjwvYm9keT5cIiwgXCJ0ZXh0L2h0bWxcIik7XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSByZXNwb25zZURvYy5ib2R5LnF1ZXJ5U2VsZWN0b3IoJ3RlbXBsYXRlJykuY29udGVudDtcbiAgICAgICAgICAgICAgICBjb250ZW50LmdlbmVyYXRlZEJ5SWRpb21vcnBoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbm9ybWFsaXplQ29udGVudChuZXdDb250ZW50KSB7XG4gICAgICAgICAgICBpZiAobmV3Q29udGVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gbm9pbnNwZWN0aW9uIFVubmVjZXNzYXJ5TG9jYWxWYXJpYWJsZUpTXG4gICAgICAgICAgICAgICAgY29uc3QgZHVtbXlQYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZHVtbXlQYXJlbnQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5ld0NvbnRlbnQuZ2VuZXJhdGVkQnlJZGlvbW9ycGgpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGUgdGVtcGxhdGUgdGFnIGNyZWF0ZWQgYnkgaWRpb21vcnBoIHBhcnNpbmcgY2FuIHNlcnZlIGFzIGEgZHVtbXkgcGFyZW50XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld0NvbnRlbnQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5ld0NvbnRlbnQgaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICAgICAgICAgICAgLy8gYSBzaW5nbGUgbm9kZSBpcyBhZGRlZCBhcyBhIGNoaWxkIHRvIGEgZHVtbXkgcGFyZW50XG4gICAgICAgICAgICAgICAgY29uc3QgZHVtbXlQYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBkdW1teVBhcmVudC5hcHBlbmQobmV3Q29udGVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGR1bW15UGFyZW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBhbGwgbm9kZXMgaW4gdGhlIGFycmF5IG9yIEhUTUxFbGVtZW50IGNvbGxlY3Rpb24gYXJlIGNvbnNvbGlkYXRlZCB1bmRlclxuICAgICAgICAgICAgICAgIC8vIGEgc2luZ2xlIGR1bW15IHBhcmVudCBlbGVtZW50XG4gICAgICAgICAgICAgICAgY29uc3QgZHVtbXlQYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsdCBvZiBbLi4ubmV3Q29udGVudF0pIHtcbiAgICAgICAgICAgICAgICAgICAgZHVtbXlQYXJlbnQuYXBwZW5kKGVsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBkdW1teVBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGluc2VydFNpYmxpbmdzKHByZXZpb3VzU2libGluZywgbW9ycGhlZE5vZGUsIG5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICBsZXQgc3RhY2sgPSBbXTtcbiAgICAgICAgICAgIGxldCBhZGRlZCA9IFtdO1xuICAgICAgICAgICAgd2hpbGUgKHByZXZpb3VzU2libGluZyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaChwcmV2aW91c1NpYmxpbmcpO1xuICAgICAgICAgICAgICAgIHByZXZpb3VzU2libGluZyA9IHByZXZpb3VzU2libGluZy5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBub2RlID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgYWRkZWQucHVzaChub2RlKTsgLy8gcHVzaCBhZGRlZCBwcmVjZWRpbmcgc2libGluZ3Mgb24gaW4gb3JkZXIgYW5kIGluc2VydFxuICAgICAgICAgICAgICAgIG1vcnBoZWROb2RlLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIG1vcnBoZWROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZGVkLnB1c2gobW9ycGhlZE5vZGUpO1xuICAgICAgICAgICAgd2hpbGUgKG5leHRTaWJsaW5nICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKG5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgICAgICBhZGRlZC5wdXNoKG5leHRTaWJsaW5nKTsgLy8gaGVyZSB3ZSBhcmUgZ29pbmcgaW4gb3JkZXIsIHNvIHB1c2ggb24gYXMgd2Ugc2NhbiwgcmF0aGVyIHRoYW4gYWRkXG4gICAgICAgICAgICAgICAgbmV4dFNpYmxpbmcgPSBuZXh0U2libGluZy5uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbW9ycGhlZE5vZGUucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoc3RhY2sucG9wKCksIG1vcnBoZWROb2RlLm5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhZGRlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGZpbmRCZXN0Tm9kZU1hdGNoKG5ld0NvbnRlbnQsIG9sZE5vZGUsIGN0eCkge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRFbGVtZW50O1xuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBuZXdDb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICBsZXQgYmVzdEVsZW1lbnQgPSBjdXJyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGxldCBzY29yZSA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV3U2NvcmUgPSBzY29yZUVsZW1lbnQoY3VycmVudEVsZW1lbnQsIG9sZE5vZGUsIGN0eCk7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1Njb3JlID4gc2NvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVzdEVsZW1lbnQgPSBjdXJyZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgc2NvcmUgPSBuZXdTY29yZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBjdXJyZW50RWxlbWVudC5uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBiZXN0RWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNjb3JlRWxlbWVudChub2RlMSwgbm9kZTIsIGN0eCkge1xuICAgICAgICAgICAgaWYgKGlzU29mdE1hdGNoKG5vZGUxLCBub2RlMikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLjUgKyBnZXRJZEludGVyc2VjdGlvbkNvdW50KGN0eCwgbm9kZTEsIG5vZGUyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlTm9kZSh0ZW1wTm9kZSwgY3R4KSB7XG4gICAgICAgICAgICByZW1vdmVJZHNGcm9tQ29uc2lkZXJhdGlvbihjdHgsIHRlbXBOb2RlKTtcbiAgICAgICAgICAgIGlmIChjdHguY2FsbGJhY2tzLmJlZm9yZU5vZGVSZW1vdmVkKHRlbXBOb2RlKSA9PT0gZmFsc2UpIHJldHVybjtcblxuICAgICAgICAgICAgdGVtcE5vZGUucmVtb3ZlKCk7XG4gICAgICAgICAgICBjdHguY2FsbGJhY2tzLmFmdGVyTm9kZVJlbW92ZWQodGVtcE5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyBJRCBTZXQgRnVuY3Rpb25zXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgICAgICBmdW5jdGlvbiBpc0lkSW5Db25zaWRlcmF0aW9uKGN0eCwgaWQpIHtcbiAgICAgICAgICAgIHJldHVybiAhY3R4LmRlYWRJZHMuaGFzKGlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGlkSXNXaXRoaW5Ob2RlKGN0eCwgaWQsIHRhcmdldE5vZGUpIHtcbiAgICAgICAgICAgIGxldCBpZFNldCA9IGN0eC5pZE1hcC5nZXQodGFyZ2V0Tm9kZSkgfHwgRU1QVFlfU0VUO1xuICAgICAgICAgICAgcmV0dXJuIGlkU2V0LmhhcyhpZCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZW1vdmVJZHNGcm9tQ29uc2lkZXJhdGlvbihjdHgsIG5vZGUpIHtcbiAgICAgICAgICAgIGxldCBpZFNldCA9IGN0eC5pZE1hcC5nZXQobm9kZSkgfHwgRU1QVFlfU0VUO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBvZiBpZFNldCkge1xuICAgICAgICAgICAgICAgIGN0eC5kZWFkSWRzLmFkZChpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRJZEludGVyc2VjdGlvbkNvdW50KGN0eCwgbm9kZTEsIG5vZGUyKSB7XG4gICAgICAgICAgICBsZXQgc291cmNlU2V0ID0gY3R4LmlkTWFwLmdldChub2RlMSkgfHwgRU1QVFlfU0VUO1xuICAgICAgICAgICAgbGV0IG1hdGNoQ291bnQgPSAwO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBvZiBzb3VyY2VTZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBhIHBvdGVudGlhbCBtYXRjaCBpcyBhbiBpZCBpbiB0aGUgc291cmNlIGFuZCBwb3RlbnRpYWxJZHNTZXQsIGJ1dFxuICAgICAgICAgICAgICAgIC8vIHRoYXQgaGFzIG5vdCBhbHJlYWR5IGJlZW4gbWVyZ2VkIGludG8gdGhlIERPTVxuICAgICAgICAgICAgICAgIGlmIChpc0lkSW5Db25zaWRlcmF0aW9uKGN0eCwgaWQpICYmIGlkSXNXaXRoaW5Ob2RlKGN0eCwgaWQsIG5vZGUyKSkge1xuICAgICAgICAgICAgICAgICAgICArK21hdGNoQ291bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoQ291bnQ7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBib3R0b20gdXAgYWxnb3JpdGhtIHRoYXQgZmluZHMgYWxsIGVsZW1lbnRzIHdpdGggaWRzIGluc2lkZSBvZiB0aGUgbm9kZVxuICAgICAgICAgKiBhcmd1bWVudCBhbmQgcG9wdWxhdGVzIGlkIHNldHMgZm9yIHRob3NlIG5vZGVzIGFuZCBhbGwgdGhlaXIgcGFyZW50cywgZ2VuZXJhdGluZ1xuICAgICAgICAgKiBhIHNldCBvZiBpZHMgY29udGFpbmVkIHdpdGhpbiBhbGwgbm9kZXMgZm9yIHRoZSBlbnRpcmUgaGllcmFyY2h5IGluIHRoZSBET01cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIG5vZGUge0VsZW1lbnR9XG4gICAgICAgICAqIEBwYXJhbSB7TWFwPE5vZGUsIFNldDxTdHJpbmc+Pn0gaWRNYXBcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHBvcHVsYXRlSWRNYXBGb3JOb2RlKG5vZGUsIGlkTWFwKSB7XG4gICAgICAgICAgICBsZXQgbm9kZVBhcmVudCA9IG5vZGUucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIC8vIGZpbmQgYWxsIGVsZW1lbnRzIHdpdGggYW4gaWQgcHJvcGVydHlcbiAgICAgICAgICAgIGxldCBpZEVsZW1lbnRzID0gbm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdbaWRdJyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsdCBvZiBpZEVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSBlbHQ7XG4gICAgICAgICAgICAgICAgLy8gd2FsayB1cCB0aGUgcGFyZW50IGhpZXJhcmNoeSBvZiB0aGF0IGVsZW1lbnQsIGFkZGluZyB0aGUgaWRcbiAgICAgICAgICAgICAgICAvLyBvZiBlbGVtZW50IHRvIHRoZSBwYXJlbnQncyBpZCBzZXRcbiAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudCAhPT0gbm9kZVBhcmVudCAmJiBjdXJyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlkU2V0ID0gaWRNYXAuZ2V0KGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgaWQgc2V0IGRvZXNuJ3QgZXhpc3QsIGNyZWF0ZSBpdCBhbmQgaW5zZXJ0IGl0IGluIHRoZSAgbWFwXG4gICAgICAgICAgICAgICAgICAgIGlmIChpZFNldCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZFNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkTWFwLnNldChjdXJyZW50LCBpZFNldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWRTZXQuYWRkKGVsdC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgZnVuY3Rpb24gY29tcHV0ZXMgYSBtYXAgb2Ygbm9kZXMgdG8gYWxsIGlkcyBjb250YWluZWQgd2l0aGluIHRoYXQgbm9kZSAoaW5jbHVzaXZlIG9mIHRoZVxuICAgICAgICAgKiBub2RlKS4gIFRoaXMgbWFwIGNhbiBiZSB1c2VkIHRvIGFzayBpZiB0d28gbm9kZXMgaGF2ZSBpbnRlcnNlY3Rpbmcgc2V0cyBvZiBpZHMsIHdoaWNoIGFsbG93c1xuICAgICAgICAgKiBmb3IgYSBsb29zZXIgZGVmaW5pdGlvbiBvZiBcIm1hdGNoaW5nXCIgdGhhbiB0cmFkaXRpb24gaWQgbWF0Y2hpbmcsIGFuZCBhbGxvd3MgY2hpbGQgbm9kZXNcbiAgICAgICAgICogdG8gY29udHJpYnV0ZSB0byBhIHBhcmVudCBub2RlcyBtYXRjaGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fSBvbGRDb250ZW50ICB0aGUgb2xkIGNvbnRlbnQgdGhhdCB3aWxsIGJlIG1vcnBoZWRcbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fSBuZXdDb250ZW50ICB0aGUgbmV3IGNvbnRlbnQgdG8gbW9ycGggdG9cbiAgICAgICAgICogQHJldHVybnMge01hcDxOb2RlLCBTZXQ8U3RyaW5nPj59IGEgbWFwIG9mIG5vZGVzIHRvIGlkIHNldHMgZm9yIHRoZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlSWRNYXAob2xkQ29udGVudCwgbmV3Q29udGVudCkge1xuICAgICAgICAgICAgbGV0IGlkTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgcG9wdWxhdGVJZE1hcEZvck5vZGUob2xkQ29udGVudCwgaWRNYXApO1xuICAgICAgICAgICAgcG9wdWxhdGVJZE1hcEZvck5vZGUobmV3Q29udGVudCwgaWRNYXApO1xuICAgICAgICAgICAgcmV0dXJuIGlkTWFwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAvLyBUaGlzIGlzIHdoYXQgZW5kcyB1cCBiZWNvbWluZyB0aGUgSWRpb21vcnBoIGdsb2JhbCBvYmplY3RcbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW9ycGgsXG4gICAgICAgICAgICBkZWZhdWx0c1xuICAgICAgICB9XG4gICAgfSkoKTtcblxuY2xhc3MgUGFnZVJlbmRlcmVyIGV4dGVuZHMgUmVuZGVyZXIge1xuICBzdGF0aWMgcmVuZGVyRWxlbWVudChjdXJyZW50RWxlbWVudCwgbmV3RWxlbWVudCkge1xuICAgIGlmIChkb2N1bWVudC5ib2R5ICYmIG5ld0VsZW1lbnQgaW5zdGFuY2VvZiBIVE1MQm9keUVsZW1lbnQpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVwbGFjZVdpdGgobmV3RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChuZXdFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBnZXQgc2hvdWxkUmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLm5ld1NuYXBzaG90LmlzVmlzaXRhYmxlICYmIHRoaXMudHJhY2tlZEVsZW1lbnRzQXJlSWRlbnRpY2FsXG4gIH1cblxuICBnZXQgcmVsb2FkUmVhc29uKCkge1xuICAgIGlmICghdGhpcy5uZXdTbmFwc2hvdC5pc1Zpc2l0YWJsZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVhc29uOiBcInR1cmJvX3Zpc2l0X2NvbnRyb2xfaXNfcmVsb2FkXCJcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMudHJhY2tlZEVsZW1lbnRzQXJlSWRlbnRpY2FsKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZWFzb246IFwidHJhY2tlZF9lbGVtZW50X21pc21hdGNoXCJcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBwcmVwYXJlVG9SZW5kZXIoKSB7XG4gICAgdGhpcy4jc2V0TGFuZ3VhZ2UoKTtcbiAgICBhd2FpdCB0aGlzLm1lcmdlSGVhZCgpO1xuICB9XG5cbiAgYXN5bmMgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLndpbGxSZW5kZXIpIHtcbiAgICAgIGF3YWl0IHRoaXMucmVwbGFjZUJvZHkoKTtcbiAgICB9XG4gIH1cblxuICBmaW5pc2hSZW5kZXJpbmcoKSB7XG4gICAgc3VwZXIuZmluaXNoUmVuZGVyaW5nKCk7XG4gICAgaWYgKCF0aGlzLmlzUHJldmlldykge1xuICAgICAgdGhpcy5mb2N1c0ZpcnN0QXV0b2ZvY3VzYWJsZUVsZW1lbnQoKTtcbiAgICB9XG4gIH1cblxuICBnZXQgY3VycmVudEhlYWRTbmFwc2hvdCgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50U25hcHNob3QuaGVhZFNuYXBzaG90XG4gIH1cblxuICBnZXQgbmV3SGVhZFNuYXBzaG90KCkge1xuICAgIHJldHVybiB0aGlzLm5ld1NuYXBzaG90LmhlYWRTbmFwc2hvdFxuICB9XG5cbiAgZ2V0IG5ld0VsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubmV3U25hcHNob3QuZWxlbWVudFxuICB9XG5cbiAgI3NldExhbmd1YWdlKCkge1xuICAgIGNvbnN0IHsgZG9jdW1lbnRFbGVtZW50IH0gPSB0aGlzLmN1cnJlbnRTbmFwc2hvdDtcbiAgICBjb25zdCB7IGxhbmcgfSA9IHRoaXMubmV3U25hcHNob3Q7XG5cbiAgICBpZiAobGFuZykge1xuICAgICAgZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcImxhbmdcIiwgbGFuZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJsYW5nXCIpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIG1lcmdlSGVhZCgpIHtcbiAgICBjb25zdCBtZXJnZWRIZWFkRWxlbWVudHMgPSB0aGlzLm1lcmdlUHJvdmlzaW9uYWxFbGVtZW50cygpO1xuICAgIGNvbnN0IG5ld1N0eWxlc2hlZXRFbGVtZW50cyA9IHRoaXMuY29weU5ld0hlYWRTdHlsZXNoZWV0RWxlbWVudHMoKTtcbiAgICB0aGlzLmNvcHlOZXdIZWFkU2NyaXB0RWxlbWVudHMoKTtcblxuICAgIGF3YWl0IG1lcmdlZEhlYWRFbGVtZW50cztcbiAgICBhd2FpdCBuZXdTdHlsZXNoZWV0RWxlbWVudHM7XG5cbiAgICBpZiAodGhpcy53aWxsUmVuZGVyKSB7XG4gICAgICB0aGlzLnJlbW92ZVVudXNlZER5bmFtaWNTdHlsZXNoZWV0RWxlbWVudHMoKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyByZXBsYWNlQm9keSgpIHtcbiAgICBhd2FpdCB0aGlzLnByZXNlcnZpbmdQZXJtYW5lbnRFbGVtZW50cyhhc3luYyAoKSA9PiB7XG4gICAgICB0aGlzLmFjdGl2YXRlTmV3Qm9keSgpO1xuICAgICAgYXdhaXQgdGhpcy5hc3NpZ25OZXdCb2R5KCk7XG4gICAgfSk7XG4gIH1cblxuICBnZXQgdHJhY2tlZEVsZW1lbnRzQXJlSWRlbnRpY2FsKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRIZWFkU25hcHNob3QudHJhY2tlZEVsZW1lbnRTaWduYXR1cmUgPT0gdGhpcy5uZXdIZWFkU25hcHNob3QudHJhY2tlZEVsZW1lbnRTaWduYXR1cmVcbiAgfVxuXG4gIGFzeW5jIGNvcHlOZXdIZWFkU3R5bGVzaGVldEVsZW1lbnRzKCkge1xuICAgIGNvbnN0IGxvYWRpbmdFbGVtZW50cyA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMubmV3SGVhZFN0eWxlc2hlZXRFbGVtZW50cykge1xuICAgICAgbG9hZGluZ0VsZW1lbnRzLnB1c2god2FpdEZvckxvYWQoZWxlbWVudCkpO1xuXG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIGF3YWl0IFByb21pc2UuYWxsKGxvYWRpbmdFbGVtZW50cyk7XG4gIH1cblxuICBjb3B5TmV3SGVhZFNjcmlwdEVsZW1lbnRzKCkge1xuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLm5ld0hlYWRTY3JpcHRFbGVtZW50cykge1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhY3RpdmF0ZVNjcmlwdEVsZW1lbnQoZWxlbWVudCkpO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZVVudXNlZER5bmFtaWNTdHlsZXNoZWV0RWxlbWVudHMoKSB7XG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMudW51c2VkRHluYW1pY1N0eWxlc2hlZXRFbGVtZW50cykge1xuICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBtZXJnZVByb3Zpc2lvbmFsRWxlbWVudHMoKSB7XG4gICAgY29uc3QgbmV3SGVhZEVsZW1lbnRzID0gWy4uLnRoaXMubmV3SGVhZFByb3Zpc2lvbmFsRWxlbWVudHNdO1xuXG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMuY3VycmVudEhlYWRQcm92aXNpb25hbEVsZW1lbnRzKSB7XG4gICAgICBpZiAoIXRoaXMuaXNDdXJyZW50RWxlbWVudEluRWxlbWVudExpc3QoZWxlbWVudCwgbmV3SGVhZEVsZW1lbnRzKSkge1xuICAgICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBuZXdIZWFkRWxlbWVudHMpIHtcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgaXNDdXJyZW50RWxlbWVudEluRWxlbWVudExpc3QoZWxlbWVudCwgZWxlbWVudExpc3QpIHtcbiAgICBmb3IgKGNvbnN0IFtpbmRleCwgbmV3RWxlbWVudF0gb2YgZWxlbWVudExpc3QuZW50cmllcygpKSB7XG4gICAgICAvLyBpZiB0aXRsZSBlbGVtZW50Li4uXG4gICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09IFwiVElUTEVcIikge1xuICAgICAgICBpZiAobmV3RWxlbWVudC50YWdOYW1lICE9IFwiVElUTEVcIikge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsZW1lbnQuaW5uZXJIVE1MID09IG5ld0VsZW1lbnQuaW5uZXJIVE1MKSB7XG4gICAgICAgICAgZWxlbWVudExpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIGFueSBvdGhlciBlbGVtZW50Li4uXG4gICAgICBpZiAobmV3RWxlbWVudC5pc0VxdWFsTm9kZShlbGVtZW50KSkge1xuICAgICAgICBlbGVtZW50TGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmVtb3ZlQ3VycmVudEhlYWRQcm92aXNpb25hbEVsZW1lbnRzKCkge1xuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLmN1cnJlbnRIZWFkUHJvdmlzaW9uYWxFbGVtZW50cykge1xuICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBjb3B5TmV3SGVhZFByb3Zpc2lvbmFsRWxlbWVudHMoKSB7XG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMubmV3SGVhZFByb3Zpc2lvbmFsRWxlbWVudHMpIHtcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgYWN0aXZhdGVOZXdCb2R5KCkge1xuICAgIGRvY3VtZW50LmFkb3B0Tm9kZSh0aGlzLm5ld0VsZW1lbnQpO1xuICAgIHRoaXMuYWN0aXZhdGVOZXdCb2R5U2NyaXB0RWxlbWVudHMoKTtcbiAgfVxuXG4gIGFjdGl2YXRlTmV3Qm9keVNjcmlwdEVsZW1lbnRzKCkge1xuICAgIGZvciAoY29uc3QgaW5lcnRTY3JpcHRFbGVtZW50IG9mIHRoaXMubmV3Qm9keVNjcmlwdEVsZW1lbnRzKSB7XG4gICAgICBjb25zdCBhY3RpdmF0ZWRTY3JpcHRFbGVtZW50ID0gYWN0aXZhdGVTY3JpcHRFbGVtZW50KGluZXJ0U2NyaXB0RWxlbWVudCk7XG4gICAgICBpbmVydFNjcmlwdEVsZW1lbnQucmVwbGFjZVdpdGgoYWN0aXZhdGVkU2NyaXB0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYXNzaWduTmV3Qm9keSgpIHtcbiAgICBhd2FpdCB0aGlzLnJlbmRlckVsZW1lbnQodGhpcy5jdXJyZW50RWxlbWVudCwgdGhpcy5uZXdFbGVtZW50KTtcbiAgfVxuXG4gIGdldCB1bnVzZWREeW5hbWljU3R5bGVzaGVldEVsZW1lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLm9sZEhlYWRTdHlsZXNoZWV0RWxlbWVudHMuZmlsdGVyKChlbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLXRyYWNrXCIpID09PSBcImR5bmFtaWNcIlxuICAgIH0pXG4gIH1cblxuICBnZXQgb2xkSGVhZFN0eWxlc2hlZXRFbGVtZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50SGVhZFNuYXBzaG90LmdldFN0eWxlc2hlZXRFbGVtZW50c05vdEluU25hcHNob3QodGhpcy5uZXdIZWFkU25hcHNob3QpXG4gIH1cblxuICBnZXQgbmV3SGVhZFN0eWxlc2hlZXRFbGVtZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5uZXdIZWFkU25hcHNob3QuZ2V0U3R5bGVzaGVldEVsZW1lbnRzTm90SW5TbmFwc2hvdCh0aGlzLmN1cnJlbnRIZWFkU25hcHNob3QpXG4gIH1cblxuICBnZXQgbmV3SGVhZFNjcmlwdEVsZW1lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLm5ld0hlYWRTbmFwc2hvdC5nZXRTY3JpcHRFbGVtZW50c05vdEluU25hcHNob3QodGhpcy5jdXJyZW50SGVhZFNuYXBzaG90KVxuICB9XG5cbiAgZ2V0IGN1cnJlbnRIZWFkUHJvdmlzaW9uYWxFbGVtZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50SGVhZFNuYXBzaG90LnByb3Zpc2lvbmFsRWxlbWVudHNcbiAgfVxuXG4gIGdldCBuZXdIZWFkUHJvdmlzaW9uYWxFbGVtZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5uZXdIZWFkU25hcHNob3QucHJvdmlzaW9uYWxFbGVtZW50c1xuICB9XG5cbiAgZ2V0IG5ld0JvZHlTY3JpcHRFbGVtZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5uZXdFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzY3JpcHRcIilcbiAgfVxufVxuXG5jbGFzcyBNb3JwaFJlbmRlcmVyIGV4dGVuZHMgUGFnZVJlbmRlcmVyIHtcbiAgYXN5bmMgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLndpbGxSZW5kZXIpIGF3YWl0IHRoaXMuI21vcnBoQm9keSgpO1xuICB9XG5cbiAgZ2V0IHJlbmRlck1ldGhvZCgpIHtcbiAgICByZXR1cm4gXCJtb3JwaFwiXG4gIH1cblxuICAvLyBQcml2YXRlXG5cbiAgYXN5bmMgI21vcnBoQm9keSgpIHtcbiAgICB0aGlzLiNtb3JwaEVsZW1lbnRzKHRoaXMuY3VycmVudEVsZW1lbnQsIHRoaXMubmV3RWxlbWVudCk7XG4gICAgdGhpcy4jcmVsb2FkUmVtb3RlRnJhbWVzKCk7XG5cbiAgICBkaXNwYXRjaChcInR1cmJvOm1vcnBoXCIsIHtcbiAgICAgIGRldGFpbDoge1xuICAgICAgICBjdXJyZW50RWxlbWVudDogdGhpcy5jdXJyZW50RWxlbWVudCxcbiAgICAgICAgbmV3RWxlbWVudDogdGhpcy5uZXdFbGVtZW50XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAjbW9ycGhFbGVtZW50cyhjdXJyZW50RWxlbWVudCwgbmV3RWxlbWVudCwgbW9ycGhTdHlsZSA9IFwib3V0ZXJIVE1MXCIpIHtcbiAgICB0aGlzLmlzTW9ycGhpbmdUdXJib0ZyYW1lID0gdGhpcy4jaXNGcmFtZVJlbG9hZGVkV2l0aE1vcnBoKGN1cnJlbnRFbGVtZW50KTtcblxuICAgIElkaW9tb3JwaC5tb3JwaChjdXJyZW50RWxlbWVudCwgbmV3RWxlbWVudCwge1xuICAgICAgbW9ycGhTdHlsZTogbW9ycGhTdHlsZSxcbiAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICBiZWZvcmVOb2RlQWRkZWQ6IHRoaXMuI3Nob3VsZEFkZEVsZW1lbnQsXG4gICAgICAgIGJlZm9yZU5vZGVNb3JwaGVkOiB0aGlzLiNzaG91bGRNb3JwaEVsZW1lbnQsXG4gICAgICAgIGJlZm9yZUF0dHJpYnV0ZVVwZGF0ZWQ6IHRoaXMuI3Nob3VsZFVwZGF0ZUF0dHJpYnV0ZSxcbiAgICAgICAgYmVmb3JlTm9kZVJlbW92ZWQ6IHRoaXMuI3Nob3VsZFJlbW92ZUVsZW1lbnQsXG4gICAgICAgIGFmdGVyTm9kZU1vcnBoZWQ6IHRoaXMuI2RpZE1vcnBoRWxlbWVudFxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgI3Nob3VsZEFkZEVsZW1lbnQgPSAobm9kZSkgPT4ge1xuICAgIHJldHVybiAhKG5vZGUuaWQgJiYgbm9kZS5oYXNBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLXBlcm1hbmVudFwiKSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChub2RlLmlkKSlcbiAgfVxuXG4gICNzaG91bGRNb3JwaEVsZW1lbnQgPSAob2xkTm9kZSwgbmV3Tm9kZSkgPT4ge1xuICAgIGlmIChvbGROb2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIGlmICghb2xkTm9kZS5oYXNBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLXBlcm1hbmVudFwiKSAmJiAodGhpcy5pc01vcnBoaW5nVHVyYm9GcmFtZSB8fCAhdGhpcy4jaXNGcmFtZVJlbG9hZGVkV2l0aE1vcnBoKG9sZE5vZGUpKSkge1xuICAgICAgICBjb25zdCBldmVudCA9IGRpc3BhdGNoKFwidHVyYm86YmVmb3JlLW1vcnBoLWVsZW1lbnRcIiwge1xuICAgICAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICAgICAgdGFyZ2V0OiBvbGROb2RlLFxuICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgbmV3RWxlbWVudDogbmV3Tm9kZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuICFldmVudC5kZWZhdWx0UHJldmVudGVkXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAjc2hvdWxkVXBkYXRlQXR0cmlidXRlID0gKGF0dHJpYnV0ZU5hbWUsIHRhcmdldCwgbXV0YXRpb25UeXBlKSA9PiB7XG4gICAgY29uc3QgZXZlbnQgPSBkaXNwYXRjaChcInR1cmJvOmJlZm9yZS1tb3JwaC1hdHRyaWJ1dGVcIiwgeyBjYW5jZWxhYmxlOiB0cnVlLCB0YXJnZXQsIGRldGFpbDogeyBhdHRyaWJ1dGVOYW1lLCBtdXRhdGlvblR5cGUgfSB9KTtcblxuICAgIHJldHVybiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZFxuICB9XG5cbiAgI2RpZE1vcnBoRWxlbWVudCA9IChvbGROb2RlLCBuZXdOb2RlKSA9PiB7XG4gICAgaWYgKG5ld05vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgZGlzcGF0Y2goXCJ0dXJibzptb3JwaC1lbGVtZW50XCIsIHtcbiAgICAgICAgdGFyZ2V0OiBvbGROb2RlLFxuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICBuZXdFbGVtZW50OiBuZXdOb2RlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gICNzaG91bGRSZW1vdmVFbGVtZW50ID0gKG5vZGUpID0+IHtcbiAgICByZXR1cm4gdGhpcy4jc2hvdWxkTW9ycGhFbGVtZW50KG5vZGUpXG4gIH1cblxuICAjcmVsb2FkUmVtb3RlRnJhbWVzKCkge1xuICAgIHRoaXMuI3JlbW90ZUZyYW1lcygpLmZvckVhY2goKGZyYW1lKSA9PiB7XG4gICAgICBpZiAodGhpcy4jaXNGcmFtZVJlbG9hZGVkV2l0aE1vcnBoKGZyYW1lKSkge1xuICAgICAgICB0aGlzLiNyZW5kZXJGcmFtZVdpdGhNb3JwaChmcmFtZSk7XG4gICAgICAgIGZyYW1lLnJlbG9hZCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgI3JlbmRlckZyYW1lV2l0aE1vcnBoKGZyYW1lKSB7XG4gICAgZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcihcInR1cmJvOmJlZm9yZS1mcmFtZS1yZW5kZXJcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5kZXRhaWwucmVuZGVyID0gdGhpcy4jbW9ycGhGcmFtZVVwZGF0ZTtcbiAgICB9LCB7IG9uY2U6IHRydWUgfSk7XG4gIH1cblxuICAjbW9ycGhGcmFtZVVwZGF0ZSA9IChjdXJyZW50RWxlbWVudCwgbmV3RWxlbWVudCkgPT4ge1xuICAgIGRpc3BhdGNoKFwidHVyYm86YmVmb3JlLWZyYW1lLW1vcnBoXCIsIHtcbiAgICAgIHRhcmdldDogY3VycmVudEVsZW1lbnQsXG4gICAgICBkZXRhaWw6IHsgY3VycmVudEVsZW1lbnQsIG5ld0VsZW1lbnQgfVxuICAgIH0pO1xuICAgIHRoaXMuI21vcnBoRWxlbWVudHMoY3VycmVudEVsZW1lbnQsIG5ld0VsZW1lbnQuY2hpbGRyZW4sIFwiaW5uZXJIVE1MXCIpO1xuICB9XG5cbiAgI2lzRnJhbWVSZWxvYWRlZFdpdGhNb3JwaChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuc3JjICYmIGVsZW1lbnQucmVmcmVzaCA9PT0gXCJtb3JwaFwiXG4gIH1cblxuICAjcmVtb3RlRnJhbWVzKCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3R1cmJvLWZyYW1lW3NyY10nKSkuZmlsdGVyKGZyYW1lID0+IHtcbiAgICAgIHJldHVybiAhZnJhbWUuY2xvc2VzdCgnW2RhdGEtdHVyYm8tcGVybWFuZW50XScpXG4gICAgfSlcbiAgfVxufVxuXG5jbGFzcyBTbmFwc2hvdENhY2hlIHtcbiAga2V5cyA9IFtdXG4gIHNuYXBzaG90cyA9IHt9XG5cbiAgY29uc3RydWN0b3Ioc2l6ZSkge1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gIH1cblxuICBoYXMobG9jYXRpb24pIHtcbiAgICByZXR1cm4gdG9DYWNoZUtleShsb2NhdGlvbikgaW4gdGhpcy5zbmFwc2hvdHNcbiAgfVxuXG4gIGdldChsb2NhdGlvbikge1xuICAgIGlmICh0aGlzLmhhcyhsb2NhdGlvbikpIHtcbiAgICAgIGNvbnN0IHNuYXBzaG90ID0gdGhpcy5yZWFkKGxvY2F0aW9uKTtcbiAgICAgIHRoaXMudG91Y2gobG9jYXRpb24pO1xuICAgICAgcmV0dXJuIHNuYXBzaG90XG4gICAgfVxuICB9XG5cbiAgcHV0KGxvY2F0aW9uLCBzbmFwc2hvdCkge1xuICAgIHRoaXMud3JpdGUobG9jYXRpb24sIHNuYXBzaG90KTtcbiAgICB0aGlzLnRvdWNoKGxvY2F0aW9uKTtcbiAgICByZXR1cm4gc25hcHNob3RcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuc25hcHNob3RzID0ge307XG4gIH1cblxuICAvLyBQcml2YXRlXG5cbiAgcmVhZChsb2NhdGlvbikge1xuICAgIHJldHVybiB0aGlzLnNuYXBzaG90c1t0b0NhY2hlS2V5KGxvY2F0aW9uKV1cbiAgfVxuXG4gIHdyaXRlKGxvY2F0aW9uLCBzbmFwc2hvdCkge1xuICAgIHRoaXMuc25hcHNob3RzW3RvQ2FjaGVLZXkobG9jYXRpb24pXSA9IHNuYXBzaG90O1xuICB9XG5cbiAgdG91Y2gobG9jYXRpb24pIHtcbiAgICBjb25zdCBrZXkgPSB0b0NhY2hlS2V5KGxvY2F0aW9uKTtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMua2V5cy5pbmRleE9mKGtleSk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHRoaXMua2V5cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHRoaXMua2V5cy51bnNoaWZ0KGtleSk7XG4gICAgdGhpcy50cmltKCk7XG4gIH1cblxuICB0cmltKCkge1xuICAgIGZvciAoY29uc3Qga2V5IG9mIHRoaXMua2V5cy5zcGxpY2UodGhpcy5zaXplKSkge1xuICAgICAgZGVsZXRlIHRoaXMuc25hcHNob3RzW2tleV07XG4gICAgfVxuICB9XG59XG5cbmNsYXNzIFBhZ2VWaWV3IGV4dGVuZHMgVmlldyB7XG4gIHNuYXBzaG90Q2FjaGUgPSBuZXcgU25hcHNob3RDYWNoZSgxMClcbiAgbGFzdFJlbmRlcmVkTG9jYXRpb24gPSBuZXcgVVJMKGxvY2F0aW9uLmhyZWYpXG4gIGZvcmNlUmVsb2FkZWQgPSBmYWxzZVxuXG4gIHNob3VsZFRyYW5zaXRpb25UbyhuZXdTbmFwc2hvdCkge1xuICAgIHJldHVybiB0aGlzLnNuYXBzaG90LnByZWZlcnNWaWV3VHJhbnNpdGlvbnMgJiYgbmV3U25hcHNob3QucHJlZmVyc1ZpZXdUcmFuc2l0aW9uc1xuICB9XG5cbiAgcmVuZGVyUGFnZShzbmFwc2hvdCwgaXNQcmV2aWV3ID0gZmFsc2UsIHdpbGxSZW5kZXIgPSB0cnVlLCB2aXNpdCkge1xuICAgIGNvbnN0IHNob3VsZE1vcnBoUGFnZSA9IHRoaXMuaXNQYWdlUmVmcmVzaCh2aXNpdCkgJiYgdGhpcy5zbmFwc2hvdC5zaG91bGRNb3JwaFBhZ2U7XG4gICAgY29uc3QgcmVuZGVyZXJDbGFzcyA9IHNob3VsZE1vcnBoUGFnZSA/IE1vcnBoUmVuZGVyZXIgOiBQYWdlUmVuZGVyZXI7XG5cbiAgICBjb25zdCByZW5kZXJlciA9IG5ldyByZW5kZXJlckNsYXNzKHRoaXMuc25hcHNob3QsIHNuYXBzaG90LCBQYWdlUmVuZGVyZXIucmVuZGVyRWxlbWVudCwgaXNQcmV2aWV3LCB3aWxsUmVuZGVyKTtcblxuICAgIGlmICghcmVuZGVyZXIuc2hvdWxkUmVuZGVyKSB7XG4gICAgICB0aGlzLmZvcmNlUmVsb2FkZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB2aXNpdD8uY2hhbmdlSGlzdG9yeSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJlbmRlcihyZW5kZXJlcilcbiAgfVxuXG4gIHJlbmRlckVycm9yKHNuYXBzaG90LCB2aXNpdCkge1xuICAgIHZpc2l0Py5jaGFuZ2VIaXN0b3J5KCk7XG4gICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgRXJyb3JSZW5kZXJlcih0aGlzLnNuYXBzaG90LCBzbmFwc2hvdCwgRXJyb3JSZW5kZXJlci5yZW5kZXJFbGVtZW50LCBmYWxzZSk7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyKHJlbmRlcmVyKVxuICB9XG5cbiAgY2xlYXJTbmFwc2hvdENhY2hlKCkge1xuICAgIHRoaXMuc25hcHNob3RDYWNoZS5jbGVhcigpO1xuICB9XG5cbiAgYXN5bmMgY2FjaGVTbmFwc2hvdChzbmFwc2hvdCA9IHRoaXMuc25hcHNob3QpIHtcbiAgICBpZiAoc25hcHNob3QuaXNDYWNoZWFibGUpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUudmlld1dpbGxDYWNoZVNuYXBzaG90KCk7XG4gICAgICBjb25zdCB7IGxhc3RSZW5kZXJlZExvY2F0aW9uOiBsb2NhdGlvbiB9ID0gdGhpcztcbiAgICAgIGF3YWl0IG5leHRFdmVudExvb3BUaWNrKCk7XG4gICAgICBjb25zdCBjYWNoZWRTbmFwc2hvdCA9IHNuYXBzaG90LmNsb25lKCk7XG4gICAgICB0aGlzLnNuYXBzaG90Q2FjaGUucHV0KGxvY2F0aW9uLCBjYWNoZWRTbmFwc2hvdCk7XG4gICAgICByZXR1cm4gY2FjaGVkU25hcHNob3RcbiAgICB9XG4gIH1cblxuICBnZXRDYWNoZWRTbmFwc2hvdEZvckxvY2F0aW9uKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuc25hcHNob3RDYWNoZS5nZXQobG9jYXRpb24pXG4gIH1cblxuICBpc1BhZ2VSZWZyZXNoKHZpc2l0KSB7XG4gICAgcmV0dXJuICF2aXNpdCB8fCAodGhpcy5sYXN0UmVuZGVyZWRMb2NhdGlvbi5wYXRobmFtZSA9PT0gdmlzaXQubG9jYXRpb24ucGF0aG5hbWUgJiYgdmlzaXQuYWN0aW9uID09PSBcInJlcGxhY2VcIilcbiAgfVxuXG4gIHNob3VsZFByZXNlcnZlU2Nyb2xsUG9zaXRpb24odmlzaXQpIHtcbiAgICByZXR1cm4gdGhpcy5pc1BhZ2VSZWZyZXNoKHZpc2l0KSAmJiB0aGlzLnNuYXBzaG90LnNob3VsZFByZXNlcnZlU2Nyb2xsUG9zaXRpb25cbiAgfVxuXG4gIGdldCBzbmFwc2hvdCgpIHtcbiAgICByZXR1cm4gUGFnZVNuYXBzaG90LmZyb21FbGVtZW50KHRoaXMuZWxlbWVudClcbiAgfVxufVxuXG5jbGFzcyBQcmVsb2FkZXIge1xuICBzZWxlY3RvciA9IFwiYVtkYXRhLXR1cmJvLXByZWxvYWRdXCJcblxuICBjb25zdHJ1Y3RvcihkZWxlZ2F0ZSwgc25hcHNob3RDYWNoZSkge1xuICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICB0aGlzLnNuYXBzaG90Q2FjaGUgPSBzbmFwc2hvdENhY2hlO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwibG9hZGluZ1wiKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCB0aGlzLiNwcmVsb2FkQWxsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVsb2FkT25Mb2FkTGlua3NGb3JWaWV3KGRvY3VtZW50LmJvZHkpO1xuICAgIH1cbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgdGhpcy4jcHJlbG9hZEFsbCk7XG4gIH1cblxuICBwcmVsb2FkT25Mb2FkTGlua3NGb3JWaWV3KGVsZW1lbnQpIHtcbiAgICBmb3IgKGNvbnN0IGxpbmsgb2YgZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuc2VsZWN0b3IpKSB7XG4gICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5zaG91bGRQcmVsb2FkTGluayhsaW5rKSkge1xuICAgICAgICB0aGlzLnByZWxvYWRVUkwobGluayk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcHJlbG9hZFVSTChsaW5rKSB7XG4gICAgY29uc3QgbG9jYXRpb24gPSBuZXcgVVJMKGxpbmsuaHJlZik7XG5cbiAgICBpZiAodGhpcy5zbmFwc2hvdENhY2hlLmhhcyhsb2NhdGlvbikpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGZldGNoUmVxdWVzdCA9IG5ldyBGZXRjaFJlcXVlc3QodGhpcywgRmV0Y2hNZXRob2QuZ2V0LCBsb2NhdGlvbiwgbmV3IFVSTFNlYXJjaFBhcmFtcygpLCBsaW5rKTtcbiAgICBhd2FpdCBmZXRjaFJlcXVlc3QucGVyZm9ybSgpO1xuICB9XG5cbiAgLy8gRmV0Y2ggcmVxdWVzdCBkZWxlZ2F0ZVxuXG4gIHByZXBhcmVSZXF1ZXN0KGZldGNoUmVxdWVzdCkge1xuICAgIGZldGNoUmVxdWVzdC5oZWFkZXJzW1wiWC1TZWMtUHVycG9zZVwiXSA9IFwicHJlZmV0Y2hcIjtcbiAgfVxuXG4gIGFzeW5jIHJlcXVlc3RTdWNjZWVkZWRXaXRoUmVzcG9uc2UoZmV0Y2hSZXF1ZXN0LCBmZXRjaFJlc3BvbnNlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlSFRNTCA9IGF3YWl0IGZldGNoUmVzcG9uc2UucmVzcG9uc2VIVE1MO1xuICAgICAgY29uc3Qgc25hcHNob3QgPSBQYWdlU25hcHNob3QuZnJvbUhUTUxTdHJpbmcocmVzcG9uc2VIVE1MKTtcblxuICAgICAgdGhpcy5zbmFwc2hvdENhY2hlLnB1dChmZXRjaFJlcXVlc3QudXJsLCBzbmFwc2hvdCk7XG4gICAgfSBjYXRjaCAoXykge1xuICAgICAgLy8gSWYgd2UgY2Fubm90IHByZWxvYWQgdGhhdCBpcyBvayFcbiAgICB9XG4gIH1cblxuICByZXF1ZXN0U3RhcnRlZChmZXRjaFJlcXVlc3QpIHt9XG5cbiAgcmVxdWVzdEVycm9yZWQoZmV0Y2hSZXF1ZXN0KSB7fVxuXG4gIHJlcXVlc3RGaW5pc2hlZChmZXRjaFJlcXVlc3QpIHt9XG5cbiAgcmVxdWVzdFByZXZlbnRlZEhhbmRsaW5nUmVzcG9uc2UoZmV0Y2hSZXF1ZXN0LCBmZXRjaFJlc3BvbnNlKSB7fVxuXG4gIHJlcXVlc3RGYWlsZWRXaXRoUmVzcG9uc2UoZmV0Y2hSZXF1ZXN0LCBmZXRjaFJlc3BvbnNlKSB7fVxuXG4gICNwcmVsb2FkQWxsID0gKCkgPT4ge1xuICAgIHRoaXMucHJlbG9hZE9uTG9hZExpbmtzRm9yVmlldyhkb2N1bWVudC5ib2R5KTtcbiAgfVxufVxuXG5jbGFzcyBDYWNoZSB7XG4gIGNvbnN0cnVjdG9yKHNlc3Npb24pIHtcbiAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5zZXNzaW9uLmNsZWFyQ2FjaGUoKTtcbiAgfVxuXG4gIHJlc2V0Q2FjaGVDb250cm9sKCkge1xuICAgIHRoaXMuI3NldENhY2hlQ29udHJvbChcIlwiKTtcbiAgfVxuXG4gIGV4ZW1wdFBhZ2VGcm9tQ2FjaGUoKSB7XG4gICAgdGhpcy4jc2V0Q2FjaGVDb250cm9sKFwibm8tY2FjaGVcIik7XG4gIH1cblxuICBleGVtcHRQYWdlRnJvbVByZXZpZXcoKSB7XG4gICAgdGhpcy4jc2V0Q2FjaGVDb250cm9sKFwibm8tcHJldmlld1wiKTtcbiAgfVxuXG4gICNzZXRDYWNoZUNvbnRyb2wodmFsdWUpIHtcbiAgICBzZXRNZXRhQ29udGVudChcInR1cmJvLWNhY2hlLWNvbnRyb2xcIiwgdmFsdWUpO1xuICB9XG59XG5cbmNsYXNzIFNlc3Npb24ge1xuICBuYXZpZ2F0b3IgPSBuZXcgTmF2aWdhdG9yKHRoaXMpXG4gIGhpc3RvcnkgPSBuZXcgSGlzdG9yeSh0aGlzKVxuICB2aWV3ID0gbmV3IFBhZ2VWaWV3KHRoaXMsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudClcbiAgYWRhcHRlciA9IG5ldyBCcm93c2VyQWRhcHRlcih0aGlzKVxuXG4gIHBhZ2VPYnNlcnZlciA9IG5ldyBQYWdlT2JzZXJ2ZXIodGhpcylcbiAgY2FjaGVPYnNlcnZlciA9IG5ldyBDYWNoZU9ic2VydmVyKClcbiAgbGlua1ByZWZldGNoT2JzZXJ2ZXIgPSBuZXcgTGlua1ByZWZldGNoT2JzZXJ2ZXIodGhpcywgZG9jdW1lbnQpXG4gIGxpbmtDbGlja09ic2VydmVyID0gbmV3IExpbmtDbGlja09ic2VydmVyKHRoaXMsIHdpbmRvdylcbiAgZm9ybVN1Ym1pdE9ic2VydmVyID0gbmV3IEZvcm1TdWJtaXRPYnNlcnZlcih0aGlzLCBkb2N1bWVudClcbiAgc2Nyb2xsT2JzZXJ2ZXIgPSBuZXcgU2Nyb2xsT2JzZXJ2ZXIodGhpcylcbiAgc3RyZWFtT2JzZXJ2ZXIgPSBuZXcgU3RyZWFtT2JzZXJ2ZXIodGhpcylcbiAgZm9ybUxpbmtDbGlja09ic2VydmVyID0gbmV3IEZvcm1MaW5rQ2xpY2tPYnNlcnZlcih0aGlzLCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpXG4gIGZyYW1lUmVkaXJlY3RvciA9IG5ldyBGcmFtZVJlZGlyZWN0b3IodGhpcywgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KVxuICBzdHJlYW1NZXNzYWdlUmVuZGVyZXIgPSBuZXcgU3RyZWFtTWVzc2FnZVJlbmRlcmVyKClcbiAgY2FjaGUgPSBuZXcgQ2FjaGUodGhpcylcblxuICBkcml2ZSA9IHRydWVcbiAgZW5hYmxlZCA9IHRydWVcbiAgcHJvZ3Jlc3NCYXJEZWxheSA9IDUwMFxuICBzdGFydGVkID0gZmFsc2VcbiAgZm9ybU1vZGUgPSBcIm9uXCJcbiAgI3BhZ2VSZWZyZXNoRGVib3VuY2VQZXJpb2QgPSAxNTBcblxuICBjb25zdHJ1Y3RvcihyZWNlbnRSZXF1ZXN0cykge1xuICAgIHRoaXMucmVjZW50UmVxdWVzdHMgPSByZWNlbnRSZXF1ZXN0cztcbiAgICB0aGlzLnByZWxvYWRlciA9IG5ldyBQcmVsb2FkZXIodGhpcywgdGhpcy52aWV3LnNuYXBzaG90Q2FjaGUpO1xuICAgIHRoaXMuZGVib3VuY2VkUmVmcmVzaCA9IHRoaXMucmVmcmVzaDtcbiAgICB0aGlzLnBhZ2VSZWZyZXNoRGVib3VuY2VQZXJpb2QgPSB0aGlzLnBhZ2VSZWZyZXNoRGVib3VuY2VQZXJpb2Q7XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgdGhpcy5wYWdlT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgIHRoaXMuY2FjaGVPYnNlcnZlci5zdGFydCgpO1xuICAgICAgdGhpcy5saW5rUHJlZmV0Y2hPYnNlcnZlci5zdGFydCgpO1xuICAgICAgdGhpcy5mb3JtTGlua0NsaWNrT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgIHRoaXMubGlua0NsaWNrT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgIHRoaXMuZm9ybVN1Ym1pdE9ic2VydmVyLnN0YXJ0KCk7XG4gICAgICB0aGlzLnNjcm9sbE9ic2VydmVyLnN0YXJ0KCk7XG4gICAgICB0aGlzLnN0cmVhbU9ic2VydmVyLnN0YXJ0KCk7XG4gICAgICB0aGlzLmZyYW1lUmVkaXJlY3Rvci5zdGFydCgpO1xuICAgICAgdGhpcy5oaXN0b3J5LnN0YXJ0KCk7XG4gICAgICB0aGlzLnByZWxvYWRlci5zdGFydCgpO1xuICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgZGlzYWJsZSgpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgdGhpcy5wYWdlT2JzZXJ2ZXIuc3RvcCgpO1xuICAgICAgdGhpcy5jYWNoZU9ic2VydmVyLnN0b3AoKTtcbiAgICAgIHRoaXMubGlua1ByZWZldGNoT2JzZXJ2ZXIuc3RvcCgpO1xuICAgICAgdGhpcy5mb3JtTGlua0NsaWNrT2JzZXJ2ZXIuc3RvcCgpO1xuICAgICAgdGhpcy5saW5rQ2xpY2tPYnNlcnZlci5zdG9wKCk7XG4gICAgICB0aGlzLmZvcm1TdWJtaXRPYnNlcnZlci5zdG9wKCk7XG4gICAgICB0aGlzLnNjcm9sbE9ic2VydmVyLnN0b3AoKTtcbiAgICAgIHRoaXMuc3RyZWFtT2JzZXJ2ZXIuc3RvcCgpO1xuICAgICAgdGhpcy5mcmFtZVJlZGlyZWN0b3Iuc3RvcCgpO1xuICAgICAgdGhpcy5oaXN0b3J5LnN0b3AoKTtcbiAgICAgIHRoaXMucHJlbG9hZGVyLnN0b3AoKTtcbiAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJlZ2lzdGVyQWRhcHRlcihhZGFwdGVyKSB7XG4gICAgdGhpcy5hZGFwdGVyID0gYWRhcHRlcjtcbiAgfVxuXG4gIHZpc2l0KGxvY2F0aW9uLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBmcmFtZUVsZW1lbnQgPSBvcHRpb25zLmZyYW1lID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob3B0aW9ucy5mcmFtZSkgOiBudWxsO1xuXG4gICAgaWYgKGZyYW1lRWxlbWVudCBpbnN0YW5jZW9mIEZyYW1lRWxlbWVudCkge1xuICAgICAgY29uc3QgYWN0aW9uID0gb3B0aW9ucy5hY3Rpb24gfHwgZ2V0VmlzaXRBY3Rpb24oZnJhbWVFbGVtZW50KTtcblxuICAgICAgZnJhbWVFbGVtZW50LmRlbGVnYXRlLnByb3Bvc2VWaXNpdElmTmF2aWdhdGVkV2l0aEFjdGlvbihmcmFtZUVsZW1lbnQsIGFjdGlvbik7XG4gICAgICBmcmFtZUVsZW1lbnQuc3JjID0gbG9jYXRpb24udG9TdHJpbmcoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5uYXZpZ2F0b3IucHJvcG9zZVZpc2l0KGV4cGFuZFVSTChsb2NhdGlvbiksIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIHJlZnJlc2godXJsLCByZXF1ZXN0SWQpIHtcbiAgICBjb25zdCBpc1JlY2VudFJlcXVlc3QgPSByZXF1ZXN0SWQgJiYgdGhpcy5yZWNlbnRSZXF1ZXN0cy5oYXMocmVxdWVzdElkKTtcbiAgICBpZiAoIWlzUmVjZW50UmVxdWVzdCkge1xuICAgICAgdGhpcy52aXNpdCh1cmwsIHsgYWN0aW9uOiBcInJlcGxhY2VcIiwgc2hvdWxkQ2FjaGVTbmFwc2hvdDogZmFsc2UgfSk7XG4gICAgfVxuICB9XG5cbiAgY29ubmVjdFN0cmVhbVNvdXJjZShzb3VyY2UpIHtcbiAgICB0aGlzLnN0cmVhbU9ic2VydmVyLmNvbm5lY3RTdHJlYW1Tb3VyY2Uoc291cmNlKTtcbiAgfVxuXG4gIGRpc2Nvbm5lY3RTdHJlYW1Tb3VyY2Uoc291cmNlKSB7XG4gICAgdGhpcy5zdHJlYW1PYnNlcnZlci5kaXNjb25uZWN0U3RyZWFtU291cmNlKHNvdXJjZSk7XG4gIH1cblxuICByZW5kZXJTdHJlYW1NZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICB0aGlzLnN0cmVhbU1lc3NhZ2VSZW5kZXJlci5yZW5kZXIoU3RyZWFtTWVzc2FnZS53cmFwKG1lc3NhZ2UpKTtcbiAgfVxuXG4gIGNsZWFyQ2FjaGUoKSB7XG4gICAgdGhpcy52aWV3LmNsZWFyU25hcHNob3RDYWNoZSgpO1xuICB9XG5cbiAgc2V0UHJvZ3Jlc3NCYXJEZWxheShkZWxheSkge1xuICAgIHRoaXMucHJvZ3Jlc3NCYXJEZWxheSA9IGRlbGF5O1xuICB9XG5cbiAgc2V0Rm9ybU1vZGUobW9kZSkge1xuICAgIHRoaXMuZm9ybU1vZGUgPSBtb2RlO1xuICB9XG5cbiAgZ2V0IGxvY2F0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmhpc3RvcnkubG9jYXRpb25cbiAgfVxuXG4gIGdldCByZXN0b3JhdGlvbklkZW50aWZpZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGlzdG9yeS5yZXN0b3JhdGlvbklkZW50aWZpZXJcbiAgfVxuXG4gIGdldCBwYWdlUmVmcmVzaERlYm91bmNlUGVyaW9kKCkge1xuICAgIHJldHVybiB0aGlzLiNwYWdlUmVmcmVzaERlYm91bmNlUGVyaW9kXG4gIH1cblxuICBzZXQgcGFnZVJlZnJlc2hEZWJvdW5jZVBlcmlvZCh2YWx1ZSkge1xuICAgIHRoaXMucmVmcmVzaCA9IGRlYm91bmNlKHRoaXMuZGVib3VuY2VkUmVmcmVzaC5iaW5kKHRoaXMpLCB2YWx1ZSk7XG4gICAgdGhpcy4jcGFnZVJlZnJlc2hEZWJvdW5jZVBlcmlvZCA9IHZhbHVlO1xuICB9XG5cbiAgLy8gUHJlbG9hZGVyIGRlbGVnYXRlXG5cbiAgc2hvdWxkUHJlbG9hZExpbmsoZWxlbWVudCkge1xuICAgIGNvbnN0IGlzVW5zYWZlID0gZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLW1ldGhvZFwiKTtcbiAgICBjb25zdCBpc1N0cmVhbSA9IGVsZW1lbnQuaGFzQXR0cmlidXRlKFwiZGF0YS10dXJiby1zdHJlYW1cIik7XG4gICAgY29uc3QgZnJhbWVUYXJnZXQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdHVyYm8tZnJhbWVcIik7XG4gICAgY29uc3QgZnJhbWUgPSBmcmFtZVRhcmdldCA9PSBcIl90b3BcIiA/XG4gICAgICBudWxsIDpcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZyYW1lVGFyZ2V0KSB8fCBmaW5kQ2xvc2VzdFJlY3Vyc2l2ZWx5KGVsZW1lbnQsIFwidHVyYm8tZnJhbWU6bm90KFtkaXNhYmxlZF0pXCIpO1xuXG4gICAgaWYgKGlzVW5zYWZlIHx8IGlzU3RyZWFtIHx8IGZyYW1lIGluc3RhbmNlb2YgRnJhbWVFbGVtZW50KSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbG9jYXRpb24gPSBuZXcgVVJMKGVsZW1lbnQuaHJlZik7XG5cbiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRJc05hdmlnYXRhYmxlKGVsZW1lbnQpICYmIGxvY2F0aW9uSXNWaXNpdGFibGUobG9jYXRpb24sIHRoaXMuc25hcHNob3Qucm9vdExvY2F0aW9uKVxuICAgIH1cbiAgfVxuXG4gIC8vIEhpc3RvcnkgZGVsZWdhdGVcblxuICBoaXN0b3J5UG9wcGVkVG9Mb2NhdGlvbldpdGhSZXN0b3JhdGlvbklkZW50aWZpZXJBbmREaXJlY3Rpb24obG9jYXRpb24sIHJlc3RvcmF0aW9uSWRlbnRpZmllciwgZGlyZWN0aW9uKSB7XG4gICAgaWYgKHRoaXMuZW5hYmxlZCkge1xuICAgICAgdGhpcy5uYXZpZ2F0b3Iuc3RhcnRWaXNpdChsb2NhdGlvbiwgcmVzdG9yYXRpb25JZGVudGlmaWVyLCB7XG4gICAgICAgIGFjdGlvbjogXCJyZXN0b3JlXCIsXG4gICAgICAgIGhpc3RvcnlDaGFuZ2VkOiB0cnVlLFxuICAgICAgICBkaXJlY3Rpb25cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkYXB0ZXIucGFnZUludmFsaWRhdGVkKHtcbiAgICAgICAgcmVhc29uOiBcInR1cmJvX2Rpc2FibGVkXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNjcm9sbCBvYnNlcnZlciBkZWxlZ2F0ZVxuXG4gIHNjcm9sbFBvc2l0aW9uQ2hhbmdlZChwb3NpdGlvbikge1xuICAgIHRoaXMuaGlzdG9yeS51cGRhdGVSZXN0b3JhdGlvbkRhdGEoeyBzY3JvbGxQb3NpdGlvbjogcG9zaXRpb24gfSk7XG4gIH1cblxuICAvLyBGb3JtIGNsaWNrIG9ic2VydmVyIGRlbGVnYXRlXG5cbiAgd2lsbFN1Ym1pdEZvcm1MaW5rVG9Mb2NhdGlvbihsaW5rLCBsb2NhdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnRJc05hdmlnYXRhYmxlKGxpbmspICYmIGxvY2F0aW9uSXNWaXNpdGFibGUobG9jYXRpb24sIHRoaXMuc25hcHNob3Qucm9vdExvY2F0aW9uKVxuICB9XG5cbiAgc3VibWl0dGVkRm9ybUxpbmtUb0xvY2F0aW9uKCkge31cblxuICAvLyBMaW5rIGhvdmVyIG9ic2VydmVyIGRlbGVnYXRlXG5cbiAgY2FuUHJlZmV0Y2hSZXF1ZXN0VG9Mb2NhdGlvbihsaW5rLCBsb2NhdGlvbikge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmVsZW1lbnRJc05hdmlnYXRhYmxlKGxpbmspICYmXG4gICAgICAgIGxvY2F0aW9uSXNWaXNpdGFibGUobG9jYXRpb24sIHRoaXMuc25hcHNob3Qucm9vdExvY2F0aW9uKVxuICAgIClcbiAgfVxuXG4gIC8vIExpbmsgY2xpY2sgb2JzZXJ2ZXIgZGVsZWdhdGVcblxuICB3aWxsRm9sbG93TGlua1RvTG9jYXRpb24obGluaywgbG9jYXRpb24sIGV2ZW50KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuZWxlbWVudElzTmF2aWdhdGFibGUobGluaykgJiZcbiAgICAgIGxvY2F0aW9uSXNWaXNpdGFibGUobG9jYXRpb24sIHRoaXMuc25hcHNob3Qucm9vdExvY2F0aW9uKSAmJlxuICAgICAgdGhpcy5hcHBsaWNhdGlvbkFsbG93c0ZvbGxvd2luZ0xpbmtUb0xvY2F0aW9uKGxpbmssIGxvY2F0aW9uLCBldmVudClcbiAgICApXG4gIH1cblxuICBmb2xsb3dlZExpbmtUb0xvY2F0aW9uKGxpbmssIGxvY2F0aW9uKSB7XG4gICAgY29uc3QgYWN0aW9uID0gdGhpcy5nZXRBY3Rpb25Gb3JMaW5rKGxpbmspO1xuICAgIGNvbnN0IGFjY2VwdHNTdHJlYW1SZXNwb25zZSA9IGxpbmsuaGFzQXR0cmlidXRlKFwiZGF0YS10dXJiby1zdHJlYW1cIik7XG5cbiAgICB0aGlzLnZpc2l0KGxvY2F0aW9uLmhyZWYsIHsgYWN0aW9uLCBhY2NlcHRzU3RyZWFtUmVzcG9uc2UgfSk7XG4gIH1cblxuICAvLyBOYXZpZ2F0b3IgZGVsZWdhdGVcblxuICBhbGxvd3NWaXNpdGluZ0xvY2F0aW9uV2l0aEFjdGlvbihsb2NhdGlvbiwgYWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYXRpb25XaXRoQWN0aW9uSXNTYW1lUGFnZShsb2NhdGlvbiwgYWN0aW9uKSB8fCB0aGlzLmFwcGxpY2F0aW9uQWxsb3dzVmlzaXRpbmdMb2NhdGlvbihsb2NhdGlvbilcbiAgfVxuXG4gIHZpc2l0UHJvcG9zZWRUb0xvY2F0aW9uKGxvY2F0aW9uLCBvcHRpb25zKSB7XG4gICAgZXh0ZW5kVVJMV2l0aERlcHJlY2F0ZWRQcm9wZXJ0aWVzKGxvY2F0aW9uKTtcbiAgICB0aGlzLmFkYXB0ZXIudmlzaXRQcm9wb3NlZFRvTG9jYXRpb24obG9jYXRpb24sIG9wdGlvbnMpO1xuICB9XG5cbiAgLy8gVmlzaXQgZGVsZWdhdGVcblxuICB2aXNpdFN0YXJ0ZWQodmlzaXQpIHtcbiAgICBpZiAoIXZpc2l0LmFjY2VwdHNTdHJlYW1SZXNwb25zZSkge1xuICAgICAgbWFya0FzQnVzeShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgdGhpcy52aWV3Lm1hcmtWaXNpdERpcmVjdGlvbih2aXNpdC5kaXJlY3Rpb24pO1xuICAgIH1cbiAgICBleHRlbmRVUkxXaXRoRGVwcmVjYXRlZFByb3BlcnRpZXModmlzaXQubG9jYXRpb24pO1xuICAgIGlmICghdmlzaXQuc2lsZW50KSB7XG4gICAgICB0aGlzLm5vdGlmeUFwcGxpY2F0aW9uQWZ0ZXJWaXNpdGluZ0xvY2F0aW9uKHZpc2l0LmxvY2F0aW9uLCB2aXNpdC5hY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHZpc2l0Q29tcGxldGVkKHZpc2l0KSB7XG4gICAgdGhpcy52aWV3LnVubWFya1Zpc2l0RGlyZWN0aW9uKCk7XG4gICAgY2xlYXJCdXN5U3RhdGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcbiAgICB0aGlzLm5vdGlmeUFwcGxpY2F0aW9uQWZ0ZXJQYWdlTG9hZCh2aXNpdC5nZXRUaW1pbmdNZXRyaWNzKCkpO1xuICB9XG5cbiAgbG9jYXRpb25XaXRoQWN0aW9uSXNTYW1lUGFnZShsb2NhdGlvbiwgYWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMubmF2aWdhdG9yLmxvY2F0aW9uV2l0aEFjdGlvbklzU2FtZVBhZ2UobG9jYXRpb24sIGFjdGlvbilcbiAgfVxuXG4gIHZpc2l0U2Nyb2xsZWRUb1NhbWVQYWdlTG9jYXRpb24ob2xkVVJMLCBuZXdVUkwpIHtcbiAgICB0aGlzLm5vdGlmeUFwcGxpY2F0aW9uQWZ0ZXJWaXNpdGluZ1NhbWVQYWdlTG9jYXRpb24ob2xkVVJMLCBuZXdVUkwpO1xuICB9XG5cbiAgLy8gRm9ybSBzdWJtaXQgb2JzZXJ2ZXIgZGVsZWdhdGVcblxuICB3aWxsU3VibWl0Rm9ybShmb3JtLCBzdWJtaXR0ZXIpIHtcbiAgICBjb25zdCBhY3Rpb24gPSBnZXRBY3Rpb24kMShmb3JtLCBzdWJtaXR0ZXIpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuc3VibWlzc2lvbklzTmF2aWdhdGFibGUoZm9ybSwgc3VibWl0dGVyKSAmJlxuICAgICAgbG9jYXRpb25Jc1Zpc2l0YWJsZShleHBhbmRVUkwoYWN0aW9uKSwgdGhpcy5zbmFwc2hvdC5yb290TG9jYXRpb24pXG4gICAgKVxuICB9XG5cbiAgZm9ybVN1Ym1pdHRlZChmb3JtLCBzdWJtaXR0ZXIpIHtcbiAgICB0aGlzLm5hdmlnYXRvci5zdWJtaXRGb3JtKGZvcm0sIHN1Ym1pdHRlcik7XG4gIH1cblxuICAvLyBQYWdlIG9ic2VydmVyIGRlbGVnYXRlXG5cbiAgcGFnZUJlY2FtZUludGVyYWN0aXZlKCkge1xuICAgIHRoaXMudmlldy5sYXN0UmVuZGVyZWRMb2NhdGlvbiA9IHRoaXMubG9jYXRpb247XG4gICAgdGhpcy5ub3RpZnlBcHBsaWNhdGlvbkFmdGVyUGFnZUxvYWQoKTtcbiAgfVxuXG4gIHBhZ2VMb2FkZWQoKSB7XG4gICAgdGhpcy5oaXN0b3J5LmFzc3VtZUNvbnRyb2xPZlNjcm9sbFJlc3RvcmF0aW9uKCk7XG4gIH1cblxuICBwYWdlV2lsbFVubG9hZCgpIHtcbiAgICB0aGlzLmhpc3RvcnkucmVsaW5xdWlzaENvbnRyb2xPZlNjcm9sbFJlc3RvcmF0aW9uKCk7XG4gIH1cblxuICAvLyBTdHJlYW0gb2JzZXJ2ZXIgZGVsZWdhdGVcblxuICByZWNlaXZlZE1lc3NhZ2VGcm9tU3RyZWFtKG1lc3NhZ2UpIHtcbiAgICB0aGlzLnJlbmRlclN0cmVhbU1lc3NhZ2UobWVzc2FnZSk7XG4gIH1cblxuICAvLyBQYWdlIHZpZXcgZGVsZWdhdGVcblxuICB2aWV3V2lsbENhY2hlU25hcHNob3QoKSB7XG4gICAgaWYgKCF0aGlzLm5hdmlnYXRvci5jdXJyZW50VmlzaXQ/LnNpbGVudCkge1xuICAgICAgdGhpcy5ub3RpZnlBcHBsaWNhdGlvbkJlZm9yZUNhY2hpbmdTbmFwc2hvdCgpO1xuICAgIH1cbiAgfVxuXG4gIGFsbG93c0ltbWVkaWF0ZVJlbmRlcih7IGVsZW1lbnQgfSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5ub3RpZnlBcHBsaWNhdGlvbkJlZm9yZVJlbmRlcihlbGVtZW50LCBvcHRpb25zKTtcbiAgICBjb25zdCB7XG4gICAgICBkZWZhdWx0UHJldmVudGVkLFxuICAgICAgZGV0YWlsOiB7IHJlbmRlciB9XG4gICAgfSA9IGV2ZW50O1xuXG4gICAgaWYgKHRoaXMudmlldy5yZW5kZXJlciAmJiByZW5kZXIpIHtcbiAgICAgIHRoaXMudmlldy5yZW5kZXJlci5yZW5kZXJFbGVtZW50ID0gcmVuZGVyO1xuICAgIH1cblxuICAgIHJldHVybiAhZGVmYXVsdFByZXZlbnRlZFxuICB9XG5cbiAgdmlld1JlbmRlcmVkU25hcHNob3QoX3NuYXBzaG90LCBfaXNQcmV2aWV3LCByZW5kZXJNZXRob2QpIHtcbiAgICB0aGlzLnZpZXcubGFzdFJlbmRlcmVkTG9jYXRpb24gPSB0aGlzLmhpc3RvcnkubG9jYXRpb247XG4gICAgdGhpcy5ub3RpZnlBcHBsaWNhdGlvbkFmdGVyUmVuZGVyKHJlbmRlck1ldGhvZCk7XG4gIH1cblxuICBwcmVsb2FkT25Mb2FkTGlua3NGb3JWaWV3KGVsZW1lbnQpIHtcbiAgICB0aGlzLnByZWxvYWRlci5wcmVsb2FkT25Mb2FkTGlua3NGb3JWaWV3KGVsZW1lbnQpO1xuICB9XG5cbiAgdmlld0ludmFsaWRhdGVkKHJlYXNvbikge1xuICAgIHRoaXMuYWRhcHRlci5wYWdlSW52YWxpZGF0ZWQocmVhc29uKTtcbiAgfVxuXG4gIC8vIEZyYW1lIGVsZW1lbnRcblxuICBmcmFtZUxvYWRlZChmcmFtZSkge1xuICAgIHRoaXMubm90aWZ5QXBwbGljYXRpb25BZnRlckZyYW1lTG9hZChmcmFtZSk7XG4gIH1cblxuICBmcmFtZVJlbmRlcmVkKGZldGNoUmVzcG9uc2UsIGZyYW1lKSB7XG4gICAgdGhpcy5ub3RpZnlBcHBsaWNhdGlvbkFmdGVyRnJhbWVSZW5kZXIoZmV0Y2hSZXNwb25zZSwgZnJhbWUpO1xuICB9XG5cbiAgLy8gQXBwbGljYXRpb24gZXZlbnRzXG5cbiAgYXBwbGljYXRpb25BbGxvd3NGb2xsb3dpbmdMaW5rVG9Mb2NhdGlvbihsaW5rLCBsb2NhdGlvbiwgZXYpIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMubm90aWZ5QXBwbGljYXRpb25BZnRlckNsaWNraW5nTGlua1RvTG9jYXRpb24obGluaywgbG9jYXRpb24sIGV2KTtcbiAgICByZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWRcbiAgfVxuXG4gIGFwcGxpY2F0aW9uQWxsb3dzVmlzaXRpbmdMb2NhdGlvbihsb2NhdGlvbikge1xuICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5ub3RpZnlBcHBsaWNhdGlvbkJlZm9yZVZpc2l0aW5nTG9jYXRpb24obG9jYXRpb24pO1xuICAgIHJldHVybiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZFxuICB9XG5cbiAgbm90aWZ5QXBwbGljYXRpb25BZnRlckNsaWNraW5nTGlua1RvTG9jYXRpb24obGluaywgbG9jYXRpb24sIGV2ZW50KSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoKFwidHVyYm86Y2xpY2tcIiwge1xuICAgICAgdGFyZ2V0OiBsaW5rLFxuICAgICAgZGV0YWlsOiB7IHVybDogbG9jYXRpb24uaHJlZiwgb3JpZ2luYWxFdmVudDogZXZlbnQgfSxcbiAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgbm90aWZ5QXBwbGljYXRpb25CZWZvcmVWaXNpdGluZ0xvY2F0aW9uKGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoKFwidHVyYm86YmVmb3JlLXZpc2l0XCIsIHtcbiAgICAgIGRldGFpbDogeyB1cmw6IGxvY2F0aW9uLmhyZWYgfSxcbiAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgbm90aWZ5QXBwbGljYXRpb25BZnRlclZpc2l0aW5nTG9jYXRpb24obG9jYXRpb24sIGFjdGlvbikge1xuICAgIHJldHVybiBkaXNwYXRjaChcInR1cmJvOnZpc2l0XCIsIHsgZGV0YWlsOiB7IHVybDogbG9jYXRpb24uaHJlZiwgYWN0aW9uIH0gfSlcbiAgfVxuXG4gIG5vdGlmeUFwcGxpY2F0aW9uQmVmb3JlQ2FjaGluZ1NuYXBzaG90KCkge1xuICAgIHJldHVybiBkaXNwYXRjaChcInR1cmJvOmJlZm9yZS1jYWNoZVwiKVxuICB9XG5cbiAgbm90aWZ5QXBwbGljYXRpb25CZWZvcmVSZW5kZXIobmV3Qm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiBkaXNwYXRjaChcInR1cmJvOmJlZm9yZS1yZW5kZXJcIiwge1xuICAgICAgZGV0YWlsOiB7IG5ld0JvZHksIC4uLm9wdGlvbnMgfSxcbiAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgbm90aWZ5QXBwbGljYXRpb25BZnRlclJlbmRlcihyZW5kZXJNZXRob2QpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goXCJ0dXJibzpyZW5kZXJcIiwgeyBkZXRhaWw6IHsgcmVuZGVyTWV0aG9kIH0gfSlcbiAgfVxuXG4gIG5vdGlmeUFwcGxpY2F0aW9uQWZ0ZXJQYWdlTG9hZCh0aW1pbmcgPSB7fSkge1xuICAgIHJldHVybiBkaXNwYXRjaChcInR1cmJvOmxvYWRcIiwge1xuICAgICAgZGV0YWlsOiB7IHVybDogdGhpcy5sb2NhdGlvbi5ocmVmLCB0aW1pbmcgfVxuICAgIH0pXG4gIH1cblxuICBub3RpZnlBcHBsaWNhdGlvbkFmdGVyVmlzaXRpbmdTYW1lUGFnZUxvY2F0aW9uKG9sZFVSTCwgbmV3VVJMKSB7XG4gICAgZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBIYXNoQ2hhbmdlRXZlbnQoXCJoYXNoY2hhbmdlXCIsIHtcbiAgICAgICAgb2xkVVJMOiBvbGRVUkwudG9TdHJpbmcoKSxcbiAgICAgICAgbmV3VVJMOiBuZXdVUkwudG9TdHJpbmcoKVxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgbm90aWZ5QXBwbGljYXRpb25BZnRlckZyYW1lTG9hZChmcmFtZSkge1xuICAgIHJldHVybiBkaXNwYXRjaChcInR1cmJvOmZyYW1lLWxvYWRcIiwgeyB0YXJnZXQ6IGZyYW1lIH0pXG4gIH1cblxuICBub3RpZnlBcHBsaWNhdGlvbkFmdGVyRnJhbWVSZW5kZXIoZmV0Y2hSZXNwb25zZSwgZnJhbWUpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goXCJ0dXJibzpmcmFtZS1yZW5kZXJcIiwge1xuICAgICAgZGV0YWlsOiB7IGZldGNoUmVzcG9uc2UgfSxcbiAgICAgIHRhcmdldDogZnJhbWUsXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIC8vIEhlbHBlcnNcblxuICBzdWJtaXNzaW9uSXNOYXZpZ2F0YWJsZShmb3JtLCBzdWJtaXR0ZXIpIHtcbiAgICBpZiAodGhpcy5mb3JtTW9kZSA9PSBcIm9mZlwiKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3VibWl0dGVySXNOYXZpZ2F0YWJsZSA9IHN1Ym1pdHRlciA/IHRoaXMuZWxlbWVudElzTmF2aWdhdGFibGUoc3VibWl0dGVyKSA6IHRydWU7XG5cbiAgICAgIGlmICh0aGlzLmZvcm1Nb2RlID09IFwib3B0aW5cIikge1xuICAgICAgICByZXR1cm4gc3VibWl0dGVySXNOYXZpZ2F0YWJsZSAmJiBmb3JtLmNsb3Nlc3QoJ1tkYXRhLXR1cmJvPVwidHJ1ZVwiXScpICE9IG51bGxcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzdWJtaXR0ZXJJc05hdmlnYXRhYmxlICYmIHRoaXMuZWxlbWVudElzTmF2aWdhdGFibGUoZm9ybSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBlbGVtZW50SXNOYXZpZ2F0YWJsZShlbGVtZW50KSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZmluZENsb3Nlc3RSZWN1cnNpdmVseShlbGVtZW50LCBcIltkYXRhLXR1cmJvXVwiKTtcbiAgICBjb25zdCB3aXRoaW5GcmFtZSA9IGZpbmRDbG9zZXN0UmVjdXJzaXZlbHkoZWxlbWVudCwgXCJ0dXJiby1mcmFtZVwiKTtcblxuICAgIC8vIENoZWNrIGlmIERyaXZlIGlzIGVuYWJsZWQgb24gdGhlIHNlc3Npb24gb3Igd2UncmUgd2l0aGluIGEgRnJhbWUuXG4gICAgaWYgKHRoaXMuZHJpdmUgfHwgd2l0aGluRnJhbWUpIHtcbiAgICAgIC8vIEVsZW1lbnQgaXMgbmF2aWdhdGFibGUgYnkgZGVmYXVsdCwgdW5sZXNzIGBkYXRhLXR1cmJvPVwiZmFsc2VcImAuXG4gICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgIHJldHVybiBjb250YWluZXIuZ2V0QXR0cmlidXRlKFwiZGF0YS10dXJib1wiKSAhPSBcImZhbHNlXCJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEVsZW1lbnQgaXNuJ3QgbmF2aWdhdGFibGUgYnkgZGVmYXVsdCwgdW5sZXNzIGBkYXRhLXR1cmJvPVwidHJ1ZVwiYC5cbiAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5nZXRBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvXCIpID09IFwidHJ1ZVwiXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBQcml2YXRlXG5cbiAgZ2V0QWN0aW9uRm9yTGluayhsaW5rKSB7XG4gICAgcmV0dXJuIGdldFZpc2l0QWN0aW9uKGxpbmspIHx8IFwiYWR2YW5jZVwiXG4gIH1cblxuICBnZXQgc25hcHNob3QoKSB7XG4gICAgcmV0dXJuIHRoaXMudmlldy5zbmFwc2hvdFxuICB9XG59XG5cbi8vIE9sZGVyIHZlcnNpb25zIG9mIHRoZSBUdXJibyBOYXRpdmUgYWRhcHRlcnMgcmVmZXJlbmNlZCB0aGVcbi8vIGBMb2NhdGlvbiNhYnNvbHV0ZVVSTGAgcHJvcGVydHkgaW4gdGhlaXIgaW1wbGVtZW50YXRpb25zIG9mXG4vLyB0aGUgYEFkYXB0ZXIjdmlzaXRQcm9wb3NlZFRvTG9jYXRpb24oKWAgYW5kIGAjdmlzaXRTdGFydGVkKClgXG4vLyBtZXRob2RzLiBUaGUgTG9jYXRpb24gY2xhc3MgaGFzIHNpbmNlIGJlZW4gcmVtb3ZlZCBpbiBmYXZvclxuLy8gb2YgdGhlIERPTSBVUkwgQVBJLCBhbmQgYWNjb3JkaW5nbHkgYWxsIEFkYXB0ZXIgbWV0aG9kcyBub3dcbi8vIHJlY2VpdmUgVVJMIG9iamVjdHMuXG4vL1xuLy8gV2UgYWxpYXMgI2Fic29sdXRlVVJMIHRvICN0b1N0cmluZygpIGhlcmUgdG8gYXZvaWQgY3Jhc2hpbmdcbi8vIG9sZGVyIGFkYXB0ZXJzIHdoaWNoIGRvIG5vdCBleHBlY3QgVVJMIG9iamVjdHMuIFdlIHNob3VsZFxuLy8gY29uc2lkZXIgcmVtb3ZpbmcgdGhpcyBzdXBwb3J0IGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cblxuZnVuY3Rpb24gZXh0ZW5kVVJMV2l0aERlcHJlY2F0ZWRQcm9wZXJ0aWVzKHVybCkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh1cmwsIGRlcHJlY2F0ZWRMb2NhdGlvblByb3BlcnR5RGVzY3JpcHRvcnMpO1xufVxuXG5jb25zdCBkZXByZWNhdGVkTG9jYXRpb25Qcm9wZXJ0eURlc2NyaXB0b3JzID0ge1xuICBhYnNvbHV0ZVVSTDoge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKClcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IHNlc3Npb24gPSBuZXcgU2Vzc2lvbihyZWNlbnRSZXF1ZXN0cyk7XG5jb25zdCB7IGNhY2hlLCBuYXZpZ2F0b3I6IG5hdmlnYXRvciQxIH0gPSBzZXNzaW9uO1xuXG4vKipcbiAqIFN0YXJ0cyB0aGUgbWFpbiBzZXNzaW9uLlxuICogVGhpcyBpbml0aWFsaXNlcyBhbnkgbmVjZXNzYXJ5IG9ic2VydmVycyBzdWNoIGFzIHRob3NlIHRvIG1vbml0b3JcbiAqIGxpbmsgaW50ZXJhY3Rpb25zLlxuICovXG5mdW5jdGlvbiBzdGFydCgpIHtcbiAgc2Vzc2lvbi5zdGFydCgpO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBhbiBhZGFwdGVyIGZvciB0aGUgbWFpbiBzZXNzaW9uLlxuICpcbiAqIEBwYXJhbSBhZGFwdGVyIEFkYXB0ZXIgdG8gcmVnaXN0ZXJcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJBZGFwdGVyKGFkYXB0ZXIpIHtcbiAgc2Vzc2lvbi5yZWdpc3RlckFkYXB0ZXIoYWRhcHRlcik7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYW4gYXBwbGljYXRpb24gdmlzaXQgdG8gdGhlIGdpdmVuIGxvY2F0aW9uLlxuICpcbiAqIEBwYXJhbSBsb2NhdGlvbiBMb2NhdGlvbiB0byB2aXNpdCAoYSBVUkwgb3IgcGF0aClcbiAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgdG8gYXBwbHlcbiAqIEBwYXJhbSBvcHRpb25zLmFjdGlvbiBUeXBlIG9mIGhpc3RvcnkgbmF2aWdhdGlvbiB0byBhcHBseSAoXCJyZXN0b3JlXCIsXG4gKiBcInJlcGxhY2VcIiBvciBcImFkdmFuY2VcIilcbiAqIEBwYXJhbSBvcHRpb25zLmhpc3RvcnlDaGFuZ2VkIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBicm93c2VyIGhpc3RvcnkgaGFzXG4gKiBhbHJlYWR5IGJlZW4gY2hhbmdlZCBmb3IgdGhpcyB2aXNpdCBvciBub3RcbiAqIEBwYXJhbSBvcHRpb25zLnJlZmVycmVyIFNwZWNpZmllcyB0aGUgcmVmZXJyZXIgb2YgdGhpcyB2aXNpdCBzdWNoIHRoYXRcbiAqIG5hdmlnYXRpb25zIHRvIHRoZSBzYW1lIHBhZ2Ugd2lsbCBub3QgcmVzdWx0IGluIGEgbmV3IGhpc3RvcnkgZW50cnkuXG4gKiBAcGFyYW0gb3B0aW9ucy5zbmFwc2hvdEhUTUwgQ2FjaGVkIHNuYXBzaG90IHRvIHJlbmRlclxuICogQHBhcmFtIG9wdGlvbnMucmVzcG9uc2UgUmVzcG9uc2Ugb2YgdGhlIHNwZWNpZmllZCBsb2NhdGlvblxuICovXG5mdW5jdGlvbiB2aXNpdChsb2NhdGlvbiwgb3B0aW9ucykge1xuICBzZXNzaW9uLnZpc2l0KGxvY2F0aW9uLCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBDb25uZWN0cyBhIHN0cmVhbSBzb3VyY2UgdG8gdGhlIG1haW4gc2Vzc2lvbi5cbiAqXG4gKiBAcGFyYW0gc291cmNlIFN0cmVhbSBzb3VyY2UgdG8gY29ubmVjdFxuICovXG5mdW5jdGlvbiBjb25uZWN0U3RyZWFtU291cmNlKHNvdXJjZSkge1xuICBzZXNzaW9uLmNvbm5lY3RTdHJlYW1Tb3VyY2Uoc291cmNlKTtcbn1cblxuLyoqXG4gKiBEaXNjb25uZWN0cyBhIHN0cmVhbSBzb3VyY2UgZnJvbSB0aGUgbWFpbiBzZXNzaW9uLlxuICpcbiAqIEBwYXJhbSBzb3VyY2UgU3RyZWFtIHNvdXJjZSB0byBkaXNjb25uZWN0XG4gKi9cbmZ1bmN0aW9uIGRpc2Nvbm5lY3RTdHJlYW1Tb3VyY2Uoc291cmNlKSB7XG4gIHNlc3Npb24uZGlzY29ubmVjdFN0cmVhbVNvdXJjZShzb3VyY2UpO1xufVxuXG4vKipcbiAqIFJlbmRlcnMgYSBzdHJlYW0gbWVzc2FnZSB0byB0aGUgbWFpbiBzZXNzaW9uIGJ5IGFwcGVuZGluZyBpdCB0byB0aGVcbiAqIGN1cnJlbnQgZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIG1lc3NhZ2UgTWVzc2FnZSB0byByZW5kZXJcbiAqL1xuZnVuY3Rpb24gcmVuZGVyU3RyZWFtTWVzc2FnZShtZXNzYWdlKSB7XG4gIHNlc3Npb24ucmVuZGVyU3RyZWFtTWVzc2FnZShtZXNzYWdlKTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBlbnRyaWVzIGZyb20gdGhlIFR1cmJvIERyaXZlIHBhZ2UgY2FjaGUuXG4gKiBDYWxsIHRoaXMgd2hlbiBzdGF0ZSBoYXMgY2hhbmdlZCBvbiB0aGUgc2VydmVyIHRoYXQgbWF5IGFmZmVjdCBjYWNoZWQgcGFnZXMuXG4gKlxuICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiA3LjIuMCBpbiBmYXZvciBvZiBgVHVyYm8uY2FjaGUuY2xlYXIoKWBcbiAqL1xuZnVuY3Rpb24gY2xlYXJDYWNoZSgpIHtcbiAgY29uc29sZS53YXJuKFxuICAgIFwiUGxlYXNlIHJlcGxhY2UgYFR1cmJvLmNsZWFyQ2FjaGUoKWAgd2l0aCBgVHVyYm8uY2FjaGUuY2xlYXIoKWAuIFRoZSB0b3AtbGV2ZWwgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHZlcnNpb24gb2YgVHVyYm8uYFwiXG4gICk7XG4gIHNlc3Npb24uY2xlYXJDYWNoZSgpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGRlbGF5IGFmdGVyIHdoaWNoIHRoZSBwcm9ncmVzcyBiYXIgd2lsbCBhcHBlYXIgZHVyaW5nIG5hdmlnYXRpb24uXG4gKlxuICogVGhlIHByb2dyZXNzIGJhciBhcHBlYXJzIGFmdGVyIDUwMG1zIGJ5IGRlZmF1bHQuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGhhcyBubyBlZmZlY3Qgd2hlbiB1c2VkIHdpdGggdGhlIGlPUyBvciBBbmRyb2lkXG4gKiBhZGFwdGVycy5cbiAqXG4gKiBAcGFyYW0gZGVsYXkgVGltZSB0byBkZWxheSBpbiBtaWxsaXNlY29uZHNcbiAqL1xuZnVuY3Rpb24gc2V0UHJvZ3Jlc3NCYXJEZWxheShkZWxheSkge1xuICBzZXNzaW9uLnNldFByb2dyZXNzQmFyRGVsYXkoZGVsYXkpO1xufVxuXG5mdW5jdGlvbiBzZXRDb25maXJtTWV0aG9kKGNvbmZpcm1NZXRob2QpIHtcbiAgRm9ybVN1Ym1pc3Npb24uY29uZmlybU1ldGhvZCA9IGNvbmZpcm1NZXRob2Q7XG59XG5cbmZ1bmN0aW9uIHNldEZvcm1Nb2RlKG1vZGUpIHtcbiAgc2Vzc2lvbi5zZXRGb3JtTW9kZShtb2RlKTtcbn1cblxudmFyIFR1cmJvID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIG5hdmlnYXRvcjogbmF2aWdhdG9yJDEsXG4gIHNlc3Npb246IHNlc3Npb24sXG4gIGNhY2hlOiBjYWNoZSxcbiAgUGFnZVJlbmRlcmVyOiBQYWdlUmVuZGVyZXIsXG4gIFBhZ2VTbmFwc2hvdDogUGFnZVNuYXBzaG90LFxuICBGcmFtZVJlbmRlcmVyOiBGcmFtZVJlbmRlcmVyLFxuICBmZXRjaDogZmV0Y2hXaXRoVHVyYm9IZWFkZXJzLFxuICBzdGFydDogc3RhcnQsXG4gIHJlZ2lzdGVyQWRhcHRlcjogcmVnaXN0ZXJBZGFwdGVyLFxuICB2aXNpdDogdmlzaXQsXG4gIGNvbm5lY3RTdHJlYW1Tb3VyY2U6IGNvbm5lY3RTdHJlYW1Tb3VyY2UsXG4gIGRpc2Nvbm5lY3RTdHJlYW1Tb3VyY2U6IGRpc2Nvbm5lY3RTdHJlYW1Tb3VyY2UsXG4gIHJlbmRlclN0cmVhbU1lc3NhZ2U6IHJlbmRlclN0cmVhbU1lc3NhZ2UsXG4gIGNsZWFyQ2FjaGU6IGNsZWFyQ2FjaGUsXG4gIHNldFByb2dyZXNzQmFyRGVsYXk6IHNldFByb2dyZXNzQmFyRGVsYXksXG4gIHNldENvbmZpcm1NZXRob2Q6IHNldENvbmZpcm1NZXRob2QsXG4gIHNldEZvcm1Nb2RlOiBzZXRGb3JtTW9kZVxufSk7XG5cbmNsYXNzIFR1cmJvRnJhbWVNaXNzaW5nRXJyb3IgZXh0ZW5kcyBFcnJvciB7fVxuXG5jbGFzcyBGcmFtZUNvbnRyb2xsZXIge1xuICBmZXRjaFJlc3BvbnNlTG9hZGVkID0gKF9mZXRjaFJlc3BvbnNlKSA9PiBQcm9taXNlLnJlc29sdmUoKVxuICAjY3VycmVudEZldGNoUmVxdWVzdCA9IG51bGxcbiAgI3Jlc29sdmVWaXNpdFByb21pc2UgPSAoKSA9PiB7fVxuICAjY29ubmVjdGVkID0gZmFsc2VcbiAgI2hhc0JlZW5Mb2FkZWQgPSBmYWxzZVxuICAjaWdub3JlZEF0dHJpYnV0ZXMgPSBuZXcgU2V0KClcbiAgYWN0aW9uID0gbnVsbFxuXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMudmlldyA9IG5ldyBGcmFtZVZpZXcodGhpcywgdGhpcy5lbGVtZW50KTtcbiAgICB0aGlzLmFwcGVhcmFuY2VPYnNlcnZlciA9IG5ldyBBcHBlYXJhbmNlT2JzZXJ2ZXIodGhpcywgdGhpcy5lbGVtZW50KTtcbiAgICB0aGlzLmZvcm1MaW5rQ2xpY2tPYnNlcnZlciA9IG5ldyBGb3JtTGlua0NsaWNrT2JzZXJ2ZXIodGhpcywgdGhpcy5lbGVtZW50KTtcbiAgICB0aGlzLmxpbmtJbnRlcmNlcHRvciA9IG5ldyBMaW5rSW50ZXJjZXB0b3IodGhpcywgdGhpcy5lbGVtZW50KTtcbiAgICB0aGlzLnJlc3RvcmF0aW9uSWRlbnRpZmllciA9IHV1aWQoKTtcbiAgICB0aGlzLmZvcm1TdWJtaXRPYnNlcnZlciA9IG5ldyBGb3JtU3VibWl0T2JzZXJ2ZXIodGhpcywgdGhpcy5lbGVtZW50KTtcbiAgfVxuXG4gIC8vIEZyYW1lIGRlbGVnYXRlXG5cbiAgY29ubmVjdCgpIHtcbiAgICBpZiAoIXRoaXMuI2Nvbm5lY3RlZCkge1xuICAgICAgdGhpcy4jY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgIGlmICh0aGlzLmxvYWRpbmdTdHlsZSA9PSBGcmFtZUxvYWRpbmdTdHlsZS5sYXp5KSB7XG4gICAgICAgIHRoaXMuYXBwZWFyYW5jZU9ic2VydmVyLnN0YXJ0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiNsb2FkU291cmNlVVJMKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmZvcm1MaW5rQ2xpY2tPYnNlcnZlci5zdGFydCgpO1xuICAgICAgdGhpcy5saW5rSW50ZXJjZXB0b3Iuc3RhcnQoKTtcbiAgICAgIHRoaXMuZm9ybVN1Ym1pdE9ic2VydmVyLnN0YXJ0KCk7XG4gICAgfVxuICB9XG5cbiAgZGlzY29ubmVjdCgpIHtcbiAgICBpZiAodGhpcy4jY29ubmVjdGVkKSB7XG4gICAgICB0aGlzLiNjb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuYXBwZWFyYW5jZU9ic2VydmVyLnN0b3AoKTtcbiAgICAgIHRoaXMuZm9ybUxpbmtDbGlja09ic2VydmVyLnN0b3AoKTtcbiAgICAgIHRoaXMubGlua0ludGVyY2VwdG9yLnN0b3AoKTtcbiAgICAgIHRoaXMuZm9ybVN1Ym1pdE9ic2VydmVyLnN0b3AoKTtcbiAgICB9XG4gIH1cblxuICBkaXNhYmxlZENoYW5nZWQoKSB7XG4gICAgaWYgKHRoaXMubG9hZGluZ1N0eWxlID09IEZyYW1lTG9hZGluZ1N0eWxlLmVhZ2VyKSB7XG4gICAgICB0aGlzLiNsb2FkU291cmNlVVJMKCk7XG4gICAgfVxuICB9XG5cbiAgc291cmNlVVJMQ2hhbmdlZCgpIHtcbiAgICBpZiAodGhpcy4jaXNJZ25vcmluZ0NoYW5nZXNUbyhcInNyY1wiKSkgcmV0dXJuXG5cbiAgICBpZiAodGhpcy5lbGVtZW50LmlzQ29ubmVjdGVkKSB7XG4gICAgICB0aGlzLmNvbXBsZXRlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubG9hZGluZ1N0eWxlID09IEZyYW1lTG9hZGluZ1N0eWxlLmVhZ2VyIHx8IHRoaXMuI2hhc0JlZW5Mb2FkZWQpIHtcbiAgICAgIHRoaXMuI2xvYWRTb3VyY2VVUkwoKTtcbiAgICB9XG4gIH1cblxuICBzb3VyY2VVUkxSZWxvYWRlZCgpIHtcbiAgICBjb25zdCB7IHNyYyB9ID0gdGhpcy5lbGVtZW50O1xuICAgIHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJjb21wbGV0ZVwiKTtcbiAgICB0aGlzLmVsZW1lbnQuc3JjID0gbnVsbDtcbiAgICB0aGlzLmVsZW1lbnQuc3JjID0gc3JjO1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQubG9hZGVkXG4gIH1cblxuICBsb2FkaW5nU3R5bGVDaGFuZ2VkKCkge1xuICAgIGlmICh0aGlzLmxvYWRpbmdTdHlsZSA9PSBGcmFtZUxvYWRpbmdTdHlsZS5sYXp5KSB7XG4gICAgICB0aGlzLmFwcGVhcmFuY2VPYnNlcnZlci5zdGFydCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFwcGVhcmFuY2VPYnNlcnZlci5zdG9wKCk7XG4gICAgICB0aGlzLiNsb2FkU291cmNlVVJMKCk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgI2xvYWRTb3VyY2VVUkwoKSB7XG4gICAgaWYgKHRoaXMuZW5hYmxlZCAmJiB0aGlzLmlzQWN0aXZlICYmICF0aGlzLmNvbXBsZXRlICYmIHRoaXMuc291cmNlVVJMKSB7XG4gICAgICB0aGlzLmVsZW1lbnQubG9hZGVkID0gdGhpcy4jdmlzaXQoZXhwYW5kVVJMKHRoaXMuc291cmNlVVJMKSk7XG4gICAgICB0aGlzLmFwcGVhcmFuY2VPYnNlcnZlci5zdG9wKCk7XG4gICAgICBhd2FpdCB0aGlzLmVsZW1lbnQubG9hZGVkO1xuICAgICAgdGhpcy4jaGFzQmVlbkxvYWRlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgbG9hZFJlc3BvbnNlKGZldGNoUmVzcG9uc2UpIHtcbiAgICBpZiAoZmV0Y2hSZXNwb25zZS5yZWRpcmVjdGVkIHx8IChmZXRjaFJlc3BvbnNlLnN1Y2NlZWRlZCAmJiBmZXRjaFJlc3BvbnNlLmlzSFRNTCkpIHtcbiAgICAgIHRoaXMuc291cmNlVVJMID0gZmV0Y2hSZXNwb25zZS5yZXNwb25zZS51cmw7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGh0bWwgPSBhd2FpdCBmZXRjaFJlc3BvbnNlLnJlc3BvbnNlSFRNTDtcbiAgICAgIGlmIChodG1sKSB7XG4gICAgICAgIGNvbnN0IGRvY3VtZW50ID0gcGFyc2VIVE1MRG9jdW1lbnQoaHRtbCk7XG4gICAgICAgIGNvbnN0IHBhZ2VTbmFwc2hvdCA9IFBhZ2VTbmFwc2hvdC5mcm9tRG9jdW1lbnQoZG9jdW1lbnQpO1xuXG4gICAgICAgIGlmIChwYWdlU25hcHNob3QuaXNWaXNpdGFibGUpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLiNsb2FkRnJhbWVSZXNwb25zZShmZXRjaFJlc3BvbnNlLCBkb2N1bWVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy4jaGFuZGxlVW52aXNpdGFibGVGcmFtZVJlc3BvbnNlKGZldGNoUmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMuZmV0Y2hSZXNwb25zZUxvYWRlZCA9ICgpID0+IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFwcGVhcmFuY2Ugb2JzZXJ2ZXIgZGVsZWdhdGVcblxuICBlbGVtZW50QXBwZWFyZWRJblZpZXdwb3J0KGVsZW1lbnQpIHtcbiAgICB0aGlzLnByb3Bvc2VWaXNpdElmTmF2aWdhdGVkV2l0aEFjdGlvbihlbGVtZW50LCBnZXRWaXNpdEFjdGlvbihlbGVtZW50KSk7XG4gICAgdGhpcy4jbG9hZFNvdXJjZVVSTCgpO1xuICB9XG5cbiAgLy8gRm9ybSBsaW5rIGNsaWNrIG9ic2VydmVyIGRlbGVnYXRlXG5cbiAgd2lsbFN1Ym1pdEZvcm1MaW5rVG9Mb2NhdGlvbihsaW5rKSB7XG4gICAgcmV0dXJuIHRoaXMuI3Nob3VsZEludGVyY2VwdE5hdmlnYXRpb24obGluaylcbiAgfVxuXG4gIHN1Ym1pdHRlZEZvcm1MaW5rVG9Mb2NhdGlvbihsaW5rLCBfbG9jYXRpb24sIGZvcm0pIHtcbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuI2ZpbmRGcmFtZUVsZW1lbnQobGluayk7XG4gICAgaWYgKGZyYW1lKSBmb3JtLnNldEF0dHJpYnV0ZShcImRhdGEtdHVyYm8tZnJhbWVcIiwgZnJhbWUuaWQpO1xuICB9XG5cbiAgLy8gTGluayBpbnRlcmNlcHRvciBkZWxlZ2F0ZVxuXG4gIHNob3VsZEludGVyY2VwdExpbmtDbGljayhlbGVtZW50LCBfbG9jYXRpb24sIF9ldmVudCkge1xuICAgIHJldHVybiB0aGlzLiNzaG91bGRJbnRlcmNlcHROYXZpZ2F0aW9uKGVsZW1lbnQpXG4gIH1cblxuICBsaW5rQ2xpY2tJbnRlcmNlcHRlZChlbGVtZW50LCBsb2NhdGlvbikge1xuICAgIHRoaXMuI25hdmlnYXRlRnJhbWUoZWxlbWVudCwgbG9jYXRpb24pO1xuICB9XG5cbiAgLy8gRm9ybSBzdWJtaXQgb2JzZXJ2ZXIgZGVsZWdhdGVcblxuICB3aWxsU3VibWl0Rm9ybShlbGVtZW50LCBzdWJtaXR0ZXIpIHtcbiAgICByZXR1cm4gZWxlbWVudC5jbG9zZXN0KFwidHVyYm8tZnJhbWVcIikgPT0gdGhpcy5lbGVtZW50ICYmIHRoaXMuI3Nob3VsZEludGVyY2VwdE5hdmlnYXRpb24oZWxlbWVudCwgc3VibWl0dGVyKVxuICB9XG5cbiAgZm9ybVN1Ym1pdHRlZChlbGVtZW50LCBzdWJtaXR0ZXIpIHtcbiAgICBpZiAodGhpcy5mb3JtU3VibWlzc2lvbikge1xuICAgICAgdGhpcy5mb3JtU3VibWlzc2lvbi5zdG9wKCk7XG4gICAgfVxuXG4gICAgdGhpcy5mb3JtU3VibWlzc2lvbiA9IG5ldyBGb3JtU3VibWlzc2lvbih0aGlzLCBlbGVtZW50LCBzdWJtaXR0ZXIpO1xuICAgIGNvbnN0IHsgZmV0Y2hSZXF1ZXN0IH0gPSB0aGlzLmZvcm1TdWJtaXNzaW9uO1xuICAgIHRoaXMucHJlcGFyZVJlcXVlc3QoZmV0Y2hSZXF1ZXN0KTtcbiAgICB0aGlzLmZvcm1TdWJtaXNzaW9uLnN0YXJ0KCk7XG4gIH1cblxuICAvLyBGZXRjaCByZXF1ZXN0IGRlbGVnYXRlXG5cbiAgcHJlcGFyZVJlcXVlc3QocmVxdWVzdCkge1xuICAgIHJlcXVlc3QuaGVhZGVyc1tcIlR1cmJvLUZyYW1lXCJdID0gdGhpcy5pZDtcblxuICAgIGlmICh0aGlzLmN1cnJlbnROYXZpZ2F0aW9uRWxlbWVudD8uaGFzQXR0cmlidXRlKFwiZGF0YS10dXJiby1zdHJlYW1cIikpIHtcbiAgICAgIHJlcXVlc3QuYWNjZXB0UmVzcG9uc2VUeXBlKFN0cmVhbU1lc3NhZ2UuY29udGVudFR5cGUpO1xuICAgIH1cbiAgfVxuXG4gIHJlcXVlc3RTdGFydGVkKF9yZXF1ZXN0KSB7XG4gICAgbWFya0FzQnVzeSh0aGlzLmVsZW1lbnQpO1xuICB9XG5cbiAgcmVxdWVzdFByZXZlbnRlZEhhbmRsaW5nUmVzcG9uc2UoX3JlcXVlc3QsIF9yZXNwb25zZSkge1xuICAgIHRoaXMuI3Jlc29sdmVWaXNpdFByb21pc2UoKTtcbiAgfVxuXG4gIGFzeW5jIHJlcXVlc3RTdWNjZWVkZWRXaXRoUmVzcG9uc2UocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgICBhd2FpdCB0aGlzLmxvYWRSZXNwb25zZShyZXNwb25zZSk7XG4gICAgdGhpcy4jcmVzb2x2ZVZpc2l0UHJvbWlzZSgpO1xuICB9XG5cbiAgYXN5bmMgcmVxdWVzdEZhaWxlZFdpdGhSZXNwb25zZShyZXF1ZXN0LCByZXNwb25zZSkge1xuICAgIGF3YWl0IHRoaXMubG9hZFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICB0aGlzLiNyZXNvbHZlVmlzaXRQcm9taXNlKCk7XG4gIH1cblxuICByZXF1ZXN0RXJyb3JlZChyZXF1ZXN0LCBlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHRoaXMuI3Jlc29sdmVWaXNpdFByb21pc2UoKTtcbiAgfVxuXG4gIHJlcXVlc3RGaW5pc2hlZChfcmVxdWVzdCkge1xuICAgIGNsZWFyQnVzeVN0YXRlKHRoaXMuZWxlbWVudCk7XG4gIH1cblxuICAvLyBGb3JtIHN1Ym1pc3Npb24gZGVsZWdhdGVcblxuICBmb3JtU3VibWlzc2lvblN0YXJ0ZWQoeyBmb3JtRWxlbWVudCB9KSB7XG4gICAgbWFya0FzQnVzeShmb3JtRWxlbWVudCwgdGhpcy4jZmluZEZyYW1lRWxlbWVudChmb3JtRWxlbWVudCkpO1xuICB9XG5cbiAgZm9ybVN1Ym1pc3Npb25TdWNjZWVkZWRXaXRoUmVzcG9uc2UoZm9ybVN1Ym1pc3Npb24sIHJlc3BvbnNlKSB7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLiNmaW5kRnJhbWVFbGVtZW50KGZvcm1TdWJtaXNzaW9uLmZvcm1FbGVtZW50LCBmb3JtU3VibWlzc2lvbi5zdWJtaXR0ZXIpO1xuXG4gICAgZnJhbWUuZGVsZWdhdGUucHJvcG9zZVZpc2l0SWZOYXZpZ2F0ZWRXaXRoQWN0aW9uKGZyYW1lLCBnZXRWaXNpdEFjdGlvbihmb3JtU3VibWlzc2lvbi5zdWJtaXR0ZXIsIGZvcm1TdWJtaXNzaW9uLmZvcm1FbGVtZW50LCBmcmFtZSkpO1xuICAgIGZyYW1lLmRlbGVnYXRlLmxvYWRSZXNwb25zZShyZXNwb25zZSk7XG5cbiAgICBpZiAoIWZvcm1TdWJtaXNzaW9uLmlzU2FmZSkge1xuICAgICAgc2Vzc2lvbi5jbGVhckNhY2hlKCk7XG4gICAgfVxuICB9XG5cbiAgZm9ybVN1Ym1pc3Npb25GYWlsZWRXaXRoUmVzcG9uc2UoZm9ybVN1Ym1pc3Npb24sIGZldGNoUmVzcG9uc2UpIHtcbiAgICB0aGlzLmVsZW1lbnQuZGVsZWdhdGUubG9hZFJlc3BvbnNlKGZldGNoUmVzcG9uc2UpO1xuICAgIHNlc3Npb24uY2xlYXJDYWNoZSgpO1xuICB9XG5cbiAgZm9ybVN1Ym1pc3Npb25FcnJvcmVkKGZvcm1TdWJtaXNzaW9uLCBlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICB9XG5cbiAgZm9ybVN1Ym1pc3Npb25GaW5pc2hlZCh7IGZvcm1FbGVtZW50IH0pIHtcbiAgICBjbGVhckJ1c3lTdGF0ZShmb3JtRWxlbWVudCwgdGhpcy4jZmluZEZyYW1lRWxlbWVudChmb3JtRWxlbWVudCkpO1xuICB9XG5cbiAgLy8gVmlldyBkZWxlZ2F0ZVxuXG4gIGFsbG93c0ltbWVkaWF0ZVJlbmRlcih7IGVsZW1lbnQ6IG5ld0ZyYW1lIH0sIG9wdGlvbnMpIHtcbiAgICBjb25zdCBldmVudCA9IGRpc3BhdGNoKFwidHVyYm86YmVmb3JlLWZyYW1lLXJlbmRlclwiLCB7XG4gICAgICB0YXJnZXQ6IHRoaXMuZWxlbWVudCxcbiAgICAgIGRldGFpbDogeyBuZXdGcmFtZSwgLi4ub3B0aW9ucyB9LFxuICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIGNvbnN0IHtcbiAgICAgIGRlZmF1bHRQcmV2ZW50ZWQsXG4gICAgICBkZXRhaWw6IHsgcmVuZGVyIH1cbiAgICB9ID0gZXZlbnQ7XG5cbiAgICBpZiAodGhpcy52aWV3LnJlbmRlcmVyICYmIHJlbmRlcikge1xuICAgICAgdGhpcy52aWV3LnJlbmRlcmVyLnJlbmRlckVsZW1lbnQgPSByZW5kZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuICFkZWZhdWx0UHJldmVudGVkXG4gIH1cblxuICB2aWV3UmVuZGVyZWRTbmFwc2hvdChfc25hcHNob3QsIF9pc1ByZXZpZXcsIF9yZW5kZXJNZXRob2QpIHt9XG5cbiAgcHJlbG9hZE9uTG9hZExpbmtzRm9yVmlldyhlbGVtZW50KSB7XG4gICAgc2Vzc2lvbi5wcmVsb2FkT25Mb2FkTGlua3NGb3JWaWV3KGVsZW1lbnQpO1xuICB9XG5cbiAgdmlld0ludmFsaWRhdGVkKCkge31cblxuICAvLyBGcmFtZSByZW5kZXJlciBkZWxlZ2F0ZVxuXG4gIHdpbGxSZW5kZXJGcmFtZShjdXJyZW50RWxlbWVudCwgX25ld0VsZW1lbnQpIHtcbiAgICB0aGlzLnByZXZpb3VzRnJhbWVFbGVtZW50ID0gY3VycmVudEVsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xuICB9XG5cbiAgdmlzaXRDYWNoZWRTbmFwc2hvdCA9ICh7IGVsZW1lbnQgfSkgPT4ge1xuICAgIGNvbnN0IGZyYW1lID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI1wiICsgdGhpcy5lbGVtZW50LmlkKTtcblxuICAgIGlmIChmcmFtZSAmJiB0aGlzLnByZXZpb3VzRnJhbWVFbGVtZW50KSB7XG4gICAgICBmcmFtZS5yZXBsYWNlQ2hpbGRyZW4oLi4udGhpcy5wcmV2aW91c0ZyYW1lRWxlbWVudC5jaGlsZHJlbik7XG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMucHJldmlvdXNGcmFtZUVsZW1lbnQ7XG4gIH1cblxuICAvLyBQcml2YXRlXG5cbiAgYXN5bmMgI2xvYWRGcmFtZVJlc3BvbnNlKGZldGNoUmVzcG9uc2UsIGRvY3VtZW50KSB7XG4gICAgY29uc3QgbmV3RnJhbWVFbGVtZW50ID0gYXdhaXQgdGhpcy5leHRyYWN0Rm9yZWlnbkZyYW1lRWxlbWVudChkb2N1bWVudC5ib2R5KTtcblxuICAgIGlmIChuZXdGcmFtZUVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IHNuYXBzaG90ID0gbmV3IFNuYXBzaG90KG5ld0ZyYW1lRWxlbWVudCk7XG4gICAgICBjb25zdCByZW5kZXJlciA9IG5ldyBGcmFtZVJlbmRlcmVyKHRoaXMsIHRoaXMudmlldy5zbmFwc2hvdCwgc25hcHNob3QsIEZyYW1lUmVuZGVyZXIucmVuZGVyRWxlbWVudCwgZmFsc2UsIGZhbHNlKTtcbiAgICAgIGlmICh0aGlzLnZpZXcucmVuZGVyUHJvbWlzZSkgYXdhaXQgdGhpcy52aWV3LnJlbmRlclByb21pc2U7XG4gICAgICB0aGlzLmNoYW5nZUhpc3RvcnkoKTtcblxuICAgICAgYXdhaXQgdGhpcy52aWV3LnJlbmRlcihyZW5kZXJlcik7XG4gICAgICB0aGlzLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgIHNlc3Npb24uZnJhbWVSZW5kZXJlZChmZXRjaFJlc3BvbnNlLCB0aGlzLmVsZW1lbnQpO1xuICAgICAgc2Vzc2lvbi5mcmFtZUxvYWRlZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgYXdhaXQgdGhpcy5mZXRjaFJlc3BvbnNlTG9hZGVkKGZldGNoUmVzcG9uc2UpO1xuICAgIH0gZWxzZSBpZiAodGhpcy4jd2lsbEhhbmRsZUZyYW1lTWlzc2luZ0Zyb21SZXNwb25zZShmZXRjaFJlc3BvbnNlKSkge1xuICAgICAgdGhpcy4jaGFuZGxlRnJhbWVNaXNzaW5nRnJvbVJlc3BvbnNlKGZldGNoUmVzcG9uc2UpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jICN2aXNpdCh1cmwpIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gbmV3IEZldGNoUmVxdWVzdCh0aGlzLCBGZXRjaE1ldGhvZC5nZXQsIHVybCwgbmV3IFVSTFNlYXJjaFBhcmFtcygpLCB0aGlzLmVsZW1lbnQpO1xuXG4gICAgdGhpcy4jY3VycmVudEZldGNoUmVxdWVzdD8uY2FuY2VsKCk7XG4gICAgdGhpcy4jY3VycmVudEZldGNoUmVxdWVzdCA9IHJlcXVlc3Q7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuI3Jlc29sdmVWaXNpdFByb21pc2UgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuI3Jlc29sdmVWaXNpdFByb21pc2UgPSAoKSA9PiB7fTtcbiAgICAgICAgdGhpcy4jY3VycmVudEZldGNoUmVxdWVzdCA9IG51bGw7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH07XG4gICAgICByZXF1ZXN0LnBlcmZvcm0oKTtcbiAgICB9KVxuICB9XG5cbiAgI25hdmlnYXRlRnJhbWUoZWxlbWVudCwgdXJsLCBzdWJtaXR0ZXIpIHtcbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuI2ZpbmRGcmFtZUVsZW1lbnQoZWxlbWVudCwgc3VibWl0dGVyKTtcblxuICAgIGZyYW1lLmRlbGVnYXRlLnByb3Bvc2VWaXNpdElmTmF2aWdhdGVkV2l0aEFjdGlvbihmcmFtZSwgZ2V0VmlzaXRBY3Rpb24oc3VibWl0dGVyLCBlbGVtZW50LCBmcmFtZSkpO1xuXG4gICAgdGhpcy4jd2l0aEN1cnJlbnROYXZpZ2F0aW9uRWxlbWVudChlbGVtZW50LCAoKSA9PiB7XG4gICAgICBmcmFtZS5zcmMgPSB1cmw7XG4gICAgfSk7XG4gIH1cblxuICBwcm9wb3NlVmlzaXRJZk5hdmlnYXRlZFdpdGhBY3Rpb24oZnJhbWUsIGFjdGlvbiA9IG51bGwpIHtcbiAgICB0aGlzLmFjdGlvbiA9IGFjdGlvbjtcblxuICAgIGlmICh0aGlzLmFjdGlvbikge1xuICAgICAgY29uc3QgcGFnZVNuYXBzaG90ID0gUGFnZVNuYXBzaG90LmZyb21FbGVtZW50KGZyYW1lKS5jbG9uZSgpO1xuICAgICAgY29uc3QgeyB2aXNpdENhY2hlZFNuYXBzaG90IH0gPSBmcmFtZS5kZWxlZ2F0ZTtcblxuICAgICAgZnJhbWUuZGVsZWdhdGUuZmV0Y2hSZXNwb25zZUxvYWRlZCA9IGFzeW5jIChmZXRjaFJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmIChmcmFtZS5zcmMpIHtcbiAgICAgICAgICBjb25zdCB7IHN0YXR1c0NvZGUsIHJlZGlyZWN0ZWQgfSA9IGZldGNoUmVzcG9uc2U7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2VIVE1MID0gYXdhaXQgZmV0Y2hSZXNwb25zZS5yZXNwb25zZUhUTUw7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7IHN0YXR1c0NvZGUsIHJlZGlyZWN0ZWQsIHJlc3BvbnNlSFRNTCB9O1xuICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHZpc2l0Q2FjaGVkU25hcHNob3QsXG4gICAgICAgICAgICB3aWxsUmVuZGVyOiBmYWxzZSxcbiAgICAgICAgICAgIHVwZGF0ZUhpc3Rvcnk6IGZhbHNlLFxuICAgICAgICAgICAgcmVzdG9yYXRpb25JZGVudGlmaWVyOiB0aGlzLnJlc3RvcmF0aW9uSWRlbnRpZmllcixcbiAgICAgICAgICAgIHNuYXBzaG90OiBwYWdlU25hcHNob3RcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKHRoaXMuYWN0aW9uKSBvcHRpb25zLmFjdGlvbiA9IHRoaXMuYWN0aW9uO1xuXG4gICAgICAgICAgc2Vzc2lvbi52aXNpdChmcmFtZS5zcmMsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGNoYW5nZUhpc3RvcnkoKSB7XG4gICAgaWYgKHRoaXMuYWN0aW9uKSB7XG4gICAgICBjb25zdCBtZXRob2QgPSBnZXRIaXN0b3J5TWV0aG9kRm9yQWN0aW9uKHRoaXMuYWN0aW9uKTtcbiAgICAgIHNlc3Npb24uaGlzdG9yeS51cGRhdGUobWV0aG9kLCBleHBhbmRVUkwodGhpcy5lbGVtZW50LnNyYyB8fCBcIlwiKSwgdGhpcy5yZXN0b3JhdGlvbklkZW50aWZpZXIpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jICNoYW5kbGVVbnZpc2l0YWJsZUZyYW1lUmVzcG9uc2UoZmV0Y2hSZXNwb25zZSkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBUaGUgcmVzcG9uc2UgKCR7ZmV0Y2hSZXNwb25zZS5zdGF0dXNDb2RlfSkgZnJvbSA8dHVyYm8tZnJhbWUgaWQ9XCIke3RoaXMuZWxlbWVudC5pZH1cIj4gaXMgcGVyZm9ybWluZyBhIGZ1bGwgcGFnZSB2aXNpdCBkdWUgdG8gdHVyYm8tdmlzaXQtY29udHJvbC5gXG4gICAgKTtcblxuICAgIGF3YWl0IHRoaXMuI3Zpc2l0UmVzcG9uc2UoZmV0Y2hSZXNwb25zZS5yZXNwb25zZSk7XG4gIH1cblxuICAjd2lsbEhhbmRsZUZyYW1lTWlzc2luZ0Zyb21SZXNwb25zZShmZXRjaFJlc3BvbnNlKSB7XG4gICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShcImNvbXBsZXRlXCIsIFwiXCIpO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBmZXRjaFJlc3BvbnNlLnJlc3BvbnNlO1xuICAgIGNvbnN0IHZpc2l0ID0gYXN5bmMgKHVybCwgb3B0aW9ucykgPT4ge1xuICAgICAgaWYgKHVybCBpbnN0YW5jZW9mIFJlc3BvbnNlKSB7XG4gICAgICAgIHRoaXMuI3Zpc2l0UmVzcG9uc2UodXJsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlc3Npb24udmlzaXQodXJsLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZXZlbnQgPSBkaXNwYXRjaChcInR1cmJvOmZyYW1lLW1pc3NpbmdcIiwge1xuICAgICAgdGFyZ2V0OiB0aGlzLmVsZW1lbnQsXG4gICAgICBkZXRhaWw6IHsgcmVzcG9uc2UsIHZpc2l0IH0sXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgfSk7XG5cbiAgICByZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWRcbiAgfVxuXG4gICNoYW5kbGVGcmFtZU1pc3NpbmdGcm9tUmVzcG9uc2UoZmV0Y2hSZXNwb25zZSkge1xuICAgIHRoaXMudmlldy5taXNzaW5nKCk7XG4gICAgdGhpcy4jdGhyb3dGcmFtZU1pc3NpbmdFcnJvcihmZXRjaFJlc3BvbnNlKTtcbiAgfVxuXG4gICN0aHJvd0ZyYW1lTWlzc2luZ0Vycm9yKGZldGNoUmVzcG9uc2UpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gYFRoZSByZXNwb25zZSAoJHtmZXRjaFJlc3BvbnNlLnN0YXR1c0NvZGV9KSBkaWQgbm90IGNvbnRhaW4gdGhlIGV4cGVjdGVkIDx0dXJiby1mcmFtZSBpZD1cIiR7dGhpcy5lbGVtZW50LmlkfVwiPiBhbmQgd2lsbCBiZSBpZ25vcmVkLiBUbyBwZXJmb3JtIGEgZnVsbCBwYWdlIHZpc2l0IGluc3RlYWQsIHNldCB0dXJiby12aXNpdC1jb250cm9sIHRvIHJlbG9hZC5gO1xuICAgIHRocm93IG5ldyBUdXJib0ZyYW1lTWlzc2luZ0Vycm9yKG1lc3NhZ2UpXG4gIH1cblxuICBhc3luYyAjdmlzaXRSZXNwb25zZShyZXNwb25zZSkge1xuICAgIGNvbnN0IHdyYXBwZWQgPSBuZXcgRmV0Y2hSZXNwb25zZShyZXNwb25zZSk7XG4gICAgY29uc3QgcmVzcG9uc2VIVE1MID0gYXdhaXQgd3JhcHBlZC5yZXNwb25zZUhUTUw7XG4gICAgY29uc3QgeyBsb2NhdGlvbiwgcmVkaXJlY3RlZCwgc3RhdHVzQ29kZSB9ID0gd3JhcHBlZDtcblxuICAgIHJldHVybiBzZXNzaW9uLnZpc2l0KGxvY2F0aW9uLCB7IHJlc3BvbnNlOiB7IHJlZGlyZWN0ZWQsIHN0YXR1c0NvZGUsIHJlc3BvbnNlSFRNTCB9IH0pXG4gIH1cblxuICAjZmluZEZyYW1lRWxlbWVudChlbGVtZW50LCBzdWJtaXR0ZXIpIHtcbiAgICBjb25zdCBpZCA9IGdldEF0dHJpYnV0ZShcImRhdGEtdHVyYm8tZnJhbWVcIiwgc3VibWl0dGVyLCBlbGVtZW50KSB8fCB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidGFyZ2V0XCIpO1xuICAgIHJldHVybiBnZXRGcmFtZUVsZW1lbnRCeUlkKGlkKSA/PyB0aGlzLmVsZW1lbnRcbiAgfVxuXG4gIGFzeW5jIGV4dHJhY3RGb3JlaWduRnJhbWVFbGVtZW50KGNvbnRhaW5lcikge1xuICAgIGxldCBlbGVtZW50O1xuICAgIGNvbnN0IGlkID0gQ1NTLmVzY2FwZSh0aGlzLmlkKTtcblxuICAgIHRyeSB7XG4gICAgICBlbGVtZW50ID0gYWN0aXZhdGVFbGVtZW50KGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGB0dXJiby1mcmFtZSMke2lkfWApLCB0aGlzLnNvdXJjZVVSTCk7XG4gICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudFxuICAgICAgfVxuXG4gICAgICBlbGVtZW50ID0gYWN0aXZhdGVFbGVtZW50KGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGB0dXJiby1mcmFtZVtzcmNdW3JlY3Vyc2V+PSR7aWR9XWApLCB0aGlzLnNvdXJjZVVSTCk7XG4gICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICBhd2FpdCBlbGVtZW50LmxvYWRlZDtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZXh0cmFjdEZvcmVpZ25GcmFtZUVsZW1lbnQoZWxlbWVudClcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICByZXR1cm4gbmV3IEZyYW1lRWxlbWVudCgpXG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gICNmb3JtQWN0aW9uSXNWaXNpdGFibGUoZm9ybSwgc3VibWl0dGVyKSB7XG4gICAgY29uc3QgYWN0aW9uID0gZ2V0QWN0aW9uJDEoZm9ybSwgc3VibWl0dGVyKTtcblxuICAgIHJldHVybiBsb2NhdGlvbklzVmlzaXRhYmxlKGV4cGFuZFVSTChhY3Rpb24pLCB0aGlzLnJvb3RMb2NhdGlvbilcbiAgfVxuXG4gICNzaG91bGRJbnRlcmNlcHROYXZpZ2F0aW9uKGVsZW1lbnQsIHN1Ym1pdHRlcikge1xuICAgIGNvbnN0IGlkID0gZ2V0QXR0cmlidXRlKFwiZGF0YS10dXJiby1mcmFtZVwiLCBzdWJtaXR0ZXIsIGVsZW1lbnQpIHx8IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIik7XG5cbiAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxGb3JtRWxlbWVudCAmJiAhdGhpcy4jZm9ybUFjdGlvbklzVmlzaXRhYmxlKGVsZW1lbnQsIHN1Ym1pdHRlcikpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmICghdGhpcy5lbmFibGVkIHx8IGlkID09IFwiX3RvcFwiKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoaWQpIHtcbiAgICAgIGNvbnN0IGZyYW1lRWxlbWVudCA9IGdldEZyYW1lRWxlbWVudEJ5SWQoaWQpO1xuICAgICAgaWYgKGZyYW1lRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gIWZyYW1lRWxlbWVudC5kaXNhYmxlZFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghc2Vzc2lvbi5lbGVtZW50SXNOYXZpZ2F0YWJsZShlbGVtZW50KSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKHN1Ym1pdHRlciAmJiAhc2Vzc2lvbi5lbGVtZW50SXNOYXZpZ2F0YWJsZShzdWJtaXR0ZXIpKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gQ29tcHV0ZWQgcHJvcGVydGllc1xuXG4gIGdldCBpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50LmlkXG4gIH1cblxuICBnZXQgZW5hYmxlZCgpIHtcbiAgICByZXR1cm4gIXRoaXMuZWxlbWVudC5kaXNhYmxlZFxuICB9XG5cbiAgZ2V0IHNvdXJjZVVSTCgpIHtcbiAgICBpZiAodGhpcy5lbGVtZW50LnNyYykge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5zcmNcbiAgICB9XG4gIH1cblxuICBzZXQgc291cmNlVVJMKHNvdXJjZVVSTCkge1xuICAgIHRoaXMuI2lnbm9yaW5nQ2hhbmdlc1RvQXR0cmlidXRlKFwic3JjXCIsICgpID0+IHtcbiAgICAgIHRoaXMuZWxlbWVudC5zcmMgPSBzb3VyY2VVUkwgPz8gbnVsbDtcbiAgICB9KTtcbiAgfVxuXG4gIGdldCBsb2FkaW5nU3R5bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC5sb2FkaW5nXG4gIH1cblxuICBnZXQgaXNMb2FkaW5nKCkge1xuICAgIHJldHVybiB0aGlzLmZvcm1TdWJtaXNzaW9uICE9PSB1bmRlZmluZWQgfHwgdGhpcy4jcmVzb2x2ZVZpc2l0UHJvbWlzZSgpICE9PSB1bmRlZmluZWRcbiAgfVxuXG4gIGdldCBjb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50Lmhhc0F0dHJpYnV0ZShcImNvbXBsZXRlXCIpXG4gIH1cblxuICBzZXQgY29tcGxldGUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjb21wbGV0ZVwiLCBcIlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImNvbXBsZXRlXCIpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBpc0FjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50LmlzQWN0aXZlICYmIHRoaXMuI2Nvbm5lY3RlZFxuICB9XG5cbiAgZ2V0IHJvb3RMb2NhdGlvbigpIHtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihgbWV0YVtuYW1lPVwidHVyYm8tcm9vdFwiXWApO1xuICAgIGNvbnN0IHJvb3QgPSBtZXRhPy5jb250ZW50ID8/IFwiL1wiO1xuICAgIHJldHVybiBleHBhbmRVUkwocm9vdClcbiAgfVxuXG4gICNpc0lnbm9yaW5nQ2hhbmdlc1RvKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy4jaWdub3JlZEF0dHJpYnV0ZXMuaGFzKGF0dHJpYnV0ZU5hbWUpXG4gIH1cblxuICAjaWdub3JpbmdDaGFuZ2VzVG9BdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLiNpZ25vcmVkQXR0cmlidXRlcy5hZGQoYXR0cmlidXRlTmFtZSk7XG4gICAgY2FsbGJhY2soKTtcbiAgICB0aGlzLiNpZ25vcmVkQXR0cmlidXRlcy5kZWxldGUoYXR0cmlidXRlTmFtZSk7XG4gIH1cblxuICAjd2l0aEN1cnJlbnROYXZpZ2F0aW9uRWxlbWVudChlbGVtZW50LCBjYWxsYmFjaykge1xuICAgIHRoaXMuY3VycmVudE5hdmlnYXRpb25FbGVtZW50ID0gZWxlbWVudDtcbiAgICBjYWxsYmFjaygpO1xuICAgIGRlbGV0ZSB0aGlzLmN1cnJlbnROYXZpZ2F0aW9uRWxlbWVudDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRGcmFtZUVsZW1lbnRCeUlkKGlkKSB7XG4gIGlmIChpZCAhPSBudWxsKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEZyYW1lRWxlbWVudCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnRcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYWN0aXZhdGVFbGVtZW50KGVsZW1lbnQsIGN1cnJlbnRVUkwpIHtcbiAgaWYgKGVsZW1lbnQpIHtcbiAgICBjb25zdCBzcmMgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcInNyY1wiKTtcbiAgICBpZiAoc3JjICE9IG51bGwgJiYgY3VycmVudFVSTCAhPSBudWxsICYmIHVybHNBcmVFcXVhbChzcmMsIGN1cnJlbnRVUkwpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE1hdGNoaW5nIDx0dXJiby1mcmFtZSBpZD1cIiR7ZWxlbWVudC5pZH1cIj4gZWxlbWVudCBoYXMgYSBzb3VyY2UgVVJMIHdoaWNoIHJlZmVyZW5jZXMgaXRzZWxmYClcbiAgICB9XG4gICAgaWYgKGVsZW1lbnQub3duZXJEb2N1bWVudCAhPT0gZG9jdW1lbnQpIHtcbiAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5pbXBvcnROb2RlKGVsZW1lbnQsIHRydWUpO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgRnJhbWVFbGVtZW50KSB7XG4gICAgICBlbGVtZW50LmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICBlbGVtZW50LmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICByZXR1cm4gZWxlbWVudFxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBTdHJlYW1BY3Rpb25zID0ge1xuICBhZnRlcigpIHtcbiAgICB0aGlzLnRhcmdldEVsZW1lbnRzLmZvckVhY2goKGUpID0+IGUucGFyZW50RWxlbWVudD8uaW5zZXJ0QmVmb3JlKHRoaXMudGVtcGxhdGVDb250ZW50LCBlLm5leHRTaWJsaW5nKSk7XG4gIH0sXG5cbiAgYXBwZW5kKCkge1xuICAgIHRoaXMucmVtb3ZlRHVwbGljYXRlVGFyZ2V0Q2hpbGRyZW4oKTtcbiAgICB0aGlzLnRhcmdldEVsZW1lbnRzLmZvckVhY2goKGUpID0+IGUuYXBwZW5kKHRoaXMudGVtcGxhdGVDb250ZW50KSk7XG4gIH0sXG5cbiAgYmVmb3JlKCkge1xuICAgIHRoaXMudGFyZ2V0RWxlbWVudHMuZm9yRWFjaCgoZSkgPT4gZS5wYXJlbnRFbGVtZW50Py5pbnNlcnRCZWZvcmUodGhpcy50ZW1wbGF0ZUNvbnRlbnQsIGUpKTtcbiAgfSxcblxuICBwcmVwZW5kKCkge1xuICAgIHRoaXMucmVtb3ZlRHVwbGljYXRlVGFyZ2V0Q2hpbGRyZW4oKTtcbiAgICB0aGlzLnRhcmdldEVsZW1lbnRzLmZvckVhY2goKGUpID0+IGUucHJlcGVuZCh0aGlzLnRlbXBsYXRlQ29udGVudCkpO1xuICB9LFxuXG4gIHJlbW92ZSgpIHtcbiAgICB0aGlzLnRhcmdldEVsZW1lbnRzLmZvckVhY2goKGUpID0+IGUucmVtb3ZlKCkpO1xuICB9LFxuXG4gIHJlcGxhY2UoKSB7XG4gICAgdGhpcy50YXJnZXRFbGVtZW50cy5mb3JFYWNoKChlKSA9PiBlLnJlcGxhY2VXaXRoKHRoaXMudGVtcGxhdGVDb250ZW50KSk7XG4gIH0sXG5cbiAgdXBkYXRlKCkge1xuICAgIHRoaXMudGFyZ2V0RWxlbWVudHMuZm9yRWFjaCgodGFyZ2V0RWxlbWVudCkgPT4ge1xuICAgICAgdGFyZ2V0RWxlbWVudC5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgdGFyZ2V0RWxlbWVudC5hcHBlbmQodGhpcy50ZW1wbGF0ZUNvbnRlbnQpO1xuICAgIH0pO1xuICB9LFxuXG4gIHJlZnJlc2goKSB7XG4gICAgc2Vzc2lvbi5yZWZyZXNoKHRoaXMuYmFzZVVSSSwgdGhpcy5yZXF1ZXN0SWQpO1xuICB9XG59O1xuXG4vLyA8dHVyYm8tc3RyZWFtIGFjdGlvbj1yZXBsYWNlIHRhcmdldD1pZD48dGVtcGxhdGU+Li4uXG5cbi8qKlxuICogUmVuZGVycyB1cGRhdGVzIHRvIHRoZSBwYWdlIGZyb20gYSBzdHJlYW0gb2YgbWVzc2FnZXMuXG4gKlxuICogVXNpbmcgdGhlIGBhY3Rpb25gIGF0dHJpYnV0ZSwgdGhpcyBjYW4gYmUgY29uZmlndXJlZCBvbmUgb2YgZm91ciB3YXlzOlxuICpcbiAqIC0gYGFwcGVuZGAgLSBhcHBlbmRzIHRoZSByZXN1bHQgdG8gdGhlIGNvbnRhaW5lclxuICogLSBgcHJlcGVuZGAgLSBwcmVwZW5kcyB0aGUgcmVzdWx0IHRvIHRoZSBjb250YWluZXJcbiAqIC0gYHJlcGxhY2VgIC0gcmVwbGFjZXMgdGhlIGNvbnRlbnRzIG9mIHRoZSBjb250YWluZXJcbiAqIC0gYHJlbW92ZWAgLSByZW1vdmVzIHRoZSBjb250YWluZXJcbiAqIC0gYGJlZm9yZWAgLSBpbnNlcnRzIHRoZSByZXN1bHQgYmVmb3JlIHRoZSB0YXJnZXRcbiAqIC0gYGFmdGVyYCAtIGluc2VydHMgdGhlIHJlc3VsdCBhZnRlciB0aGUgdGFyZ2V0XG4gKlxuICogQGN1c3RvbUVsZW1lbnQgdHVyYm8tc3RyZWFtXG4gKiBAZXhhbXBsZVxuICogICA8dHVyYm8tc3RyZWFtIGFjdGlvbj1cImFwcGVuZFwiIHRhcmdldD1cImRvbV9pZFwiPlxuICogICAgIDx0ZW1wbGF0ZT5cbiAqICAgICAgIENvbnRlbnQgdG8gYXBwZW5kIHRvIGNvbnRhaW5lciBkZXNpZ25hdGVkIHdpdGggdGhlIGRvbV9pZC5cbiAqICAgICA8L3RlbXBsYXRlPlxuICogICA8L3R1cmJvLXN0cmVhbT5cbiAqL1xuY2xhc3MgU3RyZWFtRWxlbWVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgc3RhdGljIGFzeW5jIHJlbmRlckVsZW1lbnQobmV3RWxlbWVudCkge1xuICAgIGF3YWl0IG5ld0VsZW1lbnQucGVyZm9ybUFjdGlvbigpO1xuICB9XG5cbiAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMucmVuZGVyKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyByZW5kZXIoKSB7XG4gICAgcmV0dXJuICh0aGlzLnJlbmRlclByb21pc2UgPz89IChhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBldmVudCA9IHRoaXMuYmVmb3JlUmVuZGVyRXZlbnQ7XG5cbiAgICAgIGlmICh0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpKSB7XG4gICAgICAgIGF3YWl0IG5leHRSZXBhaW50KCk7XG4gICAgICAgIGF3YWl0IGV2ZW50LmRldGFpbC5yZW5kZXIodGhpcyk7XG4gICAgICB9XG4gICAgfSkoKSlcbiAgfVxuXG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMucmVtb3ZlKCk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcbiAgICB9IGNhdGNoIHt9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBkdXBsaWNhdGUgY2hpbGRyZW4gKGJ5IElEKVxuICAgKi9cbiAgcmVtb3ZlRHVwbGljYXRlVGFyZ2V0Q2hpbGRyZW4oKSB7XG4gICAgdGhpcy5kdXBsaWNhdGVDaGlsZHJlbi5mb3JFYWNoKChjKSA9PiBjLnJlbW92ZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBsaXN0IG9mIGR1cGxpY2F0ZSBjaGlsZHJlbiAoaS5lLiB0aG9zZSB3aXRoIHRoZSBzYW1lIElEKVxuICAgKi9cbiAgZ2V0IGR1cGxpY2F0ZUNoaWxkcmVuKCkge1xuICAgIGNvbnN0IGV4aXN0aW5nQ2hpbGRyZW4gPSB0aGlzLnRhcmdldEVsZW1lbnRzLmZsYXRNYXAoKGUpID0+IFsuLi5lLmNoaWxkcmVuXSkuZmlsdGVyKChjKSA9PiAhIWMuaWQpO1xuICAgIGNvbnN0IG5ld0NoaWxkcmVuSWRzID0gWy4uLih0aGlzLnRlbXBsYXRlQ29udGVudD8uY2hpbGRyZW4gfHwgW10pXS5maWx0ZXIoKGMpID0+ICEhYy5pZCkubWFwKChjKSA9PiBjLmlkKTtcblxuICAgIHJldHVybiBleGlzdGluZ0NoaWxkcmVuLmZpbHRlcigoYykgPT4gbmV3Q2hpbGRyZW5JZHMuaW5jbHVkZXMoYy5pZCkpXG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgYWN0aW9uIGZ1bmN0aW9uIHRvIGJlIHBlcmZvcm1lZC5cbiAgICovXG4gIGdldCBwZXJmb3JtQWN0aW9uKCkge1xuICAgIGlmICh0aGlzLmFjdGlvbikge1xuICAgICAgY29uc3QgYWN0aW9uRnVuY3Rpb24gPSBTdHJlYW1BY3Rpb25zW3RoaXMuYWN0aW9uXTtcbiAgICAgIGlmIChhY3Rpb25GdW5jdGlvbikge1xuICAgICAgICByZXR1cm4gYWN0aW9uRnVuY3Rpb25cbiAgICAgIH1cbiAgICAgIHRoaXMuI3JhaXNlKFwidW5rbm93biBhY3Rpb25cIik7XG4gICAgfVxuICAgIHRoaXMuI3JhaXNlKFwiYWN0aW9uIGF0dHJpYnV0ZSBpcyBtaXNzaW5nXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHRhcmdldCBlbGVtZW50cyB3aGljaCB0aGUgdGVtcGxhdGUgd2lsbCBiZSByZW5kZXJlZCB0by5cbiAgICovXG4gIGdldCB0YXJnZXRFbGVtZW50cygpIHtcbiAgICBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRhcmdldEVsZW1lbnRzQnlJZFxuICAgIH0gZWxzZSBpZiAodGhpcy50YXJnZXRzKSB7XG4gICAgICByZXR1cm4gdGhpcy50YXJnZXRFbGVtZW50c0J5UXVlcnlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4jcmFpc2UoXCJ0YXJnZXQgb3IgdGFyZ2V0cyBhdHRyaWJ1dGUgaXMgbWlzc2luZ1wiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgY29udGVudHMgb2YgdGhlIG1haW4gYDx0ZW1wbGF0ZT5gLlxuICAgKi9cbiAgZ2V0IHRlbXBsYXRlQ29udGVudCgpIHtcbiAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZUVsZW1lbnQuY29udGVudC5jbG9uZU5vZGUodHJ1ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBtYWluIGA8dGVtcGxhdGU+YCB1c2VkIGZvciByZW5kZXJpbmdcbiAgICovXG4gIGdldCB0ZW1wbGF0ZUVsZW1lbnQoKSB7XG4gICAgaWYgKHRoaXMuZmlyc3RFbGVtZW50Q2hpbGQgPT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbiAgICAgIHRoaXMuYXBwZW5kQ2hpbGQodGVtcGxhdGUpO1xuICAgICAgcmV0dXJuIHRlbXBsYXRlXG4gICAgfSBlbHNlIGlmICh0aGlzLmZpcnN0RWxlbWVudENoaWxkIGluc3RhbmNlb2YgSFRNTFRlbXBsYXRlRWxlbWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlyc3RFbGVtZW50Q2hpbGRcbiAgICB9XG4gICAgdGhpcy4jcmFpc2UoXCJmaXJzdCBjaGlsZCBlbGVtZW50IG11c3QgYmUgYSA8dGVtcGxhdGU+IGVsZW1lbnRcIik7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgY3VycmVudCBhY3Rpb24uXG4gICAqL1xuICBnZXQgYWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcImFjdGlvblwiKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgdGFyZ2V0IChhbiBlbGVtZW50IElEKSB0byB3aGljaCB0aGUgcmVzdWx0IHdpbGxcbiAgICogYmUgcmVuZGVyZWQuXG4gICAqL1xuICBnZXQgdGFyZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcInRhcmdldFwiKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgXCJ0YXJnZXRzXCIgc2VsZWN0b3IgKGEgQ1NTIHNlbGVjdG9yKVxuICAgKi9cbiAgZ2V0IHRhcmdldHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwidGFyZ2V0c1wiKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlYWRzIHRoZSByZXF1ZXN0LWlkIGF0dHJpYnV0ZVxuICAgKi9cbiAgZ2V0IHJlcXVlc3RJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJyZXF1ZXN0LWlkXCIpXG4gIH1cblxuICAjcmFpc2UobWVzc2FnZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgJHt0aGlzLmRlc2NyaXB0aW9ufTogJHttZXNzYWdlfWApXG4gIH1cblxuICBnZXQgZGVzY3JpcHRpb24oKSB7XG4gICAgcmV0dXJuICh0aGlzLm91dGVySFRNTC5tYXRjaCgvPFtePl0rPi8pID8/IFtdKVswXSA/PyBcIjx0dXJiby1zdHJlYW0+XCJcbiAgfVxuXG4gIGdldCBiZWZvcmVSZW5kZXJFdmVudCgpIHtcbiAgICByZXR1cm4gbmV3IEN1c3RvbUV2ZW50KFwidHVyYm86YmVmb3JlLXN0cmVhbS1yZW5kZXJcIiwge1xuICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICBkZXRhaWw6IHsgbmV3U3RyZWFtOiB0aGlzLCByZW5kZXI6IFN0cmVhbUVsZW1lbnQucmVuZGVyRWxlbWVudCB9XG4gICAgfSlcbiAgfVxuXG4gIGdldCB0YXJnZXRFbGVtZW50c0J5SWQoKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMub3duZXJEb2N1bWVudD8uZ2V0RWxlbWVudEJ5SWQodGhpcy50YXJnZXQpO1xuXG4gICAgaWYgKGVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiBbZWxlbWVudF1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICB9XG5cbiAgZ2V0IHRhcmdldEVsZW1lbnRzQnlRdWVyeSgpIHtcbiAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMub3duZXJEb2N1bWVudD8ucXVlcnlTZWxlY3RvckFsbCh0aGlzLnRhcmdldHMpO1xuXG4gICAgaWYgKGVsZW1lbnRzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGVsZW1lbnRzKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgU3RyZWFtU291cmNlRWxlbWVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgc3RyZWFtU291cmNlID0gbnVsbFxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuc3RyZWFtU291cmNlID0gdGhpcy5zcmMubWF0Y2goL153c3sxLDJ9Oi8pID8gbmV3IFdlYlNvY2tldCh0aGlzLnNyYykgOiBuZXcgRXZlbnRTb3VyY2UodGhpcy5zcmMpO1xuXG4gICAgY29ubmVjdFN0cmVhbVNvdXJjZSh0aGlzLnN0cmVhbVNvdXJjZSk7XG4gIH1cblxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBpZiAodGhpcy5zdHJlYW1Tb3VyY2UpIHtcbiAgICAgIHRoaXMuc3RyZWFtU291cmNlLmNsb3NlKCk7XG5cbiAgICAgIGRpc2Nvbm5lY3RTdHJlYW1Tb3VyY2UodGhpcy5zdHJlYW1Tb3VyY2UpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBzcmMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwic3JjXCIpIHx8IFwiXCJcbiAgfVxufVxuXG5GcmFtZUVsZW1lbnQuZGVsZWdhdGVDb25zdHJ1Y3RvciA9IEZyYW1lQ29udHJvbGxlcjtcblxuaWYgKGN1c3RvbUVsZW1lbnRzLmdldChcInR1cmJvLWZyYW1lXCIpID09PSB1bmRlZmluZWQpIHtcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwidHVyYm8tZnJhbWVcIiwgRnJhbWVFbGVtZW50KTtcbn1cblxuaWYgKGN1c3RvbUVsZW1lbnRzLmdldChcInR1cmJvLXN0cmVhbVwiKSA9PT0gdW5kZWZpbmVkKSB7XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZShcInR1cmJvLXN0cmVhbVwiLCBTdHJlYW1FbGVtZW50KTtcbn1cblxuaWYgKGN1c3RvbUVsZW1lbnRzLmdldChcInR1cmJvLXN0cmVhbS1zb3VyY2VcIikgPT09IHVuZGVmaW5lZCkge1xuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoXCJ0dXJiby1zdHJlYW0tc291cmNlXCIsIFN0cmVhbVNvdXJjZUVsZW1lbnQpO1xufVxuXG4oKCkgPT4ge1xuICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQ7XG4gIGlmICghZWxlbWVudCkgcmV0dXJuXG4gIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZShcImRhdGEtdHVyYm8tc3VwcHJlc3Mtd2FybmluZ1wiKSkgcmV0dXJuXG5cbiAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudCA9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICByZXR1cm4gY29uc29sZS53YXJuKFxuICAgICAgICB1bmluZGVudGBcbiAgICAgICAgWW91IGFyZSBsb2FkaW5nIFR1cmJvIGZyb20gYSA8c2NyaXB0PiBlbGVtZW50IGluc2lkZSB0aGUgPGJvZHk+IGVsZW1lbnQuIFRoaXMgaXMgcHJvYmFibHkgbm90IHdoYXQgeW91IG1lYW50IHRvIGRvIVxuXG4gICAgICAgIExvYWQgeW91ciBhcHBsaWNhdGlvblx1MjAxOXMgSmF2YVNjcmlwdCBidW5kbGUgaW5zaWRlIHRoZSA8aGVhZD4gZWxlbWVudCBpbnN0ZWFkLiA8c2NyaXB0PiBlbGVtZW50cyBpbiA8Ym9keT4gYXJlIGV2YWx1YXRlZCB3aXRoIGVhY2ggcGFnZSBjaGFuZ2UuXG5cbiAgICAgICAgRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZTogaHR0cHM6Ly90dXJiby5ob3R3aXJlZC5kZXYvaGFuZGJvb2svYnVpbGRpbmcjd29ya2luZy13aXRoLXNjcmlwdC1lbGVtZW50c1xuXG4gICAgICAgIFx1MjAxNFx1MjAxNFxuICAgICAgICBTdXBwcmVzcyB0aGlzIHdhcm5pbmcgYnkgYWRkaW5nIGEgXCJkYXRhLXR1cmJvLXN1cHByZXNzLXdhcm5pbmdcIiBhdHRyaWJ1dGUgdG86ICVzXG4gICAgICBgLFxuICAgICAgICBlbGVtZW50Lm91dGVySFRNTFxuICAgICAgKVxuICAgIH1cblxuICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gIH1cbn0pKCk7XG5cbndpbmRvdy5UdXJibyA9IHsgLi4uVHVyYm8sIFN0cmVhbUFjdGlvbnMgfTtcbnN0YXJ0KCk7XG5cbmV4cG9ydCB7IEZldGNoRW5jdHlwZSwgRmV0Y2hNZXRob2QsIEZldGNoUmVxdWVzdCwgRmV0Y2hSZXNwb25zZSwgRnJhbWVFbGVtZW50LCBGcmFtZUxvYWRpbmdTdHlsZSwgRnJhbWVSZW5kZXJlciwgUGFnZVJlbmRlcmVyLCBQYWdlU25hcHNob3QsIFN0cmVhbUFjdGlvbnMsIFN0cmVhbUVsZW1lbnQsIFN0cmVhbVNvdXJjZUVsZW1lbnQsIGNhY2hlLCBjbGVhckNhY2hlLCBjb25uZWN0U3RyZWFtU291cmNlLCBkaXNjb25uZWN0U3RyZWFtU291cmNlLCBmZXRjaFdpdGhUdXJib0hlYWRlcnMgYXMgZmV0Y2gsIGZldGNoRW5jdHlwZUZyb21TdHJpbmcsIGZldGNoTWV0aG9kRnJvbVN0cmluZywgaXNTYWZlLCBuYXZpZ2F0b3IkMSBhcyBuYXZpZ2F0b3IsIHJlZ2lzdGVyQWRhcHRlciwgcmVuZGVyU3RyZWFtTWVzc2FnZSwgc2Vzc2lvbiwgc2V0Q29uZmlybU1ldGhvZCwgc2V0Rm9ybU1vZGUsIHNldFByb2dyZXNzQmFyRGVsYXksIHN0YXJ0LCB2aXNpdCB9O1xuIiwgImxldCBjb25zdW1lclxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q29uc3VtZXIoKSB7XG4gIHJldHVybiBjb25zdW1lciB8fCBzZXRDb25zdW1lcihjcmVhdGVDb25zdW1lcigpLnRoZW4oc2V0Q29uc3VtZXIpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29uc3VtZXIobmV3Q29uc3VtZXIpIHtcbiAgcmV0dXJuIGNvbnN1bWVyID0gbmV3Q29uc3VtZXJcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvbnN1bWVyKCkge1xuICBjb25zdCB7IGNyZWF0ZUNvbnN1bWVyIH0gPSBhd2FpdCBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJhY3Rpb25jYWJsZVwiICovIFwiQHJhaWxzL2FjdGlvbmNhYmxlL3NyY1wiKVxuICByZXR1cm4gY3JlYXRlQ29uc3VtZXIoKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3Vic2NyaWJlVG8oY2hhbm5lbCwgbWl4aW4pIHtcbiAgY29uc3QgeyBzdWJzY3JpcHRpb25zIH0gPSBhd2FpdCBnZXRDb25zdW1lcigpXG4gIHJldHVybiBzdWJzY3JpcHRpb25zLmNyZWF0ZShjaGFubmVsLCBtaXhpbilcbn1cbiIsICIvLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vbmF0aGFuNy9zbmFrZWl6ZVxuLy9cbi8vIFRoaXMgc29mdHdhcmUgaXMgcmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOlxuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weSBvZlxuLy8gdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpblxuLy8gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0b1xuLy8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2Zcbi8vIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbyxcbi8vIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGxcbi8vIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTXG4vLyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1Jcbi8vIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUlxuLy8gSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU5cbi8vIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB3YWxrIChvYmopIHtcbiAgICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JykgcmV0dXJuIG9iajtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgRGF0ZSB8fCBvYmogaW5zdGFuY2VvZiBSZWdFeHApIHJldHVybiBvYmo7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkgcmV0dXJuIG9iai5tYXAod2Fsayk7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICB2YXIgY2FtZWwgPSBrZXlbMF0udG9Mb3dlckNhc2UoKSArIGtleS5zbGljZSgxKS5yZXBsYWNlKC8oW0EtWl0rKS9nLCBmdW5jdGlvbiAobSwgeCkge1xuICAgICAgICAgICAgcmV0dXJuICdfJyArIHgudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGFjY1tjYW1lbF0gPSB3YWxrKG9ialtrZXldKTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG59OyIsICJpbXBvcnQgeyBjb25uZWN0U3RyZWFtU291cmNlLCBkaXNjb25uZWN0U3RyZWFtU291cmNlIH0gZnJvbSBcIkBob3R3aXJlZC90dXJib1wiXG5pbXBvcnQgeyBzdWJzY3JpYmVUbyB9IGZyb20gXCIuL2NhYmxlXCJcbmltcG9ydCBzbmFrZWl6ZSBmcm9tIFwiLi9zbmFrZWl6ZVwiXG5cbmNsYXNzIFR1cmJvQ2FibGVTdHJlYW1Tb3VyY2VFbGVtZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBhc3luYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBjb25uZWN0U3RyZWFtU291cmNlKHRoaXMpXG4gICAgdGhpcy5zdWJzY3JpcHRpb24gPSBhd2FpdCBzdWJzY3JpYmVUbyh0aGlzLmNoYW5uZWwsIHtcbiAgICAgIHJlY2VpdmVkOiB0aGlzLmRpc3BhdGNoTWVzc2FnZUV2ZW50LmJpbmQodGhpcyksXG4gICAgICBjb25uZWN0ZWQ6IHRoaXMuc3Vic2NyaXB0aW9uQ29ubmVjdGVkLmJpbmQodGhpcyksXG4gICAgICBkaXNjb25uZWN0ZWQ6IHRoaXMuc3Vic2NyaXB0aW9uRGlzY29ubmVjdGVkLmJpbmQodGhpcylcbiAgICB9KVxuICB9XG5cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgZGlzY29ubmVjdFN0cmVhbVNvdXJjZSh0aGlzKVxuICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbikgdGhpcy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKVxuICB9XG5cbiAgZGlzcGF0Y2hNZXNzYWdlRXZlbnQoZGF0YSkge1xuICAgIGNvbnN0IGV2ZW50ID0gbmV3IE1lc3NhZ2VFdmVudChcIm1lc3NhZ2VcIiwgeyBkYXRhIH0pXG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudClcbiAgfVxuXG4gIHN1YnNjcmlwdGlvbkNvbm5lY3RlZCgpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZShcImNvbm5lY3RlZFwiLCBcIlwiKVxuICB9XG5cbiAgc3Vic2NyaXB0aW9uRGlzY29ubmVjdGVkKCkge1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKFwiY29ubmVjdGVkXCIpXG4gIH1cblxuICBnZXQgY2hhbm5lbCgpIHtcbiAgICBjb25zdCBjaGFubmVsID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJjaGFubmVsXCIpXG4gICAgY29uc3Qgc2lnbmVkX3N0cmVhbV9uYW1lID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJzaWduZWQtc3RyZWFtLW5hbWVcIilcbiAgICByZXR1cm4geyBjaGFubmVsLCBzaWduZWRfc3RyZWFtX25hbWUsIC4uLnNuYWtlaXplKHsgLi4udGhpcy5kYXRhc2V0IH0pIH1cbiAgfVxufVxuXG5cbmlmIChjdXN0b21FbGVtZW50cy5nZXQoXCJ0dXJiby1jYWJsZS1zdHJlYW0tc291cmNlXCIpID09PSB1bmRlZmluZWQpIHtcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwidHVyYm8tY2FibGUtc3RyZWFtLXNvdXJjZVwiLCBUdXJib0NhYmxlU3RyZWFtU291cmNlRWxlbWVudClcbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gZW5jb2RlTWV0aG9kSW50b1JlcXVlc3RCb2R5KGV2ZW50KSB7XG4gIGlmIChldmVudC50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQpIHtcbiAgICBjb25zdCB7IHRhcmdldDogZm9ybSwgZGV0YWlsOiB7IGZldGNoT3B0aW9ucyB9IH0gPSBldmVudFxuXG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwidHVyYm86c3VibWl0LXN0YXJ0XCIsICh7IGRldGFpbDogeyBmb3JtU3VibWlzc2lvbjogeyBzdWJtaXR0ZXIgfSB9IH0pID0+IHtcbiAgICAgIGNvbnN0IGJvZHkgPSBpc0JvZHlJbml0KGZldGNoT3B0aW9ucy5ib2R5KSA/IGZldGNoT3B0aW9ucy5ib2R5IDogbmV3IFVSTFNlYXJjaFBhcmFtcygpXG4gICAgICBjb25zdCBtZXRob2QgPSBkZXRlcm1pbmVGZXRjaE1ldGhvZChzdWJtaXR0ZXIsIGJvZHksIGZvcm0pXG5cbiAgICAgIGlmICghL2dldC9pLnRlc3QobWV0aG9kKSkge1xuICAgICAgICBpZiAoL3Bvc3QvaS50ZXN0KG1ldGhvZCkpIHtcbiAgICAgICAgICBib2R5LmRlbGV0ZShcIl9tZXRob2RcIilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBib2R5LnNldChcIl9tZXRob2RcIiwgbWV0aG9kKVxuICAgICAgICB9XG5cbiAgICAgICAgZmV0Y2hPcHRpb25zLm1ldGhvZCA9IFwicG9zdFwiXG4gICAgICB9XG4gICAgfSwgeyBvbmNlOiB0cnVlIH0pXG4gIH1cbn1cblxuZnVuY3Rpb24gZGV0ZXJtaW5lRmV0Y2hNZXRob2Qoc3VibWl0dGVyLCBib2R5LCBmb3JtKSB7XG4gIGNvbnN0IGZvcm1NZXRob2QgPSBkZXRlcm1pbmVGb3JtTWV0aG9kKHN1Ym1pdHRlcilcbiAgY29uc3Qgb3ZlcnJpZGVNZXRob2QgPSBib2R5LmdldChcIl9tZXRob2RcIilcbiAgY29uc3QgbWV0aG9kID0gZm9ybS5nZXRBdHRyaWJ1dGUoXCJtZXRob2RcIikgfHwgXCJnZXRcIlxuXG4gIGlmICh0eXBlb2YgZm9ybU1ldGhvZCA9PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGZvcm1NZXRob2RcbiAgfSBlbHNlIGlmICh0eXBlb2Ygb3ZlcnJpZGVNZXRob2QgPT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBvdmVycmlkZU1ldGhvZFxuICB9IGVsc2Uge1xuICAgIHJldHVybiBtZXRob2RcbiAgfVxufVxuXG5mdW5jdGlvbiBkZXRlcm1pbmVGb3JtTWV0aG9kKHN1Ym1pdHRlcikge1xuICBpZiAoc3VibWl0dGVyIGluc3RhbmNlb2YgSFRNTEJ1dHRvbkVsZW1lbnQgfHwgc3VibWl0dGVyIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkge1xuICAgIC8vIFJhaWxzIDcgQWN0aW9uVmlldzo6SGVscGVyczo6Rm9ybUJ1aWxkZXIjYnV0dG9uIG1ldGhvZCBoYXMgYW4gb3ZlcnJpZGVcbiAgICAvLyBmb3IgZm9ybW1ldGhvZCBpZiB0aGUgYnV0dG9uIGRvZXMgbm90IGhhdmUgbmFtZSBvciB2YWx1ZSBhdHRyaWJ1dGVzXG4gICAgLy8gc2V0LCB3aGljaCBpcyB0aGUgZGVmYXVsdC4gVGhpcyBtZWFucyB0aGF0IGlmIHlvdSB1c2UgPCU9IGYuYnV0dG9uXG4gICAgLy8gZm9ybW1ldGhvZDogOmRlbGV0ZSAlPiwgaXQgd2lsbCBnZW5lcmF0ZSBhIDxidXR0b24gbmFtZT1cIl9tZXRob2RcIlxuICAgIC8vIHZhbHVlPVwiZGVsZXRlXCIgZm9ybW1ldGhvZD1cInBvc3RcIj4uIFRoZXJlZm9yZSwgaWYgdGhlIHN1Ym1pdHRlcidzIG5hbWVcbiAgICAvLyBpcyBhbHJlYWR5IF9tZXRob2QsIGl0J3MgdmFsdWUgYXR0cmlidXRlIGFscmVhZHkgY29udGFpbnMgdGhlIGRlc2lyZWRcbiAgICAvLyBtZXRob2QuXG4gICAgaWYgKHN1Ym1pdHRlci5uYW1lID09PSAnX21ldGhvZCcpIHtcbiAgICAgIHJldHVybiBzdWJtaXR0ZXIudmFsdWVcbiAgICB9IGVsc2UgaWYgKHN1Ym1pdHRlci5oYXNBdHRyaWJ1dGUoXCJmb3JtbWV0aG9kXCIpKSB7XG4gICAgICByZXR1cm4gc3VibWl0dGVyLmZvcm1NZXRob2RcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0JvZHlJbml0KGJvZHkpIHtcbiAgcmV0dXJuIGJvZHkgaW5zdGFuY2VvZiBGb3JtRGF0YSB8fCBib2R5IGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zXG59XG4iLCAiaW1wb3J0IFwiLi9jYWJsZV9zdHJlYW1fc291cmNlX2VsZW1lbnRcIlxuXG5pbXBvcnQgKiBhcyBUdXJibyBmcm9tIFwiQGhvdHdpcmVkL3R1cmJvXCJcbmV4cG9ydCB7IFR1cmJvIH1cblxuaW1wb3J0ICogYXMgY2FibGUgZnJvbSBcIi4vY2FibGVcIlxuZXhwb3J0IHsgY2FibGUgfVxuXG5pbXBvcnQgeyBlbmNvZGVNZXRob2RJbnRvUmVxdWVzdEJvZHkgfSBmcm9tIFwiLi9mZXRjaF9yZXF1ZXN0c1wiXG5cbndpbmRvdy5UdXJibyA9IFR1cmJvXG5cbmFkZEV2ZW50TGlzdGVuZXIoXCJ0dXJibzpiZWZvcmUtZmV0Y2gtcmVxdWVzdFwiLCBlbmNvZGVNZXRob2RJbnRvUmVxdWVzdEJvZHkpXG4iLCAiLypcblN0aW11bHVzIDMuMi4xXG5Db3B5cmlnaHQgXHUwMEE5IDIwMjMgQmFzZWNhbXAsIExMQ1xuICovXG5jbGFzcyBFdmVudExpc3RlbmVyIHtcbiAgICBjb25zdHJ1Y3RvcihldmVudFRhcmdldCwgZXZlbnROYW1lLCBldmVudE9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5ldmVudFRhcmdldCA9IGV2ZW50VGFyZ2V0O1xuICAgICAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcbiAgICAgICAgdGhpcy5ldmVudE9wdGlvbnMgPSBldmVudE9wdGlvbnM7XG4gICAgICAgIHRoaXMudW5vcmRlcmVkQmluZGluZ3MgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIGNvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50TmFtZSwgdGhpcywgdGhpcy5ldmVudE9wdGlvbnMpO1xuICAgIH1cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICB0aGlzLmV2ZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudE5hbWUsIHRoaXMsIHRoaXMuZXZlbnRPcHRpb25zKTtcbiAgICB9XG4gICAgYmluZGluZ0Nvbm5lY3RlZChiaW5kaW5nKSB7XG4gICAgICAgIHRoaXMudW5vcmRlcmVkQmluZGluZ3MuYWRkKGJpbmRpbmcpO1xuICAgIH1cbiAgICBiaW5kaW5nRGlzY29ubmVjdGVkKGJpbmRpbmcpIHtcbiAgICAgICAgdGhpcy51bm9yZGVyZWRCaW5kaW5ncy5kZWxldGUoYmluZGluZyk7XG4gICAgfVxuICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkRXZlbnQgPSBleHRlbmRFdmVudChldmVudCk7XG4gICAgICAgIGZvciAoY29uc3QgYmluZGluZyBvZiB0aGlzLmJpbmRpbmdzKSB7XG4gICAgICAgICAgICBpZiAoZXh0ZW5kZWRFdmVudC5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJpbmRpbmcuaGFuZGxlRXZlbnQoZXh0ZW5kZWRFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFzQmluZGluZ3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVub3JkZXJlZEJpbmRpbmdzLnNpemUgPiAwO1xuICAgIH1cbiAgICBnZXQgYmluZGluZ3MoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMudW5vcmRlcmVkQmluZGluZ3MpLnNvcnQoKGxlZnQsIHJpZ2h0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsZWZ0SW5kZXggPSBsZWZ0LmluZGV4LCByaWdodEluZGV4ID0gcmlnaHQuaW5kZXg7XG4gICAgICAgICAgICByZXR1cm4gbGVmdEluZGV4IDwgcmlnaHRJbmRleCA/IC0xIDogbGVmdEluZGV4ID4gcmlnaHRJbmRleCA/IDEgOiAwO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBleHRlbmRFdmVudChldmVudCkge1xuICAgIGlmIChcImltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZFwiIGluIGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBldmVudDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHsgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIH0gPSBldmVudDtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZXZlbnQsIHtcbiAgICAgICAgICAgIGltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogZmFsc2UsXG4gICAgICAgICAgICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jbGFzcyBEaXNwYXRjaGVyIHtcbiAgICBjb25zdHJ1Y3RvcihhcHBsaWNhdGlvbikge1xuICAgICAgICB0aGlzLmFwcGxpY2F0aW9uID0gYXBwbGljYXRpb247XG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lck1hcHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmZvckVhY2goKGV2ZW50TGlzdGVuZXIpID0+IGV2ZW50TGlzdGVuZXIuY29ubmVjdCgpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuZm9yRWFjaCgoZXZlbnRMaXN0ZW5lcikgPT4gZXZlbnRMaXN0ZW5lci5kaXNjb25uZWN0KCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBldmVudExpc3RlbmVycygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5ldmVudExpc3RlbmVyTWFwcy52YWx1ZXMoKSkucmVkdWNlKChsaXN0ZW5lcnMsIG1hcCkgPT4gbGlzdGVuZXJzLmNvbmNhdChBcnJheS5mcm9tKG1hcC52YWx1ZXMoKSkpLCBbXSk7XG4gICAgfVxuICAgIGJpbmRpbmdDb25uZWN0ZWQoYmluZGluZykge1xuICAgICAgICB0aGlzLmZldGNoRXZlbnRMaXN0ZW5lckZvckJpbmRpbmcoYmluZGluZykuYmluZGluZ0Nvbm5lY3RlZChiaW5kaW5nKTtcbiAgICB9XG4gICAgYmluZGluZ0Rpc2Nvbm5lY3RlZChiaW5kaW5nLCBjbGVhckV2ZW50TGlzdGVuZXJzID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5mZXRjaEV2ZW50TGlzdGVuZXJGb3JCaW5kaW5nKGJpbmRpbmcpLmJpbmRpbmdEaXNjb25uZWN0ZWQoYmluZGluZyk7XG4gICAgICAgIGlmIChjbGVhckV2ZW50TGlzdGVuZXJzKVxuICAgICAgICAgICAgdGhpcy5jbGVhckV2ZW50TGlzdGVuZXJzRm9yQmluZGluZyhiaW5kaW5nKTtcbiAgICB9XG4gICAgaGFuZGxlRXJyb3IoZXJyb3IsIG1lc3NhZ2UsIGRldGFpbCA9IHt9KSB7XG4gICAgICAgIHRoaXMuYXBwbGljYXRpb24uaGFuZGxlRXJyb3IoZXJyb3IsIGBFcnJvciAke21lc3NhZ2V9YCwgZGV0YWlsKTtcbiAgICB9XG4gICAgY2xlYXJFdmVudExpc3RlbmVyc0ZvckJpbmRpbmcoYmluZGluZykge1xuICAgICAgICBjb25zdCBldmVudExpc3RlbmVyID0gdGhpcy5mZXRjaEV2ZW50TGlzdGVuZXJGb3JCaW5kaW5nKGJpbmRpbmcpO1xuICAgICAgICBpZiAoIWV2ZW50TGlzdGVuZXIuaGFzQmluZGluZ3MoKSkge1xuICAgICAgICAgICAgZXZlbnRMaXN0ZW5lci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZU1hcHBlZEV2ZW50TGlzdGVuZXJGb3IoYmluZGluZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlTWFwcGVkRXZlbnRMaXN0ZW5lckZvcihiaW5kaW5nKSB7XG4gICAgICAgIGNvbnN0IHsgZXZlbnRUYXJnZXQsIGV2ZW50TmFtZSwgZXZlbnRPcHRpb25zIH0gPSBiaW5kaW5nO1xuICAgICAgICBjb25zdCBldmVudExpc3RlbmVyTWFwID0gdGhpcy5mZXRjaEV2ZW50TGlzdGVuZXJNYXBGb3JFdmVudFRhcmdldChldmVudFRhcmdldCk7XG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gdGhpcy5jYWNoZUtleShldmVudE5hbWUsIGV2ZW50T3B0aW9ucyk7XG4gICAgICAgIGV2ZW50TGlzdGVuZXJNYXAuZGVsZXRlKGNhY2hlS2V5KTtcbiAgICAgICAgaWYgKGV2ZW50TGlzdGVuZXJNYXAuc2l6ZSA9PSAwKVxuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyTWFwcy5kZWxldGUoZXZlbnRUYXJnZXQpO1xuICAgIH1cbiAgICBmZXRjaEV2ZW50TGlzdGVuZXJGb3JCaW5kaW5nKGJpbmRpbmcpIHtcbiAgICAgICAgY29uc3QgeyBldmVudFRhcmdldCwgZXZlbnROYW1lLCBldmVudE9wdGlvbnMgfSA9IGJpbmRpbmc7XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoRXZlbnRMaXN0ZW5lcihldmVudFRhcmdldCwgZXZlbnROYW1lLCBldmVudE9wdGlvbnMpO1xuICAgIH1cbiAgICBmZXRjaEV2ZW50TGlzdGVuZXIoZXZlbnRUYXJnZXQsIGV2ZW50TmFtZSwgZXZlbnRPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50TGlzdGVuZXJNYXAgPSB0aGlzLmZldGNoRXZlbnRMaXN0ZW5lck1hcEZvckV2ZW50VGFyZ2V0KGV2ZW50VGFyZ2V0KTtcbiAgICAgICAgY29uc3QgY2FjaGVLZXkgPSB0aGlzLmNhY2hlS2V5KGV2ZW50TmFtZSwgZXZlbnRPcHRpb25zKTtcbiAgICAgICAgbGV0IGV2ZW50TGlzdGVuZXIgPSBldmVudExpc3RlbmVyTWFwLmdldChjYWNoZUtleSk7XG4gICAgICAgIGlmICghZXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZXZlbnRMaXN0ZW5lciA9IHRoaXMuY3JlYXRlRXZlbnRMaXN0ZW5lcihldmVudFRhcmdldCwgZXZlbnROYW1lLCBldmVudE9wdGlvbnMpO1xuICAgICAgICAgICAgZXZlbnRMaXN0ZW5lck1hcC5zZXQoY2FjaGVLZXksIGV2ZW50TGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBldmVudExpc3RlbmVyO1xuICAgIH1cbiAgICBjcmVhdGVFdmVudExpc3RlbmVyKGV2ZW50VGFyZ2V0LCBldmVudE5hbWUsIGV2ZW50T3B0aW9ucykge1xuICAgICAgICBjb25zdCBldmVudExpc3RlbmVyID0gbmV3IEV2ZW50TGlzdGVuZXIoZXZlbnRUYXJnZXQsIGV2ZW50TmFtZSwgZXZlbnRPcHRpb25zKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgZXZlbnRMaXN0ZW5lci5jb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV2ZW50TGlzdGVuZXI7XG4gICAgfVxuICAgIGZldGNoRXZlbnRMaXN0ZW5lck1hcEZvckV2ZW50VGFyZ2V0KGV2ZW50VGFyZ2V0KSB7XG4gICAgICAgIGxldCBldmVudExpc3RlbmVyTWFwID0gdGhpcy5ldmVudExpc3RlbmVyTWFwcy5nZXQoZXZlbnRUYXJnZXQpO1xuICAgICAgICBpZiAoIWV2ZW50TGlzdGVuZXJNYXApIHtcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJNYXBzLnNldChldmVudFRhcmdldCwgZXZlbnRMaXN0ZW5lck1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV2ZW50TGlzdGVuZXJNYXA7XG4gICAgfVxuICAgIGNhY2hlS2V5KGV2ZW50TmFtZSwgZXZlbnRPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gW2V2ZW50TmFtZV07XG4gICAgICAgIE9iamVjdC5rZXlzKGV2ZW50T3B0aW9ucylcbiAgICAgICAgICAgIC5zb3J0KClcbiAgICAgICAgICAgIC5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIHBhcnRzLnB1c2goYCR7ZXZlbnRPcHRpb25zW2tleV0gPyBcIlwiIDogXCIhXCJ9JHtrZXl9YCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGFydHMuam9pbihcIjpcIik7XG4gICAgfVxufVxuXG5jb25zdCBkZWZhdWx0QWN0aW9uRGVzY3JpcHRvckZpbHRlcnMgPSB7XG4gICAgc3RvcCh7IGV2ZW50LCB2YWx1ZSB9KSB7XG4gICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIHByZXZlbnQoeyBldmVudCwgdmFsdWUgfSkge1xuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIHNlbGYoeyBldmVudCwgdmFsdWUsIGVsZW1lbnQgfSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50ID09PSBldmVudC50YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuY29uc3QgZGVzY3JpcHRvclBhdHRlcm4gPSAvXig/Oig/OihbXi5dKz8pXFwrKT8oLis/KSg/OlxcLiguKz8pKT8oPzpAKHdpbmRvd3xkb2N1bWVudCkpPy0+KT8oLis/KSg/OiMoW146XSs/KSkoPzo6KC4rKSk/JC87XG5mdW5jdGlvbiBwYXJzZUFjdGlvbkRlc2NyaXB0b3JTdHJpbmcoZGVzY3JpcHRvclN0cmluZykge1xuICAgIGNvbnN0IHNvdXJjZSA9IGRlc2NyaXB0b3JTdHJpbmcudHJpbSgpO1xuICAgIGNvbnN0IG1hdGNoZXMgPSBzb3VyY2UubWF0Y2goZGVzY3JpcHRvclBhdHRlcm4pIHx8IFtdO1xuICAgIGxldCBldmVudE5hbWUgPSBtYXRjaGVzWzJdO1xuICAgIGxldCBrZXlGaWx0ZXIgPSBtYXRjaGVzWzNdO1xuICAgIGlmIChrZXlGaWx0ZXIgJiYgIVtcImtleWRvd25cIiwgXCJrZXl1cFwiLCBcImtleXByZXNzXCJdLmluY2x1ZGVzKGV2ZW50TmFtZSkpIHtcbiAgICAgICAgZXZlbnROYW1lICs9IGAuJHtrZXlGaWx0ZXJ9YDtcbiAgICAgICAga2V5RmlsdGVyID0gXCJcIjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZXZlbnRUYXJnZXQ6IHBhcnNlRXZlbnRUYXJnZXQobWF0Y2hlc1s0XSksXG4gICAgICAgIGV2ZW50TmFtZSxcbiAgICAgICAgZXZlbnRPcHRpb25zOiBtYXRjaGVzWzddID8gcGFyc2VFdmVudE9wdGlvbnMobWF0Y2hlc1s3XSkgOiB7fSxcbiAgICAgICAgaWRlbnRpZmllcjogbWF0Y2hlc1s1XSxcbiAgICAgICAgbWV0aG9kTmFtZTogbWF0Y2hlc1s2XSxcbiAgICAgICAga2V5RmlsdGVyOiBtYXRjaGVzWzFdIHx8IGtleUZpbHRlcixcbiAgICB9O1xufVxuZnVuY3Rpb24gcGFyc2VFdmVudFRhcmdldChldmVudFRhcmdldE5hbWUpIHtcbiAgICBpZiAoZXZlbnRUYXJnZXROYW1lID09IFwid2luZG93XCIpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICB9XG4gICAgZWxzZSBpZiAoZXZlbnRUYXJnZXROYW1lID09IFwiZG9jdW1lbnRcIikge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgfVxufVxuZnVuY3Rpb24gcGFyc2VFdmVudE9wdGlvbnMoZXZlbnRPcHRpb25zKSB7XG4gICAgcmV0dXJuIGV2ZW50T3B0aW9uc1xuICAgICAgICAuc3BsaXQoXCI6XCIpXG4gICAgICAgIC5yZWR1Y2UoKG9wdGlvbnMsIHRva2VuKSA9PiBPYmplY3QuYXNzaWduKG9wdGlvbnMsIHsgW3Rva2VuLnJlcGxhY2UoL14hLywgXCJcIildOiAhL14hLy50ZXN0KHRva2VuKSB9KSwge30pO1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5RXZlbnRUYXJnZXQoZXZlbnRUYXJnZXQpIHtcbiAgICBpZiAoZXZlbnRUYXJnZXQgPT0gd2luZG93KSB7XG4gICAgICAgIHJldHVybiBcIndpbmRvd1wiO1xuICAgIH1cbiAgICBlbHNlIGlmIChldmVudFRhcmdldCA9PSBkb2N1bWVudCkge1xuICAgICAgICByZXR1cm4gXCJkb2N1bWVudFwiO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY2FtZWxpemUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvKD86W18tXSkoW2EtejAtOV0pL2csIChfLCBjaGFyKSA9PiBjaGFyLnRvVXBwZXJDYXNlKCkpO1xufVxuZnVuY3Rpb24gbmFtZXNwYWNlQ2FtZWxpemUodmFsdWUpIHtcbiAgICByZXR1cm4gY2FtZWxpemUodmFsdWUucmVwbGFjZSgvLS0vZywgXCItXCIpLnJlcGxhY2UoL19fL2csIFwiX1wiKSk7XG59XG5mdW5jdGlvbiBjYXBpdGFsaXplKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdmFsdWUuc2xpY2UoMSk7XG59XG5mdW5jdGlvbiBkYXNoZXJpemUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvKFtBLVpdKS9nLCAoXywgY2hhcikgPT4gYC0ke2NoYXIudG9Mb3dlckNhc2UoKX1gKTtcbn1cbmZ1bmN0aW9uIHRva2VuaXplKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLm1hdGNoKC9bXlxcc10rL2cpIHx8IFtdO1xufVxuXG5mdW5jdGlvbiBpc1NvbWV0aGluZyhvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0ICE9PSBudWxsICYmIG9iamVjdCAhPT0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gaGFzUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7XG59XG5cbmNvbnN0IGFsbE1vZGlmaWVycyA9IFtcIm1ldGFcIiwgXCJjdHJsXCIsIFwiYWx0XCIsIFwic2hpZnRcIl07XG5jbGFzcyBBY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGluZGV4LCBkZXNjcmlwdG9yLCBzY2hlbWEpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLmV2ZW50VGFyZ2V0ID0gZGVzY3JpcHRvci5ldmVudFRhcmdldCB8fCBlbGVtZW50O1xuICAgICAgICB0aGlzLmV2ZW50TmFtZSA9IGRlc2NyaXB0b3IuZXZlbnROYW1lIHx8IGdldERlZmF1bHRFdmVudE5hbWVGb3JFbGVtZW50KGVsZW1lbnQpIHx8IGVycm9yKFwibWlzc2luZyBldmVudCBuYW1lXCIpO1xuICAgICAgICB0aGlzLmV2ZW50T3B0aW9ucyA9IGRlc2NyaXB0b3IuZXZlbnRPcHRpb25zIHx8IHt9O1xuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBkZXNjcmlwdG9yLmlkZW50aWZpZXIgfHwgZXJyb3IoXCJtaXNzaW5nIGlkZW50aWZpZXJcIik7XG4gICAgICAgIHRoaXMubWV0aG9kTmFtZSA9IGRlc2NyaXB0b3IubWV0aG9kTmFtZSB8fCBlcnJvcihcIm1pc3NpbmcgbWV0aG9kIG5hbWVcIik7XG4gICAgICAgIHRoaXMua2V5RmlsdGVyID0gZGVzY3JpcHRvci5rZXlGaWx0ZXIgfHwgXCJcIjtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgfVxuICAgIHN0YXRpYyBmb3JUb2tlbih0b2tlbiwgc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyh0b2tlbi5lbGVtZW50LCB0b2tlbi5pbmRleCwgcGFyc2VBY3Rpb25EZXNjcmlwdG9yU3RyaW5nKHRva2VuLmNvbnRlbnQpLCBzY2hlbWEpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgZXZlbnRGaWx0ZXIgPSB0aGlzLmtleUZpbHRlciA/IGAuJHt0aGlzLmtleUZpbHRlcn1gIDogXCJcIjtcbiAgICAgICAgY29uc3QgZXZlbnRUYXJnZXQgPSB0aGlzLmV2ZW50VGFyZ2V0TmFtZSA/IGBAJHt0aGlzLmV2ZW50VGFyZ2V0TmFtZX1gIDogXCJcIjtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuZXZlbnROYW1lfSR7ZXZlbnRGaWx0ZXJ9JHtldmVudFRhcmdldH0tPiR7dGhpcy5pZGVudGlmaWVyfSMke3RoaXMubWV0aG9kTmFtZX1gO1xuICAgIH1cbiAgICBzaG91bGRJZ25vcmVLZXlib2FyZEV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5rZXlGaWx0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaWx0ZXJzID0gdGhpcy5rZXlGaWx0ZXIuc3BsaXQoXCIrXCIpO1xuICAgICAgICBpZiAodGhpcy5rZXlGaWx0ZXJEaXNzYXRpc2ZpZWQoZXZlbnQsIGZpbHRlcnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGFuZGFyZEZpbHRlciA9IGZpbHRlcnMuZmlsdGVyKChrZXkpID0+ICFhbGxNb2RpZmllcnMuaW5jbHVkZXMoa2V5KSlbMF07XG4gICAgICAgIGlmICghc3RhbmRhcmRGaWx0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhc1Byb3BlcnR5KHRoaXMua2V5TWFwcGluZ3MsIHN0YW5kYXJkRmlsdGVyKSkge1xuICAgICAgICAgICAgZXJyb3IoYGNvbnRhaW5zIHVua25vd24ga2V5IGZpbHRlcjogJHt0aGlzLmtleUZpbHRlcn1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5rZXlNYXBwaW5nc1tzdGFuZGFyZEZpbHRlcl0udG9Mb3dlckNhc2UoKSAhPT0gZXZlbnQua2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHNob3VsZElnbm9yZU1vdXNlRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmtleUZpbHRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpbHRlcnMgPSBbdGhpcy5rZXlGaWx0ZXJdO1xuICAgICAgICBpZiAodGhpcy5rZXlGaWx0ZXJEaXNzYXRpc2ZpZWQoZXZlbnQsIGZpbHRlcnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGdldCBwYXJhbXMoKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHt9O1xuICAgICAgICBjb25zdCBwYXR0ZXJuID0gbmV3IFJlZ0V4cChgXmRhdGEtJHt0aGlzLmlkZW50aWZpZXJ9LSguKyktcGFyYW0kYCwgXCJpXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IHsgbmFtZSwgdmFsdWUgfSBvZiBBcnJheS5mcm9tKHRoaXMuZWxlbWVudC5hdHRyaWJ1dGVzKSkge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBuYW1lLm1hdGNoKHBhdHRlcm4pO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gbWF0Y2ggJiYgbWF0Y2hbMV07XG4gICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zW2NhbWVsaXplKGtleSldID0gdHlwZWNhc3QodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfVxuICAgIGdldCBldmVudFRhcmdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmdpZnlFdmVudFRhcmdldCh0aGlzLmV2ZW50VGFyZ2V0KTtcbiAgICB9XG4gICAgZ2V0IGtleU1hcHBpbmdzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2hlbWEua2V5TWFwcGluZ3M7XG4gICAgfVxuICAgIGtleUZpbHRlckRpc3NhdGlzZmllZChldmVudCwgZmlsdGVycykge1xuICAgICAgICBjb25zdCBbbWV0YSwgY3RybCwgYWx0LCBzaGlmdF0gPSBhbGxNb2RpZmllcnMubWFwKChtb2RpZmllcikgPT4gZmlsdGVycy5pbmNsdWRlcyhtb2RpZmllcikpO1xuICAgICAgICByZXR1cm4gZXZlbnQubWV0YUtleSAhPT0gbWV0YSB8fCBldmVudC5jdHJsS2V5ICE9PSBjdHJsIHx8IGV2ZW50LmFsdEtleSAhPT0gYWx0IHx8IGV2ZW50LnNoaWZ0S2V5ICE9PSBzaGlmdDtcbiAgICB9XG59XG5jb25zdCBkZWZhdWx0RXZlbnROYW1lcyA9IHtcbiAgICBhOiAoKSA9PiBcImNsaWNrXCIsXG4gICAgYnV0dG9uOiAoKSA9PiBcImNsaWNrXCIsXG4gICAgZm9ybTogKCkgPT4gXCJzdWJtaXRcIixcbiAgICBkZXRhaWxzOiAoKSA9PiBcInRvZ2dsZVwiLFxuICAgIGlucHV0OiAoZSkgPT4gKGUuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSA9PSBcInN1Ym1pdFwiID8gXCJjbGlja1wiIDogXCJpbnB1dFwiKSxcbiAgICBzZWxlY3Q6ICgpID0+IFwiY2hhbmdlXCIsXG4gICAgdGV4dGFyZWE6ICgpID0+IFwiaW5wdXRcIixcbn07XG5mdW5jdGlvbiBnZXREZWZhdWx0RXZlbnROYW1lRm9yRWxlbWVudChlbGVtZW50KSB7XG4gICAgY29uc3QgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICh0YWdOYW1lIGluIGRlZmF1bHRFdmVudE5hbWVzKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0RXZlbnROYW1lc1t0YWdOYW1lXShlbGVtZW50KTtcbiAgICB9XG59XG5mdW5jdGlvbiBlcnJvcihtZXNzYWdlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xufVxuZnVuY3Rpb24gdHlwZWNhc3QodmFsdWUpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChvX08pIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn1cblxuY2xhc3MgQmluZGluZyB7XG4gICAgY29uc3RydWN0b3IoY29udGV4dCwgYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuYWN0aW9uID0gYWN0aW9uO1xuICAgIH1cbiAgICBnZXQgaW5kZXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbi5pbmRleDtcbiAgICB9XG4gICAgZ2V0IGV2ZW50VGFyZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3Rpb24uZXZlbnRUYXJnZXQ7XG4gICAgfVxuICAgIGdldCBldmVudE9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbi5ldmVudE9wdGlvbnM7XG4gICAgfVxuICAgIGdldCBpZGVudGlmaWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmlkZW50aWZpZXI7XG4gICAgfVxuICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGFjdGlvbkV2ZW50ID0gdGhpcy5wcmVwYXJlQWN0aW9uRXZlbnQoZXZlbnQpO1xuICAgICAgICBpZiAodGhpcy53aWxsQmVJbnZva2VkQnlFdmVudChldmVudCkgJiYgdGhpcy5hcHBseUV2ZW50TW9kaWZpZXJzKGFjdGlvbkV2ZW50KSkge1xuICAgICAgICAgICAgdGhpcy5pbnZva2VXaXRoRXZlbnQoYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBldmVudE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGlvbi5ldmVudE5hbWU7XG4gICAgfVxuICAgIGdldCBtZXRob2QoKSB7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMuY29udHJvbGxlclt0aGlzLm1ldGhvZE5hbWVdO1xuICAgICAgICBpZiAodHlwZW9mIG1ldGhvZCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXRob2Q7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBY3Rpb24gXCIke3RoaXMuYWN0aW9ufVwiIHJlZmVyZW5jZXMgdW5kZWZpbmVkIG1ldGhvZCBcIiR7dGhpcy5tZXRob2ROYW1lfVwiYCk7XG4gICAgfVxuICAgIGFwcGx5RXZlbnRNb2RpZmllcnMoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50IH0gPSB0aGlzLmFjdGlvbjtcbiAgICAgICAgY29uc3QgeyBhY3Rpb25EZXNjcmlwdG9yRmlsdGVycyB9ID0gdGhpcy5jb250ZXh0LmFwcGxpY2F0aW9uO1xuICAgICAgICBjb25zdCB7IGNvbnRyb2xsZXIgfSA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgbGV0IHBhc3NlcyA9IHRydWU7XG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmV2ZW50T3B0aW9ucykpIHtcbiAgICAgICAgICAgIGlmIChuYW1lIGluIGFjdGlvbkRlc2NyaXB0b3JGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyID0gYWN0aW9uRGVzY3JpcHRvckZpbHRlcnNbbmFtZV07XG4gICAgICAgICAgICAgICAgcGFzc2VzID0gcGFzc2VzICYmIGZpbHRlcih7IG5hbWUsIHZhbHVlLCBldmVudCwgZWxlbWVudCwgY29udHJvbGxlciB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXNzZXM7XG4gICAgfVxuICAgIHByZXBhcmVBY3Rpb25FdmVudChldmVudCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihldmVudCwgeyBwYXJhbXM6IHRoaXMuYWN0aW9uLnBhcmFtcyB9KTtcbiAgICB9XG4gICAgaW52b2tlV2l0aEV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHsgdGFyZ2V0LCBjdXJyZW50VGFyZ2V0IH0gPSBldmVudDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMubWV0aG9kLmNhbGwodGhpcy5jb250cm9sbGVyLCBldmVudCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQubG9nRGVidWdBY3Rpdml0eSh0aGlzLm1ldGhvZE5hbWUsIHsgZXZlbnQsIHRhcmdldCwgY3VycmVudFRhcmdldCwgYWN0aW9uOiB0aGlzLm1ldGhvZE5hbWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCB7IGlkZW50aWZpZXIsIGNvbnRyb2xsZXIsIGVsZW1lbnQsIGluZGV4IH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgZGV0YWlsID0geyBpZGVudGlmaWVyLCBjb250cm9sbGVyLCBlbGVtZW50LCBpbmRleCwgZXZlbnQgfTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5oYW5kbGVFcnJvcihlcnJvciwgYGludm9raW5nIGFjdGlvbiBcIiR7dGhpcy5hY3Rpb259XCJgLCBkZXRhaWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdpbGxCZUludm9rZWRCeUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGV2ZW50VGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBLZXlib2FyZEV2ZW50ICYmIHRoaXMuYWN0aW9uLnNob3VsZElnbm9yZUtleWJvYXJkRXZlbnQoZXZlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCAmJiB0aGlzLmFjdGlvbi5zaG91bGRJZ25vcmVNb3VzZUV2ZW50KGV2ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQgPT09IGV2ZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudFRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQgJiYgdGhpcy5lbGVtZW50LmNvbnRhaW5zKGV2ZW50VGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuY29udGFpbnNFbGVtZW50KGV2ZW50VGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmNvbnRhaW5zRWxlbWVudCh0aGlzLmFjdGlvbi5lbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgY29udHJvbGxlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5jb250cm9sbGVyO1xuICAgIH1cbiAgICBnZXQgbWV0aG9kTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aW9uLm1ldGhvZE5hbWU7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5lbGVtZW50O1xuICAgIH1cbiAgICBnZXQgc2NvcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc2NvcGU7XG4gICAgfVxufVxuXG5jbGFzcyBFbGVtZW50T2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGRlbGVnYXRlKSB7XG4gICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlckluaXQgPSB7IGF0dHJpYnV0ZXM6IHRydWUsIGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9O1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICB0aGlzLmVsZW1lbnRzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB0aGlzLnByb2Nlc3NNdXRhdGlvbnMobXV0YXRpb25zKSk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMuZWxlbWVudCwgdGhpcy5tdXRhdGlvbk9ic2VydmVySW5pdCk7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXVzZShjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMuZWxlbWVudCwgdGhpcy5tdXRhdGlvbk9ic2VydmVySW5pdCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci50YWtlUmVjb3JkcygpO1xuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBuZXcgU2V0KHRoaXMubWF0Y2hFbGVtZW50c0luVHJlZSgpKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBBcnJheS5mcm9tKHRoaXMuZWxlbWVudHMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVzLmhhcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIEFycmF5LmZyb20obWF0Y2hlcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NNdXRhdGlvbihtdXRhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJvY2Vzc011dGF0aW9uKG11dGF0aW9uKSB7XG4gICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09IFwiYXR0cmlidXRlc1wiKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NBdHRyaWJ1dGVDaGFuZ2UobXV0YXRpb24udGFyZ2V0LCBtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtdXRhdGlvbi50eXBlID09IFwiY2hpbGRMaXN0XCIpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1JlbW92ZWROb2RlcyhtdXRhdGlvbi5yZW1vdmVkTm9kZXMpO1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzQWRkZWROb2RlcyhtdXRhdGlvbi5hZGRlZE5vZGVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzQXR0cmlidXRlQ2hhbmdlKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMuaGFzKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5lbGVtZW50QXR0cmlidXRlQ2hhbmdlZCAmJiB0aGlzLm1hdGNoRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZWxlbWVudEF0dHJpYnV0ZUNoYW5nZWQoZWxlbWVudCwgYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5tYXRjaEVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzUmVtb3ZlZE5vZGVzKG5vZGVzKSB7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBBcnJheS5mcm9tKG5vZGVzKSkge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudEZyb21Ob2RlKG5vZGUpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NUcmVlKGVsZW1lbnQsIHRoaXMucmVtb3ZlRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJvY2Vzc0FkZGVkTm9kZXMobm9kZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIEFycmF5LmZyb20obm9kZXMpKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50RnJvbU5vZGUobm9kZSk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCAmJiB0aGlzLmVsZW1lbnRJc0FjdGl2ZShlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc1RyZWUoZWxlbWVudCwgdGhpcy5hZGRFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXRjaEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5tYXRjaEVsZW1lbnQoZWxlbWVudCk7XG4gICAgfVxuICAgIG1hdGNoRWxlbWVudHNJblRyZWUodHJlZSA9IHRoaXMuZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5tYXRjaEVsZW1lbnRzSW5UcmVlKHRyZWUpO1xuICAgIH1cbiAgICBwcm9jZXNzVHJlZSh0cmVlLCBwcm9jZXNzb3IpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMubWF0Y2hFbGVtZW50c0luVHJlZSh0cmVlKSkge1xuICAgICAgICAgICAgcHJvY2Vzc29yLmNhbGwodGhpcywgZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudEZyb21Ob2RlKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRJc0FjdGl2ZShlbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50LmlzQ29ubmVjdGVkICE9IHRoaXMuZWxlbWVudC5pc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5jb250YWlucyhlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnRzLmhhcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudElzQWN0aXZlKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5hZGQoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuZWxlbWVudE1hdGNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5lbGVtZW50TWF0Y2hlZChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzLmhhcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5kZWxldGUoZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5lbGVtZW50VW5tYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5lbGVtZW50VW5tYXRjaGVkKGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBBdHRyaWJ1dGVPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgYXR0cmlidXRlTmFtZSwgZGVsZWdhdGUpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlTmFtZTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICB0aGlzLmVsZW1lbnRPYnNlcnZlciA9IG5ldyBFbGVtZW50T2JzZXJ2ZXIoZWxlbWVudCwgdGhpcyk7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50T2JzZXJ2ZXIuZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IHNlbGVjdG9yKCkge1xuICAgICAgICByZXR1cm4gYFske3RoaXMuYXR0cmlidXRlTmFtZX1dYDtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudE9ic2VydmVyLnN0YXJ0KCk7XG4gICAgfVxuICAgIHBhdXNlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudE9ic2VydmVyLnBhdXNlKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50T2JzZXJ2ZXIuc3RvcCgpO1xuICAgIH1cbiAgICByZWZyZXNoKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnRPYnNlcnZlci5yZWZyZXNoKCk7XG4gICAgfVxuICAgIGdldCBzdGFydGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50T2JzZXJ2ZXIuc3RhcnRlZDtcbiAgICB9XG4gICAgbWF0Y2hFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuaGFzQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlTmFtZSk7XG4gICAgfVxuICAgIG1hdGNoRWxlbWVudHNJblRyZWUodHJlZSkge1xuICAgICAgICBjb25zdCBtYXRjaCA9IHRoaXMubWF0Y2hFbGVtZW50KHRyZWUpID8gW3RyZWVdIDogW107XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBBcnJheS5mcm9tKHRyZWUucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNlbGVjdG9yKSk7XG4gICAgICAgIHJldHVybiBtYXRjaC5jb25jYXQobWF0Y2hlcyk7XG4gICAgfVxuICAgIGVsZW1lbnRNYXRjaGVkKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuZWxlbWVudE1hdGNoZWRBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZWxlbWVudE1hdGNoZWRBdHRyaWJ1dGUoZWxlbWVudCwgdGhpcy5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50VW5tYXRjaGVkKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuZWxlbWVudFVubWF0Y2hlZEF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5lbGVtZW50VW5tYXRjaGVkQXR0cmlidXRlKGVsZW1lbnQsIHRoaXMuYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudEF0dHJpYnV0ZUNoYW5nZWQoZWxlbWVudCwgYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5lbGVtZW50QXR0cmlidXRlVmFsdWVDaGFuZ2VkICYmIHRoaXMuYXR0cmlidXRlTmFtZSA9PSBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLmVsZW1lbnRBdHRyaWJ1dGVWYWx1ZUNoYW5nZWQoZWxlbWVudCwgYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFkZChtYXAsIGtleSwgdmFsdWUpIHtcbiAgICBmZXRjaChtYXAsIGtleSkuYWRkKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGRlbChtYXAsIGtleSwgdmFsdWUpIHtcbiAgICBmZXRjaChtYXAsIGtleSkuZGVsZXRlKHZhbHVlKTtcbiAgICBwcnVuZShtYXAsIGtleSk7XG59XG5mdW5jdGlvbiBmZXRjaChtYXAsIGtleSkge1xuICAgIGxldCB2YWx1ZXMgPSBtYXAuZ2V0KGtleSk7XG4gICAgaWYgKCF2YWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzID0gbmV3IFNldCgpO1xuICAgICAgICBtYXAuc2V0KGtleSwgdmFsdWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlcztcbn1cbmZ1bmN0aW9uIHBydW5lKG1hcCwga2V5KSB7XG4gICAgY29uc3QgdmFsdWVzID0gbWFwLmdldChrZXkpO1xuICAgIGlmICh2YWx1ZXMgIT0gbnVsbCAmJiB2YWx1ZXMuc2l6ZSA9PSAwKSB7XG4gICAgICAgIG1hcC5kZWxldGUoa2V5KTtcbiAgICB9XG59XG5cbmNsYXNzIE11bHRpbWFwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy52YWx1ZXNCeUtleSA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgZ2V0IGtleXMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMudmFsdWVzQnlLZXkua2V5cygpKTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlcygpIHtcbiAgICAgICAgY29uc3Qgc2V0cyA9IEFycmF5LmZyb20odGhpcy52YWx1ZXNCeUtleS52YWx1ZXMoKSk7XG4gICAgICAgIHJldHVybiBzZXRzLnJlZHVjZSgodmFsdWVzLCBzZXQpID0+IHZhbHVlcy5jb25jYXQoQXJyYXkuZnJvbShzZXQpKSwgW10pO1xuICAgIH1cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgY29uc3Qgc2V0cyA9IEFycmF5LmZyb20odGhpcy52YWx1ZXNCeUtleS52YWx1ZXMoKSk7XG4gICAgICAgIHJldHVybiBzZXRzLnJlZHVjZSgoc2l6ZSwgc2V0KSA9PiBzaXplICsgc2V0LnNpemUsIDApO1xuICAgIH1cbiAgICBhZGQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBhZGQodGhpcy52YWx1ZXNCeUtleSwga2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIGRlbGV0ZShrZXksIHZhbHVlKSB7XG4gICAgICAgIGRlbCh0aGlzLnZhbHVlc0J5S2V5LCBrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgaGFzKGtleSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gdGhpcy52YWx1ZXNCeUtleS5nZXQoa2V5KTtcbiAgICAgICAgcmV0dXJuIHZhbHVlcyAhPSBudWxsICYmIHZhbHVlcy5oYXModmFsdWUpO1xuICAgIH1cbiAgICBoYXNLZXkoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlc0J5S2V5LmhhcyhrZXkpO1xuICAgIH1cbiAgICBoYXNWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBzZXRzID0gQXJyYXkuZnJvbSh0aGlzLnZhbHVlc0J5S2V5LnZhbHVlcygpKTtcbiAgICAgICAgcmV0dXJuIHNldHMuc29tZSgoc2V0KSA9PiBzZXQuaGFzKHZhbHVlKSk7XG4gICAgfVxuICAgIGdldFZhbHVlc0ZvcktleShrZXkpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gdGhpcy52YWx1ZXNCeUtleS5nZXQoa2V5KTtcbiAgICAgICAgcmV0dXJuIHZhbHVlcyA/IEFycmF5LmZyb20odmFsdWVzKSA6IFtdO1xuICAgIH1cbiAgICBnZXRLZXlzRm9yVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy52YWx1ZXNCeUtleSlcbiAgICAgICAgICAgIC5maWx0ZXIoKFtfa2V5LCB2YWx1ZXNdKSA9PiB2YWx1ZXMuaGFzKHZhbHVlKSlcbiAgICAgICAgICAgIC5tYXAoKFtrZXksIF92YWx1ZXNdKSA9PiBrZXkpO1xuICAgIH1cbn1cblxuY2xhc3MgSW5kZXhlZE11bHRpbWFwIGV4dGVuZHMgTXVsdGltYXAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmtleXNCeVZhbHVlID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBnZXQgdmFsdWVzKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmtleXNCeVZhbHVlLmtleXMoKSk7XG4gICAgfVxuICAgIGFkZChrZXksIHZhbHVlKSB7XG4gICAgICAgIHN1cGVyLmFkZChrZXksIHZhbHVlKTtcbiAgICAgICAgYWRkKHRoaXMua2V5c0J5VmFsdWUsIHZhbHVlLCBrZXkpO1xuICAgIH1cbiAgICBkZWxldGUoa2V5LCB2YWx1ZSkge1xuICAgICAgICBzdXBlci5kZWxldGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIGRlbCh0aGlzLmtleXNCeVZhbHVlLCB2YWx1ZSwga2V5KTtcbiAgICB9XG4gICAgaGFzVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5c0J5VmFsdWUuaGFzKHZhbHVlKTtcbiAgICB9XG4gICAgZ2V0S2V5c0ZvclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHNldCA9IHRoaXMua2V5c0J5VmFsdWUuZ2V0KHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHNldCA/IEFycmF5LmZyb20oc2V0KSA6IFtdO1xuICAgIH1cbn1cblxuY2xhc3MgU2VsZWN0b3JPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgc2VsZWN0b3IsIGRlbGVnYXRlLCBkZXRhaWxzKSB7XG4gICAgICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgICAgIHRoaXMuZGV0YWlscyA9IGRldGFpbHM7XG4gICAgICAgIHRoaXMuZWxlbWVudE9ic2VydmVyID0gbmV3IEVsZW1lbnRPYnNlcnZlcihlbGVtZW50LCB0aGlzKTtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICB0aGlzLm1hdGNoZXNCeUVsZW1lbnQgPSBuZXcgTXVsdGltYXAoKTtcbiAgICB9XG4gICAgZ2V0IHN0YXJ0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRPYnNlcnZlci5zdGFydGVkO1xuICAgIH1cbiAgICBnZXQgc2VsZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RvcjtcbiAgICB9XG4gICAgc2V0IHNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50T2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICB9XG4gICAgcGF1c2UoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5lbGVtZW50T2JzZXJ2ZXIucGF1c2UoY2FsbGJhY2spO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnRPYnNlcnZlci5zdG9wKCk7XG4gICAgfVxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudE9ic2VydmVyLnJlZnJlc2goKTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRPYnNlcnZlci5lbGVtZW50O1xuICAgIH1cbiAgICBtYXRjaEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCB7IHNlbGVjdG9yIH0gPSB0aGlzO1xuICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBlbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuc2VsZWN0b3JNYXRjaEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlcyAmJiB0aGlzLmRlbGVnYXRlLnNlbGVjdG9yTWF0Y2hFbGVtZW50KGVsZW1lbnQsIHRoaXMuZGV0YWlscyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXRjaEVsZW1lbnRzSW5UcmVlKHRyZWUpIHtcbiAgICAgICAgY29uc3QgeyBzZWxlY3RvciB9ID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IHRoaXMubWF0Y2hFbGVtZW50KHRyZWUpID8gW3RyZWVdIDogW107XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gQXJyYXkuZnJvbSh0cmVlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKS5maWx0ZXIoKG1hdGNoKSA9PiB0aGlzLm1hdGNoRWxlbWVudChtYXRjaCkpO1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoLmNvbmNhdChtYXRjaGVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbGVtZW50TWF0Y2hlZChlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHsgc2VsZWN0b3IgfSA9IHRoaXM7XG4gICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rvck1hdGNoZWQoZWxlbWVudCwgc2VsZWN0b3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRVbm1hdGNoZWQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBzZWxlY3RvcnMgPSB0aGlzLm1hdGNoZXNCeUVsZW1lbnQuZ2V0S2V5c0ZvclZhbHVlKGVsZW1lbnQpO1xuICAgICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIHNlbGVjdG9ycykge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RvclVubWF0Y2hlZChlbGVtZW50LCBzZWxlY3Rvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudEF0dHJpYnV0ZUNoYW5nZWQoZWxlbWVudCwgX2F0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgY29uc3QgeyBzZWxlY3RvciB9ID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gdGhpcy5tYXRjaEVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVkQmVmb3JlID0gdGhpcy5tYXRjaGVzQnlFbGVtZW50LmhhcyhzZWxlY3RvciwgZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAobWF0Y2hlcyAmJiAhbWF0Y2hlZEJlZm9yZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0b3JNYXRjaGVkKGVsZW1lbnQsIHNlbGVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFtYXRjaGVzICYmIG1hdGNoZWRCZWZvcmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdG9yVW5tYXRjaGVkKGVsZW1lbnQsIHNlbGVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZWxlY3Rvck1hdGNoZWQoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS5zZWxlY3Rvck1hdGNoZWQoZWxlbWVudCwgc2VsZWN0b3IsIHRoaXMuZGV0YWlscyk7XG4gICAgICAgIHRoaXMubWF0Y2hlc0J5RWxlbWVudC5hZGQoc2VsZWN0b3IsIGVsZW1lbnQpO1xuICAgIH1cbiAgICBzZWxlY3RvclVubWF0Y2hlZChlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgICAgICB0aGlzLmRlbGVnYXRlLnNlbGVjdG9yVW5tYXRjaGVkKGVsZW1lbnQsIHNlbGVjdG9yLCB0aGlzLmRldGFpbHMpO1xuICAgICAgICB0aGlzLm1hdGNoZXNCeUVsZW1lbnQuZGVsZXRlKHNlbGVjdG9yLCBlbGVtZW50KTtcbiAgICB9XG59XG5cbmNsYXNzIFN0cmluZ01hcE9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBkZWxlZ2F0ZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0cmluZ01hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4gdGhpcy5wcm9jZXNzTXV0YXRpb25zKG11dGF0aW9ucykpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmVsZW1lbnQsIHsgYXR0cmlidXRlczogdHJ1ZSwgYXR0cmlidXRlT2xkVmFsdWU6IHRydWUgfSk7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIudGFrZVJlY29yZHMoKTtcbiAgICAgICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWZyZXNoKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZU5hbWUgb2YgdGhpcy5rbm93bkF0dHJpYnV0ZU5hbWVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHByb2Nlc3NNdXRhdGlvbnMobXV0YXRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzTXV0YXRpb24obXV0YXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHByb2Nlc3NNdXRhdGlvbihtdXRhdGlvbikge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gbXV0YXRpb24uYXR0cmlidXRlTmFtZTtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCBtdXRhdGlvbi5vbGRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVmcmVzaEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCBvbGRWYWx1ZSkge1xuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmRlbGVnYXRlLmdldFN0cmluZ01hcEtleUZvckF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgaWYgKGtleSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RyaW5nTWFwLmhhcyhhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyaW5nTWFwS2V5QWRkZWQoa2V5LCBhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0cmluZ01hcC5nZXQoYXR0cmlidXRlTmFtZSkgIT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmluZ01hcFZhbHVlQ2hhbmdlZCh2YWx1ZSwga2V5LCBvbGRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy5zdHJpbmdNYXAuZ2V0KGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyaW5nTWFwLmRlbGV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAob2xkVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyaW5nTWFwS2V5UmVtb3ZlZChrZXksIGF0dHJpYnV0ZU5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyaW5nTWFwLnNldChhdHRyaWJ1dGVOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RyaW5nTWFwS2V5QWRkZWQoa2V5LCBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlLnN0cmluZ01hcEtleUFkZGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLnN0cmluZ01hcEtleUFkZGVkKGtleSwgYXR0cmlidXRlTmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RyaW5nTWFwVmFsdWVDaGFuZ2VkKHZhbHVlLCBrZXksIG9sZFZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlLnN0cmluZ01hcFZhbHVlQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5zdHJpbmdNYXBWYWx1ZUNoYW5nZWQodmFsdWUsIGtleSwgb2xkVmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0cmluZ01hcEtleVJlbW92ZWQoa2V5LCBhdHRyaWJ1dGVOYW1lLCBvbGRWYWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5zdHJpbmdNYXBLZXlSZW1vdmVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLnN0cmluZ01hcEtleVJlbW92ZWQoa2V5LCBhdHRyaWJ1dGVOYW1lLCBvbGRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGtub3duQXR0cmlidXRlTmFtZXMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQodGhpcy5jdXJyZW50QXR0cmlidXRlTmFtZXMuY29uY2F0KHRoaXMucmVjb3JkZWRBdHRyaWJ1dGVOYW1lcykpKTtcbiAgICB9XG4gICAgZ2V0IGN1cnJlbnRBdHRyaWJ1dGVOYW1lcygpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5lbGVtZW50LmF0dHJpYnV0ZXMpLm1hcCgoYXR0cmlidXRlKSA9PiBhdHRyaWJ1dGUubmFtZSk7XG4gICAgfVxuICAgIGdldCByZWNvcmRlZEF0dHJpYnV0ZU5hbWVzKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnN0cmluZ01hcC5rZXlzKCkpO1xuICAgIH1cbn1cblxuY2xhc3MgVG9rZW5MaXN0T2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIGRlbGVnYXRlKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlT2JzZXJ2ZXIgPSBuZXcgQXR0cmlidXRlT2JzZXJ2ZXIoZWxlbWVudCwgYXR0cmlidXRlTmFtZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgdGhpcy50b2tlbnNCeUVsZW1lbnQgPSBuZXcgTXVsdGltYXAoKTtcbiAgICB9XG4gICAgZ2V0IHN0YXJ0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZU9ic2VydmVyLnN0YXJ0ZWQ7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZU9ic2VydmVyLnN0YXJ0KCk7XG4gICAgfVxuICAgIHBhdXNlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlT2JzZXJ2ZXIucGF1c2UoY2FsbGJhY2spO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZU9ic2VydmVyLnN0b3AoKTtcbiAgICB9XG4gICAgcmVmcmVzaCgpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYnNlcnZlci5yZWZyZXNoKCk7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVPYnNlcnZlci5lbGVtZW50O1xuICAgIH1cbiAgICBnZXQgYXR0cmlidXRlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlT2JzZXJ2ZXIuYXR0cmlidXRlTmFtZTtcbiAgICB9XG4gICAgZWxlbWVudE1hdGNoZWRBdHRyaWJ1dGUoZWxlbWVudCkge1xuICAgICAgICB0aGlzLnRva2Vuc01hdGNoZWQodGhpcy5yZWFkVG9rZW5zRm9yRWxlbWVudChlbGVtZW50KSk7XG4gICAgfVxuICAgIGVsZW1lbnRBdHRyaWJ1dGVWYWx1ZUNoYW5nZWQoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBbdW5tYXRjaGVkVG9rZW5zLCBtYXRjaGVkVG9rZW5zXSA9IHRoaXMucmVmcmVzaFRva2Vuc0ZvckVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgIHRoaXMudG9rZW5zVW5tYXRjaGVkKHVubWF0Y2hlZFRva2Vucyk7XG4gICAgICAgIHRoaXMudG9rZW5zTWF0Y2hlZChtYXRjaGVkVG9rZW5zKTtcbiAgICB9XG4gICAgZWxlbWVudFVubWF0Y2hlZEF0dHJpYnV0ZShlbGVtZW50KSB7XG4gICAgICAgIHRoaXMudG9rZW5zVW5tYXRjaGVkKHRoaXMudG9rZW5zQnlFbGVtZW50LmdldFZhbHVlc0ZvcktleShlbGVtZW50KSk7XG4gICAgfVxuICAgIHRva2Vuc01hdGNoZWQodG9rZW5zKSB7XG4gICAgICAgIHRva2Vucy5mb3JFYWNoKCh0b2tlbikgPT4gdGhpcy50b2tlbk1hdGNoZWQodG9rZW4pKTtcbiAgICB9XG4gICAgdG9rZW5zVW5tYXRjaGVkKHRva2Vucykge1xuICAgICAgICB0b2tlbnMuZm9yRWFjaCgodG9rZW4pID0+IHRoaXMudG9rZW5Vbm1hdGNoZWQodG9rZW4pKTtcbiAgICB9XG4gICAgdG9rZW5NYXRjaGVkKHRva2VuKSB7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUudG9rZW5NYXRjaGVkKHRva2VuKTtcbiAgICAgICAgdGhpcy50b2tlbnNCeUVsZW1lbnQuYWRkKHRva2VuLmVsZW1lbnQsIHRva2VuKTtcbiAgICB9XG4gICAgdG9rZW5Vbm1hdGNoZWQodG9rZW4pIHtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS50b2tlblVubWF0Y2hlZCh0b2tlbik7XG4gICAgICAgIHRoaXMudG9rZW5zQnlFbGVtZW50LmRlbGV0ZSh0b2tlbi5lbGVtZW50LCB0b2tlbik7XG4gICAgfVxuICAgIHJlZnJlc2hUb2tlbnNGb3JFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNUb2tlbnMgPSB0aGlzLnRva2Vuc0J5RWxlbWVudC5nZXRWYWx1ZXNGb3JLZXkoZWxlbWVudCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUb2tlbnMgPSB0aGlzLnJlYWRUb2tlbnNGb3JFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICBjb25zdCBmaXJzdERpZmZlcmluZ0luZGV4ID0gemlwKHByZXZpb3VzVG9rZW5zLCBjdXJyZW50VG9rZW5zKS5maW5kSW5kZXgoKFtwcmV2aW91c1Rva2VuLCBjdXJyZW50VG9rZW5dKSA9PiAhdG9rZW5zQXJlRXF1YWwocHJldmlvdXNUb2tlbiwgY3VycmVudFRva2VuKSk7XG4gICAgICAgIGlmIChmaXJzdERpZmZlcmluZ0luZGV4ID09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gW1tdLCBbXV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW3ByZXZpb3VzVG9rZW5zLnNsaWNlKGZpcnN0RGlmZmVyaW5nSW5kZXgpLCBjdXJyZW50VG9rZW5zLnNsaWNlKGZpcnN0RGlmZmVyaW5nSW5kZXgpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWFkVG9rZW5zRm9yRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSB0aGlzLmF0dHJpYnV0ZU5hbWU7XG4gICAgICAgIGNvbnN0IHRva2VuU3RyaW5nID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkgfHwgXCJcIjtcbiAgICAgICAgcmV0dXJuIHBhcnNlVG9rZW5TdHJpbmcodG9rZW5TdHJpbmcsIGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHBhcnNlVG9rZW5TdHJpbmcodG9rZW5TdHJpbmcsIGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICByZXR1cm4gdG9rZW5TdHJpbmdcbiAgICAgICAgLnRyaW0oKVxuICAgICAgICAuc3BsaXQoL1xccysvKVxuICAgICAgICAuZmlsdGVyKChjb250ZW50KSA9PiBjb250ZW50Lmxlbmd0aClcbiAgICAgICAgLm1hcCgoY29udGVudCwgaW5kZXgpID0+ICh7IGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIGNvbnRlbnQsIGluZGV4IH0pKTtcbn1cbmZ1bmN0aW9uIHppcChsZWZ0LCByaWdodCkge1xuICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KGxlZnQubGVuZ3RoLCByaWdodC5sZW5ndGgpO1xuICAgIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoIH0sIChfLCBpbmRleCkgPT4gW2xlZnRbaW5kZXhdLCByaWdodFtpbmRleF1dKTtcbn1cbmZ1bmN0aW9uIHRva2Vuc0FyZUVxdWFsKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIGxlZnQgJiYgcmlnaHQgJiYgbGVmdC5pbmRleCA9PSByaWdodC5pbmRleCAmJiBsZWZ0LmNvbnRlbnQgPT0gcmlnaHQuY29udGVudDtcbn1cblxuY2xhc3MgVmFsdWVMaXN0T2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIGRlbGVnYXRlKSB7XG4gICAgICAgIHRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIgPSBuZXcgVG9rZW5MaXN0T2JzZXJ2ZXIoZWxlbWVudCwgYXR0cmlidXRlTmFtZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgdGhpcy5wYXJzZVJlc3VsdHNCeVRva2VuID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgdGhpcy52YWx1ZXNCeVRva2VuQnlFbGVtZW50ID0gbmV3IFdlYWtNYXAoKTtcbiAgICB9XG4gICAgZ2V0IHN0YXJ0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRva2VuTGlzdE9ic2VydmVyLnN0YXJ0ZWQ7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnRva2VuTGlzdE9ic2VydmVyLnN0YXJ0KCk7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIuc3RvcCgpO1xuICAgIH1cbiAgICByZWZyZXNoKCkge1xuICAgICAgICB0aGlzLnRva2VuTGlzdE9ic2VydmVyLnJlZnJlc2goKTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRva2VuTGlzdE9ic2VydmVyLmVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBhdHRyaWJ1dGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlbkxpc3RPYnNlcnZlci5hdHRyaWJ1dGVOYW1lO1xuICAgIH1cbiAgICB0b2tlbk1hdGNoZWQodG9rZW4pIHtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50IH0gPSB0b2tlbjtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gdGhpcy5mZXRjaFBhcnNlUmVzdWx0Rm9yVG9rZW4odG9rZW4pO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZmV0Y2hWYWx1ZXNCeVRva2VuRm9yRWxlbWVudChlbGVtZW50KS5zZXQodG9rZW4sIHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZWxlbWVudE1hdGNoZWRWYWx1ZShlbGVtZW50LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9rZW5Vbm1hdGNoZWQodG9rZW4pIHtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50IH0gPSB0b2tlbjtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gdGhpcy5mZXRjaFBhcnNlUmVzdWx0Rm9yVG9rZW4odG9rZW4pO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZmV0Y2hWYWx1ZXNCeVRva2VuRm9yRWxlbWVudChlbGVtZW50KS5kZWxldGUodG9rZW4pO1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5lbGVtZW50VW5tYXRjaGVkVmFsdWUoZWxlbWVudCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZldGNoUGFyc2VSZXN1bHRGb3JUb2tlbih0b2tlbikge1xuICAgICAgICBsZXQgcGFyc2VSZXN1bHQgPSB0aGlzLnBhcnNlUmVzdWx0c0J5VG9rZW4uZ2V0KHRva2VuKTtcbiAgICAgICAgaWYgKCFwYXJzZVJlc3VsdCkge1xuICAgICAgICAgICAgcGFyc2VSZXN1bHQgPSB0aGlzLnBhcnNlVG9rZW4odG9rZW4pO1xuICAgICAgICAgICAgdGhpcy5wYXJzZVJlc3VsdHNCeVRva2VuLnNldCh0b2tlbiwgcGFyc2VSZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZVJlc3VsdDtcbiAgICB9XG4gICAgZmV0Y2hWYWx1ZXNCeVRva2VuRm9yRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIGxldCB2YWx1ZXNCeVRva2VuID0gdGhpcy52YWx1ZXNCeVRva2VuQnlFbGVtZW50LmdldChlbGVtZW50KTtcbiAgICAgICAgaWYgKCF2YWx1ZXNCeVRva2VuKSB7XG4gICAgICAgICAgICB2YWx1ZXNCeVRva2VuID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNCeVRva2VuQnlFbGVtZW50LnNldChlbGVtZW50LCB2YWx1ZXNCeVRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWVzQnlUb2tlbjtcbiAgICB9XG4gICAgcGFyc2VUb2tlbih0b2tlbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmRlbGVnYXRlLnBhcnNlVmFsdWVGb3JUb2tlbih0b2tlbik7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgQmluZGluZ09ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBkZWxlZ2F0ZSkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgICAgIHRoaXMuYmluZGluZ3NCeUFjdGlvbiA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmICghdGhpcy52YWx1ZUxpc3RPYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy52YWx1ZUxpc3RPYnNlcnZlciA9IG5ldyBWYWx1ZUxpc3RPYnNlcnZlcih0aGlzLmVsZW1lbnQsIHRoaXMuYWN0aW9uQXR0cmlidXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMudmFsdWVMaXN0T2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZUxpc3RPYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy52YWx1ZUxpc3RPYnNlcnZlci5zdG9wKCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy52YWx1ZUxpc3RPYnNlcnZlcjtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdEFsbEFjdGlvbnMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5lbGVtZW50O1xuICAgIH1cbiAgICBnZXQgaWRlbnRpZmllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5pZGVudGlmaWVyO1xuICAgIH1cbiAgICBnZXQgYWN0aW9uQXR0cmlidXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2hlbWEuYWN0aW9uQXR0cmlidXRlO1xuICAgIH1cbiAgICBnZXQgc2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnNjaGVtYTtcbiAgICB9XG4gICAgZ2V0IGJpbmRpbmdzKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmJpbmRpbmdzQnlBY3Rpb24udmFsdWVzKCkpO1xuICAgIH1cbiAgICBjb25uZWN0QWN0aW9uKGFjdGlvbikge1xuICAgICAgICBjb25zdCBiaW5kaW5nID0gbmV3IEJpbmRpbmcodGhpcy5jb250ZXh0LCBhY3Rpb24pO1xuICAgICAgICB0aGlzLmJpbmRpbmdzQnlBY3Rpb24uc2V0KGFjdGlvbiwgYmluZGluZyk7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUuYmluZGluZ0Nvbm5lY3RlZChiaW5kaW5nKTtcbiAgICB9XG4gICAgZGlzY29ubmVjdEFjdGlvbihhY3Rpb24pIHtcbiAgICAgICAgY29uc3QgYmluZGluZyA9IHRoaXMuYmluZGluZ3NCeUFjdGlvbi5nZXQoYWN0aW9uKTtcbiAgICAgICAgaWYgKGJpbmRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZ3NCeUFjdGlvbi5kZWxldGUoYWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuYmluZGluZ0Rpc2Nvbm5lY3RlZChiaW5kaW5nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNjb25uZWN0QWxsQWN0aW9ucygpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5ncy5mb3JFYWNoKChiaW5kaW5nKSA9PiB0aGlzLmRlbGVnYXRlLmJpbmRpbmdEaXNjb25uZWN0ZWQoYmluZGluZywgdHJ1ZSkpO1xuICAgICAgICB0aGlzLmJpbmRpbmdzQnlBY3Rpb24uY2xlYXIoKTtcbiAgICB9XG4gICAgcGFyc2VWYWx1ZUZvclRva2VuKHRva2VuKSB7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IEFjdGlvbi5mb3JUb2tlbih0b2tlbiwgdGhpcy5zY2hlbWEpO1xuICAgICAgICBpZiAoYWN0aW9uLmlkZW50aWZpZXIgPT0gdGhpcy5pZGVudGlmaWVyKSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRNYXRjaGVkVmFsdWUoZWxlbWVudCwgYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdEFjdGlvbihhY3Rpb24pO1xuICAgIH1cbiAgICBlbGVtZW50VW5tYXRjaGVkVmFsdWUoZWxlbWVudCwgYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdEFjdGlvbihhY3Rpb24pO1xuICAgIH1cbn1cblxuY2xhc3MgVmFsdWVPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoY29udGV4dCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5yZWNlaXZlciA9IHJlY2VpdmVyO1xuICAgICAgICB0aGlzLnN0cmluZ01hcE9ic2VydmVyID0gbmV3IFN0cmluZ01hcE9ic2VydmVyKHRoaXMuZWxlbWVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMudmFsdWVEZXNjcmlwdG9yTWFwID0gdGhpcy5jb250cm9sbGVyLnZhbHVlRGVzY3JpcHRvck1hcDtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuc3RyaW5nTWFwT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgICAgdGhpcy5pbnZva2VDaGFuZ2VkQ2FsbGJhY2tzRm9yRGVmYXVsdFZhbHVlcygpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLnN0cmluZ01hcE9ic2VydmVyLnN0b3AoKTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IGNvbnRyb2xsZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuY29udHJvbGxlcjtcbiAgICB9XG4gICAgZ2V0U3RyaW5nTWFwS2V5Rm9yQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZU5hbWUgaW4gdGhpcy52YWx1ZURlc2NyaXB0b3JNYXApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlRGVzY3JpcHRvck1hcFthdHRyaWJ1dGVOYW1lXS5uYW1lO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0cmluZ01hcEtleUFkZGVkKGtleSwgYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gdGhpcy52YWx1ZURlc2NyaXB0b3JNYXBbYXR0cmlidXRlTmFtZV07XG4gICAgICAgIGlmICghdGhpcy5oYXNWYWx1ZShrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLmludm9rZUNoYW5nZWRDYWxsYmFjayhrZXksIGRlc2NyaXB0b3Iud3JpdGVyKHRoaXMucmVjZWl2ZXJba2V5XSksIGRlc2NyaXB0b3Iud3JpdGVyKGRlc2NyaXB0b3IuZGVmYXVsdFZhbHVlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RyaW5nTWFwVmFsdWVDaGFuZ2VkKHZhbHVlLCBuYW1lLCBvbGRWYWx1ZSkge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gdGhpcy52YWx1ZURlc2NyaXB0b3JOYW1lTWFwW25hbWVdO1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChvbGRWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgb2xkVmFsdWUgPSBkZXNjcmlwdG9yLndyaXRlcihkZXNjcmlwdG9yLmRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnZva2VDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICB9XG4gICAgc3RyaW5nTWFwS2V5UmVtb3ZlZChrZXksIGF0dHJpYnV0ZU5hbWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB0aGlzLnZhbHVlRGVzY3JpcHRvck5hbWVNYXBba2V5XTtcbiAgICAgICAgaWYgKHRoaXMuaGFzVmFsdWUoa2V5KSkge1xuICAgICAgICAgICAgdGhpcy5pbnZva2VDaGFuZ2VkQ2FsbGJhY2soa2V5LCBkZXNjcmlwdG9yLndyaXRlcih0aGlzLnJlY2VpdmVyW2tleV0pLCBvbGRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmludm9rZUNoYW5nZWRDYWxsYmFjayhrZXksIGRlc2NyaXB0b3Iud3JpdGVyKGRlc2NyaXB0b3IuZGVmYXVsdFZhbHVlKSwgb2xkVmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGludm9rZUNoYW5nZWRDYWxsYmFja3NGb3JEZWZhdWx0VmFsdWVzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHsga2V5LCBuYW1lLCBkZWZhdWx0VmFsdWUsIHdyaXRlciB9IG9mIHRoaXMudmFsdWVEZXNjcmlwdG9ycykge1xuICAgICAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSAhPSB1bmRlZmluZWQgJiYgIXRoaXMuY29udHJvbGxlci5kYXRhLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnZva2VDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgd3JpdGVyKGRlZmF1bHRWYWx1ZSksIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW52b2tlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIHJhd1ZhbHVlLCByYXdPbGRWYWx1ZSkge1xuICAgICAgICBjb25zdCBjaGFuZ2VkTWV0aG9kTmFtZSA9IGAke25hbWV9Q2hhbmdlZGA7XG4gICAgICAgIGNvbnN0IGNoYW5nZWRNZXRob2QgPSB0aGlzLnJlY2VpdmVyW2NoYW5nZWRNZXRob2ROYW1lXTtcbiAgICAgICAgaWYgKHR5cGVvZiBjaGFuZ2VkTWV0aG9kID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHRoaXMudmFsdWVEZXNjcmlwdG9yTmFtZU1hcFtuYW1lXTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkZXNjcmlwdG9yLnJlYWRlcihyYXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgbGV0IG9sZFZhbHVlID0gcmF3T2xkVmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHJhd09sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlID0gZGVzY3JpcHRvci5yZWFkZXIocmF3T2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGFuZ2VkTWV0aG9kLmNhbGwodGhpcy5yZWNlaXZlciwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFR5cGVFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlID0gYFN0aW11bHVzIFZhbHVlIFwiJHt0aGlzLmNvbnRleHQuaWRlbnRpZmllcn0uJHtkZXNjcmlwdG9yLm5hbWV9XCIgLSAke2Vycm9yLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHZhbHVlRGVzY3JpcHRvcnMoKSB7XG4gICAgICAgIGNvbnN0IHsgdmFsdWVEZXNjcmlwdG9yTWFwIH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModmFsdWVEZXNjcmlwdG9yTWFwKS5tYXAoKGtleSkgPT4gdmFsdWVEZXNjcmlwdG9yTWFwW2tleV0pO1xuICAgIH1cbiAgICBnZXQgdmFsdWVEZXNjcmlwdG9yTmFtZU1hcCgpIHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvcnMgPSB7fTtcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy52YWx1ZURlc2NyaXB0b3JNYXApLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHRoaXMudmFsdWVEZXNjcmlwdG9yTWFwW2tleV07XG4gICAgICAgICAgICBkZXNjcmlwdG9yc1tkZXNjcmlwdG9yLm5hbWVdID0gZGVzY3JpcHRvcjtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZXNjcmlwdG9ycztcbiAgICB9XG4gICAgaGFzVmFsdWUoYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gdGhpcy52YWx1ZURlc2NyaXB0b3JOYW1lTWFwW2F0dHJpYnV0ZU5hbWVdO1xuICAgICAgICBjb25zdCBoYXNNZXRob2ROYW1lID0gYGhhcyR7Y2FwaXRhbGl6ZShkZXNjcmlwdG9yLm5hbWUpfWA7XG4gICAgICAgIHJldHVybiB0aGlzLnJlY2VpdmVyW2hhc01ldGhvZE5hbWVdO1xuICAgIH1cbn1cblxuY2xhc3MgVGFyZ2V0T2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIGRlbGVnYXRlKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgdGhpcy50YXJnZXRzQnlOYW1lID0gbmV3IE11bHRpbWFwKCk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIgPSBuZXcgVG9rZW5MaXN0T2JzZXJ2ZXIodGhpcy5lbGVtZW50LCB0aGlzLmF0dHJpYnV0ZU5hbWUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy50b2tlbkxpc3RPYnNlcnZlci5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLnRva2VuTGlzdE9ic2VydmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3RBbGxUYXJnZXRzKCk7XG4gICAgICAgICAgICB0aGlzLnRva2VuTGlzdE9ic2VydmVyLnN0b3AoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnRva2VuTGlzdE9ic2VydmVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRva2VuTWF0Y2hlZCh7IGVsZW1lbnQsIGNvbnRlbnQ6IG5hbWUgfSkge1xuICAgICAgICBpZiAodGhpcy5zY29wZS5jb250YWluc0VsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdFRhcmdldChlbGVtZW50LCBuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b2tlblVubWF0Y2hlZCh7IGVsZW1lbnQsIGNvbnRlbnQ6IG5hbWUgfSkge1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RUYXJnZXQoZWxlbWVudCwgbmFtZSk7XG4gICAgfVxuICAgIGNvbm5lY3RUYXJnZXQoZWxlbWVudCwgbmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy50YXJnZXRzQnlOYW1lLmhhcyhuYW1lLCBlbGVtZW50KSkge1xuICAgICAgICAgICAgdGhpcy50YXJnZXRzQnlOYW1lLmFkZChuYW1lLCBlbGVtZW50KTtcbiAgICAgICAgICAgIChfYSA9IHRoaXMudG9rZW5MaXN0T2JzZXJ2ZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wYXVzZSgoKSA9PiB0aGlzLmRlbGVnYXRlLnRhcmdldENvbm5lY3RlZChlbGVtZW50LCBuYW1lKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzY29ubmVjdFRhcmdldChlbGVtZW50LCBuYW1lKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0c0J5TmFtZS5oYXMobmFtZSwgZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0c0J5TmFtZS5kZWxldGUobmFtZSwgZWxlbWVudCk7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLnRva2VuTGlzdE9ic2VydmVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGF1c2UoKCkgPT4gdGhpcy5kZWxlZ2F0ZS50YXJnZXREaXNjb25uZWN0ZWQoZWxlbWVudCwgbmFtZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RBbGxUYXJnZXRzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgdGhpcy50YXJnZXRzQnlOYW1lLmtleXMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiB0aGlzLnRhcmdldHNCeU5hbWUuZ2V0VmFsdWVzRm9yS2V5KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0VGFyZ2V0KGVsZW1lbnQsIG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBhdHRyaWJ1dGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gYGRhdGEtJHt0aGlzLmNvbnRleHQuaWRlbnRpZmllcn0tdGFyZ2V0YDtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IHNjb3BlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0LnNjb3BlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVhZEluaGVyaXRhYmxlU3RhdGljQXJyYXlWYWx1ZXMoY29uc3RydWN0b3IsIHByb3BlcnR5TmFtZSkge1xuICAgIGNvbnN0IGFuY2VzdG9ycyA9IGdldEFuY2VzdG9yc0ZvckNvbnN0cnVjdG9yKGNvbnN0cnVjdG9yKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShhbmNlc3RvcnMucmVkdWNlKCh2YWx1ZXMsIGNvbnN0cnVjdG9yKSA9PiB7XG4gICAgICAgIGdldE93blN0YXRpY0FycmF5VmFsdWVzKGNvbnN0cnVjdG9yLCBwcm9wZXJ0eU5hbWUpLmZvckVhY2goKG5hbWUpID0+IHZhbHVlcy5hZGQobmFtZSkpO1xuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH0sIG5ldyBTZXQoKSkpO1xufVxuZnVuY3Rpb24gcmVhZEluaGVyaXRhYmxlU3RhdGljT2JqZWN0UGFpcnMoY29uc3RydWN0b3IsIHByb3BlcnR5TmFtZSkge1xuICAgIGNvbnN0IGFuY2VzdG9ycyA9IGdldEFuY2VzdG9yc0ZvckNvbnN0cnVjdG9yKGNvbnN0cnVjdG9yKTtcbiAgICByZXR1cm4gYW5jZXN0b3JzLnJlZHVjZSgocGFpcnMsIGNvbnN0cnVjdG9yKSA9PiB7XG4gICAgICAgIHBhaXJzLnB1c2goLi4uZ2V0T3duU3RhdGljT2JqZWN0UGFpcnMoY29uc3RydWN0b3IsIHByb3BlcnR5TmFtZSkpO1xuICAgICAgICByZXR1cm4gcGFpcnM7XG4gICAgfSwgW10pO1xufVxuZnVuY3Rpb24gZ2V0QW5jZXN0b3JzRm9yQ29uc3RydWN0b3IoY29uc3RydWN0b3IpIHtcbiAgICBjb25zdCBhbmNlc3RvcnMgPSBbXTtcbiAgICB3aGlsZSAoY29uc3RydWN0b3IpIHtcbiAgICAgICAgYW5jZXN0b3JzLnB1c2goY29uc3RydWN0b3IpO1xuICAgICAgICBjb25zdHJ1Y3RvciA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjb25zdHJ1Y3Rvcik7XG4gICAgfVxuICAgIHJldHVybiBhbmNlc3RvcnMucmV2ZXJzZSgpO1xufVxuZnVuY3Rpb24gZ2V0T3duU3RhdGljQXJyYXlWYWx1ZXMoY29uc3RydWN0b3IsIHByb3BlcnR5TmFtZSkge1xuICAgIGNvbnN0IGRlZmluaXRpb24gPSBjb25zdHJ1Y3Rvcltwcm9wZXJ0eU5hbWVdO1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGRlZmluaXRpb24pID8gZGVmaW5pdGlvbiA6IFtdO1xufVxuZnVuY3Rpb24gZ2V0T3duU3RhdGljT2JqZWN0UGFpcnMoY29uc3RydWN0b3IsIHByb3BlcnR5TmFtZSkge1xuICAgIGNvbnN0IGRlZmluaXRpb24gPSBjb25zdHJ1Y3Rvcltwcm9wZXJ0eU5hbWVdO1xuICAgIHJldHVybiBkZWZpbml0aW9uID8gT2JqZWN0LmtleXMoZGVmaW5pdGlvbikubWFwKChrZXkpID0+IFtrZXksIGRlZmluaXRpb25ba2V5XV0pIDogW107XG59XG5cbmNsYXNzIE91dGxldE9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBkZWxlZ2F0ZSkge1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICB0aGlzLm91dGxldHNCeU5hbWUgPSBuZXcgTXVsdGltYXAoKTtcbiAgICAgICAgdGhpcy5vdXRsZXRFbGVtZW50c0J5TmFtZSA9IG5ldyBNdWx0aW1hcCgpO1xuICAgICAgICB0aGlzLnNlbGVjdG9yT2JzZXJ2ZXJNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlT2JzZXJ2ZXJNYXAgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5vdXRsZXREZWZpbml0aW9ucy5mb3JFYWNoKChvdXRsZXROYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXR1cFNlbGVjdG9yT2JzZXJ2ZXJGb3JPdXRsZXQob3V0bGV0TmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXR1cEF0dHJpYnV0ZU9ic2VydmVyRm9yT3V0bGV0KG91dGxldE5hbWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kZXBlbmRlbnRDb250ZXh0cy5mb3JFYWNoKChjb250ZXh0KSA9PiBjb250ZXh0LnJlZnJlc2goKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVmcmVzaCgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rvck9ic2VydmVyTWFwLmZvckVhY2goKG9ic2VydmVyKSA9PiBvYnNlcnZlci5yZWZyZXNoKCkpO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZU9ic2VydmVyTWFwLmZvckVhY2goKG9ic2VydmVyKSA9PiBvYnNlcnZlci5yZWZyZXNoKCkpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdEFsbE91dGxldHMoKTtcbiAgICAgICAgICAgIHRoaXMuc3RvcFNlbGVjdG9yT2JzZXJ2ZXJzKCk7XG4gICAgICAgICAgICB0aGlzLnN0b3BBdHRyaWJ1dGVPYnNlcnZlcnMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdG9wU2VsZWN0b3JPYnNlcnZlcnMoKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdG9yT2JzZXJ2ZXJNYXAuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0b3JPYnNlcnZlck1hcC5mb3JFYWNoKChvYnNlcnZlcikgPT4gb2JzZXJ2ZXIuc3RvcCgpKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0b3JPYnNlcnZlck1hcC5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0b3BBdHRyaWJ1dGVPYnNlcnZlcnMoKSB7XG4gICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZU9ic2VydmVyTWFwLnNpemUgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZU9ic2VydmVyTWFwLmZvckVhY2goKG9ic2VydmVyKSA9PiBvYnNlcnZlci5zdG9wKCkpO1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYnNlcnZlck1hcC5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNlbGVjdG9yTWF0Y2hlZChlbGVtZW50LCBfc2VsZWN0b3IsIHsgb3V0bGV0TmFtZSB9KSB7XG4gICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMuZ2V0T3V0bGV0KGVsZW1lbnQsIG91dGxldE5hbWUpO1xuICAgICAgICBpZiAob3V0bGV0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RPdXRsZXQob3V0bGV0LCBlbGVtZW50LCBvdXRsZXROYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZWxlY3RvclVubWF0Y2hlZChlbGVtZW50LCBfc2VsZWN0b3IsIHsgb3V0bGV0TmFtZSB9KSB7XG4gICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMuZ2V0T3V0bGV0RnJvbU1hcChlbGVtZW50LCBvdXRsZXROYW1lKTtcbiAgICAgICAgaWYgKG91dGxldCkge1xuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0T3V0bGV0KG91dGxldCwgZWxlbWVudCwgb3V0bGV0TmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2VsZWN0b3JNYXRjaEVsZW1lbnQoZWxlbWVudCwgeyBvdXRsZXROYW1lIH0pIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yKG91dGxldE5hbWUpO1xuICAgICAgICBjb25zdCBoYXNPdXRsZXQgPSB0aGlzLmhhc091dGxldChlbGVtZW50LCBvdXRsZXROYW1lKTtcbiAgICAgICAgY29uc3QgaGFzT3V0bGV0Q29udHJvbGxlciA9IGVsZW1lbnQubWF0Y2hlcyhgWyR7dGhpcy5zY2hlbWEuY29udHJvbGxlckF0dHJpYnV0ZX1+PSR7b3V0bGV0TmFtZX1dYCk7XG4gICAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIGhhc091dGxldCAmJiBoYXNPdXRsZXRDb250cm9sbGVyICYmIGVsZW1lbnQubWF0Y2hlcyhzZWxlY3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudE1hdGNoZWRBdHRyaWJ1dGUoX2VsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgY29uc3Qgb3V0bGV0TmFtZSA9IHRoaXMuZ2V0T3V0bGV0TmFtZUZyb21PdXRsZXRBdHRyaWJ1dGVOYW1lKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICBpZiAob3V0bGV0TmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTZWxlY3Rvck9ic2VydmVyRm9yT3V0bGV0KG91dGxldE5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRBdHRyaWJ1dGVWYWx1ZUNoYW5nZWQoX2VsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgY29uc3Qgb3V0bGV0TmFtZSA9IHRoaXMuZ2V0T3V0bGV0TmFtZUZyb21PdXRsZXRBdHRyaWJ1dGVOYW1lKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICBpZiAob3V0bGV0TmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTZWxlY3Rvck9ic2VydmVyRm9yT3V0bGV0KG91dGxldE5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsZW1lbnRVbm1hdGNoZWRBdHRyaWJ1dGUoX2VsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgY29uc3Qgb3V0bGV0TmFtZSA9IHRoaXMuZ2V0T3V0bGV0TmFtZUZyb21PdXRsZXRBdHRyaWJ1dGVOYW1lKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICBpZiAob3V0bGV0TmFtZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTZWxlY3Rvck9ic2VydmVyRm9yT3V0bGV0KG91dGxldE5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbm5lY3RPdXRsZXQob3V0bGV0LCBlbGVtZW50LCBvdXRsZXROYW1lKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLm91dGxldEVsZW1lbnRzQnlOYW1lLmhhcyhvdXRsZXROYW1lLCBlbGVtZW50KSkge1xuICAgICAgICAgICAgdGhpcy5vdXRsZXRzQnlOYW1lLmFkZChvdXRsZXROYW1lLCBvdXRsZXQpO1xuICAgICAgICAgICAgdGhpcy5vdXRsZXRFbGVtZW50c0J5TmFtZS5hZGQob3V0bGV0TmFtZSwgZWxlbWVudCk7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLnNlbGVjdG9yT2JzZXJ2ZXJNYXAuZ2V0KG91dGxldE5hbWUpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGF1c2UoKCkgPT4gdGhpcy5kZWxlZ2F0ZS5vdXRsZXRDb25uZWN0ZWQob3V0bGV0LCBlbGVtZW50LCBvdXRsZXROYW1lKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzY29ubmVjdE91dGxldChvdXRsZXQsIGVsZW1lbnQsIG91dGxldE5hbWUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5vdXRsZXRFbGVtZW50c0J5TmFtZS5oYXMob3V0bGV0TmFtZSwgZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMub3V0bGV0c0J5TmFtZS5kZWxldGUob3V0bGV0TmFtZSwgb3V0bGV0KTtcbiAgICAgICAgICAgIHRoaXMub3V0bGV0RWxlbWVudHNCeU5hbWUuZGVsZXRlKG91dGxldE5hbWUsIGVsZW1lbnQpO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5zZWxlY3Rvck9ic2VydmVyTWFwXG4gICAgICAgICAgICAgICAgLmdldChvdXRsZXROYW1lKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhdXNlKCgpID0+IHRoaXMuZGVsZWdhdGUub3V0bGV0RGlzY29ubmVjdGVkKG91dGxldCwgZWxlbWVudCwgb3V0bGV0TmFtZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RBbGxPdXRsZXRzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IG91dGxldE5hbWUgb2YgdGhpcy5vdXRsZXRFbGVtZW50c0J5TmFtZS5rZXlzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcy5vdXRsZXRFbGVtZW50c0J5TmFtZS5nZXRWYWx1ZXNGb3JLZXkob3V0bGV0TmFtZSkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG91dGxldCBvZiB0aGlzLm91dGxldHNCeU5hbWUuZ2V0VmFsdWVzRm9yS2V5KG91dGxldE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdE91dGxldChvdXRsZXQsIGVsZW1lbnQsIG91dGxldE5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVTZWxlY3Rvck9ic2VydmVyRm9yT3V0bGV0KG91dGxldE5hbWUpIHtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLnNlbGVjdG9yT2JzZXJ2ZXJNYXAuZ2V0KG91dGxldE5hbWUpO1xuICAgICAgICBpZiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLnNlbGVjdG9yID0gdGhpcy5zZWxlY3RvcihvdXRsZXROYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXR1cFNlbGVjdG9yT2JzZXJ2ZXJGb3JPdXRsZXQob3V0bGV0TmFtZSkge1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMuc2VsZWN0b3Iob3V0bGV0TmFtZSk7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yT2JzZXJ2ZXIgPSBuZXcgU2VsZWN0b3JPYnNlcnZlcihkb2N1bWVudC5ib2R5LCBzZWxlY3RvciwgdGhpcywgeyBvdXRsZXROYW1lIH0pO1xuICAgICAgICB0aGlzLnNlbGVjdG9yT2JzZXJ2ZXJNYXAuc2V0KG91dGxldE5hbWUsIHNlbGVjdG9yT2JzZXJ2ZXIpO1xuICAgICAgICBzZWxlY3Rvck9ic2VydmVyLnN0YXJ0KCk7XG4gICAgfVxuICAgIHNldHVwQXR0cmlidXRlT2JzZXJ2ZXJGb3JPdXRsZXQob3V0bGV0TmFtZSkge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gdGhpcy5hdHRyaWJ1dGVOYW1lRm9yT3V0bGV0TmFtZShvdXRsZXROYW1lKTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlT2JzZXJ2ZXIgPSBuZXcgQXR0cmlidXRlT2JzZXJ2ZXIodGhpcy5zY29wZS5lbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCB0aGlzKTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVPYnNlcnZlck1hcC5zZXQob3V0bGV0TmFtZSwgYXR0cmlidXRlT2JzZXJ2ZXIpO1xuICAgICAgICBhdHRyaWJ1dGVPYnNlcnZlci5zdGFydCgpO1xuICAgIH1cbiAgICBzZWxlY3RvcihvdXRsZXROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLm91dGxldHMuZ2V0U2VsZWN0b3JGb3JPdXRsZXROYW1lKG91dGxldE5hbWUpO1xuICAgIH1cbiAgICBhdHRyaWJ1dGVOYW1lRm9yT3V0bGV0TmFtZShvdXRsZXROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLnNjaGVtYS5vdXRsZXRBdHRyaWJ1dGVGb3JTY29wZSh0aGlzLmlkZW50aWZpZXIsIG91dGxldE5hbWUpO1xuICAgIH1cbiAgICBnZXRPdXRsZXROYW1lRnJvbU91dGxldEF0dHJpYnV0ZU5hbWUoYXR0cmlidXRlTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdXRsZXREZWZpbml0aW9ucy5maW5kKChvdXRsZXROYW1lKSA9PiB0aGlzLmF0dHJpYnV0ZU5hbWVGb3JPdXRsZXROYW1lKG91dGxldE5hbWUpID09PSBhdHRyaWJ1dGVOYW1lKTtcbiAgICB9XG4gICAgZ2V0IG91dGxldERlcGVuZGVuY2llcygpIHtcbiAgICAgICAgY29uc3QgZGVwZW5kZW5jaWVzID0gbmV3IE11bHRpbWFwKCk7XG4gICAgICAgIHRoaXMucm91dGVyLm1vZHVsZXMuZm9yRWFjaCgobW9kdWxlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb25zdHJ1Y3RvciA9IG1vZHVsZS5kZWZpbml0aW9uLmNvbnRyb2xsZXJDb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldHMgPSByZWFkSW5oZXJpdGFibGVTdGF0aWNBcnJheVZhbHVlcyhjb25zdHJ1Y3RvciwgXCJvdXRsZXRzXCIpO1xuICAgICAgICAgICAgb3V0bGV0cy5mb3JFYWNoKChvdXRsZXQpID0+IGRlcGVuZGVuY2llcy5hZGQob3V0bGV0LCBtb2R1bGUuaWRlbnRpZmllcikpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlcGVuZGVuY2llcztcbiAgICB9XG4gICAgZ2V0IG91dGxldERlZmluaXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vdXRsZXREZXBlbmRlbmNpZXMuZ2V0S2V5c0ZvclZhbHVlKHRoaXMuaWRlbnRpZmllcik7XG4gICAgfVxuICAgIGdldCBkZXBlbmRlbnRDb250cm9sbGVySWRlbnRpZmllcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91dGxldERlcGVuZGVuY2llcy5nZXRWYWx1ZXNGb3JLZXkodGhpcy5pZGVudGlmaWVyKTtcbiAgICB9XG4gICAgZ2V0IGRlcGVuZGVudENvbnRleHRzKCkge1xuICAgICAgICBjb25zdCBpZGVudGlmaWVycyA9IHRoaXMuZGVwZW5kZW50Q29udHJvbGxlcklkZW50aWZpZXJzO1xuICAgICAgICByZXR1cm4gdGhpcy5yb3V0ZXIuY29udGV4dHMuZmlsdGVyKChjb250ZXh0KSA9PiBpZGVudGlmaWVycy5pbmNsdWRlcyhjb250ZXh0LmlkZW50aWZpZXIpKTtcbiAgICB9XG4gICAgaGFzT3V0bGV0KGVsZW1lbnQsIG91dGxldE5hbWUpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5nZXRPdXRsZXQoZWxlbWVudCwgb3V0bGV0TmFtZSkgfHwgISF0aGlzLmdldE91dGxldEZyb21NYXAoZWxlbWVudCwgb3V0bGV0TmFtZSk7XG4gICAgfVxuICAgIGdldE91dGxldChlbGVtZW50LCBvdXRsZXROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGxpY2F0aW9uLmdldENvbnRyb2xsZXJGb3JFbGVtZW50QW5kSWRlbnRpZmllcihlbGVtZW50LCBvdXRsZXROYW1lKTtcbiAgICB9XG4gICAgZ2V0T3V0bGV0RnJvbU1hcChlbGVtZW50LCBvdXRsZXROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91dGxldHNCeU5hbWUuZ2V0VmFsdWVzRm9yS2V5KG91dGxldE5hbWUpLmZpbmQoKG91dGxldCkgPT4gb3V0bGV0LmVsZW1lbnQgPT09IGVsZW1lbnQpO1xuICAgIH1cbiAgICBnZXQgc2NvcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc2NvcGU7XG4gICAgfVxuICAgIGdldCBzY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc2NoZW1hO1xuICAgIH1cbiAgICBnZXQgaWRlbnRpZmllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5pZGVudGlmaWVyO1xuICAgIH1cbiAgICBnZXQgYXBwbGljYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuYXBwbGljYXRpb247XG4gICAgfVxuICAgIGdldCByb3V0ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGxpY2F0aW9uLnJvdXRlcjtcbiAgICB9XG59XG5cbmNsYXNzIENvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKG1vZHVsZSwgc2NvcGUpIHtcbiAgICAgICAgdGhpcy5sb2dEZWJ1Z0FjdGl2aXR5ID0gKGZ1bmN0aW9uTmFtZSwgZGV0YWlsID0ge30pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaWRlbnRpZmllciwgY29udHJvbGxlciwgZWxlbWVudCB9ID0gdGhpcztcbiAgICAgICAgICAgIGRldGFpbCA9IE9iamVjdC5hc3NpZ24oeyBpZGVudGlmaWVyLCBjb250cm9sbGVyLCBlbGVtZW50IH0sIGRldGFpbCk7XG4gICAgICAgICAgICB0aGlzLmFwcGxpY2F0aW9uLmxvZ0RlYnVnQWN0aXZpdHkodGhpcy5pZGVudGlmaWVyLCBmdW5jdGlvbk5hbWUsIGRldGFpbCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubW9kdWxlID0gbW9kdWxlO1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBtb2R1bGUuY29udHJvbGxlckNvbnN0cnVjdG9yKHRoaXMpO1xuICAgICAgICB0aGlzLmJpbmRpbmdPYnNlcnZlciA9IG5ldyBCaW5kaW5nT2JzZXJ2ZXIodGhpcywgdGhpcy5kaXNwYXRjaGVyKTtcbiAgICAgICAgdGhpcy52YWx1ZU9ic2VydmVyID0gbmV3IFZhbHVlT2JzZXJ2ZXIodGhpcywgdGhpcy5jb250cm9sbGVyKTtcbiAgICAgICAgdGhpcy50YXJnZXRPYnNlcnZlciA9IG5ldyBUYXJnZXRPYnNlcnZlcih0aGlzLCB0aGlzKTtcbiAgICAgICAgdGhpcy5vdXRsZXRPYnNlcnZlciA9IG5ldyBPdXRsZXRPYnNlcnZlcih0aGlzLCB0aGlzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5pbml0aWFsaXplKCk7XG4gICAgICAgICAgICB0aGlzLmxvZ0RlYnVnQWN0aXZpdHkoXCJpbml0aWFsaXplXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvciwgXCJpbml0aWFsaXppbmcgY29udHJvbGxlclwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25uZWN0KCkge1xuICAgICAgICB0aGlzLmJpbmRpbmdPYnNlcnZlci5zdGFydCgpO1xuICAgICAgICB0aGlzLnZhbHVlT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgICAgdGhpcy50YXJnZXRPYnNlcnZlci5zdGFydCgpO1xuICAgICAgICB0aGlzLm91dGxldE9ic2VydmVyLnN0YXJ0KCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5sb2dEZWJ1Z0FjdGl2aXR5KFwiY29ubmVjdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IsIFwiY29ubmVjdGluZyBjb250cm9sbGVyXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlZnJlc2goKSB7XG4gICAgICAgIHRoaXMub3V0bGV0T2JzZXJ2ZXIucmVmcmVzaCgpO1xuICAgIH1cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMubG9nRGVidWdBY3Rpdml0eShcImRpc2Nvbm5lY3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yLCBcImRpc2Nvbm5lY3RpbmcgY29udHJvbGxlclwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm91dGxldE9ic2VydmVyLnN0b3AoKTtcbiAgICAgICAgdGhpcy50YXJnZXRPYnNlcnZlci5zdG9wKCk7XG4gICAgICAgIHRoaXMudmFsdWVPYnNlcnZlci5zdG9wKCk7XG4gICAgICAgIHRoaXMuYmluZGluZ09ic2VydmVyLnN0b3AoKTtcbiAgICB9XG4gICAgZ2V0IGFwcGxpY2F0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2R1bGUuYXBwbGljYXRpb247XG4gICAgfVxuICAgIGdldCBpZGVudGlmaWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2R1bGUuaWRlbnRpZmllcjtcbiAgICB9XG4gICAgZ2V0IHNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbGljYXRpb24uc2NoZW1hO1xuICAgIH1cbiAgICBnZXQgZGlzcGF0Y2hlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbGljYXRpb24uZGlzcGF0Y2hlcjtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBwYXJlbnRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICAgIGhhbmRsZUVycm9yKGVycm9yLCBtZXNzYWdlLCBkZXRhaWwgPSB7fSkge1xuICAgICAgICBjb25zdCB7IGlkZW50aWZpZXIsIGNvbnRyb2xsZXIsIGVsZW1lbnQgfSA9IHRoaXM7XG4gICAgICAgIGRldGFpbCA9IE9iamVjdC5hc3NpZ24oeyBpZGVudGlmaWVyLCBjb250cm9sbGVyLCBlbGVtZW50IH0sIGRldGFpbCk7XG4gICAgICAgIHRoaXMuYXBwbGljYXRpb24uaGFuZGxlRXJyb3IoZXJyb3IsIGBFcnJvciAke21lc3NhZ2V9YCwgZGV0YWlsKTtcbiAgICB9XG4gICAgdGFyZ2V0Q29ubmVjdGVkKGVsZW1lbnQsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5pbnZva2VDb250cm9sbGVyTWV0aG9kKGAke25hbWV9VGFyZ2V0Q29ubmVjdGVkYCwgZWxlbWVudCk7XG4gICAgfVxuICAgIHRhcmdldERpc2Nvbm5lY3RlZChlbGVtZW50LCBuYW1lKSB7XG4gICAgICAgIHRoaXMuaW52b2tlQ29udHJvbGxlck1ldGhvZChgJHtuYW1lfVRhcmdldERpc2Nvbm5lY3RlZGAsIGVsZW1lbnQpO1xuICAgIH1cbiAgICBvdXRsZXRDb25uZWN0ZWQob3V0bGV0LCBlbGVtZW50LCBuYW1lKSB7XG4gICAgICAgIHRoaXMuaW52b2tlQ29udHJvbGxlck1ldGhvZChgJHtuYW1lc3BhY2VDYW1lbGl6ZShuYW1lKX1PdXRsZXRDb25uZWN0ZWRgLCBvdXRsZXQsIGVsZW1lbnQpO1xuICAgIH1cbiAgICBvdXRsZXREaXNjb25uZWN0ZWQob3V0bGV0LCBlbGVtZW50LCBuYW1lKSB7XG4gICAgICAgIHRoaXMuaW52b2tlQ29udHJvbGxlck1ldGhvZChgJHtuYW1lc3BhY2VDYW1lbGl6ZShuYW1lKX1PdXRsZXREaXNjb25uZWN0ZWRgLCBvdXRsZXQsIGVsZW1lbnQpO1xuICAgIH1cbiAgICBpbnZva2VDb250cm9sbGVyTWV0aG9kKG1ldGhvZE5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IHRoaXMuY29udHJvbGxlcjtcbiAgICAgICAgaWYgKHR5cGVvZiBjb250cm9sbGVyW21ldGhvZE5hbWVdID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgY29udHJvbGxlclttZXRob2ROYW1lXSguLi5hcmdzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gYmxlc3MoY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gc2hhZG93KGNvbnN0cnVjdG9yLCBnZXRCbGVzc2VkUHJvcGVydGllcyhjb25zdHJ1Y3RvcikpO1xufVxuZnVuY3Rpb24gc2hhZG93KGNvbnN0cnVjdG9yLCBwcm9wZXJ0aWVzKSB7XG4gICAgY29uc3Qgc2hhZG93Q29uc3RydWN0b3IgPSBleHRlbmQoY29uc3RydWN0b3IpO1xuICAgIGNvbnN0IHNoYWRvd1Byb3BlcnRpZXMgPSBnZXRTaGFkb3dQcm9wZXJ0aWVzKGNvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvcGVydGllcyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc2hhZG93Q29uc3RydWN0b3IucHJvdG90eXBlLCBzaGFkb3dQcm9wZXJ0aWVzKTtcbiAgICByZXR1cm4gc2hhZG93Q29uc3RydWN0b3I7XG59XG5mdW5jdGlvbiBnZXRCbGVzc2VkUHJvcGVydGllcyhjb25zdHJ1Y3Rvcikge1xuICAgIGNvbnN0IGJsZXNzaW5ncyA9IHJlYWRJbmhlcml0YWJsZVN0YXRpY0FycmF5VmFsdWVzKGNvbnN0cnVjdG9yLCBcImJsZXNzaW5nc1wiKTtcbiAgICByZXR1cm4gYmxlc3NpbmdzLnJlZHVjZSgoYmxlc3NlZFByb3BlcnRpZXMsIGJsZXNzaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBibGVzc2luZyhjb25zdHJ1Y3Rvcik7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSBibGVzc2VkUHJvcGVydGllc1trZXldIHx8IHt9O1xuICAgICAgICAgICAgYmxlc3NlZFByb3BlcnRpZXNba2V5XSA9IE9iamVjdC5hc3NpZ24oZGVzY3JpcHRvciwgcHJvcGVydGllc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmxlc3NlZFByb3BlcnRpZXM7XG4gICAgfSwge30pO1xufVxuZnVuY3Rpb24gZ2V0U2hhZG93UHJvcGVydGllcyhwcm90b3R5cGUsIHByb3BlcnRpZXMpIHtcbiAgICByZXR1cm4gZ2V0T3duS2V5cyhwcm9wZXJ0aWVzKS5yZWR1Y2UoKHNoYWRvd1Byb3BlcnRpZXMsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gZ2V0U2hhZG93ZWREZXNjcmlwdG9yKHByb3RvdHlwZSwgcHJvcGVydGllcywga2V5KTtcbiAgICAgICAgaWYgKGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc2hhZG93UHJvcGVydGllcywgeyBba2V5XTogZGVzY3JpcHRvciB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2hhZG93UHJvcGVydGllcztcbiAgICB9LCB7fSk7XG59XG5mdW5jdGlvbiBnZXRTaGFkb3dlZERlc2NyaXB0b3IocHJvdG90eXBlLCBwcm9wZXJ0aWVzLCBrZXkpIHtcbiAgICBjb25zdCBzaGFkb3dpbmdEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90b3R5cGUsIGtleSk7XG4gICAgY29uc3Qgc2hhZG93ZWRCeVZhbHVlID0gc2hhZG93aW5nRGVzY3JpcHRvciAmJiBcInZhbHVlXCIgaW4gc2hhZG93aW5nRGVzY3JpcHRvcjtcbiAgICBpZiAoIXNoYWRvd2VkQnlWYWx1ZSkge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm9wZXJ0aWVzLCBrZXkpLnZhbHVlO1xuICAgICAgICBpZiAoc2hhZG93aW5nRGVzY3JpcHRvcikge1xuICAgICAgICAgICAgZGVzY3JpcHRvci5nZXQgPSBzaGFkb3dpbmdEZXNjcmlwdG9yLmdldCB8fCBkZXNjcmlwdG9yLmdldDtcbiAgICAgICAgICAgIGRlc2NyaXB0b3Iuc2V0ID0gc2hhZG93aW5nRGVzY3JpcHRvci5zZXQgfHwgZGVzY3JpcHRvci5zZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgfVxufVxuY29uc3QgZ2V0T3duS2V5cyA9ICgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gKG9iamVjdCkgPT4gWy4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iamVjdCksIC4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KV07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG4gICAgfVxufSkoKTtcbmNvbnN0IGV4dGVuZCA9ICgoKSA9PiB7XG4gICAgZnVuY3Rpb24gZXh0ZW5kV2l0aFJlZmxlY3QoY29uc3RydWN0b3IpIHtcbiAgICAgICAgZnVuY3Rpb24gZXh0ZW5kZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5jb25zdHJ1Y3QoY29uc3RydWN0b3IsIGFyZ3VtZW50cywgbmV3LnRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgZXh0ZW5kZWQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShjb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBleHRlbmRlZCB9LFxuICAgICAgICB9KTtcbiAgICAgICAgUmVmbGVjdC5zZXRQcm90b3R5cGVPZihleHRlbmRlZCwgY29uc3RydWN0b3IpO1xuICAgICAgICByZXR1cm4gZXh0ZW5kZWQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RSZWZsZWN0RXh0ZW5zaW9uKCkge1xuICAgICAgICBjb25zdCBhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5hLmNhbGwodGhpcyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGIgPSBleHRlbmRXaXRoUmVmbGVjdChhKTtcbiAgICAgICAgYi5wcm90b3R5cGUuYSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBiKCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHRlc3RSZWZsZWN0RXh0ZW5zaW9uKCk7XG4gICAgICAgIHJldHVybiBleHRlbmRXaXRoUmVmbGVjdDtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiAoY29uc3RydWN0b3IpID0+IGNsYXNzIGV4dGVuZGVkIGV4dGVuZHMgY29uc3RydWN0b3Ige1xuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG5cbmZ1bmN0aW9uIGJsZXNzRGVmaW5pdGlvbihkZWZpbml0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWRlbnRpZmllcjogZGVmaW5pdGlvbi5pZGVudGlmaWVyLFxuICAgICAgICBjb250cm9sbGVyQ29uc3RydWN0b3I6IGJsZXNzKGRlZmluaXRpb24uY29udHJvbGxlckNvbnN0cnVjdG9yKSxcbiAgICB9O1xufVxuXG5jbGFzcyBNb2R1bGUge1xuICAgIGNvbnN0cnVjdG9yKGFwcGxpY2F0aW9uLCBkZWZpbml0aW9uKSB7XG4gICAgICAgIHRoaXMuYXBwbGljYXRpb24gPSBhcHBsaWNhdGlvbjtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uID0gYmxlc3NEZWZpbml0aW9uKGRlZmluaXRpb24pO1xuICAgICAgICB0aGlzLmNvbnRleHRzQnlTY29wZSA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkQ29udGV4dHMgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIGdldCBpZGVudGlmaWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWZpbml0aW9uLmlkZW50aWZpZXI7XG4gICAgfVxuICAgIGdldCBjb250cm9sbGVyQ29uc3RydWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmluaXRpb24uY29udHJvbGxlckNvbnN0cnVjdG9yO1xuICAgIH1cbiAgICBnZXQgY29udGV4dHMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuY29ubmVjdGVkQ29udGV4dHMpO1xuICAgIH1cbiAgICBjb25uZWN0Q29udGV4dEZvclNjb3BlKHNjb3BlKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmZldGNoQ29udGV4dEZvclNjb3BlKHNjb3BlKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDb250ZXh0cy5hZGQoY29udGV4dCk7XG4gICAgICAgIGNvbnRleHQuY29ubmVjdCgpO1xuICAgIH1cbiAgICBkaXNjb25uZWN0Q29udGV4dEZvclNjb3BlKHNjb3BlKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHRzQnlTY29wZS5nZXQoc2NvcGUpO1xuICAgICAgICBpZiAoY29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWRDb250ZXh0cy5kZWxldGUoY29udGV4dCk7XG4gICAgICAgICAgICBjb250ZXh0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmZXRjaENvbnRleHRGb3JTY29wZShzY29wZSkge1xuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMuY29udGV4dHNCeVNjb3BlLmdldChzY29wZSk7XG4gICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgICAgY29udGV4dCA9IG5ldyBDb250ZXh0KHRoaXMsIHNjb3BlKTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dHNCeVNjb3BlLnNldChzY29wZSwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxufVxuXG5jbGFzcyBDbGFzc01hcCB7XG4gICAgY29uc3RydWN0b3Ioc2NvcGUpIHtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIH1cbiAgICBoYXMobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmhhcyh0aGlzLmdldERhdGFLZXkobmFtZSkpO1xuICAgIH1cbiAgICBnZXQobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGwobmFtZSlbMF07XG4gICAgfVxuICAgIGdldEFsbChuYW1lKSB7XG4gICAgICAgIGNvbnN0IHRva2VuU3RyaW5nID0gdGhpcy5kYXRhLmdldCh0aGlzLmdldERhdGFLZXkobmFtZSkpIHx8IFwiXCI7XG4gICAgICAgIHJldHVybiB0b2tlbml6ZSh0b2tlblN0cmluZyk7XG4gICAgfVxuICAgIGdldEF0dHJpYnV0ZU5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmdldEF0dHJpYnV0ZU5hbWVGb3JLZXkodGhpcy5nZXREYXRhS2V5KG5hbWUpKTtcbiAgICB9XG4gICAgZ2V0RGF0YUtleShuYW1lKSB7XG4gICAgICAgIHJldHVybiBgJHtuYW1lfS1jbGFzc2A7XG4gICAgfVxuICAgIGdldCBkYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5kYXRhO1xuICAgIH1cbn1cblxuY2xhc3MgRGF0YU1hcCB7XG4gICAgY29uc3RydWN0b3Ioc2NvcGUpIHtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IGlkZW50aWZpZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmlkZW50aWZpZXI7XG4gICAgfVxuICAgIGdldChrZXkpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlTmFtZUZvcktleShrZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICB9XG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlTmFtZUZvcktleShrZXkpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KGtleSk7XG4gICAgfVxuICAgIGhhcyhrZXkpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlTmFtZUZvcktleShrZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50Lmhhc0F0dHJpYnV0ZShuYW1lKTtcbiAgICB9XG4gICAgZGVsZXRlKGtleSkge1xuICAgICAgICBpZiAodGhpcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuZ2V0QXR0cmlidXRlTmFtZUZvcktleShrZXkpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldEF0dHJpYnV0ZU5hbWVGb3JLZXkoa2V5KSB7XG4gICAgICAgIHJldHVybiBgZGF0YS0ke3RoaXMuaWRlbnRpZmllcn0tJHtkYXNoZXJpemUoa2V5KX1gO1xuICAgIH1cbn1cblxuY2xhc3MgR3VpZGUge1xuICAgIGNvbnN0cnVjdG9yKGxvZ2dlcikge1xuICAgICAgICB0aGlzLndhcm5lZEtleXNCeU9iamVjdCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICAgIH1cbiAgICB3YXJuKG9iamVjdCwga2V5LCBtZXNzYWdlKSB7XG4gICAgICAgIGxldCB3YXJuZWRLZXlzID0gdGhpcy53YXJuZWRLZXlzQnlPYmplY3QuZ2V0KG9iamVjdCk7XG4gICAgICAgIGlmICghd2FybmVkS2V5cykge1xuICAgICAgICAgICAgd2FybmVkS2V5cyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIHRoaXMud2FybmVkS2V5c0J5T2JqZWN0LnNldChvYmplY3QsIHdhcm5lZEtleXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghd2FybmVkS2V5cy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgd2FybmVkS2V5cy5hZGQoa2V5KTtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4obWVzc2FnZSwgb2JqZWN0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gYXR0cmlidXRlVmFsdWVDb250YWluc1Rva2VuKGF0dHJpYnV0ZU5hbWUsIHRva2VuKSB7XG4gICAgcmV0dXJuIGBbJHthdHRyaWJ1dGVOYW1lfX49XCIke3Rva2VufVwiXWA7XG59XG5cbmNsYXNzIFRhcmdldFNldCB7XG4gICAgY29uc3RydWN0b3Ioc2NvcGUpIHtcbiAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IGlkZW50aWZpZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmlkZW50aWZpZXI7XG4gICAgfVxuICAgIGdldCBzY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLnNjaGVtYTtcbiAgICB9XG4gICAgaGFzKHRhcmdldE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZCh0YXJnZXROYW1lKSAhPSBudWxsO1xuICAgIH1cbiAgICBmaW5kKC4uLnRhcmdldE5hbWVzKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXROYW1lcy5yZWR1Y2UoKHRhcmdldCwgdGFyZ2V0TmFtZSkgPT4gdGFyZ2V0IHx8IHRoaXMuZmluZFRhcmdldCh0YXJnZXROYW1lKSB8fCB0aGlzLmZpbmRMZWdhY3lUYXJnZXQodGFyZ2V0TmFtZSksIHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIGZpbmRBbGwoLi4udGFyZ2V0TmFtZXMpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldE5hbWVzLnJlZHVjZSgodGFyZ2V0cywgdGFyZ2V0TmFtZSkgPT4gW1xuICAgICAgICAgICAgLi4udGFyZ2V0cyxcbiAgICAgICAgICAgIC4uLnRoaXMuZmluZEFsbFRhcmdldHModGFyZ2V0TmFtZSksXG4gICAgICAgICAgICAuLi50aGlzLmZpbmRBbGxMZWdhY3lUYXJnZXRzKHRhcmdldE5hbWUpLFxuICAgICAgICBdLCBbXSk7XG4gICAgfVxuICAgIGZpbmRUYXJnZXQodGFyZ2V0TmFtZSkge1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMuZ2V0U2VsZWN0b3JGb3JUYXJnZXROYW1lKHRhcmdldE5hbWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5maW5kRWxlbWVudChzZWxlY3Rvcik7XG4gICAgfVxuICAgIGZpbmRBbGxUYXJnZXRzKHRhcmdldE5hbWUpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLmdldFNlbGVjdG9yRm9yVGFyZ2V0TmFtZSh0YXJnZXROYW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuZmluZEFsbEVsZW1lbnRzKHNlbGVjdG9yKTtcbiAgICB9XG4gICAgZ2V0U2VsZWN0b3JGb3JUYXJnZXROYW1lKHRhcmdldE5hbWUpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlTmFtZSA9IHRoaXMuc2NoZW1hLnRhcmdldEF0dHJpYnV0ZUZvclNjb3BlKHRoaXMuaWRlbnRpZmllcik7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVWYWx1ZUNvbnRhaW5zVG9rZW4oYXR0cmlidXRlTmFtZSwgdGFyZ2V0TmFtZSk7XG4gICAgfVxuICAgIGZpbmRMZWdhY3lUYXJnZXQodGFyZ2V0TmFtZSkge1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMuZ2V0TGVnYWN5U2VsZWN0b3JGb3JUYXJnZXROYW1lKHRhcmdldE5hbWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5kZXByZWNhdGUodGhpcy5zY29wZS5maW5kRWxlbWVudChzZWxlY3RvciksIHRhcmdldE5hbWUpO1xuICAgIH1cbiAgICBmaW5kQWxsTGVnYWN5VGFyZ2V0cyh0YXJnZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5nZXRMZWdhY3lTZWxlY3RvckZvclRhcmdldE5hbWUodGFyZ2V0TmFtZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmZpbmRBbGxFbGVtZW50cyhzZWxlY3RvcikubWFwKChlbGVtZW50KSA9PiB0aGlzLmRlcHJlY2F0ZShlbGVtZW50LCB0YXJnZXROYW1lKSk7XG4gICAgfVxuICAgIGdldExlZ2FjeVNlbGVjdG9yRm9yVGFyZ2V0TmFtZSh0YXJnZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldERlc2NyaXB0b3IgPSBgJHt0aGlzLmlkZW50aWZpZXJ9LiR7dGFyZ2V0TmFtZX1gO1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlVmFsdWVDb250YWluc1Rva2VuKHRoaXMuc2NoZW1hLnRhcmdldEF0dHJpYnV0ZSwgdGFyZ2V0RGVzY3JpcHRvcik7XG4gICAgfVxuICAgIGRlcHJlY2F0ZShlbGVtZW50LCB0YXJnZXROYW1lKSB7XG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IGlkZW50aWZpZXIgfSA9IHRoaXM7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gdGhpcy5zY2hlbWEudGFyZ2V0QXR0cmlidXRlO1xuICAgICAgICAgICAgY29uc3QgcmV2aXNlZEF0dHJpYnV0ZU5hbWUgPSB0aGlzLnNjaGVtYS50YXJnZXRBdHRyaWJ1dGVGb3JTY29wZShpZGVudGlmaWVyKTtcbiAgICAgICAgICAgIHRoaXMuZ3VpZGUud2FybihlbGVtZW50LCBgdGFyZ2V0OiR7dGFyZ2V0TmFtZX1gLCBgUGxlYXNlIHJlcGxhY2UgJHthdHRyaWJ1dGVOYW1lfT1cIiR7aWRlbnRpZmllcn0uJHt0YXJnZXROYW1lfVwiIHdpdGggJHtyZXZpc2VkQXR0cmlidXRlTmFtZX09XCIke3RhcmdldE5hbWV9XCIuIGAgK1xuICAgICAgICAgICAgICAgIGBUaGUgJHthdHRyaWJ1dGVOYW1lfSBhdHRyaWJ1dGUgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHZlcnNpb24gb2YgU3RpbXVsdXMuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBndWlkZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuZ3VpZGU7XG4gICAgfVxufVxuXG5jbGFzcyBPdXRsZXRTZXQge1xuICAgIGNvbnN0cnVjdG9yKHNjb3BlLCBjb250cm9sbGVyRWxlbWVudCkge1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgICAgIHRoaXMuY29udHJvbGxlckVsZW1lbnQgPSBjb250cm9sbGVyRWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBpZGVudGlmaWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5pZGVudGlmaWVyO1xuICAgIH1cbiAgICBnZXQgc2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5zY2hlbWE7XG4gICAgfVxuICAgIGhhcyhvdXRsZXROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmQob3V0bGV0TmFtZSkgIT0gbnVsbDtcbiAgICB9XG4gICAgZmluZCguLi5vdXRsZXROYW1lcykge1xuICAgICAgICByZXR1cm4gb3V0bGV0TmFtZXMucmVkdWNlKChvdXRsZXQsIG91dGxldE5hbWUpID0+IG91dGxldCB8fCB0aGlzLmZpbmRPdXRsZXQob3V0bGV0TmFtZSksIHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIGZpbmRBbGwoLi4ub3V0bGV0TmFtZXMpIHtcbiAgICAgICAgcmV0dXJuIG91dGxldE5hbWVzLnJlZHVjZSgob3V0bGV0cywgb3V0bGV0TmFtZSkgPT4gWy4uLm91dGxldHMsIC4uLnRoaXMuZmluZEFsbE91dGxldHMob3V0bGV0TmFtZSldLCBbXSk7XG4gICAgfVxuICAgIGdldFNlbGVjdG9yRm9yT3V0bGV0TmFtZShvdXRsZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSB0aGlzLnNjaGVtYS5vdXRsZXRBdHRyaWJ1dGVGb3JTY29wZSh0aGlzLmlkZW50aWZpZXIsIG91dGxldE5hbWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyRWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgfVxuICAgIGZpbmRPdXRsZXQob3V0bGV0TmFtZSkge1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMuZ2V0U2VsZWN0b3JGb3JPdXRsZXROYW1lKG91dGxldE5hbWUpO1xuICAgICAgICBpZiAoc2VsZWN0b3IpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maW5kRWxlbWVudChzZWxlY3Rvciwgb3V0bGV0TmFtZSk7XG4gICAgfVxuICAgIGZpbmRBbGxPdXRsZXRzKG91dGxldE5hbWUpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB0aGlzLmdldFNlbGVjdG9yRm9yT3V0bGV0TmFtZShvdXRsZXROYW1lKTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdG9yID8gdGhpcy5maW5kQWxsRWxlbWVudHMoc2VsZWN0b3IsIG91dGxldE5hbWUpIDogW107XG4gICAgfVxuICAgIGZpbmRFbGVtZW50KHNlbGVjdG9yLCBvdXRsZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5zY29wZS5xdWVyeUVsZW1lbnRzKHNlbGVjdG9yKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzLmZpbHRlcigoZWxlbWVudCkgPT4gdGhpcy5tYXRjaGVzRWxlbWVudChlbGVtZW50LCBzZWxlY3Rvciwgb3V0bGV0TmFtZSkpWzBdO1xuICAgIH1cbiAgICBmaW5kQWxsRWxlbWVudHMoc2VsZWN0b3IsIG91dGxldE5hbWUpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLnNjb3BlLnF1ZXJ5RWxlbWVudHMoc2VsZWN0b3IpO1xuICAgICAgICByZXR1cm4gZWxlbWVudHMuZmlsdGVyKChlbGVtZW50KSA9PiB0aGlzLm1hdGNoZXNFbGVtZW50KGVsZW1lbnQsIHNlbGVjdG9yLCBvdXRsZXROYW1lKSk7XG4gICAgfVxuICAgIG1hdGNoZXNFbGVtZW50KGVsZW1lbnQsIHNlbGVjdG9yLCBvdXRsZXROYW1lKSB7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXJBdHRyaWJ1dGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSh0aGlzLnNjb3BlLnNjaGVtYS5jb250cm9sbGVyQXR0cmlidXRlKSB8fCBcIlwiO1xuICAgICAgICByZXR1cm4gZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKSAmJiBjb250cm9sbGVyQXR0cmlidXRlLnNwbGl0KFwiIFwiKS5pbmNsdWRlcyhvdXRsZXROYW1lKTtcbiAgICB9XG59XG5cbmNsYXNzIFNjb3BlIHtcbiAgICBjb25zdHJ1Y3RvcihzY2hlbWEsIGVsZW1lbnQsIGlkZW50aWZpZXIsIGxvZ2dlcikge1xuICAgICAgICB0aGlzLnRhcmdldHMgPSBuZXcgVGFyZ2V0U2V0KHRoaXMpO1xuICAgICAgICB0aGlzLmNsYXNzZXMgPSBuZXcgQ2xhc3NNYXAodGhpcyk7XG4gICAgICAgIHRoaXMuZGF0YSA9IG5ldyBEYXRhTWFwKHRoaXMpO1xuICAgICAgICB0aGlzLmNvbnRhaW5zRWxlbWVudCA9IChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5jbG9zZXN0KHRoaXMuY29udHJvbGxlclNlbGVjdG9yKSA9PT0gdGhpcy5lbGVtZW50O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5pZGVudGlmaWVyID0gaWRlbnRpZmllcjtcbiAgICAgICAgdGhpcy5ndWlkZSA9IG5ldyBHdWlkZShsb2dnZXIpO1xuICAgICAgICB0aGlzLm91dGxldHMgPSBuZXcgT3V0bGV0U2V0KHRoaXMuZG9jdW1lbnRTY29wZSwgZWxlbWVudCk7XG4gICAgfVxuICAgIGZpbmRFbGVtZW50KHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikgPyB0aGlzLmVsZW1lbnQgOiB0aGlzLnF1ZXJ5RWxlbWVudHMoc2VsZWN0b3IpLmZpbmQodGhpcy5jb250YWluc0VsZW1lbnQpO1xuICAgIH1cbiAgICBmaW5kQWxsRWxlbWVudHMoc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIC4uLih0aGlzLmVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikgPyBbdGhpcy5lbGVtZW50XSA6IFtdKSxcbiAgICAgICAgICAgIC4uLnRoaXMucXVlcnlFbGVtZW50cyhzZWxlY3RvcikuZmlsdGVyKHRoaXMuY29udGFpbnNFbGVtZW50KSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgcXVlcnlFbGVtZW50cyhzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xuICAgIH1cbiAgICBnZXQgY29udHJvbGxlclNlbGVjdG9yKCkge1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlVmFsdWVDb250YWluc1Rva2VuKHRoaXMuc2NoZW1hLmNvbnRyb2xsZXJBdHRyaWJ1dGUsIHRoaXMuaWRlbnRpZmllcik7XG4gICAgfVxuICAgIGdldCBpc0RvY3VtZW50U2NvcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IGRvY3VtZW50U2NvcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRG9jdW1lbnRTY29wZVxuICAgICAgICAgICAgPyB0aGlzXG4gICAgICAgICAgICA6IG5ldyBTY29wZSh0aGlzLnNjaGVtYSwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB0aGlzLmlkZW50aWZpZXIsIHRoaXMuZ3VpZGUubG9nZ2VyKTtcbiAgICB9XG59XG5cbmNsYXNzIFNjb3BlT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHNjaGVtYSwgZGVsZWdhdGUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgdGhpcy52YWx1ZUxpc3RPYnNlcnZlciA9IG5ldyBWYWx1ZUxpc3RPYnNlcnZlcih0aGlzLmVsZW1lbnQsIHRoaXMuY29udHJvbGxlckF0dHJpYnV0ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuc2NvcGVzQnlJZGVudGlmaWVyQnlFbGVtZW50ID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgdGhpcy5zY29wZVJlZmVyZW5jZUNvdW50cyA9IG5ldyBXZWFrTWFwKCk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnZhbHVlTGlzdE9ic2VydmVyLnN0YXJ0KCk7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMudmFsdWVMaXN0T2JzZXJ2ZXIuc3RvcCgpO1xuICAgIH1cbiAgICBnZXQgY29udHJvbGxlckF0dHJpYnV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NoZW1hLmNvbnRyb2xsZXJBdHRyaWJ1dGU7XG4gICAgfVxuICAgIHBhcnNlVmFsdWVGb3JUb2tlbih0b2tlbikge1xuICAgICAgICBjb25zdCB7IGVsZW1lbnQsIGNvbnRlbnQ6IGlkZW50aWZpZXIgfSA9IHRva2VuO1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVZhbHVlRm9yRWxlbWVudEFuZElkZW50aWZpZXIoZWxlbWVudCwgaWRlbnRpZmllcik7XG4gICAgfVxuICAgIHBhcnNlVmFsdWVGb3JFbGVtZW50QW5kSWRlbnRpZmllcihlbGVtZW50LCBpZGVudGlmaWVyKSB7XG4gICAgICAgIGNvbnN0IHNjb3Blc0J5SWRlbnRpZmllciA9IHRoaXMuZmV0Y2hTY29wZXNCeUlkZW50aWZpZXJGb3JFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICBsZXQgc2NvcGUgPSBzY29wZXNCeUlkZW50aWZpZXIuZ2V0KGlkZW50aWZpZXIpO1xuICAgICAgICBpZiAoIXNjb3BlKSB7XG4gICAgICAgICAgICBzY29wZSA9IHRoaXMuZGVsZWdhdGUuY3JlYXRlU2NvcGVGb3JFbGVtZW50QW5kSWRlbnRpZmllcihlbGVtZW50LCBpZGVudGlmaWVyKTtcbiAgICAgICAgICAgIHNjb3Blc0J5SWRlbnRpZmllci5zZXQoaWRlbnRpZmllciwgc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzY29wZTtcbiAgICB9XG4gICAgZWxlbWVudE1hdGNoZWRWYWx1ZShlbGVtZW50LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCByZWZlcmVuY2VDb3VudCA9ICh0aGlzLnNjb3BlUmVmZXJlbmNlQ291bnRzLmdldCh2YWx1ZSkgfHwgMCkgKyAxO1xuICAgICAgICB0aGlzLnNjb3BlUmVmZXJlbmNlQ291bnRzLnNldCh2YWx1ZSwgcmVmZXJlbmNlQ291bnQpO1xuICAgICAgICBpZiAocmVmZXJlbmNlQ291bnQgPT0gMSkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5zY29wZUNvbm5lY3RlZCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxlbWVudFVubWF0Y2hlZFZhbHVlKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJlZmVyZW5jZUNvdW50ID0gdGhpcy5zY29wZVJlZmVyZW5jZUNvdW50cy5nZXQodmFsdWUpO1xuICAgICAgICBpZiAocmVmZXJlbmNlQ291bnQpIHtcbiAgICAgICAgICAgIHRoaXMuc2NvcGVSZWZlcmVuY2VDb3VudHMuc2V0KHZhbHVlLCByZWZlcmVuY2VDb3VudCAtIDEpO1xuICAgICAgICAgICAgaWYgKHJlZmVyZW5jZUNvdW50ID09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlLnNjb3BlRGlzY29ubmVjdGVkKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmZXRjaFNjb3Blc0J5SWRlbnRpZmllckZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBsZXQgc2NvcGVzQnlJZGVudGlmaWVyID0gdGhpcy5zY29wZXNCeUlkZW50aWZpZXJCeUVsZW1lbnQuZ2V0KGVsZW1lbnQpO1xuICAgICAgICBpZiAoIXNjb3Blc0J5SWRlbnRpZmllcikge1xuICAgICAgICAgICAgc2NvcGVzQnlJZGVudGlmaWVyID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgdGhpcy5zY29wZXNCeUlkZW50aWZpZXJCeUVsZW1lbnQuc2V0KGVsZW1lbnQsIHNjb3Blc0J5SWRlbnRpZmllcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNjb3Blc0J5SWRlbnRpZmllcjtcbiAgICB9XG59XG5cbmNsYXNzIFJvdXRlciB7XG4gICAgY29uc3RydWN0b3IoYXBwbGljYXRpb24pIHtcbiAgICAgICAgdGhpcy5hcHBsaWNhdGlvbiA9IGFwcGxpY2F0aW9uO1xuICAgICAgICB0aGlzLnNjb3BlT2JzZXJ2ZXIgPSBuZXcgU2NvcGVPYnNlcnZlcih0aGlzLmVsZW1lbnQsIHRoaXMuc2NoZW1hLCB0aGlzKTtcbiAgICAgICAgdGhpcy5zY29wZXNCeUlkZW50aWZpZXIgPSBuZXcgTXVsdGltYXAoKTtcbiAgICAgICAgdGhpcy5tb2R1bGVzQnlJZGVudGlmaWVyID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbGljYXRpb24uZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IHNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbGljYXRpb24uc2NoZW1hO1xuICAgIH1cbiAgICBnZXQgbG9nZ2VyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBsaWNhdGlvbi5sb2dnZXI7XG4gICAgfVxuICAgIGdldCBjb250cm9sbGVyQXR0cmlidXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2hlbWEuY29udHJvbGxlckF0dHJpYnV0ZTtcbiAgICB9XG4gICAgZ2V0IG1vZHVsZXMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMubW9kdWxlc0J5SWRlbnRpZmllci52YWx1ZXMoKSk7XG4gICAgfVxuICAgIGdldCBjb250ZXh0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kdWxlcy5yZWR1Y2UoKGNvbnRleHRzLCBtb2R1bGUpID0+IGNvbnRleHRzLmNvbmNhdChtb2R1bGUuY29udGV4dHMpLCBbXSk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnNjb3BlT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5zY29wZU9ic2VydmVyLnN0b3AoKTtcbiAgICB9XG4gICAgbG9hZERlZmluaXRpb24oZGVmaW5pdGlvbikge1xuICAgICAgICB0aGlzLnVubG9hZElkZW50aWZpZXIoZGVmaW5pdGlvbi5pZGVudGlmaWVyKTtcbiAgICAgICAgY29uc3QgbW9kdWxlID0gbmV3IE1vZHVsZSh0aGlzLmFwcGxpY2F0aW9uLCBkZWZpbml0aW9uKTtcbiAgICAgICAgdGhpcy5jb25uZWN0TW9kdWxlKG1vZHVsZSk7XG4gICAgICAgIGNvbnN0IGFmdGVyTG9hZCA9IGRlZmluaXRpb24uY29udHJvbGxlckNvbnN0cnVjdG9yLmFmdGVyTG9hZDtcbiAgICAgICAgaWYgKGFmdGVyTG9hZCkge1xuICAgICAgICAgICAgYWZ0ZXJMb2FkLmNhbGwoZGVmaW5pdGlvbi5jb250cm9sbGVyQ29uc3RydWN0b3IsIGRlZmluaXRpb24uaWRlbnRpZmllciwgdGhpcy5hcHBsaWNhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5sb2FkSWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IHRoaXMubW9kdWxlc0J5SWRlbnRpZmllci5nZXQoaWRlbnRpZmllcik7XG4gICAgICAgIGlmIChtb2R1bGUpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdE1vZHVsZShtb2R1bGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldENvbnRleHRGb3JFbGVtZW50QW5kSWRlbnRpZmllcihlbGVtZW50LCBpZGVudGlmaWVyKSB7XG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IHRoaXMubW9kdWxlc0J5SWRlbnRpZmllci5nZXQoaWRlbnRpZmllcik7XG4gICAgICAgIGlmIChtb2R1bGUpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGUuY29udGV4dHMuZmluZCgoY29udGV4dCkgPT4gY29udGV4dC5lbGVtZW50ID09IGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByb3Bvc2VUb0Nvbm5lY3RTY29wZUZvckVsZW1lbnRBbmRJZGVudGlmaWVyKGVsZW1lbnQsIGlkZW50aWZpZXIpIHtcbiAgICAgICAgY29uc3Qgc2NvcGUgPSB0aGlzLnNjb3BlT2JzZXJ2ZXIucGFyc2VWYWx1ZUZvckVsZW1lbnRBbmRJZGVudGlmaWVyKGVsZW1lbnQsIGlkZW50aWZpZXIpO1xuICAgICAgICBpZiAoc2NvcGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2NvcGVPYnNlcnZlci5lbGVtZW50TWF0Y2hlZFZhbHVlKHNjb3BlLmVsZW1lbnQsIHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYENvdWxkbid0IGZpbmQgb3IgY3JlYXRlIHNjb3BlIGZvciBpZGVudGlmaWVyOiBcIiR7aWRlbnRpZmllcn1cIiBhbmQgZWxlbWVudDpgLCBlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVFcnJvcihlcnJvciwgbWVzc2FnZSwgZGV0YWlsKSB7XG4gICAgICAgIHRoaXMuYXBwbGljYXRpb24uaGFuZGxlRXJyb3IoZXJyb3IsIG1lc3NhZ2UsIGRldGFpbCk7XG4gICAgfVxuICAgIGNyZWF0ZVNjb3BlRm9yRWxlbWVudEFuZElkZW50aWZpZXIoZWxlbWVudCwgaWRlbnRpZmllcikge1xuICAgICAgICByZXR1cm4gbmV3IFNjb3BlKHRoaXMuc2NoZW1hLCBlbGVtZW50LCBpZGVudGlmaWVyLCB0aGlzLmxvZ2dlcik7XG4gICAgfVxuICAgIHNjb3BlQ29ubmVjdGVkKHNjb3BlKSB7XG4gICAgICAgIHRoaXMuc2NvcGVzQnlJZGVudGlmaWVyLmFkZChzY29wZS5pZGVudGlmaWVyLCBzY29wZSk7XG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IHRoaXMubW9kdWxlc0J5SWRlbnRpZmllci5nZXQoc2NvcGUuaWRlbnRpZmllcik7XG4gICAgICAgIGlmIChtb2R1bGUpIHtcbiAgICAgICAgICAgIG1vZHVsZS5jb25uZWN0Q29udGV4dEZvclNjb3BlKHNjb3BlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzY29wZURpc2Nvbm5lY3RlZChzY29wZSkge1xuICAgICAgICB0aGlzLnNjb3Blc0J5SWRlbnRpZmllci5kZWxldGUoc2NvcGUuaWRlbnRpZmllciwgc2NvcGUpO1xuICAgICAgICBjb25zdCBtb2R1bGUgPSB0aGlzLm1vZHVsZXNCeUlkZW50aWZpZXIuZ2V0KHNjb3BlLmlkZW50aWZpZXIpO1xuICAgICAgICBpZiAobW9kdWxlKSB7XG4gICAgICAgICAgICBtb2R1bGUuZGlzY29ubmVjdENvbnRleHRGb3JTY29wZShzY29wZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29ubmVjdE1vZHVsZShtb2R1bGUpIHtcbiAgICAgICAgdGhpcy5tb2R1bGVzQnlJZGVudGlmaWVyLnNldChtb2R1bGUuaWRlbnRpZmllciwgbW9kdWxlKTtcbiAgICAgICAgY29uc3Qgc2NvcGVzID0gdGhpcy5zY29wZXNCeUlkZW50aWZpZXIuZ2V0VmFsdWVzRm9yS2V5KG1vZHVsZS5pZGVudGlmaWVyKTtcbiAgICAgICAgc2NvcGVzLmZvckVhY2goKHNjb3BlKSA9PiBtb2R1bGUuY29ubmVjdENvbnRleHRGb3JTY29wZShzY29wZSkpO1xuICAgIH1cbiAgICBkaXNjb25uZWN0TW9kdWxlKG1vZHVsZSkge1xuICAgICAgICB0aGlzLm1vZHVsZXNCeUlkZW50aWZpZXIuZGVsZXRlKG1vZHVsZS5pZGVudGlmaWVyKTtcbiAgICAgICAgY29uc3Qgc2NvcGVzID0gdGhpcy5zY29wZXNCeUlkZW50aWZpZXIuZ2V0VmFsdWVzRm9yS2V5KG1vZHVsZS5pZGVudGlmaWVyKTtcbiAgICAgICAgc2NvcGVzLmZvckVhY2goKHNjb3BlKSA9PiBtb2R1bGUuZGlzY29ubmVjdENvbnRleHRGb3JTY29wZShzY29wZSkpO1xuICAgIH1cbn1cblxuY29uc3QgZGVmYXVsdFNjaGVtYSA9IHtcbiAgICBjb250cm9sbGVyQXR0cmlidXRlOiBcImRhdGEtY29udHJvbGxlclwiLFxuICAgIGFjdGlvbkF0dHJpYnV0ZTogXCJkYXRhLWFjdGlvblwiLFxuICAgIHRhcmdldEF0dHJpYnV0ZTogXCJkYXRhLXRhcmdldFwiLFxuICAgIHRhcmdldEF0dHJpYnV0ZUZvclNjb3BlOiAoaWRlbnRpZmllcikgPT4gYGRhdGEtJHtpZGVudGlmaWVyfS10YXJnZXRgLFxuICAgIG91dGxldEF0dHJpYnV0ZUZvclNjb3BlOiAoaWRlbnRpZmllciwgb3V0bGV0KSA9PiBgZGF0YS0ke2lkZW50aWZpZXJ9LSR7b3V0bGV0fS1vdXRsZXRgLFxuICAgIGtleU1hcHBpbmdzOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBlbnRlcjogXCJFbnRlclwiLCB0YWI6IFwiVGFiXCIsIGVzYzogXCJFc2NhcGVcIiwgc3BhY2U6IFwiIFwiLCB1cDogXCJBcnJvd1VwXCIsIGRvd246IFwiQXJyb3dEb3duXCIsIGxlZnQ6IFwiQXJyb3dMZWZ0XCIsIHJpZ2h0OiBcIkFycm93UmlnaHRcIiwgaG9tZTogXCJIb21lXCIsIGVuZDogXCJFbmRcIiwgcGFnZV91cDogXCJQYWdlVXBcIiwgcGFnZV9kb3duOiBcIlBhZ2VEb3duXCIgfSwgb2JqZWN0RnJvbUVudHJpZXMoXCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiLnNwbGl0KFwiXCIpLm1hcCgoYykgPT4gW2MsIGNdKSkpLCBvYmplY3RGcm9tRW50cmllcyhcIjAxMjM0NTY3ODlcIi5zcGxpdChcIlwiKS5tYXAoKG4pID0+IFtuLCBuXSkpKSxcbn07XG5mdW5jdGlvbiBvYmplY3RGcm9tRW50cmllcyhhcnJheSkge1xuICAgIHJldHVybiBhcnJheS5yZWR1Y2UoKG1lbW8sIFtrLCB2XSkgPT4gKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbWVtbyksIHsgW2tdOiB2IH0pKSwge30pO1xufVxuXG5jbGFzcyBBcHBsaWNhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgc2NoZW1hID0gZGVmYXVsdFNjaGVtYSkge1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGNvbnNvbGU7XG4gICAgICAgIHRoaXMuZGVidWcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sb2dEZWJ1Z0FjdGl2aXR5ID0gKGlkZW50aWZpZXIsIGZ1bmN0aW9uTmFtZSwgZGV0YWlsID0ge30pID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dGb3JtYXR0ZWRNZXNzYWdlKGlkZW50aWZpZXIsIGZ1bmN0aW9uTmFtZSwgZGV0YWlsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlciA9IG5ldyBEaXNwYXRjaGVyKHRoaXMpO1xuICAgICAgICB0aGlzLnJvdXRlciA9IG5ldyBSb3V0ZXIodGhpcyk7XG4gICAgICAgIHRoaXMuYWN0aW9uRGVzY3JpcHRvckZpbHRlcnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0QWN0aW9uRGVzY3JpcHRvckZpbHRlcnMpO1xuICAgIH1cbiAgICBzdGF0aWMgc3RhcnQoZWxlbWVudCwgc2NoZW1hKSB7XG4gICAgICAgIGNvbnN0IGFwcGxpY2F0aW9uID0gbmV3IHRoaXMoZWxlbWVudCwgc2NoZW1hKTtcbiAgICAgICAgYXBwbGljYXRpb24uc3RhcnQoKTtcbiAgICAgICAgcmV0dXJuIGFwcGxpY2F0aW9uO1xuICAgIH1cbiAgICBhc3luYyBzdGFydCgpIHtcbiAgICAgICAgYXdhaXQgZG9tUmVhZHkoKTtcbiAgICAgICAgdGhpcy5sb2dEZWJ1Z0FjdGl2aXR5KFwiYXBwbGljYXRpb25cIiwgXCJzdGFydGluZ1wiKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnN0YXJ0KCk7XG4gICAgICAgIHRoaXMucm91dGVyLnN0YXJ0KCk7XG4gICAgICAgIHRoaXMubG9nRGVidWdBY3Rpdml0eShcImFwcGxpY2F0aW9uXCIsIFwic3RhcnRcIik7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMubG9nRGVidWdBY3Rpdml0eShcImFwcGxpY2F0aW9uXCIsIFwic3RvcHBpbmdcIik7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlci5zdG9wKCk7XG4gICAgICAgIHRoaXMucm91dGVyLnN0b3AoKTtcbiAgICAgICAgdGhpcy5sb2dEZWJ1Z0FjdGl2aXR5KFwiYXBwbGljYXRpb25cIiwgXCJzdG9wXCIpO1xuICAgIH1cbiAgICByZWdpc3RlcihpZGVudGlmaWVyLCBjb250cm9sbGVyQ29uc3RydWN0b3IpIHtcbiAgICAgICAgdGhpcy5sb2FkKHsgaWRlbnRpZmllciwgY29udHJvbGxlckNvbnN0cnVjdG9yIH0pO1xuICAgIH1cbiAgICByZWdpc3RlckFjdGlvbk9wdGlvbihuYW1lLCBmaWx0ZXIpIHtcbiAgICAgICAgdGhpcy5hY3Rpb25EZXNjcmlwdG9yRmlsdGVyc1tuYW1lXSA9IGZpbHRlcjtcbiAgICB9XG4gICAgbG9hZChoZWFkLCAuLi5yZXN0KSB7XG4gICAgICAgIGNvbnN0IGRlZmluaXRpb25zID0gQXJyYXkuaXNBcnJheShoZWFkKSA/IGhlYWQgOiBbaGVhZCwgLi4ucmVzdF07XG4gICAgICAgIGRlZmluaXRpb25zLmZvckVhY2goKGRlZmluaXRpb24pID0+IHtcbiAgICAgICAgICAgIGlmIChkZWZpbml0aW9uLmNvbnRyb2xsZXJDb25zdHJ1Y3Rvci5zaG91bGRMb2FkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb3V0ZXIubG9hZERlZmluaXRpb24oZGVmaW5pdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1bmxvYWQoaGVhZCwgLi4ucmVzdCkge1xuICAgICAgICBjb25zdCBpZGVudGlmaWVycyA9IEFycmF5LmlzQXJyYXkoaGVhZCkgPyBoZWFkIDogW2hlYWQsIC4uLnJlc3RdO1xuICAgICAgICBpZGVudGlmaWVycy5mb3JFYWNoKChpZGVudGlmaWVyKSA9PiB0aGlzLnJvdXRlci51bmxvYWRJZGVudGlmaWVyKGlkZW50aWZpZXIpKTtcbiAgICB9XG4gICAgZ2V0IGNvbnRyb2xsZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3V0ZXIuY29udGV4dHMubWFwKChjb250ZXh0KSA9PiBjb250ZXh0LmNvbnRyb2xsZXIpO1xuICAgIH1cbiAgICBnZXRDb250cm9sbGVyRm9yRWxlbWVudEFuZElkZW50aWZpZXIoZWxlbWVudCwgaWRlbnRpZmllcikge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5yb3V0ZXIuZ2V0Q29udGV4dEZvckVsZW1lbnRBbmRJZGVudGlmaWVyKGVsZW1lbnQsIGlkZW50aWZpZXIpO1xuICAgICAgICByZXR1cm4gY29udGV4dCA/IGNvbnRleHQuY29udHJvbGxlciA6IG51bGw7XG4gICAgfVxuICAgIGhhbmRsZUVycm9yKGVycm9yLCBtZXNzYWdlLCBkZXRhaWwpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihgJXNcXG5cXG4lb1xcblxcbiVvYCwgbWVzc2FnZSwgZXJyb3IsIGRldGFpbCk7XG4gICAgICAgIChfYSA9IHdpbmRvdy5vbmVycm9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh3aW5kb3csIG1lc3NhZ2UsIFwiXCIsIDAsIDAsIGVycm9yKTtcbiAgICB9XG4gICAgbG9nRm9ybWF0dGVkTWVzc2FnZShpZGVudGlmaWVyLCBmdW5jdGlvbk5hbWUsIGRldGFpbCA9IHt9KSB7XG4gICAgICAgIGRldGFpbCA9IE9iamVjdC5hc3NpZ24oeyBhcHBsaWNhdGlvbjogdGhpcyB9LCBkZXRhaWwpO1xuICAgICAgICB0aGlzLmxvZ2dlci5ncm91cENvbGxhcHNlZChgJHtpZGVudGlmaWVyfSAjJHtmdW5jdGlvbk5hbWV9YCk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcImRldGFpbHM6XCIsIE9iamVjdC5hc3NpZ24oe30sIGRldGFpbCkpO1xuICAgICAgICB0aGlzLmxvZ2dlci5ncm91cEVuZCgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRvbVJlYWR5KCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PSBcImxvYWRpbmdcIikge1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4gcmVzb2x2ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBDbGFzc1Byb3BlcnRpZXNCbGVzc2luZyhjb25zdHJ1Y3Rvcikge1xuICAgIGNvbnN0IGNsYXNzZXMgPSByZWFkSW5oZXJpdGFibGVTdGF0aWNBcnJheVZhbHVlcyhjb25zdHJ1Y3RvciwgXCJjbGFzc2VzXCIpO1xuICAgIHJldHVybiBjbGFzc2VzLnJlZHVjZSgocHJvcGVydGllcywgY2xhc3NEZWZpbml0aW9uKSA9PiB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHByb3BlcnRpZXMsIHByb3BlcnRpZXNGb3JDbGFzc0RlZmluaXRpb24oY2xhc3NEZWZpbml0aW9uKSk7XG4gICAgfSwge30pO1xufVxuZnVuY3Rpb24gcHJvcGVydGllc0ZvckNsYXNzRGVmaW5pdGlvbihrZXkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBbYCR7a2V5fUNsYXNzYF06IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNsYXNzZXMgfSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzZXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsYXNzZXMuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBjbGFzc2VzLmdldEF0dHJpYnV0ZU5hbWUoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIGF0dHJpYnV0ZSBcIiR7YXR0cmlidXRlfVwiYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW2Ake2tleX1DbGFzc2VzYF06IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGFzc2VzLmdldEFsbChrZXkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW2BoYXMke2NhcGl0YWxpemUoa2V5KX1DbGFzc2BdOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xhc3Nlcy5oYXMoa2V5KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gT3V0bGV0UHJvcGVydGllc0JsZXNzaW5nKGNvbnN0cnVjdG9yKSB7XG4gICAgY29uc3Qgb3V0bGV0cyA9IHJlYWRJbmhlcml0YWJsZVN0YXRpY0FycmF5VmFsdWVzKGNvbnN0cnVjdG9yLCBcIm91dGxldHNcIik7XG4gICAgcmV0dXJuIG91dGxldHMucmVkdWNlKChwcm9wZXJ0aWVzLCBvdXRsZXREZWZpbml0aW9uKSA9PiB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHByb3BlcnRpZXMsIHByb3BlcnRpZXNGb3JPdXRsZXREZWZpbml0aW9uKG91dGxldERlZmluaXRpb24pKTtcbiAgICB9LCB7fSk7XG59XG5mdW5jdGlvbiBnZXRPdXRsZXRDb250cm9sbGVyKGNvbnRyb2xsZXIsIGVsZW1lbnQsIGlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gY29udHJvbGxlci5hcHBsaWNhdGlvbi5nZXRDb250cm9sbGVyRm9yRWxlbWVudEFuZElkZW50aWZpZXIoZWxlbWVudCwgaWRlbnRpZmllcik7XG59XG5mdW5jdGlvbiBnZXRDb250cm9sbGVyQW5kRW5zdXJlQ29ubmVjdGVkU2NvcGUoY29udHJvbGxlciwgZWxlbWVudCwgb3V0bGV0TmFtZSkge1xuICAgIGxldCBvdXRsZXRDb250cm9sbGVyID0gZ2V0T3V0bGV0Q29udHJvbGxlcihjb250cm9sbGVyLCBlbGVtZW50LCBvdXRsZXROYW1lKTtcbiAgICBpZiAob3V0bGV0Q29udHJvbGxlcilcbiAgICAgICAgcmV0dXJuIG91dGxldENvbnRyb2xsZXI7XG4gICAgY29udHJvbGxlci5hcHBsaWNhdGlvbi5yb3V0ZXIucHJvcG9zZVRvQ29ubmVjdFNjb3BlRm9yRWxlbWVudEFuZElkZW50aWZpZXIoZWxlbWVudCwgb3V0bGV0TmFtZSk7XG4gICAgb3V0bGV0Q29udHJvbGxlciA9IGdldE91dGxldENvbnRyb2xsZXIoY29udHJvbGxlciwgZWxlbWVudCwgb3V0bGV0TmFtZSk7XG4gICAgaWYgKG91dGxldENvbnRyb2xsZXIpXG4gICAgICAgIHJldHVybiBvdXRsZXRDb250cm9sbGVyO1xufVxuZnVuY3Rpb24gcHJvcGVydGllc0Zvck91dGxldERlZmluaXRpb24obmFtZSkge1xuICAgIGNvbnN0IGNhbWVsaXplZE5hbWUgPSBuYW1lc3BhY2VDYW1lbGl6ZShuYW1lKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBbYCR7Y2FtZWxpemVkTmFtZX1PdXRsZXRgXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dGxldEVsZW1lbnQgPSB0aGlzLm91dGxldHMuZmluZChuYW1lKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMub3V0bGV0cy5nZXRTZWxlY3RvckZvck91dGxldE5hbWUobmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKG91dGxldEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0bGV0Q29udHJvbGxlciA9IGdldENvbnRyb2xsZXJBbmRFbnN1cmVDb25uZWN0ZWRTY29wZSh0aGlzLCBvdXRsZXRFbGVtZW50LCBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG91dGxldENvbnRyb2xsZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3V0bGV0Q29udHJvbGxlcjtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgcHJvdmlkZWQgb3V0bGV0IGVsZW1lbnQgaXMgbWlzc2luZyBhbiBvdXRsZXQgY29udHJvbGxlciBcIiR7bmFtZX1cIiBpbnN0YW5jZSBmb3IgaG9zdCBjb250cm9sbGVyIFwiJHt0aGlzLmlkZW50aWZpZXJ9XCJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIG91dGxldCBlbGVtZW50IFwiJHtuYW1lfVwiIGZvciBob3N0IGNvbnRyb2xsZXIgXCIke3RoaXMuaWRlbnRpZmllcn1cIi4gU3RpbXVsdXMgY291bGRuJ3QgZmluZCBhIG1hdGNoaW5nIG91dGxldCBlbGVtZW50IHVzaW5nIHNlbGVjdG9yIFwiJHtzZWxlY3Rvcn1cIi5gKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFtgJHtjYW1lbGl6ZWROYW1lfU91dGxldHNgXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dGxldHMgPSB0aGlzLm91dGxldHMuZmluZEFsbChuYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAob3V0bGV0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvdXRsZXRzXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKChvdXRsZXRFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvdXRsZXRDb250cm9sbGVyID0gZ2V0Q29udHJvbGxlckFuZEVuc3VyZUNvbm5lY3RlZFNjb3BlKHRoaXMsIG91dGxldEVsZW1lbnQsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG91dGxldENvbnRyb2xsZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dGxldENvbnRyb2xsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFRoZSBwcm92aWRlZCBvdXRsZXQgZWxlbWVudCBpcyBtaXNzaW5nIGFuIG91dGxldCBjb250cm9sbGVyIFwiJHtuYW1lfVwiIGluc3RhbmNlIGZvciBob3N0IGNvbnRyb2xsZXIgXCIke3RoaXMuaWRlbnRpZmllcn1cImAsIG91dGxldEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoY29udHJvbGxlcikgPT4gY29udHJvbGxlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFtgJHtjYW1lbGl6ZWROYW1lfU91dGxldEVsZW1lbnRgXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dGxldEVsZW1lbnQgPSB0aGlzLm91dGxldHMuZmluZChuYW1lKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMub3V0bGV0cy5nZXRTZWxlY3RvckZvck91dGxldE5hbWUobmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKG91dGxldEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dGxldEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3Npbmcgb3V0bGV0IGVsZW1lbnQgXCIke25hbWV9XCIgZm9yIGhvc3QgY29udHJvbGxlciBcIiR7dGhpcy5pZGVudGlmaWVyfVwiLiBTdGltdWx1cyBjb3VsZG4ndCBmaW5kIGEgbWF0Y2hpbmcgb3V0bGV0IGVsZW1lbnQgdXNpbmcgc2VsZWN0b3IgXCIke3NlbGVjdG9yfVwiLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFtgJHtjYW1lbGl6ZWROYW1lfU91dGxldEVsZW1lbnRzYF06IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vdXRsZXRzLmZpbmRBbGwobmFtZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBbYGhhcyR7Y2FwaXRhbGl6ZShjYW1lbGl6ZWROYW1lKX1PdXRsZXRgXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm91dGxldHMuaGFzKG5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBUYXJnZXRQcm9wZXJ0aWVzQmxlc3NpbmcoY29uc3RydWN0b3IpIHtcbiAgICBjb25zdCB0YXJnZXRzID0gcmVhZEluaGVyaXRhYmxlU3RhdGljQXJyYXlWYWx1ZXMoY29uc3RydWN0b3IsIFwidGFyZ2V0c1wiKTtcbiAgICByZXR1cm4gdGFyZ2V0cy5yZWR1Y2UoKHByb3BlcnRpZXMsIHRhcmdldERlZmluaXRpb24pID0+IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocHJvcGVydGllcywgcHJvcGVydGllc0ZvclRhcmdldERlZmluaXRpb24odGFyZ2V0RGVmaW5pdGlvbikpO1xuICAgIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIHByb3BlcnRpZXNGb3JUYXJnZXREZWZpbml0aW9uKG5hbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBbYCR7bmFtZX1UYXJnZXRgXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMudGFyZ2V0cy5maW5kKG5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyB0YXJnZXQgZWxlbWVudCBcIiR7bmFtZX1cIiBmb3IgXCIke3RoaXMuaWRlbnRpZmllcn1cIiBjb250cm9sbGVyYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW2Ake25hbWV9VGFyZ2V0c2BdOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0cy5maW5kQWxsKG5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgW2BoYXMke2NhcGl0YWxpemUobmFtZSl9VGFyZ2V0YF06IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRzLmhhcyhuYW1lKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gVmFsdWVQcm9wZXJ0aWVzQmxlc3NpbmcoY29uc3RydWN0b3IpIHtcbiAgICBjb25zdCB2YWx1ZURlZmluaXRpb25QYWlycyA9IHJlYWRJbmhlcml0YWJsZVN0YXRpY09iamVjdFBhaXJzKGNvbnN0cnVjdG9yLCBcInZhbHVlc1wiKTtcbiAgICBjb25zdCBwcm9wZXJ0eURlc2NyaXB0b3JNYXAgPSB7XG4gICAgICAgIHZhbHVlRGVzY3JpcHRvck1hcDoge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZURlZmluaXRpb25QYWlycy5yZWR1Y2UoKHJlc3VsdCwgdmFsdWVEZWZpbml0aW9uUGFpcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZURlc2NyaXB0b3IgPSBwYXJzZVZhbHVlRGVmaW5pdGlvblBhaXIodmFsdWVEZWZpbml0aW9uUGFpciwgdGhpcy5pZGVudGlmaWVyKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTmFtZSA9IHRoaXMuZGF0YS5nZXRBdHRyaWJ1dGVOYW1lRm9yS2V5KHZhbHVlRGVzY3JpcHRvci5rZXkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihyZXN1bHQsIHsgW2F0dHJpYnV0ZU5hbWVdOiB2YWx1ZURlc2NyaXB0b3IgfSk7XG4gICAgICAgICAgICAgICAgfSwge30pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiB2YWx1ZURlZmluaXRpb25QYWlycy5yZWR1Y2UoKHByb3BlcnRpZXMsIHZhbHVlRGVmaW5pdGlvblBhaXIpID0+IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocHJvcGVydGllcywgcHJvcGVydGllc0ZvclZhbHVlRGVmaW5pdGlvblBhaXIodmFsdWVEZWZpbml0aW9uUGFpcikpO1xuICAgIH0sIHByb3BlcnR5RGVzY3JpcHRvck1hcCk7XG59XG5mdW5jdGlvbiBwcm9wZXJ0aWVzRm9yVmFsdWVEZWZpbml0aW9uUGFpcih2YWx1ZURlZmluaXRpb25QYWlyLCBjb250cm9sbGVyKSB7XG4gICAgY29uc3QgZGVmaW5pdGlvbiA9IHBhcnNlVmFsdWVEZWZpbml0aW9uUGFpcih2YWx1ZURlZmluaXRpb25QYWlyLCBjb250cm9sbGVyKTtcbiAgICBjb25zdCB7IGtleSwgbmFtZSwgcmVhZGVyOiByZWFkLCB3cml0ZXI6IHdyaXRlIH0gPSBkZWZpbml0aW9uO1xuICAgIHJldHVybiB7XG4gICAgICAgIFtuYW1lXToge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5kYXRhLmdldChrZXkpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmaW5pdGlvbi5kZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5kZWxldGUoa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zZXQoa2V5LCB3cml0ZSh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFtgaGFzJHtjYXBpdGFsaXplKG5hbWUpfWBdOiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5oYXMoa2V5KSB8fCBkZWZpbml0aW9uLmhhc0N1c3RvbURlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlVmFsdWVEZWZpbml0aW9uUGFpcihbdG9rZW4sIHR5cGVEZWZpbml0aW9uXSwgY29udHJvbGxlcikge1xuICAgIHJldHVybiB2YWx1ZURlc2NyaXB0b3JGb3JUb2tlbkFuZFR5cGVEZWZpbml0aW9uKHtcbiAgICAgICAgY29udHJvbGxlcixcbiAgICAgICAgdG9rZW4sXG4gICAgICAgIHR5cGVEZWZpbml0aW9uLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gcGFyc2VWYWx1ZVR5cGVDb25zdGFudChjb25zdGFudCkge1xuICAgIHN3aXRjaCAoY29uc3RhbnQpIHtcbiAgICAgICAgY2FzZSBBcnJheTpcbiAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgICAgIHJldHVybiBcImJvb2xlYW5cIjtcbiAgICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgICAgICByZXR1cm4gXCJudW1iZXJcIjtcbiAgICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICAgICAgICByZXR1cm4gXCJvYmplY3RcIjtcbiAgICAgICAgY2FzZSBTdHJpbmc6XG4gICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICB9XG59XG5mdW5jdGlvbiBwYXJzZVZhbHVlVHlwZURlZmF1bHQoZGVmYXVsdFZhbHVlKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJib29sZWFuXCI7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIHJldHVybiBcIm51bWJlclwiO1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGVmYXVsdFZhbHVlKSlcbiAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRlZmF1bHRWYWx1ZSkgPT09IFwiW29iamVjdCBPYmplY3RdXCIpXG4gICAgICAgIHJldHVybiBcIm9iamVjdFwiO1xufVxuZnVuY3Rpb24gcGFyc2VWYWx1ZVR5cGVPYmplY3QocGF5bG9hZCkge1xuICAgIGNvbnN0IHsgY29udHJvbGxlciwgdG9rZW4sIHR5cGVPYmplY3QgfSA9IHBheWxvYWQ7XG4gICAgY29uc3QgaGFzVHlwZSA9IGlzU29tZXRoaW5nKHR5cGVPYmplY3QudHlwZSk7XG4gICAgY29uc3QgaGFzRGVmYXVsdCA9IGlzU29tZXRoaW5nKHR5cGVPYmplY3QuZGVmYXVsdCk7XG4gICAgY29uc3QgZnVsbE9iamVjdCA9IGhhc1R5cGUgJiYgaGFzRGVmYXVsdDtcbiAgICBjb25zdCBvbmx5VHlwZSA9IGhhc1R5cGUgJiYgIWhhc0RlZmF1bHQ7XG4gICAgY29uc3Qgb25seURlZmF1bHQgPSAhaGFzVHlwZSAmJiBoYXNEZWZhdWx0O1xuICAgIGNvbnN0IHR5cGVGcm9tT2JqZWN0ID0gcGFyc2VWYWx1ZVR5cGVDb25zdGFudCh0eXBlT2JqZWN0LnR5cGUpO1xuICAgIGNvbnN0IHR5cGVGcm9tRGVmYXVsdFZhbHVlID0gcGFyc2VWYWx1ZVR5cGVEZWZhdWx0KHBheWxvYWQudHlwZU9iamVjdC5kZWZhdWx0KTtcbiAgICBpZiAob25seVR5cGUpXG4gICAgICAgIHJldHVybiB0eXBlRnJvbU9iamVjdDtcbiAgICBpZiAob25seURlZmF1bHQpXG4gICAgICAgIHJldHVybiB0eXBlRnJvbURlZmF1bHRWYWx1ZTtcbiAgICBpZiAodHlwZUZyb21PYmplY3QgIT09IHR5cGVGcm9tRGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHByb3BlcnR5UGF0aCA9IGNvbnRyb2xsZXIgPyBgJHtjb250cm9sbGVyfS4ke3Rva2VufWAgOiB0b2tlbjtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgc3BlY2lmaWVkIGRlZmF1bHQgdmFsdWUgZm9yIHRoZSBTdGltdWx1cyBWYWx1ZSBcIiR7cHJvcGVydHlQYXRofVwiIG11c3QgbWF0Y2ggdGhlIGRlZmluZWQgdHlwZSBcIiR7dHlwZUZyb21PYmplY3R9XCIuIFRoZSBwcm92aWRlZCBkZWZhdWx0IHZhbHVlIG9mIFwiJHt0eXBlT2JqZWN0LmRlZmF1bHR9XCIgaXMgb2YgdHlwZSBcIiR7dHlwZUZyb21EZWZhdWx0VmFsdWV9XCIuYCk7XG4gICAgfVxuICAgIGlmIChmdWxsT2JqZWN0KVxuICAgICAgICByZXR1cm4gdHlwZUZyb21PYmplY3Q7XG59XG5mdW5jdGlvbiBwYXJzZVZhbHVlVHlwZURlZmluaXRpb24ocGF5bG9hZCkge1xuICAgIGNvbnN0IHsgY29udHJvbGxlciwgdG9rZW4sIHR5cGVEZWZpbml0aW9uIH0gPSBwYXlsb2FkO1xuICAgIGNvbnN0IHR5cGVPYmplY3QgPSB7IGNvbnRyb2xsZXIsIHRva2VuLCB0eXBlT2JqZWN0OiB0eXBlRGVmaW5pdGlvbiB9O1xuICAgIGNvbnN0IHR5cGVGcm9tT2JqZWN0ID0gcGFyc2VWYWx1ZVR5cGVPYmplY3QodHlwZU9iamVjdCk7XG4gICAgY29uc3QgdHlwZUZyb21EZWZhdWx0VmFsdWUgPSBwYXJzZVZhbHVlVHlwZURlZmF1bHQodHlwZURlZmluaXRpb24pO1xuICAgIGNvbnN0IHR5cGVGcm9tQ29uc3RhbnQgPSBwYXJzZVZhbHVlVHlwZUNvbnN0YW50KHR5cGVEZWZpbml0aW9uKTtcbiAgICBjb25zdCB0eXBlID0gdHlwZUZyb21PYmplY3QgfHwgdHlwZUZyb21EZWZhdWx0VmFsdWUgfHwgdHlwZUZyb21Db25zdGFudDtcbiAgICBpZiAodHlwZSlcbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgY29uc3QgcHJvcGVydHlQYXRoID0gY29udHJvbGxlciA/IGAke2NvbnRyb2xsZXJ9LiR7dHlwZURlZmluaXRpb259YCA6IHRva2VuO1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biB2YWx1ZSB0eXBlIFwiJHtwcm9wZXJ0eVBhdGh9XCIgZm9yIFwiJHt0b2tlbn1cIiB2YWx1ZWApO1xufVxuZnVuY3Rpb24gZGVmYXVsdFZhbHVlRm9yRGVmaW5pdGlvbih0eXBlRGVmaW5pdGlvbikge1xuICAgIGNvbnN0IGNvbnN0YW50ID0gcGFyc2VWYWx1ZVR5cGVDb25zdGFudCh0eXBlRGVmaW5pdGlvbik7XG4gICAgaWYgKGNvbnN0YW50KVxuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlc0J5VHlwZVtjb25zdGFudF07XG4gICAgY29uc3QgaGFzRGVmYXVsdCA9IGhhc1Byb3BlcnR5KHR5cGVEZWZpbml0aW9uLCBcImRlZmF1bHRcIik7XG4gICAgY29uc3QgaGFzVHlwZSA9IGhhc1Byb3BlcnR5KHR5cGVEZWZpbml0aW9uLCBcInR5cGVcIik7XG4gICAgY29uc3QgdHlwZU9iamVjdCA9IHR5cGVEZWZpbml0aW9uO1xuICAgIGlmIChoYXNEZWZhdWx0KVxuICAgICAgICByZXR1cm4gdHlwZU9iamVjdC5kZWZhdWx0O1xuICAgIGlmIChoYXNUeXBlKSB7XG4gICAgICAgIGNvbnN0IHsgdHlwZSB9ID0gdHlwZU9iamVjdDtcbiAgICAgICAgY29uc3QgY29uc3RhbnRGcm9tVHlwZSA9IHBhcnNlVmFsdWVUeXBlQ29uc3RhbnQodHlwZSk7XG4gICAgICAgIGlmIChjb25zdGFudEZyb21UeXBlKVxuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZXNCeVR5cGVbY29uc3RhbnRGcm9tVHlwZV07XG4gICAgfVxuICAgIHJldHVybiB0eXBlRGVmaW5pdGlvbjtcbn1cbmZ1bmN0aW9uIHZhbHVlRGVzY3JpcHRvckZvclRva2VuQW5kVHlwZURlZmluaXRpb24ocGF5bG9hZCkge1xuICAgIGNvbnN0IHsgdG9rZW4sIHR5cGVEZWZpbml0aW9uIH0gPSBwYXlsb2FkO1xuICAgIGNvbnN0IGtleSA9IGAke2Rhc2hlcml6ZSh0b2tlbil9LXZhbHVlYDtcbiAgICBjb25zdCB0eXBlID0gcGFyc2VWYWx1ZVR5cGVEZWZpbml0aW9uKHBheWxvYWQpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIGtleSxcbiAgICAgICAgbmFtZTogY2FtZWxpemUoa2V5KSxcbiAgICAgICAgZ2V0IGRlZmF1bHRWYWx1ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWVGb3JEZWZpbml0aW9uKHR5cGVEZWZpbml0aW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGhhc0N1c3RvbURlZmF1bHRWYWx1ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVZhbHVlVHlwZURlZmF1bHQodHlwZURlZmluaXRpb24pICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHJlYWRlcjogcmVhZGVyc1t0eXBlXSxcbiAgICAgICAgd3JpdGVyOiB3cml0ZXJzW3R5cGVdIHx8IHdyaXRlcnMuZGVmYXVsdCxcbiAgICB9O1xufVxuY29uc3QgZGVmYXVsdFZhbHVlc0J5VHlwZSA9IHtcbiAgICBnZXQgYXJyYXkoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9LFxuICAgIGJvb2xlYW46IGZhbHNlLFxuICAgIG51bWJlcjogMCxcbiAgICBnZXQgb2JqZWN0KCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBzdHJpbmc6IFwiXCIsXG59O1xuY29uc3QgcmVhZGVycyA9IHtcbiAgICBhcnJheSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBhcnJheSA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBleHBlY3RlZCB2YWx1ZSBvZiB0eXBlIFwiYXJyYXlcIiBidXQgaW5zdGVhZCBnb3QgdmFsdWUgXCIke3ZhbHVlfVwiIG9mIHR5cGUgXCIke3BhcnNlVmFsdWVUeXBlRGVmYXVsdChhcnJheSl9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfSxcbiAgICBib29sZWFuKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAhKHZhbHVlID09IFwiMFwiIHx8IFN0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKSA9PSBcImZhbHNlXCIpO1xuICAgIH0sXG4gICAgbnVtYmVyKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIodmFsdWUucmVwbGFjZSgvXy9nLCBcIlwiKSk7XG4gICAgfSxcbiAgICBvYmplY3QodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb2JqZWN0ID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgIGlmIChvYmplY3QgPT09IG51bGwgfHwgdHlwZW9mIG9iamVjdCAhPSBcIm9iamVjdFwiIHx8IEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgZXhwZWN0ZWQgdmFsdWUgb2YgdHlwZSBcIm9iamVjdFwiIGJ1dCBpbnN0ZWFkIGdvdCB2YWx1ZSBcIiR7dmFsdWV9XCIgb2YgdHlwZSBcIiR7cGFyc2VWYWx1ZVR5cGVEZWZhdWx0KG9iamVjdCl9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0sXG4gICAgc3RyaW5nKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxufTtcbmNvbnN0IHdyaXRlcnMgPSB7XG4gICAgZGVmYXVsdDogd3JpdGVTdHJpbmcsXG4gICAgYXJyYXk6IHdyaXRlSlNPTixcbiAgICBvYmplY3Q6IHdyaXRlSlNPTixcbn07XG5mdW5jdGlvbiB3cml0ZUpTT04odmFsdWUpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xufVxuZnVuY3Rpb24gd3JpdGVTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gYCR7dmFsdWV9YDtcbn1cblxuY2xhc3MgQ29udHJvbGxlciB7XG4gICAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IHNob3VsZExvYWQoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBzdGF0aWMgYWZ0ZXJMb2FkKF9pZGVudGlmaWVyLCBfYXBwbGljYXRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBnZXQgYXBwbGljYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuYXBwbGljYXRpb247XG4gICAgfVxuICAgIGdldCBzY29wZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5zY29wZTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLmVsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBpZGVudGlmaWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5pZGVudGlmaWVyO1xuICAgIH1cbiAgICBnZXQgdGFyZ2V0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUudGFyZ2V0cztcbiAgICB9XG4gICAgZ2V0IG91dGxldHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlLm91dGxldHM7XG4gICAgfVxuICAgIGdldCBjbGFzc2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29wZS5jbGFzc2VzO1xuICAgIH1cbiAgICBnZXQgZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGUuZGF0YTtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICB9XG4gICAgY29ubmVjdCgpIHtcbiAgICB9XG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICB9XG4gICAgZGlzcGF0Y2goZXZlbnROYW1lLCB7IHRhcmdldCA9IHRoaXMuZWxlbWVudCwgZGV0YWlsID0ge30sIHByZWZpeCA9IHRoaXMuaWRlbnRpZmllciwgYnViYmxlcyA9IHRydWUsIGNhbmNlbGFibGUgPSB0cnVlLCB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IHByZWZpeCA/IGAke3ByZWZpeH06JHtldmVudE5hbWV9YCA6IGV2ZW50TmFtZTtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQodHlwZSwgeyBkZXRhaWwsIGJ1YmJsZXMsIGNhbmNlbGFibGUgfSk7XG4gICAgICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH1cbn1cbkNvbnRyb2xsZXIuYmxlc3NpbmdzID0gW1xuICAgIENsYXNzUHJvcGVydGllc0JsZXNzaW5nLFxuICAgIFRhcmdldFByb3BlcnRpZXNCbGVzc2luZyxcbiAgICBWYWx1ZVByb3BlcnRpZXNCbGVzc2luZyxcbiAgICBPdXRsZXRQcm9wZXJ0aWVzQmxlc3NpbmcsXG5dO1xuQ29udHJvbGxlci50YXJnZXRzID0gW107XG5Db250cm9sbGVyLm91dGxldHMgPSBbXTtcbkNvbnRyb2xsZXIudmFsdWVzID0ge307XG5cbmV4cG9ydCB7IEFwcGxpY2F0aW9uLCBBdHRyaWJ1dGVPYnNlcnZlciwgQ29udGV4dCwgQ29udHJvbGxlciwgRWxlbWVudE9ic2VydmVyLCBJbmRleGVkTXVsdGltYXAsIE11bHRpbWFwLCBTZWxlY3Rvck9ic2VydmVyLCBTdHJpbmdNYXBPYnNlcnZlciwgVG9rZW5MaXN0T2JzZXJ2ZXIsIFZhbHVlTGlzdE9ic2VydmVyLCBhZGQsIGRlZmF1bHRTY2hlbWEsIGRlbCwgZmV0Y2gsIHBydW5lIH07XG4iLCAiaW1wb3J0IHsgQXBwbGljYXRpb24gfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcblxuY29uc3QgYXBwbGljYXRpb24gPSBBcHBsaWNhdGlvbi5zdGFydCgpXG5cbi8vIENvbmZpZ3VyZSBTdGltdWx1cyBkZXZlbG9wbWVudCBleHBlcmllbmNlXG5hcHBsaWNhdGlvbi5kZWJ1ZyA9IGZhbHNlXG53aW5kb3cuU3RpbXVsdXMgICA9IGFwcGxpY2F0aW9uXG5cbmV4cG9ydCB7IGFwcGxpY2F0aW9uIH1cbiIsICJpbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSAnQGhvdHdpcmVkL3N0aW11bHVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgY29ubmVjdCgpIHtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChnZXRUaGVtZSgpKTtcbiAgfVxuXG4gIHRvZ2dsZShlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdsaWdodCcpO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdkYXJrJyk7XG4gICAgY29uc3QgbmV3VGhlbWUgPSBnZXRUaGVtZSgpID09PSAnbGlnaHQnID8gJ2RhcmsnIDogJ2xpZ2h0JztcbiAgICB0aGlzLnNldENvb2tpZSgnZGFya21vZGUnLCBuZXdUaGVtZSwgMzApOyAvLyBTdG9yZSBmb3IgMzAgZGF5c1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKG5ld1RoZW1lKTtcblxuICAgIC8vIERpc3BhdGNoIGN1c3RvbSBldmVudCB3aXRoIG5ldyB0aGVtZSB2YWx1ZVxuICAgIGNvbnN0IHRoZW1lQ2hhbmdlZEV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCd0aGVtZUNoYW5nZWQnLCB7XG4gICAgICBkZXRhaWw6IHsgdGhlbWU6IG5ld1RoZW1lIH0sXG4gICAgfSk7XG4gICAgd2luZG93LmRpc3BhdGNoRXZlbnQodGhlbWVDaGFuZ2VkRXZlbnQpO1xuICB9XG5cbiAgc2V0Q29va2llKGNuYW1lLCBjdmFsdWUsIGV4ZGF5cykge1xuICAgIGNvbnN0IGQgPSBuZXcgRGF0ZSgpO1xuICAgIGQuc2V0VGltZShkLmdldFRpbWUoKSArIGV4ZGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApO1xuICAgIGNvbnN0IGV4cGlyZXMgPSAnZXhwaXJlcz0nICsgZC50b1VUQ1N0cmluZygpO1xuICAgIGRvY3VtZW50LmNvb2tpZSA9IGNuYW1lICsgJz0nICsgY3ZhbHVlICsgJzsnICsgZXhwaXJlcyArICc7cGF0aD0vJztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29va2llKGNuYW1lKSB7XG4gIGNvbnN0IG5hbWUgPSBjbmFtZSArICc9JztcbiAgY29uc3QgY2EgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYS5sZW5ndGg7IGkrKykge1xuICAgIGxldCBjID0gY2FbaV07XG4gICAgd2hpbGUgKGMuY2hhckF0KDApID09PSAnICcpIHtcbiAgICAgIGMgPSBjLnN1YnN0cmluZygxKTtcbiAgICB9XG4gICAgaWYgKGMuaW5kZXhPZihuYW1lKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGMuc3Vic3RyaW5nKG5hbWUubGVuZ3RoLCBjLmxlbmd0aCk7XG4gICAgfVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRoZW1lKCkge1xuICBjb25zdCB0aGVtZUNvb2tpZSA9IGdldENvb2tpZSgnZGFya21vZGUnKTtcbiAgcmV0dXJuIHRoZW1lQ29va2llID8gdGhlbWVDb29raWUgOiAnbGlnaHQnO1xufVxuIiwgImltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgY29ubmVjdCgpIHtcbiAgICB0aGlzLmVsZW1lbnQudGV4dENvbnRlbnQgPSBcIkhlbGxvIFdvcmxkIVwiXG4gIH1cbn1cblxuIiwgIlxuICAgICAgICBpbXBvcnQgKiBhcyBtb2R1bGUwIGZyb20gJy4vZGFya19tb2RlX2NvbnRyb2xsZXIuanMnO2ltcG9ydCAqIGFzIG1vZHVsZTEgZnJvbSAnLi9oZWxsb19jb250cm9sbGVyLmpzJ1xuICAgICAgICBjb25zdCBtb2R1bGVzID0gW3tuYW1lOiAnZGFyay1tb2RlJywgbW9kdWxlOiBtb2R1bGUwLCBmaWxlbmFtZTogJ2RhcmtfbW9kZV9jb250cm9sbGVyLmpzJ30se25hbWU6ICdoZWxsbycsIG1vZHVsZTogbW9kdWxlMSwgZmlsZW5hbWU6ICdoZWxsb19jb250cm9sbGVyLmpzJ31dXG4gICAgICAgIGV4cG9ydCBkZWZhdWx0IG1vZHVsZXM7XG4gICAgICAiLCAiaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcIml0ZW1cIiwgXCJjb250ZW50XCJdXG5cbiAgdG9nZ2xlKGV2ZW50KSB7XG4gICAgY29uc3QgY2xpY2tlZEl0ZW0gPSBldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXVpLWFjY29yZGlvbi10YXJnZXQ9XCJpdGVtXCJdJylcbiAgICBjb25zdCBjbGlja2VkSW5kZXggPSB0aGlzLml0ZW1UYXJnZXRzLmluZGV4T2YoY2xpY2tlZEl0ZW0pXG5cbiAgICB0aGlzLml0ZW1UYXJnZXRzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPT09IGNsaWNrZWRJbmRleCkge1xuICAgICAgICB0aGlzLnRvZ2dsZUl0ZW0oaXRlbSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2xvc2VJdGVtKGl0ZW0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHRvZ2dsZUl0ZW0oaXRlbSkge1xuICAgIGNvbnN0IGlzT3BlbiA9IGl0ZW0uZGF0YXNldC51aUFjY29yZGlvbk9wZW5WYWx1ZSA9PT0gJ3RydWUnXG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgdGhpcy5jbG9zZUl0ZW0oaXRlbSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vcGVuSXRlbShpdGVtKVxuICAgIH1cbiAgfVxuXG4gIG9wZW5JdGVtKGl0ZW0pIHtcbiAgICBjb25zdCBjb250ZW50ID0gaXRlbS5xdWVyeVNlbGVjdG9yKCdbZGF0YS11aS1hY2NvcmRpb24tdGFyZ2V0PVwiY29udGVudFwiXScpXG4gICAgY29uc3QgYnV0dG9uID0gaXRlbS5xdWVyeVNlbGVjdG9yKCdidXR0b24nKVxuXG4gICAgaXRlbS5kYXRhc2V0LnVpQWNjb3JkaW9uT3BlblZhbHVlID0gJ3RydWUnXG4gICAgY29udGVudC5kYXRhc2V0LnVpQWNjb3JkaW9uT3BlblZhbHVlID0gJ3RydWUnXG4gICAgY29udGVudC5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpXG4gICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICd0cnVlJylcbiAgfVxuXG4gIGNsb3NlSXRlbShpdGVtKSB7XG4gICAgY29uc3QgY29udGVudCA9IGl0ZW0ucXVlcnlTZWxlY3RvcignW2RhdGEtdWktYWNjb3JkaW9uLXRhcmdldD1cImNvbnRlbnRcIl0nKVxuICAgIGNvbnN0IGJ1dHRvbiA9IGl0ZW0ucXVlcnlTZWxlY3RvcignYnV0dG9uJylcblxuICAgIGl0ZW0uZGF0YXNldC51aUFjY29yZGlvbk9wZW5WYWx1ZSA9ICdmYWxzZSdcbiAgICBjb250ZW50LmRhdGFzZXQudWlBY2NvcmRpb25PcGVuVmFsdWUgPSAnZmFsc2UnXG4gICAgY29udGVudC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKVxuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKVxuICB9XG59IiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4vLyBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcInN0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4vLyAgIGNvbm5lY3QoKSB7XG4vLyAgIH1cbi8vXG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJzdGltdWx1c1wiO1xuLy9cbi8vIGV4cG9ydCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vL1xuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiLy8gYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvdWlfYWxlcnRfZGlhbG9nX2NvbnRyb2xsZXIuanNcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcbmltcG9ydCB7IHVzZUNsaWNrT3V0c2lkZSB9IGZyb20gJ3N0aW11bHVzLXVzZSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJvdmVybGF5XCIsIFwiY29udGVudFwiXVxuICBzdGF0aWMgdmFsdWVzID0ge1xuICAgIGNsb3NlT25DbGlja091dHNpZGU6IEJvb2xlYW5cbiAgfVxuXG4gIGNvbm5lY3QoKSB7XG4gICAgaWYgKHRoaXMuY2xvc2VPbkNsaWNrT3V0c2lkZVZhbHVlKSB7XG4gICAgICB1c2VDbGlja091dHNpZGUodGhpcywgeyBlbGVtZW50OiB0aGlzLmNvbnRlbnRUYXJnZXQgfSlcbiAgICB9XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMub3ZlcmxheVRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgdGhpcy5jb250ZW50VGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMub3ZlcmxheVRhcmdldC5kYXRhc2V0LnVpQWxlcnREaWFsb2dTdGF0ZSA9IFwib3BlblwiXG4gICAgICB0aGlzLmNvbnRlbnRUYXJnZXQuZGF0YXNldC51aUFsZXJ0RGlhbG9nU3RhdGUgPSBcIm9wZW5cIlxuICAgIH0sIDEwKSAvLyBTbWFsbCBkZWxheSB0byBlbnN1cmUgdGhlIGRpc3BsYXkgY2hhbmdlIGhhcyB0YWtlbiBlZmZlY3RcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMub3ZlcmxheVRhcmdldC5kYXRhc2V0LnVpQWxlcnREaWFsb2dTdGF0ZSA9IFwiY2xvc2VkXCJcbiAgICB0aGlzLmNvbnRlbnRUYXJnZXQuZGF0YXNldC51aUFsZXJ0RGlhbG9nU3RhdGUgPSBcImNsb3NlZFwiXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLm92ZXJsYXlUYXJnZXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgICB0aGlzLmNvbnRlbnRUYXJnZXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgfSwgMzApIC8vIEFkanVzdCB0aGlzIHRpbWVvdXQgdG8gbWF0Y2ggeW91ciBhbmltYXRpb24gZHVyYXRpb25cbiAgfVxuXG4gIGNhbmNlbChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB0aGlzLmNsb3NlKClcbiAgfVxuXG4gIGNsaWNrT3V0c2lkZShldmVudCkge1xuICAgIGlmICh0aGlzLmNsb3NlT25DbGlja091dHNpZGVWYWx1ZSkge1xuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfVxuICB9XG59IiwgIi8qXG4gKiBzdGltdWx1cy11c2UgMC41Mi4xXG4gKi9cbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCI7XG5cbmNvbnN0IG1ldGhvZCA9IChjb250cm9sbGVyLCBtZXRob2ROYW1lKSA9PiB7XG4gIGNvbnN0IG1ldGhvZCA9IGNvbnRyb2xsZXJbbWV0aG9kTmFtZV07XG4gIGlmICh0eXBlb2YgbWV0aG9kID09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBtZXRob2Q7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7fTtcbiAgfVxufTtcblxuY29uc3QgY29tcG9zZUV2ZW50TmFtZSA9IChuYW1lLCBjb250cm9sbGVyLCBldmVudFByZWZpeCkgPT4ge1xuICBsZXQgY29tcG9zZWROYW1lID0gbmFtZTtcbiAgaWYgKGV2ZW50UHJlZml4ID09PSB0cnVlKSB7XG4gICAgY29tcG9zZWROYW1lID0gYCR7Y29udHJvbGxlci5pZGVudGlmaWVyfToke25hbWV9YDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXZlbnRQcmVmaXggPT09IFwic3RyaW5nXCIpIHtcbiAgICBjb21wb3NlZE5hbWUgPSBgJHtldmVudFByZWZpeH06JHtuYW1lfWA7XG4gIH1cbiAgcmV0dXJuIGNvbXBvc2VkTmFtZTtcbn07XG5cbmNvbnN0IGV4dGVuZGVkRXZlbnQgPSAodHlwZSwgZXZlbnQsIGRldGFpbCkgPT4ge1xuICBjb25zdCB7YnViYmxlczogYnViYmxlcywgY2FuY2VsYWJsZTogY2FuY2VsYWJsZSwgY29tcG9zZWQ6IGNvbXBvc2VkfSA9IGV2ZW50IHx8IHtcbiAgICBidWJibGVzOiB0cnVlLFxuICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgY29tcG9zZWQ6IHRydWVcbiAgfTtcbiAgaWYgKGV2ZW50KSB7XG4gICAgT2JqZWN0LmFzc2lnbihkZXRhaWwsIHtcbiAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50XG4gICAgfSk7XG4gIH1cbiAgY29uc3QgY3VzdG9tRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQodHlwZSwge1xuICAgIGJ1YmJsZXM6IGJ1YmJsZXMsXG4gICAgY2FuY2VsYWJsZTogY2FuY2VsYWJsZSxcbiAgICBjb21wb3NlZDogY29tcG9zZWQsXG4gICAgZGV0YWlsOiBkZXRhaWxcbiAgfSk7XG4gIHJldHVybiBjdXN0b21FdmVudDtcbn07XG5cbmZ1bmN0aW9uIGlzRWxlbWVudEluVmlld3BvcnQoZWwpIHtcbiAgY29uc3QgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcbiAgY29uc3Qgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gIGNvbnN0IHZlcnRJblZpZXcgPSByZWN0LnRvcCA8PSB3aW5kb3dIZWlnaHQgJiYgcmVjdC50b3AgKyByZWN0LmhlaWdodCA+IDA7XG4gIGNvbnN0IGhvckluVmlldyA9IHJlY3QubGVmdCA8PSB3aW5kb3dXaWR0aCAmJiByZWN0LmxlZnQgKyByZWN0LndpZHRoID4gMDtcbiAgcmV0dXJuIHZlcnRJblZpZXcgJiYgaG9ySW5WaWV3O1xufVxuXG5mdW5jdGlvbiBjYW1lbGl6ZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUucmVwbGFjZSgvKD86W18tXSkoW2EtejAtOV0pL2csICgoXywgY2hhcikgPT4gY2hhci50b1VwcGVyQ2FzZSgpKSk7XG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovIGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgfVxuICByZXR1cm4gdDtcbn1cblxuY29uc3QgZGVmYXVsdE9wdGlvbnMkOCA9IHtcbiAgZGVidWc6IGZhbHNlLFxuICBsb2dnZXI6IGNvbnNvbGUsXG4gIGRpc3BhdGNoRXZlbnQ6IHRydWUsXG4gIGV2ZW50UHJlZml4OiB0cnVlXG59O1xuXG5jbGFzcyBTdGltdWx1c1VzZSB7XG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHRoaXMubG9nID0gKGZ1bmN0aW9uTmFtZSwgYXJncykgPT4ge1xuICAgICAgaWYgKCF0aGlzLmRlYnVnKSByZXR1cm47XG4gICAgICB0aGlzLmxvZ2dlci5ncm91cENvbGxhcHNlZChgJWMke3RoaXMuY29udHJvbGxlci5pZGVudGlmaWVyfSAlYyMke2Z1bmN0aW9uTmFtZX1gLCBcImNvbG9yOiAjM0I4MkY2XCIsIFwiY29sb3I6IHVuc2V0XCIpO1xuICAgICAgdGhpcy5sb2dnZXIubG9nKE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBjb250cm9sbGVySWQ6IHRoaXMuY29udHJvbGxlcklkXG4gICAgICB9LCBhcmdzKSk7XG4gICAgICB0aGlzLmxvZ2dlci5ncm91cEVuZCgpO1xuICAgIH07XG4gICAgdGhpcy53YXJuID0gbWVzc2FnZSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKGAlYyR7dGhpcy5jb250cm9sbGVyLmlkZW50aWZpZXJ9ICVjJHttZXNzYWdlfWAsIFwiY29sb3I6ICMzQjgyRjY7IGZvbnQtd2VpZ2h0OiBib2xkXCIsIFwiY29sb3I6IHVuc2V0XCIpO1xuICAgIH07XG4gICAgdGhpcy5kaXNwYXRjaCA9IChldmVudE5hbWUsIGRldGFpbHMgPSB7fSkgPT4ge1xuICAgICAgaWYgKHRoaXMuZGlzcGF0Y2hFdmVudCkge1xuICAgICAgICBjb25zdCB7ZXZlbnQ6IGV2ZW50fSA9IGRldGFpbHMsIGV2ZW50RGV0YWlscyA9IF9fcmVzdChkZXRhaWxzLCBbIFwiZXZlbnRcIiBdKTtcbiAgICAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSB0aGlzLmV4dGVuZGVkRXZlbnQoZXZlbnROYW1lLCBldmVudCB8fCBudWxsLCBldmVudERldGFpbHMpO1xuICAgICAgICB0aGlzLnRhcmdldEVsZW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XG4gICAgICAgIHRoaXMubG9nKFwiZGlzcGF0Y2hFdmVudFwiLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBldmVudE5hbWU6IGN1c3RvbUV2ZW50LnR5cGVcbiAgICAgICAgfSwgZXZlbnREZXRhaWxzKSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNhbGwgPSAobWV0aG9kTmFtZSwgYXJncyA9IHt9KSA9PiB7XG4gICAgICBjb25zdCBtZXRob2QgPSB0aGlzLmNvbnRyb2xsZXJbbWV0aG9kTmFtZV07XG4gICAgICBpZiAodHlwZW9mIG1ldGhvZCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIG1ldGhvZC5jYWxsKHRoaXMuY29udHJvbGxlciwgYXJncyk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmV4dGVuZGVkRXZlbnQgPSAobmFtZSwgZXZlbnQsIGRldGFpbCkgPT4ge1xuICAgICAgY29uc3Qge2J1YmJsZXM6IGJ1YmJsZXMsIGNhbmNlbGFibGU6IGNhbmNlbGFibGUsIGNvbXBvc2VkOiBjb21wb3NlZH0gPSBldmVudCB8fCB7XG4gICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICAgIGNvbXBvc2VkOiB0cnVlXG4gICAgICB9O1xuICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oZGV0YWlsLCB7XG4gICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudCh0aGlzLmNvbXBvc2VFdmVudE5hbWUobmFtZSksIHtcbiAgICAgICAgYnViYmxlczogYnViYmxlcyxcbiAgICAgICAgY2FuY2VsYWJsZTogY2FuY2VsYWJsZSxcbiAgICAgICAgY29tcG9zZWQ6IGNvbXBvc2VkLFxuICAgICAgICBkZXRhaWw6IGRldGFpbFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gY3VzdG9tRXZlbnQ7XG4gICAgfTtcbiAgICB0aGlzLmNvbXBvc2VFdmVudE5hbWUgPSBuYW1lID0+IHtcbiAgICAgIGxldCBjb21wb3NlZE5hbWUgPSBuYW1lO1xuICAgICAgaWYgKHRoaXMuZXZlbnRQcmVmaXggPT09IHRydWUpIHtcbiAgICAgICAgY29tcG9zZWROYW1lID0gYCR7dGhpcy5jb250cm9sbGVyLmlkZW50aWZpZXJ9OiR7bmFtZX1gO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5ldmVudFByZWZpeCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb21wb3NlZE5hbWUgPSBgJHt0aGlzLmV2ZW50UHJlZml4fToke25hbWV9YDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb21wb3NlZE5hbWU7XG4gICAgfTtcbiAgICB0aGlzLmRlYnVnID0gKF9iID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmRlYnVnKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb250cm9sbGVyLmFwcGxpY2F0aW9uLnN0aW11bHVzVXNlRGVidWcpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRlZmF1bHRPcHRpb25zJDguZGVidWc7XG4gICAgdGhpcy5sb2dnZXIgPSAoX2MgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubG9nZ2VyKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBkZWZhdWx0T3B0aW9ucyQ4LmxvZ2dlcjtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIHRoaXMuY29udHJvbGxlcklkID0gY29udHJvbGxlci5lbGVtZW50LmlkIHx8IGNvbnRyb2xsZXIuZWxlbWVudC5kYXRhc2V0LmlkO1xuICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZWxlbWVudCkgfHwgY29udHJvbGxlci5lbGVtZW50O1xuICAgIGNvbnN0IHtkaXNwYXRjaEV2ZW50OiBkaXNwYXRjaEV2ZW50LCBldmVudFByZWZpeDogZXZlbnRQcmVmaXh9ID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMkOCwgb3B0aW9ucyk7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICBkaXNwYXRjaEV2ZW50OiBkaXNwYXRjaEV2ZW50LFxuICAgICAgZXZlbnRQcmVmaXg6IGV2ZW50UHJlZml4XG4gICAgfSk7XG4gICAgdGhpcy5jb250cm9sbGVySW5pdGlhbGl6ZSA9IGNvbnRyb2xsZXIuaW5pdGlhbGl6ZS5iaW5kKGNvbnRyb2xsZXIpO1xuICAgIHRoaXMuY29udHJvbGxlckNvbm5lY3QgPSBjb250cm9sbGVyLmNvbm5lY3QuYmluZChjb250cm9sbGVyKTtcbiAgICB0aGlzLmNvbnRyb2xsZXJEaXNjb25uZWN0ID0gY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQoY29udHJvbGxlcik7XG4gIH1cbn1cblxuY29uc3QgZGVmYXVsdE9wdGlvbnMkNyA9IHtcbiAgZXZlbnRQcmVmaXg6IHRydWUsXG4gIGJ1YmJsZXM6IHRydWUsXG4gIGNhbmNlbGFibGU6IHRydWVcbn07XG5cbmNsYXNzIFVzZURpc3BhdGNoIGV4dGVuZHMgU3RpbXVsdXNVc2Uge1xuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyLCBvcHRpb25zID0ge30pIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgc3VwZXIoY29udHJvbGxlciwgb3B0aW9ucyk7XG4gICAgdGhpcy5kaXNwYXRjaCA9IChldmVudE5hbWUsIGRldGFpbCA9IHt9KSA9PiB7XG4gICAgICBjb25zdCB7Y29udHJvbGxlcjogY29udHJvbGxlciwgdGFyZ2V0RWxlbWVudDogdGFyZ2V0RWxlbWVudCwgZXZlbnRQcmVmaXg6IGV2ZW50UHJlZml4LCBidWJibGVzOiBidWJibGVzLCBjYW5jZWxhYmxlOiBjYW5jZWxhYmxlLCBsb2c6IGxvZywgd2Fybjogd2Fybn0gPSB0aGlzO1xuICAgICAgT2JqZWN0LmFzc2lnbihkZXRhaWwsIHtcbiAgICAgICAgY29udHJvbGxlcjogY29udHJvbGxlclxuICAgICAgfSk7XG4gICAgICBjb25zdCBldmVudE5hbWVXaXRoUHJlZml4ID0gY29tcG9zZUV2ZW50TmFtZShldmVudE5hbWUsIHRoaXMuY29udHJvbGxlciwgZXZlbnRQcmVmaXgpO1xuICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoZXZlbnROYW1lV2l0aFByZWZpeCwge1xuICAgICAgICBkZXRhaWw6IGRldGFpbCxcbiAgICAgICAgYnViYmxlczogYnViYmxlcyxcbiAgICAgICAgY2FuY2VsYWJsZTogY2FuY2VsYWJsZVxuICAgICAgfSk7XG4gICAgICB0YXJnZXRFbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgd2FybihcImB1c2VEaXNwYXRjaCgpYCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRoZSBidWlsdC1pbiBgdGhpcy5kaXNwYXRjaCgpYCBmdW5jdGlvbiBmcm9tIFN0aW11bHVzLiBZb3UgY2FuIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBvbiBob3cgdG8gdXBncmFkZSBhdDogaHR0cHM6Ly9zdGltdWx1cy11c2UuZ2l0aHViLmlvL3N0aW11bHVzLXVzZS8jL3VzZS1kaXNwYXRjaFwiKTtcbiAgICAgIGxvZyhcImRpc3BhdGNoXCIsIHtcbiAgICAgICAgZXZlbnROYW1lOiBldmVudE5hbWVXaXRoUHJlZml4LFxuICAgICAgICBkZXRhaWw6IGRldGFpbCxcbiAgICAgICAgYnViYmxlczogYnViYmxlcyxcbiAgICAgICAgY2FuY2VsYWJsZTogY2FuY2VsYWJsZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZXZlbnQ7XG4gICAgfTtcbiAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSAoX2EgPSBvcHRpb25zLmVsZW1lbnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNvbnRyb2xsZXIuZWxlbWVudDtcbiAgICB0aGlzLmV2ZW50UHJlZml4ID0gKF9iID0gb3B0aW9ucy5ldmVudFByZWZpeCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZGVmYXVsdE9wdGlvbnMkNy5ldmVudFByZWZpeDtcbiAgICB0aGlzLmJ1YmJsZXMgPSAoX2MgPSBvcHRpb25zLmJ1YmJsZXMpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGRlZmF1bHRPcHRpb25zJDcuYnViYmxlcztcbiAgICB0aGlzLmNhbmNlbGFibGUgPSAoX2QgPSBvcHRpb25zLmNhbmNlbGFibGUpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGRlZmF1bHRPcHRpb25zJDcuY2FuY2VsYWJsZTtcbiAgICB0aGlzLmVuaGFuY2VDb250cm9sbGVyKCk7XG4gIH1cbiAgZW5oYW5jZUNvbnRyb2xsZXIoKSB7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLmNvbnRyb2xsZXIsIHtcbiAgICAgIGRpc3BhdGNoOiB0aGlzLmRpc3BhdGNoXG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgdXNlRGlzcGF0Y2ggPSAoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiBuZXcgVXNlRGlzcGF0Y2goY29udHJvbGxlciwgb3B0aW9ucyk7XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zJDYgPSB7XG4gIG92ZXJ3cml0ZURpc3BhdGNoOiB0cnVlXG59O1xuXG5jb25zdCB1c2VBcHBsaWNhdGlvbiA9IChjb250cm9sbGVyLCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3Qge292ZXJ3cml0ZURpc3BhdGNoOiBvdmVyd3JpdGVEaXNwYXRjaH0gPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucyQ2LCBvcHRpb25zKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnRyb2xsZXIsIFwiaXNQcmV2aWV3XCIsIHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZShcImRhdGEtdHVyYm9saW5rcy1wcmV2aWV3XCIpIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJkYXRhLXR1cmJvLXByZXZpZXdcIik7XG4gICAgfVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnRyb2xsZXIsIFwiaXNDb25uZWN0ZWRcIiwge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiAhIUFycmF5LmZyb20odGhpcy5jb250ZXh0Lm1vZHVsZS5jb25uZWN0ZWRDb250ZXh0cykuZmluZCgoYyA9PiBjID09PSB0aGlzLmNvbnRleHQpKTtcbiAgICB9XG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29udHJvbGxlciwgXCJjc3JmVG9rZW5cIiwge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1ldGFWYWx1ZShcImNzcmYtdG9rZW5cIik7XG4gICAgfVxuICB9KTtcbiAgaWYgKG92ZXJ3cml0ZURpc3BhdGNoKSB7XG4gICAgdXNlRGlzcGF0Y2goY29udHJvbGxlciwgb3B0aW9ucyk7XG4gIH1cbiAgT2JqZWN0LmFzc2lnbihjb250cm9sbGVyLCB7XG4gICAgbWV0YVZhbHVlKG5hbWUpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoYG1ldGFbbmFtZT1cIiR7bmFtZX1cIl1gKTtcbiAgICAgIHJldHVybiBlbGVtZW50ICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKTtcbiAgICB9XG4gIH0pO1xufTtcblxuY2xhc3MgQXBwbGljYXRpb25Db250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICBzdXBlcihjb250ZXh0KTtcbiAgICB0aGlzLmlzUHJldmlldyA9IGZhbHNlO1xuICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNzcmZUb2tlbiA9IFwiXCI7XG4gICAgdXNlQXBwbGljYXRpb24odGhpcywgdGhpcy5vcHRpb25zKTtcbiAgfVxufVxuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyQ1ID0ge1xuICBldmVudHM6IFsgXCJjbGlja1wiLCBcInRvdWNoZW5kXCIgXSxcbiAgb25seVZpc2libGU6IHRydWUsXG4gIGRpc3BhdGNoRXZlbnQ6IHRydWUsXG4gIGV2ZW50UHJlZml4OiB0cnVlXG59O1xuXG5jb25zdCB1c2VDbGlja091dHNpZGUgPSAoY29tcG9zYWJsZUNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBjb250cm9sbGVyID0gY29tcG9zYWJsZUNvbnRyb2xsZXI7XG4gIGNvbnN0IHtvbmx5VmlzaWJsZTogb25seVZpc2libGUsIGRpc3BhdGNoRXZlbnQ6IGRpc3BhdGNoRXZlbnQsIGV2ZW50czogZXZlbnRzLCBldmVudFByZWZpeDogZXZlbnRQcmVmaXh9ID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMkNSwgb3B0aW9ucyk7XG4gIGNvbnN0IG9uRXZlbnQgPSBldmVudCA9PiB7XG4gICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZWxlbWVudCkgfHwgY29udHJvbGxlci5lbGVtZW50O1xuICAgIGlmICh0YXJnZXRFbGVtZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHwgIWlzRWxlbWVudEluVmlld3BvcnQodGFyZ2V0RWxlbWVudCkgJiYgb25seVZpc2libGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNvbnRyb2xsZXIuY2xpY2tPdXRzaWRlKSB7XG4gICAgICBjb250cm9sbGVyLmNsaWNrT3V0c2lkZShldmVudCk7XG4gICAgfVxuICAgIGlmIChkaXNwYXRjaEV2ZW50KSB7XG4gICAgICBjb25zdCBldmVudE5hbWUgPSBjb21wb3NlRXZlbnROYW1lKFwiY2xpY2s6b3V0c2lkZVwiLCBjb250cm9sbGVyLCBldmVudFByZWZpeCk7XG4gICAgICBjb25zdCBjbGlja091dHNpZGVFdmVudCA9IGV4dGVuZGVkRXZlbnQoZXZlbnROYW1lLCBldmVudCwge1xuICAgICAgICBjb250cm9sbGVyOiBjb250cm9sbGVyXG4gICAgICB9KTtcbiAgICAgIHRhcmdldEVsZW1lbnQuZGlzcGF0Y2hFdmVudChjbGlja091dHNpZGVFdmVudCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBvYnNlcnZlID0gKCkgPT4ge1xuICAgIGV2ZW50cyA9PT0gbnVsbCB8fCBldmVudHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV2ZW50cy5mb3JFYWNoKChldmVudCA9PiB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgb25FdmVudCwgdHJ1ZSk7XG4gICAgfSkpO1xuICB9O1xuICBjb25zdCB1bm9ic2VydmUgPSAoKSA9PiB7XG4gICAgZXZlbnRzID09PSBudWxsIHx8IGV2ZW50cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXZlbnRzLmZvckVhY2goKGV2ZW50ID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBvbkV2ZW50LCB0cnVlKTtcbiAgICB9KSk7XG4gIH07XG4gIGNvbnN0IGNvbnRyb2xsZXJEaXNjb25uZWN0ID0gY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQoY29udHJvbGxlcik7XG4gIE9iamVjdC5hc3NpZ24oY29udHJvbGxlciwge1xuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICB1bm9ic2VydmUoKTtcbiAgICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gICAgfVxuICB9KTtcbiAgb2JzZXJ2ZSgpO1xuICByZXR1cm4gWyBvYnNlcnZlLCB1bm9ic2VydmUgXTtcbn07XG5cbmNsYXNzIENsaWNrT3V0c2lkZUNvbXBvc2FibGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7fVxuXG5jbGFzcyBDbGlja091dHNpZGVDb250cm9sbGVyIGV4dGVuZHMgQ2xpY2tPdXRzaWRlQ29tcG9zYWJsZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgc3VwZXIoY29udGV4dCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKSA9PiB7XG4gICAgICBjb25zdCBbb2JzZXJ2ZSwgdW5vYnNlcnZlXSA9IHVzZUNsaWNrT3V0c2lkZSh0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgIHVub2JzZXJ2ZTogdW5vYnNlcnZlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn1cblxuY2xhc3MgRGVib3VuY2VDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7fVxuXG5EZWJvdW5jZUNvbnRyb2xsZXIuZGVib3VuY2VzID0gW107XG5cbmNvbnN0IGRlZmF1bHRXYWl0JDEgPSAyMDA7XG5cbmNvbnN0IGRlYm91bmNlID0gKGZuLCB3YWl0ID0gZGVmYXVsdFdhaXQkMSkgPT4ge1xuICBsZXQgdGltZW91dElkID0gbnVsbDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5mcm9tKGFyZ3VtZW50cyk7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXM7XG4gICAgY29uc3QgcGFyYW1zID0gYXJncy5tYXAoKGFyZyA9PiBhcmcucGFyYW1zKSk7XG4gICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICBhcmdzLmZvckVhY2goKChhcmcsIGluZGV4KSA9PiBhcmcucGFyYW1zID0gcGFyYW1zW2luZGV4XSkpO1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIH07XG4gICAgaWYgKHRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgfVxuICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHdhaXQpO1xuICB9O1xufTtcblxuY29uc3QgdXNlRGVib3VuY2UgPSAoY29tcG9zYWJsZUNvbnRyb2xsZXIsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgY29udHJvbGxlciA9IGNvbXBvc2FibGVDb250cm9sbGVyO1xuICBjb25zdCBjb25zdHJ1Y3RvciA9IGNvbnRyb2xsZXIuY29uc3RydWN0b3I7XG4gIGNvbnN0cnVjdG9yLmRlYm91bmNlcy5mb3JFYWNoKChmdW5jID0+IHtcbiAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnRyb2xsZXJbZnVuY10gPSBkZWJvdW5jZShjb250cm9sbGVyW2Z1bmNdLCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMud2FpdCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgY29uc3Qge25hbWU6IG5hbWUsIHdhaXQ6IHdhaXR9ID0gZnVuYztcbiAgICAgIGlmICghbmFtZSkgcmV0dXJuO1xuICAgICAgY29udHJvbGxlcltuYW1lXSA9IGRlYm91bmNlKGNvbnRyb2xsZXJbbmFtZV0sIHdhaXQgfHwgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy53YWl0KSk7XG4gICAgfVxuICB9KSk7XG59O1xuXG5jbGFzcyBVc2VIb3ZlciBleHRlbmRzIFN0aW11bHVzVXNlIHtcbiAgY29uc3RydWN0b3IoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoY29udHJvbGxlciwgb3B0aW9ucyk7XG4gICAgdGhpcy5vYnNlcnZlID0gKCkgPT4ge1xuICAgICAgdGhpcy50YXJnZXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIHRoaXMub25FbnRlcik7XG4gICAgICB0aGlzLnRhcmdldEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5vbkxlYXZlKTtcbiAgICB9O1xuICAgIHRoaXMudW5vYnNlcnZlID0gKCkgPT4ge1xuICAgICAgdGhpcy50YXJnZXRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIHRoaXMub25FbnRlcik7XG4gICAgICB0aGlzLnRhcmdldEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5vbkxlYXZlKTtcbiAgICB9O1xuICAgIHRoaXMub25FbnRlciA9IGV2ZW50ID0+IHtcbiAgICAgIHRoaXMuY2FsbChcIm1vdXNlRW50ZXJcIiwgZXZlbnQpO1xuICAgICAgdGhpcy5sb2coXCJtb3VzZUVudGVyXCIsIHtcbiAgICAgICAgaG92ZXI6IHRydWVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kaXNwYXRjaChcIm1vdXNlRW50ZXJcIiwge1xuICAgICAgICBob3ZlcjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5vbkxlYXZlID0gZXZlbnQgPT4ge1xuICAgICAgdGhpcy5jYWxsKFwibW91c2VMZWF2ZVwiLCBldmVudCk7XG4gICAgICB0aGlzLmxvZyhcIm1vdXNlTGVhdmVcIiwge1xuICAgICAgICBob3ZlcjogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kaXNwYXRjaChcIm1vdXNlTGVhdmVcIiwge1xuICAgICAgICBob3ZlcjogZmFsc2VcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB0aGlzLmVuaGFuY2VDb250cm9sbGVyKCk7XG4gICAgdGhpcy5vYnNlcnZlKCk7XG4gIH1cbiAgZW5oYW5jZUNvbnRyb2xsZXIoKSB7XG4gICAgY29uc3QgY29udHJvbGxlckRpc2Nvbm5lY3QgPSB0aGlzLmNvbnRyb2xsZXIuZGlzY29ubmVjdC5iaW5kKHRoaXMuY29udHJvbGxlcik7XG4gICAgY29uc3QgZGlzY29ubmVjdCA9ICgpID0+IHtcbiAgICAgIHRoaXMudW5vYnNlcnZlKCk7XG4gICAgICBjb250cm9sbGVyRGlzY29ubmVjdCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLmNvbnRyb2xsZXIsIHtcbiAgICAgIGRpc2Nvbm5lY3Q6IGRpc2Nvbm5lY3RcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCB1c2VIb3ZlciA9IChjb21wb3NhYmxlQ29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgVXNlSG92ZXIoY29udHJvbGxlciwgb3B0aW9ucyk7XG4gIHJldHVybiBbIG9ic2VydmVyLm9ic2VydmUsIG9ic2VydmVyLnVub2JzZXJ2ZSBdO1xufTtcblxuY2xhc3MgSG92ZXJDb21wb3NhYmxlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge31cblxuY2xhc3MgSG92ZXJDb250cm9sbGVyIGV4dGVuZHMgSG92ZXJDb21wb3NhYmxlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICBzdXBlcihjb250ZXh0KTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpID0+IHtcbiAgICAgIGNvbnN0IFtvYnNlcnZlLCB1bm9ic2VydmVdID0gdXNlSG92ZXIodGhpcywgdGhpcy5vcHRpb25zKTtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywge1xuICAgICAgICBvYnNlcnZlOiBvYnNlcnZlLFxuICAgICAgICB1bm9ic2VydmU6IHVub2JzZXJ2ZVxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9XG59XG5cbmNvbnN0IGRlZmF1bHRFdmVudHMgPSBbIFwibW91c2Vtb3ZlXCIsIFwibW91c2Vkb3duXCIsIFwicmVzaXplXCIsIFwia2V5ZG93blwiLCBcInRvdWNoc3RhcnRcIiwgXCJ3aGVlbFwiIF07XG5cbmNvbnN0IG9uZU1pbnV0ZSA9IDZlNDtcblxuY29uc3QgZGVmYXVsdE9wdGlvbnMkNCA9IHtcbiAgbXM6IG9uZU1pbnV0ZSxcbiAgaW5pdGlhbFN0YXRlOiBmYWxzZSxcbiAgZXZlbnRzOiBkZWZhdWx0RXZlbnRzLFxuICBkaXNwYXRjaEV2ZW50OiB0cnVlLFxuICBldmVudFByZWZpeDogdHJ1ZVxufTtcblxuY29uc3QgdXNlSWRsZSA9IChjb21wb3NhYmxlQ29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3Qge21zOiBtcywgaW5pdGlhbFN0YXRlOiBpbml0aWFsU3RhdGUsIGV2ZW50czogZXZlbnRzLCBkaXNwYXRjaEV2ZW50OiBkaXNwYXRjaEV2ZW50LCBldmVudFByZWZpeDogZXZlbnRQcmVmaXh9ID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMkNCwgb3B0aW9ucyk7XG4gIGxldCBpc0lkbGUgPSBpbml0aWFsU3RhdGU7XG4gIGxldCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKCkgPT4ge1xuICAgIGlzSWRsZSA9IHRydWU7XG4gICAgZGlzcGF0Y2hBd2F5KCk7XG4gIH0pLCBtcyk7XG4gIGNvbnN0IGRpc3BhdGNoQXdheSA9IGV2ZW50ID0+IHtcbiAgICBjb25zdCBldmVudE5hbWUgPSBjb21wb3NlRXZlbnROYW1lKFwiYXdheVwiLCBjb250cm9sbGVyLCBldmVudFByZWZpeCk7XG4gICAgY29udHJvbGxlci5pc0lkbGUgPSB0cnVlO1xuICAgIG1ldGhvZChjb250cm9sbGVyLCBcImF3YXlcIikuY2FsbChjb250cm9sbGVyLCBldmVudCk7XG4gICAgaWYgKGRpc3BhdGNoRXZlbnQpIHtcbiAgICAgIGNvbnN0IGNsaWNrT3V0c2lkZUV2ZW50ID0gZXh0ZW5kZWRFdmVudChldmVudE5hbWUsIGV2ZW50IHx8IG51bGwsIHtcbiAgICAgICAgY29udHJvbGxlcjogY29udHJvbGxlclxuICAgICAgfSk7XG4gICAgICBjb250cm9sbGVyLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChjbGlja091dHNpZGVFdmVudCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBkaXNwYXRjaEJhY2sgPSBldmVudCA9PiB7XG4gICAgY29uc3QgZXZlbnROYW1lID0gY29tcG9zZUV2ZW50TmFtZShcImJhY2tcIiwgY29udHJvbGxlciwgZXZlbnRQcmVmaXgpO1xuICAgIGNvbnRyb2xsZXIuaXNJZGxlID0gZmFsc2U7XG4gICAgbWV0aG9kKGNvbnRyb2xsZXIsIFwiYmFja1wiKS5jYWxsKGNvbnRyb2xsZXIsIGV2ZW50KTtcbiAgICBpZiAoZGlzcGF0Y2hFdmVudCkge1xuICAgICAgY29uc3QgY2xpY2tPdXRzaWRlRXZlbnQgPSBleHRlbmRlZEV2ZW50KGV2ZW50TmFtZSwgZXZlbnQgfHwgbnVsbCwge1xuICAgICAgICBjb250cm9sbGVyOiBjb250cm9sbGVyXG4gICAgICB9KTtcbiAgICAgIGNvbnRyb2xsZXIuZWxlbWVudC5kaXNwYXRjaEV2ZW50KGNsaWNrT3V0c2lkZUV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9uRXZlbnQgPSBldmVudCA9PiB7XG4gICAgaWYgKGlzSWRsZSkgZGlzcGF0Y2hCYWNrKGV2ZW50KTtcbiAgICBpc0lkbGUgPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgIGlzSWRsZSA9IHRydWU7XG4gICAgICBkaXNwYXRjaEF3YXkoZXZlbnQpO1xuICAgIH0pLCBtcyk7XG4gIH07XG4gIGNvbnN0IG9uVmlzaWJpbGl0eSA9IGV2ZW50ID0+IHtcbiAgICBpZiAoIWRvY3VtZW50LmhpZGRlbikgb25FdmVudChldmVudCk7XG4gIH07XG4gIGlmIChpc0lkbGUpIHtcbiAgICBkaXNwYXRjaEF3YXkoKTtcbiAgfSBlbHNlIHtcbiAgICBkaXNwYXRjaEJhY2soKTtcbiAgfVxuICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IGNvbnRyb2xsZXIuZGlzY29ubmVjdC5iaW5kKGNvbnRyb2xsZXIpO1xuICBjb25zdCBvYnNlcnZlID0gKCkgPT4ge1xuICAgIGV2ZW50cy5mb3JFYWNoKChldmVudCA9PiB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgb25FdmVudCk7XG4gICAgfSkpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIG9uVmlzaWJpbGl0eSk7XG4gIH07XG4gIGNvbnN0IHVub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgZXZlbnRzLmZvckVhY2goKGV2ZW50ID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBvbkV2ZW50KTtcbiAgICB9KSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgb25WaXNpYmlsaXR5KTtcbiAgfTtcbiAgT2JqZWN0LmFzc2lnbihjb250cm9sbGVyLCB7XG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgIHVub2JzZXJ2ZSgpO1xuICAgICAgY29udHJvbGxlckRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gIH0pO1xuICBvYnNlcnZlKCk7XG4gIHJldHVybiBbIG9ic2VydmUsIHVub2JzZXJ2ZSBdO1xufTtcblxuY2xhc3MgSWRsZUNvbXBvc2FibGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5pc0lkbGUgPSBmYWxzZTtcbiAgfVxufVxuXG5jbGFzcyBJZGxlQ29udHJvbGxlciBleHRlbmRzIElkbGVDb21wb3NhYmxlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICBzdXBlcihjb250ZXh0KTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpID0+IHtcbiAgICAgIGNvbnN0IFtvYnNlcnZlLCB1bm9ic2VydmVdID0gdXNlSWRsZSh0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgIHVub2JzZXJ2ZTogdW5vYnNlcnZlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn1cblxuY29uc3QgZGVmYXVsdE9wdGlvbnMkMyA9IHtcbiAgZGlzcGF0Y2hFdmVudDogdHJ1ZSxcbiAgZXZlbnRQcmVmaXg6IHRydWUsXG4gIHZpc2libGVBdHRyaWJ1dGU6IFwiaXNWaXNpYmxlXCJcbn07XG5cbmNvbnN0IHVzZUludGVyc2VjdGlvbiA9IChjb21wb3NhYmxlQ29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3Qge2Rpc3BhdGNoRXZlbnQ6IGRpc3BhdGNoRXZlbnQsIGV2ZW50UHJlZml4OiBldmVudFByZWZpeCwgdmlzaWJsZUF0dHJpYnV0ZTogdmlzaWJsZUF0dHJpYnV0ZX0gPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucyQzLCBvcHRpb25zKTtcbiAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZWxlbWVudCkgfHwgY29udHJvbGxlci5lbGVtZW50O1xuICBpZiAoIWNvbnRyb2xsZXIuaW50ZXJzZWN0aW9uRWxlbWVudHMpIGNvbnRyb2xsZXIuaW50ZXJzZWN0aW9uRWxlbWVudHMgPSBbXTtcbiAgY29udHJvbGxlci5pbnRlcnNlY3Rpb25FbGVtZW50cy5wdXNoKHRhcmdldEVsZW1lbnQpO1xuICBjb25zdCBjYWxsYmFjayA9IGVudHJpZXMgPT4ge1xuICAgIGNvbnN0IFtlbnRyeV0gPSBlbnRyaWVzO1xuICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgZGlzcGF0Y2hBcHBlYXIoZW50cnkpO1xuICAgIH0gZWxzZSBpZiAodGFyZ2V0RWxlbWVudC5oYXNBdHRyaWJ1dGUodmlzaWJsZUF0dHJpYnV0ZSkpIHtcbiAgICAgIGRpc3BhdGNoRGlzYXBwZWFyKGVudHJ5KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGNhbGxiYWNrLCBvcHRpb25zKTtcbiAgY29uc3QgZGlzcGF0Y2hBcHBlYXIgPSBlbnRyeSA9PiB7XG4gICAgdGFyZ2V0RWxlbWVudC5zZXRBdHRyaWJ1dGUodmlzaWJsZUF0dHJpYnV0ZSwgXCJ0cnVlXCIpO1xuICAgIG1ldGhvZChjb250cm9sbGVyLCBcImFwcGVhclwiKS5jYWxsKGNvbnRyb2xsZXIsIGVudHJ5LCBvYnNlcnZlcik7XG4gICAgaWYgKGRpc3BhdGNoRXZlbnQpIHtcbiAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IGNvbXBvc2VFdmVudE5hbWUoXCJhcHBlYXJcIiwgY29udHJvbGxlciwgZXZlbnRQcmVmaXgpO1xuICAgICAgY29uc3QgYXBwZWFyRXZlbnQgPSBleHRlbmRlZEV2ZW50KGV2ZW50TmFtZSwgbnVsbCwge1xuICAgICAgICBjb250cm9sbGVyOiBjb250cm9sbGVyLFxuICAgICAgICBlbnRyeTogZW50cnksXG4gICAgICAgIG9ic2VydmVyOiBvYnNlcnZlclxuICAgICAgfSk7XG4gICAgICB0YXJnZXRFbGVtZW50LmRpc3BhdGNoRXZlbnQoYXBwZWFyRXZlbnQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZGlzcGF0Y2hEaXNhcHBlYXIgPSBlbnRyeSA9PiB7XG4gICAgdGFyZ2V0RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUodmlzaWJsZUF0dHJpYnV0ZSk7XG4gICAgbWV0aG9kKGNvbnRyb2xsZXIsIFwiZGlzYXBwZWFyXCIpLmNhbGwoY29udHJvbGxlciwgZW50cnksIG9ic2VydmVyKTtcbiAgICBpZiAoZGlzcGF0Y2hFdmVudCkge1xuICAgICAgY29uc3QgZXZlbnROYW1lID0gY29tcG9zZUV2ZW50TmFtZShcImRpc2FwcGVhclwiLCBjb250cm9sbGVyLCBldmVudFByZWZpeCk7XG4gICAgICBjb25zdCBkaXNhcHBlYXJFdmVudCA9IGV4dGVuZGVkRXZlbnQoZXZlbnROYW1lLCBudWxsLCB7XG4gICAgICAgIGNvbnRyb2xsZXI6IGNvbnRyb2xsZXIsXG4gICAgICAgIGVudHJ5OiBlbnRyeSxcbiAgICAgICAgb2JzZXJ2ZXI6IG9ic2VydmVyXG4gICAgICB9KTtcbiAgICAgIHRhcmdldEVsZW1lbnQuZGlzcGF0Y2hFdmVudChkaXNhcHBlYXJFdmVudCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IGNvbnRyb2xsZXIuZGlzY29ubmVjdC5iaW5kKGNvbnRyb2xsZXIpO1xuICBjb25zdCBkaXNjb25uZWN0ID0gKCkgPT4ge1xuICAgIHVub2JzZXJ2ZSgpO1xuICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gIH07XG4gIGNvbnN0IG9ic2VydmUgPSAoKSA9PiB7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXRFbGVtZW50KTtcbiAgfTtcbiAgY29uc3QgdW5vYnNlcnZlID0gKCkgPT4ge1xuICAgIG9ic2VydmVyLnVub2JzZXJ2ZSh0YXJnZXRFbGVtZW50KTtcbiAgfTtcbiAgY29uc3Qgbm9uZVZpc2libGUgPSAoKSA9PiBjb250cm9sbGVyLmludGVyc2VjdGlvbkVsZW1lbnRzLmZpbHRlcigoZWxlbWVudCA9PiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSh2aXNpYmxlQXR0cmlidXRlKSkpLmxlbmd0aCA9PT0gMDtcbiAgY29uc3Qgb25lVmlzaWJsZSA9ICgpID0+IGNvbnRyb2xsZXIuaW50ZXJzZWN0aW9uRWxlbWVudHMuZmlsdGVyKChlbGVtZW50ID0+IGVsZW1lbnQuaGFzQXR0cmlidXRlKHZpc2libGVBdHRyaWJ1dGUpKSkubGVuZ3RoID09PSAxO1xuICBjb25zdCBhdExlYXN0T25lVmlzaWJsZSA9ICgpID0+IGNvbnRyb2xsZXIuaW50ZXJzZWN0aW9uRWxlbWVudHMuc29tZSgoZWxlbWVudCA9PiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSh2aXNpYmxlQXR0cmlidXRlKSkpO1xuICBjb25zdCBhbGxWaXNpYmxlID0gKCkgPT4gY29udHJvbGxlci5pbnRlcnNlY3Rpb25FbGVtZW50cy5ldmVyeSgoZWxlbWVudCA9PiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSh2aXNpYmxlQXR0cmlidXRlKSkpO1xuICBjb25zdCBpc1Zpc2libGUgPSBhbGxWaXNpYmxlO1xuICBPYmplY3QuYXNzaWduKGNvbnRyb2xsZXIsIHtcbiAgICBpc1Zpc2libGU6IGlzVmlzaWJsZSxcbiAgICBub25lVmlzaWJsZTogbm9uZVZpc2libGUsXG4gICAgb25lVmlzaWJsZTogb25lVmlzaWJsZSxcbiAgICBhdExlYXN0T25lVmlzaWJsZTogYXRMZWFzdE9uZVZpc2libGUsXG4gICAgYWxsVmlzaWJsZTogYWxsVmlzaWJsZSxcbiAgICBkaXNjb25uZWN0OiBkaXNjb25uZWN0XG4gIH0pO1xuICBvYnNlcnZlKCk7XG4gIHJldHVybiBbIG9ic2VydmUsIHVub2JzZXJ2ZSBdO1xufTtcblxuY2xhc3MgSW50ZXJzZWN0aW9uQ29tcG9zYWJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHt9XG5cbmNsYXNzIEludGVyc2VjdGlvbkNvbnRyb2xsZXIgZXh0ZW5kcyBJbnRlcnNlY3Rpb25Db21wb3NhYmxlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICBzdXBlcihjb250ZXh0KTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpID0+IHtcbiAgICAgIGNvbnN0IFtvYnNlcnZlLCB1bm9ic2VydmVdID0gdXNlSW50ZXJzZWN0aW9uKHRoaXMsIHRoaXMub3B0aW9ucyk7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgdW5vYnNlcnZlOiB1bm9ic2VydmVcbiAgICAgIH0pO1xuICAgIH0pKTtcbiAgfVxufVxuXG5jb25zdCB1c2VMYXp5TG9hZCA9IChjb250cm9sbGVyLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IGNhbGxiYWNrID0gZW50cmllcyA9PiB7XG4gICAgY29uc3QgW2VudHJ5XSA9IGVudHJpZXM7XG4gICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nICYmICFjb250cm9sbGVyLmlzTG9hZGVkKSB7XG4gICAgICBoYW5kbGVBcHBlYXIoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZUFwcGVhciA9IGVudHJ5ID0+IHtcbiAgICBjb25zdCBzcmMgPSBjb250cm9sbGVyLmRhdGEuZ2V0KFwic3JjXCIpO1xuICAgIGlmICghc3JjKSByZXR1cm47XG4gICAgY29uc3QgaW1hZ2VFbGVtZW50ID0gY29udHJvbGxlci5lbGVtZW50O1xuICAgIGNvbnRyb2xsZXIuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICBtZXRob2QoY29udHJvbGxlciwgXCJsb2FkaW5nXCIpLmNhbGwoY29udHJvbGxlciwgc3JjKTtcbiAgICBpbWFnZUVsZW1lbnQub25sb2FkID0gKCkgPT4ge1xuICAgICAgaGFuZGxlTG9hZGVkKHNyYyk7XG4gICAgfTtcbiAgICBpbWFnZUVsZW1lbnQuc3JjID0gc3JjO1xuICB9O1xuICBjb25zdCBoYW5kbGVMb2FkZWQgPSBzcmMgPT4ge1xuICAgIGNvbnRyb2xsZXIuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgY29udHJvbGxlci5pc0xvYWRlZCA9IHRydWU7XG4gICAgbWV0aG9kKGNvbnRyb2xsZXIsIFwibG9hZGVkXCIpLmNhbGwoY29udHJvbGxlciwgc3JjKTtcbiAgfTtcbiAgY29uc3QgY29udHJvbGxlckRpc2Nvbm5lY3QgPSBjb250cm9sbGVyLmRpc2Nvbm5lY3QuYmluZChjb250cm9sbGVyKTtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoY2FsbGJhY2ssIG9wdGlvbnMpO1xuICBjb25zdCBvYnNlcnZlID0gKCkgPT4ge1xuICAgIG9ic2VydmVyLm9ic2VydmUoY29udHJvbGxlci5lbGVtZW50KTtcbiAgfTtcbiAgY29uc3QgdW5vYnNlcnZlID0gKCkgPT4ge1xuICAgIG9ic2VydmVyLnVub2JzZXJ2ZShjb250cm9sbGVyLmVsZW1lbnQpO1xuICB9O1xuICBPYmplY3QuYXNzaWduKGNvbnRyb2xsZXIsIHtcbiAgICBpc1Zpc2libGU6IGZhbHNlLFxuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICB1bm9ic2VydmUoKTtcbiAgICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gICAgfVxuICB9KTtcbiAgb2JzZXJ2ZSgpO1xuICByZXR1cm4gWyBvYnNlcnZlLCB1bm9ic2VydmUgXTtcbn07XG5cbmNsYXNzIExhenlMb2FkQ29tcG9zYWJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIHRoaXMuaXNMb2FkZWQgPSBmYWxzZTtcbiAgfVxufVxuXG5jbGFzcyBMYXp5TG9hZENvbnRyb2xsZXIgZXh0ZW5kcyBMYXp5TG9hZENvbXBvc2FibGVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIHJvb3RNYXJnaW46IFwiMTAlXCJcbiAgICB9O1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgY29uc3QgW29ic2VydmUsIHVub2JzZXJ2ZV0gPSB1c2VMYXp5TG9hZCh0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgIHVub2JzZXJ2ZTogdW5vYnNlcnZlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn1cblxuY29uc3QgZGVmYXVsdE9wdGlvbnMkMiA9IHtcbiAgbWVkaWFRdWVyaWVzOiB7fSxcbiAgZGlzcGF0Y2hFdmVudDogdHJ1ZSxcbiAgZXZlbnRQcmVmaXg6IHRydWUsXG4gIGRlYnVnOiBmYWxzZVxufTtcblxuY2xhc3MgVXNlTWF0Y2hNZWRpYSBleHRlbmRzIFN0aW11bHVzVXNlIHtcbiAgY29uc3RydWN0b3IoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIHN1cGVyKGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICAgIHRoaXMubWF0Y2hlcyA9IFtdO1xuICAgIHRoaXMuY2FsbGJhY2sgPSBldmVudCA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gT2JqZWN0LmtleXModGhpcy5tZWRpYVF1ZXJpZXMpLmZpbmQoKG5hbWUgPT4gdGhpcy5tZWRpYVF1ZXJpZXNbbmFtZV0gPT09IGV2ZW50Lm1lZGlhKSk7XG4gICAgICBpZiAoIW5hbWUpIHJldHVybjtcbiAgICAgIGNvbnN0IHttZWRpYTogbWVkaWEsIG1hdGNoZXM6IG1hdGNoZXN9ID0gZXZlbnQ7XG4gICAgICB0aGlzLmNoYW5nZWQoe1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBtZWRpYTogbWVkaWEsXG4gICAgICAgIG1hdGNoZXM6IG1hdGNoZXMsXG4gICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLmNoYW5nZWQgPSBwYXlsb2FkID0+IHtcbiAgICAgIGNvbnN0IHtuYW1lOiBuYW1lfSA9IHBheWxvYWQ7XG4gICAgICBpZiAocGF5bG9hZC5ldmVudCkge1xuICAgICAgICB0aGlzLmNhbGwoY2FtZWxpemUoYCR7bmFtZX1fY2hhbmdlZGApLCBwYXlsb2FkKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaChgJHtuYW1lfTpjaGFuZ2VkYCwgcGF5bG9hZCk7XG4gICAgICAgIHRoaXMubG9nKGBtZWRpYSBxdWVyeSBcIiR7bmFtZX1cIiBjaGFuZ2VkYCwgcGF5bG9hZCk7XG4gICAgICB9XG4gICAgICBpZiAocGF5bG9hZC5tYXRjaGVzKSB7XG4gICAgICAgIHRoaXMuY2FsbChjYW1lbGl6ZShgaXNfJHtuYW1lfWApLCBwYXlsb2FkKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaChgaXM6JHtuYW1lfWAsIHBheWxvYWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jYWxsKGNhbWVsaXplKGBub3RfJHtuYW1lfWApLCBwYXlsb2FkKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaChgbm90OiR7bmFtZX1gLCBwYXlsb2FkKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMubWVkaWFRdWVyaWVzKS5mb3JFYWNoKChuYW1lID0+IHtcbiAgICAgICAgY29uc3QgbWVkaWEgPSB0aGlzLm1lZGlhUXVlcmllc1tuYW1lXTtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB3aW5kb3cubWF0Y2hNZWRpYShtZWRpYSk7XG4gICAgICAgIG1hdGNoLmFkZExpc3RlbmVyKHRoaXMuY2FsbGJhY2spO1xuICAgICAgICB0aGlzLm1hdGNoZXMucHVzaChtYXRjaCk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCh7XG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICBtZWRpYTogbWVkaWEsXG4gICAgICAgICAgbWF0Y2hlczogbWF0Y2gubWF0Y2hlc1xuICAgICAgICB9KTtcbiAgICAgIH0pKTtcbiAgICB9O1xuICAgIHRoaXMudW5vYnNlcnZlID0gKCkgPT4ge1xuICAgICAgdGhpcy5tYXRjaGVzLmZvckVhY2goKG1hdGNoID0+IG1hdGNoLnJlbW92ZUxpc3RlbmVyKHRoaXMuY2FsbGJhY2spKSk7XG4gICAgfTtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIHRoaXMubWVkaWFRdWVyaWVzID0gKF9hID0gb3B0aW9ucy5tZWRpYVF1ZXJpZXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRlZmF1bHRPcHRpb25zJDIubWVkaWFRdWVyaWVzO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudCA9IChfYiA9IG9wdGlvbnMuZGlzcGF0Y2hFdmVudCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZGVmYXVsdE9wdGlvbnMkMi5kaXNwYXRjaEV2ZW50O1xuICAgIHRoaXMuZXZlbnRQcmVmaXggPSAoX2MgPSBvcHRpb25zLmV2ZW50UHJlZml4KSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBkZWZhdWx0T3B0aW9ucyQyLmV2ZW50UHJlZml4O1xuICAgIHRoaXMuZGVidWcgPSAoX2QgPSBvcHRpb25zLmRlYnVnKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBkZWZhdWx0T3B0aW9ucyQyLmRlYnVnO1xuICAgIGlmICghd2luZG93Lm1hdGNoTWVkaWEpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJ3aW5kb3cubWF0Y2hNZWRpYSgpIGlzIG5vdCBhdmFpbGFibGVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZW5oYW5jZUNvbnRyb2xsZXIoKTtcbiAgICB0aGlzLm9ic2VydmUoKTtcbiAgfVxuICBlbmhhbmNlQ29udHJvbGxlcigpIHtcbiAgICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IHRoaXMuY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQodGhpcy5jb250cm9sbGVyKTtcbiAgICBjb25zdCBkaXNjb25uZWN0ID0gKCkgPT4ge1xuICAgICAgdGhpcy51bm9ic2VydmUoKTtcbiAgICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMuY29udHJvbGxlciwge1xuICAgICAgZGlzY29ubmVjdDogZGlzY29ubmVjdFxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IHVzZU1hdGNoTWVkaWEgPSAoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IFVzZU1hdGNoTWVkaWEoY29udHJvbGxlciwgb3B0aW9ucyk7XG4gIHJldHVybiBbIG9ic2VydmVyLm9ic2VydmUsIG9ic2VydmVyLnVub2JzZXJ2ZSBdO1xufTtcblxuY29uc3QgbWVtb2l6ZSA9IChjb250cm9sbGVyLCBuYW1lLCB2YWx1ZSkgPT4ge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29udHJvbGxlciwgbmFtZSwge1xuICAgIHZhbHVlOiB2YWx1ZVxuICB9KTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuY29uc3QgdXNlTWVtbyA9IGNvbnRyb2xsZXIgPT4ge1xuICB2YXIgX2E7XG4gIChfYSA9IGNvbnRyb2xsZXIuY29uc3RydWN0b3IubWVtb3MpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKChnZXR0ZXIgPT4ge1xuICAgIG1lbW9pemUoY29udHJvbGxlciwgZ2V0dGVyLCBjb250cm9sbGVyW2dldHRlcl0pO1xuICB9KSk7XG59O1xuXG5jb25zdCBkZWZpbmVNZXRhR2V0dGVyID0gKGNvbnRyb2xsZXIsIG1ldGFOYW1lLCBzdWZmaXgpID0+IHtcbiAgY29uc3QgZ2V0dGVyTmFtZSA9IHN1ZmZpeCA/IGAke2NhbWVsaXplKG1ldGFOYW1lKX1NZXRhYCA6IGNhbWVsaXplKG1ldGFOYW1lKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnRyb2xsZXIsIGdldHRlck5hbWUsIHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdHlwZUNhc3QobWV0YVZhbHVlKG1ldGFOYW1lKSk7XG4gICAgfVxuICB9KTtcbn07XG5cbmZ1bmN0aW9uIG1ldGFWYWx1ZShuYW1lKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoYG1ldGFbbmFtZT1cIiR7bmFtZX1cIl1gKTtcbiAgcmV0dXJuIGVsZW1lbnQgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpO1xufVxuXG5mdW5jdGlvbiB0eXBlQ2FzdCh2YWx1ZSkge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlKTtcbiAgfSBjYXRjaCAob19PKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5cbmNvbnN0IHVzZU1ldGEgPSAoY29udHJvbGxlciwgb3B0aW9ucyA9IHtcbiAgc3VmZml4OiB0cnVlXG59KSA9PiB7XG4gIGNvbnN0IG1ldGFOYW1lcyA9IGNvbnRyb2xsZXIuY29uc3RydWN0b3IubWV0YU5hbWVzO1xuICBjb25zdCBzdWZmaXggPSBvcHRpb25zLnN1ZmZpeDtcbiAgbWV0YU5hbWVzID09PSBudWxsIHx8IG1ldGFOYW1lcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWV0YU5hbWVzLmZvckVhY2goKG1ldGFOYW1lID0+IHtcbiAgICBkZWZpbmVNZXRhR2V0dGVyKGNvbnRyb2xsZXIsIG1ldGFOYW1lLCBzdWZmaXgpO1xuICB9KSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb250cm9sbGVyLCBcIm1ldGFzXCIsIHtcbiAgICBnZXQoKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgIG1ldGFOYW1lcyA9PT0gbnVsbCB8fCBtZXRhTmFtZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1ldGFOYW1lcy5mb3JFYWNoKChtZXRhTmFtZSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdHlwZUNhc3QobWV0YVZhbHVlKG1ldGFOYW1lKSk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgcmVzdWx0W2NhbWVsaXplKG1ldGFOYW1lKV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH0pO1xufTtcblxuY2xhc3MgVXNlTXV0YXRpb24gZXh0ZW5kcyBTdGltdWx1c1VzZSB7XG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICAgIHRoaXMub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnRhcmdldEVsZW1lbnQsIHRoaXMub3B0aW9ucyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYXBwbGljYXRpb24uaGFuZGxlRXJyb3IoZXJyb3IsIFwiQXQgYSBtaW5pbXVtLCBvbmUgb2YgY2hpbGRMaXN0LCBhdHRyaWJ1dGVzLCBhbmQvb3IgY2hhcmFjdGVyRGF0YSBtdXN0IGJlIHRydWVcIiwge30pO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy51bm9ic2VydmUgPSAoKSA9PiB7XG4gICAgICB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICAgIHRoaXMubXV0YXRpb24gPSBlbnRyaWVzID0+IHtcbiAgICAgIHRoaXMuY2FsbChcIm11dGF0ZVwiLCBlbnRyaWVzKTtcbiAgICAgIHRoaXMubG9nKFwibXV0YXRlXCIsIHtcbiAgICAgICAgZW50cmllczogZW50cmllc1xuICAgICAgfSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKFwibXV0YXRlXCIsIHtcbiAgICAgICAgZW50cmllczogZW50cmllc1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmVsZW1lbnQpIHx8IGNvbnRyb2xsZXIuZWxlbWVudDtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMubXV0YXRpb24pO1xuICAgIHRoaXMuZW5oYW5jZUNvbnRyb2xsZXIoKTtcbiAgICB0aGlzLm9ic2VydmUoKTtcbiAgfVxuICBlbmhhbmNlQ29udHJvbGxlcigpIHtcbiAgICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IHRoaXMuY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQodGhpcy5jb250cm9sbGVyKTtcbiAgICBjb25zdCBkaXNjb25uZWN0ID0gKCkgPT4ge1xuICAgICAgdGhpcy51bm9ic2VydmUoKTtcbiAgICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMuY29udHJvbGxlciwge1xuICAgICAgZGlzY29ubmVjdDogZGlzY29ubmVjdFxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IHVzZU11dGF0aW9uID0gKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBvYnNlcnZlciA9IG5ldyBVc2VNdXRhdGlvbihjb250cm9sbGVyLCBvcHRpb25zKTtcbiAgcmV0dXJuIFsgb2JzZXJ2ZXIub2JzZXJ2ZSwgb2JzZXJ2ZXIudW5vYnNlcnZlIF07XG59O1xuXG5jbGFzcyBNdXRhdGlvbkNvbXBvc2FibGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7fVxuXG5jbGFzcyBNdXRhdGlvbkNvbnRyb2xsZXIgZXh0ZW5kcyBNdXRhdGlvbkNvbXBvc2FibGVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgY29uc3QgW29ic2VydmUsIHVub2JzZXJ2ZV0gPSB1c2VNdXRhdGlvbih0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgIHVub2JzZXJ2ZTogdW5vYnNlcnZlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn1cblxuY29uc3QgZGVmYXVsdE9wdGlvbnMkMSA9IHtcbiAgZGlzcGF0Y2hFdmVudDogdHJ1ZSxcbiAgZXZlbnRQcmVmaXg6IHRydWVcbn07XG5cbmNvbnN0IHVzZVJlc2l6ZSA9IChjb21wb3NhYmxlQ29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3Qge2Rpc3BhdGNoRXZlbnQ6IGRpc3BhdGNoRXZlbnQsIGV2ZW50UHJlZml4OiBldmVudFByZWZpeH0gPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucyQxLCBvcHRpb25zKTtcbiAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZWxlbWVudCkgfHwgY29udHJvbGxlci5lbGVtZW50O1xuICBjb25zdCBjYWxsYmFjayA9IGVudHJpZXMgPT4ge1xuICAgIGNvbnN0IFtlbnRyeV0gPSBlbnRyaWVzO1xuICAgIG1ldGhvZChjb250cm9sbGVyLCBcInJlc2l6ZVwiKS5jYWxsKGNvbnRyb2xsZXIsIGVudHJ5LmNvbnRlbnRSZWN0KTtcbiAgICBpZiAoZGlzcGF0Y2hFdmVudCkge1xuICAgICAgY29uc3QgZXZlbnROYW1lID0gY29tcG9zZUV2ZW50TmFtZShcInJlc2l6ZVwiLCBjb250cm9sbGVyLCBldmVudFByZWZpeCk7XG4gICAgICBjb25zdCBhcHBlYXJFdmVudCA9IGV4dGVuZGVkRXZlbnQoZXZlbnROYW1lLCBudWxsLCB7XG4gICAgICAgIGNvbnRyb2xsZXI6IGNvbnRyb2xsZXIsXG4gICAgICAgIGVudHJ5OiBlbnRyeVxuICAgICAgfSk7XG4gICAgICB0YXJnZXRFbGVtZW50LmRpc3BhdGNoRXZlbnQoYXBwZWFyRXZlbnQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgY29udHJvbGxlckRpc2Nvbm5lY3QgPSBjb250cm9sbGVyLmRpc2Nvbm5lY3QuYmluZChjb250cm9sbGVyKTtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoY2FsbGJhY2spO1xuICBjb25zdCBvYnNlcnZlID0gKCkgPT4ge1xuICAgIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0RWxlbWVudCk7XG4gIH07XG4gIGNvbnN0IHVub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICBvYnNlcnZlci51bm9ic2VydmUodGFyZ2V0RWxlbWVudCk7XG4gIH07XG4gIE9iamVjdC5hc3NpZ24oY29udHJvbGxlciwge1xuICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICB1bm9ic2VydmUoKTtcbiAgICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gICAgfVxuICB9KTtcbiAgb2JzZXJ2ZSgpO1xuICByZXR1cm4gWyBvYnNlcnZlLCB1bm9ic2VydmUgXTtcbn07XG5cbmNsYXNzIFJlc2l6ZUNvbXBvc2FibGVDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7fVxuXG5jbGFzcyBSZXNpemVDb250cm9sbGVyIGV4dGVuZHMgUmVzaXplQ29tcG9zYWJsZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgc3VwZXIoY29udGV4dCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKSA9PiB7XG4gICAgICBjb25zdCBbb2JzZXJ2ZSwgdW5vYnNlcnZlXSA9IHVzZVJlc2l6ZSh0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgIHVub2JzZXJ2ZTogdW5vYnNlcnZlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn1cblxuY2xhc3MgVXNlVGFyZ2V0TXV0YXRpb24gZXh0ZW5kcyBTdGltdWx1c1VzZSB7XG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICAgIHRoaXMub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnRhcmdldEVsZW1lbnQsIHtcbiAgICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZSxcbiAgICAgICAgYXR0cmlidXRlRmlsdGVyOiBbIHRoaXMudGFyZ2V0U2VsZWN0b3IsIHRoaXMuc2NvcGVkVGFyZ2V0U2VsZWN0b3IgXVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLnVub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICAgIHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH07XG4gICAgdGhpcy5tdXRhdGlvbiA9IGVudHJpZXMgPT4ge1xuICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBlbnRyaWVzKSB7XG4gICAgICAgIHN3aXRjaCAobXV0YXRpb24udHlwZSkge1xuICAgICAgICAgY2FzZSBcImF0dHJpYnV0ZXNcIjpcbiAgICAgICAgICBsZXQgbmV3VmFsdWUgPSBtdXRhdGlvbi50YXJnZXQuZ2V0QXR0cmlidXRlKG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgIGxldCBvbGRWYWx1ZSA9IG11dGF0aW9uLm9sZFZhbHVlO1xuICAgICAgICAgIGlmIChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09PSB0aGlzLnRhcmdldFNlbGVjdG9yIHx8IG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUgPT09IHRoaXMuc2NvcGVkVGFyZ2V0U2VsZWN0b3IpIHtcbiAgICAgICAgICAgIGxldCBvbGRUYXJnZXRzID0gdGhpcy50YXJnZXRzVXNlZEJ5VGhpc0NvbnRyb2xsZXIob2xkVmFsdWUpO1xuICAgICAgICAgICAgbGV0IG5ld1RhcmdldHMgPSB0aGlzLnRhcmdldHNVc2VkQnlUaGlzQ29udHJvbGxlcihuZXdWYWx1ZSk7XG4gICAgICAgICAgICBsZXQgcmVtb3ZlZFRhcmdldHMgPSBvbGRUYXJnZXRzLmZpbHRlcigodGFyZ2V0ID0+ICFuZXdUYXJnZXRzLmluY2x1ZGVzKHRhcmdldCkpKTtcbiAgICAgICAgICAgIGxldCBhZGRlZFRhcmdldHMgPSBuZXdUYXJnZXRzLmZpbHRlcigodGFyZ2V0ID0+ICFvbGRUYXJnZXRzLmluY2x1ZGVzKHRhcmdldCkpKTtcbiAgICAgICAgICAgIHJlbW92ZWRUYXJnZXRzLmZvckVhY2goKHRhcmdldCA9PiB0aGlzLnRhcmdldFJlbW92ZWQodGhpcy5zdHJpcElkZW50aWZpZXJQcmVmaXgodGFyZ2V0KSwgbXV0YXRpb24udGFyZ2V0LCBcImF0dHJpYnV0ZUNoYW5nZVwiKSkpO1xuICAgICAgICAgICAgYWRkZWRUYXJnZXRzLmZvckVhY2goKHRhcmdldCA9PiB0aGlzLnRhcmdldEFkZGVkKHRoaXMuc3RyaXBJZGVudGlmaWVyUHJlZml4KHRhcmdldCksIG11dGF0aW9uLnRhcmdldCwgXCJhdHRyaWJ1dGVDaGFuZ2VcIikpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgIGNhc2UgXCJjaGFyYWN0ZXJEYXRhXCI6XG4gICAgICAgICAgbGV0IG5vZHVsZSA9IHRoaXMuZmluZFRhcmdldEluQW5jZXN0cnkobXV0YXRpb24udGFyZ2V0KTtcbiAgICAgICAgICBpZiAobm9kdWxlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHN1cHBvcnRlZFRhcmdldHMgPSB0aGlzLnRhcmdldHNVc2VkQnlUaGlzQ29udHJvbGxlckZyb21Ob2RlKG5vZHVsZSk7XG4gICAgICAgICAgICBzdXBwb3J0ZWRUYXJnZXRzLmZvckVhY2goKHRhcmdldCA9PiB7XG4gICAgICAgICAgICAgIHRoaXMudGFyZ2V0Q2hhbmdlZCh0aGlzLnN0cmlwSWRlbnRpZmllclByZWZpeCh0YXJnZXQpLCBub2R1bGUsIFwiZG9tTXV0YXRpb25cIik7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICBjYXNlIFwiY2hpbGRMaXN0XCI6XG4gICAgICAgICAgbGV0IHthZGRlZE5vZGVzOiBhZGRlZE5vZGVzLCByZW1vdmVkTm9kZXM6IHJlbW92ZWROb2Rlc30gPSBtdXRhdGlvbjtcbiAgICAgICAgICBhZGRlZE5vZGVzLmZvckVhY2goKG5vZGUgPT4gdGhpcy5wcm9jZXNzTm9kZURPTU11dGF0aW9uKG5vZGUsIHRoaXMudGFyZ2V0QWRkZWQpKSk7XG4gICAgICAgICAgcmVtb3ZlZE5vZGVzLmZvckVhY2goKG5vZGUgPT4gdGhpcy5wcm9jZXNzTm9kZURPTU11dGF0aW9uKG5vZGUsIHRoaXMudGFyZ2V0UmVtb3ZlZCkpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IGNvbnRyb2xsZXIuZWxlbWVudDtcbiAgICB0aGlzLmlkZW50aWZpZXIgPSBjb250cm9sbGVyLnNjb3BlLmlkZW50aWZpZXI7XG4gICAgdGhpcy5pZGVudGlmaWVyUHJlZml4ID0gYCR7dGhpcy5pZGVudGlmaWVyfS5gO1xuICAgIHRoaXMudGFyZ2V0U2VsZWN0b3IgPSBjb250cm9sbGVyLnNjb3BlLnNjaGVtYS50YXJnZXRBdHRyaWJ1dGU7XG4gICAgdGhpcy5zY29wZWRUYXJnZXRTZWxlY3RvciA9IGBkYXRhLSR7dGhpcy5pZGVudGlmaWVyfS10YXJnZXRgO1xuICAgIHRoaXMudGFyZ2V0cyA9IG9wdGlvbnMudGFyZ2V0cyB8fCBjb250cm9sbGVyLmNvbnN0cnVjdG9yLnRhcmdldHM7XG4gICAgdGhpcy5wcmVmaXhlZFRhcmdldHMgPSB0aGlzLnRhcmdldHMubWFwKCh0YXJnZXQgPT4gYCR7dGhpcy5pZGVudGlmaWVyUHJlZml4fSR7dGFyZ2V0fWApKTtcbiAgICB0aGlzLm9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5tdXRhdGlvbik7XG4gICAgdGhpcy5lbmhhbmNlQ29udHJvbGxlcigpO1xuICAgIHRoaXMub2JzZXJ2ZSgpO1xuICB9XG4gIHByb2Nlc3NOb2RlRE9NTXV0YXRpb24obm9kZSwgaW5pdGlhbENoYW5nZU1vZGVBc3N1bXB0aW9uKSB7XG4gICAgbGV0IG5vZHVsZSA9IG5vZGU7XG4gICAgbGV0IGNoYW5nZSA9IGluaXRpYWxDaGFuZ2VNb2RlQXNzdW1wdGlvbjtcbiAgICBsZXQgc3VwcG9ydGVkVGFyZ2V0cyA9IFtdO1xuICAgIGlmIChub2R1bGUubm9kZU5hbWUgPT0gXCIjdGV4dFwiIHx8IHRoaXMudGFyZ2V0c1VzZWRCeVRoaXNDb250cm9sbGVyRnJvbU5vZGUobm9kdWxlKS5sZW5ndGggPT0gMCkge1xuICAgICAgY2hhbmdlID0gdGhpcy50YXJnZXRDaGFuZ2VkO1xuICAgICAgbm9kdWxlID0gdGhpcy5maW5kVGFyZ2V0SW5BbmNlc3RyeShub2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VwcG9ydGVkVGFyZ2V0cyA9IHRoaXMudGFyZ2V0c1VzZWRCeVRoaXNDb250cm9sbGVyRnJvbU5vZGUobm9kdWxlKTtcbiAgICB9XG4gICAgaWYgKG5vZHVsZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0ZWRUYXJnZXRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICBzdXBwb3J0ZWRUYXJnZXRzID0gdGhpcy50YXJnZXRzVXNlZEJ5VGhpc0NvbnRyb2xsZXJGcm9tTm9kZShub2R1bGUpO1xuICAgIH1cbiAgICBzdXBwb3J0ZWRUYXJnZXRzLmZvckVhY2goKHRhcmdldCA9PiB7XG4gICAgICBjaGFuZ2UuY2FsbCh0aGlzLCB0aGlzLnN0cmlwSWRlbnRpZmllclByZWZpeCh0YXJnZXQpLCBub2R1bGUsIFwiZG9tTXV0YXRpb25cIik7XG4gICAgfSkpO1xuICB9XG4gIGZpbmRUYXJnZXRJbkFuY2VzdHJ5KG5vZGUpIHtcbiAgICBsZXQgbm9kdWxlID0gbm9kZTtcbiAgICBsZXQgc3VwcG9ydGVkVGFyZ2V0cyA9IFtdO1xuICAgIGlmIChub2R1bGUubm9kZU5hbWUgIT0gXCIjdGV4dFwiKSB7XG4gICAgICBzdXBwb3J0ZWRUYXJnZXRzID0gdGhpcy50YXJnZXRzVXNlZEJ5VGhpc0NvbnRyb2xsZXJGcm9tTm9kZShub2R1bGUpO1xuICAgIH1cbiAgICB3aGlsZSAobm9kdWxlLnBhcmVudE5vZGUgIT09IG51bGwgJiYgbm9kdWxlLnBhcmVudE5vZGUgIT0gdGhpcy50YXJnZXRFbGVtZW50ICYmIHN1cHBvcnRlZFRhcmdldHMubGVuZ3RoID09IDApIHtcbiAgICAgIG5vZHVsZSA9IG5vZHVsZS5wYXJlbnROb2RlO1xuICAgICAgaWYgKG5vZHVsZS5ub2RlTmFtZSAhPT0gXCIjdGV4dFwiKSB7XG4gICAgICAgIGxldCBzdXBwb3J0ZWRUYXJnZXRzID0gdGhpcy50YXJnZXRzVXNlZEJ5VGhpc0NvbnRyb2xsZXJGcm9tTm9kZShub2R1bGUpO1xuICAgICAgICBpZiAoc3VwcG9ydGVkVGFyZ2V0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIG5vZHVsZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAobm9kdWxlLm5vZGVOYW1lID09IFwiI3RleHRcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChub2R1bGUucGFyZW50Tm9kZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKG5vZHVsZS5wYXJlbnROb2RlID09IHRoaXMudGFyZ2V0RWxlbWVudCkge1xuICAgICAgaWYgKHRoaXMudGFyZ2V0c1VzZWRCeVRoaXNDb250cm9sbGVyRnJvbU5vZGUobm9kdWxlKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBub2R1bGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdGFyZ2V0QWRkZWQobmFtZSwgbm9kZSwgdHJpZ2dlcikge1xuICAgIGxldCB0YXJnZXRDYWxsYmFjayA9IGAke25hbWV9VGFyZ2V0QWRkZWRgO1xuICAgIHRoaXMuY29udHJvbGxlclt0YXJnZXRDYWxsYmFja10gJiYgbWV0aG9kKHRoaXMuY29udHJvbGxlciwgdGFyZ2V0Q2FsbGJhY2spLmNhbGwodGhpcy5jb250cm9sbGVyLCBub2RlKTtcbiAgICB0aGlzLmxvZyhcInRhcmdldEFkZGVkXCIsIHtcbiAgICAgIHRhcmdldDogbmFtZSxcbiAgICAgIG5vZGU6IG5vZGUsXG4gICAgICB0cmlnZ2VyOiB0cmlnZ2VyXG4gICAgfSk7XG4gIH1cbiAgdGFyZ2V0UmVtb3ZlZChuYW1lLCBub2RlLCB0cmlnZ2VyKSB7XG4gICAgbGV0IHRhcmdldENhbGxiYWNrID0gYCR7bmFtZX1UYXJnZXRSZW1vdmVkYDtcbiAgICB0aGlzLmNvbnRyb2xsZXJbdGFyZ2V0Q2FsbGJhY2tdICYmIG1ldGhvZCh0aGlzLmNvbnRyb2xsZXIsIHRhcmdldENhbGxiYWNrKS5jYWxsKHRoaXMuY29udHJvbGxlciwgbm9kZSk7XG4gICAgdGhpcy5sb2coXCJ0YXJnZXRSZW1vdmVkXCIsIHtcbiAgICAgIHRhcmdldDogbmFtZSxcbiAgICAgIG5vZGU6IG5vZGUsXG4gICAgICB0cmlnZ2VyOiB0cmlnZ2VyXG4gICAgfSk7XG4gIH1cbiAgdGFyZ2V0Q2hhbmdlZChuYW1lLCBub2RlLCB0cmlnZ2VyKSB7XG4gICAgbGV0IHRhcmdldENhbGxiYWNrID0gYCR7bmFtZX1UYXJnZXRDaGFuZ2VkYDtcbiAgICB0aGlzLmNvbnRyb2xsZXJbdGFyZ2V0Q2FsbGJhY2tdICYmIG1ldGhvZCh0aGlzLmNvbnRyb2xsZXIsIHRhcmdldENhbGxiYWNrKS5jYWxsKHRoaXMuY29udHJvbGxlciwgbm9kZSk7XG4gICAgdGhpcy5sb2coXCJ0YXJnZXRDaGFuZ2VkXCIsIHtcbiAgICAgIHRhcmdldDogbmFtZSxcbiAgICAgIG5vZGU6IG5vZGUsXG4gICAgICB0cmlnZ2VyOiB0cmlnZ2VyXG4gICAgfSk7XG4gIH1cbiAgdGFyZ2V0c1VzZWRCeVRoaXNDb250cm9sbGVyRnJvbU5vZGUobm9kZSkge1xuICAgIGlmIChub2RlLm5vZGVOYW1lID09IFwiI3RleHRcIiB8fCBub2RlLm5vZGVOYW1lID09IFwiI2NvbW1lbnRcIikge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBsZXQgbm9kZUVsZW1lbnQgPSBub2RlO1xuICAgIHJldHVybiB0aGlzLnRhcmdldHNVc2VkQnlUaGlzQ29udHJvbGxlcihub2RlRWxlbWVudC5nZXRBdHRyaWJ1dGUodGhpcy5zY29wZWRUYXJnZXRTZWxlY3RvcikgfHwgbm9kZUVsZW1lbnQuZ2V0QXR0cmlidXRlKHRoaXMudGFyZ2V0U2VsZWN0b3IpKTtcbiAgfVxuICB0YXJnZXRzVXNlZEJ5VGhpc0NvbnRyb2xsZXIodGFyZ2V0U3RyKSB7XG4gICAgdGFyZ2V0U3RyID0gdGFyZ2V0U3RyIHx8IFwiXCI7XG4gICAgbGV0IHRhcmdldHNUb0NoZWNrID0gdGhpcy5zdHJpcElkZW50aWZpZXJQcmVmaXgodGFyZ2V0U3RyKS5zcGxpdChcIiBcIik7XG4gICAgcmV0dXJuIHRoaXMudGFyZ2V0cy5maWx0ZXIoKG4gPT4gdGFyZ2V0c1RvQ2hlY2suaW5kZXhPZihuKSAhPT0gLTEpKTtcbiAgfVxuICBzdHJpcElkZW50aWZpZXJQcmVmaXgodGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRhcmdldC5yZXBsYWNlKG5ldyBSZWdFeHAodGhpcy5pZGVudGlmaWVyUHJlZml4LCBcImdcIiksIFwiXCIpO1xuICB9XG4gIGVuaGFuY2VDb250cm9sbGVyKCkge1xuICAgIGNvbnN0IGNvbnRyb2xsZXJEaXNjb25uZWN0ID0gdGhpcy5jb250cm9sbGVyLmRpc2Nvbm5lY3QuYmluZCh0aGlzLmNvbnRyb2xsZXIpO1xuICAgIGNvbnN0IGRpc2Nvbm5lY3QgPSAoKSA9PiB7XG4gICAgICB0aGlzLnVub2JzZXJ2ZSgpO1xuICAgICAgY29udHJvbGxlckRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb250cm9sbGVyLCB7XG4gICAgICBkaXNjb25uZWN0OiBkaXNjb25uZWN0XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgdXNlVGFyZ2V0TXV0YXRpb24gPSAoY29tcG9zYWJsZUNvbnRyb2xsZXIsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBjb250cm9sbGVyID0gY29tcG9zYWJsZUNvbnRyb2xsZXI7XG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IFVzZVRhcmdldE11dGF0aW9uKGNvbnRyb2xsZXIsIG9wdGlvbnMpO1xuICByZXR1cm4gWyBvYnNlcnZlci5vYnNlcnZlLCBvYnNlcnZlci51bm9ic2VydmUgXTtcbn07XG5cbmNsYXNzIFRhcmdldE11dGF0aW9uQ29tcG9zYWJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHt9XG5cbmNsYXNzIFRhcmdldE11dGF0aW9uQ29udHJvbGxlciBleHRlbmRzIFRhcmdldE11dGF0aW9uQ29tcG9zYWJsZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgc3VwZXIoY29udGV4dCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKSA9PiB7XG4gICAgICBjb25zdCBbb2JzZXJ2ZSwgdW5vYnNlcnZlXSA9IHVzZVRhcmdldE11dGF0aW9uKHRoaXMsIHRoaXMub3B0aW9ucyk7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgdW5vYnNlcnZlOiB1bm9ic2VydmVcbiAgICAgIH0pO1xuICAgIH0pKTtcbiAgfVxufVxuXG5jbGFzcyBUaHJvdHRsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHt9XG5cblRocm90dGxlQ29udHJvbGxlci50aHJvdHRsZXMgPSBbXTtcblxuY29uc3QgZGVmYXVsdFdhaXQgPSAyMDA7XG5cbmZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQgPSBkZWZhdWx0V2FpdCkge1xuICBsZXQgaW5UaHJvdHRsZTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXM7XG4gICAgaWYgKCFpblRocm90dGxlKSB7XG4gICAgICBpblRocm90dGxlID0gdHJ1ZTtcbiAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBzZXRUaW1lb3V0KCgoKSA9PiBpblRocm90dGxlID0gZmFsc2UpLCB3YWl0KTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IHVzZVRocm90dGxlID0gKGNvbXBvc2FibGVDb250cm9sbGVyLCBvcHRpb25zID0ge30pID0+IHtcbiAgdmFyIF9hO1xuICBjb25zdCBjb250cm9sbGVyID0gY29tcG9zYWJsZUNvbnRyb2xsZXI7XG4gIGNvbnN0IGNvbnN0cnVjdG9yID0gY29udHJvbGxlci5jb25zdHJ1Y3RvcjtcbiAgKF9hID0gY29uc3RydWN0b3IudGhyb3R0bGVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaCgoZnVuYyA9PiB7XG4gICAgaWYgKHR5cGVvZiBmdW5jID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb250cm9sbGVyW2Z1bmNdID0gdGhyb3R0bGUoY29udHJvbGxlcltmdW5jXSwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLndhaXQpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGZ1bmMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGNvbnN0IHtuYW1lOiBuYW1lLCB3YWl0OiB3YWl0fSA9IGZ1bmM7XG4gICAgICBpZiAoIW5hbWUpIHJldHVybjtcbiAgICAgIGNvbnRyb2xsZXJbbmFtZV0gPSB0aHJvdHRsZShjb250cm9sbGVyW25hbWVdLCB3YWl0IHx8IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMud2FpdCkpO1xuICAgIH1cbiAgfSkpO1xufTtcblxuY29uc3QgYWxwaW5lTmFtZXMgPSB7XG4gIGVudGVyRnJvbUNsYXNzOiBcImVudGVyXCIsXG4gIGVudGVyQWN0aXZlQ2xhc3M6IFwiZW50ZXJTdGFydFwiLFxuICBlbnRlclRvQ2xhc3M6IFwiZW50ZXJFbmRcIixcbiAgbGVhdmVGcm9tQ2xhc3M6IFwibGVhdmVcIixcbiAgbGVhdmVBY3RpdmVDbGFzczogXCJsZWF2ZVN0YXJ0XCIsXG4gIGxlYXZlVG9DbGFzczogXCJsZWF2ZUVuZFwiXG59O1xuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgdHJhbnNpdGlvbmVkOiBmYWxzZSxcbiAgaGlkZGVuQ2xhc3M6IFwiaGlkZGVuXCIsXG4gIHByZXNlcnZlT3JpZ2luYWxDbGFzczogdHJ1ZSxcbiAgcmVtb3ZlVG9DbGFzc2VzOiB0cnVlXG59O1xuXG5jb25zdCB1c2VUcmFuc2l0aW9uID0gKGNvbXBvc2FibGVDb250cm9sbGVyLCBvcHRpb25zID0ge30pID0+IHtcbiAgdmFyIF9hLCBfYiwgX2M7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3QgdGFyZ2V0TmFtZSA9IGNvbnRyb2xsZXIuZWxlbWVudC5kYXRhc2V0LnRyYW5zaXRpb25UYXJnZXQ7XG4gIGxldCB0YXJnZXRGcm9tQXR0cmlidXRlO1xuICBpZiAodGFyZ2V0TmFtZSkge1xuICAgIHRhcmdldEZyb21BdHRyaWJ1dGUgPSBjb250cm9sbGVyW2Ake3RhcmdldE5hbWV9VGFyZ2V0YF07XG4gIH1cbiAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZWxlbWVudCkgfHwgdGFyZ2V0RnJvbUF0dHJpYnV0ZSB8fCBjb250cm9sbGVyLmVsZW1lbnQ7XG4gIGlmICghKHRhcmdldEVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCB0YXJnZXRFbGVtZW50IGluc3RhbmNlb2YgU1ZHRWxlbWVudCkpIHJldHVybjtcbiAgY29uc3QgZGF0YXNldCA9IHRhcmdldEVsZW1lbnQuZGF0YXNldDtcbiAgY29uc3QgbGVhdmVBZnRlciA9IHBhcnNlSW50KGRhdGFzZXQubGVhdmVBZnRlciB8fCBcIlwiKSB8fCBvcHRpb25zLmxlYXZlQWZ0ZXIgfHwgMDtcbiAgY29uc3Qge3RyYW5zaXRpb25lZDogdHJhbnNpdGlvbmVkLCBoaWRkZW5DbGFzczogaGlkZGVuQ2xhc3MsIHByZXNlcnZlT3JpZ2luYWxDbGFzczogcHJlc2VydmVPcmlnaW5hbENsYXNzLCByZW1vdmVUb0NsYXNzZXM6IHJlbW92ZVRvQ2xhc3Nlc30gPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG4gIGNvbnN0IGNvbnRyb2xsZXJFbnRlciA9IChfYSA9IGNvbnRyb2xsZXIuZW50ZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5iaW5kKGNvbnRyb2xsZXIpO1xuICBjb25zdCBjb250cm9sbGVyTGVhdmUgPSAoX2IgPSBjb250cm9sbGVyLmxlYXZlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYmluZChjb250cm9sbGVyKTtcbiAgY29uc3QgY29udHJvbGxlclRvZ2dsZVRyYW5zaXRpb24gPSAoX2MgPSBjb250cm9sbGVyLnRvZ2dsZVRyYW5zaXRpb24pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5iaW5kKGNvbnRyb2xsZXIpO1xuICBhc3luYyBmdW5jdGlvbiBlbnRlcihldmVudCkge1xuICAgIGlmIChjb250cm9sbGVyLnRyYW5zaXRpb25lZCkgcmV0dXJuO1xuICAgIGNvbnRyb2xsZXIudHJhbnNpdGlvbmVkID0gdHJ1ZTtcbiAgICBjb250cm9sbGVyRW50ZXIgJiYgY29udHJvbGxlckVudGVyKGV2ZW50KTtcbiAgICBjb25zdCBlbnRlckZyb21DbGFzc2VzID0gZ2V0QXR0cmlidXRlKFwiZW50ZXJGcm9tXCIsIG9wdGlvbnMsIGRhdGFzZXQpO1xuICAgIGNvbnN0IGVudGVyQWN0aXZlQ2xhc3NlcyA9IGdldEF0dHJpYnV0ZShcImVudGVyQWN0aXZlXCIsIG9wdGlvbnMsIGRhdGFzZXQpO1xuICAgIGNvbnN0IGVudGVyVG9DbGFzc2VzID0gZ2V0QXR0cmlidXRlKFwiZW50ZXJUb1wiLCBvcHRpb25zLCBkYXRhc2V0KTtcbiAgICBjb25zdCBsZWF2ZVRvQ2xhc3NlcyA9IGdldEF0dHJpYnV0ZShcImxlYXZlVG9cIiwgb3B0aW9ucywgZGF0YXNldCk7XG4gICAgaWYgKCEhaGlkZGVuQ2xhc3MpIHtcbiAgICAgIHRhcmdldEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShoaWRkZW5DbGFzcyk7XG4gICAgfVxuICAgIGlmICghcmVtb3ZlVG9DbGFzc2VzKSB7XG4gICAgICByZW1vdmVDbGFzc2VzKHRhcmdldEVsZW1lbnQsIGxlYXZlVG9DbGFzc2VzKTtcbiAgICB9XG4gICAgYXdhaXQgdHJhbnNpdGlvbih0YXJnZXRFbGVtZW50LCBlbnRlckZyb21DbGFzc2VzLCBlbnRlckFjdGl2ZUNsYXNzZXMsIGVudGVyVG9DbGFzc2VzLCBoaWRkZW5DbGFzcywgcHJlc2VydmVPcmlnaW5hbENsYXNzLCByZW1vdmVUb0NsYXNzZXMpO1xuICAgIGlmIChsZWF2ZUFmdGVyID4gMCkge1xuICAgICAgc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgICBsZWF2ZShldmVudCk7XG4gICAgICB9KSwgbGVhdmVBZnRlcik7XG4gICAgfVxuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGxlYXZlKGV2ZW50KSB7XG4gICAgaWYgKCFjb250cm9sbGVyLnRyYW5zaXRpb25lZCkgcmV0dXJuO1xuICAgIGNvbnRyb2xsZXIudHJhbnNpdGlvbmVkID0gZmFsc2U7XG4gICAgY29udHJvbGxlckxlYXZlICYmIGNvbnRyb2xsZXJMZWF2ZShldmVudCk7XG4gICAgY29uc3QgbGVhdmVGcm9tQ2xhc3NlcyA9IGdldEF0dHJpYnV0ZShcImxlYXZlRnJvbVwiLCBvcHRpb25zLCBkYXRhc2V0KTtcbiAgICBjb25zdCBsZWF2ZUFjdGl2ZUNsYXNzZXMgPSBnZXRBdHRyaWJ1dGUoXCJsZWF2ZUFjdGl2ZVwiLCBvcHRpb25zLCBkYXRhc2V0KTtcbiAgICBjb25zdCBsZWF2ZVRvQ2xhc3NlcyA9IGdldEF0dHJpYnV0ZShcImxlYXZlVG9cIiwgb3B0aW9ucywgZGF0YXNldCk7XG4gICAgY29uc3QgZW50ZXJUb0NsYXNzZXMgPSBnZXRBdHRyaWJ1dGUoXCJlbnRlclRvXCIsIG9wdGlvbnMsIGRhdGFzZXQpO1xuICAgIGlmICghcmVtb3ZlVG9DbGFzc2VzKSB7XG4gICAgICByZW1vdmVDbGFzc2VzKHRhcmdldEVsZW1lbnQsIGVudGVyVG9DbGFzc2VzKTtcbiAgICB9XG4gICAgYXdhaXQgdHJhbnNpdGlvbih0YXJnZXRFbGVtZW50LCBsZWF2ZUZyb21DbGFzc2VzLCBsZWF2ZUFjdGl2ZUNsYXNzZXMsIGxlYXZlVG9DbGFzc2VzLCBoaWRkZW5DbGFzcywgcHJlc2VydmVPcmlnaW5hbENsYXNzLCByZW1vdmVUb0NsYXNzZXMpO1xuICAgIGlmICghIWhpZGRlbkNsYXNzKSB7XG4gICAgICB0YXJnZXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoaGlkZGVuQ2xhc3MpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB0b2dnbGVUcmFuc2l0aW9uKGV2ZW50KSB7XG4gICAgY29udHJvbGxlclRvZ2dsZVRyYW5zaXRpb24gJiYgY29udHJvbGxlclRvZ2dsZVRyYW5zaXRpb24oZXZlbnQpO1xuICAgIGlmIChjb250cm9sbGVyLnRyYW5zaXRpb25lZCkge1xuICAgICAgbGVhdmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW50ZXIoKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gdHJhbnNpdGlvbihlbGVtZW50LCBpbml0aWFsQ2xhc3NlcywgYWN0aXZlQ2xhc3NlcywgZW5kQ2xhc3NlcywgaGlkZGVuQ2xhc3MsIHByZXNlcnZlT3JpZ2luYWxDbGFzcywgcmVtb3ZlRW5kQ2xhc3Nlcykge1xuICAgIGNvbnN0IHN0YXNoZWRDbGFzc2VzID0gW107XG4gICAgaWYgKHByZXNlcnZlT3JpZ2luYWxDbGFzcykge1xuICAgICAgaW5pdGlhbENsYXNzZXMuZm9yRWFjaCgoY2xzID0+IGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNscykgJiYgY2xzICE9PSBoaWRkZW5DbGFzcyAmJiBzdGFzaGVkQ2xhc3Nlcy5wdXNoKGNscykpKTtcbiAgICAgIGFjdGl2ZUNsYXNzZXMuZm9yRWFjaCgoY2xzID0+IGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNscykgJiYgY2xzICE9PSBoaWRkZW5DbGFzcyAmJiBzdGFzaGVkQ2xhc3Nlcy5wdXNoKGNscykpKTtcbiAgICAgIGVuZENsYXNzZXMuZm9yRWFjaCgoY2xzID0+IGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNscykgJiYgY2xzICE9PSBoaWRkZW5DbGFzcyAmJiBzdGFzaGVkQ2xhc3Nlcy5wdXNoKGNscykpKTtcbiAgICB9XG4gICAgYWRkQ2xhc3NlcyhlbGVtZW50LCBpbml0aWFsQ2xhc3Nlcyk7XG4gICAgcmVtb3ZlQ2xhc3NlcyhlbGVtZW50LCBzdGFzaGVkQ2xhc3Nlcyk7XG4gICAgYWRkQ2xhc3NlcyhlbGVtZW50LCBhY3RpdmVDbGFzc2VzKTtcbiAgICBhd2FpdCBuZXh0QW5pbWF0aW9uRnJhbWUoKTtcbiAgICByZW1vdmVDbGFzc2VzKGVsZW1lbnQsIGluaXRpYWxDbGFzc2VzKTtcbiAgICBhZGRDbGFzc2VzKGVsZW1lbnQsIGVuZENsYXNzZXMpO1xuICAgIGF3YWl0IGFmdGVyVHJhbnNpdGlvbihlbGVtZW50KTtcbiAgICByZW1vdmVDbGFzc2VzKGVsZW1lbnQsIGFjdGl2ZUNsYXNzZXMpO1xuICAgIGlmIChyZW1vdmVFbmRDbGFzc2VzKSB7XG4gICAgICByZW1vdmVDbGFzc2VzKGVsZW1lbnQsIGVuZENsYXNzZXMpO1xuICAgIH1cbiAgICBhZGRDbGFzc2VzKGVsZW1lbnQsIHN0YXNoZWRDbGFzc2VzKTtcbiAgfVxuICBmdW5jdGlvbiBpbml0aWFsU3RhdGUoKSB7XG4gICAgY29udHJvbGxlci50cmFuc2l0aW9uZWQgPSB0cmFuc2l0aW9uZWQ7XG4gICAgaWYgKHRyYW5zaXRpb25lZCkge1xuICAgICAgaWYgKCEhaGlkZGVuQ2xhc3MpIHtcbiAgICAgICAgdGFyZ2V0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGhpZGRlbkNsYXNzKTtcbiAgICAgIH1cbiAgICAgIGVudGVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghIWhpZGRlbkNsYXNzKSB7XG4gICAgICAgIHRhcmdldEVsZW1lbnQuY2xhc3NMaXN0LmFkZChoaWRkZW5DbGFzcyk7XG4gICAgICB9XG4gICAgICBsZWF2ZSgpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBhZGRDbGFzc2VzKGVsZW1lbnQsIGNsYXNzZXMpIHtcbiAgICBpZiAoY2xhc3Nlcy5sZW5ndGggPiAwKSB7XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlcyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMoZWxlbWVudCwgY2xhc3Nlcykge1xuICAgIGlmIChjbGFzc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSguLi5jbGFzc2VzKTtcbiAgICB9XG4gIH1cbiAgaW5pdGlhbFN0YXRlKCk7XG4gIE9iamVjdC5hc3NpZ24oY29udHJvbGxlciwge1xuICAgIGVudGVyOiBlbnRlcixcbiAgICBsZWF2ZTogbGVhdmUsXG4gICAgdG9nZ2xlVHJhbnNpdGlvbjogdG9nZ2xlVHJhbnNpdGlvblxuICB9KTtcbiAgcmV0dXJuIFsgZW50ZXIsIGxlYXZlLCB0b2dnbGVUcmFuc2l0aW9uIF07XG59O1xuXG5mdW5jdGlvbiBnZXRBdHRyaWJ1dGUobmFtZSwgb3B0aW9ucywgZGF0YXNldCkge1xuICBjb25zdCBkYXRhc2V0TmFtZSA9IGB0cmFuc2l0aW9uJHtuYW1lWzBdLnRvVXBwZXJDYXNlKCl9JHtuYW1lLnN1YnN0cigxKX1gO1xuICBjb25zdCBkYXRhc2V0QWxwaW5lTmFtZSA9IGFscGluZU5hbWVzW25hbWVdO1xuICBjb25zdCBjbGFzc2VzID0gb3B0aW9uc1tuYW1lXSB8fCBkYXRhc2V0W2RhdGFzZXROYW1lXSB8fCBkYXRhc2V0W2RhdGFzZXRBbHBpbmVOYW1lXSB8fCBcIiBcIjtcbiAgcmV0dXJuIGlzRW1wdHkoY2xhc3NlcykgPyBbXSA6IGNsYXNzZXMuc3BsaXQoXCIgXCIpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBhZnRlclRyYW5zaXRpb24oZWxlbWVudCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUgPT4ge1xuICAgIGNvbnN0IGR1cmF0aW9uID0gTnVtYmVyKGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkudHJhbnNpdGlvbkR1cmF0aW9uLnNwbGl0KFwiLFwiKVswXS5yZXBsYWNlKFwic1wiLCBcIlwiKSkgKiAxZTM7XG4gICAgc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgcmVzb2x2ZShkdXJhdGlvbik7XG4gICAgfSksIGR1cmF0aW9uKTtcbiAgfSkpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBuZXh0QW5pbWF0aW9uRnJhbWUoKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSA9PiB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKSA9PiB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVzb2x2ZSk7XG4gICAgfSkpO1xuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGlzRW1wdHkoc3RyKSB7XG4gIHJldHVybiBzdHIubGVuZ3RoID09PSAwIHx8ICFzdHIudHJpbSgpO1xufVxuXG5jbGFzcyBUcmFuc2l0aW9uQ29tcG9zYWJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLnRyYW5zaXRpb25lZCA9IGZhbHNlO1xuICB9XG59XG5cbmNsYXNzIFRyYW5zaXRpb25Db250cm9sbGVyIGV4dGVuZHMgVHJhbnNpdGlvbkNvbXBvc2FibGVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgdXNlVHJhbnNpdGlvbih0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgIH0pKTtcbiAgfVxufVxuXG5jbGFzcyBVc2VWaXNpYmlsaXR5IGV4dGVuZHMgU3RpbXVsdXNVc2Uge1xuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyLCBvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihjb250cm9sbGVyLCBvcHRpb25zKTtcbiAgICB0aGlzLm9ic2VydmUgPSAoKSA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xsZXIuaXNWaXNpYmxlID0gIWRvY3VtZW50LmhpZGRlbjtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgICB0aGlzLmhhbmRsZVZpc2liaWxpdHlDaGFuZ2UoKTtcbiAgICB9O1xuICAgIHRoaXMudW5vYnNlcnZlID0gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdGhpcy5oYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcbiAgICB9O1xuICAgIHRoaXMuYmVjb21lc0ludmlzaWJsZSA9IGV2ZW50ID0+IHtcbiAgICAgIHRoaXMuY29udHJvbGxlci5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgIHRoaXMuY2FsbChcImludmlzaWJsZVwiLCBldmVudCk7XG4gICAgICB0aGlzLmxvZyhcImludmlzaWJsZVwiLCB7XG4gICAgICAgIGlzVmlzaWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kaXNwYXRjaChcImludmlzaWJsZVwiLCB7XG4gICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgaXNWaXNpYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLmJlY29tZXNWaXNpYmxlID0gZXZlbnQgPT4ge1xuICAgICAgdGhpcy5jb250cm9sbGVyLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICB0aGlzLmNhbGwoXCJ2aXNpYmxlXCIsIGV2ZW50KTtcbiAgICAgIHRoaXMubG9nKFwidmlzaWJsZVwiLCB7XG4gICAgICAgIGlzVmlzaWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKFwidmlzaWJsZVwiLCB7XG4gICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgaXNWaXNpYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgdGhpcy5iZWNvbWVzSW52aXNpYmxlKGV2ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYmVjb21lc1Zpc2libGUoZXZlbnQpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB0aGlzLmVuaGFuY2VDb250cm9sbGVyKCk7XG4gICAgdGhpcy5vYnNlcnZlKCk7XG4gIH1cbiAgZW5oYW5jZUNvbnRyb2xsZXIoKSB7XG4gICAgY29uc3QgY29udHJvbGxlckRpc2Nvbm5lY3QgPSB0aGlzLmNvbnRyb2xsZXJEaXNjb25uZWN0O1xuICAgIGNvbnN0IGRpc2Nvbm5lY3QgPSAoKSA9PiB7XG4gICAgICB0aGlzLnVub2JzZXJ2ZSgpO1xuICAgICAgY29udHJvbGxlckRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb250cm9sbGVyLCB7XG4gICAgICBkaXNjb25uZWN0OiBkaXNjb25uZWN0XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgdXNlVmlzaWJpbGl0eSA9IChjb21wb3NhYmxlQ29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgVXNlVmlzaWJpbGl0eShjb250cm9sbGVyLCBvcHRpb25zKTtcbiAgcmV0dXJuIFsgb2JzZXJ2ZXIub2JzZXJ2ZSwgb2JzZXJ2ZXIudW5vYnNlcnZlIF07XG59O1xuXG5jbGFzcyBWaXNpYmlsaXR5Q29tcG9zYWJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlO1xuICB9XG59XG5cbmNsYXNzIFZpc2liaWxpdHlDb250cm9sbGVyIGV4dGVuZHMgVmlzaWJpbGl0eUNvbXBvc2FibGVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgY29uc3QgW29ic2VydmUsIHVub2JzZXJ2ZV0gPSB1c2VWaXNpYmlsaXR5KHRoaXMsIHRoaXMub3B0aW9ucyk7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgdW5vYnNlcnZlOiB1bm9ic2VydmVcbiAgICAgIH0pO1xuICAgIH0pKTtcbiAgfVxufVxuXG5jbGFzcyBVc2VXaW5kb3dGb2N1cyBleHRlbmRzIFN0aW11bHVzVXNlIHtcbiAgY29uc3RydWN0b3IoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoY29udHJvbGxlciwgb3B0aW9ucyk7XG4gICAgdGhpcy5vYnNlcnZlID0gKCkgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50Lmhhc0ZvY3VzKCkpIHtcbiAgICAgICAgdGhpcy5iZWNvbWVzRm9jdXNlZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5iZWNvbWVzVW5mb2N1c2VkKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKCgpID0+IHtcbiAgICAgICAgdGhpcy5oYW5kbGVXaW5kb3dGb2N1c0NoYW5nZSgpO1xuICAgICAgfSksIHRoaXMuaW50ZXJ2YWxEdXJhdGlvbik7XG4gICAgfTtcbiAgICB0aGlzLnVub2JzZXJ2ZSA9ICgpID0+IHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gICAgfTtcbiAgICB0aGlzLmJlY29tZXNVbmZvY3VzZWQgPSBldmVudCA9PiB7XG4gICAgICB0aGlzLmNvbnRyb2xsZXIuaGFzRm9jdXMgPSBmYWxzZTtcbiAgICAgIHRoaXMuY2FsbChcInVuZm9jdXNcIiwgZXZlbnQpO1xuICAgICAgdGhpcy5sb2coXCJ1bmZvY3VzXCIsIHtcbiAgICAgICAgaGFzRm9jdXM6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goXCJ1bmZvY3VzXCIsIHtcbiAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICBoYXNGb2N1czogZmFsc2VcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5iZWNvbWVzRm9jdXNlZCA9IGV2ZW50ID0+IHtcbiAgICAgIHRoaXMuY29udHJvbGxlci5oYXNGb2N1cyA9IHRydWU7XG4gICAgICB0aGlzLmNhbGwoXCJmb2N1c1wiLCBldmVudCk7XG4gICAgICB0aGlzLmxvZyhcImZvY3VzXCIsIHtcbiAgICAgICAgaGFzRm9jdXM6IHRydWVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kaXNwYXRjaChcImZvY3VzXCIsIHtcbiAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICBoYXNGb2N1czogdHJ1ZVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLmhhbmRsZVdpbmRvd0ZvY3VzQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgICAgaWYgKGRvY3VtZW50Lmhhc0ZvY3VzKCkgJiYgIXRoaXMuY29udHJvbGxlci5oYXNGb2N1cykge1xuICAgICAgICB0aGlzLmJlY29tZXNGb2N1c2VkKGV2ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoIWRvY3VtZW50Lmhhc0ZvY3VzKCkgJiYgdGhpcy5jb250cm9sbGVyLmhhc0ZvY3VzKSB7XG4gICAgICAgIHRoaXMuYmVjb21lc1VuZm9jdXNlZChldmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIHRoaXMuaW50ZXJ2YWxEdXJhdGlvbiA9IG9wdGlvbnMuaW50ZXJ2YWwgfHwgMjAwO1xuICAgIHRoaXMuZW5oYW5jZUNvbnRyb2xsZXIoKTtcbiAgICB0aGlzLm9ic2VydmUoKTtcbiAgfVxuICBlbmhhbmNlQ29udHJvbGxlcigpIHtcbiAgICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IHRoaXMuY29udHJvbGxlckRpc2Nvbm5lY3Q7XG4gICAgY29uc3QgZGlzY29ubmVjdCA9ICgpID0+IHtcbiAgICAgIHRoaXMudW5vYnNlcnZlKCk7XG4gICAgICBjb250cm9sbGVyRGlzY29ubmVjdCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLmNvbnRyb2xsZXIsIHtcbiAgICAgIGRpc2Nvbm5lY3Q6IGRpc2Nvbm5lY3RcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCB1c2VXaW5kb3dGb2N1cyA9IChjb21wb3NhYmxlQ29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjb21wb3NhYmxlQ29udHJvbGxlcjtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgVXNlV2luZG93Rm9jdXMoY29udHJvbGxlciwgb3B0aW9ucyk7XG4gIHJldHVybiBbIG9ic2VydmVyLm9ic2VydmUsIG9ic2VydmVyLnVub2JzZXJ2ZSBdO1xufTtcblxuY2xhc3MgV2luZG93Rm9jdXNDb21wb3NhYmxlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuaGFzRm9jdXMgPSBmYWxzZTtcbiAgfVxufVxuXG5jbGFzcyBXaW5kb3dGb2N1c0NvbnRyb2xsZXIgZXh0ZW5kcyBXaW5kb3dGb2N1c0NvbXBvc2FibGVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgY29uc3QgW29ic2VydmUsIHVub2JzZXJ2ZV0gPSB1c2VXaW5kb3dGb2N1cyh0aGlzLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgICAgIHVub2JzZXJ2ZTogdW5vYnNlcnZlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn1cblxuY29uc3QgdXNlV2luZG93UmVzaXplID0gY29tcG9zYWJsZUNvbnRyb2xsZXIgPT4ge1xuICBjb25zdCBjb250cm9sbGVyID0gY29tcG9zYWJsZUNvbnRyb2xsZXI7XG4gIGNvbnN0IGNhbGxiYWNrID0gZXZlbnQgPT4ge1xuICAgIGNvbnN0IHtpbm5lcldpZHRoOiBpbm5lcldpZHRoLCBpbm5lckhlaWdodDogaW5uZXJIZWlnaHR9ID0gd2luZG93O1xuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICBoZWlnaHQ6IGlubmVySGVpZ2h0IHx8IEluZmluaXR5LFxuICAgICAgd2lkdGg6IGlubmVyV2lkdGggfHwgSW5maW5pdHksXG4gICAgICBldmVudDogZXZlbnRcbiAgICB9O1xuICAgIG1ldGhvZChjb250cm9sbGVyLCBcIndpbmRvd1Jlc2l6ZVwiKS5jYWxsKGNvbnRyb2xsZXIsIHBheWxvYWQpO1xuICB9O1xuICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IGNvbnRyb2xsZXIuZGlzY29ubmVjdC5iaW5kKGNvbnRyb2xsZXIpO1xuICBjb25zdCBvYnNlcnZlID0gKCkgPT4ge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGNhbGxiYWNrKTtcbiAgICBjYWxsYmFjaygpO1xuICB9O1xuICBjb25zdCB1bm9ic2VydmUgPSAoKSA9PiB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgY2FsbGJhY2spO1xuICB9O1xuICBPYmplY3QuYXNzaWduKGNvbnRyb2xsZXIsIHtcbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgdW5vYnNlcnZlKCk7XG4gICAgICBjb250cm9sbGVyRGlzY29ubmVjdCgpO1xuICAgIH1cbiAgfSk7XG4gIG9ic2VydmUoKTtcbiAgcmV0dXJuIFsgb2JzZXJ2ZSwgdW5vYnNlcnZlIF07XG59O1xuXG5jbGFzcyBXaW5kb3dSZXNpemVDb21wb3NhYmxlQ29udHJvbGxlciBleHRlbmRzIENvbnRyb2xsZXIge31cblxuY2xhc3MgV2luZG93UmVzaXplQ29udHJvbGxlciBleHRlbmRzIFdpbmRvd1Jlc2l6ZUNvbXBvc2FibGVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgIHN1cGVyKGNvbnRleHQpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCkgPT4ge1xuICAgICAgY29uc3QgW29ic2VydmUsIHVub2JzZXJ2ZV0gPSB1c2VXaW5kb3dSZXNpemUodGhpcyk7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgICAgb2JzZXJ2ZTogb2JzZXJ2ZSxcbiAgICAgICAgdW5vYnNlcnZlOiB1bm9ic2VydmVcbiAgICAgIH0pO1xuICAgIH0pKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VIb3RrZXlzKCkge1xuICB0aHJvdyBcIltzdGltdWx1cy11c2VdIE5vdGljZTogVGhlIGltcG9ydCBmb3IgYHVzZUhvdGtleXMoKWAgaGFzIGJlZW4gbW92ZWQgZnJvbSBgc3RpbXVsdXMtdXNlYCB0byBgc3RpbXVsdXMtdXNlL2hvdGtleXNgLiBcXG5QbGVhc2UgY2hhbmdlIHRoZSBpbXBvcnQgYWNjb3JkaW5nbHkgYW5kIGFkZCBgaG90a2V5LWpzYCBhcyBhIGRlcGVuZGVuY3kgdG8geW91ciBwcm9qZWN0LiBcXG5cXG5Gb3IgbW9yZSBpbmZvcm1hdGlvbiBzZWU6IGh0dHBzOi8vc3RpbXVsdXMtdXNlLmdpdGh1Yi5pby9zdGltdWx1cy11c2UvIy91c2UtaG90a2V5cz9pZD1pbXBvcnRpbmctdGhlLWJlaGF2aW9yXCI7XG59XG5cbmV4cG9ydCB7IEFwcGxpY2F0aW9uQ29udHJvbGxlciwgQ2xpY2tPdXRzaWRlQ29udHJvbGxlciwgSG92ZXJDb250cm9sbGVyLCBJZGxlQ29udHJvbGxlciwgSW50ZXJzZWN0aW9uQ29udHJvbGxlciwgTGF6eUxvYWRDb250cm9sbGVyLCBNdXRhdGlvbkNvbnRyb2xsZXIsIFJlc2l6ZUNvbnRyb2xsZXIsIFRhcmdldE11dGF0aW9uQ29udHJvbGxlciwgVHJhbnNpdGlvbkNvbnRyb2xsZXIsIFVzZUhvdmVyLCBVc2VNdXRhdGlvbiwgVXNlVGFyZ2V0TXV0YXRpb24sIFVzZVZpc2liaWxpdHksIFVzZVdpbmRvd0ZvY3VzLCBWaXNpYmlsaXR5Q29udHJvbGxlciwgV2luZG93Rm9jdXNDb250cm9sbGVyLCBXaW5kb3dSZXNpemVDb250cm9sbGVyLCBkZWJvdW5jZSwgdXNlQXBwbGljYXRpb24sIHVzZUNsaWNrT3V0c2lkZSwgdXNlRGVib3VuY2UsIHVzZURpc3BhdGNoLCB1c2VIb3RrZXlzLCB1c2VIb3ZlciwgdXNlSWRsZSwgdXNlSW50ZXJzZWN0aW9uLCB1c2VMYXp5TG9hZCwgdXNlTWF0Y2hNZWRpYSwgdXNlTWVtbywgdXNlTWV0YSwgdXNlTXV0YXRpb24sIHVzZVJlc2l6ZSwgdXNlVGFyZ2V0TXV0YXRpb24sIHVzZVRocm90dGxlLCB1c2VUcmFuc2l0aW9uLCB1c2VWaXNpYmlsaXR5LCB1c2VXaW5kb3dGb2N1cywgdXNlV2luZG93UmVzaXplIH07XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwic3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy9cbi8vICAgZGlzY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gfVxuIiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4vLyBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcInN0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4vLyAgIGNvbm5lY3QoKSB7XG4vLyAgIH1cbi8vXG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJzdGltdWx1c1wiO1xuLy9cbi8vIGV4cG9ydCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vL1xuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwic3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy9cbi8vICAgZGlzY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gfVxuIiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4vLyBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcInN0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4vLyAgIGNvbm5lY3QoKSB7XG4vLyAgIH1cbi8vXG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpX2NhbGVuZGFyX2NvbnRyb2xsZXIuanNcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcbmltcG9ydCB7IGZvcm1hdCwgYWRkTW9udGhzLCBzdGFydE9mTW9udGgsIGVuZE9mTW9udGgsIGVhY2hEYXlPZkludGVydmFsLCBpc1NhbWVNb250aCwgaXNUb2RheSwgaXNTYW1lRGF5LCBzdGFydE9mV2VlaywgZW5kT2ZXZWVrIH0gZnJvbSBcImRhdGUtZm5zXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJ0aXRsZVwiLCBcImNhbGVuZGFyXCIsIFwiZGF5VGVtcGxhdGVcIiwgXCJpbnB1dFwiXVxuICBzdGF0aWMgdmFsdWVzID0ge1xuICAgIGZvcm1hdDogU3RyaW5nLFxuICAgIHZpZXdEYXRlOiBTdHJpbmcsXG4gICAgc2VsZWN0ZWREYXRlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogbnVsbCB9LFxuICAgIGlucHV0SWQ6IFN0cmluZ1xuICB9XG5cbiAgY29ubmVjdCgpIHtcbiAgICB0aGlzLnZpZXdEYXRlID0gbmV3IERhdGUodGhpcy52aWV3RGF0ZVZhbHVlKVxuICAgIHRoaXMuc2VsZWN0ZWREYXRlID0gdGhpcy5zZWxlY3RlZERhdGVWYWx1ZSA/IG5ldyBEYXRlKHRoaXMuc2VsZWN0ZWREYXRlVmFsdWUpIDogbnVsbFxuICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIoKVxuICB9XG5cbiAgcmVuZGVyQ2FsZW5kYXIoKSB7XG4gICAgdGhpcy50aXRsZVRhcmdldC50ZXh0Q29udGVudCA9IGZvcm1hdCh0aGlzLnZpZXdEYXRlLCBcIk1NTU0geXl5eVwiKVxuICAgIGNvbnN0IHN0YXJ0ID0gc3RhcnRPZldlZWsoc3RhcnRPZk1vbnRoKHRoaXMudmlld0RhdGUpKVxuICAgIGNvbnN0IGVuZCA9IGVuZE9mV2VlayhlbmRPZk1vbnRoKHRoaXMudmlld0RhdGUpKVxuICAgIGNvbnN0IGRheXMgPSBlYWNoRGF5T2ZJbnRlcnZhbCh7IHN0YXJ0LCBlbmQgfSlcblxuICAgIGNvbnN0IGNhbGVuZGFyQ29udGFpbmVyID0gdGhpcy5jYWxlbmRhclRhcmdldFxuICAgIC8vIENsZWFyIGV4aXN0aW5nIGRheSBlbGVtZW50cywgYnV0IGtlZXAgdGhlIHdlZWtkYXkgaGVhZGVyc1xuICAgIGNvbnN0IHdlZWtkYXlIZWFkZXJzID0gY2FsZW5kYXJDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnZGl2Om50aC1jaGlsZCgtbis3KScpXG4gICAgY2FsZW5kYXJDb250YWluZXIuaW5uZXJIVE1MID0gJydcbiAgICB3ZWVrZGF5SGVhZGVycy5mb3JFYWNoKGhlYWRlciA9PiBjYWxlbmRhckNvbnRhaW5lci5hcHBlbmRDaGlsZChoZWFkZXIpKVxuXG4gICAgZGF5cy5mb3JFYWNoKGRheSA9PiB7XG4gICAgICBjb25zdCBkYXlFbGVtZW50ID0gdGhpcy5jcmVhdGVEYXlFbGVtZW50KGRheSlcbiAgICAgIGNhbGVuZGFyQ29udGFpbmVyLmFwcGVuZENoaWxkKGRheUVsZW1lbnQpXG4gICAgfSlcblxuICAgIHRoaXMudXBkYXRlSW5wdXQoKVxuICB9XG5cbiAgY3JlYXRlRGF5RWxlbWVudChkYXkpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMuZGF5VGVtcGxhdGVUYXJnZXQuY29udGVudC5jbG9uZU5vZGUodHJ1ZSlcbiAgICBjb25zdCBidXR0b24gPSB0ZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uXCIpXG4gICAgXG4gICAgYnV0dG9uLnRleHRDb250ZW50ID0gZm9ybWF0KGRheSwgXCJkXCIpXG4gICAgYnV0dG9uLmRhdGFzZXQuZGF5ID0gZGF5LnRvSVNPU3RyaW5nKClcblxuICAgIGxldCBidXR0b25DbGFzcyA9IFwiaG92ZXI6YmctYWNjZW50IGhvdmVyOnRleHQtYWNjZW50LWZvcmVncm91bmRcIlxuICAgIFxuICAgIGlmICghaXNTYW1lTW9udGgoZGF5LCB0aGlzLnZpZXdEYXRlKSkge1xuICAgICAgYnV0dG9uQ2xhc3MgKz0gXCIgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCJcbiAgICB9IGVsc2UgaWYgKGlzVG9kYXkoZGF5KSkge1xuICAgICAgYnV0dG9uQ2xhc3MgKz0gXCIgYmctYWNjZW50IHRleHQtYWNjZW50LWZvcmVncm91bmRcIlxuICAgIH1cblxuICAgIGlmICh0aGlzLnNlbGVjdGVkRGF0ZSAmJiBpc1NhbWVEYXkoZGF5LCB0aGlzLnNlbGVjdGVkRGF0ZSkpIHtcbiAgICAgIGJ1dHRvbkNsYXNzICs9IFwiIGJnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmRcIlxuICAgIH1cblxuICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBidXR0b24uY2xhc3NOYW1lLnJlcGxhY2UoXCJ7e2J1dHRvbkNsYXNzfX1cIiwgYnV0dG9uQ2xhc3MpXG4gICAgXG4gICAgcmV0dXJuIHRlbXBsYXRlXG4gIH1cblxuICBwcmV2TW9udGgoKSB7XG4gICAgdGhpcy52aWV3RGF0ZSA9IGFkZE1vbnRocyh0aGlzLnZpZXdEYXRlLCAtMSlcbiAgICB0aGlzLnJlbmRlckNhbGVuZGFyKClcbiAgfVxuXG4gIG5leHRNb250aCgpIHtcbiAgICB0aGlzLnZpZXdEYXRlID0gYWRkTW9udGhzKHRoaXMudmlld0RhdGUsIDEpXG4gICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpXG4gIH1cblxuICBzZWxlY3REYXkoZXZlbnQpIHtcbiAgICBjb25zdCBzZWxlY3RlZERheSA9IG5ldyBEYXRlKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5kYXkpXG4gICAgdGhpcy5zZWxlY3RlZERhdGUgPSBzZWxlY3RlZERheVxuICAgIHRoaXMuc2VsZWN0ZWREYXRlVmFsdWUgPSBzZWxlY3RlZERheS50b0lTT1N0cmluZygpXG4gICAgdGhpcy5yZW5kZXJDYWxlbmRhcigpXG4gIH1cblxuICB1cGRhdGVJbnB1dCgpIHtcbiAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlucHV0SWRWYWx1ZSlcbiAgICBpZiAoaW5wdXRFbGVtZW50ICYmIHRoaXMuc2VsZWN0ZWREYXRlKSB7XG4gICAgICBpbnB1dEVsZW1lbnQudmFsdWUgPSBmb3JtYXQodGhpcy5zZWxlY3RlZERhdGUsIHRoaXMuZm9ybWF0VmFsdWUpXG4gICAgfVxuICB9XG59IiwgIi8qKlxuICogQG5hbWUgdG9EYXRlXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBpdHMgY2xvbmUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyLCBpdCBpcyB0cmVhdGVkIGFzIGEgdGltZXN0YW1wLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBub25lIG9mIHRoZSBhYm92ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgSW52YWxpZCBEYXRlLlxuICpcbiAqICoqTm90ZSoqOiAqYWxsKiBEYXRlIGFyZ3VtZW50cyBwYXNzZWQgdG8gYW55ICpkYXRlLWZucyogZnVuY3Rpb24gaXMgcHJvY2Vzc2VkIGJ5IGB0b0RhdGVgLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBhcmd1bWVudCAtIFRoZSB2YWx1ZSB0byBjb252ZXJ0XG4gKlxuICogQHJldHVybnMgVGhlIHBhcnNlZCBkYXRlIGluIHRoZSBsb2NhbCB0aW1lIHpvbmVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ2xvbmUgdGhlIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSB0b0RhdGUobmV3IERhdGUoMjAxNCwgMSwgMTEsIDExLCAzMCwgMzApKVxuICogLy89PiBUdWUgRmViIDExIDIwMTQgMTE6MzA6MzBcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udmVydCB0aGUgdGltZXN0YW1wIHRvIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSB0b0RhdGUoMTM5MjA5ODQzMDAwMClcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0RhdGUoYXJndW1lbnQpIHtcbiAgY29uc3QgYXJnU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KTtcblxuICAvLyBDbG9uZSB0aGUgZGF0ZVxuICBpZiAoXG4gICAgYXJndW1lbnQgaW5zdGFuY2VvZiBEYXRlIHx8XG4gICAgKHR5cGVvZiBhcmd1bWVudCA9PT0gXCJvYmplY3RcIiAmJiBhcmdTdHIgPT09IFwiW29iamVjdCBEYXRlXVwiKVxuICApIHtcbiAgICAvLyBQcmV2ZW50IHRoZSBkYXRlIHRvIGxvc2UgdGhlIG1pbGxpc2Vjb25kcyB3aGVuIHBhc3NlZCB0byBuZXcgRGF0ZSgpIGluIElFMTBcbiAgICByZXR1cm4gbmV3IGFyZ3VtZW50LmNvbnN0cnVjdG9yKCthcmd1bWVudCk7XG4gIH0gZWxzZSBpZiAoXG4gICAgdHlwZW9mIGFyZ3VtZW50ID09PSBcIm51bWJlclwiIHx8XG4gICAgYXJnU3RyID09PSBcIltvYmplY3QgTnVtYmVyXVwiIHx8XG4gICAgdHlwZW9mIGFyZ3VtZW50ID09PSBcInN0cmluZ1wiIHx8XG4gICAgYXJnU3RyID09PSBcIltvYmplY3QgU3RyaW5nXVwiXG4gICkge1xuICAgIC8vIFRPRE86IENhbiB3ZSBnZXQgcmlkIG9mIGFzP1xuICAgIHJldHVybiBuZXcgRGF0ZShhcmd1bWVudCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVE9ETzogQ2FuIHdlIGdldCByaWQgb2YgYXM/XG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIH1cbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCB0b0RhdGU7XG4iLCAiLyoqXG4gKiBAbmFtZSBjb25zdHJ1Y3RGcm9tXG4gKiBAY2F0ZWdvcnkgR2VuZXJpYyBIZWxwZXJzXG4gKiBAc3VtbWFyeSBDb25zdHJ1Y3RzIGEgZGF0ZSB1c2luZyB0aGUgcmVmZXJlbmNlIGRhdGUgYW5kIHRoZSB2YWx1ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGZ1bmN0aW9uIGNvbnN0cnVjdHMgYSBuZXcgZGF0ZSB1c2luZyB0aGUgY29uc3RydWN0b3IgZnJvbSB0aGUgcmVmZXJlbmNlXG4gKiBkYXRlIGFuZCB0aGUgZ2l2ZW4gdmFsdWUuIEl0IGhlbHBzIHRvIGJ1aWxkIGdlbmVyaWMgZnVuY3Rpb25zIHRoYXQgYWNjZXB0XG4gKiBkYXRlIGV4dGVuc2lvbnMuXG4gKlxuICogSXQgZGVmYXVsdHMgdG8gYERhdGVgIGlmIHRoZSBwYXNzZWQgcmVmZXJlbmNlIGRhdGUgaXMgYSBudW1iZXIgb3IgYSBzdHJpbmcuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgcmVmZXJlbmNlIGRhdGUgdG8gdGFrZSBjb25zdHJ1Y3RvciBmcm9tXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY3JlYXRlIHRoZSBkYXRlXG4gKlxuICogQHJldHVybnMgRGF0ZSBpbml0aWFsaXplZCB1c2luZyB0aGUgZ2l2ZW4gZGF0ZSBhbmQgdmFsdWVcbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgY29uc3RydWN0RnJvbSB9IGZyb20gJ2RhdGUtZm5zJ1xuICpcbiAqIC8vIEEgZnVuY3Rpb24gdGhhdCBjbG9uZXMgYSBkYXRlIHByZXNlcnZpbmcgdGhlIG9yaWdpbmFsIHR5cGVcbiAqIGZ1bmN0aW9uIGNsb25lRGF0ZTxEYXRlVHlwZSBleHRlbmRzIERhdGUoZGF0ZTogRGF0ZVR5cGUpOiBEYXRlVHlwZSB7XG4gKiAgIHJldHVybiBjb25zdHJ1Y3RGcm9tKFxuICogICAgIGRhdGUsIC8vIFVzZSBjb250cnVzdG9yIGZyb20gdGhlIGdpdmVuIGRhdGVcbiAqICAgICBkYXRlLmdldFRpbWUoKSAvLyBVc2UgdGhlIGRhdGUgdmFsdWUgdG8gY3JlYXRlIGEgbmV3IGRhdGVcbiAqICAgKVxuICogfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uc3RydWN0RnJvbShkYXRlLCB2YWx1ZSkge1xuICBpZiAoZGF0ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICByZXR1cm4gbmV3IGRhdGUuY29uc3RydWN0b3IodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSk7XG4gIH1cbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBjb25zdHJ1Y3RGcm9tO1xuIiwgImltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcbmltcG9ydCB7IGNvbnN0cnVjdEZyb20gfSBmcm9tIFwiLi9jb25zdHJ1Y3RGcm9tLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGFkZE1vbnRoc1xuICogQGNhdGVnb3J5IE1vbnRoIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEFkZCB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBtb250aHMgdG8gdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBZGQgdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgbW9udGhzIHRvIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIGRhdGUgdG8gYmUgY2hhbmdlZFxuICogQHBhcmFtIGFtb3VudCAtIFRoZSBhbW91bnQgb2YgbW9udGhzIHRvIGJlIGFkZGVkLlxuICpcbiAqIEByZXR1cm5zIFRoZSBuZXcgZGF0ZSB3aXRoIHRoZSBtb250aHMgYWRkZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQWRkIDUgbW9udGhzIHRvIDEgU2VwdGVtYmVyIDIwMTQ6XG4gKiBjb25zdCByZXN1bHQgPSBhZGRNb250aHMobmV3IERhdGUoMjAxNCwgOCwgMSksIDUpXG4gKiAvLz0+IFN1biBGZWIgMDEgMjAxNSAwMDowMDowMFxuICpcbiAqIC8vIEFkZCBvbmUgbW9udGggdG8gMzAgSmFudWFyeSAyMDIzOlxuICogY29uc3QgcmVzdWx0ID0gYWRkTW9udGhzKG5ldyBEYXRlKDIwMjMsIDAsIDMwKSwgMSlcbiAqIC8vPT4gVHVlIEZlYiAyOCAyMDIzIDAwOjAwOjAwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRNb250aHMoZGF0ZSwgYW1vdW50KSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICBpZiAoaXNOYU4oYW1vdW50KSkgcmV0dXJuIGNvbnN0cnVjdEZyb20oZGF0ZSwgTmFOKTtcbiAgaWYgKCFhbW91bnQpIHtcbiAgICAvLyBJZiAwIG1vbnRocywgbm8tb3AgdG8gYXZvaWQgY2hhbmdpbmcgdGltZXMgaW4gdGhlIGhvdXIgYmVmb3JlIGVuZCBvZiBEU1RcbiAgICByZXR1cm4gX2RhdGU7XG4gIH1cbiAgY29uc3QgZGF5T2ZNb250aCA9IF9kYXRlLmdldERhdGUoKTtcblxuICAvLyBUaGUgSlMgRGF0ZSBvYmplY3Qgc3VwcG9ydHMgZGF0ZSBtYXRoIGJ5IGFjY2VwdGluZyBvdXQtb2YtYm91bmRzIHZhbHVlcyBmb3JcbiAgLy8gbW9udGgsIGRheSwgZXRjLiBGb3IgZXhhbXBsZSwgbmV3IERhdGUoMjAyMCwgMCwgMCkgcmV0dXJucyAzMSBEZWMgMjAxOSBhbmRcbiAgLy8gbmV3IERhdGUoMjAyMCwgMTMsIDEpIHJldHVybnMgMSBGZWIgMjAyMS4gIFRoaXMgaXMgKmFsbW9zdCogdGhlIGJlaGF2aW9yIHdlXG4gIC8vIHdhbnQgZXhjZXB0IHRoYXQgZGF0ZXMgd2lsbCB3cmFwIGFyb3VuZCB0aGUgZW5kIG9mIGEgbW9udGgsIG1lYW5pbmcgdGhhdFxuICAvLyBuZXcgRGF0ZSgyMDIwLCAxMywgMzEpIHdpbGwgcmV0dXJuIDMgTWFyIDIwMjEgbm90IDI4IEZlYiAyMDIxIGFzIGRlc2lyZWQuIFNvXG4gIC8vIHdlJ2xsIGRlZmF1bHQgdG8gdGhlIGVuZCBvZiB0aGUgZGVzaXJlZCBtb250aCBieSBhZGRpbmcgMSB0byB0aGUgZGVzaXJlZFxuICAvLyBtb250aCBhbmQgdXNpbmcgYSBkYXRlIG9mIDAgdG8gYmFjayB1cCBvbmUgZGF5IHRvIHRoZSBlbmQgb2YgdGhlIGRlc2lyZWRcbiAgLy8gbW9udGguXG4gIGNvbnN0IGVuZE9mRGVzaXJlZE1vbnRoID0gY29uc3RydWN0RnJvbShkYXRlLCBfZGF0ZS5nZXRUaW1lKCkpO1xuICBlbmRPZkRlc2lyZWRNb250aC5zZXRNb250aChfZGF0ZS5nZXRNb250aCgpICsgYW1vdW50ICsgMSwgMCk7XG4gIGNvbnN0IGRheXNJbk1vbnRoID0gZW5kT2ZEZXNpcmVkTW9udGguZ2V0RGF0ZSgpO1xuICBpZiAoZGF5T2ZNb250aCA+PSBkYXlzSW5Nb250aCkge1xuICAgIC8vIElmIHdlJ3JlIGFscmVhZHkgYXQgdGhlIGVuZCBvZiB0aGUgbW9udGgsIHRoZW4gdGhpcyBpcyB0aGUgY29ycmVjdCBkYXRlXG4gICAgLy8gYW5kIHdlJ3JlIGRvbmUuXG4gICAgcmV0dXJuIGVuZE9mRGVzaXJlZE1vbnRoO1xuICB9IGVsc2Uge1xuICAgIC8vIE90aGVyd2lzZSwgd2Ugbm93IGtub3cgdGhhdCBzZXR0aW5nIHRoZSBvcmlnaW5hbCBkYXktb2YtbW9udGggdmFsdWUgd29uJ3RcbiAgICAvLyBjYXVzZSBhbiBvdmVyZmxvdywgc28gc2V0IHRoZSBkZXNpcmVkIGRheS1vZi1tb250aC4gTm90ZSB0aGF0IHdlIGNhbid0XG4gICAgLy8ganVzdCBzZXQgdGhlIGRhdGUgb2YgYGVuZE9mRGVzaXJlZE1vbnRoYCBiZWNhdXNlIHRoYXQgb2JqZWN0IG1heSBoYXZlIGhhZFxuICAgIC8vIGl0cyB0aW1lIGNoYW5nZWQgaW4gdGhlIHVudXN1YWwgY2FzZSB3aGVyZSB3aGVyZSBhIERTVCB0cmFuc2l0aW9uIHdhcyBvblxuICAgIC8vIHRoZSBsYXN0IGRheSBvZiB0aGUgbW9udGggYW5kIGl0cyBsb2NhbCB0aW1lIHdhcyBpbiB0aGUgaG91ciBza2lwcGVkIG9yXG4gICAgLy8gcmVwZWF0ZWQgbmV4dCB0byBhIERTVCB0cmFuc2l0aW9uLiAgU28gd2UgdXNlIGBkYXRlYCBpbnN0ZWFkIHdoaWNoIGlzXG4gICAgLy8gZ3VhcmFudGVlZCB0byBzdGlsbCBoYXZlIHRoZSBvcmlnaW5hbCB0aW1lLlxuICAgIF9kYXRlLnNldEZ1bGxZZWFyKFxuICAgICAgZW5kT2ZEZXNpcmVkTW9udGguZ2V0RnVsbFllYXIoKSxcbiAgICAgIGVuZE9mRGVzaXJlZE1vbnRoLmdldE1vbnRoKCksXG4gICAgICBkYXlPZk1vbnRoLFxuICAgICk7XG4gICAgcmV0dXJuIF9kYXRlO1xuICB9XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgYWRkTW9udGhzO1xuIiwgIi8qKlxuICogQG1vZHVsZSBjb25zdGFudHNcbiAqIEBzdW1tYXJ5IFVzZWZ1bCBjb25zdGFudHNcbiAqIEBkZXNjcmlwdGlvblxuICogQ29sbGVjdGlvbiBvZiB1c2VmdWwgZGF0ZSBjb25zdGFudHMuXG4gKlxuICogVGhlIGNvbnN0YW50cyBjb3VsZCBiZSBpbXBvcnRlZCBmcm9tIGBkYXRlLWZucy9jb25zdGFudHNgOlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBtYXhUaW1lLCBtaW5UaW1lIH0gZnJvbSBcIi4vY29uc3RhbnRzL2RhdGUtZm5zL2NvbnN0YW50c1wiO1xuICpcbiAqIGZ1bmN0aW9uIGlzQWxsb3dlZFRpbWUodGltZSkge1xuICogICByZXR1cm4gdGltZSA8PSBtYXhUaW1lICYmIHRpbWUgPj0gbWluVGltZTtcbiAqIH1cbiAqIGBgYFxuICovXG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBkYXlzSW5XZWVrXG4gKiBAc3VtbWFyeSBEYXlzIGluIDEgd2Vlay5cbiAqL1xuZXhwb3J0IGNvbnN0IGRheXNJbldlZWsgPSA3O1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgZGF5c0luWWVhclxuICogQHN1bW1hcnkgRGF5cyBpbiAxIHllYXIuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIb3cgbWFueSBkYXlzIGluIGEgeWVhci5cbiAqXG4gKiBPbmUgeWVhcnMgZXF1YWxzIDM2NS4yNDI1IGRheXMgYWNjb3JkaW5nIHRvIHRoZSBmb3JtdWxhOlxuICpcbiAqID4gTGVhcCB5ZWFyIG9jY3VyZXMgZXZlcnkgNCB5ZWFycywgZXhjZXB0IGZvciB5ZWFycyB0aGF0IGFyZSBkaXZpc2FibGUgYnkgMTAwIGFuZCBub3QgZGl2aXNhYmxlIGJ5IDQwMC5cbiAqID4gMSBtZWFuIHllYXIgPSAoMzY1KzEvNC0xLzEwMCsxLzQwMCkgZGF5cyA9IDM2NS4yNDI1IGRheXNcbiAqL1xuZXhwb3J0IGNvbnN0IGRheXNJblllYXIgPSAzNjUuMjQyNTtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIG1heFRpbWVcbiAqIEBzdW1tYXJ5IE1heGltdW0gYWxsb3dlZCB0aW1lLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBtYXhUaW1lIH0gZnJvbSBcIi4vY29uc3RhbnRzL2RhdGUtZm5zL2NvbnN0YW50c1wiO1xuICpcbiAqIGNvbnN0IGlzVmFsaWQgPSA4NjQwMDAwMDAwMDAwMDAxIDw9IG1heFRpbWU7XG4gKiAvLz0+IGZhbHNlXG4gKlxuICogbmV3IERhdGUoODY0MDAwMDAwMDAwMDAwMSk7XG4gKiAvLz0+IEludmFsaWQgRGF0ZVxuICovXG5leHBvcnQgY29uc3QgbWF4VGltZSA9IE1hdGgucG93KDEwLCA4KSAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtaW5UaW1lXG4gKiBAc3VtbWFyeSBNaW5pbXVtIGFsbG93ZWQgdGltZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgbWluVGltZSB9IGZyb20gXCIuL2NvbnN0YW50cy9kYXRlLWZucy9jb25zdGFudHNcIjtcbiAqXG4gKiBjb25zdCBpc1ZhbGlkID0gLTg2NDAwMDAwMDAwMDAwMDEgPj0gbWluVGltZTtcbiAqIC8vPT4gZmFsc2VcbiAqXG4gKiBuZXcgRGF0ZSgtODY0MDAwMDAwMDAwMDAwMSlcbiAqIC8vPT4gSW52YWxpZCBEYXRlXG4gKi9cbmV4cG9ydCBjb25zdCBtaW5UaW1lID0gLW1heFRpbWU7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtaWxsaXNlY29uZHNJbldlZWtcbiAqIEBzdW1tYXJ5IE1pbGxpc2Vjb25kcyBpbiAxIHdlZWsuXG4gKi9cbmV4cG9ydCBjb25zdCBtaWxsaXNlY29uZHNJbldlZWsgPSA2MDQ4MDAwMDA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtaWxsaXNlY29uZHNJbkRheVxuICogQHN1bW1hcnkgTWlsbGlzZWNvbmRzIGluIDEgZGF5LlxuICovXG5leHBvcnQgY29uc3QgbWlsbGlzZWNvbmRzSW5EYXkgPSA4NjQwMDAwMDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIG1pbGxpc2Vjb25kc0luTWludXRlXG4gKiBAc3VtbWFyeSBNaWxsaXNlY29uZHMgaW4gMSBtaW51dGVcbiAqL1xuZXhwb3J0IGNvbnN0IG1pbGxpc2Vjb25kc0luTWludXRlID0gNjAwMDA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtaWxsaXNlY29uZHNJbkhvdXJcbiAqIEBzdW1tYXJ5IE1pbGxpc2Vjb25kcyBpbiAxIGhvdXJcbiAqL1xuZXhwb3J0IGNvbnN0IG1pbGxpc2Vjb25kc0luSG91ciA9IDM2MDAwMDA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtaWxsaXNlY29uZHNJblNlY29uZFxuICogQHN1bW1hcnkgTWlsbGlzZWNvbmRzIGluIDEgc2Vjb25kXG4gKi9cbmV4cG9ydCBjb25zdCBtaWxsaXNlY29uZHNJblNlY29uZCA9IDEwMDA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtaW51dGVzSW5ZZWFyXG4gKiBAc3VtbWFyeSBNaW51dGVzIGluIDEgeWVhci5cbiAqL1xuZXhwb3J0IGNvbnN0IG1pbnV0ZXNJblllYXIgPSA1MjU2MDA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtaW51dGVzSW5Nb250aFxuICogQHN1bW1hcnkgTWludXRlcyBpbiAxIG1vbnRoLlxuICovXG5leHBvcnQgY29uc3QgbWludXRlc0luTW9udGggPSA0MzIwMDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIG1pbnV0ZXNJbkRheVxuICogQHN1bW1hcnkgTWludXRlcyBpbiAxIGRheS5cbiAqL1xuZXhwb3J0IGNvbnN0IG1pbnV0ZXNJbkRheSA9IDE0NDA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtaW51dGVzSW5Ib3VyXG4gKiBAc3VtbWFyeSBNaW51dGVzIGluIDEgaG91ci5cbiAqL1xuZXhwb3J0IGNvbnN0IG1pbnV0ZXNJbkhvdXIgPSA2MDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIG1vbnRoc0luUXVhcnRlclxuICogQHN1bW1hcnkgTW9udGhzIGluIDEgcXVhcnRlci5cbiAqL1xuZXhwb3J0IGNvbnN0IG1vbnRoc0luUXVhcnRlciA9IDM7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBtb250aHNJblllYXJcbiAqIEBzdW1tYXJ5IE1vbnRocyBpbiAxIHllYXIuXG4gKi9cbmV4cG9ydCBjb25zdCBtb250aHNJblllYXIgPSAxMjtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIHF1YXJ0ZXJzSW5ZZWFyXG4gKiBAc3VtbWFyeSBRdWFydGVycyBpbiAxIHllYXJcbiAqL1xuZXhwb3J0IGNvbnN0IHF1YXJ0ZXJzSW5ZZWFyID0gNDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIHNlY29uZHNJbkhvdXJcbiAqIEBzdW1tYXJ5IFNlY29uZHMgaW4gMSBob3VyLlxuICovXG5leHBvcnQgY29uc3Qgc2Vjb25kc0luSG91ciA9IDM2MDA7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBzZWNvbmRzSW5NaW51dGVcbiAqIEBzdW1tYXJ5IFNlY29uZHMgaW4gMSBtaW51dGUuXG4gKi9cbmV4cG9ydCBjb25zdCBzZWNvbmRzSW5NaW51dGUgPSA2MDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIHNlY29uZHNJbkRheVxuICogQHN1bW1hcnkgU2Vjb25kcyBpbiAxIGRheS5cbiAqL1xuZXhwb3J0IGNvbnN0IHNlY29uZHNJbkRheSA9IHNlY29uZHNJbkhvdXIgKiAyNDtcblxuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIHNlY29uZHNJbldlZWtcbiAqIEBzdW1tYXJ5IFNlY29uZHMgaW4gMSB3ZWVrLlxuICovXG5leHBvcnQgY29uc3Qgc2Vjb25kc0luV2VlayA9IHNlY29uZHNJbkRheSAqIDc7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBzZWNvbmRzSW5ZZWFyXG4gKiBAc3VtbWFyeSBTZWNvbmRzIGluIDEgeWVhci5cbiAqL1xuZXhwb3J0IGNvbnN0IHNlY29uZHNJblllYXIgPSBzZWNvbmRzSW5EYXkgKiBkYXlzSW5ZZWFyO1xuXG4vKipcbiAqIEBjb25zdGFudFxuICogQG5hbWUgc2Vjb25kc0luTW9udGhcbiAqIEBzdW1tYXJ5IFNlY29uZHMgaW4gMSBtb250aFxuICovXG5leHBvcnQgY29uc3Qgc2Vjb25kc0luTW9udGggPSBzZWNvbmRzSW5ZZWFyIC8gMTI7XG5cbi8qKlxuICogQGNvbnN0YW50XG4gKiBAbmFtZSBzZWNvbmRzSW5RdWFydGVyXG4gKiBAc3VtbWFyeSBTZWNvbmRzIGluIDEgcXVhcnRlci5cbiAqL1xuZXhwb3J0IGNvbnN0IHNlY29uZHNJblF1YXJ0ZXIgPSBzZWNvbmRzSW5Nb250aCAqIDM7XG4iLCAibGV0IGRlZmF1bHRPcHRpb25zID0ge307XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0T3B0aW9ucygpIHtcbiAgcmV0dXJuIGRlZmF1bHRPcHRpb25zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0RGVmYXVsdE9wdGlvbnMobmV3T3B0aW9ucykge1xuICBkZWZhdWx0T3B0aW9ucyA9IG5ld09wdGlvbnM7XG59XG4iLCAiaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tIFwiLi9fbGliL2RlZmF1bHRPcHRpb25zLm1qc1wiO1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgc3RhcnRPZldlZWt9IGZ1bmN0aW9uIG9wdGlvbnMuXG4gKi9cblxuLyoqXG4gKiBAbmFtZSBzdGFydE9mV2Vla1xuICogQGNhdGVnb3J5IFdlZWsgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBzdGFydCBvZiBhIHdlZWsgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhIHdlZWsgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBvcmlnaW5hbCBkYXRlXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9iamVjdCB3aXRoIG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJucyBUaGUgc3RhcnQgb2YgYSB3ZWVrXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhIHdlZWsgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApKVxuICogLy89PiBTdW4gQXVnIDMxIDIwMTQgMDA6MDA6MDBcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgdGhlIHdlZWsgc3RhcnRzIG9uIE1vbmRheSwgdGhlIHN0YXJ0IG9mIHRoZSB3ZWVrIGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZldlZWsobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSwgeyB3ZWVrU3RhcnRzT246IDEgfSlcbiAqIC8vPT4gTW9uIFNlcCAwMSAyMDE0IDAwOjAwOjAwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydE9mV2VlayhkYXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zID0gZ2V0RGVmYXVsdE9wdGlvbnMoKTtcbiAgY29uc3Qgd2Vla1N0YXJ0c09uID1cbiAgICBvcHRpb25zPy53ZWVrU3RhcnRzT24gPz9cbiAgICBvcHRpb25zPy5sb2NhbGU/Lm9wdGlvbnM/LndlZWtTdGFydHNPbiA/P1xuICAgIGRlZmF1bHRPcHRpb25zLndlZWtTdGFydHNPbiA/P1xuICAgIGRlZmF1bHRPcHRpb25zLmxvY2FsZT8ub3B0aW9ucz8ud2Vla1N0YXJ0c09uID8/XG4gICAgMDtcblxuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgY29uc3QgZGF5ID0gX2RhdGUuZ2V0RGF5KCk7XG4gIGNvbnN0IGRpZmYgPSAoZGF5IDwgd2Vla1N0YXJ0c09uID8gNyA6IDApICsgZGF5IC0gd2Vla1N0YXJ0c09uO1xuXG4gIF9kYXRlLnNldERhdGUoX2RhdGUuZ2V0RGF0ZSgpIC0gZGlmZik7XG4gIF9kYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gX2RhdGU7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgc3RhcnRPZldlZWs7XG4iLCAiaW1wb3J0IHsgc3RhcnRPZldlZWsgfSBmcm9tIFwiLi9zdGFydE9mV2Vlay5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBzdGFydE9mSVNPV2Vla1xuICogQGNhdGVnb3J5IElTTyBXZWVrIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IFJldHVybiB0aGUgc3RhcnQgb2YgYW4gSVNPIHdlZWsgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhbiBJU08gd2VlayBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyOiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGVcbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBvcmlnaW5hbCBkYXRlXG4gKlxuICogQHJldHVybnMgVGhlIHN0YXJ0IG9mIGFuIElTTyB3ZWVrXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhbiBJU08gd2VlayBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZJU09XZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IE1vbiBTZXAgMDEgMjAxNCAwMDowMDowMFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZklTT1dlZWsoZGF0ZSkge1xuICByZXR1cm4gc3RhcnRPZldlZWsoZGF0ZSwgeyB3ZWVrU3RhcnRzT246IDEgfSk7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgc3RhcnRPZklTT1dlZWs7XG4iLCAiaW1wb3J0IHsgY29uc3RydWN0RnJvbSB9IGZyb20gXCIuL2NvbnN0cnVjdEZyb20ubWpzXCI7XG5pbXBvcnQgeyBzdGFydE9mSVNPV2VlayB9IGZyb20gXCIuL3N0YXJ0T2ZJU09XZWVrLm1qc1wiO1xuaW1wb3J0IHsgdG9EYXRlIH0gZnJvbSBcIi4vdG9EYXRlLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGdldElTT1dlZWtZZWFyXG4gKiBAY2F0ZWdvcnkgSVNPIFdlZWstTnVtYmVyaW5nIFllYXIgSGVscGVyc1xuICogQHN1bW1hcnkgR2V0IHRoZSBJU08gd2Vlay1udW1iZXJpbmcgeWVhciBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdldCB0aGUgSVNPIHdlZWstbnVtYmVyaW5nIHllYXIgb2YgdGhlIGdpdmVuIGRhdGUsXG4gKiB3aGljaCBhbHdheXMgc3RhcnRzIDMgZGF5cyBiZWZvcmUgdGhlIHllYXIncyBmaXJzdCBUaHVyc2RheS5cbiAqXG4gKiBJU08gd2Vlay1udW1iZXJpbmcgeWVhcjogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgZ2l2ZW4gZGF0ZVxuICpcbiAqIEByZXR1cm5zIFRoZSBJU08gd2Vlay1udW1iZXJpbmcgeWVhclxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBXaGljaCBJU08td2VlayBudW1iZXJpbmcgeWVhciBpcyAyIEphbnVhcnkgMjAwNT9cbiAqIGNvbnN0IHJlc3VsdCA9IGdldElTT1dlZWtZZWFyKG5ldyBEYXRlKDIwMDUsIDAsIDIpKVxuICogLy89PiAyMDA0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJU09XZWVrWWVhcihkYXRlKSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICBjb25zdCB5ZWFyID0gX2RhdGUuZ2V0RnVsbFllYXIoKTtcblxuICBjb25zdCBmb3VydGhPZkphbnVhcnlPZk5leHRZZWFyID0gY29uc3RydWN0RnJvbShkYXRlLCAwKTtcbiAgZm91cnRoT2ZKYW51YXJ5T2ZOZXh0WWVhci5zZXRGdWxsWWVhcih5ZWFyICsgMSwgMCwgNCk7XG4gIGZvdXJ0aE9mSmFudWFyeU9mTmV4dFllYXIuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIGNvbnN0IHN0YXJ0T2ZOZXh0WWVhciA9IHN0YXJ0T2ZJU09XZWVrKGZvdXJ0aE9mSmFudWFyeU9mTmV4dFllYXIpO1xuXG4gIGNvbnN0IGZvdXJ0aE9mSmFudWFyeU9mVGhpc1llYXIgPSBjb25zdHJ1Y3RGcm9tKGRhdGUsIDApO1xuICBmb3VydGhPZkphbnVhcnlPZlRoaXNZZWFyLnNldEZ1bGxZZWFyKHllYXIsIDAsIDQpO1xuICBmb3VydGhPZkphbnVhcnlPZlRoaXNZZWFyLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICBjb25zdCBzdGFydE9mVGhpc1llYXIgPSBzdGFydE9mSVNPV2Vlayhmb3VydGhPZkphbnVhcnlPZlRoaXNZZWFyKTtcblxuICBpZiAoX2RhdGUuZ2V0VGltZSgpID49IHN0YXJ0T2ZOZXh0WWVhci5nZXRUaW1lKCkpIHtcbiAgICByZXR1cm4geWVhciArIDE7XG4gIH0gZWxzZSBpZiAoX2RhdGUuZ2V0VGltZSgpID49IHN0YXJ0T2ZUaGlzWWVhci5nZXRUaW1lKCkpIHtcbiAgICByZXR1cm4geWVhcjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geWVhciAtIDE7XG4gIH1cbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBnZXRJU09XZWVrWWVhcjtcbiIsICJpbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgc3RhcnRPZkRheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgZGF5IGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSBkYXkgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBvcmlnaW5hbCBkYXRlXG4gKlxuICogQHJldHVybnMgVGhlIHN0YXJ0IG9mIGEgZGF5XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhIGRheSBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZEYXkobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSlcbiAqIC8vPT4gVHVlIFNlcCAwMiAyMDE0IDAwOjAwOjAwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydE9mRGF5KGRhdGUpIHtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIF9kYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gX2RhdGU7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgc3RhcnRPZkRheTtcbiIsICJpbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi4vdG9EYXRlLm1qc1wiO1xuXG4vKipcbiAqIEdvb2dsZSBDaHJvbWUgYXMgb2YgNjcuMC4zMzk2Ljg3IGludHJvZHVjZWQgdGltZXpvbmVzIHdpdGggb2Zmc2V0IHRoYXQgaW5jbHVkZXMgc2Vjb25kcy5cbiAqIFRoZXkgdXN1YWxseSBhcHBlYXIgZm9yIGRhdGVzIHRoYXQgZGVub3RlIHRpbWUgYmVmb3JlIHRoZSB0aW1lem9uZXMgd2VyZSBpbnRyb2R1Y2VkXG4gKiAoZS5nLiBmb3IgJ0V1cm9wZS9QcmFndWUnIHRpbWV6b25lIHRoZSBvZmZzZXQgaXMgR01UKzAwOjU3OjQ0IGJlZm9yZSAxIE9jdG9iZXIgMTg5MVxuICogYW5kIEdNVCswMTowMDowMCBhZnRlciB0aGF0IGRhdGUpXG4gKlxuICogRGF0ZSNnZXRUaW1lem9uZU9mZnNldCByZXR1cm5zIHRoZSBvZmZzZXQgaW4gbWludXRlcyBhbmQgd291bGQgcmV0dXJuIDU3IGZvciB0aGUgZXhhbXBsZSBhYm92ZSxcbiAqIHdoaWNoIHdvdWxkIGxlYWQgdG8gaW5jb3JyZWN0IGNhbGN1bGF0aW9ucy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHRpbWV6b25lIG9mZnNldCBpbiBtaWxsaXNlY29uZHMgdGhhdCB0YWtlcyBzZWNvbmRzIGluIGFjY291bnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzKGRhdGUpIHtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIGNvbnN0IHV0Y0RhdGUgPSBuZXcgRGF0ZShcbiAgICBEYXRlLlVUQyhcbiAgICAgIF9kYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICBfZGF0ZS5nZXRNb250aCgpLFxuICAgICAgX2RhdGUuZ2V0RGF0ZSgpLFxuICAgICAgX2RhdGUuZ2V0SG91cnMoKSxcbiAgICAgIF9kYXRlLmdldE1pbnV0ZXMoKSxcbiAgICAgIF9kYXRlLmdldFNlY29uZHMoKSxcbiAgICAgIF9kYXRlLmdldE1pbGxpc2Vjb25kcygpLFxuICAgICksXG4gICk7XG4gIHV0Y0RhdGUuc2V0VVRDRnVsbFllYXIoX2RhdGUuZ2V0RnVsbFllYXIoKSk7XG4gIHJldHVybiArZGF0ZSAtICt1dGNEYXRlO1xufVxuIiwgImltcG9ydCB7IG1pbGxpc2Vjb25kc0luRGF5IH0gZnJvbSBcIi4vY29uc3RhbnRzLm1qc1wiO1xuaW1wb3J0IHsgc3RhcnRPZkRheSB9IGZyb20gXCIuL3N0YXJ0T2ZEYXkubWpzXCI7XG5pbXBvcnQgeyBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzIH0gZnJvbSBcIi4vX2xpYi9nZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5c1xuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBHZXQgdGhlIG51bWJlciBvZiBjYWxlbmRhciBkYXlzIGJldHdlZW4gdGhlIGdpdmVuIGRhdGVzLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogR2V0IHRoZSBudW1iZXIgb2YgY2FsZW5kYXIgZGF5cyBiZXR3ZWVuIHRoZSBnaXZlbiBkYXRlcy4gVGhpcyBtZWFucyB0aGF0IHRoZSB0aW1lcyBhcmUgcmVtb3ZlZFxuICogZnJvbSB0aGUgZGF0ZXMgYW5kIHRoZW4gdGhlIGRpZmZlcmVuY2UgaW4gZGF5cyBpcyBjYWxjdWxhdGVkLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlTGVmdCAtIFRoZSBsYXRlciBkYXRlXG4gKiBAcGFyYW0gZGF0ZVJpZ2h0IC0gVGhlIGVhcmxpZXIgZGF0ZVxuICpcbiAqIEByZXR1cm5zIFRoZSBudW1iZXIgb2YgY2FsZW5kYXIgZGF5c1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBIb3cgbWFueSBjYWxlbmRhciBkYXlzIGFyZSBiZXR3ZWVuXG4gKiAvLyAyIEp1bHkgMjAxMSAyMzowMDowMCBhbmQgMiBKdWx5IDIwMTIgMDA6MDA6MDA/XG4gKiBjb25zdCByZXN1bHQgPSBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMoXG4gKiAgIG5ldyBEYXRlKDIwMTIsIDYsIDIsIDAsIDApLFxuICogICBuZXcgRGF0ZSgyMDExLCA2LCAyLCAyMywgMClcbiAqIClcbiAqIC8vPT4gMzY2XG4gKiAvLyBIb3cgbWFueSBjYWxlbmRhciBkYXlzIGFyZSBiZXR3ZWVuXG4gKiAvLyAyIEp1bHkgMjAxMSAyMzo1OTowMCBhbmQgMyBKdWx5IDIwMTEgMDA6MDE6MDA/XG4gKiBjb25zdCByZXN1bHQgPSBkaWZmZXJlbmNlSW5DYWxlbmRhckRheXMoXG4gKiAgIG5ldyBEYXRlKDIwMTEsIDYsIDMsIDAsIDEpLFxuICogICBuZXcgRGF0ZSgyMDExLCA2LCAyLCAyMywgNTkpXG4gKiApXG4gKiAvLz0+IDFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyhkYXRlTGVmdCwgZGF0ZVJpZ2h0KSB7XG4gIGNvbnN0IHN0YXJ0T2ZEYXlMZWZ0ID0gc3RhcnRPZkRheShkYXRlTGVmdCk7XG4gIGNvbnN0IHN0YXJ0T2ZEYXlSaWdodCA9IHN0YXJ0T2ZEYXkoZGF0ZVJpZ2h0KTtcblxuICBjb25zdCB0aW1lc3RhbXBMZWZ0ID1cbiAgICArc3RhcnRPZkRheUxlZnQgLSBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzKHN0YXJ0T2ZEYXlMZWZ0KTtcbiAgY29uc3QgdGltZXN0YW1wUmlnaHQgPVxuICAgICtzdGFydE9mRGF5UmlnaHQgLSBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzKHN0YXJ0T2ZEYXlSaWdodCk7XG5cbiAgLy8gUm91bmQgdGhlIG51bWJlciBvZiBkYXlzIHRvIHRoZSBuZWFyZXN0IGludGVnZXIgYmVjYXVzZSB0aGUgbnVtYmVyIG9mXG4gIC8vIG1pbGxpc2Vjb25kcyBpbiBhIGRheSBpcyBub3QgY29uc3RhbnQgKGUuZy4gaXQncyBkaWZmZXJlbnQgaW4gdGhlIHdlZWsgb2ZcbiAgLy8gdGhlIGRheWxpZ2h0IHNhdmluZyB0aW1lIGNsb2NrIHNoaWZ0KS5cbiAgcmV0dXJuIE1hdGgucm91bmQoKHRpbWVzdGFtcExlZnQgLSB0aW1lc3RhbXBSaWdodCkgLyBtaWxsaXNlY29uZHNJbkRheSk7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzO1xuIiwgImltcG9ydCB7IGdldElTT1dlZWtZZWFyIH0gZnJvbSBcIi4vZ2V0SVNPV2Vla1llYXIubWpzXCI7XG5pbXBvcnQgeyBzdGFydE9mSVNPV2VlayB9IGZyb20gXCIuL3N0YXJ0T2ZJU09XZWVrLm1qc1wiO1xuaW1wb3J0IHsgY29uc3RydWN0RnJvbSB9IGZyb20gXCIuL2NvbnN0cnVjdEZyb20ubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgc3RhcnRPZklTT1dlZWtZZWFyXG4gKiBAY2F0ZWdvcnkgSVNPIFdlZWstTnVtYmVyaW5nIFllYXIgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBzdGFydCBvZiBhbiBJU08gd2Vlay1udW1iZXJpbmcgeWVhciBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIHN0YXJ0IG9mIGFuIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyLFxuICogd2hpY2ggYWx3YXlzIHN0YXJ0cyAzIGRheXMgYmVmb3JlIHRoZSB5ZWFyJ3MgZmlyc3QgVGh1cnNkYXkuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyOiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGVcbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBvcmlnaW5hbCBkYXRlXG4gKlxuICogQHJldHVybnMgVGhlIHN0YXJ0IG9mIGFuIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBzdGFydCBvZiBhbiBJU08gd2Vlay1udW1iZXJpbmcgeWVhciBmb3IgMiBKdWx5IDIwMDU6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mSVNPV2Vla1llYXIobmV3IERhdGUoMjAwNSwgNiwgMikpXG4gKiAvLz0+IE1vbiBKYW4gMDMgMjAwNSAwMDowMDowMFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZklTT1dlZWtZZWFyKGRhdGUpIHtcbiAgY29uc3QgeWVhciA9IGdldElTT1dlZWtZZWFyKGRhdGUpO1xuICBjb25zdCBmb3VydGhPZkphbnVhcnkgPSBjb25zdHJ1Y3RGcm9tKGRhdGUsIDApO1xuICBmb3VydGhPZkphbnVhcnkuc2V0RnVsbFllYXIoeWVhciwgMCwgNCk7XG4gIGZvdXJ0aE9mSmFudWFyeS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIHN0YXJ0T2ZJU09XZWVrKGZvdXJ0aE9mSmFudWFyeSk7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgc3RhcnRPZklTT1dlZWtZZWFyO1xuIiwgImltcG9ydCB7IGNvbnN0cnVjdEZyb20gfSBmcm9tIFwiLi9jb25zdHJ1Y3RGcm9tLm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGNvbnN0cnVjdE5vd1xuICogQGNhdGVnb3J5IEdlbmVyaWMgSGVscGVyc1xuICogQHN1bW1hcnkgQ29uc3RydWN0cyBhIG5ldyBjdXJyZW50IGRhdGUgdXNpbmcgdGhlIHBhc3NlZCB2YWx1ZSBjb25zdHJ1Y3Rvci5cbiAqIEBwdXJlIGZhbHNlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgZnVuY3Rpb24gY29uc3RydWN0cyBhIG5ldyBjdXJyZW50IGRhdGUgdXNpbmcgdGhlIGNvbnN0cnVjdG9yIGZyb21cbiAqIHRoZSByZWZlcmVuY2UgZGF0ZS4gSXQgaGVscHMgdG8gYnVpbGQgZ2VuZXJpYyBmdW5jdGlvbnMgdGhhdCBhY2NlcHQgZGF0ZVxuICogZXh0ZW5zaW9ucyBhbmQgdXNlIHRoZSBjdXJyZW50IGRhdGUuXG4gKlxuICogSXQgZGVmYXVsdHMgdG8gYERhdGVgIGlmIHRoZSBwYXNzZWQgcmVmZXJlbmNlIGRhdGUgaXMgYSBudW1iZXIgb3IgYSBzdHJpbmcuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgcmVmZXJlbmNlIGRhdGUgdG8gdGFrZSBjb25zdHJ1Y3RvciBmcm9tXG4gKlxuICogQHJldHVybnMgQ3VycmVudCBkYXRlIGluaXRpYWxpemVkIHVzaW5nIHRoZSBnaXZlbiBkYXRlIGNvbnN0cnVjdG9yXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IGNvbnN0cnVjdE5vdywgaXNTYW1lRGF5IH0gZnJvbSAnZGF0ZS1mbnMnXG4gKlxuICogZnVuY3Rpb24gaXNUb2RheTxEYXRlVHlwZSBleHRlbmRzIERhdGU+KFxuICogICBkYXRlOiBEYXRlVHlwZSB8IG51bWJlciB8IHN0cmluZyxcbiAqICk6IGJvb2xlYW4ge1xuICogICAvLyBJZiB3ZSB3ZXJlIHRvIHVzZSBgbmV3IERhdGUoKWAgZGlyZWN0bHksIHRoZSBmdW5jdGlvbiB3b3VsZCAgYmVoYXZlXG4gKiAgIC8vIGRpZmZlcmVudGx5IGluIGRpZmZlcmVudCB0aW1lem9uZXMgYW5kIHJldHVybiBmYWxzZSBmb3IgdGhlIHNhbWUgZGF0ZS5cbiAqICAgcmV0dXJuIGlzU2FtZURheShkYXRlLCBjb25zdHJ1Y3ROb3coZGF0ZSkpO1xuICogfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uc3RydWN0Tm93KGRhdGUpIHtcbiAgcmV0dXJuIGNvbnN0cnVjdEZyb20oZGF0ZSwgRGF0ZS5ub3coKSk7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgY29uc3RydWN0Tm93O1xuIiwgImltcG9ydCB7IHN0YXJ0T2ZEYXkgfSBmcm9tIFwiLi9zdGFydE9mRGF5Lm1qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGlzU2FtZURheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBBcmUgdGhlIGdpdmVuIGRhdGVzIGluIHRoZSBzYW1lIGRheSAoYW5kIHllYXIgYW5kIG1vbnRoKT9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgZGF5IChhbmQgeWVhciBhbmQgbW9udGgpP1xuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlTGVmdCAtIFRoZSBmaXJzdCBkYXRlIHRvIGNoZWNrXG4gKiBAcGFyYW0gZGF0ZVJpZ2h0IC0gVGhlIHNlY29uZCBkYXRlIHRvIGNoZWNrXG5cbiAqIEByZXR1cm5zIFRoZSBkYXRlcyBhcmUgaW4gdGhlIHNhbWUgZGF5IChhbmQgeWVhciBhbmQgbW9udGgpXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSA0IFNlcHRlbWJlciAwNjowMDowMCBhbmQgNCBTZXB0ZW1iZXIgMTg6MDA6MDAgaW4gdGhlIHNhbWUgZGF5P1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDQsIDYsIDApLCBuZXcgRGF0ZSgyMDE0LCA4LCA0LCAxOCwgMCkpXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDQgU2VwdGVtYmVyIGFuZCA0IE9jdG9iZXIgaW4gdGhlIHNhbWUgZGF5P1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDQpLCBuZXcgRGF0ZSgyMDE0LCA5LCA0KSlcbiAqIC8vPT4gZmFsc2VcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDQgU2VwdGVtYmVyLCAyMDE0IGFuZCA0IFNlcHRlbWJlciwgMjAxNSBpbiB0aGUgc2FtZSBkYXk/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVEYXkobmV3IERhdGUoMjAxNCwgOCwgNCksIG5ldyBEYXRlKDIwMTUsIDgsIDQpKVxuICogLy89PiBmYWxzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTYW1lRGF5KGRhdGVMZWZ0LCBkYXRlUmlnaHQpIHtcbiAgY29uc3QgZGF0ZUxlZnRTdGFydE9mRGF5ID0gc3RhcnRPZkRheShkYXRlTGVmdCk7XG4gIGNvbnN0IGRhdGVSaWdodFN0YXJ0T2ZEYXkgPSBzdGFydE9mRGF5KGRhdGVSaWdodCk7XG5cbiAgcmV0dXJuICtkYXRlTGVmdFN0YXJ0T2ZEYXkgPT09ICtkYXRlUmlnaHRTdGFydE9mRGF5O1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGlzU2FtZURheTtcbiIsICIvKipcbiAqIEBuYW1lIGlzRGF0ZVxuICogQGNhdGVnb3J5IENvbW1vbiBIZWxwZXJzXG4gKiBAc3VtbWFyeSBJcyB0aGUgZ2l2ZW4gdmFsdWUgYSBkYXRlP1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlLiBUaGUgZnVuY3Rpb24gd29ya3MgZm9yIGRhdGVzIHRyYW5zZmVycmVkIGFjcm9zcyBpZnJhbWVzLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVja1xuICpcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgZGF0ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBGb3IgYSB2YWxpZCBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gaXNEYXRlKG5ldyBEYXRlKCkpXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRm9yIGFuIGludmFsaWQgZGF0ZTpcbiAqIGNvbnN0IHJlc3VsdCA9IGlzRGF0ZShuZXcgRGF0ZShOYU4pKVxuICogLy89PiB0cnVlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEZvciBzb21lIHZhbHVlOlxuICogY29uc3QgcmVzdWx0ID0gaXNEYXRlKCcyMDE0LTAyLTMxJylcbiAqIC8vPT4gZmFsc2VcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRm9yIGFuIG9iamVjdDpcbiAqIGNvbnN0IHJlc3VsdCA9IGlzRGF0ZSh7fSlcbiAqIC8vPT4gZmFsc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0ZSh2YWx1ZSkge1xuICByZXR1cm4gKFxuICAgIHZhbHVlIGluc3RhbmNlb2YgRGF0ZSB8fFxuICAgICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBEYXRlXVwiKVxuICApO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGlzRGF0ZTtcbiIsICJpbXBvcnQgeyBpc0RhdGUgfSBmcm9tIFwiLi9pc0RhdGUubWpzXCI7XG5pbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgaXNWYWxpZFxuICogQGNhdGVnb3J5IENvbW1vbiBIZWxwZXJzXG4gKiBAc3VtbWFyeSBJcyB0aGUgZ2l2ZW4gZGF0ZSB2YWxpZD9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybnMgZmFsc2UgaWYgYXJndW1lbnQgaXMgSW52YWxpZCBEYXRlIGFuZCB0cnVlIG90aGVyd2lzZS5cbiAqIEFyZ3VtZW50IGlzIGNvbnZlcnRlZCB0byBEYXRlIHVzaW5nIGB0b0RhdGVgLiBTZWUgW3RvRGF0ZV0oaHR0cHM6Ly9kYXRlLWZucy5vcmcvZG9jcy90b0RhdGUpXG4gKiBJbnZhbGlkIERhdGUgaXMgYSBEYXRlLCB3aG9zZSB0aW1lIHZhbHVlIGlzIE5hTi5cbiAqXG4gKiBUaW1lIHZhbHVlIG9mIERhdGU6IGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTUuOS4xLjFcbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBkYXRlIHRvIGNoZWNrXG4gKlxuICogQHJldHVybnMgVGhlIGRhdGUgaXMgdmFsaWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRm9yIHRoZSB2YWxpZCBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gaXNWYWxpZChuZXcgRGF0ZSgyMDE0LCAxLCAzMSkpXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRm9yIHRoZSB2YWx1ZSwgY29udmVydGFibGUgaW50byBhIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSBpc1ZhbGlkKDEzOTM4MDQ4MDAwMDApXG4gKiAvLz0+IHRydWVcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gRm9yIHRoZSBpbnZhbGlkIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSBpc1ZhbGlkKG5ldyBEYXRlKCcnKSlcbiAqIC8vPT4gZmFsc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWQoZGF0ZSkge1xuICBpZiAoIWlzRGF0ZShkYXRlKSAmJiB0eXBlb2YgZGF0ZSAhPT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgcmV0dXJuICFpc05hTihOdW1iZXIoX2RhdGUpKTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBpc1ZhbGlkO1xuIiwgImltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBlbmRPZk1vbnRoXG4gKiBAY2F0ZWdvcnkgTW9udGggSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBlbmQgb2YgYSBtb250aCBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIGVuZCBvZiBhIG1vbnRoIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSByZXN1bHQgd2lsbCBiZSBpbiB0aGUgbG9jYWwgdGltZXpvbmUuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgb3JpZ2luYWwgZGF0ZVxuICpcbiAqIEByZXR1cm5zIFRoZSBlbmQgb2YgYSBtb250aFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgZW5kIG9mIGEgbW9udGggZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBlbmRPZk1vbnRoKG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IFR1ZSBTZXAgMzAgMjAxNCAyMzo1OTo1OS45OTlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZE9mTW9udGgoZGF0ZSkge1xuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgY29uc3QgbW9udGggPSBfZGF0ZS5nZXRNb250aCgpO1xuICBfZGF0ZS5zZXRGdWxsWWVhcihfZGF0ZS5nZXRGdWxsWWVhcigpLCBtb250aCArIDEsIDApO1xuICBfZGF0ZS5zZXRIb3VycygyMywgNTksIDU5LCA5OTkpO1xuICByZXR1cm4gX2RhdGU7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgZW5kT2ZNb250aDtcbiIsICJpbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5cbi8qKlxuICogVGhlIHtAbGluayBlYWNoRGF5T2ZJbnRlcnZhbH0gZnVuY3Rpb24gb3B0aW9ucy5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIGVhY2hEYXlPZkludGVydmFsXG4gKiBAY2F0ZWdvcnkgSW50ZXJ2YWwgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBhcnJheSBvZiBkYXRlcyB3aXRoaW4gdGhlIHNwZWNpZmllZCB0aW1lIGludGVydmFsLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBhcnJheSBvZiBkYXRlcyB3aXRoaW4gdGhlIHNwZWNpZmllZCB0aW1lIGludGVydmFsLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBpbnRlcnZhbCAtIFRoZSBpbnRlcnZhbC5cbiAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb2JqZWN0IHdpdGggb3B0aW9ucy5cbiAqXG4gKiBAcmV0dXJucyBUaGUgYXJyYXkgd2l0aCBzdGFydHMgb2YgZGF5cyBmcm9tIHRoZSBkYXkgb2YgdGhlIGludGVydmFsIHN0YXJ0IHRvIHRoZSBkYXkgb2YgdGhlIGludGVydmFsIGVuZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBFYWNoIGRheSBiZXR3ZWVuIDYgT2N0b2JlciAyMDE0IGFuZCAxMCBPY3RvYmVyIDIwMTQ6XG4gKiBjb25zdCByZXN1bHQgPSBlYWNoRGF5T2ZJbnRlcnZhbCh7XG4gKiAgIHN0YXJ0OiBuZXcgRGF0ZSgyMDE0LCA5LCA2KSxcbiAqICAgZW5kOiBuZXcgRGF0ZSgyMDE0LCA5LCAxMClcbiAqIH0pXG4gKiAvLz0+IFtcbiAqIC8vICAgTW9uIE9jdCAwNiAyMDE0IDAwOjAwOjAwLFxuICogLy8gICBUdWUgT2N0IDA3IDIwMTQgMDA6MDA6MDAsXG4gKiAvLyAgIFdlZCBPY3QgMDggMjAxNCAwMDowMDowMCxcbiAqIC8vICAgVGh1IE9jdCAwOSAyMDE0IDAwOjAwOjAwLFxuICogLy8gICBGcmkgT2N0IDEwIDIwMTQgMDA6MDA6MDBcbiAqIC8vIF1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVhY2hEYXlPZkludGVydmFsKGludGVydmFsLCBvcHRpb25zKSB7XG4gIGNvbnN0IHN0YXJ0RGF0ZSA9IHRvRGF0ZShpbnRlcnZhbC5zdGFydCk7XG4gIGNvbnN0IGVuZERhdGUgPSB0b0RhdGUoaW50ZXJ2YWwuZW5kKTtcblxuICBsZXQgcmV2ZXJzZWQgPSArc3RhcnREYXRlID4gK2VuZERhdGU7XG4gIGNvbnN0IGVuZFRpbWUgPSByZXZlcnNlZCA/ICtzdGFydERhdGUgOiArZW5kRGF0ZTtcbiAgY29uc3QgY3VycmVudERhdGUgPSByZXZlcnNlZCA/IGVuZERhdGUgOiBzdGFydERhdGU7XG4gIGN1cnJlbnREYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuXG4gIGxldCBzdGVwID0gb3B0aW9ucz8uc3RlcCA/PyAxO1xuICBpZiAoIXN0ZXApIHJldHVybiBbXTtcbiAgaWYgKHN0ZXAgPCAwKSB7XG4gICAgc3RlcCA9IC1zdGVwO1xuICAgIHJldmVyc2VkID0gIXJldmVyc2VkO1xuICB9XG5cbiAgY29uc3QgZGF0ZXMgPSBbXTtcblxuICB3aGlsZSAoK2N1cnJlbnREYXRlIDw9IGVuZFRpbWUpIHtcbiAgICBkYXRlcy5wdXNoKHRvRGF0ZShjdXJyZW50RGF0ZSkpO1xuICAgIGN1cnJlbnREYXRlLnNldERhdGUoY3VycmVudERhdGUuZ2V0RGF0ZSgpICsgc3RlcCk7XG4gICAgY3VycmVudERhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIH1cblxuICByZXR1cm4gcmV2ZXJzZWQgPyBkYXRlcy5yZXZlcnNlKCkgOiBkYXRlcztcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBlYWNoRGF5T2ZJbnRlcnZhbDtcbiIsICJpbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgc3RhcnRPZk1vbnRoXG4gKiBAY2F0ZWdvcnkgTW9udGggSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBzdGFydCBvZiBhIG1vbnRoIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSBtb250aCBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIG9yaWdpbmFsIGRhdGVcbiAqXG4gKiBAcmV0dXJucyBUaGUgc3RhcnQgb2YgYSBtb250aFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYSBtb250aCBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZNb250aChuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApKVxuICogLy89PiBNb24gU2VwIDAxIDIwMTQgMDA6MDA6MDBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0T2ZNb250aChkYXRlKSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICBfZGF0ZS5zZXREYXRlKDEpO1xuICBfZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIF9kYXRlO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IHN0YXJ0T2ZNb250aDtcbiIsICJpbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5pbXBvcnQgeyBjb25zdHJ1Y3RGcm9tIH0gZnJvbSBcIi4vY29uc3RydWN0RnJvbS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBzdGFydE9mWWVhclxuICogQGNhdGVnb3J5IFllYXIgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBzdGFydCBvZiBhIHllYXIgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhIHllYXIgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBvcmlnaW5hbCBkYXRlXG4gKlxuICogQHJldHVybnMgVGhlIHN0YXJ0IG9mIGEgeWVhclxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYSB5ZWFyIGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZlllYXIobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwMCkpXG4gKiAvLz0+IFdlZCBKYW4gMDEgMjAxNCAwMDowMDowMFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZlllYXIoZGF0ZSkge1xuICBjb25zdCBjbGVhbkRhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIGNvbnN0IF9kYXRlID0gY29uc3RydWN0RnJvbShkYXRlLCAwKTtcbiAgX2RhdGUuc2V0RnVsbFllYXIoY2xlYW5EYXRlLmdldEZ1bGxZZWFyKCksIDAsIDEpO1xuICBfZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIF9kYXRlO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IHN0YXJ0T2ZZZWFyO1xuIiwgImltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcbmltcG9ydCB7IGdldERlZmF1bHRPcHRpb25zIH0gZnJvbSBcIi4vX2xpYi9kZWZhdWx0T3B0aW9ucy5tanNcIjtcblxuLyoqXG4gKiBUaGUge0BsaW5rIGVuZE9mV2Vla30gZnVuY3Rpb24gb3B0aW9ucy5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIGVuZE9mV2Vla1xuICogQGNhdGVnb3J5IFdlZWsgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBlbmQgb2YgYSB3ZWVrIGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgZW5kIG9mIGEgd2VlayBmb3IgdGhlIGdpdmVuIGRhdGUuXG4gKiBUaGUgcmVzdWx0IHdpbGwgYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIG9yaWdpbmFsIGRhdGVcbiAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb2JqZWN0IHdpdGggb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIFRoZSBlbmQgb2YgYSB3ZWVrXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFRoZSBlbmQgb2YgYSB3ZWVrIGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gZW5kT2ZXZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IFNhdCBTZXAgMDYgMjAxNCAyMzo1OTo1OS45OTlcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgdGhlIHdlZWsgc3RhcnRzIG9uIE1vbmRheSwgdGhlIGVuZCBvZiB0aGUgd2VlayBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IGVuZE9mV2VlayhuZXcgRGF0ZSgyMDE0LCA4LCAyLCAxMSwgNTUsIDApLCB7IHdlZWtTdGFydHNPbjogMSB9KVxuICogLy89PiBTdW4gU2VwIDA3IDIwMTQgMjM6NTk6NTkuOTk5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRPZldlZWsoZGF0ZSwgb3B0aW9ucykge1xuICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zKCk7XG4gIGNvbnN0IHdlZWtTdGFydHNPbiA9XG4gICAgb3B0aW9ucz8ud2Vla1N0YXJ0c09uID8/XG4gICAgb3B0aW9ucz8ubG9jYWxlPy5vcHRpb25zPy53ZWVrU3RhcnRzT24gPz9cbiAgICBkZWZhdWx0T3B0aW9ucy53ZWVrU3RhcnRzT24gPz9cbiAgICBkZWZhdWx0T3B0aW9ucy5sb2NhbGU/Lm9wdGlvbnM/LndlZWtTdGFydHNPbiA/P1xuICAgIDA7XG5cbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIGNvbnN0IGRheSA9IF9kYXRlLmdldERheSgpO1xuICBjb25zdCBkaWZmID0gKGRheSA8IHdlZWtTdGFydHNPbiA/IC03IDogMCkgKyA2IC0gKGRheSAtIHdlZWtTdGFydHNPbik7XG5cbiAgX2RhdGUuc2V0RGF0ZShfZGF0ZS5nZXREYXRlKCkgKyBkaWZmKTtcbiAgX2RhdGUuc2V0SG91cnMoMjMsIDU5LCA1OSwgOTk5KTtcbiAgcmV0dXJuIF9kYXRlO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGVuZE9mV2VlaztcbiIsICJjb25zdCBmb3JtYXREaXN0YW5jZUxvY2FsZSA9IHtcbiAgbGVzc1RoYW5YU2Vjb25kczoge1xuICAgIG9uZTogXCJsZXNzIHRoYW4gYSBzZWNvbmRcIixcbiAgICBvdGhlcjogXCJsZXNzIHRoYW4ge3tjb3VudH19IHNlY29uZHNcIixcbiAgfSxcblxuICB4U2Vjb25kczoge1xuICAgIG9uZTogXCIxIHNlY29uZFwiLFxuICAgIG90aGVyOiBcInt7Y291bnR9fSBzZWNvbmRzXCIsXG4gIH0sXG5cbiAgaGFsZkFNaW51dGU6IFwiaGFsZiBhIG1pbnV0ZVwiLFxuXG4gIGxlc3NUaGFuWE1pbnV0ZXM6IHtcbiAgICBvbmU6IFwibGVzcyB0aGFuIGEgbWludXRlXCIsXG4gICAgb3RoZXI6IFwibGVzcyB0aGFuIHt7Y291bnR9fSBtaW51dGVzXCIsXG4gIH0sXG5cbiAgeE1pbnV0ZXM6IHtcbiAgICBvbmU6IFwiMSBtaW51dGVcIixcbiAgICBvdGhlcjogXCJ7e2NvdW50fX0gbWludXRlc1wiLFxuICB9LFxuXG4gIGFib3V0WEhvdXJzOiB7XG4gICAgb25lOiBcImFib3V0IDEgaG91clwiLFxuICAgIG90aGVyOiBcImFib3V0IHt7Y291bnR9fSBob3Vyc1wiLFxuICB9LFxuXG4gIHhIb3Vyczoge1xuICAgIG9uZTogXCIxIGhvdXJcIixcbiAgICBvdGhlcjogXCJ7e2NvdW50fX0gaG91cnNcIixcbiAgfSxcblxuICB4RGF5czoge1xuICAgIG9uZTogXCIxIGRheVwiLFxuICAgIG90aGVyOiBcInt7Y291bnR9fSBkYXlzXCIsXG4gIH0sXG5cbiAgYWJvdXRYV2Vla3M6IHtcbiAgICBvbmU6IFwiYWJvdXQgMSB3ZWVrXCIsXG4gICAgb3RoZXI6IFwiYWJvdXQge3tjb3VudH19IHdlZWtzXCIsXG4gIH0sXG5cbiAgeFdlZWtzOiB7XG4gICAgb25lOiBcIjEgd2Vla1wiLFxuICAgIG90aGVyOiBcInt7Y291bnR9fSB3ZWVrc1wiLFxuICB9LFxuXG4gIGFib3V0WE1vbnRoczoge1xuICAgIG9uZTogXCJhYm91dCAxIG1vbnRoXCIsXG4gICAgb3RoZXI6IFwiYWJvdXQge3tjb3VudH19IG1vbnRoc1wiLFxuICB9LFxuXG4gIHhNb250aHM6IHtcbiAgICBvbmU6IFwiMSBtb250aFwiLFxuICAgIG90aGVyOiBcInt7Y291bnR9fSBtb250aHNcIixcbiAgfSxcblxuICBhYm91dFhZZWFyczoge1xuICAgIG9uZTogXCJhYm91dCAxIHllYXJcIixcbiAgICBvdGhlcjogXCJhYm91dCB7e2NvdW50fX0geWVhcnNcIixcbiAgfSxcblxuICB4WWVhcnM6IHtcbiAgICBvbmU6IFwiMSB5ZWFyXCIsXG4gICAgb3RoZXI6IFwie3tjb3VudH19IHllYXJzXCIsXG4gIH0sXG5cbiAgb3ZlclhZZWFyczoge1xuICAgIG9uZTogXCJvdmVyIDEgeWVhclwiLFxuICAgIG90aGVyOiBcIm92ZXIge3tjb3VudH19IHllYXJzXCIsXG4gIH0sXG5cbiAgYWxtb3N0WFllYXJzOiB7XG4gICAgb25lOiBcImFsbW9zdCAxIHllYXJcIixcbiAgICBvdGhlcjogXCJhbG1vc3Qge3tjb3VudH19IHllYXJzXCIsXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgZm9ybWF0RGlzdGFuY2UgPSAodG9rZW4sIGNvdW50LCBvcHRpb25zKSA9PiB7XG4gIGxldCByZXN1bHQ7XG5cbiAgY29uc3QgdG9rZW5WYWx1ZSA9IGZvcm1hdERpc3RhbmNlTG9jYWxlW3Rva2VuXTtcbiAgaWYgKHR5cGVvZiB0b2tlblZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmVzdWx0ID0gdG9rZW5WYWx1ZTtcbiAgfSBlbHNlIGlmIChjb3VudCA9PT0gMSkge1xuICAgIHJlc3VsdCA9IHRva2VuVmFsdWUub25lO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9IHRva2VuVmFsdWUub3RoZXIucmVwbGFjZShcInt7Y291bnR9fVwiLCBjb3VudC50b1N0cmluZygpKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zPy5hZGRTdWZmaXgpIHtcbiAgICBpZiAob3B0aW9ucy5jb21wYXJpc29uICYmIG9wdGlvbnMuY29tcGFyaXNvbiA+IDApIHtcbiAgICAgIHJldHVybiBcImluIFwiICsgcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgXCIgYWdvXCI7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkRm9ybWF0TG9uZ0ZuKGFyZ3MpIHtcbiAgcmV0dXJuIChvcHRpb25zID0ge30pID0+IHtcbiAgICAvLyBUT0RPOiBSZW1vdmUgU3RyaW5nKClcbiAgICBjb25zdCB3aWR0aCA9IG9wdGlvbnMud2lkdGggPyBTdHJpbmcob3B0aW9ucy53aWR0aCkgOiBhcmdzLmRlZmF1bHRXaWR0aDtcbiAgICBjb25zdCBmb3JtYXQgPSBhcmdzLmZvcm1hdHNbd2lkdGhdIHx8IGFyZ3MuZm9ybWF0c1thcmdzLmRlZmF1bHRXaWR0aF07XG4gICAgcmV0dXJuIGZvcm1hdDtcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBidWlsZEZvcm1hdExvbmdGbiB9IGZyb20gXCIuLi8uLi9fbGliL2J1aWxkRm9ybWF0TG9uZ0ZuLm1qc1wiO1xuXG5jb25zdCBkYXRlRm9ybWF0cyA9IHtcbiAgZnVsbDogXCJFRUVFLCBNTU1NIGRvLCB5XCIsXG4gIGxvbmc6IFwiTU1NTSBkbywgeVwiLFxuICBtZWRpdW06IFwiTU1NIGQsIHlcIixcbiAgc2hvcnQ6IFwiTU0vZGQveXl5eVwiLFxufTtcblxuY29uc3QgdGltZUZvcm1hdHMgPSB7XG4gIGZ1bGw6IFwiaDptbTpzcyBhIHp6enpcIixcbiAgbG9uZzogXCJoOm1tOnNzIGEgelwiLFxuICBtZWRpdW06IFwiaDptbTpzcyBhXCIsXG4gIHNob3J0OiBcImg6bW0gYVwiLFxufTtcblxuY29uc3QgZGF0ZVRpbWVGb3JtYXRzID0ge1xuICBmdWxsOiBcInt7ZGF0ZX19ICdhdCcge3t0aW1lfX1cIixcbiAgbG9uZzogXCJ7e2RhdGV9fSAnYXQnIHt7dGltZX19XCIsXG4gIG1lZGl1bTogXCJ7e2RhdGV9fSwge3t0aW1lfX1cIixcbiAgc2hvcnQ6IFwie3tkYXRlfX0sIHt7dGltZX19XCIsXG59O1xuXG5leHBvcnQgY29uc3QgZm9ybWF0TG9uZyA9IHtcbiAgZGF0ZTogYnVpbGRGb3JtYXRMb25nRm4oe1xuICAgIGZvcm1hdHM6IGRhdGVGb3JtYXRzLFxuICAgIGRlZmF1bHRXaWR0aDogXCJmdWxsXCIsXG4gIH0pLFxuXG4gIHRpbWU6IGJ1aWxkRm9ybWF0TG9uZ0ZuKHtcbiAgICBmb3JtYXRzOiB0aW1lRm9ybWF0cyxcbiAgICBkZWZhdWx0V2lkdGg6IFwiZnVsbFwiLFxuICB9KSxcblxuICBkYXRlVGltZTogYnVpbGRGb3JtYXRMb25nRm4oe1xuICAgIGZvcm1hdHM6IGRhdGVUaW1lRm9ybWF0cyxcbiAgICBkZWZhdWx0V2lkdGg6IFwiZnVsbFwiLFxuICB9KSxcbn07XG4iLCAiY29uc3QgZm9ybWF0UmVsYXRpdmVMb2NhbGUgPSB7XG4gIGxhc3RXZWVrOiBcIidsYXN0JyBlZWVlICdhdCcgcFwiLFxuICB5ZXN0ZXJkYXk6IFwiJ3llc3RlcmRheSBhdCcgcFwiLFxuICB0b2RheTogXCIndG9kYXkgYXQnIHBcIixcbiAgdG9tb3Jyb3c6IFwiJ3RvbW9ycm93IGF0JyBwXCIsXG4gIG5leHRXZWVrOiBcImVlZWUgJ2F0JyBwXCIsXG4gIG90aGVyOiBcIlBcIixcbn07XG5cbmV4cG9ydCBjb25zdCBmb3JtYXRSZWxhdGl2ZSA9ICh0b2tlbiwgX2RhdGUsIF9iYXNlRGF0ZSwgX29wdGlvbnMpID0+XG4gIGZvcm1hdFJlbGF0aXZlTG9jYWxlW3Rva2VuXTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuXG4vKipcbiAqIFRoZSBsb2NhbGl6ZSBmdW5jdGlvbiBhcmd1bWVudCBjYWxsYmFjayB3aGljaCBhbGxvd3MgdG8gY29udmVydCByYXcgdmFsdWUgdG9cbiAqIHRoZSBhY3R1YWwgdHlwZS5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY29udmVydFxuICpcbiAqIEByZXR1cm5zIFRoZSBjb252ZXJ0ZWQgdmFsdWVcbiAqL1xuXG4vKipcbiAqIFRoZSBtYXAgb2YgbG9jYWxpemVkIHZhbHVlcyBmb3IgZWFjaCB3aWR0aC5cbiAqL1xuXG4vKipcbiAqIFRoZSBpbmRleCB0eXBlIG9mIHRoZSBsb2NhbGUgdW5pdCB2YWx1ZS4gSXQgdHlwZXMgY29udmVyc2lvbiBvZiB1bml0cyBvZlxuICogdmFsdWVzIHRoYXQgZG9uJ3Qgc3RhcnQgYXQgMCAoaS5lLiBxdWFydGVycykuXG4gKi9cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgdW5pdCB2YWx1ZSB0byB0aGUgdHVwbGUgb2YgdmFsdWVzLlxuICovXG5cbi8qKlxuICogVGhlIHR1cGxlIG9mIGxvY2FsaXplZCBlcmEgdmFsdWVzLiBUaGUgZmlyc3QgZWxlbWVudCByZXByZXNlbnRzIEJDLFxuICogdGhlIHNlY29uZCBlbGVtZW50IHJlcHJlc2VudHMgQUQuXG4gKi9cblxuLyoqXG4gKiBUaGUgdHVwbGUgb2YgbG9jYWxpemVkIHF1YXJ0ZXIgdmFsdWVzLiBUaGUgZmlyc3QgZWxlbWVudCByZXByZXNlbnRzIFExLlxuICovXG5cbi8qKlxuICogVGhlIHR1cGxlIG9mIGxvY2FsaXplZCBkYXkgdmFsdWVzLiBUaGUgZmlyc3QgZWxlbWVudCByZXByZXNlbnRzIFN1bmRheS5cbiAqL1xuXG4vKipcbiAqIFRoZSB0dXBsZSBvZiBsb2NhbGl6ZWQgbW9udGggdmFsdWVzLiBUaGUgZmlyc3QgZWxlbWVudCByZXByZXNlbnRzIEphbnVhcnkuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTG9jYWxpemVGbihhcmdzKSB7XG4gIHJldHVybiAodmFsdWUsIG9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gb3B0aW9ucz8uY29udGV4dCA/IFN0cmluZyhvcHRpb25zLmNvbnRleHQpIDogXCJzdGFuZGFsb25lXCI7XG5cbiAgICBsZXQgdmFsdWVzQXJyYXk7XG4gICAgaWYgKGNvbnRleHQgPT09IFwiZm9ybWF0dGluZ1wiICYmIGFyZ3MuZm9ybWF0dGluZ1ZhbHVlcykge1xuICAgICAgY29uc3QgZGVmYXVsdFdpZHRoID0gYXJncy5kZWZhdWx0Rm9ybWF0dGluZ1dpZHRoIHx8IGFyZ3MuZGVmYXVsdFdpZHRoO1xuICAgICAgY29uc3Qgd2lkdGggPSBvcHRpb25zPy53aWR0aCA/IFN0cmluZyhvcHRpb25zLndpZHRoKSA6IGRlZmF1bHRXaWR0aDtcblxuICAgICAgdmFsdWVzQXJyYXkgPVxuICAgICAgICBhcmdzLmZvcm1hdHRpbmdWYWx1ZXNbd2lkdGhdIHx8IGFyZ3MuZm9ybWF0dGluZ1ZhbHVlc1tkZWZhdWx0V2lkdGhdO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkZWZhdWx0V2lkdGggPSBhcmdzLmRlZmF1bHRXaWR0aDtcbiAgICAgIGNvbnN0IHdpZHRoID0gb3B0aW9ucz8ud2lkdGggPyBTdHJpbmcob3B0aW9ucy53aWR0aCkgOiBhcmdzLmRlZmF1bHRXaWR0aDtcblxuICAgICAgdmFsdWVzQXJyYXkgPSBhcmdzLnZhbHVlc1t3aWR0aF0gfHwgYXJncy52YWx1ZXNbZGVmYXVsdFdpZHRoXTtcbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSBhcmdzLmFyZ3VtZW50Q2FsbGJhY2sgPyBhcmdzLmFyZ3VtZW50Q2FsbGJhY2sodmFsdWUpIDogdmFsdWU7XG5cbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gRm9yIHNvbWUgcmVhc29uIFR5cGVTY3JpcHQganVzdCBkb24ndCB3YW50IHRvIG1hdGNoIGl0LCBubyBtYXR0ZXIgaG93IGhhcmQgd2UgdHJ5LiBJIGNoYWxsZW5nZSB5b3UgdG8gdHJ5IHRvIHJlbW92ZSBpdCFcbiAgICByZXR1cm4gdmFsdWVzQXJyYXlbaW5kZXhdO1xuICB9O1xufVxuIiwgImltcG9ydCB7IGJ1aWxkTG9jYWxpemVGbiB9IGZyb20gXCIuLi8uLi9fbGliL2J1aWxkTG9jYWxpemVGbi5tanNcIjtcblxuY29uc3QgZXJhVmFsdWVzID0ge1xuICBuYXJyb3c6IFtcIkJcIiwgXCJBXCJdLFxuICBhYmJyZXZpYXRlZDogW1wiQkNcIiwgXCJBRFwiXSxcbiAgd2lkZTogW1wiQmVmb3JlIENocmlzdFwiLCBcIkFubm8gRG9taW5pXCJdLFxufTtcblxuY29uc3QgcXVhcnRlclZhbHVlcyA9IHtcbiAgbmFycm93OiBbXCIxXCIsIFwiMlwiLCBcIjNcIiwgXCI0XCJdLFxuICBhYmJyZXZpYXRlZDogW1wiUTFcIiwgXCJRMlwiLCBcIlEzXCIsIFwiUTRcIl0sXG4gIHdpZGU6IFtcIjFzdCBxdWFydGVyXCIsIFwiMm5kIHF1YXJ0ZXJcIiwgXCIzcmQgcXVhcnRlclwiLCBcIjR0aCBxdWFydGVyXCJdLFxufTtcblxuLy8gTm90ZTogaW4gRW5nbGlzaCwgdGhlIG5hbWVzIG9mIGRheXMgb2YgdGhlIHdlZWsgYW5kIG1vbnRocyBhcmUgY2FwaXRhbGl6ZWQuXG4vLyBJZiB5b3UgYXJlIG1ha2luZyBhIG5ldyBsb2NhbGUgYmFzZWQgb24gdGhpcyBvbmUsIGNoZWNrIGlmIHRoZSBzYW1lIGlzIHRydWUgZm9yIHRoZSBsYW5ndWFnZSB5b3UncmUgd29ya2luZyBvbi5cbi8vIEdlbmVyYWxseSwgZm9ybWF0dGVkIGRhdGVzIHNob3VsZCBsb29rIGxpa2UgdGhleSBhcmUgaW4gdGhlIG1pZGRsZSBvZiBhIHNlbnRlbmNlLFxuLy8gZS5nLiBpbiBTcGFuaXNoIGxhbmd1YWdlIHRoZSB3ZWVrZGF5cyBhbmQgbW9udGhzIHNob3VsZCBiZSBpbiB0aGUgbG93ZXJjYXNlLlxuY29uc3QgbW9udGhWYWx1ZXMgPSB7XG4gIG5hcnJvdzogW1wiSlwiLCBcIkZcIiwgXCJNXCIsIFwiQVwiLCBcIk1cIiwgXCJKXCIsIFwiSlwiLCBcIkFcIiwgXCJTXCIsIFwiT1wiLCBcIk5cIiwgXCJEXCJdLFxuICBhYmJyZXZpYXRlZDogW1xuICAgIFwiSmFuXCIsXG4gICAgXCJGZWJcIixcbiAgICBcIk1hclwiLFxuICAgIFwiQXByXCIsXG4gICAgXCJNYXlcIixcbiAgICBcIkp1blwiLFxuICAgIFwiSnVsXCIsXG4gICAgXCJBdWdcIixcbiAgICBcIlNlcFwiLFxuICAgIFwiT2N0XCIsXG4gICAgXCJOb3ZcIixcbiAgICBcIkRlY1wiLFxuICBdLFxuXG4gIHdpZGU6IFtcbiAgICBcIkphbnVhcnlcIixcbiAgICBcIkZlYnJ1YXJ5XCIsXG4gICAgXCJNYXJjaFwiLFxuICAgIFwiQXByaWxcIixcbiAgICBcIk1heVwiLFxuICAgIFwiSnVuZVwiLFxuICAgIFwiSnVseVwiLFxuICAgIFwiQXVndXN0XCIsXG4gICAgXCJTZXB0ZW1iZXJcIixcbiAgICBcIk9jdG9iZXJcIixcbiAgICBcIk5vdmVtYmVyXCIsXG4gICAgXCJEZWNlbWJlclwiLFxuICBdLFxufTtcblxuY29uc3QgZGF5VmFsdWVzID0ge1xuICBuYXJyb3c6IFtcIlNcIiwgXCJNXCIsIFwiVFwiLCBcIldcIiwgXCJUXCIsIFwiRlwiLCBcIlNcIl0sXG4gIHNob3J0OiBbXCJTdVwiLCBcIk1vXCIsIFwiVHVcIiwgXCJXZVwiLCBcIlRoXCIsIFwiRnJcIiwgXCJTYVwiXSxcbiAgYWJicmV2aWF0ZWQ6IFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXSxcbiAgd2lkZTogW1xuICAgIFwiU3VuZGF5XCIsXG4gICAgXCJNb25kYXlcIixcbiAgICBcIlR1ZXNkYXlcIixcbiAgICBcIldlZG5lc2RheVwiLFxuICAgIFwiVGh1cnNkYXlcIixcbiAgICBcIkZyaWRheVwiLFxuICAgIFwiU2F0dXJkYXlcIixcbiAgXSxcbn07XG5cbmNvbnN0IGRheVBlcmlvZFZhbHVlcyA9IHtcbiAgbmFycm93OiB7XG4gICAgYW06IFwiYVwiLFxuICAgIHBtOiBcInBcIixcbiAgICBtaWRuaWdodDogXCJtaVwiLFxuICAgIG5vb246IFwiblwiLFxuICAgIG1vcm5pbmc6IFwibW9ybmluZ1wiLFxuICAgIGFmdGVybm9vbjogXCJhZnRlcm5vb25cIixcbiAgICBldmVuaW5nOiBcImV2ZW5pbmdcIixcbiAgICBuaWdodDogXCJuaWdodFwiLFxuICB9LFxuICBhYmJyZXZpYXRlZDoge1xuICAgIGFtOiBcIkFNXCIsXG4gICAgcG06IFwiUE1cIixcbiAgICBtaWRuaWdodDogXCJtaWRuaWdodFwiLFxuICAgIG5vb246IFwibm9vblwiLFxuICAgIG1vcm5pbmc6IFwibW9ybmluZ1wiLFxuICAgIGFmdGVybm9vbjogXCJhZnRlcm5vb25cIixcbiAgICBldmVuaW5nOiBcImV2ZW5pbmdcIixcbiAgICBuaWdodDogXCJuaWdodFwiLFxuICB9LFxuICB3aWRlOiB7XG4gICAgYW06IFwiYS5tLlwiLFxuICAgIHBtOiBcInAubS5cIixcbiAgICBtaWRuaWdodDogXCJtaWRuaWdodFwiLFxuICAgIG5vb246IFwibm9vblwiLFxuICAgIG1vcm5pbmc6IFwibW9ybmluZ1wiLFxuICAgIGFmdGVybm9vbjogXCJhZnRlcm5vb25cIixcbiAgICBldmVuaW5nOiBcImV2ZW5pbmdcIixcbiAgICBuaWdodDogXCJuaWdodFwiLFxuICB9LFxufTtcblxuY29uc3QgZm9ybWF0dGluZ0RheVBlcmlvZFZhbHVlcyA9IHtcbiAgbmFycm93OiB7XG4gICAgYW06IFwiYVwiLFxuICAgIHBtOiBcInBcIixcbiAgICBtaWRuaWdodDogXCJtaVwiLFxuICAgIG5vb246IFwiblwiLFxuICAgIG1vcm5pbmc6IFwiaW4gdGhlIG1vcm5pbmdcIixcbiAgICBhZnRlcm5vb246IFwiaW4gdGhlIGFmdGVybm9vblwiLFxuICAgIGV2ZW5pbmc6IFwiaW4gdGhlIGV2ZW5pbmdcIixcbiAgICBuaWdodDogXCJhdCBuaWdodFwiLFxuICB9LFxuICBhYmJyZXZpYXRlZDoge1xuICAgIGFtOiBcIkFNXCIsXG4gICAgcG06IFwiUE1cIixcbiAgICBtaWRuaWdodDogXCJtaWRuaWdodFwiLFxuICAgIG5vb246IFwibm9vblwiLFxuICAgIG1vcm5pbmc6IFwiaW4gdGhlIG1vcm5pbmdcIixcbiAgICBhZnRlcm5vb246IFwiaW4gdGhlIGFmdGVybm9vblwiLFxuICAgIGV2ZW5pbmc6IFwiaW4gdGhlIGV2ZW5pbmdcIixcbiAgICBuaWdodDogXCJhdCBuaWdodFwiLFxuICB9LFxuICB3aWRlOiB7XG4gICAgYW06IFwiYS5tLlwiLFxuICAgIHBtOiBcInAubS5cIixcbiAgICBtaWRuaWdodDogXCJtaWRuaWdodFwiLFxuICAgIG5vb246IFwibm9vblwiLFxuICAgIG1vcm5pbmc6IFwiaW4gdGhlIG1vcm5pbmdcIixcbiAgICBhZnRlcm5vb246IFwiaW4gdGhlIGFmdGVybm9vblwiLFxuICAgIGV2ZW5pbmc6IFwiaW4gdGhlIGV2ZW5pbmdcIixcbiAgICBuaWdodDogXCJhdCBuaWdodFwiLFxuICB9LFxufTtcblxuY29uc3Qgb3JkaW5hbE51bWJlciA9IChkaXJ0eU51bWJlciwgX29wdGlvbnMpID0+IHtcbiAgY29uc3QgbnVtYmVyID0gTnVtYmVyKGRpcnR5TnVtYmVyKTtcblxuICAvLyBJZiBvcmRpbmFsIG51bWJlcnMgZGVwZW5kIG9uIGNvbnRleHQsIGZvciBleGFtcGxlLFxuICAvLyBpZiB0aGV5IGFyZSBkaWZmZXJlbnQgZm9yIGRpZmZlcmVudCBncmFtbWF0aWNhbCBnZW5kZXJzLFxuICAvLyB1c2UgYG9wdGlvbnMudW5pdGAuXG4gIC8vXG4gIC8vIGB1bml0YCBjYW4gYmUgJ3llYXInLCAncXVhcnRlcicsICdtb250aCcsICd3ZWVrJywgJ2RhdGUnLCAnZGF5T2ZZZWFyJyxcbiAgLy8gJ2RheScsICdob3VyJywgJ21pbnV0ZScsICdzZWNvbmQnLlxuXG4gIGNvbnN0IHJlbTEwMCA9IG51bWJlciAlIDEwMDtcbiAgaWYgKHJlbTEwMCA+IDIwIHx8IHJlbTEwMCA8IDEwKSB7XG4gICAgc3dpdGNoIChyZW0xMDAgJSAxMCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICByZXR1cm4gbnVtYmVyICsgXCJzdFwiO1xuICAgICAgY2FzZSAyOlxuICAgICAgICByZXR1cm4gbnVtYmVyICsgXCJuZFwiO1xuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gbnVtYmVyICsgXCJyZFwiO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVtYmVyICsgXCJ0aFwiO1xufTtcblxuZXhwb3J0IGNvbnN0IGxvY2FsaXplID0ge1xuICBvcmRpbmFsTnVtYmVyLFxuXG4gIGVyYTogYnVpbGRMb2NhbGl6ZUZuKHtcbiAgICB2YWx1ZXM6IGVyYVZhbHVlcyxcbiAgICBkZWZhdWx0V2lkdGg6IFwid2lkZVwiLFxuICB9KSxcblxuICBxdWFydGVyOiBidWlsZExvY2FsaXplRm4oe1xuICAgIHZhbHVlczogcXVhcnRlclZhbHVlcyxcbiAgICBkZWZhdWx0V2lkdGg6IFwid2lkZVwiLFxuICAgIGFyZ3VtZW50Q2FsbGJhY2s6IChxdWFydGVyKSA9PiBxdWFydGVyIC0gMSxcbiAgfSksXG5cbiAgbW9udGg6IGJ1aWxkTG9jYWxpemVGbih7XG4gICAgdmFsdWVzOiBtb250aFZhbHVlcyxcbiAgICBkZWZhdWx0V2lkdGg6IFwid2lkZVwiLFxuICB9KSxcblxuICBkYXk6IGJ1aWxkTG9jYWxpemVGbih7XG4gICAgdmFsdWVzOiBkYXlWYWx1ZXMsXG4gICAgZGVmYXVsdFdpZHRoOiBcIndpZGVcIixcbiAgfSksXG5cbiAgZGF5UGVyaW9kOiBidWlsZExvY2FsaXplRm4oe1xuICAgIHZhbHVlczogZGF5UGVyaW9kVmFsdWVzLFxuICAgIGRlZmF1bHRXaWR0aDogXCJ3aWRlXCIsXG4gICAgZm9ybWF0dGluZ1ZhbHVlczogZm9ybWF0dGluZ0RheVBlcmlvZFZhbHVlcyxcbiAgICBkZWZhdWx0Rm9ybWF0dGluZ1dpZHRoOiBcIndpZGVcIixcbiAgfSksXG59O1xuIiwgImV4cG9ydCBmdW5jdGlvbiBidWlsZE1hdGNoRm4oYXJncykge1xuICByZXR1cm4gKHN0cmluZywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgY29uc3Qgd2lkdGggPSBvcHRpb25zLndpZHRoO1xuXG4gICAgY29uc3QgbWF0Y2hQYXR0ZXJuID1cbiAgICAgICh3aWR0aCAmJiBhcmdzLm1hdGNoUGF0dGVybnNbd2lkdGhdKSB8fFxuICAgICAgYXJncy5tYXRjaFBhdHRlcm5zW2FyZ3MuZGVmYXVsdE1hdGNoV2lkdGhdO1xuICAgIGNvbnN0IG1hdGNoUmVzdWx0ID0gc3RyaW5nLm1hdGNoKG1hdGNoUGF0dGVybik7XG5cbiAgICBpZiAoIW1hdGNoUmVzdWx0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgbWF0Y2hlZFN0cmluZyA9IG1hdGNoUmVzdWx0WzBdO1xuXG4gICAgY29uc3QgcGFyc2VQYXR0ZXJucyA9XG4gICAgICAod2lkdGggJiYgYXJncy5wYXJzZVBhdHRlcm5zW3dpZHRoXSkgfHxcbiAgICAgIGFyZ3MucGFyc2VQYXR0ZXJuc1thcmdzLmRlZmF1bHRQYXJzZVdpZHRoXTtcblxuICAgIGNvbnN0IGtleSA9IEFycmF5LmlzQXJyYXkocGFyc2VQYXR0ZXJucylcbiAgICAgID8gZmluZEluZGV4KHBhcnNlUGF0dGVybnMsIChwYXR0ZXJuKSA9PiBwYXR0ZXJuLnRlc3QobWF0Y2hlZFN0cmluZykpXG4gICAgICA6IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55IC0tIEkgY2hhbGxhbmdlIHlvdSB0byBmaXggdGhlIHR5cGVcbiAgICAgICAgZmluZEtleShwYXJzZVBhdHRlcm5zLCAocGF0dGVybikgPT4gcGF0dGVybi50ZXN0KG1hdGNoZWRTdHJpbmcpKTtcblxuICAgIGxldCB2YWx1ZTtcblxuICAgIHZhbHVlID0gYXJncy52YWx1ZUNhbGxiYWNrID8gYXJncy52YWx1ZUNhbGxiYWNrKGtleSkgOiBrZXk7XG4gICAgdmFsdWUgPSBvcHRpb25zLnZhbHVlQ2FsbGJhY2tcbiAgICAgID8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgLS0gSSBjaGFsbGFuZ2UgeW91IHRvIGZpeCB0aGUgdHlwZVxuICAgICAgICBvcHRpb25zLnZhbHVlQ2FsbGJhY2sodmFsdWUpXG4gICAgICA6IHZhbHVlO1xuXG4gICAgY29uc3QgcmVzdCA9IHN0cmluZy5zbGljZShtYXRjaGVkU3RyaW5nLmxlbmd0aCk7XG5cbiAgICByZXR1cm4geyB2YWx1ZSwgcmVzdCB9O1xuICB9O1xufVxuXG5mdW5jdGlvbiBmaW5kS2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgIGlmIChcbiAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiZcbiAgICAgIHByZWRpY2F0ZShvYmplY3Rba2V5XSlcbiAgICApIHtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlKSB7XG4gIGZvciAobGV0IGtleSA9IDA7IGtleSA8IGFycmF5Lmxlbmd0aDsga2V5KyspIHtcbiAgICBpZiAocHJlZGljYXRlKGFycmF5W2tleV0pKSB7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBidWlsZE1hdGNoUGF0dGVybkZuKGFyZ3MpIHtcbiAgcmV0dXJuIChzdHJpbmcsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IG1hdGNoUmVzdWx0ID0gc3RyaW5nLm1hdGNoKGFyZ3MubWF0Y2hQYXR0ZXJuKTtcbiAgICBpZiAoIW1hdGNoUmVzdWx0KSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBtYXRjaGVkU3RyaW5nID0gbWF0Y2hSZXN1bHRbMF07XG5cbiAgICBjb25zdCBwYXJzZVJlc3VsdCA9IHN0cmluZy5tYXRjaChhcmdzLnBhcnNlUGF0dGVybik7XG4gICAgaWYgKCFwYXJzZVJlc3VsdCkgcmV0dXJuIG51bGw7XG4gICAgbGV0IHZhbHVlID0gYXJncy52YWx1ZUNhbGxiYWNrXG4gICAgICA/IGFyZ3MudmFsdWVDYWxsYmFjayhwYXJzZVJlc3VsdFswXSlcbiAgICAgIDogcGFyc2VSZXN1bHRbMF07XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAtLSBJIGNoYWxsYW5nZSB5b3UgdG8gZml4IHRoZSB0eXBlXG4gICAgdmFsdWUgPSBvcHRpb25zLnZhbHVlQ2FsbGJhY2sgPyBvcHRpb25zLnZhbHVlQ2FsbGJhY2sodmFsdWUpIDogdmFsdWU7XG5cbiAgICBjb25zdCByZXN0ID0gc3RyaW5nLnNsaWNlKG1hdGNoZWRTdHJpbmcubGVuZ3RoKTtcblxuICAgIHJldHVybiB7IHZhbHVlLCByZXN0IH07XG4gIH07XG59XG4iLCAiaW1wb3J0IHsgYnVpbGRNYXRjaEZuIH0gZnJvbSBcIi4uLy4uL19saWIvYnVpbGRNYXRjaEZuLm1qc1wiO1xuaW1wb3J0IHsgYnVpbGRNYXRjaFBhdHRlcm5GbiB9IGZyb20gXCIuLi8uLi9fbGliL2J1aWxkTWF0Y2hQYXR0ZXJuRm4ubWpzXCI7XG5cbmNvbnN0IG1hdGNoT3JkaW5hbE51bWJlclBhdHRlcm4gPSAvXihcXGQrKSh0aHxzdHxuZHxyZCk/L2k7XG5jb25zdCBwYXJzZU9yZGluYWxOdW1iZXJQYXR0ZXJuID0gL1xcZCsvaTtcblxuY29uc3QgbWF0Y2hFcmFQYXR0ZXJucyA9IHtcbiAgbmFycm93OiAvXihifGEpL2ksXG4gIGFiYnJldmlhdGVkOiAvXihiXFwuP1xccz9jXFwuP3xiXFwuP1xccz9jXFwuP1xccz9lXFwuP3xhXFwuP1xccz9kXFwuP3xjXFwuP1xccz9lXFwuPykvaSxcbiAgd2lkZTogL14oYmVmb3JlIGNocmlzdHxiZWZvcmUgY29tbW9uIGVyYXxhbm5vIGRvbWluaXxjb21tb24gZXJhKS9pLFxufTtcbmNvbnN0IHBhcnNlRXJhUGF0dGVybnMgPSB7XG4gIGFueTogWy9eYi9pLCAvXihhfGMpL2ldLFxufTtcblxuY29uc3QgbWF0Y2hRdWFydGVyUGF0dGVybnMgPSB7XG4gIG5hcnJvdzogL15bMTIzNF0vaSxcbiAgYWJicmV2aWF0ZWQ6IC9ecVsxMjM0XS9pLFxuICB3aWRlOiAvXlsxMjM0XSh0aHxzdHxuZHxyZCk/IHF1YXJ0ZXIvaSxcbn07XG5jb25zdCBwYXJzZVF1YXJ0ZXJQYXR0ZXJucyA9IHtcbiAgYW55OiBbLzEvaSwgLzIvaSwgLzMvaSwgLzQvaV0sXG59O1xuXG5jb25zdCBtYXRjaE1vbnRoUGF0dGVybnMgPSB7XG4gIG5hcnJvdzogL15bamZtYXNvbmRdL2ksXG4gIGFiYnJldmlhdGVkOiAvXihqYW58ZmVifG1hcnxhcHJ8bWF5fGp1bnxqdWx8YXVnfHNlcHxvY3R8bm92fGRlYykvaSxcbiAgd2lkZTogL14oamFudWFyeXxmZWJydWFyeXxtYXJjaHxhcHJpbHxtYXl8anVuZXxqdWx5fGF1Z3VzdHxzZXB0ZW1iZXJ8b2N0b2Jlcnxub3ZlbWJlcnxkZWNlbWJlcikvaSxcbn07XG5jb25zdCBwYXJzZU1vbnRoUGF0dGVybnMgPSB7XG4gIG5hcnJvdzogW1xuICAgIC9eai9pLFxuICAgIC9eZi9pLFxuICAgIC9ebS9pLFxuICAgIC9eYS9pLFxuICAgIC9ebS9pLFxuICAgIC9eai9pLFxuICAgIC9eai9pLFxuICAgIC9eYS9pLFxuICAgIC9ecy9pLFxuICAgIC9eby9pLFxuICAgIC9ebi9pLFxuICAgIC9eZC9pLFxuICBdLFxuXG4gIGFueTogW1xuICAgIC9eamEvaSxcbiAgICAvXmYvaSxcbiAgICAvXm1hci9pLFxuICAgIC9eYXAvaSxcbiAgICAvXm1heS9pLFxuICAgIC9eanVuL2ksXG4gICAgL15qdWwvaSxcbiAgICAvXmF1L2ksXG4gICAgL15zL2ksXG4gICAgL15vL2ksXG4gICAgL15uL2ksXG4gICAgL15kL2ksXG4gIF0sXG59O1xuXG5jb25zdCBtYXRjaERheVBhdHRlcm5zID0ge1xuICBuYXJyb3c6IC9eW3NtdHdmXS9pLFxuICBzaG9ydDogL14oc3V8bW98dHV8d2V8dGh8ZnJ8c2EpL2ksXG4gIGFiYnJldmlhdGVkOiAvXihzdW58bW9ufHR1ZXx3ZWR8dGh1fGZyaXxzYXQpL2ksXG4gIHdpZGU6IC9eKHN1bmRheXxtb25kYXl8dHVlc2RheXx3ZWRuZXNkYXl8dGh1cnNkYXl8ZnJpZGF5fHNhdHVyZGF5KS9pLFxufTtcbmNvbnN0IHBhcnNlRGF5UGF0dGVybnMgPSB7XG4gIG5hcnJvdzogWy9ecy9pLCAvXm0vaSwgL150L2ksIC9edy9pLCAvXnQvaSwgL15mL2ksIC9ecy9pXSxcbiAgYW55OiBbL15zdS9pLCAvXm0vaSwgL150dS9pLCAvXncvaSwgL150aC9pLCAvXmYvaSwgL15zYS9pXSxcbn07XG5cbmNvbnN0IG1hdGNoRGF5UGVyaW9kUGF0dGVybnMgPSB7XG4gIG5hcnJvdzogL14oYXxwfG1pfG58KGluIHRoZXxhdCkgKG1vcm5pbmd8YWZ0ZXJub29ufGV2ZW5pbmd8bmlnaHQpKS9pLFxuICBhbnk6IC9eKFthcF1cXC4/XFxzP21cXC4/fG1pZG5pZ2h0fG5vb258KGluIHRoZXxhdCkgKG1vcm5pbmd8YWZ0ZXJub29ufGV2ZW5pbmd8bmlnaHQpKS9pLFxufTtcbmNvbnN0IHBhcnNlRGF5UGVyaW9kUGF0dGVybnMgPSB7XG4gIGFueToge1xuICAgIGFtOiAvXmEvaSxcbiAgICBwbTogL15wL2ksXG4gICAgbWlkbmlnaHQ6IC9ebWkvaSxcbiAgICBub29uOiAvXm5vL2ksXG4gICAgbW9ybmluZzogL21vcm5pbmcvaSxcbiAgICBhZnRlcm5vb246IC9hZnRlcm5vb24vaSxcbiAgICBldmVuaW5nOiAvZXZlbmluZy9pLFxuICAgIG5pZ2h0OiAvbmlnaHQvaSxcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBtYXRjaCA9IHtcbiAgb3JkaW5hbE51bWJlcjogYnVpbGRNYXRjaFBhdHRlcm5Gbih7XG4gICAgbWF0Y2hQYXR0ZXJuOiBtYXRjaE9yZGluYWxOdW1iZXJQYXR0ZXJuLFxuICAgIHBhcnNlUGF0dGVybjogcGFyc2VPcmRpbmFsTnVtYmVyUGF0dGVybixcbiAgICB2YWx1ZUNhbGxiYWNrOiAodmFsdWUpID0+IHBhcnNlSW50KHZhbHVlLCAxMCksXG4gIH0pLFxuXG4gIGVyYTogYnVpbGRNYXRjaEZuKHtcbiAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaEVyYVBhdHRlcm5zLFxuICAgIGRlZmF1bHRNYXRjaFdpZHRoOiBcIndpZGVcIixcbiAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZUVyYVBhdHRlcm5zLFxuICAgIGRlZmF1bHRQYXJzZVdpZHRoOiBcImFueVwiLFxuICB9KSxcblxuICBxdWFydGVyOiBidWlsZE1hdGNoRm4oe1xuICAgIG1hdGNoUGF0dGVybnM6IG1hdGNoUXVhcnRlclBhdHRlcm5zLFxuICAgIGRlZmF1bHRNYXRjaFdpZHRoOiBcIndpZGVcIixcbiAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZVF1YXJ0ZXJQYXR0ZXJucyxcbiAgICBkZWZhdWx0UGFyc2VXaWR0aDogXCJhbnlcIixcbiAgICB2YWx1ZUNhbGxiYWNrOiAoaW5kZXgpID0+IGluZGV4ICsgMSxcbiAgfSksXG5cbiAgbW9udGg6IGJ1aWxkTWF0Y2hGbih7XG4gICAgbWF0Y2hQYXR0ZXJuczogbWF0Y2hNb250aFBhdHRlcm5zLFxuICAgIGRlZmF1bHRNYXRjaFdpZHRoOiBcIndpZGVcIixcbiAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZU1vbnRoUGF0dGVybnMsXG4gICAgZGVmYXVsdFBhcnNlV2lkdGg6IFwiYW55XCIsXG4gIH0pLFxuXG4gIGRheTogYnVpbGRNYXRjaEZuKHtcbiAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaERheVBhdHRlcm5zLFxuICAgIGRlZmF1bHRNYXRjaFdpZHRoOiBcIndpZGVcIixcbiAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZURheVBhdHRlcm5zLFxuICAgIGRlZmF1bHRQYXJzZVdpZHRoOiBcImFueVwiLFxuICB9KSxcblxuICBkYXlQZXJpb2Q6IGJ1aWxkTWF0Y2hGbih7XG4gICAgbWF0Y2hQYXR0ZXJuczogbWF0Y2hEYXlQZXJpb2RQYXR0ZXJucyxcbiAgICBkZWZhdWx0TWF0Y2hXaWR0aDogXCJhbnlcIixcbiAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZURheVBlcmlvZFBhdHRlcm5zLFxuICAgIGRlZmF1bHRQYXJzZVdpZHRoOiBcImFueVwiLFxuICB9KSxcbn07XG4iLCAiaW1wb3J0IHsgZm9ybWF0RGlzdGFuY2UgfSBmcm9tIFwiLi9lbi1VUy9fbGliL2Zvcm1hdERpc3RhbmNlLm1qc1wiO1xuaW1wb3J0IHsgZm9ybWF0TG9uZyB9IGZyb20gXCIuL2VuLVVTL19saWIvZm9ybWF0TG9uZy5tanNcIjtcbmltcG9ydCB7IGZvcm1hdFJlbGF0aXZlIH0gZnJvbSBcIi4vZW4tVVMvX2xpYi9mb3JtYXRSZWxhdGl2ZS5tanNcIjtcbmltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSBcIi4vZW4tVVMvX2xpYi9sb2NhbGl6ZS5tanNcIjtcbmltcG9ydCB7IG1hdGNoIH0gZnJvbSBcIi4vZW4tVVMvX2xpYi9tYXRjaC5tanNcIjtcblxuLyoqXG4gKiBAY2F0ZWdvcnkgTG9jYWxlc1xuICogQHN1bW1hcnkgRW5nbGlzaCBsb2NhbGUgKFVuaXRlZCBTdGF0ZXMpLlxuICogQGxhbmd1YWdlIEVuZ2xpc2hcbiAqIEBpc28tNjM5LTIgZW5nXG4gKiBAYXV0aG9yIFNhc2hhIEtvc3MgW0Brb3Nzbm9jb3JwXShodHRwczovL2dpdGh1Yi5jb20va29zc25vY29ycClcbiAqIEBhdXRob3IgTGVzaGEgS29zcyBbQGxlc2hha29zc10oaHR0cHM6Ly9naXRodWIuY29tL2xlc2hha29zcylcbiAqL1xuZXhwb3J0IGNvbnN0IGVuVVMgPSB7XG4gIGNvZGU6IFwiZW4tVVNcIixcbiAgZm9ybWF0RGlzdGFuY2U6IGZvcm1hdERpc3RhbmNlLFxuICBmb3JtYXRMb25nOiBmb3JtYXRMb25nLFxuICBmb3JtYXRSZWxhdGl2ZTogZm9ybWF0UmVsYXRpdmUsXG4gIGxvY2FsaXplOiBsb2NhbGl6ZSxcbiAgbWF0Y2g6IG1hdGNoLFxuICBvcHRpb25zOiB7XG4gICAgd2Vla1N0YXJ0c09uOiAwIC8qIFN1bmRheSAqLyxcbiAgICBmaXJzdFdlZWtDb250YWluc0RhdGU6IDEsXG4gIH0sXG59O1xuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGVuVVM7XG4iLCAiaW1wb3J0IHsgZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzIH0gZnJvbSBcIi4vZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzLm1qc1wiO1xuaW1wb3J0IHsgc3RhcnRPZlllYXIgfSBmcm9tIFwiLi9zdGFydE9mWWVhci5tanNcIjtcbmltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBnZXREYXlPZlllYXJcbiAqIEBjYXRlZ29yeSBEYXkgSGVscGVyc1xuICogQHN1bW1hcnkgR2V0IHRoZSBkYXkgb2YgdGhlIHllYXIgb2YgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBHZXQgdGhlIGRheSBvZiB0aGUgeWVhciBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBnaXZlbiBkYXRlXG4gKlxuICogQHJldHVybnMgVGhlIGRheSBvZiB5ZWFyXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoaWNoIGRheSBvZiB0aGUgeWVhciBpcyAyIEp1bHkgMjAxND9cbiAqIGNvbnN0IHJlc3VsdCA9IGdldERheU9mWWVhcihuZXcgRGF0ZSgyMDE0LCA2LCAyKSlcbiAqIC8vPT4gMTgzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXlPZlllYXIoZGF0ZSkge1xuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgY29uc3QgZGlmZiA9IGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyhfZGF0ZSwgc3RhcnRPZlllYXIoX2RhdGUpKTtcbiAgY29uc3QgZGF5T2ZZZWFyID0gZGlmZiArIDE7XG4gIHJldHVybiBkYXlPZlllYXI7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgZ2V0RGF5T2ZZZWFyO1xuIiwgImltcG9ydCB7IG1pbGxpc2Vjb25kc0luV2VlayB9IGZyb20gXCIuL2NvbnN0YW50cy5tanNcIjtcbmltcG9ydCB7IHN0YXJ0T2ZJU09XZWVrIH0gZnJvbSBcIi4vc3RhcnRPZklTT1dlZWsubWpzXCI7XG5pbXBvcnQgeyBzdGFydE9mSVNPV2Vla1llYXIgfSBmcm9tIFwiLi9zdGFydE9mSVNPV2Vla1llYXIubWpzXCI7XG5pbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5cbi8qKlxuICogQG5hbWUgZ2V0SVNPV2Vla1xuICogQGNhdGVnb3J5IElTTyBXZWVrIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEdldCB0aGUgSVNPIHdlZWsgb2YgdGhlIGdpdmVuIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBHZXQgdGhlIElTTyB3ZWVrIG9mIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyOiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGVcbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBnaXZlbiBkYXRlXG4gKlxuICogQHJldHVybnMgVGhlIElTTyB3ZWVrXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoaWNoIHdlZWsgb2YgdGhlIElTTy13ZWVrIG51bWJlcmluZyB5ZWFyIGlzIDIgSmFudWFyeSAyMDA1P1xuICogY29uc3QgcmVzdWx0ID0gZ2V0SVNPV2VlayhuZXcgRGF0ZSgyMDA1LCAwLCAyKSlcbiAqIC8vPT4gNTNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldElTT1dlZWsoZGF0ZSkge1xuICBjb25zdCBfZGF0ZSA9IHRvRGF0ZShkYXRlKTtcbiAgY29uc3QgZGlmZiA9ICtzdGFydE9mSVNPV2VlayhfZGF0ZSkgLSArc3RhcnRPZklTT1dlZWtZZWFyKF9kYXRlKTtcblxuICAvLyBSb3VuZCB0aGUgbnVtYmVyIG9mIHdlZWtzIHRvIHRoZSBuZWFyZXN0IGludGVnZXIgYmVjYXVzZSB0aGUgbnVtYmVyIG9mXG4gIC8vIG1pbGxpc2Vjb25kcyBpbiBhIHdlZWsgaXMgbm90IGNvbnN0YW50IChlLmcuIGl0J3MgZGlmZmVyZW50IGluIHRoZSB3ZWVrIG9mXG4gIC8vIHRoZSBkYXlsaWdodCBzYXZpbmcgdGltZSBjbG9jayBzaGlmdCkuXG4gIHJldHVybiBNYXRoLnJvdW5kKGRpZmYgLyBtaWxsaXNlY29uZHNJbldlZWspICsgMTtcbn1cblxuLy8gRmFsbGJhY2sgZm9yIG1vZHVsYXJpemVkIGltcG9ydHM6XG5leHBvcnQgZGVmYXVsdCBnZXRJU09XZWVrO1xuIiwgImltcG9ydCB7IGNvbnN0cnVjdEZyb20gfSBmcm9tIFwiLi9jb25zdHJ1Y3RGcm9tLm1qc1wiO1xuaW1wb3J0IHsgc3RhcnRPZldlZWsgfSBmcm9tIFwiLi9zdGFydE9mV2Vlay5tanNcIjtcbmltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcbmltcG9ydCB7IGdldERlZmF1bHRPcHRpb25zIH0gZnJvbSBcIi4vX2xpYi9kZWZhdWx0T3B0aW9ucy5tanNcIjtcblxuLyoqXG4gKiBUaGUge0BsaW5rIGdldFdlZWtZZWFyfSBmdW5jdGlvbiBvcHRpb25zLlxuICovXG5cbi8qKlxuICogQG5hbWUgZ2V0V2Vla1llYXJcbiAqIEBjYXRlZ29yeSBXZWVrLU51bWJlcmluZyBZZWFyIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEdldCB0aGUgbG9jYWwgd2Vlay1udW1iZXJpbmcgeWVhciBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdldCB0aGUgbG9jYWwgd2Vlay1udW1iZXJpbmcgeWVhciBvZiB0aGUgZ2l2ZW4gZGF0ZS5cbiAqIFRoZSBleGFjdCBjYWxjdWxhdGlvbiBkZXBlbmRzIG9uIHRoZSB2YWx1ZXMgb2ZcbiAqIGBvcHRpb25zLndlZWtTdGFydHNPbmAgKHdoaWNoIGlzIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrKVxuICogYW5kIGBvcHRpb25zLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZWAgKHdoaWNoIGlzIHRoZSBkYXkgb2YgSmFudWFyeSwgd2hpY2ggaXMgYWx3YXlzIGluXG4gKiB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgd2Vlay1udW1iZXJpbmcgeWVhcilcbiAqXG4gKiBXZWVrIG51bWJlcmluZzogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvV2VlayNUaGVfSVNPX3dlZWtfZGF0ZV9zeXN0ZW1cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBnaXZlbiBkYXRlXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9iamVjdCB3aXRoIG9wdGlvbnMuXG4gKlxuICogQHJldHVybnMgVGhlIGxvY2FsIHdlZWstbnVtYmVyaW5nIHllYXJcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gV2hpY2ggd2VlayBudW1iZXJpbmcgeWVhciBpcyAyNiBEZWNlbWJlciAyMDA0IHdpdGggdGhlIGRlZmF1bHQgc2V0dGluZ3M/XG4gKiBjb25zdCByZXN1bHQgPSBnZXRXZWVrWWVhcihuZXcgRGF0ZSgyMDA0LCAxMSwgMjYpKVxuICogLy89PiAyMDA1XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoaWNoIHdlZWsgbnVtYmVyaW5nIHllYXIgaXMgMjYgRGVjZW1iZXIgMjAwNCBpZiB3ZWVrIHN0YXJ0cyBvbiBTYXR1cmRheT9cbiAqIGNvbnN0IHJlc3VsdCA9IGdldFdlZWtZZWFyKG5ldyBEYXRlKDIwMDQsIDExLCAyNiksIHsgd2Vla1N0YXJ0c09uOiA2IH0pXG4gKiAvLz0+IDIwMDRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gV2hpY2ggd2VlayBudW1iZXJpbmcgeWVhciBpcyAyNiBEZWNlbWJlciAyMDA0IGlmIHRoZSBmaXJzdCB3ZWVrIGNvbnRhaW5zIDQgSmFudWFyeT9cbiAqIGNvbnN0IHJlc3VsdCA9IGdldFdlZWtZZWFyKG5ldyBEYXRlKDIwMDQsIDExLCAyNiksIHsgZmlyc3RXZWVrQ29udGFpbnNEYXRlOiA0IH0pXG4gKiAvLz0+IDIwMDRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdlZWtZZWFyKGRhdGUsIG9wdGlvbnMpIHtcbiAgY29uc3QgX2RhdGUgPSB0b0RhdGUoZGF0ZSk7XG4gIGNvbnN0IHllYXIgPSBfZGF0ZS5nZXRGdWxsWWVhcigpO1xuXG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zID0gZ2V0RGVmYXVsdE9wdGlvbnMoKTtcbiAgY29uc3QgZmlyc3RXZWVrQ29udGFpbnNEYXRlID1cbiAgICBvcHRpb25zPy5maXJzdFdlZWtDb250YWluc0RhdGUgPz9cbiAgICBvcHRpb25zPy5sb2NhbGU/Lm9wdGlvbnM/LmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA/P1xuICAgIGRlZmF1bHRPcHRpb25zLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA/P1xuICAgIGRlZmF1bHRPcHRpb25zLmxvY2FsZT8ub3B0aW9ucz8uZmlyc3RXZWVrQ29udGFpbnNEYXRlID8/XG4gICAgMTtcblxuICBjb25zdCBmaXJzdFdlZWtPZk5leHRZZWFyID0gY29uc3RydWN0RnJvbShkYXRlLCAwKTtcbiAgZmlyc3RXZWVrT2ZOZXh0WWVhci5zZXRGdWxsWWVhcih5ZWFyICsgMSwgMCwgZmlyc3RXZWVrQ29udGFpbnNEYXRlKTtcbiAgZmlyc3RXZWVrT2ZOZXh0WWVhci5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgY29uc3Qgc3RhcnRPZk5leHRZZWFyID0gc3RhcnRPZldlZWsoZmlyc3RXZWVrT2ZOZXh0WWVhciwgb3B0aW9ucyk7XG5cbiAgY29uc3QgZmlyc3RXZWVrT2ZUaGlzWWVhciA9IGNvbnN0cnVjdEZyb20oZGF0ZSwgMCk7XG4gIGZpcnN0V2Vla09mVGhpc1llYXIuc2V0RnVsbFllYXIoeWVhciwgMCwgZmlyc3RXZWVrQ29udGFpbnNEYXRlKTtcbiAgZmlyc3RXZWVrT2ZUaGlzWWVhci5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgY29uc3Qgc3RhcnRPZlRoaXNZZWFyID0gc3RhcnRPZldlZWsoZmlyc3RXZWVrT2ZUaGlzWWVhciwgb3B0aW9ucyk7XG5cbiAgaWYgKF9kYXRlLmdldFRpbWUoKSA+PSBzdGFydE9mTmV4dFllYXIuZ2V0VGltZSgpKSB7XG4gICAgcmV0dXJuIHllYXIgKyAxO1xuICB9IGVsc2UgaWYgKF9kYXRlLmdldFRpbWUoKSA+PSBzdGFydE9mVGhpc1llYXIuZ2V0VGltZSgpKSB7XG4gICAgcmV0dXJuIHllYXI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHllYXIgLSAxO1xuICB9XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgZ2V0V2Vla1llYXI7XG4iLCAiaW1wb3J0IHsgY29uc3RydWN0RnJvbSB9IGZyb20gXCIuL2NvbnN0cnVjdEZyb20ubWpzXCI7XG5pbXBvcnQgeyBnZXRXZWVrWWVhciB9IGZyb20gXCIuL2dldFdlZWtZZWFyLm1qc1wiO1xuaW1wb3J0IHsgc3RhcnRPZldlZWsgfSBmcm9tIFwiLi9zdGFydE9mV2Vlay5tanNcIjtcbmltcG9ydCB7IGdldERlZmF1bHRPcHRpb25zIH0gZnJvbSBcIi4vX2xpYi9kZWZhdWx0T3B0aW9ucy5tanNcIjtcblxuLyoqXG4gKiBUaGUge0BsaW5rIHN0YXJ0T2ZXZWVrWWVhcn0gZnVuY3Rpb24gb3B0aW9ucy5cbiAqL1xuXG4vKipcbiAqIEBuYW1lIHN0YXJ0T2ZXZWVrWWVhclxuICogQGNhdGVnb3J5IFdlZWstTnVtYmVyaW5nIFllYXIgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBzdGFydCBvZiBhIGxvY2FsIHdlZWstbnVtYmVyaW5nIHllYXIgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhIGxvY2FsIHdlZWstbnVtYmVyaW5nIHllYXIuXG4gKiBUaGUgZXhhY3QgY2FsY3VsYXRpb24gZGVwZW5kcyBvbiB0aGUgdmFsdWVzIG9mXG4gKiBgb3B0aW9ucy53ZWVrU3RhcnRzT25gICh3aGljaCBpcyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2VlaylcbiAqIGFuZCBgb3B0aW9ucy5maXJzdFdlZWtDb250YWluc0RhdGVgICh3aGljaCBpcyB0aGUgZGF5IG9mIEphbnVhcnksIHdoaWNoIGlzIGFsd2F5cyBpblxuICogdGhlIGZpcnN0IHdlZWsgb2YgdGhlIHdlZWstbnVtYmVyaW5nIHllYXIpXG4gKlxuICogV2VlayBudW1iZXJpbmc6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1dlZWsjVGhlX0lTT193ZWVrX2RhdGVfc3lzdGVtXG4gKlxuICogQHR5cGVQYXJhbSBEYXRlVHlwZSAtIFRoZSBgRGF0ZWAgdHlwZSwgdGhlIGZ1bmN0aW9uIG9wZXJhdGVzIG9uLiBHZXRzIGluZmVycmVkIGZyb20gcGFzc2VkIGFyZ3VtZW50cy4gQWxsb3dzIHRvIHVzZSBleHRlbnNpb25zIGxpa2UgW2BVVENEYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL3V0YykuXG4gKlxuICogQHBhcmFtIGRhdGUgLSBUaGUgb3JpZ2luYWwgZGF0ZVxuICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvYmplY3Qgd2l0aCBvcHRpb25zXG4gKlxuICogQHJldHVybnMgVGhlIHN0YXJ0IG9mIGEgd2Vlay1udW1iZXJpbmcgeWVhclxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYW4gYSB3ZWVrLW51bWJlcmluZyB5ZWFyIGZvciAyIEp1bHkgMjAwNSB3aXRoIGRlZmF1bHQgc2V0dGluZ3M6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mV2Vla1llYXIobmV3IERhdGUoMjAwNSwgNiwgMikpXG4gKiAvLz0+IFN1biBEZWMgMjYgMjAwNCAwMDowMDowMFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYSB3ZWVrLW51bWJlcmluZyB5ZWFyIGZvciAyIEp1bHkgMjAwNVxuICogLy8gaWYgTW9uZGF5IGlzIHRoZSBmaXJzdCBkYXkgb2Ygd2Vla1xuICogLy8gYW5kIDQgSmFudWFyeSBpcyBhbHdheXMgaW4gdGhlIGZpcnN0IHdlZWsgb2YgdGhlIHllYXI6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mV2Vla1llYXIobmV3IERhdGUoMjAwNSwgNiwgMiksIHtcbiAqICAgd2Vla1N0YXJ0c09uOiAxLFxuICogICBmaXJzdFdlZWtDb250YWluc0RhdGU6IDRcbiAqIH0pXG4gKiAvLz0+IE1vbiBKYW4gMDMgMjAwNSAwMDowMDowMFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRPZldlZWtZZWFyKGRhdGUsIG9wdGlvbnMpIHtcbiAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucygpO1xuICBjb25zdCBmaXJzdFdlZWtDb250YWluc0RhdGUgPVxuICAgIG9wdGlvbnM/LmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA/P1xuICAgIG9wdGlvbnM/LmxvY2FsZT8ub3B0aW9ucz8uZmlyc3RXZWVrQ29udGFpbnNEYXRlID8/XG4gICAgZGVmYXVsdE9wdGlvbnMuZmlyc3RXZWVrQ29udGFpbnNEYXRlID8/XG4gICAgZGVmYXVsdE9wdGlvbnMubG9jYWxlPy5vcHRpb25zPy5maXJzdFdlZWtDb250YWluc0RhdGUgPz9cbiAgICAxO1xuXG4gIGNvbnN0IHllYXIgPSBnZXRXZWVrWWVhcihkYXRlLCBvcHRpb25zKTtcbiAgY29uc3QgZmlyc3RXZWVrID0gY29uc3RydWN0RnJvbShkYXRlLCAwKTtcbiAgZmlyc3RXZWVrLnNldEZ1bGxZZWFyKHllYXIsIDAsIGZpcnN0V2Vla0NvbnRhaW5zRGF0ZSk7XG4gIGZpcnN0V2Vlay5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgY29uc3QgX2RhdGUgPSBzdGFydE9mV2VlayhmaXJzdFdlZWssIG9wdGlvbnMpO1xuICByZXR1cm4gX2RhdGU7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgc3RhcnRPZldlZWtZZWFyO1xuIiwgImltcG9ydCB7IG1pbGxpc2Vjb25kc0luV2VlayB9IGZyb20gXCIuL2NvbnN0YW50cy5tanNcIjtcbmltcG9ydCB7IHN0YXJ0T2ZXZWVrIH0gZnJvbSBcIi4vc3RhcnRPZldlZWsubWpzXCI7XG5pbXBvcnQgeyBzdGFydE9mV2Vla1llYXIgfSBmcm9tIFwiLi9zdGFydE9mV2Vla1llYXIubWpzXCI7XG5pbXBvcnQgeyB0b0RhdGUgfSBmcm9tIFwiLi90b0RhdGUubWpzXCI7XG5cbi8qKlxuICogVGhlIHtAbGluayBnZXRXZWVrfSBmdW5jdGlvbiBvcHRpb25zLlxuICovXG5cbi8qKlxuICogQG5hbWUgZ2V0V2Vla1xuICogQGNhdGVnb3J5IFdlZWsgSGVscGVyc1xuICogQHN1bW1hcnkgR2V0IHRoZSBsb2NhbCB3ZWVrIGluZGV4IG9mIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogR2V0IHRoZSBsb2NhbCB3ZWVrIGluZGV4IG9mIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIGV4YWN0IGNhbGN1bGF0aW9uIGRlcGVuZHMgb24gdGhlIHZhbHVlcyBvZlxuICogYG9wdGlvbnMud2Vla1N0YXJ0c09uYCAod2hpY2ggaXMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWspXG4gKiBhbmQgYG9wdGlvbnMuZmlyc3RXZWVrQ29udGFpbnNEYXRlYCAod2hpY2ggaXMgdGhlIGRheSBvZiBKYW51YXJ5LCB3aGljaCBpcyBhbHdheXMgaW5cbiAqIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB3ZWVrLW51bWJlcmluZyB5ZWFyKVxuICpcbiAqIFdlZWsgbnVtYmVyaW5nOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9XZWVrI1RoZV9JU09fd2Vla19kYXRlX3N5c3RlbVxuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIGdpdmVuIGRhdGVcbiAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb2JqZWN0IHdpdGggb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIFRoZSB3ZWVrXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoaWNoIHdlZWsgb2YgdGhlIGxvY2FsIHdlZWsgbnVtYmVyaW5nIHllYXIgaXMgMiBKYW51YXJ5IDIwMDUgd2l0aCBkZWZhdWx0IG9wdGlvbnM/XG4gKiBjb25zdCByZXN1bHQgPSBnZXRXZWVrKG5ldyBEYXRlKDIwMDUsIDAsIDIpKVxuICogLy89PiAyXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFdoaWNoIHdlZWsgb2YgdGhlIGxvY2FsIHdlZWsgbnVtYmVyaW5nIHllYXIgaXMgMiBKYW51YXJ5IDIwMDUsXG4gKiAvLyBpZiBNb25kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2VlayxcbiAqIC8vIGFuZCB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgeWVhciBhbHdheXMgY29udGFpbnMgNCBKYW51YXJ5P1xuICogY29uc3QgcmVzdWx0ID0gZ2V0V2VlayhuZXcgRGF0ZSgyMDA1LCAwLCAyKSwge1xuICogICB3ZWVrU3RhcnRzT246IDEsXG4gKiAgIGZpcnN0V2Vla0NvbnRhaW5zRGF0ZTogNFxuICogfSlcbiAqIC8vPT4gNTNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2VlayhkYXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IF9kYXRlID0gdG9EYXRlKGRhdGUpO1xuICBjb25zdCBkaWZmID0gK3N0YXJ0T2ZXZWVrKF9kYXRlLCBvcHRpb25zKSAtICtzdGFydE9mV2Vla1llYXIoX2RhdGUsIG9wdGlvbnMpO1xuXG4gIC8vIFJvdW5kIHRoZSBudW1iZXIgb2Ygd2Vla3MgdG8gdGhlIG5lYXJlc3QgaW50ZWdlciBiZWNhdXNlIHRoZSBudW1iZXIgb2ZcbiAgLy8gbWlsbGlzZWNvbmRzIGluIGEgd2VlayBpcyBub3QgY29uc3RhbnQgKGUuZy4gaXQncyBkaWZmZXJlbnQgaW4gdGhlIHdlZWsgb2ZcbiAgLy8gdGhlIGRheWxpZ2h0IHNhdmluZyB0aW1lIGNsb2NrIHNoaWZ0KS5cbiAgcmV0dXJuIE1hdGgucm91bmQoZGlmZiAvIG1pbGxpc2Vjb25kc0luV2VlaykgKyAxO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGdldFdlZWs7XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGFkZExlYWRpbmdaZXJvcyhudW1iZXIsIHRhcmdldExlbmd0aCkge1xuICBjb25zdCBzaWduID0gbnVtYmVyIDwgMCA/IFwiLVwiIDogXCJcIjtcbiAgY29uc3Qgb3V0cHV0ID0gTWF0aC5hYnMobnVtYmVyKS50b1N0cmluZygpLnBhZFN0YXJ0KHRhcmdldExlbmd0aCwgXCIwXCIpO1xuICByZXR1cm4gc2lnbiArIG91dHB1dDtcbn1cbiIsICJpbXBvcnQgeyBhZGRMZWFkaW5nWmVyb3MgfSBmcm9tIFwiLi4vYWRkTGVhZGluZ1plcm9zLm1qc1wiO1xuXG4vKlxuICogfCAgICAgfCBVbml0ICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgfCBVbml0ICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICogfCAgYSAgfCBBTSwgUE0gICAgICAgICAgICAgICAgICAgICAgICAgfCAgQSogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCAgZCAgfCBEYXkgb2YgbW9udGggICAgICAgICAgICAgICAgICAgfCAgRCAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCAgaCAgfCBIb3VyIFsxLTEyXSAgICAgICAgICAgICAgICAgICAgfCAgSCAgfCBIb3VyIFswLTIzXSAgICAgICAgICAgICAgICAgICAgfFxuICogfCAgbSAgfCBNaW51dGUgICAgICAgICAgICAgICAgICAgICAgICAgfCAgTSAgfCBNb250aCAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCAgcyAgfCBTZWNvbmQgICAgICAgICAgICAgICAgICAgICAgICAgfCAgUyAgfCBGcmFjdGlvbiBvZiBzZWNvbmQgICAgICAgICAgICAgfFxuICogfCAgeSAgfCBZZWFyIChhYnMpICAgICAgICAgICAgICAgICAgICAgfCAgWSAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICpcbiAqIExldHRlcnMgbWFya2VkIGJ5ICogYXJlIG5vdCBpbXBsZW1lbnRlZCBidXQgcmVzZXJ2ZWQgYnkgVW5pY29kZSBzdGFuZGFyZC5cbiAqL1xuXG5leHBvcnQgY29uc3QgbGlnaHRGb3JtYXR0ZXJzID0ge1xuICAvLyBZZWFyXG4gIHkoZGF0ZSwgdG9rZW4pIHtcbiAgICAvLyBGcm9tIGh0dHA6Ly93d3cudW5pY29kZS5vcmcvcmVwb3J0cy90cjM1L3RyMzUtMzEvdHIzNS1kYXRlcy5odG1sI0RhdGVfRm9ybWF0X3Rva2Vuc1xuICAgIC8vIHwgWWVhciAgICAgfCAgICAgeSB8IHl5IHwgICB5eXkgfCAgeXl5eSB8IHl5eXl5IHxcbiAgICAvLyB8LS0tLS0tLS0tLXwtLS0tLS0tfC0tLS18LS0tLS0tLXwtLS0tLS0tfC0tLS0tLS18XG4gICAgLy8gfCBBRCAxICAgICB8ICAgICAxIHwgMDEgfCAgIDAwMSB8ICAwMDAxIHwgMDAwMDEgfFxuICAgIC8vIHwgQUQgMTIgICAgfCAgICAxMiB8IDEyIHwgICAwMTIgfCAgMDAxMiB8IDAwMDEyIHxcbiAgICAvLyB8IEFEIDEyMyAgIHwgICAxMjMgfCAyMyB8ICAgMTIzIHwgIDAxMjMgfCAwMDEyMyB8XG4gICAgLy8gfCBBRCAxMjM0ICB8ICAxMjM0IHwgMzQgfCAgMTIzNCB8ICAxMjM0IHwgMDEyMzQgfFxuICAgIC8vIHwgQUQgMTIzNDUgfCAxMjM0NSB8IDQ1IHwgMTIzNDUgfCAxMjM0NSB8IDEyMzQ1IHxcblxuICAgIGNvbnN0IHNpZ25lZFllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgLy8gUmV0dXJucyAxIGZvciAxIEJDICh3aGljaCBpcyB5ZWFyIDAgaW4gSmF2YVNjcmlwdClcbiAgICBjb25zdCB5ZWFyID0gc2lnbmVkWWVhciA+IDAgPyBzaWduZWRZZWFyIDogMSAtIHNpZ25lZFllYXI7XG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyh0b2tlbiA9PT0gXCJ5eVwiID8geWVhciAlIDEwMCA6IHllYXIsIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gTW9udGhcbiAgTShkYXRlLCB0b2tlbikge1xuICAgIGNvbnN0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xuICAgIHJldHVybiB0b2tlbiA9PT0gXCJNXCIgPyBTdHJpbmcobW9udGggKyAxKSA6IGFkZExlYWRpbmdaZXJvcyhtb250aCArIDEsIDIpO1xuICB9LFxuXG4gIC8vIERheSBvZiB0aGUgbW9udGhcbiAgZChkYXRlLCB0b2tlbikge1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoZGF0ZS5nZXREYXRlKCksIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gQU0gb3IgUE1cbiAgYShkYXRlLCB0b2tlbikge1xuICAgIGNvbnN0IGRheVBlcmlvZEVudW1WYWx1ZSA9IGRhdGUuZ2V0SG91cnMoKSAvIDEyID49IDEgPyBcInBtXCIgOiBcImFtXCI7XG5cbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICBjYXNlIFwiYVwiOlxuICAgICAgY2FzZSBcImFhXCI6XG4gICAgICAgIHJldHVybiBkYXlQZXJpb2RFbnVtVmFsdWUudG9VcHBlckNhc2UoKTtcbiAgICAgIGNhc2UgXCJhYWFcIjpcbiAgICAgICAgcmV0dXJuIGRheVBlcmlvZEVudW1WYWx1ZTtcbiAgICAgIGNhc2UgXCJhYWFhYVwiOlxuICAgICAgICByZXR1cm4gZGF5UGVyaW9kRW51bVZhbHVlWzBdO1xuICAgICAgY2FzZSBcImFhYWFcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBkYXlQZXJpb2RFbnVtVmFsdWUgPT09IFwiYW1cIiA/IFwiYS5tLlwiIDogXCJwLm0uXCI7XG4gICAgfVxuICB9LFxuXG4gIC8vIEhvdXIgWzEtMTJdXG4gIGgoZGF0ZSwgdG9rZW4pIHtcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGRhdGUuZ2V0SG91cnMoKSAlIDEyIHx8IDEyLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIEhvdXIgWzAtMjNdXG4gIEgoZGF0ZSwgdG9rZW4pIHtcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGRhdGUuZ2V0SG91cnMoKSwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBNaW51dGVcbiAgbShkYXRlLCB0b2tlbikge1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoZGF0ZS5nZXRNaW51dGVzKCksIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gU2Vjb25kXG4gIHMoZGF0ZSwgdG9rZW4pIHtcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGRhdGUuZ2V0U2Vjb25kcygpLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIEZyYWN0aW9uIG9mIHNlY29uZFxuICBTKGRhdGUsIHRva2VuKSB7XG4gICAgY29uc3QgbnVtYmVyT2ZEaWdpdHMgPSB0b2tlbi5sZW5ndGg7XG4gICAgY29uc3QgbWlsbGlzZWNvbmRzID0gZGF0ZS5nZXRNaWxsaXNlY29uZHMoKTtcbiAgICBjb25zdCBmcmFjdGlvbmFsU2Vjb25kcyA9IE1hdGgudHJ1bmMoXG4gICAgICBtaWxsaXNlY29uZHMgKiBNYXRoLnBvdygxMCwgbnVtYmVyT2ZEaWdpdHMgLSAzKSxcbiAgICApO1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoZnJhY3Rpb25hbFNlY29uZHMsIHRva2VuLmxlbmd0aCk7XG4gIH0sXG59O1xuIiwgImltcG9ydCB7IGdldERheU9mWWVhciB9IGZyb20gXCIuLi8uLi9nZXREYXlPZlllYXIubWpzXCI7XG5pbXBvcnQgeyBnZXRJU09XZWVrIH0gZnJvbSBcIi4uLy4uL2dldElTT1dlZWsubWpzXCI7XG5pbXBvcnQgeyBnZXRJU09XZWVrWWVhciB9IGZyb20gXCIuLi8uLi9nZXRJU09XZWVrWWVhci5tanNcIjtcbmltcG9ydCB7IGdldFdlZWsgfSBmcm9tIFwiLi4vLi4vZ2V0V2Vlay5tanNcIjtcbmltcG9ydCB7IGdldFdlZWtZZWFyIH0gZnJvbSBcIi4uLy4uL2dldFdlZWtZZWFyLm1qc1wiO1xuaW1wb3J0IHsgYWRkTGVhZGluZ1plcm9zIH0gZnJvbSBcIi4uL2FkZExlYWRpbmdaZXJvcy5tanNcIjtcbmltcG9ydCB7IGxpZ2h0Rm9ybWF0dGVycyB9IGZyb20gXCIuL2xpZ2h0Rm9ybWF0dGVycy5tanNcIjtcblxuY29uc3QgZGF5UGVyaW9kRW51bSA9IHtcbiAgYW06IFwiYW1cIixcbiAgcG06IFwicG1cIixcbiAgbWlkbmlnaHQ6IFwibWlkbmlnaHRcIixcbiAgbm9vbjogXCJub29uXCIsXG4gIG1vcm5pbmc6IFwibW9ybmluZ1wiLFxuICBhZnRlcm5vb246IFwiYWZ0ZXJub29uXCIsXG4gIGV2ZW5pbmc6IFwiZXZlbmluZ1wiLFxuICBuaWdodDogXCJuaWdodFwiLFxufTtcblxuLypcbiAqIHwgICAgIHwgVW5pdCAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgIHwgVW5pdCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwtLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwgIGEgIHwgQU0sIFBNICAgICAgICAgICAgICAgICAgICAgICAgIHwgIEEqIHwgTWlsbGlzZWNvbmRzIGluIGRheSAgICAgICAgICAgIHxcbiAqIHwgIGIgIHwgQU0sIFBNLCBub29uLCBtaWRuaWdodCAgICAgICAgIHwgIEIgIHwgRmxleGlibGUgZGF5IHBlcmlvZCAgICAgICAgICAgIHxcbiAqIHwgIGMgIHwgU3RhbmQtYWxvbmUgbG9jYWwgZGF5IG9mIHdlZWsgIHwgIEMqIHwgTG9jYWxpemVkIGhvdXIgdy8gZGF5IHBlcmlvZCAgIHxcbiAqIHwgIGQgIHwgRGF5IG9mIG1vbnRoICAgICAgICAgICAgICAgICAgIHwgIEQgIHwgRGF5IG9mIHllYXIgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIGUgIHwgTG9jYWwgZGF5IG9mIHdlZWsgICAgICAgICAgICAgIHwgIEUgIHwgRGF5IG9mIHdlZWsgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIGYgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgIEYqIHwgRGF5IG9mIHdlZWsgaW4gbW9udGggICAgICAgICAgIHxcbiAqIHwgIGcqIHwgTW9kaWZpZWQgSnVsaWFuIGRheSAgICAgICAgICAgIHwgIEcgIHwgRXJhICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIGggIHwgSG91ciBbMS0xMl0gICAgICAgICAgICAgICAgICAgIHwgIEggIHwgSG91ciBbMC0yM10gICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIGkhIHwgSVNPIGRheSBvZiB3ZWVrICAgICAgICAgICAgICAgIHwgIEkhIHwgSVNPIHdlZWsgb2YgeWVhciAgICAgICAgICAgICAgIHxcbiAqIHwgIGoqIHwgTG9jYWxpemVkIGhvdXIgdy8gZGF5IHBlcmlvZCAgIHwgIEoqIHwgTG9jYWxpemVkIGhvdXIgdy9vIGRheSBwZXJpb2QgIHxcbiAqIHwgIGsgIHwgSG91ciBbMS0yNF0gICAgICAgICAgICAgICAgICAgIHwgIEsgIHwgSG91ciBbMC0xMV0gICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIGwqIHwgKGRlcHJlY2F0ZWQpICAgICAgICAgICAgICAgICAgIHwgIEwgIHwgU3RhbmQtYWxvbmUgbW9udGggICAgICAgICAgICAgIHxcbiAqIHwgIG0gIHwgTWludXRlICAgICAgICAgICAgICAgICAgICAgICAgIHwgIE0gIHwgTW9udGggICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIG4gIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgIE4gIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIG8hIHwgT3JkaW5hbCBudW1iZXIgbW9kaWZpZXIgICAgICAgIHwgIE8gIHwgVGltZXpvbmUgKEdNVCkgICAgICAgICAgICAgICAgIHxcbiAqIHwgIHAhIHwgTG9uZyBsb2NhbGl6ZWQgdGltZSAgICAgICAgICAgIHwgIFAhIHwgTG9uZyBsb2NhbGl6ZWQgZGF0ZSAgICAgICAgICAgIHxcbiAqIHwgIHEgIHwgU3RhbmQtYWxvbmUgcXVhcnRlciAgICAgICAgICAgIHwgIFEgIHwgUXVhcnRlciAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIHIqIHwgUmVsYXRlZCBHcmVnb3JpYW4geWVhciAgICAgICAgIHwgIFIhIHwgSVNPIHdlZWstbnVtYmVyaW5nIHllYXIgICAgICAgIHxcbiAqIHwgIHMgIHwgU2Vjb25kICAgICAgICAgICAgICAgICAgICAgICAgIHwgIFMgIHwgRnJhY3Rpb24gb2Ygc2Vjb25kICAgICAgICAgICAgIHxcbiAqIHwgIHQhIHwgU2Vjb25kcyB0aW1lc3RhbXAgICAgICAgICAgICAgIHwgIFQhIHwgTWlsbGlzZWNvbmRzIHRpbWVzdGFtcCAgICAgICAgIHxcbiAqIHwgIHUgIHwgRXh0ZW5kZWQgeWVhciAgICAgICAgICAgICAgICAgIHwgIFUqIHwgQ3ljbGljIHllYXIgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIHYqIHwgVGltZXpvbmUgKGdlbmVyaWMgbm9uLWxvY2F0LikgIHwgIFYqIHwgVGltZXpvbmUgKGxvY2F0aW9uKSAgICAgICAgICAgIHxcbiAqIHwgIHcgIHwgTG9jYWwgd2VlayBvZiB5ZWFyICAgICAgICAgICAgIHwgIFcqIHwgV2VlayBvZiBtb250aCAgICAgICAgICAgICAgICAgIHxcbiAqIHwgIHggIHwgVGltZXpvbmUgKElTTy04NjAxIHcvbyBaKSAgICAgIHwgIFggIHwgVGltZXpvbmUgKElTTy04NjAxKSAgICAgICAgICAgIHxcbiAqIHwgIHkgIHwgWWVhciAoYWJzKSAgICAgICAgICAgICAgICAgICAgIHwgIFkgIHwgTG9jYWwgd2Vlay1udW1iZXJpbmcgeWVhciAgICAgIHxcbiAqIHwgIHogIHwgVGltZXpvbmUgKHNwZWNpZmljIG5vbi1sb2NhdC4pIHwgIFoqIHwgVGltZXpvbmUgKGFsaWFzZXMpICAgICAgICAgICAgIHxcbiAqXG4gKiBMZXR0ZXJzIG1hcmtlZCBieSAqIGFyZSBub3QgaW1wbGVtZW50ZWQgYnV0IHJlc2VydmVkIGJ5IFVuaWNvZGUgc3RhbmRhcmQuXG4gKlxuICogTGV0dGVycyBtYXJrZWQgYnkgISBhcmUgbm9uLXN0YW5kYXJkLCBidXQgaW1wbGVtZW50ZWQgYnkgZGF0ZS1mbnM6XG4gKiAtIGBvYCBtb2RpZmllcyB0aGUgcHJldmlvdXMgdG9rZW4gdG8gdHVybiBpdCBpbnRvIGFuIG9yZGluYWwgKHNlZSBgZm9ybWF0YCBkb2NzKVxuICogLSBgaWAgaXMgSVNPIGRheSBvZiB3ZWVrLiBGb3IgYGlgIGFuZCBgaWlgIGlzIHJldHVybnMgbnVtZXJpYyBJU08gd2VlayBkYXlzLFxuICogICBpLmUuIDcgZm9yIFN1bmRheSwgMSBmb3IgTW9uZGF5LCBldGMuXG4gKiAtIGBJYCBpcyBJU08gd2VlayBvZiB5ZWFyLCBhcyBvcHBvc2VkIHRvIGB3YCB3aGljaCBpcyBsb2NhbCB3ZWVrIG9mIHllYXIuXG4gKiAtIGBSYCBpcyBJU08gd2Vlay1udW1iZXJpbmcgeWVhciwgYXMgb3Bwb3NlZCB0byBgWWAgd2hpY2ggaXMgbG9jYWwgd2Vlay1udW1iZXJpbmcgeWVhci5cbiAqICAgYFJgIGlzIHN1cHBvc2VkIHRvIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBgSWAgYW5kIGBpYFxuICogICBmb3IgdW5pdmVyc2FsIElTTyB3ZWVrLW51bWJlcmluZyBkYXRlLCB3aGVyZWFzXG4gKiAgIGBZYCBpcyBzdXBwb3NlZCB0byBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYHdgIGFuZCBgZWBcbiAqICAgZm9yIHdlZWstbnVtYmVyaW5nIGRhdGUgc3BlY2lmaWMgdG8gdGhlIGxvY2FsZS5cbiAqIC0gYFBgIGlzIGxvbmcgbG9jYWxpemVkIGRhdGUgZm9ybWF0XG4gKiAtIGBwYCBpcyBsb25nIGxvY2FsaXplZCB0aW1lIGZvcm1hdFxuICovXG5cbmV4cG9ydCBjb25zdCBmb3JtYXR0ZXJzID0ge1xuICAvLyBFcmFcbiAgRzogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGNvbnN0IGVyYSA9IGRhdGUuZ2V0RnVsbFllYXIoKSA+IDAgPyAxIDogMDtcbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyBBRCwgQkNcbiAgICAgIGNhc2UgXCJHXCI6XG4gICAgICBjYXNlIFwiR0dcIjpcbiAgICAgIGNhc2UgXCJHR0dcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmVyYShlcmEsIHsgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIiB9KTtcbiAgICAgIC8vIEEsIEJcbiAgICAgIGNhc2UgXCJHR0dHR1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZXJhKGVyYSwgeyB3aWR0aDogXCJuYXJyb3dcIiB9KTtcbiAgICAgIC8vIEFubm8gRG9taW5pLCBCZWZvcmUgQ2hyaXN0XG4gICAgICBjYXNlIFwiR0dHR1wiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmVyYShlcmEsIHsgd2lkdGg6IFwid2lkZVwiIH0pO1xuICAgIH1cbiAgfSxcblxuICAvLyBZZWFyXG4gIHk6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICAvLyBPcmRpbmFsIG51bWJlclxuICAgIGlmICh0b2tlbiA9PT0gXCJ5b1wiKSB7XG4gICAgICBjb25zdCBzaWduZWRZZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgLy8gUmV0dXJucyAxIGZvciAxIEJDICh3aGljaCBpcyB5ZWFyIDAgaW4gSmF2YVNjcmlwdClcbiAgICAgIGNvbnN0IHllYXIgPSBzaWduZWRZZWFyID4gMCA/IHNpZ25lZFllYXIgOiAxIC0gc2lnbmVkWWVhcjtcbiAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKHllYXIsIHsgdW5pdDogXCJ5ZWFyXCIgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpZ2h0Rm9ybWF0dGVycy55KGRhdGUsIHRva2VuKTtcbiAgfSxcblxuICAvLyBMb2NhbCB3ZWVrLW51bWJlcmluZyB5ZWFyXG4gIFk6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzaWduZWRXZWVrWWVhciA9IGdldFdlZWtZZWFyKGRhdGUsIG9wdGlvbnMpO1xuICAgIC8vIFJldHVybnMgMSBmb3IgMSBCQyAod2hpY2ggaXMgeWVhciAwIGluIEphdmFTY3JpcHQpXG4gICAgY29uc3Qgd2Vla1llYXIgPSBzaWduZWRXZWVrWWVhciA+IDAgPyBzaWduZWRXZWVrWWVhciA6IDEgLSBzaWduZWRXZWVrWWVhcjtcblxuICAgIC8vIFR3byBkaWdpdCB5ZWFyXG4gICAgaWYgKHRva2VuID09PSBcIllZXCIpIHtcbiAgICAgIGNvbnN0IHR3b0RpZ2l0WWVhciA9IHdlZWtZZWFyICUgMTAwO1xuICAgICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyh0d29EaWdpdFllYXIsIDIpO1xuICAgIH1cblxuICAgIC8vIE9yZGluYWwgbnVtYmVyXG4gICAgaWYgKHRva2VuID09PSBcIllvXCIpIHtcbiAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKHdlZWtZZWFyLCB7IHVuaXQ6IFwieWVhclwiIH0pO1xuICAgIH1cblxuICAgIC8vIFBhZGRpbmdcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKHdlZWtZZWFyLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyXG4gIFI6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbikge1xuICAgIGNvbnN0IGlzb1dlZWtZZWFyID0gZ2V0SVNPV2Vla1llYXIoZGF0ZSk7XG5cbiAgICAvLyBQYWRkaW5nXG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhpc29XZWVrWWVhciwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBFeHRlbmRlZCB5ZWFyLiBUaGlzIGlzIGEgc2luZ2xlIG51bWJlciBkZXNpZ25hdGluZyB0aGUgeWVhciBvZiB0aGlzIGNhbGVuZGFyIHN5c3RlbS5cbiAgLy8gVGhlIG1haW4gZGlmZmVyZW5jZSBiZXR3ZWVuIGB5YCBhbmQgYHVgIGxvY2FsaXplcnMgYXJlIEIuQy4geWVhcnM6XG4gIC8vIHwgWWVhciB8IGB5YCB8IGB1YCB8XG4gIC8vIHwtLS0tLS18LS0tLS18LS0tLS18XG4gIC8vIHwgQUMgMSB8ICAgMSB8ICAgMSB8XG4gIC8vIHwgQkMgMSB8ICAgMSB8ICAgMCB8XG4gIC8vIHwgQkMgMiB8ICAgMiB8ICAtMSB8XG4gIC8vIEFsc28gYHl5YCBhbHdheXMgcmV0dXJucyB0aGUgbGFzdCB0d28gZGlnaXRzIG9mIGEgeWVhcixcbiAgLy8gd2hpbGUgYHV1YCBwYWRzIHNpbmdsZSBkaWdpdCB5ZWFycyB0byAyIGNoYXJhY3RlcnMgYW5kIHJldHVybnMgb3RoZXIgeWVhcnMgdW5jaGFuZ2VkLlxuICB1OiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4pIHtcbiAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoeWVhciwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBRdWFydGVyXG4gIFE6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBjb25zdCBxdWFydGVyID0gTWF0aC5jZWlsKChkYXRlLmdldE1vbnRoKCkgKyAxKSAvIDMpO1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIC8vIDEsIDIsIDMsIDRcbiAgICAgIGNhc2UgXCJRXCI6XG4gICAgICAgIHJldHVybiBTdHJpbmcocXVhcnRlcik7XG4gICAgICAvLyAwMSwgMDIsIDAzLCAwNFxuICAgICAgY2FzZSBcIlFRXCI6XG4gICAgICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MocXVhcnRlciwgMik7XG4gICAgICAvLyAxc3QsIDJuZCwgM3JkLCA0dGhcbiAgICAgIGNhc2UgXCJRb1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihxdWFydGVyLCB7IHVuaXQ6IFwicXVhcnRlclwiIH0pO1xuICAgICAgLy8gUTEsIFEyLCBRMywgUTRcbiAgICAgIGNhc2UgXCJRUVFcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLnF1YXJ0ZXIocXVhcnRlciwge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gMSwgMiwgMywgNCAobmFycm93IHF1YXJ0ZXI7IGNvdWxkIGJlIG5vdCBudW1lcmljYWwpXG4gICAgICBjYXNlIFwiUVFRUVFcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLnF1YXJ0ZXIocXVhcnRlciwge1xuICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIDFzdCBxdWFydGVyLCAybmQgcXVhcnRlciwgLi4uXG4gICAgICBjYXNlIFwiUVFRUVwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLnF1YXJ0ZXIocXVhcnRlciwge1xuICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIFN0YW5kLWFsb25lIHF1YXJ0ZXJcbiAgcTogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGNvbnN0IHF1YXJ0ZXIgPSBNYXRoLmNlaWwoKGRhdGUuZ2V0TW9udGgoKSArIDEpIC8gMyk7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gMSwgMiwgMywgNFxuICAgICAgY2FzZSBcInFcIjpcbiAgICAgICAgcmV0dXJuIFN0cmluZyhxdWFydGVyKTtcbiAgICAgIC8vIDAxLCAwMiwgMDMsIDA0XG4gICAgICBjYXNlIFwicXFcIjpcbiAgICAgICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhxdWFydGVyLCAyKTtcbiAgICAgIC8vIDFzdCwgMm5kLCAzcmQsIDR0aFxuICAgICAgY2FzZSBcInFvXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKHF1YXJ0ZXIsIHsgdW5pdDogXCJxdWFydGVyXCIgfSk7XG4gICAgICAvLyBRMSwgUTIsIFEzLCBRNFxuICAgICAgY2FzZSBcInFxcVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUucXVhcnRlcihxdWFydGVyLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyAxLCAyLCAzLCA0IChuYXJyb3cgcXVhcnRlcjsgY291bGQgYmUgbm90IG51bWVyaWNhbClcbiAgICAgIGNhc2UgXCJxcXFxcVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUucXVhcnRlcihxdWFydGVyLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gMXN0IHF1YXJ0ZXIsIDJuZCBxdWFydGVyLCAuLi5cbiAgICAgIGNhc2UgXCJxcXFxXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUucXVhcnRlcihxdWFydGVyLCB7XG4gICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gTW9udGhcbiAgTTogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGNvbnN0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIGNhc2UgXCJNXCI6XG4gICAgICBjYXNlIFwiTU1cIjpcbiAgICAgICAgcmV0dXJuIGxpZ2h0Rm9ybWF0dGVycy5NKGRhdGUsIHRva2VuKTtcbiAgICAgIC8vIDFzdCwgMm5kLCAuLi4sIDEydGhcbiAgICAgIGNhc2UgXCJNb1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihtb250aCArIDEsIHsgdW5pdDogXCJtb250aFwiIH0pO1xuICAgICAgLy8gSmFuLCBGZWIsIC4uLiwgRGVjXG4gICAgICBjYXNlIFwiTU1NXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5tb250aChtb250aCwge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gSiwgRiwgLi4uLCBEXG4gICAgICBjYXNlIFwiTU1NTU1cIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLm1vbnRoKG1vbnRoLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gSmFudWFyeSwgRmVicnVhcnksIC4uLiwgRGVjZW1iZXJcbiAgICAgIGNhc2UgXCJNTU1NXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUubW9udGgobW9udGgsIHsgd2lkdGg6IFwid2lkZVwiLCBjb250ZXh0OiBcImZvcm1hdHRpbmdcIiB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gU3RhbmQtYWxvbmUgbW9udGhcbiAgTDogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGNvbnN0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIC8vIDEsIDIsIC4uLiwgMTJcbiAgICAgIGNhc2UgXCJMXCI6XG4gICAgICAgIHJldHVybiBTdHJpbmcobW9udGggKyAxKTtcbiAgICAgIC8vIDAxLCAwMiwgLi4uLCAxMlxuICAgICAgY2FzZSBcIkxMXCI6XG4gICAgICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MobW9udGggKyAxLCAyKTtcbiAgICAgIC8vIDFzdCwgMm5kLCAuLi4sIDEydGhcbiAgICAgIGNhc2UgXCJMb1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihtb250aCArIDEsIHsgdW5pdDogXCJtb250aFwiIH0pO1xuICAgICAgLy8gSmFuLCBGZWIsIC4uLiwgRGVjXG4gICAgICBjYXNlIFwiTExMXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5tb250aChtb250aCwge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gSiwgRiwgLi4uLCBEXG4gICAgICBjYXNlIFwiTExMTExcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLm1vbnRoKG1vbnRoLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gSmFudWFyeSwgRmVicnVhcnksIC4uLiwgRGVjZW1iZXJcbiAgICAgIGNhc2UgXCJMTExMXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUubW9udGgobW9udGgsIHsgd2lkdGg6IFwid2lkZVwiLCBjb250ZXh0OiBcInN0YW5kYWxvbmVcIiB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gTG9jYWwgd2VlayBvZiB5ZWFyXG4gIHc6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB3ZWVrID0gZ2V0V2VlayhkYXRlLCBvcHRpb25zKTtcblxuICAgIGlmICh0b2tlbiA9PT0gXCJ3b1wiKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcih3ZWVrLCB7IHVuaXQ6IFwid2Vla1wiIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3Mod2VlaywgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBJU08gd2VlayBvZiB5ZWFyXG4gIEk6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBjb25zdCBpc29XZWVrID0gZ2V0SVNPV2VlayhkYXRlKTtcblxuICAgIGlmICh0b2tlbiA9PT0gXCJJb1wiKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihpc29XZWVrLCB7IHVuaXQ6IFwid2Vla1wiIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoaXNvV2VlaywgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBEYXkgb2YgdGhlIG1vbnRoXG4gIGQ6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBpZiAodG9rZW4gPT09IFwiZG9cIikge1xuICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoZGF0ZS5nZXREYXRlKCksIHsgdW5pdDogXCJkYXRlXCIgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpZ2h0Rm9ybWF0dGVycy5kKGRhdGUsIHRva2VuKTtcbiAgfSxcblxuICAvLyBEYXkgb2YgeWVhclxuICBEOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgY29uc3QgZGF5T2ZZZWFyID0gZ2V0RGF5T2ZZZWFyKGRhdGUpO1xuXG4gICAgaWYgKHRva2VuID09PSBcIkRvXCIpIHtcbiAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGRheU9mWWVhciwgeyB1bml0OiBcImRheU9mWWVhclwiIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoZGF5T2ZZZWFyLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIERheSBvZiB3ZWVrXG4gIEU6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBjb25zdCBkYXlPZldlZWsgPSBkYXRlLmdldERheSgpO1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIC8vIFR1ZVxuICAgICAgY2FzZSBcIkVcIjpcbiAgICAgIGNhc2UgXCJFRVwiOlxuICAgICAgY2FzZSBcIkVFRVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gVFxuICAgICAgY2FzZSBcIkVFRUVFXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gVHVcbiAgICAgIGNhc2UgXCJFRUVFRUVcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJzaG9ydFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIC8vIFR1ZXNkYXlcbiAgICAgIGNhc2UgXCJFRUVFXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIExvY2FsIGRheSBvZiB3ZWVrXG4gIGU6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBkYXlPZldlZWsgPSBkYXRlLmdldERheSgpO1xuICAgIGNvbnN0IGxvY2FsRGF5T2ZXZWVrID0gKGRheU9mV2VlayAtIG9wdGlvbnMud2Vla1N0YXJ0c09uICsgOCkgJSA3IHx8IDc7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gTnVtZXJpY2FsIHZhbHVlIChOdGggZGF5IG9mIHdlZWsgd2l0aCBjdXJyZW50IGxvY2FsZSBvciB3ZWVrU3RhcnRzT24pXG4gICAgICBjYXNlIFwiZVwiOlxuICAgICAgICByZXR1cm4gU3RyaW5nKGxvY2FsRGF5T2ZXZWVrKTtcbiAgICAgIC8vIFBhZGRlZCBudW1lcmljYWwgdmFsdWVcbiAgICAgIGNhc2UgXCJlZVwiOlxuICAgICAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGxvY2FsRGF5T2ZXZWVrLCAyKTtcbiAgICAgIC8vIDFzdCwgMm5kLCAuLi4sIDd0aFxuICAgICAgY2FzZSBcImVvXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGxvY2FsRGF5T2ZXZWVrLCB7IHVuaXQ6IFwiZGF5XCIgfSk7XG4gICAgICBjYXNlIFwiZWVlXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBUXG4gICAgICBjYXNlIFwiZWVlZWVcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBUdVxuICAgICAgY2FzZSBcImVlZWVlZVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcInNob3J0XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gVHVlc2RheVxuICAgICAgY2FzZSBcImVlZWVcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gU3RhbmQtYWxvbmUgbG9jYWwgZGF5IG9mIHdlZWtcbiAgYzogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGRheU9mV2VlayA9IGRhdGUuZ2V0RGF5KCk7XG4gICAgY29uc3QgbG9jYWxEYXlPZldlZWsgPSAoZGF5T2ZXZWVrIC0gb3B0aW9ucy53ZWVrU3RhcnRzT24gKyA4KSAlIDcgfHwgNztcbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyBOdW1lcmljYWwgdmFsdWUgKHNhbWUgYXMgaW4gYGVgKVxuICAgICAgY2FzZSBcImNcIjpcbiAgICAgICAgcmV0dXJuIFN0cmluZyhsb2NhbERheU9mV2Vlayk7XG4gICAgICAvLyBQYWRkZWQgbnVtZXJpY2FsIHZhbHVlXG4gICAgICBjYXNlIFwiY2NcIjpcbiAgICAgICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhsb2NhbERheU9mV2VlaywgdG9rZW4ubGVuZ3RoKTtcbiAgICAgIC8vIDFzdCwgMm5kLCAuLi4sIDd0aFxuICAgICAgY2FzZSBcImNvXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGxvY2FsRGF5T2ZXZWVrLCB7IHVuaXQ6IFwiZGF5XCIgfSk7XG4gICAgICBjYXNlIFwiY2NjXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBUXG4gICAgICBjYXNlIFwiY2NjY2NcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBUdVxuICAgICAgY2FzZSBcImNjY2NjY1wiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcInNob3J0XCIsXG4gICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gVHVlc2RheVxuICAgICAgY2FzZSBcImNjY2NcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gSVNPIGRheSBvZiB3ZWVrXG4gIGk6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBjb25zdCBkYXlPZldlZWsgPSBkYXRlLmdldERheSgpO1xuICAgIGNvbnN0IGlzb0RheU9mV2VlayA9IGRheU9mV2VlayA9PT0gMCA/IDcgOiBkYXlPZldlZWs7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgLy8gMlxuICAgICAgY2FzZSBcImlcIjpcbiAgICAgICAgcmV0dXJuIFN0cmluZyhpc29EYXlPZldlZWspO1xuICAgICAgLy8gMDJcbiAgICAgIGNhc2UgXCJpaVwiOlxuICAgICAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKGlzb0RheU9mV2VlaywgdG9rZW4ubGVuZ3RoKTtcbiAgICAgIC8vIDJuZFxuICAgICAgY2FzZSBcImlvXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGlzb0RheU9mV2VlaywgeyB1bml0OiBcImRheVwiIH0pO1xuICAgICAgLy8gVHVlXG4gICAgICBjYXNlIFwiaWlpXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBUXG4gICAgICBjYXNlIFwiaWlpaWlcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICAvLyBUdVxuICAgICAgY2FzZSBcImlpaWlpaVwiOlxuICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgIHdpZHRoOiBcInNob3J0XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgLy8gVHVlc2RheVxuICAgICAgY2FzZSBcImlpaWlcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gQU0gb3IgUE1cbiAgYTogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGNvbnN0IGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuICAgIGNvbnN0IGRheVBlcmlvZEVudW1WYWx1ZSA9IGhvdXJzIC8gMTIgPj0gMSA/IFwicG1cIiA6IFwiYW1cIjtcblxuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIGNhc2UgXCJhXCI6XG4gICAgICBjYXNlIFwiYWFcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIGNhc2UgXCJhYWFcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplXG4gICAgICAgICAgLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50b0xvd2VyQ2FzZSgpO1xuICAgICAgY2FzZSBcImFhYWFhXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgY2FzZSBcImFhYWFcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gQU0sIFBNLCBtaWRuaWdodCwgbm9vblxuICBiOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgY29uc3QgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgbGV0IGRheVBlcmlvZEVudW1WYWx1ZTtcbiAgICBpZiAoaG91cnMgPT09IDEyKSB7XG4gICAgICBkYXlQZXJpb2RFbnVtVmFsdWUgPSBkYXlQZXJpb2RFbnVtLm5vb247XG4gICAgfSBlbHNlIGlmIChob3VycyA9PT0gMCkge1xuICAgICAgZGF5UGVyaW9kRW51bVZhbHVlID0gZGF5UGVyaW9kRW51bS5taWRuaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgZGF5UGVyaW9kRW51bVZhbHVlID0gaG91cnMgLyAxMiA+PSAxID8gXCJwbVwiIDogXCJhbVwiO1xuICAgIH1cblxuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIGNhc2UgXCJiXCI6XG4gICAgICBjYXNlIFwiYmJcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICAgIGNhc2UgXCJiYmJcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplXG4gICAgICAgICAgLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50b0xvd2VyQ2FzZSgpO1xuICAgICAgY2FzZSBcImJiYmJiXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgICAgY2FzZSBcImJiYmJcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiLFxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gaW4gdGhlIG1vcm5pbmcsIGluIHRoZSBhZnRlcm5vb24sIGluIHRoZSBldmVuaW5nLCBhdCBuaWdodFxuICBCOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgY29uc3QgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgbGV0IGRheVBlcmlvZEVudW1WYWx1ZTtcbiAgICBpZiAoaG91cnMgPj0gMTcpIHtcbiAgICAgIGRheVBlcmlvZEVudW1WYWx1ZSA9IGRheVBlcmlvZEVudW0uZXZlbmluZztcbiAgICB9IGVsc2UgaWYgKGhvdXJzID49IDEyKSB7XG4gICAgICBkYXlQZXJpb2RFbnVtVmFsdWUgPSBkYXlQZXJpb2RFbnVtLmFmdGVybm9vbjtcbiAgICB9IGVsc2UgaWYgKGhvdXJzID49IDQpIHtcbiAgICAgIGRheVBlcmlvZEVudW1WYWx1ZSA9IGRheVBlcmlvZEVudW0ubW9ybmluZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGF5UGVyaW9kRW51bVZhbHVlID0gZGF5UGVyaW9kRW51bS5uaWdodDtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICBjYXNlIFwiQlwiOlxuICAgICAgY2FzZSBcIkJCXCI6XG4gICAgICBjYXNlIFwiQkJCXCI6XG4gICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICBjYXNlIFwiQkJCQkJcIjpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIixcbiAgICAgICAgfSk7XG4gICAgICBjYXNlIFwiQkJCQlwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICAvLyBIb3VyIFsxLTEyXVxuICBoOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgaWYgKHRva2VuID09PSBcImhvXCIpIHtcbiAgICAgIGxldCBob3VycyA9IGRhdGUuZ2V0SG91cnMoKSAlIDEyO1xuICAgICAgaWYgKGhvdXJzID09PSAwKSBob3VycyA9IDEyO1xuICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoaG91cnMsIHsgdW5pdDogXCJob3VyXCIgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpZ2h0Rm9ybWF0dGVycy5oKGRhdGUsIHRva2VuKTtcbiAgfSxcblxuICAvLyBIb3VyIFswLTIzXVxuICBIOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgaWYgKHRva2VuID09PSBcIkhvXCIpIHtcbiAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGRhdGUuZ2V0SG91cnMoKSwgeyB1bml0OiBcImhvdXJcIiB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbGlnaHRGb3JtYXR0ZXJzLkgoZGF0ZSwgdG9rZW4pO1xuICB9LFxuXG4gIC8vIEhvdXIgWzAtMTFdXG4gIEs6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBjb25zdCBob3VycyA9IGRhdGUuZ2V0SG91cnMoKSAlIDEyO1xuXG4gICAgaWYgKHRva2VuID09PSBcIktvXCIpIHtcbiAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGhvdXJzLCB7IHVuaXQ6IFwiaG91clwiIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3MoaG91cnMsIHRva2VuLmxlbmd0aCk7XG4gIH0sXG5cbiAgLy8gSG91ciBbMS0yNF1cbiAgazogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGxldCBob3VycyA9IGRhdGUuZ2V0SG91cnMoKTtcbiAgICBpZiAoaG91cnMgPT09IDApIGhvdXJzID0gMjQ7XG5cbiAgICBpZiAodG9rZW4gPT09IFwia29cIikge1xuICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoaG91cnMsIHsgdW5pdDogXCJob3VyXCIgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkZExlYWRpbmdaZXJvcyhob3VycywgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcblxuICAvLyBNaW51dGVcbiAgbTogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgIGlmICh0b2tlbiA9PT0gXCJtb1wiKSB7XG4gICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihkYXRlLmdldE1pbnV0ZXMoKSwgeyB1bml0OiBcIm1pbnV0ZVwiIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBsaWdodEZvcm1hdHRlcnMubShkYXRlLCB0b2tlbik7XG4gIH0sXG5cbiAgLy8gU2Vjb25kXG4gIHM6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICBpZiAodG9rZW4gPT09IFwic29cIikge1xuICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoZGF0ZS5nZXRTZWNvbmRzKCksIHsgdW5pdDogXCJzZWNvbmRcIiB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbGlnaHRGb3JtYXR0ZXJzLnMoZGF0ZSwgdG9rZW4pO1xuICB9LFxuXG4gIC8vIEZyYWN0aW9uIG9mIHNlY29uZFxuICBTOiBmdW5jdGlvbiAoZGF0ZSwgdG9rZW4pIHtcbiAgICByZXR1cm4gbGlnaHRGb3JtYXR0ZXJzLlMoZGF0ZSwgdG9rZW4pO1xuICB9LFxuXG4gIC8vIFRpbWV6b25lIChJU08tODYwMS4gSWYgb2Zmc2V0IGlzIDAsIG91dHB1dCBpcyBhbHdheXMgYCdaJ2ApXG4gIFg6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgX2xvY2FsaXplKSB7XG4gICAgY29uc3QgdGltZXpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG5cbiAgICBpZiAodGltZXpvbmVPZmZzZXQgPT09IDApIHtcbiAgICAgIHJldHVybiBcIlpcIjtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyBIb3VycyBhbmQgb3B0aW9uYWwgbWludXRlc1xuICAgICAgY2FzZSBcIlhcIjpcbiAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lV2l0aE9wdGlvbmFsTWludXRlcyh0aW1lem9uZU9mZnNldCk7XG5cbiAgICAgIC8vIEhvdXJzLCBtaW51dGVzIGFuZCBvcHRpb25hbCBzZWNvbmRzIHdpdGhvdXQgYDpgIGRlbGltaXRlclxuICAgICAgLy8gTm90ZTogbmVpdGhlciBJU08tODYwMSBub3IgSmF2YVNjcmlwdCBzdXBwb3J0cyBzZWNvbmRzIGluIHRpbWV6b25lIG9mZnNldHNcbiAgICAgIC8vIHNvIHRoaXMgdG9rZW4gYWx3YXlzIGhhcyB0aGUgc2FtZSBvdXRwdXQgYXMgYFhYYFxuICAgICAgY2FzZSBcIlhYWFhcIjpcbiAgICAgIGNhc2UgXCJYWFwiOiAvLyBIb3VycyBhbmQgbWludXRlcyB3aXRob3V0IGA6YCBkZWxpbWl0ZXJcbiAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0KTtcblxuICAgICAgLy8gSG91cnMsIG1pbnV0ZXMgYW5kIG9wdGlvbmFsIHNlY29uZHMgd2l0aCBgOmAgZGVsaW1pdGVyXG4gICAgICAvLyBOb3RlOiBuZWl0aGVyIElTTy04NjAxIG5vciBKYXZhU2NyaXB0IHN1cHBvcnRzIHNlY29uZHMgaW4gdGltZXpvbmUgb2Zmc2V0c1xuICAgICAgLy8gc28gdGhpcyB0b2tlbiBhbHdheXMgaGFzIHRoZSBzYW1lIG91dHB1dCBhcyBgWFhYYFxuICAgICAgY2FzZSBcIlhYWFhYXCI6XG4gICAgICBjYXNlIFwiWFhYXCI6IC8vIEhvdXJzIGFuZCBtaW51dGVzIHdpdGggYDpgIGRlbGltaXRlclxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0LCBcIjpcIik7XG4gICAgfVxuICB9LFxuXG4gIC8vIFRpbWV6b25lIChJU08tODYwMS4gSWYgb2Zmc2V0IGlzIDAsIG91dHB1dCBpcyBgJyswMDowMCdgIG9yIGVxdWl2YWxlbnQpXG4gIHg6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgX2xvY2FsaXplKSB7XG4gICAgY29uc3QgdGltZXpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG5cbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyBIb3VycyBhbmQgb3B0aW9uYWwgbWludXRlc1xuICAgICAgY2FzZSBcInhcIjpcbiAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lV2l0aE9wdGlvbmFsTWludXRlcyh0aW1lem9uZU9mZnNldCk7XG5cbiAgICAgIC8vIEhvdXJzLCBtaW51dGVzIGFuZCBvcHRpb25hbCBzZWNvbmRzIHdpdGhvdXQgYDpgIGRlbGltaXRlclxuICAgICAgLy8gTm90ZTogbmVpdGhlciBJU08tODYwMSBub3IgSmF2YVNjcmlwdCBzdXBwb3J0cyBzZWNvbmRzIGluIHRpbWV6b25lIG9mZnNldHNcbiAgICAgIC8vIHNvIHRoaXMgdG9rZW4gYWx3YXlzIGhhcyB0aGUgc2FtZSBvdXRwdXQgYXMgYHh4YFxuICAgICAgY2FzZSBcInh4eHhcIjpcbiAgICAgIGNhc2UgXCJ4eFwiOiAvLyBIb3VycyBhbmQgbWludXRlcyB3aXRob3V0IGA6YCBkZWxpbWl0ZXJcbiAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0KTtcblxuICAgICAgLy8gSG91cnMsIG1pbnV0ZXMgYW5kIG9wdGlvbmFsIHNlY29uZHMgd2l0aCBgOmAgZGVsaW1pdGVyXG4gICAgICAvLyBOb3RlOiBuZWl0aGVyIElTTy04NjAxIG5vciBKYXZhU2NyaXB0IHN1cHBvcnRzIHNlY29uZHMgaW4gdGltZXpvbmUgb2Zmc2V0c1xuICAgICAgLy8gc28gdGhpcyB0b2tlbiBhbHdheXMgaGFzIHRoZSBzYW1lIG91dHB1dCBhcyBgeHh4YFxuICAgICAgY2FzZSBcInh4eHh4XCI6XG4gICAgICBjYXNlIFwieHh4XCI6IC8vIEhvdXJzIGFuZCBtaW51dGVzIHdpdGggYDpgIGRlbGltaXRlclxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0LCBcIjpcIik7XG4gICAgfVxuICB9LFxuXG4gIC8vIFRpbWV6b25lIChHTVQpXG4gIE86IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgX2xvY2FsaXplKSB7XG4gICAgY29uc3QgdGltZXpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG5cbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyBTaG9ydFxuICAgICAgY2FzZSBcIk9cIjpcbiAgICAgIGNhc2UgXCJPT1wiOlxuICAgICAgY2FzZSBcIk9PT1wiOlxuICAgICAgICByZXR1cm4gXCJHTVRcIiArIGZvcm1hdFRpbWV6b25lU2hvcnQodGltZXpvbmVPZmZzZXQsIFwiOlwiKTtcbiAgICAgIC8vIExvbmdcbiAgICAgIGNhc2UgXCJPT09PXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gXCJHTVRcIiArIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0LCBcIjpcIik7XG4gICAgfVxuICB9LFxuXG4gIC8vIFRpbWV6b25lIChzcGVjaWZpYyBub24tbG9jYXRpb24pXG4gIHo6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgX2xvY2FsaXplKSB7XG4gICAgY29uc3QgdGltZXpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG5cbiAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAvLyBTaG9ydFxuICAgICAgY2FzZSBcInpcIjpcbiAgICAgIGNhc2UgXCJ6elwiOlxuICAgICAgY2FzZSBcInp6elwiOlxuICAgICAgICByZXR1cm4gXCJHTVRcIiArIGZvcm1hdFRpbWV6b25lU2hvcnQodGltZXpvbmVPZmZzZXQsIFwiOlwiKTtcbiAgICAgIC8vIExvbmdcbiAgICAgIGNhc2UgXCJ6enp6XCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gXCJHTVRcIiArIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0LCBcIjpcIik7XG4gICAgfVxuICB9LFxuXG4gIC8vIFNlY29uZHMgdGltZXN0YW1wXG4gIHQ6IGZ1bmN0aW9uIChkYXRlLCB0b2tlbiwgX2xvY2FsaXplKSB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC50cnVuYyhkYXRlLmdldFRpbWUoKSAvIDEwMDApO1xuICAgIHJldHVybiBhZGRMZWFkaW5nWmVyb3ModGltZXN0YW1wLCB0b2tlbi5sZW5ndGgpO1xuICB9LFxuXG4gIC8vIE1pbGxpc2Vjb25kcyB0aW1lc3RhbXBcbiAgVDogZnVuY3Rpb24gKGRhdGUsIHRva2VuLCBfbG9jYWxpemUpIHtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBkYXRlLmdldFRpbWUoKTtcbiAgICByZXR1cm4gYWRkTGVhZGluZ1plcm9zKHRpbWVzdGFtcCwgdG9rZW4ubGVuZ3RoKTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGZvcm1hdFRpbWV6b25lU2hvcnQob2Zmc2V0LCBkZWxpbWl0ZXIgPSBcIlwiKSB7XG4gIGNvbnN0IHNpZ24gPSBvZmZzZXQgPiAwID8gXCItXCIgOiBcIitcIjtcbiAgY29uc3QgYWJzT2Zmc2V0ID0gTWF0aC5hYnMob2Zmc2V0KTtcbiAgY29uc3QgaG91cnMgPSBNYXRoLnRydW5jKGFic09mZnNldCAvIDYwKTtcbiAgY29uc3QgbWludXRlcyA9IGFic09mZnNldCAlIDYwO1xuICBpZiAobWludXRlcyA9PT0gMCkge1xuICAgIHJldHVybiBzaWduICsgU3RyaW5nKGhvdXJzKTtcbiAgfVxuICByZXR1cm4gc2lnbiArIFN0cmluZyhob3VycykgKyBkZWxpbWl0ZXIgKyBhZGRMZWFkaW5nWmVyb3MobWludXRlcywgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFRpbWV6b25lV2l0aE9wdGlvbmFsTWludXRlcyhvZmZzZXQsIGRlbGltaXRlcikge1xuICBpZiAob2Zmc2V0ICUgNjAgPT09IDApIHtcbiAgICBjb25zdCBzaWduID0gb2Zmc2V0ID4gMCA/IFwiLVwiIDogXCIrXCI7XG4gICAgcmV0dXJuIHNpZ24gKyBhZGRMZWFkaW5nWmVyb3MoTWF0aC5hYnMob2Zmc2V0KSAvIDYwLCAyKTtcbiAgfVxuICByZXR1cm4gZm9ybWF0VGltZXpvbmUob2Zmc2V0LCBkZWxpbWl0ZXIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRUaW1lem9uZShvZmZzZXQsIGRlbGltaXRlciA9IFwiXCIpIHtcbiAgY29uc3Qgc2lnbiA9IG9mZnNldCA+IDAgPyBcIi1cIiA6IFwiK1wiO1xuICBjb25zdCBhYnNPZmZzZXQgPSBNYXRoLmFicyhvZmZzZXQpO1xuICBjb25zdCBob3VycyA9IGFkZExlYWRpbmdaZXJvcyhNYXRoLnRydW5jKGFic09mZnNldCAvIDYwKSwgMik7XG4gIGNvbnN0IG1pbnV0ZXMgPSBhZGRMZWFkaW5nWmVyb3MoYWJzT2Zmc2V0ICUgNjAsIDIpO1xuICByZXR1cm4gc2lnbiArIGhvdXJzICsgZGVsaW1pdGVyICsgbWludXRlcztcbn1cbiIsICJjb25zdCBkYXRlTG9uZ0Zvcm1hdHRlciA9IChwYXR0ZXJuLCBmb3JtYXRMb25nKSA9PiB7XG4gIHN3aXRjaCAocGF0dGVybikge1xuICAgIGNhc2UgXCJQXCI6XG4gICAgICByZXR1cm4gZm9ybWF0TG9uZy5kYXRlKHsgd2lkdGg6IFwic2hvcnRcIiB9KTtcbiAgICBjYXNlIFwiUFBcIjpcbiAgICAgIHJldHVybiBmb3JtYXRMb25nLmRhdGUoeyB3aWR0aDogXCJtZWRpdW1cIiB9KTtcbiAgICBjYXNlIFwiUFBQXCI6XG4gICAgICByZXR1cm4gZm9ybWF0TG9uZy5kYXRlKHsgd2lkdGg6IFwibG9uZ1wiIH0pO1xuICAgIGNhc2UgXCJQUFBQXCI6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmb3JtYXRMb25nLmRhdGUoeyB3aWR0aDogXCJmdWxsXCIgfSk7XG4gIH1cbn07XG5cbmNvbnN0IHRpbWVMb25nRm9ybWF0dGVyID0gKHBhdHRlcm4sIGZvcm1hdExvbmcpID0+IHtcbiAgc3dpdGNoIChwYXR0ZXJuKSB7XG4gICAgY2FzZSBcInBcIjpcbiAgICAgIHJldHVybiBmb3JtYXRMb25nLnRpbWUoeyB3aWR0aDogXCJzaG9ydFwiIH0pO1xuICAgIGNhc2UgXCJwcFwiOlxuICAgICAgcmV0dXJuIGZvcm1hdExvbmcudGltZSh7IHdpZHRoOiBcIm1lZGl1bVwiIH0pO1xuICAgIGNhc2UgXCJwcHBcIjpcbiAgICAgIHJldHVybiBmb3JtYXRMb25nLnRpbWUoeyB3aWR0aDogXCJsb25nXCIgfSk7XG4gICAgY2FzZSBcInBwcHBcIjpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZvcm1hdExvbmcudGltZSh7IHdpZHRoOiBcImZ1bGxcIiB9KTtcbiAgfVxufTtcblxuY29uc3QgZGF0ZVRpbWVMb25nRm9ybWF0dGVyID0gKHBhdHRlcm4sIGZvcm1hdExvbmcpID0+IHtcbiAgY29uc3QgbWF0Y2hSZXN1bHQgPSBwYXR0ZXJuLm1hdGNoKC8oUCspKHArKT8vKSB8fCBbXTtcbiAgY29uc3QgZGF0ZVBhdHRlcm4gPSBtYXRjaFJlc3VsdFsxXTtcbiAgY29uc3QgdGltZVBhdHRlcm4gPSBtYXRjaFJlc3VsdFsyXTtcblxuICBpZiAoIXRpbWVQYXR0ZXJuKSB7XG4gICAgcmV0dXJuIGRhdGVMb25nRm9ybWF0dGVyKHBhdHRlcm4sIGZvcm1hdExvbmcpO1xuICB9XG5cbiAgbGV0IGRhdGVUaW1lRm9ybWF0O1xuXG4gIHN3aXRjaCAoZGF0ZVBhdHRlcm4pIHtcbiAgICBjYXNlIFwiUFwiOlxuICAgICAgZGF0ZVRpbWVGb3JtYXQgPSBmb3JtYXRMb25nLmRhdGVUaW1lKHsgd2lkdGg6IFwic2hvcnRcIiB9KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJQUFwiOlxuICAgICAgZGF0ZVRpbWVGb3JtYXQgPSBmb3JtYXRMb25nLmRhdGVUaW1lKHsgd2lkdGg6IFwibWVkaXVtXCIgfSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiUFBQXCI6XG4gICAgICBkYXRlVGltZUZvcm1hdCA9IGZvcm1hdExvbmcuZGF0ZVRpbWUoeyB3aWR0aDogXCJsb25nXCIgfSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiUFBQUFwiOlxuICAgIGRlZmF1bHQ6XG4gICAgICBkYXRlVGltZUZvcm1hdCA9IGZvcm1hdExvbmcuZGF0ZVRpbWUoeyB3aWR0aDogXCJmdWxsXCIgfSk7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIHJldHVybiBkYXRlVGltZUZvcm1hdFxuICAgIC5yZXBsYWNlKFwie3tkYXRlfX1cIiwgZGF0ZUxvbmdGb3JtYXR0ZXIoZGF0ZVBhdHRlcm4sIGZvcm1hdExvbmcpKVxuICAgIC5yZXBsYWNlKFwie3t0aW1lfX1cIiwgdGltZUxvbmdGb3JtYXR0ZXIodGltZVBhdHRlcm4sIGZvcm1hdExvbmcpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBsb25nRm9ybWF0dGVycyA9IHtcbiAgcDogdGltZUxvbmdGb3JtYXR0ZXIsXG4gIFA6IGRhdGVUaW1lTG9uZ0Zvcm1hdHRlcixcbn07XG4iLCAiY29uc3QgZGF5T2ZZZWFyVG9rZW5SRSA9IC9eRCskLztcbmNvbnN0IHdlZWtZZWFyVG9rZW5SRSA9IC9eWSskLztcblxuY29uc3QgdGhyb3dUb2tlbnMgPSBbXCJEXCIsIFwiRERcIiwgXCJZWVwiLCBcIllZWVlcIl07XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb3RlY3RlZERheU9mWWVhclRva2VuKHRva2VuKSB7XG4gIHJldHVybiBkYXlPZlllYXJUb2tlblJFLnRlc3QodG9rZW4pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQcm90ZWN0ZWRXZWVrWWVhclRva2VuKHRva2VuKSB7XG4gIHJldHVybiB3ZWVrWWVhclRva2VuUkUudGVzdCh0b2tlbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3YXJuT3JUaHJvd1Byb3RlY3RlZEVycm9yKHRva2VuLCBmb3JtYXQsIGlucHV0KSB7XG4gIGNvbnN0IF9tZXNzYWdlID0gbWVzc2FnZSh0b2tlbiwgZm9ybWF0LCBpbnB1dCk7XG4gIGNvbnNvbGUud2FybihfbWVzc2FnZSk7XG4gIGlmICh0aHJvd1Rva2Vucy5pbmNsdWRlcyh0b2tlbikpIHRocm93IG5ldyBSYW5nZUVycm9yKF9tZXNzYWdlKTtcbn1cblxuZnVuY3Rpb24gbWVzc2FnZSh0b2tlbiwgZm9ybWF0LCBpbnB1dCkge1xuICBjb25zdCBzdWJqZWN0ID0gdG9rZW5bMF0gPT09IFwiWVwiID8gXCJ5ZWFyc1wiIDogXCJkYXlzIG9mIHRoZSBtb250aFwiO1xuICByZXR1cm4gYFVzZSBcXGAke3Rva2VuLnRvTG93ZXJDYXNlKCl9XFxgIGluc3RlYWQgb2YgXFxgJHt0b2tlbn1cXGAgKGluIFxcYCR7Zm9ybWF0fVxcYCkgZm9yIGZvcm1hdHRpbmcgJHtzdWJqZWN0fSB0byB0aGUgaW5wdXQgXFxgJHtpbnB1dH1cXGA7IHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdW5pY29kZVRva2Vucy5tZGA7XG59XG4iLCAiaW1wb3J0IHsgZGVmYXVsdExvY2FsZSB9IGZyb20gXCIuL19saWIvZGVmYXVsdExvY2FsZS5tanNcIjtcbmltcG9ydCB7IGdldERlZmF1bHRPcHRpb25zIH0gZnJvbSBcIi4vX2xpYi9kZWZhdWx0T3B0aW9ucy5tanNcIjtcbmltcG9ydCB7IGZvcm1hdHRlcnMgfSBmcm9tIFwiLi9fbGliL2Zvcm1hdC9mb3JtYXR0ZXJzLm1qc1wiO1xuaW1wb3J0IHsgbG9uZ0Zvcm1hdHRlcnMgfSBmcm9tIFwiLi9fbGliL2Zvcm1hdC9sb25nRm9ybWF0dGVycy5tanNcIjtcbmltcG9ydCB7XG4gIGlzUHJvdGVjdGVkRGF5T2ZZZWFyVG9rZW4sXG4gIGlzUHJvdGVjdGVkV2Vla1llYXJUb2tlbixcbiAgd2Fybk9yVGhyb3dQcm90ZWN0ZWRFcnJvcixcbn0gZnJvbSBcIi4vX2xpYi9wcm90ZWN0ZWRUb2tlbnMubWpzXCI7XG5pbXBvcnQgeyBpc1ZhbGlkIH0gZnJvbSBcIi4vaXNWYWxpZC5tanNcIjtcbmltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcblxuLy8gUmV4cG9ydHMgb2YgaW50ZXJuYWwgZm9yIGxpYnJhcmllcyB0byB1c2UuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9pc3N1ZXMvMzYzOCNpc3N1ZWNvbW1lbnQtMTg3NzA4Mjg3NFxuZXhwb3J0IHsgZm9ybWF0dGVycywgbG9uZ0Zvcm1hdHRlcnMgfTtcblxuLy8gVGhpcyBSZWdFeHAgY29uc2lzdHMgb2YgdGhyZWUgcGFydHMgc2VwYXJhdGVkIGJ5IGB8YDpcbi8vIC0gW3lZUXFNTHdJZERlY2loSEtrbXNdbyBtYXRjaGVzIGFueSBhdmFpbGFibGUgb3JkaW5hbCBudW1iZXIgdG9rZW5cbi8vICAgKG9uZSBvZiB0aGUgY2VydGFpbiBsZXR0ZXJzIGZvbGxvd2VkIGJ5IGBvYClcbi8vIC0gKFxcdylcXDEqIG1hdGNoZXMgYW55IHNlcXVlbmNlcyBvZiB0aGUgc2FtZSBsZXR0ZXJcbi8vIC0gJycgbWF0Y2hlcyB0d28gcXVvdGUgY2hhcmFjdGVycyBpbiBhIHJvd1xuLy8gLSAnKCcnfFteJ10pKygnfCQpIG1hdGNoZXMgYW55dGhpbmcgc3Vycm91bmRlZCBieSB0d28gcXVvdGUgY2hhcmFjdGVycyAoJyksXG4vLyAgIGV4Y2VwdCBhIHNpbmdsZSBxdW90ZSBzeW1ib2wsIHdoaWNoIGVuZHMgdGhlIHNlcXVlbmNlLlxuLy8gICBUd28gcXVvdGUgY2hhcmFjdGVycyBkbyBub3QgZW5kIHRoZSBzZXF1ZW5jZS5cbi8vICAgSWYgdGhlcmUgaXMgbm8gbWF0Y2hpbmcgc2luZ2xlIHF1b3RlXG4vLyAgIHRoZW4gdGhlIHNlcXVlbmNlIHdpbGwgY29udGludWUgdW50aWwgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLlxuLy8gLSAuIG1hdGNoZXMgYW55IHNpbmdsZSBjaGFyYWN0ZXIgdW5tYXRjaGVkIGJ5IHByZXZpb3VzIHBhcnRzIG9mIHRoZSBSZWdFeHBzXG5jb25zdCBmb3JtYXR0aW5nVG9rZW5zUmVnRXhwID1cbiAgL1t5WVFxTUx3SWREZWNpaEhLa21zXW98KFxcdylcXDEqfCcnfCcoJyd8W14nXSkrKCd8JCl8Li9nO1xuXG4vLyBUaGlzIFJlZ0V4cCBjYXRjaGVzIHN5bWJvbHMgZXNjYXBlZCBieSBxdW90ZXMsIGFuZCBhbHNvXG4vLyBzZXF1ZW5jZXMgb2Ygc3ltYm9scyBQLCBwLCBhbmQgdGhlIGNvbWJpbmF0aW9ucyBsaWtlIGBQUFBQUFBQcHBwcHBgXG5jb25zdCBsb25nRm9ybWF0dGluZ1Rva2Vuc1JlZ0V4cCA9IC9QK3ArfFArfHArfCcnfCcoJyd8W14nXSkrKCd8JCl8Li9nO1xuXG5jb25zdCBlc2NhcGVkU3RyaW5nUmVnRXhwID0gL14nKFteXSo/KSc/JC87XG5jb25zdCBkb3VibGVRdW90ZVJlZ0V4cCA9IC8nJy9nO1xuY29uc3QgdW5lc2NhcGVkTGF0aW5DaGFyYWN0ZXJSZWdFeHAgPSAvW2EtekEtWl0vO1xuXG5leHBvcnQgeyBmb3JtYXQgYXMgZm9ybWF0RGF0ZSB9O1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgZm9ybWF0fSBmdW5jdGlvbiBvcHRpb25zLlxuICovXG5cbi8qKlxuICogQG5hbWUgZm9ybWF0XG4gKiBAYWxpYXMgZm9ybWF0RGF0ZVxuICogQGNhdGVnb3J5IENvbW1vbiBIZWxwZXJzXG4gKiBAc3VtbWFyeSBGb3JtYXQgdGhlIGRhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gdGhlIGZvcm1hdHRlZCBkYXRlIHN0cmluZyBpbiB0aGUgZ2l2ZW4gZm9ybWF0LiBUaGUgcmVzdWx0IG1heSB2YXJ5IGJ5IGxvY2FsZS5cbiAqXG4gKiA+IFx1MjZBMFx1RkUwRiBQbGVhc2Ugbm90ZSB0aGF0IHRoZSBgZm9ybWF0YCB0b2tlbnMgZGlmZmVyIGZyb20gTW9tZW50LmpzIGFuZCBvdGhlciBsaWJyYXJpZXMuXG4gKiA+IFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdW5pY29kZVRva2Vucy5tZFxuICpcbiAqIFRoZSBjaGFyYWN0ZXJzIHdyYXBwZWQgYmV0d2VlbiB0d28gc2luZ2xlIHF1b3RlcyBjaGFyYWN0ZXJzICgnKSBhcmUgZXNjYXBlZC5cbiAqIFR3byBzaW5nbGUgcXVvdGVzIGluIGEgcm93LCB3aGV0aGVyIGluc2lkZSBvciBvdXRzaWRlIGEgcXVvdGVkIHNlcXVlbmNlLCByZXByZXNlbnQgYSAncmVhbCcgc2luZ2xlIHF1b3RlLlxuICogKHNlZSB0aGUgbGFzdCBleGFtcGxlKVxuICpcbiAqIEZvcm1hdCBvZiB0aGUgc3RyaW5nIGlzIGJhc2VkIG9uIFVuaWNvZGUgVGVjaG5pY2FsIFN0YW5kYXJkICMzNTpcbiAqIGh0dHBzOi8vd3d3LnVuaWNvZGUub3JnL3JlcG9ydHMvdHIzNS90cjM1LWRhdGVzLmh0bWwjRGF0ZV9GaWVsZF9TeW1ib2xfVGFibGVcbiAqIHdpdGggYSBmZXcgYWRkaXRpb25zIChzZWUgbm90ZSA3IGJlbG93IHRoZSB0YWJsZSkuXG4gKlxuICogQWNjZXB0ZWQgcGF0dGVybnM6XG4gKiB8IFVuaXQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBQYXR0ZXJuIHwgUmVzdWx0IGV4YW1wbGVzICAgICAgICAgICAgICAgICAgIHwgTm90ZXMgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLXxcbiAqIHwgRXJhICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEcuLkdHRyAgfCBBRCwgQkMgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBHR0dHICAgIHwgQW5ubyBEb21pbmksIEJlZm9yZSBDaHJpc3QgICAgICAgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgR0dHR0cgICB8IEEsIEIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgQ2FsZW5kYXIgeWVhciAgICAgICAgICAgICAgICAgICB8IHkgICAgICAgfCA0NCwgMSwgMTkwMCwgMjAxNyAgICAgICAgICAgICAgICAgfCA1ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB5byAgICAgIHwgNDR0aCwgMXN0LCAwdGgsIDE3dGggICAgICAgICAgICAgIHwgNSw3ICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgeXkgICAgICB8IDQ0LCAwMSwgMDAsIDE3ICAgICAgICAgICAgICAgICAgICB8IDUgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHl5eSAgICAgfCAwNDQsIDAwMSwgMTkwMCwgMjAxNyAgICAgICAgICAgICAgfCA1ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB5eXl5ICAgIHwgMDA0NCwgMDAwMSwgMTkwMCwgMjAxNyAgICAgICAgICAgIHwgNSAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgeXl5eXkgICB8IC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IDMsNSAgIHxcbiAqIHwgTG9jYWwgd2Vlay1udW1iZXJpbmcgeWVhciAgICAgICB8IFkgICAgICAgfCA0NCwgMSwgMTkwMCwgMjAxNyAgICAgICAgICAgICAgICAgfCA1ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBZbyAgICAgIHwgNDR0aCwgMXN0LCAxOTAwdGgsIDIwMTd0aCAgICAgICAgIHwgNSw3ICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgWVkgICAgICB8IDQ0LCAwMSwgMDAsIDE3ICAgICAgICAgICAgICAgICAgICB8IDUsOCAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFlZWSAgICAgfCAwNDQsIDAwMSwgMTkwMCwgMjAxNyAgICAgICAgICAgICAgfCA1ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBZWVlZICAgIHwgMDA0NCwgMDAwMSwgMTkwMCwgMjAxNyAgICAgICAgICAgIHwgNSw4ICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgWVlZWVkgICB8IC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IDMsNSAgIHxcbiAqIHwgSVNPIHdlZWstbnVtYmVyaW5nIHllYXIgICAgICAgICB8IFIgICAgICAgfCAtNDMsIDAsIDEsIDE5MDAsIDIwMTcgICAgICAgICAgICAgfCA1LDcgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBSUiAgICAgIHwgLTQzLCAwMCwgMDEsIDE5MDAsIDIwMTcgICAgICAgICAgIHwgNSw3ICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUlJSICAgICB8IC0wNDMsIDAwMCwgMDAxLCAxOTAwLCAyMDE3ICAgICAgICB8IDUsNyAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFJSUlIgICAgfCAtMDA0MywgMDAwMCwgMDAwMSwgMTkwMCwgMjAxNyAgICAgfCA1LDcgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBSUlJSUiAgIHwgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgMyw1LDcgfFxuICogfCBFeHRlbmRlZCB5ZWFyICAgICAgICAgICAgICAgICAgIHwgdSAgICAgICB8IC00MywgMCwgMSwgMTkwMCwgMjAxNyAgICAgICAgICAgICB8IDUgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHV1ICAgICAgfCAtNDMsIDAxLCAxOTAwLCAyMDE3ICAgICAgICAgICAgICAgfCA1ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB1dXUgICAgIHwgLTA0MywgMDAxLCAxOTAwLCAyMDE3ICAgICAgICAgICAgIHwgNSAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgdXV1dSAgICB8IC0wMDQzLCAwMDAxLCAxOTAwLCAyMDE3ICAgICAgICAgICB8IDUgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHV1dXV1ICAgfCAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAzLDUgICB8XG4gKiB8IFF1YXJ0ZXIgKGZvcm1hdHRpbmcpICAgICAgICAgICAgfCBRICAgICAgIHwgMSwgMiwgMywgNCAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUW8gICAgICB8IDFzdCwgMm5kLCAzcmQsIDR0aCAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFFRICAgICAgfCAwMSwgMDIsIDAzLCAwNCAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBRUVEgICAgIHwgUTEsIFEyLCBRMywgUTQgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUVFRUSAgICB8IDFzdCBxdWFydGVyLCAybmQgcXVhcnRlciwgLi4uICAgICB8IDIgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFFRUVFRICAgfCAxLCAyLCAzLCA0ICAgICAgICAgICAgICAgICAgICAgICAgfCA0ICAgICB8XG4gKiB8IFF1YXJ0ZXIgKHN0YW5kLWFsb25lKSAgICAgICAgICAgfCBxICAgICAgIHwgMSwgMiwgMywgNCAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgcW8gICAgICB8IDFzdCwgMm5kLCAzcmQsIDR0aCAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHFxICAgICAgfCAwMSwgMDIsIDAzLCAwNCAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBxcXEgICAgIHwgUTEsIFEyLCBRMywgUTQgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgcXFxcSAgICB8IDFzdCBxdWFydGVyLCAybmQgcXVhcnRlciwgLi4uICAgICB8IDIgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHFxcXFxICAgfCAxLCAyLCAzLCA0ICAgICAgICAgICAgICAgICAgICAgICAgfCA0ICAgICB8XG4gKiB8IE1vbnRoIChmb3JtYXR0aW5nKSAgICAgICAgICAgICAgfCBNICAgICAgIHwgMSwgMiwgLi4uLCAxMiAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgTW8gICAgICB8IDFzdCwgMm5kLCAuLi4sIDEydGggICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IE1NICAgICAgfCAwMSwgMDIsIC4uLiwgMTIgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBNTU0gICAgIHwgSmFuLCBGZWIsIC4uLiwgRGVjICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgTU1NTSAgICB8IEphbnVhcnksIEZlYnJ1YXJ5LCAuLi4sIERlY2VtYmVyICB8IDIgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IE1NTU1NICAgfCBKLCBGLCAuLi4sIEQgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8IE1vbnRoIChzdGFuZC1hbG9uZSkgICAgICAgICAgICAgfCBMICAgICAgIHwgMSwgMiwgLi4uLCAxMiAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgTG8gICAgICB8IDFzdCwgMm5kLCAuLi4sIDEydGggICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IExMICAgICAgfCAwMSwgMDIsIC4uLiwgMTIgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBMTEwgICAgIHwgSmFuLCBGZWIsIC4uLiwgRGVjICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgTExMTCAgICB8IEphbnVhcnksIEZlYnJ1YXJ5LCAuLi4sIERlY2VtYmVyICB8IDIgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IExMTExMICAgfCBKLCBGLCAuLi4sIEQgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8IExvY2FsIHdlZWsgb2YgeWVhciAgICAgICAgICAgICAgfCB3ICAgICAgIHwgMSwgMiwgLi4uLCA1MyAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgd28gICAgICB8IDFzdCwgMm5kLCAuLi4sIDUzdGggICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHd3ICAgICAgfCAwMSwgMDIsIC4uLiwgNTMgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8IElTTyB3ZWVrIG9mIHllYXIgICAgICAgICAgICAgICAgfCBJICAgICAgIHwgMSwgMiwgLi4uLCA1MyAgICAgICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgSW8gICAgICB8IDFzdCwgMm5kLCAuLi4sIDUzdGggICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IElJICAgICAgfCAwMSwgMDIsIC4uLiwgNTMgICAgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8IERheSBvZiBtb250aCAgICAgICAgICAgICAgICAgICAgfCBkICAgICAgIHwgMSwgMiwgLi4uLCAzMSAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZG8gICAgICB8IDFzdCwgMm5kLCAuLi4sIDMxc3QgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGRkICAgICAgfCAwMSwgMDIsIC4uLiwgMzEgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8IERheSBvZiB5ZWFyICAgICAgICAgICAgICAgICAgICAgfCBEICAgICAgIHwgMSwgMiwgLi4uLCAzNjUsIDM2NiAgICAgICAgICAgICAgIHwgOSAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgRG8gICAgICB8IDFzdCwgMm5kLCAuLi4sIDM2NXRoLCAzNjZ0aCAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEREICAgICAgfCAwMSwgMDIsIC4uLiwgMzY1LCAzNjYgICAgICAgICAgICAgfCA5ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBEREQgICAgIHwgMDAxLCAwMDIsIC4uLiwgMzY1LCAzNjYgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgRERERCAgICB8IC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IDMgICAgIHxcbiAqIHwgRGF5IG9mIHdlZWsgKGZvcm1hdHRpbmcpICAgICAgICB8IEUuLkVFRSAgfCBNb24sIFR1ZSwgV2VkLCAuLi4sIFN1biAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBFRUVFICAgIHwgTW9uZGF5LCBUdWVzZGF5LCAuLi4sIFN1bmRheSAgICAgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgRUVFRUUgICB8IE0sIFQsIFcsIFQsIEYsIFMsIFMgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEVFRUVFRSAgfCBNbywgVHUsIFdlLCBUaCwgRnIsIFNhLCBTdSAgICAgICAgfCAgICAgICB8XG4gKiB8IElTTyBkYXkgb2Ygd2VlayAoZm9ybWF0dGluZykgICAgfCBpICAgICAgIHwgMSwgMiwgMywgLi4uLCA3ICAgICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgaW8gICAgICB8IDFzdCwgMm5kLCAuLi4sIDd0aCAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGlpICAgICAgfCAwMSwgMDIsIC4uLiwgMDcgICAgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBpaWkgICAgIHwgTW9uLCBUdWUsIFdlZCwgLi4uLCBTdW4gICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgaWlpaSAgICB8IE1vbmRheSwgVHVlc2RheSwgLi4uLCBTdW5kYXkgICAgICB8IDIsNyAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGlpaWlpICAgfCBNLCBULCBXLCBULCBGLCBTLCBTICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBpaWlpaWkgIHwgTW8sIFR1LCBXZSwgVGgsIEZyLCBTYSwgU3UgICAgICAgIHwgNyAgICAgfFxuICogfCBMb2NhbCBkYXkgb2Ygd2VlayAoZm9ybWF0dGluZykgIHwgZSAgICAgICB8IDIsIDMsIDQsIC4uLiwgMSAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGVvICAgICAgfCAybmQsIDNyZCwgLi4uLCAxc3QgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBlZSAgICAgIHwgMDIsIDAzLCAuLi4sIDAxICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZWVlICAgICB8IE1vbiwgVHVlLCBXZWQsIC4uLiwgU3VuICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGVlZWUgICAgfCBNb25kYXksIFR1ZXNkYXksIC4uLiwgU3VuZGF5ICAgICAgfCAyICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBlZWVlZSAgIHwgTSwgVCwgVywgVCwgRiwgUywgUyAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZWVlZWVlICB8IE1vLCBUdSwgV2UsIFRoLCBGciwgU2EsIFN1ICAgICAgICB8ICAgICAgIHxcbiAqIHwgTG9jYWwgZGF5IG9mIHdlZWsgKHN0YW5kLWFsb25lKSB8IGMgICAgICAgfCAyLCAzLCA0LCAuLi4sIDEgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBjbyAgICAgIHwgMm5kLCAzcmQsIC4uLiwgMXN0ICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgY2MgICAgICB8IDAyLCAwMywgLi4uLCAwMSAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGNjYyAgICAgfCBNb24sIFR1ZSwgV2VkLCAuLi4sIFN1biAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBjY2NjICAgIHwgTW9uZGF5LCBUdWVzZGF5LCAuLi4sIFN1bmRheSAgICAgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgY2NjY2MgICB8IE0sIFQsIFcsIFQsIEYsIFMsIFMgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGNjY2NjYyAgfCBNbywgVHUsIFdlLCBUaCwgRnIsIFNhLCBTdSAgICAgICAgfCAgICAgICB8XG4gKiB8IEFNLCBQTSAgICAgICAgICAgICAgICAgICAgICAgICAgfCBhLi5hYSAgIHwgQU0sIFBNICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYWFhICAgICB8IGFtLCBwbSAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGFhYWEgICAgfCBhLm0uLCBwLm0uICAgICAgICAgICAgICAgICAgICAgICAgfCAyICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBhYWFhYSAgIHwgYSwgcCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCBBTSwgUE0sIG5vb24sIG1pZG5pZ2h0ICAgICAgICAgIHwgYi4uYmIgICB8IEFNLCBQTSwgbm9vbiwgbWlkbmlnaHQgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGJiYiAgICAgfCBhbSwgcG0sIG5vb24sIG1pZG5pZ2h0ICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBiYmJiICAgIHwgYS5tLiwgcC5tLiwgbm9vbiwgbWlkbmlnaHQgICAgICAgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYmJiYmIgICB8IGEsIHAsIG4sIG1pICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgRmxleGlibGUgZGF5IHBlcmlvZCAgICAgICAgICAgICB8IEIuLkJCQiAgfCBhdCBuaWdodCwgaW4gdGhlIG1vcm5pbmcsIC4uLiAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBCQkJCICAgIHwgYXQgbmlnaHQsIGluIHRoZSBtb3JuaW5nLCAuLi4gICAgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgQkJCQkIgICB8IGF0IG5pZ2h0LCBpbiB0aGUgbW9ybmluZywgLi4uICAgICB8ICAgICAgIHxcbiAqIHwgSG91ciBbMS0xMl0gICAgICAgICAgICAgICAgICAgICB8IGggICAgICAgfCAxLCAyLCAuLi4sIDExLCAxMiAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBobyAgICAgIHwgMXN0LCAybmQsIC4uLiwgMTF0aCwgMTJ0aCAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgaGggICAgICB8IDAxLCAwMiwgLi4uLCAxMSwgMTIgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgSG91ciBbMC0yM10gICAgICAgICAgICAgICAgICAgICB8IEggICAgICAgfCAwLCAxLCAyLCAuLi4sIDIzICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBIbyAgICAgIHwgMHRoLCAxc3QsIDJuZCwgLi4uLCAyM3JkICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgSEggICAgICB8IDAwLCAwMSwgMDIsIC4uLiwgMjMgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgSG91ciBbMC0xMV0gICAgICAgICAgICAgICAgICAgICB8IEsgICAgICAgfCAxLCAyLCAuLi4sIDExLCAwICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBLbyAgICAgIHwgMXN0LCAybmQsIC4uLiwgMTF0aCwgMHRoICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgS0sgICAgICB8IDAxLCAwMiwgLi4uLCAxMSwgMDAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgSG91ciBbMS0yNF0gICAgICAgICAgICAgICAgICAgICB8IGsgICAgICAgfCAyNCwgMSwgMiwgLi4uLCAyMyAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBrbyAgICAgIHwgMjR0aCwgMXN0LCAybmQsIC4uLiwgMjNyZCAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwga2sgICAgICB8IDI0LCAwMSwgMDIsIC4uLiwgMjMgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgTWludXRlICAgICAgICAgICAgICAgICAgICAgICAgICB8IG0gICAgICAgfCAwLCAxLCAuLi4sIDU5ICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBtbyAgICAgIHwgMHRoLCAxc3QsIC4uLiwgNTl0aCAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgbW0gICAgICB8IDAwLCAwMSwgLi4uLCA1OSAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgU2Vjb25kICAgICAgICAgICAgICAgICAgICAgICAgICB8IHMgICAgICAgfCAwLCAxLCAuLi4sIDU5ICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBzbyAgICAgIHwgMHRoLCAxc3QsIC4uLiwgNTl0aCAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgc3MgICAgICB8IDAwLCAwMSwgLi4uLCA1OSAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgRnJhY3Rpb24gb2Ygc2Vjb25kICAgICAgICAgICAgICB8IFMgICAgICAgfCAwLCAxLCAuLi4sIDkgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBTUyAgICAgIHwgMDAsIDAxLCAuLi4sIDk5ICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgU1NTICAgICB8IDAwMCwgMDAxLCAuLi4sIDk5OSAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFNTU1MgICAgfCAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAzICAgICB8XG4gKiB8IFRpbWV6b25lIChJU08tODYwMSB3LyBaKSAgICAgICAgfCBYICAgICAgIHwgLTA4LCArMDUzMCwgWiAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgWFggICAgICB8IC0wODAwLCArMDUzMCwgWiAgICAgICAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFhYWCAgICAgfCAtMDg6MDAsICswNTozMCwgWiAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBYWFhYICAgIHwgLTA4MDAsICswNTMwLCBaLCArMTIzNDU2ICAgICAgICAgIHwgMiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgWFhYWFggICB8IC0wODowMCwgKzA1OjMwLCBaLCArMTI6MzQ6NTYgICAgICB8ICAgICAgIHxcbiAqIHwgVGltZXpvbmUgKElTTy04NjAxIHcvbyBaKSAgICAgICB8IHggICAgICAgfCAtMDgsICswNTMwLCArMDAgICAgICAgICAgICAgICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB4eCAgICAgIHwgLTA4MDAsICswNTMwLCArMDAwMCAgICAgICAgICAgICAgIHwgICAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgeHh4ICAgICB8IC0wODowMCwgKzA1OjMwLCArMDA6MDAgICAgICAgICAgICB8IDIgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHh4eHggICAgfCAtMDgwMCwgKzA1MzAsICswMDAwLCArMTIzNDU2ICAgICAgfCAgICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB4eHh4eCAgIHwgLTA4OjAwLCArMDU6MzAsICswMDowMCwgKzEyOjM0OjU2IHwgICAgICAgfFxuICogfCBUaW1lem9uZSAoR01UKSAgICAgICAgICAgICAgICAgIHwgTy4uLk9PTyB8IEdNVC04LCBHTVQrNTozMCwgR01UKzAgICAgICAgICAgICB8ICAgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IE9PT08gICAgfCBHTVQtMDg6MDAsIEdNVCswNTozMCwgR01UKzAwOjAwICAgfCAyICAgICB8XG4gKiB8IFRpbWV6b25lIChzcGVjaWZpYyBub24tbG9jYXQuKSAgfCB6Li4uenp6IHwgR01ULTgsIEdNVCs1OjMwLCBHTVQrMCAgICAgICAgICAgIHwgNiAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgenp6eiAgICB8IEdNVC0wODowMCwgR01UKzA1OjMwLCBHTVQrMDA6MDAgICB8IDIsNiAgIHxcbiAqIHwgU2Vjb25kcyB0aW1lc3RhbXAgICAgICAgICAgICAgICB8IHQgICAgICAgfCA1MTI5Njk1MjAgICAgICAgICAgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCB0dCAgICAgIHwgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgMyw3ICAgfFxuICogfCBNaWxsaXNlY29uZHMgdGltZXN0YW1wICAgICAgICAgIHwgVCAgICAgICB8IDUxMjk2OTUyMDkwMCAgICAgICAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFRUICAgICAgfCAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAzLDcgICB8XG4gKiB8IExvbmcgbG9jYWxpemVkIGRhdGUgICAgICAgICAgICAgfCBQICAgICAgIHwgMDQvMjkvMTQ1MyAgICAgICAgICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUFAgICAgICB8IEFwciAyOSwgMTQ1MyAgICAgICAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFBQUCAgICAgfCBBcHJpbCAyOXRoLCAxNDUzICAgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBQUFBQICAgIHwgRnJpZGF5LCBBcHJpbCAyOXRoLCAxNDUzICAgICAgICAgIHwgMiw3ICAgfFxuICogfCBMb25nIGxvY2FsaXplZCB0aW1lICAgICAgICAgICAgIHwgcCAgICAgICB8IDEyOjAwIEFNICAgICAgICAgICAgICAgICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHBwICAgICAgfCAxMjowMDowMCBBTSAgICAgICAgICAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBwcHAgICAgIHwgMTI6MDA6MDAgQU0gR01UKzIgICAgICAgICAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgcHBwcCAgICB8IDEyOjAwOjAwIEFNIEdNVCswMjowMCAgICAgICAgICAgICB8IDIsNyAgIHxcbiAqIHwgQ29tYmluYXRpb24gb2YgZGF0ZSBhbmQgdGltZSAgICB8IFBwICAgICAgfCAwNC8yOS8xNDUzLCAxMjowMCBBTSAgICAgICAgICAgICAgfCA3ICAgICB8XG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBQUHBwICAgIHwgQXByIDI5LCAxNDUzLCAxMjowMDowMCBBTSAgICAgICAgIHwgNyAgICAgfFxuICogfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgUFBQcHBwICB8IEFwcmlsIDI5dGgsIDE0NTMgYXQgLi4uICAgICAgICAgICB8IDcgICAgIHxcbiAqIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IFBQUFBwcHBwfCBGcmlkYXksIEFwcmlsIDI5dGgsIDE0NTMgYXQgLi4uICAgfCAyLDcgICB8XG4gKiBOb3RlczpcbiAqIDEuIFwiRm9ybWF0dGluZ1wiIHVuaXRzIChlLmcuIGZvcm1hdHRpbmcgcXVhcnRlcikgaW4gdGhlIGRlZmF1bHQgZW4tVVMgbG9jYWxlXG4gKiAgICBhcmUgdGhlIHNhbWUgYXMgXCJzdGFuZC1hbG9uZVwiIHVuaXRzLCBidXQgYXJlIGRpZmZlcmVudCBpbiBzb21lIGxhbmd1YWdlcy5cbiAqICAgIFwiRm9ybWF0dGluZ1wiIHVuaXRzIGFyZSBkZWNsaW5lZCBhY2NvcmRpbmcgdG8gdGhlIHJ1bGVzIG9mIHRoZSBsYW5ndWFnZVxuICogICAgaW4gdGhlIGNvbnRleHQgb2YgYSBkYXRlLiBcIlN0YW5kLWFsb25lXCIgdW5pdHMgYXJlIGFsd2F5cyBub21pbmF0aXZlIHNpbmd1bGFyOlxuICpcbiAqICAgIGBmb3JtYXQobmV3IERhdGUoMjAxNywgMTAsIDYpLCAnZG8gTExMTCcsIHtsb2NhbGU6IGNzfSkgLy89PiAnNi4gbGlzdG9wYWQnYFxuICpcbiAqICAgIGBmb3JtYXQobmV3IERhdGUoMjAxNywgMTAsIDYpLCAnZG8gTU1NTScsIHtsb2NhbGU6IGNzfSkgLy89PiAnNi4gbGlzdG9wYWR1J2BcbiAqXG4gKiAyLiBBbnkgc2VxdWVuY2Ugb2YgdGhlIGlkZW50aWNhbCBsZXR0ZXJzIGlzIGEgcGF0dGVybiwgdW5sZXNzIGl0IGlzIGVzY2FwZWQgYnlcbiAqICAgIHRoZSBzaW5nbGUgcXVvdGUgY2hhcmFjdGVycyAoc2VlIGJlbG93KS5cbiAqICAgIElmIHRoZSBzZXF1ZW5jZSBpcyBsb25nZXIgdGhhbiBsaXN0ZWQgaW4gdGFibGUgKGUuZy4gYEVFRUVFRUVFRUVFYClcbiAqICAgIHRoZSBvdXRwdXQgd2lsbCBiZSB0aGUgc2FtZSBhcyBkZWZhdWx0IHBhdHRlcm4gZm9yIHRoaXMgdW5pdCwgdXN1YWxseVxuICogICAgdGhlIGxvbmdlc3Qgb25lIChpbiBjYXNlIG9mIElTTyB3ZWVrZGF5cywgYEVFRUVgKS4gRGVmYXVsdCBwYXR0ZXJucyBmb3IgdW5pdHNcbiAqICAgIGFyZSBtYXJrZWQgd2l0aCBcIjJcIiBpbiB0aGUgbGFzdCBjb2x1bW4gb2YgdGhlIHRhYmxlLlxuICpcbiAqICAgIGBmb3JtYXQobmV3IERhdGUoMjAxNywgMTAsIDYpLCAnTU1NJykgLy89PiAnTm92J2BcbiAqXG4gKiAgICBgZm9ybWF0KG5ldyBEYXRlKDIwMTcsIDEwLCA2KSwgJ01NTU0nKSAvLz0+ICdOb3ZlbWJlcidgXG4gKlxuICogICAgYGZvcm1hdChuZXcgRGF0ZSgyMDE3LCAxMCwgNiksICdNTU1NTScpIC8vPT4gJ04nYFxuICpcbiAqICAgIGBmb3JtYXQobmV3IERhdGUoMjAxNywgMTAsIDYpLCAnTU1NTU1NJykgLy89PiAnTm92ZW1iZXInYFxuICpcbiAqICAgIGBmb3JtYXQobmV3IERhdGUoMjAxNywgMTAsIDYpLCAnTU1NTU1NTScpIC8vPT4gJ05vdmVtYmVyJ2BcbiAqXG4gKiAzLiBTb21lIHBhdHRlcm5zIGNvdWxkIGJlIHVubGltaXRlZCBsZW5ndGggKHN1Y2ggYXMgYHl5eXl5eXl5YCkuXG4gKiAgICBUaGUgb3V0cHV0IHdpbGwgYmUgcGFkZGVkIHdpdGggemVyb3MgdG8gbWF0Y2ggdGhlIGxlbmd0aCBvZiB0aGUgcGF0dGVybi5cbiAqXG4gKiAgICBgZm9ybWF0KG5ldyBEYXRlKDIwMTcsIDEwLCA2KSwgJ3l5eXl5eXl5JykgLy89PiAnMDAwMDIwMTcnYFxuICpcbiAqIDQuIGBRUVFRUWAgYW5kIGBxcXFxcWAgY291bGQgYmUgbm90IHN0cmljdGx5IG51bWVyaWNhbCBpbiBzb21lIGxvY2FsZXMuXG4gKiAgICBUaGVzZSB0b2tlbnMgcmVwcmVzZW50IHRoZSBzaG9ydGVzdCBmb3JtIG9mIHRoZSBxdWFydGVyLlxuICpcbiAqIDUuIFRoZSBtYWluIGRpZmZlcmVuY2UgYmV0d2VlbiBgeWAgYW5kIGB1YCBwYXR0ZXJucyBhcmUgQi5DLiB5ZWFyczpcbiAqXG4gKiAgICB8IFllYXIgfCBgeWAgfCBgdWAgfFxuICogICAgfC0tLS0tLXwtLS0tLXwtLS0tLXxcbiAqICAgIHwgQUMgMSB8ICAgMSB8ICAgMSB8XG4gKiAgICB8IEJDIDEgfCAgIDEgfCAgIDAgfFxuICogICAgfCBCQyAyIHwgICAyIHwgIC0xIHxcbiAqXG4gKiAgICBBbHNvIGB5eWAgYWx3YXlzIHJldHVybnMgdGhlIGxhc3QgdHdvIGRpZ2l0cyBvZiBhIHllYXIsXG4gKiAgICB3aGlsZSBgdXVgIHBhZHMgc2luZ2xlIGRpZ2l0IHllYXJzIHRvIDIgY2hhcmFjdGVycyBhbmQgcmV0dXJucyBvdGhlciB5ZWFycyB1bmNoYW5nZWQ6XG4gKlxuICogICAgfCBZZWFyIHwgYHl5YCB8IGB1dWAgfFxuICogICAgfC0tLS0tLXwtLS0tLS18LS0tLS0tfFxuICogICAgfCAxICAgIHwgICAwMSB8ICAgMDEgfFxuICogICAgfCAxNCAgIHwgICAxNCB8ICAgMTQgfFxuICogICAgfCAzNzYgIHwgICA3NiB8ICAzNzYgfFxuICogICAgfCAxNDUzIHwgICA1MyB8IDE0NTMgfFxuICpcbiAqICAgIFRoZSBzYW1lIGRpZmZlcmVuY2UgaXMgdHJ1ZSBmb3IgbG9jYWwgYW5kIElTTyB3ZWVrLW51bWJlcmluZyB5ZWFycyAoYFlgIGFuZCBgUmApLFxuICogICAgZXhjZXB0IGxvY2FsIHdlZWstbnVtYmVyaW5nIHllYXJzIGFyZSBkZXBlbmRlbnQgb24gYG9wdGlvbnMud2Vla1N0YXJ0c09uYFxuICogICAgYW5kIGBvcHRpb25zLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZWAgKGNvbXBhcmUgW2dldElTT1dlZWtZZWFyXShodHRwczovL2RhdGUtZm5zLm9yZy9kb2NzL2dldElTT1dlZWtZZWFyKVxuICogICAgYW5kIFtnZXRXZWVrWWVhcl0oaHR0cHM6Ly9kYXRlLWZucy5vcmcvZG9jcy9nZXRXZWVrWWVhcikpLlxuICpcbiAqIDYuIFNwZWNpZmljIG5vbi1sb2NhdGlvbiB0aW1lem9uZXMgYXJlIGN1cnJlbnRseSB1bmF2YWlsYWJsZSBpbiBgZGF0ZS1mbnNgLFxuICogICAgc28gcmlnaHQgbm93IHRoZXNlIHRva2VucyBmYWxsIGJhY2sgdG8gR01UIHRpbWV6b25lcy5cbiAqXG4gKiA3LiBUaGVzZSBwYXR0ZXJucyBhcmUgbm90IGluIHRoZSBVbmljb2RlIFRlY2huaWNhbCBTdGFuZGFyZCAjMzU6XG4gKiAgICAtIGBpYDogSVNPIGRheSBvZiB3ZWVrXG4gKiAgICAtIGBJYDogSVNPIHdlZWsgb2YgeWVhclxuICogICAgLSBgUmA6IElTTyB3ZWVrLW51bWJlcmluZyB5ZWFyXG4gKiAgICAtIGB0YDogc2Vjb25kcyB0aW1lc3RhbXBcbiAqICAgIC0gYFRgOiBtaWxsaXNlY29uZHMgdGltZXN0YW1wXG4gKiAgICAtIGBvYDogb3JkaW5hbCBudW1iZXIgbW9kaWZpZXJcbiAqICAgIC0gYFBgOiBsb25nIGxvY2FsaXplZCBkYXRlXG4gKiAgICAtIGBwYDogbG9uZyBsb2NhbGl6ZWQgdGltZVxuICpcbiAqIDguIGBZWWAgYW5kIGBZWVlZYCB0b2tlbnMgcmVwcmVzZW50IHdlZWstbnVtYmVyaW5nIHllYXJzIGJ1dCB0aGV5IGFyZSBvZnRlbiBjb25mdXNlZCB3aXRoIHllYXJzLlxuICogICAgWW91IHNob3VsZCBlbmFibGUgYG9wdGlvbnMudXNlQWRkaXRpb25hbFdlZWtZZWFyVG9rZW5zYCB0byB1c2UgdGhlbS4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91bmljb2RlVG9rZW5zLm1kXG4gKlxuICogOS4gYERgIGFuZCBgRERgIHRva2VucyByZXByZXNlbnQgZGF5cyBvZiB0aGUgeWVhciBidXQgdGhleSBhcmUgb2Z0ZW4gY29uZnVzZWQgd2l0aCBkYXlzIG9mIHRoZSBtb250aC5cbiAqICAgIFlvdSBzaG91bGQgZW5hYmxlIGBvcHRpb25zLnVzZUFkZGl0aW9uYWxEYXlPZlllYXJUb2tlbnNgIHRvIHVzZSB0aGVtLiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VuaWNvZGVUb2tlbnMubWRcbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZSAtIFRoZSBvcmlnaW5hbCBkYXRlXG4gKiBAcGFyYW0gZm9ybWF0IC0gVGhlIHN0cmluZyBvZiB0b2tlbnNcbiAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb2JqZWN0IHdpdGggb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIFRoZSBmb3JtYXR0ZWQgZGF0ZSBzdHJpbmdcbiAqXG4gKiBAdGhyb3dzIGBkYXRlYCBtdXN0IG5vdCBiZSBJbnZhbGlkIERhdGVcbiAqIEB0aHJvd3MgYG9wdGlvbnMubG9jYWxlYCBtdXN0IGNvbnRhaW4gYGxvY2FsaXplYCBwcm9wZXJ0eVxuICogQHRocm93cyBgb3B0aW9ucy5sb2NhbGVgIG11c3QgY29udGFpbiBgZm9ybWF0TG9uZ2AgcHJvcGVydHlcbiAqIEB0aHJvd3MgdXNlIGB5eXl5YCBpbnN0ZWFkIG9mIGBZWVlZYCBmb3IgZm9ybWF0dGluZyB5ZWFycyB1c2luZyBbZm9ybWF0IHByb3ZpZGVkXSB0byB0aGUgaW5wdXQgW2lucHV0IHByb3ZpZGVkXTsgc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91bmljb2RlVG9rZW5zLm1kXG4gKiBAdGhyb3dzIHVzZSBgeXlgIGluc3RlYWQgb2YgYFlZYCBmb3IgZm9ybWF0dGluZyB5ZWFycyB1c2luZyBbZm9ybWF0IHByb3ZpZGVkXSB0byB0aGUgaW5wdXQgW2lucHV0IHByb3ZpZGVkXTsgc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91bmljb2RlVG9rZW5zLm1kXG4gKiBAdGhyb3dzIHVzZSBgZGAgaW5zdGVhZCBvZiBgRGAgZm9yIGZvcm1hdHRpbmcgZGF5cyBvZiB0aGUgbW9udGggdXNpbmcgW2Zvcm1hdCBwcm92aWRlZF0gdG8gdGhlIGlucHV0IFtpbnB1dCBwcm92aWRlZF07IHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdW5pY29kZVRva2Vucy5tZFxuICogQHRocm93cyB1c2UgYGRkYCBpbnN0ZWFkIG9mIGBERGAgZm9yIGZvcm1hdHRpbmcgZGF5cyBvZiB0aGUgbW9udGggdXNpbmcgW2Zvcm1hdCBwcm92aWRlZF0gdG8gdGhlIGlucHV0IFtpbnB1dCBwcm92aWRlZF07IHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhdGUtZm5zL2RhdGUtZm5zL2Jsb2IvbWFzdGVyL2RvY3MvdW5pY29kZVRva2Vucy5tZFxuICogQHRocm93cyBmb3JtYXQgc3RyaW5nIGNvbnRhaW5zIGFuIHVuZXNjYXBlZCBsYXRpbiBhbHBoYWJldCBjaGFyYWN0ZXJcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gUmVwcmVzZW50IDExIEZlYnJ1YXJ5IDIwMTQgaW4gbWlkZGxlLWVuZGlhbiBmb3JtYXQ6XG4gKiBjb25zdCByZXN1bHQgPSBmb3JtYXQobmV3IERhdGUoMjAxNCwgMSwgMTEpLCAnTU0vZGQveXl5eScpXG4gKiAvLz0+ICcwMi8xMS8yMDE0J1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBSZXByZXNlbnQgMiBKdWx5IDIwMTQgaW4gRXNwZXJhbnRvOlxuICogaW1wb3J0IHsgZW9Mb2NhbGUgfSBmcm9tICdkYXRlLWZucy9sb2NhbGUvZW8nXG4gKiBjb25zdCByZXN1bHQgPSBmb3JtYXQobmV3IERhdGUoMjAxNCwgNiwgMiksIFwiZG8gJ2RlJyBNTU1NIHl5eXlcIiwge1xuICogICBsb2NhbGU6IGVvTG9jYWxlXG4gKiB9KVxuICogLy89PiAnMi1hIGRlIGp1bGlvIDIwMTQnXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEVzY2FwZSBzdHJpbmcgYnkgc2luZ2xlIHF1b3RlIGNoYXJhY3RlcnM6XG4gKiBjb25zdCByZXN1bHQgPSBmb3JtYXQobmV3IERhdGUoMjAxNCwgNiwgMiwgMTUpLCBcImggJ28nJ2Nsb2NrJ1wiKVxuICogLy89PiBcIjMgbydjbG9ja1wiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXQoZGF0ZSwgZm9ybWF0U3RyLCBvcHRpb25zKSB7XG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zID0gZ2V0RGVmYXVsdE9wdGlvbnMoKTtcbiAgY29uc3QgbG9jYWxlID0gb3B0aW9ucz8ubG9jYWxlID8/IGRlZmF1bHRPcHRpb25zLmxvY2FsZSA/PyBkZWZhdWx0TG9jYWxlO1xuXG4gIGNvbnN0IGZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA9XG4gICAgb3B0aW9ucz8uZmlyc3RXZWVrQ29udGFpbnNEYXRlID8/XG4gICAgb3B0aW9ucz8ubG9jYWxlPy5vcHRpb25zPy5maXJzdFdlZWtDb250YWluc0RhdGUgPz9cbiAgICBkZWZhdWx0T3B0aW9ucy5maXJzdFdlZWtDb250YWluc0RhdGUgPz9cbiAgICBkZWZhdWx0T3B0aW9ucy5sb2NhbGU/Lm9wdGlvbnM/LmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA/P1xuICAgIDE7XG5cbiAgY29uc3Qgd2Vla1N0YXJ0c09uID1cbiAgICBvcHRpb25zPy53ZWVrU3RhcnRzT24gPz9cbiAgICBvcHRpb25zPy5sb2NhbGU/Lm9wdGlvbnM/LndlZWtTdGFydHNPbiA/P1xuICAgIGRlZmF1bHRPcHRpb25zLndlZWtTdGFydHNPbiA/P1xuICAgIGRlZmF1bHRPcHRpb25zLmxvY2FsZT8ub3B0aW9ucz8ud2Vla1N0YXJ0c09uID8/XG4gICAgMDtcblxuICBjb25zdCBvcmlnaW5hbERhdGUgPSB0b0RhdGUoZGF0ZSk7XG5cbiAgaWYgKCFpc1ZhbGlkKG9yaWdpbmFsRGF0ZSkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgdGltZSB2YWx1ZVwiKTtcbiAgfVxuXG4gIGxldCBwYXJ0cyA9IGZvcm1hdFN0clxuICAgIC5tYXRjaChsb25nRm9ybWF0dGluZ1Rva2Vuc1JlZ0V4cClcbiAgICAubWFwKChzdWJzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IGZpcnN0Q2hhcmFjdGVyID0gc3Vic3RyaW5nWzBdO1xuICAgICAgaWYgKGZpcnN0Q2hhcmFjdGVyID09PSBcInBcIiB8fCBmaXJzdENoYXJhY3RlciA9PT0gXCJQXCIpIHtcbiAgICAgICAgY29uc3QgbG9uZ0Zvcm1hdHRlciA9IGxvbmdGb3JtYXR0ZXJzW2ZpcnN0Q2hhcmFjdGVyXTtcbiAgICAgICAgcmV0dXJuIGxvbmdGb3JtYXR0ZXIoc3Vic3RyaW5nLCBsb2NhbGUuZm9ybWF0TG9uZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3Vic3RyaW5nO1xuICAgIH0pXG4gICAgLmpvaW4oXCJcIilcbiAgICAubWF0Y2goZm9ybWF0dGluZ1Rva2Vuc1JlZ0V4cClcbiAgICAubWFwKChzdWJzdHJpbmcpID0+IHtcbiAgICAgIC8vIFJlcGxhY2UgdHdvIHNpbmdsZSBxdW90ZSBjaGFyYWN0ZXJzIHdpdGggb25lIHNpbmdsZSBxdW90ZSBjaGFyYWN0ZXJcbiAgICAgIGlmIChzdWJzdHJpbmcgPT09IFwiJydcIikge1xuICAgICAgICByZXR1cm4geyBpc1Rva2VuOiBmYWxzZSwgdmFsdWU6IFwiJ1wiIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGZpcnN0Q2hhcmFjdGVyID0gc3Vic3RyaW5nWzBdO1xuICAgICAgaWYgKGZpcnN0Q2hhcmFjdGVyID09PSBcIidcIikge1xuICAgICAgICByZXR1cm4geyBpc1Rva2VuOiBmYWxzZSwgdmFsdWU6IGNsZWFuRXNjYXBlZFN0cmluZyhzdWJzdHJpbmcpIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChmb3JtYXR0ZXJzW2ZpcnN0Q2hhcmFjdGVyXSkge1xuICAgICAgICByZXR1cm4geyBpc1Rva2VuOiB0cnVlLCB2YWx1ZTogc3Vic3RyaW5nIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChmaXJzdENoYXJhY3Rlci5tYXRjaCh1bmVzY2FwZWRMYXRpbkNoYXJhY3RlclJlZ0V4cCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXG4gICAgICAgICAgXCJGb3JtYXQgc3RyaW5nIGNvbnRhaW5zIGFuIHVuZXNjYXBlZCBsYXRpbiBhbHBoYWJldCBjaGFyYWN0ZXIgYFwiICtcbiAgICAgICAgICAgIGZpcnN0Q2hhcmFjdGVyICtcbiAgICAgICAgICAgIFwiYFwiLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBpc1Rva2VuOiBmYWxzZSwgdmFsdWU6IHN1YnN0cmluZyB9O1xuICAgIH0pO1xuXG4gIC8vIGludm9rZSBsb2NhbGl6ZSBwcmVwcm9jZXNzb3IgKG9ubHkgZm9yIGZyZW5jaCBsb2NhbGVzIGF0IHRoZSBtb21lbnQpXG4gIGlmIChsb2NhbGUubG9jYWxpemUucHJlcHJvY2Vzc29yKSB7XG4gICAgcGFydHMgPSBsb2NhbGUubG9jYWxpemUucHJlcHJvY2Vzc29yKG9yaWdpbmFsRGF0ZSwgcGFydHMpO1xuICB9XG5cbiAgY29uc3QgZm9ybWF0dGVyT3B0aW9ucyA9IHtcbiAgICBmaXJzdFdlZWtDb250YWluc0RhdGUsXG4gICAgd2Vla1N0YXJ0c09uLFxuICAgIGxvY2FsZSxcbiAgfTtcblxuICByZXR1cm4gcGFydHNcbiAgICAubWFwKChwYXJ0KSA9PiB7XG4gICAgICBpZiAoIXBhcnQuaXNUb2tlbikgcmV0dXJuIHBhcnQudmFsdWU7XG5cbiAgICAgIGNvbnN0IHRva2VuID0gcGFydC52YWx1ZTtcblxuICAgICAgaWYgKFxuICAgICAgICAoIW9wdGlvbnM/LnVzZUFkZGl0aW9uYWxXZWVrWWVhclRva2VucyAmJlxuICAgICAgICAgIGlzUHJvdGVjdGVkV2Vla1llYXJUb2tlbih0b2tlbikpIHx8XG4gICAgICAgICghb3B0aW9ucz8udXNlQWRkaXRpb25hbERheU9mWWVhclRva2VucyAmJlxuICAgICAgICAgIGlzUHJvdGVjdGVkRGF5T2ZZZWFyVG9rZW4odG9rZW4pKVxuICAgICAgKSB7XG4gICAgICAgIHdhcm5PclRocm93UHJvdGVjdGVkRXJyb3IodG9rZW4sIGZvcm1hdFN0ciwgU3RyaW5nKGRhdGUpKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZm9ybWF0dGVyID0gZm9ybWF0dGVyc1t0b2tlblswXV07XG4gICAgICByZXR1cm4gZm9ybWF0dGVyKG9yaWdpbmFsRGF0ZSwgdG9rZW4sIGxvY2FsZS5sb2NhbGl6ZSwgZm9ybWF0dGVyT3B0aW9ucyk7XG4gICAgfSlcbiAgICAuam9pbihcIlwiKTtcbn1cblxuZnVuY3Rpb24gY2xlYW5Fc2NhcGVkU3RyaW5nKGlucHV0KSB7XG4gIGNvbnN0IG1hdGNoZWQgPSBpbnB1dC5tYXRjaChlc2NhcGVkU3RyaW5nUmVnRXhwKTtcblxuICBpZiAoIW1hdGNoZWQpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICByZXR1cm4gbWF0Y2hlZFsxXS5yZXBsYWNlKGRvdWJsZVF1b3RlUmVnRXhwLCBcIidcIik7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgZm9ybWF0O1xuIiwgImltcG9ydCB7IHRvRGF0ZSB9IGZyb20gXCIuL3RvRGF0ZS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBpc1NhbWVNb250aFxuICogQGNhdGVnb3J5IE1vbnRoIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgbW9udGggKGFuZCB5ZWFyKT9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgbW9udGggKGFuZCB5ZWFyKT9cbiAqXG4gKiBAdHlwZVBhcmFtIERhdGVUeXBlIC0gVGhlIGBEYXRlYCB0eXBlLCB0aGUgZnVuY3Rpb24gb3BlcmF0ZXMgb24uIEdldHMgaW5mZXJyZWQgZnJvbSBwYXNzZWQgYXJndW1lbnRzLiBBbGxvd3MgdG8gdXNlIGV4dGVuc2lvbnMgbGlrZSBbYFVUQ0RhdGVgXShodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvdXRjKS5cbiAqXG4gKiBAcGFyYW0gZGF0ZUxlZnQgLSBUaGUgZmlyc3QgZGF0ZSB0byBjaGVja1xuICogQHBhcmFtIGRhdGVSaWdodCAtIFRoZSBzZWNvbmQgZGF0ZSB0byBjaGVja1xuICpcbiAqIEByZXR1cm5zIFRoZSBkYXRlcyBhcmUgaW4gdGhlIHNhbWUgbW9udGggKGFuZCB5ZWFyKVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgMiBTZXB0ZW1iZXIgMjAxNCBhbmQgMjUgU2VwdGVtYmVyIDIwMTQgaW4gdGhlIHNhbWUgbW9udGg/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVNb250aChuZXcgRGF0ZSgyMDE0LCA4LCAyKSwgbmV3IERhdGUoMjAxNCwgOCwgMjUpKVxuICogLy89PiB0cnVlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSAyIFNlcHRlbWJlciAyMDE0IGFuZCAyNSBTZXB0ZW1iZXIgMjAxNSBpbiB0aGUgc2FtZSBtb250aD9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZU1vbnRoKG5ldyBEYXRlKDIwMTQsIDgsIDIpLCBuZXcgRGF0ZSgyMDE1LCA4LCAyNSkpXG4gKiAvLz0+IGZhbHNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVNb250aChkYXRlTGVmdCwgZGF0ZVJpZ2h0KSB7XG4gIGNvbnN0IF9kYXRlTGVmdCA9IHRvRGF0ZShkYXRlTGVmdCk7XG4gIGNvbnN0IF9kYXRlUmlnaHQgPSB0b0RhdGUoZGF0ZVJpZ2h0KTtcbiAgcmV0dXJuIChcbiAgICBfZGF0ZUxlZnQuZ2V0RnVsbFllYXIoKSA9PT0gX2RhdGVSaWdodC5nZXRGdWxsWWVhcigpICYmXG4gICAgX2RhdGVMZWZ0LmdldE1vbnRoKCkgPT09IF9kYXRlUmlnaHQuZ2V0TW9udGgoKVxuICApO1xufVxuXG4vLyBGYWxsYmFjayBmb3IgbW9kdWxhcml6ZWQgaW1wb3J0czpcbmV4cG9ydCBkZWZhdWx0IGlzU2FtZU1vbnRoO1xuIiwgImltcG9ydCB7IGNvbnN0cnVjdE5vdyB9IGZyb20gXCIuL2NvbnN0cnVjdE5vdy5tanNcIjtcbmltcG9ydCB7IGlzU2FtZURheSB9IGZyb20gXCIuL2lzU2FtZURheS5tanNcIjtcblxuLyoqXG4gKiBAbmFtZSBpc1RvZGF5XG4gKiBAY2F0ZWdvcnkgRGF5IEhlbHBlcnNcbiAqIEBzdW1tYXJ5IElzIHRoZSBnaXZlbiBkYXRlIHRvZGF5P1xuICogQHB1cmUgZmFsc2VcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIElzIHRoZSBnaXZlbiBkYXRlIHRvZGF5P1xuICpcbiAqIEB0eXBlUGFyYW0gRGF0ZVR5cGUgLSBUaGUgYERhdGVgIHR5cGUsIHRoZSBmdW5jdGlvbiBvcGVyYXRlcyBvbi4gR2V0cyBpbmZlcnJlZCBmcm9tIHBhc3NlZCBhcmd1bWVudHMuIEFsbG93cyB0byB1c2UgZXh0ZW5zaW9ucyBsaWtlIFtgVVRDRGF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy91dGMpLlxuICpcbiAqIEBwYXJhbSBkYXRlIC0gVGhlIGRhdGUgdG8gY2hlY2tcbiAqXG4gKiBAcmV0dXJucyBUaGUgZGF0ZSBpcyB0b2RheVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0b2RheSBpcyA2IE9jdG9iZXIgMjAxNCwgaXMgNiBPY3RvYmVyIDE0OjAwOjAwIHRvZGF5P1xuICogY29uc3QgcmVzdWx0ID0gaXNUb2RheShuZXcgRGF0ZSgyMDE0LCA5LCA2LCAxNCwgMCkpXG4gKiAvLz0+IHRydWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVG9kYXkoZGF0ZSkge1xuICByZXR1cm4gaXNTYW1lRGF5KGRhdGUsIGNvbnN0cnVjdE5vdyhkYXRlKSk7XG59XG5cbi8vIEZhbGxiYWNrIGZvciBtb2R1bGFyaXplZCBpbXBvcnRzOlxuZXhwb3J0IGRlZmF1bHQgaXNUb2RheTtcbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJzdGltdWx1c1wiO1xuLy9cbi8vIGV4cG9ydCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vL1xuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBhcHAvamF2YXNjcmlwdC9jb250cm9sbGVycy91aV9jYXJvdXNlbF9jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5pbXBvcnQgeyB1c2VUcmFuc2l0aW9uIH0gZnJvbSAnc3RpbXVsdXMtdXNlJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcInNsaWRlXCIsIFwicHJldmlvdXNCdXR0b25cIiwgXCJuZXh0QnV0dG9uXCJdXG4gIHN0YXRpYyB2YWx1ZXMgPSB7XG4gICAgY3VycmVudEluZGV4OiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9LFxuICAgIGF1dG9QbGF5OiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gICAgaW50ZXJ2YWw6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiA1MDAwIH0gLy8gNSBzZWNvbmRzXG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIHVzZVRyYW5zaXRpb24odGhpcywge1xuICAgICAgZWxlbWVudDogKCkgPT4gdGhpcy5zbGlkZVRhcmdldHNbdGhpcy5jdXJyZW50SW5kZXhWYWx1ZV0sXG4gICAgICBlbnRlckFjdGl2ZTogJ3RyYW5zaXRpb24gZWFzZS1vdXQgZHVyYXRpb24tMzAwJyxcbiAgICAgIGVudGVyRnJvbTogJ29wYWNpdHktMCcsXG4gICAgICBlbnRlclRvOiAnb3BhY2l0eS0xMDAnLFxuICAgICAgbGVhdmVBY3RpdmU6ICd0cmFuc2l0aW9uIGVhc2UtaW4gZHVyYXRpb24tMzAwJyxcbiAgICAgIGxlYXZlRnJvbTogJ29wYWNpdHktMTAwJyxcbiAgICAgIGxlYXZlVG86ICdvcGFjaXR5LTAnLFxuICAgIH0pXG5cbiAgICB0aGlzLnVwZGF0ZVNsaWRlUG9zaXRpb24oKVxuICAgIHRoaXMudXBkYXRlQnV0dG9uU3RhdGVzKClcblxuICAgIGlmICh0aGlzLmF1dG9QbGF5VmFsdWUpIHtcbiAgICAgIHRoaXMuc3RhcnRBdXRvUGxheSgpXG4gICAgfVxuICB9XG5cbiAgZGlzY29ubmVjdCgpIHtcbiAgICB0aGlzLnN0b3BBdXRvUGxheSgpXG4gIH1cblxuICBuZXh0KCkge1xuICAgIHRoaXMuY3VycmVudEluZGV4VmFsdWUgPSAodGhpcy5jdXJyZW50SW5kZXhWYWx1ZSArIDEpICUgdGhpcy5zbGlkZVRhcmdldHMubGVuZ3RoXG4gICAgdGhpcy51cGRhdGVTbGlkZVBvc2l0aW9uKClcbiAgICB0aGlzLnVwZGF0ZUJ1dHRvblN0YXRlcygpXG4gIH1cblxuICBwcmV2aW91cygpIHtcbiAgICB0aGlzLmN1cnJlbnRJbmRleFZhbHVlID0gKHRoaXMuY3VycmVudEluZGV4VmFsdWUgLSAxICsgdGhpcy5zbGlkZVRhcmdldHMubGVuZ3RoKSAlIHRoaXMuc2xpZGVUYXJnZXRzLmxlbmd0aFxuICAgIHRoaXMudXBkYXRlU2xpZGVQb3NpdGlvbigpXG4gICAgdGhpcy51cGRhdGVCdXR0b25TdGF0ZXMoKVxuICB9XG5cbiAgdXBkYXRlU2xpZGVQb3NpdGlvbigpIHtcbiAgICBjb25zdCBvZmZzZXQgPSB0aGlzLmN1cnJlbnRJbmRleFZhbHVlICogLTEwMFxuICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZmxleCcpLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke29mZnNldH0lLCAwcHgsIDBweClgXG4gIH1cblxuICB1cGRhdGVCdXR0b25TdGF0ZXMoKSB7XG4gICAgaWYgKHRoaXMuaGFzUHJldmlvdXNCdXR0b25UYXJnZXQgJiYgdGhpcy5oYXNOZXh0QnV0dG9uVGFyZ2V0KSB7XG4gICAgICB0aGlzLnByZXZpb3VzQnV0dG9uVGFyZ2V0LmRpc2FibGVkID0gdGhpcy5jdXJyZW50SW5kZXhWYWx1ZSA9PT0gMFxuICAgICAgdGhpcy5uZXh0QnV0dG9uVGFyZ2V0LmRpc2FibGVkID0gdGhpcy5jdXJyZW50SW5kZXhWYWx1ZSA9PT0gdGhpcy5zbGlkZVRhcmdldHMubGVuZ3RoIC0gMVxuICAgIH1cbiAgfVxuXG4gIHN0YXJ0QXV0b1BsYXkoKSB7XG4gICAgdGhpcy5hdXRvUGxheUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5uZXh0KClcbiAgICB9LCB0aGlzLmludGVydmFsVmFsdWUpXG4gIH1cblxuICBzdG9wQXV0b1BsYXkoKSB7XG4gICAgaWYgKHRoaXMuYXV0b1BsYXlJbnRlcnZhbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9QbGF5SW50ZXJ2YWwpXG4gICAgfVxuICB9XG59IiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvdWktY29sbGFwc2libGUtY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcImNvbnRlbnRcIl1cbiAgc3RhdGljIHZhbHVlcyA9IHtcbiAgICBvcGVuOiBCb29sZWFuXG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIHRoaXMudXBkYXRlVmlzaWJpbGl0eSgpXG4gIH1cblxuICB0b2dnbGUoKSB7XG4gICAgdGhpcy5vcGVuVmFsdWUgPSAhdGhpcy5vcGVuVmFsdWVcbiAgfVxuXG4gIG9wZW5WYWx1ZUNoYW5nZWQoKSB7XG4gICAgdGhpcy51cGRhdGVWaXNpYmlsaXR5KClcbiAgfVxuXG4gIHVwZGF0ZVZpc2liaWxpdHkoKSB7XG4gICAgaWYgKHRoaXMub3BlblZhbHVlKSB7XG4gICAgICB0aGlzLmNvbnRlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbnRlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKVxuICAgIH1cbiAgfVxufSIsICIvLyBhcHAvamF2YXNjcmlwdC9jb250cm9sbGVycy91aV9jb21tYW5kX2NvbnRyb2xsZXIuanNcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcbmltcG9ydCB7IHVzZUhvdGtleXMgfSBmcm9tICdzdGltdWx1cy11c2UvaG90a2V5cydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJpbnB1dFwiLCBcImxpc3RcIiwgXCJpdGVtXCJdXG4gIHN0YXRpYyB2YWx1ZXMgPSB7XG4gICAgaG90a2V5czogT2JqZWN0XG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIHVzZUhvdGtleXModGhpcywge1xuICAgICAgLi4udGhpcy5ob3RrZXlzVmFsdWUsXG4gICAgICAnQXJyb3dVcCc6IChldmVudCkgPT4gdGhpcy5uYXZpZ2F0ZUl0ZW1zKGV2ZW50LCAtMSksXG4gICAgICAnQXJyb3dEb3duJzogKGV2ZW50KSA9PiB0aGlzLm5hdmlnYXRlSXRlbXMoZXZlbnQsIDEpLFxuICAgICAgJ0VudGVyJzogKGV2ZW50KSA9PiB0aGlzLnNlbGVjdEl0ZW0oZXZlbnQpXG4gICAgfSlcbiAgICBcbiAgICB0aGlzLmN1cnJlbnRJbmRleCA9IC0xXG4gIH1cblxuICBuYXZpZ2F0ZUl0ZW1zKGV2ZW50LCBkaXJlY3Rpb24pIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgdGhpcy5jdXJyZW50SW5kZXggKz0gZGlyZWN0aW9uXG4gICAgaWYgKHRoaXMuY3VycmVudEluZGV4IDwgMCkgdGhpcy5jdXJyZW50SW5kZXggPSB0aGlzLml0ZW1UYXJnZXRzLmxlbmd0aCAtIDFcbiAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPj0gdGhpcy5pdGVtVGFyZ2V0cy5sZW5ndGgpIHRoaXMuY3VycmVudEluZGV4ID0gMFxuICAgIHRoaXMuaGlnaGxpZ2h0SXRlbSgpXG4gIH1cblxuICBoaWdobGlnaHRJdGVtKCkge1xuICAgIHRoaXMuaXRlbVRhcmdldHMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA9PT0gdGhpcy5jdXJyZW50SW5kZXgpIHtcbiAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCAndHJ1ZScpXG4gICAgICAgIGl0ZW0uc2Nyb2xsSW50b1ZpZXcoeyBibG9jazogJ25lYXJlc3QnIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsICdmYWxzZScpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHNlbGVjdEl0ZW0oZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3Qgc2VsZWN0ZWRJdGVtID0gdGhpcy5pdGVtVGFyZ2V0c1t0aGlzLmN1cnJlbnRJbmRleF1cbiAgICBpZiAoc2VsZWN0ZWRJdGVtKSB7XG4gICAgICBjb25zb2xlLmxvZygnU2VsZWN0ZWQ6Jywgc2VsZWN0ZWRJdGVtLmRhdGFzZXQudmFsdWUpXG4gICAgICAvLyBJbXBsZW1lbnQgeW91ciBzZWxlY3Rpb24gbG9naWMgaGVyZVxuICAgIH1cbiAgfVxuXG4gIHNlYXJjaCgpIHtcbiAgICBjb25zdCBxdWVyeSA9IHRoaXMuaW5wdXRUYXJnZXQudmFsdWUudG9Mb3dlckNhc2UoKVxuICAgIHRoaXMuaXRlbVRhcmdldHMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSBpdGVtLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkpXG4gICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSBtYXRjaGVzID8gJycgOiAnbm9uZSdcbiAgICB9KVxuICB9XG59XG4iLCAiLyoqISBcbiAqIGhvdGtleXMtanMgdjMuMTMuNyBcbiAqIEEgc2ltcGxlIG1pY3JvLWxpYnJhcnkgZm9yIGRlZmluaW5nIGFuZCBkaXNwYXRjaGluZyBrZXlib2FyZCBzaG9ydGN1dHMuIEl0IGhhcyBubyBkZXBlbmRlbmNpZXMuIFxuICogXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjQga2Vubnkgd29uZyA8d293b2hvb0BxcS5jb20+IFxuICogaHR0cHM6Ly9naXRodWIuY29tL2pheXdjamxvdmUvaG90a2V5cy1qcy5naXQgXG4gKiBcbiAqIEB3ZWJzaXRlOiBodHRwczovL2pheXdjamxvdmUuZ2l0aHViLmlvL2hvdGtleXMtanNcbiBcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBcbiAqL1xuXG5jb25zdCBpc2ZmID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgPyBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignZmlyZWZveCcpID4gMCA6IGZhbHNlO1xuXG4vLyBcdTdFRDFcdTVCOUFcdTRFOEJcdTRFRjZcbmZ1bmN0aW9uIGFkZEV2ZW50KG9iamVjdCwgZXZlbnQsIG1ldGhvZCwgdXNlQ2FwdHVyZSkge1xuICBpZiAob2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICBvYmplY3QuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbWV0aG9kLCB1c2VDYXB0dXJlKTtcbiAgfSBlbHNlIGlmIChvYmplY3QuYXR0YWNoRXZlbnQpIHtcbiAgICBvYmplY3QuYXR0YWNoRXZlbnQoXCJvblwiLmNvbmNhdChldmVudCksIG1ldGhvZCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50KG9iamVjdCwgZXZlbnQsIG1ldGhvZCwgdXNlQ2FwdHVyZSkge1xuICBpZiAob2JqZWN0LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICBvYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbWV0aG9kLCB1c2VDYXB0dXJlKTtcbiAgfSBlbHNlIGlmIChvYmplY3QuZGV0YWNoRXZlbnQpIHtcbiAgICBvYmplY3QuZGV0YWNoRXZlbnQoXCJvblwiLmNvbmNhdChldmVudCksIG1ldGhvZCk7XG4gIH1cbn1cblxuLy8gXHU0RkVFXHU5OTcwXHU5NTJFXHU4RjZDXHU2MzYyXHU2MjEwXHU1QkY5XHU1RTk0XHU3Njg0XHU5NTJFXHU3ODAxXG5mdW5jdGlvbiBnZXRNb2RzKG1vZGlmaWVyLCBrZXkpIHtcbiAgY29uc3QgbW9kcyA9IGtleS5zbGljZSgwLCBrZXkubGVuZ3RoIC0gMSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kcy5sZW5ndGg7IGkrKykgbW9kc1tpXSA9IG1vZGlmaWVyW21vZHNbaV0udG9Mb3dlckNhc2UoKV07XG4gIHJldHVybiBtb2RzO1xufVxuXG4vLyBcdTU5MDRcdTc0MDZcdTRGMjBcdTc2ODRrZXlcdTVCNTdcdTdCMjZcdTRFMzJcdThGNkNcdTYzNjJcdTYyMTBcdTY1NzBcdTdFQzRcbmZ1bmN0aW9uIGdldEtleXMoa2V5KSB7XG4gIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykga2V5ID0gJyc7XG4gIGtleSA9IGtleS5yZXBsYWNlKC9cXHMvZywgJycpOyAvLyBcdTUzMzlcdTkxNERcdTRFRkJcdTRGNTVcdTdBN0FcdTc2N0RcdTVCNTdcdTdCMjYsXHU1MzA1XHU2MkVDXHU3QTdBXHU2ODNDXHUzMDAxXHU1MjM2XHU4ODY4XHU3QjI2XHUzMDAxXHU2MzYyXHU5ODc1XHU3QjI2XHU3QjQ5XHU3QjQ5XG4gIGNvbnN0IGtleXMgPSBrZXkuc3BsaXQoJywnKTsgLy8gXHU1NDBDXHU2NUY2XHU4QkJFXHU3RjZFXHU1OTFBXHU0RTJBXHU1RkVCXHU2Mzc3XHU5NTJFXHVGRjBDXHU0RUU1JywnXHU1MjA2XHU1MjcyXG4gIGxldCBpbmRleCA9IGtleXMubGFzdEluZGV4T2YoJycpO1xuXG4gIC8vIFx1NUZFQlx1NjM3N1x1OTUyRVx1NTNFRlx1ODBGRFx1NTMwNVx1NTQyQicsJ1x1RkYwQ1x1OTcwMFx1NzI3OVx1NkI4QVx1NTkwNFx1NzQwNlxuICBmb3IgKDsgaW5kZXggPj0gMDspIHtcbiAgICBrZXlzW2luZGV4IC0gMV0gKz0gJywnO1xuICAgIGtleXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICBpbmRleCA9IGtleXMubGFzdEluZGV4T2YoJycpO1xuICB9XG4gIHJldHVybiBrZXlzO1xufVxuXG4vLyBcdTZCRDRcdThGODNcdTRGRUVcdTk5NzBcdTk1MkVcdTc2ODRcdTY1NzBcdTdFQzRcbmZ1bmN0aW9uIGNvbXBhcmVBcnJheShhMSwgYTIpIHtcbiAgY29uc3QgYXJyMSA9IGExLmxlbmd0aCA+PSBhMi5sZW5ndGggPyBhMSA6IGEyO1xuICBjb25zdCBhcnIyID0gYTEubGVuZ3RoID49IGEyLmxlbmd0aCA/IGEyIDogYTE7XG4gIGxldCBpc0luZGV4ID0gdHJ1ZTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIxLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFycjIuaW5kZXhPZihhcnIxW2ldKSA9PT0gLTEpIGlzSW5kZXggPSBmYWxzZTtcbiAgfVxuICByZXR1cm4gaXNJbmRleDtcbn1cblxuLy8gU3BlY2lhbCBLZXlzXG5jb25zdCBfa2V5TWFwID0ge1xuICBiYWNrc3BhY2U6IDgsXG4gICdcdTIzMkInOiA4LFxuICB0YWI6IDksXG4gIGNsZWFyOiAxMixcbiAgZW50ZXI6IDEzLFxuICAnXHUyMUE5JzogMTMsXG4gIHJldHVybjogMTMsXG4gIGVzYzogMjcsXG4gIGVzY2FwZTogMjcsXG4gIHNwYWNlOiAzMixcbiAgbGVmdDogMzcsXG4gIHVwOiAzOCxcbiAgcmlnaHQ6IDM5LFxuICBkb3duOiA0MCxcbiAgZGVsOiA0NixcbiAgZGVsZXRlOiA0NixcbiAgaW5zOiA0NSxcbiAgaW5zZXJ0OiA0NSxcbiAgaG9tZTogMzYsXG4gIGVuZDogMzUsXG4gIHBhZ2V1cDogMzMsXG4gIHBhZ2Vkb3duOiAzNCxcbiAgY2Fwc2xvY2s6IDIwLFxuICBudW1fMDogOTYsXG4gIG51bV8xOiA5NyxcbiAgbnVtXzI6IDk4LFxuICBudW1fMzogOTksXG4gIG51bV80OiAxMDAsXG4gIG51bV81OiAxMDEsXG4gIG51bV82OiAxMDIsXG4gIG51bV83OiAxMDMsXG4gIG51bV84OiAxMDQsXG4gIG51bV85OiAxMDUsXG4gIG51bV9tdWx0aXBseTogMTA2LFxuICBudW1fYWRkOiAxMDcsXG4gIG51bV9lbnRlcjogMTA4LFxuICBudW1fc3VidHJhY3Q6IDEwOSxcbiAgbnVtX2RlY2ltYWw6IDExMCxcbiAgbnVtX2RpdmlkZTogMTExLFxuICAnXHUyMUVBJzogMjAsXG4gICcsJzogMTg4LFxuICAnLic6IDE5MCxcbiAgJy8nOiAxOTEsXG4gICdgJzogMTkyLFxuICAnLSc6IGlzZmYgPyAxNzMgOiAxODksXG4gICc9JzogaXNmZiA/IDYxIDogMTg3LFxuICAnOyc6IGlzZmYgPyA1OSA6IDE4NixcbiAgJ1xcJyc6IDIyMixcbiAgJ1snOiAyMTksXG4gICddJzogMjIxLFxuICAnXFxcXCc6IDIyMFxufTtcblxuLy8gTW9kaWZpZXIgS2V5c1xuY29uc3QgX21vZGlmaWVyID0ge1xuICAvLyBzaGlmdEtleVxuICAnXHUyMUU3JzogMTYsXG4gIHNoaWZ0OiAxNixcbiAgLy8gYWx0S2V5XG4gICdcdTIzMjUnOiAxOCxcbiAgYWx0OiAxOCxcbiAgb3B0aW9uOiAxOCxcbiAgLy8gY3RybEtleVxuICAnXHUyMzAzJzogMTcsXG4gIGN0cmw6IDE3LFxuICBjb250cm9sOiAxNyxcbiAgLy8gbWV0YUtleVxuICAnXHUyMzE4JzogOTEsXG4gIGNtZDogOTEsXG4gIGNvbW1hbmQ6IDkxXG59O1xuY29uc3QgbW9kaWZpZXJNYXAgPSB7XG4gIDE2OiAnc2hpZnRLZXknLFxuICAxODogJ2FsdEtleScsXG4gIDE3OiAnY3RybEtleScsXG4gIDkxOiAnbWV0YUtleScsXG4gIHNoaWZ0S2V5OiAxNixcbiAgY3RybEtleTogMTcsXG4gIGFsdEtleTogMTgsXG4gIG1ldGFLZXk6IDkxXG59O1xuY29uc3QgX21vZHMgPSB7XG4gIDE2OiBmYWxzZSxcbiAgMTg6IGZhbHNlLFxuICAxNzogZmFsc2UsXG4gIDkxOiBmYWxzZVxufTtcbmNvbnN0IF9oYW5kbGVycyA9IHt9O1xuXG4vLyBGMX5GMTIgc3BlY2lhbCBrZXlcbmZvciAobGV0IGsgPSAxOyBrIDwgMjA7IGsrKykge1xuICBfa2V5TWFwW1wiZlwiLmNvbmNhdChrKV0gPSAxMTEgKyBrO1xufVxuXG5sZXQgX2Rvd25LZXlzID0gW107IC8vIFx1OEJCMFx1NUY1NVx1NjQ0MVx1NEUwQlx1NzY4NFx1N0VEMVx1NUI5QVx1OTUyRVxubGV0IHdpbkxpc3RlbmRGb2N1cyA9IG51bGw7IC8vIHdpbmRvd1x1NjYyRlx1NTQyNlx1NURGMlx1N0VDRlx1NzZEMVx1NTQyQ1x1NEU4NmZvY3VzXHU0RThCXHU0RUY2XG5sZXQgX3Njb3BlID0gJ2FsbCc7IC8vIFx1OUVEOFx1OEJBNFx1NzBFRFx1OTUyRVx1ODMwM1x1NTZGNFxuY29uc3QgZWxlbWVudEV2ZW50TWFwID0gbmV3IE1hcCgpOyAvLyBcdTVERjJcdTdFRDFcdTVCOUFcdTRFOEJcdTRFRjZcdTc2ODRcdTgyODJcdTcwQjlcdThCQjBcdTVGNTVcblxuLy8gXHU4RkQ0XHU1NkRFXHU5NTJFXHU3ODAxXG5jb25zdCBjb2RlID0geCA9PiBfa2V5TWFwW3gudG9Mb3dlckNhc2UoKV0gfHwgX21vZGlmaWVyW3gudG9Mb3dlckNhc2UoKV0gfHwgeC50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBnZXRLZXkgPSB4ID0+IE9iamVjdC5rZXlzKF9rZXlNYXApLmZpbmQoayA9PiBfa2V5TWFwW2tdID09PSB4KTtcbmNvbnN0IGdldE1vZGlmaWVyID0geCA9PiBPYmplY3Qua2V5cyhfbW9kaWZpZXIpLmZpbmQoayA9PiBfbW9kaWZpZXJba10gPT09IHgpO1xuXG4vLyBcdThCQkVcdTdGNkVcdTgzQjdcdTUzRDZcdTVGNTNcdTUyNERcdTgzMDNcdTU2RjRcdUZGMDhcdTlFRDhcdThCQTRcdTRFM0EnXHU2MjQwXHU2NzA5J1x1RkYwOVxuZnVuY3Rpb24gc2V0U2NvcGUoc2NvcGUpIHtcbiAgX3Njb3BlID0gc2NvcGUgfHwgJ2FsbCc7XG59XG4vLyBcdTgzQjdcdTUzRDZcdTVGNTNcdTUyNERcdTgzMDNcdTU2RjRcbmZ1bmN0aW9uIGdldFNjb3BlKCkge1xuICByZXR1cm4gX3Njb3BlIHx8ICdhbGwnO1xufVxuLy8gXHU4M0I3XHU1M0Q2XHU2NDQxXHU0RTBCXHU3RUQxXHU1QjlBXHU5NTJFXHU3Njg0XHU5NTJFXHU1MDNDXG5mdW5jdGlvbiBnZXRQcmVzc2VkS2V5Q29kZXMoKSB7XG4gIHJldHVybiBfZG93bktleXMuc2xpY2UoMCk7XG59XG5mdW5jdGlvbiBnZXRQcmVzc2VkS2V5U3RyaW5nKCkge1xuICByZXR1cm4gX2Rvd25LZXlzLm1hcChjID0+IGdldEtleShjKSB8fCBnZXRNb2RpZmllcihjKSB8fCBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpKTtcbn1cbmZ1bmN0aW9uIGdldEFsbEtleUNvZGVzKCkge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgT2JqZWN0LmtleXMoX2hhbmRsZXJzKS5mb3JFYWNoKGsgPT4ge1xuICAgIF9oYW5kbGVyc1trXS5mb3JFYWNoKF9yZWYgPT4ge1xuICAgICAgbGV0IHtcbiAgICAgICAga2V5LFxuICAgICAgICBzY29wZSxcbiAgICAgICAgbW9kcyxcbiAgICAgICAgc2hvcnRjdXRcbiAgICAgIH0gPSBfcmVmO1xuICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICBzY29wZSxcbiAgICAgICAgc2hvcnRjdXQsXG4gICAgICAgIG1vZHMsXG4gICAgICAgIGtleXM6IGtleS5zcGxpdCgnKycpLm1hcCh2ID0+IGNvZGUodikpXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIFx1ODg2OFx1NTM1NVx1NjNBN1x1NEVGNlx1NjNBN1x1NEVGNlx1NTIyNFx1NjVBRCBcdThGRDRcdTU2REUgQm9vbGVhblxuLy8gaG90a2V5IGlzIGVmZmVjdGl2ZSBvbmx5IHdoZW4gZmlsdGVyIHJldHVybiB0cnVlXG5mdW5jdGlvbiBmaWx0ZXIoZXZlbnQpIHtcbiAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IHx8IGV2ZW50LnNyY0VsZW1lbnQ7XG4gIGNvbnN0IHtcbiAgICB0YWdOYW1lXG4gIH0gPSB0YXJnZXQ7XG4gIGxldCBmbGFnID0gdHJ1ZTtcbiAgY29uc3QgaXNJbnB1dCA9IHRhZ05hbWUgPT09ICdJTlBVVCcgJiYgIVsnY2hlY2tib3gnLCAncmFkaW8nLCAncmFuZ2UnLCAnYnV0dG9uJywgJ2ZpbGUnLCAncmVzZXQnLCAnc3VibWl0JywgJ2NvbG9yJ10uaW5jbHVkZXModGFyZ2V0LnR5cGUpO1xuICAvLyBpZ25vcmU6IGlzQ29udGVudEVkaXRhYmxlID09PSAndHJ1ZScsIDxpbnB1dD4gYW5kIDx0ZXh0YXJlYT4gd2hlbiByZWFkT25seSBzdGF0ZSBpcyBmYWxzZSwgPHNlbGVjdD5cbiAgaWYgKHRhcmdldC5pc0NvbnRlbnRFZGl0YWJsZSB8fCAoaXNJbnB1dCB8fCB0YWdOYW1lID09PSAnVEVYVEFSRUEnIHx8IHRhZ05hbWUgPT09ICdTRUxFQ1QnKSAmJiAhdGFyZ2V0LnJlYWRPbmx5KSB7XG4gICAgZmxhZyA9IGZhbHNlO1xuICB9XG4gIHJldHVybiBmbGFnO1xufVxuXG4vLyBcdTUyMjRcdTY1QURcdTY0NDFcdTRFMEJcdTc2ODRcdTk1MkVcdTY2MkZcdTU0MjZcdTRFM0FcdTY3RDBcdTRFMkFcdTk1MkVcdUZGMENcdThGRDRcdTU2REV0cnVlXHU2MjE2XHU4MDA1ZmFsc2VcbmZ1bmN0aW9uIGlzUHJlc3NlZChrZXlDb2RlKSB7XG4gIGlmICh0eXBlb2Yga2V5Q29kZSA9PT0gJ3N0cmluZycpIHtcbiAgICBrZXlDb2RlID0gY29kZShrZXlDb2RlKTsgLy8gXHU4RjZDXHU2MzYyXHU2MjEwXHU5NTJFXHU3ODAxXG4gIH1cbiAgcmV0dXJuIF9kb3duS2V5cy5pbmRleE9mKGtleUNvZGUpICE9PSAtMTtcbn1cblxuLy8gXHU1RkFBXHU3M0FGXHU1MjIwXHU5NjY0aGFuZGxlcnNcdTRFMkRcdTc2ODRcdTYyNDBcdTY3MDkgc2NvcGUoXHU4MzAzXHU1NkY0KVxuZnVuY3Rpb24gZGVsZXRlU2NvcGUoc2NvcGUsIG5ld1Njb3BlKSB7XG4gIGxldCBoYW5kbGVycztcbiAgbGV0IGk7XG5cbiAgLy8gXHU2Q0ExXHU2NzA5XHU2MzA3XHU1QjlBc2NvcGVcdUZGMENcdTgzQjdcdTUzRDZzY29wZVxuICBpZiAoIXNjb3BlKSBzY29wZSA9IGdldFNjb3BlKCk7XG4gIGZvciAoY29uc3Qga2V5IGluIF9oYW5kbGVycykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX2hhbmRsZXJzLCBrZXkpKSB7XG4gICAgICBoYW5kbGVycyA9IF9oYW5kbGVyc1trZXldO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGhhbmRsZXJzLmxlbmd0aDspIHtcbiAgICAgICAgaWYgKGhhbmRsZXJzW2ldLnNjb3BlID09PSBzY29wZSkge1xuICAgICAgICAgIGNvbnN0IGRlbGV0ZUl0ZW1zID0gaGFuZGxlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGRlbGV0ZUl0ZW1zLmZvckVhY2goX3JlZjIgPT4ge1xuICAgICAgICAgICAgbGV0IHtcbiAgICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgfSA9IF9yZWYyO1xuICAgICAgICAgICAgcmV0dXJuIHJlbW92ZUtleUV2ZW50KGVsZW1lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFx1NTk4Mlx1Njc5Q3Njb3BlXHU4OEFCXHU1MjIwXHU5NjY0XHVGRjBDXHU1QzA2c2NvcGVcdTkxQ0RcdTdGNkVcdTRFM0FhbGxcbiAgaWYgKGdldFNjb3BlKCkgPT09IHNjb3BlKSBzZXRTY29wZShuZXdTY29wZSB8fCAnYWxsJyk7XG59XG5cbi8vIFx1NkUwNVx1OTY2NFx1NEZFRVx1OTk3MFx1OTUyRVxuZnVuY3Rpb24gY2xlYXJNb2RpZmllcihldmVudCkge1xuICBsZXQga2V5ID0gZXZlbnQua2V5Q29kZSB8fCBldmVudC53aGljaCB8fCBldmVudC5jaGFyQ29kZTtcbiAgY29uc3QgaSA9IF9kb3duS2V5cy5pbmRleE9mKGtleSk7XG5cbiAgLy8gXHU0RUNFXHU1MjE3XHU4ODY4XHU0RTJEXHU2RTA1XHU5NjY0XHU2MzA5XHU1MzhCXHU4RkM3XHU3Njg0XHU5NTJFXG4gIGlmIChpID49IDApIHtcbiAgICBfZG93bktleXMuc3BsaWNlKGksIDEpO1xuICB9XG4gIC8vIFx1NzI3OVx1NkI4QVx1NTkwNFx1NzQwNiBjbW1hbmQgXHU5NTJFXHVGRjBDXHU1NzI4IGNtbWFuZCBcdTdFQzRcdTU0MDhcdTVGRUJcdTYzNzdcdTk1MkUga2V5dXAgXHU1M0VBXHU2MjY3XHU4ODRDXHU0RTAwXHU2QjIxXHU3Njg0XHU5NUVFXHU5ODk4XG4gIGlmIChldmVudC5rZXkgJiYgZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgPT09ICdtZXRhJykge1xuICAgIF9kb3duS2V5cy5zcGxpY2UoMCwgX2Rvd25LZXlzLmxlbmd0aCk7XG4gIH1cblxuICAvLyBcdTRGRUVcdTk5NzBcdTk1MkUgc2hpZnRLZXkgYWx0S2V5IGN0cmxLZXkgKGNvbW1hbmR8fG1ldGFLZXkpIFx1NkUwNVx1OTY2NFxuICBpZiAoa2V5ID09PSA5MyB8fCBrZXkgPT09IDIyNCkga2V5ID0gOTE7XG4gIGlmIChrZXkgaW4gX21vZHMpIHtcbiAgICBfbW9kc1trZXldID0gZmFsc2U7XG5cbiAgICAvLyBcdTVDMDZcdTRGRUVcdTk5NzBcdTk1MkVcdTkxQ0RcdTdGNkVcdTRFM0FmYWxzZVxuICAgIGZvciAoY29uc3QgayBpbiBfbW9kaWZpZXIpIGlmIChfbW9kaWZpZXJba10gPT09IGtleSkgaG90a2V5c1trXSA9IGZhbHNlO1xuICB9XG59XG5mdW5jdGlvbiB1bmJpbmQoa2V5c0luZm8pIHtcbiAgLy8gdW5iaW5kKCksIHVuYmluZCBhbGwga2V5c1xuICBpZiAodHlwZW9mIGtleXNJbmZvID09PSAndW5kZWZpbmVkJykge1xuICAgIE9iamVjdC5rZXlzKF9oYW5kbGVycykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgQXJyYXkuaXNBcnJheShfaGFuZGxlcnNba2V5XSkgJiYgX2hhbmRsZXJzW2tleV0uZm9yRWFjaChpbmZvID0+IGVhY2hVbmJpbmQoaW5mbykpO1xuICAgICAgZGVsZXRlIF9oYW5kbGVyc1trZXldO1xuICAgIH0pO1xuICAgIHJlbW92ZUtleUV2ZW50KG51bGwpO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoa2V5c0luZm8pKSB7XG4gICAgLy8gc3VwcG9ydCBsaWtlIDogdW5iaW5kKFt7a2V5OiAnY3RybCthJywgc2NvcGU6ICdzMSd9LCB7a2V5OiAnY3RybC1hJywgc2NvcGU6ICdzMicsIHNwbGl0S2V5OiAnLSd9XSlcbiAgICBrZXlzSW5mby5mb3JFYWNoKGluZm8gPT4ge1xuICAgICAgaWYgKGluZm8ua2V5KSBlYWNoVW5iaW5kKGluZm8pO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBrZXlzSW5mbyA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBzdXBwb3J0IGxpa2UgdW5iaW5kKHtrZXk6ICdjdHJsK2EsIGN0cmwrYicsIHNjb3BlOidhYmMnfSlcbiAgICBpZiAoa2V5c0luZm8ua2V5KSBlYWNoVW5iaW5kKGtleXNJbmZvKTtcbiAgfSBlbHNlIGlmICh0eXBlb2Yga2V5c0luZm8gPT09ICdzdHJpbmcnKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIC8vIHN1cHBvcnQgb2xkIG1ldGhvZFxuICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBsZXQgW3Njb3BlLCBtZXRob2RdID0gYXJncztcbiAgICBpZiAodHlwZW9mIHNjb3BlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBtZXRob2QgPSBzY29wZTtcbiAgICAgIHNjb3BlID0gJyc7XG4gICAgfVxuICAgIGVhY2hVbmJpbmQoe1xuICAgICAga2V5OiBrZXlzSW5mbyxcbiAgICAgIHNjb3BlLFxuICAgICAgbWV0aG9kLFxuICAgICAgc3BsaXRLZXk6ICcrJ1xuICAgIH0pO1xuICB9XG59XG5cbi8vIFx1ODlFM1x1OTY2NFx1N0VEMVx1NUI5QVx1NjdEMFx1NEUyQVx1ODMwM1x1NTZGNFx1NzY4NFx1NUZFQlx1NjM3N1x1OTUyRVxuY29uc3QgZWFjaFVuYmluZCA9IF9yZWYzID0+IHtcbiAgbGV0IHtcbiAgICBrZXksXG4gICAgc2NvcGUsXG4gICAgbWV0aG9kLFxuICAgIHNwbGl0S2V5ID0gJysnXG4gIH0gPSBfcmVmMztcbiAgY29uc3QgbXVsdGlwbGVLZXlzID0gZ2V0S2V5cyhrZXkpO1xuICBtdWx0aXBsZUtleXMuZm9yRWFjaChvcmlnaW5LZXkgPT4ge1xuICAgIGNvbnN0IHVuYmluZEtleXMgPSBvcmlnaW5LZXkuc3BsaXQoc3BsaXRLZXkpO1xuICAgIGNvbnN0IGxlbiA9IHVuYmluZEtleXMubGVuZ3RoO1xuICAgIGNvbnN0IGxhc3RLZXkgPSB1bmJpbmRLZXlzW2xlbiAtIDFdO1xuICAgIGNvbnN0IGtleUNvZGUgPSBsYXN0S2V5ID09PSAnKicgPyAnKicgOiBjb2RlKGxhc3RLZXkpO1xuICAgIGlmICghX2hhbmRsZXJzW2tleUNvZGVdKSByZXR1cm47XG4gICAgLy8gXHU1MjI0XHU2NUFEXHU2NjJGXHU1NDI2XHU0RjIwXHU1MTY1XHU4MzAzXHU1NkY0XHVGRjBDXHU2Q0ExXHU2NzA5XHU1QzMxXHU4M0I3XHU1M0Q2XHU4MzAzXHU1NkY0XG4gICAgaWYgKCFzY29wZSkgc2NvcGUgPSBnZXRTY29wZSgpO1xuICAgIGNvbnN0IG1vZHMgPSBsZW4gPiAxID8gZ2V0TW9kcyhfbW9kaWZpZXIsIHVuYmluZEtleXMpIDogW107XG4gICAgY29uc3QgdW5iaW5kRWxlbWVudHMgPSBbXTtcbiAgICBfaGFuZGxlcnNba2V5Q29kZV0gPSBfaGFuZGxlcnNba2V5Q29kZV0uZmlsdGVyKHJlY29yZCA9PiB7XG4gICAgICAvLyBcdTkwMUFcdThGQzdcdTUxRkRcdTY1NzBcdTUyMjRcdTY1QURcdUZGMENcdTY2MkZcdTU0MjZcdTg5RTNcdTk2NjRcdTdFRDFcdTVCOUFcdUZGMENcdTUxRkRcdTY1NzBcdTc2RjhcdTdCNDlcdTc2RjRcdTYzQTVcdThGRDRcdTU2REVcbiAgICAgIGNvbnN0IGlzTWF0Y2hpbmdNZXRob2QgPSBtZXRob2QgPyByZWNvcmQubWV0aG9kID09PSBtZXRob2QgOiB0cnVlO1xuICAgICAgY29uc3QgaXNVbmJpbmQgPSBpc01hdGNoaW5nTWV0aG9kICYmIHJlY29yZC5zY29wZSA9PT0gc2NvcGUgJiYgY29tcGFyZUFycmF5KHJlY29yZC5tb2RzLCBtb2RzKTtcbiAgICAgIGlmIChpc1VuYmluZCkgdW5iaW5kRWxlbWVudHMucHVzaChyZWNvcmQuZWxlbWVudCk7XG4gICAgICByZXR1cm4gIWlzVW5iaW5kO1xuICAgIH0pO1xuICAgIHVuYmluZEVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiByZW1vdmVLZXlFdmVudChlbGVtZW50KSk7XG4gIH0pO1xufTtcblxuLy8gXHU1QkY5XHU3NkQxXHU1NDJDXHU1QkY5XHU1RTk0XHU1RkVCXHU2Mzc3XHU5NTJFXHU3Njg0XHU1NkRFXHU4QzAzXHU1MUZEXHU2NTcwXHU4RkRCXHU4ODRDXHU1OTA0XHU3NDA2XG5mdW5jdGlvbiBldmVudEhhbmRsZXIoZXZlbnQsIGhhbmRsZXIsIHNjb3BlLCBlbGVtZW50KSB7XG4gIGlmIChoYW5kbGVyLmVsZW1lbnQgIT09IGVsZW1lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IG1vZGlmaWVyc01hdGNoO1xuXG4gIC8vIFx1NzcwQlx1NUI4M1x1NjYyRlx1NTQyNlx1NTcyOFx1NUY1M1x1NTI0RFx1ODMwM1x1NTZGNFxuICBpZiAoaGFuZGxlci5zY29wZSA9PT0gc2NvcGUgfHwgaGFuZGxlci5zY29wZSA9PT0gJ2FsbCcpIHtcbiAgICAvLyBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTUzMzlcdTkxNERcdTRGRUVcdTk5NzBcdTdCMjZcdUZGMDhcdTU5ODJcdTY3OUNcdTY3MDlcdThGRDRcdTU2REV0cnVlXHVGRjA5XG4gICAgbW9kaWZpZXJzTWF0Y2ggPSBoYW5kbGVyLm1vZHMubGVuZ3RoID4gMDtcbiAgICBmb3IgKGNvbnN0IHkgaW4gX21vZHMpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX21vZHMsIHkpKSB7XG4gICAgICAgIGlmICghX21vZHNbeV0gJiYgaGFuZGxlci5tb2RzLmluZGV4T2YoK3kpID4gLTEgfHwgX21vZHNbeV0gJiYgaGFuZGxlci5tb2RzLmluZGV4T2YoK3kpID09PSAtMSkge1xuICAgICAgICAgIG1vZGlmaWVyc01hdGNoID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBcdThDMDNcdTc1MjhcdTU5MDRcdTc0MDZcdTdBMEJcdTVFOEZcdUZGMENcdTU5ODJcdTY3OUNcdTY2MkZcdTRGRUVcdTk5NzBcdTk1MkVcdTRFMERcdTUwNUFcdTU5MDRcdTc0MDZcbiAgICBpZiAoaGFuZGxlci5tb2RzLmxlbmd0aCA9PT0gMCAmJiAhX21vZHNbMTZdICYmICFfbW9kc1sxOF0gJiYgIV9tb2RzWzE3XSAmJiAhX21vZHNbOTFdIHx8IG1vZGlmaWVyc01hdGNoIHx8IGhhbmRsZXIuc2hvcnRjdXQgPT09ICcqJykge1xuICAgICAgaGFuZGxlci5rZXlzID0gW107XG4gICAgICBoYW5kbGVyLmtleXMgPSBoYW5kbGVyLmtleXMuY29uY2F0KF9kb3duS2V5cyk7XG4gICAgICBpZiAoaGFuZGxlci5tZXRob2QoZXZlbnQsIGhhbmRsZXIpID09PSBmYWxzZSkge1xuICAgICAgICBpZiAoZXZlbnQucHJldmVudERlZmF1bHQpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7ZWxzZSBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgaWYgKGV2ZW50LmNhbmNlbEJ1YmJsZSkgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gXHU1OTA0XHU3NDA2a2V5ZG93blx1NEU4Qlx1NEVGNlxuZnVuY3Rpb24gZGlzcGF0Y2goZXZlbnQsIGVsZW1lbnQpIHtcbiAgY29uc3QgYXN0ZXJpc2sgPSBfaGFuZGxlcnNbJyonXTtcbiAgbGV0IGtleSA9IGV2ZW50LmtleUNvZGUgfHwgZXZlbnQud2hpY2ggfHwgZXZlbnQuY2hhckNvZGU7XG5cbiAgLy8gXHU4ODY4XHU1MzU1XHU2M0E3XHU0RUY2XHU4RkM3XHU2RUU0IFx1OUVEOFx1OEJBNFx1ODg2OFx1NTM1NVx1NjNBN1x1NEVGNlx1NEUwRFx1ODlFNlx1NTNEMVx1NUZFQlx1NjM3N1x1OTUyRVxuICBpZiAoIWhvdGtleXMuZmlsdGVyLmNhbGwodGhpcywgZXZlbnQpKSByZXR1cm47XG5cbiAgLy8gR2Vja28oRmlyZWZveClcdTc2ODRjb21tYW5kXHU5NTJFXHU1MDNDMjI0XHVGRjBDXHU1NzI4V2Via2l0KENocm9tZSlcdTRFMkRcdTRGRERcdTYzMDFcdTRFMDBcdTgxRjRcbiAgLy8gV2Via2l0XHU1REU2XHU1M0YzIGNvbW1hbmQgXHU5NTJFXHU1MDNDXHU0RTBEXHU0RTAwXHU2ODM3XG4gIGlmIChrZXkgPT09IDkzIHx8IGtleSA9PT0gMjI0KSBrZXkgPSA5MTtcblxuICAvKipcbiAgICogQ29sbGVjdCBib3VuZCBrZXlzXG4gICAqIElmIGFuIElucHV0IE1ldGhvZCBFZGl0b3IgaXMgcHJvY2Vzc2luZyBrZXkgaW5wdXQgYW5kIHRoZSBldmVudCBpcyBrZXlkb3duLCByZXR1cm4gMjI5LlxuICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNTA0MzkzNC9pcy1pdC1vay10by1pZ25vcmUta2V5ZG93bi1ldmVudHMtd2l0aC1rZXljb2RlLTIyOVxuICAgKiBodHRwOi8vbGlzdHMudzMub3JnL0FyY2hpdmVzL1B1YmxpYy93d3ctZG9tLzIwMTBKdWxTZXAvYXR0LTAxODIva2V5Q29kZS1zcGVjLmh0bWxcbiAgICovXG4gIGlmIChfZG93bktleXMuaW5kZXhPZihrZXkpID09PSAtMSAmJiBrZXkgIT09IDIyOSkgX2Rvd25LZXlzLnB1c2goa2V5KTtcbiAgLyoqXG4gICAqIEplc3QgdGVzdCBjYXNlcyBhcmUgcmVxdWlyZWQuXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICovXG4gIFsnY3RybEtleScsICdhbHRLZXknLCAnc2hpZnRLZXknLCAnbWV0YUtleSddLmZvckVhY2goa2V5TmFtZSA9PiB7XG4gICAgY29uc3Qga2V5TnVtID0gbW9kaWZpZXJNYXBba2V5TmFtZV07XG4gICAgaWYgKGV2ZW50W2tleU5hbWVdICYmIF9kb3duS2V5cy5pbmRleE9mKGtleU51bSkgPT09IC0xKSB7XG4gICAgICBfZG93bktleXMucHVzaChrZXlOdW0pO1xuICAgIH0gZWxzZSBpZiAoIWV2ZW50W2tleU5hbWVdICYmIF9kb3duS2V5cy5pbmRleE9mKGtleU51bSkgPiAtMSkge1xuICAgICAgX2Rvd25LZXlzLnNwbGljZShfZG93bktleXMuaW5kZXhPZihrZXlOdW0pLCAxKTtcbiAgICB9IGVsc2UgaWYgKGtleU5hbWUgPT09ICdtZXRhS2V5JyAmJiBldmVudFtrZXlOYW1lXSAmJiBfZG93bktleXMubGVuZ3RoID09PSAzKSB7XG4gICAgICAvKipcbiAgICAgICAqIEZpeCBpZiBDb21tYW5kIGlzIHByZXNzZWQ6XG4gICAgICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgKi9cbiAgICAgIGlmICghKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQuYWx0S2V5KSkge1xuICAgICAgICBfZG93bktleXMgPSBfZG93bktleXMuc2xpY2UoX2Rvd25LZXlzLmluZGV4T2Yoa2V5TnVtKSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICovXG5cbiAgaWYgKGtleSBpbiBfbW9kcykge1xuICAgIF9tb2RzW2tleV0gPSB0cnVlO1xuXG4gICAgLy8gXHU1QzA2XHU3Mjc5XHU2QjhBXHU1QjU3XHU3QjI2XHU3Njg0a2V5XHU2Q0U4XHU1MThDXHU1MjMwIGhvdGtleXMgXHU0RTBBXG4gICAgZm9yIChjb25zdCBrIGluIF9tb2RpZmllcikge1xuICAgICAgaWYgKF9tb2RpZmllcltrXSA9PT0ga2V5KSBob3RrZXlzW2tdID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFhc3RlcmlzaykgcmV0dXJuO1xuICB9XG5cbiAgLy8gXHU1QzA2IG1vZGlmaWVyTWFwIFx1OTFDQ1x1OTc2Mlx1NzY4NFx1NEZFRVx1OTk3MFx1OTUyRVx1N0VEMVx1NUI5QVx1NTIzMCBldmVudCBcdTRFMkRcbiAgZm9yIChjb25zdCBlIGluIF9tb2RzKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfbW9kcywgZSkpIHtcbiAgICAgIF9tb2RzW2VdID0gZXZlbnRbbW9kaWZpZXJNYXBbZV1dO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2pheXdjamxvdmUvaG90a2V5cy9wdWxsLzEyOVxuICAgKiBUaGlzIHNvbHZlcyB0aGUgaXNzdWUgaW4gRmlyZWZveCBvbiBXaW5kb3dzIHdoZXJlIGhvdGtleXMgY29ycmVzcG9uZGluZyB0byBzcGVjaWFsIGNoYXJhY3RlcnMgd291bGQgbm90IHRyaWdnZXIuXG4gICAqIEFuIGV4YW1wbGUgb2YgdGhpcyBpcyBjdHJsK2FsdCttIG9uIGEgU3dlZGlzaCBrZXlib2FyZCB3aGljaCBpcyB1c2VkIHRvIHR5cGUgXHUwM0JDLlxuICAgKiBCcm93c2VyIHN1cHBvcnQ6IGh0dHBzOi8vY2FuaXVzZS5jb20vI2ZlYXQ9a2V5Ym9hcmRldmVudC1nZXRtb2RpZmllcnN0YXRlXG4gICAqL1xuICBpZiAoZXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZSAmJiAhKGV2ZW50LmFsdEtleSAmJiAhZXZlbnQuY3RybEtleSkgJiYgZXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZSgnQWx0R3JhcGgnKSkge1xuICAgIGlmIChfZG93bktleXMuaW5kZXhPZigxNykgPT09IC0xKSB7XG4gICAgICBfZG93bktleXMucHVzaCgxNyk7XG4gICAgfVxuICAgIGlmIChfZG93bktleXMuaW5kZXhPZigxOCkgPT09IC0xKSB7XG4gICAgICBfZG93bktleXMucHVzaCgxOCk7XG4gICAgfVxuICAgIF9tb2RzWzE3XSA9IHRydWU7XG4gICAgX21vZHNbMThdID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIFx1ODNCN1x1NTNENlx1ODMwM1x1NTZGNCBcdTlFRDhcdThCQTRcdTRFM0EgYGFsbGBcbiAgY29uc3Qgc2NvcGUgPSBnZXRTY29wZSgpO1xuICAvLyBcdTVCRjlcdTRFRkJcdTRGNTVcdTVGRUJcdTYzNzdcdTk1MkVcdTkwRkRcdTk3MDBcdTg5ODFcdTUwNUFcdTc2ODRcdTU5MDRcdTc0MDZcbiAgaWYgKGFzdGVyaXNrKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhc3Rlcmlzay5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFzdGVyaXNrW2ldLnNjb3BlID09PSBzY29wZSAmJiAoZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nICYmIGFzdGVyaXNrW2ldLmtleWRvd24gfHwgZXZlbnQudHlwZSA9PT0gJ2tleXVwJyAmJiBhc3Rlcmlza1tpXS5rZXl1cCkpIHtcbiAgICAgICAgZXZlbnRIYW5kbGVyKGV2ZW50LCBhc3Rlcmlza1tpXSwgc2NvcGUsIGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBrZXkgXHU0RTBEXHU1NzI4IF9oYW5kbGVycyBcdTRFMkRcdThGRDRcdTU2REVcbiAgaWYgKCEoa2V5IGluIF9oYW5kbGVycykpIHJldHVybjtcbiAgY29uc3QgaGFuZGxlcktleSA9IF9oYW5kbGVyc1trZXldO1xuICBjb25zdCBrZXlMZW4gPSBoYW5kbGVyS2V5Lmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlMZW47IGkrKykge1xuICAgIGlmIChldmVudC50eXBlID09PSAna2V5ZG93bicgJiYgaGFuZGxlcktleVtpXS5rZXlkb3duIHx8IGV2ZW50LnR5cGUgPT09ICdrZXl1cCcgJiYgaGFuZGxlcktleVtpXS5rZXl1cCkge1xuICAgICAgaWYgKGhhbmRsZXJLZXlbaV0ua2V5KSB7XG4gICAgICAgIGNvbnN0IHJlY29yZCA9IGhhbmRsZXJLZXlbaV07XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBzcGxpdEtleVxuICAgICAgICB9ID0gcmVjb3JkO1xuICAgICAgICBjb25zdCBrZXlTaG9ydGN1dCA9IHJlY29yZC5rZXkuc3BsaXQoc3BsaXRLZXkpO1xuICAgICAgICBjb25zdCBfZG93bktleXNDdXJyZW50ID0gW107IC8vIFx1OEJCMFx1NUY1NVx1NUY1M1x1NTI0RFx1NjMwOVx1OTUyRVx1OTUyRVx1NTAzQ1xuICAgICAgICBmb3IgKGxldCBhID0gMDsgYSA8IGtleVNob3J0Y3V0Lmxlbmd0aDsgYSsrKSB7XG4gICAgICAgICAgX2Rvd25LZXlzQ3VycmVudC5wdXNoKGNvZGUoa2V5U2hvcnRjdXRbYV0pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX2Rvd25LZXlzQ3VycmVudC5zb3J0KCkuam9pbignJykgPT09IF9kb3duS2V5cy5zb3J0KCkuam9pbignJykpIHtcbiAgICAgICAgICAvLyBcdTYyN0VcdTUyMzBcdTU5MDRcdTc0MDZcdTUxODVcdTVCQjlcbiAgICAgICAgICBldmVudEhhbmRsZXIoZXZlbnQsIHJlY29yZCwgc2NvcGUsIGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBob3RrZXlzKGtleSwgb3B0aW9uLCBtZXRob2QpIHtcbiAgX2Rvd25LZXlzID0gW107XG4gIGNvbnN0IGtleXMgPSBnZXRLZXlzKGtleSk7IC8vIFx1OTcwMFx1ODk4MVx1NTkwNFx1NzQwNlx1NzY4NFx1NUZFQlx1NjM3N1x1OTUyRVx1NTIxN1x1ODg2OFxuICBsZXQgbW9kcyA9IFtdO1xuICBsZXQgc2NvcGUgPSAnYWxsJzsgLy8gc2NvcGVcdTlFRDhcdThCQTRcdTRFM0FhbGxcdUZGMENcdTYyNDBcdTY3MDlcdTgzMDNcdTU2RjRcdTkwRkRcdTY3MDlcdTY1NDhcbiAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudDsgLy8gXHU1RkVCXHU2Mzc3XHU5NTJFXHU0RThCXHU0RUY2XHU3RUQxXHU1QjlBXHU4MjgyXHU3MEI5XG4gIGxldCBpID0gMDtcbiAgbGV0IGtleXVwID0gZmFsc2U7XG4gIGxldCBrZXlkb3duID0gdHJ1ZTtcbiAgbGV0IHNwbGl0S2V5ID0gJysnO1xuICBsZXQgY2FwdHVyZSA9IGZhbHNlO1xuICBsZXQgc2luZ2xlID0gZmFsc2U7IC8vIFx1NTM1NVx1NEUyQWNhbGxiYWNrXG5cbiAgLy8gXHU1QkY5XHU0RTNBXHU4QkJFXHU1QjlBXHU4MzAzXHU1NkY0XHU3Njg0XHU1MjI0XHU2NUFEXG4gIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb3B0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgbWV0aG9kID0gb3B0aW9uO1xuICB9XG4gIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob3B0aW9uKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICBpZiAob3B0aW9uLnNjb3BlKSBzY29wZSA9IG9wdGlvbi5zY29wZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGlmIChvcHRpb24uZWxlbWVudCkgZWxlbWVudCA9IG9wdGlvbi5lbGVtZW50OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgaWYgKG9wdGlvbi5rZXl1cCkga2V5dXAgPSBvcHRpb24ua2V5dXA7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBpZiAob3B0aW9uLmtleWRvd24gIT09IHVuZGVmaW5lZCkga2V5ZG93biA9IG9wdGlvbi5rZXlkb3duOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgaWYgKG9wdGlvbi5jYXB0dXJlICE9PSB1bmRlZmluZWQpIGNhcHR1cmUgPSBvcHRpb24uY2FwdHVyZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGlmICh0eXBlb2Ygb3B0aW9uLnNwbGl0S2V5ID09PSAnc3RyaW5nJykgc3BsaXRLZXkgPSBvcHRpb24uc3BsaXRLZXk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBpZiAob3B0aW9uLnNpbmdsZSA9PT0gdHJ1ZSkgc2luZ2xlID0gdHJ1ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICB9XG4gIGlmICh0eXBlb2Ygb3B0aW9uID09PSAnc3RyaW5nJykgc2NvcGUgPSBvcHRpb247XG5cbiAgLy8gXHU1OTgyXHU2NzlDXHU1M0VBXHU1MTQxXHU4QkI4XHU1MzU1XHU0RTJBY2FsbGJhY2tcdUZGMENcdTUxNDh1bmJpbmRcbiAgaWYgKHNpbmdsZSkgdW5iaW5kKGtleSwgc2NvcGUpO1xuXG4gIC8vIFx1NUJGOVx1NEU4RVx1NkJDRlx1NEUyQVx1NUZFQlx1NjM3N1x1OTUyRVx1OEZEQlx1ODg0Q1x1NTkwNFx1NzQwNlxuICBmb3IgKDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBrZXlzW2ldLnNwbGl0KHNwbGl0S2V5KTsgLy8gXHU2MzA5XHU5NTJFXHU1MjE3XHU4ODY4XG4gICAgbW9kcyA9IFtdO1xuXG4gICAgLy8gXHU1OTgyXHU2NzlDXHU2NjJGXHU3RUM0XHU1NDA4XHU1RkVCXHU2Mzc3XHU5NTJFXHU1M0Q2XHU1Rjk3XHU3RUM0XHU1NDA4XHU1RkVCXHU2Mzc3XHU5NTJFXG4gICAgaWYgKGtleS5sZW5ndGggPiAxKSBtb2RzID0gZ2V0TW9kcyhfbW9kaWZpZXIsIGtleSk7XG5cbiAgICAvLyBcdTVDMDZcdTk3NUVcdTRGRUVcdTk5NzBcdTk1MkVcdThGNkNcdTUzMTZcdTRFM0FcdTk1MkVcdTc4MDFcbiAgICBrZXkgPSBrZXlba2V5Lmxlbmd0aCAtIDFdO1xuICAgIGtleSA9IGtleSA9PT0gJyonID8gJyonIDogY29kZShrZXkpOyAvLyAqXHU4ODY4XHU3OTNBXHU1MzM5XHU5MTREXHU2MjQwXHU2NzA5XHU1RkVCXHU2Mzc3XHU5NTJFXG5cbiAgICAvLyBcdTUyMjRcdTY1QURrZXlcdTY2MkZcdTU0MjZcdTU3MjhfaGFuZGxlcnNcdTRFMkRcdUZGMENcdTRFMERcdTU3MjhcdTVDMzFcdThENEJcdTRFMDBcdTRFMkFcdTdBN0FcdTY1NzBcdTdFQzRcbiAgICBpZiAoIShrZXkgaW4gX2hhbmRsZXJzKSkgX2hhbmRsZXJzW2tleV0gPSBbXTtcbiAgICBfaGFuZGxlcnNba2V5XS5wdXNoKHtcbiAgICAgIGtleXVwLFxuICAgICAga2V5ZG93bixcbiAgICAgIHNjb3BlLFxuICAgICAgbW9kcyxcbiAgICAgIHNob3J0Y3V0OiBrZXlzW2ldLFxuICAgICAgbWV0aG9kLFxuICAgICAga2V5OiBrZXlzW2ldLFxuICAgICAgc3BsaXRLZXksXG4gICAgICBlbGVtZW50XG4gICAgfSk7XG4gIH1cbiAgLy8gXHU1NzI4XHU1MTY4XHU1QzQwZG9jdW1lbnRcdTRFMEFcdThCQkVcdTdGNkVcdTVGRUJcdTYzNzdcdTk1MkVcbiAgaWYgKHR5cGVvZiBlbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cpIHtcbiAgICBpZiAoIWVsZW1lbnRFdmVudE1hcC5oYXMoZWxlbWVudCkpIHtcbiAgICAgIGNvbnN0IGtleWRvd25MaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IGV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB3aW5kb3cuZXZlbnQ7XG4gICAgICAgIHJldHVybiBkaXNwYXRjaChldmVudCwgZWxlbWVudCk7XG4gICAgICB9O1xuICAgICAgY29uc3Qga2V5dXBMaXN0ZW5yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgZXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHdpbmRvdy5ldmVudDtcbiAgICAgICAgZGlzcGF0Y2goZXZlbnQsIGVsZW1lbnQpO1xuICAgICAgICBjbGVhck1vZGlmaWVyKGV2ZW50KTtcbiAgICAgIH07XG4gICAgICBlbGVtZW50RXZlbnRNYXAuc2V0KGVsZW1lbnQsIHtcbiAgICAgICAga2V5ZG93bkxpc3RlbmVyLFxuICAgICAgICBrZXl1cExpc3RlbnIsXG4gICAgICAgIGNhcHR1cmVcbiAgICAgIH0pO1xuICAgICAgYWRkRXZlbnQoZWxlbWVudCwgJ2tleWRvd24nLCBrZXlkb3duTGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgICAgYWRkRXZlbnQoZWxlbWVudCwgJ2tleXVwJywga2V5dXBMaXN0ZW5yLCBjYXB0dXJlKTtcbiAgICB9XG4gICAgaWYgKCF3aW5MaXN0ZW5kRm9jdXMpIHtcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICBfZG93bktleXMgPSBbXTtcbiAgICAgIH07XG4gICAgICB3aW5MaXN0ZW5kRm9jdXMgPSB7XG4gICAgICAgIGxpc3RlbmVyLFxuICAgICAgICBjYXB0dXJlXG4gICAgICB9O1xuICAgICAgYWRkRXZlbnQod2luZG93LCAnZm9jdXMnLCBsaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB0cmlnZ2VyKHNob3J0Y3V0KSB7XG4gIGxldCBzY29wZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2FsbCc7XG4gIE9iamVjdC5rZXlzKF9oYW5kbGVycykuZm9yRWFjaChrZXkgPT4ge1xuICAgIGNvbnN0IGRhdGFMaXN0ID0gX2hhbmRsZXJzW2tleV0uZmlsdGVyKGl0ZW0gPT4gaXRlbS5zY29wZSA9PT0gc2NvcGUgJiYgaXRlbS5zaG9ydGN1dCA9PT0gc2hvcnRjdXQpO1xuICAgIGRhdGFMaXN0LmZvckVhY2goZGF0YSA9PiB7XG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLm1ldGhvZCkge1xuICAgICAgICBkYXRhLm1ldGhvZCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxuLy8gXHU5NTAwXHU2QkMxXHU0RThCXHU0RUY2LHVuYmluZFx1NEU0Qlx1NTQwRVx1NTIyNFx1NjVBRGVsZW1lbnRcdTRFMEFcdTY2MkZcdTU0MjZcdThGRDhcdTY3MDlcdTk1MkVcdTc2RDhcdTVGRUJcdTYzNzdcdTk1MkVcdUZGMENcdTU5ODJcdTY3OUNcdTZDQTFcdTY3MDlcdTc5RkJcdTk2NjRcdTc2RDFcdTU0MkNcbmZ1bmN0aW9uIHJlbW92ZUtleUV2ZW50KGVsZW1lbnQpIHtcbiAgY29uc3QgdmFsdWVzID0gT2JqZWN0LnZhbHVlcyhfaGFuZGxlcnMpLmZsYXQoKTtcbiAgY29uc3QgZmluZGluZGV4ID0gdmFsdWVzLmZpbmRJbmRleChfcmVmNCA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGVsZW1lbnQ6IGVsXG4gICAgfSA9IF9yZWY0O1xuICAgIHJldHVybiBlbCA9PT0gZWxlbWVudDtcbiAgfSk7XG4gIGlmIChmaW5kaW5kZXggPCAwKSB7XG4gICAgY29uc3Qge1xuICAgICAga2V5ZG93bkxpc3RlbmVyLFxuICAgICAga2V5dXBMaXN0ZW5yLFxuICAgICAgY2FwdHVyZVxuICAgIH0gPSBlbGVtZW50RXZlbnRNYXAuZ2V0KGVsZW1lbnQpIHx8IHt9O1xuICAgIGlmIChrZXlkb3duTGlzdGVuZXIgJiYga2V5dXBMaXN0ZW5yKSB7XG4gICAgICByZW1vdmVFdmVudChlbGVtZW50LCAna2V5dXAnLCBrZXl1cExpc3RlbnIsIGNhcHR1cmUpO1xuICAgICAgcmVtb3ZlRXZlbnQoZWxlbWVudCwgJ2tleWRvd24nLCBrZXlkb3duTGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgICAgZWxlbWVudEV2ZW50TWFwLmRlbGV0ZShlbGVtZW50KTtcbiAgICB9XG4gIH1cbiAgaWYgKHZhbHVlcy5sZW5ndGggPD0gMCB8fCBlbGVtZW50RXZlbnRNYXAuc2l6ZSA8PSAwKSB7XG4gICAgLy8gXHU3OUZCXHU5NjY0XHU2MjQwXHU2NzA5XHU3Njg0XHU1MTQzXHU3RDIwXHU0RTBBXHU3Njg0XHU3NkQxXHU1NDJDXG4gICAgY29uc3QgZXZlbnRLZXlzID0gT2JqZWN0LmtleXMoZWxlbWVudEV2ZW50TWFwKTtcbiAgICBldmVudEtleXMuZm9yRWFjaChlbCA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGtleWRvd25MaXN0ZW5lcixcbiAgICAgICAga2V5dXBMaXN0ZW5yLFxuICAgICAgICBjYXB0dXJlXG4gICAgICB9ID0gZWxlbWVudEV2ZW50TWFwLmdldChlbCkgfHwge307XG4gICAgICBpZiAoa2V5ZG93bkxpc3RlbmVyICYmIGtleXVwTGlzdGVucikge1xuICAgICAgICByZW1vdmVFdmVudChlbCwgJ2tleXVwJywga2V5dXBMaXN0ZW5yLCBjYXB0dXJlKTtcbiAgICAgICAgcmVtb3ZlRXZlbnQoZWwsICdrZXlkb3duJywga2V5ZG93bkxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICAgICAgZWxlbWVudEV2ZW50TWFwLmRlbGV0ZShlbCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gXHU2RTA1XHU3QTdBIGVsZW1lbnRFdmVudE1hcFxuICAgIGVsZW1lbnRFdmVudE1hcC5jbGVhcigpO1xuICAgIC8vIFx1NkUwNVx1N0E3QSBfaGFuZGxlcnNcbiAgICBPYmplY3Qua2V5cyhfaGFuZGxlcnMpLmZvckVhY2goa2V5ID0+IGRlbGV0ZSBfaGFuZGxlcnNba2V5XSk7XG4gICAgLy8gXHU3OUZCXHU5NjY0d2luZG93XHU0RTBBXHU3Njg0Zm9jdXNcdTc2RDFcdTU0MkNcbiAgICBpZiAod2luTGlzdGVuZEZvY3VzKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGxpc3RlbmVyLFxuICAgICAgICBjYXB0dXJlXG4gICAgICB9ID0gd2luTGlzdGVuZEZvY3VzO1xuICAgICAgcmVtb3ZlRXZlbnQod2luZG93LCAnZm9jdXMnLCBsaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgICB3aW5MaXN0ZW5kRm9jdXMgPSBudWxsO1xuICAgIH1cbiAgfVxufVxuY29uc3QgX2FwaSA9IHtcbiAgZ2V0UHJlc3NlZEtleVN0cmluZyxcbiAgc2V0U2NvcGUsXG4gIGdldFNjb3BlLFxuICBkZWxldGVTY29wZSxcbiAgZ2V0UHJlc3NlZEtleUNvZGVzLFxuICBnZXRBbGxLZXlDb2RlcyxcbiAgaXNQcmVzc2VkLFxuICBmaWx0ZXIsXG4gIHRyaWdnZXIsXG4gIHVuYmluZCxcbiAga2V5TWFwOiBfa2V5TWFwLFxuICBtb2RpZmllcjogX21vZGlmaWVyLFxuICBtb2RpZmllck1hcFxufTtcbmZvciAoY29uc3QgYSBpbiBfYXBpKSB7XG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX2FwaSwgYSkpIHtcbiAgICBob3RrZXlzW2FdID0gX2FwaVthXTtcbiAgfVxufVxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIGNvbnN0IF9ob3RrZXlzID0gd2luZG93LmhvdGtleXM7XG4gIGhvdGtleXMubm9Db25mbGljdCA9IGRlZXAgPT4ge1xuICAgIGlmIChkZWVwICYmIHdpbmRvdy5ob3RrZXlzID09PSBob3RrZXlzKSB7XG4gICAgICB3aW5kb3cuaG90a2V5cyA9IF9ob3RrZXlzO1xuICAgIH1cbiAgICByZXR1cm4gaG90a2V5cztcbiAgfTtcbiAgd2luZG93LmhvdGtleXMgPSBob3RrZXlzO1xufVxuXG5leHBvcnQgeyBob3RrZXlzIGFzIGRlZmF1bHQgfTtcbiIsICIvKlxuICogc3RpbXVsdXMtdXNlIDAuNTIuMVxuICovXG5pbXBvcnQgaG90a2V5cyBmcm9tIFwiaG90a2V5cy1qc1wiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cblxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqLyBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSkgdFtwW2ldXSA9IHNbcFtpXV07XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICBkZWJ1ZzogZmFsc2UsXG4gIGxvZ2dlcjogY29uc29sZSxcbiAgZGlzcGF0Y2hFdmVudDogdHJ1ZSxcbiAgZXZlbnRQcmVmaXg6IHRydWVcbn07XG5cbmNsYXNzIFN0aW11bHVzVXNlIHtcbiAgY29uc3RydWN0b3IoY29udHJvbGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgdGhpcy5sb2cgPSAoZnVuY3Rpb25OYW1lLCBhcmdzKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuZGVidWcpIHJldHVybjtcbiAgICAgIHRoaXMubG9nZ2VyLmdyb3VwQ29sbGFwc2VkKGAlYyR7dGhpcy5jb250cm9sbGVyLmlkZW50aWZpZXJ9ICVjIyR7ZnVuY3Rpb25OYW1lfWAsIFwiY29sb3I6ICMzQjgyRjZcIiwgXCJjb2xvcjogdW5zZXRcIik7XG4gICAgICB0aGlzLmxvZ2dlci5sb2coT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGNvbnRyb2xsZXJJZDogdGhpcy5jb250cm9sbGVySWRcbiAgICAgIH0sIGFyZ3MpKTtcbiAgICAgIHRoaXMubG9nZ2VyLmdyb3VwRW5kKCk7XG4gICAgfTtcbiAgICB0aGlzLndhcm4gPSBtZXNzYWdlID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oYCVjJHt0aGlzLmNvbnRyb2xsZXIuaWRlbnRpZmllcn0gJWMke21lc3NhZ2V9YCwgXCJjb2xvcjogIzNCODJGNjsgZm9udC13ZWlnaHQ6IGJvbGRcIiwgXCJjb2xvcjogdW5zZXRcIik7XG4gICAgfTtcbiAgICB0aGlzLmRpc3BhdGNoID0gKGV2ZW50TmFtZSwgZGV0YWlscyA9IHt9KSA9PiB7XG4gICAgICBpZiAodGhpcy5kaXNwYXRjaEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHtldmVudDogZXZlbnR9ID0gZGV0YWlscywgZXZlbnREZXRhaWxzID0gX19yZXN0KGRldGFpbHMsIFsgXCJldmVudFwiIF0pO1xuICAgICAgICBjb25zdCBjdXN0b21FdmVudCA9IHRoaXMuZXh0ZW5kZWRFdmVudChldmVudE5hbWUsIGV2ZW50IHx8IG51bGwsIGV2ZW50RGV0YWlscyk7XG4gICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcbiAgICAgICAgdGhpcy5sb2coXCJkaXNwYXRjaEV2ZW50XCIsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgIGV2ZW50TmFtZTogY3VzdG9tRXZlbnQudHlwZVxuICAgICAgICB9LCBldmVudERldGFpbHMpKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuY2FsbCA9IChtZXRob2ROYW1lLCBhcmdzID0ge30pID0+IHtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMuY29udHJvbGxlclttZXRob2ROYW1lXTtcbiAgICAgIGlmICh0eXBlb2YgbWV0aG9kID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gbWV0aG9kLmNhbGwodGhpcy5jb250cm9sbGVyLCBhcmdzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZXh0ZW5kZWRFdmVudCA9IChuYW1lLCBldmVudCwgZGV0YWlsKSA9PiB7XG4gICAgICBjb25zdCB7YnViYmxlczogYnViYmxlcywgY2FuY2VsYWJsZTogY2FuY2VsYWJsZSwgY29tcG9zZWQ6IGNvbXBvc2VkfSA9IGV2ZW50IHx8IHtcbiAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgY29tcG9zZWQ6IHRydWVcbiAgICAgIH07XG4gICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihkZXRhaWwsIHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KHRoaXMuY29tcG9zZUV2ZW50TmFtZShuYW1lKSwge1xuICAgICAgICBidWJibGVzOiBidWJibGVzLFxuICAgICAgICBjYW5jZWxhYmxlOiBjYW5jZWxhYmxlLFxuICAgICAgICBjb21wb3NlZDogY29tcG9zZWQsXG4gICAgICAgIGRldGFpbDogZGV0YWlsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjdXN0b21FdmVudDtcbiAgICB9O1xuICAgIHRoaXMuY29tcG9zZUV2ZW50TmFtZSA9IG5hbWUgPT4ge1xuICAgICAgbGV0IGNvbXBvc2VkTmFtZSA9IG5hbWU7XG4gICAgICBpZiAodGhpcy5ldmVudFByZWZpeCA9PT0gdHJ1ZSkge1xuICAgICAgICBjb21wb3NlZE5hbWUgPSBgJHt0aGlzLmNvbnRyb2xsZXIuaWRlbnRpZmllcn06JHtuYW1lfWA7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLmV2ZW50UHJlZml4ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbXBvc2VkTmFtZSA9IGAke3RoaXMuZXZlbnRQcmVmaXh9OiR7bmFtZX1gO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbXBvc2VkTmFtZTtcbiAgICB9O1xuICAgIHRoaXMuZGVidWcgPSAoX2IgPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZGVidWcpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNvbnRyb2xsZXIuYXBwbGljYXRpb24uc3RpbXVsdXNVc2VEZWJ1ZykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZGVmYXVsdE9wdGlvbnMuZGVidWc7XG4gICAgdGhpcy5sb2dnZXIgPSAoX2MgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubG9nZ2VyKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBkZWZhdWx0T3B0aW9ucy5sb2dnZXI7XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB0aGlzLmNvbnRyb2xsZXJJZCA9IGNvbnRyb2xsZXIuZWxlbWVudC5pZCB8fCBjb250cm9sbGVyLmVsZW1lbnQuZGF0YXNldC5pZDtcbiAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmVsZW1lbnQpIHx8IGNvbnRyb2xsZXIuZWxlbWVudDtcbiAgICBjb25zdCB7ZGlzcGF0Y2hFdmVudDogZGlzcGF0Y2hFdmVudCwgZXZlbnRQcmVmaXg6IGV2ZW50UHJlZml4fSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgIGRpc3BhdGNoRXZlbnQ6IGRpc3BhdGNoRXZlbnQsXG4gICAgICBldmVudFByZWZpeDogZXZlbnRQcmVmaXhcbiAgICB9KTtcbiAgICB0aGlzLmNvbnRyb2xsZXJJbml0aWFsaXplID0gY29udHJvbGxlci5pbml0aWFsaXplLmJpbmQoY29udHJvbGxlcik7XG4gICAgdGhpcy5jb250cm9sbGVyQ29ubmVjdCA9IGNvbnRyb2xsZXIuY29ubmVjdC5iaW5kKGNvbnRyb2xsZXIpO1xuICAgIHRoaXMuY29udHJvbGxlckRpc2Nvbm5lY3QgPSBjb250cm9sbGVyLmRpc2Nvbm5lY3QuYmluZChjb250cm9sbGVyKTtcbiAgfVxufVxuXG5jbGFzcyBVc2VIb3RrZXlzIGV4dGVuZHMgU3RpbXVsdXNVc2Uge1xuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyLCBob3RrZXlzT3B0aW9ucykge1xuICAgIHN1cGVyKGNvbnRyb2xsZXIsIGhvdGtleXNPcHRpb25zKTtcbiAgICB0aGlzLmJpbmQgPSAoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IFtob3RrZXksIGRlZmluaXRpb25dIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuaG90a2V5c09wdGlvbnMuaG90a2V5cykpIHtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IGRlZmluaXRpb24uaGFuZGxlci5iaW5kKHRoaXMuY29udHJvbGxlcik7XG4gICAgICAgIGhvdGtleXMoaG90a2V5LCBkZWZpbml0aW9uLm9wdGlvbnMsIChlID0+IGhhbmRsZXIoZSwgZSkpKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMudW5iaW5kID0gKCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBob3RrZXkgaW4gdGhpcy5ob3RrZXlzT3B0aW9ucy5ob3RrZXlzKSB7XG4gICAgICAgIGhvdGtleXMudW5iaW5kKGhvdGtleSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIHRoaXMuaG90a2V5c09wdGlvbnMgPSBob3RrZXlzT3B0aW9ucztcbiAgICB0aGlzLmVuaGFuY2VDb250cm9sbGVyKCk7XG4gICAgdGhpcy5iaW5kKCk7XG4gIH1cbiAgZW5oYW5jZUNvbnRyb2xsZXIoKSB7XG4gICAgaWYgKHRoaXMuaG90a2V5c09wdGlvbnMuZmlsdGVyKSB7XG4gICAgICBob3RrZXlzLmZpbHRlciA9IHRoaXMuaG90a2V5c09wdGlvbnMuZmlsdGVyO1xuICAgIH1cbiAgICBjb25zdCBjb250cm9sbGVyRGlzY29ubmVjdCA9IHRoaXMuY29udHJvbGxlci5kaXNjb25uZWN0LmJpbmQodGhpcy5jb250cm9sbGVyKTtcbiAgICBjb25zdCBkaXNjb25uZWN0ID0gKCkgPT4ge1xuICAgICAgdGhpcy51bmJpbmQoKTtcbiAgICAgIGNvbnRyb2xsZXJEaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMuY29udHJvbGxlciwge1xuICAgICAgZGlzY29ubmVjdDogZGlzY29ubmVjdFxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IGNvbnZlcnRTaW1wbGVIb3RrZXlEZWZpbml0aW9uID0gZGVmaW5pdGlvbiA9PiAoe1xuICBoYW5kbGVyOiBkZWZpbml0aW9uWzBdLFxuICBvcHRpb25zOiB7XG4gICAgZWxlbWVudDogZGVmaW5pdGlvblsxXVxuICB9XG59KTtcblxuY29uc3QgY29lcmNlT3B0aW9ucyA9IG9wdGlvbnMgPT4ge1xuICBpZiAoIW9wdGlvbnMuaG90a2V5cykge1xuICAgIGNvbnN0IGhvdGtleXMgPSB7fTtcbiAgICBPYmplY3QuZW50cmllcyhvcHRpb25zKS5mb3JFYWNoKCgoW2hvdGtleSwgZGVmaW5pdGlvbl0pID0+IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShob3RrZXlzLCBob3RrZXksIHtcbiAgICAgICAgdmFsdWU6IGNvbnZlcnRTaW1wbGVIb3RrZXlEZWZpbml0aW9uKGRlZmluaXRpb24pLFxuICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0pKTtcbiAgICBvcHRpb25zID0ge1xuICAgICAgaG90a2V5czogaG90a2V5c1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5jb25zdCB1c2VIb3RrZXlzID0gKGNvbnRyb2xsZXIsIG9wdGlvbnMpID0+IG5ldyBVc2VIb3RrZXlzKGNvbnRyb2xsZXIsIGNvZXJjZU9wdGlvbnMob3B0aW9ucykpO1xuXG5leHBvcnQgeyB1c2VIb3RrZXlzIH07XG4iLCAiLy8gYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvdWktY29udGV4dC1tZW51LWNvbnRyb2xsZXIuanNcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcbmltcG9ydCB7IGNvbXB1dGVQb3NpdGlvbiwgZmxpcCwgc2hpZnQsIG9mZnNldCB9IGZyb20gJ0BmbG9hdGluZy11aS9kb20nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIHN0YXRpYyB0YXJnZXRzID0gW1wibWVudVwiLCBcInN1Ym1lbnVUcmlnZ2VyXCIsIFwic3VibWVudVwiXVxuICBzdGF0aWMgdmFsdWVzID0ge1xuICAgIHNpZGU6IFN0cmluZyxcbiAgICBhbGlnbjogU3RyaW5nXG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgdGhpcy5zaG93TWVudS5iaW5kKHRoaXMpKVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhpZGVNZW51LmJpbmQodGhpcykpXG4gIH1cblxuICBkaXNjb25uZWN0KCkge1xuICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgdGhpcy5zaG93TWVudS5iaW5kKHRoaXMpKVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhpZGVNZW51LmJpbmQodGhpcykpXG4gIH1cblxuICBzaG93TWVudShldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB0aGlzLm1lbnVUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKVxuICAgIHRoaXMubWVudVRhcmdldC5kYXRhc2V0LnN0YXRlID0gXCJvcGVuXCJcbiAgICBcbiAgICBjb21wdXRlUG9zaXRpb24oXG4gICAgICB7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFkgfSxcbiAgICAgIHRoaXMubWVudVRhcmdldCxcbiAgICAgIHtcbiAgICAgICAgcGxhY2VtZW50OiBgJHt0aGlzLnNpZGVWYWx1ZX0tJHt0aGlzLmFsaWduVmFsdWV9YCxcbiAgICAgICAgbWlkZGxld2FyZTogW1xuICAgICAgICAgIG9mZnNldCg1KSxcbiAgICAgICAgICBmbGlwKCksXG4gICAgICAgICAgc2hpZnQoe3BhZGRpbmc6IDV9KVxuICAgICAgICBdXG4gICAgICB9XG4gICAgKS50aGVuKCh7eCwgeX0pID0+IHtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5tZW51VGFyZ2V0LnN0eWxlLCB7XG4gICAgICAgIGxlZnQ6IGAke3h9cHhgLFxuICAgICAgICB0b3A6IGAke3l9cHhgLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBoaWRlTWVudShldmVudCkge1xuICAgIGlmICghdGhpcy5tZW51VGFyZ2V0LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgIHRoaXMubWVudVRhcmdldC5kYXRhc2V0LnN0YXRlID0gXCJjbG9zZWRcIlxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMubWVudVRhcmdldC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpXG4gICAgICB9LCAyMDApXG4gICAgfVxuICB9XG5cbiAgc2hvd1N1Ym1lbnUoZXZlbnQpIHtcbiAgICBjb25zdCBzdWJtZW51ID0gZXZlbnQuY3VycmVudFRhcmdldC5xdWVyeVNlbGVjdG9yKCdbZGF0YS11aS1jb250ZXh0LW1lbnUtdGFyZ2V0PVwic3VibWVudVwiXScpXG4gICAgaWYgKHN1Ym1lbnUpIHtcbiAgICAgIHN1Ym1lbnUuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKVxuICAgICAgY29tcHV0ZVBvc2l0aW9uKGV2ZW50LmN1cnJlbnRUYXJnZXQsIHN1Ym1lbnUsIHtcbiAgICAgICAgcGxhY2VtZW50OiAncmlnaHQtc3RhcnQnLFxuICAgICAgICBtaWRkbGV3YXJlOiBbXG4gICAgICAgICAgb2Zmc2V0KDUpLFxuICAgICAgICAgIGZsaXAoKSxcbiAgICAgICAgICBzaGlmdCh7cGFkZGluZzogNX0pXG4gICAgICAgIF1cbiAgICAgIH0pLnRoZW4oKHt4LCB5fSkgPT4ge1xuICAgICAgICBPYmplY3QuYXNzaWduKHN1Ym1lbnUuc3R5bGUsIHtcbiAgICAgICAgICBsZWZ0OiBgJHt4fXB4YCxcbiAgICAgICAgICB0b3A6IGAke3l9cHhgLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGhpZGVTdWJtZW51KGV2ZW50KSB7XG4gICAgY29uc3Qgc3VibWVudSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignW2RhdGEtdWktY29udGV4dC1tZW51LXRhcmdldD1cInN1Ym1lbnVcIl0nKVxuICAgIGlmIChzdWJtZW51KSB7XG4gICAgICBzdWJtZW51LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIilcbiAgICB9XG4gIH1cbn0iLCAiLyoqXG4gKiBDdXN0b20gcG9zaXRpb25pbmcgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvdmlydHVhbC1lbGVtZW50c1xuICovXG5cbmNvbnN0IHNpZGVzID0gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXTtcbmNvbnN0IGFsaWdubWVudHMgPSBbJ3N0YXJ0JywgJ2VuZCddO1xuY29uc3QgcGxhY2VtZW50cyA9IC8qI19fUFVSRV9fKi9zaWRlcy5yZWR1Y2UoKGFjYywgc2lkZSkgPT4gYWNjLmNvbmNhdChzaWRlLCBzaWRlICsgXCItXCIgKyBhbGlnbm1lbnRzWzBdLCBzaWRlICsgXCItXCIgKyBhbGlnbm1lbnRzWzFdKSwgW10pO1xuY29uc3QgbWluID0gTWF0aC5taW47XG5jb25zdCBtYXggPSBNYXRoLm1heDtcbmNvbnN0IHJvdW5kID0gTWF0aC5yb3VuZDtcbmNvbnN0IGZsb29yID0gTWF0aC5mbG9vcjtcbmNvbnN0IGNyZWF0ZUNvb3JkcyA9IHYgPT4gKHtcbiAgeDogdixcbiAgeTogdlxufSk7XG5jb25zdCBvcHBvc2l0ZVNpZGVNYXAgPSB7XG4gIGxlZnQ6ICdyaWdodCcsXG4gIHJpZ2h0OiAnbGVmdCcsXG4gIGJvdHRvbTogJ3RvcCcsXG4gIHRvcDogJ2JvdHRvbSdcbn07XG5jb25zdCBvcHBvc2l0ZUFsaWdubWVudE1hcCA9IHtcbiAgc3RhcnQ6ICdlbmQnLFxuICBlbmQ6ICdzdGFydCdcbn07XG5mdW5jdGlvbiBjbGFtcChzdGFydCwgdmFsdWUsIGVuZCkge1xuICByZXR1cm4gbWF4KHN0YXJ0LCBtaW4odmFsdWUsIGVuZCkpO1xufVxuZnVuY3Rpb24gZXZhbHVhdGUodmFsdWUsIHBhcmFtKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgPyB2YWx1ZShwYXJhbSkgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGdldFNpZGUocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbn1cbmZ1bmN0aW9uIGdldEFsaWdubWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5zcGxpdCgnLScpWzFdO1xufVxuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVBeGlzKGF4aXMpIHtcbiAgcmV0dXJuIGF4aXMgPT09ICd4JyA/ICd5JyA6ICd4Jztcbn1cbmZ1bmN0aW9uIGdldEF4aXNMZW5ndGgoYXhpcykge1xuICByZXR1cm4gYXhpcyA9PT0gJ3knID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xufVxuZnVuY3Rpb24gZ2V0U2lkZUF4aXMocGxhY2VtZW50KSB7XG4gIHJldHVybiBbJ3RvcCcsICdib3R0b20nXS5pbmNsdWRlcyhnZXRTaWRlKHBsYWNlbWVudCkpID8gJ3knIDogJ3gnO1xufVxuZnVuY3Rpb24gZ2V0QWxpZ25tZW50QXhpcyhwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIGdldE9wcG9zaXRlQXhpcyhnZXRTaWRlQXhpcyhwbGFjZW1lbnQpKTtcbn1cbmZ1bmN0aW9uIGdldEFsaWdubWVudFNpZGVzKHBsYWNlbWVudCwgcmVjdHMsIHJ0bCkge1xuICBpZiAocnRsID09PSB2b2lkIDApIHtcbiAgICBydGwgPSBmYWxzZTtcbiAgfVxuICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQocGxhY2VtZW50KTtcbiAgY29uc3QgYWxpZ25tZW50QXhpcyA9IGdldEFsaWdubWVudEF4aXMocGxhY2VtZW50KTtcbiAgY29uc3QgbGVuZ3RoID0gZ2V0QXhpc0xlbmd0aChhbGlnbm1lbnRBeGlzKTtcbiAgbGV0IG1haW5BbGlnbm1lbnRTaWRlID0gYWxpZ25tZW50QXhpcyA9PT0gJ3gnID8gYWxpZ25tZW50ID09PSAocnRsID8gJ2VuZCcgOiAnc3RhcnQnKSA/ICdyaWdodCcgOiAnbGVmdCcgOiBhbGlnbm1lbnQgPT09ICdzdGFydCcgPyAnYm90dG9tJyA6ICd0b3AnO1xuICBpZiAocmVjdHMucmVmZXJlbmNlW2xlbmd0aF0gPiByZWN0cy5mbG9hdGluZ1tsZW5ndGhdKSB7XG4gICAgbWFpbkFsaWdubWVudFNpZGUgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChtYWluQWxpZ25tZW50U2lkZSk7XG4gIH1cbiAgcmV0dXJuIFttYWluQWxpZ25tZW50U2lkZSwgZ2V0T3Bwb3NpdGVQbGFjZW1lbnQobWFpbkFsaWdubWVudFNpZGUpXTtcbn1cbmZ1bmN0aW9uIGdldEV4cGFuZGVkUGxhY2VtZW50cyhwbGFjZW1lbnQpIHtcbiAgY29uc3Qgb3Bwb3NpdGVQbGFjZW1lbnQgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuICByZXR1cm4gW2dldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50KHBsYWNlbWVudCksIG9wcG9zaXRlUGxhY2VtZW50LCBnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudChvcHBvc2l0ZVBsYWNlbWVudCldO1xufVxuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVBbGlnbm1lbnRQbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvc3RhcnR8ZW5kL2csIGFsaWdubWVudCA9PiBvcHBvc2l0ZUFsaWdubWVudE1hcFthbGlnbm1lbnRdKTtcbn1cbmZ1bmN0aW9uIGdldFNpZGVMaXN0KHNpZGUsIGlzU3RhcnQsIHJ0bCkge1xuICBjb25zdCBsciA9IFsnbGVmdCcsICdyaWdodCddO1xuICBjb25zdCBybCA9IFsncmlnaHQnLCAnbGVmdCddO1xuICBjb25zdCB0YiA9IFsndG9wJywgJ2JvdHRvbSddO1xuICBjb25zdCBidCA9IFsnYm90dG9tJywgJ3RvcCddO1xuICBzd2l0Y2ggKHNpZGUpIHtcbiAgICBjYXNlICd0b3AnOlxuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICBpZiAocnRsKSByZXR1cm4gaXNTdGFydCA/IHJsIDogbHI7XG4gICAgICByZXR1cm4gaXNTdGFydCA/IGxyIDogcmw7XG4gICAgY2FzZSAnbGVmdCc6XG4gICAgY2FzZSAncmlnaHQnOlxuICAgICAgcmV0dXJuIGlzU3RhcnQgPyB0YiA6IGJ0O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gW107XG4gIH1cbn1cbmZ1bmN0aW9uIGdldE9wcG9zaXRlQXhpc1BsYWNlbWVudHMocGxhY2VtZW50LCBmbGlwQWxpZ25tZW50LCBkaXJlY3Rpb24sIHJ0bCkge1xuICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQocGxhY2VtZW50KTtcbiAgbGV0IGxpc3QgPSBnZXRTaWRlTGlzdChnZXRTaWRlKHBsYWNlbWVudCksIGRpcmVjdGlvbiA9PT0gJ3N0YXJ0JywgcnRsKTtcbiAgaWYgKGFsaWdubWVudCkge1xuICAgIGxpc3QgPSBsaXN0Lm1hcChzaWRlID0+IHNpZGUgKyBcIi1cIiArIGFsaWdubWVudCk7XG4gICAgaWYgKGZsaXBBbGlnbm1lbnQpIHtcbiAgICAgIGxpc3QgPSBsaXN0LmNvbmNhdChsaXN0Lm1hcChnZXRPcHBvc2l0ZUFsaWdubWVudFBsYWNlbWVudCkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbGlzdDtcbn1cbmZ1bmN0aW9uIGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnJlcGxhY2UoL2xlZnR8cmlnaHR8Ym90dG9tfHRvcC9nLCBzaWRlID0+IG9wcG9zaXRlU2lkZU1hcFtzaWRlXSk7XG59XG5mdW5jdGlvbiBleHBhbmRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IDAsXG4gICAgcmlnaHQ6IDAsXG4gICAgYm90dG9tOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgLi4ucGFkZGluZ1xuICB9O1xufVxuZnVuY3Rpb24gZ2V0UGFkZGluZ09iamVjdChwYWRkaW5nKSB7XG4gIHJldHVybiB0eXBlb2YgcGFkZGluZyAhPT0gJ251bWJlcicgPyBleHBhbmRQYWRkaW5nT2JqZWN0KHBhZGRpbmcpIDoge1xuICAgIHRvcDogcGFkZGluZyxcbiAgICByaWdodDogcGFkZGluZyxcbiAgICBib3R0b206IHBhZGRpbmcsXG4gICAgbGVmdDogcGFkZGluZ1xuICB9O1xufVxuZnVuY3Rpb24gcmVjdFRvQ2xpZW50UmVjdChyZWN0KSB7XG4gIGNvbnN0IHtcbiAgICB4LFxuICAgIHksXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0XG4gIH0gPSByZWN0O1xuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICB0b3A6IHksXG4gICAgbGVmdDogeCxcbiAgICByaWdodDogeCArIHdpZHRoLFxuICAgIGJvdHRvbTogeSArIGhlaWdodCxcbiAgICB4LFxuICAgIHlcbiAgfTtcbn1cblxuZXhwb3J0IHsgYWxpZ25tZW50cywgY2xhbXAsIGNyZWF0ZUNvb3JkcywgZXZhbHVhdGUsIGV4cGFuZFBhZGRpbmdPYmplY3QsIGZsb29yLCBnZXRBbGlnbm1lbnQsIGdldEFsaWdubWVudEF4aXMsIGdldEFsaWdubWVudFNpZGVzLCBnZXRBeGlzTGVuZ3RoLCBnZXRFeHBhbmRlZFBsYWNlbWVudHMsIGdldE9wcG9zaXRlQWxpZ25tZW50UGxhY2VtZW50LCBnZXRPcHBvc2l0ZUF4aXMsIGdldE9wcG9zaXRlQXhpc1BsYWNlbWVudHMsIGdldE9wcG9zaXRlUGxhY2VtZW50LCBnZXRQYWRkaW5nT2JqZWN0LCBnZXRTaWRlLCBnZXRTaWRlQXhpcywgbWF4LCBtaW4sIHBsYWNlbWVudHMsIHJlY3RUb0NsaWVudFJlY3QsIHJvdW5kLCBzaWRlcyB9O1xuIiwgImltcG9ydCB7IGdldFNpZGVBeGlzLCBnZXRBbGlnbm1lbnRBeGlzLCBnZXRBeGlzTGVuZ3RoLCBnZXRTaWRlLCBnZXRBbGlnbm1lbnQsIGV2YWx1YXRlLCBnZXRQYWRkaW5nT2JqZWN0LCByZWN0VG9DbGllbnRSZWN0LCBtaW4sIGNsYW1wLCBwbGFjZW1lbnRzLCBnZXRBbGlnbm1lbnRTaWRlcywgZ2V0T3Bwb3NpdGVBbGlnbm1lbnRQbGFjZW1lbnQsIGdldE9wcG9zaXRlUGxhY2VtZW50LCBnZXRFeHBhbmRlZFBsYWNlbWVudHMsIGdldE9wcG9zaXRlQXhpc1BsYWNlbWVudHMsIHNpZGVzLCBtYXgsIGdldE9wcG9zaXRlQXhpcyB9IGZyb20gJ0BmbG9hdGluZy11aS91dGlscyc7XG5leHBvcnQgeyByZWN0VG9DbGllbnRSZWN0IH0gZnJvbSAnQGZsb2F0aW5nLXVpL3V0aWxzJztcblxuZnVuY3Rpb24gY29tcHV0ZUNvb3Jkc0Zyb21QbGFjZW1lbnQoX3JlZiwgcGxhY2VtZW50LCBydGwpIHtcbiAgbGV0IHtcbiAgICByZWZlcmVuY2UsXG4gICAgZmxvYXRpbmdcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHNpZGVBeGlzID0gZ2V0U2lkZUF4aXMocGxhY2VtZW50KTtcbiAgY29uc3QgYWxpZ25tZW50QXhpcyA9IGdldEFsaWdubWVudEF4aXMocGxhY2VtZW50KTtcbiAgY29uc3QgYWxpZ25MZW5ndGggPSBnZXRBeGlzTGVuZ3RoKGFsaWdubWVudEF4aXMpO1xuICBjb25zdCBzaWRlID0gZ2V0U2lkZShwbGFjZW1lbnQpO1xuICBjb25zdCBpc1ZlcnRpY2FsID0gc2lkZUF4aXMgPT09ICd5JztcbiAgY29uc3QgY29tbW9uWCA9IHJlZmVyZW5jZS54ICsgcmVmZXJlbmNlLndpZHRoIC8gMiAtIGZsb2F0aW5nLndpZHRoIC8gMjtcbiAgY29uc3QgY29tbW9uWSA9IHJlZmVyZW5jZS55ICsgcmVmZXJlbmNlLmhlaWdodCAvIDIgLSBmbG9hdGluZy5oZWlnaHQgLyAyO1xuICBjb25zdCBjb21tb25BbGlnbiA9IHJlZmVyZW5jZVthbGlnbkxlbmd0aF0gLyAyIC0gZmxvYXRpbmdbYWxpZ25MZW5ndGhdIC8gMjtcbiAgbGV0IGNvb3JkcztcbiAgc3dpdGNoIChzaWRlKSB7XG4gICAgY2FzZSAndG9wJzpcbiAgICAgIGNvb3JkcyA9IHtcbiAgICAgICAgeDogY29tbW9uWCxcbiAgICAgICAgeTogcmVmZXJlbmNlLnkgLSBmbG9hdGluZy5oZWlnaHRcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdib3R0b20nOlxuICAgICAgY29vcmRzID0ge1xuICAgICAgICB4OiBjb21tb25YLFxuICAgICAgICB5OiByZWZlcmVuY2UueSArIHJlZmVyZW5jZS5oZWlnaHRcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdyaWdodCc6XG4gICAgICBjb29yZHMgPSB7XG4gICAgICAgIHg6IHJlZmVyZW5jZS54ICsgcmVmZXJlbmNlLndpZHRoLFxuICAgICAgICB5OiBjb21tb25ZXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbGVmdCc6XG4gICAgICBjb29yZHMgPSB7XG4gICAgICAgIHg6IHJlZmVyZW5jZS54IC0gZmxvYXRpbmcud2lkdGgsXG4gICAgICAgIHk6IGNvbW1vbllcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29vcmRzID0ge1xuICAgICAgICB4OiByZWZlcmVuY2UueCxcbiAgICAgICAgeTogcmVmZXJlbmNlLnlcbiAgICAgIH07XG4gIH1cbiAgc3dpdGNoIChnZXRBbGlnbm1lbnQocGxhY2VtZW50KSkge1xuICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgIGNvb3Jkc1thbGlnbm1lbnRBeGlzXSAtPSBjb21tb25BbGlnbiAqIChydGwgJiYgaXNWZXJ0aWNhbCA/IC0xIDogMSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdlbmQnOlxuICAgICAgY29vcmRzW2FsaWdubWVudEF4aXNdICs9IGNvbW1vbkFsaWduICogKHJ0bCAmJiBpc1ZlcnRpY2FsID8gLTEgOiAxKTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIHJldHVybiBjb29yZHM7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGB4YCBhbmQgYHlgIGNvb3JkaW5hdGVzIHRoYXQgd2lsbCBwbGFjZSB0aGUgZmxvYXRpbmcgZWxlbWVudFxuICogbmV4dCB0byBhIGdpdmVuIHJlZmVyZW5jZSBlbGVtZW50LlxuICpcbiAqIFRoaXMgZXhwb3J0IGRvZXMgbm90IGhhdmUgYW55IGBwbGF0Zm9ybWAgaW50ZXJmYWNlIGxvZ2ljLiBZb3Ugd2lsbCBuZWVkIHRvXG4gKiB3cml0ZSBvbmUgZm9yIHRoZSBwbGF0Zm9ybSB5b3UgYXJlIHVzaW5nIEZsb2F0aW5nIFVJIHdpdGguXG4gKi9cbmNvbnN0IGNvbXB1dGVQb3NpdGlvbiA9IGFzeW5jIChyZWZlcmVuY2UsIGZsb2F0aW5nLCBjb25maWcpID0+IHtcbiAgY29uc3Qge1xuICAgIHBsYWNlbWVudCA9ICdib3R0b20nLFxuICAgIHN0cmF0ZWd5ID0gJ2Fic29sdXRlJyxcbiAgICBtaWRkbGV3YXJlID0gW10sXG4gICAgcGxhdGZvcm1cbiAgfSA9IGNvbmZpZztcbiAgY29uc3QgdmFsaWRNaWRkbGV3YXJlID0gbWlkZGxld2FyZS5maWx0ZXIoQm9vbGVhbik7XG4gIGNvbnN0IHJ0bCA9IGF3YWl0IChwbGF0Zm9ybS5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uaXNSVEwoZmxvYXRpbmcpKTtcbiAgbGV0IHJlY3RzID0gYXdhaXQgcGxhdGZvcm0uZ2V0RWxlbWVudFJlY3RzKHtcbiAgICByZWZlcmVuY2UsXG4gICAgZmxvYXRpbmcsXG4gICAgc3RyYXRlZ3lcbiAgfSk7XG4gIGxldCB7XG4gICAgeCxcbiAgICB5XG4gIH0gPSBjb21wdXRlQ29vcmRzRnJvbVBsYWNlbWVudChyZWN0cywgcGxhY2VtZW50LCBydGwpO1xuICBsZXQgc3RhdGVmdWxQbGFjZW1lbnQgPSBwbGFjZW1lbnQ7XG4gIGxldCBtaWRkbGV3YXJlRGF0YSA9IHt9O1xuICBsZXQgcmVzZXRDb3VudCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsaWRNaWRkbGV3YXJlLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZSxcbiAgICAgIGZuXG4gICAgfSA9IHZhbGlkTWlkZGxld2FyZVtpXTtcbiAgICBjb25zdCB7XG4gICAgICB4OiBuZXh0WCxcbiAgICAgIHk6IG5leHRZLFxuICAgICAgZGF0YSxcbiAgICAgIHJlc2V0XG4gICAgfSA9IGF3YWl0IGZuKHtcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgaW5pdGlhbFBsYWNlbWVudDogcGxhY2VtZW50LFxuICAgICAgcGxhY2VtZW50OiBzdGF0ZWZ1bFBsYWNlbWVudCxcbiAgICAgIHN0cmF0ZWd5LFxuICAgICAgbWlkZGxld2FyZURhdGEsXG4gICAgICByZWN0cyxcbiAgICAgIHBsYXRmb3JtLFxuICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgcmVmZXJlbmNlLFxuICAgICAgICBmbG9hdGluZ1xuICAgICAgfVxuICAgIH0pO1xuICAgIHggPSBuZXh0WCAhPSBudWxsID8gbmV4dFggOiB4O1xuICAgIHkgPSBuZXh0WSAhPSBudWxsID8gbmV4dFkgOiB5O1xuICAgIG1pZGRsZXdhcmVEYXRhID0ge1xuICAgICAgLi4ubWlkZGxld2FyZURhdGEsXG4gICAgICBbbmFtZV06IHtcbiAgICAgICAgLi4ubWlkZGxld2FyZURhdGFbbmFtZV0sXG4gICAgICAgIC4uLmRhdGFcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChyZXNldCAmJiByZXNldENvdW50IDw9IDUwKSB7XG4gICAgICByZXNldENvdW50Kys7XG4gICAgICBpZiAodHlwZW9mIHJlc2V0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAocmVzZXQucGxhY2VtZW50KSB7XG4gICAgICAgICAgc3RhdGVmdWxQbGFjZW1lbnQgPSByZXNldC5wbGFjZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc2V0LnJlY3RzKSB7XG4gICAgICAgICAgcmVjdHMgPSByZXNldC5yZWN0cyA9PT0gdHJ1ZSA/IGF3YWl0IHBsYXRmb3JtLmdldEVsZW1lbnRSZWN0cyh7XG4gICAgICAgICAgICByZWZlcmVuY2UsXG4gICAgICAgICAgICBmbG9hdGluZyxcbiAgICAgICAgICAgIHN0cmF0ZWd5XG4gICAgICAgICAgfSkgOiByZXNldC5yZWN0cztcbiAgICAgICAgfVxuICAgICAgICAoe1xuICAgICAgICAgIHgsXG4gICAgICAgICAgeVxuICAgICAgICB9ID0gY29tcHV0ZUNvb3Jkc0Zyb21QbGFjZW1lbnQocmVjdHMsIHN0YXRlZnVsUGxhY2VtZW50LCBydGwpKTtcbiAgICAgIH1cbiAgICAgIGkgPSAtMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB4LFxuICAgIHksXG4gICAgcGxhY2VtZW50OiBzdGF0ZWZ1bFBsYWNlbWVudCxcbiAgICBzdHJhdGVneSxcbiAgICBtaWRkbGV3YXJlRGF0YVxuICB9O1xufTtcblxuLyoqXG4gKiBSZXNvbHZlcyB3aXRoIGFuIG9iamVjdCBvZiBvdmVyZmxvdyBzaWRlIG9mZnNldHMgdGhhdCBkZXRlcm1pbmUgaG93IG11Y2ggdGhlXG4gKiBlbGVtZW50IGlzIG92ZXJmbG93aW5nIGEgZ2l2ZW4gY2xpcHBpbmcgYm91bmRhcnkgb24gZWFjaCBzaWRlLlxuICogLSBwb3NpdGl2ZSA9IG92ZXJmbG93aW5nIHRoZSBib3VuZGFyeSBieSB0aGF0IG51bWJlciBvZiBwaXhlbHNcbiAqIC0gbmVnYXRpdmUgPSBob3cgbWFueSBwaXhlbHMgbGVmdCBiZWZvcmUgaXQgd2lsbCBvdmVyZmxvd1xuICogLSAwID0gbGllcyBmbHVzaCB3aXRoIHRoZSBib3VuZGFyeVxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2RldGVjdE92ZXJmbG93XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGRldGVjdE92ZXJmbG93KHN0YXRlLCBvcHRpb25zKSB7XG4gIHZhciBfYXdhaXQkcGxhdGZvcm0kaXNFbGU7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgY29uc3Qge1xuICAgIHgsXG4gICAgeSxcbiAgICBwbGF0Zm9ybSxcbiAgICByZWN0cyxcbiAgICBlbGVtZW50cyxcbiAgICBzdHJhdGVneVxuICB9ID0gc3RhdGU7XG4gIGNvbnN0IHtcbiAgICBib3VuZGFyeSA9ICdjbGlwcGluZ0FuY2VzdG9ycycsXG4gICAgcm9vdEJvdW5kYXJ5ID0gJ3ZpZXdwb3J0JyxcbiAgICBlbGVtZW50Q29udGV4dCA9ICdmbG9hdGluZycsXG4gICAgYWx0Qm91bmRhcnkgPSBmYWxzZSxcbiAgICBwYWRkaW5nID0gMFxuICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICBjb25zdCBwYWRkaW5nT2JqZWN0ID0gZ2V0UGFkZGluZ09iamVjdChwYWRkaW5nKTtcbiAgY29uc3QgYWx0Q29udGV4dCA9IGVsZW1lbnRDb250ZXh0ID09PSAnZmxvYXRpbmcnID8gJ3JlZmVyZW5jZScgOiAnZmxvYXRpbmcnO1xuICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbYWx0Qm91bmRhcnkgPyBhbHRDb250ZXh0IDogZWxlbWVudENvbnRleHRdO1xuICBjb25zdCBjbGlwcGluZ0NsaWVudFJlY3QgPSByZWN0VG9DbGllbnRSZWN0KGF3YWl0IHBsYXRmb3JtLmdldENsaXBwaW5nUmVjdCh7XG4gICAgZWxlbWVudDogKChfYXdhaXQkcGxhdGZvcm0kaXNFbGUgPSBhd2FpdCAocGxhdGZvcm0uaXNFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc0VsZW1lbnQoZWxlbWVudCkpKSAhPSBudWxsID8gX2F3YWl0JHBsYXRmb3JtJGlzRWxlIDogdHJ1ZSkgPyBlbGVtZW50IDogZWxlbWVudC5jb250ZXh0RWxlbWVudCB8fCAoYXdhaXQgKHBsYXRmb3JtLmdldERvY3VtZW50RWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnRzLmZsb2F0aW5nKSkpLFxuICAgIGJvdW5kYXJ5LFxuICAgIHJvb3RCb3VuZGFyeSxcbiAgICBzdHJhdGVneVxuICB9KSk7XG4gIGNvbnN0IHJlY3QgPSBlbGVtZW50Q29udGV4dCA9PT0gJ2Zsb2F0aW5nJyA/IHtcbiAgICB4LFxuICAgIHksXG4gICAgd2lkdGg6IHJlY3RzLmZsb2F0aW5nLndpZHRoLFxuICAgIGhlaWdodDogcmVjdHMuZmxvYXRpbmcuaGVpZ2h0XG4gIH0gOiByZWN0cy5yZWZlcmVuY2U7XG4gIGNvbnN0IG9mZnNldFBhcmVudCA9IGF3YWl0IChwbGF0Zm9ybS5nZXRPZmZzZXRQYXJlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmdldE9mZnNldFBhcmVudChlbGVtZW50cy5mbG9hdGluZykpO1xuICBjb25zdCBvZmZzZXRTY2FsZSA9IChhd2FpdCAocGxhdGZvcm0uaXNFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc0VsZW1lbnQob2Zmc2V0UGFyZW50KSkpID8gKGF3YWl0IChwbGF0Zm9ybS5nZXRTY2FsZSA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uZ2V0U2NhbGUob2Zmc2V0UGFyZW50KSkpIHx8IHtcbiAgICB4OiAxLFxuICAgIHk6IDFcbiAgfSA6IHtcbiAgICB4OiAxLFxuICAgIHk6IDFcbiAgfTtcbiAgY29uc3QgZWxlbWVudENsaWVudFJlY3QgPSByZWN0VG9DbGllbnRSZWN0KHBsYXRmb3JtLmNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0ID8gYXdhaXQgcGxhdGZvcm0uY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3Qoe1xuICAgIGVsZW1lbnRzLFxuICAgIHJlY3QsXG4gICAgb2Zmc2V0UGFyZW50LFxuICAgIHN0cmF0ZWd5XG4gIH0pIDogcmVjdCk7XG4gIHJldHVybiB7XG4gICAgdG9wOiAoY2xpcHBpbmdDbGllbnRSZWN0LnRvcCAtIGVsZW1lbnRDbGllbnRSZWN0LnRvcCArIHBhZGRpbmdPYmplY3QudG9wKSAvIG9mZnNldFNjYWxlLnksXG4gICAgYm90dG9tOiAoZWxlbWVudENsaWVudFJlY3QuYm90dG9tIC0gY2xpcHBpbmdDbGllbnRSZWN0LmJvdHRvbSArIHBhZGRpbmdPYmplY3QuYm90dG9tKSAvIG9mZnNldFNjYWxlLnksXG4gICAgbGVmdDogKGNsaXBwaW5nQ2xpZW50UmVjdC5sZWZ0IC0gZWxlbWVudENsaWVudFJlY3QubGVmdCArIHBhZGRpbmdPYmplY3QubGVmdCkgLyBvZmZzZXRTY2FsZS54LFxuICAgIHJpZ2h0OiAoZWxlbWVudENsaWVudFJlY3QucmlnaHQgLSBjbGlwcGluZ0NsaWVudFJlY3QucmlnaHQgKyBwYWRkaW5nT2JqZWN0LnJpZ2h0KSAvIG9mZnNldFNjYWxlLnhcbiAgfTtcbn1cblxuLyoqXG4gKiBQcm92aWRlcyBkYXRhIHRvIHBvc2l0aW9uIGFuIGlubmVyIGVsZW1lbnQgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgc28gdGhhdCBpdFxuICogYXBwZWFycyBjZW50ZXJlZCB0byB0aGUgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvYXJyb3dcbiAqL1xuY29uc3QgYXJyb3cgPSBvcHRpb25zID0+ICh7XG4gIG5hbWU6ICdhcnJvdycsXG4gIG9wdGlvbnMsXG4gIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgY29uc3Qge1xuICAgICAgeCxcbiAgICAgIHksXG4gICAgICBwbGFjZW1lbnQsXG4gICAgICByZWN0cyxcbiAgICAgIHBsYXRmb3JtLFxuICAgICAgZWxlbWVudHMsXG4gICAgICBtaWRkbGV3YXJlRGF0YVxuICAgIH0gPSBzdGF0ZTtcbiAgICAvLyBTaW5jZSBgZWxlbWVudGAgaXMgcmVxdWlyZWQsIHdlIGRvbid0IFBhcnRpYWw8PiB0aGUgdHlwZS5cbiAgICBjb25zdCB7XG4gICAgICBlbGVtZW50LFxuICAgICAgcGFkZGluZyA9IDBcbiAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpIHx8IHt9O1xuICAgIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY29uc3QgcGFkZGluZ09iamVjdCA9IGdldFBhZGRpbmdPYmplY3QocGFkZGluZyk7XG4gICAgY29uc3QgY29vcmRzID0ge1xuICAgICAgeCxcbiAgICAgIHlcbiAgICB9O1xuICAgIGNvbnN0IGF4aXMgPSBnZXRBbGlnbm1lbnRBeGlzKHBsYWNlbWVudCk7XG4gICAgY29uc3QgbGVuZ3RoID0gZ2V0QXhpc0xlbmd0aChheGlzKTtcbiAgICBjb25zdCBhcnJvd0RpbWVuc2lvbnMgPSBhd2FpdCBwbGF0Zm9ybS5nZXREaW1lbnNpb25zKGVsZW1lbnQpO1xuICAgIGNvbnN0IGlzWUF4aXMgPSBheGlzID09PSAneSc7XG4gICAgY29uc3QgbWluUHJvcCA9IGlzWUF4aXMgPyAndG9wJyA6ICdsZWZ0JztcbiAgICBjb25zdCBtYXhQcm9wID0gaXNZQXhpcyA/ICdib3R0b20nIDogJ3JpZ2h0JztcbiAgICBjb25zdCBjbGllbnRQcm9wID0gaXNZQXhpcyA/ICdjbGllbnRIZWlnaHQnIDogJ2NsaWVudFdpZHRoJztcbiAgICBjb25zdCBlbmREaWZmID0gcmVjdHMucmVmZXJlbmNlW2xlbmd0aF0gKyByZWN0cy5yZWZlcmVuY2VbYXhpc10gLSBjb29yZHNbYXhpc10gLSByZWN0cy5mbG9hdGluZ1tsZW5ndGhdO1xuICAgIGNvbnN0IHN0YXJ0RGlmZiA9IGNvb3Jkc1theGlzXSAtIHJlY3RzLnJlZmVyZW5jZVtheGlzXTtcbiAgICBjb25zdCBhcnJvd09mZnNldFBhcmVudCA9IGF3YWl0IChwbGF0Zm9ybS5nZXRPZmZzZXRQYXJlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmdldE9mZnNldFBhcmVudChlbGVtZW50KSk7XG4gICAgbGV0IGNsaWVudFNpemUgPSBhcnJvd09mZnNldFBhcmVudCA/IGFycm93T2Zmc2V0UGFyZW50W2NsaWVudFByb3BdIDogMDtcblxuICAgIC8vIERPTSBwbGF0Zm9ybSBjYW4gcmV0dXJuIGB3aW5kb3dgIGFzIHRoZSBgb2Zmc2V0UGFyZW50YC5cbiAgICBpZiAoIWNsaWVudFNpemUgfHwgIShhd2FpdCAocGxhdGZvcm0uaXNFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc0VsZW1lbnQoYXJyb3dPZmZzZXRQYXJlbnQpKSkpIHtcbiAgICAgIGNsaWVudFNpemUgPSBlbGVtZW50cy5mbG9hdGluZ1tjbGllbnRQcm9wXSB8fCByZWN0cy5mbG9hdGluZ1tsZW5ndGhdO1xuICAgIH1cbiAgICBjb25zdCBjZW50ZXJUb1JlZmVyZW5jZSA9IGVuZERpZmYgLyAyIC0gc3RhcnREaWZmIC8gMjtcblxuICAgIC8vIElmIHRoZSBwYWRkaW5nIGlzIGxhcmdlIGVub3VnaCB0aGF0IGl0IGNhdXNlcyB0aGUgYXJyb3cgdG8gbm8gbG9uZ2VyIGJlXG4gICAgLy8gY2VudGVyZWQsIG1vZGlmeSB0aGUgcGFkZGluZyBzbyB0aGF0IGl0IGlzIGNlbnRlcmVkLlxuICAgIGNvbnN0IGxhcmdlc3RQb3NzaWJsZVBhZGRpbmcgPSBjbGllbnRTaXplIC8gMiAtIGFycm93RGltZW5zaW9uc1tsZW5ndGhdIC8gMiAtIDE7XG4gICAgY29uc3QgbWluUGFkZGluZyA9IG1pbihwYWRkaW5nT2JqZWN0W21pblByb3BdLCBsYXJnZXN0UG9zc2libGVQYWRkaW5nKTtcbiAgICBjb25zdCBtYXhQYWRkaW5nID0gbWluKHBhZGRpbmdPYmplY3RbbWF4UHJvcF0sIGxhcmdlc3RQb3NzaWJsZVBhZGRpbmcpO1xuXG4gICAgLy8gTWFrZSBzdXJlIHRoZSBhcnJvdyBkb2Vzbid0IG92ZXJmbG93IHRoZSBmbG9hdGluZyBlbGVtZW50IGlmIHRoZSBjZW50ZXJcbiAgICAvLyBwb2ludCBpcyBvdXRzaWRlIHRoZSBmbG9hdGluZyBlbGVtZW50J3MgYm91bmRzLlxuICAgIGNvbnN0IG1pbiQxID0gbWluUGFkZGluZztcbiAgICBjb25zdCBtYXggPSBjbGllbnRTaXplIC0gYXJyb3dEaW1lbnNpb25zW2xlbmd0aF0gLSBtYXhQYWRkaW5nO1xuICAgIGNvbnN0IGNlbnRlciA9IGNsaWVudFNpemUgLyAyIC0gYXJyb3dEaW1lbnNpb25zW2xlbmd0aF0gLyAyICsgY2VudGVyVG9SZWZlcmVuY2U7XG4gICAgY29uc3Qgb2Zmc2V0ID0gY2xhbXAobWluJDEsIGNlbnRlciwgbWF4KTtcblxuICAgIC8vIElmIHRoZSByZWZlcmVuY2UgaXMgc21hbGwgZW5vdWdoIHRoYXQgdGhlIGFycm93J3MgcGFkZGluZyBjYXVzZXMgaXQgdG9cbiAgICAvLyB0byBwb2ludCB0byBub3RoaW5nIGZvciBhbiBhbGlnbmVkIHBsYWNlbWVudCwgYWRqdXN0IHRoZSBvZmZzZXQgb2YgdGhlXG4gICAgLy8gZmxvYXRpbmcgZWxlbWVudCBpdHNlbGYuIFRvIGVuc3VyZSBgc2hpZnQoKWAgY29udGludWVzIHRvIHRha2UgYWN0aW9uLFxuICAgIC8vIGEgc2luZ2xlIHJlc2V0IGlzIHBlcmZvcm1lZCB3aGVuIHRoaXMgaXMgdHJ1ZS5cbiAgICBjb25zdCBzaG91bGRBZGRPZmZzZXQgPSAhbWlkZGxld2FyZURhdGEuYXJyb3cgJiYgZ2V0QWxpZ25tZW50KHBsYWNlbWVudCkgIT0gbnVsbCAmJiBjZW50ZXIgIT09IG9mZnNldCAmJiByZWN0cy5yZWZlcmVuY2VbbGVuZ3RoXSAvIDIgLSAoY2VudGVyIDwgbWluJDEgPyBtaW5QYWRkaW5nIDogbWF4UGFkZGluZykgLSBhcnJvd0RpbWVuc2lvbnNbbGVuZ3RoXSAvIDIgPCAwO1xuICAgIGNvbnN0IGFsaWdubWVudE9mZnNldCA9IHNob3VsZEFkZE9mZnNldCA/IGNlbnRlciA8IG1pbiQxID8gY2VudGVyIC0gbWluJDEgOiBjZW50ZXIgLSBtYXggOiAwO1xuICAgIHJldHVybiB7XG4gICAgICBbYXhpc106IGNvb3Jkc1theGlzXSArIGFsaWdubWVudE9mZnNldCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgW2F4aXNdOiBvZmZzZXQsXG4gICAgICAgIGNlbnRlck9mZnNldDogY2VudGVyIC0gb2Zmc2V0IC0gYWxpZ25tZW50T2Zmc2V0LFxuICAgICAgICAuLi4oc2hvdWxkQWRkT2Zmc2V0ICYmIHtcbiAgICAgICAgICBhbGlnbm1lbnRPZmZzZXRcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICByZXNldDogc2hvdWxkQWRkT2Zmc2V0XG4gICAgfTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGdldFBsYWNlbWVudExpc3QoYWxpZ25tZW50LCBhdXRvQWxpZ25tZW50LCBhbGxvd2VkUGxhY2VtZW50cykge1xuICBjb25zdCBhbGxvd2VkUGxhY2VtZW50c1NvcnRlZEJ5QWxpZ25tZW50ID0gYWxpZ25tZW50ID8gWy4uLmFsbG93ZWRQbGFjZW1lbnRzLmZpbHRlcihwbGFjZW1lbnQgPT4gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCkgPT09IGFsaWdubWVudCksIC4uLmFsbG93ZWRQbGFjZW1lbnRzLmZpbHRlcihwbGFjZW1lbnQgPT4gZ2V0QWxpZ25tZW50KHBsYWNlbWVudCkgIT09IGFsaWdubWVudCldIDogYWxsb3dlZFBsYWNlbWVudHMuZmlsdGVyKHBsYWNlbWVudCA9PiBnZXRTaWRlKHBsYWNlbWVudCkgPT09IHBsYWNlbWVudCk7XG4gIHJldHVybiBhbGxvd2VkUGxhY2VtZW50c1NvcnRlZEJ5QWxpZ25tZW50LmZpbHRlcihwbGFjZW1lbnQgPT4ge1xuICAgIGlmIChhbGlnbm1lbnQpIHtcbiAgICAgIHJldHVybiBnZXRBbGlnbm1lbnQocGxhY2VtZW50KSA9PT0gYWxpZ25tZW50IHx8IChhdXRvQWxpZ25tZW50ID8gZ2V0T3Bwb3NpdGVBbGlnbm1lbnRQbGFjZW1lbnQocGxhY2VtZW50KSAhPT0gcGxhY2VtZW50IDogZmFsc2UpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59XG4vKipcbiAqIE9wdGltaXplcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBieSBjaG9vc2luZyB0aGUgcGxhY2VtZW50XG4gKiB0aGF0IGhhcyB0aGUgbW9zdCBzcGFjZSBhdmFpbGFibGUgYXV0b21hdGljYWxseSwgd2l0aG91dCBuZWVkaW5nIHRvIHNwZWNpZnkgYVxuICogcHJlZmVycmVkIHBsYWNlbWVudC4gQWx0ZXJuYXRpdmUgdG8gYGZsaXBgLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2F1dG9QbGFjZW1lbnRcbiAqL1xuY29uc3QgYXV0b1BsYWNlbWVudCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnYXV0b1BsYWNlbWVudCcsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgdmFyIF9taWRkbGV3YXJlRGF0YSRhdXRvUCwgX21pZGRsZXdhcmVEYXRhJGF1dG9QMiwgX3BsYWNlbWVudHNUaGF0Rml0T25FO1xuICAgICAgY29uc3Qge1xuICAgICAgICByZWN0cyxcbiAgICAgICAgbWlkZGxld2FyZURhdGEsXG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgcGxhdGZvcm0sXG4gICAgICAgIGVsZW1lbnRzXG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNyb3NzQXhpcyA9IGZhbHNlLFxuICAgICAgICBhbGlnbm1lbnQsXG4gICAgICAgIGFsbG93ZWRQbGFjZW1lbnRzID0gcGxhY2VtZW50cyxcbiAgICAgICAgYXV0b0FsaWdubWVudCA9IHRydWUsXG4gICAgICAgIC4uLmRldGVjdE92ZXJmbG93T3B0aW9uc1xuICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgIGNvbnN0IHBsYWNlbWVudHMkMSA9IGFsaWdubWVudCAhPT0gdW5kZWZpbmVkIHx8IGFsbG93ZWRQbGFjZW1lbnRzID09PSBwbGFjZW1lbnRzID8gZ2V0UGxhY2VtZW50TGlzdChhbGlnbm1lbnQgfHwgbnVsbCwgYXV0b0FsaWdubWVudCwgYWxsb3dlZFBsYWNlbWVudHMpIDogYWxsb3dlZFBsYWNlbWVudHM7XG4gICAgICBjb25zdCBvdmVyZmxvdyA9IGF3YWl0IGRldGVjdE92ZXJmbG93KHN0YXRlLCBkZXRlY3RPdmVyZmxvd09wdGlvbnMpO1xuICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gKChfbWlkZGxld2FyZURhdGEkYXV0b1AgPSBtaWRkbGV3YXJlRGF0YS5hdXRvUGxhY2VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX21pZGRsZXdhcmVEYXRhJGF1dG9QLmluZGV4KSB8fCAwO1xuICAgICAgY29uc3QgY3VycmVudFBsYWNlbWVudCA9IHBsYWNlbWVudHMkMVtjdXJyZW50SW5kZXhdO1xuICAgICAgaWYgKGN1cnJlbnRQbGFjZW1lbnQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICBjb25zdCBhbGlnbm1lbnRTaWRlcyA9IGdldEFsaWdubWVudFNpZGVzKGN1cnJlbnRQbGFjZW1lbnQsIHJlY3RzLCBhd2FpdCAocGxhdGZvcm0uaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzUlRMKGVsZW1lbnRzLmZsb2F0aW5nKSkpO1xuXG4gICAgICAvLyBNYWtlIGBjb21wdXRlQ29vcmRzYCBzdGFydCBmcm9tIHRoZSByaWdodCBwbGFjZS5cbiAgICAgIGlmIChwbGFjZW1lbnQgIT09IGN1cnJlbnRQbGFjZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnRzJDFbMF1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb25zdCBjdXJyZW50T3ZlcmZsb3dzID0gW292ZXJmbG93W2dldFNpZGUoY3VycmVudFBsYWNlbWVudCldLCBvdmVyZmxvd1thbGlnbm1lbnRTaWRlc1swXV0sIG92ZXJmbG93W2FsaWdubWVudFNpZGVzWzFdXV07XG4gICAgICBjb25zdCBhbGxPdmVyZmxvd3MgPSBbLi4uKCgoX21pZGRsZXdhcmVEYXRhJGF1dG9QMiA9IG1pZGRsZXdhcmVEYXRhLmF1dG9QbGFjZW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkYXV0b1AyLm92ZXJmbG93cykgfHwgW10pLCB7XG4gICAgICAgIHBsYWNlbWVudDogY3VycmVudFBsYWNlbWVudCxcbiAgICAgICAgb3ZlcmZsb3dzOiBjdXJyZW50T3ZlcmZsb3dzXG4gICAgICB9XTtcbiAgICAgIGNvbnN0IG5leHRQbGFjZW1lbnQgPSBwbGFjZW1lbnRzJDFbY3VycmVudEluZGV4ICsgMV07XG5cbiAgICAgIC8vIFRoZXJlIGFyZSBtb3JlIHBsYWNlbWVudHMgdG8gY2hlY2suXG4gICAgICBpZiAobmV4dFBsYWNlbWVudCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGluZGV4OiBjdXJyZW50SW5kZXggKyAxLFxuICAgICAgICAgICAgb3ZlcmZsb3dzOiBhbGxPdmVyZmxvd3NcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlc2V0OiB7XG4gICAgICAgICAgICBwbGFjZW1lbnQ6IG5leHRQbGFjZW1lbnRcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb25zdCBwbGFjZW1lbnRzU29ydGVkQnlNb3N0U3BhY2UgPSBhbGxPdmVyZmxvd3MubWFwKGQgPT4ge1xuICAgICAgICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQoZC5wbGFjZW1lbnQpO1xuICAgICAgICByZXR1cm4gW2QucGxhY2VtZW50LCBhbGlnbm1lbnQgJiYgY3Jvc3NBeGlzID9cbiAgICAgICAgLy8gQ2hlY2sgYWxvbmcgdGhlIG1haW5BeGlzIGFuZCBtYWluIGNyb3NzQXhpcyBzaWRlLlxuICAgICAgICBkLm92ZXJmbG93cy5zbGljZSgwLCAyKS5yZWR1Y2UoKGFjYywgdikgPT4gYWNjICsgdiwgMCkgOlxuICAgICAgICAvLyBDaGVjayBvbmx5IHRoZSBtYWluQXhpcy5cbiAgICAgICAgZC5vdmVyZmxvd3NbMF0sIGQub3ZlcmZsb3dzXTtcbiAgICAgIH0pLnNvcnQoKGEsIGIpID0+IGFbMV0gLSBiWzFdKTtcbiAgICAgIGNvbnN0IHBsYWNlbWVudHNUaGF0Rml0T25FYWNoU2lkZSA9IHBsYWNlbWVudHNTb3J0ZWRCeU1vc3RTcGFjZS5maWx0ZXIoZCA9PiBkWzJdLnNsaWNlKDAsXG4gICAgICAvLyBBbGlnbmVkIHBsYWNlbWVudHMgc2hvdWxkIG5vdCBjaGVjayB0aGVpciBvcHBvc2l0ZSBjcm9zc0F4aXNcbiAgICAgIC8vIHNpZGUuXG4gICAgICBnZXRBbGlnbm1lbnQoZFswXSkgPyAyIDogMykuZXZlcnkodiA9PiB2IDw9IDApKTtcbiAgICAgIGNvbnN0IHJlc2V0UGxhY2VtZW50ID0gKChfcGxhY2VtZW50c1RoYXRGaXRPbkUgPSBwbGFjZW1lbnRzVGhhdEZpdE9uRWFjaFNpZGVbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfcGxhY2VtZW50c1RoYXRGaXRPbkVbMF0pIHx8IHBsYWNlbWVudHNTb3J0ZWRCeU1vc3RTcGFjZVswXVswXTtcbiAgICAgIGlmIChyZXNldFBsYWNlbWVudCAhPT0gcGxhY2VtZW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgaW5kZXg6IGN1cnJlbnRJbmRleCArIDEsXG4gICAgICAgICAgICBvdmVyZmxvd3M6IGFsbE92ZXJmbG93c1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICAgIHBsYWNlbWVudDogcmVzZXRQbGFjZW1lbnRcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgZmxpcHBpbmcgdGhlIGBwbGFjZW1lbnRgXG4gKiBpbiBvcmRlciB0byBrZWVwIGl0IGluIHZpZXcgd2hlbiB0aGUgcHJlZmVycmVkIHBsYWNlbWVudChzKSB3aWxsIG92ZXJmbG93IHRoZVxuICogY2xpcHBpbmcgYm91bmRhcnkuIEFsdGVybmF0aXZlIHRvIGBhdXRvUGxhY2VtZW50YC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9mbGlwXG4gKi9cbmNvbnN0IGZsaXAgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogJ2ZsaXAnLFxuICAgIG9wdGlvbnMsXG4gICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgIHZhciBfbWlkZGxld2FyZURhdGEkYXJyb3csIF9taWRkbGV3YXJlRGF0YSRmbGlwO1xuICAgICAgY29uc3Qge1xuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIG1pZGRsZXdhcmVEYXRhLFxuICAgICAgICByZWN0cyxcbiAgICAgICAgaW5pdGlhbFBsYWNlbWVudCxcbiAgICAgICAgcGxhdGZvcm0sXG4gICAgICAgIGVsZW1lbnRzXG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG1haW5BeGlzOiBjaGVja01haW5BeGlzID0gdHJ1ZSxcbiAgICAgICAgY3Jvc3NBeGlzOiBjaGVja0Nyb3NzQXhpcyA9IHRydWUsXG4gICAgICAgIGZhbGxiYWNrUGxhY2VtZW50czogc3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzLFxuICAgICAgICBmYWxsYmFja1N0cmF0ZWd5ID0gJ2Jlc3RGaXQnLFxuICAgICAgICBmYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uID0gJ25vbmUnLFxuICAgICAgICBmbGlwQWxpZ25tZW50ID0gdHJ1ZSxcbiAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zXG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuXG4gICAgICAvLyBJZiBhIHJlc2V0IGJ5IHRoZSBhcnJvdyB3YXMgY2F1c2VkIGR1ZSB0byBhbiBhbGlnbm1lbnQgb2Zmc2V0IGJlaW5nXG4gICAgICAvLyBhZGRlZCwgd2Ugc2hvdWxkIHNraXAgYW55IGxvZ2ljIG5vdyBzaW5jZSBgZmxpcCgpYCBoYXMgYWxyZWFkeSBkb25lIGl0c1xuICAgICAgLy8gd29yay5cbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mbG9hdGluZy11aS9mbG9hdGluZy11aS9pc3N1ZXMvMjU0OSNpc3N1ZWNvbW1lbnQtMTcxOTYwMTY0M1xuICAgICAgaWYgKChfbWlkZGxld2FyZURhdGEkYXJyb3cgPSBtaWRkbGV3YXJlRGF0YS5hcnJvdykgIT0gbnVsbCAmJiBfbWlkZGxld2FyZURhdGEkYXJyb3cuYWxpZ25tZW50T2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNpZGUgPSBnZXRTaWRlKHBsYWNlbWVudCk7XG4gICAgICBjb25zdCBpbml0aWFsU2lkZUF4aXMgPSBnZXRTaWRlQXhpcyhpbml0aWFsUGxhY2VtZW50KTtcbiAgICAgIGNvbnN0IGlzQmFzZVBsYWNlbWVudCA9IGdldFNpZGUoaW5pdGlhbFBsYWNlbWVudCkgPT09IGluaXRpYWxQbGFjZW1lbnQ7XG4gICAgICBjb25zdCBydGwgPSBhd2FpdCAocGxhdGZvcm0uaXNSVEwgPT0gbnVsbCA/IHZvaWQgMCA6IHBsYXRmb3JtLmlzUlRMKGVsZW1lbnRzLmZsb2F0aW5nKSk7XG4gICAgICBjb25zdCBmYWxsYmFja1BsYWNlbWVudHMgPSBzcGVjaWZpZWRGYWxsYmFja1BsYWNlbWVudHMgfHwgKGlzQmFzZVBsYWNlbWVudCB8fCAhZmxpcEFsaWdubWVudCA/IFtnZXRPcHBvc2l0ZVBsYWNlbWVudChpbml0aWFsUGxhY2VtZW50KV0gOiBnZXRFeHBhbmRlZFBsYWNlbWVudHMoaW5pdGlhbFBsYWNlbWVudCkpO1xuICAgICAgY29uc3QgaGFzRmFsbGJhY2tBeGlzU2lkZURpcmVjdGlvbiA9IGZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24gIT09ICdub25lJztcbiAgICAgIGlmICghc3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzICYmIGhhc0ZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24pIHtcbiAgICAgICAgZmFsbGJhY2tQbGFjZW1lbnRzLnB1c2goLi4uZ2V0T3Bwb3NpdGVBeGlzUGxhY2VtZW50cyhpbml0aWFsUGxhY2VtZW50LCBmbGlwQWxpZ25tZW50LCBmYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uLCBydGwpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBsYWNlbWVudHMgPSBbaW5pdGlhbFBsYWNlbWVudCwgLi4uZmFsbGJhY2tQbGFjZW1lbnRzXTtcbiAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIGRldGVjdE92ZXJmbG93T3B0aW9ucyk7XG4gICAgICBjb25zdCBvdmVyZmxvd3MgPSBbXTtcbiAgICAgIGxldCBvdmVyZmxvd3NEYXRhID0gKChfbWlkZGxld2FyZURhdGEkZmxpcCA9IG1pZGRsZXdhcmVEYXRhLmZsaXApID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkZmxpcC5vdmVyZmxvd3MpIHx8IFtdO1xuICAgICAgaWYgKGNoZWNrTWFpbkF4aXMpIHtcbiAgICAgICAgb3ZlcmZsb3dzLnB1c2gob3ZlcmZsb3dbc2lkZV0pO1xuICAgICAgfVxuICAgICAgaWYgKGNoZWNrQ3Jvc3NBeGlzKSB7XG4gICAgICAgIGNvbnN0IHNpZGVzID0gZ2V0QWxpZ25tZW50U2lkZXMocGxhY2VtZW50LCByZWN0cywgcnRsKTtcbiAgICAgICAgb3ZlcmZsb3dzLnB1c2gob3ZlcmZsb3dbc2lkZXNbMF1dLCBvdmVyZmxvd1tzaWRlc1sxXV0pO1xuICAgICAgfVxuICAgICAgb3ZlcmZsb3dzRGF0YSA9IFsuLi5vdmVyZmxvd3NEYXRhLCB7XG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgb3ZlcmZsb3dzXG4gICAgICB9XTtcblxuICAgICAgLy8gT25lIG9yIG1vcmUgc2lkZXMgaXMgb3ZlcmZsb3dpbmcuXG4gICAgICBpZiAoIW92ZXJmbG93cy5ldmVyeShzaWRlID0+IHNpZGUgPD0gMCkpIHtcbiAgICAgICAgdmFyIF9taWRkbGV3YXJlRGF0YSRmbGlwMiwgX292ZXJmbG93c0RhdGEkZmlsdGVyO1xuICAgICAgICBjb25zdCBuZXh0SW5kZXggPSAoKChfbWlkZGxld2FyZURhdGEkZmxpcDIgPSBtaWRkbGV3YXJlRGF0YS5mbGlwKSA9PSBudWxsID8gdm9pZCAwIDogX21pZGRsZXdhcmVEYXRhJGZsaXAyLmluZGV4KSB8fCAwKSArIDE7XG4gICAgICAgIGNvbnN0IG5leHRQbGFjZW1lbnQgPSBwbGFjZW1lbnRzW25leHRJbmRleF07XG4gICAgICAgIGlmIChuZXh0UGxhY2VtZW50KSB7XG4gICAgICAgICAgLy8gVHJ5IG5leHQgcGxhY2VtZW50IGFuZCByZS1ydW4gdGhlIGxpZmVjeWNsZS5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBpbmRleDogbmV4dEluZGV4LFxuICAgICAgICAgICAgICBvdmVyZmxvd3M6IG92ZXJmbG93c0RhdGFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgICBwbGFjZW1lbnQ6IG5leHRQbGFjZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlyc3QsIGZpbmQgdGhlIGNhbmRpZGF0ZXMgdGhhdCBmaXQgb24gdGhlIG1haW5BeGlzIHNpZGUgb2Ygb3ZlcmZsb3csXG4gICAgICAgIC8vIHRoZW4gZmluZCB0aGUgcGxhY2VtZW50IHRoYXQgZml0cyB0aGUgYmVzdCBvbiB0aGUgbWFpbiBjcm9zc0F4aXMgc2lkZS5cbiAgICAgICAgbGV0IHJlc2V0UGxhY2VtZW50ID0gKF9vdmVyZmxvd3NEYXRhJGZpbHRlciA9IG92ZXJmbG93c0RhdGEuZmlsdGVyKGQgPT4gZC5vdmVyZmxvd3NbMF0gPD0gMCkuc29ydCgoYSwgYikgPT4gYS5vdmVyZmxvd3NbMV0gLSBiLm92ZXJmbG93c1sxXSlbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfb3ZlcmZsb3dzRGF0YSRmaWx0ZXIucGxhY2VtZW50O1xuXG4gICAgICAgIC8vIE90aGVyd2lzZSBmYWxsYmFjay5cbiAgICAgICAgaWYgKCFyZXNldFBsYWNlbWVudCkge1xuICAgICAgICAgIHN3aXRjaCAoZmFsbGJhY2tTdHJhdGVneSkge1xuICAgICAgICAgICAgY2FzZSAnYmVzdEZpdCc6XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgX292ZXJmbG93c0RhdGEkZmlsdGVyMjtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGFjZW1lbnQgPSAoX292ZXJmbG93c0RhdGEkZmlsdGVyMiA9IG92ZXJmbG93c0RhdGEuZmlsdGVyKGQgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGhhc0ZhbGxiYWNrQXhpc1NpZGVEaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFNpZGVBeGlzID0gZ2V0U2lkZUF4aXMoZC5wbGFjZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFNpZGVBeGlzID09PSBpbml0aWFsU2lkZUF4aXMgfHxcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgYmlhcyB0byB0aGUgYHlgIHNpZGUgYXhpcyBkdWUgdG8gaG9yaXpvbnRhbFxuICAgICAgICAgICAgICAgICAgICAvLyByZWFkaW5nIGRpcmVjdGlvbnMgZmF2b3JpbmcgZ3JlYXRlciB3aWR0aC5cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNpZGVBeGlzID09PSAneSc7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KS5tYXAoZCA9PiBbZC5wbGFjZW1lbnQsIGQub3ZlcmZsb3dzLmZpbHRlcihvdmVyZmxvdyA9PiBvdmVyZmxvdyA+IDApLnJlZHVjZSgoYWNjLCBvdmVyZmxvdykgPT4gYWNjICsgb3ZlcmZsb3csIDApXSkuc29ydCgoYSwgYikgPT4gYVsxXSAtIGJbMV0pWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX292ZXJmbG93c0RhdGEkZmlsdGVyMlswXTtcbiAgICAgICAgICAgICAgICBpZiAocGxhY2VtZW50KSB7XG4gICAgICAgICAgICAgICAgICByZXNldFBsYWNlbWVudCA9IHBsYWNlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2luaXRpYWxQbGFjZW1lbnQnOlxuICAgICAgICAgICAgICByZXNldFBsYWNlbWVudCA9IGluaXRpYWxQbGFjZW1lbnQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGxhY2VtZW50ICE9PSByZXNldFBsYWNlbWVudCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgICBwbGFjZW1lbnQ6IHJlc2V0UGxhY2VtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGdldFNpZGVPZmZzZXRzKG92ZXJmbG93LCByZWN0KSB7XG4gIHJldHVybiB7XG4gICAgdG9wOiBvdmVyZmxvdy50b3AgLSByZWN0LmhlaWdodCxcbiAgICByaWdodDogb3ZlcmZsb3cucmlnaHQgLSByZWN0LndpZHRoLFxuICAgIGJvdHRvbTogb3ZlcmZsb3cuYm90dG9tIC0gcmVjdC5oZWlnaHQsXG4gICAgbGVmdDogb3ZlcmZsb3cubGVmdCAtIHJlY3Qud2lkdGhcbiAgfTtcbn1cbmZ1bmN0aW9uIGlzQW55U2lkZUZ1bGx5Q2xpcHBlZChvdmVyZmxvdykge1xuICByZXR1cm4gc2lkZXMuc29tZShzaWRlID0+IG92ZXJmbG93W3NpZGVdID49IDApO1xufVxuLyoqXG4gKiBQcm92aWRlcyBkYXRhIHRvIGhpZGUgdGhlIGZsb2F0aW5nIGVsZW1lbnQgaW4gYXBwbGljYWJsZSBzaXR1YXRpb25zLCBzdWNoIGFzXG4gKiB3aGVuIGl0IGlzIG5vdCBpbiB0aGUgc2FtZSBjbGlwcGluZyBjb250ZXh0IGFzIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9oaWRlXG4gKi9cbmNvbnN0IGhpZGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbmFtZTogJ2hpZGUnLFxuICAgIG9wdGlvbnMsXG4gICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcmVjdHNcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc3RyYXRlZ3kgPSAncmVmZXJlbmNlSGlkZGVuJyxcbiAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zXG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICAgICAgc3dpdGNoIChzdHJhdGVneSkge1xuICAgICAgICBjYXNlICdyZWZlcmVuY2VIaWRkZW4nOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIHtcbiAgICAgICAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zLFxuICAgICAgICAgICAgICBlbGVtZW50Q29udGV4dDogJ3JlZmVyZW5jZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0cyA9IGdldFNpZGVPZmZzZXRzKG92ZXJmbG93LCByZWN0cy5yZWZlcmVuY2UpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHJlZmVyZW5jZUhpZGRlbk9mZnNldHM6IG9mZnNldHMsXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlSGlkZGVuOiBpc0FueVNpZGVGdWxseUNsaXBwZWQob2Zmc2V0cylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2VzY2FwZWQnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG92ZXJmbG93ID0gYXdhaXQgZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIHtcbiAgICAgICAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zLFxuICAgICAgICAgICAgICBhbHRCb3VuZGFyeTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXRzID0gZ2V0U2lkZU9mZnNldHMob3ZlcmZsb3csIHJlY3RzLmZsb2F0aW5nKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBlc2NhcGVkT2Zmc2V0czogb2Zmc2V0cyxcbiAgICAgICAgICAgICAgICBlc2NhcGVkOiBpc0FueVNpZGVGdWxseUNsaXBwZWQob2Zmc2V0cylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG5mdW5jdGlvbiBnZXRCb3VuZGluZ1JlY3QocmVjdHMpIHtcbiAgY29uc3QgbWluWCA9IG1pbiguLi5yZWN0cy5tYXAocmVjdCA9PiByZWN0LmxlZnQpKTtcbiAgY29uc3QgbWluWSA9IG1pbiguLi5yZWN0cy5tYXAocmVjdCA9PiByZWN0LnRvcCkpO1xuICBjb25zdCBtYXhYID0gbWF4KC4uLnJlY3RzLm1hcChyZWN0ID0+IHJlY3QucmlnaHQpKTtcbiAgY29uc3QgbWF4WSA9IG1heCguLi5yZWN0cy5tYXAocmVjdCA9PiByZWN0LmJvdHRvbSkpO1xuICByZXR1cm4ge1xuICAgIHg6IG1pblgsXG4gICAgeTogbWluWSxcbiAgICB3aWR0aDogbWF4WCAtIG1pblgsXG4gICAgaGVpZ2h0OiBtYXhZIC0gbWluWVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0UmVjdHNCeUxpbmUocmVjdHMpIHtcbiAgY29uc3Qgc29ydGVkUmVjdHMgPSByZWN0cy5zbGljZSgpLnNvcnQoKGEsIGIpID0+IGEueSAtIGIueSk7XG4gIGNvbnN0IGdyb3VwcyA9IFtdO1xuICBsZXQgcHJldlJlY3QgPSBudWxsO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNvcnRlZFJlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcmVjdCA9IHNvcnRlZFJlY3RzW2ldO1xuICAgIGlmICghcHJldlJlY3QgfHwgcmVjdC55IC0gcHJldlJlY3QueSA+IHByZXZSZWN0LmhlaWdodCAvIDIpIHtcbiAgICAgIGdyb3Vwcy5wdXNoKFtyZWN0XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdyb3Vwc1tncm91cHMubGVuZ3RoIC0gMV0ucHVzaChyZWN0KTtcbiAgICB9XG4gICAgcHJldlJlY3QgPSByZWN0O1xuICB9XG4gIHJldHVybiBncm91cHMubWFwKHJlY3QgPT4gcmVjdFRvQ2xpZW50UmVjdChnZXRCb3VuZGluZ1JlY3QocmVjdCkpKTtcbn1cbi8qKlxuICogUHJvdmlkZXMgaW1wcm92ZWQgcG9zaXRpb25pbmcgZm9yIGlubGluZSByZWZlcmVuY2UgZWxlbWVudHMgdGhhdCBjYW4gc3BhblxuICogb3ZlciBtdWx0aXBsZSBsaW5lcywgc3VjaCBhcyBoeXBlcmxpbmtzIG9yIHJhbmdlIHNlbGVjdGlvbnMuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvaW5saW5lXG4gKi9cbmNvbnN0IGlubGluZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnaW5saW5lJyxcbiAgICBvcHRpb25zLFxuICAgIGFzeW5jIGZuKHN0YXRlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgZWxlbWVudHMsXG4gICAgICAgIHJlY3RzLFxuICAgICAgICBwbGF0Zm9ybSxcbiAgICAgICAgc3RyYXRlZ3lcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIC8vIEEgTW91c2VFdmVudCdzIGNsaWVudHtYLFl9IGNvb3JkcyBjYW4gYmUgdXAgdG8gMiBwaXhlbHMgb2ZmIGFcbiAgICAgIC8vIENsaWVudFJlY3QncyBib3VuZHMsIGRlc3BpdGUgdGhlIGV2ZW50IGxpc3RlbmVyIGJlaW5nIHRyaWdnZXJlZC4gQVxuICAgICAgLy8gcGFkZGluZyBvZiAyIHNlZW1zIHRvIGhhbmRsZSB0aGlzIGlzc3VlLlxuICAgICAgY29uc3Qge1xuICAgICAgICBwYWRkaW5nID0gMixcbiAgICAgICAgeCxcbiAgICAgICAgeVxuICAgICAgfSA9IGV2YWx1YXRlKG9wdGlvbnMsIHN0YXRlKTtcbiAgICAgIGNvbnN0IG5hdGl2ZUNsaWVudFJlY3RzID0gQXJyYXkuZnJvbSgoYXdhaXQgKHBsYXRmb3JtLmdldENsaWVudFJlY3RzID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5nZXRDbGllbnRSZWN0cyhlbGVtZW50cy5yZWZlcmVuY2UpKSkgfHwgW10pO1xuICAgICAgY29uc3QgY2xpZW50UmVjdHMgPSBnZXRSZWN0c0J5TGluZShuYXRpdmVDbGllbnRSZWN0cyk7XG4gICAgICBjb25zdCBmYWxsYmFjayA9IHJlY3RUb0NsaWVudFJlY3QoZ2V0Qm91bmRpbmdSZWN0KG5hdGl2ZUNsaWVudFJlY3RzKSk7XG4gICAgICBjb25zdCBwYWRkaW5nT2JqZWN0ID0gZ2V0UGFkZGluZ09iamVjdChwYWRkaW5nKTtcbiAgICAgIGZ1bmN0aW9uIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIHtcbiAgICAgICAgLy8gVGhlcmUgYXJlIHR3byByZWN0cyBhbmQgdGhleSBhcmUgZGlzam9pbmVkLlxuICAgICAgICBpZiAoY2xpZW50UmVjdHMubGVuZ3RoID09PSAyICYmIGNsaWVudFJlY3RzWzBdLmxlZnQgPiBjbGllbnRSZWN0c1sxXS5yaWdodCAmJiB4ICE9IG51bGwgJiYgeSAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gRmluZCB0aGUgZmlyc3QgcmVjdCBpbiB3aGljaCB0aGUgcG9pbnQgaXMgZnVsbHkgaW5zaWRlLlxuICAgICAgICAgIHJldHVybiBjbGllbnRSZWN0cy5maW5kKHJlY3QgPT4geCA+IHJlY3QubGVmdCAtIHBhZGRpbmdPYmplY3QubGVmdCAmJiB4IDwgcmVjdC5yaWdodCArIHBhZGRpbmdPYmplY3QucmlnaHQgJiYgeSA+IHJlY3QudG9wIC0gcGFkZGluZ09iamVjdC50b3AgJiYgeSA8IHJlY3QuYm90dG9tICsgcGFkZGluZ09iamVjdC5ib3R0b20pIHx8IGZhbGxiYWNrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlcmUgYXJlIDIgb3IgbW9yZSBjb25uZWN0ZWQgcmVjdHMuXG4gICAgICAgIGlmIChjbGllbnRSZWN0cy5sZW5ndGggPj0gMikge1xuICAgICAgICAgIGlmIChnZXRTaWRlQXhpcyhwbGFjZW1lbnQpID09PSAneScpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0UmVjdCA9IGNsaWVudFJlY3RzWzBdO1xuICAgICAgICAgICAgY29uc3QgbGFzdFJlY3QgPSBjbGllbnRSZWN0c1tjbGllbnRSZWN0cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGNvbnN0IGlzVG9wID0gZ2V0U2lkZShwbGFjZW1lbnQpID09PSAndG9wJztcbiAgICAgICAgICAgIGNvbnN0IHRvcCA9IGZpcnN0UmVjdC50b3A7XG4gICAgICAgICAgICBjb25zdCBib3R0b20gPSBsYXN0UmVjdC5ib3R0b207XG4gICAgICAgICAgICBjb25zdCBsZWZ0ID0gaXNUb3AgPyBmaXJzdFJlY3QubGVmdCA6IGxhc3RSZWN0LmxlZnQ7XG4gICAgICAgICAgICBjb25zdCByaWdodCA9IGlzVG9wID8gZmlyc3RSZWN0LnJpZ2h0IDogbGFzdFJlY3QucmlnaHQ7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHJpZ2h0IC0gbGVmdDtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGJvdHRvbSAtIHRvcDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgICAgYm90dG9tLFxuICAgICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgICByaWdodCxcbiAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgeDogbGVmdCxcbiAgICAgICAgICAgICAgeTogdG9wXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBpc0xlZnRTaWRlID0gZ2V0U2lkZShwbGFjZW1lbnQpID09PSAnbGVmdCc7XG4gICAgICAgICAgY29uc3QgbWF4UmlnaHQgPSBtYXgoLi4uY2xpZW50UmVjdHMubWFwKHJlY3QgPT4gcmVjdC5yaWdodCkpO1xuICAgICAgICAgIGNvbnN0IG1pbkxlZnQgPSBtaW4oLi4uY2xpZW50UmVjdHMubWFwKHJlY3QgPT4gcmVjdC5sZWZ0KSk7XG4gICAgICAgICAgY29uc3QgbWVhc3VyZVJlY3RzID0gY2xpZW50UmVjdHMuZmlsdGVyKHJlY3QgPT4gaXNMZWZ0U2lkZSA/IHJlY3QubGVmdCA9PT0gbWluTGVmdCA6IHJlY3QucmlnaHQgPT09IG1heFJpZ2h0KTtcbiAgICAgICAgICBjb25zdCB0b3AgPSBtZWFzdXJlUmVjdHNbMF0udG9wO1xuICAgICAgICAgIGNvbnN0IGJvdHRvbSA9IG1lYXN1cmVSZWN0c1ttZWFzdXJlUmVjdHMubGVuZ3RoIC0gMV0uYm90dG9tO1xuICAgICAgICAgIGNvbnN0IGxlZnQgPSBtaW5MZWZ0O1xuICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gbWF4UmlnaHQ7XG4gICAgICAgICAgY29uc3Qgd2lkdGggPSByaWdodCAtIGxlZnQ7XG4gICAgICAgICAgY29uc3QgaGVpZ2h0ID0gYm90dG9tIC0gdG9wO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3AsXG4gICAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgcmlnaHQsXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIHg6IGxlZnQsXG4gICAgICAgICAgICB5OiB0b3BcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxsYmFjaztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc2V0UmVjdHMgPSBhd2FpdCBwbGF0Zm9ybS5nZXRFbGVtZW50UmVjdHMoe1xuICAgICAgICByZWZlcmVuY2U6IHtcbiAgICAgICAgICBnZXRCb3VuZGluZ0NsaWVudFJlY3RcbiAgICAgICAgfSxcbiAgICAgICAgZmxvYXRpbmc6IGVsZW1lbnRzLmZsb2F0aW5nLFxuICAgICAgICBzdHJhdGVneVxuICAgICAgfSk7XG4gICAgICBpZiAocmVjdHMucmVmZXJlbmNlLnggIT09IHJlc2V0UmVjdHMucmVmZXJlbmNlLnggfHwgcmVjdHMucmVmZXJlbmNlLnkgIT09IHJlc2V0UmVjdHMucmVmZXJlbmNlLnkgfHwgcmVjdHMucmVmZXJlbmNlLndpZHRoICE9PSByZXNldFJlY3RzLnJlZmVyZW5jZS53aWR0aCB8fCByZWN0cy5yZWZlcmVuY2UuaGVpZ2h0ICE9PSByZXNldFJlY3RzLnJlZmVyZW5jZS5oZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNldDoge1xuICAgICAgICAgICAgcmVjdHM6IHJlc2V0UmVjdHNcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9O1xufTtcblxuLy8gRm9yIHR5cGUgYmFja3dhcmRzLWNvbXBhdGliaWxpdHksIHRoZSBgT2Zmc2V0T3B0aW9uc2AgdHlwZSB3YXMgYWxzb1xuLy8gRGVyaXZhYmxlLlxuXG5hc3luYyBmdW5jdGlvbiBjb252ZXJ0VmFsdWVUb0Nvb3JkcyhzdGF0ZSwgb3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgcGxhY2VtZW50LFxuICAgIHBsYXRmb3JtLFxuICAgIGVsZW1lbnRzXG4gIH0gPSBzdGF0ZTtcbiAgY29uc3QgcnRsID0gYXdhaXQgKHBsYXRmb3JtLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBwbGF0Zm9ybS5pc1JUTChlbGVtZW50cy5mbG9hdGluZykpO1xuICBjb25zdCBzaWRlID0gZ2V0U2lkZShwbGFjZW1lbnQpO1xuICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQocGxhY2VtZW50KTtcbiAgY29uc3QgaXNWZXJ0aWNhbCA9IGdldFNpZGVBeGlzKHBsYWNlbWVudCkgPT09ICd5JztcbiAgY29uc3QgbWFpbkF4aXNNdWx0aSA9IFsnbGVmdCcsICd0b3AnXS5pbmNsdWRlcyhzaWRlKSA/IC0xIDogMTtcbiAgY29uc3QgY3Jvc3NBeGlzTXVsdGkgPSBydGwgJiYgaXNWZXJ0aWNhbCA/IC0xIDogMTtcbiAgY29uc3QgcmF3VmFsdWUgPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICBsZXQge1xuICAgIG1haW5BeGlzLFxuICAgIGNyb3NzQXhpcyxcbiAgICBhbGlnbm1lbnRBeGlzXG4gIH0gPSB0eXBlb2YgcmF3VmFsdWUgPT09ICdudW1iZXInID8ge1xuICAgIG1haW5BeGlzOiByYXdWYWx1ZSxcbiAgICBjcm9zc0F4aXM6IDAsXG4gICAgYWxpZ25tZW50QXhpczogbnVsbFxuICB9IDoge1xuICAgIG1haW5BeGlzOiAwLFxuICAgIGNyb3NzQXhpczogMCxcbiAgICBhbGlnbm1lbnRBeGlzOiBudWxsLFxuICAgIC4uLnJhd1ZhbHVlXG4gIH07XG4gIGlmIChhbGlnbm1lbnQgJiYgdHlwZW9mIGFsaWdubWVudEF4aXMgPT09ICdudW1iZXInKSB7XG4gICAgY3Jvc3NBeGlzID0gYWxpZ25tZW50ID09PSAnZW5kJyA/IGFsaWdubWVudEF4aXMgKiAtMSA6IGFsaWdubWVudEF4aXM7XG4gIH1cbiAgcmV0dXJuIGlzVmVydGljYWwgPyB7XG4gICAgeDogY3Jvc3NBeGlzICogY3Jvc3NBeGlzTXVsdGksXG4gICAgeTogbWFpbkF4aXMgKiBtYWluQXhpc011bHRpXG4gIH0gOiB7XG4gICAgeDogbWFpbkF4aXMgKiBtYWluQXhpc011bHRpLFxuICAgIHk6IGNyb3NzQXhpcyAqIGNyb3NzQXhpc011bHRpXG4gIH07XG59XG5cbi8qKlxuICogTW9kaWZpZXMgdGhlIHBsYWNlbWVudCBieSB0cmFuc2xhdGluZyB0aGUgZmxvYXRpbmcgZWxlbWVudCBhbG9uZyB0aGVcbiAqIHNwZWNpZmllZCBheGVzLlxuICogQSBudW1iZXIgKHNob3J0aGFuZCBmb3IgYG1haW5BeGlzYCBvciBkaXN0YW5jZSksIG9yIGFuIGF4ZXMgY29uZmlndXJhdGlvblxuICogb2JqZWN0IG1heSBiZSBwYXNzZWQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3Mvb2Zmc2V0XG4gKi9cbmNvbnN0IG9mZnNldCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0gMDtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdvZmZzZXQnLFxuICAgIG9wdGlvbnMsXG4gICAgYXN5bmMgZm4oc3RhdGUpIHtcbiAgICAgIHZhciBfbWlkZGxld2FyZURhdGEkb2Zmc2UsIF9taWRkbGV3YXJlRGF0YSRhcnJvdztcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBtaWRkbGV3YXJlRGF0YVxuICAgICAgfSA9IHN0YXRlO1xuICAgICAgY29uc3QgZGlmZkNvb3JkcyA9IGF3YWl0IGNvbnZlcnRWYWx1ZVRvQ29vcmRzKHN0YXRlLCBvcHRpb25zKTtcblxuICAgICAgLy8gSWYgdGhlIHBsYWNlbWVudCBpcyB0aGUgc2FtZSBhbmQgdGhlIGFycm93IGNhdXNlZCBhbiBhbGlnbm1lbnQgb2Zmc2V0XG4gICAgICAvLyB0aGVuIHdlIGRvbid0IG5lZWQgdG8gY2hhbmdlIHRoZSBwb3NpdGlvbmluZyBjb29yZGluYXRlcy5cbiAgICAgIGlmIChwbGFjZW1lbnQgPT09ICgoX21pZGRsZXdhcmVEYXRhJG9mZnNlID0gbWlkZGxld2FyZURhdGEub2Zmc2V0KSA9PSBudWxsID8gdm9pZCAwIDogX21pZGRsZXdhcmVEYXRhJG9mZnNlLnBsYWNlbWVudCkgJiYgKF9taWRkbGV3YXJlRGF0YSRhcnJvdyA9IG1pZGRsZXdhcmVEYXRhLmFycm93KSAhPSBudWxsICYmIF9taWRkbGV3YXJlRGF0YSRhcnJvdy5hbGlnbm1lbnRPZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCArIGRpZmZDb29yZHMueCxcbiAgICAgICAgeTogeSArIGRpZmZDb29yZHMueSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIC4uLmRpZmZDb29yZHMsXG4gICAgICAgICAgcGxhY2VtZW50XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgc2hpZnRpbmcgaXQgaW4gb3JkZXIgdG9cbiAqIGtlZXAgaXQgaW4gdmlldyB3aGVuIGl0IHdpbGwgb3ZlcmZsb3cgdGhlIGNsaXBwaW5nIGJvdW5kYXJ5LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL3NoaWZ0XG4gKi9cbmNvbnN0IHNoaWZ0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdzaGlmdCcsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICBwbGFjZW1lbnRcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbWFpbkF4aXM6IGNoZWNrTWFpbkF4aXMgPSB0cnVlLFxuICAgICAgICBjcm9zc0F4aXM6IGNoZWNrQ3Jvc3NBeGlzID0gZmFsc2UsXG4gICAgICAgIGxpbWl0ZXIgPSB7XG4gICAgICAgICAgZm46IF9yZWYgPT4ge1xuICAgICAgICAgICAgbGV0IHtcbiAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgeVxuICAgICAgICAgICAgfSA9IF9yZWY7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB4LFxuICAgICAgICAgICAgICB5XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zXG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICAgICAgY29uc3QgY29vcmRzID0ge1xuICAgICAgICB4LFxuICAgICAgICB5XG4gICAgICB9O1xuICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwgZGV0ZWN0T3ZlcmZsb3dPcHRpb25zKTtcbiAgICAgIGNvbnN0IGNyb3NzQXhpcyA9IGdldFNpZGVBeGlzKGdldFNpZGUocGxhY2VtZW50KSk7XG4gICAgICBjb25zdCBtYWluQXhpcyA9IGdldE9wcG9zaXRlQXhpcyhjcm9zc0F4aXMpO1xuICAgICAgbGV0IG1haW5BeGlzQ29vcmQgPSBjb29yZHNbbWFpbkF4aXNdO1xuICAgICAgbGV0IGNyb3NzQXhpc0Nvb3JkID0gY29vcmRzW2Nyb3NzQXhpc107XG4gICAgICBpZiAoY2hlY2tNYWluQXhpcykge1xuICAgICAgICBjb25zdCBtaW5TaWRlID0gbWFpbkF4aXMgPT09ICd5JyA/ICd0b3AnIDogJ2xlZnQnO1xuICAgICAgICBjb25zdCBtYXhTaWRlID0gbWFpbkF4aXMgPT09ICd5JyA/ICdib3R0b20nIDogJ3JpZ2h0JztcbiAgICAgICAgY29uc3QgbWluID0gbWFpbkF4aXNDb29yZCArIG92ZXJmbG93W21pblNpZGVdO1xuICAgICAgICBjb25zdCBtYXggPSBtYWluQXhpc0Nvb3JkIC0gb3ZlcmZsb3dbbWF4U2lkZV07XG4gICAgICAgIG1haW5BeGlzQ29vcmQgPSBjbGFtcChtaW4sIG1haW5BeGlzQ29vcmQsIG1heCk7XG4gICAgICB9XG4gICAgICBpZiAoY2hlY2tDcm9zc0F4aXMpIHtcbiAgICAgICAgY29uc3QgbWluU2lkZSA9IGNyb3NzQXhpcyA9PT0gJ3knID8gJ3RvcCcgOiAnbGVmdCc7XG4gICAgICAgIGNvbnN0IG1heFNpZGUgPSBjcm9zc0F4aXMgPT09ICd5JyA/ICdib3R0b20nIDogJ3JpZ2h0JztcbiAgICAgICAgY29uc3QgbWluID0gY3Jvc3NBeGlzQ29vcmQgKyBvdmVyZmxvd1ttaW5TaWRlXTtcbiAgICAgICAgY29uc3QgbWF4ID0gY3Jvc3NBeGlzQ29vcmQgLSBvdmVyZmxvd1ttYXhTaWRlXTtcbiAgICAgICAgY3Jvc3NBeGlzQ29vcmQgPSBjbGFtcChtaW4sIGNyb3NzQXhpc0Nvb3JkLCBtYXgpO1xuICAgICAgfVxuICAgICAgY29uc3QgbGltaXRlZENvb3JkcyA9IGxpbWl0ZXIuZm4oe1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgW21haW5BeGlzXTogbWFpbkF4aXNDb29yZCxcbiAgICAgICAgW2Nyb3NzQXhpc106IGNyb3NzQXhpc0Nvb3JkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmxpbWl0ZWRDb29yZHMsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB4OiBsaW1pdGVkQ29vcmRzLnggLSB4LFxuICAgICAgICAgIHk6IGxpbWl0ZWRDb29yZHMueSAtIHlcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuLyoqXG4gKiBCdWlsdC1pbiBgbGltaXRlcmAgdGhhdCB3aWxsIHN0b3AgYHNoaWZ0KClgIGF0IGEgY2VydGFpbiBwb2ludC5cbiAqL1xuY29uc3QgbGltaXRTaGlmdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBvcHRpb25zLFxuICAgIGZuKHN0YXRlKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgcmVjdHMsXG4gICAgICAgIG1pZGRsZXdhcmVEYXRhXG4gICAgICB9ID0gc3RhdGU7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG9mZnNldCA9IDAsXG4gICAgICAgIG1haW5BeGlzOiBjaGVja01haW5BeGlzID0gdHJ1ZSxcbiAgICAgICAgY3Jvc3NBeGlzOiBjaGVja0Nyb3NzQXhpcyA9IHRydWVcbiAgICAgIH0gPSBldmFsdWF0ZShvcHRpb25zLCBzdGF0ZSk7XG4gICAgICBjb25zdCBjb29yZHMgPSB7XG4gICAgICAgIHgsXG4gICAgICAgIHlcbiAgICAgIH07XG4gICAgICBjb25zdCBjcm9zc0F4aXMgPSBnZXRTaWRlQXhpcyhwbGFjZW1lbnQpO1xuICAgICAgY29uc3QgbWFpbkF4aXMgPSBnZXRPcHBvc2l0ZUF4aXMoY3Jvc3NBeGlzKTtcbiAgICAgIGxldCBtYWluQXhpc0Nvb3JkID0gY29vcmRzW21haW5BeGlzXTtcbiAgICAgIGxldCBjcm9zc0F4aXNDb29yZCA9IGNvb3Jkc1tjcm9zc0F4aXNdO1xuICAgICAgY29uc3QgcmF3T2Zmc2V0ID0gZXZhbHVhdGUob2Zmc2V0LCBzdGF0ZSk7XG4gICAgICBjb25zdCBjb21wdXRlZE9mZnNldCA9IHR5cGVvZiByYXdPZmZzZXQgPT09ICdudW1iZXInID8ge1xuICAgICAgICBtYWluQXhpczogcmF3T2Zmc2V0LFxuICAgICAgICBjcm9zc0F4aXM6IDBcbiAgICAgIH0gOiB7XG4gICAgICAgIG1haW5BeGlzOiAwLFxuICAgICAgICBjcm9zc0F4aXM6IDAsXG4gICAgICAgIC4uLnJhd09mZnNldFxuICAgICAgfTtcbiAgICAgIGlmIChjaGVja01haW5BeGlzKSB7XG4gICAgICAgIGNvbnN0IGxlbiA9IG1haW5BeGlzID09PSAneScgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gICAgICAgIGNvbnN0IGxpbWl0TWluID0gcmVjdHMucmVmZXJlbmNlW21haW5BeGlzXSAtIHJlY3RzLmZsb2F0aW5nW2xlbl0gKyBjb21wdXRlZE9mZnNldC5tYWluQXhpcztcbiAgICAgICAgY29uc3QgbGltaXRNYXggPSByZWN0cy5yZWZlcmVuY2VbbWFpbkF4aXNdICsgcmVjdHMucmVmZXJlbmNlW2xlbl0gLSBjb21wdXRlZE9mZnNldC5tYWluQXhpcztcbiAgICAgICAgaWYgKG1haW5BeGlzQ29vcmQgPCBsaW1pdE1pbikge1xuICAgICAgICAgIG1haW5BeGlzQ29vcmQgPSBsaW1pdE1pbjtcbiAgICAgICAgfSBlbHNlIGlmIChtYWluQXhpc0Nvb3JkID4gbGltaXRNYXgpIHtcbiAgICAgICAgICBtYWluQXhpc0Nvb3JkID0gbGltaXRNYXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjaGVja0Nyb3NzQXhpcykge1xuICAgICAgICB2YXIgX21pZGRsZXdhcmVEYXRhJG9mZnNlLCBfbWlkZGxld2FyZURhdGEkb2Zmc2UyO1xuICAgICAgICBjb25zdCBsZW4gPSBtYWluQXhpcyA9PT0gJ3knID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuICAgICAgICBjb25zdCBpc09yaWdpblNpZGUgPSBbJ3RvcCcsICdsZWZ0J10uaW5jbHVkZXMoZ2V0U2lkZShwbGFjZW1lbnQpKTtcbiAgICAgICAgY29uc3QgbGltaXRNaW4gPSByZWN0cy5yZWZlcmVuY2VbY3Jvc3NBeGlzXSAtIHJlY3RzLmZsb2F0aW5nW2xlbl0gKyAoaXNPcmlnaW5TaWRlID8gKChfbWlkZGxld2FyZURhdGEkb2Zmc2UgPSBtaWRkbGV3YXJlRGF0YS5vZmZzZXQpID09IG51bGwgPyB2b2lkIDAgOiBfbWlkZGxld2FyZURhdGEkb2Zmc2VbY3Jvc3NBeGlzXSkgfHwgMCA6IDApICsgKGlzT3JpZ2luU2lkZSA/IDAgOiBjb21wdXRlZE9mZnNldC5jcm9zc0F4aXMpO1xuICAgICAgICBjb25zdCBsaW1pdE1heCA9IHJlY3RzLnJlZmVyZW5jZVtjcm9zc0F4aXNdICsgcmVjdHMucmVmZXJlbmNlW2xlbl0gKyAoaXNPcmlnaW5TaWRlID8gMCA6ICgoX21pZGRsZXdhcmVEYXRhJG9mZnNlMiA9IG1pZGRsZXdhcmVEYXRhLm9mZnNldCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9taWRkbGV3YXJlRGF0YSRvZmZzZTJbY3Jvc3NBeGlzXSkgfHwgMCkgLSAoaXNPcmlnaW5TaWRlID8gY29tcHV0ZWRPZmZzZXQuY3Jvc3NBeGlzIDogMCk7XG4gICAgICAgIGlmIChjcm9zc0F4aXNDb29yZCA8IGxpbWl0TWluKSB7XG4gICAgICAgICAgY3Jvc3NBeGlzQ29vcmQgPSBsaW1pdE1pbjtcbiAgICAgICAgfSBlbHNlIGlmIChjcm9zc0F4aXNDb29yZCA+IGxpbWl0TWF4KSB7XG4gICAgICAgICAgY3Jvc3NBeGlzQ29vcmQgPSBsaW1pdE1heDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgW21haW5BeGlzXTogbWFpbkF4aXNDb29yZCxcbiAgICAgICAgW2Nyb3NzQXhpc106IGNyb3NzQXhpc0Nvb3JkXG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0aGF0IGFsbG93cyB5b3UgdG8gY2hhbmdlIHRoZSBzaXplIG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IFx1MjAxNFxuICogZm9yIGluc3RhbmNlLCBwcmV2ZW50IGl0IGZyb20gb3ZlcmZsb3dpbmcgdGhlIGNsaXBwaW5nIGJvdW5kYXJ5IG9yIG1hdGNoIHRoZVxuICogd2lkdGggb2YgdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL3NpemVcbiAqL1xuY29uc3Qgc2l6ZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnc2l6ZScsXG4gICAgb3B0aW9ucyxcbiAgICBhc3luYyBmbihzdGF0ZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIHJlY3RzLFxuICAgICAgICBwbGF0Zm9ybSxcbiAgICAgICAgZWxlbWVudHNcbiAgICAgIH0gPSBzdGF0ZTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgYXBwbHkgPSAoKSA9PiB7fSxcbiAgICAgICAgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zXG4gICAgICB9ID0gZXZhbHVhdGUob3B0aW9ucywgc3RhdGUpO1xuICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBhd2FpdCBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwgZGV0ZWN0T3ZlcmZsb3dPcHRpb25zKTtcbiAgICAgIGNvbnN0IHNpZGUgPSBnZXRTaWRlKHBsYWNlbWVudCk7XG4gICAgICBjb25zdCBhbGlnbm1lbnQgPSBnZXRBbGlnbm1lbnQocGxhY2VtZW50KTtcbiAgICAgIGNvbnN0IGlzWUF4aXMgPSBnZXRTaWRlQXhpcyhwbGFjZW1lbnQpID09PSAneSc7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHRcbiAgICAgIH0gPSByZWN0cy5mbG9hdGluZztcbiAgICAgIGxldCBoZWlnaHRTaWRlO1xuICAgICAgbGV0IHdpZHRoU2lkZTtcbiAgICAgIGlmIChzaWRlID09PSAndG9wJyB8fCBzaWRlID09PSAnYm90dG9tJykge1xuICAgICAgICBoZWlnaHRTaWRlID0gc2lkZTtcbiAgICAgICAgd2lkdGhTaWRlID0gYWxpZ25tZW50ID09PSAoKGF3YWl0IChwbGF0Zm9ybS5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogcGxhdGZvcm0uaXNSVEwoZWxlbWVudHMuZmxvYXRpbmcpKSkgPyAnc3RhcnQnIDogJ2VuZCcpID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpZHRoU2lkZSA9IHNpZGU7XG4gICAgICAgIGhlaWdodFNpZGUgPSBhbGlnbm1lbnQgPT09ICdlbmQnID8gJ3RvcCcgOiAnYm90dG9tJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1heGltdW1DbGlwcGluZ0hlaWdodCA9IGhlaWdodCAtIG92ZXJmbG93LnRvcCAtIG92ZXJmbG93LmJvdHRvbTtcbiAgICAgIGNvbnN0IG1heGltdW1DbGlwcGluZ1dpZHRoID0gd2lkdGggLSBvdmVyZmxvdy5sZWZ0IC0gb3ZlcmZsb3cucmlnaHQ7XG4gICAgICBjb25zdCBvdmVyZmxvd0F2YWlsYWJsZUhlaWdodCA9IG1pbihoZWlnaHQgLSBvdmVyZmxvd1toZWlnaHRTaWRlXSwgbWF4aW11bUNsaXBwaW5nSGVpZ2h0KTtcbiAgICAgIGNvbnN0IG92ZXJmbG93QXZhaWxhYmxlV2lkdGggPSBtaW4od2lkdGggLSBvdmVyZmxvd1t3aWR0aFNpZGVdLCBtYXhpbXVtQ2xpcHBpbmdXaWR0aCk7XG4gICAgICBjb25zdCBub1NoaWZ0ID0gIXN0YXRlLm1pZGRsZXdhcmVEYXRhLnNoaWZ0O1xuICAgICAgbGV0IGF2YWlsYWJsZUhlaWdodCA9IG92ZXJmbG93QXZhaWxhYmxlSGVpZ2h0O1xuICAgICAgbGV0IGF2YWlsYWJsZVdpZHRoID0gb3ZlcmZsb3dBdmFpbGFibGVXaWR0aDtcbiAgICAgIGlmIChpc1lBeGlzKSB7XG4gICAgICAgIGF2YWlsYWJsZVdpZHRoID0gYWxpZ25tZW50IHx8IG5vU2hpZnQgPyBtaW4ob3ZlcmZsb3dBdmFpbGFibGVXaWR0aCwgbWF4aW11bUNsaXBwaW5nV2lkdGgpIDogbWF4aW11bUNsaXBwaW5nV2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhdmFpbGFibGVIZWlnaHQgPSBhbGlnbm1lbnQgfHwgbm9TaGlmdCA/IG1pbihvdmVyZmxvd0F2YWlsYWJsZUhlaWdodCwgbWF4aW11bUNsaXBwaW5nSGVpZ2h0KSA6IG1heGltdW1DbGlwcGluZ0hlaWdodDtcbiAgICAgIH1cbiAgICAgIGlmIChub1NoaWZ0ICYmICFhbGlnbm1lbnQpIHtcbiAgICAgICAgY29uc3QgeE1pbiA9IG1heChvdmVyZmxvdy5sZWZ0LCAwKTtcbiAgICAgICAgY29uc3QgeE1heCA9IG1heChvdmVyZmxvdy5yaWdodCwgMCk7XG4gICAgICAgIGNvbnN0IHlNaW4gPSBtYXgob3ZlcmZsb3cudG9wLCAwKTtcbiAgICAgICAgY29uc3QgeU1heCA9IG1heChvdmVyZmxvdy5ib3R0b20sIDApO1xuICAgICAgICBpZiAoaXNZQXhpcykge1xuICAgICAgICAgIGF2YWlsYWJsZVdpZHRoID0gd2lkdGggLSAyICogKHhNaW4gIT09IDAgfHwgeE1heCAhPT0gMCA/IHhNaW4gKyB4TWF4IDogbWF4KG92ZXJmbG93LmxlZnQsIG92ZXJmbG93LnJpZ2h0KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXZhaWxhYmxlSGVpZ2h0ID0gaGVpZ2h0IC0gMiAqICh5TWluICE9PSAwIHx8IHlNYXggIT09IDAgPyB5TWluICsgeU1heCA6IG1heChvdmVyZmxvdy50b3AsIG92ZXJmbG93LmJvdHRvbSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhd2FpdCBhcHBseSh7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBhdmFpbGFibGVXaWR0aCxcbiAgICAgICAgYXZhaWxhYmxlSGVpZ2h0XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG5leHREaW1lbnNpb25zID0gYXdhaXQgcGxhdGZvcm0uZ2V0RGltZW5zaW9ucyhlbGVtZW50cy5mbG9hdGluZyk7XG4gICAgICBpZiAod2lkdGggIT09IG5leHREaW1lbnNpb25zLndpZHRoIHx8IGhlaWdodCAhPT0gbmV4dERpbWVuc2lvbnMuaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzZXQ6IHtcbiAgICAgICAgICAgIHJlY3RzOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfTtcbn07XG5cbmV4cG9ydCB7IGFycm93LCBhdXRvUGxhY2VtZW50LCBjb21wdXRlUG9zaXRpb24sIGRldGVjdE92ZXJmbG93LCBmbGlwLCBoaWRlLCBpbmxpbmUsIGxpbWl0U2hpZnQsIG9mZnNldCwgc2hpZnQsIHNpemUgfTtcbiIsICJmdW5jdGlvbiBnZXROb2RlTmFtZShub2RlKSB7XG4gIGlmIChpc05vZGUobm9kZSkpIHtcbiAgICByZXR1cm4gKG5vZGUubm9kZU5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gIH1cbiAgLy8gTW9ja2VkIG5vZGVzIGluIHRlc3RpbmcgZW52aXJvbm1lbnRzIG1heSBub3QgYmUgaW5zdGFuY2VzIG9mIE5vZGUuIEJ5XG4gIC8vIHJldHVybmluZyBgI2RvY3VtZW50YCBhbiBpbmZpbml0ZSBsb29wIHdvbid0IG9jY3VyLlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmxvYXRpbmctdWkvZmxvYXRpbmctdWkvaXNzdWVzLzIzMTdcbiAgcmV0dXJuICcjZG9jdW1lbnQnO1xufVxuZnVuY3Rpb24gZ2V0V2luZG93KG5vZGUpIHtcbiAgdmFyIF9ub2RlJG93bmVyRG9jdW1lbnQ7XG4gIHJldHVybiAobm9kZSA9PSBudWxsIHx8IChfbm9kZSRvd25lckRvY3VtZW50ID0gbm9kZS5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX25vZGUkb3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykgfHwgd2luZG93O1xufVxuZnVuY3Rpb24gZ2V0RG9jdW1lbnRFbGVtZW50KG5vZGUpIHtcbiAgdmFyIF9yZWY7XG4gIHJldHVybiAoX3JlZiA9IChpc05vZGUobm9kZSkgPyBub2RlLm93bmVyRG9jdW1lbnQgOiBub2RlLmRvY3VtZW50KSB8fCB3aW5kb3cuZG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfcmVmLmRvY3VtZW50RWxlbWVudDtcbn1cbmZ1bmN0aW9uIGlzTm9kZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBOb2RlIHx8IHZhbHVlIGluc3RhbmNlb2YgZ2V0V2luZG93KHZhbHVlKS5Ob2RlO1xufVxuZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEVsZW1lbnQgfHwgdmFsdWUgaW5zdGFuY2VvZiBnZXRXaW5kb3codmFsdWUpLkVsZW1lbnQ7XG59XG5mdW5jdGlvbiBpc0hUTUxFbGVtZW50KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8IHZhbHVlIGluc3RhbmNlb2YgZ2V0V2luZG93KHZhbHVlKS5IVE1MRWxlbWVudDtcbn1cbmZ1bmN0aW9uIGlzU2hhZG93Um9vdCh2YWx1ZSkge1xuICAvLyBCcm93c2VycyB3aXRob3V0IGBTaGFkb3dSb290YCBzdXBwb3J0LlxuICBpZiAodHlwZW9mIFNoYWRvd1Jvb3QgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QgfHwgdmFsdWUgaW5zdGFuY2VvZiBnZXRXaW5kb3codmFsdWUpLlNoYWRvd1Jvb3Q7XG59XG5mdW5jdGlvbiBpc092ZXJmbG93RWxlbWVudChlbGVtZW50KSB7XG4gIGNvbnN0IHtcbiAgICBvdmVyZmxvdyxcbiAgICBvdmVyZmxvd1gsXG4gICAgb3ZlcmZsb3dZLFxuICAgIGRpc3BsYXlcbiAgfSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gIHJldHVybiAvYXV0b3xzY3JvbGx8b3ZlcmxheXxoaWRkZW58Y2xpcC8udGVzdChvdmVyZmxvdyArIG92ZXJmbG93WSArIG92ZXJmbG93WCkgJiYgIVsnaW5saW5lJywgJ2NvbnRlbnRzJ10uaW5jbHVkZXMoZGlzcGxheSk7XG59XG5mdW5jdGlvbiBpc1RhYmxlRWxlbWVudChlbGVtZW50KSB7XG4gIHJldHVybiBbJ3RhYmxlJywgJ3RkJywgJ3RoJ10uaW5jbHVkZXMoZ2V0Tm9kZU5hbWUoZWxlbWVudCkpO1xufVxuZnVuY3Rpb24gaXNUb3BMYXllcihlbGVtZW50KSB7XG4gIHJldHVybiBbJzpwb3BvdmVyLW9wZW4nLCAnOm1vZGFsJ10uc29tZShzZWxlY3RvciA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBlbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gaXNDb250YWluaW5nQmxvY2soZWxlbWVudCkge1xuICBjb25zdCB3ZWJraXQgPSBpc1dlYktpdCgpO1xuICBjb25zdCBjc3MgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9Db250YWluaW5nX2Jsb2NrI2lkZW50aWZ5aW5nX3RoZV9jb250YWluaW5nX2Jsb2NrXG4gIHJldHVybiBjc3MudHJhbnNmb3JtICE9PSAnbm9uZScgfHwgY3NzLnBlcnNwZWN0aXZlICE9PSAnbm9uZScgfHwgKGNzcy5jb250YWluZXJUeXBlID8gY3NzLmNvbnRhaW5lclR5cGUgIT09ICdub3JtYWwnIDogZmFsc2UpIHx8ICF3ZWJraXQgJiYgKGNzcy5iYWNrZHJvcEZpbHRlciA/IGNzcy5iYWNrZHJvcEZpbHRlciAhPT0gJ25vbmUnIDogZmFsc2UpIHx8ICF3ZWJraXQgJiYgKGNzcy5maWx0ZXIgPyBjc3MuZmlsdGVyICE9PSAnbm9uZScgOiBmYWxzZSkgfHwgWyd0cmFuc2Zvcm0nLCAncGVyc3BlY3RpdmUnLCAnZmlsdGVyJ10uc29tZSh2YWx1ZSA9PiAoY3NzLndpbGxDaGFuZ2UgfHwgJycpLmluY2x1ZGVzKHZhbHVlKSkgfHwgWydwYWludCcsICdsYXlvdXQnLCAnc3RyaWN0JywgJ2NvbnRlbnQnXS5zb21lKHZhbHVlID0+IChjc3MuY29udGFpbiB8fCAnJykuaW5jbHVkZXModmFsdWUpKTtcbn1cbmZ1bmN0aW9uIGdldENvbnRhaW5pbmdCbG9jayhlbGVtZW50KSB7XG4gIGxldCBjdXJyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUoZWxlbWVudCk7XG4gIHdoaWxlIChpc0hUTUxFbGVtZW50KGN1cnJlbnROb2RlKSAmJiAhaXNMYXN0VHJhdmVyc2FibGVOb2RlKGN1cnJlbnROb2RlKSkge1xuICAgIGlmIChpc1RvcExheWVyKGN1cnJlbnROb2RlKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChpc0NvbnRhaW5pbmdCbG9jayhjdXJyZW50Tm9kZSkpIHtcbiAgICAgIHJldHVybiBjdXJyZW50Tm9kZTtcbiAgICB9XG4gICAgY3VycmVudE5vZGUgPSBnZXRQYXJlbnROb2RlKGN1cnJlbnROb2RlKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzV2ViS2l0KCkge1xuICBpZiAodHlwZW9mIENTUyA9PT0gJ3VuZGVmaW5lZCcgfHwgIUNTUy5zdXBwb3J0cykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gQ1NTLnN1cHBvcnRzKCctd2Via2l0LWJhY2tkcm9wLWZpbHRlcicsICdub25lJyk7XG59XG5mdW5jdGlvbiBpc0xhc3RUcmF2ZXJzYWJsZU5vZGUobm9kZSkge1xuICByZXR1cm4gWydodG1sJywgJ2JvZHknLCAnI2RvY3VtZW50J10uaW5jbHVkZXMoZ2V0Tm9kZU5hbWUobm9kZSkpO1xufVxuZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSB7XG4gIHJldHVybiBnZXRXaW5kb3coZWxlbWVudCkuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbn1cbmZ1bmN0aW9uIGdldE5vZGVTY3JvbGwoZWxlbWVudCkge1xuICBpZiAoaXNFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNjcm9sbExlZnQ6IGVsZW1lbnQuc2Nyb2xsTGVmdCxcbiAgICAgIHNjcm9sbFRvcDogZWxlbWVudC5zY3JvbGxUb3BcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgc2Nyb2xsTGVmdDogZWxlbWVudC5zY3JvbGxYLFxuICAgIHNjcm9sbFRvcDogZWxlbWVudC5zY3JvbGxZXG4gIH07XG59XG5mdW5jdGlvbiBnZXRQYXJlbnROb2RlKG5vZGUpIHtcbiAgaWYgKGdldE5vZGVOYW1lKG5vZGUpID09PSAnaHRtbCcpIHtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICBjb25zdCByZXN1bHQgPVxuICAvLyBTdGVwIGludG8gdGhlIHNoYWRvdyBET00gb2YgdGhlIHBhcmVudCBvZiBhIHNsb3R0ZWQgbm9kZS5cbiAgbm9kZS5hc3NpZ25lZFNsb3QgfHxcbiAgLy8gRE9NIEVsZW1lbnQgZGV0ZWN0ZWQuXG4gIG5vZGUucGFyZW50Tm9kZSB8fFxuICAvLyBTaGFkb3dSb290IGRldGVjdGVkLlxuICBpc1NoYWRvd1Jvb3Qobm9kZSkgJiYgbm9kZS5ob3N0IHx8XG4gIC8vIEZhbGxiYWNrLlxuICBnZXREb2N1bWVudEVsZW1lbnQobm9kZSk7XG4gIHJldHVybiBpc1NoYWRvd1Jvb3QocmVzdWx0KSA/IHJlc3VsdC5ob3N0IDogcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0TmVhcmVzdE92ZXJmbG93QW5jZXN0b3Iobm9kZSkge1xuICBjb25zdCBwYXJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShub2RlKTtcbiAgaWYgKGlzTGFzdFRyYXZlcnNhYmxlTm9kZShwYXJlbnROb2RlKSkge1xuICAgIHJldHVybiBub2RlLm93bmVyRG9jdW1lbnQgPyBub2RlLm93bmVyRG9jdW1lbnQuYm9keSA6IG5vZGUuYm9keTtcbiAgfVxuICBpZiAoaXNIVE1MRWxlbWVudChwYXJlbnROb2RlKSAmJiBpc092ZXJmbG93RWxlbWVudChwYXJlbnROb2RlKSkge1xuICAgIHJldHVybiBwYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBnZXROZWFyZXN0T3ZlcmZsb3dBbmNlc3RvcihwYXJlbnROb2RlKTtcbn1cbmZ1bmN0aW9uIGdldE92ZXJmbG93QW5jZXN0b3JzKG5vZGUsIGxpc3QsIHRyYXZlcnNlSWZyYW1lcykge1xuICB2YXIgX25vZGUkb3duZXJEb2N1bWVudDI7XG4gIGlmIChsaXN0ID09PSB2b2lkIDApIHtcbiAgICBsaXN0ID0gW107XG4gIH1cbiAgaWYgKHRyYXZlcnNlSWZyYW1lcyA9PT0gdm9pZCAwKSB7XG4gICAgdHJhdmVyc2VJZnJhbWVzID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBzY3JvbGxhYmxlQW5jZXN0b3IgPSBnZXROZWFyZXN0T3ZlcmZsb3dBbmNlc3Rvcihub2RlKTtcbiAgY29uc3QgaXNCb2R5ID0gc2Nyb2xsYWJsZUFuY2VzdG9yID09PSAoKF9ub2RlJG93bmVyRG9jdW1lbnQyID0gbm9kZS5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX25vZGUkb3duZXJEb2N1bWVudDIuYm9keSk7XG4gIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhzY3JvbGxhYmxlQW5jZXN0b3IpO1xuICBpZiAoaXNCb2R5KSB7XG4gICAgcmV0dXJuIGxpc3QuY29uY2F0KHdpbiwgd2luLnZpc3VhbFZpZXdwb3J0IHx8IFtdLCBpc092ZXJmbG93RWxlbWVudChzY3JvbGxhYmxlQW5jZXN0b3IpID8gc2Nyb2xsYWJsZUFuY2VzdG9yIDogW10sIHdpbi5mcmFtZUVsZW1lbnQgJiYgdHJhdmVyc2VJZnJhbWVzID8gZ2V0T3ZlcmZsb3dBbmNlc3RvcnMod2luLmZyYW1lRWxlbWVudCkgOiBbXSk7XG4gIH1cbiAgcmV0dXJuIGxpc3QuY29uY2F0KHNjcm9sbGFibGVBbmNlc3RvciwgZ2V0T3ZlcmZsb3dBbmNlc3RvcnMoc2Nyb2xsYWJsZUFuY2VzdG9yLCBbXSwgdHJhdmVyc2VJZnJhbWVzKSk7XG59XG5cbmV4cG9ydCB7IGdldENvbXB1dGVkU3R5bGUsIGdldENvbnRhaW5pbmdCbG9jaywgZ2V0RG9jdW1lbnRFbGVtZW50LCBnZXROZWFyZXN0T3ZlcmZsb3dBbmNlc3RvciwgZ2V0Tm9kZU5hbWUsIGdldE5vZGVTY3JvbGwsIGdldE92ZXJmbG93QW5jZXN0b3JzLCBnZXRQYXJlbnROb2RlLCBnZXRXaW5kb3csIGlzQ29udGFpbmluZ0Jsb2NrLCBpc0VsZW1lbnQsIGlzSFRNTEVsZW1lbnQsIGlzTGFzdFRyYXZlcnNhYmxlTm9kZSwgaXNOb2RlLCBpc092ZXJmbG93RWxlbWVudCwgaXNTaGFkb3dSb290LCBpc1RhYmxlRWxlbWVudCwgaXNUb3BMYXllciwgaXNXZWJLaXQgfTtcbiIsICJpbXBvcnQgeyByZWN0VG9DbGllbnRSZWN0LCBkZXRlY3RPdmVyZmxvdyBhcyBkZXRlY3RPdmVyZmxvdyQxLCBvZmZzZXQgYXMgb2Zmc2V0JDEsIGF1dG9QbGFjZW1lbnQgYXMgYXV0b1BsYWNlbWVudCQxLCBzaGlmdCBhcyBzaGlmdCQxLCBmbGlwIGFzIGZsaXAkMSwgc2l6ZSBhcyBzaXplJDEsIGhpZGUgYXMgaGlkZSQxLCBhcnJvdyBhcyBhcnJvdyQxLCBpbmxpbmUgYXMgaW5saW5lJDEsIGxpbWl0U2hpZnQgYXMgbGltaXRTaGlmdCQxLCBjb21wdXRlUG9zaXRpb24gYXMgY29tcHV0ZVBvc2l0aW9uJDEgfSBmcm9tICdAZmxvYXRpbmctdWkvY29yZSc7XG5pbXBvcnQgeyByb3VuZCwgY3JlYXRlQ29vcmRzLCBtYXgsIG1pbiwgZmxvb3IgfSBmcm9tICdAZmxvYXRpbmctdWkvdXRpbHMnO1xuaW1wb3J0IHsgZ2V0Q29tcHV0ZWRTdHlsZSwgaXNIVE1MRWxlbWVudCwgaXNFbGVtZW50LCBnZXRXaW5kb3csIGlzV2ViS2l0LCBnZXREb2N1bWVudEVsZW1lbnQsIGlzVG9wTGF5ZXIsIGdldE5vZGVOYW1lLCBpc092ZXJmbG93RWxlbWVudCwgZ2V0Tm9kZVNjcm9sbCwgZ2V0T3ZlcmZsb3dBbmNlc3RvcnMsIGdldFBhcmVudE5vZGUsIGlzTGFzdFRyYXZlcnNhYmxlTm9kZSwgaXNDb250YWluaW5nQmxvY2ssIGlzVGFibGVFbGVtZW50LCBnZXRDb250YWluaW5nQmxvY2sgfSBmcm9tICdAZmxvYXRpbmctdWkvdXRpbHMvZG9tJztcbmV4cG9ydCB7IGdldE92ZXJmbG93QW5jZXN0b3JzIH0gZnJvbSAnQGZsb2F0aW5nLXVpL3V0aWxzL2RvbSc7XG5cbmZ1bmN0aW9uIGdldENzc0RpbWVuc2lvbnMoZWxlbWVudCkge1xuICBjb25zdCBjc3MgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAvLyBJbiB0ZXN0aW5nIGVudmlyb25tZW50cywgdGhlIGB3aWR0aGAgYW5kIGBoZWlnaHRgIHByb3BlcnRpZXMgYXJlIGVtcHR5XG4gIC8vIHN0cmluZ3MgZm9yIFNWRyBlbGVtZW50cywgcmV0dXJuaW5nIE5hTi4gRmFsbGJhY2sgdG8gYDBgIGluIHRoaXMgY2FzZS5cbiAgbGV0IHdpZHRoID0gcGFyc2VGbG9hdChjc3Mud2lkdGgpIHx8IDA7XG4gIGxldCBoZWlnaHQgPSBwYXJzZUZsb2F0KGNzcy5oZWlnaHQpIHx8IDA7XG4gIGNvbnN0IGhhc09mZnNldCA9IGlzSFRNTEVsZW1lbnQoZWxlbWVudCk7XG4gIGNvbnN0IG9mZnNldFdpZHRoID0gaGFzT2Zmc2V0ID8gZWxlbWVudC5vZmZzZXRXaWR0aCA6IHdpZHRoO1xuICBjb25zdCBvZmZzZXRIZWlnaHQgPSBoYXNPZmZzZXQgPyBlbGVtZW50Lm9mZnNldEhlaWdodCA6IGhlaWdodDtcbiAgY29uc3Qgc2hvdWxkRmFsbGJhY2sgPSByb3VuZCh3aWR0aCkgIT09IG9mZnNldFdpZHRoIHx8IHJvdW5kKGhlaWdodCkgIT09IG9mZnNldEhlaWdodDtcbiAgaWYgKHNob3VsZEZhbGxiYWNrKSB7XG4gICAgd2lkdGggPSBvZmZzZXRXaWR0aDtcbiAgICBoZWlnaHQgPSBvZmZzZXRIZWlnaHQ7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgJDogc2hvdWxkRmFsbGJhY2tcbiAgfTtcbn1cblxuZnVuY3Rpb24gdW53cmFwRWxlbWVudChlbGVtZW50KSB7XG4gIHJldHVybiAhaXNFbGVtZW50KGVsZW1lbnQpID8gZWxlbWVudC5jb250ZXh0RWxlbWVudCA6IGVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGdldFNjYWxlKGVsZW1lbnQpIHtcbiAgY29uc3QgZG9tRWxlbWVudCA9IHVud3JhcEVsZW1lbnQoZWxlbWVudCk7XG4gIGlmICghaXNIVE1MRWxlbWVudChkb21FbGVtZW50KSkge1xuICAgIHJldHVybiBjcmVhdGVDb29yZHMoMSk7XG4gIH1cbiAgY29uc3QgcmVjdCA9IGRvbUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgJFxuICB9ID0gZ2V0Q3NzRGltZW5zaW9ucyhkb21FbGVtZW50KTtcbiAgbGV0IHggPSAoJCA/IHJvdW5kKHJlY3Qud2lkdGgpIDogcmVjdC53aWR0aCkgLyB3aWR0aDtcbiAgbGV0IHkgPSAoJCA/IHJvdW5kKHJlY3QuaGVpZ2h0KSA6IHJlY3QuaGVpZ2h0KSAvIGhlaWdodDtcblxuICAvLyAwLCBOYU4sIG9yIEluZmluaXR5IHNob3VsZCBhbHdheXMgZmFsbGJhY2sgdG8gMS5cblxuICBpZiAoIXggfHwgIU51bWJlci5pc0Zpbml0ZSh4KSkge1xuICAgIHggPSAxO1xuICB9XG4gIGlmICgheSB8fCAhTnVtYmVyLmlzRmluaXRlKHkpKSB7XG4gICAgeSA9IDE7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB4LFxuICAgIHlcbiAgfTtcbn1cblxuY29uc3Qgbm9PZmZzZXRzID0gLyojX19QVVJFX18qL2NyZWF0ZUNvb3JkcygwKTtcbmZ1bmN0aW9uIGdldFZpc3VhbE9mZnNldHMoZWxlbWVudCkge1xuICBjb25zdCB3aW4gPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gIGlmICghaXNXZWJLaXQoKSB8fCAhd2luLnZpc3VhbFZpZXdwb3J0KSB7XG4gICAgcmV0dXJuIG5vT2Zmc2V0cztcbiAgfVxuICByZXR1cm4ge1xuICAgIHg6IHdpbi52aXN1YWxWaWV3cG9ydC5vZmZzZXRMZWZ0LFxuICAgIHk6IHdpbi52aXN1YWxWaWV3cG9ydC5vZmZzZXRUb3BcbiAgfTtcbn1cbmZ1bmN0aW9uIHNob3VsZEFkZFZpc3VhbE9mZnNldHMoZWxlbWVudCwgaXNGaXhlZCwgZmxvYXRpbmdPZmZzZXRQYXJlbnQpIHtcbiAgaWYgKGlzRml4ZWQgPT09IHZvaWQgMCkge1xuICAgIGlzRml4ZWQgPSBmYWxzZTtcbiAgfVxuICBpZiAoIWZsb2F0aW5nT2Zmc2V0UGFyZW50IHx8IGlzRml4ZWQgJiYgZmxvYXRpbmdPZmZzZXRQYXJlbnQgIT09IGdldFdpbmRvdyhlbGVtZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gaXNGaXhlZDtcbn1cblxuZnVuY3Rpb24gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIGluY2x1ZGVTY2FsZSwgaXNGaXhlZFN0cmF0ZWd5LCBvZmZzZXRQYXJlbnQpIHtcbiAgaWYgKGluY2x1ZGVTY2FsZSA9PT0gdm9pZCAwKSB7XG4gICAgaW5jbHVkZVNjYWxlID0gZmFsc2U7XG4gIH1cbiAgaWYgKGlzRml4ZWRTdHJhdGVneSA9PT0gdm9pZCAwKSB7XG4gICAgaXNGaXhlZFN0cmF0ZWd5ID0gZmFsc2U7XG4gIH1cbiAgY29uc3QgY2xpZW50UmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IGRvbUVsZW1lbnQgPSB1bndyYXBFbGVtZW50KGVsZW1lbnQpO1xuICBsZXQgc2NhbGUgPSBjcmVhdGVDb29yZHMoMSk7XG4gIGlmIChpbmNsdWRlU2NhbGUpIHtcbiAgICBpZiAob2Zmc2V0UGFyZW50KSB7XG4gICAgICBpZiAoaXNFbGVtZW50KG9mZnNldFBhcmVudCkpIHtcbiAgICAgICAgc2NhbGUgPSBnZXRTY2FsZShvZmZzZXRQYXJlbnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzY2FsZSA9IGdldFNjYWxlKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxuICBjb25zdCB2aXN1YWxPZmZzZXRzID0gc2hvdWxkQWRkVmlzdWFsT2Zmc2V0cyhkb21FbGVtZW50LCBpc0ZpeGVkU3RyYXRlZ3ksIG9mZnNldFBhcmVudCkgPyBnZXRWaXN1YWxPZmZzZXRzKGRvbUVsZW1lbnQpIDogY3JlYXRlQ29vcmRzKDApO1xuICBsZXQgeCA9IChjbGllbnRSZWN0LmxlZnQgKyB2aXN1YWxPZmZzZXRzLngpIC8gc2NhbGUueDtcbiAgbGV0IHkgPSAoY2xpZW50UmVjdC50b3AgKyB2aXN1YWxPZmZzZXRzLnkpIC8gc2NhbGUueTtcbiAgbGV0IHdpZHRoID0gY2xpZW50UmVjdC53aWR0aCAvIHNjYWxlLng7XG4gIGxldCBoZWlnaHQgPSBjbGllbnRSZWN0LmhlaWdodCAvIHNjYWxlLnk7XG4gIGlmIChkb21FbGVtZW50KSB7XG4gICAgY29uc3Qgd2luID0gZ2V0V2luZG93KGRvbUVsZW1lbnQpO1xuICAgIGNvbnN0IG9mZnNldFdpbiA9IG9mZnNldFBhcmVudCAmJiBpc0VsZW1lbnQob2Zmc2V0UGFyZW50KSA/IGdldFdpbmRvdyhvZmZzZXRQYXJlbnQpIDogb2Zmc2V0UGFyZW50O1xuICAgIGxldCBjdXJyZW50V2luID0gd2luO1xuICAgIGxldCBjdXJyZW50SUZyYW1lID0gY3VycmVudFdpbi5mcmFtZUVsZW1lbnQ7XG4gICAgd2hpbGUgKGN1cnJlbnRJRnJhbWUgJiYgb2Zmc2V0UGFyZW50ICYmIG9mZnNldFdpbiAhPT0gY3VycmVudFdpbikge1xuICAgICAgY29uc3QgaWZyYW1lU2NhbGUgPSBnZXRTY2FsZShjdXJyZW50SUZyYW1lKTtcbiAgICAgIGNvbnN0IGlmcmFtZVJlY3QgPSBjdXJyZW50SUZyYW1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgY3NzID0gZ2V0Q29tcHV0ZWRTdHlsZShjdXJyZW50SUZyYW1lKTtcbiAgICAgIGNvbnN0IGxlZnQgPSBpZnJhbWVSZWN0LmxlZnQgKyAoY3VycmVudElGcmFtZS5jbGllbnRMZWZ0ICsgcGFyc2VGbG9hdChjc3MucGFkZGluZ0xlZnQpKSAqIGlmcmFtZVNjYWxlLng7XG4gICAgICBjb25zdCB0b3AgPSBpZnJhbWVSZWN0LnRvcCArIChjdXJyZW50SUZyYW1lLmNsaWVudFRvcCArIHBhcnNlRmxvYXQoY3NzLnBhZGRpbmdUb3ApKSAqIGlmcmFtZVNjYWxlLnk7XG4gICAgICB4ICo9IGlmcmFtZVNjYWxlLng7XG4gICAgICB5ICo9IGlmcmFtZVNjYWxlLnk7XG4gICAgICB3aWR0aCAqPSBpZnJhbWVTY2FsZS54O1xuICAgICAgaGVpZ2h0ICo9IGlmcmFtZVNjYWxlLnk7XG4gICAgICB4ICs9IGxlZnQ7XG4gICAgICB5ICs9IHRvcDtcbiAgICAgIGN1cnJlbnRXaW4gPSBnZXRXaW5kb3coY3VycmVudElGcmFtZSk7XG4gICAgICBjdXJyZW50SUZyYW1lID0gY3VycmVudFdpbi5mcmFtZUVsZW1lbnQ7XG4gICAgfVxuICB9XG4gIHJldHVybiByZWN0VG9DbGllbnRSZWN0KHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeCxcbiAgICB5XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0T2Zmc2V0UGFyZW50UmVsYXRpdmVSZWN0VG9WaWV3cG9ydFJlbGF0aXZlUmVjdChfcmVmKSB7XG4gIGxldCB7XG4gICAgZWxlbWVudHMsXG4gICAgcmVjdCxcbiAgICBvZmZzZXRQYXJlbnQsXG4gICAgc3RyYXRlZ3lcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IGlzRml4ZWQgPSBzdHJhdGVneSA9PT0gJ2ZpeGVkJztcbiAgY29uc3QgZG9jdW1lbnRFbGVtZW50ID0gZ2V0RG9jdW1lbnRFbGVtZW50KG9mZnNldFBhcmVudCk7XG4gIGNvbnN0IHRvcExheWVyID0gZWxlbWVudHMgPyBpc1RvcExheWVyKGVsZW1lbnRzLmZsb2F0aW5nKSA6IGZhbHNlO1xuICBpZiAob2Zmc2V0UGFyZW50ID09PSBkb2N1bWVudEVsZW1lbnQgfHwgdG9wTGF5ZXIgJiYgaXNGaXhlZCkge1xuICAgIHJldHVybiByZWN0O1xuICB9XG4gIGxldCBzY3JvbGwgPSB7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBzY3JvbGxUb3A6IDBcbiAgfTtcbiAgbGV0IHNjYWxlID0gY3JlYXRlQ29vcmRzKDEpO1xuICBjb25zdCBvZmZzZXRzID0gY3JlYXRlQ29vcmRzKDApO1xuICBjb25zdCBpc09mZnNldFBhcmVudEFuRWxlbWVudCA9IGlzSFRNTEVsZW1lbnQob2Zmc2V0UGFyZW50KTtcbiAgaWYgKGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50IHx8ICFpc09mZnNldFBhcmVudEFuRWxlbWVudCAmJiAhaXNGaXhlZCkge1xuICAgIGlmIChnZXROb2RlTmFtZShvZmZzZXRQYXJlbnQpICE9PSAnYm9keScgfHwgaXNPdmVyZmxvd0VsZW1lbnQoZG9jdW1lbnRFbGVtZW50KSkge1xuICAgICAgc2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChvZmZzZXRQYXJlbnQpO1xuICAgIH1cbiAgICBpZiAoaXNIVE1MRWxlbWVudChvZmZzZXRQYXJlbnQpKSB7XG4gICAgICBjb25zdCBvZmZzZXRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KG9mZnNldFBhcmVudCk7XG4gICAgICBzY2FsZSA9IGdldFNjYWxlKG9mZnNldFBhcmVudCk7XG4gICAgICBvZmZzZXRzLnggPSBvZmZzZXRSZWN0LnggKyBvZmZzZXRQYXJlbnQuY2xpZW50TGVmdDtcbiAgICAgIG9mZnNldHMueSA9IG9mZnNldFJlY3QueSArIG9mZnNldFBhcmVudC5jbGllbnRUb3A7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IHJlY3Qud2lkdGggKiBzY2FsZS54LFxuICAgIGhlaWdodDogcmVjdC5oZWlnaHQgKiBzY2FsZS55LFxuICAgIHg6IHJlY3QueCAqIHNjYWxlLnggLSBzY3JvbGwuc2Nyb2xsTGVmdCAqIHNjYWxlLnggKyBvZmZzZXRzLngsXG4gICAgeTogcmVjdC55ICogc2NhbGUueSAtIHNjcm9sbC5zY3JvbGxUb3AgKiBzY2FsZS55ICsgb2Zmc2V0cy55XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldENsaWVudFJlY3RzKGVsZW1lbnQpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oZWxlbWVudC5nZXRDbGllbnRSZWN0cygpKTtcbn1cblxuZnVuY3Rpb24gZ2V0V2luZG93U2Nyb2xsQmFyWChlbGVtZW50KSB7XG4gIC8vIElmIDxodG1sPiBoYXMgYSBDU1Mgd2lkdGggZ3JlYXRlciB0aGFuIHRoZSB2aWV3cG9ydCwgdGhlbiB0aGlzIHdpbGwgYmVcbiAgLy8gaW5jb3JyZWN0IGZvciBSVEwuXG4gIHJldHVybiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpKS5sZWZ0ICsgZ2V0Tm9kZVNjcm9sbChlbGVtZW50KS5zY3JvbGxMZWZ0O1xufVxuXG4vLyBHZXRzIHRoZSBlbnRpcmUgc2l6ZSBvZiB0aGUgc2Nyb2xsYWJsZSBkb2N1bWVudCBhcmVhLCBldmVuIGV4dGVuZGluZyBvdXRzaWRlXG4vLyBvZiB0aGUgYDxodG1sPmAgYW5kIGA8Ym9keT5gIHJlY3QgYm91bmRzIGlmIGhvcml6b250YWxseSBzY3JvbGxhYmxlLlxuZnVuY3Rpb24gZ2V0RG9jdW1lbnRSZWN0KGVsZW1lbnQpIHtcbiAgY29uc3QgaHRtbCA9IGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KTtcbiAgY29uc3Qgc2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChlbGVtZW50KTtcbiAgY29uc3QgYm9keSA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5O1xuICBjb25zdCB3aWR0aCA9IG1heChodG1sLnNjcm9sbFdpZHRoLCBodG1sLmNsaWVudFdpZHRoLCBib2R5LnNjcm9sbFdpZHRoLCBib2R5LmNsaWVudFdpZHRoKTtcbiAgY29uc3QgaGVpZ2h0ID0gbWF4KGh0bWwuc2Nyb2xsSGVpZ2h0LCBodG1sLmNsaWVudEhlaWdodCwgYm9keS5zY3JvbGxIZWlnaHQsIGJvZHkuY2xpZW50SGVpZ2h0KTtcbiAgbGV0IHggPSAtc2Nyb2xsLnNjcm9sbExlZnQgKyBnZXRXaW5kb3dTY3JvbGxCYXJYKGVsZW1lbnQpO1xuICBjb25zdCB5ID0gLXNjcm9sbC5zY3JvbGxUb3A7XG4gIGlmIChnZXRDb21wdXRlZFN0eWxlKGJvZHkpLmRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICB4ICs9IG1heChodG1sLmNsaWVudFdpZHRoLCBib2R5LmNsaWVudFdpZHRoKSAtIHdpZHRoO1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHgsXG4gICAgeVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRWaWV3cG9ydFJlY3QoZWxlbWVudCwgc3RyYXRlZ3kpIHtcbiAgY29uc3Qgd2luID0gZ2V0V2luZG93KGVsZW1lbnQpO1xuICBjb25zdCBodG1sID0gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpO1xuICBjb25zdCB2aXN1YWxWaWV3cG9ydCA9IHdpbi52aXN1YWxWaWV3cG9ydDtcbiAgbGV0IHdpZHRoID0gaHRtbC5jbGllbnRXaWR0aDtcbiAgbGV0IGhlaWdodCA9IGh0bWwuY2xpZW50SGVpZ2h0O1xuICBsZXQgeCA9IDA7XG4gIGxldCB5ID0gMDtcbiAgaWYgKHZpc3VhbFZpZXdwb3J0KSB7XG4gICAgd2lkdGggPSB2aXN1YWxWaWV3cG9ydC53aWR0aDtcbiAgICBoZWlnaHQgPSB2aXN1YWxWaWV3cG9ydC5oZWlnaHQ7XG4gICAgY29uc3QgdmlzdWFsVmlld3BvcnRCYXNlZCA9IGlzV2ViS2l0KCk7XG4gICAgaWYgKCF2aXN1YWxWaWV3cG9ydEJhc2VkIHx8IHZpc3VhbFZpZXdwb3J0QmFzZWQgJiYgc3RyYXRlZ3kgPT09ICdmaXhlZCcpIHtcbiAgICAgIHggPSB2aXN1YWxWaWV3cG9ydC5vZmZzZXRMZWZ0O1xuICAgICAgeSA9IHZpc3VhbFZpZXdwb3J0Lm9mZnNldFRvcDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeCxcbiAgICB5XG4gIH07XG59XG5cbi8vIFJldHVybnMgdGhlIGlubmVyIGNsaWVudCByZWN0LCBzdWJ0cmFjdGluZyBzY3JvbGxiYXJzIGlmIHByZXNlbnQuXG5mdW5jdGlvbiBnZXRJbm5lckJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50LCBzdHJhdGVneSkge1xuICBjb25zdCBjbGllbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIHRydWUsIHN0cmF0ZWd5ID09PSAnZml4ZWQnKTtcbiAgY29uc3QgdG9wID0gY2xpZW50UmVjdC50b3AgKyBlbGVtZW50LmNsaWVudFRvcDtcbiAgY29uc3QgbGVmdCA9IGNsaWVudFJlY3QubGVmdCArIGVsZW1lbnQuY2xpZW50TGVmdDtcbiAgY29uc3Qgc2NhbGUgPSBpc0hUTUxFbGVtZW50KGVsZW1lbnQpID8gZ2V0U2NhbGUoZWxlbWVudCkgOiBjcmVhdGVDb29yZHMoMSk7XG4gIGNvbnN0IHdpZHRoID0gZWxlbWVudC5jbGllbnRXaWR0aCAqIHNjYWxlLng7XG4gIGNvbnN0IGhlaWdodCA9IGVsZW1lbnQuY2xpZW50SGVpZ2h0ICogc2NhbGUueTtcbiAgY29uc3QgeCA9IGxlZnQgKiBzY2FsZS54O1xuICBjb25zdCB5ID0gdG9wICogc2NhbGUueTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeCxcbiAgICB5XG4gIH07XG59XG5mdW5jdGlvbiBnZXRDbGllbnRSZWN0RnJvbUNsaXBwaW5nQW5jZXN0b3IoZWxlbWVudCwgY2xpcHBpbmdBbmNlc3Rvciwgc3RyYXRlZ3kpIHtcbiAgbGV0IHJlY3Q7XG4gIGlmIChjbGlwcGluZ0FuY2VzdG9yID09PSAndmlld3BvcnQnKSB7XG4gICAgcmVjdCA9IGdldFZpZXdwb3J0UmVjdChlbGVtZW50LCBzdHJhdGVneSk7XG4gIH0gZWxzZSBpZiAoY2xpcHBpbmdBbmNlc3RvciA9PT0gJ2RvY3VtZW50Jykge1xuICAgIHJlY3QgPSBnZXREb2N1bWVudFJlY3QoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpKTtcbiAgfSBlbHNlIGlmIChpc0VsZW1lbnQoY2xpcHBpbmdBbmNlc3RvcikpIHtcbiAgICByZWN0ID0gZ2V0SW5uZXJCb3VuZGluZ0NsaWVudFJlY3QoY2xpcHBpbmdBbmNlc3Rvciwgc3RyYXRlZ3kpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHZpc3VhbE9mZnNldHMgPSBnZXRWaXN1YWxPZmZzZXRzKGVsZW1lbnQpO1xuICAgIHJlY3QgPSB7XG4gICAgICAuLi5jbGlwcGluZ0FuY2VzdG9yLFxuICAgICAgeDogY2xpcHBpbmdBbmNlc3Rvci54IC0gdmlzdWFsT2Zmc2V0cy54LFxuICAgICAgeTogY2xpcHBpbmdBbmNlc3Rvci55IC0gdmlzdWFsT2Zmc2V0cy55XG4gICAgfTtcbiAgfVxuICByZXR1cm4gcmVjdFRvQ2xpZW50UmVjdChyZWN0KTtcbn1cbmZ1bmN0aW9uIGhhc0ZpeGVkUG9zaXRpb25BbmNlc3RvcihlbGVtZW50LCBzdG9wTm9kZSkge1xuICBjb25zdCBwYXJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShlbGVtZW50KTtcbiAgaWYgKHBhcmVudE5vZGUgPT09IHN0b3BOb2RlIHx8ICFpc0VsZW1lbnQocGFyZW50Tm9kZSkgfHwgaXNMYXN0VHJhdmVyc2FibGVOb2RlKHBhcmVudE5vZGUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKHBhcmVudE5vZGUpLnBvc2l0aW9uID09PSAnZml4ZWQnIHx8IGhhc0ZpeGVkUG9zaXRpb25BbmNlc3RvcihwYXJlbnROb2RlLCBzdG9wTm9kZSk7XG59XG5cbi8vIEEgXCJjbGlwcGluZyBhbmNlc3RvclwiIGlzIGFuIGBvdmVyZmxvd2AgZWxlbWVudCB3aXRoIHRoZSBjaGFyYWN0ZXJpc3RpYyBvZlxuLy8gY2xpcHBpbmcgKG9yIGhpZGluZykgY2hpbGQgZWxlbWVudHMuIFRoaXMgcmV0dXJucyBhbGwgY2xpcHBpbmcgYW5jZXN0b3JzXG4vLyBvZiB0aGUgZ2l2ZW4gZWxlbWVudCB1cCB0aGUgdHJlZS5cbmZ1bmN0aW9uIGdldENsaXBwaW5nRWxlbWVudEFuY2VzdG9ycyhlbGVtZW50LCBjYWNoZSkge1xuICBjb25zdCBjYWNoZWRSZXN1bHQgPSBjYWNoZS5nZXQoZWxlbWVudCk7XG4gIGlmIChjYWNoZWRSZXN1bHQpIHtcbiAgICByZXR1cm4gY2FjaGVkUmVzdWx0O1xuICB9XG4gIGxldCByZXN1bHQgPSBnZXRPdmVyZmxvd0FuY2VzdG9ycyhlbGVtZW50LCBbXSwgZmFsc2UpLmZpbHRlcihlbCA9PiBpc0VsZW1lbnQoZWwpICYmIGdldE5vZGVOYW1lKGVsKSAhPT0gJ2JvZHknKTtcbiAgbGV0IGN1cnJlbnRDb250YWluaW5nQmxvY2tDb21wdXRlZFN0eWxlID0gbnVsbDtcbiAgY29uc3QgZWxlbWVudElzRml4ZWQgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uID09PSAnZml4ZWQnO1xuICBsZXQgY3VycmVudE5vZGUgPSBlbGVtZW50SXNGaXhlZCA/IGdldFBhcmVudE5vZGUoZWxlbWVudCkgOiBlbGVtZW50O1xuXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9Db250YWluaW5nX2Jsb2NrI2lkZW50aWZ5aW5nX3RoZV9jb250YWluaW5nX2Jsb2NrXG4gIHdoaWxlIChpc0VsZW1lbnQoY3VycmVudE5vZGUpICYmICFpc0xhc3RUcmF2ZXJzYWJsZU5vZGUoY3VycmVudE5vZGUpKSB7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoY3VycmVudE5vZGUpO1xuICAgIGNvbnN0IGN1cnJlbnROb2RlSXNDb250YWluaW5nID0gaXNDb250YWluaW5nQmxvY2soY3VycmVudE5vZGUpO1xuICAgIGlmICghY3VycmVudE5vZGVJc0NvbnRhaW5pbmcgJiYgY29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgICAgY3VycmVudENvbnRhaW5pbmdCbG9ja0NvbXB1dGVkU3R5bGUgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCBzaG91bGREcm9wQ3VycmVudE5vZGUgPSBlbGVtZW50SXNGaXhlZCA/ICFjdXJyZW50Tm9kZUlzQ29udGFpbmluZyAmJiAhY3VycmVudENvbnRhaW5pbmdCbG9ja0NvbXB1dGVkU3R5bGUgOiAhY3VycmVudE5vZGVJc0NvbnRhaW5pbmcgJiYgY29tcHV0ZWRTdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycgJiYgISFjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSAmJiBbJ2Fic29sdXRlJywgJ2ZpeGVkJ10uaW5jbHVkZXMoY3VycmVudENvbnRhaW5pbmdCbG9ja0NvbXB1dGVkU3R5bGUucG9zaXRpb24pIHx8IGlzT3ZlcmZsb3dFbGVtZW50KGN1cnJlbnROb2RlKSAmJiAhY3VycmVudE5vZGVJc0NvbnRhaW5pbmcgJiYgaGFzRml4ZWRQb3NpdGlvbkFuY2VzdG9yKGVsZW1lbnQsIGN1cnJlbnROb2RlKTtcbiAgICBpZiAoc2hvdWxkRHJvcEN1cnJlbnROb2RlKSB7XG4gICAgICAvLyBEcm9wIG5vbi1jb250YWluaW5nIGJsb2Nrcy5cbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5maWx0ZXIoYW5jZXN0b3IgPT4gYW5jZXN0b3IgIT09IGN1cnJlbnROb2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmVjb3JkIGxhc3QgY29udGFpbmluZyBibG9jayBmb3IgbmV4dCBpdGVyYXRpb24uXG4gICAgICBjdXJyZW50Q29udGFpbmluZ0Jsb2NrQ29tcHV0ZWRTdHlsZSA9IGNvbXB1dGVkU3R5bGU7XG4gICAgfVxuICAgIGN1cnJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShjdXJyZW50Tm9kZSk7XG4gIH1cbiAgY2FjaGUuc2V0KGVsZW1lbnQsIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIEdldHMgdGhlIG1heGltdW0gYXJlYSB0aGF0IHRoZSBlbGVtZW50IGlzIHZpc2libGUgaW4gZHVlIHRvIGFueSBudW1iZXIgb2Zcbi8vIGNsaXBwaW5nIGFuY2VzdG9ycy5cbmZ1bmN0aW9uIGdldENsaXBwaW5nUmVjdChfcmVmKSB7XG4gIGxldCB7XG4gICAgZWxlbWVudCxcbiAgICBib3VuZGFyeSxcbiAgICByb290Qm91bmRhcnksXG4gICAgc3RyYXRlZ3lcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IGVsZW1lbnRDbGlwcGluZ0FuY2VzdG9ycyA9IGJvdW5kYXJ5ID09PSAnY2xpcHBpbmdBbmNlc3RvcnMnID8gaXNUb3BMYXllcihlbGVtZW50KSA/IFtdIDogZ2V0Q2xpcHBpbmdFbGVtZW50QW5jZXN0b3JzKGVsZW1lbnQsIHRoaXMuX2MpIDogW10uY29uY2F0KGJvdW5kYXJ5KTtcbiAgY29uc3QgY2xpcHBpbmdBbmNlc3RvcnMgPSBbLi4uZWxlbWVudENsaXBwaW5nQW5jZXN0b3JzLCByb290Qm91bmRhcnldO1xuICBjb25zdCBmaXJzdENsaXBwaW5nQW5jZXN0b3IgPSBjbGlwcGluZ0FuY2VzdG9yc1swXTtcbiAgY29uc3QgY2xpcHBpbmdSZWN0ID0gY2xpcHBpbmdBbmNlc3RvcnMucmVkdWNlKChhY2NSZWN0LCBjbGlwcGluZ0FuY2VzdG9yKSA9PiB7XG4gICAgY29uc3QgcmVjdCA9IGdldENsaWVudFJlY3RGcm9tQ2xpcHBpbmdBbmNlc3RvcihlbGVtZW50LCBjbGlwcGluZ0FuY2VzdG9yLCBzdHJhdGVneSk7XG4gICAgYWNjUmVjdC50b3AgPSBtYXgocmVjdC50b3AsIGFjY1JlY3QudG9wKTtcbiAgICBhY2NSZWN0LnJpZ2h0ID0gbWluKHJlY3QucmlnaHQsIGFjY1JlY3QucmlnaHQpO1xuICAgIGFjY1JlY3QuYm90dG9tID0gbWluKHJlY3QuYm90dG9tLCBhY2NSZWN0LmJvdHRvbSk7XG4gICAgYWNjUmVjdC5sZWZ0ID0gbWF4KHJlY3QubGVmdCwgYWNjUmVjdC5sZWZ0KTtcbiAgICByZXR1cm4gYWNjUmVjdDtcbiAgfSwgZ2V0Q2xpZW50UmVjdEZyb21DbGlwcGluZ0FuY2VzdG9yKGVsZW1lbnQsIGZpcnN0Q2xpcHBpbmdBbmNlc3Rvciwgc3RyYXRlZ3kpKTtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogY2xpcHBpbmdSZWN0LnJpZ2h0IC0gY2xpcHBpbmdSZWN0LmxlZnQsXG4gICAgaGVpZ2h0OiBjbGlwcGluZ1JlY3QuYm90dG9tIC0gY2xpcHBpbmdSZWN0LnRvcCxcbiAgICB4OiBjbGlwcGluZ1JlY3QubGVmdCxcbiAgICB5OiBjbGlwcGluZ1JlY3QudG9wXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldERpbWVuc2lvbnMoZWxlbWVudCkge1xuICBjb25zdCB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0XG4gIH0gPSBnZXRDc3NEaW1lbnNpb25zKGVsZW1lbnQpO1xuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodFxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRSZWN0UmVsYXRpdmVUb09mZnNldFBhcmVudChlbGVtZW50LCBvZmZzZXRQYXJlbnQsIHN0cmF0ZWd5KSB7XG4gIGNvbnN0IGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50ID0gaXNIVE1MRWxlbWVudChvZmZzZXRQYXJlbnQpO1xuICBjb25zdCBkb2N1bWVudEVsZW1lbnQgPSBnZXREb2N1bWVudEVsZW1lbnQob2Zmc2V0UGFyZW50KTtcbiAgY29uc3QgaXNGaXhlZCA9IHN0cmF0ZWd5ID09PSAnZml4ZWQnO1xuICBjb25zdCByZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQsIHRydWUsIGlzRml4ZWQsIG9mZnNldFBhcmVudCk7XG4gIGxldCBzY3JvbGwgPSB7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBzY3JvbGxUb3A6IDBcbiAgfTtcbiAgY29uc3Qgb2Zmc2V0cyA9IGNyZWF0ZUNvb3JkcygwKTtcbiAgaWYgKGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50IHx8ICFpc09mZnNldFBhcmVudEFuRWxlbWVudCAmJiAhaXNGaXhlZCkge1xuICAgIGlmIChnZXROb2RlTmFtZShvZmZzZXRQYXJlbnQpICE9PSAnYm9keScgfHwgaXNPdmVyZmxvd0VsZW1lbnQoZG9jdW1lbnRFbGVtZW50KSkge1xuICAgICAgc2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChvZmZzZXRQYXJlbnQpO1xuICAgIH1cbiAgICBpZiAoaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IG9mZnNldFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50LCB0cnVlLCBpc0ZpeGVkLCBvZmZzZXRQYXJlbnQpO1xuICAgICAgb2Zmc2V0cy54ID0gb2Zmc2V0UmVjdC54ICsgb2Zmc2V0UGFyZW50LmNsaWVudExlZnQ7XG4gICAgICBvZmZzZXRzLnkgPSBvZmZzZXRSZWN0LnkgKyBvZmZzZXRQYXJlbnQuY2xpZW50VG9wO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICBvZmZzZXRzLnggPSBnZXRXaW5kb3dTY3JvbGxCYXJYKGRvY3VtZW50RWxlbWVudCk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHggPSByZWN0LmxlZnQgKyBzY3JvbGwuc2Nyb2xsTGVmdCAtIG9mZnNldHMueDtcbiAgY29uc3QgeSA9IHJlY3QudG9wICsgc2Nyb2xsLnNjcm9sbFRvcCAtIG9mZnNldHMueTtcbiAgcmV0dXJuIHtcbiAgICB4LFxuICAgIHksXG4gICAgd2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodFxuICB9O1xufVxuXG5mdW5jdGlvbiBpc1N0YXRpY1Bvc2l0aW9uZWQoZWxlbWVudCkge1xuICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbiA9PT0gJ3N0YXRpYyc7XG59XG5cbmZ1bmN0aW9uIGdldFRydWVPZmZzZXRQYXJlbnQoZWxlbWVudCwgcG9seWZpbGwpIHtcbiAgaWYgKCFpc0hUTUxFbGVtZW50KGVsZW1lbnQpIHx8IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkucG9zaXRpb24gPT09ICdmaXhlZCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAocG9seWZpbGwpIHtcbiAgICByZXR1cm4gcG9seWZpbGwoZWxlbWVudCk7XG4gIH1cbiAgcmV0dXJuIGVsZW1lbnQub2Zmc2V0UGFyZW50O1xufVxuXG4vLyBHZXRzIHRoZSBjbG9zZXN0IGFuY2VzdG9yIHBvc2l0aW9uZWQgZWxlbWVudC4gSGFuZGxlcyBzb21lIGVkZ2UgY2FzZXMsXG4vLyBzdWNoIGFzIHRhYmxlIGFuY2VzdG9ycyBhbmQgY3Jvc3MgYnJvd3NlciBidWdzLlxuZnVuY3Rpb24gZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQsIHBvbHlmaWxsKSB7XG4gIGNvbnN0IHdpbiA9IGdldFdpbmRvdyhlbGVtZW50KTtcbiAgaWYgKGlzVG9wTGF5ZXIoZWxlbWVudCkpIHtcbiAgICByZXR1cm4gd2luO1xuICB9XG4gIGlmICghaXNIVE1MRWxlbWVudChlbGVtZW50KSkge1xuICAgIGxldCBzdmdPZmZzZXRQYXJlbnQgPSBnZXRQYXJlbnROb2RlKGVsZW1lbnQpO1xuICAgIHdoaWxlIChzdmdPZmZzZXRQYXJlbnQgJiYgIWlzTGFzdFRyYXZlcnNhYmxlTm9kZShzdmdPZmZzZXRQYXJlbnQpKSB7XG4gICAgICBpZiAoaXNFbGVtZW50KHN2Z09mZnNldFBhcmVudCkgJiYgIWlzU3RhdGljUG9zaXRpb25lZChzdmdPZmZzZXRQYXJlbnQpKSB7XG4gICAgICAgIHJldHVybiBzdmdPZmZzZXRQYXJlbnQ7XG4gICAgICB9XG4gICAgICBzdmdPZmZzZXRQYXJlbnQgPSBnZXRQYXJlbnROb2RlKHN2Z09mZnNldFBhcmVudCk7XG4gICAgfVxuICAgIHJldHVybiB3aW47XG4gIH1cbiAgbGV0IG9mZnNldFBhcmVudCA9IGdldFRydWVPZmZzZXRQYXJlbnQoZWxlbWVudCwgcG9seWZpbGwpO1xuICB3aGlsZSAob2Zmc2V0UGFyZW50ICYmIGlzVGFibGVFbGVtZW50KG9mZnNldFBhcmVudCkgJiYgaXNTdGF0aWNQb3NpdGlvbmVkKG9mZnNldFBhcmVudCkpIHtcbiAgICBvZmZzZXRQYXJlbnQgPSBnZXRUcnVlT2Zmc2V0UGFyZW50KG9mZnNldFBhcmVudCwgcG9seWZpbGwpO1xuICB9XG4gIGlmIChvZmZzZXRQYXJlbnQgJiYgaXNMYXN0VHJhdmVyc2FibGVOb2RlKG9mZnNldFBhcmVudCkgJiYgaXNTdGF0aWNQb3NpdGlvbmVkKG9mZnNldFBhcmVudCkgJiYgIWlzQ29udGFpbmluZ0Jsb2NrKG9mZnNldFBhcmVudCkpIHtcbiAgICByZXR1cm4gd2luO1xuICB9XG4gIHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZ2V0Q29udGFpbmluZ0Jsb2NrKGVsZW1lbnQpIHx8IHdpbjtcbn1cblxuY29uc3QgZ2V0RWxlbWVudFJlY3RzID0gYXN5bmMgZnVuY3Rpb24gKGRhdGEpIHtcbiAgY29uc3QgZ2V0T2Zmc2V0UGFyZW50Rm4gPSB0aGlzLmdldE9mZnNldFBhcmVudCB8fCBnZXRPZmZzZXRQYXJlbnQ7XG4gIGNvbnN0IGdldERpbWVuc2lvbnNGbiA9IHRoaXMuZ2V0RGltZW5zaW9ucztcbiAgY29uc3QgZmxvYXRpbmdEaW1lbnNpb25zID0gYXdhaXQgZ2V0RGltZW5zaW9uc0ZuKGRhdGEuZmxvYXRpbmcpO1xuICByZXR1cm4ge1xuICAgIHJlZmVyZW5jZTogZ2V0UmVjdFJlbGF0aXZlVG9PZmZzZXRQYXJlbnQoZGF0YS5yZWZlcmVuY2UsIGF3YWl0IGdldE9mZnNldFBhcmVudEZuKGRhdGEuZmxvYXRpbmcpLCBkYXRhLnN0cmF0ZWd5KSxcbiAgICBmbG9hdGluZzoge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICB3aWR0aDogZmxvYXRpbmdEaW1lbnNpb25zLndpZHRoLFxuICAgICAgaGVpZ2h0OiBmbG9hdGluZ0RpbWVuc2lvbnMuaGVpZ2h0XG4gICAgfVxuICB9O1xufTtcblxuZnVuY3Rpb24gaXNSVEwoZWxlbWVudCkge1xuICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5kaXJlY3Rpb24gPT09ICdydGwnO1xufVxuXG5jb25zdCBwbGF0Zm9ybSA9IHtcbiAgY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3QsXG4gIGdldERvY3VtZW50RWxlbWVudCxcbiAgZ2V0Q2xpcHBpbmdSZWN0LFxuICBnZXRPZmZzZXRQYXJlbnQsXG4gIGdldEVsZW1lbnRSZWN0cyxcbiAgZ2V0Q2xpZW50UmVjdHMsXG4gIGdldERpbWVuc2lvbnMsXG4gIGdldFNjYWxlLFxuICBpc0VsZW1lbnQsXG4gIGlzUlRMXG59O1xuXG4vLyBodHRwczovL3NhbXRob3IuYXUvMjAyMS9vYnNlcnZpbmctZG9tL1xuZnVuY3Rpb24gb2JzZXJ2ZU1vdmUoZWxlbWVudCwgb25Nb3ZlKSB7XG4gIGxldCBpbyA9IG51bGw7XG4gIGxldCB0aW1lb3V0SWQ7XG4gIGNvbnN0IHJvb3QgPSBnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCk7XG4gIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgdmFyIF9pbztcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAoX2lvID0gaW8pID09IG51bGwgfHwgX2lvLmRpc2Nvbm5lY3QoKTtcbiAgICBpbyA9IG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gcmVmcmVzaChza2lwLCB0aHJlc2hvbGQpIHtcbiAgICBpZiAoc2tpcCA9PT0gdm9pZCAwKSB7XG4gICAgICBza2lwID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0aHJlc2hvbGQgPT09IHZvaWQgMCkge1xuICAgICAgdGhyZXNob2xkID0gMTtcbiAgICB9XG4gICAgY2xlYW51cCgpO1xuICAgIGNvbnN0IHtcbiAgICAgIGxlZnQsXG4gICAgICB0b3AsXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodFxuICAgIH0gPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmICghc2tpcCkge1xuICAgICAgb25Nb3ZlKCk7XG4gICAgfVxuICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbnNldFRvcCA9IGZsb29yKHRvcCk7XG4gICAgY29uc3QgaW5zZXRSaWdodCA9IGZsb29yKHJvb3QuY2xpZW50V2lkdGggLSAobGVmdCArIHdpZHRoKSk7XG4gICAgY29uc3QgaW5zZXRCb3R0b20gPSBmbG9vcihyb290LmNsaWVudEhlaWdodCAtICh0b3AgKyBoZWlnaHQpKTtcbiAgICBjb25zdCBpbnNldExlZnQgPSBmbG9vcihsZWZ0KTtcbiAgICBjb25zdCByb290TWFyZ2luID0gLWluc2V0VG9wICsgXCJweCBcIiArIC1pbnNldFJpZ2h0ICsgXCJweCBcIiArIC1pbnNldEJvdHRvbSArIFwicHggXCIgKyAtaW5zZXRMZWZ0ICsgXCJweFwiO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICByb290TWFyZ2luLFxuICAgICAgdGhyZXNob2xkOiBtYXgoMCwgbWluKDEsIHRocmVzaG9sZCkpIHx8IDFcbiAgICB9O1xuICAgIGxldCBpc0ZpcnN0VXBkYXRlID0gdHJ1ZTtcbiAgICBmdW5jdGlvbiBoYW5kbGVPYnNlcnZlKGVudHJpZXMpIHtcbiAgICAgIGNvbnN0IHJhdGlvID0gZW50cmllc1swXS5pbnRlcnNlY3Rpb25SYXRpbztcbiAgICAgIGlmIChyYXRpbyAhPT0gdGhyZXNob2xkKSB7XG4gICAgICAgIGlmICghaXNGaXJzdFVwZGF0ZSkge1xuICAgICAgICAgIHJldHVybiByZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyYXRpbykge1xuICAgICAgICAgIC8vIElmIHRoZSByZWZlcmVuY2UgaXMgY2xpcHBlZCwgdGhlIHJhdGlvIGlzIDAuIFRocm90dGxlIHRoZSByZWZyZXNoXG4gICAgICAgICAgLy8gdG8gcHJldmVudCBhbiBpbmZpbml0ZSBsb29wIG9mIHVwZGF0ZXMuXG4gICAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICByZWZyZXNoKGZhbHNlLCAxZS03KTtcbiAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWZyZXNoKGZhbHNlLCByYXRpbyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlzRmlyc3RVcGRhdGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBPbGRlciBicm93c2VycyBkb24ndCBzdXBwb3J0IGEgYGRvY3VtZW50YCBhcyB0aGUgcm9vdCBhbmQgd2lsbCB0aHJvdyBhblxuICAgIC8vIGVycm9yLlxuICAgIHRyeSB7XG4gICAgICBpbyA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVPYnNlcnZlLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC8vIEhhbmRsZSA8aWZyYW1lPnNcbiAgICAgICAgcm9vdDogcm9vdC5vd25lckRvY3VtZW50XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpbyA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVPYnNlcnZlLCBvcHRpb25zKTtcbiAgICB9XG4gICAgaW8ub2JzZXJ2ZShlbGVtZW50KTtcbiAgfVxuICByZWZyZXNoKHRydWUpO1xuICByZXR1cm4gY2xlYW51cDtcbn1cblxuLyoqXG4gKiBBdXRvbWF0aWNhbGx5IHVwZGF0ZXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IHdoZW4gbmVjZXNzYXJ5LlxuICogU2hvdWxkIG9ubHkgYmUgY2FsbGVkIHdoZW4gdGhlIGZsb2F0aW5nIGVsZW1lbnQgaXMgbW91bnRlZCBvbiB0aGUgRE9NIG9yXG4gKiB2aXNpYmxlIG9uIHRoZSBzY3JlZW4uXG4gKiBAcmV0dXJucyBjbGVhbnVwIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGludm9rZWQgd2hlbiB0aGUgZmxvYXRpbmcgZWxlbWVudCBpc1xuICogcmVtb3ZlZCBmcm9tIHRoZSBET00gb3IgaGlkZGVuIGZyb20gdGhlIHNjcmVlbi5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9hdXRvVXBkYXRlXG4gKi9cbmZ1bmN0aW9uIGF1dG9VcGRhdGUocmVmZXJlbmNlLCBmbG9hdGluZywgdXBkYXRlLCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgY29uc3Qge1xuICAgIGFuY2VzdG9yU2Nyb2xsID0gdHJ1ZSxcbiAgICBhbmNlc3RvclJlc2l6ZSA9IHRydWUsXG4gICAgZWxlbWVudFJlc2l6ZSA9IHR5cGVvZiBSZXNpemVPYnNlcnZlciA9PT0gJ2Z1bmN0aW9uJyxcbiAgICBsYXlvdXRTaGlmdCA9IHR5cGVvZiBJbnRlcnNlY3Rpb25PYnNlcnZlciA9PT0gJ2Z1bmN0aW9uJyxcbiAgICBhbmltYXRpb25GcmFtZSA9IGZhbHNlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCByZWZlcmVuY2VFbCA9IHVud3JhcEVsZW1lbnQocmVmZXJlbmNlKTtcbiAgY29uc3QgYW5jZXN0b3JzID0gYW5jZXN0b3JTY3JvbGwgfHwgYW5jZXN0b3JSZXNpemUgPyBbLi4uKHJlZmVyZW5jZUVsID8gZ2V0T3ZlcmZsb3dBbmNlc3RvcnMocmVmZXJlbmNlRWwpIDogW10pLCAuLi5nZXRPdmVyZmxvd0FuY2VzdG9ycyhmbG9hdGluZyldIDogW107XG4gIGFuY2VzdG9ycy5mb3JFYWNoKGFuY2VzdG9yID0+IHtcbiAgICBhbmNlc3RvclNjcm9sbCAmJiBhbmNlc3Rvci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB1cGRhdGUsIHtcbiAgICAgIHBhc3NpdmU6IHRydWVcbiAgICB9KTtcbiAgICBhbmNlc3RvclJlc2l6ZSAmJiBhbmNlc3Rvci5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGUpO1xuICB9KTtcbiAgY29uc3QgY2xlYW51cElvID0gcmVmZXJlbmNlRWwgJiYgbGF5b3V0U2hpZnQgPyBvYnNlcnZlTW92ZShyZWZlcmVuY2VFbCwgdXBkYXRlKSA6IG51bGw7XG4gIGxldCByZW9ic2VydmVGcmFtZSA9IC0xO1xuICBsZXQgcmVzaXplT2JzZXJ2ZXIgPSBudWxsO1xuICBpZiAoZWxlbWVudFJlc2l6ZSkge1xuICAgIHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKF9yZWYgPT4ge1xuICAgICAgbGV0IFtmaXJzdEVudHJ5XSA9IF9yZWY7XG4gICAgICBpZiAoZmlyc3RFbnRyeSAmJiBmaXJzdEVudHJ5LnRhcmdldCA9PT0gcmVmZXJlbmNlRWwgJiYgcmVzaXplT2JzZXJ2ZXIpIHtcbiAgICAgICAgLy8gUHJldmVudCB1cGRhdGUgbG9vcHMgd2hlbiB1c2luZyB0aGUgYHNpemVgIG1pZGRsZXdhcmUuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mbG9hdGluZy11aS9mbG9hdGluZy11aS9pc3N1ZXMvMTc0MFxuICAgICAgICByZXNpemVPYnNlcnZlci51bm9ic2VydmUoZmxvYXRpbmcpO1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyZW9ic2VydmVGcmFtZSk7XG4gICAgICAgIHJlb2JzZXJ2ZUZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICB2YXIgX3Jlc2l6ZU9ic2VydmVyO1xuICAgICAgICAgIChfcmVzaXplT2JzZXJ2ZXIgPSByZXNpemVPYnNlcnZlcikgPT0gbnVsbCB8fCBfcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShmbG9hdGluZyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdXBkYXRlKCk7XG4gICAgfSk7XG4gICAgaWYgKHJlZmVyZW5jZUVsICYmICFhbmltYXRpb25GcmFtZSkge1xuICAgICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShyZWZlcmVuY2VFbCk7XG4gICAgfVxuICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZmxvYXRpbmcpO1xuICB9XG4gIGxldCBmcmFtZUlkO1xuICBsZXQgcHJldlJlZlJlY3QgPSBhbmltYXRpb25GcmFtZSA/IGdldEJvdW5kaW5nQ2xpZW50UmVjdChyZWZlcmVuY2UpIDogbnVsbDtcbiAgaWYgKGFuaW1hdGlvbkZyYW1lKSB7XG4gICAgZnJhbWVMb29wKCk7XG4gIH1cbiAgZnVuY3Rpb24gZnJhbWVMb29wKCkge1xuICAgIGNvbnN0IG5leHRSZWZSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHJlZmVyZW5jZSk7XG4gICAgaWYgKHByZXZSZWZSZWN0ICYmIChuZXh0UmVmUmVjdC54ICE9PSBwcmV2UmVmUmVjdC54IHx8IG5leHRSZWZSZWN0LnkgIT09IHByZXZSZWZSZWN0LnkgfHwgbmV4dFJlZlJlY3Qud2lkdGggIT09IHByZXZSZWZSZWN0LndpZHRoIHx8IG5leHRSZWZSZWN0LmhlaWdodCAhPT0gcHJldlJlZlJlY3QuaGVpZ2h0KSkge1xuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICAgIHByZXZSZWZSZWN0ID0gbmV4dFJlZlJlY3Q7XG4gICAgZnJhbWVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZUxvb3ApO1xuICB9XG4gIHVwZGF0ZSgpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHZhciBfcmVzaXplT2JzZXJ2ZXIyO1xuICAgIGFuY2VzdG9ycy5mb3JFYWNoKGFuY2VzdG9yID0+IHtcbiAgICAgIGFuY2VzdG9yU2Nyb2xsICYmIGFuY2VzdG9yLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHVwZGF0ZSk7XG4gICAgICBhbmNlc3RvclJlc2l6ZSAmJiBhbmNlc3Rvci5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGUpO1xuICAgIH0pO1xuICAgIGNsZWFudXBJbyA9PSBudWxsIHx8IGNsZWFudXBJbygpO1xuICAgIChfcmVzaXplT2JzZXJ2ZXIyID0gcmVzaXplT2JzZXJ2ZXIpID09IG51bGwgfHwgX3Jlc2l6ZU9ic2VydmVyMi5kaXNjb25uZWN0KCk7XG4gICAgcmVzaXplT2JzZXJ2ZXIgPSBudWxsO1xuICAgIGlmIChhbmltYXRpb25GcmFtZSkge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWVJZCk7XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIFJlc29sdmVzIHdpdGggYW4gb2JqZWN0IG9mIG92ZXJmbG93IHNpZGUgb2Zmc2V0cyB0aGF0IGRldGVybWluZSBob3cgbXVjaCB0aGVcbiAqIGVsZW1lbnQgaXMgb3ZlcmZsb3dpbmcgYSBnaXZlbiBjbGlwcGluZyBib3VuZGFyeSBvbiBlYWNoIHNpZGUuXG4gKiAtIHBvc2l0aXZlID0gb3ZlcmZsb3dpbmcgdGhlIGJvdW5kYXJ5IGJ5IHRoYXQgbnVtYmVyIG9mIHBpeGVsc1xuICogLSBuZWdhdGl2ZSA9IGhvdyBtYW55IHBpeGVscyBsZWZ0IGJlZm9yZSBpdCB3aWxsIG92ZXJmbG93XG4gKiAtIDAgPSBsaWVzIGZsdXNoIHdpdGggdGhlIGJvdW5kYXJ5XG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvZGV0ZWN0T3ZlcmZsb3dcbiAqL1xuY29uc3QgZGV0ZWN0T3ZlcmZsb3cgPSBkZXRlY3RPdmVyZmxvdyQxO1xuXG4vKipcbiAqIE1vZGlmaWVzIHRoZSBwbGFjZW1lbnQgYnkgdHJhbnNsYXRpbmcgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYWxvbmcgdGhlXG4gKiBzcGVjaWZpZWQgYXhlcy5cbiAqIEEgbnVtYmVyIChzaG9ydGhhbmQgZm9yIGBtYWluQXhpc2Agb3IgZGlzdGFuY2UpLCBvciBhbiBheGVzIGNvbmZpZ3VyYXRpb25cbiAqIG9iamVjdCBtYXkgYmUgcGFzc2VkLlxuICogQHNlZSBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL29mZnNldFxuICovXG5jb25zdCBvZmZzZXQgPSBvZmZzZXQkMTtcblxuLyoqXG4gKiBPcHRpbWl6ZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGZsb2F0aW5nIGVsZW1lbnQgYnkgY2hvb3NpbmcgdGhlIHBsYWNlbWVudFxuICogdGhhdCBoYXMgdGhlIG1vc3Qgc3BhY2UgYXZhaWxhYmxlIGF1dG9tYXRpY2FsbHksIHdpdGhvdXQgbmVlZGluZyB0byBzcGVjaWZ5IGFcbiAqIHByZWZlcnJlZCBwbGFjZW1lbnQuIEFsdGVybmF0aXZlIHRvIGBmbGlwYC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9hdXRvUGxhY2VtZW50XG4gKi9cbmNvbnN0IGF1dG9QbGFjZW1lbnQgPSBhdXRvUGxhY2VtZW50JDE7XG5cbi8qKlxuICogT3B0aW1pemVzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IGJ5IHNoaWZ0aW5nIGl0IGluIG9yZGVyIHRvXG4gKiBrZWVwIGl0IGluIHZpZXcgd2hlbiBpdCB3aWxsIG92ZXJmbG93IHRoZSBjbGlwcGluZyBib3VuZGFyeS5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9zaGlmdFxuICovXG5jb25zdCBzaGlmdCA9IHNoaWZ0JDE7XG5cbi8qKlxuICogT3B0aW1pemVzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBmbG9hdGluZyBlbGVtZW50IGJ5IGZsaXBwaW5nIHRoZSBgcGxhY2VtZW50YFxuICogaW4gb3JkZXIgdG8ga2VlcCBpdCBpbiB2aWV3IHdoZW4gdGhlIHByZWZlcnJlZCBwbGFjZW1lbnQocykgd2lsbCBvdmVyZmxvdyB0aGVcbiAqIGNsaXBwaW5nIGJvdW5kYXJ5LiBBbHRlcm5hdGl2ZSB0byBgYXV0b1BsYWNlbWVudGAuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvZmxpcFxuICovXG5jb25zdCBmbGlwID0gZmxpcCQxO1xuXG4vKipcbiAqIFByb3ZpZGVzIGRhdGEgdGhhdCBhbGxvd3MgeW91IHRvIGNoYW5nZSB0aGUgc2l6ZSBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBcdTIwMTRcbiAqIGZvciBpbnN0YW5jZSwgcHJldmVudCBpdCBmcm9tIG92ZXJmbG93aW5nIHRoZSBjbGlwcGluZyBib3VuZGFyeSBvciBtYXRjaCB0aGVcbiAqIHdpZHRoIG9mIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9zaXplXG4gKi9cbmNvbnN0IHNpemUgPSBzaXplJDE7XG5cbi8qKlxuICogUHJvdmlkZXMgZGF0YSB0byBoaWRlIHRoZSBmbG9hdGluZyBlbGVtZW50IGluIGFwcGxpY2FibGUgc2l0dWF0aW9ucywgc3VjaCBhc1xuICogd2hlbiBpdCBpcyBub3QgaW4gdGhlIHNhbWUgY2xpcHBpbmcgY29udGV4dCBhcyB0aGUgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvaGlkZVxuICovXG5jb25zdCBoaWRlID0gaGlkZSQxO1xuXG4vKipcbiAqIFByb3ZpZGVzIGRhdGEgdG8gcG9zaXRpb24gYW4gaW5uZXIgZWxlbWVudCBvZiB0aGUgZmxvYXRpbmcgZWxlbWVudCBzbyB0aGF0IGl0XG4gKiBhcHBlYXJzIGNlbnRlcmVkIHRvIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9mbG9hdGluZy11aS5jb20vZG9jcy9hcnJvd1xuICovXG5jb25zdCBhcnJvdyA9IGFycm93JDE7XG5cbi8qKlxuICogUHJvdmlkZXMgaW1wcm92ZWQgcG9zaXRpb25pbmcgZm9yIGlubGluZSByZWZlcmVuY2UgZWxlbWVudHMgdGhhdCBjYW4gc3BhblxuICogb3ZlciBtdWx0aXBsZSBsaW5lcywgc3VjaCBhcyBoeXBlcmxpbmtzIG9yIHJhbmdlIHNlbGVjdGlvbnMuXG4gKiBAc2VlIGh0dHBzOi8vZmxvYXRpbmctdWkuY29tL2RvY3MvaW5saW5lXG4gKi9cbmNvbnN0IGlubGluZSA9IGlubGluZSQxO1xuXG4vKipcbiAqIEJ1aWx0LWluIGBsaW1pdGVyYCB0aGF0IHdpbGwgc3RvcCBgc2hpZnQoKWAgYXQgYSBjZXJ0YWluIHBvaW50LlxuICovXG5jb25zdCBsaW1pdFNoaWZ0ID0gbGltaXRTaGlmdCQxO1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBgeGAgYW5kIGB5YCBjb29yZGluYXRlcyB0aGF0IHdpbGwgcGxhY2UgdGhlIGZsb2F0aW5nIGVsZW1lbnRcbiAqIG5leHQgdG8gYSBnaXZlbiByZWZlcmVuY2UgZWxlbWVudC5cbiAqL1xuY29uc3QgY29tcHV0ZVBvc2l0aW9uID0gKHJlZmVyZW5jZSwgZmxvYXRpbmcsIG9wdGlvbnMpID0+IHtcbiAgLy8gVGhpcyBjYWNoZXMgdGhlIGV4cGVuc2l2ZSBgZ2V0Q2xpcHBpbmdFbGVtZW50QW5jZXN0b3JzYCBmdW5jdGlvbiBzbyB0aGF0XG4gIC8vIG11bHRpcGxlIGxpZmVjeWNsZSByZXNldHMgcmUtdXNlIHRoZSBzYW1lIHJlc3VsdC4gSXQgb25seSBsaXZlcyBmb3IgYVxuICAvLyBzaW5nbGUgY2FsbC4gSWYgb3RoZXIgZnVuY3Rpb25zIGJlY29tZSBleHBlbnNpdmUsIHdlIGNhbiBhZGQgdGhlbSBhcyB3ZWxsLlxuICBjb25zdCBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgY29uc3QgbWVyZ2VkT3B0aW9ucyA9IHtcbiAgICBwbGF0Zm9ybSxcbiAgICAuLi5vcHRpb25zXG4gIH07XG4gIGNvbnN0IHBsYXRmb3JtV2l0aENhY2hlID0ge1xuICAgIC4uLm1lcmdlZE9wdGlvbnMucGxhdGZvcm0sXG4gICAgX2M6IGNhY2hlXG4gIH07XG4gIHJldHVybiBjb21wdXRlUG9zaXRpb24kMShyZWZlcmVuY2UsIGZsb2F0aW5nLCB7XG4gICAgLi4ubWVyZ2VkT3B0aW9ucyxcbiAgICBwbGF0Zm9ybTogcGxhdGZvcm1XaXRoQ2FjaGVcbiAgfSk7XG59O1xuXG5leHBvcnQgeyBhcnJvdywgYXV0b1BsYWNlbWVudCwgYXV0b1VwZGF0ZSwgY29tcHV0ZVBvc2l0aW9uLCBkZXRlY3RPdmVyZmxvdywgZmxpcCwgaGlkZSwgaW5saW5lLCBsaW1pdFNoaWZ0LCBvZmZzZXQsIHBsYXRmb3JtLCBzaGlmdCwgc2l6ZSB9O1xuIiwgIi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpX2FsZXJ0X2RpYWxvZ19jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5pbXBvcnQgeyB1c2VDbGlja091dHNpZGUgfSBmcm9tICdzdGltdWx1cy11c2UnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIHN0YXRpYyB0YXJnZXRzID0gW1wib3ZlcmxheVwiLCBcImNvbnRlbnRcIl1cbiAgc3RhdGljIHZhbHVlcyA9IHtcbiAgICBjbG9zZU9uQ2xpY2tPdXRzaWRlOiBCb29sZWFuXG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIGlmICh0aGlzLmNsb3NlT25DbGlja091dHNpZGVWYWx1ZSkge1xuICAgICAgdXNlQ2xpY2tPdXRzaWRlKHRoaXMsIHsgZWxlbWVudDogdGhpcy5jb250ZW50VGFyZ2V0IH0pXG4gICAgfVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLm92ZXJsYXlUYXJnZXQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxuICAgIHRoaXMuY29udGVudFRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLm92ZXJsYXlUYXJnZXQuZGF0YXNldC51aURpYWxvZ1N0YXRlID0gXCJvcGVuXCJcbiAgICAgIHRoaXMuY29udGVudFRhcmdldC5kYXRhc2V0LnVpRGlhbG9nU3RhdGUgPSBcIm9wZW5cIlxuICAgIH0sIDEwKSAvLyBTbWFsbCBkZWxheSB0byBlbnN1cmUgdGhlIGRpc3BsYXkgY2hhbmdlIGhhcyB0YWtlbiBlZmZlY3RcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMub3ZlcmxheVRhcmdldC5kYXRhc2V0LnVpRGlhbG9nU3RhdGUgPSBcImNsb3NlZFwiXG4gICAgdGhpcy5jb250ZW50VGFyZ2V0LmRhdGFzZXQudWlEaWFsb2dTdGF0ZSA9IFwiY2xvc2VkXCJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMub3ZlcmxheVRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcbiAgICAgIHRoaXMuY29udGVudFRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcbiAgICB9LCAzMCkgLy8gQWRqdXN0IHRoaXMgdGltZW91dCB0byBtYXRjaCB5b3VyIGFuaW1hdGlvbiBkdXJhdGlvblxuICB9XG5cbiAgY2FuY2VsKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIHRoaXMuY2xvc2UoKVxuICB9XG5cbiAgY2xpY2tPdXRzaWRlKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuY2xvc2VPbkNsaWNrT3V0c2lkZVZhbHVlKSB7XG4gICAgICB0aGlzLmNsb3NlKClcbiAgICB9XG4gIH1cbn0iLCAiaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuaW1wb3J0IHsgY29tcHV0ZVBvc2l0aW9uLCBmbGlwLCBzaGlmdCwgb2Zmc2V0IH0gZnJvbSAnQGZsb2F0aW5nLXVpL2RvbSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJ0cmlnZ2VyXCIsIFwibWVudVwiXVxuICBzdGF0aWMgY2xhc3NlcyA9IFtcImFjdGl2ZVwiXVxuXG4gIGNvbm5lY3QoKSB7XG4gICAgdGhpcy5jbG9zZU1lbnUgPSB0aGlzLmNsb3NlTWVudS5iaW5kKHRoaXMpXG4gIH1cblxuICB0b2dnbGUoKSB7XG4gICAgaWYgKHRoaXMubWVudVRhcmdldC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5hY3RpdmVDbGFzcykpIHtcbiAgICAgIHRoaXMuY2xvc2VNZW51KClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vcGVuTWVudSgpXG4gICAgfVxuICB9XG5cbiAgb3Blbk1lbnUoKSB7XG4gICAgdGhpcy5tZW51VGFyZ2V0LmNsYXNzTGlzdC5hZGQodGhpcy5hY3RpdmVDbGFzcylcbiAgICB0aGlzLm1lbnVUYXJnZXQucmVtb3ZlQXR0cmlidXRlKFwiaGlkZGVuXCIpXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2VNZW51KVxuXG4gICAgdGhpcy51cGRhdGVQb3NpdGlvbigpXG4gIH1cblxuICBjbG9zZU1lbnUoZXZlbnQpIHtcbiAgICBpZiAoIWV2ZW50IHx8ICF0aGlzLmVsZW1lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgdGhpcy5tZW51VGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5hY3RpdmVDbGFzcylcbiAgICAgIHRoaXMubWVudVRhcmdldC5zZXRBdHRyaWJ1dGUoXCJoaWRkZW5cIiwgXCJcIilcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlTWVudSlcbiAgICB9XG4gIH1cblxuICB1cGRhdGVQb3NpdGlvbigpIHtcbiAgICBjb21wdXRlUG9zaXRpb24odGhpcy50cmlnZ2VyVGFyZ2V0LCB0aGlzLm1lbnVUYXJnZXQsIHtcbiAgICAgIHBsYWNlbWVudDogJ2JvdHRvbS1zdGFydCcsXG4gICAgICBtaWRkbGV3YXJlOiBbXG4gICAgICAgIG9mZnNldCg2KSxcbiAgICAgICAgZmxpcCgpLFxuICAgICAgICBzaGlmdCh7cGFkZGluZzogNX0pXG4gICAgICBdXG4gICAgfSkudGhlbigoe3gsIHl9KSA9PiB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMubWVudVRhcmdldC5zdHlsZSwge1xuICAgICAgICBsZWZ0OiBgJHt4fXB4YCxcbiAgICAgICAgdG9wOiBgJHt5fXB4YCxcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufSIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICIvLyBhcHAvamF2YXNjcmlwdC9jb250cm9sbGVycy91aV9pbnB1dF9vdHBfY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcImlucHV0XCIsIFwiZGlnaXRcIl1cbiAgc3RhdGljIHZhbHVlcyA9IHtcbiAgICBncm91cHM6IEFycmF5XG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIHRoaXMuaW5wdXRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLmhhbmRsZUlucHV0LmJpbmQodGhpcykpXG4gICAgdGhpcy5pbnB1dFRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlkb3duLmJpbmQodGhpcykpXG4gICAgdGhpcy5pbnB1dFRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuaGFuZGxlRm9jdXMuYmluZCh0aGlzKSlcbiAgICB0aGlzLmlucHV0VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLmhhbmRsZUJsdXIuYmluZCh0aGlzKSlcbiAgfVxuXG4gIGhhbmRsZUlucHV0KGV2ZW50KSB7XG4gICAgY29uc3QgaW5wdXQgPSBldmVudC50YXJnZXRcbiAgICBjb25zdCB2YWx1ZSA9IGlucHV0LnZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJykuc2xpY2UoMCwgdGhpcy50b3RhbERpZ2l0cylcbiAgICBpbnB1dC52YWx1ZSA9IHZhbHVlXG4gICAgdGhpcy51cGRhdGVEaWdpdHModmFsdWUpXG4gICAgdGhpcy5mb2N1c0RpZ2l0KHZhbHVlLmxlbmd0aClcbiAgfVxuXG4gIGhhbmRsZUtleWRvd24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnQmFja3NwYWNlJyAmJiBldmVudC50YXJnZXQudmFsdWUgPT09ICcnKSB7XG4gICAgICB0aGlzLmZvY3VzUHJldmlvdXNJbnB1dCgpXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlRm9jdXMoKSB7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZvY3VzZWQnKVxuICAgIHRoaXMuZm9jdXNEaWdpdCh0aGlzLmlucHV0VGFyZ2V0LnZhbHVlLmxlbmd0aClcbiAgfVxuXG4gIGhhbmRsZUJsdXIoKSB7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2ZvY3VzZWQnKVxuICAgIHRoaXMuZGlnaXRUYXJnZXRzLmZvckVhY2goZGlnaXQgPT4ge1xuICAgICAgZGlnaXQuY2xhc3NMaXN0LnJlbW92ZSgncmluZy0yJywgJ3JpbmctcmluZycsICdyaW5nLW9mZnNldC1iYWNrZ3JvdW5kJylcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlRGlnaXRzKHZhbHVlKSB7XG4gICAgdGhpcy5kaWdpdFRhcmdldHMuZm9yRWFjaCgoZGlnaXQsIGluZGV4KSA9PiB7XG4gICAgICBkaWdpdC50ZXh0Q29udGVudCA9IHZhbHVlW2luZGV4XSB8fCAnJ1xuICAgICAgZGlnaXQuY2xhc3NMaXN0LnRvZ2dsZSgnZmlsbGVkJywgISF2YWx1ZVtpbmRleF0pXG4gICAgfSlcbiAgfVxuXG4gIGZvY3VzRGlnaXQoaW5kZXgpIHtcbiAgICB0aGlzLmRpZ2l0VGFyZ2V0cy5mb3JFYWNoKChkaWdpdCwgaSkgPT4ge1xuICAgICAgaWYgKGkgPT09IGluZGV4KSB7XG4gICAgICAgIGRpZ2l0LmNsYXNzTGlzdC5hZGQoJ3JpbmctMicsICdyaW5nLXJpbmcnLCAncmluZy1vZmZzZXQtYmFja2dyb3VuZCcpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaWdpdC5jbGFzc0xpc3QucmVtb3ZlKCdyaW5nLTInLCAncmluZy1yaW5nJywgJ3Jpbmctb2Zmc2V0LWJhY2tncm91bmQnKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmb2N1c1ByZXZpb3VzSW5wdXQoKSB7XG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5pbnB1dFRhcmdldC52YWx1ZVxuICAgIGlmIChjdXJyZW50VmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5pbnB1dFRhcmdldC52YWx1ZSA9IGN1cnJlbnRWYWx1ZS5zbGljZSgwLCAtMSlcbiAgICAgIHRoaXMudXBkYXRlRGlnaXRzKHRoaXMuaW5wdXRUYXJnZXQudmFsdWUpXG4gICAgICB0aGlzLmZvY3VzRGlnaXQodGhpcy5pbnB1dFRhcmdldC52YWx1ZS5sZW5ndGgpXG4gICAgfVxuICB9XG5cbiAgZ2V0IHRvdGFsRGlnaXRzKCkge1xuICAgIHJldHVybiB0aGlzLmdyb3Vwc1ZhbHVlLnJlZHVjZSgoc3VtLCBncm91cCkgPT4gc3VtICsgZ3JvdXAsIDApXG4gIH1cbn0iLCAiLy8gYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvdWlfbWVudWJhcl9jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5pbXBvcnQgeyBjb21wdXRlUG9zaXRpb24sIGZsaXAsIHNoaWZ0LCBvZmZzZXQsIGF1dG9VcGRhdGUgfSBmcm9tICdAZmxvYXRpbmctdWkvZG9tJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcIm1lbnVJdGVtXCIsIFwic3VibWVudVRlbXBsYXRlXCJdXG5cbiAgY29ubmVjdCgpIHtcbiAgICB0aGlzLmFjdGl2ZVN1Ym1lbnVzID0gbmV3IFNldCgpXG4gICAgdGhpcy5jbGVhbnVwID0gbnVsbFxuICAgIHRoaXMuc3VibWVudXMgPSBuZXcgTWFwKClcbiAgICB0aGlzLmhpZGVUaW1lb3V0ID0gbnVsbFxuICAgIFxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpKVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMuaGFuZGxlTW91c2VPdmVyLmJpbmQodGhpcykpXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLmhhbmRsZU1vdXNlT3V0LmJpbmQodGhpcykpXG4gIH1cblxuICBkaXNjb25uZWN0KCkge1xuICAgIHRoaXMuY2xlYW51cEFsbFN1Ym1lbnVzKClcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSlcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLmhhbmRsZU1vdXNlT3Zlci5iaW5kKHRoaXMpKVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5oYW5kbGVNb3VzZU91dC5iaW5kKHRoaXMpKVxuICB9XG5cbiAgaGFuZGxlQ2xpY2soZXZlbnQpIHtcbiAgICBjb25zdCBtZW51SXRlbSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS11aS1tZW51YmFyLWl0ZW1dLCBbZGF0YS11aS1tZW51YmFyLXN1Ym1lbnUtaXRlbV0nKVxuICAgIGlmIChtZW51SXRlbSkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgIGlmIChtZW51SXRlbS5jbG9zZXN0KCdbZGF0YS11aS1tZW51YmFyLXRvcC1sZXZlbF0nKSB8fCBtZW51SXRlbS5jbG9zZXN0KCdbZGF0YS11aS1tZW51YmFyLXN1Ym1lbnVdJykpIHtcbiAgICAgICAgdGhpcy50b2dnbGVNZW51KG1lbnVJdGVtKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWV2ZW50LnRhcmdldC5jbG9zZXN0KCdbZGF0YS11aS1tZW51YmFyLXN1Ym1lbnVdJykpIHtcbiAgICAgIHRoaXMuY2xvc2VBbGxTdWJtZW51cygpXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlTW91c2VPdmVyKGV2ZW50KSB7XG4gICAgY29uc3Qgc3VibWVudUl0ZW0gPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtdWktbWVudWJhci1zdWJtZW51LWl0ZW1dJylcbiAgICBpZiAoc3VibWVudUl0ZW0gJiYgc3VibWVudUl0ZW0uY2xvc2VzdCgnW2RhdGEtdWktbWVudWJhci10b3AtbGV2ZWxdJykpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhpZGVUaW1lb3V0KVxuICAgICAgdGhpcy5zaG93U3VibWVudShzdWJtZW51SXRlbSlcbiAgICB9XG4gIH1cblxuICBoYW5kbGVNb3VzZU91dChldmVudCkge1xuICAgIGNvbnN0IHN1Ym1lbnVJdGVtID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXVpLW1lbnViYXItc3VibWVudS1pdGVtXScpXG4gICAgaWYgKHN1Ym1lbnVJdGVtICYmIHN1Ym1lbnVJdGVtLmNsb3Nlc3QoJ1tkYXRhLXVpLW1lbnViYXItdG9wLWxldmVsXScpKSB7XG4gICAgICB0aGlzLmhpZGVTdWJtZW51V2l0aERlbGF5KHN1Ym1lbnVJdGVtKVxuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZU1lbnUobWVudUl0ZW0pIHtcbiAgICBjb25zdCBpbmRleCA9IG1lbnVJdGVtLmRhdGFzZXQudWlNZW51YmFySXRlbSB8fCBtZW51SXRlbS5kYXRhc2V0LnVpTWVudWJhclN1Ym1lbnVJdGVtXG4gICAgY29uc3QgaGFzU3VibWVudSA9IG1lbnVJdGVtLmRhdGFzZXQuaGFzU3VibWVudSA9PT0gJ3RydWUnXG5cbiAgICBpZiAoaGFzU3VibWVudSkge1xuICAgICAgaWYgKHRoaXMuYWN0aXZlU3VibWVudXMuaGFzKGluZGV4KSkge1xuICAgICAgICB0aGlzLmNsb3NlU3VibWVudSh0aGlzLnN1Ym1lbnVzLmdldChpbmRleCkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNob3dTdWJtZW51KG1lbnVJdGVtKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhgQ2xpY2tlZCBtZW51IGl0ZW06ICR7bWVudUl0ZW0udGV4dENvbnRlbnQudHJpbSgpfWApXG4gICAgICB0aGlzLmNsb3NlQWxsU3VibWVudXMoKVxuICAgIH1cbiAgfVxuXG4gIHNob3dTdWJtZW51KG1lbnVJdGVtKSB7XG4gICAgY29uc3QgaW5kZXggPSBtZW51SXRlbS5kYXRhc2V0LnVpTWVudWJhckl0ZW0gfHwgbWVudUl0ZW0uZGF0YXNldC51aU1lbnViYXJTdWJtZW51SXRlbVxuICAgIGNvbnN0IGhhc1N1Ym1lbnUgPSBtZW51SXRlbS5kYXRhc2V0Lmhhc1N1Ym1lbnUgPT09ICd0cnVlJ1xuXG4gICAgaWYgKGhhc1N1Ym1lbnUpIHtcbiAgICAgIC8vIENsb3NlIHNpYmxpbmcgc3VibWVudXNcbiAgICAgIHRoaXMuY2xvc2VTaWJsaW5nU3VibWVudXMobWVudUl0ZW0pXG5cbiAgICAgIGlmICghdGhpcy5zdWJtZW51cy5oYXMoaW5kZXgpKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlU3VibWVudShtZW51SXRlbSwgaW5kZXgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9wZW5TdWJtZW51KG1lbnVJdGVtLCB0aGlzLnN1Ym1lbnVzLmdldChpbmRleCkpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGlkZVN1Ym1lbnVXaXRoRGVsYXkobWVudUl0ZW0pIHtcbiAgICB0aGlzLmhpZGVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBzdWJtZW51SW5kZXggPSBtZW51SXRlbS5kYXRhc2V0LnVpTWVudWJhckl0ZW0gfHwgbWVudUl0ZW0uZGF0YXNldC51aU1lbnViYXJTdWJtZW51SXRlbVxuICAgICAgaWYgKHN1Ym1lbnVJbmRleCAmJiB0aGlzLnN1Ym1lbnVzLmhhcyhzdWJtZW51SW5kZXgpKSB7XG4gICAgICAgIGNvbnN0IHN1Ym1lbnUgPSB0aGlzLnN1Ym1lbnVzLmdldChzdWJtZW51SW5kZXgpXG4gICAgICAgIGlmICghc3VibWVudS5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgICAgIHRoaXMuY2xvc2VTdWJtZW51KHN1Ym1lbnUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAzMDApXG4gIH1cblxuICBjcmVhdGVTdWJtZW51KG1lbnVJdGVtLCBpbmRleCkge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5zdWJtZW51VGVtcGxhdGVUYXJnZXRcbiAgICBjb25zdCBzdWJtZW51Q29udGVudCA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtc3VibWVudS1mb3I9XCIke2luZGV4fVwiXWApXG4gICAgXG4gICAgaWYgKHN1Ym1lbnVDb250ZW50KSB7XG4gICAgICBjb25zdCBzdWJtZW51ID0gc3VibWVudUNvbnRlbnQuY2xvbmVOb2RlKHRydWUpXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN1Ym1lbnUpXG4gICAgICB0aGlzLnN1Ym1lbnVzLnNldChpbmRleCwgc3VibWVudSlcbiAgICAgIHRoaXMub3BlblN1Ym1lbnUobWVudUl0ZW0sIHN1Ym1lbnUpXG4gICAgfVxuICB9XG5cbiAgb3BlblN1Ym1lbnUobWVudUl0ZW0sIHN1Ym1lbnUpIHtcbiAgICBtZW51SXRlbS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIFwidHJ1ZVwiKVxuICAgIG1lbnVJdGVtLmRhdGFzZXQuc3RhdGUgPSBcIm9wZW5cIlxuICAgIHN1Ym1lbnUuZGF0YXNldC5zdGF0ZSA9IFwib3BlblwiXG4gICAgc3VibWVudS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgXG4gICAgY29uc3QgaW5kZXggPSBtZW51SXRlbS5kYXRhc2V0LnVpTWVudWJhckl0ZW0gfHwgbWVudUl0ZW0uZGF0YXNldC51aU1lbnViYXJTdWJtZW51SXRlbVxuICAgIHRoaXMuYWN0aXZlU3VibWVudXMuYWRkKGluZGV4KVxuXG4gICAgdGhpcy5jbGVhbnVwID0gYXV0b1VwZGF0ZShtZW51SXRlbSwgc3VibWVudSwgKCkgPT4ge1xuICAgICAgdGhpcy5wb3NpdGlvblN1Ym1lbnUobWVudUl0ZW0sIHN1Ym1lbnUpXG4gICAgfSlcbiAgfVxuXG4gIGNsb3NlU3VibWVudShzdWJtZW51KSB7XG4gICAgY29uc3QgaW5kZXggPSBzdWJtZW51LmRhdGFzZXQuc3VibWVudUZvclxuICAgIGNvbnN0IG1lbnVJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdWktbWVudWJhci1pdGVtPVwiJHtpbmRleH1cIl0sIFtkYXRhLXVpLW1lbnViYXItc3VibWVudS1pdGVtPVwiJHtpbmRleH1cIl1gKVxuICAgIFxuICAgIGlmIChtZW51SXRlbSkge1xuICAgICAgbWVudUl0ZW0uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpXG4gICAgICBtZW51SXRlbS5kYXRhc2V0LnN0YXRlID0gXCJjbG9zZWRcIlxuICAgIH1cbiAgICBzdWJtZW51LmRhdGFzZXQuc3RhdGUgPSBcImNsb3NlZFwiXG4gICAgc3VibWVudS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcbiAgICBcbiAgICB0aGlzLmFjdGl2ZVN1Ym1lbnVzLmRlbGV0ZShpbmRleClcbiAgICBcbiAgICBpZiAodGhpcy5jbGVhbnVwKSB7XG4gICAgICB0aGlzLmNsZWFudXAoKVxuICAgICAgdGhpcy5jbGVhbnVwID0gbnVsbFxuICAgIH1cblxuICAgIC8vIENsb3NlIGFsbCBjaGlsZCBzdWJtZW51c1xuICAgIHN1Ym1lbnUucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdWktbWVudWJhci1zdWJtZW51LWl0ZW1dJykuZm9yRWFjaChjaGlsZEl0ZW0gPT4ge1xuICAgICAgY29uc3QgY2hpbGRJbmRleCA9IGNoaWxkSXRlbS5kYXRhc2V0LnVpTWVudWJhclN1Ym1lbnVJdGVtXG4gICAgICBpZiAodGhpcy5zdWJtZW51cy5oYXMoY2hpbGRJbmRleCkpIHtcbiAgICAgICAgdGhpcy5jbG9zZVN1Ym1lbnUodGhpcy5zdWJtZW51cy5nZXQoY2hpbGRJbmRleCkpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNsb3NlU2libGluZ1N1Ym1lbnVzKG1lbnVJdGVtKSB7XG4gICAgY29uc3QgcGFyZW50U3VibWVudSA9IG1lbnVJdGVtLmNsb3Nlc3QoJ1tkYXRhLXVpLW1lbnViYXItc3VibWVudV0nKVxuICAgIGNvbnN0IHNpYmxpbmdJdGVtcyA9IHBhcmVudFN1Ym1lbnUgXG4gICAgICA/IHBhcmVudFN1Ym1lbnUucXVlcnlTZWxlY3RvckFsbCgnOnNjb3BlID4gW2RhdGEtdWktbWVudWJhci1zdWJtZW51LWl0ZW1dJylcbiAgICAgIDogdGhpcy5tZW51SXRlbVRhcmdldHNcblxuICAgIHNpYmxpbmdJdGVtcy5mb3JFYWNoKHNpYmxpbmcgPT4ge1xuICAgICAgaWYgKHNpYmxpbmcgIT09IG1lbnVJdGVtKSB7XG4gICAgICAgIGNvbnN0IHNpYmxpbmdJbmRleCA9IHNpYmxpbmcuZGF0YXNldC51aU1lbnViYXJJdGVtIHx8IHNpYmxpbmcuZGF0YXNldC51aU1lbnViYXJTdWJtZW51SXRlbVxuICAgICAgICBpZiAodGhpcy5hY3RpdmVTdWJtZW51cy5oYXMoc2libGluZ0luZGV4KSkge1xuICAgICAgICAgIHRoaXMuY2xvc2VTdWJtZW51KHRoaXMuc3VibWVudXMuZ2V0KHNpYmxpbmdJbmRleCkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY2xvc2VBbGxTdWJtZW51cygpIHtcbiAgICB0aGlzLmFjdGl2ZVN1Ym1lbnVzLmZvckVhY2goaW5kZXggPT4ge1xuICAgICAgaWYgKHRoaXMuc3VibWVudXMuaGFzKGluZGV4KSkge1xuICAgICAgICB0aGlzLmNsb3NlU3VibWVudSh0aGlzLnN1Ym1lbnVzLmdldChpbmRleCkpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGNsZWFudXBBbGxTdWJtZW51cygpIHtcbiAgICB0aGlzLnN1Ym1lbnVzLmZvckVhY2goc3VibWVudSA9PiB7XG4gICAgICBpZiAoc3VibWVudS5wYXJlbnROb2RlKSB7XG4gICAgICAgIHN1Ym1lbnUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdWJtZW51KVxuICAgICAgfVxuICAgIH0pXG4gICAgdGhpcy5zdWJtZW51cy5jbGVhcigpXG4gICAgdGhpcy5hY3RpdmVTdWJtZW51cy5jbGVhcigpXG4gICAgaWYgKHRoaXMuY2xlYW51cCkge1xuICAgICAgdGhpcy5jbGVhbnVwKClcbiAgICAgIHRoaXMuY2xlYW51cCA9IG51bGxcbiAgICB9XG4gIH1cblxuICBwb3NpdGlvblN1Ym1lbnUobWVudUl0ZW0sIHN1Ym1lbnUpIHtcbiAgICBjb25zdCBwYXJlbnRTdWJtZW51ID0gbWVudUl0ZW0uY2xvc2VzdCgnW2RhdGEtdWktbWVudWJhci1zdWJtZW51XScpXG4gICAgY29uc3QgcGxhY2VtZW50ID0gcGFyZW50U3VibWVudSA/ICdyaWdodC1zdGFydCcgOiAnYm90dG9tLXN0YXJ0J1xuXG4gICAgY29tcHV0ZVBvc2l0aW9uKG1lbnVJdGVtLCBzdWJtZW51LCB7XG4gICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgIG1pZGRsZXdhcmU6IFtcbiAgICAgICAgb2Zmc2V0KDQpLFxuICAgICAgICBmbGlwKCksXG4gICAgICAgIHNoaWZ0KHtwYWRkaW5nOiA1fSlcbiAgICAgIF1cbiAgICB9KS50aGVuKCh7eCwgeX0pID0+IHtcbiAgICAgIE9iamVjdC5hc3NpZ24oc3VibWVudS5zdHlsZSwge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgbGVmdDogYCR7eH1weGAsXG4gICAgICAgIHRvcDogYCR7eX1weGAsXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn0iLCAiLy8gYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvdWlfcG9wb3Zlcl9jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5pbXBvcnQgeyBjb21wdXRlUG9zaXRpb24sIGZsaXAsIHNoaWZ0LCBvZmZzZXQsIGFycm93IH0gZnJvbSAnQGZsb2F0aW5nLXVpL2RvbSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBDb250cm9sbGVyIHtcbiAgc3RhdGljIHRhcmdldHMgPSBbXCJ0cmlnZ2VyXCIsIFwiY29udGVudFRlbXBsYXRlXCIsIFwiYXJyb3dcIl1cbiAgc3RhdGljIHZhbHVlcyA9IHtcbiAgICBwbGFjZW1lbnQ6IFN0cmluZyxcbiAgICBvZmZzZXQ6IE51bWJlcixcbiAgICBhcnJvdzogQm9vbGVhbixcbiAgICB0cmlnZ2VyVHlwZTogU3RyaW5nXG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlXG4gICAgdGhpcy5jbGlja091dHNpZGVIYW5kbGVyID0gdGhpcy5jbGlja091dHNpZGUuYmluZCh0aGlzKVxuICAgIFxuICAgIGlmICh0aGlzLnRyaWdnZXJUeXBlVmFsdWUgPT09ICdob3ZlcicpIHtcbiAgICAgIHRoaXMudHJpZ2dlclRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5zaG93LmJpbmQodGhpcykpXG4gICAgICB0aGlzLnRyaWdnZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuaGlkZS5iaW5kKHRoaXMpKVxuICAgIH1cbiAgfVxuXG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrT3V0c2lkZUhhbmRsZXIpXG4gICAgaWYgKHRoaXMudHJpZ2dlclR5cGVWYWx1ZSA9PT0gJ2hvdmVyJykge1xuICAgICAgdGhpcy50cmlnZ2VyVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLnNob3cuYmluZCh0aGlzKSlcbiAgICAgIHRoaXMudHJpZ2dlclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5oaWRlLmJpbmQodGhpcykpXG4gICAgfVxuICAgIGlmICh0aGlzLnBvcG92ZXJDb250ZW50KSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMucG9wb3ZlckNvbnRlbnQpXG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICB0aGlzLnZpc2libGUgPyB0aGlzLmhpZGUoKSA6IHRoaXMuc2hvdygpXG4gIH1cblxuICBzaG93KCkge1xuICAgIGlmICghdGhpcy5wb3BvdmVyQ29udGVudCkge1xuICAgICAgdGhpcy5wb3BvdmVyQ29udGVudCA9IHRoaXMuY29udGVudFRlbXBsYXRlVGFyZ2V0LmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xvbmVOb2RlKHRydWUpXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucG9wb3ZlckNvbnRlbnQpXG4gICAgfVxuICAgIHRoaXMucG9wb3ZlckNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICB0aGlzLnBvcG92ZXJDb250ZW50LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJyAvLyBIaWRlIGNvbnRlbnQgd2hpbGUgcG9zaXRpb25pbmdcbiAgICBcbiAgICAvLyBVc2Ugc2V0VGltZW91dCB0byBlbnN1cmUgY29udGVudCBpcyByZW5kZXJlZCBiZWZvcmUgcG9zaXRpb25pbmdcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMucG9zaXRpb25Qb3BvdmVyKClcbiAgICAgIHRoaXMucG9wb3ZlckNvbnRlbnQuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJyAvLyBTaG93IGNvbnRlbnQgYWZ0ZXIgcG9zaXRpb25pbmdcbiAgICB9LCAwKVxuXG4gICAgdGhpcy52aXNpYmxlID0gdHJ1ZVxuICAgIGlmICh0aGlzLnRyaWdnZXJUeXBlVmFsdWUgPT09ICdjbGljaycpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja091dHNpZGVIYW5kbGVyKVxuICAgIH1cbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgaWYgKHRoaXMucG9wb3ZlckNvbnRlbnQpIHtcbiAgICAgIHRoaXMucG9wb3ZlckNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIH1cbiAgICB0aGlzLnZpc2libGUgPSBmYWxzZVxuICAgIGlmICh0aGlzLnRyaWdnZXJUeXBlVmFsdWUgPT09ICdjbGljaycpIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja091dHNpZGVIYW5kbGVyKVxuICAgIH1cbiAgfVxuXG4gIGNsaWNrT3V0c2lkZShldmVudCkge1xuICAgIGlmICghdGhpcy5lbGVtZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgJiYgIXRoaXMucG9wb3ZlckNvbnRlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgdGhpcy5oaWRlKClcbiAgICB9XG4gIH1cblxuICBwb3NpdGlvblBvcG92ZXIoKSB7XG4gICAgY29uc3QgbWlkZGxld2FyZSA9IFtcbiAgICAgIG9mZnNldCh0aGlzLm9mZnNldFZhbHVlKSxcbiAgICAgIGZsaXAoKSxcbiAgICAgIHNoaWZ0KHtwYWRkaW5nOiA1fSksXG4gICAgXVxuXG4gICAgaWYgKHRoaXMuYXJyb3dWYWx1ZSkge1xuICAgICAgY29uc3QgYXJyb3dFbGVtZW50ID0gdGhpcy5wb3BvdmVyQ29udGVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS11aS1wb3BvdmVyLXRhcmdldD1cImFycm93XCJdJylcbiAgICAgIGlmIChhcnJvd0VsZW1lbnQpIHtcbiAgICAgICAgbWlkZGxld2FyZS5wdXNoKGFycm93KHsgZWxlbWVudDogYXJyb3dFbGVtZW50IH0pKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbXB1dGVQb3NpdGlvbih0aGlzLnRyaWdnZXJUYXJnZXQsIHRoaXMucG9wb3ZlckNvbnRlbnQsIHtcbiAgICAgIHBsYWNlbWVudDogdGhpcy5wbGFjZW1lbnRWYWx1ZSxcbiAgICAgIG1pZGRsZXdhcmU6IG1pZGRsZXdhcmUsXG4gICAgfSkudGhlbigoe3gsIHksIHBsYWNlbWVudCwgbWlkZGxld2FyZURhdGF9KSA9PiB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMucG9wb3ZlckNvbnRlbnQuc3R5bGUsIHtcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgIGxlZnQ6IGAke3h9cHhgLFxuICAgICAgICB0b3A6IGAke3l9cHhgLFxuICAgICAgICB6SW5kZXg6IDEwMDAsXG4gICAgICB9KVxuXG4gICAgICBcbiAgICAgIGlmICh0aGlzLmFycm93VmFsdWUpIHtcbiAgICAgICAgY29uc3QgYXJyb3dFbGVtZW50ID0gdGhpcy5wb3BvdmVyQ29udGVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS11aS1wb3BvdmVyLXRhcmdldD1cImFycm93XCJdJylcbiAgICAgICAgaWYgKGFycm93RWxlbWVudCkge1xuICAgICAgICAgIGNvbnN0IHt4OiBhcnJvd1gsIHk6IGFycm93WX0gPSBtaWRkbGV3YXJlRGF0YS5hcnJvd1xuXG4gICAgICAgICAgY29uc3Qgc3RhdGljU2lkZSA9IHtcbiAgICAgICAgICAgIHRvcDogJ2JvdHRvbScsXG4gICAgICAgICAgICByaWdodDogJ2xlZnQnLFxuICAgICAgICAgICAgYm90dG9tOiAndG9wJyxcbiAgICAgICAgICAgIGxlZnQ6ICdyaWdodCcsXG4gICAgICAgICAgfVtwbGFjZW1lbnQuc3BsaXQoJy0nKVswXV1cblxuICAgICAgICAgIE9iamVjdC5hc3NpZ24oYXJyb3dFbGVtZW50LnN0eWxlLCB7XG4gICAgICAgICAgICBsZWZ0OiBhcnJvd1ggIT0gbnVsbCA/IGAke2Fycm93WH1weGAgOiAnJyxcbiAgICAgICAgICAgIHRvcDogYXJyb3dZICE9IG51bGwgPyBgJHthcnJvd1l9cHhgIDogJycsXG4gICAgICAgICAgICByaWdodDogJycsXG4gICAgICAgICAgICBib3R0b206ICcnLFxuICAgICAgICAgICAgW3N0YXRpY1NpZGVdOiAnLTRweCcsXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn0iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbi8vIGltcG9ydCB7IENvbnRyb2xsZXIgYXMgQmFzZUNvbnRyb2xsZXIgfSBmcm9tIFwic3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIEJhc2VDb250cm9sbGVyIHtcbi8vICAgY29ubmVjdCgpIHtcbi8vICAgfVxuLy9cbi8vICAgZGlzY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gfVxuIiwgIi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpX3Jlc2l6YWJsZV9jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5pbXBvcnQgaW50ZXJhY3QgZnJvbSBcImludGVyYWN0anNcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdmFsdWVzID0ge1xuICAgIGRpcmVjdGlvbjogU3RyaW5nLFxuICAgIHBhbmVsczogQXJyYXlcbiAgfVxuXG4gIGNvbm5lY3QoKSB7XG4gICAgdGhpcy5pbml0aWFsaXplUmVzaXphYmxlKClcbiAgfVxuXG4gIGluaXRpYWxpemVSZXNpemFibGUoKSB7XG4gICAgY29uc3QgaXNIb3Jpem9udGFsID0gdGhpcy5kaXJlY3Rpb25WYWx1ZSA9PT0gXCJob3Jpem9udGFsXCJcbiAgICBjb25zdCBoYW5kbGVzID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXBhbmVsLXJlc2l6ZS1oYW5kbGUtZW5hYmxlZD1cInRydWVcIl0nKVxuXG4gICAgaGFuZGxlcy5mb3JFYWNoKChoYW5kbGUsIGluZGV4KSA9PiB7XG4gICAgICBpbnRlcmFjdChoYW5kbGUpLmRyYWdnYWJsZSh7XG4gICAgICAgIGF4aXM6IGlzSG9yaXpvbnRhbCA/IFwieFwiIDogXCJ5XCIsXG4gICAgICAgIGxpc3RlbmVyczoge1xuICAgICAgICAgIG1vdmU6IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJldlBhbmVsID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXBhbmVsLWlkPVwiJHt0aGlzLmVsZW1lbnQuaWR9LXBhbmVsLSR7aW5kZXh9XCJdYClcbiAgICAgICAgICAgIGNvbnN0IG5leHRQYW5lbCA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wYW5lbC1pZD1cIiR7dGhpcy5lbGVtZW50LmlkfS1wYW5lbC0ke2luZGV4ICsgMX1cIl1gKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBwcmV2U2l6ZSA9IHBhcnNlRmxvYXQocHJldlBhbmVsLmRhdGFzZXQucGFuZWxTaXplKVxuICAgICAgICAgICAgY29uc3QgbmV4dFNpemUgPSBwYXJzZUZsb2F0KG5leHRQYW5lbC5kYXRhc2V0LnBhbmVsU2l6ZSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgdG90YWxTaXplID0gcHJldlNpemUgKyBuZXh0U2l6ZVxuICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBpc0hvcml6b250YWwgPyBcbiAgICAgICAgICAgICAgKGV2ZW50LmR4IC8gdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoKSAqIHRvdGFsU2l6ZSA6XG4gICAgICAgICAgICAgIChldmVudC5keSAvIHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQpICogdG90YWxTaXplXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IG5ld1ByZXZTaXplID0gTWF0aC5tYXgoMTAsIE1hdGgubWluKDkwLCBwcmV2U2l6ZSArIGRlbHRhKSlcbiAgICAgICAgICAgIGNvbnN0IG5ld05leHRTaXplID0gdG90YWxTaXplIC0gbmV3UHJldlNpemVcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcHJldlBhbmVsLnN0eWxlLmZsZXggPSBgJHtuZXdQcmV2U2l6ZX0gMSAwJWBcbiAgICAgICAgICAgIG5leHRQYW5lbC5zdHlsZS5mbGV4ID0gYCR7bmV3TmV4dFNpemV9IDEgMCVgXG4gICAgICAgICAgICBwcmV2UGFuZWwuZGF0YXNldC5wYW5lbFNpemUgPSBuZXdQcmV2U2l6ZS50b1N0cmluZygpXG4gICAgICAgICAgICBuZXh0UGFuZWwuZGF0YXNldC5wYW5lbFNpemUgPSBuZXdOZXh0U2l6ZS50b1N0cmluZygpXG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBhcmlhIHZhbHVlc1xuICAgICAgICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIG5ld1ByZXZTaXplLnRvRml4ZWQoMCkpXG4gICAgICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbWF4JywgJzkwJylcbiAgICAgICAgICAgIGhhbmRsZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVtaW4nLCAnMTAnKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9XG59IiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4vLyBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiO1xuLy9cbi8vIGV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4vLyAgIGNvbm5lY3QoKSB7XG4vLyAgIH1cbi8vICAgZGlzY29ubmVjdCgpIHtcbi8vICAgfVxuLy8gfVxuIiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gYXBwL2phdmFzY3JpcHQvY29udHJvbGxlcnMvdWktc2hlZXQtY29udHJvbGxlci5qc1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIlxuaW1wb3J0IHsgdXNlVHJhbnNpdGlvbiB9IGZyb20gXCJzdGltdWx1cy11c2VcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcIm92ZXJsYXlcIiwgXCJjb250ZW50XCJdXG5cbiAgY29ubmVjdCgpIHtcbiAgICB1c2VUcmFuc2l0aW9uKHRoaXMsIHtcbiAgICAgIGVsZW1lbnQ6IHRoaXMuY29udGVudFRhcmdldCxcbiAgICAgIGVudGVyQWN0aXZlOiAndHJhbnNpdGlvbiBlYXNlLW91dCBkdXJhdGlvbi0zMDAnLFxuICAgICAgZW50ZXJGcm9tOiB0aGlzLmdldEVudGVyRnJvbUNsYXNzKCksXG4gICAgICBlbnRlclRvOiB0aGlzLmdldEVudGVyVG9DbGFzcygpLFxuICAgICAgbGVhdmVBY3RpdmU6ICd0cmFuc2l0aW9uIGVhc2UtaW4gZHVyYXRpb24tMjAwJyxcbiAgICAgIGxlYXZlRnJvbTogdGhpcy5nZXRFbnRlclRvQ2xhc3MoKSxcbiAgICAgIGxlYXZlVG86IHRoaXMuZ2V0RW50ZXJGcm9tQ2xhc3MoKSxcbiAgICB9KVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLm92ZXJsYXlUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcbiAgICB0aGlzLmNvbnRlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcbiAgICB0aGlzLmVudGVyKClcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMubGVhdmUoKVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5vdmVybGF5VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgICB0aGlzLmNvbnRlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICB9LCAyMDApIC8vIE1hdGNoIHRoaXMgd2l0aCB0aGUgdHJhbnNpdGlvbiBkdXJhdGlvblxuICB9XG5cbiAgY2xpY2tPdXRzaWRlKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmNvbnRlbnRUYXJnZXQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfVxuICB9XG5cbiAgXG4gIGdldEVudGVyRnJvbUNsYXNzKCkge1xuICAgIGNvbnN0IHNpZGUgPSB0aGlzLmNvbnRlbnRUYXJnZXQuZGF0YXNldC5zaWRlXG4gICAgc3dpdGNoIChzaWRlKSB7XG4gICAgICBjYXNlICd0b3AnOiByZXR1cm4gJy10cmFuc2xhdGUteS1mdWxsJ1xuICAgICAgY2FzZSAncmlnaHQnOiByZXR1cm4gJ3RyYW5zbGF0ZS14LWZ1bGwnXG4gICAgICBjYXNlICdib3R0b20nOiByZXR1cm4gJ3RyYW5zbGF0ZS15LWZ1bGwnXG4gICAgICBjYXNlICdsZWZ0JzogcmV0dXJuICctdHJhbnNsYXRlLXgtZnVsbCdcbiAgICAgIGRlZmF1bHQ6IHJldHVybiAndHJhbnNsYXRlLXgtZnVsbCdcbiAgICB9XG4gIH1cblxuICBnZXRFbnRlclRvQ2xhc3MoKSB7XG4gICAgcmV0dXJuICd0cmFuc2xhdGUteS0wIHRyYW5zbGF0ZS14LTAnXG4gIH1cbn0iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBBZGQgYSBTdGltdWx1cyBjb250cm9sbGVyIGZvciB0aGlzIGNvbXBvbmVudC5cbi8vIEl0IHdpbGwgYXV0b21hdGljYWxseSByZWdpc3RlcmVkIGFuZCBpdHMgbmFtZSB3aWxsIGJlIGF2YWlsYWJsZVxuLy8gdmlhICNjb21wb25lbnRfbmFtZSBpbiB0aGUgY29tcG9uZW50IGNsYXNzLlxuLy9cbiBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiO1xuLy9cbiBleHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuICAgY29ubmVjdCgpIHtcbiAgIH1cbiAgIGRpc2Nvbm5lY3QoKSB7XG4gICB9XG4gfVxuIiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcbmltcG9ydCB7Q29udHJvbGxlcn0gZnJvbSAnQGhvdHdpcmVkL3N0aW11bHVzJ1xuaW1wb3J0IHsgcHV0IH0gZnJvbSBcIkByYWlscy9yZXF1ZXN0LmpzXCI7XG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJzdGltdWx1c1wiO1xuLy9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIGNvbm5lY3QoKSB7XG4gIH1cblxuICBkaXNjb25uZWN0KCkge1xuICB9XG5cbiAgc2VuZFB1dFJlcXVlc3QoZXZlbnQpIHtcbiAgICBwdXQoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnVybCwge3Jlc3BvbnNlS2luZDogXCJ0dXJib1wifSlcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOZXR3b3JrIHJlc3BvbnNlIHdhcyBub3Qgb2tcIik7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUaGVyZSB3YXMgYSBwcm9ibGVtIHdpdGggdGhlIGZldGNoIG9wZXJhdGlvbjpcIiwgZXJyb3IpO1xuICAgICAgfSk7XG4gIH1cbiB9XG4iLCAiZXhwb3J0IGNsYXNzIEZldGNoUmVzcG9uc2Uge1xuICBjb25zdHJ1Y3RvciAocmVzcG9uc2UpIHtcbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2VcbiAgfVxuXG4gIGdldCBzdGF0dXNDb2RlICgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZS5zdGF0dXNcbiAgfVxuXG4gIGdldCByZWRpcmVjdGVkICgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZS5yZWRpcmVjdGVkXG4gIH1cblxuICBnZXQgb2sgKCkge1xuICAgIHJldHVybiB0aGlzLnJlc3BvbnNlLm9rXG4gIH1cblxuICBnZXQgdW5hdXRoZW50aWNhdGVkICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0dXNDb2RlID09PSA0MDFcbiAgfVxuXG4gIGdldCB1bnByb2Nlc3NhYmxlRW50aXR5ICgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0dXNDb2RlID09PSA0MjJcbiAgfVxuXG4gIGdldCBhdXRoZW50aWNhdGlvblVSTCAoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2UuaGVhZGVycy5nZXQoJ1dXVy1BdXRoZW50aWNhdGUnKVxuICB9XG5cbiAgZ2V0IGNvbnRlbnRUeXBlICgpIHtcbiAgICBjb25zdCBjb250ZW50VHlwZSA9IHRoaXMucmVzcG9uc2UuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpIHx8ICcnXG5cbiAgICByZXR1cm4gY29udGVudFR5cGUucmVwbGFjZSgvOy4qJC8sICcnKVxuICB9XG5cbiAgZ2V0IGhlYWRlcnMgKCkge1xuICAgIHJldHVybiB0aGlzLnJlc3BvbnNlLmhlYWRlcnNcbiAgfVxuXG4gIGdldCBodG1sICgpIHtcbiAgICBpZiAodGhpcy5jb250ZW50VHlwZS5tYXRjaCgvXihhcHBsaWNhdGlvbnx0ZXh0KVxcLyhodG1sfHhodG1sXFwreG1sKSQvKSkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dFxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYEV4cGVjdGVkIGFuIEhUTUwgcmVzcG9uc2UgYnV0IGdvdCBcIiR7dGhpcy5jb250ZW50VHlwZX1cIiBpbnN0ZWFkYCkpXG4gIH1cblxuICBnZXQganNvbiAoKSB7XG4gICAgaWYgKHRoaXMuY29udGVudFR5cGUubWF0Y2goL15hcHBsaWNhdGlvblxcLy4qanNvbiQvKSkge1xuICAgICAgcmV0dXJuIHRoaXMucmVzcG9uc2VKc29uIHx8ICh0aGlzLnJlc3BvbnNlSnNvbiA9IHRoaXMucmVzcG9uc2UuanNvbigpKVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYEV4cGVjdGVkIGEgSlNPTiByZXNwb25zZSBidXQgZ290IFwiJHt0aGlzLmNvbnRlbnRUeXBlfVwiIGluc3RlYWRgKSlcbiAgfVxuXG4gIGdldCB0ZXh0ICgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZVRleHQgfHwgKHRoaXMucmVzcG9uc2VUZXh0ID0gdGhpcy5yZXNwb25zZS50ZXh0KCkpXG4gIH1cblxuICBnZXQgaXNUdXJib1N0cmVhbSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudFR5cGUubWF0Y2goL150ZXh0XFwvdm5kXFwudHVyYm8tc3RyZWFtXFwuaHRtbC8pXG4gIH1cblxuICBnZXQgaXNTY3JpcHQgKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnRUeXBlLm1hdGNoKC9cXGIoPzpqYXZhfGVjbWEpc2NyaXB0XFxiLylcbiAgfVxuXG4gIGFzeW5jIHJlbmRlclR1cmJvU3RyZWFtICgpIHtcbiAgICBpZiAodGhpcy5pc1R1cmJvU3RyZWFtKSB7XG4gICAgICBpZiAod2luZG93LlR1cmJvKSB7XG4gICAgICAgIGF3YWl0IHdpbmRvdy5UdXJiby5yZW5kZXJTdHJlYW1NZXNzYWdlKGF3YWl0IHRoaXMudGV4dClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybignWW91IG11c3Qgc2V0IGB3aW5kb3cuVHVyYm8gPSBUdXJib2AgdG8gYXV0b21hdGljYWxseSBwcm9jZXNzIFR1cmJvIFN0cmVhbSBldmVudHMgd2l0aCByZXF1ZXN0LmpzJylcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihgRXhwZWN0ZWQgYSBUdXJibyBTdHJlYW0gcmVzcG9uc2UgYnV0IGdvdCBcIiR7dGhpcy5jb250ZW50VHlwZX1cIiBpbnN0ZWFkYCkpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYWN0aXZlU2NyaXB0ICgpIHtcbiAgICBpZiAodGhpcy5pc1NjcmlwdCkge1xuICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JylcbiAgICAgIGNvbnN0IG1ldGFUYWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9Y3NwLW5vbmNlXScpXG4gICAgICBjb25zdCBub25jZSA9IG1ldGFUYWcgJiYgbWV0YVRhZy5jb250ZW50XG4gICAgICBpZiAobm9uY2UpIHsgc2NyaXB0LnNldEF0dHJpYnV0ZSgnbm9uY2UnLCBub25jZSkgfVxuICAgICAgc2NyaXB0LmlubmVySFRNTCA9IGF3YWl0IHRoaXMudGV4dFxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYEV4cGVjdGVkIGEgU2NyaXB0IHJlc3BvbnNlIGJ1dCBnb3QgXCIke3RoaXMuY29udGVudFR5cGV9XCIgaW5zdGVhZGApKVxuICAgIH1cbiAgfVxufVxuIiwgImV4cG9ydCBjbGFzcyBSZXF1ZXN0SW50ZXJjZXB0b3Ige1xuICBzdGF0aWMgcmVnaXN0ZXIgKGludGVyY2VwdG9yKSB7XG4gICAgdGhpcy5pbnRlcmNlcHRvciA9IGludGVyY2VwdG9yXG4gIH1cblxuICBzdGF0aWMgZ2V0ICgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcmNlcHRvclxuICB9XG5cbiAgc3RhdGljIHJlc2V0ICgpIHtcbiAgICB0aGlzLmludGVyY2VwdG9yID0gdW5kZWZpbmVkXG4gIH1cbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gZ2V0Q29va2llIChuYW1lKSB7XG4gIGNvbnN0IGNvb2tpZXMgPSBkb2N1bWVudC5jb29raWUgPyBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsgJykgOiBbXVxuICBjb25zdCBwcmVmaXggPSBgJHtlbmNvZGVVUklDb21wb25lbnQobmFtZSl9PWBcbiAgY29uc3QgY29va2llID0gY29va2llcy5maW5kKGNvb2tpZSA9PiBjb29raWUuc3RhcnRzV2l0aChwcmVmaXgpKVxuXG4gIGlmIChjb29raWUpIHtcbiAgICBjb25zdCB2YWx1ZSA9IGNvb2tpZS5zcGxpdCgnPScpLnNsaWNlKDEpLmpvaW4oJz0nKVxuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGFjdCAob2JqZWN0KSB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9XG5cbiAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgY29uc3QgdmFsdWUgPSBvYmplY3Rba2V5XVxuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbHVlXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWV0YUNvbnRlbnQgKG5hbWUpIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcihgbWV0YVtuYW1lPVwiJHtuYW1lfVwiXWApXG4gIHJldHVybiBlbGVtZW50ICYmIGVsZW1lbnQuY29udGVudFxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nRW50cmllc0Zyb21Gb3JtRGF0YSAoZm9ybURhdGEpIHtcbiAgcmV0dXJuIFsuLi5mb3JtRGF0YV0ucmVkdWNlKChlbnRyaWVzLCBbbmFtZSwgdmFsdWVdKSA9PiB7XG4gICAgcmV0dXJuIGVudHJpZXMuY29uY2F0KHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBbW25hbWUsIHZhbHVlXV0gOiBbXSlcbiAgfSwgW10pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUVudHJpZXMgKHNlYXJjaFBhcmFtcywgZW50cmllcykge1xuICBmb3IgKGNvbnN0IFtuYW1lLCB2YWx1ZV0gb2YgZW50cmllcykge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIHdpbmRvdy5GaWxlKSBjb250aW51ZVxuXG4gICAgaWYgKHNlYXJjaFBhcmFtcy5oYXMobmFtZSkgJiYgIW5hbWUuaW5jbHVkZXMoJ1tdJykpIHtcbiAgICAgIHNlYXJjaFBhcmFtcy5kZWxldGUobmFtZSlcbiAgICAgIHNlYXJjaFBhcmFtcy5zZXQobmFtZSwgdmFsdWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQobmFtZSwgdmFsdWUpXG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgRmV0Y2hSZXNwb25zZSB9IGZyb20gJy4vZmV0Y2hfcmVzcG9uc2UnXG5pbXBvcnQgeyBSZXF1ZXN0SW50ZXJjZXB0b3IgfSBmcm9tICcuL3JlcXVlc3RfaW50ZXJjZXB0b3InXG5pbXBvcnQgeyBnZXRDb29raWUsIGNvbXBhY3QsIG1ldGFDb250ZW50LCBzdHJpbmdFbnRyaWVzRnJvbUZvcm1EYXRhLCBtZXJnZUVudHJpZXMgfSBmcm9tICcuL2xpYi91dGlscydcblxuZXhwb3J0IGNsYXNzIEZldGNoUmVxdWVzdCB7XG4gIGNvbnN0cnVjdG9yIChtZXRob2QsIHVybCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5tZXRob2QgPSBtZXRob2RcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG4gICAgdGhpcy5vcmlnaW5hbFVybCA9IHVybC50b1N0cmluZygpXG4gIH1cblxuICBhc3luYyBwZXJmb3JtICgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVxdWVzdEludGVyY2VwdG9yID0gUmVxdWVzdEludGVyY2VwdG9yLmdldCgpXG4gICAgICBpZiAocmVxdWVzdEludGVyY2VwdG9yKSB7XG4gICAgICAgIGF3YWl0IHJlcXVlc3RJbnRlcmNlcHRvcih0aGlzKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxuICAgIH1cblxuICAgIGNvbnN0IGZldGNoID0gKHRoaXMucmVzcG9uc2VLaW5kID09PSAndHVyYm8tc3RyZWFtJyAmJiB3aW5kb3cuVHVyYm8pXG4gICAgICA/IHdpbmRvdy5UdXJiby5mZXRjaFxuICAgICAgOiB3aW5kb3cuZmV0Y2hcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gbmV3IEZldGNoUmVzcG9uc2UoYXdhaXQgZmV0Y2godGhpcy51cmwsIHRoaXMuZmV0Y2hPcHRpb25zKSlcblxuICAgIGlmIChyZXNwb25zZS51bmF1dGhlbnRpY2F0ZWQgJiYgcmVzcG9uc2UuYXV0aGVudGljYXRpb25VUkwpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCh3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJlc3BvbnNlLmF1dGhlbnRpY2F0aW9uVVJMKVxuICAgIH1cblxuICAgIGlmIChyZXNwb25zZS5pc1NjcmlwdCkge1xuICAgICAgYXdhaXQgcmVzcG9uc2UuYWN0aXZlU2NyaXB0KClcbiAgICB9XG5cbiAgICBjb25zdCByZXNwb25zZVN0YXR1c0lzVHVyYm9TdHJlYW1hYmxlID0gcmVzcG9uc2Uub2sgfHwgcmVzcG9uc2UudW5wcm9jZXNzYWJsZUVudGl0eVxuXG4gICAgaWYgKHJlc3BvbnNlU3RhdHVzSXNUdXJib1N0cmVhbWFibGUgJiYgcmVzcG9uc2UuaXNUdXJib1N0cmVhbSkge1xuICAgICAgYXdhaXQgcmVzcG9uc2UucmVuZGVyVHVyYm9TdHJlYW0oKVxuICAgIH1cblxuICAgIHJldHVybiByZXNwb25zZVxuICB9XG5cbiAgYWRkSGVhZGVyIChrZXksIHZhbHVlKSB7XG4gICAgY29uc3QgaGVhZGVycyA9IHRoaXMuYWRkaXRpb25hbEhlYWRlcnNcbiAgICBoZWFkZXJzW2tleV0gPSB2YWx1ZVxuICAgIHRoaXMub3B0aW9ucy5oZWFkZXJzID0gaGVhZGVyc1xuICB9XG5cbiAgc2FtZUhvc3RuYW1lICgpIHtcbiAgICBpZiAoIXRoaXMub3JpZ2luYWxVcmwuc3RhcnRzV2l0aCgnaHR0cDonKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIG5ldyBVUkwodGhpcy5vcmlnaW5hbFVybCkuaG9zdG5hbWUgPT09IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZVxuICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG5cbiAgZ2V0IGZldGNoT3B0aW9ucyAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1ldGhvZDogdGhpcy5tZXRob2QudG9VcHBlckNhc2UoKSxcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIGJvZHk6IHRoaXMuZm9ybWF0dGVkQm9keSxcbiAgICAgIHNpZ25hbDogdGhpcy5zaWduYWwsXG4gICAgICBjcmVkZW50aWFsczogdGhpcy5jcmVkZW50aWFscyxcbiAgICAgIHJlZGlyZWN0OiB0aGlzLnJlZGlyZWN0XG4gICAgfVxuICB9XG5cbiAgZ2V0IGhlYWRlcnMgKCkge1xuICAgIGNvbnN0IGJhc2VIZWFkZXJzID0ge1xuICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLFxuICAgICAgJ0NvbnRlbnQtVHlwZSc6IHRoaXMuY29udGVudFR5cGUsXG4gICAgICBBY2NlcHQ6IHRoaXMuYWNjZXB0XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2FtZUhvc3RuYW1lKCkpIHtcbiAgICAgIGJhc2VIZWFkZXJzWydYLUNTUkYtVG9rZW4nXSA9IHRoaXMuY3NyZlRva2VuXG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXBhY3QoXG4gICAgICBPYmplY3QuYXNzaWduKGJhc2VIZWFkZXJzLCB0aGlzLmFkZGl0aW9uYWxIZWFkZXJzKVxuICAgIClcbiAgfVxuXG4gIGdldCBjc3JmVG9rZW4gKCkge1xuICAgIHJldHVybiBnZXRDb29raWUobWV0YUNvbnRlbnQoJ2NzcmYtcGFyYW0nKSkgfHwgbWV0YUNvbnRlbnQoJ2NzcmYtdG9rZW4nKVxuICB9XG5cbiAgZ2V0IGNvbnRlbnRUeXBlICgpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRlbnRUeXBlKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmNvbnRlbnRUeXBlXG4gICAgfSBlbHNlIGlmICh0aGlzLmJvZHkgPT0gbnVsbCB8fCB0aGlzLmJvZHkgaW5zdGFuY2VvZiB3aW5kb3cuRm9ybURhdGEpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICB9IGVsc2UgaWYgKHRoaXMuYm9keSBpbnN0YW5jZW9mIHdpbmRvdy5GaWxlKSB7XG4gICAgICByZXR1cm4gdGhpcy5ib2R5LnR5cGVcbiAgICB9XG5cbiAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2pzb24nXG4gIH1cblxuICBnZXQgYWNjZXB0ICgpIHtcbiAgICBzd2l0Y2ggKHRoaXMucmVzcG9uc2VLaW5kKSB7XG4gICAgICBjYXNlICdodG1sJzpcbiAgICAgICAgcmV0dXJuICd0ZXh0L2h0bWwsIGFwcGxpY2F0aW9uL3hodG1sK3htbCdcbiAgICAgIGNhc2UgJ3R1cmJvLXN0cmVhbSc6XG4gICAgICAgIHJldHVybiAndGV4dC92bmQudHVyYm8tc3RyZWFtLmh0bWwsIHRleHQvaHRtbCwgYXBwbGljYXRpb24veGh0bWwreG1sJ1xuICAgICAgY2FzZSAnanNvbic6XG4gICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vanNvbiwgYXBwbGljYXRpb24vdm5kLmFwaStqc29uJ1xuICAgICAgY2FzZSAnc2NyaXB0JzpcbiAgICAgICAgcmV0dXJuICd0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQnXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJyovKidcbiAgICB9XG4gIH1cblxuICBnZXQgYm9keSAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5ib2R5XG4gIH1cblxuICBnZXQgcXVlcnkgKCkge1xuICAgIGNvbnN0IG9yaWdpbmFsUXVlcnkgPSAodGhpcy5vcmlnaW5hbFVybC5zcGxpdCgnPycpWzFdIHx8ICcnKS5zcGxpdCgnIycpWzBdXG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhvcmlnaW5hbFF1ZXJ5KVxuXG4gICAgbGV0IHJlcXVlc3RRdWVyeSA9IHRoaXMub3B0aW9ucy5xdWVyeVxuICAgIGlmIChyZXF1ZXN0UXVlcnkgaW5zdGFuY2VvZiB3aW5kb3cuRm9ybURhdGEpIHtcbiAgICAgIHJlcXVlc3RRdWVyeSA9IHN0cmluZ0VudHJpZXNGcm9tRm9ybURhdGEocmVxdWVzdFF1ZXJ5KVxuICAgIH0gZWxzZSBpZiAocmVxdWVzdFF1ZXJ5IGluc3RhbmNlb2Ygd2luZG93LlVSTFNlYXJjaFBhcmFtcykge1xuICAgICAgcmVxdWVzdFF1ZXJ5ID0gcmVxdWVzdFF1ZXJ5LmVudHJpZXMoKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXF1ZXN0UXVlcnkgPSBPYmplY3QuZW50cmllcyhyZXF1ZXN0UXVlcnkgfHwge30pXG4gICAgfVxuXG4gICAgbWVyZ2VFbnRyaWVzKHBhcmFtcywgcmVxdWVzdFF1ZXJ5KVxuXG4gICAgY29uc3QgcXVlcnkgPSBwYXJhbXMudG9TdHJpbmcoKVxuICAgIHJldHVybiAocXVlcnkubGVuZ3RoID4gMCA/IGA/JHtxdWVyeX1gIDogJycpXG4gIH1cblxuICBnZXQgdXJsICgpIHtcbiAgICByZXR1cm4gKHRoaXMub3JpZ2luYWxVcmwuc3BsaXQoJz8nKVswXSkuc3BsaXQoJyMnKVswXSArIHRoaXMucXVlcnlcbiAgfVxuXG4gIGdldCByZXNwb25zZUtpbmQgKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMucmVzcG9uc2VLaW5kIHx8ICdodG1sJ1xuICB9XG5cbiAgZ2V0IHNpZ25hbCAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5zaWduYWxcbiAgfVxuXG4gIGdldCByZWRpcmVjdCAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5yZWRpcmVjdCB8fCAnZm9sbG93J1xuICB9XG5cbiAgZ2V0IGNyZWRlbnRpYWxzICgpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmNyZWRlbnRpYWxzIHx8ICdzYW1lLW9yaWdpbidcbiAgfVxuXG4gIGdldCBhZGRpdGlvbmFsSGVhZGVycyAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5oZWFkZXJzIHx8IHt9XG4gIH1cblxuICBnZXQgZm9ybWF0dGVkQm9keSAoKSB7XG4gICAgY29uc3QgYm9keUlzQVN0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzLmJvZHkpID09PSAnW29iamVjdCBTdHJpbmddJ1xuICAgIGNvbnN0IGNvbnRlbnRUeXBlSXNKc29uID0gdGhpcy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nXG5cbiAgICBpZiAoY29udGVudFR5cGVJc0pzb24gJiYgIWJvZHlJc0FTdHJpbmcpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmJvZHkpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuYm9keVxuICB9XG59XG4iLCAiaW1wb3J0IHsgRmV0Y2hSZXF1ZXN0IH0gZnJvbSAnLi9mZXRjaF9yZXF1ZXN0J1xuXG5hc3luYyBmdW5jdGlvbiBnZXQgKHVybCwgb3B0aW9ucykge1xuICBjb25zdCByZXF1ZXN0ID0gbmV3IEZldGNoUmVxdWVzdCgnZ2V0JywgdXJsLCBvcHRpb25zKVxuICByZXR1cm4gcmVxdWVzdC5wZXJmb3JtKClcbn1cblxuYXN5bmMgZnVuY3Rpb24gcG9zdCAodXJsLCBvcHRpb25zKSB7XG4gIGNvbnN0IHJlcXVlc3QgPSBuZXcgRmV0Y2hSZXF1ZXN0KCdwb3N0JywgdXJsLCBvcHRpb25zKVxuICByZXR1cm4gcmVxdWVzdC5wZXJmb3JtKClcbn1cblxuYXN5bmMgZnVuY3Rpb24gcHV0ICh1cmwsIG9wdGlvbnMpIHtcbiAgY29uc3QgcmVxdWVzdCA9IG5ldyBGZXRjaFJlcXVlc3QoJ3B1dCcsIHVybCwgb3B0aW9ucylcbiAgcmV0dXJuIHJlcXVlc3QucGVyZm9ybSgpXG59XG5cbmFzeW5jIGZ1bmN0aW9uIHBhdGNoICh1cmwsIG9wdGlvbnMpIHtcbiAgY29uc3QgcmVxdWVzdCA9IG5ldyBGZXRjaFJlcXVlc3QoJ3BhdGNoJywgdXJsLCBvcHRpb25zKVxuICByZXR1cm4gcmVxdWVzdC5wZXJmb3JtKClcbn1cblxuYXN5bmMgZnVuY3Rpb24gZGVzdHJveSAodXJsLCBvcHRpb25zKSB7XG4gIGNvbnN0IHJlcXVlc3QgPSBuZXcgRmV0Y2hSZXF1ZXN0KCdkZWxldGUnLCB1cmwsIG9wdGlvbnMpXG4gIHJldHVybiByZXF1ZXN0LnBlcmZvcm0oKVxufVxuXG5leHBvcnQgeyBnZXQsIHBvc3QsIHB1dCwgcGF0Y2gsIGRlc3Ryb3kgfVxuIiwgImltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLy8gQWRkIGEgU3RpbXVsdXMgY29udHJvbGxlciBmb3IgdGhpcyBjb21wb25lbnQuXG4vLyBJdCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVnaXN0ZXJlZCBhbmQgaXRzIG5hbWUgd2lsbCBiZSBhdmFpbGFibGVcbi8vIHZpYSAjY29tcG9uZW50X25hbWUgaW4gdGhlIGNvbXBvbmVudCBjbGFzcy5cbi8vXG4vLyBpbXBvcnQgeyBDb250cm9sbGVyIGFzIEJhc2VDb250cm9sbGVyIH0gZnJvbSBcInN0aW11bHVzXCI7XG4vL1xuLy8gZXhwb3J0IGNsYXNzIENvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlQ29udHJvbGxlciB7XG4vLyAgIGNvbm5lY3QoKSB7XG4vLyAgIH1cbi8vXG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJzdGltdWx1c1wiO1xuLy9cbi8vIGV4cG9ydCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vL1xuLy8gICBkaXNjb25uZWN0KCkge1xuLy8gICB9XG4vLyB9XG4iLCAiaW1wb3J0IFwiLi9pbmRleC5jc3NcIlxuXG4vLyBhcHAvamF2YXNjcmlwdC9jb250cm9sbGVycy91aV90b2FzdF9jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5pbXBvcnQgeyBlbnRlciwgbGVhdmUgfSBmcm9tICdlbC10cmFuc2l0aW9uJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcImNvbnRhaW5lclwiLCBcIml0ZW1cIl1cbiAgc3RhdGljIHZhbHVlcyA9IHtcbiAgICB0aGVtZTogU3RyaW5nLFxuICAgIHBvc2l0aW9uWTogU3RyaW5nLFxuICAgIHBvc2l0aW9uWDogU3RyaW5nXG4gIH1cblxuICBjb25uZWN0KCkge1xuICAgIHRoaXMuc2V0dXBDdXN0b21FdmVudCgpXG4gICAgdGhpcy5zZXR1cFR1cmJvU3RyZWFtTGlzdGVuZXIoKVxuICB9XG5cbiAgc2V0dXBDdXN0b21FdmVudCgpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd1aTp0b2FzdCcsIHRoaXMuaGFuZGxlQ3VzdG9tVG9hc3QuYmluZCh0aGlzKSlcbiAgfVxuXG4gIHNldHVwVHVyYm9TdHJlYW1MaXN0ZW5lcigpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0dXJibzpiZWZvcmUtc3RyZWFtLXJlbmRlcicsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgdHVyYm9TdHJlYW0gPSBldmVudC50YXJnZXRcbiAgICAgIGlmICh0dXJib1N0cmVhbS5hY3Rpb24gPT09ICdhcHBlbmQnICYmIHR1cmJvU3RyZWFtLnRhcmdldCA9PT0gJ3RvYXN0cycpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICB0aGlzLmFwcGVuZFRvYXN0KHR1cmJvU3RyZWFtLnRlbXBsYXRlQ29udGVudC5xdWVyeVNlbGVjdG9yKCdsaScpKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVDdXN0b21Ub2FzdChldmVudCkge1xuICAgIGNvbnN0IHsgdGl0bGUsIGNvbnRlbnQsIHR5cGUgfSA9IGV2ZW50LmRldGFpbFxuICAgIHRoaXMuYXBwZW5kVG9hc3QodGhpcy5jcmVhdGVUb2FzdEVsZW1lbnQodGl0bGUsIGNvbnRlbnQsIHR5cGUpKVxuICB9XG5cbiAgY3JlYXRlVG9hc3RFbGVtZW50KHRpdGxlLCBjb250ZW50LCB0eXBlKSB7XG4gICAgY29uc3QgdG9hc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpXG4gICAgdG9hc3QuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBkYXRhLWNvbnRlbnQ9XCJcIj5cbiAgICAgICAgPGRpdiBkYXRhLXRpdGxlPVwiXCI+JHt0aXRsZX08L2Rpdj5cbiAgICAgICAgPGRpdj4ke2NvbnRlbnR9PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgXG4gICAgdG9hc3QuY2xhc3NOYW1lID0gXCJtYi0yIHAtNCByb3VuZGVkLW1kIHNoYWRvdy1tZCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgdHJhbnNmb3JtIHRyYW5zbGF0ZS15LWZ1bGwgb3BhY2l0eS0wLVwiXG4gICAgLy8gdGhpcy5pdGVtVGFyZ2V0c1swXS5jbGFzc05hbWVcbiAgICB0b2FzdC5kYXRhc2V0LnVpVG9hc3RUYXJnZXQgPSBcIml0ZW1cIlxuICAgIHRvYXN0LmRhdGFzZXQuYWN0aW9uID0gXCJjbGljay0+dWktdG9hc3QjZGlzbWlzc1wiXG4gICAgcmV0dXJuIHRvYXN0XG4gIH1cblxuICBhcHBlbmRUb2FzdCh0b2FzdEVsZW1lbnQpIHtcbiAgICB0aGlzLmNvbnRhaW5lclRhcmdldC5hcHBlbmRDaGlsZCh0b2FzdEVsZW1lbnQpXG4gICAgZW50ZXIodG9hc3RFbGVtZW50KVxuICAgIC8vIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5kaXNtaXNzKHsgdGFyZ2V0OiB0b2FzdEVsZW1lbnQgfSksIDUwMDApXG4gIH1cblxuICBkaXNtaXNzKGV2ZW50KSB7XG4gICAgY29uc3QgdG9hc3QgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtdWktdG9hc3QtdGFyZ2V0PVwiaXRlbVwiXScpXG4gICAgbGVhdmUodG9hc3QpLnRoZW4oKCkgPT4ge1xuICAgICAgdG9hc3QucmVtb3ZlKClcbiAgICB9KVxuICB9XG59IiwgImV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbnRlcihlbGVtZW50LCB0cmFuc2l0aW9uTmFtZSA9IG51bGwpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgYXdhaXQgdHJhbnNpdGlvbignZW50ZXInLCBlbGVtZW50LCB0cmFuc2l0aW9uTmFtZSlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxlYXZlKGVsZW1lbnQsIHRyYW5zaXRpb25OYW1lID0gbnVsbCkge1xuICAgIGF3YWl0IHRyYW5zaXRpb24oJ2xlYXZlJywgZWxlbWVudCwgdHJhbnNpdGlvbk5hbWUpXG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9nZ2xlKGVsZW1lbnQsIHRyYW5zaXRpb25OYW1lID0gbnVsbCkge1xuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgYXdhaXQgZW50ZXIoZWxlbWVudCwgdHJhbnNpdGlvbk5hbWUpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgbGVhdmUoZWxlbWVudCwgdHJhbnNpdGlvbk5hbWUpXG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiB0cmFuc2l0aW9uKGRpcmVjdGlvbiwgZWxlbWVudCwgYW5pbWF0aW9uKSB7XG4gICAgY29uc3QgZGF0YXNldCA9IGVsZW1lbnQuZGF0YXNldFxuICAgIGNvbnN0IGFuaW1hdGlvbkNsYXNzID0gYW5pbWF0aW9uID8gYCR7YW5pbWF0aW9ufS0ke2RpcmVjdGlvbn1gIDogZGlyZWN0aW9uXG4gICAgbGV0IHRyYW5zaXRpb24gPSBgdHJhbnNpdGlvbiR7ZGlyZWN0aW9uLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZGlyZWN0aW9uLnNsaWNlKDEpfWBcbiAgICBjb25zdCBnZW5lc2lzID0gZGF0YXNldFt0cmFuc2l0aW9uXSA/IGRhdGFzZXRbdHJhbnNpdGlvbl0uc3BsaXQoXCIgXCIpIDogW2FuaW1hdGlvbkNsYXNzXVxuICAgIGNvbnN0IHN0YXJ0ID0gZGF0YXNldFtgJHt0cmFuc2l0aW9ufVN0YXJ0YF0gPyBkYXRhc2V0W2Ake3RyYW5zaXRpb259U3RhcnRgXS5zcGxpdChcIiBcIikgOiBbYCR7YW5pbWF0aW9uQ2xhc3N9LXN0YXJ0YF1cbiAgICBjb25zdCBlbmQgPSBkYXRhc2V0W2Ake3RyYW5zaXRpb259RW5kYF0gPyBkYXRhc2V0W2Ake3RyYW5zaXRpb259RW5kYF0uc3BsaXQoXCIgXCIpIDogW2Ake2FuaW1hdGlvbkNsYXNzfS1lbmRgXVxuXG4gICAgYWRkQ2xhc3NlcyhlbGVtZW50LCBnZW5lc2lzKVxuICAgIGFkZENsYXNzZXMoZWxlbWVudCwgc3RhcnQpXG4gICAgYXdhaXQgbmV4dEZyYW1lKClcbiAgICByZW1vdmVDbGFzc2VzKGVsZW1lbnQsIHN0YXJ0KVxuICAgIGFkZENsYXNzZXMoZWxlbWVudCwgZW5kKTtcbiAgICBhd2FpdCBhZnRlclRyYW5zaXRpb24oZWxlbWVudClcbiAgICByZW1vdmVDbGFzc2VzKGVsZW1lbnQsIGVuZClcbiAgICByZW1vdmVDbGFzc2VzKGVsZW1lbnQsIGdlbmVzaXMpXG59XG5cbmZ1bmN0aW9uIGFkZENsYXNzZXMoZWxlbWVudCwgY2xhc3Nlcykge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzKVxufVxuXG5mdW5jdGlvbiByZW1vdmVDbGFzc2VzKGVsZW1lbnQsIGNsYXNzZXMpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoLi4uY2xhc3Nlcylcbn1cblxuZnVuY3Rpb24gbmV4dEZyYW1lKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZXNvbHZlKVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYWZ0ZXJUcmFuc2l0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIC8vIHNhZmFyaSByZXR1cm4gc3RyaW5nIHdpdGggY29tbWEgc2VwYXJhdGUgdmFsdWVzXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkRHVyYXRpb24gPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnRyYW5zaXRpb25EdXJhdGlvbi5zcGxpdChcIixcIilbMF1cbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBOdW1iZXIoY29tcHV0ZWREdXJhdGlvbi5yZXBsYWNlKCdzJywgJycpKSAqIDEwMDA7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgIH0sIGR1cmF0aW9uKVxuICAgIH0pO1xufSIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIEFkZCBhIFN0aW11bHVzIGNvbnRyb2xsZXIgZm9yIHRoaXMgY29tcG9uZW50LlxuLy8gSXQgd2lsbCBhdXRvbWF0aWNhbGx5IHJlZ2lzdGVyZWQgYW5kIGl0cyBuYW1lIHdpbGwgYmUgYXZhaWxhYmxlXG4vLyB2aWEgI2NvbXBvbmVudF9uYW1lIGluIHRoZSBjb21wb25lbnQgY2xhc3MuXG4vL1xuLy8gaW1wb3J0IHsgQ29udHJvbGxlciBhcyBCYXNlQ29udHJvbGxlciB9IGZyb20gXCJAaG90d2lyZWQvc3RpbXVsdXNcIjtcbi8vXG4vLyBleHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgQmFzZUNvbnRyb2xsZXIge1xuLy8gICBjb25uZWN0KCkge1xuLy8gICB9XG4vLyAgIGRpc2Nvbm5lY3QoKSB7XG4vLyAgIH1cbi8vIH1cbiIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbi8vIGFwcC9qYXZhc2NyaXB0L2NvbnRyb2xsZXJzL3VpLXRvZ2dsZS1jb250cm9sbGVyLmpzXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIkBob3R3aXJlZC9zdGltdWx1c1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQ29udHJvbGxlciB7XG4gIHN0YXRpYyB0YXJnZXRzID0gW1wiYnV0dG9uXCJdXG4gIHN0YXRpYyB2YWx1ZXMgPSB7XG4gICAgcHJlc3NlZDogQm9vbGVhblxuICB9XG5cbiAgY29ubmVjdCgpIHtcbiAgICB0aGlzLnVwZGF0ZVByZXNzZWQoKVxuICB9XG5cbiAgdG9nZ2xlKCkge1xuICAgIHRoaXMucHJlc3NlZFZhbHVlID0gIXRoaXMucHJlc3NlZFZhbHVlXG4gICAgdGhpcy51cGRhdGVQcmVzc2VkKClcbiAgfVxuXG4gIHVwZGF0ZVByZXNzZWQoKSB7XG4gICAgdGhpcy5idXR0b25UYXJnZXQuc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsIHRoaXMucHJlc3NlZFZhbHVlKVxuICAgIHRoaXMuYnV0dG9uVGFyZ2V0LmRhdGFzZXQuc3RhdGUgPSB0aGlzLnByZXNzZWRWYWx1ZSA/IFwib25cIiA6IFwib2ZmXCJcbiAgfVxufSIsICJpbXBvcnQgXCIuL2luZGV4LmNzc1wiXG5cbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tIFwiQGhvdHdpcmVkL3N0aW11bHVzXCJcbmltcG9ydCB7IGNvbXB1dGVQb3NpdGlvbiwgYXV0b1VwZGF0ZSwgZmxpcCwgc2hpZnQsIG9mZnNldCwgYXJyb3cgfSBmcm9tICdAZmxvYXRpbmctdWkvZG9tJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIENvbnRyb2xsZXIge1xuICBzdGF0aWMgdGFyZ2V0cyA9IFtcInRyaWdnZXJcIiwgXCJjb250ZW50XCIsIFwiYXJyb3dcIl1cbiAgc3RhdGljIHZhbHVlcyA9IHsgXG4gICAgZGVsYXk6IE51bWJlcixcbiAgICBwbGFjZW1lbnQ6IFN0cmluZ1xuICB9XG5cbiAgY29ubmVjdCgpIHtcbiAgICB0aGlzLnNob3dUb29sdGlwQm91bmQgPSB0aGlzLnNob3dUb29sdGlwLmJpbmQodGhpcylcbiAgICB0aGlzLmhpZGVUb29sdGlwQm91bmQgPSB0aGlzLmhpZGVUb29sdGlwLmJpbmQodGhpcylcblxuICAgIHRoaXMudHJpZ2dlclRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCB0aGlzLnNob3dUb29sdGlwQm91bmQpXG4gICAgdGhpcy50cmlnZ2VyVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMuaGlkZVRvb2x0aXBCb3VuZClcbiAgICB0aGlzLnRyaWdnZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIHRoaXMuc2hvd1Rvb2x0aXBCb3VuZClcbiAgICB0aGlzLnRyaWdnZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgdGhpcy5oaWRlVG9vbHRpcEJvdW5kKVxuXG4gICAgdGhpcy5jbGVhbnVwID0gYXV0b1VwZGF0ZShcbiAgICAgIHRoaXMudHJpZ2dlclRhcmdldCxcbiAgICAgIHRoaXMuY29udGVudFRhcmdldCxcbiAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24uYmluZCh0aGlzKVxuICAgIClcbiAgfVxuXG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgdGhpcy50cmlnZ2VyVGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIHRoaXMuc2hvd1Rvb2x0aXBCb3VuZClcbiAgICB0aGlzLnRyaWdnZXJUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5oaWRlVG9vbHRpcEJvdW5kKVxuICAgIHRoaXMudHJpZ2dlclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgdGhpcy5zaG93VG9vbHRpcEJvdW5kKVxuICAgIHRoaXMudHJpZ2dlclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmx1clwiLCB0aGlzLmhpZGVUb29sdGlwQm91bmQpXG5cbiAgICBpZiAodGhpcy5jbGVhbnVwKSB7XG4gICAgICB0aGlzLmNsZWFudXAoKVxuICAgIH1cbiAgfVxuXG4gIHNob3dUb29sdGlwKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmhpZGVUaW1lb3V0KVxuICAgIHRoaXMuc2hvd1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuY29udGVudFRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpXG4gICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKClcbiAgICB9LCB0aGlzLmRlbGF5VmFsdWUpXG4gIH1cblxuICBoaWRlVG9vbHRpcCgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5zaG93VGltZW91dClcbiAgICB0aGlzLmhpZGVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmNvbnRlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKVxuICAgIH0sIDQwKVxuICB9XG5cbiAgdXBkYXRlUG9zaXRpb24oKSB7XG4gICAgY29tcHV0ZVBvc2l0aW9uKHRoaXMudHJpZ2dlclRhcmdldCwgdGhpcy5jb250ZW50VGFyZ2V0LCB7XG4gICAgICBwbGFjZW1lbnQ6IHRoaXMucGxhY2VtZW50VmFsdWUsXG4gICAgICBtaWRkbGV3YXJlOiBbXG4gICAgICAgIG9mZnNldCg2KSxcbiAgICAgICAgZmxpcCgpLFxuICAgICAgICBzaGlmdCh7IHBhZGRpbmc6IDUgfSksXG4gICAgICAgIGFycm93KHsgZWxlbWVudDogdGhpcy5hcnJvd1RhcmdldCB9KSxcbiAgICAgIF0sXG4gICAgfSkudGhlbigoeyB4LCB5LCBwbGFjZW1lbnQsIG1pZGRsZXdhcmVEYXRhIH0pID0+IHtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb250ZW50VGFyZ2V0LnN0eWxlLCB7XG4gICAgICAgIGxlZnQ6IGAke3h9cHhgLFxuICAgICAgICB0b3A6IGAke3l9cHhgLFxuICAgICAgfSlcblxuICAgICAgY29uc3QgeyB4OiBhcnJvd1gsIHk6IGFycm93WSB9ID0gbWlkZGxld2FyZURhdGEuYXJyb3dcblxuICAgICAgY29uc3Qgc3RhdGljU2lkZSA9IHtcbiAgICAgICAgdG9wOiAnYm90dG9tJyxcbiAgICAgICAgcmlnaHQ6ICdsZWZ0JyxcbiAgICAgICAgYm90dG9tOiAndG9wJyxcbiAgICAgICAgbGVmdDogJ3JpZ2h0JyxcbiAgICAgIH1bcGxhY2VtZW50LnNwbGl0KCctJylbMF1dXG5cbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5hcnJvd1RhcmdldC5zdHlsZSwge1xuICAgICAgICBsZWZ0OiBhcnJvd1ggIT0gbnVsbCA/IGAke2Fycm93WH1weGAgOiAnJyxcbiAgICAgICAgdG9wOiBhcnJvd1kgIT0gbnVsbCA/IGAke2Fycm93WX1weGAgOiAnJyxcbiAgICAgICAgcmlnaHQ6ICcnLFxuICAgICAgICBib3R0b206ICcnLFxuICAgICAgICBbc3RhdGljU2lkZV06ICctNHB4JyxcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufSIsICJcbiAgICAgICAgaW1wb3J0ICogYXMgbW9kdWxlMCBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2FjY29yZGlvbi9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMSBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2FjY29yZGlvbl9pdGVtL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUyIGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYWxlcnQvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTMgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hbGVydF9kaWFsb2cvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTQgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hc3BlY3RfcmF0aW8vaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTUgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hdmF0YXIvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTYgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9iYWRnZS9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlNyBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2JyZWFkY3J1bWIvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTggZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9icmVhZGNydW1iX2l0ZW0vaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTkgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9idXR0b24vaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTEwIGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY2FsZW5kYXIvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTExIGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY2FyZC9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMTIgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jYXJvdXNlbC9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMTMgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jb2xsYXBzaWJsZS9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMTQgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jb21tYW5kL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUxNSBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2NvbnRleHRfbWVudS9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMTYgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9kaWFsb2cvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTE3IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvZHJvcGRvd25fbWVudS9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMTggZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9kcm9wZG93bl9tZW51X2l0ZW0vaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTE5IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvaW5wdXRfb3RwL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUyMCBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL21lbnViYXIvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTIxIGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvcG9wb3Zlci9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMjIgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9wcm9ncmVzcy9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMjMgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9yZXNpemFibGUvaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTI0IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvc2VwYXJhdG9yL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUyNSBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3NoZWV0L2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUyNiBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3NrZWxldG9uL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUyNyBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3N3aXRjaC9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMjggZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90YWJsZS9pbmRleC5qcyc7aW1wb3J0ICogYXMgbW9kdWxlMjkgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90YWJzL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUzMCBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3RvYXN0L2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUzMSBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3RvYXN0X2l0ZW0vaW5kZXguanMnO2ltcG9ydCAqIGFzIG1vZHVsZTMyIGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvdG9nZ2xlL2luZGV4LmpzJztpbXBvcnQgKiBhcyBtb2R1bGUzMyBmcm9tICcuLy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3Rvb2x0aXAvaW5kZXguanMnXG4gICAgICAgIGNvbnN0IG1vZHVsZXMgPSBbe25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1hY2NvcmRpb24tLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUwLCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2FjY29yZGlvbi9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tYWNjb3JkaW9uLWl0ZW0tLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUxLCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2FjY29yZGlvbl9pdGVtL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1hbGVydC0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTIsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYWxlcnQvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWFsZXJ0LWRpYWxvZy0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTMsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYWxlcnRfZGlhbG9nL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1hc3BlY3QtcmF0aW8tLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGU0LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2FzcGVjdF9yYXRpby9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tYXZhdGFyLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlNSwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9hdmF0YXIvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWJhZGdlLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlNiwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9iYWRnZS9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tYnJlYWRjcnVtYi0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTcsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYnJlYWRjcnVtYi9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tYnJlYWRjcnVtYi1pdGVtLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlOCwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9icmVhZGNydW1iX2l0ZW0vaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWJ1dHRvbi0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTksIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvYnV0dG9uL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1jYWxlbmRhci0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTEwLCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2NhbGVuZGFyL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1jYXJkLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMTEsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvY2FyZC9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tY2Fyb3VzZWwtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUxMiwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jYXJvdXNlbC9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tY29sbGFwc2libGUtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUxMywgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9jb2xsYXBzaWJsZS9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tY29tbWFuZC0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTE0LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2NvbW1hbmQvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLWNvbnRleHQtbWVudS0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTE1LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL2NvbnRleHRfbWVudS9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tZGlhbG9nLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMTYsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvZGlhbG9nL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1kcm9wZG93bi1tZW51LS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMTcsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvZHJvcGRvd25fbWVudS9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tZHJvcGRvd24tbWVudS1pdGVtLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMTgsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvZHJvcGRvd25fbWVudV9pdGVtL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1pbnB1dC1vdHAtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUxOSwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9pbnB1dF9vdHAvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLW1lbnViYXItLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUyMCwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9tZW51YmFyL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1wb3BvdmVyLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMjEsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvcG9wb3Zlci9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tcHJvZ3Jlc3MtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUyMiwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9wcm9ncmVzcy9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tcmVzaXphYmxlLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMjMsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvcmVzaXphYmxlL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS1zZXBhcmF0b3ItLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUyNCwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS9zZXBhcmF0b3IvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXNoZWV0LS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMjUsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvc2hlZXQvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXNrZWxldG9uLS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMjYsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvc2tlbGV0b24vaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXN3aXRjaC0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTI3LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3N3aXRjaC9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tdGFibGUtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUyOCwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90YWJsZS9pbmRleC5qcyd9LHtuYW1lOiAnLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tdGFicy0taW5kZXguanMnLCBtb2R1bGU6IG1vZHVsZTI5LCBmaWxlbmFtZTogJy4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpL3RhYnMvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXRvYXN0LS1pbmRleC5qcycsIG1vZHVsZTogbW9kdWxlMzAsIGZpbGVuYW1lOiAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvdG9hc3QvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXRvYXN0LWl0ZW0tLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUzMSwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90b2FzdF9pdGVtL2luZGV4LmpzJ30se25hbWU6ICcuLi0tLi4tLS4uLS0uLi0tLi4tLWFwcC0tdWktLWNvbXBvbmVudHMtLXJhaWxzLXVpLS10b2dnbGUtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUzMiwgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90b2dnbGUvaW5kZXguanMnfSx7bmFtZTogJy4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXRvb2x0aXAtLWluZGV4LmpzJywgbW9kdWxlOiBtb2R1bGUzMywgZmlsZW5hbWU6ICcuLi8uLi8uLi8uLi8uLi9hcHAvdWkvY29tcG9uZW50cy9yYWlsc191aS90b29sdGlwL2luZGV4LmpzJ31dXG4gICAgICAgIGV4cG9ydCBkZWZhdWx0IG1vZHVsZXM7XG4gICAgICAiLCAiLy8gVGhpcyBmaWxlIGlzIGF1dG8tZ2VuZXJhdGVkIGJ5IC4vYmluL3JhaWxzIHN0aW11bHVzOm1hbmlmZXN0OnVwZGF0ZVxuLy8gUnVuIHRoYXQgY29tbWFuZCB3aGVuZXZlciB5b3UgYWRkIGEgbmV3IGNvbnRyb2xsZXIgb3IgY3JlYXRlIHRoZW0gd2l0aFxuLy8gLi9iaW4vcmFpbHMgZ2VuZXJhdGUgc3RpbXVsdXMgY29udHJvbGxlck5hbWVcblxuaW1wb3J0IHsgYXBwbGljYXRpb24gfSBmcm9tIFwiLi9hcHBsaWNhdGlvblwiXG5cbmltcG9ydCBjb250cm9sbGVycyBmcm9tICcuLyoqLypfY29udHJvbGxlci5qcyc7XG5cbi8vIGltcG9ydCAnLi4vLi4vLi4vLi4vLi4vYXBwL3VpL2NvbXBvbmVudHMvcmFpbHNfdWkvaW5kZXguanMnXG5cblxuY29udHJvbGxlcnMuZm9yRWFjaCgoY29udHJvbGxlcikgPT4ge1xuICBhcHBsaWNhdGlvbi5yZWdpc3Rlcihjb250cm9sbGVyLm5hbWUsIGNvbnRyb2xsZXIubW9kdWxlLmRlZmF1bHQpO1xufSk7XG5cblxuaW1wb3J0IHVpQ29udHJvbGxlcnMgZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2FwcC91aS9jb21wb25lbnRzL3JhaWxzX3VpLyoqLyppbmRleC5qc1wiXG5cblxuY29uc29sZS5sb2codWlDb250cm9sbGVycylcblxudWlDb250cm9sbGVycy5mb3JFYWNoKChjb250cm9sbGVyKSA9PiB7XG4gIGlmKGNvbnRyb2xsZXIubW9kdWxlLmRlZmF1bHQpe1xuICAgIC8vIC4uLS0uLi0tLi4tLS4uLS0uLi0tYXBwLS11aS0tY29tcG9uZW50cy0tcmFpbHMtdWktLXNrZWxldG9uXG4gICAgbGV0IG5hbWUgPSBjb250cm9sbGVyLm5hbWUucmVwbGFjZShcIi0taW5kZXguanNcIiwgXCJcIilcbiAgICBuYW1lID0gbmFtZS5yZXBsYWNlKFwiLi4tLS4uLS0uLi0tLi4tLS4uLS1hcHAtLXVpLS1jb21wb25lbnRzLS1yYWlscy11aS0tXCIsIFwiXCIpXG4gICAgbmFtZSA9IGB1aS0ke25hbWV9YFxuICAgIGNvbnNvbGUubG9nKFwiQURESU5ERyBDT05UUk9MTEVSXCIsIG5hbWUpXG4gICAgYXBwbGljYXRpb24ucmVnaXN0ZXIobmFtZSwgY29udHJvbGxlci5tb2R1bGUuZGVmYXVsdCk7XG4gIH1cblxufSk7XG5cbmNvbnNvbGUubG9nKGFwcGxpY2F0aW9uKVxuXG5cblxuXG5cblxuXG5cbiIsICIvLyBFbnRyeSBwb2ludCBmb3IgdGhlIGJ1aWxkIHNjcmlwdCBpbiB5b3VyIHBhY2thZ2UuanNvblxuaW1wb3J0IHsgVHVyYm8gfSBmcm9tICdAaG90d2lyZWQvdHVyYm8tcmFpbHMnO1xud2luZG93LlR1cmJvID0gVHVyYm87XG5cbmltcG9ydCBcIi4vY29udHJvbGxlcnNcIlxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE1BQU87QUFBUDtBQUFBO0FBQUEsTUFBTyxtQkFBUTtBQUFBLFFBQ2IsUUFBUSxPQUFPLFlBQVksY0FBYyxVQUFVO0FBQUEsUUFDbkQsV0FBVyxPQUFPLGNBQWMsY0FBYyxZQUFZO0FBQUEsTUFDNUQ7QUFBQTtBQUFBOzs7QUNIQSxNQWNPO0FBZFA7QUFBQTtBQUFBO0FBY0EsTUFBTyxpQkFBUTtBQUFBLFFBQ2IsT0FBTyxVQUFVO0FBQ2YsY0FBSSxLQUFLLFNBQVM7QUFDaEIscUJBQVMsS0FBSyxLQUFLLElBQUksQ0FBQztBQUN4Qiw2QkFBUyxPQUFPLElBQUksaUJBQWlCLEdBQUcsUUFBUTtBQUFBLFVBQ2xEO0FBQUEsUUFDRjtBQUFBLE1BQ0Y7QUFBQTtBQUFBOzs7QUNyQkEsTUFLTSxLQUVBLGNBRUEsbUJBbUhDO0FBNUhQO0FBQUE7QUFBQTtBQUtBLE1BQU0sTUFBTSxPQUFNLG9CQUFJLEtBQUssR0FBRSxRQUFRO0FBRXJDLE1BQU0sZUFBZSxXQUFTLElBQUksSUFBSSxRQUFRO0FBRTlDLE1BQU0sb0JBQU4sTUFBd0I7QUFBQSxRQUN0QixZQUFZLFlBQVk7QUFDdEIsZUFBSyxzQkFBc0IsS0FBSyxvQkFBb0IsS0FBSyxJQUFJO0FBQzdELGVBQUssYUFBYTtBQUNsQixlQUFLLG9CQUFvQjtBQUFBLFFBQzNCO0FBQUEsUUFFQSxRQUFRO0FBQ04sY0FBSSxDQUFDLEtBQUssVUFBVSxHQUFHO0FBQ3JCLGlCQUFLLFlBQVksSUFBSTtBQUNyQixtQkFBTyxLQUFLO0FBQ1osaUJBQUssYUFBYTtBQUNsQiw2QkFBaUIsb0JBQW9CLEtBQUssbUJBQW1CO0FBQzdELDJCQUFPLElBQUksZ0RBQWdELEtBQUssWUFBWSxj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QUksSUFBSTtBQUM1QixVQUFNLE9BQU8sR0FBRyxVQUFVLEdBQUcsU0FBUyxLQUFLO0FBQzNDLFVBQU0sT0FBTyxHQUFHLFVBQVUsR0FBRyxTQUFTLEtBQUs7QUFDM0MsUUFBSSxVQUFVO0FBQ2QsYUFBUyxJQUFJLEdBQUcsSUFBSSxLQUFLLFFBQVEsS0FBSztBQUNwQyxVQUFJLEtBQUssUUFBUSxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUksV0FBVTtBQUFBLElBQzlDO0FBQ0EsV0FBTztBQUFBLEVBQ1Q7QUFHQSxNQUFNLFVBQVU7QUFBQSxJQUNkLFdBQVc7QUFBQSxJQUNYLFVBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLFVBQUs7QUFBQSxJQUNMLFFBQVE7QUFBQSxJQUNSLEtBQUs7QUFBQSxJQUNMLFFBQVE7QUFBQSxJQUNSLE9BQU87QUFBQSxJQUNQLE1BQU07QUFBQSxJQUNOLElBQUk7QUFBQSxJQUNKLE9BQU87QUFBQSxJQUNQLE1BQU07QUFBQSxJQUNOLEtBQUs7QUFBQSxJQUNMLFFBQVE7QUFBQSxJQUNSLEtBQUs7QUFBQSxJQUNMLFFBQVE7QUFBQSxJQUNSLE1BQU07QUFBQSxJQUNOLEtBQUs7QUFBQSxJQUNMLFFBQVE7QUFBQSxJQUNSLFVBQVU7QUFBQSxJQUNWLFVBQVU7QUFBQSxJQUNWLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLE9BQU87QUFBQSxJQUNQLGNBQWM7QUFBQSxJQUNkLFNBQVM7QUFBQSxJQUNULFdBQVc7QUFBQSxJQUNYLGNBQWM7QUFBQSxJQUNkLGFBQWE7QUFBQSxJQUNiLFlBQVk7QUFBQSxJQUNaLFVBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtBQUs7QUFBQSxJQUNMLEtB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LFdBQVcsS0FBSyxRQUFRLGNBQWMsRUFBRTtBQUNuRCxhQUFPLEtBQUssUUFBUSx1REFBdUQsRUFBRTtBQUM3RSxhQUFPLE1BQU0sSUFBSTtBQUNqQixjQUFRLElBQUksc0JBQXNCLElBQUk7QUFDdEMsa0JBQVksU0FBUyxNQUFNLFdBQVcsT0FBTyxPQUFPO0FBQUEsSUFDdEQ7QUFBQSxFQUVGLENBQUM7QUFFRCxVQUFRLElBQUksV0FBVzs7O0FDL0J2QixTQUFPLFFBQVE7IiwKICAibmFtZXMiOiBbImNvbnN1bWVyIiwgImVycm9yIiwgIm1lc3NhZ2UiLCAiY29uc3VtZXIiLCAiY29uc3VtZXIiLCAic3Vic2NyaXB0aW9uIiwgImlzV2luZG93IiwgInRoaW5nIiwgIldpbmRvdyIsICJyZWFsV2luZG93IiwgIndpbiIsICJpbml0IiwgIndpbmRvdyIsICJlbCIsICJkb2N1bWVudCIsICJjcmVhdGVUZXh0Tm9kZSIsICJvd25lckRvY3VtZW50IiwgIndyYXAiLCAiZ2V0V2luZG93IiwgIm5vZGUiLCAiZGVmYXVsdFZpZXciLCAib2JqZWN0IiwgIl90eXBlb2YiLCAiZnVuYyIsICJpcyIsICJkb2NGcmFnIiwgIm5vZGVUeXBlIiwgIm51bWJlciIsICJib29sIiwgInN0cmluZyIsICJlbGVtZW50IiwgIl93aW5kb3ciLCAidGVzdCIsICJFbGVtZW50IiwgIm5vZGVOYW1lIiwgInBsYWluT2JqZWN0IiwgImNvbnN0cnVjdG9yIiwgInRvU3RyaW5nIiwgImFycmF5IiwgImxlbmd0aCIsICJzcGxpY2UiLCAiYmVmb3JlTW92ZSIsICJfcmVmIiwgImludGVyYWN0aW9uIiwgInByZXBhcmVkIiwgIm5hbWUiLCAiYXhpcyIsICJjb29yZHMiLCAiY3VyIiwgInBhZ2UiLCAieSIsICJzdGFydCIsICJjbGllbnQiLCAidmVsb2NpdHkiLCAieCIsICJtb3ZlIiwgIl9yZWYyIiwgImlFdmVudCIsICJvcHBvc2l0ZSIsICJkZWx0YSIsICJkcmFnIiwgImlkIiwgImluc3RhbGwiLCAic2NvcGUiLCAiYWN0aW9ucyIsICJJbnRlcmFjdGFibGUiLCAiZGVmYXVsdHMiLCAicHJvdG90eXBlIiwgImRyYWdnYWJsZSIsICJtYXAiLCAibWV0aG9kRGljdCIsICJsaXN0ZW5lcnMiLCAiYXJnIiwgImludGVyYWN0YWJsZSIsICJidXR0b25zIiwgImRyYWdPcHRpb25zIiwgIm9wdGlvbnMiLCAiZW5hYmxlZCIsICJwb2ludGVySXNEb3duIiwgInBvaW50ZXJUeXBlIiwgIm1vdXNlQnV0dG9ucyIsICJhY3Rpb24iLCAibG9ja0F4aXMiLCAic3RhcnRBeGlzIiwgInRoaXMiLCAic2V0UGVyQWN0aW9uIiwgInNldE9uRXZlbnRzIiwgImdldEN1cnNvciIsICJmaWx0ZXJFdmVudFR5cGUiLCAidHlwZSIsICJzZWFyY2giLCAiZHJhZyQxIiwgImRvbU9iamVjdHMiLCAiRG9jdW1lbnRGcmFnbWVudCIsICJibGFuayIsICJTVkdFbGVtZW50IiwgIlNWR1NWR0VsZW1lbnQiLCAiU1ZHRWxlbWVudEluc3RhbmNlIiwgIkhUTUxFbGVtZW50IiwgIkV2ZW50IiwgIlRvdWNoIiwgIlBvaW50ZXJFdmVudCIsICJNU1BvaW50ZXJFdmVudCIsICJkb21PYmplY3RzJDEiLCAiYnJvd3NlciIsICJuYXZpZ2F0b3IiLCAic3VwcG9ydHNUb3VjaCIsICJEb2N1bWVudFRvdWNoIiwgInN1cHBvcnRzUG9pbnRlckV2ZW50IiwgInBvaW50ZXJFbmFibGVkIiwgImlzSU9TIiwgInBsYXRmb3JtIiwgImlzSU9TNyIsICJhcHBWZXJzaW9uIiwgImlzSWU5IiwgInVzZXJBZ2VudCIsICJpc09wZXJhTW9iaWxlIiwgImFwcE5hbWUiLCAicHJlZml4ZWRNYXRjaGVzU2VsZWN0b3IiLCAicEV2ZW50VHlwZXMiLCAidXAiLCAiZG93biIsICJvdmVyIiwgIm91dCIsICJjYW5jZWwiLCAid2hlZWxFdmVudCIsICJicm93c2VyJDEiLCAibm9kZUNvbnRhaW5zIiwgInBhcmVudCIsICJjaGlsZCIsICJjb250YWlucyIsICJwYXJlbnROb2RlIiwgImNsb3Nlc3QiLCAic2VsZWN0b3IiLCAibWF0Y2hlc1NlbGVjdG9yIiwgImhvc3QiLCAicmVwbGFjZSIsICJnZXRQYXJlbnQiLCAiZ2V0Tm9kZVBhcmVudHMiLCAibGltaXQiLCAicGFyZW50UGFyZW50IiwgInBhcmVudHMiLCAidW5zaGlmdCIsICJtYXRjaGVzVXBUbyIsICJnZXRBY3R1YWxFbGVtZW50IiwgImNvcnJlc3BvbmRpbmdVc2VFbGVtZW50IiwgImdldEVsZW1lbnRDbGllbnRSZWN0IiwgImNsaWVudFJlY3QiLCAiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwgImdldENsaWVudFJlY3RzIiwgImxlZnQiLCAicmlnaHQiLCAidG9wIiwgImJvdHRvbSIsICJ3aWR0aCIsICJoZWlnaHQiLCAiZ2V0RWxlbWVudFJlY3QiLCAicmVsZXZhbnRXaW5kb3ciLCAic2Nyb2xsIiwgInNjcm9sbFgiLCAiZG9jdW1lbnRFbGVtZW50IiwgInNjcm9sbExlZnQiLCAic2Nyb2xsWSIsICJzY3JvbGxUb3AiLCAiZ2V0UGF0aCIsICJwYXRoIiwgInB1c2giLCAidHJ5U2VsZWN0b3IiLCAidmFsdWUiLCAicXVlcnlTZWxlY3RvciIsICJleHRlbmQiLCAiZGVzdCIsICJzb3VyY2UiLCAicHJvcCIsICJnZXRTdHJpbmdPcHRpb25SZXN1bHQiLCAidGFyZ2V0IiwgImdldFJlY3QiLCAicmVzb2x2ZVJlY3RMaWtlIiwgImZ1bmN0aW9uQXJncyIsICJyZXR1cm5WYWx1ZSIsICJhcHBseSIsICJyZWN0VG9YWSIsICJyZWN0IiwgInRsYnJUb1h5d2giLCAiYWRkRWRnZXMiLCAiZWRnZXMiLCAiZ2V0T3JpZ2luWFkiLCAiYWN0aW9uTmFtZSIsICJhY3Rpb25PcHRpb25zIiwgIm9yaWdpbiIsICJub3JtYWxpemUiLCAiZmlsdGVyIiwgImFyZ3VtZW50cyIsICJfdHlwZU9yUHJlZml4IiwgInJlc3VsdCIsICJzcGxpdCIsICJmb3JFYWNoIiwgInQiLCAiX2kyIiwgIl9saXN0ZW5lcnMyIiwgImwiLCAicHJlZml4IiwgInAiLCAiY29uY2F0IiwgInRyaW0iLCAiaHlwb3QiLCAiTWF0aCIsICJzcXJ0IiwgIlZFTkRPUl9QUkVGSVhFUyIsICJwb2ludGVyRXh0ZW5kIiwgIl9fc2V0IiwgIl9sb29wIiwgInNvbWUiLCAiaW5kZXhPZiIsICJPYmplY3QiLCAiZGVmaW5lUHJvcGVydHkiLCAiZ2V0IiwgInNldCIsICJjb25maWd1cmFibGUiLCAiY29weUNvb3JkcyIsICJzcmMiLCAidGltZVN0YW1wIiwgInNldFplcm9Db29yZHMiLCAidGFyZ2V0T2JqIiwgImlzTmF0aXZlUG9pbnRlciIsICJwb2ludGVyIiwgImRvbSIsICJnZXRYWSIsICJ4eSIsICJnZXRQYWdlWFkiLCAiZ2V0UG9pbnRlcklkIiwgInBvaW50ZXJJZCIsICJpZGVudGlmaWVyIiwgInNldENvb3JkcyIsICJwb2ludGVycyIsICJwb2ludGVyQXZlcmFnZSIsICJnZXRUb3VjaFBhaXIiLCAiZXZlbnQiLCAidG91Y2hlcyIsICJjaGFuZ2VkVG91Y2hlcyIsICJhdmVyYWdlIiwgInBhZ2VYIiwgInBhZ2VZIiwgImNsaWVudFgiLCAiY2xpZW50WSIsICJzY3JlZW5YIiwgInNjcmVlblkiLCAidG91Y2hCQm94IiwgIm1pblgiLCAibWluIiwgIm1pblkiLCAibWF4WCIsICJtYXgiLCAibWF4WSIsICJ0b3VjaERpc3RhbmNlIiwgImRlbHRhU291cmNlIiwgInNvdXJjZVgiLCAic291cmNlWSIsICJkeCIsICJkeSIsICJ0b3VjaEFuZ2xlIiwgImF0YW4yIiwgIlBJIiwgImdldFBvaW50ZXJUeXBlIiwgInVuZGVmaW5lZCIsICJnZXRFdmVudFRhcmdldHMiLCAiY29tcG9zZWRQYXRoIiwgImRvbVV0aWxzIiwgImN1cnJlbnRUYXJnZXQiLCAiQmFzZUV2ZW50IiwgIl9jbGFzc0NhbGxDaGVjayIsICJpbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQiLCAicHJvcGFnYXRpb25TdG9wcGVkIiwgIl9pbnRlcmFjdGlvbiIsICJfY3JlYXRlQ2xhc3MiLCAia2V5IiwgIl9wcm94eSIsICJtZXJnZSIsICJpdGVtIiwgImZyb20iLCAiZmluZEluZGV4IiwgImkiLCAiZmluZCIsICJEcm9wRXZlbnQiLCAiX0Jhc2VFdmVudCIsICJfaW5oZXJpdHMiLCAiX3N1cGVyIiwgIl9jcmVhdGVTdXBlciIsICJkcm9wU3RhdGUiLCAiZHJhZ0V2ZW50IiwgIl90aGlzIiwgImNhbGwiLCAiZHJvcHpvbmUiLCAicmVsYXRlZFRhcmdldCIsICJwcmV2IiwgIl90aGlzMiIsICJyZWplY3RlZCIsICJldmVudHMiLCAiZW50ZXIiLCAic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwgImFjdGl2ZURyb3BzIiwgImluZGV4IiwgImFyciIsICJkZWFjdGl2YXRlRXZlbnQiLCAiZmlyZSIsICJmaXJlQWN0aXZhdGlvbkV2ZW50cyIsICJfaTYiLCAiX2FjdGl2ZURyb3BzJHNsaWNlMiIsICJzbGljZSIsICJfYWN0aXZlRHJvcHMkc2xpY2UyJF8iLCAiZ2V0QWN0aXZlRHJvcHMiLCAiZHJhZ0VsZW1lbnQiLCAiZHJhZ2dhYmxlRWxlbWVudCIsICJkcm9wcyIsICJfaW50ZXJhY3RhYmxlcyRsaXN0MiIsICJpbnRlcmFjdGFibGVzIiwgImxpc3QiLCAiZHJvcCIsICJhY2NlcHQiLCAiX2k0IiwgIl9kcm9wem9uZSRnZXRBbGxFbGVtZTIiLCAiZ2V0QWxsRWxlbWVudHMiLCAiZHJvcHpvbmVFbGVtZW50IiwgIl9pOCIsICJhY3RpdmVEcm9wIiwgImdldERyb3AiLCAicG9pbnRlckV2ZW50IiwgInZhbGlkRHJvcHMiLCAiX2kxMCIsICJfZHJvcFN0YXRlJGFjdGl2ZURyb3AyIiwgIl9kcm9wU3RhdGUkYWN0aXZlRHJvcDMiLCAiaXNWYWxpZCIsICJkcm9wQ2hlY2siLCAiZHJvcEluZGV4IiwgImVsZW1lbnRzIiwgImRlZXBlc3ROb2RlSW5kZXgiLCAiaGlnaGVyTm9kZSIsICJsb3dlck5vZGUiLCAiZGVlcGVzdE5vZGVQYXJlbnRzIiwgImN1cnJlbnROb2RlIiwgImRlZXBlc3ROb2RlIiwgImN1cnJlbnROb2RlUGFyZW50IiwgImRlZXBlc3ROb2RlUGFyZW50IiwgImFuY2VzdHJ5U3RhcnQiLCAib3duZXJTVkdFbGVtZW50IiwgImN1cnJlbnROb2RlUGFyZW50cyIsICJjb21tb25JbmRleCIsICJsYXN0Q2hpbGQiLCAicHJldmlvdXNTaWJsaW5nIiwgImhpZ2hlckluZGV4IiwgInBhcnNlSW50IiwgImdldENvbXB1dGVkU3R5bGUiLCAiekluZGV4IiwgImdldERyb3BFdmVudHMiLCAiX3BvaW50ZXJFdmVudCIsICJkcm9wRXZlbnRzIiwgImxlYXZlIiwgImFjdGl2YXRlIiwgImRlYWN0aXZhdGUiLCAiZHJhZ0xlYXZlIiwgInByZXZEcm9wem9uZSIsICJkcmFnRW50ZXIiLCAiZmlyZURyb3BFdmVudHMiLCAib25FdmVudENyZWF0ZWQiLCAiX3JlZjMiLCAiZHluYW1pY0Ryb3AiLCAiZHJvcFJlc3VsdCIsICJpbnRlcmFjdCIsICJpbnRlcmFjdFN0YXRpYyIsICJ1c2VQbHVnaW4iLCAibm9ybWFsaXplZCIsICJub3JtYWxpemVMaXN0ZW5lcnMiLCAiY29ycmVjdGVkIiwgImtleXMiLCAicmVkdWNlIiwgImFjYyIsICJwcmV2TGlzdGVuZXJzIiwgIm9mZiIsICJvbiIsICJvbmRyb3AiLCAib25kcm9wYWN0aXZhdGUiLCAib25kcm9wZGVhY3RpdmF0ZSIsICJvbmRyYWdlbnRlciIsICJvbmRyYWdsZWF2ZSIsICJvbmRyb3Btb3ZlIiwgIm92ZXJsYXAiLCAiY2hlY2tlciIsICJkcm9wRWxlbWVudCIsICJkcm9wcGVkIiwgImRyb3BPdmVybGFwIiwgInBvaW50ZXJVdGlscyIsICJob3Jpem9udGFsIiwgInZlcnRpY2FsIiwgImRyYWdSZWN0IiwgImN4IiwgImN5IiwgIm5ld1ZhbHVlIiwgInBoYXNlbGVzc1R5cGVzIiwgImRyYWdlbnRlciIsICJkcmFnbGVhdmUiLCAiZHJvcGFjdGl2YXRlIiwgImRyb3BkZWFjdGl2YXRlIiwgImRyb3Btb3ZlIiwgIl9yZWY0IiwgIl9yZWY1IiwgIl9yZWY2IiwgIl9yZWY3IiwgImRyb3AkMSIsICJ1cGRhdGVHZXN0dXJlUHJvcHMiLCAicGhhc2UiLCAic3RhcnRpbmciLCAiZW5kaW5nIiwgImRpc3RhbmNlIiwgImJveCIsICJzY2FsZSIsICJkcyIsICJhbmdsZSIsICJkYSIsICJnZXN0dXJlIiwgInN0YXJ0RGlzdGFuY2UiLCAic3RhcnRBbmdsZSIsICJwcmV2RXZlbnQiLCAiSW5maW5pdHkiLCAiaXNOYU4iLCAiYmVmb3JlIiwgImdlc3R1cmFibGUiLCAiZ2VzdHVyZU9wdGlvbnMiLCAiZ2VzdHVyZSQxIiwgImNoZWNrUmVzaXplRWRnZSIsICJpbnRlcmFjdGFibGVFbGVtZW50IiwgIm1hcmdpbiIsICJhYnMiLCAiZWRnZSIsICJ1cGRhdGVFdmVudEF4ZXMiLCAicmVzaXplQXhlcyIsICJyZXNpemVFdmVudCIsICJyZXNpemUiLCAic3F1YXJlIiwgImF4ZXMiLCAicmVxdWVzdCIsICJjdXJzb3JzIiwgInRvcGxlZnQiLCAiYm90dG9tcmlnaHQiLCAidG9wcmlnaHQiLCAiYm90dG9tbGVmdCIsICJkZWZhdWx0TWFyZ2luIiwgInJlc2l6YWJsZSIsICJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwgIl9yZWN0cyIsICJwcmV2aW91cyIsICJkZWx0YVJlY3QiLCAiaW52ZXJ0IiwgImludmVydGlibGUiLCAiY3VycmVudCIsICJfaW50ZXJhY3Rpb24kX3JlY3RzIiwgInN0YXJ0UmVjdCIsICJzd2FwIiwgInJlc2l6ZU9wdGlvbnMiLCAicmVzaXplRWRnZXMiLCAiX2xhdGVzdFBvaW50ZXIiLCAiZXZlbnRUYXJnZXQiLCAiTmFOIiwgImN1cnNvcktleSIsICJfcmVmOCIsICJyZXNpemUkMSIsICJsYXN0VGltZSIsICJyYWYiLCAiY2FsbGJhY2siLCAidG9rZW4iLCAiZ2xvYmFsIiwgInJlcXVlc3RBbmltYXRpb25GcmFtZSIsICJjYW5jZWxBbmltYXRpb25GcmFtZSIsICJ2ZW5kb3JzIiwgInZlbmRvciIsICJiaW5kIiwgImN1cnJUaW1lIiwgIkRhdGUiLCAibm93IiwgInRpbWVUb0NhbGwiLCAic2V0VGltZW91dCIsICJjbGVhclRpbWVvdXQiLCAiYXV0b1Njcm9sbCIsICJjb250YWluZXIiLCAic3BlZWQiLCAiaXNTY3JvbGxpbmciLCAicHJldlRpbWUiLCAic3RvcCIsICJnZXRDb250YWluZXIiLCAiZHQiLCAicyIsICJzY3JvbGxCeSIsICJwcmV2U2Nyb2xsIiwgImdldFNjcm9sbCIsICJjdXJTY3JvbGwiLCAiY2hlY2siLCAiX29wdGlvbnMkYWN0aW9uTmFtZSRhIiwgIm9uSW50ZXJhY3Rpb25Nb3ZlIiwgImludGVyYWN0aW5nIiwgInNpbXVsYXRpb24iLCAiaW5uZXJXaWR0aCIsICJpbm5lckhlaWdodCIsICJib2R5IiwgImF1dG9TY3JvbGxQbHVnaW4iLCAiYXV0b3Njcm9sbCIsICJwZXJBY3Rpb24iLCAiYXV0b1Njcm9sbCQxIiwgIndhcm5PbmNlIiwgIm1ldGhvZCIsICJtZXNzYWdlIiwgIndhcm5lZCIsICJjb25zb2xlIiwgIndhcm4iLCAiY29weUFjdGlvbiIsICJzdHlsZUN1cnNvciIsICJhY3Rpb25DaGVja2VyIiwgIkludGVyYWN0YWJsZU1ldGhvZHMiLCAiZ2V0QWN0aW9uIiwgImJ1dHRvbiIsICJpZ25vcmVGcm9tIiwgIl9iYWNrQ29tcGF0T3B0aW9uIiwgImFsbG93RnJvbSIsICJ2YWxpZGF0ZUFjdGlvbiIsICJ0ZXN0SWdub3JlQWxsb3ciLCAid2l0aGluSW50ZXJhY3Rpb25MaW1pdCIsICJ2YWxpZGF0ZU1hdGNoZXMiLCAibWF0Y2hlcyIsICJtYXRjaEVsZW1lbnRzIiwgImxlbiIsICJtYXRjaCIsICJtYXRjaEVsZW1lbnQiLCAibWF0Y2hBY3Rpb24iLCAiZ2V0QWN0aW9uSW5mbyIsICJwdXNoTWF0Y2hlcyIsICJmb3JFYWNoTWF0Y2giLCAiYWN0aW9uSW5mbyIsICJtYW51YWxTdGFydCIsICJwcmVwYXJlIiwgInNldEludGVyYWN0aW9uQ3Vyc29yIiwgIm1heEFjdGlvbnMiLCAibWF4UGVyRWxlbWVudCIsICJhdXRvU3RhcnRNYXgiLCAiYXV0b1N0YXJ0IiwgIm1heEludGVyYWN0aW9ucyIsICJhY3RpdmVJbnRlcmFjdGlvbnMiLCAiaW50ZXJhY3RhYmxlQ291bnQiLCAiZWxlbWVudENvdW50IiwgIl9zY29wZSRpbnRlcmFjdGlvbnMkbDIiLCAiaW50ZXJhY3Rpb25zIiwgIm90aGVyQWN0aW9uIiwgInNldEN1cnNvciIsICJjdXJzb3IiLCAicHJldkN1cnNvckVsZW1lbnQiLCAiY3Vyc29yRWxlbWVudCIsICJzdHlsZSIsICJjdXJzb3JDaGVja2VyIiwgIl9pbnRlcmFjdGluZyIsICJiYXNlIiwgInBvaW50ZXJXYXNNb3ZlZCIsICJhdXRvU3RhcnQkMiIsICJkcmFnQXhpcyIsICJhYnNYIiwgImFic1kiLCAidGFyZ2V0T3B0aW9ucyIsICJjdXJyZW50QXhpcyIsICJnZXREcmFnZ2FibGUiLCAiZG93blBvaW50ZXIiLCAiZG93bkV2ZW50IiwgInRoaXNBeGlzIiwgImdldEhvbGREdXJhdGlvbiIsICJob2xkIiwgImRlbGF5IiwgImJhc2VQbHVnaW4iLCAiYXV0b1N0YXJ0SG9sZFRpbWVyIiwgImR1cGxpY2F0ZSIsICJob2xkJDEiLCAicHJldmVudERlZmF1bHQiLCAib25JbnRlcmFjdGlvbkV2ZW50IiwgImNoZWNrQW5kUHJldmVudERlZmF1bHQiLCAiaW50ZXJhY3RhYmxlUHJldmVudERlZmF1bHQiLCAic2V0dGluZyIsICJzdXBwb3J0c1Bhc3NpdmUiLCAiZG9jIiwgImRvY09wdGlvbnMiLCAiZ2V0RG9jT3B0aW9ucyIsICJwYXNzaXZlIiwgImRvY0V2ZW50cyIsICJsaXN0ZW5lciIsICJldmVudFR5cGUiLCAiaXNOb25OYXRpdmVFdmVudCIsICJzdWJzdHIiLCAicGhhc2VzIiwgImNsb25lIiwgIk1vZGlmaWNhdGlvbiIsICJzdGF0ZXMiLCAic3RhcnRPZmZzZXQiLCAic3RhcnREZWx0YSIsICJlbmRSZXN1bHQiLCAic3RhcnRFZGdlcyIsICJjcmVhdGVSZXN1bHQiLCAicGFnZUNvb3JkcyIsICJtb2RpZmllckxpc3QiLCAiYWN0aW9uTW9kaWZpZXJzIiwgIm1vZGlmaWVycyIsICJtZXRob2RzIiwgIl9tZXRob2RzIiwgIm0iLCAicHJlcGFyZVN0YXRlcyIsICJmaWxsQXJnIiwgInByZUVuZCIsICJzdGFydEFsbCIsICJzZXRBbGwiLCAiX3RoaXMkc3RhdGVzMiIsICJzdGF0ZSIsICJza2lwTW9kaWZpZXJzIiwgInVubW9kaWZpZWRSZWN0IiwgInVubW9kaWZpZWRFZGdlcyIsICJuZXdSZXN1bHQiLCAiX3N0YXRlJG1ldGhvZHMiLCAibGFzdE1vZGlmaWVyQ29vcmRzIiwgInNob3VsZERvIiwgInJlY3RVdGlscyIsICJldmVudFByb3BzIiwgInJlY3REZWx0YSIsICJwcmV2Q29vcmRzIiwgInByZXZSZWN0IiwgInJlY3RDaGFuZ2VkIiwgImNoYW5nZWQiLCAiY3VyQ29vcmRzIiwgInN0YXJ0Q29vcmRzIiwgImN1ckRlbHRhIiwgIl9yZWYzJF9pIiwgImNvb3Jkc1NldCIsICJtb2RpZmllZENvb3JkcyIsICJhZGp1c3RtZW50IiwgImFwcGx5VG9JbnRlcmFjdGlvbiIsICJkb1ByZWVuZCIsICJlbmRQb3NpdGlvbiIsICJiZWZvcmVFbmQiLCAibW9kaWZpZXJBcmciLCAiX3RoaXMkc3RhdGVzNCIsICJfbW9kaWZpZXJMaXN0JGluZGV4IiwgIl9yZWY0JGludGVyYWN0aW9uIiwgIm1vZGlmaWNhdGlvbiIsICJfbW9kaWZpY2F0aW9uJHJlc3VsdCIsICJfaTEyIiwgIl9yZWY2JF9pIiwgInJlcXVpcmVFbmRPbmx5IiwgImVuZE9ubHkiLCAic2V0U3RhcnQiLCAib3RoZXIiLCAibWFrZU1vZGlmaWVyIiwgIm1vZHVsZSIsICJtb2RpZmllciIsICJfb3B0aW9ucyIsICJlbmFibGUiLCAiZGlzYWJsZSIsICJfZGVmYXVsdHMiLCAiYWRkRXZlbnRNb2RpZmllcnMiLCAibW9kaWZpZXJzQmFzZSIsICJyZXQiLCAic2V0QW5kQXBwbHkiLCAicmVzdG9yZUludGVyYWN0aW9uQ29vcmRzIiwgIkludGVyYWN0RXZlbnQiLCAiY3RybEtleSIsICJzaGlmdEtleSIsICJhbHRLZXkiLCAibWV0YUtleSIsICJ4MCIsICJ5MCIsICJ0MCIsICJkdXJhdGlvbiIsICJjbGllbnRYMCIsICJjbGllbnRZMCIsICJzd2lwZSIsICJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwgImRvd25UaW1lIiwgImdldFN3aXBlIiwgInZlbG9jaXR5WSIsICJ2ZWxvY2l0eVgiLCAiZGVmaW5lUHJvcGVydGllcyIsICJQb2ludGVySW5mbyIsICJkb3duVGFyZ2V0IiwgIl9Qcm94eVZhbHVlcyIsICJfUHJveHlNZXRob2RzIiwgImlkQ291bnRlciIsICJJbnRlcmFjdGlvbiIsICJzY29wZUZpcmUiLCAiX3Njb3BlRmlyZSIsICJfZW5kaW5nIiwgIl9zdG9wcGVkIiwgImRvTW92ZSIsICJzaWduYWxBcmciLCAiX2lkIiwgInRoYXQiLCAiX2xvb3AyIiwgIl9rZXkiLCAicG9pbnRlckluZGV4IiwgInVwZGF0ZVBvaW50ZXIiLCAicG9pbnRlckluZm8iLCAiX2RvUGhhc2UiLCAiZHVwbGljYXRlTW92ZSIsICJwb2ludGVyTW92ZVRvbGVyYW5jZSIsICJnZXRQb2ludGVySW5kZXgiLCAiY3VyRXZlbnRUYXJnZXQiLCAiZW5kIiwgInJlbW92ZVBvaW50ZXIiLCAiZW5kUGhhc2VSZXN1bHQiLCAiY3VyUG9pbnRlciIsICJfbm93IiwgIl91cGRhdGVMYXRlc3RQb2ludGVyIiwgIl90aGlzJGludGVyYWN0YWJsZSIsICJfY3JlYXRlUHJlcGFyZWRFdmVudCIsICJfZmlyZUV2ZW50IiwgImJlZm9yZUFjdGlvbiIsICJhcHBseVBlbmRpbmciLCAib2Zmc2V0IiwgInBlbmRpbmciLCAiYWRkVG9Db29yZHMiLCAib2Zmc2V0QnkiLCAidG90YWwiLCAib2Zmc2V0JDEiLCAiSW5lcnRpYVN0YXRlIiwgImFjdGl2ZSIsICJpc01vZGlmaWVkIiwgInNtb290aEVuZCIsICJhbGxvd1Jlc3VtZSIsICJtb2RpZmllckNvdW50IiwgInYwIiwgInRlIiwgInRhcmdldE9mZnNldCIsICJtb2RpZmllZE9mZnNldCIsICJjdXJyZW50T2Zmc2V0IiwgImxhbWJkYV92MCIsICJvbmVfdmVfdjAiLCAidGltZW91dCIsICJnZXRPcHRpb25zIiwgInZlbG9jaXR5Q2xpZW50IiwgInBvaW50ZXJTcGVlZCIsICJjb3B5RnJvbSIsICJtaW5TcGVlZCIsICJlbmRTcGVlZCIsICJzdGFydEluZXJ0aWEiLCAic3RhcnRTbW9vdGhFbmQiLCAic3RhcnRWZWxvY2l0eSIsICJsYW1iZGEiLCAicmVzaXN0YW5jZSIsICJpbmVydGlhRHVyIiwgImxvZyIsICJvbk5leHRGcmFtZSIsICJpbmVydGlhVGljayIsICJzbW9vdGhFbmRUaWNrIiwgInRpY2tGbiIsICJfdGhpczMiLCAic3RhcnRYIiwgInN0YXJ0WSIsICJjcFgiLCAiY3BZIiwgImVuZFgiLCAiZW5kWSIsICJwb3NpdGlvbiIsICJfdGhpczQiLCAibmV3T2Zmc2V0IiwgInByb2dyZXNzIiwgImV4cCIsICJfZ2V0UUJlemllclZhbHVlIiwgIl90aGlzNSIsICJzbW9vdGhFbmREdXJhdGlvbiIsICJlYXNlT3V0UXVhZCIsICJpbmVydGlhIiwgImluZXJ0aWFzdGFydCIsICJyZXN1bWUiLCAicDEiLCAicDIiLCAicDMiLCAiaVQiLCAiYiIsICJjIiwgImQiLCAiaW5lcnRpYSQxIiwgImZpcmVVbnRpbEltbWVkaWF0ZVN0b3BwZWQiLCAiRXZlbnRhYmxlIiwgInR5cGVzIiwgImV2ZW50TGlzdCIsICJfbGlzdGVuZXJzJHR5cGUyIiwgInN1Ykxpc3RlbmVyIiwgIl9lbGVtZW50IiwgIkZha2VFdmVudCIsICJvcmlnaW5hbEV2ZW50IiwgInBFeHRlbmQiLCAic3RvcFByb3BhZ2F0aW9uIiwgInBhcmFtIiwgImNhcHR1cmUiLCAib3B0aW9uc01hdGNoIiwgImEiLCAiX3Njb3BlJGRvY3VtZW50IiwgInRhcmdldHMiLCAiZGVsZWdhdGVkRXZlbnRzIiwgImRvY3VtZW50cyIsICJldmVudHNNZXRob2RzIiwgImFkZCIsICJyZW1vdmUiLCAiYWRkRGVsZWdhdGUiLCAiY29udGV4dCIsICJvcHRpb25hbEFyZyIsICJfaTMiLCAiZGVsZWdhdGVMaXN0ZW5lciIsICJkZWxlZ2F0ZVVzZUNhcHR1cmUiLCAiZGVsZWdhdGVzIiwgImRlbGVnYXRlIiwgInJlbW92ZURlbGVnYXRlIiwgIm1hdGNoRm91bmQiLCAiZW50cnkiLCAic3VwcG9ydHNPcHRpb25zIiwgImFkZEV2ZW50TGlzdGVuZXIiLCAicmVtb3ZlRXZlbnRMaXN0ZW5lciIsICJ0YXJnZXRJbmRleCIsICJ0eXBlSXNFbXB0eSIsICJ0eXBlTGlzdGVuZXJzIiwgImhhc093blByb3BlcnR5IiwgImZha2VFdmVudCIsICJfaTUiLCAiY3JlYXRlRWxlbWVudCIsICJmaW5kZXIiLCAibWV0aG9kT3JkZXIiLCAiZGV0YWlscyIsICJfZmluZGVyJG1ldGhvZE9yZGVyMiIsICJzaW11bGF0aW9uUmVzdW1lIiwgIm1vdXNlT3JQZW4iLCAiZmlyc3ROb25BY3RpdmUiLCAiX3Njb3BlJGludGVyYWN0aW9ucyRsNCIsICJoYXNQb2ludGVySWQiLCAiX3Njb3BlJGludGVyYWN0aW9ucyRsNiIsICJoYXNQb2ludGVyIiwgIl9zY29wZSRpbnRlcmFjdGlvbnMkbDgiLCAiaWRsZSIsICJfc2NvcGUkaW50ZXJhY3Rpb25zJGwxMCIsICJmaW5kZXIkMSIsICJtZXRob2ROYW1lcyIsICJkb09uSW50ZXJhY3Rpb25zIiwgIl9wb2ludGVyVXRpbHMkZ2V0RXZlbiIsICJwcmV2VG91Y2hUaW1lIiwgIl9ldmVudCRjaGFuZ2VkVG91Y2hlczIiLCAiY2hhbmdlZFRvdWNoIiwgInNlYXJjaERldGFpbHMiLCAiZ2V0SW50ZXJhY3Rpb24iLCAiaW52YWxpZFBvaW50ZXIiLCAiX21hdGNoZXMkX2kiLCAibmV3IiwgIm9uRG9jU2lnbmFsIiwgImV2ZW50TWV0aG9kTmFtZSIsICJldmVudE1ldGhvZCIsICJldmVudE9wdGlvbnMiLCAiX2kxNCIsICJfZG9jRXZlbnRzJF9pIiwgInJlbGVhc2VQb2ludGVyc09uUmVtb3ZlZEVscyIsICJfaW50ZXJhY3Rpb24kcG9pbnRlcnMyIiwgInBvaW50ZXJEb3duIiwgInBvaW50ZXJNb3ZlIiwgInBvaW50ZXJVcCIsICJkb2N1bWVudEJsdXIiLCAiX0ludGVyYWN0aW9uQmFzZSIsICJfY2xhc3MiLCAiSW50ZXJhY3Rpb25CYXNlIiwgImRlc3Ryb3kiLCAiaW50ZXJhY3Rpb25zJDEiLCAiT25PZmZNZXRob2QiLCAiZGVmYXVsdENvbnRleHQiLCAic2NvcGVFdmVudHMiLCAiX2FjdGlvbnMiLCAiX2NvbnRleHQiLCAiX3dpbiIsICJfZG9jIiwgIl9zY29wZUV2ZW50cyIsICJvbnN0YXJ0IiwgIm9ubW92ZSIsICJvbmVuZCIsICJvbmluZXJ0aWFzdGFydCIsICJfdGhpcyRfYWN0aW9ucyRtYXAkYWMiLCAiYWN0aW9uRmlsdGVyIiwgIl9vbk9mZiIsICJPZmYiLCAiT24iLCAib3B0aW9uTmFtZV8iLCAib3B0aW9uTmFtZSIsICJvcHRpb25WYWx1ZSIsICJ1cGRhdGVQZXJBY3Rpb25MaXN0ZW5lcnMiLCAiQXJyYXkiLCAicXVlcnlTZWxlY3RvckFsbCIsICJ0YXJnZXROb2RlIiwgInRlc3RJZ25vcmUiLCAidGVzdEFsbG93IiwgInR5cGVBcmciLCAibGlzdGVuZXJBcmciLCAiX2xpc3RlbmVycyRfdHlwZTIiLCAiYWN0aW9uTmFtZV8iLCAibWV0aG9kTmFtZSIsICJyZWN0Q2hlY2tlciIsICJkZWxlZ2F0ZWQiLCAiX2RlbGVnYXRlZCRpIiwgIkludGVyYWN0YWJsZVNldCIsICJzZWxlY3Rvck1hcCIsICJhZGRMaXN0ZW5lcnMiLCAiaW50ZXJhY3RhYmxlc09uVGFyZ2V0IiwgImFkZERvY3VtZW50IiwgImlzU2VsZWN0b3IiLCAiaW5Db250ZXh0IiwgIl90aGlzJGxpc3QyIiwgIlNjb3BlIiwgImZsb29yIiwgInJhbmRvbSIsICJpc0luaXRpYWxpemVkIiwgImxpc3RlbmVyTWFwcyIsICJnZXRFeGlzdGluZyIsICJnbG9iYWxFdmVudHMiLCAiZ2V0UG9pbnRlckF2ZXJhZ2UiLCAiZ2V0VG91Y2hCQm94IiwgImdldFRvdWNoRGlzdGFuY2UiLCAiZ2V0VG91Y2hBbmdsZSIsICJ2ZXJzaW9uIiwgInByb2Nlc3MiLCAidXNlIiwgInBsdWdpbiIsICJpc1NldCIsICJfdHlwZTIiLCAiZGVidWciLCAiX3RoaXMkc2NvcGUkaW50ZXJhY3RpMiIsICJyZW1vdmVEb2N1bWVudCIsICJfcGx1Z2lucyIsICJvbldpbmRvd1VubG9hZCIsICJfSW50ZXJhY3RhYmxlQmFzZSIsICJfY2xhc3MyIiwgIl9nZXQiLCAiX2dldFByb3RvdHlwZU9mIiwgIkludGVyYWN0YWJsZUJhc2UiLCAiX3RoaXMkbGlzdGVuZXJNYXBzMiIsICJwbHVnaW5Jc0luc3RhbGxlZCIsICJwbHVnaW5JZFJvb3QiLCAib3RoZXJJZCIsICJnZXREb2NJbmRleCIsICJkb2NJbmRleCIsICJpbnRlcmFjdCQxIiwgIl9nbG9iYWwiLCAiZ2xvYmFsVGhpcyIsICJncmlkIiwgImNvb3JkRmllbGRzIiwgInhGaWVsZCIsICJ5RmllbGQiLCAiZ3JpZEZ1bmMiLCAicmFuZ2UiLCAiX2dyaWQkbGltaXRzIiwgImxpbWl0cyIsICJfZ3JpZCRvZmZzZXQiLCAiX2Nvb3JkRmllbGRzJF9pIiwgImdyaWR4IiwgInJvdW5kIiwgImdyaWR5IiwgInNuYXBwZXJzUGx1Z2luIiwgInNuYXBwZXJzIiwgImFsbFNuYXBwZXJzIiwgImNyZWF0ZVNuYXBHcmlkIiwgImFzcGVjdFJhdGlvIiwgIl9zdGF0ZSRvcHRpb25zIiwgInJhdGlvIiwgIl9zdGF0ZSRvcHRpb25zMiIsICJlcXVhbERlbHRhIiwgImxpbmtlZEVkZ2VzIiwgInhJc1ByaW1hcnlBeGlzIiwgInNpZ24iLCAiZWRnZVNpZ24iLCAic3ViTW9kaWZpY2F0aW9uIiwgIl9vYmplY3RTcHJlYWQiLCAiaW5pdGlhbENvb3JkcyIsICJhc3BlY3RNZXRob2QiLCAic2V0RXF1YWxEZWx0YSIsICJzZXRSYXRpbyIsICJjb3JyZWN0ZWRSZWN0IiwgIm5ld0hlaWdodCIsICJuZXdXaWR0aCIsICJhc3BlY3RSYXRpbyQxIiwgIm5vb3AiLCAicnViYmVyYmFuZCIsICJnZXRSZXN0cmljdGlvblJlY3QiLCAicmVzdHJpY3QiLCAiZWxlbWVudFJlY3QiLCAicmVzdHJpY3Rpb24iLCAid2lkdGhEaWZmIiwgImhlaWdodERpZmYiLCAicmVzdHJpY3QkMSIsICJub0lubmVyIiwgIm5vT3V0ZXIiLCAiZml4UmVjdCIsICJyZXN0cmljdEVkZ2VzIiwgImlubmVyIiwgIm91dGVyIiwgInJlc3RyaWN0RWRnZXMkMSIsICJfIiwgInJlc3RyaWN0UmVjdCQxIiwgIm5vTWluIiwgIm5vTWF4IiwgInJlc3RyaWN0U2l6ZSQxIiwgIm1pblNpemUiLCAibWF4U2l6ZSIsICJzbmFwIiwgInNuYXBPZmZzZXQiLCAib2Zmc2V0V2l0aE9yaWdpbiIsICJvcHRpb25zT3JpZ2luIiwgIm9mZnNldFJlY3QiLCAicmVsYXRpdmVQb2ludHMiLCAib2Zmc2V0cyIsICJyZWxhdGl2ZVBvaW50IiwgInJlbGF0aXZlWCIsICJyZWxhdGl2ZVkiLCAic25hcFRhcmdldCIsICJpblJhbmdlIiwgInNuYXAkMSIsICJzbmFwU2l6ZSIsICJ0YXJnZXRGaWVsZHMiLCAicmVsYXRpdmUiLCAiX3N0YXRlJHRhcmdldEZpZWxkczIiLCAiX3N0YXRlJHRhcmdldEZpZWxkczIkIiwgInNuYXBTaXplJDEiLCAiYWxsIiwgInJlc3RyaWN0UmVjdCIsICJyZXN0cmljdFNpemUiLCAic25hcEVkZ2VzIiwgInNwcmluZyIsICJhdm9pZCIsICJ0cmFuc2Zvcm0iLCAiX2FsbCIsICJtb2RpZmllcnMkMSIsICJpbnRlcnZhbCIsICJ0YXBUaW1lIiwgImRvdWJsZSIsICJwcmV2VGFwIiwgIm9yaWdpblgiLCAib3JpZ2luWSIsICJwb2ludGVyRXZlbnRzIiwgImNsZWFySG9sZCIsICJ0aW1lciIsICJtaW5EdXJhdGlvbiIsICJfc2lnbmFsQXJnJHRhcmdldHMyIiwgImhvbGREdXJhdGlvbiIsICJldmVudGFibGUiLCAiY29sbGVjdEV2ZW50VGFyZ2V0cyIsICJ0YXAiLCAiZG91YmxldGFwIiwgIl9hcmckdGFyZ2V0cyIsICJwcm9wcyIsICJfc3VidHJhY3RPcmlnaW4iLCAiX2FkZE9yaWdpbiIsICJfaW50ZXJhY3Rpb24kcG9pbnRlcnMiLCAiZW5kSG9sZFJlcGVhdCIsICJob2xkSW50ZXJ2YWxIYW5kbGUiLCAiY2xlYXJJbnRlcnZhbCIsICJob2xkUmVwZWF0IiwgImhvbGRSZXBlYXRJbnRlcnZhbCIsICJob2xkcmVwZWF0IiwgImVuZGVyVHlwZXMiLCAiY291bnQiLCAiaG9sZFJlcGVhdCQxIiwgIl9fYmFja0NvbXBhdE9wdGlvbiIsICJpbnRlcmFjdGFibGVUYXJnZXRzIiwgInJlZmxvdyIsICJQcm9taXNlIiwgInByb21pc2VzIiwgInJlZmxvd1Byb21pc2UiLCAicnVubmluZ0ludGVyYWN0aW9uIiwgIl9yZWZsb3dQcm9taXNlIiwgInJlc29sdmUiLCAiX3JlZmxvd1Jlc29sdmUiLCAieHl3aCIsICJ0aGVuIiwgInJlZmxvdyQxIiwgImRlZmF1bHQiLCAiZXhwb3J0cyIsICJfdW51c2VkIiwgIm1lc3NhZ2UiLCAibG9jYXRpb24iLCAibWF0Y2giLCAiZXJyb3IiLCAiY29va2llIiwgInNlc3Npb24iLCAidmlzaXQiLCAicG90ZW50aWFsTWF0Y2giLCAic2l6ZSIsICJyZWNlbnRSZXF1ZXN0cyIsICJmaW5kRnJhbWVFbGVtZW50X2ZuIiwgImRvY3VtZW50IiwgImNyZWF0ZUNvbnN1bWVyIiwgImV4dGVuZGVkRXZlbnQiLCAiYXBwbGljYXRpb24iLCAiZXJyb3IiLCAibWVzc2FnZSIsICJtYXRjaCIsICJzaGlmdCIsICJmaWx0ZXIiLCAic2l6ZSIsICJtYXRjaCIsICJvbGRWYWx1ZSIsICJlcnJvciIsICJjb25zdHJ1Y3RvciIsICJtZXNzYWdlIiwgImV4dGVuZCIsICJhcHBsaWNhdGlvbiIsICJlbGVtZW50IiwgImZpbHRlciIsICJkaXNwYXRjaEV2ZW50IiwgImRlZmF1bHRPcHRpb25zIiwgImVudGVyIiwgImdldEF0dHJpYnV0ZSIsICJyZW1vdmVDbGFzc2VzIiwgInRyYW5zaXRpb24iLCAibGVhdmUiLCAiaGlkZGVuQ2xhc3MiLCAicHJlc2VydmVPcmlnaW5hbENsYXNzIiwgImFkZENsYXNzZXMiLCAibmV4dEFuaW1hdGlvbkZyYW1lIiwgImRlZmF1bHRPcHRpb25zIiwgImRlZmF1bHRPcHRpb25zIiwgImRlZmF1bHRPcHRpb25zIiwgImZvcm1hdCIsICJkZWZhdWx0T3B0aW9ucyIsICJkZWZhdWx0T3B0aW9ucyIsICJsb2NhbGl6ZSIsICJvZmZzZXQiLCAiZm9ybWF0TG9uZyIsICJmb3JtYXQiLCAiZGVmYXVsdE9wdGlvbnMiLCAic3RhcnQiLCAib2Zmc2V0IiwgImRpc3BhdGNoIiwgImRlZmF1bHRPcHRpb25zIiwgIm1lc3NhZ2UiLCAiZGlzcGF0Y2hFdmVudCIsICJob3RrZXlzIiwgInN0YXJ0IiwgInBsYXRmb3JtIiwgIm1heCIsICJvZmZzZXQiLCAicGxhdGZvcm0iLCAicGxhY2VtZW50cyIsICJzaWRlcyIsICJzaWRlIiwgInBsYWNlbWVudCIsICJvdmVyZmxvdyIsICJwbGF0Zm9ybSIsICJ4IiwgInkiLCAibWluIiwgIm1heCIsICJnZXRDb21wdXRlZFN0eWxlIiwgImdldENvbXB1dGVkU3R5bGUiLCAiY2FjaGUiLCAib2Zmc2V0IiwgInNoaWZ0IiwgImZsaXAiLCAiYXJyb3ciLCAiY29tcHV0ZVBvc2l0aW9uIiwgImNhY2hlIiwgImNvbXB1dGVQb3NpdGlvbiIsICJvZmZzZXQiLCAiZmxpcCIsICJzaGlmdCIsICJjb21wdXRlUG9zaXRpb24iLCAib2Zmc2V0IiwgImZsaXAiLCAic2hpZnQiLCAiY29tcHV0ZVBvc2l0aW9uIiwgIm9mZnNldCIsICJmbGlwIiwgInNoaWZ0IiwgIm9mZnNldCIsICJmbGlwIiwgInNoaWZ0IiwgImFycm93IiwgImNvbXB1dGVQb3NpdGlvbiIsICJpbnRlcmFjdCIsICJDb250cm9sbGVyIiwgIkNvbnRyb2xsZXIiLCAiRmV0Y2hSZXNwb25zZSIsICJnZXRDb29raWUiLCAiY29va2llIiwgIkZldGNoUmVxdWVzdCIsICJlcnJvciIsICJmZXRjaCIsICJGZXRjaFJlc3BvbnNlIiwgImdldENvb2tpZSIsICJGZXRjaFJlcXVlc3QiLCAiZXJyb3IiLCAidHJhbnNpdGlvbiIsICJzdGFydCIsICJhZnRlclRyYW5zaXRpb24iLCAiY29tcHV0ZVBvc2l0aW9uIiwgIm9mZnNldCIsICJmbGlwIiwgInNoaWZ0IiwgImFycm93IiwgIm1vZHVsZXMiXQp9Cg==
